var rN=n=>{throw TypeError(n)};var r1=(n,e,t)=>e.has(n)||rN("Cannot "+t);var q=(n,e,t)=>(r1(n,e,"read from private field"),t?t.call(n):e.get(n)),Me=(n,e,t)=>e.has(n)?rN("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Se=(n,e,t,r)=>(r1(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),et=(n,e,t)=>(r1(n,e,"access private method"),t);var Py=(n,e,t,r)=>({set _(i){Se(n,e,i,t)},get _(){return q(n,e,r)}});function gH(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function H4(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var K4={exports:{}},rb={},J4={exports:{}},st={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bO=Symbol.for("react.element"),OH=Symbol.for("react.portal"),yH=Symbol.for("react.fragment"),vH=Symbol.for("react.strict_mode"),xH=Symbol.for("react.profiler"),wH=Symbol.for("react.provider"),bH=Symbol.for("react.context"),SH=Symbol.for("react.forward_ref"),kH=Symbol.for("react.suspense"),_H=Symbol.for("react.memo"),TH=Symbol.for("react.lazy"),iN=Symbol.iterator;function PH(n){return n===null||typeof n!="object"?null:(n=iN&&n[iN]||n["@@iterator"],typeof n=="function"?n:null)}var e5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},t5=Object.assign,n5={};function _f(n,e,t){this.props=n,this.context=e,this.refs=n5,this.updater=t||e5}_f.prototype.isReactComponent={};_f.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};_f.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function r5(){}r5.prototype=_f.prototype;function qE(n,e,t){this.props=n,this.context=e,this.refs=n5,this.updater=t||e5}var ZE=qE.prototype=new r5;ZE.constructor=qE;t5(ZE,_f.prototype);ZE.isPureReactComponent=!0;var sN=Array.isArray,i5=Object.prototype.hasOwnProperty,FE={current:null},s5={key:!0,ref:!0,__self:!0,__source:!0};function o5(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)i5.call(e,r)&&!s5.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:bO,type:n,key:s,ref:o,props:i,_owner:FE.current}}function CH(n,e){return{$$typeof:bO,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function BE(n){return typeof n=="object"&&n!==null&&n.$$typeof===bO}function EH(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var oN=/\/+/g;function i1(n,e){return typeof n=="object"&&n!==null&&n.key!=null?EH(""+n.key):e.toString(36)}function L0(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case bO:case OH:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+i1(o,0):r,sN(i)?(t="",n!=null&&(t=n.replace(oN,"$&/")+"/"),L0(i,e,t,"",function(c){return c})):i!=null&&(BE(i)&&(i=CH(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(oN,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",sN(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+i1(s,a);o+=L0(s,e,t,l,i)}else if(l=PH(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+i1(s,a++),o+=L0(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Cy(n,e,t){if(n==null)return n;var r=[],i=0;return L0(n,r,"","",function(s){return e.call(t,s,i++)}),r}function AH(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Yr={current:null},U0={transition:null},RH={ReactCurrentDispatcher:Yr,ReactCurrentBatchConfig:U0,ReactCurrentOwner:FE};function a5(){throw Error("act(...) is not supported in production builds of React.")}st.Children={map:Cy,forEach:function(n,e,t){Cy(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Cy(n,function(){e++}),e},toArray:function(n){return Cy(n,function(e){return e})||[]},only:function(n){if(!BE(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};st.Component=_f;st.Fragment=yH;st.Profiler=xH;st.PureComponent=qE;st.StrictMode=vH;st.Suspense=kH;st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RH;st.act=a5;st.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=t5({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=FE.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)i5.call(e,l)&&!s5.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:bO,type:n.type,key:i,ref:s,props:r,_owner:o}};st.createContext=function(n){return n={$$typeof:bH,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:wH,_context:n},n.Consumer=n};st.createElement=o5;st.createFactory=function(n){var e=o5.bind(null,n);return e.type=n,e};st.createRef=function(){return{current:null}};st.forwardRef=function(n){return{$$typeof:SH,render:n}};st.isValidElement=BE;st.lazy=function(n){return{$$typeof:TH,_payload:{_status:-1,_result:n},_init:AH}};st.memo=function(n,e){return{$$typeof:_H,type:n,compare:e===void 0?null:e}};st.startTransition=function(n){var e=U0.transition;U0.transition={};try{n()}finally{U0.transition=e}};st.unstable_act=a5;st.useCallback=function(n,e){return Yr.current.useCallback(n,e)};st.useContext=function(n){return Yr.current.useContext(n)};st.useDebugValue=function(){};st.useDeferredValue=function(n){return Yr.current.useDeferredValue(n)};st.useEffect=function(n,e){return Yr.current.useEffect(n,e)};st.useId=function(){return Yr.current.useId()};st.useImperativeHandle=function(n,e,t){return Yr.current.useImperativeHandle(n,e,t)};st.useInsertionEffect=function(n,e){return Yr.current.useInsertionEffect(n,e)};st.useLayoutEffect=function(n,e){return Yr.current.useLayoutEffect(n,e)};st.useMemo=function(n,e){return Yr.current.useMemo(n,e)};st.useReducer=function(n,e,t){return Yr.current.useReducer(n,e,t)};st.useRef=function(n){return Yr.current.useRef(n)};st.useState=function(n){return Yr.current.useState(n)};st.useSyncExternalStore=function(n,e,t){return Yr.current.useSyncExternalStore(n,e,t)};st.useTransition=function(){return Yr.current.useTransition()};st.version="18.3.1";J4.exports=st;var b=J4.exports;const rt=H4(b),l5=gH({__proto__:null,default:rt},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QH=b,IH=Symbol.for("react.element"),$H=Symbol.for("react.fragment"),NH=Object.prototype.hasOwnProperty,jH=QH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,DH={key:!0,ref:!0,__self:!0,__source:!0};function c5(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)NH.call(e,r)&&!DH.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:IH,type:n,key:s,ref:o,props:i,_owner:jH.current}}rb.Fragment=$H;rb.jsx=c5;rb.jsxs=c5;K4.exports=rb;var d=K4.exports,u5={exports:{}},qi={},h5={exports:{}},d5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(D,L){var Y=D.length;D.push(L);e:for(;0<Y;){var F=Y-1>>>1,Z=D[F];if(0<i(Z,L))D[F]=L,D[Y]=Z,Y=F;else break e}}function t(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var L=D[0],Y=D.pop();if(Y!==L){D[0]=Y;e:for(var F=0,Z=D.length,G=Z>>>1;F<G;){var J=2*(F+1)-1,ae=D[J],oe=J+1,re=D[oe];if(0>i(ae,Y))oe<Z&&0>i(re,ae)?(D[F]=re,D[oe]=Y,F=oe):(D[F]=ae,D[J]=Y,F=J);else if(oe<Z&&0>i(re,Y))D[F]=re,D[oe]=Y,F=oe;else break e}}return L}function i(D,L){var Y=D.sortIndex-L.sortIndex;return Y!==0?Y:D.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,f=3,m=!1,g=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(D){for(var L=t(c);L!==null;){if(L.callback===null)r(c);else if(L.startTime<=D)r(c),L.sortIndex=L.expirationTime,e(l,L);else break;L=t(c)}}function I(D){if(y=!1,T(D),!g)if(t(l)!==null)g=!0,U(C);else{var L=t(c);L!==null&&W(I,L.startTime-D)}}function C(D,L){g=!1,y&&(y=!1,S(w),w=-1),m=!0;var Y=f;try{for(T(L),h=t(l);h!==null&&(!(h.expirationTime>L)||D&&!P());){var F=h.callback;if(typeof F=="function"){h.callback=null,f=h.priorityLevel;var Z=F(h.expirationTime<=L);L=n.unstable_now(),typeof Z=="function"?h.callback=Z:h===t(l)&&r(l),T(L)}else r(l);h=t(l)}if(h!==null)var G=!0;else{var J=t(c);J!==null&&W(I,J.startTime-L),G=!1}return G}finally{h=null,f=Y,m=!1}}var Q=!1,O=null,w=-1,k=5,R=-1;function P(){return!(n.unstable_now()-R<k)}function v(){if(O!==null){var D=n.unstable_now();R=D;var L=!0;try{L=O(!0,D)}finally{L?A():(Q=!1,O=null)}}else Q=!1}var A;if(typeof _=="function")A=function(){_(v)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,V=j.port2;j.port1.onmessage=v,A=function(){V.postMessage(null)}}else A=function(){x(v,0)};function U(D){O=D,Q||(Q=!0,A())}function W(D,L){w=x(function(){D(n.unstable_now())},L)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_continueExecution=function(){g||m||(g=!0,U(C))},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(D){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var Y=f;f=L;try{return D()}finally{f=Y}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(D,L){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var Y=f;f=D;try{return L()}finally{f=Y}},n.unstable_scheduleCallback=function(D,L,Y){var F=n.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?F+Y:F):Y=F,D){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=Y+Z,D={id:u++,callback:L,priorityLevel:D,startTime:Y,expirationTime:Z,sortIndex:-1},Y>F?(D.sortIndex=Y,e(c,D),t(l)===null&&D===t(c)&&(y?(S(w),w=-1):y=!0,W(I,Y-F))):(D.sortIndex=Z,e(l,D),g||m||(g=!0,U(C))),D},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(D){var L=f;return function(){var Y=f;f=L;try{return D.apply(this,arguments)}finally{f=Y}}}})(d5);h5.exports=d5;var MH=h5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VH=b,zi=MH;function le(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f5=new Set,Lm={};function nh(n,e){Nd(n,e),Nd(n+"Capture",e)}function Nd(n,e){for(Lm[n]=e,n=0;n<e.length;n++)f5.add(e[n])}var ja=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),C_=Object.prototype.hasOwnProperty,LH=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,aN={},lN={};function UH(n){return C_.call(lN,n)?!0:C_.call(aN,n)?!1:LH.test(n)?lN[n]=!0:(aN[n]=!0,!1)}function zH(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function qH(n,e,t,r){if(e===null||typeof e>"u"||zH(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Hr(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var mr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){mr[n]=new Hr(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];mr[e]=new Hr(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){mr[n]=new Hr(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){mr[n]=new Hr(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){mr[n]=new Hr(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){mr[n]=new Hr(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){mr[n]=new Hr(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){mr[n]=new Hr(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){mr[n]=new Hr(n,5,!1,n.toLowerCase(),null,!1,!1)});var WE=/[\-:]([a-z])/g;function XE(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(WE,XE);mr[e]=new Hr(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(WE,XE);mr[e]=new Hr(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(WE,XE);mr[e]=new Hr(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){mr[n]=new Hr(n,1,!1,n.toLowerCase(),null,!1,!1)});mr.xlinkHref=new Hr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){mr[n]=new Hr(n,1,!1,n.toLowerCase(),null,!0,!0)});function GE(n,e,t,r){var i=mr.hasOwnProperty(e)?mr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qH(e,t,i,r)&&(t=null),r||i===null?UH(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var tl=VH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ey=Symbol.for("react.element"),Ih=Symbol.for("react.portal"),$h=Symbol.for("react.fragment"),YE=Symbol.for("react.strict_mode"),E_=Symbol.for("react.profiler"),p5=Symbol.for("react.provider"),m5=Symbol.for("react.context"),HE=Symbol.for("react.forward_ref"),A_=Symbol.for("react.suspense"),R_=Symbol.for("react.suspense_list"),KE=Symbol.for("react.memo"),Ol=Symbol.for("react.lazy"),g5=Symbol.for("react.offscreen"),cN=Symbol.iterator;function up(n){return n===null||typeof n!="object"?null:(n=cN&&n[cN]||n["@@iterator"],typeof n=="function"?n:null)}var sn=Object.assign,s1;function Dp(n){if(s1===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);s1=e&&e[1]||""}return`
`+s1+n}var o1=!1;function a1(n,e){if(!n||o1)return"";o1=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{o1=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Dp(n):""}function ZH(n){switch(n.tag){case 5:return Dp(n.type);case 16:return Dp("Lazy");case 13:return Dp("Suspense");case 19:return Dp("SuspenseList");case 0:case 2:case 15:return n=a1(n.type,!1),n;case 11:return n=a1(n.type.render,!1),n;case 1:return n=a1(n.type,!0),n;default:return""}}function Q_(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case $h:return"Fragment";case Ih:return"Portal";case E_:return"Profiler";case YE:return"StrictMode";case A_:return"Suspense";case R_:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case m5:return(n.displayName||"Context")+".Consumer";case p5:return(n._context.displayName||"Context")+".Provider";case HE:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case KE:return e=n.displayName||null,e!==null?e:Q_(n.type)||"Memo";case Ol:e=n._payload,n=n._init;try{return Q_(n(e))}catch{}}return null}function FH(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Q_(e);case 8:return e===YE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function uc(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function O5(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function BH(n){var e=O5(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Ay(n){n._valueTracker||(n._valueTracker=BH(n))}function y5(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=O5(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function ex(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function I_(n,e){var t=e.checked;return sn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function uN(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=uc(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function v5(n,e){e=e.checked,e!=null&&GE(n,"checked",e,!1)}function $_(n,e){v5(n,e);var t=uc(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?N_(n,e.type,t):e.hasOwnProperty("defaultValue")&&N_(n,e.type,uc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function hN(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function N_(n,e,t){(e!=="number"||ex(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Mp=Array.isArray;function td(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+uc(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function j_(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(le(91));return sn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function dN(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(le(92));if(Mp(t)){if(1<t.length)throw Error(le(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:uc(t)}}function x5(n,e){var t=uc(e.value),r=uc(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function fN(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function w5(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function D_(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?w5(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Ry,b5=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Ry=Ry||document.createElement("div"),Ry.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ry.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Um(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var mm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},WH=["Webkit","ms","Moz","O"];Object.keys(mm).forEach(function(n){WH.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),mm[e]=mm[n]})});function S5(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||mm.hasOwnProperty(n)&&mm[n]?(""+e).trim():e+"px"}function k5(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=S5(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var XH=sn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function M_(n,e){if(e){if(XH[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(le(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(le(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(le(61))}if(e.style!=null&&typeof e.style!="object")throw Error(le(62))}}function V_(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var L_=null;function JE(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var U_=null,nd=null,rd=null;function pN(n){if(n=_O(n)){if(typeof U_!="function")throw Error(le(280));var e=n.stateNode;e&&(e=lb(e),U_(n.stateNode,n.type,e))}}function _5(n){nd?rd?rd.push(n):rd=[n]:nd=n}function T5(){if(nd){var n=nd,e=rd;if(rd=nd=null,pN(n),e)for(n=0;n<e.length;n++)pN(e[n])}}function P5(n,e){return n(e)}function C5(){}var l1=!1;function E5(n,e,t){if(l1)return n(e,t);l1=!0;try{return P5(n,e,t)}finally{l1=!1,(nd!==null||rd!==null)&&(C5(),T5())}}function zm(n,e){var t=n.stateNode;if(t===null)return null;var r=lb(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(le(231,e,typeof t));return t}var z_=!1;if(ja)try{var hp={};Object.defineProperty(hp,"passive",{get:function(){z_=!0}}),window.addEventListener("test",hp,hp),window.removeEventListener("test",hp,hp)}catch{z_=!1}function GH(n,e,t,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var gm=!1,tx=null,nx=!1,q_=null,YH={onError:function(n){gm=!0,tx=n}};function HH(n,e,t,r,i,s,o,a,l){gm=!1,tx=null,GH.apply(YH,arguments)}function KH(n,e,t,r,i,s,o,a,l){if(HH.apply(this,arguments),gm){if(gm){var c=tx;gm=!1,tx=null}else throw Error(le(198));nx||(nx=!0,q_=c)}}function rh(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function A5(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function mN(n){if(rh(n)!==n)throw Error(le(188))}function JH(n){var e=n.alternate;if(!e){if(e=rh(n),e===null)throw Error(le(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return mN(i),n;if(s===r)return mN(i),e;s=s.sibling}throw Error(le(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(le(189))}}if(t.alternate!==r)throw Error(le(190))}if(t.tag!==3)throw Error(le(188));return t.stateNode.current===t?n:e}function R5(n){return n=JH(n),n!==null?Q5(n):null}function Q5(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=Q5(n);if(e!==null)return e;n=n.sibling}return null}var I5=zi.unstable_scheduleCallback,gN=zi.unstable_cancelCallback,eK=zi.unstable_shouldYield,tK=zi.unstable_requestPaint,yn=zi.unstable_now,nK=zi.unstable_getCurrentPriorityLevel,eA=zi.unstable_ImmediatePriority,$5=zi.unstable_UserBlockingPriority,rx=zi.unstable_NormalPriority,rK=zi.unstable_LowPriority,N5=zi.unstable_IdlePriority,ib=null,Oo=null;function iK(n){if(Oo&&typeof Oo.onCommitFiberRoot=="function")try{Oo.onCommitFiberRoot(ib,n,void 0,(n.current.flags&128)===128)}catch{}}var Qs=Math.clz32?Math.clz32:aK,sK=Math.log,oK=Math.LN2;function aK(n){return n>>>=0,n===0?32:31-(sK(n)/oK|0)|0}var Qy=64,Iy=4194304;function Vp(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function ix(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=Vp(a):(s&=o,s!==0&&(r=Vp(s)))}else o=t&~i,o!==0?r=Vp(o):s!==0&&(r=Vp(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Qs(e),i=1<<t,r|=n[t],e&=~i;return r}function lK(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cK(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Qs(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=lK(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function Z_(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function j5(){var n=Qy;return Qy<<=1,!(Qy&4194240)&&(Qy=64),n}function c1(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function SO(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Qs(e),n[e]=t}function uK(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-Qs(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function tA(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Qs(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var _t=0;function D5(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var M5,nA,V5,L5,U5,F_=!1,$y=[],Wl=null,Xl=null,Gl=null,qm=new Map,Zm=new Map,wl=[],hK="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ON(n,e){switch(n){case"focusin":case"focusout":Wl=null;break;case"dragenter":case"dragleave":Xl=null;break;case"mouseover":case"mouseout":Gl=null;break;case"pointerover":case"pointerout":qm.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zm.delete(e.pointerId)}}function dp(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=_O(e),e!==null&&nA(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function dK(n,e,t,r,i){switch(e){case"focusin":return Wl=dp(Wl,n,e,t,r,i),!0;case"dragenter":return Xl=dp(Xl,n,e,t,r,i),!0;case"mouseover":return Gl=dp(Gl,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return qm.set(s,dp(qm.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Zm.set(s,dp(Zm.get(s)||null,n,e,t,r,i)),!0}return!1}function z5(n){var e=lu(n.target);if(e!==null){var t=rh(e);if(t!==null){if(e=t.tag,e===13){if(e=A5(t),e!==null){n.blockedOn=e,U5(n.priority,function(){V5(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function z0(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=B_(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);L_=r,t.target.dispatchEvent(r),L_=null}else return e=_O(t),e!==null&&nA(e),n.blockedOn=t,!1;e.shift()}return!0}function yN(n,e,t){z0(n)&&t.delete(e)}function fK(){F_=!1,Wl!==null&&z0(Wl)&&(Wl=null),Xl!==null&&z0(Xl)&&(Xl=null),Gl!==null&&z0(Gl)&&(Gl=null),qm.forEach(yN),Zm.forEach(yN)}function fp(n,e){n.blockedOn===e&&(n.blockedOn=null,F_||(F_=!0,zi.unstable_scheduleCallback(zi.unstable_NormalPriority,fK)))}function Fm(n){function e(i){return fp(i,n)}if(0<$y.length){fp($y[0],n);for(var t=1;t<$y.length;t++){var r=$y[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Wl!==null&&fp(Wl,n),Xl!==null&&fp(Xl,n),Gl!==null&&fp(Gl,n),qm.forEach(e),Zm.forEach(e),t=0;t<wl.length;t++)r=wl[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<wl.length&&(t=wl[0],t.blockedOn===null);)z5(t),t.blockedOn===null&&wl.shift()}var id=tl.ReactCurrentBatchConfig,sx=!0;function pK(n,e,t,r){var i=_t,s=id.transition;id.transition=null;try{_t=1,rA(n,e,t,r)}finally{_t=i,id.transition=s}}function mK(n,e,t,r){var i=_t,s=id.transition;id.transition=null;try{_t=4,rA(n,e,t,r)}finally{_t=i,id.transition=s}}function rA(n,e,t,r){if(sx){var i=B_(n,e,t,r);if(i===null)v1(n,e,r,ox,t),ON(n,r);else if(dK(i,n,e,t,r))r.stopPropagation();else if(ON(n,r),e&4&&-1<hK.indexOf(n)){for(;i!==null;){var s=_O(i);if(s!==null&&M5(s),s=B_(n,e,t,r),s===null&&v1(n,e,r,ox,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else v1(n,e,r,null,t)}}var ox=null;function B_(n,e,t,r){if(ox=null,n=JE(r),n=lu(n),n!==null)if(e=rh(n),e===null)n=null;else if(t=e.tag,t===13){if(n=A5(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return ox=n,null}function q5(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nK()){case eA:return 1;case $5:return 4;case rx:case rK:return 16;case N5:return 536870912;default:return 16}default:return 16}}var Ll=null,iA=null,q0=null;function Z5(){if(q0)return q0;var n,e=iA,t=e.length,r,i="value"in Ll?Ll.value:Ll.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return q0=i.slice(n,1<r?1-r:void 0)}function Z0(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Ny(){return!0}function vN(){return!1}function Zi(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ny:vN,this.isPropagationStopped=vN,this}return sn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Ny)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Ny)},persist:function(){},isPersistent:Ny}),e}var Tf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sA=Zi(Tf),kO=sn({},Tf,{view:0,detail:0}),gK=Zi(kO),u1,h1,pp,sb=sn({},kO,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oA,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==pp&&(pp&&n.type==="mousemove"?(u1=n.screenX-pp.screenX,h1=n.screenY-pp.screenY):h1=u1=0,pp=n),u1)},movementY:function(n){return"movementY"in n?n.movementY:h1}}),xN=Zi(sb),OK=sn({},sb,{dataTransfer:0}),yK=Zi(OK),vK=sn({},kO,{relatedTarget:0}),d1=Zi(vK),xK=sn({},Tf,{animationName:0,elapsedTime:0,pseudoElement:0}),wK=Zi(xK),bK=sn({},Tf,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),SK=Zi(bK),kK=sn({},Tf,{data:0}),wN=Zi(kK),_K={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TK={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PK={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CK(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=PK[n])?!!e[n]:!1}function oA(){return CK}var EK=sn({},kO,{key:function(n){if(n.key){var e=_K[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Z0(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?TK[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oA,charCode:function(n){return n.type==="keypress"?Z0(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Z0(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),AK=Zi(EK),RK=sn({},sb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bN=Zi(RK),QK=sn({},kO,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oA}),IK=Zi(QK),$K=sn({},Tf,{propertyName:0,elapsedTime:0,pseudoElement:0}),NK=Zi($K),jK=sn({},sb,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),DK=Zi(jK),MK=[9,13,27,32],aA=ja&&"CompositionEvent"in window,Om=null;ja&&"documentMode"in document&&(Om=document.documentMode);var VK=ja&&"TextEvent"in window&&!Om,F5=ja&&(!aA||Om&&8<Om&&11>=Om),SN=" ",kN=!1;function B5(n,e){switch(n){case"keyup":return MK.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W5(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Nh=!1;function LK(n,e){switch(n){case"compositionend":return W5(e);case"keypress":return e.which!==32?null:(kN=!0,SN);case"textInput":return n=e.data,n===SN&&kN?null:n;default:return null}}function UK(n,e){if(Nh)return n==="compositionend"||!aA&&B5(n,e)?(n=Z5(),q0=iA=Ll=null,Nh=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return F5&&e.locale!=="ko"?null:e.data;default:return null}}var zK={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _N(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!zK[n.type]:e==="textarea"}function X5(n,e,t,r){_5(r),e=ax(e,"onChange"),0<e.length&&(t=new sA("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var ym=null,Bm=null;function qK(n){sU(n,0)}function ob(n){var e=Mh(n);if(y5(e))return n}function ZK(n,e){if(n==="change")return e}var G5=!1;if(ja){var f1;if(ja){var p1="oninput"in document;if(!p1){var TN=document.createElement("div");TN.setAttribute("oninput","return;"),p1=typeof TN.oninput=="function"}f1=p1}else f1=!1;G5=f1&&(!document.documentMode||9<document.documentMode)}function PN(){ym&&(ym.detachEvent("onpropertychange",Y5),Bm=ym=null)}function Y5(n){if(n.propertyName==="value"&&ob(Bm)){var e=[];X5(e,Bm,n,JE(n)),E5(qK,e)}}function FK(n,e,t){n==="focusin"?(PN(),ym=e,Bm=t,ym.attachEvent("onpropertychange",Y5)):n==="focusout"&&PN()}function BK(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ob(Bm)}function WK(n,e){if(n==="click")return ob(e)}function XK(n,e){if(n==="input"||n==="change")return ob(e)}function GK(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var js=typeof Object.is=="function"?Object.is:GK;function Wm(n,e){if(js(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!C_.call(e,i)||!js(n[i],e[i]))return!1}return!0}function CN(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function EN(n,e){var t=CN(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=CN(t)}}function H5(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?H5(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function K5(){for(var n=window,e=ex();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=ex(n.document)}return e}function lA(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function YK(n){var e=K5(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&H5(t.ownerDocument.documentElement,t)){if(r!==null&&lA(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=EN(t,s);var o=EN(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var HK=ja&&"documentMode"in document&&11>=document.documentMode,jh=null,W_=null,vm=null,X_=!1;function AN(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;X_||jh==null||jh!==ex(r)||(r=jh,"selectionStart"in r&&lA(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),vm&&Wm(vm,r)||(vm=r,r=ax(W_,"onSelect"),0<r.length&&(e=new sA("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=jh)))}function jy(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Dh={animationend:jy("Animation","AnimationEnd"),animationiteration:jy("Animation","AnimationIteration"),animationstart:jy("Animation","AnimationStart"),transitionend:jy("Transition","TransitionEnd")},m1={},J5={};ja&&(J5=document.createElement("div").style,"AnimationEvent"in window||(delete Dh.animationend.animation,delete Dh.animationiteration.animation,delete Dh.animationstart.animation),"TransitionEvent"in window||delete Dh.transitionend.transition);function ab(n){if(m1[n])return m1[n];if(!Dh[n])return n;var e=Dh[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in J5)return m1[n]=e[t];return n}var eU=ab("animationend"),tU=ab("animationiteration"),nU=ab("animationstart"),rU=ab("transitionend"),iU=new Map,RN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nc(n,e){iU.set(n,e),nh(e,[n])}for(var g1=0;g1<RN.length;g1++){var O1=RN[g1],KK=O1.toLowerCase(),JK=O1[0].toUpperCase()+O1.slice(1);Nc(KK,"on"+JK)}Nc(eU,"onAnimationEnd");Nc(tU,"onAnimationIteration");Nc(nU,"onAnimationStart");Nc("dblclick","onDoubleClick");Nc("focusin","onFocus");Nc("focusout","onBlur");Nc(rU,"onTransitionEnd");Nd("onMouseEnter",["mouseout","mouseover"]);Nd("onMouseLeave",["mouseout","mouseover"]);Nd("onPointerEnter",["pointerout","pointerover"]);Nd("onPointerLeave",["pointerout","pointerover"]);nh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));nh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));nh("onBeforeInput",["compositionend","keypress","textInput","paste"]);nh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));nh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));nh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eJ=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lp));function QN(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,KH(r,e,void 0,n),n.currentTarget=null}function sU(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;QN(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;QN(i,a,c),s=l}}}if(nx)throw n=q_,nx=!1,q_=null,n}function qt(n,e){var t=e[J_];t===void 0&&(t=e[J_]=new Set);var r=n+"__bubble";t.has(r)||(oU(e,n,2,!1),t.add(r))}function y1(n,e,t){var r=0;e&&(r|=4),oU(t,n,r,e)}var Dy="_reactListening"+Math.random().toString(36).slice(2);function Xm(n){if(!n[Dy]){n[Dy]=!0,f5.forEach(function(t){t!=="selectionchange"&&(eJ.has(t)||y1(t,!1,n),y1(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Dy]||(e[Dy]=!0,y1("selectionchange",!1,e))}}function oU(n,e,t,r){switch(q5(e)){case 1:var i=pK;break;case 4:i=mK;break;default:i=rA}t=i.bind(null,e,t,n),i=void 0,!z_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function v1(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=lu(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}E5(function(){var c=s,u=JE(t),h=[];e:{var f=iU.get(n);if(f!==void 0){var m=sA,g=n;switch(n){case"keypress":if(Z0(t)===0)break e;case"keydown":case"keyup":m=AK;break;case"focusin":g="focus",m=d1;break;case"focusout":g="blur",m=d1;break;case"beforeblur":case"afterblur":m=d1;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=xN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=yK;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=IK;break;case eU:case tU:case nU:m=wK;break;case rU:m=NK;break;case"scroll":m=gK;break;case"wheel":m=DK;break;case"copy":case"cut":case"paste":m=SK;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=bN}var y=(e&4)!==0,x=!y&&n==="scroll",S=y?f!==null?f+"Capture":null:f;y=[];for(var _=c,T;_!==null;){T=_;var I=T.stateNode;if(T.tag===5&&I!==null&&(T=I,S!==null&&(I=zm(_,S),I!=null&&y.push(Gm(_,I,T)))),x)break;_=_.return}0<y.length&&(f=new m(f,g,null,t,u),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",f&&t!==L_&&(g=t.relatedTarget||t.fromElement)&&(lu(g)||g[Da]))break e;if((m||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,m?(g=t.relatedTarget||t.toElement,m=c,g=g?lu(g):null,g!==null&&(x=rh(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=c),m!==g)){if(y=xN,I="onMouseLeave",S="onMouseEnter",_="mouse",(n==="pointerout"||n==="pointerover")&&(y=bN,I="onPointerLeave",S="onPointerEnter",_="pointer"),x=m==null?f:Mh(m),T=g==null?f:Mh(g),f=new y(I,_+"leave",m,t,u),f.target=x,f.relatedTarget=T,I=null,lu(u)===c&&(y=new y(S,_+"enter",g,t,u),y.target=T,y.relatedTarget=x,I=y),x=I,m&&g)t:{for(y=m,S=g,_=0,T=y;T;T=gh(T))_++;for(T=0,I=S;I;I=gh(I))T++;for(;0<_-T;)y=gh(y),_--;for(;0<T-_;)S=gh(S),T--;for(;_--;){if(y===S||S!==null&&y===S.alternate)break t;y=gh(y),S=gh(S)}y=null}else y=null;m!==null&&IN(h,f,m,y,!1),g!==null&&x!==null&&IN(h,x,g,y,!0)}}e:{if(f=c?Mh(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var C=ZK;else if(_N(f))if(G5)C=XK;else{C=BK;var Q=FK}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=WK);if(C&&(C=C(n,c))){X5(h,C,t,u);break e}Q&&Q(n,f,c),n==="focusout"&&(Q=f._wrapperState)&&Q.controlled&&f.type==="number"&&N_(f,"number",f.value)}switch(Q=c?Mh(c):window,n){case"focusin":(_N(Q)||Q.contentEditable==="true")&&(jh=Q,W_=c,vm=null);break;case"focusout":vm=W_=jh=null;break;case"mousedown":X_=!0;break;case"contextmenu":case"mouseup":case"dragend":X_=!1,AN(h,t,u);break;case"selectionchange":if(HK)break;case"keydown":case"keyup":AN(h,t,u)}var O;if(aA)e:{switch(n){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Nh?B5(n,t)&&(w="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(w="onCompositionStart");w&&(F5&&t.locale!=="ko"&&(Nh||w!=="onCompositionStart"?w==="onCompositionEnd"&&Nh&&(O=Z5()):(Ll=u,iA="value"in Ll?Ll.value:Ll.textContent,Nh=!0)),Q=ax(c,w),0<Q.length&&(w=new wN(w,n,null,t,u),h.push({event:w,listeners:Q}),O?w.data=O:(O=W5(t),O!==null&&(w.data=O)))),(O=VK?LK(n,t):UK(n,t))&&(c=ax(c,"onBeforeInput"),0<c.length&&(u=new wN("onBeforeInput","beforeinput",null,t,u),h.push({event:u,listeners:c}),u.data=O))}sU(h,e)})}function Gm(n,e,t){return{instance:n,listener:e,currentTarget:t}}function ax(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=zm(n,t),s!=null&&r.unshift(Gm(n,s,i)),s=zm(n,e),s!=null&&r.push(Gm(n,s,i))),n=n.return}return r}function gh(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function IN(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=zm(t,s),l!=null&&o.unshift(Gm(t,l,a))):i||(l=zm(t,s),l!=null&&o.push(Gm(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var tJ=/\r\n?/g,nJ=/\u0000|\uFFFD/g;function $N(n){return(typeof n=="string"?n:""+n).replace(tJ,`
`).replace(nJ,"")}function My(n,e,t){if(e=$N(e),$N(n)!==e&&t)throw Error(le(425))}function lx(){}var G_=null,Y_=null;function H_(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var K_=typeof setTimeout=="function"?setTimeout:void 0,rJ=typeof clearTimeout=="function"?clearTimeout:void 0,NN=typeof Promise=="function"?Promise:void 0,iJ=typeof queueMicrotask=="function"?queueMicrotask:typeof NN<"u"?function(n){return NN.resolve(null).then(n).catch(sJ)}:K_;function sJ(n){setTimeout(function(){throw n})}function x1(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),Fm(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);Fm(e)}function Yl(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function jN(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Pf=Math.random().toString(36).slice(2),so="__reactFiber$"+Pf,Ym="__reactProps$"+Pf,Da="__reactContainer$"+Pf,J_="__reactEvents$"+Pf,oJ="__reactListeners$"+Pf,aJ="__reactHandles$"+Pf;function lu(n){var e=n[so];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Da]||t[so]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=jN(n);n!==null;){if(t=n[so])return t;n=jN(n)}return e}n=t,t=n.parentNode}return null}function _O(n){return n=n[so]||n[Da],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Mh(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(le(33))}function lb(n){return n[Ym]||null}var eT=[],Vh=-1;function jc(n){return{current:n}}function Wt(n){0>Vh||(n.current=eT[Vh],eT[Vh]=null,Vh--)}function Qt(n,e){Vh++,eT[Vh]=n.current,n.current=e}var hc={},Rr=jc(hc),pi=jc(!1),Cu=hc;function jd(n,e){var t=n.type.contextTypes;if(!t)return hc;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function mi(n){return n=n.childContextTypes,n!=null}function cx(){Wt(pi),Wt(Rr)}function DN(n,e,t){if(Rr.current!==hc)throw Error(le(168));Qt(Rr,e),Qt(pi,t)}function aU(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(le(108,FH(n)||"Unknown",i));return sn({},t,r)}function ux(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||hc,Cu=Rr.current,Qt(Rr,n),Qt(pi,pi.current),!0}function MN(n,e,t){var r=n.stateNode;if(!r)throw Error(le(169));t?(n=aU(n,e,Cu),r.__reactInternalMemoizedMergedChildContext=n,Wt(pi),Wt(Rr),Qt(Rr,n)):Wt(pi),Qt(pi,t)}var ya=null,cb=!1,w1=!1;function lU(n){ya===null?ya=[n]:ya.push(n)}function lJ(n){cb=!0,lU(n)}function Dc(){if(!w1&&ya!==null){w1=!0;var n=0,e=_t;try{var t=ya;for(_t=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}ya=null,cb=!1}catch(i){throw ya!==null&&(ya=ya.slice(n+1)),I5(eA,Dc),i}finally{_t=e,w1=!1}}return null}var Lh=[],Uh=0,hx=null,dx=0,Ji=[],es=0,Eu=null,Sa=1,ka="";function nu(n,e){Lh[Uh++]=dx,Lh[Uh++]=hx,hx=n,dx=e}function cU(n,e,t){Ji[es++]=Sa,Ji[es++]=ka,Ji[es++]=Eu,Eu=n;var r=Sa;n=ka;var i=32-Qs(r)-1;r&=~(1<<i),t+=1;var s=32-Qs(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Sa=1<<32-Qs(e)+i|t<<i|r,ka=s+n}else Sa=1<<s|t<<i|r,ka=n}function cA(n){n.return!==null&&(nu(n,1),cU(n,1,0))}function uA(n){for(;n===hx;)hx=Lh[--Uh],Lh[Uh]=null,dx=Lh[--Uh],Lh[Uh]=null;for(;n===Eu;)Eu=Ji[--es],Ji[es]=null,ka=Ji[--es],Ji[es]=null,Sa=Ji[--es],Ji[es]=null}var Di=null,Pi=null,Gt=!1,bs=null;function uU(n,e){var t=ns(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function VN(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Di=n,Pi=Yl(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Di=n,Pi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Eu!==null?{id:Sa,overflow:ka}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=ns(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Di=n,Pi=null,!0):!1;default:return!1}}function tT(n){return(n.mode&1)!==0&&(n.flags&128)===0}function nT(n){if(Gt){var e=Pi;if(e){var t=e;if(!VN(n,e)){if(tT(n))throw Error(le(418));e=Yl(t.nextSibling);var r=Di;e&&VN(n,e)?uU(r,t):(n.flags=n.flags&-4097|2,Gt=!1,Di=n)}}else{if(tT(n))throw Error(le(418));n.flags=n.flags&-4097|2,Gt=!1,Di=n}}}function LN(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Di=n}function Vy(n){if(n!==Di)return!1;if(!Gt)return LN(n),Gt=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!H_(n.type,n.memoizedProps)),e&&(e=Pi)){if(tT(n))throw hU(),Error(le(418));for(;e;)uU(n,e),e=Yl(e.nextSibling)}if(LN(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(le(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Pi=Yl(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Pi=null}}else Pi=Di?Yl(n.stateNode.nextSibling):null;return!0}function hU(){for(var n=Pi;n;)n=Yl(n.nextSibling)}function Dd(){Pi=Di=null,Gt=!1}function hA(n){bs===null?bs=[n]:bs.push(n)}var cJ=tl.ReactCurrentBatchConfig;function mp(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(le(309));var r=t.stateNode}if(!r)throw Error(le(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(le(284));if(!t._owner)throw Error(le(290,n))}return n}function Ly(n,e){throw n=Object.prototype.toString.call(e),Error(le(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function UN(n){var e=n._init;return e(n._payload)}function dU(n){function e(S,_){if(n){var T=S.deletions;T===null?(S.deletions=[_],S.flags|=16):T.push(_)}}function t(S,_){if(!n)return null;for(;_!==null;)e(S,_),_=_.sibling;return null}function r(S,_){for(S=new Map;_!==null;)_.key!==null?S.set(_.key,_):S.set(_.index,_),_=_.sibling;return S}function i(S,_){return S=ec(S,_),S.index=0,S.sibling=null,S}function s(S,_,T){return S.index=T,n?(T=S.alternate,T!==null?(T=T.index,T<_?(S.flags|=2,_):T):(S.flags|=2,_)):(S.flags|=1048576,_)}function o(S){return n&&S.alternate===null&&(S.flags|=2),S}function a(S,_,T,I){return _===null||_.tag!==6?(_=C1(T,S.mode,I),_.return=S,_):(_=i(_,T),_.return=S,_)}function l(S,_,T,I){var C=T.type;return C===$h?u(S,_,T.props.children,I,T.key):_!==null&&(_.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ol&&UN(C)===_.type)?(I=i(_,T.props),I.ref=mp(S,_,T),I.return=S,I):(I=H0(T.type,T.key,T.props,null,S.mode,I),I.ref=mp(S,_,T),I.return=S,I)}function c(S,_,T,I){return _===null||_.tag!==4||_.stateNode.containerInfo!==T.containerInfo||_.stateNode.implementation!==T.implementation?(_=E1(T,S.mode,I),_.return=S,_):(_=i(_,T.children||[]),_.return=S,_)}function u(S,_,T,I,C){return _===null||_.tag!==7?(_=Su(T,S.mode,I,C),_.return=S,_):(_=i(_,T),_.return=S,_)}function h(S,_,T){if(typeof _=="string"&&_!==""||typeof _=="number")return _=C1(""+_,S.mode,T),_.return=S,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ey:return T=H0(_.type,_.key,_.props,null,S.mode,T),T.ref=mp(S,null,_),T.return=S,T;case Ih:return _=E1(_,S.mode,T),_.return=S,_;case Ol:var I=_._init;return h(S,I(_._payload),T)}if(Mp(_)||up(_))return _=Su(_,S.mode,T,null),_.return=S,_;Ly(S,_)}return null}function f(S,_,T,I){var C=_!==null?_.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return C!==null?null:a(S,_,""+T,I);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Ey:return T.key===C?l(S,_,T,I):null;case Ih:return T.key===C?c(S,_,T,I):null;case Ol:return C=T._init,f(S,_,C(T._payload),I)}if(Mp(T)||up(T))return C!==null?null:u(S,_,T,I,null);Ly(S,T)}return null}function m(S,_,T,I,C){if(typeof I=="string"&&I!==""||typeof I=="number")return S=S.get(T)||null,a(_,S,""+I,C);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Ey:return S=S.get(I.key===null?T:I.key)||null,l(_,S,I,C);case Ih:return S=S.get(I.key===null?T:I.key)||null,c(_,S,I,C);case Ol:var Q=I._init;return m(S,_,T,Q(I._payload),C)}if(Mp(I)||up(I))return S=S.get(T)||null,u(_,S,I,C,null);Ly(_,I)}return null}function g(S,_,T,I){for(var C=null,Q=null,O=_,w=_=0,k=null;O!==null&&w<T.length;w++){O.index>w?(k=O,O=null):k=O.sibling;var R=f(S,O,T[w],I);if(R===null){O===null&&(O=k);break}n&&O&&R.alternate===null&&e(S,O),_=s(R,_,w),Q===null?C=R:Q.sibling=R,Q=R,O=k}if(w===T.length)return t(S,O),Gt&&nu(S,w),C;if(O===null){for(;w<T.length;w++)O=h(S,T[w],I),O!==null&&(_=s(O,_,w),Q===null?C=O:Q.sibling=O,Q=O);return Gt&&nu(S,w),C}for(O=r(S,O);w<T.length;w++)k=m(O,S,w,T[w],I),k!==null&&(n&&k.alternate!==null&&O.delete(k.key===null?w:k.key),_=s(k,_,w),Q===null?C=k:Q.sibling=k,Q=k);return n&&O.forEach(function(P){return e(S,P)}),Gt&&nu(S,w),C}function y(S,_,T,I){var C=up(T);if(typeof C!="function")throw Error(le(150));if(T=C.call(T),T==null)throw Error(le(151));for(var Q=C=null,O=_,w=_=0,k=null,R=T.next();O!==null&&!R.done;w++,R=T.next()){O.index>w?(k=O,O=null):k=O.sibling;var P=f(S,O,R.value,I);if(P===null){O===null&&(O=k);break}n&&O&&P.alternate===null&&e(S,O),_=s(P,_,w),Q===null?C=P:Q.sibling=P,Q=P,O=k}if(R.done)return t(S,O),Gt&&nu(S,w),C;if(O===null){for(;!R.done;w++,R=T.next())R=h(S,R.value,I),R!==null&&(_=s(R,_,w),Q===null?C=R:Q.sibling=R,Q=R);return Gt&&nu(S,w),C}for(O=r(S,O);!R.done;w++,R=T.next())R=m(O,S,w,R.value,I),R!==null&&(n&&R.alternate!==null&&O.delete(R.key===null?w:R.key),_=s(R,_,w),Q===null?C=R:Q.sibling=R,Q=R);return n&&O.forEach(function(v){return e(S,v)}),Gt&&nu(S,w),C}function x(S,_,T,I){if(typeof T=="object"&&T!==null&&T.type===$h&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Ey:e:{for(var C=T.key,Q=_;Q!==null;){if(Q.key===C){if(C=T.type,C===$h){if(Q.tag===7){t(S,Q.sibling),_=i(Q,T.props.children),_.return=S,S=_;break e}}else if(Q.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ol&&UN(C)===Q.type){t(S,Q.sibling),_=i(Q,T.props),_.ref=mp(S,Q,T),_.return=S,S=_;break e}t(S,Q);break}else e(S,Q);Q=Q.sibling}T.type===$h?(_=Su(T.props.children,S.mode,I,T.key),_.return=S,S=_):(I=H0(T.type,T.key,T.props,null,S.mode,I),I.ref=mp(S,_,T),I.return=S,S=I)}return o(S);case Ih:e:{for(Q=T.key;_!==null;){if(_.key===Q)if(_.tag===4&&_.stateNode.containerInfo===T.containerInfo&&_.stateNode.implementation===T.implementation){t(S,_.sibling),_=i(_,T.children||[]),_.return=S,S=_;break e}else{t(S,_);break}else e(S,_);_=_.sibling}_=E1(T,S.mode,I),_.return=S,S=_}return o(S);case Ol:return Q=T._init,x(S,_,Q(T._payload),I)}if(Mp(T))return g(S,_,T,I);if(up(T))return y(S,_,T,I);Ly(S,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,_!==null&&_.tag===6?(t(S,_.sibling),_=i(_,T),_.return=S,S=_):(t(S,_),_=C1(T,S.mode,I),_.return=S,S=_),o(S)):t(S,_)}return x}var Md=dU(!0),fU=dU(!1),fx=jc(null),px=null,zh=null,dA=null;function fA(){dA=zh=px=null}function pA(n){var e=fx.current;Wt(fx),n._currentValue=e}function rT(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function sd(n,e){px=n,dA=zh=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(di=!0),n.firstContext=null)}function cs(n){var e=n._currentValue;if(dA!==n)if(n={context:n,memoizedValue:e,next:null},zh===null){if(px===null)throw Error(le(308));zh=n,px.dependencies={lanes:0,firstContext:n}}else zh=zh.next=n;return e}var cu=null;function mA(n){cu===null?cu=[n]:cu.push(n)}function pU(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,mA(e)):(t.next=i.next,i.next=t),e.interleaved=t,Ma(n,r)}function Ma(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var yl=!1;function gA(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mU(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Aa(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Hl(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,vt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ma(n,t)}return i=r.interleaved,i===null?(e.next=e,mA(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ma(n,t)}function F0(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,tA(n,t)}}function zN(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function mx(n,e,t,r){var i=n.updateQueue;yl=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=n.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=n,y=a;switch(f=e,m=t,y.tag){case 1:if(g=y.payload,typeof g=="function"){h=g.call(m,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,f=typeof g=="function"?g.call(m,h,f):g,f==null)break e;h=sn({},h,f);break e;case 2:yl=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=h):u=u.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ru|=o,n.lanes=o,n.memoizedState=h}}function qN(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(le(191,i));i.call(r)}}}var TO={},yo=jc(TO),Hm=jc(TO),Km=jc(TO);function uu(n){if(n===TO)throw Error(le(174));return n}function OA(n,e){switch(Qt(Km,e),Qt(Hm,n),Qt(yo,TO),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:D_(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=D_(e,n)}Wt(yo),Qt(yo,e)}function Vd(){Wt(yo),Wt(Hm),Wt(Km)}function gU(n){uu(Km.current);var e=uu(yo.current),t=D_(e,n.type);e!==t&&(Qt(Hm,n),Qt(yo,t))}function yA(n){Hm.current===n&&(Wt(yo),Wt(Hm))}var tn=jc(0);function gx(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var b1=[];function vA(){for(var n=0;n<b1.length;n++)b1[n]._workInProgressVersionPrimary=null;b1.length=0}var B0=tl.ReactCurrentDispatcher,S1=tl.ReactCurrentBatchConfig,Au=0,nn=null,$n=null,Gn=null,Ox=!1,xm=!1,Jm=0,uJ=0;function xr(){throw Error(le(321))}function xA(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!js(n[t],e[t]))return!1;return!0}function wA(n,e,t,r,i,s){if(Au=s,nn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,B0.current=n===null||n.memoizedState===null?pJ:mJ,n=t(r,i),xm){s=0;do{if(xm=!1,Jm=0,25<=s)throw Error(le(301));s+=1,Gn=$n=null,e.updateQueue=null,B0.current=gJ,n=t(r,i)}while(xm)}if(B0.current=yx,e=$n!==null&&$n.next!==null,Au=0,Gn=$n=nn=null,Ox=!1,e)throw Error(le(300));return n}function bA(){var n=Jm!==0;return Jm=0,n}function Js(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gn===null?nn.memoizedState=Gn=n:Gn=Gn.next=n,Gn}function us(){if($n===null){var n=nn.alternate;n=n!==null?n.memoizedState:null}else n=$n.next;var e=Gn===null?nn.memoizedState:Gn.next;if(e!==null)Gn=e,$n=n;else{if(n===null)throw Error(le(310));$n=n,n={memoizedState:$n.memoizedState,baseState:$n.baseState,baseQueue:$n.baseQueue,queue:$n.queue,next:null},Gn===null?nn.memoizedState=Gn=n:Gn=Gn.next=n}return Gn}function eg(n,e){return typeof e=="function"?e(n):e}function k1(n){var e=us(),t=e.queue;if(t===null)throw Error(le(311));t.lastRenderedReducer=n;var r=$n,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Au&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,nn.lanes|=u,Ru|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,js(r,e.memoizedState)||(di=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,nn.lanes|=s,Ru|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function _1(n){var e=us(),t=e.queue;if(t===null)throw Error(le(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);js(s,e.memoizedState)||(di=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function OU(){}function yU(n,e){var t=nn,r=us(),i=e(),s=!js(r.memoizedState,i);if(s&&(r.memoizedState=i,di=!0),r=r.queue,SA(wU.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||Gn!==null&&Gn.memoizedState.tag&1){if(t.flags|=2048,tg(9,xU.bind(null,t,r,i,e),void 0,null),tr===null)throw Error(le(349));Au&30||vU(t,e,i)}return i}function vU(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=nn.updateQueue,e===null?(e={lastEffect:null,stores:null},nn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function xU(n,e,t,r){e.value=t,e.getSnapshot=r,bU(e)&&SU(n)}function wU(n,e,t){return t(function(){bU(e)&&SU(n)})}function bU(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!js(n,t)}catch{return!0}}function SU(n){var e=Ma(n,1);e!==null&&Is(e,n,1,-1)}function ZN(n){var e=Js();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:eg,lastRenderedState:n},e.queue=n,n=n.dispatch=fJ.bind(null,nn,n),[e.memoizedState,n]}function tg(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=nn.updateQueue,e===null?(e={lastEffect:null,stores:null},nn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function kU(){return us().memoizedState}function W0(n,e,t,r){var i=Js();nn.flags|=n,i.memoizedState=tg(1|e,t,void 0,r===void 0?null:r)}function ub(n,e,t,r){var i=us();r=r===void 0?null:r;var s=void 0;if($n!==null){var o=$n.memoizedState;if(s=o.destroy,r!==null&&xA(r,o.deps)){i.memoizedState=tg(e,t,s,r);return}}nn.flags|=n,i.memoizedState=tg(1|e,t,s,r)}function FN(n,e){return W0(8390656,8,n,e)}function SA(n,e){return ub(2048,8,n,e)}function _U(n,e){return ub(4,2,n,e)}function TU(n,e){return ub(4,4,n,e)}function PU(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function CU(n,e,t){return t=t!=null?t.concat([n]):null,ub(4,4,PU.bind(null,e,n),t)}function kA(){}function EU(n,e){var t=us();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&xA(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function AU(n,e){var t=us();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&xA(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function RU(n,e,t){return Au&21?(js(t,e)||(t=j5(),nn.lanes|=t,Ru|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,di=!0),n.memoizedState=t)}function hJ(n,e){var t=_t;_t=t!==0&&4>t?t:4,n(!0);var r=S1.transition;S1.transition={};try{n(!1),e()}finally{_t=t,S1.transition=r}}function QU(){return us().memoizedState}function dJ(n,e,t){var r=Jl(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},IU(n))$U(e,t);else if(t=pU(n,e,t,r),t!==null){var i=Zr();Is(t,n,r,i),NU(t,e,r)}}function fJ(n,e,t){var r=Jl(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(IU(n))$U(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,js(a,o)){var l=e.interleaved;l===null?(i.next=i,mA(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=pU(n,e,i,r),t!==null&&(i=Zr(),Is(t,n,r,i),NU(t,e,r))}}function IU(n){var e=n.alternate;return n===nn||e!==null&&e===nn}function $U(n,e){xm=Ox=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function NU(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,tA(n,t)}}var yx={readContext:cs,useCallback:xr,useContext:xr,useEffect:xr,useImperativeHandle:xr,useInsertionEffect:xr,useLayoutEffect:xr,useMemo:xr,useReducer:xr,useRef:xr,useState:xr,useDebugValue:xr,useDeferredValue:xr,useTransition:xr,useMutableSource:xr,useSyncExternalStore:xr,useId:xr,unstable_isNewReconciler:!1},pJ={readContext:cs,useCallback:function(n,e){return Js().memoizedState=[n,e===void 0?null:e],n},useContext:cs,useEffect:FN,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,W0(4194308,4,PU.bind(null,e,n),t)},useLayoutEffect:function(n,e){return W0(4194308,4,n,e)},useInsertionEffect:function(n,e){return W0(4,2,n,e)},useMemo:function(n,e){var t=Js();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Js();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=dJ.bind(null,nn,n),[r.memoizedState,n]},useRef:function(n){var e=Js();return n={current:n},e.memoizedState=n},useState:ZN,useDebugValue:kA,useDeferredValue:function(n){return Js().memoizedState=n},useTransition:function(){var n=ZN(!1),e=n[0];return n=hJ.bind(null,n[1]),Js().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=nn,i=Js();if(Gt){if(t===void 0)throw Error(le(407));t=t()}else{if(t=e(),tr===null)throw Error(le(349));Au&30||vU(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,FN(wU.bind(null,r,s,n),[n]),r.flags|=2048,tg(9,xU.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=Js(),e=tr.identifierPrefix;if(Gt){var t=ka,r=Sa;t=(r&~(1<<32-Qs(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=Jm++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=uJ++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},mJ={readContext:cs,useCallback:EU,useContext:cs,useEffect:SA,useImperativeHandle:CU,useInsertionEffect:_U,useLayoutEffect:TU,useMemo:AU,useReducer:k1,useRef:kU,useState:function(){return k1(eg)},useDebugValue:kA,useDeferredValue:function(n){var e=us();return RU(e,$n.memoizedState,n)},useTransition:function(){var n=k1(eg)[0],e=us().memoizedState;return[n,e]},useMutableSource:OU,useSyncExternalStore:yU,useId:QU,unstable_isNewReconciler:!1},gJ={readContext:cs,useCallback:EU,useContext:cs,useEffect:SA,useImperativeHandle:CU,useInsertionEffect:_U,useLayoutEffect:TU,useMemo:AU,useReducer:_1,useRef:kU,useState:function(){return _1(eg)},useDebugValue:kA,useDeferredValue:function(n){var e=us();return $n===null?e.memoizedState=n:RU(e,$n.memoizedState,n)},useTransition:function(){var n=_1(eg)[0],e=us().memoizedState;return[n,e]},useMutableSource:OU,useSyncExternalStore:yU,useId:QU,unstable_isNewReconciler:!1};function vs(n,e){if(n&&n.defaultProps){e=sn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function iT(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:sn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var hb={isMounted:function(n){return(n=n._reactInternals)?rh(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Zr(),i=Jl(n),s=Aa(r,i);s.payload=e,t!=null&&(s.callback=t),e=Hl(n,s,i),e!==null&&(Is(e,n,i,r),F0(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Zr(),i=Jl(n),s=Aa(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Hl(n,s,i),e!==null&&(Is(e,n,i,r),F0(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Zr(),r=Jl(n),i=Aa(t,r);i.tag=2,e!=null&&(i.callback=e),e=Hl(n,i,r),e!==null&&(Is(e,n,r,t),F0(e,n,r))}};function BN(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Wm(t,r)||!Wm(i,s):!0}function jU(n,e,t){var r=!1,i=hc,s=e.contextType;return typeof s=="object"&&s!==null?s=cs(s):(i=mi(e)?Cu:Rr.current,r=e.contextTypes,s=(r=r!=null)?jd(n,i):hc),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=hb,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function WN(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&hb.enqueueReplaceState(e,e.state,null)}function sT(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},gA(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=cs(s):(s=mi(e)?Cu:Rr.current,i.context=jd(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(iT(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&hb.enqueueReplaceState(i,i.state,null),mx(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function Ld(n,e){try{var t="",r=e;do t+=ZH(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function T1(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function oT(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var OJ=typeof WeakMap=="function"?WeakMap:Map;function DU(n,e,t){t=Aa(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){xx||(xx=!0,gT=r),oT(n,e)},t}function MU(n,e,t){t=Aa(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){oT(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){oT(n,e),typeof r!="function"&&(Kl===null?Kl=new Set([this]):Kl.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function XN(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new OJ;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=RJ.bind(null,n,e,t),e.then(n,n))}function GN(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function YN(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Aa(-1,1),e.tag=2,Hl(t,e,1))),t.lanes|=1),n)}var yJ=tl.ReactCurrentOwner,di=!1;function Lr(n,e,t,r){e.child=n===null?fU(e,null,t,r):Md(e,n.child,t,r)}function HN(n,e,t,r,i){t=t.render;var s=e.ref;return sd(e,i),r=wA(n,e,t,r,s,i),t=bA(),n!==null&&!di?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Va(n,e,i)):(Gt&&t&&cA(e),e.flags|=1,Lr(n,e,r,i),e.child)}function KN(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!QA(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,VU(n,e,s,r,i)):(n=H0(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Wm,t(o,r)&&n.ref===e.ref)return Va(n,e,i)}return e.flags|=1,n=ec(s,r),n.ref=e.ref,n.return=e,e.child=n}function VU(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(Wm(s,r)&&n.ref===e.ref)if(di=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(di=!0);else return e.lanes=n.lanes,Va(n,e,i)}return aT(n,e,t,r,i)}function LU(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qt(Zh,Si),Si|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Qt(Zh,Si),Si|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,Qt(Zh,Si),Si|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,Qt(Zh,Si),Si|=r;return Lr(n,e,i,t),e.child}function UU(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function aT(n,e,t,r,i){var s=mi(t)?Cu:Rr.current;return s=jd(e,s),sd(e,i),t=wA(n,e,t,r,s,i),r=bA(),n!==null&&!di?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Va(n,e,i)):(Gt&&r&&cA(e),e.flags|=1,Lr(n,e,t,i),e.child)}function JN(n,e,t,r,i){if(mi(t)){var s=!0;ux(e)}else s=!1;if(sd(e,i),e.stateNode===null)X0(n,e),jU(e,t,r),sT(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=cs(c):(c=mi(t)?Cu:Rr.current,c=jd(e,c));var u=t.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&WN(e,o,r,c),yl=!1;var f=e.memoizedState;o.state=f,mx(e,r,o,i),l=e.memoizedState,a!==r||f!==l||pi.current||yl?(typeof u=="function"&&(iT(e,t,u,r),l=e.memoizedState),(a=yl||BN(e,t,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,mU(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:vs(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=cs(l):(l=mi(t)?Cu:Rr.current,l=jd(e,l));var m=t.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&WN(e,o,r,l),yl=!1,f=e.memoizedState,o.state=f,mx(e,r,o,i);var g=e.memoizedState;a!==h||f!==g||pi.current||yl?(typeof m=="function"&&(iT(e,t,m,r),g=e.memoizedState),(c=yl||BN(e,t,c,r,f,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),r=!1)}return lT(n,e,t,r,s,i)}function lT(n,e,t,r,i,s){UU(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&MN(e,t,!1),Va(n,e,s);r=e.stateNode,yJ.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=Md(e,n.child,null,s),e.child=Md(e,null,a,s)):Lr(n,e,a,s),e.memoizedState=r.state,i&&MN(e,t,!0),e.child}function zU(n){var e=n.stateNode;e.pendingContext?DN(n,e.pendingContext,e.pendingContext!==e.context):e.context&&DN(n,e.context,!1),OA(n,e.containerInfo)}function e2(n,e,t,r,i){return Dd(),hA(i),e.flags|=256,Lr(n,e,t,r),e.child}var cT={dehydrated:null,treeContext:null,retryLane:0};function uT(n){return{baseLanes:n,cachePool:null,transitions:null}}function qU(n,e,t){var r=e.pendingProps,i=tn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),Qt(tn,i&1),n===null)return nT(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=pb(o,r,0,null),n=Su(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=uT(t),e.memoizedState=cT,n):_A(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return vJ(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ec(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ec(a,s):(s=Su(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?uT(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=cT,r}return s=n.child,n=s.sibling,r=ec(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function _A(n,e){return e=pb({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Uy(n,e,t,r){return r!==null&&hA(r),Md(e,n.child,null,t),n=_A(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function vJ(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=T1(Error(le(422))),Uy(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=pb({mode:"visible",children:r.children},i,0,null),s=Su(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Md(e,n.child,null,o),e.child.memoizedState=uT(o),e.memoizedState=cT,s);if(!(e.mode&1))return Uy(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(le(419)),r=T1(s,r,void 0),Uy(n,e,o,r)}if(a=(o&n.childLanes)!==0,di||a){if(r=tr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ma(n,i),Is(r,n,i,-1))}return RA(),r=T1(Error(le(421))),Uy(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=QJ.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,Pi=Yl(i.nextSibling),Di=e,Gt=!0,bs=null,n!==null&&(Ji[es++]=Sa,Ji[es++]=ka,Ji[es++]=Eu,Sa=n.id,ka=n.overflow,Eu=e),e=_A(e,r.children),e.flags|=4096,e)}function t2(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),rT(n.return,e,t)}function P1(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function ZU(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Lr(n,e,r.children,t),r=tn.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&t2(n,t,e);else if(n.tag===19)t2(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Qt(tn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&gx(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),P1(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&gx(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}P1(e,!0,t,null,s);break;case"together":P1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function X0(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Va(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Ru|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(le(153));if(e.child!==null){for(n=e.child,t=ec(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=ec(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function xJ(n,e,t){switch(e.tag){case 3:zU(e),Dd();break;case 5:gU(e);break;case 1:mi(e.type)&&ux(e);break;case 4:OA(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Qt(fx,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Qt(tn,tn.current&1),e.flags|=128,null):t&e.child.childLanes?qU(n,e,t):(Qt(tn,tn.current&1),n=Va(n,e,t),n!==null?n.sibling:null);Qt(tn,tn.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return ZU(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Qt(tn,tn.current),r)break;return null;case 22:case 23:return e.lanes=0,LU(n,e,t)}return Va(n,e,t)}var FU,hT,BU,WU;FU=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};hT=function(){};BU=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,uu(yo.current);var s=null;switch(t){case"input":i=I_(n,i),r=I_(n,r),s=[];break;case"select":i=sn({},i,{value:void 0}),r=sn({},r,{value:void 0}),s=[];break;case"textarea":i=j_(n,i),r=j_(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=lx)}M_(t,r);var o;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Lm.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Lm.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&qt("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};WU=function(n,e,t,r){t!==r&&(e.flags|=4)};function gp(n,e){if(!Gt)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function wr(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function wJ(n,e,t){var r=e.pendingProps;switch(uA(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wr(e),null;case 1:return mi(e.type)&&cx(),wr(e),null;case 3:return r=e.stateNode,Vd(),Wt(pi),Wt(Rr),vA(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Vy(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,bs!==null&&(vT(bs),bs=null))),hT(n,e),wr(e),null;case 5:yA(e);var i=uu(Km.current);if(t=e.type,n!==null&&e.stateNode!=null)BU(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(le(166));return wr(e),null}if(n=uu(yo.current),Vy(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[so]=e,r[Ym]=s,n=(e.mode&1)!==0,t){case"dialog":qt("cancel",r),qt("close",r);break;case"iframe":case"object":case"embed":qt("load",r);break;case"video":case"audio":for(i=0;i<Lp.length;i++)qt(Lp[i],r);break;case"source":qt("error",r);break;case"img":case"image":case"link":qt("error",r),qt("load",r);break;case"details":qt("toggle",r);break;case"input":uN(r,s),qt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},qt("invalid",r);break;case"textarea":dN(r,s),qt("invalid",r)}M_(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&My(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&My(r.textContent,a,n),i=["children",""+a]):Lm.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&qt("scroll",r)}switch(t){case"input":Ay(r),hN(r,s,!0);break;case"textarea":Ay(r),fN(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=lx)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=w5(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[so]=e,n[Ym]=r,FU(n,e,!1,!1),e.stateNode=n;e:{switch(o=V_(t,r),t){case"dialog":qt("cancel",n),qt("close",n),i=r;break;case"iframe":case"object":case"embed":qt("load",n),i=r;break;case"video":case"audio":for(i=0;i<Lp.length;i++)qt(Lp[i],n);i=r;break;case"source":qt("error",n),i=r;break;case"img":case"image":case"link":qt("error",n),qt("load",n),i=r;break;case"details":qt("toggle",n),i=r;break;case"input":uN(n,r),i=I_(n,r),qt("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=sn({},r,{value:void 0}),qt("invalid",n);break;case"textarea":dN(n,r),i=j_(n,r),qt("invalid",n);break;default:i=r}M_(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?k5(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&b5(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Um(n,l):typeof l=="number"&&Um(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Lm.hasOwnProperty(s)?l!=null&&s==="onScroll"&&qt("scroll",n):l!=null&&GE(n,s,l,o))}switch(t){case"input":Ay(n),hN(n,r,!1);break;case"textarea":Ay(n),fN(n);break;case"option":r.value!=null&&n.setAttribute("value",""+uc(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?td(n,!!r.multiple,s,!1):r.defaultValue!=null&&td(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=lx)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return wr(e),null;case 6:if(n&&e.stateNode!=null)WU(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(le(166));if(t=uu(Km.current),uu(yo.current),Vy(e)){if(r=e.stateNode,t=e.memoizedProps,r[so]=e,(s=r.nodeValue!==t)&&(n=Di,n!==null))switch(n.tag){case 3:My(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&My(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[so]=e,e.stateNode=r}return wr(e),null;case 13:if(Wt(tn),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Gt&&Pi!==null&&e.mode&1&&!(e.flags&128))hU(),Dd(),e.flags|=98560,s=!1;else if(s=Vy(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(le(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(le(317));s[so]=e}else Dd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;wr(e),s=!1}else bs!==null&&(vT(bs),bs=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||tn.current&1?Un===0&&(Un=3):RA())),e.updateQueue!==null&&(e.flags|=4),wr(e),null);case 4:return Vd(),hT(n,e),n===null&&Xm(e.stateNode.containerInfo),wr(e),null;case 10:return pA(e.type._context),wr(e),null;case 17:return mi(e.type)&&cx(),wr(e),null;case 19:if(Wt(tn),s=e.memoizedState,s===null)return wr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)gp(s,!1);else{if(Un!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=gx(n),o!==null){for(e.flags|=128,gp(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Qt(tn,tn.current&1|2),e.child}n=n.sibling}s.tail!==null&&yn()>Ud&&(e.flags|=128,r=!0,gp(s,!1),e.lanes=4194304)}else{if(!r)if(n=gx(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),gp(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Gt)return wr(e),null}else 2*yn()-s.renderingStartTime>Ud&&t!==1073741824&&(e.flags|=128,r=!0,gp(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=yn(),e.sibling=null,t=tn.current,Qt(tn,r?t&1|2:t&1),e):(wr(e),null);case 22:case 23:return AA(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Si&1073741824&&(wr(e),e.subtreeFlags&6&&(e.flags|=8192)):wr(e),null;case 24:return null;case 25:return null}throw Error(le(156,e.tag))}function bJ(n,e){switch(uA(e),e.tag){case 1:return mi(e.type)&&cx(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Vd(),Wt(pi),Wt(Rr),vA(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return yA(e),null;case 13:if(Wt(tn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(le(340));Dd()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Wt(tn),null;case 4:return Vd(),null;case 10:return pA(e.type._context),null;case 22:case 23:return AA(),null;case 24:return null;default:return null}}var zy=!1,Tr=!1,SJ=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function qh(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){cn(n,e,r)}else t.current=null}function dT(n,e,t){try{t()}catch(r){cn(n,e,r)}}var n2=!1;function kJ(n,e){if(G_=sx,n=K5(),lA(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=n,f=null;t:for(;;){for(var m;h!==t||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===n)break t;if(f===t&&++c===i&&(a=o),f===s&&++u===r&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(Y_={focusedElem:n,selectionRange:t},sx=!1,Pe=e;Pe!==null;)if(e=Pe,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Pe=n;else for(;Pe!==null;){e=Pe;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,x=g.memoizedState,S=e.stateNode,_=S.getSnapshotBeforeUpdate(e.elementType===e.type?y:vs(e.type,y),x);S.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(le(163))}}catch(I){cn(e,e.return,I)}if(n=e.sibling,n!==null){n.return=e.return,Pe=n;break}Pe=e.return}return g=n2,n2=!1,g}function wm(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&dT(e,t,s)}i=i.next}while(i!==r)}}function db(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function fT(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function XU(n){var e=n.alternate;e!==null&&(n.alternate=null,XU(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[so],delete e[Ym],delete e[J_],delete e[oJ],delete e[aJ])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function GU(n){return n.tag===5||n.tag===3||n.tag===4}function r2(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||GU(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function pT(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=lx));else if(r!==4&&(n=n.child,n!==null))for(pT(n,e,t),n=n.sibling;n!==null;)pT(n,e,t),n=n.sibling}function mT(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(mT(n,e,t),n=n.sibling;n!==null;)mT(n,e,t),n=n.sibling}var rr=null,ws=!1;function ul(n,e,t){for(t=t.child;t!==null;)YU(n,e,t),t=t.sibling}function YU(n,e,t){if(Oo&&typeof Oo.onCommitFiberUnmount=="function")try{Oo.onCommitFiberUnmount(ib,t)}catch{}switch(t.tag){case 5:Tr||qh(t,e);case 6:var r=rr,i=ws;rr=null,ul(n,e,t),rr=r,ws=i,rr!==null&&(ws?(n=rr,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):rr.removeChild(t.stateNode));break;case 18:rr!==null&&(ws?(n=rr,t=t.stateNode,n.nodeType===8?x1(n.parentNode,t):n.nodeType===1&&x1(n,t),Fm(n)):x1(rr,t.stateNode));break;case 4:r=rr,i=ws,rr=t.stateNode.containerInfo,ws=!0,ul(n,e,t),rr=r,ws=i;break;case 0:case 11:case 14:case 15:if(!Tr&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&dT(t,e,o),i=i.next}while(i!==r)}ul(n,e,t);break;case 1:if(!Tr&&(qh(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){cn(t,e,a)}ul(n,e,t);break;case 21:ul(n,e,t);break;case 22:t.mode&1?(Tr=(r=Tr)||t.memoizedState!==null,ul(n,e,t),Tr=r):ul(n,e,t);break;default:ul(n,e,t)}}function i2(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new SJ),e.forEach(function(r){var i=IJ.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function Os(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:rr=a.stateNode,ws=!1;break e;case 3:rr=a.stateNode.containerInfo,ws=!0;break e;case 4:rr=a.stateNode.containerInfo,ws=!0;break e}a=a.return}if(rr===null)throw Error(le(160));YU(s,o,i),rr=null,ws=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){cn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)HU(e,n),e=e.sibling}function HU(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Os(e,n),Xs(n),r&4){try{wm(3,n,n.return),db(3,n)}catch(y){cn(n,n.return,y)}try{wm(5,n,n.return)}catch(y){cn(n,n.return,y)}}break;case 1:Os(e,n),Xs(n),r&512&&t!==null&&qh(t,t.return);break;case 5:if(Os(e,n),Xs(n),r&512&&t!==null&&qh(t,t.return),n.flags&32){var i=n.stateNode;try{Um(i,"")}catch(y){cn(n,n.return,y)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&v5(i,s),V_(a,o);var c=V_(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?k5(i,h):u==="dangerouslySetInnerHTML"?b5(i,h):u==="children"?Um(i,h):GE(i,u,h,c)}switch(a){case"input":$_(i,s);break;case"textarea":x5(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?td(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?td(i,!!s.multiple,s.defaultValue,!0):td(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ym]=s}catch(y){cn(n,n.return,y)}}break;case 6:if(Os(e,n),Xs(n),r&4){if(n.stateNode===null)throw Error(le(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(y){cn(n,n.return,y)}}break;case 3:if(Os(e,n),Xs(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{Fm(e.containerInfo)}catch(y){cn(n,n.return,y)}break;case 4:Os(e,n),Xs(n);break;case 13:Os(e,n),Xs(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(CA=yn())),r&4&&i2(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(Tr=(c=Tr)||u,Os(e,n),Tr=c):Os(e,n),Xs(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(Pe=n,u=n.child;u!==null;){for(h=Pe=u;Pe!==null;){switch(f=Pe,m=f.child,f.tag){case 0:case 11:case 14:case 15:wm(4,f,f.return);break;case 1:qh(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,t=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){cn(r,t,y)}}break;case 5:qh(f,f.return);break;case 22:if(f.memoizedState!==null){o2(h);continue}}m!==null?(m.return=f,Pe=m):o2(h)}u=u.sibling}e:for(u=null,h=n;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=S5("display",o))}catch(y){cn(n,n.return,y)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){cn(n,n.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Os(e,n),Xs(n),r&4&&i2(n);break;case 21:break;default:Os(e,n),Xs(n)}}function Xs(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(GU(t)){var r=t;break e}t=t.return}throw Error(le(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Um(i,""),r.flags&=-33);var s=r2(n);mT(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=r2(n);pT(n,a,o);break;default:throw Error(le(161))}}catch(l){cn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function _J(n,e,t){Pe=n,KU(n)}function KU(n,e,t){for(var r=(n.mode&1)!==0;Pe!==null;){var i=Pe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||zy;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Tr;a=zy;var c=Tr;if(zy=o,(Tr=l)&&!c)for(Pe=i;Pe!==null;)o=Pe,l=o.child,o.tag===22&&o.memoizedState!==null?a2(i):l!==null?(l.return=o,Pe=l):a2(i);for(;s!==null;)Pe=s,KU(s),s=s.sibling;Pe=i,zy=a,Tr=c}s2(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Pe=s):s2(n)}}function s2(n){for(;Pe!==null;){var e=Pe;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Tr||db(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Tr)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:vs(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&qN(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}qN(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Fm(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(le(163))}Tr||e.flags&512&&fT(e)}catch(f){cn(e,e.return,f)}}if(e===n){Pe=null;break}if(t=e.sibling,t!==null){t.return=e.return,Pe=t;break}Pe=e.return}}function o2(n){for(;Pe!==null;){var e=Pe;if(e===n){Pe=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Pe=t;break}Pe=e.return}}function a2(n){for(;Pe!==null;){var e=Pe;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{db(4,e)}catch(l){cn(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){cn(e,i,l)}}var s=e.return;try{fT(e)}catch(l){cn(e,s,l)}break;case 5:var o=e.return;try{fT(e)}catch(l){cn(e,o,l)}}}catch(l){cn(e,e.return,l)}if(e===n){Pe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Pe=a;break}Pe=e.return}}var TJ=Math.ceil,vx=tl.ReactCurrentDispatcher,TA=tl.ReactCurrentOwner,ss=tl.ReactCurrentBatchConfig,vt=0,tr=null,Cn=null,pr=0,Si=0,Zh=jc(0),Un=0,ng=null,Ru=0,fb=0,PA=0,bm=null,oi=null,CA=0,Ud=1/0,Oa=null,xx=!1,gT=null,Kl=null,qy=!1,Ul=null,wx=0,Sm=0,OT=null,G0=-1,Y0=0;function Zr(){return vt&6?yn():G0!==-1?G0:G0=yn()}function Jl(n){return n.mode&1?vt&2&&pr!==0?pr&-pr:cJ.transition!==null?(Y0===0&&(Y0=j5()),Y0):(n=_t,n!==0||(n=window.event,n=n===void 0?16:q5(n.type)),n):1}function Is(n,e,t,r){if(50<Sm)throw Sm=0,OT=null,Error(le(185));SO(n,t,r),(!(vt&2)||n!==tr)&&(n===tr&&(!(vt&2)&&(fb|=t),Un===4&&bl(n,pr)),gi(n,r),t===1&&vt===0&&!(e.mode&1)&&(Ud=yn()+500,cb&&Dc()))}function gi(n,e){var t=n.callbackNode;cK(n,e);var r=ix(n,n===tr?pr:0);if(r===0)t!==null&&gN(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&gN(t),e===1)n.tag===0?lJ(l2.bind(null,n)):lU(l2.bind(null,n)),iJ(function(){!(vt&6)&&Dc()}),t=null;else{switch(D5(r)){case 1:t=eA;break;case 4:t=$5;break;case 16:t=rx;break;case 536870912:t=N5;break;default:t=rx}t=oz(t,JU.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function JU(n,e){if(G0=-1,Y0=0,vt&6)throw Error(le(327));var t=n.callbackNode;if(od()&&n.callbackNode!==t)return null;var r=ix(n,n===tr?pr:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=bx(n,r);else{e=r;var i=vt;vt|=2;var s=tz();(tr!==n||pr!==e)&&(Oa=null,Ud=yn()+500,bu(n,e));do try{EJ();break}catch(a){ez(n,a)}while(!0);fA(),vx.current=s,vt=i,Cn!==null?e=0:(tr=null,pr=0,e=Un)}if(e!==0){if(e===2&&(i=Z_(n),i!==0&&(r=i,e=yT(n,i))),e===1)throw t=ng,bu(n,0),bl(n,r),gi(n,yn()),t;if(e===6)bl(n,r);else{if(i=n.current.alternate,!(r&30)&&!PJ(i)&&(e=bx(n,r),e===2&&(s=Z_(n),s!==0&&(r=s,e=yT(n,s))),e===1))throw t=ng,bu(n,0),bl(n,r),gi(n,yn()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(le(345));case 2:ru(n,oi,Oa);break;case 3:if(bl(n,r),(r&130023424)===r&&(e=CA+500-yn(),10<e)){if(ix(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){Zr(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=K_(ru.bind(null,n,oi,Oa),e);break}ru(n,oi,Oa);break;case 4:if(bl(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-Qs(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=yn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*TJ(r/1960))-r,10<r){n.timeoutHandle=K_(ru.bind(null,n,oi,Oa),r);break}ru(n,oi,Oa);break;case 5:ru(n,oi,Oa);break;default:throw Error(le(329))}}}return gi(n,yn()),n.callbackNode===t?JU.bind(null,n):null}function yT(n,e){var t=bm;return n.current.memoizedState.isDehydrated&&(bu(n,e).flags|=256),n=bx(n,e),n!==2&&(e=oi,oi=t,e!==null&&vT(e)),n}function vT(n){oi===null?oi=n:oi.push.apply(oi,n)}function PJ(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!js(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function bl(n,e){for(e&=~PA,e&=~fb,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Qs(e),r=1<<t;n[t]=-1,e&=~r}}function l2(n){if(vt&6)throw Error(le(327));od();var e=ix(n,0);if(!(e&1))return gi(n,yn()),null;var t=bx(n,e);if(n.tag!==0&&t===2){var r=Z_(n);r!==0&&(e=r,t=yT(n,r))}if(t===1)throw t=ng,bu(n,0),bl(n,e),gi(n,yn()),t;if(t===6)throw Error(le(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,ru(n,oi,Oa),gi(n,yn()),null}function EA(n,e){var t=vt;vt|=1;try{return n(e)}finally{vt=t,vt===0&&(Ud=yn()+500,cb&&Dc())}}function Qu(n){Ul!==null&&Ul.tag===0&&!(vt&6)&&od();var e=vt;vt|=1;var t=ss.transition,r=_t;try{if(ss.transition=null,_t=1,n)return n()}finally{_t=r,ss.transition=t,vt=e,!(vt&6)&&Dc()}}function AA(){Si=Zh.current,Wt(Zh)}function bu(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,rJ(t)),Cn!==null)for(t=Cn.return;t!==null;){var r=t;switch(uA(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&cx();break;case 3:Vd(),Wt(pi),Wt(Rr),vA();break;case 5:yA(r);break;case 4:Vd();break;case 13:Wt(tn);break;case 19:Wt(tn);break;case 10:pA(r.type._context);break;case 22:case 23:AA()}t=t.return}if(tr=n,Cn=n=ec(n.current,null),pr=Si=e,Un=0,ng=null,PA=fb=Ru=0,oi=bm=null,cu!==null){for(e=0;e<cu.length;e++)if(t=cu[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}cu=null}return n}function ez(n,e){do{var t=Cn;try{if(fA(),B0.current=yx,Ox){for(var r=nn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ox=!1}if(Au=0,Gn=$n=nn=null,xm=!1,Jm=0,TA.current=null,t===null||t.return===null){Un=1,ng=e,Cn=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=pr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=GN(o);if(m!==null){m.flags&=-257,YN(m,o,a,s,e),m.mode&1&&XN(s,c,e),e=m,l=c;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){XN(s,c,e),RA();break e}l=Error(le(426))}}else if(Gt&&a.mode&1){var x=GN(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),YN(x,o,a,s,e),hA(Ld(l,a));break e}}s=l=Ld(l,a),Un!==4&&(Un=2),bm===null?bm=[s]:bm.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var S=DU(s,l,e);zN(s,S);break e;case 1:a=l;var _=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Kl===null||!Kl.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var I=MU(s,a,e);zN(s,I);break e}}s=s.return}while(s!==null)}rz(t)}catch(C){e=C,Cn===t&&t!==null&&(Cn=t=t.return);continue}break}while(!0)}function tz(){var n=vx.current;return vx.current=yx,n===null?yx:n}function RA(){(Un===0||Un===3||Un===2)&&(Un=4),tr===null||!(Ru&268435455)&&!(fb&268435455)||bl(tr,pr)}function bx(n,e){var t=vt;vt|=2;var r=tz();(tr!==n||pr!==e)&&(Oa=null,bu(n,e));do try{CJ();break}catch(i){ez(n,i)}while(!0);if(fA(),vt=t,vx.current=r,Cn!==null)throw Error(le(261));return tr=null,pr=0,Un}function CJ(){for(;Cn!==null;)nz(Cn)}function EJ(){for(;Cn!==null&&!eK();)nz(Cn)}function nz(n){var e=sz(n.alternate,n,Si);n.memoizedProps=n.pendingProps,e===null?rz(n):Cn=e,TA.current=null}function rz(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=bJ(t,e),t!==null){t.flags&=32767,Cn=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Un=6,Cn=null;return}}else if(t=wJ(t,e,Si),t!==null){Cn=t;return}if(e=e.sibling,e!==null){Cn=e;return}Cn=e=n}while(e!==null);Un===0&&(Un=5)}function ru(n,e,t){var r=_t,i=ss.transition;try{ss.transition=null,_t=1,AJ(n,e,t,r)}finally{ss.transition=i,_t=r}return null}function AJ(n,e,t,r){do od();while(Ul!==null);if(vt&6)throw Error(le(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(le(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(uK(n,s),n===tr&&(Cn=tr=null,pr=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||qy||(qy=!0,oz(rx,function(){return od(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=ss.transition,ss.transition=null;var o=_t;_t=1;var a=vt;vt|=4,TA.current=null,kJ(n,t),HU(t,n),YK(Y_),sx=!!G_,Y_=G_=null,n.current=t,_J(t),tK(),vt=a,_t=o,ss.transition=s}else n.current=t;if(qy&&(qy=!1,Ul=n,wx=i),s=n.pendingLanes,s===0&&(Kl=null),iK(t.stateNode),gi(n,yn()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(xx)throw xx=!1,n=gT,gT=null,n;return wx&1&&n.tag!==0&&od(),s=n.pendingLanes,s&1?n===OT?Sm++:(Sm=0,OT=n):Sm=0,Dc(),null}function od(){if(Ul!==null){var n=D5(wx),e=ss.transition,t=_t;try{if(ss.transition=null,_t=16>n?16:n,Ul===null)var r=!1;else{if(n=Ul,Ul=null,wx=0,vt&6)throw Error(le(331));var i=vt;for(vt|=4,Pe=n.current;Pe!==null;){var s=Pe,o=s.child;if(Pe.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Pe=c;Pe!==null;){var u=Pe;switch(u.tag){case 0:case 11:case 15:wm(8,u,s)}var h=u.child;if(h!==null)h.return=u,Pe=h;else for(;Pe!==null;){u=Pe;var f=u.sibling,m=u.return;if(XU(u),u===c){Pe=null;break}if(f!==null){f.return=m,Pe=f;break}Pe=m}}}var g=s.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}Pe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Pe=o;else e:for(;Pe!==null;){if(s=Pe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:wm(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,Pe=S;break e}Pe=s.return}}var _=n.current;for(Pe=_;Pe!==null;){o=Pe;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,Pe=T;else e:for(o=_;Pe!==null;){if(a=Pe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:db(9,a)}}catch(C){cn(a,a.return,C)}if(a===o){Pe=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,Pe=I;break e}Pe=a.return}}if(vt=i,Dc(),Oo&&typeof Oo.onPostCommitFiberRoot=="function")try{Oo.onPostCommitFiberRoot(ib,n)}catch{}r=!0}return r}finally{_t=t,ss.transition=e}}return!1}function c2(n,e,t){e=Ld(t,e),e=DU(n,e,1),n=Hl(n,e,1),e=Zr(),n!==null&&(SO(n,1,e),gi(n,e))}function cn(n,e,t){if(n.tag===3)c2(n,n,t);else for(;e!==null;){if(e.tag===3){c2(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Kl===null||!Kl.has(r))){n=Ld(t,n),n=MU(e,n,1),e=Hl(e,n,1),n=Zr(),e!==null&&(SO(e,1,n),gi(e,n));break}}e=e.return}}function RJ(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Zr(),n.pingedLanes|=n.suspendedLanes&t,tr===n&&(pr&t)===t&&(Un===4||Un===3&&(pr&130023424)===pr&&500>yn()-CA?bu(n,0):PA|=t),gi(n,e)}function iz(n,e){e===0&&(n.mode&1?(e=Iy,Iy<<=1,!(Iy&130023424)&&(Iy=4194304)):e=1);var t=Zr();n=Ma(n,e),n!==null&&(SO(n,e,t),gi(n,t))}function QJ(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),iz(n,t)}function IJ(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(le(314))}r!==null&&r.delete(e),iz(n,t)}var sz;sz=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||pi.current)di=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return di=!1,xJ(n,e,t);di=!!(n.flags&131072)}else di=!1,Gt&&e.flags&1048576&&cU(e,dx,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;X0(n,e),n=e.pendingProps;var i=jd(e,Rr.current);sd(e,t),i=wA(null,e,r,n,i,t);var s=bA();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mi(r)?(s=!0,ux(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,gA(e),i.updater=hb,e.stateNode=i,i._reactInternals=e,sT(e,r,n,t),e=lT(null,e,r,!0,s,t)):(e.tag=0,Gt&&s&&cA(e),Lr(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(X0(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=NJ(r),n=vs(r,n),i){case 0:e=aT(null,e,r,n,t);break e;case 1:e=JN(null,e,r,n,t);break e;case 11:e=HN(null,e,r,n,t);break e;case 14:e=KN(null,e,r,vs(r.type,n),t);break e}throw Error(le(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vs(r,i),aT(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vs(r,i),JN(n,e,r,i,t);case 3:e:{if(zU(e),n===null)throw Error(le(387));r=e.pendingProps,s=e.memoizedState,i=s.element,mU(n,e),mx(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ld(Error(le(423)),e),e=e2(n,e,r,t,i);break e}else if(r!==i){i=Ld(Error(le(424)),e),e=e2(n,e,r,t,i);break e}else for(Pi=Yl(e.stateNode.containerInfo.firstChild),Di=e,Gt=!0,bs=null,t=fU(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Dd(),r===i){e=Va(n,e,t);break e}Lr(n,e,r,t)}e=e.child}return e;case 5:return gU(e),n===null&&nT(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,H_(r,i)?o=null:s!==null&&H_(r,s)&&(e.flags|=32),UU(n,e),Lr(n,e,o,t),e.child;case 6:return n===null&&nT(e),null;case 13:return qU(n,e,t);case 4:return OA(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Md(e,null,r,t):Lr(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vs(r,i),HN(n,e,r,i,t);case 7:return Lr(n,e,e.pendingProps,t),e.child;case 8:return Lr(n,e,e.pendingProps.children,t),e.child;case 12:return Lr(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Qt(fx,r._currentValue),r._currentValue=o,s!==null)if(js(s.value,o)){if(s.children===i.children&&!pi.current){e=Va(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Aa(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),rT(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(le(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),rT(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Lr(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,sd(e,t),i=cs(i),r=r(i),e.flags|=1,Lr(n,e,r,t),e.child;case 14:return r=e.type,i=vs(r,e.pendingProps),i=vs(r.type,i),KN(n,e,r,i,t);case 15:return VU(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vs(r,i),X0(n,e),e.tag=1,mi(r)?(n=!0,ux(e)):n=!1,sd(e,t),jU(e,r,i),sT(e,r,i,t),lT(null,e,r,!0,n,t);case 19:return ZU(n,e,t);case 22:return LU(n,e,t)}throw Error(le(156,e.tag))};function oz(n,e){return I5(n,e)}function $J(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ns(n,e,t,r){return new $J(n,e,t,r)}function QA(n){return n=n.prototype,!(!n||!n.isReactComponent)}function NJ(n){if(typeof n=="function")return QA(n)?1:0;if(n!=null){if(n=n.$$typeof,n===HE)return 11;if(n===KE)return 14}return 2}function ec(n,e){var t=n.alternate;return t===null?(t=ns(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function H0(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")QA(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case $h:return Su(t.children,i,s,e);case YE:o=8,i|=8;break;case E_:return n=ns(12,t,e,i|2),n.elementType=E_,n.lanes=s,n;case A_:return n=ns(13,t,e,i),n.elementType=A_,n.lanes=s,n;case R_:return n=ns(19,t,e,i),n.elementType=R_,n.lanes=s,n;case g5:return pb(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case p5:o=10;break e;case m5:o=9;break e;case HE:o=11;break e;case KE:o=14;break e;case Ol:o=16,r=null;break e}throw Error(le(130,n==null?n:typeof n,""))}return e=ns(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function Su(n,e,t,r){return n=ns(7,n,r,e),n.lanes=t,n}function pb(n,e,t,r){return n=ns(22,n,r,e),n.elementType=g5,n.lanes=t,n.stateNode={isHidden:!1},n}function C1(n,e,t){return n=ns(6,n,null,e),n.lanes=t,n}function E1(n,e,t){return e=ns(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function jJ(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=c1(0),this.expirationTimes=c1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=c1(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function IA(n,e,t,r,i,s,o,a,l){return n=new jJ(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ns(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},gA(s),n}function DJ(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ih,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function az(n){if(!n)return hc;n=n._reactInternals;e:{if(rh(n)!==n||n.tag!==1)throw Error(le(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(le(171))}if(n.tag===1){var t=n.type;if(mi(t))return aU(n,t,e)}return e}function lz(n,e,t,r,i,s,o,a,l){return n=IA(t,r,!0,n,i,s,o,a,l),n.context=az(null),t=n.current,r=Zr(),i=Jl(t),s=Aa(r,i),s.callback=e??null,Hl(t,s,i),n.current.lanes=i,SO(n,i,r),gi(n,r),n}function mb(n,e,t,r){var i=e.current,s=Zr(),o=Jl(i);return t=az(t),e.context===null?e.context=t:e.pendingContext=t,e=Aa(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Hl(i,e,o),n!==null&&(Is(n,i,o,s),F0(n,i,o)),o}function Sx(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function u2(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function $A(n,e){u2(n,e),(n=n.alternate)&&u2(n,e)}function MJ(){return null}var cz=typeof reportError=="function"?reportError:function(n){console.error(n)};function NA(n){this._internalRoot=n}gb.prototype.render=NA.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(le(409));mb(n,e,null,null)};gb.prototype.unmount=NA.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Qu(function(){mb(null,n,null,null)}),e[Da]=null}};function gb(n){this._internalRoot=n}gb.prototype.unstable_scheduleHydration=function(n){if(n){var e=L5();n={blockedOn:null,target:n,priority:e};for(var t=0;t<wl.length&&e!==0&&e<wl[t].priority;t++);wl.splice(t,0,n),t===0&&z5(n)}};function jA(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Ob(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function h2(){}function VJ(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Sx(o);s.call(c)}}var o=lz(e,r,n,0,null,!1,!1,"",h2);return n._reactRootContainer=o,n[Da]=o.current,Xm(n.nodeType===8?n.parentNode:n),Qu(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Sx(l);a.call(c)}}var l=IA(n,0,!1,null,null,!1,!1,"",h2);return n._reactRootContainer=l,n[Da]=l.current,Xm(n.nodeType===8?n.parentNode:n),Qu(function(){mb(e,l,t,r)}),l}function yb(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Sx(o);a.call(l)}}mb(e,o,n,i)}else o=VJ(t,e,n,i,r);return Sx(o)}M5=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Vp(e.pendingLanes);t!==0&&(tA(e,t|1),gi(e,yn()),!(vt&6)&&(Ud=yn()+500,Dc()))}break;case 13:Qu(function(){var r=Ma(n,1);if(r!==null){var i=Zr();Is(r,n,1,i)}}),$A(n,1)}};nA=function(n){if(n.tag===13){var e=Ma(n,134217728);if(e!==null){var t=Zr();Is(e,n,134217728,t)}$A(n,134217728)}};V5=function(n){if(n.tag===13){var e=Jl(n),t=Ma(n,e);if(t!==null){var r=Zr();Is(t,n,e,r)}$A(n,e)}};L5=function(){return _t};U5=function(n,e){var t=_t;try{return _t=n,e()}finally{_t=t}};U_=function(n,e,t){switch(e){case"input":if($_(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=lb(r);if(!i)throw Error(le(90));y5(r),$_(r,i)}}}break;case"textarea":x5(n,t);break;case"select":e=t.value,e!=null&&td(n,!!t.multiple,e,!1)}};P5=EA;C5=Qu;var LJ={usingClientEntryPoint:!1,Events:[_O,Mh,lb,_5,T5,EA]},Op={findFiberByHostInstance:lu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},UJ={bundleType:Op.bundleType,version:Op.version,rendererPackageName:Op.rendererPackageName,rendererConfig:Op.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tl.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=R5(n),n===null?null:n.stateNode},findFiberByHostInstance:Op.findFiberByHostInstance||MJ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zy.isDisabled&&Zy.supportsFiber)try{ib=Zy.inject(UJ),Oo=Zy}catch{}}qi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LJ;qi.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jA(e))throw Error(le(200));return DJ(n,e,null,t)};qi.createRoot=function(n,e){if(!jA(n))throw Error(le(299));var t=!1,r="",i=cz;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=IA(n,1,!1,null,null,t,!1,r,i),n[Da]=e.current,Xm(n.nodeType===8?n.parentNode:n),new NA(e)};qi.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(le(188)):(n=Object.keys(n).join(","),Error(le(268,n)));return n=R5(e),n=n===null?null:n.stateNode,n};qi.flushSync=function(n){return Qu(n)};qi.hydrate=function(n,e,t){if(!Ob(e))throw Error(le(200));return yb(null,n,e,!0,t)};qi.hydrateRoot=function(n,e,t){if(!jA(n))throw Error(le(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=cz;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=lz(e,null,n,1,t??null,i,!1,s,o),n[Da]=e.current,Xm(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new gb(e)};qi.render=function(n,e,t){if(!Ob(e))throw Error(le(200));return yb(null,n,e,!1,t)};qi.unmountComponentAtNode=function(n){if(!Ob(n))throw Error(le(40));return n._reactRootContainer?(Qu(function(){yb(null,null,n,!1,function(){n._reactRootContainer=null,n[Da]=null})}),!0):!1};qi.unstable_batchedUpdates=EA;qi.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!Ob(t))throw Error(le(200));if(n==null||n._reactInternals===void 0)throw Error(le(38));return yb(n,e,t,!1,r)};qi.version="18.3.1-next-f1338f8080-20240426";function uz(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uz)}catch(n){console.error(n)}}uz(),u5.exports=qi;var ih=u5.exports;const zJ=H4(ih);var hz,d2=ih;hz=d2.createRoot,d2.hydrateRoot;var Cf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Iu=typeof window>"u"||"Deno"in globalThis;function Hi(){}function qJ(n,e){return typeof n=="function"?n(e):n}function xT(n){return typeof n=="number"&&n>=0&&n!==1/0}function dz(n,e){return Math.max(n+(e||0)-Date.now(),0)}function ad(n,e){return typeof n=="function"?n(e):n}function Ss(n,e){return typeof n=="function"?n(e):n}function f2(n,e){const{type:t="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=n;if(o){if(r){if(e.queryHash!==DA(o,e.options))return!1}else if(!rg(e.queryKey,o))return!1}if(t!=="all"){const l=e.isActive();if(t==="active"&&!l||t==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function p2(n,e){const{exact:t,status:r,predicate:i,mutationKey:s}=n;if(s){if(!e.options.mutationKey)return!1;if(t){if($u(e.options.mutationKey)!==$u(s))return!1}else if(!rg(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function DA(n,e){return((e==null?void 0:e.queryKeyHashFn)||$u)(n)}function $u(n){return JSON.stringify(n,(e,t)=>wT(t)?Object.keys(t).sort().reduce((r,i)=>(r[i]=t[i],r),{}):t)}function rg(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?!Object.keys(e).some(t=>!rg(n[t],e[t])):!1}function fz(n,e){if(n===e)return n;const t=m2(n)&&m2(e);if(t||wT(n)&&wT(e)){const r=t?n:Object.keys(n),i=r.length,s=t?e:Object.keys(e),o=s.length,a=t?[]:{};let l=0;for(let c=0;c<o;c++){const u=t?c:s[c];(!t&&r.includes(u)||t)&&n[u]===void 0&&e[u]===void 0?(a[u]=void 0,l++):(a[u]=fz(n[u],e[u]),a[u]===n[u]&&n[u]!==void 0&&l++)}return i===o&&l===i?n:a}return e}function kx(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function m2(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function wT(n){if(!g2(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!g2(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function g2(n){return Object.prototype.toString.call(n)==="[object Object]"}function ZJ(n){return new Promise(e=>{setTimeout(e,n)})}function bT(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?fz(n,e):e}function FJ(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function BJ(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var MA=Symbol();function pz(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===MA?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var mu,Rl,bd,U4,WJ=(U4=class extends Cf{constructor(){super();Me(this,mu);Me(this,Rl);Me(this,bd);Se(this,bd,e=>{if(!Iu&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){q(this,Rl)||this.setEventListener(q(this,bd))}onUnsubscribe(){var e;this.hasListeners()||((e=q(this,Rl))==null||e.call(this),Se(this,Rl,void 0))}setEventListener(e){var t;Se(this,bd,e),(t=q(this,Rl))==null||t.call(this),Se(this,Rl,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){q(this,mu)!==e&&(Se(this,mu,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof q(this,mu)=="boolean"?q(this,mu):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},mu=new WeakMap,Rl=new WeakMap,bd=new WeakMap,U4),VA=new WJ,Sd,Ql,kd,z4,XJ=(z4=class extends Cf{constructor(){super();Me(this,Sd,!0);Me(this,Ql);Me(this,kd);Se(this,kd,e=>{if(!Iu&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){q(this,Ql)||this.setEventListener(q(this,kd))}onUnsubscribe(){var e;this.hasListeners()||((e=q(this,Ql))==null||e.call(this),Se(this,Ql,void 0))}setEventListener(e){var t;Se(this,kd,e),(t=q(this,Ql))==null||t.call(this),Se(this,Ql,e(this.setOnline.bind(this)))}setOnline(e){q(this,Sd)!==e&&(Se(this,Sd,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return q(this,Sd)}},Sd=new WeakMap,Ql=new WeakMap,kd=new WeakMap,z4),_x=new XJ;function ST(){let n,e;const t=new Promise((i,s)=>{n=i,e=s});t.status="pending",t.catch(()=>{});function r(i){Object.assign(t,i),delete t.resolve,delete t.reject}return t.resolve=i=>{r({status:"fulfilled",value:i}),n(i)},t.reject=i=>{r({status:"rejected",reason:i}),e(i)},t}function GJ(n){return Math.min(1e3*2**n,3e4)}function mz(n){return(n??"online")==="online"?_x.isOnline():!0}var gz=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function A1(n){return n instanceof gz}function Oz(n){let e=!1,t=0,r=!1,i;const s=ST(),o=y=>{var x;r||(f(new gz(y)),(x=n.abort)==null||x.call(n))},a=()=>{e=!0},l=()=>{e=!1},c=()=>VA.isFocused()&&(n.networkMode==="always"||_x.isOnline())&&n.canRun(),u=()=>mz(n.networkMode)&&n.canRun(),h=y=>{var x;r||(r=!0,(x=n.onSuccess)==null||x.call(n,y),i==null||i(),s.resolve(y))},f=y=>{var x;r||(r=!0,(x=n.onError)==null||x.call(n,y),i==null||i(),s.reject(y))},m=()=>new Promise(y=>{var x;i=S=>{(r||c())&&y(S)},(x=n.onPause)==null||x.call(n)}).then(()=>{var y;i=void 0,r||(y=n.onContinue)==null||y.call(n)}),g=()=>{if(r)return;let y;const x=t===0?n.initialPromise:void 0;try{y=x??n.fn()}catch(S){y=Promise.reject(S)}Promise.resolve(y).then(h).catch(S=>{var Q;if(r)return;const _=n.retry??(Iu?0:3),T=n.retryDelay??GJ,I=typeof T=="function"?T(t,S):T,C=_===!0||typeof _=="number"&&t<_||typeof _=="function"&&_(t,S);if(e||!C){f(S);return}t++,(Q=n.onFail)==null||Q.call(n,t,S),ZJ(I).then(()=>c()?void 0:m()).then(()=>{e?f(S):g()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?g():m().then(g),s)}}function YJ(){let n=[],e=0,t=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const s=a=>{e?n.push(a):i(()=>{t(a)})},o=()=>{const a=n;n=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{t(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{t=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var jn=YJ(),gu,q4,yz=(q4=class{constructor(){Me(this,gu)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),xT(this.gcTime)&&Se(this,gu,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Iu?1/0:5*60*1e3))}clearGcTimeout(){q(this,gu)&&(clearTimeout(q(this,gu)),Se(this,gu,void 0))}},gu=new WeakMap,q4),_d,Td,Yi,Sr,yO,Ou,xs,ha,Z4,HJ=(Z4=class extends yz{constructor(t){super();Me(this,xs);Me(this,_d);Me(this,Td);Me(this,Yi);Me(this,Sr);Me(this,yO);Me(this,Ou);Se(this,Ou,!1),Se(this,yO,t.defaultOptions),this.setOptions(t.options),this.observers=[],Se(this,Yi,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Se(this,_d,KJ(this.options)),this.state=t.state??q(this,_d),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=q(this,Sr))==null?void 0:t.promise}setOptions(t){this.options={...q(this,yO),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&q(this,Yi).remove(this)}setData(t,r){const i=bT(this.state.data,t,this.options);return et(this,xs,ha).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(t,r){et(this,xs,ha).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var i,s;const r=(i=q(this,Sr))==null?void 0:i.promise;return(s=q(this,Sr))==null||s.cancel(t),r?r.then(Hi).catch(Hi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(q(this,_d))}isActive(){return this.observers.some(t=>Ss(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===MA||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!dz(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(i=>i.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=q(this,Sr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(i=>i.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=q(this,Sr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),q(this,Yi).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(q(this,Sr)&&(q(this,Ou)?q(this,Sr).cancel({revert:!0}):q(this,Sr).cancelRetry()),this.scheduleGc()),q(this,Yi).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||et(this,xs,ha).call(this,{type:"invalidate"})}fetch(t,r){var c,u,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(q(this,Sr))return q(this,Sr).continueRetry(),q(this,Sr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const i=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(Se(this,Ou,!0),i.signal)})},o=()=>{const f=pz(this.options,r),m={queryKey:this.queryKey,meta:this.meta};return s(m),Se(this,Ou,!1),this.options.persister?this.options.persister(f,m,this):f(m)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(a),(c=this.options.behavior)==null||c.onFetch(a,this),Se(this,Td,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&et(this,xs,ha).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta});const l=f=>{var m,g,y,x;A1(f)&&f.silent||et(this,xs,ha).call(this,{type:"error",error:f}),A1(f)||((g=(m=q(this,Yi).config).onError)==null||g.call(m,f,this),(x=(y=q(this,Yi).config).onSettled)==null||x.call(y,this.state.data,f,this)),this.scheduleGc()};return Se(this,Sr,Oz({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:f=>{var m,g,y,x;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(S){l(S);return}(g=(m=q(this,Yi).config).onSuccess)==null||g.call(m,f,this),(x=(y=q(this,Yi).config).onSettled)==null||x.call(y,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,m)=>{et(this,xs,ha).call(this,{type:"failed",failureCount:f,error:m})},onPause:()=>{et(this,xs,ha).call(this,{type:"pause"})},onContinue:()=>{et(this,xs,ha).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),q(this,Sr).start()}},_d=new WeakMap,Td=new WeakMap,Yi=new WeakMap,Sr=new WeakMap,yO=new WeakMap,Ou=new WeakMap,xs=new WeakSet,ha=function(t){const r=i=>{switch(t.type){case"failed":return{...i,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...vz(i.data,this.options),fetchMeta:t.meta??null};case"success":return{...i,data:t.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return A1(s)&&s.revert&&q(this,Td)?{...q(this,Td),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...t.state}}};this.state=r(this.state),jn.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),q(this,Yi).notify({query:this,type:"updated",action:t})})},Z4);function vz(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:mz(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function KJ(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var to,F4,JJ=(F4=class extends Cf{constructor(e={}){super();Me(this,to);this.config=e,Se(this,to,new Map)}build(e,t,r){const i=t.queryKey,s=t.queryHash??DA(i,t);let o=this.get(s);return o||(o=new HJ({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){q(this,to).has(e.queryHash)||(q(this,to).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=q(this,to).get(e.queryHash);t&&(e.destroy(),t===e&&q(this,to).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){jn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return q(this,to).get(e)}getAll(){return[...q(this,to).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>f2(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>f2(e,r)):t}notify(e){jn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){jn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){jn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},to=new WeakMap,F4),no,Mr,yu,ro,ml,B4,eee=(B4=class extends yz{constructor(t){super();Me(this,ro);Me(this,no);Me(this,Mr);Me(this,yu);this.mutationId=t.mutationId,Se(this,Mr,t.mutationCache),Se(this,no,[]),this.state=t.state||xz(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){q(this,no).includes(t)||(q(this,no).push(t),this.clearGcTimeout(),q(this,Mr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Se(this,no,q(this,no).filter(r=>r!==t)),this.scheduleGc(),q(this,Mr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){q(this,no).length||(this.state.status==="pending"?this.scheduleGc():q(this,Mr).remove(this))}continue(){var t;return((t=q(this,yu))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,o,a,l,c,u,h,f,m,g,y,x,S,_,T,I,C,Q,O,w;Se(this,yu,Oz({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(k,R)=>{et(this,ro,ml).call(this,{type:"failed",failureCount:k,error:R})},onPause:()=>{et(this,ro,ml).call(this,{type:"pause"})},onContinue:()=>{et(this,ro,ml).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>q(this,Mr).canRun(this)}));const r=this.state.status==="pending",i=!q(this,yu).canStart();try{if(!r){et(this,ro,ml).call(this,{type:"pending",variables:t,isPaused:i}),await((o=(s=q(this,Mr).config).onMutate)==null?void 0:o.call(s,t,this));const R=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,t));R!==this.state.context&&et(this,ro,ml).call(this,{type:"pending",context:R,variables:t,isPaused:i})}const k=await q(this,yu).start();return await((u=(c=q(this,Mr).config).onSuccess)==null?void 0:u.call(c,k,t,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,k,t,this.state.context)),await((g=(m=q(this,Mr).config).onSettled)==null?void 0:g.call(m,k,null,this.state.variables,this.state.context,this)),await((x=(y=this.options).onSettled)==null?void 0:x.call(y,k,null,t,this.state.context)),et(this,ro,ml).call(this,{type:"success",data:k}),k}catch(k){try{throw await((_=(S=q(this,Mr).config).onError)==null?void 0:_.call(S,k,t,this.state.context,this)),await((I=(T=this.options).onError)==null?void 0:I.call(T,k,t,this.state.context)),await((Q=(C=q(this,Mr).config).onSettled)==null?void 0:Q.call(C,void 0,k,this.state.variables,this.state.context,this)),await((w=(O=this.options).onSettled)==null?void 0:w.call(O,void 0,k,t,this.state.context)),k}finally{et(this,ro,ml).call(this,{type:"error",error:k})}}finally{q(this,Mr).runNext(this)}}},no=new WeakMap,Mr=new WeakMap,yu=new WeakMap,ro=new WeakSet,ml=function(t){const r=i=>{switch(t.type){case"failed":return{...i,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...i,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:t.error,failureCount:i.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),jn.batch(()=>{q(this,no).forEach(i=>{i.onMutationUpdate(t)}),q(this,Mr).notify({mutation:this,type:"updated",action:t})})},B4);function xz(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var bi,vO,W4,tee=(W4=class extends Cf{constructor(e={}){super();Me(this,bi);Me(this,vO);this.config=e,Se(this,bi,new Map),Se(this,vO,Date.now())}build(e,t,r){const i=new eee({mutationCache:this,mutationId:++Py(this,vO)._,options:e.defaultMutationOptions(t),state:r});return this.add(i),i}add(e){const t=Fy(e),r=q(this,bi).get(t)??[];r.push(e),q(this,bi).set(t,r),this.notify({type:"added",mutation:e})}remove(e){var r;const t=Fy(e);if(q(this,bi).has(t)){const i=(r=q(this,bi).get(t))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?q(this,bi).delete(t):q(this,bi).set(t,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const t=(r=q(this,bi).get(Fy(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!t||t===e}runNext(e){var r;const t=(r=q(this,bi).get(Fy(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(t==null?void 0:t.continue())??Promise.resolve()}clear(){jn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...q(this,bi).values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(r=>p2(t,r))}findAll(e={}){return this.getAll().filter(t=>p2(e,t))}notify(e){jn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return jn.batch(()=>Promise.all(e.map(t=>t.continue().catch(Hi))))}},bi=new WeakMap,vO=new WeakMap,W4);function Fy(n){var e;return((e=n.options.scope)==null?void 0:e.id)??String(n.mutationId)}function O2(n){return{onFetch:(e,t)=>{var u,h,f,m,g;const r=e.options,i=(f=(h=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,s=((m=e.state.data)==null?void 0:m.pages)||[],o=((g=e.state.data)==null?void 0:g.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let y=!1;const x=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},S=pz(e.options,e.fetchOptions),_=async(T,I,C)=>{if(y)return Promise.reject();if(I==null&&T.pages.length)return Promise.resolve(T);const Q={queryKey:e.queryKey,pageParam:I,direction:C?"backward":"forward",meta:e.options.meta};x(Q);const O=await S(Q),{maxPages:w}=e.options,k=C?BJ:FJ;return{pages:k(T.pages,O,w),pageParams:k(T.pageParams,I,w)}};if(i&&s.length){const T=i==="backward",I=T?nee:y2,C={pages:s,pageParams:o},Q=I(r,C);a=await _(C,Q,T)}else{const T=n??s.length;do{const I=l===0?o[0]??r.initialPageParam:y2(r,a);if(l>0&&I==null)break;a=await _(a,I),l++}while(l<T)}return a};e.options.persister?e.fetchFn=()=>{var y,x;return(x=(y=e.options).persister)==null?void 0:x.call(y,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=c}}}function y2(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function nee(n,{pages:e,pageParams:t}){var r;return e.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t):void 0}var ln,Il,$l,Pd,Cd,Nl,Ed,Ad,X4,ree=(X4=class{constructor(n={}){Me(this,ln);Me(this,Il);Me(this,$l);Me(this,Pd);Me(this,Cd);Me(this,Nl);Me(this,Ed);Me(this,Ad);Se(this,ln,n.queryCache||new JJ),Se(this,Il,n.mutationCache||new tee),Se(this,$l,n.defaultOptions||{}),Se(this,Pd,new Map),Se(this,Cd,new Map),Se(this,Nl,0)}mount(){Py(this,Nl)._++,q(this,Nl)===1&&(Se(this,Ed,VA.subscribe(async n=>{n&&(await this.resumePausedMutations(),q(this,ln).onFocus())})),Se(this,Ad,_x.subscribe(async n=>{n&&(await this.resumePausedMutations(),q(this,ln).onOnline())})))}unmount(){var n,e;Py(this,Nl)._--,q(this,Nl)===0&&((n=q(this,Ed))==null||n.call(this),Se(this,Ed,void 0),(e=q(this,Ad))==null||e.call(this),Se(this,Ad,void 0))}isFetching(n){return q(this,ln).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return q(this,Il).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=q(this,ln).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.getQueryData(n.queryKey);if(e===void 0)return this.fetchQuery(n);{const t=this.defaultQueryOptions(n),r=q(this,ln).build(this,t);return n.revalidateIfStale&&r.isStaleByTime(ad(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(e)}}getQueriesData(n){return q(this,ln).findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),i=q(this,ln).get(r.queryHash),s=i==null?void 0:i.state.data,o=qJ(e,s);if(o!==void 0)return q(this,ln).build(this,r).setData(o,{...t,manual:!0})}setQueriesData(n,e,t){return jn.batch(()=>q(this,ln).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=q(this,ln).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=q(this,ln);jn.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=q(this,ln),r={type:"active",...n};return jn.batch(()=>(t.findAll(n).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(n={},e={}){const t={revert:!0,...e},r=jn.batch(()=>q(this,ln).findAll(n).map(i=>i.cancel(t)));return Promise.all(r).then(Hi).catch(Hi)}invalidateQueries(n={},e={}){return jn.batch(()=>{if(q(this,ln).findAll(n).forEach(r=>{r.invalidate()}),n.refetchType==="none")return Promise.resolve();const t={...n,type:n.refetchType??n.type??"active"};return this.refetchQueries(t,e)})}refetchQueries(n={},e){const t={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=jn.batch(()=>q(this,ln).findAll(n).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,t);return t.throwOnError||(s=s.catch(Hi)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Hi)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=q(this,ln).build(this,e);return t.isStaleByTime(ad(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(Hi).catch(Hi)}fetchInfiniteQuery(n){return n.behavior=O2(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(Hi).catch(Hi)}ensureInfiniteQueryData(n){return n.behavior=O2(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return _x.isOnline()?q(this,Il).resumePausedMutations():Promise.resolve()}getQueryCache(){return q(this,ln)}getMutationCache(){return q(this,Il)}getDefaultOptions(){return q(this,$l)}setDefaultOptions(n){Se(this,$l,n)}setQueryDefaults(n,e){q(this,Pd).set($u(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...q(this,Pd).values()];let t={};return e.forEach(r=>{rg(n,r.queryKey)&&(t={...t,...r.defaultOptions})}),t}setMutationDefaults(n,e){q(this,Cd).set($u(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...q(this,Cd).values()];let t={};return e.forEach(r=>{rg(n,r.mutationKey)&&(t={...t,...r.defaultOptions})}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...q(this,$l).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=DA(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===MA&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...q(this,$l).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){q(this,ln).clear(),q(this,Il).clear()}},ln=new WeakMap,Il=new WeakMap,$l=new WeakMap,Pd=new WeakMap,Cd=new WeakMap,Nl=new WeakMap,Ed=new WeakMap,Ad=new WeakMap,X4),ni,dt,xO,Vr,vu,Rd,jl,io,wO,Qd,Id,xu,wu,Dl,$d,St,Up,kT,_T,TT,PT,CT,ET,AT,wz,G4,iee=(G4=class extends Cf{constructor(e,t){super();Me(this,St);Me(this,ni);Me(this,dt);Me(this,xO);Me(this,Vr);Me(this,vu);Me(this,Rd);Me(this,jl);Me(this,io);Me(this,wO);Me(this,Qd);Me(this,Id);Me(this,xu);Me(this,wu);Me(this,Dl);Me(this,$d,new Set);this.options=t,Se(this,ni,e),Se(this,io,null),Se(this,jl,ST()),this.options.experimental_prefetchInRender||q(this,jl).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(q(this,dt).addObserver(this),v2(q(this,dt),this.options)?et(this,St,Up).call(this):this.updateResult(),et(this,St,PT).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return RT(q(this,dt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return RT(q(this,dt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,et(this,St,CT).call(this),et(this,St,ET).call(this),q(this,dt).removeObserver(this)}setOptions(e,t){const r=this.options,i=q(this,dt);if(this.options=q(this,ni).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ss(this.options.enabled,q(this,dt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");et(this,St,AT).call(this),q(this,dt).setOptions(this.options),r._defaulted&&!kx(this.options,r)&&q(this,ni).getQueryCache().notify({type:"observerOptionsUpdated",query:q(this,dt),observer:this});const s=this.hasListeners();s&&x2(q(this,dt),i,this.options,r)&&et(this,St,Up).call(this),this.updateResult(t),s&&(q(this,dt)!==i||Ss(this.options.enabled,q(this,dt))!==Ss(r.enabled,q(this,dt))||ad(this.options.staleTime,q(this,dt))!==ad(r.staleTime,q(this,dt)))&&et(this,St,kT).call(this);const o=et(this,St,_T).call(this);s&&(q(this,dt)!==i||Ss(this.options.enabled,q(this,dt))!==Ss(r.enabled,q(this,dt))||o!==q(this,Dl))&&et(this,St,TT).call(this,o)}getOptimisticResult(e){const t=q(this,ni).getQueryCache().build(q(this,ni),e),r=this.createResult(t,e);return oee(this,r)&&(Se(this,Vr,r),Se(this,Rd,this.options),Se(this,vu,q(this,dt).state)),r}getCurrentResult(){return q(this,Vr)}trackResult(e,t){const r={};return Object.keys(e).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),t==null||t(i),e[i])})}),r}trackProp(e){q(this,$d).add(e)}getCurrentQuery(){return q(this,dt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=q(this,ni).defaultQueryOptions(e),r=q(this,ni).getQueryCache().build(q(this,ni),t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return et(this,St,Up).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),q(this,Vr)))}createResult(e,t){var w;const r=q(this,dt),i=this.options,s=q(this,Vr),o=q(this,vu),a=q(this,Rd),c=e!==r?e.state:q(this,xO),{state:u}=e;let h={...u},f=!1,m;if(t._optimisticResults){const k=this.hasListeners(),R=!k&&v2(e,t),P=k&&x2(e,r,t,i);(R||P)&&(h={...h,...vz(u.data,e.options)}),t._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:g,errorUpdatedAt:y,status:x}=h;if(t.select&&h.data!==void 0)if(s&&h.data===(o==null?void 0:o.data)&&t.select===q(this,wO))m=q(this,Qd);else try{Se(this,wO,t.select),m=t.select(h.data),m=bT(s==null?void 0:s.data,m,t),Se(this,Qd,m),Se(this,io,null)}catch(k){Se(this,io,k)}else m=h.data;if(t.placeholderData!==void 0&&m===void 0&&x==="pending"){let k;if(s!=null&&s.isPlaceholderData&&t.placeholderData===(a==null?void 0:a.placeholderData))k=s.data;else if(k=typeof t.placeholderData=="function"?t.placeholderData((w=q(this,Id))==null?void 0:w.state.data,q(this,Id)):t.placeholderData,t.select&&k!==void 0)try{k=t.select(k),Se(this,io,null)}catch(R){Se(this,io,R)}k!==void 0&&(x="success",m=bT(s==null?void 0:s.data,k,t),f=!0)}q(this,io)&&(g=q(this,io),m=q(this,Qd),y=Date.now(),x="error");const S=h.fetchStatus==="fetching",_=x==="pending",T=x==="error",I=_&&S,C=m!==void 0,O={status:x,fetchStatus:h.fetchStatus,isPending:_,isSuccess:x==="success",isError:T,isInitialLoading:I,isLoading:I,data:m,dataUpdatedAt:h.dataUpdatedAt,error:g,errorUpdatedAt:y,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:S,isRefetching:S&&!_,isLoadingError:T&&!C,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:T&&C,isStale:LA(e,t),refetch:this.refetch,promise:q(this,jl)};if(this.options.experimental_prefetchInRender){const k=v=>{O.status==="error"?v.reject(O.error):O.data!==void 0&&v.resolve(O.data)},R=()=>{const v=Se(this,jl,O.promise=ST());k(v)},P=q(this,jl);switch(P.status){case"pending":e.queryHash===r.queryHash&&k(P);break;case"fulfilled":(O.status==="error"||O.data!==P.value)&&R();break;case"rejected":(O.status!=="error"||O.error!==P.reason)&&R();break}}return O}updateResult(e){const t=q(this,Vr),r=this.createResult(q(this,dt),this.options);if(Se(this,vu,q(this,dt).state),Se(this,Rd,this.options),q(this,vu).data!==void 0&&Se(this,Id,q(this,dt)),kx(r,t))return;Se(this,Vr,r);const i={},s=()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!q(this,$d).size)return!0;const l=new Set(a??q(this,$d));return this.options.throwOnError&&l.add("error"),Object.keys(q(this,Vr)).some(c=>{const u=c;return q(this,Vr)[u]!==t[u]&&l.has(u)})};(e==null?void 0:e.listeners)!==!1&&s()&&(i.listeners=!0),et(this,St,wz).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&et(this,St,PT).call(this)}},ni=new WeakMap,dt=new WeakMap,xO=new WeakMap,Vr=new WeakMap,vu=new WeakMap,Rd=new WeakMap,jl=new WeakMap,io=new WeakMap,wO=new WeakMap,Qd=new WeakMap,Id=new WeakMap,xu=new WeakMap,wu=new WeakMap,Dl=new WeakMap,$d=new WeakMap,St=new WeakSet,Up=function(e){et(this,St,AT).call(this);let t=q(this,dt).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(Hi)),t},kT=function(){et(this,St,CT).call(this);const e=ad(this.options.staleTime,q(this,dt));if(Iu||q(this,Vr).isStale||!xT(e))return;const r=dz(q(this,Vr).dataUpdatedAt,e)+1;Se(this,xu,setTimeout(()=>{q(this,Vr).isStale||this.updateResult()},r))},_T=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(q(this,dt)):this.options.refetchInterval)??!1},TT=function(e){et(this,St,ET).call(this),Se(this,Dl,e),!(Iu||Ss(this.options.enabled,q(this,dt))===!1||!xT(q(this,Dl))||q(this,Dl)===0)&&Se(this,wu,setInterval(()=>{(this.options.refetchIntervalInBackground||VA.isFocused())&&et(this,St,Up).call(this)},q(this,Dl)))},PT=function(){et(this,St,kT).call(this),et(this,St,TT).call(this,et(this,St,_T).call(this))},CT=function(){q(this,xu)&&(clearTimeout(q(this,xu)),Se(this,xu,void 0))},ET=function(){q(this,wu)&&(clearInterval(q(this,wu)),Se(this,wu,void 0))},AT=function(){const e=q(this,ni).getQueryCache().build(q(this,ni),this.options);if(e===q(this,dt))return;const t=q(this,dt);Se(this,dt,e),Se(this,xO,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},wz=function(e){jn.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(q(this,Vr))}),q(this,ni).getQueryCache().notify({query:q(this,dt),type:"observerResultsUpdated"})})},G4);function see(n,e){return Ss(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function v2(n,e){return see(n,e)||n.state.data!==void 0&&RT(n,e,e.refetchOnMount)}function RT(n,e,t){if(Ss(e.enabled,n)!==!1){const r=typeof t=="function"?t(n):t;return r==="always"||r!==!1&&LA(n,e)}return!1}function x2(n,e,t,r){return(n!==e||Ss(r.enabled,n)===!1)&&(!t.suspense||n.state.status!=="error")&&LA(n,t)}function LA(n,e){return Ss(e.enabled,n)!==!1&&n.isStaleByTime(ad(e.staleTime,n))}function oee(n,e){return!kx(n.getCurrentResult(),e)}var Ml,Vl,ri,wa,Na,K0,QT,Y4,aee=(Y4=class extends Cf{constructor(t,r){super();Me(this,Na);Me(this,Ml);Me(this,Vl);Me(this,ri);Me(this,wa);Se(this,Ml,t),this.setOptions(r),this.bindMethods(),et(this,Na,K0).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var i;const r=this.options;this.options=q(this,Ml).defaultMutationOptions(t),kx(this.options,r)||q(this,Ml).getMutationCache().notify({type:"observerOptionsUpdated",mutation:q(this,ri),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&$u(r.mutationKey)!==$u(this.options.mutationKey)?this.reset():((i=q(this,ri))==null?void 0:i.state.status)==="pending"&&q(this,ri).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=q(this,ri))==null||t.removeObserver(this)}onMutationUpdate(t){et(this,Na,K0).call(this),et(this,Na,QT).call(this,t)}getCurrentResult(){return q(this,Vl)}reset(){var t;(t=q(this,ri))==null||t.removeObserver(this),Se(this,ri,void 0),et(this,Na,K0).call(this),et(this,Na,QT).call(this)}mutate(t,r){var i;return Se(this,wa,r),(i=q(this,ri))==null||i.removeObserver(this),Se(this,ri,q(this,Ml).getMutationCache().build(q(this,Ml),this.options)),q(this,ri).addObserver(this),q(this,ri).execute(t)}},Ml=new WeakMap,Vl=new WeakMap,ri=new WeakMap,wa=new WeakMap,Na=new WeakSet,K0=function(){var r;const t=((r=q(this,ri))==null?void 0:r.state)??xz();Se(this,Vl,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},QT=function(t){jn.batch(()=>{var r,i,s,o,a,l,c,u;if(q(this,wa)&&this.hasListeners()){const h=q(this,Vl).variables,f=q(this,Vl).context;(t==null?void 0:t.type)==="success"?((i=(r=q(this,wa)).onSuccess)==null||i.call(r,t.data,h,f),(o=(s=q(this,wa)).onSettled)==null||o.call(s,t.data,null,h,f)):(t==null?void 0:t.type)==="error"&&((l=(a=q(this,wa)).onError)==null||l.call(a,t.error,h,f),(u=(c=q(this,wa)).onSettled)==null||u.call(c,void 0,t.error,h,f))}this.listeners.forEach(h=>{h(q(this,Vl))})})},Y4),bz=b.createContext(void 0),Fi=n=>{const e=b.useContext(bz);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},lee=({client:n,children:e})=>(b.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),d.jsx(bz.Provider,{value:n,children:e})),Sz=b.createContext(!1),cee=()=>b.useContext(Sz);Sz.Provider;function uee(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var hee=b.createContext(uee()),dee=()=>b.useContext(hee);function kz(n,e){return typeof n=="function"?n(...e):!!n}function IT(){}var fee=(n,e)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(e.isReset()||(n.retryOnMount=!1))},pee=n=>{b.useEffect(()=>{n.clearReset()},[n])},mee=({result:n,errorResetBoundary:e,throwOnError:t,query:r})=>n.isError&&!e.isReset()&&!n.isFetching&&r&&kz(t,[n.error,r]),gee=n=>{n.suspense&&(n.staleTime===void 0&&(n.staleTime=1e3),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3)))},Oee=(n,e)=>n.isLoading&&n.isFetching&&!e,yee=(n,e)=>(n==null?void 0:n.suspense)&&e.isPending,w2=(n,e,t)=>e.fetchOptimistic(n).catch(()=>{t.clearReset()});function vee(n,e,t){var u,h,f,m,g;const r=Fi(),i=cee(),s=dee(),o=r.defaultQueryOptions(n);(h=(u=r.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||h.call(u,o),o._optimisticResults=i?"isRestoring":"optimistic",gee(o),fee(o,s),pee(s);const a=!r.getQueryCache().get(o.queryHash),[l]=b.useState(()=>new e(r,o)),c=l.getOptimisticResult(o);if(b.useSyncExternalStore(b.useCallback(y=>{const x=i?IT:l.subscribe(jn.batchCalls(y));return l.updateResult(),x},[l,i]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),b.useEffect(()=>{l.setOptions(o,{listeners:!1})},[o,l]),yee(o,c))throw w2(o,l,s);if(mee({result:c,errorResetBoundary:s,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw c.error;if((m=(f=r.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||m.call(f,o,c),o.experimental_prefetchInRender&&!Iu&&Oee(c,i)){const y=a?w2(o,l,s):(g=r.getQueryCache().get(o.queryHash))==null?void 0:g.promise;y==null||y.catch(IT).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?c:l.trackResult(c)}function Nu(n,e){return vee(n,iee)}function R1(n,e){const t=Fi(),[r]=b.useState(()=>new aee(t,n));b.useEffect(()=>{r.setOptions(n)},[r,n]);const i=b.useSyncExternalStore(b.useCallback(o=>r.subscribe(jn.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=b.useCallback((o,a)=>{r.mutate(o,a).catch(IT)},[r]);if(i.error&&kz(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}async function xee(n){if(!n.ok){const e=await n.text()||n.statusText;throw new Error(`${n.status}: ${e}`)}}const wee=({on401:n})=>async({queryKey:e})=>{const t=await fetch(e[0],{credentials:"include"});return n==="returnNull"&&t.status===401?null:(await xee(t),await t.json())},_z=new ree({defaultOptions:{queries:{queryFn:wee({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!0,staleTime:3e4,retry:!1},mutations:{retry:!1,onSuccess:()=>{_z.invalidateQueries()}}}});function bee(n,e){if(n instanceof RegExp)return{keys:!1,pattern:n};var t,r,i,s,o=[],a="",l=n.split("/");for(l[0]||l.shift();i=l.shift();)t=i[0],t==="*"?(o.push(t),a+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):t===":"?(r=i.indexOf("?",1),s=i.indexOf(".",1),o.push(i.substring(1,~r?r:~s?s:i.length)),a+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(a+=(~r?"?":"")+"\\"+i.substring(s))):a+="/"+i;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var Tz={exports:{}},Pz={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zd=b;function See(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var kee=typeof Object.is=="function"?Object.is:See,_ee=zd.useState,Tee=zd.useEffect,Pee=zd.useLayoutEffect,Cee=zd.useDebugValue;function Eee(n,e){var t=e(),r=_ee({inst:{value:t,getSnapshot:e}}),i=r[0].inst,s=r[1];return Pee(function(){i.value=t,i.getSnapshot=e,Q1(i)&&s({inst:i})},[n,t,e]),Tee(function(){return Q1(i)&&s({inst:i}),n(function(){Q1(i)&&s({inst:i})})},[n]),Cee(t),t}function Q1(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!kee(n,t)}catch{return!0}}function Aee(n,e){return e()}var Ree=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Aee:Eee;Pz.useSyncExternalStore=zd.useSyncExternalStore!==void 0?zd.useSyncExternalStore:Ree;Tz.exports=Pz;var Qee=Tz.exports;const Iee=l5.useInsertionEffect,$ee=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Nee=$ee?b.useLayoutEffect:b.useEffect,jee=Iee||Nee,Cz=n=>{const e=b.useRef([n,(...t)=>e[0](...t)]).current;return jee(()=>{e[0]=n}),e[1]},Dee="popstate",UA="pushState",zA="replaceState",Mee="hashchange",b2=[Dee,UA,zA,Mee],Vee=n=>{for(const e of b2)addEventListener(e,n);return()=>{for(const e of b2)removeEventListener(e,n)}},Ez=(n,e)=>Qee.useSyncExternalStore(Vee,n,e),Lee=()=>location.search,Uee=({ssrSearch:n=""}={})=>Ez(Lee,()=>n),S2=()=>location.pathname,zee=({ssrPath:n}={})=>Ez(S2,n?()=>n:S2),qee=(n,{replace:e=!1,state:t=null}={})=>history[e?zA:UA](t,"",n),Zee=(n={})=>[zee(n),qee],k2=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[k2]>"u"){for(const n of[UA,zA]){const e=history[n];history[n]=function(){const t=e.apply(this,arguments),r=new Event(n);return r.arguments=arguments,dispatchEvent(r),t}}Object.defineProperty(window,k2,{value:!0})}const Fee=(n,e)=>e.toLowerCase().indexOf(n.toLowerCase())?"~"+e:e.slice(n.length)||"/",Az=(n="")=>n==="/"?"":n,Bee=(n,e)=>n[0]==="~"?n.slice(1):Az(e)+n,Wee=(n="",e)=>Fee(_2(Az(n)),_2(e)),_2=n=>{try{return decodeURI(n)}catch{return n}},Rz={hook:Zee,searchHook:Uee,parser:bee,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:n=>n},Qz=b.createContext(Rz),Ef=()=>b.useContext(Qz),Iz={},$z=b.createContext(Iz),PO=()=>b.useContext($z),vb=n=>{const[e,t]=n.hook(n);return[Wee(n.base,e),Cz((r,i)=>t(Bee(r,n.base),i))]},Bi=()=>vb(Ef()),qA=(n,e,t,r)=>{const{pattern:i,keys:s}=e instanceof RegExp?{keys:!1,pattern:e}:n(e||"*",r),o=i.exec(t)||[],[a,...l]=o;return a!==void 0?[!0,(()=>{const c=s!==!1?Object.fromEntries(s.map((h,f)=>[h,l[f]])):o.groups;let u={...l};return c&&Object.assign(u,c),u})(),...r?[a]:[]]:[!1,null]},Xee=n=>qA(Ef().parser,n,Bi()[0]),Gee=({children:n,...e})=>{var u,h;const t=Ef(),r=e.hook?Rz:t;let i=r;const[s,o]=((u=e.ssrPath)==null?void 0:u.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=s),e.hrefs=e.hrefs??((h=e.hook)==null?void 0:h.hrefs);let a=b.useRef({}),l=a.current,c=l;for(let f in r){const m=f==="base"?r[f]+(e[f]||""):e[f]||r[f];l===c&&m!==c[f]&&(a.current=c={...c}),c[f]=m,m!==r[f]&&(i=c)}return b.createElement(Qz.Provider,{value:i,children:n})},T2=({children:n,component:e},t)=>e?b.createElement(e,{params:t}):typeof n=="function"?n(t):n,Yee=n=>{let e=b.useRef(Iz),t=e.current;for(const r in n)n[r]!==t[r]&&(t=n);return Object.keys(n).length===0&&(t=n),e.current=t},Gi=({path:n,nest:e,match:t,...r})=>{const i=Ef(),[s]=vb(i),[o,a,l]=t??qA(i.parser,n,s,e),c=Yee({...PO(),...a});if(!o)return null;const u=l?b.createElement(Gee,{base:l},T2(r,c)):T2(r,c);return b.createElement($z.Provider,{value:c,children:u})},Jt=b.forwardRef((n,e)=>{const t=Ef(),[r,i]=vb(t),{to:s="",href:o=s,onClick:a,asChild:l,children:c,className:u,replace:h,state:f,...m}=n,g=Cz(x=>{x.ctrlKey||x.metaKey||x.altKey||x.shiftKey||x.button!==0||(a==null||a(x),x.defaultPrevented||(x.preventDefault(),i(o,n)))}),y=t.hrefs(o[0]==="~"?o.slice(1):t.base+o,t);return l&&b.isValidElement(c)?b.cloneElement(c,{onClick:g,href:y}):b.createElement("a",{...m,onClick:g,href:y,className:u!=null&&u.call?u(r===o):u,children:c,ref:e})}),Nz=n=>Array.isArray(n)?n.flatMap(e=>Nz(e&&e.type===b.Fragment?e.props.children:e)):[n],Hee=({children:n,location:e})=>{const t=Ef(),[r]=vb(t);for(const i of Nz(n)){let s=0;if(b.isValidElement(i)&&(s=qA(t.parser,i.props.path,e||r,i.props.nest))[0])return b.cloneElement(i,{match:s})}return null},Kee=()=>{};var P2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jz=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Jee=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],o=n[t++],a=n[t++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Dz={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0,u=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(f=64)),r.push(t[u],t[h],t[f],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(jz(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Jee(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const h=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new ete;const f=s<<2|a>>4;if(r.push(f),c!==64){const m=a<<4&240|c>>2;if(r.push(m),h!==64){const g=c<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ete extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tte=function(n){const e=jz(n);return Dz.encodeByteArray(e,!0)},Tx=function(n){return tte(n).replace(/\./g,"")},Mz=function(n){try{return Dz.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nte(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rte=()=>nte().__FIREBASE_DEFAULTS__,ite=()=>{if(typeof process>"u"||typeof P2>"u")return;const n=P2.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},ste=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Mz(n[1]);return e&&JSON.parse(e)},xb=()=>{try{return Kee()||rte()||ite()||ste()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Vz=n=>{var e,t;return(t=(e=xb())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Lz=n=>{const e=Vz(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Uz=()=>{var n;return(n=xb())===null||n===void 0?void 0:n.config},zz=n=>{var e;return(e=xb())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ote{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qz(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Tx(JSON.stringify(t)),Tx(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ate(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qr())}function lte(){var n;const e=(n=xb())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cte(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ute(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function hte(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dte(){const n=Qr();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function fte(){return!lte()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pte(){try{return typeof indexedDB=="object"}catch{return!1}}function mte(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gte="FirebaseError";class Yo extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=gte,Object.setPrototypeOf(this,Yo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,CO.prototype.create)}}class CO{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Ote(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Yo(i,a,r)}}function Ote(n,e){return n.replace(yte,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const yte=/\{\$([^}]+)}/g;function vte(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ju(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(C2(s)&&C2(o)){if(!ju(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function C2(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function zp(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function qp(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function xte(n,e){const t=new wte(n,e);return t.subscribe.bind(t)}class wte{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");bte(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=I1),i.error===void 0&&(i.error=I1),i.complete===void 0&&(i.complete=I1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bte(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function I1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(n){return n&&n._delegate?n._delegate:n}class dc{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ste=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new ote;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_te(e))try{this.getOrInitializeService({instanceIdentifier:iu})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=iu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=iu){return this.instances.has(e)}getOptions(e=iu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:kte(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=iu){return this.component?this.component.multipleInstances?e:iu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function kte(n){return n===iu?void 0:n}function _te(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tte{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ste(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ot||(ot={}));const Pte={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},Cte=ot.INFO,Ete={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},Ate=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=Ete[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ZA{constructor(e){this.name=e,this._logLevel=Cte,this._logHandler=Ate,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Pte[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...e),this._logHandler(this,ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...e),this._logHandler(this,ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...e),this._logHandler(this,ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...e),this._logHandler(this,ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...e),this._logHandler(this,ot.ERROR,...e)}}const Rte=(n,e)=>e.some(t=>n instanceof t);let E2,A2;function Qte(){return E2||(E2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ite(){return A2||(A2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Zz=new WeakMap,$T=new WeakMap,Fz=new WeakMap,$1=new WeakMap,FA=new WeakMap;function $te(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(tc(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&Zz.set(t,n)}).catch(()=>{}),FA.set(e,n),e}function Nte(n){if($T.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});$T.set(n,e)}let NT={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return $T.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Fz.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return tc(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function jte(n){NT=n(NT)}function Dte(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(N1(this),e,...t);return Fz.set(r,e.sort?e.sort():[e]),tc(r)}:Ite().includes(n)?function(...e){return n.apply(N1(this),e),tc(Zz.get(this))}:function(...e){return tc(n.apply(N1(this),e))}}function Mte(n){return typeof n=="function"?Dte(n):(n instanceof IDBTransaction&&Nte(n),Rte(n,Qte())?new Proxy(n,NT):n)}function tc(n){if(n instanceof IDBRequest)return $te(n);if($1.has(n))return $1.get(n);const e=Mte(n);return e!==n&&($1.set(n,e),FA.set(e,n)),e}const N1=n=>FA.get(n);function Vte(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=tc(o);return r&&o.addEventListener("upgradeneeded",l=>{r(tc(o.result),l.oldVersion,l.newVersion,tc(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Lte=["get","getKey","getAll","getAllKeys","count"],Ute=["put","add","delete","clear"],j1=new Map;function R2(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(j1.get(e))return j1.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=Ute.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Lte.includes(t)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[t](...a),i&&l.done]))[0]};return j1.set(e,s),s}jte(n=>({...n,get:(e,t,r)=>R2(e,t)||n.get(e,t,r),has:(e,t)=>!!R2(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zte{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(qte(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function qte(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jT="@firebase/app",Q2="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La=new ZA("@firebase/app"),Zte="@firebase/app-compat",Fte="@firebase/analytics-compat",Bte="@firebase/analytics",Wte="@firebase/app-check-compat",Xte="@firebase/app-check",Gte="@firebase/auth",Yte="@firebase/auth-compat",Hte="@firebase/database",Kte="@firebase/data-connect",Jte="@firebase/database-compat",ene="@firebase/functions",tne="@firebase/functions-compat",nne="@firebase/installations",rne="@firebase/installations-compat",ine="@firebase/messaging",sne="@firebase/messaging-compat",one="@firebase/performance",ane="@firebase/performance-compat",lne="@firebase/remote-config",cne="@firebase/remote-config-compat",une="@firebase/storage",hne="@firebase/storage-compat",dne="@firebase/firestore",fne="@firebase/vertexai",pne="@firebase/firestore-compat",mne="firebase",gne="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="[DEFAULT]",One={[jT]:"fire-core",[Zte]:"fire-core-compat",[Bte]:"fire-analytics",[Fte]:"fire-analytics-compat",[Xte]:"fire-app-check",[Wte]:"fire-app-check-compat",[Gte]:"fire-auth",[Yte]:"fire-auth-compat",[Hte]:"fire-rtdb",[Kte]:"fire-data-connect",[Jte]:"fire-rtdb-compat",[ene]:"fire-fn",[tne]:"fire-fn-compat",[nne]:"fire-iid",[rne]:"fire-iid-compat",[ine]:"fire-fcm",[sne]:"fire-fcm-compat",[one]:"fire-perf",[ane]:"fire-perf-compat",[lne]:"fire-rc",[cne]:"fire-rc-compat",[une]:"fire-gcs",[hne]:"fire-gcs-compat",[dne]:"fire-fst",[pne]:"fire-fst-compat",[fne]:"fire-vertex","fire-js":"fire-js",[mne]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px=new Map,yne=new Map,MT=new Map;function I2(n,e){try{n.container.addComponent(e)}catch(t){La.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Du(n){const e=n.name;if(MT.has(e))return La.debug(`There were multiple attempts to register component ${e}.`),!1;MT.set(e,n);for(const t of Px.values())I2(t,n);for(const t of yne.values())I2(t,n);return!0}function wb(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ti(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vne={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},nc=new CO("app","Firebase",vne);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xne{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new dc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw nc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh=gne;function Bz(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:DT,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw nc.create("bad-app-name",{appName:String(i)});if(t||(t=Uz()),!t)throw nc.create("no-options");const s=Px.get(i);if(s){if(ju(t,s.options)&&ju(r,s.config))return s;throw nc.create("duplicate-app",{appName:i})}const o=new Tte(i);for(const l of MT.values())o.addComponent(l);const a=new xne(t,r,o);return Px.set(i,a),a}function BA(n=DT){const e=Px.get(n);if(!e&&n===DT&&Uz())return Bz();if(!e)throw nc.create("no-app",{appName:n});return e}function vo(n,e,t){var r;let i=(r=One[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),La.warn(a.join(" "));return}Du(new dc(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wne="firebase-heartbeat-database",bne=1,ig="firebase-heartbeat-store";let D1=null;function Wz(){return D1||(D1=Vte(wne,bne,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ig)}catch(t){console.warn(t)}}}}).catch(n=>{throw nc.create("idb-open",{originalErrorMessage:n.message})})),D1}async function Sne(n){try{const t=(await Wz()).transaction(ig),r=await t.objectStore(ig).get(Xz(n));return await t.done,r}catch(e){if(e instanceof Yo)La.warn(e.message);else{const t=nc.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});La.warn(t.message)}}}async function $2(n,e){try{const r=(await Wz()).transaction(ig,"readwrite");await r.objectStore(ig).put(e,Xz(n)),await r.done}catch(t){if(t instanceof Yo)La.warn(t.message);else{const r=nc.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});La.warn(r.message)}}}function Xz(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kne=1024,_ne=30;class Tne{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Cne(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=N2();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>_ne){const o=Ene(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){La.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=N2(),{heartbeatsToSend:r,unsentEntries:i}=Pne(this._heartbeatsCache.heartbeats),s=Tx(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return La.warn(t),""}}}function N2(){return new Date().toISOString().substring(0,10)}function Pne(n,e=kne){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),j2(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),j2(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class Cne{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pte()?mte().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Sne(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return $2(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return $2(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function j2(n){return Tx(JSON.stringify({version:2,heartbeats:n})).length}function Ene(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ane(n){Du(new dc("platform-logger",e=>new zte(e),"PRIVATE")),Du(new dc("heartbeat",e=>new Tne(e),"PRIVATE")),vo(jT,Q2,n),vo(jT,Q2,"esm2017"),vo("fire-js","")}Ane("");var D2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rc,Gz;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,w){function k(){}k.prototype=w.prototype,O.D=w.prototype,O.prototype=new k,O.prototype.constructor=O,O.C=function(R,P,v){for(var A=Array(arguments.length-2),j=2;j<arguments.length;j++)A[j-2]=arguments[j];return w.prototype[P].apply(R,A)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(O,w,k){k||(k=0);var R=Array(16);if(typeof w=="string")for(var P=0;16>P;++P)R[P]=w.charCodeAt(k++)|w.charCodeAt(k++)<<8|w.charCodeAt(k++)<<16|w.charCodeAt(k++)<<24;else for(P=0;16>P;++P)R[P]=w[k++]|w[k++]<<8|w[k++]<<16|w[k++]<<24;w=O.g[0],k=O.g[1],P=O.g[2];var v=O.g[3],A=w+(v^k&(P^v))+R[0]+3614090360&4294967295;w=k+(A<<7&4294967295|A>>>25),A=v+(P^w&(k^P))+R[1]+3905402710&4294967295,v=w+(A<<12&4294967295|A>>>20),A=P+(k^v&(w^k))+R[2]+606105819&4294967295,P=v+(A<<17&4294967295|A>>>15),A=k+(w^P&(v^w))+R[3]+3250441966&4294967295,k=P+(A<<22&4294967295|A>>>10),A=w+(v^k&(P^v))+R[4]+4118548399&4294967295,w=k+(A<<7&4294967295|A>>>25),A=v+(P^w&(k^P))+R[5]+1200080426&4294967295,v=w+(A<<12&4294967295|A>>>20),A=P+(k^v&(w^k))+R[6]+2821735955&4294967295,P=v+(A<<17&4294967295|A>>>15),A=k+(w^P&(v^w))+R[7]+4249261313&4294967295,k=P+(A<<22&4294967295|A>>>10),A=w+(v^k&(P^v))+R[8]+1770035416&4294967295,w=k+(A<<7&4294967295|A>>>25),A=v+(P^w&(k^P))+R[9]+2336552879&4294967295,v=w+(A<<12&4294967295|A>>>20),A=P+(k^v&(w^k))+R[10]+4294925233&4294967295,P=v+(A<<17&4294967295|A>>>15),A=k+(w^P&(v^w))+R[11]+2304563134&4294967295,k=P+(A<<22&4294967295|A>>>10),A=w+(v^k&(P^v))+R[12]+1804603682&4294967295,w=k+(A<<7&4294967295|A>>>25),A=v+(P^w&(k^P))+R[13]+4254626195&4294967295,v=w+(A<<12&4294967295|A>>>20),A=P+(k^v&(w^k))+R[14]+2792965006&4294967295,P=v+(A<<17&4294967295|A>>>15),A=k+(w^P&(v^w))+R[15]+1236535329&4294967295,k=P+(A<<22&4294967295|A>>>10),A=w+(P^v&(k^P))+R[1]+4129170786&4294967295,w=k+(A<<5&4294967295|A>>>27),A=v+(k^P&(w^k))+R[6]+3225465664&4294967295,v=w+(A<<9&4294967295|A>>>23),A=P+(w^k&(v^w))+R[11]+643717713&4294967295,P=v+(A<<14&4294967295|A>>>18),A=k+(v^w&(P^v))+R[0]+3921069994&4294967295,k=P+(A<<20&4294967295|A>>>12),A=w+(P^v&(k^P))+R[5]+3593408605&4294967295,w=k+(A<<5&4294967295|A>>>27),A=v+(k^P&(w^k))+R[10]+38016083&4294967295,v=w+(A<<9&4294967295|A>>>23),A=P+(w^k&(v^w))+R[15]+3634488961&4294967295,P=v+(A<<14&4294967295|A>>>18),A=k+(v^w&(P^v))+R[4]+3889429448&4294967295,k=P+(A<<20&4294967295|A>>>12),A=w+(P^v&(k^P))+R[9]+568446438&4294967295,w=k+(A<<5&4294967295|A>>>27),A=v+(k^P&(w^k))+R[14]+3275163606&4294967295,v=w+(A<<9&4294967295|A>>>23),A=P+(w^k&(v^w))+R[3]+4107603335&4294967295,P=v+(A<<14&4294967295|A>>>18),A=k+(v^w&(P^v))+R[8]+1163531501&4294967295,k=P+(A<<20&4294967295|A>>>12),A=w+(P^v&(k^P))+R[13]+2850285829&4294967295,w=k+(A<<5&4294967295|A>>>27),A=v+(k^P&(w^k))+R[2]+4243563512&4294967295,v=w+(A<<9&4294967295|A>>>23),A=P+(w^k&(v^w))+R[7]+1735328473&4294967295,P=v+(A<<14&4294967295|A>>>18),A=k+(v^w&(P^v))+R[12]+2368359562&4294967295,k=P+(A<<20&4294967295|A>>>12),A=w+(k^P^v)+R[5]+4294588738&4294967295,w=k+(A<<4&4294967295|A>>>28),A=v+(w^k^P)+R[8]+2272392833&4294967295,v=w+(A<<11&4294967295|A>>>21),A=P+(v^w^k)+R[11]+1839030562&4294967295,P=v+(A<<16&4294967295|A>>>16),A=k+(P^v^w)+R[14]+4259657740&4294967295,k=P+(A<<23&4294967295|A>>>9),A=w+(k^P^v)+R[1]+2763975236&4294967295,w=k+(A<<4&4294967295|A>>>28),A=v+(w^k^P)+R[4]+1272893353&4294967295,v=w+(A<<11&4294967295|A>>>21),A=P+(v^w^k)+R[7]+4139469664&4294967295,P=v+(A<<16&4294967295|A>>>16),A=k+(P^v^w)+R[10]+3200236656&4294967295,k=P+(A<<23&4294967295|A>>>9),A=w+(k^P^v)+R[13]+681279174&4294967295,w=k+(A<<4&4294967295|A>>>28),A=v+(w^k^P)+R[0]+3936430074&4294967295,v=w+(A<<11&4294967295|A>>>21),A=P+(v^w^k)+R[3]+3572445317&4294967295,P=v+(A<<16&4294967295|A>>>16),A=k+(P^v^w)+R[6]+76029189&4294967295,k=P+(A<<23&4294967295|A>>>9),A=w+(k^P^v)+R[9]+3654602809&4294967295,w=k+(A<<4&4294967295|A>>>28),A=v+(w^k^P)+R[12]+3873151461&4294967295,v=w+(A<<11&4294967295|A>>>21),A=P+(v^w^k)+R[15]+530742520&4294967295,P=v+(A<<16&4294967295|A>>>16),A=k+(P^v^w)+R[2]+3299628645&4294967295,k=P+(A<<23&4294967295|A>>>9),A=w+(P^(k|~v))+R[0]+4096336452&4294967295,w=k+(A<<6&4294967295|A>>>26),A=v+(k^(w|~P))+R[7]+1126891415&4294967295,v=w+(A<<10&4294967295|A>>>22),A=P+(w^(v|~k))+R[14]+2878612391&4294967295,P=v+(A<<15&4294967295|A>>>17),A=k+(v^(P|~w))+R[5]+4237533241&4294967295,k=P+(A<<21&4294967295|A>>>11),A=w+(P^(k|~v))+R[12]+1700485571&4294967295,w=k+(A<<6&4294967295|A>>>26),A=v+(k^(w|~P))+R[3]+2399980690&4294967295,v=w+(A<<10&4294967295|A>>>22),A=P+(w^(v|~k))+R[10]+4293915773&4294967295,P=v+(A<<15&4294967295|A>>>17),A=k+(v^(P|~w))+R[1]+2240044497&4294967295,k=P+(A<<21&4294967295|A>>>11),A=w+(P^(k|~v))+R[8]+1873313359&4294967295,w=k+(A<<6&4294967295|A>>>26),A=v+(k^(w|~P))+R[15]+4264355552&4294967295,v=w+(A<<10&4294967295|A>>>22),A=P+(w^(v|~k))+R[6]+2734768916&4294967295,P=v+(A<<15&4294967295|A>>>17),A=k+(v^(P|~w))+R[13]+1309151649&4294967295,k=P+(A<<21&4294967295|A>>>11),A=w+(P^(k|~v))+R[4]+4149444226&4294967295,w=k+(A<<6&4294967295|A>>>26),A=v+(k^(w|~P))+R[11]+3174756917&4294967295,v=w+(A<<10&4294967295|A>>>22),A=P+(w^(v|~k))+R[2]+718787259&4294967295,P=v+(A<<15&4294967295|A>>>17),A=k+(v^(P|~w))+R[9]+3951481745&4294967295,O.g[0]=O.g[0]+w&4294967295,O.g[1]=O.g[1]+(P+(A<<21&4294967295|A>>>11))&4294967295,O.g[2]=O.g[2]+P&4294967295,O.g[3]=O.g[3]+v&4294967295}r.prototype.u=function(O,w){w===void 0&&(w=O.length);for(var k=w-this.blockSize,R=this.B,P=this.h,v=0;v<w;){if(P==0)for(;v<=k;)i(this,O,v),v+=this.blockSize;if(typeof O=="string"){for(;v<w;)if(R[P++]=O.charCodeAt(v++),P==this.blockSize){i(this,R),P=0;break}}else for(;v<w;)if(R[P++]=O[v++],P==this.blockSize){i(this,R),P=0;break}}this.h=P,this.o+=w},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var w=1;w<O.length-8;++w)O[w]=0;var k=8*this.o;for(w=O.length-8;w<O.length;++w)O[w]=k&255,k/=256;for(this.u(O),O=Array(16),w=k=0;4>w;++w)for(var R=0;32>R;R+=8)O[k++]=this.g[w]>>>R&255;return O};function s(O,w){var k=a;return Object.prototype.hasOwnProperty.call(k,O)?k[O]:k[O]=w(O)}function o(O,w){this.h=w;for(var k=[],R=!0,P=O.length-1;0<=P;P--){var v=O[P]|0;R&&v==w||(k[P]=v,R=!1)}this.g=k}var a={};function l(O){return-128<=O&&128>O?s(O,function(w){return new o([w|0],0>w?-1:0)}):new o([O|0],0>O?-1:0)}function c(O){if(isNaN(O)||!isFinite(O))return h;if(0>O)return x(c(-O));for(var w=[],k=1,R=0;O>=k;R++)w[R]=O/k|0,k*=4294967296;return new o(w,0)}function u(O,w){if(O.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(O.charAt(0)=="-")return x(u(O.substring(1),w));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=c(Math.pow(w,8)),R=h,P=0;P<O.length;P+=8){var v=Math.min(8,O.length-P),A=parseInt(O.substring(P,P+v),w);8>v?(v=c(Math.pow(w,v)),R=R.j(v).add(c(A))):(R=R.j(k),R=R.add(c(A)))}return R}var h=l(0),f=l(1),m=l(16777216);n=o.prototype,n.m=function(){if(y(this))return-x(this).m();for(var O=0,w=1,k=0;k<this.g.length;k++){var R=this.i(k);O+=(0<=R?R:4294967296+R)*w,w*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(g(this))return"0";if(y(this))return"-"+x(this).toString(O);for(var w=c(Math.pow(O,6)),k=this,R="";;){var P=I(k,w).g;k=S(k,P.j(w));var v=((0<k.g.length?k.g[0]:k.h)>>>0).toString(O);if(k=P,g(k))return v+R;for(;6>v.length;)v="0"+v;R=v+R}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function g(O){if(O.h!=0)return!1;for(var w=0;w<O.g.length;w++)if(O.g[w]!=0)return!1;return!0}function y(O){return O.h==-1}n.l=function(O){return O=S(this,O),y(O)?-1:g(O)?0:1};function x(O){for(var w=O.g.length,k=[],R=0;R<w;R++)k[R]=~O.g[R];return new o(k,~O.h).add(f)}n.abs=function(){return y(this)?x(this):this},n.add=function(O){for(var w=Math.max(this.g.length,O.g.length),k=[],R=0,P=0;P<=w;P++){var v=R+(this.i(P)&65535)+(O.i(P)&65535),A=(v>>>16)+(this.i(P)>>>16)+(O.i(P)>>>16);R=A>>>16,v&=65535,A&=65535,k[P]=A<<16|v}return new o(k,k[k.length-1]&-2147483648?-1:0)};function S(O,w){return O.add(x(w))}n.j=function(O){if(g(this)||g(O))return h;if(y(this))return y(O)?x(this).j(x(O)):x(x(this).j(O));if(y(O))return x(this.j(x(O)));if(0>this.l(m)&&0>O.l(m))return c(this.m()*O.m());for(var w=this.g.length+O.g.length,k=[],R=0;R<2*w;R++)k[R]=0;for(R=0;R<this.g.length;R++)for(var P=0;P<O.g.length;P++){var v=this.i(R)>>>16,A=this.i(R)&65535,j=O.i(P)>>>16,V=O.i(P)&65535;k[2*R+2*P]+=A*V,_(k,2*R+2*P),k[2*R+2*P+1]+=v*V,_(k,2*R+2*P+1),k[2*R+2*P+1]+=A*j,_(k,2*R+2*P+1),k[2*R+2*P+2]+=v*j,_(k,2*R+2*P+2)}for(R=0;R<w;R++)k[R]=k[2*R+1]<<16|k[2*R];for(R=w;R<2*w;R++)k[R]=0;return new o(k,0)};function _(O,w){for(;(O[w]&65535)!=O[w];)O[w+1]+=O[w]>>>16,O[w]&=65535,w++}function T(O,w){this.g=O,this.h=w}function I(O,w){if(g(w))throw Error("division by zero");if(g(O))return new T(h,h);if(y(O))return w=I(x(O),w),new T(x(w.g),x(w.h));if(y(w))return w=I(O,x(w)),new T(x(w.g),w.h);if(30<O.g.length){if(y(O)||y(w))throw Error("slowDivide_ only works with positive integers.");for(var k=f,R=w;0>=R.l(O);)k=C(k),R=C(R);var P=Q(k,1),v=Q(R,1);for(R=Q(R,2),k=Q(k,2);!g(R);){var A=v.add(R);0>=A.l(O)&&(P=P.add(k),v=A),R=Q(R,1),k=Q(k,1)}return w=S(O,P.j(w)),new T(P,w)}for(P=h;0<=O.l(w);){for(k=Math.max(1,Math.floor(O.m()/w.m())),R=Math.ceil(Math.log(k)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),v=c(k),A=v.j(w);y(A)||0<A.l(O);)k-=R,v=c(k),A=v.j(w);g(v)&&(v=f),P=P.add(v),O=S(O,A)}return new T(P,O)}n.A=function(O){return I(this,O).h},n.and=function(O){for(var w=Math.max(this.g.length,O.g.length),k=[],R=0;R<w;R++)k[R]=this.i(R)&O.i(R);return new o(k,this.h&O.h)},n.or=function(O){for(var w=Math.max(this.g.length,O.g.length),k=[],R=0;R<w;R++)k[R]=this.i(R)|O.i(R);return new o(k,this.h|O.h)},n.xor=function(O){for(var w=Math.max(this.g.length,O.g.length),k=[],R=0;R<w;R++)k[R]=this.i(R)^O.i(R);return new o(k,this.h^O.h)};function C(O){for(var w=O.g.length+1,k=[],R=0;R<w;R++)k[R]=O.i(R)<<1|O.i(R-1)>>>31;return new o(k,O.h)}function Q(O,w){var k=w>>5;w%=32;for(var R=O.g.length-k,P=[],v=0;v<R;v++)P[v]=0<w?O.i(v+k)>>>w|O.i(v+k+1)<<32-w:O.i(v+k);return new o(P,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Gz=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,rc=o}).apply(typeof D2<"u"?D2:typeof self<"u"?self:typeof window<"u"?window:{});var By=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yz,Zp,Hz,J0,VT,Kz,Jz,e3;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,E,$){return p==Array.prototype||p==Object.prototype||(p[E]=$.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof By=="object"&&By];for(var E=0;E<p.length;++E){var $=p[E];if($&&$.Math==Math)return $}throw Error("Cannot find global object")}var r=t(this);function i(p,E){if(E)e:{var $=r;p=p.split(".");for(var M=0;M<p.length-1;M++){var B=p[M];if(!(B in $))break e;$=$[B]}p=p[p.length-1],M=$[p],E=E(M),E!=M&&E!=null&&e($,p,{configurable:!0,writable:!0,value:E})}}function s(p,E){p instanceof String&&(p+="");var $=0,M=!1,B={next:function(){if(!M&&$<p.length){var H=$++;return{value:E(H,p[H]),done:!1}}return M=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}i("Array.prototype.values",function(p){return p||function(){return s(this,function(E,$){return $})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(p){var E=typeof p;return E=E!="object"?E:p?Array.isArray(p)?"array":E:"null",E=="array"||E=="object"&&typeof p.length=="number"}function c(p){var E=typeof p;return E=="object"&&p!=null||E=="function"}function u(p,E,$){return p.call.apply(p.bind,arguments)}function h(p,E,$){if(!p)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,M),p.apply(E,B)}}return function(){return p.apply(E,arguments)}}function f(p,E,$){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,f.apply(null,arguments)}function m(p,E){var $=Array.prototype.slice.call(arguments,1);return function(){var M=$.slice();return M.push.apply(M,arguments),p.apply(this,M)}}function g(p,E){function $(){}$.prototype=E.prototype,p.aa=E.prototype,p.prototype=new $,p.prototype.constructor=p,p.Qb=function(M,B,H){for(var pe=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)pe[Tt-2]=arguments[Tt];return E.prototype[B].apply(M,pe)}}function y(p){const E=p.length;if(0<E){const $=Array(E);for(let M=0;M<E;M++)$[M]=p[M];return $}return[]}function x(p,E){for(let $=1;$<arguments.length;$++){const M=arguments[$];if(l(M)){const B=p.length||0,H=M.length||0;p.length=B+H;for(let pe=0;pe<H;pe++)p[B+pe]=M[pe]}else p.push(M)}}class S{constructor(E,$){this.i=E,this.j=$,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function _(p){return/^[\s\xa0]*$/.test(p)}function T(){var p=a.navigator;return p&&(p=p.userAgent)?p:""}function I(p){return I[" "](p),p}I[" "]=function(){};var C=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function Q(p,E,$){for(const M in p)E.call($,p[M],M,p)}function O(p,E){for(const $ in p)E.call(void 0,p[$],$,p)}function w(p){const E={};for(const $ in p)E[$]=p[$];return E}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(p,E){let $,M;for(let B=1;B<arguments.length;B++){M=arguments[B];for($ in M)p[$]=M[$];for(let H=0;H<k.length;H++)$=k[H],Object.prototype.hasOwnProperty.call(M,$)&&(p[$]=M[$])}}function P(p){var E=1;p=p.split(":");const $=[];for(;0<E&&p.length;)$.push(p.shift()),E--;return p.length&&$.push(p.join(":")),$}function v(p){a.setTimeout(()=>{throw p},0)}function A(){var p=L;let E=null;return p.g&&(E=p.g,p.g=p.g.next,p.g||(p.h=null),E.next=null),E}class j{constructor(){this.h=this.g=null}add(E,$){const M=V.get();M.set(E,$),this.h?this.h.next=M:this.g=M,this.h=M}}var V=new S(()=>new U,p=>p.reset());class U{constructor(){this.next=this.g=this.h=null}set(E,$){this.h=E,this.g=$,this.next=null}reset(){this.next=this.g=this.h=null}}let W,D=!1,L=new j,Y=()=>{const p=a.Promise.resolve(void 0);W=()=>{p.then(F)}};var F=()=>{for(var p;p=A();){try{p.h.call(p.g)}catch($){v($)}var E=V;E.j(p),100>E.h&&(E.h++,p.next=E.g,E.g=p)}D=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G(p,E){this.type=p,this.g=this.target=E,this.defaultPrevented=!1}G.prototype.h=function(){this.defaultPrevented=!0};var J=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var p=!1,E=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const $=()=>{};a.addEventListener("test",$,E),a.removeEventListener("test",$,E)}catch{}return p}();function ae(p,E){if(G.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var $=this.type=p.type,M=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=E,E=p.relatedTarget){if(C){e:{try{I(E.nodeName);var B=!0;break e}catch{}B=!1}B||(E=null)}}else $=="mouseover"?E=p.fromElement:$=="mouseout"&&(E=p.toElement);this.relatedTarget=E,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:oe[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&ae.aa.h.call(this)}}g(ae,G);var oe={2:"touch",3:"pen",4:"mouse"};ae.prototype.h=function(){ae.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var re="closure_listenable_"+(1e6*Math.random()|0),ct=0;function ut(p,E,$,M,B){this.listener=p,this.proxy=null,this.src=E,this.type=$,this.capture=!!M,this.ha=B,this.key=++ct,this.da=this.fa=!1}function Ce(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Ze(p){this.src=p,this.g={},this.h=0}Ze.prototype.add=function(p,E,$,M,B){var H=p.toString();p=this.g[H],p||(p=this.g[H]=[],this.h++);var pe=Lt(p,E,M,B);return-1<pe?(E=p[pe],$||(E.fa=!1)):(E=new ut(E,this.src,H,!!M,B),E.fa=$,p.push(E)),E};function Ge(p,E){var $=E.type;if($ in p.g){var M=p.g[$],B=Array.prototype.indexOf.call(M,E,void 0),H;(H=0<=B)&&Array.prototype.splice.call(M,B,1),H&&(Ce(E),p.g[$].length==0&&(delete p.g[$],p.h--))}}function Lt(p,E,$,M){for(var B=0;B<p.length;++B){var H=p[B];if(!H.da&&H.listener==E&&H.capture==!!$&&H.ha==M)return B}return-1}var kn="closure_lm_"+(1e6*Math.random()|0),Ws={};function ra(p,E,$,M,B){if(Array.isArray(E)){for(var H=0;H<E.length;H++)ra(p,E[H],$,M,B);return null}return $=He($),p&&p[re]?p.K(E,$,c(M)?!!M.capture:!!M,B):ol(p,E,$,!1,M,B)}function ol(p,E,$,M,B,H){if(!E)throw Error("Invalid event type");var pe=c(B)?!!B.capture:!!B,Tt=ue(p);if(Tt||(p[kn]=Tt=new Ze(p)),$=Tt.add(E,$,M,pe,H),$.proxy)return $;if(M=z(),$.proxy=M,M.src=p,M.listener=$,p.addEventListener)J||(B=pe),B===void 0&&(B=!1),p.addEventListener(E.toString(),M,B);else if(p.attachEvent)p.attachEvent(ve(E.toString()),M);else if(p.addListener&&p.removeListener)p.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return $}function z(){function p($){return E.call(p.src,p.listener,$)}const E=ge;return p}function X(p,E,$,M,B){if(Array.isArray(E))for(var H=0;H<E.length;H++)X(p,E[H],$,M,B);else M=c(M)?!!M.capture:!!M,$=He($),p&&p[re]?(p=p.i,E=String(E).toString(),E in p.g&&(H=p.g[E],$=Lt(H,$,M,B),-1<$&&(Ce(H[$]),Array.prototype.splice.call(H,$,1),H.length==0&&(delete p.g[E],p.h--)))):p&&(p=ue(p))&&(E=p.g[E.toString()],p=-1,E&&(p=Lt(E,$,M,B)),($=-1<p?E[p]:null)&&K($))}function K(p){if(typeof p!="number"&&p&&!p.da){var E=p.src;if(E&&E[re])Ge(E.i,p);else{var $=p.type,M=p.proxy;E.removeEventListener?E.removeEventListener($,M,p.capture):E.detachEvent?E.detachEvent(ve($),M):E.addListener&&E.removeListener&&E.removeListener(M),($=ue(E))?(Ge($,p),$.h==0&&($.src=null,E[kn]=null)):Ce(p)}}}function ve(p){return p in Ws?Ws[p]:Ws[p]="on"+p}function ge(p,E){if(p.da)p=!0;else{E=new ae(E,this);var $=p.listener,M=p.ha||p.src;p.fa&&K(p),p=$.call(M,E)}return p}function ue(p){return p=p[kn],p instanceof Ze?p:null}var Qe="__closure_events_fn_"+(1e9*Math.random()>>>0);function He(p){return typeof p=="function"?p:(p[Qe]||(p[Qe]=function(E){return p.handleEvent(E)}),p[Qe])}function ht(){Z.call(this),this.i=new Ze(this),this.M=this,this.F=null}g(ht,Z),ht.prototype[re]=!0,ht.prototype.removeEventListener=function(p,E,$,M){X(this,p,E,$,M)};function mt(p,E){var $,M=p.F;if(M)for($=[];M;M=M.F)$.push(M);if(p=p.M,M=E.type||E,typeof E=="string")E=new G(E,p);else if(E instanceof G)E.target=E.target||p;else{var B=E;E=new G(M,p),R(E,B)}if(B=!0,$)for(var H=$.length-1;0<=H;H--){var pe=E.g=$[H];B=Xi(pe,M,!0,E)&&B}if(pe=E.g=p,B=Xi(pe,M,!0,E)&&B,B=Xi(pe,M,!1,E)&&B,$)for(H=0;H<$.length;H++)pe=E.g=$[H],B=Xi(pe,M,!1,E)&&B}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var p=this.i,E;for(E in p.g){for(var $=p.g[E],M=0;M<$.length;M++)Ce($[M]);delete p.g[E],p.h--}}this.F=null},ht.prototype.K=function(p,E,$,M){return this.i.add(String(p),E,!1,$,M)},ht.prototype.L=function(p,E,$,M){return this.i.add(String(p),E,!0,$,M)};function Xi(p,E,$,M){if(E=p.i.g[String(E)],!E)return!0;E=E.concat();for(var B=!0,H=0;H<E.length;++H){var pe=E[H];if(pe&&!pe.da&&pe.capture==$){var Tt=pe.listener,nr=pe.ha||pe.src;pe.fa&&Ge(p.i,pe),B=Tt.call(nr,M)!==!1&&B}}return B&&!M.defaultPrevented}function uy(p,E,$){if(typeof p=="function")$&&(p=f(p,$));else if(p&&typeof p.handleEvent=="function")p=f(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:a.setTimeout(p,E||0)}function uh(p){p.g=uy(()=>{p.g=null,p.i&&(p.i=!1,uh(p))},p.l);const E=p.h;p.h=null,p.m.apply(null,E)}class Yf extends Z{constructor(E,$){super(),this.m=E,this.l=$,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:uh(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gc(p){Z.call(this),this.h=p,this.g={}}g(Gc,Z);var Hf=[];function hy(p){Q(p.g,function(E,$){this.g.hasOwnProperty($)&&K(E)},p),p.g={}}Gc.prototype.N=function(){Gc.aa.N.call(this),hy(this)},Gc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hh=a.JSON.stringify,FY=a.JSON.parse,BY=class{stringify(p){return a.JSON.stringify(p,void 0)}parse(p){return a.JSON.parse(p,void 0)}};function zS(){}zS.prototype.h=null;function d$(p){return p.h||(p.h=p.i())}function f$(){}var Kf={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qS(){G.call(this,"d")}g(qS,G);function ZS(){G.call(this,"c")}g(ZS,G);var Yc={},p$=null;function dy(){return p$=p$||new ht}Yc.La="serverreachability";function m$(p){G.call(this,Yc.La,p)}g(m$,G);function Jf(p){const E=dy();mt(E,new m$(E))}Yc.STAT_EVENT="statevent";function g$(p,E){G.call(this,Yc.STAT_EVENT,p),this.stat=E}g(g$,G);function jr(p){const E=dy();mt(E,new g$(E,p))}Yc.Ma="timingevent";function O$(p,E){G.call(this,Yc.Ma,p),this.size=E}g(O$,G);function ep(p,E){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){p()},E)}function tp(){this.g=!0}tp.prototype.xa=function(){this.g=!1};function WY(p,E,$,M,B,H){p.info(function(){if(p.g)if(H)for(var pe="",Tt=H.split("&"),nr=0;nr<Tt.length;nr++){var wt=Tt[nr].split("=");if(1<wt.length){var yr=wt[0];wt=wt[1];var vr=yr.split("_");pe=2<=vr.length&&vr[1]=="type"?pe+(yr+"="+wt+"&"):pe+(yr+"=redacted&")}}else pe=null;else pe=H;return"XMLHTTP REQ ("+M+") [attempt "+B+"]: "+E+`
`+$+`
`+pe})}function XY(p,E,$,M,B,H,pe){p.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+B+"]: "+E+`
`+$+`
`+H+" "+pe})}function dh(p,E,$,M){p.info(function(){return"XMLHTTP TEXT ("+E+"): "+YY(p,$)+(M?" "+M:"")})}function GY(p,E){p.info(function(){return"TIMEOUT: "+E})}tp.prototype.info=function(){};function YY(p,E){if(!p.g)return E;if(!E)return null;try{var $=JSON.parse(E);if($){for(p=0;p<$.length;p++)if(Array.isArray($[p])){var M=$[p];if(!(2>M.length)){var B=M[1];if(Array.isArray(B)&&!(1>B.length)){var H=B[0];if(H!="noop"&&H!="stop"&&H!="close")for(var pe=1;pe<B.length;pe++)B[pe]=""}}}}return hh($)}catch{return E}}var fy={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},y$={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},FS;function py(){}g(py,zS),py.prototype.g=function(){return new XMLHttpRequest},py.prototype.i=function(){return{}},FS=new py;function al(p,E,$,M){this.j=p,this.i=E,this.l=$,this.R=M||1,this.U=new Gc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new v$}function v$(){this.i=null,this.g="",this.h=!1}var x$={},BS={};function WS(p,E,$){p.L=1,p.v=yy(ia(E)),p.m=$,p.P=!0,w$(p,null)}function w$(p,E){p.F=Date.now(),my(p),p.A=ia(p.v);var $=p.A,M=p.R;Array.isArray(M)||(M=[String(M)]),N$($.i,"t",M),p.C=0,$=p.j.J,p.h=new v$,p.g=J$(p.j,$?E:null,!p.m),0<p.O&&(p.M=new Yf(f(p.Y,p,p.g),p.O)),E=p.U,$=p.g,M=p.ca;var B="readystatechange";Array.isArray(B)||(B&&(Hf[0]=B.toString()),B=Hf);for(var H=0;H<B.length;H++){var pe=ra($,B[H],M||E.handleEvent,!1,E.h||E);if(!pe)break;E.g[pe.key]=pe}E=p.H?w(p.H):{},p.m?(p.u||(p.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,E)):(p.u="GET",p.g.ea(p.A,p.u,null,E)),Jf(),WY(p.i,p.u,p.A,p.l,p.R,p.m)}al.prototype.ca=function(p){p=p.target;const E=this.M;E&&sa(p)==3?E.j():this.Y(p)},al.prototype.Y=function(p){try{if(p==this.g)e:{const vr=sa(this.g);var E=this.g.Ba();const mh=this.g.Z();if(!(3>vr)&&(vr!=3||this.g&&(this.h.h||this.g.oa()||z$(this.g)))){this.J||vr!=4||E==7||(E==8||0>=mh?Jf(3):Jf(2)),XS(this);var $=this.g.Z();this.X=$;t:if(b$(this)){var M=z$(this.g);p="";var B=M.length,H=sa(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Hc(this),np(this);var pe="";break t}this.h.i=new a.TextDecoder}for(E=0;E<B;E++)this.h.h=!0,p+=this.h.i.decode(M[E],{stream:!(H&&E==B-1)});M.length=0,this.h.g+=p,this.C=0,pe=this.h.g}else pe=this.g.oa();if(this.o=$==200,XY(this.i,this.u,this.A,this.l,this.R,vr,$),this.o){if(this.T&&!this.K){t:{if(this.g){var Tt,nr=this.g;if((Tt=nr.g?nr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Tt)){var wt=Tt;break t}}wt=null}if($=wt)dh(this.i,this.l,$,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,GS(this,$);else{this.o=!1,this.s=3,jr(12),Hc(this),np(this);break e}}if(this.P){$=!0;let gs;for(;!this.J&&this.C<pe.length;)if(gs=HY(this,pe),gs==BS){vr==4&&(this.s=4,jr(14),$=!1),dh(this.i,this.l,null,"[Incomplete Response]");break}else if(gs==x$){this.s=4,jr(15),dh(this.i,this.l,pe,"[Invalid Chunk]"),$=!1;break}else dh(this.i,this.l,gs,null),GS(this,gs);if(b$(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vr!=4||pe.length!=0||this.h.h||(this.s=1,jr(16),$=!1),this.o=this.o&&$,!$)dh(this.i,this.l,pe,"[Invalid Chunked Response]"),Hc(this),np(this);else if(0<pe.length&&!this.W){this.W=!0;var yr=this.j;yr.g==this&&yr.ba&&!yr.M&&(yr.j.info("Great, no buffering proxy detected. Bytes received: "+pe.length),t1(yr),yr.M=!0,jr(11))}}else dh(this.i,this.l,pe,null),GS(this,pe);vr==4&&Hc(this),this.o&&!this.J&&(vr==4?G$(this.j,this):(this.o=!1,my(this)))}else pH(this.g),$==400&&0<pe.indexOf("Unknown SID")?(this.s=3,jr(12)):(this.s=0,jr(13)),Hc(this),np(this)}}}catch{}finally{}};function b$(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function HY(p,E){var $=p.C,M=E.indexOf(`
`,$);return M==-1?BS:($=Number(E.substring($,M)),isNaN($)?x$:(M+=1,M+$>E.length?BS:(E=E.slice(M,M+$),p.C=M+$,E)))}al.prototype.cancel=function(){this.J=!0,Hc(this)};function my(p){p.S=Date.now()+p.I,S$(p,p.I)}function S$(p,E){if(p.B!=null)throw Error("WatchDog timer not null");p.B=ep(f(p.ba,p),E)}function XS(p){p.B&&(a.clearTimeout(p.B),p.B=null)}al.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(GY(this.i,this.A),this.L!=2&&(Jf(),jr(17)),Hc(this),this.s=2,np(this)):S$(this,this.S-p)};function np(p){p.j.G==0||p.J||G$(p.j,p)}function Hc(p){XS(p);var E=p.M;E&&typeof E.ma=="function"&&E.ma(),p.M=null,hy(p.U),p.g&&(E=p.g,p.g=null,E.abort(),E.ma())}function GS(p,E){try{var $=p.j;if($.G!=0&&($.g==p||YS($.h,p))){if(!p.K&&YS($.h,p)&&$.G==3){try{var M=$.Da.g.parse(E)}catch{M=null}if(Array.isArray(M)&&M.length==3){var B=M;if(B[0]==0){e:if(!$.u){if($.g)if($.g.F+3e3<p.F)ky($),by($);else break e;e1($),jr(18)}}else $.za=B[1],0<$.za-$.T&&37500>B[2]&&$.F&&$.v==0&&!$.C&&($.C=ep(f($.Za,$),6e3));if(1>=T$($.h)&&$.ca){try{$.ca()}catch{}$.ca=void 0}}else Jc($,11)}else if((p.K||$.g==p)&&ky($),!_(E))for(B=$.Da.g.parse(E),E=0;E<B.length;E++){let wt=B[E];if($.T=wt[0],wt=wt[1],$.G==2)if(wt[0]=="c"){$.K=wt[1],$.ia=wt[2];const yr=wt[3];yr!=null&&($.la=yr,$.j.info("VER="+$.la));const vr=wt[4];vr!=null&&($.Aa=vr,$.j.info("SVER="+$.Aa));const mh=wt[5];mh!=null&&typeof mh=="number"&&0<mh&&(M=1.5*mh,$.L=M,$.j.info("backChannelRequestTimeoutMs_="+M)),M=$;const gs=p.g;if(gs){const Ty=gs.g?gs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ty){var H=M.h;H.g||Ty.indexOf("spdy")==-1&&Ty.indexOf("quic")==-1&&Ty.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(HS(H,H.h),H.h=null))}if(M.D){const n1=gs.g?gs.g.getResponseHeader("X-HTTP-Session-Id"):null;n1&&(M.ya=n1,Ut(M.I,M.D,n1))}}$.G=3,$.l&&$.l.ua(),$.ba&&($.R=Date.now()-p.F,$.j.info("Handshake RTT: "+$.R+"ms")),M=$;var pe=p;if(M.qa=K$(M,M.J?M.ia:null,M.W),pe.K){P$(M.h,pe);var Tt=pe,nr=M.L;nr&&(Tt.I=nr),Tt.B&&(XS(Tt),my(Tt)),M.g=pe}else W$(M);0<$.i.length&&Sy($)}else wt[0]!="stop"&&wt[0]!="close"||Jc($,7);else $.G==3&&(wt[0]=="stop"||wt[0]=="close"?wt[0]=="stop"?Jc($,7):JS($):wt[0]!="noop"&&$.l&&$.l.ta(wt),$.v=0)}}Jf(4)}catch{}}var KY=class{constructor(p,E){this.g=p,this.map=E}};function k$(p){this.l=p||10,a.PerformanceNavigationTiming?(p=a.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _$(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function T$(p){return p.h?1:p.g?p.g.size:0}function YS(p,E){return p.h?p.h==E:p.g?p.g.has(E):!1}function HS(p,E){p.g?p.g.add(E):p.h=E}function P$(p,E){p.h&&p.h==E?p.h=null:p.g&&p.g.has(E)&&p.g.delete(E)}k$.prototype.cancel=function(){if(this.i=C$(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function C$(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let E=p.i;for(const $ of p.g.values())E=E.concat($.D);return E}return y(p.i)}function JY(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(l(p)){for(var E=[],$=p.length,M=0;M<$;M++)E.push(p[M]);return E}E=[],$=0;for(M in p)E[$++]=p[M];return E}function eH(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(l(p)||typeof p=="string"){var E=[];p=p.length;for(var $=0;$<p;$++)E.push($);return E}E=[],$=0;for(const M in p)E[$++]=M;return E}}}function E$(p,E){if(p.forEach&&typeof p.forEach=="function")p.forEach(E,void 0);else if(l(p)||typeof p=="string")Array.prototype.forEach.call(p,E,void 0);else for(var $=eH(p),M=JY(p),B=M.length,H=0;H<B;H++)E.call(void 0,M[H],$&&$[H],p)}var A$=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tH(p,E){if(p){p=p.split("&");for(var $=0;$<p.length;$++){var M=p[$].indexOf("="),B=null;if(0<=M){var H=p[$].substring(0,M);B=p[$].substring(M+1)}else H=p[$];E(H,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Kc(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Kc){this.h=p.h,gy(this,p.j),this.o=p.o,this.g=p.g,Oy(this,p.s),this.l=p.l;var E=p.i,$=new sp;$.i=E.i,E.g&&($.g=new Map(E.g),$.h=E.h),R$(this,$),this.m=p.m}else p&&(E=String(p).match(A$))?(this.h=!1,gy(this,E[1]||"",!0),this.o=rp(E[2]||""),this.g=rp(E[3]||"",!0),Oy(this,E[4]),this.l=rp(E[5]||"",!0),R$(this,E[6]||"",!0),this.m=rp(E[7]||"")):(this.h=!1,this.i=new sp(null,this.h))}Kc.prototype.toString=function(){var p=[],E=this.j;E&&p.push(ip(E,Q$,!0),":");var $=this.g;return($||E=="file")&&(p.push("//"),(E=this.o)&&p.push(ip(E,Q$,!0),"@"),p.push(encodeURIComponent(String($)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),$=this.s,$!=null&&p.push(":",String($))),($=this.l)&&(this.g&&$.charAt(0)!="/"&&p.push("/"),p.push(ip($,$.charAt(0)=="/"?iH:rH,!0))),($=this.i.toString())&&p.push("?",$),($=this.m)&&p.push("#",ip($,oH)),p.join("")};function ia(p){return new Kc(p)}function gy(p,E,$){p.j=$?rp(E,!0):E,p.j&&(p.j=p.j.replace(/:$/,""))}function Oy(p,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);p.s=E}else p.s=null}function R$(p,E,$){E instanceof sp?(p.i=E,aH(p.i,p.h)):($||(E=ip(E,sH)),p.i=new sp(E,p.h))}function Ut(p,E,$){p.i.set(E,$)}function yy(p){return Ut(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function rp(p,E){return p?E?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function ip(p,E,$){return typeof p=="string"?(p=encodeURI(p).replace(E,nH),$&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function nH(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Q$=/[#\/\?@]/g,rH=/[#\?:]/g,iH=/[#\?]/g,sH=/[#\?@]/g,oH=/#/g;function sp(p,E){this.h=this.g=null,this.i=p||null,this.j=!!E}function ll(p){p.g||(p.g=new Map,p.h=0,p.i&&tH(p.i,function(E,$){p.add(decodeURIComponent(E.replace(/\+/g," ")),$)}))}n=sp.prototype,n.add=function(p,E){ll(this),this.i=null,p=fh(this,p);var $=this.g.get(p);return $||this.g.set(p,$=[]),$.push(E),this.h+=1,this};function I$(p,E){ll(p),E=fh(p,E),p.g.has(E)&&(p.i=null,p.h-=p.g.get(E).length,p.g.delete(E))}function $$(p,E){return ll(p),E=fh(p,E),p.g.has(E)}n.forEach=function(p,E){ll(this),this.g.forEach(function($,M){$.forEach(function(B){p.call(E,B,M,this)},this)},this)},n.na=function(){ll(this);const p=Array.from(this.g.values()),E=Array.from(this.g.keys()),$=[];for(let M=0;M<E.length;M++){const B=p[M];for(let H=0;H<B.length;H++)$.push(E[M])}return $},n.V=function(p){ll(this);let E=[];if(typeof p=="string")$$(this,p)&&(E=E.concat(this.g.get(fh(this,p))));else{p=Array.from(this.g.values());for(let $=0;$<p.length;$++)E=E.concat(p[$])}return E},n.set=function(p,E){return ll(this),this.i=null,p=fh(this,p),$$(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[E]),this.h+=1,this},n.get=function(p,E){return p?(p=this.V(p),0<p.length?String(p[0]):E):E};function N$(p,E,$){I$(p,E),0<$.length&&(p.i=null,p.g.set(fh(p,E),y($)),p.h+=$.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],E=Array.from(this.g.keys());for(var $=0;$<E.length;$++){var M=E[$];const H=encodeURIComponent(String(M)),pe=this.V(M);for(M=0;M<pe.length;M++){var B=H;pe[M]!==""&&(B+="="+encodeURIComponent(String(pe[M]))),p.push(B)}}return this.i=p.join("&")};function fh(p,E){return E=String(E),p.j&&(E=E.toLowerCase()),E}function aH(p,E){E&&!p.j&&(ll(p),p.i=null,p.g.forEach(function($,M){var B=M.toLowerCase();M!=B&&(I$(this,M),N$(this,B,$))},p)),p.j=E}function lH(p,E){const $=new tp;if(a.Image){const M=new Image;M.onload=m(cl,$,"TestLoadImage: loaded",!0,E,M),M.onerror=m(cl,$,"TestLoadImage: error",!1,E,M),M.onabort=m(cl,$,"TestLoadImage: abort",!1,E,M),M.ontimeout=m(cl,$,"TestLoadImage: timeout",!1,E,M),a.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=p}else E(!1)}function cH(p,E){const $=new tp,M=new AbortController,B=setTimeout(()=>{M.abort(),cl($,"TestPingServer: timeout",!1,E)},1e4);fetch(p,{signal:M.signal}).then(H=>{clearTimeout(B),H.ok?cl($,"TestPingServer: ok",!0,E):cl($,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(B),cl($,"TestPingServer: error",!1,E)})}function cl(p,E,$,M,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),M($)}catch{}}function uH(){this.g=new BY}function hH(p,E,$){const M=$||"";try{E$(p,function(B,H){let pe=B;c(B)&&(pe=hh(B)),E.push(M+H+"="+encodeURIComponent(pe))})}catch(B){throw E.push(M+"type="+encodeURIComponent("_badmap")),B}}function vy(p){this.l=p.Ub||null,this.j=p.eb||!1}g(vy,zS),vy.prototype.g=function(){return new xy(this.l,this.j)},vy.prototype.i=function(p){return function(){return p}}({});function xy(p,E){ht.call(this),this.D=p,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(xy,ht),n=xy.prototype,n.open=function(p,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=E,this.readyState=1,ap(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(E.body=p),(this.D||a).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,op(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,ap(this)),this.g&&(this.readyState=3,ap(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;j$(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function j$(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var E=p.value?p.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!p.done}))&&(this.response=this.responseText+=E)}p.done?op(this):ap(this),this.readyState==3&&j$(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,op(this))},n.Qa=function(p){this.g&&(this.response=p,op(this))},n.ga=function(){this.g&&op(this)};function op(p){p.readyState=4,p.l=null,p.j=null,p.v=null,ap(p)}n.setRequestHeader=function(p,E){this.u.append(p,E)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],E=this.h.entries();for(var $=E.next();!$.done;)$=$.value,p.push($[0]+": "+$[1]),$=E.next();return p.join(`\r
`)};function ap(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(xy.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function D$(p){let E="";return Q(p,function($,M){E+=M,E+=":",E+=$,E+=`\r
`}),E}function KS(p,E,$){e:{for(M in $){var M=!1;break e}M=!0}M||($=D$($),typeof p=="string"?$!=null&&encodeURIComponent(String($)):Ut(p,E,$))}function an(p){ht.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(an,ht);var dH=/^https?$/i,fH=["POST","PUT"];n=an.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,E,$,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);E=E?E.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():FS.g(),this.v=this.o?d$(this.o):d$(FS),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(E,String(p),!0),this.B=!1}catch(H){M$(this,H);return}if(p=$||"",$=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var B in M)$.set(B,M[B]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const H of M.keys())$.set(H,M.get(H));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from($.keys()).find(H=>H.toLowerCase()=="content-type"),B=a.FormData&&p instanceof a.FormData,!(0<=Array.prototype.indexOf.call(fH,E,void 0))||M||B||$.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,pe]of $)this.g.setRequestHeader(H,pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{U$(this),this.u=!0,this.g.send(p),this.u=!1}catch(H){M$(this,H)}};function M$(p,E){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=E,p.m=5,V$(p),wy(p)}function V$(p){p.A||(p.A=!0,mt(p,"complete"),mt(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,mt(this,"complete"),mt(this,"abort"),wy(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wy(this,!0)),an.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?L$(this):this.bb())},n.bb=function(){L$(this)};function L$(p){if(p.h&&typeof o<"u"&&(!p.v[1]||sa(p)!=4||p.Z()!=2)){if(p.u&&sa(p)==4)uy(p.Ea,0,p);else if(mt(p,"readystatechange"),sa(p)==4){p.h=!1;try{const pe=p.Z();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var $;if(!($=E)){var M;if(M=pe===0){var B=String(p.D).match(A$)[1]||null;!B&&a.self&&a.self.location&&(B=a.self.location.protocol.slice(0,-1)),M=!dH.test(B?B.toLowerCase():"")}$=M}if($)mt(p,"complete"),mt(p,"success");else{p.m=6;try{var H=2<sa(p)?p.g.statusText:""}catch{H=""}p.l=H+" ["+p.Z()+"]",V$(p)}}finally{wy(p)}}}}function wy(p,E){if(p.g){U$(p);const $=p.g,M=p.v[0]?()=>{}:null;p.g=null,p.v=null,E||mt(p,"ready");try{$.onreadystatechange=M}catch{}}}function U$(p){p.I&&(a.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function sa(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<sa(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var E=this.g.responseText;return p&&E.indexOf(p)==0&&(E=E.substring(p.length)),FY(E)}};function z$(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function pH(p){const E={};p=(p.g&&2<=sa(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<p.length;M++){if(_(p[M]))continue;var $=P(p[M]);const B=$[0];if($=$[1],typeof $!="string")continue;$=$.trim();const H=E[B]||[];E[B]=H,H.push($)}O(E,function(M){return M.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function lp(p,E,$){return $&&$.internalChannelParams&&$.internalChannelParams[p]||E}function q$(p){this.Aa=0,this.i=[],this.j=new tp,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=lp("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=lp("baseRetryDelayMs",5e3,p),this.cb=lp("retryDelaySeedMs",1e4,p),this.Wa=lp("forwardChannelMaxRetries",2,p),this.wa=lp("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new k$(p&&p.concurrentRequestLimit),this.Da=new uH,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=q$.prototype,n.la=8,n.G=1,n.connect=function(p,E,$,M){jr(0),this.W=p,this.H=E||{},$&&M!==void 0&&(this.H.OSID=$,this.H.OAID=M),this.F=this.X,this.I=K$(this,null,this.W),Sy(this)};function JS(p){if(Z$(p),p.G==3){var E=p.U++,$=ia(p.I);if(Ut($,"SID",p.K),Ut($,"RID",E),Ut($,"TYPE","terminate"),cp(p,$),E=new al(p,p.j,E),E.L=2,E.v=yy(ia($)),$=!1,a.navigator&&a.navigator.sendBeacon)try{$=a.navigator.sendBeacon(E.v.toString(),"")}catch{}!$&&a.Image&&(new Image().src=E.v,$=!0),$||(E.g=J$(E.j,null),E.g.ea(E.v)),E.F=Date.now(),my(E)}H$(p)}function by(p){p.g&&(t1(p),p.g.cancel(),p.g=null)}function Z$(p){by(p),p.u&&(a.clearTimeout(p.u),p.u=null),ky(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&a.clearTimeout(p.s),p.s=null)}function Sy(p){if(!_$(p.h)&&!p.s){p.s=!0;var E=p.Ga;W||Y(),D||(W(),D=!0),L.add(E,p),p.B=0}}function mH(p,E){return T$(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=E.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=ep(f(p.Ga,p,E),Y$(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const B=new al(this,this.j,p);let H=this.o;if(this.S&&(H?(H=w(H),R(H,this.S)):H=this.S),this.m!==null||this.O||(B.H=H,H=null),this.P)e:{for(var E=0,$=0;$<this.i.length;$++){t:{var M=this.i[$];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(E+=M,4096<E){E=$;break e}if(E===4096||$===this.i.length-1){E=$+1;break e}}E=1e3}else E=1e3;E=B$(this,B,E),$=ia(this.I),Ut($,"RID",p),Ut($,"CVER",22),this.D&&Ut($,"X-HTTP-Session-Id",this.D),cp(this,$),H&&(this.O?E="headers="+encodeURIComponent(String(D$(H)))+"&"+E:this.m&&KS($,this.m,H)),HS(this.h,B),this.Ua&&Ut($,"TYPE","init"),this.P?(Ut($,"$req",E),Ut($,"SID","null"),B.T=!0,WS(B,$,null)):WS(B,$,E),this.G=2}}else this.G==3&&(p?F$(this,p):this.i.length==0||_$(this.h)||F$(this))};function F$(p,E){var $;E?$=E.l:$=p.U++;const M=ia(p.I);Ut(M,"SID",p.K),Ut(M,"RID",$),Ut(M,"AID",p.T),cp(p,M),p.m&&p.o&&KS(M,p.m,p.o),$=new al(p,p.j,$,p.B+1),p.m===null&&($.H=p.o),E&&(p.i=E.D.concat(p.i)),E=B$(p,$,1e3),$.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),HS(p.h,$),WS($,M,E)}function cp(p,E){p.H&&Q(p.H,function($,M){Ut(E,M,$)}),p.l&&E$({},function($,M){Ut(E,M,$)})}function B$(p,E,$){$=Math.min(p.i.length,$);var M=p.l?f(p.l.Na,p.l,p):null;e:{var B=p.i;let H=-1;for(;;){const pe=["count="+$];H==-1?0<$?(H=B[0].g,pe.push("ofs="+H)):H=0:pe.push("ofs="+H);let Tt=!0;for(let nr=0;nr<$;nr++){let wt=B[nr].g;const yr=B[nr].map;if(wt-=H,0>wt)H=Math.max(0,B[nr].g-100),Tt=!1;else try{hH(yr,pe,"req"+wt+"_")}catch{M&&M(yr)}}if(Tt){M=pe.join("&");break e}}}return p=p.i.splice(0,$),E.D=p,M}function W$(p){if(!p.g&&!p.u){p.Y=1;var E=p.Fa;W||Y(),D||(W(),D=!0),L.add(E,p),p.v=0}}function e1(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=ep(f(p.Fa,p),Y$(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,X$(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=ep(f(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,jr(10),by(this),X$(this))};function t1(p){p.A!=null&&(a.clearTimeout(p.A),p.A=null)}function X$(p){p.g=new al(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var E=ia(p.qa);Ut(E,"RID","rpc"),Ut(E,"SID",p.K),Ut(E,"AID",p.T),Ut(E,"CI",p.F?"0":"1"),!p.F&&p.ja&&Ut(E,"TO",p.ja),Ut(E,"TYPE","xmlhttp"),cp(p,E),p.m&&p.o&&KS(E,p.m,p.o),p.L&&(p.g.I=p.L);var $=p.g;p=p.ia,$.L=1,$.v=yy(ia(E)),$.m=null,$.P=!0,w$($,p)}n.Za=function(){this.C!=null&&(this.C=null,by(this),e1(this),jr(19))};function ky(p){p.C!=null&&(a.clearTimeout(p.C),p.C=null)}function G$(p,E){var $=null;if(p.g==E){ky(p),t1(p),p.g=null;var M=2}else if(YS(p.h,E))$=E.D,P$(p.h,E),M=1;else return;if(p.G!=0){if(E.o)if(M==1){$=E.m?E.m.length:0,E=Date.now()-E.F;var B=p.B;M=dy(),mt(M,new O$(M,$)),Sy(p)}else W$(p);else if(B=E.s,B==3||B==0&&0<E.X||!(M==1&&mH(p,E)||M==2&&e1(p)))switch($&&0<$.length&&(E=p.h,E.i=E.i.concat($)),B){case 1:Jc(p,5);break;case 4:Jc(p,10);break;case 3:Jc(p,6);break;default:Jc(p,2)}}}function Y$(p,E){let $=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||($*=2),$*E}function Jc(p,E){if(p.j.info("Error code "+E),E==2){var $=f(p.fb,p),M=p.Xa;const B=!M;M=new Kc(M||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||gy(M,"https"),yy(M),B?lH(M.toString(),$):cH(M.toString(),$)}else jr(2);p.G=0,p.l&&p.l.sa(E),H$(p),Z$(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),jr(2)):(this.j.info("Failed to ping google.com"),jr(1))};function H$(p){if(p.G=0,p.ka=[],p.l){const E=C$(p.h);(E.length!=0||p.i.length!=0)&&(x(p.ka,E),x(p.ka,p.i),p.h.i.length=0,y(p.i),p.i.length=0),p.l.ra()}}function K$(p,E,$){var M=$ instanceof Kc?ia($):new Kc($);if(M.g!="")E&&(M.g=E+"."+M.g),Oy(M,M.s);else{var B=a.location;M=B.protocol,E=E?E+"."+B.hostname:B.hostname,B=+B.port;var H=new Kc(null);M&&gy(H,M),E&&(H.g=E),B&&Oy(H,B),$&&(H.l=$),M=H}return $=p.D,E=p.ya,$&&E&&Ut(M,$,E),Ut(M,"VER",p.la),cp(p,M),M}function J$(p,E,$){if(E&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=p.Ca&&!p.pa?new an(new vy({eb:$})):new an(p.pa),E.Ha(p.J),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function eN(){}n=eN.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function _y(){}_y.prototype.g=function(p,E){return new yi(p,E)};function yi(p,E){ht.call(this),this.g=new q$(E),this.l=p,this.h=E&&E.messageUrlParams||null,p=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(p?p["X-WebChannel-Content-Type"]=E.messageContentType:p={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(p?p["X-WebChannel-Client-Profile"]=E.va:p={"X-WebChannel-Client-Profile":E.va}),this.g.S=p,(p=E&&E.Sb)&&!_(p)&&(this.g.m=p),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!_(E)&&(this.g.D=E,p=this.h,p!==null&&E in p&&(p=this.h,E in p&&delete p[E])),this.j=new ph(this)}g(yi,ht),yi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yi.prototype.close=function(){JS(this.g)},yi.prototype.o=function(p){var E=this.g;if(typeof p=="string"){var $={};$.__data__=p,p=$}else this.u&&($={},$.__data__=hh(p),p=$);E.i.push(new KY(E.Ya++,p)),E.G==3&&Sy(E)},yi.prototype.N=function(){this.g.l=null,delete this.j,JS(this.g),delete this.g,yi.aa.N.call(this)};function tN(p){qS.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var E=p.__sm__;if(E){e:{for(const $ in E){p=$;break e}p=void 0}(this.i=p)&&(p=this.i,E=E!==null&&p in E?E[p]:void 0),this.data=E}else this.data=p}g(tN,qS);function nN(){ZS.call(this),this.status=1}g(nN,ZS);function ph(p){this.g=p}g(ph,eN),ph.prototype.ua=function(){mt(this.g,"a")},ph.prototype.ta=function(p){mt(this.g,new tN(p))},ph.prototype.sa=function(p){mt(this.g,new nN)},ph.prototype.ra=function(){mt(this.g,"b")},_y.prototype.createWebChannel=_y.prototype.g,yi.prototype.send=yi.prototype.o,yi.prototype.open=yi.prototype.m,yi.prototype.close=yi.prototype.close,e3=function(){return new _y},Jz=function(){return dy()},Kz=Yc,VT={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fy.NO_ERROR=0,fy.TIMEOUT=8,fy.HTTP_ERROR=6,J0=fy,y$.COMPLETE="complete",Hz=y$,f$.EventType=Kf,Kf.OPEN="a",Kf.CLOSE="b",Kf.ERROR="c",Kf.MESSAGE="d",ht.prototype.listen=ht.prototype.K,Zp=f$,an.prototype.listenOnce=an.prototype.L,an.prototype.getLastError=an.prototype.Ka,an.prototype.getLastErrorCode=an.prototype.Ba,an.prototype.getStatus=an.prototype.Z,an.prototype.getResponseJson=an.prototype.Oa,an.prototype.getResponseText=an.prototype.oa,an.prototype.send=an.prototype.ea,an.prototype.setWithCredentials=an.prototype.Ha,Yz=an}).apply(typeof By<"u"?By:typeof self<"u"?self:typeof window<"u"?window:{});const M2="@firebase/firestore",V2="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};kr.UNAUTHENTICATED=new kr(null),kr.GOOGLE_CREDENTIALS=new kr("google-credentials-uid"),kr.FIRST_PARTY=new kr("first-party-uid"),kr.MOCK_USER=new kr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Af="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mu=new ZA("@firebase/firestore");function Th(){return Mu.logLevel}function _e(n,...e){if(Mu.logLevel<=ot.DEBUG){const t=e.map(WA);Mu.debug(`Firestore (${Af}): ${n}`,...t)}}function Ua(n,...e){if(Mu.logLevel<=ot.ERROR){const t=e.map(WA);Mu.error(`Firestore (${Af}): ${n}`,...t)}}function qd(n,...e){if(Mu.logLevel<=ot.WARN){const t=e.map(WA);Mu.warn(`Firestore (${Af}): ${n}`,...t)}}function WA(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(n="Unexpected state"){const e=`FIRESTORE (${Af}) INTERNAL ASSERTION FAILED: `+n;throw Ua(e),new Error(e)}function kt(n,e){n||ze()}function Xe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends Yo{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Rne{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(kr.UNAUTHENTICATED))}shutdown(){}}class Qne{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Ine{constructor(e){this.t=e,this.currentUser=kr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){kt(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve();let s=new Ra;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ra,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ra)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(kt(typeof r.accessToken=="string"),new t3(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return kt(e===null||typeof e=="string"),new kr(e)}}class $ne{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=kr.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Nne{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new $ne(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(kr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class L2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jne{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Ti(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){kt(this.o===void 0);const r=s=>{s.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,_e("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new L2(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(kt(typeof t.token=="string"),this.R=t.token,new L2(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dne(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Dne(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}}function ft(n,e){return n<e?-1:n>e?1:0}function Zd(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=-62135596800,z2=1e6;class zn{static now(){return zn.fromMillis(Date.now())}static fromDate(e){return zn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*z2);return new zn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new be(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new be(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<U2)throw new be(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/z2}_compareTo(e){return this.seconds===e.seconds?ft(this.nanoseconds,e.nanoseconds):ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-U2;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new zn(0,0))}static max(){return new Fe(new zn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2="__name__";class eo{constructor(e,t,r){t===void 0?t=0:t>e.length&&ze(),r===void 0?r=e.length-t:r>e.length-t&&ze(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return eo.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof eo?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=eo.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=eo.isNumericId(e),i=eo.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?eo.extractNumericId(e).compare(eo.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return rc.fromString(e.substring(4,e.length-2))}}class Bt extends eo{construct(e,t,r){return new Bt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new be(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Bt(t)}static emptyPath(){return new Bt([])}}const Mne=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dr extends eo{construct(e,t,r){return new dr(e,t,r)}static isValidIdentifier(e){return Mne.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===q2}static keyField(){return new dr([q2])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new be(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new be(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new be(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new be(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dr(t)}static emptyPath(){return new dr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.path=e}static fromPath(e){return new $e(Bt.fromString(e))}static fromName(e){return new $e(Bt.fromString(e).popFirst(5))}static empty(){return new $e(Bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Bt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $e(new Bt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg=-1;function Vne(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Fe.fromTimestamp(r===1e9?new zn(t+1,0):new zn(t,r));return new fc(i,$e.empty(),e)}function Lne(n){return new fc(n.readTime,n.key,sg)}class fc{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new fc(Fe.min(),$e.empty(),sg)}static max(){return new fc(Fe.max(),$e.empty(),sg)}}function Une(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=$e.comparator(n.documentKey,e.documentKey),t!==0?t:ft(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zne="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qne{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rf(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==zne)throw n;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ze(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.reject(t)}static resolve(e){return new ie((t,r)=>{t(e)})}static reject(e){return new ie((t,r)=>{r(e)})}static waitFor(e){return new ie((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},l=>r(l))}),o=!0,s===i&&t()})}static or(e){let t=ie.resolve(!1);for(const r of e)t=t.next(i=>i?ie.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new ie((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;t(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,t){return new ie((r,i)=>{const s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}}function Zne(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Qf(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}bb.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA=-1;function Sb(n){return n==null}function Cx(n){return n===0&&1/n==-1/0}function Fne(n){return typeof n=="number"&&Number.isInteger(n)&&!Cx(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3="";function Bne(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Z2(e)),e=Wne(n.get(t),e);return Z2(e)}function Wne(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="";break;case r3:t+="";break;default:t+=s}}return t}function Z2(n){return n+r3+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Mc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function i3(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,t){this.comparator=e,this.root=t||sr.EMPTY}insert(e,t){return new on(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,sr.BLACK,null,null))}remove(e){return new on(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wy(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wy(this.root,e,this.comparator,!0)}}class Wy{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sr{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??sr.RED,this.left=i??sr.EMPTY,this.right=s??sr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new sr(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return sr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return sr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ze();const e=this.left.check();if(e!==this.right.check())throw ze();return e+(this.isRed()?0:1)}}sr.EMPTY=null,sr.RED=!0,sr.BLACK=!1;sr.EMPTY=new class{constructor(){this.size=0}get key(){throw ze()}get value(){throw ze()}get color(){throw ze()}get left(){throw ze()}get right(){throw ze()}copy(e,t,r,i,s){return this}insert(e,t,r){return new sr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.comparator=e,this.data=new on(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new B2(this.data.getIterator())}getIteratorFrom(e){return new B2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof qn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new qn(this.comparator);return t.data=e,t}}class B2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e){this.fields=e,e.sort(dr.comparator)}static empty(){return new Ci([])}unionWith(e){let t=new qn(dr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ci(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Zd(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new s3("Invalid base64 string: "+s):s}}(e);return new gr(t)}static fromUint8Array(e){const t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new gr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gr.EMPTY_BYTE_STRING=new gr("");const Xne=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pc(n){if(kt(!!n),typeof n=="string"){let e=0;const t=Xne.exec(n);if(kt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mn(n.seconds),nanos:mn(n.nanos)}}function mn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function mc(n){return typeof n=="string"?gr.fromBase64String(n):gr.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3="server_timestamp",a3="__type__",l3="__previous_value__",c3="__local_write_time__";function GA(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[a3])===null||t===void 0?void 0:t.stringValue)===o3}function kb(n){const e=n.mapValue.fields[l3];return GA(e)?kb(e):e}function og(n){const e=pc(n.mapValue.fields[c3].timestampValue);return new zn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gne{constructor(e,t,r,i,s,o,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}const Ex="(default)";class ag{constructor(e,t){this.projectId=e,this.database=t||Ex}static empty(){return new ag("","")}get isDefaultDatabase(){return this.database===Ex}isEqual(e){return e instanceof ag&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3="__type__",h3="__max__",Xy={mapValue:{fields:{__type__:{stringValue:h3}}}},d3="__vector__",Ax="value";function gc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?GA(n)?4:Hne(n)?9007199254740991:Yne(n)?10:11:ze()}function $o(n,e){if(n===e)return!0;const t=gc(n);if(t!==gc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return og(n).isEqual(og(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=pc(i.timestampValue),a=pc(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return mc(i.bytesValue).isEqual(mc(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return mn(i.geoPointValue.latitude)===mn(s.geoPointValue.latitude)&&mn(i.geoPointValue.longitude)===mn(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return mn(i.integerValue)===mn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=mn(i.doubleValue),a=mn(s.doubleValue);return o===a?Cx(o)===Cx(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return Zd(n.arrayValue.values||[],e.arrayValue.values||[],$o);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(F2(o)!==F2(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!$o(o[l],a[l])))return!1;return!0}(n,e);default:return ze()}}function lg(n,e){return(n.values||[]).find(t=>$o(t,e))!==void 0}function Fd(n,e){if(n===e)return 0;const t=gc(n),r=gc(e);if(t!==r)return ft(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ft(n.booleanValue,e.booleanValue);case 2:return function(s,o){const a=mn(s.integerValue||s.doubleValue),l=mn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return W2(n.timestampValue,e.timestampValue);case 4:return W2(og(n),og(e));case 5:return ft(n.stringValue,e.stringValue);case 6:return function(s,o){const a=mc(s),l=mc(o);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=ft(a[c],l[c]);if(u!==0)return u}return ft(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ft(mn(s.latitude),mn(o.latitude));return a!==0?a:ft(mn(s.longitude),mn(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return X2(n.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,u;const h=s.fields||{},f=o.fields||{},m=(a=h[Ax])===null||a===void 0?void 0:a.arrayValue,g=(l=f[Ax])===null||l===void 0?void 0:l.arrayValue,y=ft(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0);return y!==0?y:X2(m,g)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===Xy.mapValue&&o===Xy.mapValue)return 0;if(s===Xy.mapValue)return 1;if(o===Xy.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const f=ft(l[h],u[h]);if(f!==0)return f;const m=Fd(a[l[h]],c[u[h]]);if(m!==0)return m}return ft(l.length,u.length)}(n.mapValue,e.mapValue);default:throw ze()}}function W2(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ft(n,e);const t=pc(n),r=pc(e),i=ft(t.seconds,r.seconds);return i!==0?i:ft(t.nanos,r.nanos)}function X2(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=Fd(t[i],r[i]);if(s)return s}return ft(t.length,r.length)}function Bd(n){return LT(n)}function LT(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=pc(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return mc(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return $e.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=LT(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${LT(t.fields[o])}`;return i+"}"}(n.mapValue):ze()}function ev(n){switch(gc(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=kb(n);return e?16+ev(e):16;case 5:return 2*n.stringValue.length;case 6:return mc(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+ev(s),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Mc(r.fields,(s,o)=>{i+=s.length+ev(o)}),i}(n.mapValue);default:throw ze()}}function G2(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function UT(n){return!!n&&"integerValue"in n}function YA(n){return!!n&&"arrayValue"in n}function Y2(n){return!!n&&"nullValue"in n}function H2(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function tv(n){return!!n&&"mapValue"in n}function Yne(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[u3])===null||t===void 0?void 0:t.stringValue)===d3}function km(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Mc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=km(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=km(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Hne(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===h3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this.value=e}static empty(){return new ui({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!tv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=km(t)}setAll(e){let t=dr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=km(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());tv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return $o(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];tv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Mc(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new ui(km(this.value))}}function f3(n){const e=[];return Mc(n.fields,(t,r)=>{const i=new dr([t]);if(tv(r)){const s=f3(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ci(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Pr(e,0,Fe.min(),Fe.min(),Fe.min(),ui.empty(),0)}static newFoundDocument(e,t,r,i){return new Pr(e,1,t,Fe.min(),r,i,0)}static newNoDocument(e,t){return new Pr(e,2,t,Fe.min(),Fe.min(),ui.empty(),0)}static newUnknownDocument(e,t){return new Pr(e,3,t,Fe.min(),Fe.min(),ui.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ui.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ui.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,t){this.position=e,this.inclusive=t}}function K2(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(s.field.isKeyField()?r=$e.comparator($e.fromName(o.referenceValue),t.key):r=Fd(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function J2(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!$o(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,t="asc"){this.field=e,this.dir=t}}function Kne(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{}class En extends p3{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new ere(e,t,r):t==="array-contains"?new rre(e,r):t==="in"?new ire(e,r):t==="not-in"?new sre(e,r):t==="array-contains-any"?new ore(e,r):new En(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new tre(e,r):new nre(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Fd(t,this.value)):t!==null&&gc(this.value)===gc(t)&&this.matchesComparison(Fd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ze()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ds extends p3{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Ds(e,t)}matches(e){return m3(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function m3(n){return n.op==="and"}function g3(n){return Jne(n)&&m3(n)}function Jne(n){for(const e of n.filters)if(e instanceof Ds)return!1;return!0}function zT(n){if(n instanceof En)return n.field.canonicalString()+n.op.toString()+Bd(n.value);if(g3(n))return n.filters.map(e=>zT(e)).join(",");{const e=n.filters.map(t=>zT(t)).join(",");return`${n.op}(${e})`}}function O3(n,e){return n instanceof En?function(r,i){return i instanceof En&&r.op===i.op&&r.field.isEqual(i.field)&&$o(r.value,i.value)}(n,e):n instanceof Ds?function(r,i){return i instanceof Ds&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&O3(o,i.filters[a]),!0):!1}(n,e):void ze()}function y3(n){return n instanceof En?function(t){return`${t.field.canonicalString()} ${t.op} ${Bd(t.value)}`}(n):n instanceof Ds?function(t){return t.op.toString()+" {"+t.getFilters().map(y3).join(" ,")+"}"}(n):"Filter"}class ere extends En{constructor(e,t,r){super(e,t,r),this.key=$e.fromName(r.referenceValue)}matches(e){const t=$e.comparator(e.key,this.key);return this.matchesComparison(t)}}class tre extends En{constructor(e,t){super(e,"in",t),this.keys=v3("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class nre extends En{constructor(e,t){super(e,"not-in",t),this.keys=v3("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function v3(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>$e.fromName(r.referenceValue))}class rre extends En{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return YA(t)&&lg(t.arrayValue,this.value)}}class ire extends En{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&lg(this.value.arrayValue,t)}}class sre extends En{constructor(e,t){super(e,"not-in",t)}matches(e){if(lg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!lg(this.value.arrayValue,t)}}class ore extends En{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!YA(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>lg(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class are{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.le=null}}function ej(n,e=null,t=[],r=[],i=null,s=null,o=null){return new are(n,e,t,r,i,s,o)}function HA(n){const e=Xe(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>zT(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Sb(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Bd(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Bd(r)).join(",")),e.le=t}return e.le}function KA(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Kne(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!O3(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!J2(n.startAt,e.startAt)&&J2(n.endAt,e.endAt)}function qT(n){return $e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function lre(n,e,t,r,i,s,o,a){return new If(n,e,t,r,i,s,o,a)}function JA(n){return new If(n)}function tj(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function x3(n){return n.collectionGroup!==null}function _m(n){const e=Xe(n);if(e.he===null){e.he=[];const t=new Set;for(const s of e.explicitOrderBy)e.he.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new qn(dr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.he.push(new cg(s,r))}),t.has(dr.keyField().canonicalString())||e.he.push(new cg(dr.keyField(),r))}return e.he}function xo(n){const e=Xe(n);return e.Pe||(e.Pe=cre(e,_m(n))),e.Pe}function cre(n,e){if(n.limitType==="F")return ej(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new cg(i.field,s)});const t=n.endAt?new Rx(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Rx(n.startAt.position,n.startAt.inclusive):null;return ej(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function ZT(n,e){const t=n.filters.concat([e]);return new If(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Qx(n,e,t){return new If(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function _b(n,e){return KA(xo(n),xo(e))&&n.limitType===e.limitType}function w3(n){return`${HA(xo(n))}|lt:${n.limitType}`}function Ph(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>y3(i)).join(", ")}]`),Sb(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Bd(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Bd(i)).join(",")),`Target(${r})`}(xo(n))}; limitType=${n.limitType})`}function Tb(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):$e.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of _m(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=K2(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,_m(r),i)||r.endAt&&!function(o,a,l){const c=K2(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,_m(r),i))}(n,e)}function ure(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function b3(n){return(e,t)=>{let r=!1;for(const i of _m(n)){const s=hre(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function hre(n,e,t){const r=n.field.isKeyField()?$e.comparator(e.key,t.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Fd(l,c):ze()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ze()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Mc(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return i3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dre=new on($e.comparator);function za(){return dre}const S3=new on($e.comparator);function Fp(...n){let e=S3;for(const t of n)e=e.insert(t.key,t);return e}function k3(n){let e=S3;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function hu(){return Tm()}function _3(){return Tm()}function Tm(){return new oh(n=>n.toString(),(n,e)=>n.isEqual(e))}const fre=new on($e.comparator),pre=new qn($e.comparator);function at(...n){let e=pre;for(const t of n)e=e.add(t);return e}const mre=new qn(ft);function gre(){return mre}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cx(e)?"-0":e}}function T3(n){return{integerValue:""+n}}function Ore(n,e){return Fne(e)?T3(e):eR(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(){this._=void 0}}function yre(n,e,t){return n instanceof ug?function(i,s){const o={fields:{[a3]:{stringValue:o3},[c3]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&GA(s)&&(s=kb(s)),s&&(o.fields[l3]=s),{mapValue:o}}(t,e):n instanceof hg?C3(n,e):n instanceof dg?E3(n,e):function(i,s){const o=P3(i,s),a=nj(o)+nj(i.Ie);return UT(o)&&UT(i.Ie)?T3(a):eR(i.serializer,a)}(n,e)}function vre(n,e,t){return n instanceof hg?C3(n,e):n instanceof dg?E3(n,e):t}function P3(n,e){return n instanceof Ix?function(r){return UT(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class ug extends Pb{}class hg extends Pb{constructor(e){super(),this.elements=e}}function C3(n,e){const t=A3(e);for(const r of n.elements)t.some(i=>$o(i,r))||t.push(r);return{arrayValue:{values:t}}}class dg extends Pb{constructor(e){super(),this.elements=e}}function E3(n,e){let t=A3(e);for(const r of n.elements)t=t.filter(i=>!$o(i,r));return{arrayValue:{values:t}}}class Ix extends Pb{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function nj(n){return mn(n.integerValue||n.doubleValue)}function A3(n){return YA(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xre{constructor(e,t){this.field=e,this.transform=t}}function wre(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof hg&&i instanceof hg||r instanceof dg&&i instanceof dg?Zd(r.elements,i.elements,$o):r instanceof Ix&&i instanceof Ix?$o(r.Ie,i.Ie):r instanceof ug&&i instanceof ug}(n.transform,e.transform)}class bre{constructor(e,t){this.version=e,this.transformResults=t}}class Fr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Fr}static exists(e){return new Fr(void 0,e)}static updateTime(e){return new Fr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nv(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Cb{}function R3(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Eb(n.key,Fr.none()):new AO(n.key,n.data,Fr.none());{const t=n.data,r=ui.empty();let i=new qn(dr.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Vc(n.key,r,new Ci(i.toArray()),Fr.none())}}function Sre(n,e,t){n instanceof AO?function(i,s,o){const a=i.value.clone(),l=ij(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Vc?function(i,s,o){if(!nv(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=ij(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(Q3(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function Pm(n,e,t,r){return n instanceof AO?function(s,o,a,l){if(!nv(s.precondition,o))return a;const c=s.value.clone(),u=sj(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof Vc?function(s,o,a,l){if(!nv(s.precondition,o))return a;const c=sj(s.fieldTransforms,l,o),u=o.data;return u.setAll(Q3(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(n,e,t,r):function(s,o,a){return nv(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function kre(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=P3(r.transform,i||null);s!=null&&(t===null&&(t=ui.empty()),t.set(r.field,s))}return t||null}function rj(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Zd(r,i,(s,o)=>wre(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class AO extends Cb{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Vc extends Cb{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Q3(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function ij(n,e,t){const r=new Map;kt(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,vre(o,a,t[i]))}return r}function sj(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,yre(s,o,e))}return r}class Eb extends Cb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _re extends Cb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tre{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Sre(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Pm(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Pm(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=_3();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const l=R3(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Fe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),at())}isEqual(e){return this.batchId===e.batchId&&Zd(this.mutations,e.mutations,(t,r)=>rj(t,r))&&Zd(this.baseMutations,e.baseMutations,(t,r)=>rj(t,r))}}class tR{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){kt(e.mutations.length===r.length);let i=function(){return fre}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new tR(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pre=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cre{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tn,gt;function Ere(n){switch(n){case ne.OK:return ze();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return ze()}}function I3(n){if(n===void 0)return Ua("GRPC error has no .code"),ne.UNKNOWN;switch(n){case Tn.OK:return ne.OK;case Tn.CANCELLED:return ne.CANCELLED;case Tn.UNKNOWN:return ne.UNKNOWN;case Tn.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Tn.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Tn.INTERNAL:return ne.INTERNAL;case Tn.UNAVAILABLE:return ne.UNAVAILABLE;case Tn.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Tn.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Tn.NOT_FOUND:return ne.NOT_FOUND;case Tn.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Tn.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Tn.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Tn.ABORTED:return ne.ABORTED;case Tn.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Tn.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Tn.DATA_LOSS:return ne.DATA_LOSS;default:return ze()}}(gt=Tn||(Tn={}))[gt.OK=0]="OK",gt[gt.CANCELLED=1]="CANCELLED",gt[gt.UNKNOWN=2]="UNKNOWN",gt[gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gt[gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gt[gt.NOT_FOUND=5]="NOT_FOUND",gt[gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",gt[gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",gt[gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",gt[gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gt[gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gt[gt.ABORTED=10]="ABORTED",gt[gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",gt[gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",gt[gt.INTERNAL=13]="INTERNAL",gt[gt.UNAVAILABLE=14]="UNAVAILABLE",gt[gt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Are(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rre=new rc([4294967295,4294967295],0);function oj(n){const e=Are().encode(n),t=new Gz;return t.update(e),new Uint8Array(t.digest())}function aj(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new rc([t,r],0),new rc([i,s],0)]}class nR{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Bp(`Invalid padding: ${t}`);if(r<0)throw new Bp(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Bp(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Bp(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=rc.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(rc.fromNumber(r)));return i.compare(Rre)===1&&(i=new rc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=oj(e),[r,i]=aj(t);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);if(!this.Re(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new nR(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;const t=oj(e),[r,i]=aj(t);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);this.Ve(o)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Bp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,RO.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Ab(Fe.min(),i,new on(ft),za(),at())}}class RO{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new RO(r,t,at(),at(),at())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}}class $3{constructor(e,t){this.targetId=e,this.ge=t}}class N3{constructor(e,t,r=gr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class lj{constructor(){this.pe=0,this.ye=cj(),this.we=gr.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=at(),t=at(),r=at();return this.ye.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ze()}}),new RO(this.we,this.be,e,t,r)}Me(){this.Se=!1,this.ye=cj()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,kt(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class Qre{constructor(e){this.ke=e,this.qe=new Map,this.Qe=za(),this.$e=Gy(),this.Ke=Gy(),this.Ue=new on(ft)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:ze()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){const t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){const s=i.target;if(qT(s))if(r===0){const o=new $e(s.path);this.ze(t,o,Pr.newNoDocument(o,Fe.min()))}else kt(r===1);else{const o=this.et(t);if(o!==r){const a=this.tt(e),l=a?this.nt(a,e,o):1;if(l!==0){this.Ye(t);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,c)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let o,a;try{o=mc(r).toUint8Array()}catch(l){if(l instanceof s3)return qd("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new nR(o,i,s)}catch(l){return qd(l instanceof Bp?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const o=this.ke.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.ze(t,s,null),i++)}),i}ot(e){const t=new Map;this.qe.forEach((s,o)=>{const a=this.Xe(o);if(a){if(s.current&&qT(a.target)){const l=new $e(a.target.path);this._t(l).has(o)||this.ut(o,l)||this.ze(o,l,Pr.newNoDocument(l,e))}s.ve&&(t.set(o,s.Fe()),s.Me())}});let r=at();this.Ke.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Xe(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(e));const i=new Ab(e,t,this.Ue,this.Qe,r);return this.Qe=za(),this.$e=Gy(),this.Ke=Gy(),this.Ue=new on(ft),i}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new lj,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new qn(ft),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new qn(ft),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||_e("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new lj),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Gy(){return new on($e.comparator)}function cj(){return new on($e.comparator)}const Ire={asc:"ASCENDING",desc:"DESCENDING"},$re={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Nre={and:"AND",or:"OR"};class jre{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function FT(n,e){return n.useProto3Json||Sb(e)?e:{value:e}}function $x(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function j3(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Dre(n,e){return $x(n,e.toTimestamp())}function wo(n){return kt(!!n),Fe.fromTimestamp(function(t){const r=pc(t);return new zn(r.seconds,r.nanos)}(n))}function rR(n,e){return BT(n,e).canonicalString()}function BT(n,e){const t=function(i){return new Bt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function D3(n){const e=Bt.fromString(n);return kt(z3(e)),e}function WT(n,e){return rR(n.databaseId,e.path)}function M1(n,e){const t=D3(e);if(t.get(1)!==n.databaseId.projectId)throw new be(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new be(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new $e(V3(t))}function M3(n,e){return rR(n.databaseId,e)}function Mre(n){const e=D3(n);return e.length===4?Bt.emptyPath():V3(e)}function XT(n){return new Bt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function V3(n){return kt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function uj(n,e,t){return{name:WT(n,e),fields:t.value.mapValue.fields}}function Vre(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ze()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(kt(u===void 0||typeof u=="string"),gr.fromBase64String(u||"")):(kt(u===void 0||u instanceof Buffer||u instanceof Uint8Array),gr.fromUint8Array(u||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?ne.UNKNOWN:I3(c.code);return new be(u,c.message||"")}(o);t=new N3(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=M1(n,r.document.name),s=wo(r.document.updateTime),o=r.document.createTime?wo(r.document.createTime):Fe.min(),a=new ui({mapValue:{fields:r.document.fields}}),l=Pr.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];t=new rv(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=M1(n,r.document),s=r.readTime?wo(r.readTime):Fe.min(),o=Pr.newNoDocument(i,s),a=r.removedTargetIds||[];t=new rv([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=M1(n,r.document),s=r.removedTargetIds||[];t=new rv([],s,i,null)}else{if(!("filter"in e))return ze();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Cre(i,s),a=r.targetId;t=new $3(a,o)}}return t}function Lre(n,e){let t;if(e instanceof AO)t={update:uj(n,e.key,e.value)};else if(e instanceof Eb)t={delete:WT(n,e.key)};else if(e instanceof Vc)t={update:uj(n,e.key,e.data),updateMask:Gre(e.fieldMask)};else{if(!(e instanceof _re))return ze();t={verify:WT(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof ug)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof hg)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof dg)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ix)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw ze()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Dre(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ze()}(n,e.precondition)),t}function Ure(n,e){return n&&n.length>0?(kt(e!==void 0),n.map(t=>function(i,s){let o=i.updateTime?wo(i.updateTime):wo(s);return o.isEqual(Fe.min())&&(o=wo(s)),new bre(o,i.transformResults||[])}(t,e))):[]}function zre(n,e){return{documents:[M3(n,e.path)]}}function qre(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=M3(n,i);const s=function(c){if(c.length!==0)return U3(Ds.create(c,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(u=>function(f){return{field:Ch(f.field),direction:Bre(f.dir)}}(u))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const a=FT(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ht:t,parent:i}}function Zre(n){let e=Mre(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){kt(r===1);const u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];t.where&&(s=function(h){const f=L3(h);return f instanceof Ds&&g3(f)?f.getFilters():[f]}(t.where));let o=[];t.orderBy&&(o=function(h){return h.map(f=>function(g){return new cg(Eh(g.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(t.orderBy));let a=null;t.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Sb(f)?null:f}(t.limit));let l=null;t.startAt&&(l=function(h){const f=!!h.before,m=h.values||[];return new Rx(m,f)}(t.startAt));let c=null;return t.endAt&&(c=function(h){const f=!h.before,m=h.values||[];return new Rx(m,f)}(t.endAt)),lre(e,i,o,s,a,"F",l,c)}function Fre(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ze()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function L3(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Eh(t.unaryFilter.field);return En.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Eh(t.unaryFilter.field);return En.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Eh(t.unaryFilter.field);return En.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Eh(t.unaryFilter.field);return En.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ze()}}(n):n.fieldFilter!==void 0?function(t){return En.create(Eh(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ze()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Ds.create(t.compositeFilter.filters.map(r=>L3(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ze()}}(t.compositeFilter.op))}(n):ze()}function Bre(n){return Ire[n]}function Wre(n){return $re[n]}function Xre(n){return Nre[n]}function Ch(n){return{fieldPath:n.canonicalString()}}function Eh(n){return dr.fromServerFormat(n.fieldPath)}function U3(n){return n instanceof En?function(t){if(t.op==="=="){if(H2(t.value))return{unaryFilter:{field:Ch(t.field),op:"IS_NAN"}};if(Y2(t.value))return{unaryFilter:{field:Ch(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(H2(t.value))return{unaryFilter:{field:Ch(t.field),op:"IS_NOT_NAN"}};if(Y2(t.value))return{unaryFilter:{field:Ch(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ch(t.field),op:Wre(t.op),value:t.value}}}(n):n instanceof Ds?function(t){const r=t.getFilters().map(i=>U3(i));return r.length===1?r[0]:{compositeFilter:{op:Xre(t.op),filters:r}}}(n):ze()}function Gre(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function z3(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,t,r,i,s=Fe.min(),o=Fe.min(),a=gr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new zl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new zl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yre{constructor(e){this.Tt=e}}function Hre(n){const e=Zre({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Qx(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kre{constructor(){this.Tn=new Jre}addToCollectionParentIndex(e,t){return this.Tn.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(fc.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(fc.min())}updateCollectionGroup(e,t,r){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class Jre{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new qn(Bt.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new qn(Bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},q3=41943040;class si{static withCacheSize(e){return new si(e,si.DEFAULT_COLLECTION_PERCENTILE,si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */si.DEFAULT_COLLECTION_PERCENTILE=10,si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,si.DEFAULT=new si(q3,si.DEFAULT_COLLECTION_PERCENTILE,si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),si.DISABLED=new si(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Wd(0)}static Un(){return new Wd(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj="LruGarbageCollector",eie=1048576;function fj([n,e],[t,r]){const i=ft(n,t);return i===0?ft(e,r):i}class tie{constructor(e){this.Hn=e,this.buffer=new qn(fj),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();fj(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class nie{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){_e(dj,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Qf(t)?_e(dj,"Ignoring IndexedDB error during garbage collection: ",t):await Rf(t)}await this.er(3e5)})}}class rie{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ie.resolve(bb.ae);const r=new tie(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(hj)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hj):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,s,o,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,t))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),Th()<=ot.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function iie(n,e){return new rie(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sie{constructor(){this.changes=new oh(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Pr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ie.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oie{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aie{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Pm(r.mutation,i,Ci.empty(),zn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,at()).next(()=>r))}getLocalViewOfDocuments(e,t,r=at()){const i=hu();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Fp();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=hu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,at()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=za();const o=Tm(),a=function(){return Tm()}();return t.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Vc)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Pm(u.mutation,c,u.mutation.getFieldMask(),zn.now())):o.set(c.key,Ci.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),t.forEach((c,u)=>{var h;return a.set(c,new oie(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Tm();let i=new on((o,a)=>o-a),s=at();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=t.get(l);if(c===null)return;let u=r.get(l)||Ci.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(i.get(a.batchId)||at()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=_3();u.forEach(f=>{if(!s.has(f)){const m=R3(t.get(f),r.get(f));m!==null&&h.set(f,m),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return ie.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(o){return $e.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):x3(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):ie.resolve(hu());let a=sg,l=s;return o.next(c=>ie.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(u)?ie.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,at())).next(u=>({batchId:a,changes:k3(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new $e(t)).next(r=>{let i=Fp();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let o=Fp();return this.indexManager.getCollectionParents(e,s).next(a=>ie.forEach(a,l=>{const c=function(h,f){return new If(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(t,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Pr.newInvalidDocument(u)))});let a=Fp();return o.forEach((l,c)=>{const u=s.get(l);u!==void 0&&Pm(u.mutation,c,Ci.empty(),zn.now()),Tb(t,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lie{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ie.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:wo(i.createTime)}}(t)),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:Hre(i.bundledQuery),readTime:wo(i.readTime)}}(t)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cie{constructor(){this.overlays=new on($e.comparator),this.Rr=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const r=hu();return ie.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.Et(e,t,s)}),ie.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(r)),ie.resolve()}getOverlaysForCollection(e,t,r){const i=hu(),s=t.length+1,o=new $e(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ie.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new on((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=hu(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=hu(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return ie.resolve(a)}Et(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Pre(t,r));let s=this.Rr.get(t);s===void 0&&(s=at(),this.Rr.set(t,s)),this.Rr.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uie{constructor(){this.sessionToken=gr.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(){this.Vr=new qn(Xn.mr),this.gr=new qn(Xn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new Xn(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Xn(e,t))}br(e,t){e.forEach(r=>this.removeReference(r,t))}Sr(e){const t=new $e(new Bt([])),r=new Xn(t,e),i=new Xn(t,e+1),s=[];return this.gr.forEachInRange([r,i],o=>{this.wr(o),s.push(o.key)}),s}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new $e(new Bt([])),r=new Xn(t,e),i=new Xn(t,e+1);let s=at();return this.gr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Xn(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Xn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return $e.comparator(e.key,t.key)||ft(e.Cr,t.Cr)}static pr(e,t){return ft(e.Cr,t.Cr)||$e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hie{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new qn(Xn.mr)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Tre(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.Mr=this.Mr.add(new Xn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ie.resolve(o)}lookupMutationBatch(e,t){return ie.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Nr(r),s=i<0?0:i;return ie.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?XA:this.Fr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Xn(t,0),i=new Xn(t,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([r,i],o=>{const a=this.Or(o.Cr);s.push(a)}),ie.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new qn(ft);return t.forEach(i=>{const s=new Xn(i,0),o=new Xn(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,o],a=>{r=r.add(a.Cr)})}),ie.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;$e.isDocumentKey(s)||(s=s.child(""));const o=new Xn(new $e(s),0);let a=new qn(ft);return this.Mr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Cr)),!0)},o),ie.resolve(this.Br(a))}Br(e){const t=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){kt(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return ie.forEach(t.mutations,i=>{const s=new Xn(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new Xn(t,0),i=this.Mr.firstAfterOrEqual(r);return ie.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class die{constructor(e){this.kr=e,this.docs=function(){return new on($e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ie.resolve(r?r.document.mutableCopy():Pr.newInvalidDocument(t))}getEntries(e,t){let r=za();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Pr.newInvalidDocument(i))}),ie.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=za();const o=t.path,a=new $e(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Une(Lne(u),r)<=0||(i.has(u.key)||Tb(t,u))&&(s=s.insert(u.key,u.mutableCopy()))}return ie.resolve(s)}getAllFromCollectionGroup(e,t,r,i){ze()}qr(e,t){return ie.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new fie(this)}getSize(e){return ie.resolve(this.size)}}class fie extends sie{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),ie.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pie{constructor(e){this.persistence=e,this.Qr=new oh(t=>HA(t),KA),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.$r=0,this.Kr=new iR,this.targetCount=0,this.Ur=Wd.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),ie.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Wd(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.zn(t),ie.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Qr.forEach((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Qr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ie.waitFor(s).next(()=>i)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return ie.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),ie.resolve()}removeMatchingKeys(e,t,r){this.Kr.br(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ie.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return ie.resolve(r)}containsKey(e,t){return ie.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new bb(0),this.zr=!1,this.zr=!0,this.jr=new uie,this.referenceDelegate=e(this),this.Hr=new pie(this),this.indexManager=new Kre,this.remoteDocumentCache=function(i){return new die(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new Yre(t),this.Yr=new lie(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new cie,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new hie(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){_e("MemoryPersistence","Starting transaction:",e);const i=new mie(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(s=>this.referenceDelegate.Xr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}ei(e,t){return ie.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class mie extends qne{constructor(e){super(),this.currentSequenceNumber=e}}class sR{constructor(e){this.persistence=e,this.ti=new iR,this.ni=null}static ri(e){return new sR(e)}get ii(){if(this.ni)return this.ni;throw ze()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),ie.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ie.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.ii.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.ii,r=>{const i=$e.fromPath(r);return this.si(e,i).next(s=>{s||t.removeEntry(i,Fe.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ie.or([()=>ie.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Nx{constructor(e,t){this.persistence=e,this.oi=new oh(r=>Bne(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=iie(this,t)}static ri(e,t){return new Nx(e,t)}Zr(){}Xr(e){return ie.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return ie.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(s=>s?ie.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.qr(e,o=>this.ar(e,o,t).next(a=>{a||(r++,s.removeEntry(o,Fe.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ie.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ie.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ie.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ev(e.data.value)),t}ar(e,t,r){return ie.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.oi.get(t);return ie.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=at(),i=at();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new oR(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gie{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oie{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return fte()?8:Zne(Qr())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.rs(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ss(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new gie;return this._s(e,t,o).next(a=>{if(s.result=a,this.Xi)return this.us(e,t,o,a.size)})}).next(()=>s.result)}us(e,t,r,i){return r.documentReadCount<this.es?(Th()<=ot.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",Ph(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ie.resolve()):(Th()<=ot.DEBUG&&_e("QueryEngine","Query:",Ph(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(Th()<=ot.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",Ph(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xo(t))):ie.resolve())}rs(e,t){if(tj(t))return ie.resolve(null);let r=xo(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Qx(t,null,"F"),r=xo(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=at(...s);return this.ns.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.cs(t,a);return this.ls(t,c,o,l.readTime)?this.rs(e,Qx(t,null,"F")):this.hs(e,c,t,l)}))})))}ss(e,t,r,i){return tj(t)||i.isEqual(Fe.min())?ie.resolve(null):this.ns.getDocuments(e,r).next(s=>{const o=this.cs(t,s);return this.ls(t,o,r,i)?ie.resolve(null):(Th()<=ot.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ph(t)),this.hs(e,o,t,Vne(i,sg)).next(a=>a))})}cs(e,t){let r=new qn(b3(e));return t.forEach((i,s)=>{Tb(e,s)&&(r=r.add(s))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}_s(e,t,r){return Th()<=ot.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",Ph(t)),this.ns.getDocumentsMatchingQuery(e,t,fc.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR="LocalStore",yie=3e8;class vie{constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new on(ft),this.Is=new oh(s=>HA(s),KA),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aie(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function xie(n,e,t,r){return new vie(n,e,t,r)}async function F3(n,e){const t=Xe(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=at();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(r,l).next(c=>({Rs:c,removedBatchIds:o,addedBatchIds:a}))})})}function wie(n,e){const t=Xe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.ds.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,f=h.keys();let m=ie.resolve();return f.forEach(g=>{m=m.next(()=>u.getEntry(l,g)).next(y=>{const x=c.docVersions.get(g);kt(x!==null),y.version.compareTo(x)<0&&(h.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),u.addEntry(y)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=at();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function B3(n){const e=Xe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function bie(n,e){const t=Xe(n),r=e.snapshotVersion;let i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;const a=[];e.targetChanges.forEach((u,h)=>{const f=i.get(h);if(!f)return;a.push(t.Hr.removeMatchingKeys(s,u.removedDocuments,h).next(()=>t.Hr.addMatchingKeys(s,u.addedDocuments,h)));let m=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(gr.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,r)),i=i.insert(h,m),function(y,x,S){return y.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=yie?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(f,m,u)&&a.push(t.Hr.updateTargetData(s,m))});let l=za(),c=at();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(Sie(s,o,e.documentUpdates).next(u=>{l=u.Vs,c=u.fs})),!r.isEqual(Fe.min())){const u=t.Hr.getLastRemoteSnapshotVersion(s).next(h=>t.Hr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return ie.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(t.Ts=i,s))}function Sie(n,e,t){let r=at(),i=at();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=za();return t.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Fe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):_e(aR,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Vs:o,fs:i}})}function kie(n,e){const t=Xe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=XA),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _ie(n,e){const t=Xe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(s=>s?(i=s,ie.resolve(i)):t.Hr.allocateTargetId(r).next(o=>(i=new zl(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function GT(n,e,t){const r=Xe(n),i=r.Ts.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Qf(o))throw o;_e(aR,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function pj(n,e,t){const r=Xe(n);let i=Fe.min(),s=at();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const h=Xe(l),f=h.Is.get(u);return f!==void 0?ie.resolve(h.Ts.get(f)):h.Hr.getTargetData(c,u)}(r,o,xo(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Ps.getDocumentsMatchingQuery(o,e,t?i:Fe.min(),t?s:at())).next(a=>(Tie(r,ure(e),a),{documents:a,gs:s})))}function Tie(n,e,t){let r=n.Es.get(e)||Fe.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Es.set(e,r)}class mj{constructor(){this.activeTargetIds=gre()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Pie{constructor(){this.ho=new mj,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new mj,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cie{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj="ConnectivityMonitor";class Oj{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){_e(gj,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){_e(gj,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yy=null;function YT(){return Yy===null?Yy=function(){return 268435456+Math.round(2147483648*Math.random())}():Yy++,"0x"+Yy.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="RestConnection",Eie={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Aie{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===Ex?`project_id=${r}`:`project_id=${r}&database_id=${i}`}bo(e,t,r,i,s){const o=YT(),a=this.So(e,t.toUriEncodedString());_e(V1,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,i,s),this.vo(e,a,l,r).then(c=>(_e(V1,`Received RPC '${e}' ${o}: `,c),c),c=>{throw qd(V1,`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}Co(e,t,r,i,s,o){return this.bo(e,t,r,i,s)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Af}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}So(e,t){const r=Eie[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rie{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br="WebChannelConnection";class Qie extends Aie{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){const s=YT();return new Promise((o,a)=>{const l=new Yz;l.setWithCredentials(!0),l.listenOnce(Hz.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case J0.NO_ERROR:const u=l.getResponseJson();_e(br,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case J0.TIMEOUT:_e(br,`RPC '${e}' ${s} timed out`),a(new be(ne.DEADLINE_EXCEEDED,"Request time out"));break;case J0.HTTP_ERROR:const h=l.getStatus();if(_e(br,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const g=function(x){const S=x.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(S)>=0?S:ne.UNKNOWN}(m.status);a(new be(g,m.message))}else a(new be(ne.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new be(ne.UNAVAILABLE,"Connection failed."));break;default:ze()}}finally{_e(br,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);_e(br,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",c,r,15)})}Wo(e,t,r){const i=YT(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=e3(),a=Jz(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const u=s.join("");_e(br,`Creating RPC '${e}' stream ${i}: ${u}`,l);const h=o.createWebChannel(u,l);let f=!1,m=!1;const g=new Rie({Fo:x=>{m?_e(br,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(f||(_e(br,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),_e(br,`RPC '${e}' stream ${i} sending:`,x),h.send(x))},Mo:()=>h.close()}),y=(x,S,_)=>{x.listen(S,T=>{try{_(T)}catch(I){setTimeout(()=>{throw I},0)}})};return y(h,Zp.EventType.OPEN,()=>{m||(_e(br,`RPC '${e}' stream ${i} transport opened.`),g.Qo())}),y(h,Zp.EventType.CLOSE,()=>{m||(m=!0,_e(br,`RPC '${e}' stream ${i} transport closed`),g.Ko())}),y(h,Zp.EventType.ERROR,x=>{m||(m=!0,qd(br,`RPC '${e}' stream ${i} transport errored:`,x),g.Ko(new be(ne.UNAVAILABLE,"The operation could not be completed")))}),y(h,Zp.EventType.MESSAGE,x=>{var S;if(!m){const _=x.data[0];kt(!!_);const T=_,I=(T==null?void 0:T.error)||((S=T[0])===null||S===void 0?void 0:S.error);if(I){_e(br,`RPC '${e}' stream ${i} received error:`,I);const C=I.status;let Q=function(k){const R=Tn[k];if(R!==void 0)return I3(R)}(C),O=I.message;Q===void 0&&(Q=ne.INTERNAL,O="Unknown error status: "+C+" with message "+I.message),m=!0,g.Ko(new be(Q,O)),h.close()}else _e(br,`RPC '${e}' stream ${i} received:`,_),g.Uo(_)}}),y(a,Kz.STAT_EVENT,x=>{x.stat===VT.PROXY?_e(br,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===VT.NOPROXY&&_e(br,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.$o()},0),g}}function L1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(n){return new jre(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&_e("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj="PersistentStream";class X3{constructor(e,t,r,i,s,o,a,l){this.Ti=e,this.n_=r,this.r_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new W3(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(Ua(t.toString()),Ua("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{const i=new be(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return _e(yj,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(_e(yj,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Iie extends X3{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=Vre(this.serializer,e),r=function(s){if(!("targetChange"in s))return Fe.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Fe.min():o.readTime?wo(o.readTime):Fe.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=XT(this.serializer),t.addTarget=function(s,o){let a;const l=o.target;if(a=qT(l)?{documents:zre(s,l)}:{query:qre(s,l).ht},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=j3(s,o.resumeToken);const c=FT(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Fe.min())>0){a.readTime=$x(s,o.snapshotVersion.toTimestamp());const c=FT(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=Fre(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=XT(this.serializer),t.removeTarget=e,this.I_(t)}}class $ie extends X3{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return kt(!!e.streamToken),this.lastStreamToken=e.streamToken,kt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){kt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=Ure(e.writeResults,e.commitTime),r=wo(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=XT(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Lre(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nie{}class jie extends Nie{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new be(ne.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.bo(e,BT(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new be(ne.UNKNOWN,s.toString())})}Co(e,t,r,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Co(e,BT(t,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new be(ne.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class Die{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ua(t),this.N_=!1):_e("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu="RemoteStore";class Mie{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(o=>{r.enqueueAndForget(async()=>{ah(this)&&(_e(Vu,"Restarting streams for network reachability change."),await async function(l){const c=Xe(l);c.W_.add(4),await QO(c),c.j_.set("Unknown"),c.W_.delete(4),await Qb(c)}(this))})}),this.j_=new Die(r,i)}}async function Qb(n){if(ah(n))for(const e of n.G_)await e(!0)}async function QO(n){for(const e of n.G_)await e(!1)}function G3(n,e){const t=Xe(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),hR(t)?uR(t):$f(t).c_()&&cR(t,e))}function lR(n,e){const t=Xe(n),r=$f(t);t.U_.delete(e),r.c_()&&Y3(t,e),t.U_.size===0&&(r.c_()?r.P_():ah(t)&&t.j_.set("Unknown"))}function cR(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}$f(n).y_(e)}function Y3(n,e){n.H_.Ne(e),$f(n).w_(e)}function uR(n){n.H_=new Qre({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),$f(n).start(),n.j_.B_()}function hR(n){return ah(n)&&!$f(n).u_()&&n.U_.size>0}function ah(n){return Xe(n).W_.size===0}function H3(n){n.H_=void 0}async function Vie(n){n.j_.set("Online")}async function Lie(n){n.U_.forEach((e,t)=>{cR(n,e)})}async function Uie(n,e){H3(n),hR(n)?(n.j_.q_(e),uR(n)):n.j_.set("Unknown")}async function zie(n,e,t){if(n.j_.set("Online"),e instanceof N3&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.U_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.U_.delete(a),i.H_.removeTarget(a))}(n,e)}catch(r){_e(Vu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await jx(n,r)}else if(e instanceof rv?n.H_.We(e):e instanceof $3?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Fe.min()))try{const r=await B3(n.localStore);t.compareTo(r)>=0&&await function(s,o){const a=s.H_.ot(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.U_.get(c);u&&s.U_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.U_.get(l);if(!u)return;s.U_.set(l,u.withResumeToken(gr.EMPTY_BYTE_STRING,u.snapshotVersion)),Y3(s,l);const h=new zl(u.target,l,c,u.sequenceNumber);cR(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t)}catch(r){_e(Vu,"Failed to raise snapshot:",r),await jx(n,r)}}async function jx(n,e,t){if(!Qf(e))throw e;n.W_.add(1),await QO(n),n.j_.set("Offline"),t||(t=()=>B3(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{_e(Vu,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Qb(n)})}function K3(n,e){return e().catch(t=>jx(n,t,e))}async function Ib(n){const e=Xe(n),t=Oc(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:XA;for(;qie(e);)try{const i=await kie(e.localStore,r);if(i===null){e.K_.length===0&&t.P_();break}r=i.batchId,Zie(e,i)}catch(i){await jx(e,i)}J3(e)&&eq(e)}function qie(n){return ah(n)&&n.K_.length<10}function Zie(n,e){n.K_.push(e);const t=Oc(n);t.c_()&&t.b_&&t.S_(e.mutations)}function J3(n){return ah(n)&&!Oc(n).u_()&&n.K_.length>0}function eq(n){Oc(n).start()}async function Fie(n){Oc(n).C_()}async function Bie(n){const e=Oc(n);for(const t of n.K_)e.S_(t.mutations)}async function Wie(n,e,t){const r=n.K_.shift(),i=tR.from(r,e,t);await K3(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Ib(n)}async function Xie(n,e){e&&Oc(n).b_&&await async function(r,i){if(function(o){return Ere(o)&&o!==ne.ABORTED}(i.code)){const s=r.K_.shift();Oc(r).h_(),await K3(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Ib(r)}}(n,e),J3(n)&&eq(n)}async function vj(n,e){const t=Xe(n);t.asyncQueue.verifyOperationInProgress(),_e(Vu,"RemoteStore received new credentials");const r=ah(t);t.W_.add(3),await QO(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Qb(t)}async function Gie(n,e){const t=Xe(n);e?(t.W_.delete(2),await Qb(t)):e||(t.W_.add(2),await QO(t),t.j_.set("Unknown"))}function $f(n){return n.J_||(n.J_=function(t,r,i){const s=Xe(t);return s.M_(),new Iie(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{xo:Vie.bind(null,n),No:Lie.bind(null,n),Lo:Uie.bind(null,n),p_:zie.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),hR(n)?uR(n):n.j_.set("Unknown")):(await n.J_.stop(),H3(n))})),n.J_}function Oc(n){return n.Y_||(n.Y_=function(t,r,i){const s=Xe(t);return s.M_(),new $ie(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:Fie.bind(null,n),Lo:Xie.bind(null,n),D_:Bie.bind(null,n),v_:Wie.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Ib(n)):(await n.Y_.stop(),n.K_.length>0&&(_e(Vu,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ra,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new dR(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fR(n,e){if(Ua("AsyncQueue",`${e}: ${n}`),Qf(n))return new be(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{static emptySet(e){return new ld(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||$e.comparator(t.key,r.key):(t,r)=>$e.comparator(t.key,r.key),this.keyedMap=Fp(),this.sortedSet=new on(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ld)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new ld;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(){this.Z_=new on($e.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):ze():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Xd{constructor(e,t,r,i,s,o,a,l,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new Xd(e,t,ld.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_b(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yie{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class Hie{constructor(){this.queries=wj(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const i=Xe(t),s=i.queries;i.queries=wj(),s.forEach((o,a)=>{for(const l of a.ta)l.onError(r)})})(this,new be(ne.ABORTED,"Firestore shutting down"))}}function wj(){return new oh(n=>w3(n),_b)}async function tq(n,e){const t=Xe(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.na()&&e.ra()&&(r=2):(s=new Yie,r=e.ra()?0:1);try{switch(r){case 0:s.ea=await t.onListen(i,!0);break;case 1:s.ea=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(o){const a=fR(o,`Initialization of query '${Ph(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.ta.push(e),e.sa(t.onlineState),s.ea&&e.oa(s.ea)&&pR(t)}async function nq(n,e){const t=Xe(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const o=s.ta.indexOf(e);o>=0&&(s.ta.splice(o,1),s.ta.length===0?i=e.ra()?0:1:!s.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function Kie(n,e){const t=Xe(n);let r=!1;for(const i of e){const s=i.query,o=t.queries.get(s);if(o){for(const a of o.ta)a.oa(i)&&(r=!0);o.ea=i}}r&&pR(t)}function Jie(n,e,t){const r=Xe(n),i=r.queries.get(e);if(i)for(const s of i.ta)s.onError(t);r.queries.delete(e)}function pR(n){n.ia.forEach(e=>{e.next()})}var HT,bj;(bj=HT||(HT={}))._a="default",bj.Cache="cache";class rq{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Xd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Xd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==HT.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iq{constructor(e){this.key=e}}class sq{constructor(e){this.key=e}}class ese{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=at(),this.mutatedKeys=at(),this.ya=b3(e),this.wa=new ld(this.ya)}get ba(){return this.fa}Sa(e,t){const r=t?t.Da:new xj,i=t?t.wa:this.wa;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,h)=>{const f=i.get(u),m=Tb(this.query,h)?h:null,g=!!f&&this.mutatedKeys.has(f.key),y=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let x=!1;f&&m?f.data.isEqual(m.data)?g!==y&&(r.track({type:3,doc:m}),x=!0):this.va(f,m)||(r.track({type:2,doc:m}),x=!0,(l&&this.ya(m,l)>0||c&&this.ya(m,c)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),x=!0):f&&!m&&(r.track({type:1,doc:f}),x=!0,(l||c)&&(a=!0)),x&&(m?(o=o.add(m),s=y?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{wa:o,Da:r,ls:a,mutatedKeys:s}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((u,h)=>function(m,g){const y=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ze()}};return y(m)-y(g)}(u.type,h.type)||this.ya(u.doc,h.doc)),this.Ca(r),i=i!=null&&i;const a=t&&!i?this.Fa():[],l=this.pa.size===0&&this.current&&!i?1:0,c=l!==this.ga;return this.ga=l,o.length!==0||c?{snapshot:new Xd(this.query,e.wa,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new xj,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=at(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new sq(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new iq(r))}),t}Oa(e){this.fa=e.gs,this.pa=at();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return Xd.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const mR="SyncEngine";class tse{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class nse{constructor(e){this.key=e,this.Ba=!1}}class rse{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new oh(a=>w3(a),_b),this.qa=new Map,this.Qa=new Set,this.$a=new on($e.comparator),this.Ka=new Map,this.Ua=new iR,this.Wa={},this.Ga=new Map,this.za=Wd.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function ise(n,e,t=!0){const r=hq(n);let i;const s=r.ka.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=await oq(r,e,t,!0),i}async function sse(n,e){const t=hq(n);await oq(t,e,!0,!1)}async function oq(n,e,t,r){const i=await _ie(n.localStore,xo(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t);let a;return r&&(a=await ose(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&G3(n.remoteStore,i),a}async function ose(n,e,t,r,i){n.Ha=(h,f,m)=>async function(y,x,S,_){let T=x.view.Sa(S);T.ls&&(T=await pj(y.localStore,x.query,!1).then(({documents:O})=>x.view.Sa(O,T)));const I=_&&_.targetChanges.get(x.targetId),C=_&&_.targetMismatches.get(x.targetId)!=null,Q=x.view.applyChanges(T,y.isPrimaryClient,I,C);return kj(y,x.targetId,Q.Ma),Q.snapshot}(n,h,f,m);const s=await pj(n.localStore,e,!0),o=new ese(e,s.gs),a=o.Sa(s.documents),l=RO.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),c=o.applyChanges(a,n.isPrimaryClient,l);kj(n,t,c.Ma);const u=new tse(e,t,o);return n.ka.set(e,u),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),c.snapshot}async function ase(n,e,t){const r=Xe(n),i=r.ka.get(e),s=r.qa.get(i.targetId);if(s.length>1)return r.qa.set(i.targetId,s.filter(o=>!_b(o,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await GT(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&lR(r.remoteStore,i.targetId),KT(r,i.targetId)}).catch(Rf)):(KT(r,i.targetId),await GT(r.localStore,i.targetId,!0))}async function lse(n,e){const t=Xe(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),lR(t.remoteStore,r.targetId))}async function cse(n,e,t){const r=gse(n);try{const i=await function(o,a){const l=Xe(o),c=zn.now(),u=a.reduce((m,g)=>m.add(g.key),at());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let g=za(),y=at();return l.ds.getEntries(m,u).next(x=>{g=x,g.forEach((S,_)=>{_.isValidDocument()||(y=y.add(S))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,g)).next(x=>{h=x;const S=[];for(const _ of a){const T=kre(_,h.get(_.key).overlayedDocument);T!=null&&S.push(new Vc(_.key,T,f3(T.value.mapValue),Fr.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,S,a)}).next(x=>{f=x;const S=x.applyToLocalDocumentSet(h,y);return l.documentOverlayCache.saveOverlays(m,x.batchId,S)})}).then(()=>({batchId:f.batchId,changes:k3(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Wa[o.currentUser.toKey()];c||(c=new on(ft)),c=c.insert(a,l),o.Wa[o.currentUser.toKey()]=c}(r,i.batchId,t),await IO(r,i.changes),await Ib(r.remoteStore)}catch(i){const s=fR(i,"Failed to persist write");t.reject(s)}}async function aq(n,e){const t=Xe(n);try{const r=await bie(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.Ka.get(s);o&&(kt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ba=!0:i.modifiedDocuments.size>0?kt(o.Ba):i.removedDocuments.size>0&&(kt(o.Ba),o.Ba=!1))}),await IO(t,r,e)}catch(r){await Rf(r)}}function Sj(n,e,t){const r=Xe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ka.forEach((s,o)=>{const a=o.view.sa(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Xe(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const f of h.ta)f.sa(a)&&(c=!0)}),c&&pR(l)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function use(n,e,t){const r=Xe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ka.get(e),s=i&&i.key;if(s){let o=new on($e.comparator);o=o.insert(s,Pr.newNoDocument(s,Fe.min()));const a=at().add(s),l=new Ab(Fe.min(),new Map,new on(ft),o,a);await aq(r,l),r.$a=r.$a.remove(s),r.Ka.delete(e),gR(r)}else await GT(r.localStore,e,!1).then(()=>KT(r,e,t)).catch(Rf)}async function hse(n,e){const t=Xe(n),r=e.batch.batchId;try{const i=await wie(t.localStore,e);cq(t,r,null),lq(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await IO(t,i)}catch(i){await Rf(i)}}async function dse(n,e,t){const r=Xe(n);try{const i=await function(o,a){const l=Xe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(kt(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);cq(r,e,t),lq(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await IO(r,i)}catch(i){await Rf(i)}}function lq(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function cq(n,e,t){const r=Xe(n);let i=r.Wa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function KT(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.Sr(e).forEach(r=>{n.Ua.containsKey(r)||uq(n,r)})}function uq(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(lR(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),gR(n))}function kj(n,e,t){for(const r of t)r instanceof iq?(n.Ua.addReference(r.key,e),fse(n,r)):r instanceof sq?(_e(mR,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||uq(n,r.key)):ze()}function fse(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(_e(mR,"New document in limbo: "+t),n.Qa.add(r),gR(n))}function gR(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new $e(Bt.fromString(e)),r=n.za.next();n.Ka.set(r,new nse(t)),n.$a=n.$a.insert(t,r),G3(n.remoteStore,new zl(xo(JA(t.path)),r,"TargetPurposeLimboResolution",bb.ae))}}async function IO(n,e,t){const r=Xe(n),i=[],s=[],o=[];r.ka.isEmpty()||(r.ka.forEach((a,l)=>{o.push(r.Ha(l,e,t).then(c=>{var u;if((c||t)&&r.isPrimaryClient){const h=c?!c.fromCache:(u=t==null?void 0:t.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=oR.Yi(l.targetId,c);s.push(h)}}))}),await Promise.all(o),r.La.p_(i),await async function(l,c){const u=Xe(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>ie.forEach(c,f=>ie.forEach(f.Hi,m=>u.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>ie.forEach(f.Ji,m=>u.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!Qf(h))throw h;_e(aR,"Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const m=u.Ts.get(f),g=m.snapshotVersion,y=m.withLastLimboFreeSnapshotVersion(g);u.Ts=u.Ts.insert(f,y)}}}(r.localStore,s))}async function pse(n,e){const t=Xe(n);if(!t.currentUser.isEqual(e)){_e(mR,"User change. New user:",e.toKey());const r=await F3(t.localStore,e);t.currentUser=e,function(s,o){s.Ga.forEach(a=>{a.forEach(l=>{l.reject(new be(ne.CANCELLED,o))})}),s.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await IO(t,r.Rs)}}function mse(n,e){const t=Xe(n),r=t.Ka.get(e);if(r&&r.Ba)return at().add(r.key);{let i=at();const s=t.qa.get(e);if(!s)return i;for(const o of s){const a=t.ka.get(o);i=i.unionWith(a.view.ba)}return i}}function hq(n){const e=Xe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=aq.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mse.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=use.bind(null,e),e.La.p_=Kie.bind(null,e.eventManager),e.La.Ja=Jie.bind(null,e.eventManager),e}function gse(n){const e=Xe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hse.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dse.bind(null,e),e}class Dx{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rb(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return xie(this.persistence,new Oie,e.initialUser,this.serializer)}Xa(e){return new Z3(sR.ri,this.serializer)}Za(e){return new Pie}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dx.provider={build:()=>new Dx};class Ose extends Dx{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){kt(this.persistence.referenceDelegate instanceof Nx);const r=this.persistence.referenceDelegate.garbageCollector;return new nie(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?si.withCacheSize(this.cacheSizeBytes):si.DEFAULT;return new Z3(r=>Nx.ri(r,t),this.serializer)}}class JT{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Sj(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=pse.bind(null,this.syncEngine),await Gie(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Hie}()}createDatastore(e){const t=Rb(e.databaseInfo.databaseId),r=function(s){return new Qie(s)}(e.databaseInfo);return function(s,o,a,l){return new jie(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,s,o,a){return new Mie(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,t=>Sj(this.syncEngine,t,0),function(){return Oj.D()?new Oj:new Cie}())}createSyncEngine(e,t){return function(i,s,o,a,l,c,u){const h=new rse(i,s,o,a,l,c);return u&&(h.ja=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const s=Xe(i);_e(Vu,"RemoteStore shutting down."),s.W_.add(5),await QO(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}JT.provider={build:()=>new JT};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dq{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ua("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc="FirestoreClient";class yse{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=kr.UNAUTHENTICATED,this.clientId=n3.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{_e(yc,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(_e(yc,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ra;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=fR(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function U1(n,e){n.asyncQueue.verifyOperationInProgress(),_e(yc,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await F3(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function _j(n,e){n.asyncQueue.verifyOperationInProgress();const t=await vse(n);_e(yc,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>vj(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>vj(e.remoteStore,i)),n._onlineComponents=e}async function vse(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){_e(yc,"Using user provided OfflineComponentProvider");try{await U1(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===ne.FAILED_PRECONDITION||i.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;qd("Error using user provided cache. Falling back to memory cache: "+t),await U1(n,new Dx)}}else _e(yc,"Using default OfflineComponentProvider"),await U1(n,new Ose(void 0));return n._offlineComponents}async function fq(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(_e(yc,"Using user provided OnlineComponentProvider"),await _j(n,n._uninitializedComponentsProvider._online)):(_e(yc,"Using default OnlineComponentProvider"),await _j(n,new JT))),n._onlineComponents}function xse(n){return fq(n).then(e=>e.syncEngine)}async function pq(n){const e=await fq(n),t=e.eventManager;return t.onListen=ise.bind(null,e.syncEngine),t.onUnlisten=ase.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=sse.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=lse.bind(null,e.syncEngine),t}function wse(n,e,t={}){const r=new Ra;return n.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new dq({next:f=>{u.su(),o.enqueueAndForget(()=>nq(s,h));const m=f.docs.has(a);!m&&f.fromCache?c.reject(new be(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&l&&l.source==="server"?c.reject(new be(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new rq(JA(a.path),u,{includeMetadataChanges:!0,Ta:!0});return tq(s,h)}(await pq(n),n.asyncQueue,e,t,r)),r.promise}function bse(n,e,t={}){const r=new Ra;return n.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new dq({next:f=>{u.su(),o.enqueueAndForget(()=>nq(s,h)),f.fromCache&&l.source==="server"?c.reject(new be(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new rq(a,u,{includeMetadataChanges:!0,Ta:!0});return tq(s,h)}(await pq(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mq(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gq(n,e,t){if(!t)throw new be(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Sse(n,e,t,r){if(e===!0&&r===!0)throw new be(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Pj(n){if(!$e.isDocumentKey(n))throw new be(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Cj(n){if($e.isDocumentKey(n))throw new be(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function $b(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ze()}function hs(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new be(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=$b(n);throw new be(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oq="firestore.googleapis.com",Ej=!0;class Aj{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new be(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Oq,this.ssl=Ej}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Ej;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=q3;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<eie)throw new be(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Sse("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mq((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new be(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new be(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new be(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nb{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Aj({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Aj(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Rne;switch(r.type){case"firstParty":return new Nne(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new be(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Tj.get(t);r&&(_e("ComponentProvider","Removing Datastore"),Tj.delete(t),r.terminate())}(this),Promise.resolve()}}function kse(n,e,t,r={}){var i;const s=(n=hs(n,Nb))._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),a=`${e}:${t}`;s.host!==Oq&&s.host!==a&&qd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},s),{host:a,ssl:!1,emulatorOptions:r});if(!ju(l,o)&&(n._setSettings(l),r.mockUserToken)){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=kr.MOCK_USER;else{c=qz(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new be(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new kr(h)}n._authCredentials=new Qne(new t3(c,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Lc(this.firestore,e,this._query)}}class Br{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ic(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Br(this.firestore,e,this._key)}}class ic extends Lc{constructor(e,t,r){super(e,t,JA(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Br(this.firestore,null,new $e(e))}withConverter(e){return new ic(this.firestore,e,this._path)}}function Ie(n,e,...t){if(n=Rt(n),gq("collection","path",e),n instanceof Nb){const r=Bt.fromString(e,...t);return Cj(r),new ic(n,null,r)}{if(!(n instanceof Br||n instanceof ic))throw new be(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Bt.fromString(e,...t));return Cj(r),new ic(n.firestore,null,r)}}function We(n,e,...t){if(n=Rt(n),arguments.length===1&&(e=n3.newId()),gq("doc","path",e),n instanceof Nb){const r=Bt.fromString(e,...t);return Pj(r),new Br(n,null,new $e(r))}{if(!(n instanceof Br||n instanceof ic))throw new be(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Bt.fromString(e,...t));return Pj(r),new Br(n.firestore,n instanceof ic?n.converter:null,new $e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj="AsyncQueue";class Qj{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new W3(this,"async_queue_retry"),this.bu=()=>{const r=L1();r&&_e(Rj,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;const t=L1();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=L1();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Ra;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Qf(e))throw e;_e(Rj,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Ua("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.Su=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const i=dR.createAndSchedule(this,e,t,r,s=>this.Fu(s));return this.fu.push(i),i}Du(){this.gu&&ze()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Uc extends Nb{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Qj,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Qj(e),this._firestoreClient=void 0,await e}}}function _se(n,e){const t=typeof n=="object"?n:BA(),r=typeof n=="string"?n:Ex,i=wb(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Lz("firestore");s&&kse(i,...s)}return i}function jb(n){if(n._terminated)throw new be(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Tse(n),n._firestoreClient}function Tse(n){var e,t,r;const i=n._freezeSettings(),s=function(a,l,c,u){return new Gne(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,mq(u.experimentalLongPollingOptions),u.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new yse(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OR=class eP{constructor(e){this._byteString=e}static fromBase64String(e){try{return new eP(gr.fromBase64String(e))}catch(t){throw new be(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new eP(gr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new be(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new be(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new be(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ft(this._lat,e._lat)||ft(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pse=/^__.*__$/;class Cse{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Vc(e,this.data,this.fieldMask,t,this.fieldTransforms):new AO(e,this.data,t,this.fieldTransforms)}}class yq{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Vc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function vq(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ze()}}class xR{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new xR(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Mx(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(vq(this.Lu)&&Pse.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Ese{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Rb(e)}ju(e,t,r,i=!1){return new xR({Lu:e,methodName:t,zu:r,path:dr.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function NO(n){const e=n._freezeSettings(),t=Rb(n._databaseId);return new Ese(n._databaseId,!!e.ignoreUndefinedProperties,t)}function wR(n,e,t,r,i,s={}){const o=n.ju(s.merge||s.mergeFields?2:0,e,t,i);SR("Data must be an object, but it was:",o,r);const a=bq(r,o);let l,c;if(s.merge)l=new Ci(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const h of s.mergeFields){const f=tP(e,h,t);if(!o.contains(f))throw new be(ne.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);kq(u,f)||u.push(f)}l=new Ci(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new Cse(new ui(a),l,c)}class Mb extends Db{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mb}}class bR extends Db{_toFieldTransform(e){return new xre(e.path,new ug)}isEqual(e){return e instanceof bR}}function xq(n,e,t,r){const i=n.ju(1,e,t);SR("Data must be an object, but it was:",i,r);const s=[],o=ui.empty();Mc(r,(l,c)=>{const u=kR(e,l,t);c=Rt(c);const h=i.Ku(u);if(c instanceof Mb)s.push(u);else{const f=jO(c,h);f!=null&&(s.push(u),o.set(u,f))}});const a=new Ci(s);return new yq(o,a,i.fieldTransforms)}function wq(n,e,t,r,i,s){const o=n.ju(1,e,t),a=[tP(e,r,t)],l=[i];if(s.length%2!=0)throw new be(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(tP(e,s[f])),l.push(s[f+1]);const c=[],u=ui.empty();for(let f=a.length-1;f>=0;--f)if(!kq(c,a[f])){const m=a[f];let g=l[f];g=Rt(g);const y=o.Ku(m);if(g instanceof Mb)c.push(m);else{const x=jO(g,y);x!=null&&(c.push(m),u.set(m,x))}}const h=new Ci(c);return new yq(u,h,o.fieldTransforms)}function Ase(n,e,t,r=!1){return jO(t,n.ju(r?4:3,e))}function jO(n,e){if(Sq(n=Rt(n)))return SR("Unsupported field value:",e,n),bq(n,e);if(n instanceof Db)return function(r,i){if(!vq(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=jO(a,i.Uu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=Rt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Ore(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=zn.fromDate(r);return{timestampValue:$x(i.serializer,s)}}if(r instanceof zn){const s=new zn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$x(i.serializer,s)}}if(r instanceof yR)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof OR)return{bytesValue:j3(i.serializer,r._byteString)};if(r instanceof Br){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:rR(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof vR)return function(o,a){return{mapValue:{fields:{[u3]:{stringValue:d3},[Ax]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Wu("VectorValues must only contain numeric values.");return eR(a.serializer,c)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${$b(r)}`)}(n,e)}function bq(n,e){const t={};return i3(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mc(n,(r,i)=>{const s=jO(i,e.qu(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function Sq(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof zn||n instanceof yR||n instanceof OR||n instanceof Br||n instanceof Db||n instanceof vR)}function SR(n,e,t){if(!Sq(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=$b(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function tP(n,e,t){if((e=Rt(e))instanceof $O)return e._internalPath;if(typeof e=="string")return kR(n,e);throw Mx("Field path arguments must be of type string or ",n,!1,void 0,t)}const Rse=new RegExp("[~\\*/\\[\\]]");function kR(n,e,t){if(e.search(Rse)>=0)throw Mx(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new $O(...e.split("."))._internalPath}catch{throw Mx(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Mx(n,e,t,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new be(ne.INVALID_ARGUMENT,a+n+l)}function kq(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _q{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Br(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Qse(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Vb("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Qse extends _q{data(){return super.data()}}function Vb(n,e){return typeof e=="string"?kR(n,e):e instanceof $O?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ise(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new be(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _R{}class TR extends _R{}function qe(n,e,...t){let r=[];e instanceof _R&&r.push(e),r=r.concat(t),function(s){const o=s.filter(l=>l instanceof PR).length,a=s.filter(l=>l instanceof Lb).length;if(o>1||o>0&&a>0)throw new be(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Lb extends TR{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Lb(e,t,r)}_apply(e){const t=this._parse(e);return Tq(e._query,t),new Lc(e.firestore,e.converter,ZT(e._query,t))}_parse(e){const t=NO(e.firestore);return function(s,o,a,l,c,u,h){let f;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new be(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){$j(h,u);const g=[];for(const y of h)g.push(Ij(l,s,y));f={arrayValue:{values:g}}}else f=Ij(l,s,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||$j(h,u),f=Ase(a,o,h,u==="in"||u==="not-in");return En.create(c,u,f)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function je(n,e,t){const r=e,i=Vb("where",n);return Lb._create(i,r,t)}class PR extends _R{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new PR(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Ds.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)Tq(o,l),o=ZT(o,l)}(e._query,t),new Lc(e.firestore,e.converter,ZT(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class CR extends TR{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new CR(e,t)}_apply(e){const t=function(i,s,o){if(i.startAt!==null)throw new be(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new be(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new cg(s,o)}(e._query,this._field,this._direction);return new Lc(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new If(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function Vx(n,e="asc"){const t=e,r=Vb("orderBy",n);return CR._create(r,t)}class ER extends TR{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new ER(e,t,r)}_apply(e){return new Lc(e.firestore,e.converter,Qx(e._query,this._limit,this._limitType))}}function Wp(n){return ER._create("limit",n,"F")}function Ij(n,e,t){if(typeof(t=Rt(t))=="string"){if(t==="")throw new be(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!x3(e)&&t.indexOf("/")!==-1)throw new be(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Bt.fromString(t));if(!$e.isDocumentKey(r))throw new be(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return G2(n,new $e(r))}if(t instanceof Br)return G2(n,t._key);throw new be(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$b(t)}.`)}function $j(n,e){if(!Array.isArray(n)||n.length===0)throw new be(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Tq(n,e){const t=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new be(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new be(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class $se{convertValue(e,t="none"){switch(gc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(mc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ze()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Mc(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;const s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Ax].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>mn(o.doubleValue));return new vR(s)}convertGeoPoint(e){return new yR(mn(e.latitude),mn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=kb(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(og(e));default:return null}}convertTimestamp(e){const t=pc(e);return new zn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Bt.fromString(e);kt(z3(r));const i=new ag(r.get(1),r.get(3)),s=new $e(r.popFirst(5));return i.isEqual(t)||Ua(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pq extends _q{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new iv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Vb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class iv extends Pq{data(e={}){return super.data(e)}}class Nse{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Xp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new iv(this._firestore,this._userDataWriter,r.key,r,new Xp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new be(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new iv(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Xp(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new iv(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Xp(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:jse(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function jse(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ze()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(n){n=hs(n,Br);const e=hs(n.firestore,Uc);return wse(jb(e),n._key).then(t=>Dse(e,n,t))}class Cq extends $se{constructor(e){super(),this.firestore=e}convertBytes(e){return new OR(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Br(this.firestore,null,t)}}function Be(n){n=hs(n,Lc);const e=hs(n.firestore,Uc),t=jb(e),r=new Cq(e);return Ise(n._query),bse(t,n._query).then(i=>new Nse(e,r,n,i))}function Eq(n,e,t){n=hs(n,Br);const r=hs(n.firestore,Uc),i=AR(n.converter,e,t);return DO(r,[wR(NO(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Fr.none())])}function Mi(n,e,t,...r){n=hs(n,Br);const i=hs(n.firestore,Uc),s=NO(i);let o;return o=typeof(e=Rt(e))=="string"||e instanceof $O?wq(s,"updateDoc",n._key,e,t,r):xq(s,"updateDoc",n._key,e),DO(i,[o.toMutation(n._key,Fr.exists(!0))])}function zc(n){return DO(hs(n.firestore,Uc),[new Eb(n._key,Fr.none())])}function qa(n,e){const t=hs(n.firestore,Uc),r=We(n),i=AR(n.converter,e);return DO(t,[wR(NO(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Fr.exists(!1))]).then(()=>r)}function DO(n,e){return function(r,i){const s=new Ra;return r.asyncQueue.enqueueAndForget(async()=>cse(await xse(r),i,s)),s.promise}(jb(n),e)}function Dse(n,e,t){const r=t.docs.get(e._key),i=new Cq(n);return new Pq(n,i,e._key,r,new Xp(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mse{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=NO(e)}set(e,t,r){this._verifyNotCommitted();const i=z1(e,this._firestore),s=AR(i.converter,t,r),o=wR(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Fr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=z1(e,this._firestore);let o;return o=typeof(t=Rt(t))=="string"||t instanceof $O?wq(this._dataReader,"WriteBatch.update",s._key,t,r,i):xq(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(o.toMutation(s._key,Fr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=z1(e,this._firestore);return this._mutations=this._mutations.concat(new Eb(t._key,Fr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new be(ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function z1(n,e){if((n=Rt(n)).firestore!==e)throw new be(ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function Lu(){return new bR("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(n){return jb(n=hs(n,Uc)),new Mse(n,e=>DO(n,e))}(function(e,t=!0){(function(i){Af=i})(sh),Du(new dc("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Uc(new Ine(r.getProvider("auth-internal")),new jne(o,r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new be(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ag(c.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),vo(M2,V2,e),vo(M2,V2,"esm2017")})();var Vse="firebase",Lse="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vo(Vse,Lse,"app");var oo=function(){return oo=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},oo.apply(this,arguments)};function MO(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Use(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}function Aq(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zse=Aq,Rq=new CO("auth","Firebase",Aq());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx=new ZA("@firebase/auth");function qse(n,...e){Lx.logLevel<=ot.WARN&&Lx.warn(`Auth (${sh}): ${n}`,...e)}function sv(n,...e){Lx.logLevel<=ot.ERROR&&Lx.error(`Auth (${sh}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(n,...e){throw QR(n,...e)}function bo(n,...e){return QR(n,...e)}function Qq(n,e,t){const r=Object.assign(Object.assign({},zse()),{[e]:t});return new CO("auth","Firebase",r).create(e,{appName:n.name})}function Qa(n){return Qq(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function QR(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Rq.create(n,...e)}function Ve(n,e,...t){if(!n)throw QR(e,...t)}function _a(n){const e="INTERNAL ASSERTION FAILED: "+n;throw sv(e),new Error(e)}function Za(n,e){n||_a(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nP(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Zse(){return Nj()==="http:"||Nj()==="https:"}function Nj(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fse(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Zse()||ute()||"connection"in navigator)?navigator.onLine:!0}function Bse(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e,t){this.shortDelay=e,this.longDelay=t,Za(t>e,"Short delay should be less than long delay!"),this.isMobile=ate()||hte()}get(){return Fse()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(n,e){Za(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iq{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_a("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_a("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_a("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wse={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xse=new VO(3e4,6e4);function nl(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function rl(n,e,t,r,i={}){return $q(n,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=EO(Object.assign({key:n.config.apiKey},o)).slice(1),l=await n._getAdditionalHeaders();l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode);const c=Object.assign({method:e,headers:l},s);return cte()||(c.referrerPolicy="no-referrer"),Iq.fetch()(Nq(n,n.config.apiHost,t,a),c)})}async function $q(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Wse),e);try{const i=new Yse(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Hy(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hy(n,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Hy(n,"email-already-in-use",o);if(l==="USER_DISABLED")throw Hy(n,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Qq(n,u,c);Ms(n,u)}}catch(i){if(i instanceof Yo)throw i;Ms(n,"network-request-failed",{message:String(i)})}}async function LO(n,e,t,r,i={}){const s=await rl(n,e,t,r,i);return"mfaPendingCredential"in s&&Ms(n,"multi-factor-auth-required",{_serverResponse:s}),s}function Nq(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?IR(n.config,i):`${n.config.apiScheme}://${i}`}function Gse(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Yse{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(bo(this.auth,"network-request-failed")),Xse.get())})}}function Hy(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=bo(n,e,r);return i.customData._tokenResponse=t,i}function jj(n){return n!==void 0&&n.enterprise!==void 0}class Hse{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Gse(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Kse(n,e){return rl(n,"GET","/v2/recaptchaConfig",nl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jse(n,e){return rl(n,"POST","/v1/accounts:delete",e)}async function jq(n,e){return rl(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function eoe(n,e=!1){const t=Rt(n),r=await t.getIdToken(e),i=$R(r);Ve(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Cm(q1(i.auth_time)),issuedAtTime:Cm(q1(i.iat)),expirationTime:Cm(q1(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function q1(n){return Number(n)*1e3}function $R(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return sv("JWT malformed, contained fewer than 3 sections"),null;try{const i=Mz(t);return i?JSON.parse(i):(sv("Failed to decode base64 JWT payload"),null)}catch(i){return sv("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Dj(n){const e=$R(n);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fg(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Yo&&toe(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function toe({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class noe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cm(this.lastLoginAt),this.creationTime=Cm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ux(n){var e;const t=n.auth,r=await n.getIdToken(),i=await fg(n,jq(t,{idToken:r}));Ve(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Dq(s.providerUserInfo):[],a=ioe(n.providerData,o),l=n.isAnonymous,c=!(n.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new rP(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,h)}async function roe(n){const e=Rt(n);await Ux(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ioe(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Dq(n){return n.map(e=>{var{providerId:t}=e,r=MO(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function soe(n,e){const t=await $q(n,{},async()=>{const r=EO({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=Nq(n,i,"/v1/token",`key=${s}`),a=await n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Iq.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function ooe(n,e){return rl(n,"POST","/v2/accounts:revokeToken",nl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Dj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const t=Dj(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await soe(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new cd;return r&&(Ve(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Ve(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Ve(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cd,this.toJSON())}_performRefresh(){return _a("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(n,e){Ve(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ta{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=MO(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new noe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new rP(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await fg(this,this.stsTokenManager.getToken(this.auth,e));return Ve(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return eoe(this,e)}reload(){return roe(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ta(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Ux(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ti(this.auth.app))return Promise.reject(Qa(this.auth));const e=await this.getIdToken();return await fg(this,Jse(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,l,c,u;const h=(r=t.displayName)!==null&&r!==void 0?r:void 0,f=(i=t.email)!==null&&i!==void 0?i:void 0,m=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=t.photoURL)!==null&&o!==void 0?o:void 0,y=(a=t.tenantId)!==null&&a!==void 0?a:void 0,x=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,S=(c=t.createdAt)!==null&&c!==void 0?c:void 0,_=(u=t.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:T,emailVerified:I,isAnonymous:C,providerData:Q,stsTokenManager:O}=t;Ve(T&&O,e,"internal-error");const w=cd.fromJSON(this.name,O);Ve(typeof T=="string",e,"internal-error"),hl(h,e.name),hl(f,e.name),Ve(typeof I=="boolean",e,"internal-error"),Ve(typeof C=="boolean",e,"internal-error"),hl(m,e.name),hl(g,e.name),hl(y,e.name),hl(x,e.name),hl(S,e.name),hl(_,e.name);const k=new Ta({uid:T,auth:e,email:f,emailVerified:I,displayName:h,isAnonymous:C,photoURL:g,phoneNumber:m,tenantId:y,stsTokenManager:w,createdAt:S,lastLoginAt:_});return Q&&Array.isArray(Q)&&(k.providerData=Q.map(R=>Object.assign({},R))),x&&(k._redirectEventId=x),k}static async _fromIdTokenResponse(e,t,r=!1){const i=new cd;i.updateFromServerResponse(t);const s=new Ta({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ux(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Ve(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Dq(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new cd;a.updateFromIdToken(r);const l=new Ta({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new rP(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mj=new Map;function Pa(n){Za(n instanceof Function,"Expected a class definition");let e=Mj.get(n);return e?(Za(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Mj.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mq{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Mq.type="NONE";const Vj=Mq;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(n,e,t){return`firebase:${n}:${e}:${t}`}class ud{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ov(this.userKey,i.apiKey,s),this.fullPersistenceKey=ov("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ta._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new ud(Pa(Vj),e,r);const i=(await Promise.all(t.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Pa(Vj);const o=ov(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const u=await c._get(o);if(u){const h=Ta._fromJSON(e,u);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ud(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(t.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new ud(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lj(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zq(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Vq(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Zq(e))return"Blackberry";if(Fq(e))return"Webos";if(Lq(e))return"Safari";if((e.includes("chrome/")||Uq(e))&&!e.includes("edge/"))return"Chrome";if(qq(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Vq(n=Qr()){return/firefox\//i.test(n)}function Lq(n=Qr()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Uq(n=Qr()){return/crios\//i.test(n)}function zq(n=Qr()){return/iemobile/i.test(n)}function qq(n=Qr()){return/android/i.test(n)}function Zq(n=Qr()){return/blackberry/i.test(n)}function Fq(n=Qr()){return/webos/i.test(n)}function NR(n=Qr()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function aoe(n=Qr()){var e;return NR(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function loe(){return dte()&&document.documentMode===10}function Bq(n=Qr()){return NR(n)||qq(n)||Fq(n)||Zq(n)||/windows phone/i.test(n)||zq(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wq(n,e=[]){let t;switch(n){case"Browser":t=Lj(Qr());break;case"Worker":t=`${Lj(Qr())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${sh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class coe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uoe(n,e={}){return rl(n,"GET","/v2/passwordPolicy",nl(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hoe=6;class doe{constructor(e){var t,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:hoe,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class foe{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Uj(this),this.idTokenSubscription=new Uj(this),this.beforeStateQueue=new coe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Rq,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Pa(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ud.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await jq(this,{idToken:e}),r=await Ta._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ti(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ux(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Bse()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ti(this.app))return Promise.reject(Qa(this));const t=e?Rt(e):null;return t&&Ve(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ti(this.app)?Promise.reject(Qa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ti(this.app)?Promise.reject(Qa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uoe(this),t=new doe(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new CO("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await ooe(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Pa(e)||this._popupRedirectResolver;Ve(t,this,"argument-error"),this.redirectPersistenceManager=await ud.create(this,[Pa(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){const l=e.addObserver(t,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(t);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Wq(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&qse(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function qc(n){return Rt(n)}class Uj{constructor(e){this.auth=e,this.observer=null,this.addObserver=xte(t=>this.observer=t)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ub={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function poe(n){Ub=n}function Xq(n){return Ub.loadJS(n)}function moe(){return Ub.recaptchaEnterpriseScript}function goe(){return Ub.gapiScript}function Ooe(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class yoe{constructor(){this.enterprise=new voe}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class voe{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const xoe="recaptcha-enterprise",Gq="NO_RECAPTCHA";class woe{constructor(e){this.type=xoe,this.auth=qc(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{Kse(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new Hse(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;jj(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(Gq)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new yoe().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!t&&jj(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=moe();l.length!==0&&(l+=a),Xq(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function zj(n,e,t,r=!1,i=!1){const s=new woe(n);let o;if(i)o=Gq;else try{o=await s.verify(t)}catch{o=await s.verify(t,!0)}const a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function zx(n,e,t,r,i){var s;if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await zj(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await zj(n,e,t,t==="getOobCode");return r(n,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function boe(n,e){const t=wb(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(ju(s,e??{}))return i;Ms(i,"already-initialized")}return t.initialize({options:e})}function Soe(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Pa);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function koe(n,e,t){const r=qc(n);Ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=Yq(e),{host:o,port:a}=_oe(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},u=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ve(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ve(ju(c,r.config.emulator)&&ju(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Toe()}function Yq(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function _oe(n){const e=Yq(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:qj(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:qj(o)}}}function qj(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Toe(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return _a("not implemented")}_getIdTokenResponse(e){return _a("not implemented")}_linkToIdToken(e,t){return _a("not implemented")}_getReauthenticationResolver(e){return _a("not implemented")}}async function Poe(n,e){return rl(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Coe(n,e){return LO(n,"POST","/v1/accounts:signInWithPassword",nl(n,e))}async function Eoe(n,e){return rl(n,"POST","/v1/accounts:sendOobCode",nl(n,e))}async function Aoe(n,e){return Eoe(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Roe(n,e){return LO(n,"POST","/v1/accounts:signInWithEmailLink",nl(n,e))}async function Qoe(n,e){return LO(n,"POST","/v1/accounts:signInWithEmailLink",nl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg extends jR{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new pg(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new pg(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zx(e,t,"signInWithPassword",Coe);case"emailLink":return Roe(e,{email:this._email,oobCode:this._password});default:Ms(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zx(e,r,"signUpPassword",Poe);case"emailLink":return Qoe(e,{idToken:t,email:this._email,oobCode:this._password});default:Ms(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hd(n,e){return LO(n,"POST","/v1/accounts:signInWithIdp",nl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ioe="http://localhost";class Uu extends jR{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Uu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ms("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=MO(t,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Uu(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return hd(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,hd(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,hd(e,t)}buildRequest(){const e={requestUri:Ioe,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=EO(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $oe(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Noe(n){const e=zp(qp(n)).link,t=e?zp(qp(e)).deep_link_id:null,r=zp(qp(n)).deep_link_id;return(r?zp(qp(r)).link:null)||r||t||e||n}class DR{constructor(e){var t,r,i,s,o,a;const l=zp(qp(e)),c=(t=l.apiKey)!==null&&t!==void 0?t:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,h=$oe((i=l.mode)!==null&&i!==void 0?i:null);Ve(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const t=Noe(e);try{return new DR(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(){this.providerId=Nf.PROVIDER_ID}static credential(e,t){return pg._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=DR.parseLink(t);return Ve(r,"argument-error"),pg._fromEmailAndCode(e,r.code,r.tenantId)}}Nf.PROVIDER_ID="password";Nf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Nf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hq{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO extends Hq{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl extends UO{constructor(){super("facebook.com")}static credential(e){return Uu._fromParams({providerId:Sl.PROVIDER_ID,signInMethod:Sl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sl.credentialFromTaggedObject(e)}static credentialFromError(e){return Sl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sl.credential(e.oauthAccessToken)}catch{return null}}}Sl.FACEBOOK_SIGN_IN_METHOD="facebook.com";Sl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl extends UO{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Uu._fromParams({providerId:kl.PROVIDER_ID,signInMethod:kl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return kl.credentialFromTaggedObject(e)}static credentialFromError(e){return kl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return kl.credential(t,r)}catch{return null}}}kl.GOOGLE_SIGN_IN_METHOD="google.com";kl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l extends UO{constructor(){super("github.com")}static credential(e){return Uu._fromParams({providerId:_l.PROVIDER_ID,signInMethod:_l.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _l.credentialFromTaggedObject(e)}static credentialFromError(e){return _l.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _l.credential(e.oauthAccessToken)}catch{return null}}}_l.GITHUB_SIGN_IN_METHOD="github.com";_l.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl extends UO{constructor(){super("twitter.com")}static credential(e,t){return Uu._fromParams({providerId:Tl.PROVIDER_ID,signInMethod:Tl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Tl.credentialFromTaggedObject(e)}static credentialFromError(e){return Tl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Tl.credential(t,r)}catch{return null}}}Tl.TWITTER_SIGN_IN_METHOD="twitter.com";Tl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function joe(n,e){return LO(n,"POST","/v1/accounts:signUp",nl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await Ta._fromIdTokenResponse(e,r,i),o=Zj(r);return new zu({user:s,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=Zj(r);return new zu({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function Zj(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx extends Yo{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,qx.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new qx(e,t,r,i)}}function Kq(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?qx._fromErrorAndOperation(n,s,e,r):s})}async function Doe(n,e,t=!1){const r=await fg(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return zu._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Moe(n,e,t=!1){const{auth:r}=n;if(Ti(r.app))return Promise.reject(Qa(r));const i="reauthenticate";try{const s=await fg(n,Kq(r,i,e,n),t);Ve(s.idToken,r,"internal-error");const o=$R(s.idToken);Ve(o,r,"internal-error");const{sub:a}=o;return Ve(n.uid===a,r,"user-mismatch"),zu._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ms(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jq(n,e,t=!1){if(Ti(n.app))return Promise.reject(Qa(n));const r="signIn",i=await Kq(n,r,e),s=await zu._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function Voe(n,e){return Jq(qc(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eZ(n){const e=qc(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Loe(n,e,t){const r=qc(n);await zx(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Aoe)}async function Uoe(n,e,t){if(Ti(n.app))return Promise.reject(Qa(n));const r=qc(n),o=await zx(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",joe).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&eZ(n),l}),a=await zu._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function zoe(n,e,t){return Ti(n.app)?Promise.reject(Qa(n)):Voe(Rt(n),Nf.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&eZ(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qoe(n,e){return Rt(n).setPersistence(e)}function Zoe(n,e,t,r){return Rt(n).onIdTokenChanged(e,t,r)}function Foe(n,e,t){return Rt(n).beforeAuthStateChanged(e,t)}function Boe(n,e,t,r){return Rt(n).onAuthStateChanged(e,t,r)}function Woe(n){return Rt(n).signOut()}const Zx="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tZ{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Zx,"1"),this.storage.removeItem(Zx),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xoe=1e3,Goe=10;class nZ extends tZ{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Bq(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!t&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);loe()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Goe):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},Xoe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}nZ.type="LOCAL";const rZ=nZ;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iZ extends tZ{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}iZ.type="SESSION";const sZ=iZ;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yoe(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new zb(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(t.origin,s)),l=await Yoe(a);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zb.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hoe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=MR("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(){return window}function Koe(n){So().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oZ(){return typeof So().WorkerGlobalScope<"u"&&typeof So().importScripts=="function"}async function Joe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function eae(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function tae(){return oZ()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aZ="firebaseLocalStorageDb",nae=1,Fx="firebaseLocalStorage",lZ="fbase_key";class zO{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function qb(n,e){return n.transaction([Fx],e?"readwrite":"readonly").objectStore(Fx)}function rae(){const n=indexedDB.deleteDatabase(aZ);return new zO(n).toPromise()}function iP(){const n=indexedDB.open(aZ,nae);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Fx,{keyPath:lZ})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Fx)?e(r):(r.close(),await rae(),e(await iP()))})})}async function Fj(n,e,t){const r=qb(n,!0).put({[lZ]:e,value:t});return new zO(r).toPromise()}async function iae(n,e){const t=qb(n,!1).get(e),r=await new zO(t).toPromise();return r===void 0?null:r.value}function Bj(n,e){const t=qb(n,!0).delete(e);return new zO(t).toPromise()}const sae=800,oae=3;class cZ{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await iP(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>oae)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oZ()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zb._getInstance(tae()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Joe(),!this.activeServiceWorker)return;this.sender=new Hoe(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||eae()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await iP();return await Fj(e,Zx,"1"),await Bj(e,Zx),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Fj(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>iae(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Bj(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=qb(i,!1).getAll();return new zO(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sae)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cZ.type="LOCAL";const aae=cZ;new VO(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lae(n,e){return e?Pa(e):(Ve(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR extends jR{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hd(e,this._buildIdpRequest())}_linkToIdToken(e,t){return hd(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return hd(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function cae(n){return Jq(n.auth,new VR(n),n.bypassAuthState)}function uae(n){const{auth:e,user:t}=n;return Ve(t,e,"internal-error"),Moe(t,new VR(n),n.bypassAuthState)}async function hae(n){const{auth:e,user:t}=n;return Ve(t,e,"internal-error"),Doe(t,new VR(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uZ{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cae;case"linkViaPopup":case"linkViaRedirect":return hae;case"reauthViaPopup":case"reauthViaRedirect":return uae;default:Ms(this.auth,"internal-error")}}resolve(e){Za(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Za(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dae=new VO(2e3,1e4);class Fh extends uZ{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Fh.currentPopupAction&&Fh.currentPopupAction.cancel(),Fh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){Za(this.filter.length===1,"Popup operations only handle one event");const e=MR();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(bo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(bo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fh.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,dae.get())};e()}}Fh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fae="pendingRedirect",av=new Map;class pae extends uZ{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=av.get(this.auth._key());if(!e){try{const r=await mae(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}av.set(this.auth._key(),e)}return this.bypassAuthState||av.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mae(n,e){const t=yae(e),r=Oae(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function gae(n,e){av.set(n._key(),e)}function Oae(n){return Pa(n._redirectPersistence)}function yae(n){return ov(fae,n.config.apiKey,n.name)}async function vae(n,e,t=!1){if(Ti(n.app))return Promise.reject(Qa(n));const r=qc(n),i=lae(r,e),o=await new pae(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xae=10*60*1e3;class wae{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bae(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!hZ(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(bo(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xae&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wj(e))}saveEventToCache(e){this.cachedEventUids.add(Wj(e)),this.lastProcessedEventTime=Date.now()}}function Wj(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function hZ({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function bae(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hZ(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sae(n,e={}){return rl(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kae=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_ae=/^https?/;async function Tae(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Sae(n);for(const t of e)try{if(Pae(t))return}catch{}Ms(n,"unauthorized-domain")}function Pae(n){const e=nP(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!_ae.test(t))return!1;if(kae.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cae=new VO(3e4,6e4);function Xj(){const n=So().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Eae(n){return new Promise((e,t)=>{var r,i,s;function o(){Xj(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Xj(),t(bo(n,"network-request-failed"))},timeout:Cae.get()})}if(!((i=(r=So().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=So().gapi)===null||s===void 0)&&s.load)o();else{const a=Ooe("iframefcb");return So()[a]=()=>{gapi.load?o():t(bo(n,"network-request-failed"))},Xq(`${goe()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw lv=null,e})}let lv=null;function Aae(n){return lv=lv||Eae(n),lv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rae=new VO(5e3,15e3),Qae="__/auth/iframe",Iae="emulator/auth/iframe",$ae={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Nae=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jae(n){const e=n.config;Ve(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?IR(e,Iae):`https://${n.config.authDomain}/${Qae}`,r={apiKey:e.apiKey,appName:n.name,v:sh},i=Nae.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${EO(r).slice(1)}`}async function Dae(n){const e=await Aae(n),t=So().gapi;return Ve(t,n,"internal-error"),e.open({where:document.body,url:jae(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$ae,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=bo(n,"network-request-failed"),a=So().setTimeout(()=>{s(o)},Rae.get());function l(){So().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mae={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Vae=500,Lae=600,Uae="_blank",zae="http://localhost";class Gj{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qae(n,e,t,r=Vae,i=Lae){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Mae),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Qr().toLowerCase();t&&(a=Uq(c)?Uae:t),Vq(c)&&(e=e||zae,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[m,g])=>`${f}${m}=${g},`,"");if(aoe(c)&&a!=="_self")return Zae(e||"",a),new Gj(null);const h=window.open(e||"",a,u);Ve(h,n,"popup-blocked");try{h.focus()}catch{}return new Gj(h)}function Zae(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fae="__/auth/handler",Bae="emulator/auth/handler",Wae=encodeURIComponent("fac");async function Yj(n,e,t,r,i,s){Ve(n.config.authDomain,n,"auth-domain-config-required"),Ve(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:sh,eventId:i};if(e instanceof Hq){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",vte(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries({}))o[u]=h}if(e instanceof UO){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await n._getAppCheckToken(),c=l?`#${Wae}=${encodeURIComponent(l)}`:"";return`${Xae(n)}?${EO(a).slice(1)}${c}`}function Xae({config:n}){return n.emulator?IR(n,Bae):`https://${n.authDomain}/${Fae}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1="webStorageSupport";class Gae{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sZ,this._completeRedirectFn=vae,this._overrideRedirectResult=gae}async _openPopup(e,t,r,i){var s;Za((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Yj(e,t,r,nP(),i);return qae(e,o,MR())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await Yj(e,t,r,nP(),i);return Koe(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Za(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await Dae(e),r=new wae(e);return t.register("authEvent",i=>(Ve(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Z1,{type:Z1},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Z1];o!==void 0&&t(!!o),Ms(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Tae(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Bq()||Lq()||NR()}}const Yae=Gae;var Hj="@firebase/auth",Kj="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hae{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kae(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Jae(n){Du(new dc("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ve(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wq(n)},c=new foe(r,i,s,l);return Soe(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Du(new dc("auth-internal",e=>{const t=qc(e.getProvider("auth").getImmediate());return(r=>new Hae(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),vo(Hj,Kj,Kae(n)),vo(Hj,Kj,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ele=5*60,tle=zz("authIdTokenMaxAge")||ele;let Jj=null;const nle=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>tle)return;const i=t==null?void 0:t.token;Jj!==i&&(Jj=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function rle(n=BA()){const e=wb(n,"auth");if(e.isInitialized())return e.getImmediate();const t=boe(n,{popupRedirectResolver:Yae,persistence:[aae,rZ,sZ]}),r=zz("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=nle(s.toString());Foe(t,o,()=>o(t.currentUser)),Zoe(t,a=>o(a))}}const i=Vz("auth");return i&&koe(t,`http://${i}`),t}function ile(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}poe({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=bo("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",ile().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Jae("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dZ="firebasestorage.googleapis.com",fZ="storageBucket",sle=2*60*1e3,ole=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn extends Yo{constructor(e,t,r=0){super(F1(e),`Firebase Storage: ${t} (${F1(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return F1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var dn;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(dn||(dn={}));function F1(n){return"storage/"+n}function LR(){const n="An unknown error occurred, please check the error payload for server response.";return new fn(dn.UNKNOWN,n)}function ale(n){return new fn(dn.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function lle(n){return new fn(dn.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function cle(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new fn(dn.UNAUTHENTICATED,n)}function ule(){return new fn(dn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function hle(n){return new fn(dn.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function dle(){return new fn(dn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function fle(){return new fn(dn.CANCELED,"User canceled the upload/download.")}function ple(n){return new fn(dn.INVALID_URL,"Invalid URL '"+n+"'.")}function mle(n){return new fn(dn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function gle(){return new fn(dn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+fZ+"' property when initializing the app?")}function Ole(){return new fn(dn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function yle(){return new fn(dn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function vle(n){return new fn(dn.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function sP(n){return new fn(dn.INVALID_ARGUMENT,n)}function pZ(){return new fn(dn.APP_DELETED,"The Firebase app was deleted.")}function xle(n){return new fn(dn.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Em(n,e){return new fn(dn.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function yp(n){throw new fn(dn.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=qr.makeFromUrl(e,t)}catch{return new qr(e,"")}if(r.path==="")return r;throw mle(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(I){I.path.charAt(I.path.length-1)==="/"&&(I.path_=I.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(I){I.path_=decodeURIComponent(I.path)}const u="v[A-Za-z0-9_]+",h=t.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",m=new RegExp(`^https?://${h}/${u}/b/${i}/o${f}`,"i"),g={bucket:1,path:3},y=t===dZ?"(?:storage.googleapis.com|storage.cloud.google.com)":t,x="([^?#]*)",S=new RegExp(`^https?://${y}/${i}/${x}`,"i"),T=[{regex:a,indices:l,postModify:s},{regex:m,indices:g,postModify:c},{regex:S,indices:{bucket:1,path:2},postModify:c}];for(let I=0;I<T.length;I++){const C=T[I],Q=C.regex.exec(e);if(Q){const O=Q[C.indices.bucket];let w=Q[C.indices.path];w||(w=""),r=new qr(O,w),C.postModify(r);break}}if(r==null)throw ple(e);return r}}class wle{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ble(n,e,t){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...x){c||(c=!0,e.apply(null,x))}function h(x){i=setTimeout(()=>{i=null,n(m,l())},x)}function f(){s&&clearTimeout(s)}function m(x,...S){if(c){f();return}if(x){f(),u.call(null,x,...S);return}if(l()||o){f(),u.call(null,x,...S);return}r<64&&(r*=2);let T;a===1?(a=2,T=0):T=(r+Math.random())*1e3,h(T)}let g=!1;function y(x){g||(g=!0,f(),!c&&(i!==null?(x||(a=2),clearTimeout(i),h(0)):x||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,y(!0)},t),y}function Sle(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kle(n){return n!==void 0}function _le(n){return typeof n=="object"&&!Array.isArray(n)}function UR(n){return typeof n=="string"||n instanceof String}function eD(n){return zR()&&n instanceof Blob}function zR(){return typeof Blob<"u"}function oP(n,e,t,r){if(r<e)throw sP(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw sP(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function mZ(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var ku;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(ku||(ku={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tle(n,e){const t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,s=e.indexOf(n)!==-1;return t||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ple{constructor(e,t,r,i,s,o,a,l,c,u,h,f=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,g)=>{this.resolve_=m,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Ky(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===ku.NO_ERROR,l=s.getStatus();if(!a||Tle(l,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===ku.ABORT;r(!1,new Ky(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Ky(c,s))})},t=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());kle(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=LR();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?pZ():fle();o(l)}else{const l=dle();o(l)}};this.canceled_?t(!1,new Ky(!1,null,!0)):this.backoffId_=ble(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Sle(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ky{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function Cle(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function Ele(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Ale(n,e){e&&(n["X-Firebase-GMPID"]=e)}function Rle(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function Qle(n,e,t,r,i,s,o=!0){const a=mZ(n.urlParams),l=n.url+a,c=Object.assign({},n.headers);return Ale(c,e),Cle(c,t),Ele(c,s),Rle(c,r),new Ple(l,n.method,c,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ile(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function $le(...n){const e=Ile();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(zR())return new Blob(n);throw new fn(dn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Nle(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jle(n){if(typeof atob>"u")throw vle("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class B1{constructor(e,t){this.data=e,this.contentType=t||null}}function Dle(n,e){switch(n){case uo.RAW:return new B1(gZ(e));case uo.BASE64:case uo.BASE64URL:return new B1(OZ(n,e));case uo.DATA_URL:return new B1(Vle(e),Lle(e))}throw LR()}function gZ(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=n.charCodeAt(++t);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Mle(n){let e;try{e=decodeURIComponent(n)}catch{throw Em(uo.DATA_URL,"Malformed data URL.")}return gZ(e)}function OZ(n,e){switch(n){case uo.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Em(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case uo.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Em(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=jle(e)}catch(i){throw i.message.includes("polyfill")?i:Em(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class yZ{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Em(uo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=Ule(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Vle(n){const e=new yZ(n);return e.base64?OZ(uo.BASE64,e.rest):Mle(e.rest)}function Lle(n){return new yZ(n).contentType}function Ule(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,t){let r=0,i="";eD(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(eD(this.data_)){const r=this.data_,i=Nle(r,e,t);return i===null?null:new Pl(i)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Pl(r,!0)}}static getBlob(...e){if(zR()){const t=e.map(r=>r instanceof Pl?r.data_:r);return new Pl($le.apply(null,t))}else{const t=e.map(o=>UR(o)?Dle(uo.RAW,o).data:o.data_);let r=0;t.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return t.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Pl(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(n){let e;try{e=JSON.parse(n)}catch{return null}return _le(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zle(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function qle(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function vZ(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zle(n,e){return e}class Dr{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||Zle}}let Jy=null;function Fle(n){return!UR(n)||n.length<2?n:vZ(n)}function xZ(){if(Jy)return Jy;const n=[];n.push(new Dr("bucket")),n.push(new Dr("generation")),n.push(new Dr("metageneration")),n.push(new Dr("name","fullPath",!0));function e(s,o){return Fle(o)}const t=new Dr("name");t.xform=e,n.push(t);function r(s,o){return o!==void 0?Number(o):o}const i=new Dr("size");return i.xform=r,n.push(i),n.push(new Dr("timeCreated")),n.push(new Dr("updated")),n.push(new Dr("md5Hash",null,!0)),n.push(new Dr("cacheControl",null,!0)),n.push(new Dr("contentDisposition",null,!0)),n.push(new Dr("contentEncoding",null,!0)),n.push(new Dr("contentLanguage",null,!0)),n.push(new Dr("contentType",null,!0)),n.push(new Dr("metadata","customMetadata",!0)),Jy=n,Jy}function Ble(n,e){function t(){const r=n.bucket,i=n.fullPath,s=new qr(r,i);return e._makeStorageReference(s)}Object.defineProperty(n,"ref",{get:t})}function Wle(n,e,t){const r={};r.type="file";const i=t.length;for(let s=0;s<i;s++){const o=t[s];r[o.local]=o.xform(r,e[o.server])}return Ble(r,n),r}function wZ(n,e,t){const r=qR(e);return r===null?null:Wle(n,r,t)}function Xle(n,e,t,r){const i=qR(e);if(i===null||!UR(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const u=n.bucket,h=n.fullPath,f="/b/"+o(u)+"/o/"+o(h),m=qO(f,t,r),g=mZ({alt:"media",token:c});return m+g})[0]}function Gle(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD="prefixes",nD="items";function Yle(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[tD])for(const i of t[tD]){const s=i.replace(/\/$/,""),o=n._makeStorageReference(new qr(e,s));r.prefixes.push(o)}if(t[nD])for(const i of t[nD]){const s=n._makeStorageReference(new qr(e,i.name));r.items.push(s)}return r}function Hle(n,e,t){const r=qR(t);return r===null?null:Yle(n,e,r)}class Zb{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(n){if(!n)throw LR()}function Kle(n,e){function t(r,i){const s=wZ(n,i,e);return ZR(s!==null),s}return t}function Jle(n,e){function t(r,i){const s=Hle(n,e,i);return ZR(s!==null),s}return t}function ece(n,e){function t(r,i){const s=wZ(n,i,e);return ZR(s!==null),Xle(s,i,n.host,n._protocol)}return t}function FR(n){function e(t,r){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=ule():i=cle():t.getStatus()===402?i=lle(n.bucket):t.getStatus()===403?i=hle(n.path):i=r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}return e}function bZ(n){const e=FR(n);function t(r,i){let s=e(r,i);return r.getStatus()===404&&(s=ale(n.path)),s.serverResponse=i.serverResponse,s}return t}function tce(n,e,t,r,i){const s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",t.length>0&&(s.delimiter=t),r&&(s.pageToken=r),i&&(s.maxResults=i);const o=e.bucketOnlyServerUrl(),a=qO(o,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,u=new Zb(a,l,Jle(n,e.bucket),c);return u.urlParams=s,u.errorHandler=FR(e),u}function nce(n,e,t){const r=e.fullServerUrl(),i=qO(r,n.host,n._protocol),s="GET",o=n.maxOperationRetryTime,a=new Zb(i,s,ece(n,t),o);return a.errorHandler=bZ(e),a}function rce(n,e){const t=e.fullServerUrl(),r=qO(t,n.host,n._protocol),i="DELETE",s=n.maxOperationRetryTime;function o(l,c){}const a=new Zb(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=bZ(e),a}function ice(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function sce(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=ice(null,e)),r}function oce(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let T="";for(let I=0;I<2;I++)T=T+Math.random().toString().slice(2);return T}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=sce(e,r,i),u=Gle(c,t),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+l+"--",m=Pl.getBlob(h,r,f);if(m===null)throw Ole();const g={name:c.fullPath},y=qO(s,n.host,n._protocol),x="POST",S=n.maxUploadRetryTime,_=new Zb(y,x,Kle(n,t),S);return _.urlParams=g,_.headers=o,_.body=m.uploadData(),_.errorHandler=FR(e),_}class ace{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ku.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ku.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ku.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw yp("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw yp("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw yp("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw yp("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw yp("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class lce extends ace{initXhr(){this.xhr_.responseType="text"}}function Fb(){return new lce}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,t){this._service=e,t instanceof qr?this._location=t:this._location=qr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new qu(e,t)}get root(){const e=new qr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return vZ(this._location.path)}get storage(){return this._service}get parent(){const e=zle(this._location.path);if(e===null)return null;const t=new qr(this._location.bucket,e);return new qu(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw xle(e)}}function cce(n,e,t){n._throwIfRoot("uploadBytes");const r=oce(n.storage,n._location,xZ(),new Pl(e,!0),t);return n.storage.makeRequestWithTokens(r,Fb).then(i=>({metadata:i,ref:n}))}function uce(n){const e={prefixes:[],items:[]};return SZ(n,e).then(()=>e)}async function SZ(n,e,t){const i=await hce(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await SZ(n,e,i.nextPageToken)}function hce(n,e){e!=null&&typeof e.maxResults=="number"&&oP("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=tce(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,Fb)}function dce(n){n._throwIfRoot("getDownloadURL");const e=nce(n.storage,n._location,xZ());return n.storage.makeRequestWithTokens(e,Fb).then(t=>{if(t===null)throw yle();return t})}function fce(n){n._throwIfRoot("deleteObject");const e=rce(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Fb)}function pce(n,e){const t=qle(n._location.path,e),r=new qr(n._location.bucket,t);return new qu(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mce(n){return/^[A-Za-z]+:\/\//.test(n)}function gce(n,e){return new qu(n,e)}function kZ(n,e){if(n instanceof BR){const t=n;if(t._bucket==null)throw gle();const r=new qu(t,t._bucket);return e!=null?kZ(r,e):r}else return e!==void 0?pce(n,e):n}function Oce(n,e){if(e&&mce(e)){if(n instanceof BR)return gce(n,e);throw sP("To use ref(service, url), the first argument must be a Storage instance.")}else return kZ(n,e)}function rD(n,e){const t=e==null?void 0:e[fZ];return t==null?null:qr.makeFromBucketSpec(t,n)}function yce(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken=typeof i=="string"?i:qz(i,n.app.options.projectId))}class BR{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=dZ,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=sle,this._maxUploadRetryTime=ole,this._requests=new Set,i!=null?this._bucket=qr.makeFromBucketSpec(i,this._host):this._bucket=rD(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=qr.makeFromBucketSpec(this._url,e):this._bucket=rD(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){oP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){oP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new qu(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new wle(pZ());{const o=Qle(e,this._appId,r,i,t,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,t){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()}}const iD="@firebase/storage",sD="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _Z="storage";function TZ(n,e,t){return n=Rt(n),cce(n,e,t)}function PZ(n){return n=Rt(n),uce(n)}function CZ(n){return n=Rt(n),dce(n)}function WR(n){return n=Rt(n),fce(n)}function mg(n,e){return n=Rt(n),Oce(n,e)}function EZ(n=BA(),e){n=Rt(n);const r=wb(n,_Z).getImmediate({identifier:e}),i=Lz("storage");return i&&vce(r,...i),r}function vce(n,e,t,r={}){yce(n,e,t,r)}function xce(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new BR(t,r,i,e,sh)}function wce(){Du(new dc(_Z,xce,"PUBLIC").setMultipleInstances(!0)),vo(iD,sD,""),vo(iD,sD,"esm2017")}wce();const bce={apiKey:"AIzaSyC-w9THFsmPDUI08mN2EZ4OhgtzFJi0x8Y",authDomain:"snippets-app-3c69d.firebaseapp.com",projectId:"snippets-app-3c69d",storageBucket:"snippets-app-3c69d.firebasestorage.app",messagingSenderId:"1092584260018",appId:"1:1092584260018:web:4d6fdca615fc31d592e4ab",measurementId:"G-RSCCGRP7YN"},XR=Bz(bce),jf=rle(XR),se=_se(XR),Bx=EZ(XR);qoe(jf,rZ);const Sce=1,kce=1e6;let W1=0;function _ce(){return W1=(W1+1)%Number.MAX_SAFE_INTEGER,W1.toString()}const X1=new Map,oD=n=>{if(X1.has(n))return;const e=setTimeout(()=>{X1.delete(n),Am({type:"REMOVE_TOAST",toastId:n})},kce);X1.set(n,e)},Tce=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,Sce)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?oD(t):n.toasts.forEach(r=>{oD(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},cv=[];let uv={toasts:[]};function Am(n){uv=Tce(uv,n),cv.forEach(e=>{e(uv)})}function Pce({...n}){const e=_ce(),t=i=>Am({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Am({type:"DISMISS_TOAST",toastId:e});return Am({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:t}}function Wn(){const[n,e]=b.useState(uv);return b.useEffect(()=>(cv.push(e),()=>{const t=cv.indexOf(e);t>-1&&cv.splice(t,1)}),[n]),{...n,toast:Pce,dismiss:t=>Am({type:"DISMISS_TOAST",toastId:t})}}function he(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Cce(n,e){typeof n=="function"?n(e):n!=null&&(n.current=e)}function Bb(...n){return e=>n.forEach(t=>Cce(t,e))}function Je(...n){return b.useCallback(Bb(...n),n)}function Ece(n,e=[]){let t=[];function r(s,o){const a=b.createContext(o),l=t.length;t=[...t,o];function c(h){const{scope:f,children:m,...g}=h,y=(f==null?void 0:f[n][l])||a,x=b.useMemo(()=>g,Object.values(g));return d.jsx(y.Provider,{value:x,children:m})}function u(h,f){const m=(f==null?void 0:f[n][l])||a,g=b.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,u]}const i=()=>{const s=t.map(o=>b.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return b.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return i.scopeName=n,[r,Ace(i,...e)]}function Ace(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}var Fa=b.forwardRef((n,e)=>{const{children:t,...r}=n,i=b.Children.toArray(t),s=i.find(Qce);if(s){const o=s.props.children,a=i.map(l=>l===s?b.Children.count(o)>1?b.Children.only(null):b.isValidElement(o)?o.props.children:null:l);return d.jsx(aP,{...r,ref:e,children:b.isValidElement(o)?b.cloneElement(o,void 0,a):null})}return d.jsx(aP,{...r,ref:e,children:t})});Fa.displayName="Slot";var aP=b.forwardRef((n,e)=>{const{children:t,...r}=n;if(b.isValidElement(t)){const i=$ce(t);return b.cloneElement(t,{...Ice(r,t.props),ref:e?Bb(e,i):i})}return b.Children.count(t)>1?b.Children.only(null):null});aP.displayName="SlotClone";var Rce=({children:n})=>d.jsx(d.Fragment,{children:n});function Qce(n){return b.isValidElement(n)&&n.type===Rce}function Ice(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?t[r]=(...a)=>{s(...a),i(...a)}:i&&(t[r]=i):r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}function $ce(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function ZO(n){const e=n+"CollectionProvider",[t,r]=Ece(e),[i,s]=t(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:g,children:y}=m,x=rt.useRef(null),S=rt.useRef(new Map).current;return d.jsx(i,{scope:g,itemMap:S,collectionRef:x,children:y})};o.displayName=e;const a=n+"CollectionSlot",l=rt.forwardRef((m,g)=>{const{scope:y,children:x}=m,S=s(a,y),_=Je(g,S.collectionRef);return d.jsx(Fa,{ref:_,children:x})});l.displayName=a;const c=n+"CollectionItemSlot",u="data-radix-collection-item",h=rt.forwardRef((m,g)=>{const{scope:y,children:x,...S}=m,_=rt.useRef(null),T=Je(g,_),I=s(c,y);return rt.useEffect(()=>(I.itemMap.set(_,{ref:_,...S}),()=>void I.itemMap.delete(_))),d.jsx(Fa,{[u]:"",ref:T,children:x})});h.displayName=c;function f(m){const g=s(n+"CollectionConsumer",m);return rt.useCallback(()=>{const x=g.collectionRef.current;if(!x)return[];const S=Array.from(x.querySelectorAll(`[${u}]`));return Array.from(g.itemMap.values()).sort((I,C)=>S.indexOf(I.ref.current)-S.indexOf(C.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:l,ItemSlot:h},f,r]}function Nce(n,e){const t=b.createContext(e),r=s=>{const{children:o,...a}=s,l=b.useMemo(()=>a,Object.values(a));return d.jsx(t.Provider,{value:l,children:o})};r.displayName=n+"Provider";function i(s){const o=b.useContext(t);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${n}\``)}return[r,i]}function Ho(n,e=[]){let t=[];function r(s,o){const a=b.createContext(o),l=t.length;t=[...t,o];const c=h=>{var S;const{scope:f,children:m,...g}=h,y=((S=f==null?void 0:f[n])==null?void 0:S[l])||a,x=b.useMemo(()=>g,Object.values(g));return d.jsx(y.Provider,{value:x,children:m})};c.displayName=s+"Provider";function u(h,f){var y;const m=((y=f==null?void 0:f[n])==null?void 0:y[l])||a,g=b.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=t.map(o=>b.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return b.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return i.scopeName=n,[r,jce(i,...e)]}function jce(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}var Dce=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ae=Dce.reduce((n,e)=>{const t=b.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?Fa:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(a,{...o,ref:i})});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function GR(n,e){n&&ih.flushSync(()=>n.dispatchEvent(e))}function Yt(n){const e=b.useRef(n);return b.useEffect(()=>{e.current=n}),b.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function Mce(n,e=globalThis==null?void 0:globalThis.document){const t=Yt(n);b.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var Vce="DismissableLayer",lP="dismissableLayer.update",Lce="dismissableLayer.pointerDownOutside",Uce="dismissableLayer.focusOutside",aD,AZ=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),FO=b.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=n,c=b.useContext(AZ),[u,h]=b.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=b.useState({}),g=Je(e,O=>h(O)),y=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),S=y.indexOf(x),_=u?y.indexOf(u):-1,T=c.layersWithOutsidePointerEventsDisabled.size>0,I=_>=S,C=qce(O=>{const w=O.target,k=[...c.branches].some(R=>R.contains(w));!I||k||(i==null||i(O),o==null||o(O),O.defaultPrevented||a==null||a())},f),Q=Zce(O=>{const w=O.target;[...c.branches].some(R=>R.contains(w))||(s==null||s(O),o==null||o(O),O.defaultPrevented||a==null||a())},f);return Mce(O=>{_===c.layers.size-1&&(r==null||r(O),!O.defaultPrevented&&a&&(O.preventDefault(),a()))},f),b.useEffect(()=>{if(u)return t&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(aD=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),lD(),()=>{t&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=aD)}},[u,f,t,c]),b.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),lD())},[u,c]),b.useEffect(()=>{const O=()=>m({});return document.addEventListener(lP,O),()=>document.removeEventListener(lP,O)},[]),d.jsx(Ae.div,{...l,ref:g,style:{pointerEvents:T?I?"auto":"none":void 0,...n.style},onFocusCapture:he(n.onFocusCapture,Q.onFocusCapture),onBlurCapture:he(n.onBlurCapture,Q.onBlurCapture),onPointerDownCapture:he(n.onPointerDownCapture,C.onPointerDownCapture)})});FO.displayName=Vce;var zce="DismissableLayerBranch",RZ=b.forwardRef((n,e)=>{const t=b.useContext(AZ),r=b.useRef(null),i=Je(e,r);return b.useEffect(()=>{const s=r.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),d.jsx(Ae.div,{...n,ref:i})});RZ.displayName=zce;function qce(n,e=globalThis==null?void 0:globalThis.document){const t=Yt(n),r=b.useRef(!1),i=b.useRef(()=>{});return b.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){QZ(Lce,t,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function Zce(n,e=globalThis==null?void 0:globalThis.document){const t=Yt(n),r=b.useRef(!1);return b.useEffect(()=>{const i=s=>{s.target&&!r.current&&QZ(Uce,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function lD(){const n=new CustomEvent(lP);document.dispatchEvent(n)}function QZ(n,e,t,{discrete:r}){const i=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?GR(i,s):i.dispatchEvent(s)}var Fce=FO,Bce=RZ,Fn=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},Wce="Portal",BO=b.forwardRef((n,e)=>{var a;const{container:t,...r}=n,[i,s]=b.useState(!1);Fn(()=>s(!0),[]);const o=t||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?zJ.createPortal(d.jsx(Ae.div,{...r,ref:e}),o):null});BO.displayName=Wce;function Xce(n,e){return b.useReducer((t,r)=>e[t][r]??t,n)}var Kr=n=>{const{present:e,children:t}=n,r=Gce(e),i=typeof t=="function"?t({present:r.isPresent}):b.Children.only(t),s=Je(r.ref,Yce(i));return typeof t=="function"||r.isPresent?b.cloneElement(i,{ref:s}):null};Kr.displayName="Presence";function Gce(n){const[e,t]=b.useState(),r=b.useRef({}),i=b.useRef(n),s=b.useRef("none"),o=n?"mounted":"unmounted",[a,l]=Xce(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const c=e0(r.current);s.current=a==="mounted"?c:"none"},[a]),Fn(()=>{const c=r.current,u=i.current;if(u!==n){const f=s.current,m=e0(c);n?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&f!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,l]),Fn(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,h=m=>{const y=e0(r.current).includes(m.animationName);if(m.target===e&&y&&(l("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},f=m=>{m.target===e&&(s.current=e0(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:b.useCallback(c=>{c&&(r.current=getComputedStyle(c)),t(c)},[])}}function e0(n){return(n==null?void 0:n.animationName)||"none"}function Yce(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function Ba({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,i]=Hce({defaultProp:e,onChange:t}),s=n!==void 0,o=s?n:r,a=Yt(t),l=b.useCallback(c=>{if(s){const h=typeof c=="function"?c(n):c;h!==n&&a(h)}else i(c)},[s,n,i,a]);return[o,l]}function Hce({defaultProp:n,onChange:e}){const t=b.useState(n),[r]=t,i=b.useRef(r),s=Yt(e);return b.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),t}var Kce="VisuallyHidden",Wb=b.forwardRef((n,e)=>d.jsx(Ae.span,{...n,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}));Wb.displayName=Kce;var YR="ToastProvider",[HR,Jce,eue]=ZO("Toast"),[IZ,dQe]=Ho("Toast",[eue]),[tue,Xb]=IZ(YR),$Z=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=n,[a,l]=b.useState(null),[c,u]=b.useState(0),h=b.useRef(!1),f=b.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${YR}\`. Expected non-empty \`string\`.`),d.jsx(HR.Provider,{scope:e,children:d.jsx(tue,{scope:e,label:t,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:b.useCallback(()=>u(m=>m+1),[]),onToastRemove:b.useCallback(()=>u(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};$Z.displayName=YR;var NZ="ToastViewport",nue=["F8"],cP="toast.viewportPause",uP="toast.viewportResume",jZ=b.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=nue,label:i="Notifications ({hotkey})",...s}=n,o=Xb(NZ,t),a=Jce(t),l=b.useRef(null),c=b.useRef(null),u=b.useRef(null),h=b.useRef(null),f=Je(e,h,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;b.useEffect(()=>{const x=S=>{var T;r.length!==0&&r.every(I=>S[I]||S.code===I)&&((T=h.current)==null||T.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),b.useEffect(()=>{const x=l.current,S=h.current;if(g&&x&&S){const _=()=>{if(!o.isClosePausedRef.current){const Q=new CustomEvent(cP);S.dispatchEvent(Q),o.isClosePausedRef.current=!0}},T=()=>{if(o.isClosePausedRef.current){const Q=new CustomEvent(uP);S.dispatchEvent(Q),o.isClosePausedRef.current=!1}},I=Q=>{!x.contains(Q.relatedTarget)&&T()},C=()=>{x.contains(document.activeElement)||T()};return x.addEventListener("focusin",_),x.addEventListener("focusout",I),x.addEventListener("pointermove",_),x.addEventListener("pointerleave",C),window.addEventListener("blur",_),window.addEventListener("focus",T),()=>{x.removeEventListener("focusin",_),x.removeEventListener("focusout",I),x.removeEventListener("pointermove",_),x.removeEventListener("pointerleave",C),window.removeEventListener("blur",_),window.removeEventListener("focus",T)}}},[g,o.isClosePausedRef]);const y=b.useCallback(({tabbingDirection:x})=>{const _=a().map(T=>{const I=T.ref.current,C=[I,...mue(I)];return x==="forwards"?C:C.reverse()});return(x==="forwards"?_.reverse():_).flat()},[a]);return b.useEffect(()=>{const x=h.current;if(x){const S=_=>{var C,Q,O;const T=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!T){const w=document.activeElement,k=_.shiftKey;if(_.target===x&&k){(C=c.current)==null||C.focus();return}const v=y({tabbingDirection:k?"backwards":"forwards"}),A=v.findIndex(j=>j===w);G1(v.slice(A+1))?_.preventDefault():k?(Q=c.current)==null||Q.focus():(O=u.current)==null||O.focus()}};return x.addEventListener("keydown",S),()=>x.removeEventListener("keydown",S)}},[a,y]),d.jsxs(Bce,{ref:l,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&d.jsx(hP,{ref:c,onFocusFromOutsideViewport:()=>{const x=y({tabbingDirection:"forwards"});G1(x)}}),d.jsx(HR.Slot,{scope:t,children:d.jsx(Ae.ol,{tabIndex:-1,...s,ref:f})}),g&&d.jsx(hP,{ref:u,onFocusFromOutsideViewport:()=>{const x=y({tabbingDirection:"backwards"});G1(x)}})]})});jZ.displayName=NZ;var DZ="ToastFocusProxy",hP=b.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...i}=n,s=Xb(DZ,t);return d.jsx(Wb,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});hP.displayName=DZ;var Gb="Toast",rue="toast.swipeStart",iue="toast.swipeMove",sue="toast.swipeCancel",oue="toast.swipeEnd",MZ=b.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:i,onOpenChange:s,...o}=n,[a=!0,l]=Ba({prop:r,defaultProp:i,onChange:s});return d.jsx(Kr,{present:t||a,children:d.jsx(cue,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Yt(n.onPause),onResume:Yt(n.onResume),onSwipeStart:he(n.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:he(n.onSwipeMove,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:he(n.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:he(n.onSwipeEnd,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});MZ.displayName=Gb;var[aue,lue]=IZ(Gb,{onClose(){}}),cue=b.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:m,...g}=n,y=Xb(Gb,t),[x,S]=b.useState(null),_=Je(e,j=>S(j)),T=b.useRef(null),I=b.useRef(null),C=i||y.duration,Q=b.useRef(0),O=b.useRef(C),w=b.useRef(0),{onToastAdd:k,onToastRemove:R}=y,P=Yt(()=>{var V;(x==null?void 0:x.contains(document.activeElement))&&((V=y.viewport)==null||V.focus()),o()}),v=b.useCallback(j=>{!j||j===1/0||(window.clearTimeout(w.current),Q.current=new Date().getTime(),w.current=window.setTimeout(P,j))},[P]);b.useEffect(()=>{const j=y.viewport;if(j){const V=()=>{v(O.current),c==null||c()},U=()=>{const W=new Date().getTime()-Q.current;O.current=O.current-W,window.clearTimeout(w.current),l==null||l()};return j.addEventListener(cP,U),j.addEventListener(uP,V),()=>{j.removeEventListener(cP,U),j.removeEventListener(uP,V)}}},[y.viewport,C,l,c,v]),b.useEffect(()=>{s&&!y.isClosePausedRef.current&&v(C)},[s,C,y.isClosePausedRef,v]),b.useEffect(()=>(k(),()=>R()),[k,R]);const A=b.useMemo(()=>x?FZ(x):null,[x]);return y.viewport?d.jsxs(d.Fragment,{children:[A&&d.jsx(uue,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:A}),d.jsx(aue,{scope:t,onClose:P,children:ih.createPortal(d.jsx(HR.ItemSlot,{scope:t,children:d.jsx(Fce,{asChild:!0,onEscapeKeyDown:he(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||P(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(Ae.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":y.swipeDirection,...g,ref:_,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:he(n.onKeyDown,j=>{j.key==="Escape"&&(a==null||a(j.nativeEvent),j.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:he(n.onPointerDown,j=>{j.button===0&&(T.current={x:j.clientX,y:j.clientY})}),onPointerMove:he(n.onPointerMove,j=>{if(!T.current)return;const V=j.clientX-T.current.x,U=j.clientY-T.current.y,W=!!I.current,D=["left","right"].includes(y.swipeDirection),L=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,Y=D?L(0,V):0,F=D?0:L(0,U),Z=j.pointerType==="touch"?10:2,G={x:Y,y:F},J={originalEvent:j,delta:G};W?(I.current=G,t0(iue,h,J,{discrete:!1})):cD(G,y.swipeDirection,Z)?(I.current=G,t0(rue,u,J,{discrete:!1}),j.target.setPointerCapture(j.pointerId)):(Math.abs(V)>Z||Math.abs(U)>Z)&&(T.current=null)}),onPointerUp:he(n.onPointerUp,j=>{const V=I.current,U=j.target;if(U.hasPointerCapture(j.pointerId)&&U.releasePointerCapture(j.pointerId),I.current=null,T.current=null,V){const W=j.currentTarget,D={originalEvent:j,delta:V};cD(V,y.swipeDirection,y.swipeThreshold)?t0(oue,m,D,{discrete:!0}):t0(sue,f,D,{discrete:!0}),W.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),uue=n=>{const{__scopeToast:e,children:t,...r}=n,i=Xb(Gb,e),[s,o]=b.useState(!1),[a,l]=b.useState(!1);return fue(()=>o(!0)),b.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:d.jsx(BO,{asChild:!0,children:d.jsx(Wb,{...r,children:s&&d.jsxs(d.Fragment,{children:[i.label," ",t]})})})},hue="ToastTitle",VZ=b.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return d.jsx(Ae.div,{...r,ref:e})});VZ.displayName=hue;var due="ToastDescription",LZ=b.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return d.jsx(Ae.div,{...r,ref:e})});LZ.displayName=due;var UZ="ToastAction",zZ=b.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?d.jsx(ZZ,{altText:t,asChild:!0,children:d.jsx(KR,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${UZ}\`. Expected non-empty \`string\`.`),null)});zZ.displayName=UZ;var qZ="ToastClose",KR=b.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,i=lue(qZ,t);return d.jsx(ZZ,{asChild:!0,children:d.jsx(Ae.button,{type:"button",...r,ref:e,onClick:he(n.onClick,i.onClose)})})});KR.displayName=qZ;var ZZ=b.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...i}=n;return d.jsx(Ae.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function FZ(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),pue(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...FZ(r))}}),e}function t0(n,e,t,{discrete:r}){const i=t.originalEvent.currentTarget,s=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?GR(i,s):i.dispatchEvent(s)}var cD=(n,e,t=0)=>{const r=Math.abs(n.x),i=Math.abs(n.y),s=r>i;return e==="left"||e==="right"?s&&r>t:!s&&i>t};function fue(n=()=>{}){const e=Yt(n);Fn(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function pue(n){return n.nodeType===n.ELEMENT_NODE}function mue(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function G1(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var gue=$Z,BZ=jZ,WZ=MZ,XZ=VZ,GZ=LZ,YZ=zZ,HZ=KR;function KZ(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=KZ(n[e]))&&(r&&(r+=" "),r+=t);else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function Oue(){for(var n,e,t=0,r="";t<arguments.length;)(n=arguments[t++])&&(e=KZ(n))&&(r&&(r+=" "),r+=e);return r}const uD=n=>typeof n=="boolean"?"".concat(n):n===0?"0":n,hD=Oue,WO=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return hD(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const u=t==null?void 0:t[c],h=s==null?void 0:s[c];if(u===null)return null;const f=uD(u)||uD(h);return i[c][f]}),a=t&&Object.entries(t).reduce((c,u)=>{let[h,f]=u;return f===void 0||(c[h]=f),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:h,className:f,...m}=u;return Object.entries(m).every(g=>{let[y,x]=g;return Array.isArray(x)?x.includes({...s,...a}[y]):{...s,...a}[y]===x})?[...c,h,f]:c},[]);return hD(n,o,l,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yue=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JZ=(...n)=>n.filter((e,t,r)=>!!e&&r.indexOf(e)===t).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vue={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xue=b.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>b.createElement("svg",{ref:l,...vue,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:JZ("lucide",i),...a},[...o.map(([c,u])=>b.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=(n,e)=>{const t=b.forwardRef(({className:r,...i},s)=>b.createElement(xue,{ref:s,iconNode:e,className:JZ(`lucide-${yue(n)}`,r),...i}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wue=nt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=nt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=nt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=nt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=nt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=nt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bue=nt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=nt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sue=nt("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=nt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kue=nt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ue=nt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=nt("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tue=nt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pue=nt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cue=nt("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=nt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=nt("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=nt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=nt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eue=nt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aue=nt("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=nt("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=nt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rue=nt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Que=nt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JR=nt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iue=nt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ue=nt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gp=nt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=nt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=nt("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nue=nt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eQ=nt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=nt("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=nt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jue=nt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Due=nt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=nt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function nF(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=nF(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Mue(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=nF(n))&&(r&&(r+=" "),r+=e);return r}const tQ="-",Vue=n=>{const e=Uue(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:o=>{const a=o.split(tQ);return a[0]===""&&a.length!==1&&a.shift(),rF(a,e)||Lue(o)},getConflictingClassGroupIds:(o,a)=>{const l=t[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},rF=(n,e)=>{var o;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?rF(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=n.join(tQ);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},gD=/^\[(.+)\]$/,Lue=n=>{if(gD.test(n)){const e=gD.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},Uue=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return que(Object.entries(n.classGroups),t).forEach(([s,o])=>{dP(o,r,s,e)}),r},dP=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const s=i===""?e:OD(e,i);s.classGroupId=t;return}if(typeof i=="function"){if(zue(i)){dP(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([s,o])=>{dP(o,OD(e,s),t,r)})})},OD=(n,e)=>{let t=n;return e.split(tQ).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},zue=n=>n.isThemeGetter,que=(n,e)=>e?n.map(([t,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[t,i]}):n,Zue=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(s,o)=>{t.set(s,o),e++,e>n&&(e=0,r=t,t=new Map)};return{get(s){let o=t.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){t.has(s)?t.set(s,o):i(s,o)}}},iF="!",Fue=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,u=0,h;for(let x=0;x<a.length;x++){let S=a[x];if(c===0){if(S===i&&(r||a.slice(x,x+s)===e)){l.push(a.slice(u,x)),u=x+s;continue}if(S==="/"){h=x;continue}}S==="["?c++:S==="]"&&c--}const f=l.length===0?a:a.substring(u),m=f.startsWith(iF),g=m?f.substring(1):f,y=h&&h>u?h-u:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:y}};return t?a=>t({className:a,parseClassName:o}):o},Bue=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},Wue=n=>({cache:Zue(n.cacheSize),parseClassName:Fue(n),...Vue(n)}),Xue=/\s+/,Gue=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=n.trim().split(Xue);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=t(c);let g=!!m,y=r(g?f.substring(0,m):f);if(!y){if(!g){a=c+(a.length>0?" "+a:a);continue}if(y=r(f),!y){a=c+(a.length>0?" "+a:a);continue}g=!1}const x=Bue(u).join(":"),S=h?x+iF:x,_=S+y;if(s.includes(_))continue;s.push(_);const T=i(y,g);for(let I=0;I<T.length;++I){const C=T[I];s.push(S+C)}a=c+(a.length>0?" "+a:a)}return a};function Yue(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=sF(e))&&(r&&(r+=" "),r+=t);return r}const sF=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=sF(n[r]))&&(t&&(t+=" "),t+=e);return t};function Hue(n,...e){let t,r,i,s=o;function o(l){const c=e.reduce((u,h)=>h(u),n());return t=Wue(c),r=t.cache.get,i=t.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=Gue(l,t);return i(l,u),u}return function(){return s(Yue.apply(null,arguments))}}const zt=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},oF=/^\[(?:([a-z-]+):)?(.+)\]$/i,Kue=/^\d+\/\d+$/,Jue=new Set(["px","full","screen"]),ehe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,the=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,nhe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,rhe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ihe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,oa=n=>dd(n)||Jue.has(n)||Kue.test(n),dl=n=>Vf(n,"length",dhe),dd=n=>!!n&&!Number.isNaN(Number(n)),Y1=n=>Vf(n,"number",dd),vp=n=>!!n&&Number.isInteger(Number(n)),she=n=>n.endsWith("%")&&dd(n.slice(0,-1)),Ke=n=>oF.test(n),fl=n=>ehe.test(n),ohe=new Set(["length","size","percentage"]),ahe=n=>Vf(n,ohe,aF),lhe=n=>Vf(n,"position",aF),che=new Set(["image","url"]),uhe=n=>Vf(n,che,phe),hhe=n=>Vf(n,"",fhe),xp=()=>!0,Vf=(n,e,t)=>{const r=oF.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},dhe=n=>the.test(n)&&!nhe.test(n),aF=()=>!1,fhe=n=>rhe.test(n),phe=n=>ihe.test(n),mhe=()=>{const n=zt("colors"),e=zt("spacing"),t=zt("blur"),r=zt("brightness"),i=zt("borderColor"),s=zt("borderRadius"),o=zt("borderSpacing"),a=zt("borderWidth"),l=zt("contrast"),c=zt("grayscale"),u=zt("hueRotate"),h=zt("invert"),f=zt("gap"),m=zt("gradientColorStops"),g=zt("gradientColorStopPositions"),y=zt("inset"),x=zt("margin"),S=zt("opacity"),_=zt("padding"),T=zt("saturate"),I=zt("scale"),C=zt("sepia"),Q=zt("skew"),O=zt("space"),w=zt("translate"),k=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",Ke,e],v=()=>[Ke,e],A=()=>["",oa,dl],j=()=>["auto",dd,Ke],V=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",Ke],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],F=()=>[dd,Ke];return{cacheSize:500,separator:":",theme:{colors:[xp],spacing:[oa,dl],blur:["none","",fl,Ke],brightness:F(),borderColor:[n],borderRadius:["none","","full",fl,Ke],borderSpacing:v(),borderWidth:A(),contrast:F(),grayscale:L(),hueRotate:F(),invert:L(),gap:v(),gradientColorStops:[n],gradientColorStopPositions:[she,dl],inset:P(),margin:P(),opacity:F(),padding:v(),saturate:F(),scale:F(),sepia:L(),skew:F(),space:v(),translate:v()},classGroups:{aspect:[{aspect:["auto","square","video",Ke]}],container:["container"],columns:[{columns:[fl]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...V(),Ke]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",vp,Ke]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ke]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",vp,Ke]}],"grid-cols":[{"grid-cols":[xp]}],"col-start-end":[{col:["auto",{span:["full",vp,Ke]},Ke]}],"col-start":[{"col-start":j()}],"col-end":[{"col-end":j()}],"grid-rows":[{"grid-rows":[xp]}],"row-start-end":[{row:["auto",{span:[vp,Ke]},Ke]}],"row-start":[{"row-start":j()}],"row-end":[{"row-end":j()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ke]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ke]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[O]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[O]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ke,e]}],"min-w":[{"min-w":[Ke,e,"min","max","fit"]}],"max-w":[{"max-w":[Ke,e,"none","full","min","max","fit","prose",{screen:[fl]},fl]}],h:[{h:[Ke,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ke,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ke,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ke,e,"auto","min","max","fit"]}],"font-size":[{text:["base",fl,dl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Y1]}],"font-family":[{font:[xp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ke]}],"line-clamp":[{"line-clamp":["none",dd,Y1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",oa,Ke]}],"list-image":[{"list-image":["none",Ke]}],"list-style-type":[{list:["none","disc","decimal",Ke]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[S]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[S]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",oa,dl]}],"underline-offset":[{"underline-offset":["auto",oa,Ke]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:v()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[S]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...V(),lhe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ahe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},uhe]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[S]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[S]}],"divide-style":[{divide:U()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[oa,Ke]}],"outline-w":[{outline:[oa,dl]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[S]}],"ring-offset-w":[{"ring-offset":[oa,dl]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",fl,hhe]}],"shadow-color":[{shadow:[xp]}],opacity:[{opacity:[S]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",fl,Ke]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[T]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[S]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ke]}],duration:[{duration:F()}],ease:[{ease:["linear","in","out","in-out",Ke]}],delay:[{delay:F()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ke]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[vp,Ke]}],"translate-x":[{"translate-x":[w]}],"translate-y":[{"translate-y":[w]}],"skew-x":[{"skew-x":[Q]}],"skew-y":[{"skew-y":[Q]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ke]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ke]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":v()}],"scroll-mx":[{"scroll-mx":v()}],"scroll-my":[{"scroll-my":v()}],"scroll-ms":[{"scroll-ms":v()}],"scroll-me":[{"scroll-me":v()}],"scroll-mt":[{"scroll-mt":v()}],"scroll-mr":[{"scroll-mr":v()}],"scroll-mb":[{"scroll-mb":v()}],"scroll-ml":[{"scroll-ml":v()}],"scroll-p":[{"scroll-p":v()}],"scroll-px":[{"scroll-px":v()}],"scroll-py":[{"scroll-py":v()}],"scroll-ps":[{"scroll-ps":v()}],"scroll-pe":[{"scroll-pe":v()}],"scroll-pt":[{"scroll-pt":v()}],"scroll-pr":[{"scroll-pr":v()}],"scroll-pb":[{"scroll-pb":v()}],"scroll-pl":[{"scroll-pl":v()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ke]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[oa,dl,Y1]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ghe=Hue(mhe);function Te(...n){return ghe(Mue(n))}const Ohe=gue,lF=b.forwardRef(({className:n,...e},t)=>d.jsx(BZ,{ref:t,className:Te("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));lF.displayName=BZ.displayName;const yhe=WO("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),cF=b.forwardRef(({className:n,variant:e,...t},r)=>d.jsx(WZ,{ref:r,className:Te(yhe({variant:e}),n),...t}));cF.displayName=WZ.displayName;const vhe=b.forwardRef(({className:n,...e},t)=>d.jsx(YZ,{ref:t,className:Te("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));vhe.displayName=YZ.displayName;const uF=b.forwardRef(({className:n,...e},t)=>d.jsx(HZ,{ref:t,className:Te("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:d.jsx(Hb,{className:"h-4 w-4"})}));uF.displayName=HZ.displayName;const hF=b.forwardRef(({className:n,...e},t)=>d.jsx(XZ,{ref:t,className:Te("text-sm font-semibold",n),...e}));hF.displayName=XZ.displayName;const dF=b.forwardRef(({className:n,...e},t)=>d.jsx(GZ,{ref:t,className:Te("text-sm opacity-90",n),...e}));dF.displayName=GZ.displayName;function xhe(){const{toasts:n}=Wn();return d.jsxs(Ohe,{children:[n.map(function({id:e,title:t,description:r,action:i,...s}){return d.jsxs(cF,{...s,children:[d.jsxs("div",{className:"grid gap-1",children:[t&&d.jsx(hF,{children:t}),r&&d.jsx(dF,{children:r})]}),i,d.jsx(uF,{})]},e)}),d.jsx(lF,{})]})}async function whe(n,e){try{console.log("Attempting to sign in:",n);const t=await zoe(jf,n,e);console.log("Sign in successful:",t.user.uid);const r=await Oi(We(se,"users",t.user.uid));return console.log("User document exists:",r.exists()),r.exists()||(await Eq(We(se,"users",t.user.uid),{email:t.user.email,createdAt:Lu(),isAdmin:!1,role:"free",settings:{theme:"light",fontSize:14}}),console.log("Created new user document")),window.location.href="/",t.user}catch(t){throw console.error("Sign in error:",t),new Error(t.message)}}async function bhe(n,e){try{const t=await Uoe(jf,n,e);return await Eq(We(se,"users",t.user.uid),{email:t.user.email,createdAt:Lu(),isAdmin:!1,role:"free",settings:{theme:"light",fontSize:14}}),t.user}catch(t){throw new Error(t.message)}}async function She(){await Woe(jf)}async function khe(n){await Loe(jf,n)}function Sn(){const{data:n,isLoading:e}=Nu({queryKey:["auth"],queryFn:()=>new Promise(t=>{const r=Boe(jf,i=>{r(),t(i)})}),staleTime:1/0});return{user:n,isLoading:e,isAuthenticated:!!n}}const fF=[{id:"default",name:"Default",description:"The default light theme",type:"color",theme:{name:"Default",description:"Clean, minimal light theme",preview:{primary:"#0f172a",secondary:"#64748b",accent:"#2563eb",background:"#ffffff"},variables:{"--background":"0 0% 100%","--foreground":"222.2 47.4% 11.2%","--card":"0 0% 100%","--card-foreground":"222.2 47.4% 11.2%","--popover":"0 0% 100%","--popover-foreground":"222.2 47.4% 11.2%","--primary":"222.2 47.4% 11.2%","--primary-foreground":"210 40% 98%","--secondary":"210 40% 96.1%","--secondary-foreground":"222.2 47.4% 11.2%","--muted":"210 40% 96.1%","--muted-foreground":"215.4 16.3% 46.9%","--accent":"210 40% 96.1%","--accent-foreground":"222.2 47.4% 11.2%","--destructive":"0 84.2% 60.2%","--destructive-foreground":"210 40% 98%","--border":"214.3 31.8% 91.4%","--input":"214.3 31.8% 91.4%","--ring":"222.2 47.4% 11.2%","--radius":"0.5rem"}}},{id:"dark",name:"Dark",description:"Dark mode theme",type:"color",theme:{name:"Dark",description:"Sleek dark theme",preview:{primary:"#f8fafc",secondary:"#94a3b8",accent:"#3b82f6",background:"#020617"},variables:{"--background":"222.2 84% 4.9%","--foreground":"210 40% 98%","--card":"222.2 84% 4.9%","--card-foreground":"210 40% 98%","--popover":"222.2 84% 4.9%","--popover-foreground":"210 40% 98%","--primary":"210 40% 98%","--primary-foreground":"222.2 47.4% 11.2%","--secondary":"217.2 32.6% 17.5%","--secondary-foreground":"210 40% 98%","--muted":"217.2 32.6% 17.5%","--muted-foreground":"215 20.2% 65.1%","--accent":"217.2 32.6% 17.5%","--accent-foreground":"210 40% 98%","--destructive":"0 62.8% 30.6%","--destructive-foreground":"210 40% 98%","--border":"217.2 32.6% 17.5%","--input":"217.2 32.6% 17.5%","--ring":"212.7 26.8% 83.9%","--radius":"0.5rem"}}},{id:"blue",name:"Blue",description:"Calming blue theme",type:"color",theme:{name:"Blue",description:"Soothing blue color scheme",preview:{primary:"#1e40af",secondary:"#60a5fa",accent:"#3b82f6",background:"#eff6ff"},variables:{"--background":"213.8 100% 96.9%","--foreground":"224 71.4% 4.1%","--card":"0 0% 100%","--card-foreground":"224 71.4% 4.1%","--popover":"0 0% 100%","--popover-foreground":"224 71.4% 4.1%","--primary":"221.2 83.2% 53.3%","--primary-foreground":"210 40% 98%","--secondary":"214.3 94.6% 92.7%","--secondary-foreground":"222.2 47.4% 11.2%","--muted":"214.3 94.6% 92.7%","--muted-foreground":"215.4 16.3% 46.9%","--accent":"214.3 94.6% 92.7%","--accent-foreground":"222.2 47.4% 11.2%","--destructive":"0 84.2% 60.2%","--destructive-foreground":"210 40% 98%","--border":"214.3 31.8% 91.4%","--input":"214.3 31.8% 91.4%","--ring":"221.2 83.2% 53.3%","--radius":"0.5rem"}}},{id:"green",name:"Green",description:"Fresh green theme",type:"color",theme:{name:"Green",description:"Refreshing green color scheme",preview:{primary:"#166534",secondary:"#4ade80",accent:"#22c55e",background:"#f0fdf4"},variables:{"--background":"142.1 76.2% 96.7%","--foreground":"142.1 76.2% 11.2%","--card":"0 0% 100%","--card-foreground":"142.1 76.2% 11.2%","--popover":"0 0% 100%","--popover-foreground":"142.1 76.2% 11.2%","--primary":"142.1 76.2% 36.3%","--primary-foreground":"355.7 100% 97.3%","--secondary":"142.1 76.2% 96.7%","--secondary-foreground":"142.1 76.2% 11.2%","--muted":"142.1 76.2% 96.7%","--muted-foreground":"142.1 76.2% 36.3%","--accent":"142.1 76.2% 96.7%","--accent-foreground":"142.1 76.2% 11.2%","--destructive":"0 84.2% 60.2%","--destructive-foreground":"210 40% 98%","--border":"142.1 76.2% 86.7%","--input":"142.1 76.2% 86.7%","--ring":"142.1 76.2% 36.3%","--radius":"0.5rem"}}},{id:"purple",name:"Purple",description:"Rich purple theme",type:"color",theme:{name:"Purple",description:"Elegant purple color scheme",preview:{primary:"#6b21a8",secondary:"#c084fc",accent:"#a855f7",background:"#faf5ff"},variables:{"--background":"270 100% 98%","--foreground":"272.9 73.5% 28.8%","--card":"0 0% 100%","--card-foreground":"272.9 73.5% 28.8%","--popover":"0 0% 100%","--popover-foreground":"272.9 73.5% 28.8%","--primary":"272.9 73.5% 28.8%","--primary-foreground":"0 0% 100%","--secondary":"270 100% 98%","--secondary-foreground":"272.9 73.5% 28.8%","--muted":"270 100% 98%","--muted-foreground":"272.9 73.5% 52.4%","--accent":"270 100% 98%","--accent-foreground":"272.9 73.5% 28.8%","--destructive":"0 84.2% 60.2%","--destructive-foreground":"210 40% 98%","--border":"270 100% 88%","--input":"270 100% 88%","--ring":"272.9 73.5% 28.8%","--radius":"0.5rem"}}}],pF=[{id:"sunset",name:"Sunset",description:"Warm sunset gradient",type:"gradient",theme:{name:"Sunset",description:"Warm orange to purple gradient",preview:{primary:"#f97316",secondary:"#c026d3",accent:"#f59e0b",background:"linear-gradient(to right, #f97316, #c026d3)"},variables:{"--background":"0 0% 100%","--foreground":"20 14.3% 4.1%","--card":"0 0% 100%","--card-foreground":"20 14.3% 4.1%","--popover":"0 0% 100%","--popover-foreground":"20 14.3% 4.1%","--primary":"24.6 95% 53.1%","--primary-foreground":"60 9.1% 97.8%","--secondary":"60 4.8% 95.9%","--secondary-foreground":"24 9.8% 10%","--muted":"60 4.8% 95.9%","--muted-foreground":"25 5.3% 44.7%","--accent":"60 4.8% 95.9%","--accent-foreground":"24 9.8% 10%","--destructive":"0 84.2% 60.2%","--destructive-foreground":"60 9.1% 97.8%","--border":"20 5.9% 90%","--input":"20 5.9% 90%","--ring":"24.6 95% 53.1%","--radius":"0.5rem"}}},{id:"ocean",name:"Ocean",description:"Cool ocean gradient",type:"gradient",theme:{name:"Ocean",description:"Calming blue to teal gradient",preview:{primary:"#0ea5e9",secondary:"#14b8a6",accent:"#06b6d4",background:"linear-gradient(to right, #0ea5e9, #14b8a6)"},variables:{"--background":"0 0% 100%","--foreground":"222.2 84% 4.9%","--card":"0 0% 100%","--card-foreground":"222.2 84% 4.9%","--popover":"0 0% 100%","--popover-foreground":"222.2 84% 4.9%","--primary":"199 89% 48%","--primary-foreground":"0 0% 100%","--secondary":"0 0% 96.1%","--secondary-foreground":"222.2 47.4% 11.2%","--muted":"0 0% 96.1%","--muted-foreground":"215.4 16.3% 46.9%","--accent":"0 0% 96.1%","--accent-foreground":"222.2 47.4% 11.2%","--destructive":"0 84.2% 60.2%","--destructive-foreground":"210 40% 98%","--border":"214.3 31.8% 91.4%","--input":"214.3 31.8% 91.4%","--ring":"199 89% 48%","--radius":"0.5rem"}}},{id:"forest",name:"Forest",description:"Natural forest gradient",type:"gradient",theme:{name:"Forest",description:"Earthy green to brown gradient",preview:{primary:"#166534",secondary:"#854d0e",accent:"#4d7c0f",background:"linear-gradient(to right, #166534, #854d0e)"},variables:{"--background":"0 0% 100%","--foreground":"123 11% 9%","--card":"0 0% 100%","--card-foreground":"123 11% 9%","--popover":"0 0% 100%","--popover-foreground":"123 11% 9%","--primary":"123 41% 24%","--primary-foreground":"0 0% 100%","--secondary":"80 4.8% 95.9%","--secondary-foreground":"123 11% 9%","--muted":"80 4.8% 95.9%","--muted-foreground":"123 11% 40%","--accent":"80 4.8% 95.9%","--accent-foreground":"123 11% 9%","--destructive":"0 84.2% 60.2%","--destructive-foreground":"0 0% 100%","--border":"123 11% 90%","--input":"123 11% 90%","--ring":"123 41% 24%","--radius":"0.5rem"}}}],mF=[...fF,...pF];function _he(n){return mF.find(e=>e.id===n)}function nQ(){const{user:n}=Sn(),[e,t]=b.useState(()=>typeof window<"u"&&localStorage.getItem("theme")||"default"),r=s=>{const o=window.document.documentElement;o.classList.remove("light","dark"),mF.forEach(c=>o.classList.remove(c.id));const a=s==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"default":s;o.classList.add(a);const l=_he(a);l&&(l.type==="gradient"&&o.style.setProperty("--gradient-background",l.theme.preview.background),Object.entries(l.theme.variables).forEach(([c,u])=>{o.style.setProperty(c,u)}))};return b.useEffect(()=>{(async()=>{var o;if(n){const a=await Oi(We(se,"users",n.uid));if(a.exists()){const l=a.data();(o=l.settings)!=null&&o.theme&&(t(l.settings.theme),r(l.settings.theme))}}})()},[n]),b.useEffect(()=>{r(e)},[e]),{theme:e,setTheme:async s=>{t(s),localStorage.setItem("theme",s),r(s),n&&await Mi(We(se,"users",n.uid),{"settings.theme":s})}}}function gF(){const{user:n}=Sn(),[e,t]=b.useState(()=>typeof window<"u"?parseInt(localStorage.getItem("fontSize")||"14",10):14),r=s=>{window.document.documentElement.style.setProperty("--font-size",`${s}px`)};return b.useEffect(()=>{(async()=>{var o;if(n){const a=await Oi(We(se,"users",n.uid));if(a.exists()){const l=a.data();(o=l.settings)!=null&&o.fontSize&&(t(l.settings.fontSize),r(l.settings.fontSize))}}})()},[n]),b.useEffect(()=>{r(e)},[e]),{fontSize:e,setFontSize:async s=>{t(s),localStorage.setItem("fontSize",s.toString()),r(s),n&&await Mi(We(se,"users",n.uid),{"settings.fontSize":s})}}}const The=WO("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ee=b.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...i},s)=>{const o=r?Fa:"button";return d.jsx(o,{className:Te(The({variant:e,size:t,className:n})),ref:s,...i})});ee.displayName="Button";const It=b.forwardRef(({className:n,type:e,...t},r)=>d.jsx("input",{type:e,className:Te("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:r,...t}));It.displayName="Input";var Phe=b.createContext(void 0);function Lf(n){const e=b.useContext(Phe);return n||e||"ltr"}function gg(n,[e,t]){return Math.min(t,Math.max(e,n))}function Che(n,e){return b.useReducer((t,r)=>e[t][r]??t,n)}var rQ="ScrollArea",[OF,fQe]=Ho(rQ),[Ehe,ps]=OF(rQ),yF=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,type:r="hover",dir:i,scrollHideDelay:s=600,...o}=n,[a,l]=b.useState(null),[c,u]=b.useState(null),[h,f]=b.useState(null),[m,g]=b.useState(null),[y,x]=b.useState(null),[S,_]=b.useState(0),[T,I]=b.useState(0),[C,Q]=b.useState(!1),[O,w]=b.useState(!1),k=Je(e,P=>l(P)),R=Lf(i);return d.jsx(Ehe,{scope:t,type:r,dir:R,scrollHideDelay:s,scrollArea:a,viewport:c,onViewportChange:u,content:h,onContentChange:f,scrollbarX:m,onScrollbarXChange:g,scrollbarXEnabled:C,onScrollbarXEnabledChange:Q,scrollbarY:y,onScrollbarYChange:x,scrollbarYEnabled:O,onScrollbarYEnabledChange:w,onCornerWidthChange:_,onCornerHeightChange:I,children:d.jsx(Ae.div,{dir:R,...o,ref:k,style:{position:"relative","--radix-scroll-area-corner-width":S+"px","--radix-scroll-area-corner-height":T+"px",...n.style}})})});yF.displayName=rQ;var vF="ScrollAreaViewport",xF=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,children:r,asChild:i,nonce:s,...o}=n,a=ps(vF,t),l=b.useRef(null),c=Je(e,l,a.onViewportChange);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:s}),d.jsx(Ae.div,{"data-radix-scroll-area-viewport":"",...o,asChild:i,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...n.style},children:Vhe({asChild:i,children:r},u=>d.jsx("div",{"data-radix-scroll-area-content":"",ref:a.onContentChange,style:{minWidth:a.scrollbarXEnabled?"fit-content":void 0},children:u}))})]})});xF.displayName=vF;var Ko="ScrollAreaScrollbar",iQ=b.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=ps(Ko,n.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,a=n.orientation==="horizontal";return b.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),i.type==="hover"?d.jsx(Ahe,{...r,ref:e,forceMount:t}):i.type==="scroll"?d.jsx(Rhe,{...r,ref:e,forceMount:t}):i.type==="auto"?d.jsx(wF,{...r,ref:e,forceMount:t}):i.type==="always"?d.jsx(sQ,{...r,ref:e}):null});iQ.displayName=Ko;var Ahe=b.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=ps(Ko,n.__scopeScrollArea),[s,o]=b.useState(!1);return b.useEffect(()=>{const a=i.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),o(!0)},u=()=>{l=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),d.jsx(Kr,{present:t||s,children:d.jsx(wF,{"data-state":s?"visible":"hidden",...r,ref:e})})}),Rhe=b.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=ps(Ko,n.__scopeScrollArea),s=n.orientation==="horizontal",o=Jb(()=>l("SCROLL_END"),100),[a,l]=Che("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,i.scrollHideDelay,l]),b.useEffect(()=>{const c=i.viewport,u=s?"scrollLeft":"scrollTop";if(c){let h=c[u];const f=()=>{const m=c[u];h!==m&&(l("SCROLL"),o()),h=m};return c.addEventListener("scroll",f),()=>c.removeEventListener("scroll",f)}},[i.viewport,s,l,o]),d.jsx(Kr,{present:t||a!=="hidden",children:d.jsx(sQ,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:he(n.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:he(n.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),wF=b.forwardRef((n,e)=>{const t=ps(Ko,n.__scopeScrollArea),{forceMount:r,...i}=n,[s,o]=b.useState(!1),a=n.orientation==="horizontal",l=Jb(()=>{if(t.viewport){const c=t.viewport.offsetWidth<t.viewport.scrollWidth,u=t.viewport.offsetHeight<t.viewport.scrollHeight;o(a?c:u)}},10);return Gd(t.viewport,l),Gd(t.content,l),d.jsx(Kr,{present:r||s,children:d.jsx(sQ,{"data-state":s?"visible":"hidden",...i,ref:e})})}),sQ=b.forwardRef((n,e)=>{const{orientation:t="vertical",...r}=n,i=ps(Ko,n.__scopeScrollArea),s=b.useRef(null),o=b.useRef(0),[a,l]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=TF(a.viewport,a.content),u={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:f=>s.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function h(f,m){return Dhe(f,o.current,a,m)}return t==="horizontal"?d.jsx(Qhe,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const f=i.viewport.scrollLeft,m=yD(f,a,i.dir);s.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollLeft=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollLeft=h(f,i.dir))}}):t==="vertical"?d.jsx(Ihe,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const f=i.viewport.scrollTop,m=yD(f,a);s.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollTop=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollTop=h(f))}}):null}),Qhe=b.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...i}=n,s=ps(Ko,n.__scopeScrollArea),[o,a]=b.useState(),l=b.useRef(null),c=Je(e,l,s.onScrollbarXChange);return b.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),d.jsx(SF,{"data-orientation":"horizontal",...i,ref:c,sizes:t,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Kb(t)+"px",...n.style},onThumbPointerDown:u=>n.onThumbPointerDown(u.x),onDragScroll:u=>n.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(s.viewport){const f=s.viewport.scrollLeft+u.deltaX;n.onWheelScroll(f),CF(f,h)&&u.preventDefault()}},onResize:()=>{l.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Gx(o.paddingLeft),paddingEnd:Gx(o.paddingRight)}})}})}),Ihe=b.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...i}=n,s=ps(Ko,n.__scopeScrollArea),[o,a]=b.useState(),l=b.useRef(null),c=Je(e,l,s.onScrollbarYChange);return b.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),d.jsx(SF,{"data-orientation":"vertical",...i,ref:c,sizes:t,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Kb(t)+"px",...n.style},onThumbPointerDown:u=>n.onThumbPointerDown(u.y),onDragScroll:u=>n.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(s.viewport){const f=s.viewport.scrollTop+u.deltaY;n.onWheelScroll(f),CF(f,h)&&u.preventDefault()}},onResize:()=>{l.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Gx(o.paddingTop),paddingEnd:Gx(o.paddingBottom)}})}})}),[$he,bF]=OF(Ko),SF=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:h,...f}=n,m=ps(Ko,t),[g,y]=b.useState(null),x=Je(e,k=>y(k)),S=b.useRef(null),_=b.useRef(""),T=m.viewport,I=r.content-r.viewport,C=Yt(u),Q=Yt(l),O=Jb(h,10);function w(k){if(S.current){const R=k.clientX-S.current.left,P=k.clientY-S.current.top;c({x:R,y:P})}}return b.useEffect(()=>{const k=R=>{const P=R.target;(g==null?void 0:g.contains(P))&&C(R,I)};return document.addEventListener("wheel",k,{passive:!1}),()=>document.removeEventListener("wheel",k,{passive:!1})},[T,g,I,C]),b.useEffect(Q,[r,Q]),Gd(g,O),Gd(m.content,O),d.jsx($he,{scope:t,scrollbar:g,hasThumb:i,onThumbChange:Yt(s),onThumbPointerUp:Yt(o),onThumbPositionChange:Q,onThumbPointerDown:Yt(a),children:d.jsx(Ae.div,{...f,ref:x,style:{position:"absolute",...f.style},onPointerDown:he(n.onPointerDown,k=>{k.button===0&&(k.target.setPointerCapture(k.pointerId),S.current=g.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),w(k))}),onPointerMove:he(n.onPointerMove,w),onPointerUp:he(n.onPointerUp,k=>{const R=k.target;R.hasPointerCapture(k.pointerId)&&R.releasePointerCapture(k.pointerId),document.body.style.webkitUserSelect=_.current,m.viewport&&(m.viewport.style.scrollBehavior=""),S.current=null})})})}),Xx="ScrollAreaThumb",kF=b.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=bF(Xx,n.__scopeScrollArea);return d.jsx(Kr,{present:t||i.hasThumb,children:d.jsx(Nhe,{ref:e,...r})})}),Nhe=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,style:r,...i}=n,s=ps(Xx,t),o=bF(Xx,t),{onThumbPositionChange:a}=o,l=Je(e,h=>o.onThumbChange(h)),c=b.useRef(),u=Jb(()=>{c.current&&(c.current(),c.current=void 0)},100);return b.useEffect(()=>{const h=s.viewport;if(h){const f=()=>{if(u(),!c.current){const m=Mhe(h,a);c.current=m,a()}};return a(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[s.viewport,u,a]),d.jsx(Ae.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:he(n.onPointerDownCapture,h=>{const m=h.target.getBoundingClientRect(),g=h.clientX-m.left,y=h.clientY-m.top;o.onThumbPointerDown({x:g,y})}),onPointerUp:he(n.onPointerUp,o.onThumbPointerUp)})});kF.displayName=Xx;var oQ="ScrollAreaCorner",_F=b.forwardRef((n,e)=>{const t=ps(oQ,n.__scopeScrollArea),r=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&r?d.jsx(jhe,{...n,ref:e}):null});_F.displayName=oQ;var jhe=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,...r}=n,i=ps(oQ,t),[s,o]=b.useState(0),[a,l]=b.useState(0),c=!!(s&&a);return Gd(i.scrollbarX,()=>{var h;const u=((h=i.scrollbarX)==null?void 0:h.offsetHeight)||0;i.onCornerHeightChange(u),l(u)}),Gd(i.scrollbarY,()=>{var h;const u=((h=i.scrollbarY)==null?void 0:h.offsetWidth)||0;i.onCornerWidthChange(u),o(u)}),c?d.jsx(Ae.div,{...r,ref:e,style:{width:s,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...n.style}}):null});function Gx(n){return n?parseInt(n,10):0}function TF(n,e){const t=n/e;return isNaN(t)?0:t}function Kb(n){const e=TF(n.viewport,n.content),t=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,r=(n.scrollbar.size-t)*e;return Math.max(r,18)}function Dhe(n,e,t,r="ltr"){const i=Kb(t),s=i/2,o=e||s,a=i-o,l=t.scrollbar.paddingStart+o,c=t.scrollbar.size-t.scrollbar.paddingEnd-a,u=t.content-t.viewport,h=r==="ltr"?[0,u]:[u*-1,0];return PF([l,c],h)(n)}function yD(n,e,t="ltr"){const r=Kb(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,o=e.content-e.viewport,a=s-r,l=t==="ltr"?[0,o]:[o*-1,0],c=gg(n,l);return PF([0,o],[0,a])(c)}function PF(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(n[1]-n[0]);return e[0]+r*(t-n[0])}}function CF(n,e){return n>0&&n<e}var Mhe=(n,e=()=>{})=>{let t={left:n.scrollLeft,top:n.scrollTop},r=0;return function i(){const s={left:n.scrollLeft,top:n.scrollTop},o=t.left!==s.left,a=t.top!==s.top;(o||a)&&e(),t=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Jb(n,e){const t=Yt(n),r=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),b.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(t,e)},[t,e])}function Gd(n,e){const t=Yt(e);Fn(()=>{let r=0;if(n){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(t)});return i.observe(n),()=>{window.cancelAnimationFrame(r),i.unobserve(n)}}},[n,t])}function Vhe(n,e){const{asChild:t,children:r}=n;if(!t)return typeof e=="function"?e(r):e;const i=b.Children.only(r);return b.cloneElement(i,{children:typeof e=="function"?e(i.props.children):e})}var EF=yF,Lhe=xF,Uhe=_F;const AF=b.forwardRef(({className:n,children:e,...t},r)=>d.jsxs(EF,{ref:r,className:Te("relative overflow-hidden",n),...t,children:[d.jsx(Lhe,{className:"h-full w-full rounded-[inherit]",children:e}),d.jsx(RF,{}),d.jsx(Uhe,{})]}));AF.displayName=EF.displayName;const RF=b.forwardRef(({className:n,orientation:e="vertical",...t},r)=>d.jsx(iQ,{ref:r,orientation:e,className:Te("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",n),...t,children:d.jsx(kF,{className:"relative flex-1 rounded-full bg-border"})}));RF.displayName=iQ.displayName;var zhe="Separator",vD="horizontal",qhe=["horizontal","vertical"],QF=b.forwardRef((n,e)=>{const{decorative:t,orientation:r=vD,...i}=n,s=Zhe(r)?r:vD,a=t?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return d.jsx(Ae.div,{"data-orientation":s,...a,...i,ref:e})});QF.displayName=zhe;function Zhe(n){return qhe.includes(n)}var IF=QF;const hv=b.forwardRef(({className:n,orientation:e="horizontal",decorative:t=!0,...r},i)=>d.jsx(IF,{ref:i,decorative:t,orientation:e,className:Te("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",n),...r}));hv.displayName=IF.displayName;const Fhe=WO("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Vn({className:n,variant:e,...t}){return d.jsx("div",{className:Te(Fhe({variant:e}),n),...t})}var XO=n=>n.type==="checkbox",du=n=>n instanceof Date,Ur=n=>n==null;const $F=n=>typeof n=="object";var xn=n=>!Ur(n)&&!Array.isArray(n)&&$F(n)&&!du(n),NF=n=>xn(n)&&n.target?XO(n.target)?n.target.checked:n.target.value:n,Bhe=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,jF=(n,e)=>n.has(Bhe(e)),Whe=n=>{const e=n.constructor&&n.constructor.prototype;return xn(e)&&e.hasOwnProperty("isPrototypeOf")},aQ=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ei(n){let e;const t=Array.isArray(n);if(n instanceof Date)e=new Date(n);else if(n instanceof Set)e=new Set(n);else if(!(aQ&&(n instanceof Blob||n instanceof FileList))&&(t||xn(n)))if(e=t?[]:{},!t&&!Whe(n))e=n;else for(const r in n)n.hasOwnProperty(r)&&(e[r]=ei(n[r]));else return n;return e}var eS=n=>Array.isArray(n)?n.filter(Boolean):[],un=n=>n===void 0,me=(n,e,t)=>{if(!e||!xn(n))return t;const r=eS(e.split(/[,[\].]+?/)).reduce((i,s)=>Ur(i)?i:i[s],n);return un(r)||r===n?un(n[e])?t:n[e]:r},Ki=n=>typeof n=="boolean",lQ=n=>/^\w*$/.test(n),DF=n=>eS(n.replace(/["|']|\]/g,"").split(/\.|\[/)),bt=(n,e,t)=>{let r=-1;const i=lQ(e)?[e]:DF(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=t;if(r!==o){const c=n[a];l=xn(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}if(a==="__proto__")return;n[a]=l,n=n[a]}return n};const Yx={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ks={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},aa={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},MF=rt.createContext(null),tS=()=>rt.useContext(MF),Xhe=n=>{const{children:e,...t}=n;return rt.createElement(MF.Provider,{value:t},e)};var VF=(n,e,t,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in n)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==ks.all&&(e._proxyFormState[o]=!r||ks.all),t&&(t[o]=!0),n[o]}});return i},ii=n=>xn(n)&&!Object.keys(n).length,LF=(n,e,t,r)=>{t(n);const{name:i,...s}=n;return ii(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||ks.all))},Qm=n=>Array.isArray(n)?n:[n],UF=(n,e,t)=>!n||!e||n===e||Qm(n).some(r=>r&&(t?r===e:r.startsWith(e)||e.startsWith(r)));function cQ(n){const e=rt.useRef(n);e.current=n,rt.useEffect(()=>{const t=!n.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{t&&t.unsubscribe()}},[n.disabled])}function Ghe(n){const e=tS(),{control:t=e.control,disabled:r,name:i,exact:s}=n||{},[o,a]=rt.useState(t._formState),l=rt.useRef(!0),c=rt.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=rt.useRef(i);return u.current=i,cQ({disabled:r,next:h=>l.current&&UF(u.current,h.name,s)&&LF(h,c.current,t._updateFormState)&&a({...t._formState,...h}),subject:t._subjects.state}),rt.useEffect(()=>(l.current=!0,c.current.isValid&&t._updateValid(!0),()=>{l.current=!1}),[t]),VF(o,t,c.current,!1)}var ho=n=>typeof n=="string",zF=(n,e,t,r,i)=>ho(n)?(r&&e.watch.add(n),me(t,n,i)):Array.isArray(n)?n.map(s=>(r&&e.watch.add(s),me(t,s))):(r&&(e.watchAll=!0),t);function Yhe(n){const e=tS(),{control:t=e.control,name:r,defaultValue:i,disabled:s,exact:o}=n||{},a=rt.useRef(r);a.current=r,cQ({disabled:s,subject:t._subjects.values,next:u=>{UF(a.current,u.name,o)&&c(ei(zF(a.current,t._names,u.values||t._formValues,!1,i)))}});const[l,c]=rt.useState(t._getWatch(r,i));return rt.useEffect(()=>t._removeUnmounted()),l}function Hhe(n){const e=tS(),{name:t,disabled:r,control:i=e.control,shouldUnregister:s}=n,o=jF(i._names.array,t),a=Yhe({control:i,name:t,defaultValue:me(i._formValues,t,me(i._defaultValues,t,n.defaultValue)),exact:!0}),l=Ghe({control:i,name:t,exact:!0}),c=rt.useRef(i.register(t,{...n.rules,value:a,...Ki(n.disabled)?{disabled:n.disabled}:{}}));return rt.useEffect(()=>{const u=i._options.shouldUnregister||s,h=(f,m)=>{const g=me(i._fields,f);g&&g._f&&(g._f.mount=m)};if(h(t,!0),u){const f=ei(me(i._options.defaultValues,t));bt(i._defaultValues,t,f),un(me(i._formValues,t))&&bt(i._formValues,t,f)}return()=>{(o?u&&!i._state.action:u)?i.unregister(t):h(t,!1)}},[t,i,o,s]),rt.useEffect(()=>{me(i._fields,t)&&i._updateDisabledField({disabled:r,fields:i._fields,name:t,value:me(i._fields,t)._f.value})},[r,t,i]),{field:{name:t,value:a,...Ki(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:rt.useCallback(u=>c.current.onChange({target:{value:NF(u),name:t},type:Yx.CHANGE}),[t]),onBlur:rt.useCallback(()=>c.current.onBlur({target:{value:me(i._formValues,t),name:t},type:Yx.BLUR}),[t,i]),ref:rt.useCallback(u=>{const h=me(i._fields,t);h&&u&&(h._f.ref={focus:()=>u.focus(),select:()=>u.select(),setCustomValidity:f=>u.setCustomValidity(f),reportValidity:()=>u.reportValidity()})},[i._fields,t])},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!me(l.errors,t)},isDirty:{enumerable:!0,get:()=>!!me(l.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!me(l.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!me(l.validatingFields,t)},error:{enumerable:!0,get:()=>me(l.errors,t)}})}}const Khe=n=>n.render(Hhe(n));var qF=(n,e,t,r,i)=>e?{...t[n],types:{...t[n]&&t[n].types?t[n].types:{},[r]:i||!0}}:{},xD=n=>({isOnSubmit:!n||n===ks.onSubmit,isOnBlur:n===ks.onBlur,isOnChange:n===ks.onChange,isOnAll:n===ks.all,isOnTouch:n===ks.onTouched}),wD=(n,e,t)=>!t&&(e.watchAll||e.watch.has(n)||[...e.watch].some(r=>n.startsWith(r)&&/^\.\w+/.test(n.slice(r.length))));const Im=(n,e,t,r)=>{for(const i of t||Object.keys(n)){const s=me(n,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Im(a,e))break}else if(xn(a)&&Im(a,e))break}}};var Jhe=(n,e,t)=>{const r=Qm(me(n,t));return bt(r,"root",e[t]),bt(n,t,r),n},uQ=n=>n.type==="file",Ca=n=>typeof n=="function",Hx=n=>{if(!aQ)return!1;const e=n?n.ownerDocument:0;return n instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},dv=n=>ho(n),hQ=n=>n.type==="radio",Kx=n=>n instanceof RegExp;const bD={value:!1,isValid:!1},SD={value:!0,isValid:!0};var ZF=n=>{if(Array.isArray(n)){if(n.length>1){const e=n.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!un(n[0].attributes.value)?un(n[0].value)||n[0].value===""?SD:{value:n[0].value,isValid:!0}:SD:bD}return bD};const kD={isValid:!1,value:null};var FF=n=>Array.isArray(n)?n.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,kD):kD;function _D(n,e,t="validate"){if(dv(n)||Array.isArray(n)&&n.every(dv)||Ki(n)&&!n)return{type:t,message:dv(n)?n:"",ref:e}}var xh=n=>xn(n)&&!Kx(n)?n:{value:n,message:""},TD=async(n,e,t,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:c,min:u,max:h,pattern:f,validate:m,name:g,valueAsNumber:y,mount:x,disabled:S}=n._f,_=me(e,g);if(!x||S)return{};const T=o?o[0]:s,I=v=>{r&&T.reportValidity&&(T.setCustomValidity(Ki(v)?"":v||""),T.reportValidity())},C={},Q=hQ(s),O=XO(s),w=Q||O,k=(y||uQ(s))&&un(s.value)&&un(_)||Hx(s)&&s.value===""||_===""||Array.isArray(_)&&!_.length,R=qF.bind(null,g,t,C),P=(v,A,j,V=aa.maxLength,U=aa.minLength)=>{const W=v?A:j;C[g]={type:v?V:U,message:W,ref:s,...R(v?V:U,W)}};if(i?!Array.isArray(_)||!_.length:a&&(!w&&(k||Ur(_))||Ki(_)&&!_||O&&!ZF(o).isValid||Q&&!FF(o).isValid)){const{value:v,message:A}=dv(a)?{value:!!a,message:a}:xh(a);if(v&&(C[g]={type:aa.required,message:A,ref:T,...R(aa.required,A)},!t))return I(A),C}if(!k&&(!Ur(u)||!Ur(h))){let v,A;const j=xh(h),V=xh(u);if(!Ur(_)&&!isNaN(_)){const U=s.valueAsNumber||_&&+_;Ur(j.value)||(v=U>j.value),Ur(V.value)||(A=U<V.value)}else{const U=s.valueAsDate||new Date(_),W=Y=>new Date(new Date().toDateString()+" "+Y),D=s.type=="time",L=s.type=="week";ho(j.value)&&_&&(v=D?W(_)>W(j.value):L?_>j.value:U>new Date(j.value)),ho(V.value)&&_&&(A=D?W(_)<W(V.value):L?_<V.value:U<new Date(V.value))}if((v||A)&&(P(!!v,j.message,V.message,aa.max,aa.min),!t))return I(C[g].message),C}if((l||c)&&!k&&(ho(_)||i&&Array.isArray(_))){const v=xh(l),A=xh(c),j=!Ur(v.value)&&_.length>+v.value,V=!Ur(A.value)&&_.length<+A.value;if((j||V)&&(P(j,v.message,A.message),!t))return I(C[g].message),C}if(f&&!k&&ho(_)){const{value:v,message:A}=xh(f);if(Kx(v)&&!_.match(v)&&(C[g]={type:aa.pattern,message:A,ref:s,...R(aa.pattern,A)},!t))return I(A),C}if(m){if(Ca(m)){const v=await m(_,e),A=_D(v,T);if(A&&(C[g]={...A,...R(aa.validate,A.message)},!t))return I(A.message),C}else if(xn(m)){let v={};for(const A in m){if(!ii(v)&&!t)break;const j=_D(await m[A](_,e),T,A);j&&(v={...j,...R(A,j.message)},I(j.message),t&&(C[g]=v))}if(!ii(v)&&(C[g]={ref:T,...v},!t))return C}}return I(!0),C};function ede(n,e){const t=e.slice(0,-1).length;let r=0;for(;r<t;)n=un(n)?r++:n[e[r++]];return n}function tde(n){for(const e in n)if(n.hasOwnProperty(e)&&!un(n[e]))return!1;return!0}function In(n,e){const t=Array.isArray(e)?e:lQ(e)?[e]:DF(e),r=t.length===1?n:ede(n,t),i=t.length-1,s=t[i];return r&&delete r[s],i!==0&&(xn(r)&&ii(r)||Array.isArray(r)&&tde(r))&&In(n,t.slice(0,-1)),n}var H1=()=>{let n=[];return{get observers(){return n},next:i=>{for(const s of n)s.next&&s.next(i)},subscribe:i=>(n.push(i),{unsubscribe:()=>{n=n.filter(s=>s!==i)}}),unsubscribe:()=>{n=[]}}},fP=n=>Ur(n)||!$F(n);function Cl(n,e){if(fP(n)||fP(e))return n===e;if(du(n)&&du(e))return n.getTime()===e.getTime();const t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(const i of t){const s=n[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(du(s)&&du(o)||xn(s)&&xn(o)||Array.isArray(s)&&Array.isArray(o)?!Cl(s,o):s!==o)return!1}}return!0}var BF=n=>n.type==="select-multiple",nde=n=>hQ(n)||XO(n),K1=n=>Hx(n)&&n.isConnected,WF=n=>{for(const e in n)if(Ca(n[e]))return!0;return!1};function Jx(n,e={}){const t=Array.isArray(n);if(xn(n)||t)for(const r in n)Array.isArray(n[r])||xn(n[r])&&!WF(n[r])?(e[r]=Array.isArray(n[r])?[]:{},Jx(n[r],e[r])):Ur(n[r])||(e[r]=!0);return e}function XF(n,e,t){const r=Array.isArray(n);if(xn(n)||r)for(const i in n)Array.isArray(n[i])||xn(n[i])&&!WF(n[i])?un(e)||fP(t[i])?t[i]=Array.isArray(n[i])?Jx(n[i],[]):{...Jx(n[i])}:XF(n[i],Ur(e)?{}:e[i],t[i]):t[i]=!Cl(n[i],e[i]);return t}var wp=(n,e)=>XF(n,e,Jx(e)),GF=(n,{valueAsNumber:e,valueAsDate:t,setValueAs:r})=>un(n)?n:e?n===""?NaN:n&&+n:t&&ho(n)?new Date(n):r?r(n):n;function J1(n){const e=n.ref;if(!(n.refs?n.refs.every(t=>t.disabled):e.disabled))return uQ(e)?e.files:hQ(e)?FF(n.refs).value:BF(e)?[...e.selectedOptions].map(({value:t})=>t):XO(e)?ZF(n.refs).value:GF(un(e.value)?n.ref.value:e.value,n)}var rde=(n,e,t,r)=>{const i={};for(const s of n){const o=me(e,s);o&&bt(i,s,o._f)}return{criteriaMode:t,names:[...n],fields:i,shouldUseNativeValidation:r}},bp=n=>un(n)?n:Kx(n)?n.source:xn(n)?Kx(n.value)?n.value.source:n.value:n;const PD="AsyncFunction";var ide=n=>(!n||!n.validate)&&!!(Ca(n.validate)&&n.validate.constructor.name===PD||xn(n.validate)&&Object.values(n.validate).find(e=>e.constructor.name===PD)),sde=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate);function CD(n,e,t){const r=me(n,t);if(r||lQ(t))return{error:r,name:t};const i=t.split(".");for(;i.length;){const s=i.join("."),o=me(e,s),a=me(n,s);if(o&&!Array.isArray(o)&&t!==s)return{name:t};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:t}}var ode=(n,e,t,r,i)=>i.isOnAll?!1:!t&&i.isOnTouch?!(e||n):(t?r.isOnBlur:i.isOnBlur)?!n:(t?r.isOnChange:i.isOnChange)?n:!0,ade=(n,e)=>!eS(me(n,e)).length&&In(n,e);const lde={mode:ks.onSubmit,reValidateMode:ks.onChange,shouldFocusError:!0};function cde(n={}){let e={...lde,...n},t={submitCount:0,isDirty:!1,isLoading:Ca(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=xn(e.defaultValues)||xn(e.values)?ei(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:ei(i),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:H1(),array:H1(),state:H1()},f=xD(e.mode),m=xD(e.reValidateMode),g=e.criteriaMode===ks.all,y=z=>X=>{clearTimeout(c),c=setTimeout(z,X)},x=async z=>{if(!n.disabled&&(u.isValid||z)){const X=e.resolver?ii((await w()).errors):await R(r,!0);X!==t.isValid&&h.state.next({isValid:X})}},S=(z,X)=>{!n.disabled&&(u.isValidating||u.validatingFields)&&((z||Array.from(a.mount)).forEach(K=>{K&&(X?bt(t.validatingFields,K,X):In(t.validatingFields,K))}),h.state.next({validatingFields:t.validatingFields,isValidating:!ii(t.validatingFields)}))},_=(z,X=[],K,ve,ge=!0,ue=!0)=>{if(ve&&K&&!n.disabled){if(o.action=!0,ue&&Array.isArray(me(r,z))){const Qe=K(me(r,z),ve.argA,ve.argB);ge&&bt(r,z,Qe)}if(ue&&Array.isArray(me(t.errors,z))){const Qe=K(me(t.errors,z),ve.argA,ve.argB);ge&&bt(t.errors,z,Qe),ade(t.errors,z)}if(u.touchedFields&&ue&&Array.isArray(me(t.touchedFields,z))){const Qe=K(me(t.touchedFields,z),ve.argA,ve.argB);ge&&bt(t.touchedFields,z,Qe)}u.dirtyFields&&(t.dirtyFields=wp(i,s)),h.state.next({name:z,isDirty:v(z,X),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else bt(s,z,X)},T=(z,X)=>{bt(t.errors,z,X),h.state.next({errors:t.errors})},I=z=>{t.errors=z,h.state.next({errors:t.errors,isValid:!1})},C=(z,X,K,ve)=>{const ge=me(r,z);if(ge){const ue=me(s,z,un(K)?me(i,z):K);un(ue)||ve&&ve.defaultChecked||X?bt(s,z,X?ue:J1(ge._f)):V(z,ue),o.mount&&x()}},Q=(z,X,K,ve,ge)=>{let ue=!1,Qe=!1;const He={name:z};if(!n.disabled){const ht=!!(me(r,z)&&me(r,z)._f&&me(r,z)._f.disabled);if(!K||ve){u.isDirty&&(Qe=t.isDirty,t.isDirty=He.isDirty=v(),ue=Qe!==He.isDirty);const mt=ht||Cl(me(i,z),X);Qe=!!(!ht&&me(t.dirtyFields,z)),mt||ht?In(t.dirtyFields,z):bt(t.dirtyFields,z,!0),He.dirtyFields=t.dirtyFields,ue=ue||u.dirtyFields&&Qe!==!mt}if(K){const mt=me(t.touchedFields,z);mt||(bt(t.touchedFields,z,K),He.touchedFields=t.touchedFields,ue=ue||u.touchedFields&&mt!==K)}ue&&ge&&h.state.next(He)}return ue?He:{}},O=(z,X,K,ve)=>{const ge=me(t.errors,z),ue=u.isValid&&Ki(X)&&t.isValid!==X;if(n.delayError&&K?(l=y(()=>T(z,K)),l(n.delayError)):(clearTimeout(c),l=null,K?bt(t.errors,z,K):In(t.errors,z)),(K?!Cl(ge,K):ge)||!ii(ve)||ue){const Qe={...ve,...ue&&Ki(X)?{isValid:X}:{},errors:t.errors,name:z};t={...t,...Qe},h.state.next(Qe)}},w=async z=>{S(z,!0);const X=await e.resolver(s,e.context,rde(z||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return S(z),X},k=async z=>{const{errors:X}=await w(z);if(z)for(const K of z){const ve=me(X,K);ve?bt(t.errors,K,ve):In(t.errors,K)}else t.errors=X;return X},R=async(z,X,K={valid:!0})=>{for(const ve in z){const ge=z[ve];if(ge){const{_f:ue,...Qe}=ge;if(ue){const He=a.array.has(ue.name),ht=ge._f&&ide(ge._f);ht&&u.validatingFields&&S([ve],!0);const mt=await TD(ge,s,g,e.shouldUseNativeValidation&&!X,He);if(ht&&u.validatingFields&&S([ve]),mt[ue.name]&&(K.valid=!1,X))break;!X&&(me(mt,ue.name)?He?Jhe(t.errors,mt,ue.name):bt(t.errors,ue.name,mt[ue.name]):In(t.errors,ue.name))}!ii(Qe)&&await R(Qe,X,K)}}return K.valid},P=()=>{for(const z of a.unMount){const X=me(r,z);X&&(X._f.refs?X._f.refs.every(K=>!K1(K)):!K1(X._f.ref))&&oe(z)}a.unMount=new Set},v=(z,X)=>!n.disabled&&(z&&X&&bt(s,z,X),!Cl(F(),i)),A=(z,X,K)=>zF(z,a,{...o.mount?s:un(X)?i:ho(z)?{[z]:X}:X},K,X),j=z=>eS(me(o.mount?s:i,z,n.shouldUnregister?me(i,z,[]):[])),V=(z,X,K={})=>{const ve=me(r,z);let ge=X;if(ve){const ue=ve._f;ue&&(!ue.disabled&&bt(s,z,GF(X,ue)),ge=Hx(ue.ref)&&Ur(X)?"":X,BF(ue.ref)?[...ue.ref.options].forEach(Qe=>Qe.selected=ge.includes(Qe.value)):ue.refs?XO(ue.ref)?ue.refs.length>1?ue.refs.forEach(Qe=>(!Qe.defaultChecked||!Qe.disabled)&&(Qe.checked=Array.isArray(ge)?!!ge.find(He=>He===Qe.value):ge===Qe.value)):ue.refs[0]&&(ue.refs[0].checked=!!ge):ue.refs.forEach(Qe=>Qe.checked=Qe.value===ge):uQ(ue.ref)?ue.ref.value="":(ue.ref.value=ge,ue.ref.type||h.values.next({name:z,values:{...s}})))}(K.shouldDirty||K.shouldTouch)&&Q(z,ge,K.shouldTouch,K.shouldDirty,!0),K.shouldValidate&&Y(z)},U=(z,X,K)=>{for(const ve in X){const ge=X[ve],ue=`${z}.${ve}`,Qe=me(r,ue);(a.array.has(z)||xn(ge)||Qe&&!Qe._f)&&!du(ge)?U(ue,ge,K):V(ue,ge,K)}},W=(z,X,K={})=>{const ve=me(r,z),ge=a.array.has(z),ue=ei(X);bt(s,z,ue),ge?(h.array.next({name:z,values:{...s}}),(u.isDirty||u.dirtyFields)&&K.shouldDirty&&h.state.next({name:z,dirtyFields:wp(i,s),isDirty:v(z,ue)})):ve&&!ve._f&&!Ur(ue)?U(z,ue,K):V(z,ue,K),wD(z,a)&&h.state.next({...t}),h.values.next({name:o.mount?z:void 0,values:{...s}})},D=async z=>{o.mount=!0;const X=z.target;let K=X.name,ve=!0;const ge=me(r,K),ue=()=>X.type?J1(ge._f):NF(z),Qe=He=>{ve=Number.isNaN(He)||du(He)&&isNaN(He.getTime())||Cl(He,me(s,K,He))};if(ge){let He,ht;const mt=ue(),Xi=z.type===Yx.BLUR||z.type===Yx.FOCUS_OUT,uy=!sde(ge._f)&&!e.resolver&&!me(t.errors,K)&&!ge._f.deps||ode(Xi,me(t.touchedFields,K),t.isSubmitted,m,f),uh=wD(K,a,Xi);bt(s,K,mt),Xi?(ge._f.onBlur&&ge._f.onBlur(z),l&&l(0)):ge._f.onChange&&ge._f.onChange(z);const Yf=Q(K,mt,Xi,!1),Gc=!ii(Yf)||uh;if(!Xi&&h.values.next({name:K,type:z.type,values:{...s}}),uy)return u.isValid&&(n.mode==="onBlur"?Xi&&x():x()),Gc&&h.state.next({name:K,...uh?{}:Yf});if(!Xi&&uh&&h.state.next({...t}),e.resolver){const{errors:Hf}=await w([K]);if(Qe(mt),ve){const hy=CD(t.errors,r,K),hh=CD(Hf,r,hy.name||K);He=hh.error,K=hh.name,ht=ii(Hf)}}else S([K],!0),He=(await TD(ge,s,g,e.shouldUseNativeValidation))[K],S([K]),Qe(mt),ve&&(He?ht=!1:u.isValid&&(ht=await R(r,!0)));ve&&(ge._f.deps&&Y(ge._f.deps),O(K,ht,He,Yf))}},L=(z,X)=>{if(me(t.errors,X)&&z.focus)return z.focus(),1},Y=async(z,X={})=>{let K,ve;const ge=Qm(z);if(e.resolver){const ue=await k(un(z)?z:ge);K=ii(ue),ve=z?!ge.some(Qe=>me(ue,Qe)):K}else z?(ve=(await Promise.all(ge.map(async ue=>{const Qe=me(r,ue);return await R(Qe&&Qe._f?{[ue]:Qe}:Qe)}))).every(Boolean),!(!ve&&!t.isValid)&&x()):ve=K=await R(r);return h.state.next({...!ho(z)||u.isValid&&K!==t.isValid?{}:{name:z},...e.resolver||!z?{isValid:K}:{},errors:t.errors}),X.shouldFocus&&!ve&&Im(r,L,z?ge:a.mount),ve},F=z=>{const X={...o.mount?s:i};return un(z)?X:ho(z)?me(X,z):z.map(K=>me(X,K))},Z=(z,X)=>({invalid:!!me((X||t).errors,z),isDirty:!!me((X||t).dirtyFields,z),error:me((X||t).errors,z),isValidating:!!me(t.validatingFields,z),isTouched:!!me((X||t).touchedFields,z)}),G=z=>{z&&Qm(z).forEach(X=>In(t.errors,X)),h.state.next({errors:z?t.errors:{}})},J=(z,X,K)=>{const ve=(me(r,z,{_f:{}})._f||{}).ref,ge=me(t.errors,z)||{},{ref:ue,message:Qe,type:He,...ht}=ge;bt(t.errors,z,{...ht,...X,ref:ve}),h.state.next({name:z,errors:t.errors,isValid:!1}),K&&K.shouldFocus&&ve&&ve.focus&&ve.focus()},ae=(z,X)=>Ca(z)?h.values.subscribe({next:K=>z(A(void 0,X),K)}):A(z,X,!0),oe=(z,X={})=>{for(const K of z?Qm(z):a.mount)a.mount.delete(K),a.array.delete(K),X.keepValue||(In(r,K),In(s,K)),!X.keepError&&In(t.errors,K),!X.keepDirty&&In(t.dirtyFields,K),!X.keepTouched&&In(t.touchedFields,K),!X.keepIsValidating&&In(t.validatingFields,K),!e.shouldUnregister&&!X.keepDefaultValue&&In(i,K);h.values.next({values:{...s}}),h.state.next({...t,...X.keepDirty?{isDirty:v()}:{}}),!X.keepIsValid&&x()},re=({disabled:z,name:X,field:K,fields:ve,value:ge})=>{if(Ki(z)&&o.mount||z){const ue=z?void 0:un(ge)?J1(K?K._f:me(ve,X)._f):ge;bt(s,X,ue),Q(X,ue,!1,!1,!0)}},ct=(z,X={})=>{let K=me(r,z);const ve=Ki(X.disabled)||Ki(n.disabled);return bt(r,z,{...K||{},_f:{...K&&K._f?K._f:{ref:{name:z}},name:z,mount:!0,...X}}),a.mount.add(z),K?re({field:K,disabled:Ki(X.disabled)?X.disabled:n.disabled,name:z,value:X.value}):C(z,!0,X.value),{...ve?{disabled:X.disabled||n.disabled}:{},...e.progressive?{required:!!X.required,min:bp(X.min),max:bp(X.max),minLength:bp(X.minLength),maxLength:bp(X.maxLength),pattern:bp(X.pattern)}:{},name:z,onChange:D,onBlur:D,ref:ge=>{if(ge){ct(z,X),K=me(r,z);const ue=un(ge.value)&&ge.querySelectorAll&&ge.querySelectorAll("input,select,textarea")[0]||ge,Qe=nde(ue),He=K._f.refs||[];if(Qe?He.find(ht=>ht===ue):ue===K._f.ref)return;bt(r,z,{_f:{...K._f,...Qe?{refs:[...He.filter(K1),ue,...Array.isArray(me(i,z))?[{}]:[]],ref:{type:ue.type,name:z}}:{ref:ue}}}),C(z,!1,void 0,ue)}else K=me(r,z,{}),K._f&&(K._f.mount=!1),(e.shouldUnregister||X.shouldUnregister)&&!(jF(a.array,z)&&o.action)&&a.unMount.add(z)}}},ut=()=>e.shouldFocusError&&Im(r,L,a.mount),Ce=z=>{Ki(z)&&(h.state.next({disabled:z}),Im(r,(X,K)=>{const ve=me(r,K);ve&&(X.disabled=ve._f.disabled||z,Array.isArray(ve._f.refs)&&ve._f.refs.forEach(ge=>{ge.disabled=ve._f.disabled||z}))},0,!1))},Ze=(z,X)=>async K=>{let ve;K&&(K.preventDefault&&K.preventDefault(),K.persist&&K.persist());let ge=ei(s);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:ue,values:Qe}=await w();t.errors=ue,ge=Qe}else await R(r);if(In(t.errors,"root"),ii(t.errors)){h.state.next({errors:{}});try{await z(ge,K)}catch(ue){ve=ue}}else X&&await X({...t.errors},K),ut(),setTimeout(ut);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ii(t.errors)&&!ve,submitCount:t.submitCount+1,errors:t.errors}),ve)throw ve},Ge=(z,X={})=>{me(r,z)&&(un(X.defaultValue)?W(z,ei(me(i,z))):(W(z,X.defaultValue),bt(i,z,ei(X.defaultValue))),X.keepTouched||In(t.touchedFields,z),X.keepDirty||(In(t.dirtyFields,z),t.isDirty=X.defaultValue?v(z,ei(me(i,z))):v()),X.keepError||(In(t.errors,z),u.isValid&&x()),h.state.next({...t}))},Lt=(z,X={})=>{const K=z?ei(z):i,ve=ei(K),ge=ii(z),ue=ge?i:ve;if(X.keepDefaultValues||(i=K),!X.keepValues){if(X.keepDirtyValues){const Qe=new Set([...a.mount,...Object.keys(wp(i,s))]);for(const He of Array.from(Qe))me(t.dirtyFields,He)?bt(ue,He,me(s,He)):W(He,me(ue,He))}else{if(aQ&&un(z))for(const Qe of a.mount){const He=me(r,Qe);if(He&&He._f){const ht=Array.isArray(He._f.refs)?He._f.refs[0]:He._f.ref;if(Hx(ht)){const mt=ht.closest("form");if(mt){mt.reset();break}}}}r={}}s=n.shouldUnregister?X.keepDefaultValues?ei(i):{}:ei(ue),h.array.next({values:{...ue}}),h.values.next({values:{...ue}})}a={mount:X.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!X.keepIsValid||!!X.keepDirtyValues,o.watch=!!n.shouldUnregister,h.state.next({submitCount:X.keepSubmitCount?t.submitCount:0,isDirty:ge?!1:X.keepDirty?t.isDirty:!!(X.keepDefaultValues&&!Cl(z,i)),isSubmitted:X.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:ge?{}:X.keepDirtyValues?X.keepDefaultValues&&s?wp(i,s):t.dirtyFields:X.keepDefaultValues&&z?wp(i,z):X.keepDirty?t.dirtyFields:{},touchedFields:X.keepTouched?t.touchedFields:{},errors:X.keepErrors?t.errors:{},isSubmitSuccessful:X.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},kn=(z,X)=>Lt(Ca(z)?z(s):z,X);return{control:{register:ct,unregister:oe,getFieldState:Z,handleSubmit:Ze,setError:J,_executeSchema:w,_getWatch:A,_getDirty:v,_updateValid:x,_removeUnmounted:P,_updateFieldArray:_,_updateDisabledField:re,_getFieldArray:j,_reset:Lt,_resetDefaultValues:()=>Ca(e.defaultValues)&&e.defaultValues().then(z=>{kn(z,e.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:z=>{t={...t,...z}},_disableForm:Ce,_subjects:h,_proxyFormState:u,_setErrors:I,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(z){o=z},get _defaultValues(){return i},get _names(){return a},set _names(z){a=z},get _formState(){return t},set _formState(z){t=z},get _options(){return e},set _options(z){e={...e,...z}}},trigger:Y,register:ct,handleSubmit:Ze,watch:ae,setValue:W,getValues:F,reset:kn,resetField:Ge,clearErrors:G,unregister:oe,setError:J,setFocus:(z,X={})=>{const K=me(r,z),ve=K&&K._f;if(ve){const ge=ve.refs?ve.refs[0]:ve.ref;ge.focus&&(ge.focus(),X.shouldSelect&&ge.select())}},getFieldState:Z}}function nS(n={}){const e=rt.useRef(),t=rt.useRef(),[r,i]=rt.useState({isDirty:!1,isValidating:!1,isLoading:Ca(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,defaultValues:Ca(n.defaultValues)?void 0:n.defaultValues});e.current||(e.current={...cde(n),formState:r});const s=e.current.control;return s._options=n,cQ({subject:s._subjects.state,next:o=>{LF(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),rt.useEffect(()=>s._disableForm(n.disabled),[s,n.disabled]),rt.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),rt.useEffect(()=>{n.values&&!Cl(n.values,t.current)?(s._reset(n.values,s._options.resetOptions),t.current=n.values,i(o=>({...o}))):s._resetDefaultValues()},[n.values,s]),rt.useEffect(()=>{n.errors&&s._setErrors(n.errors)},[n.errors,s]),rt.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),rt.useEffect(()=>{n.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[n.shouldUnregister,s]),rt.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[r]),e.current.formState=VF(r,s),e.current}const ED=(n,e,t)=>{if(n&&"reportValidity"in n){const r=me(t,e);n.setCustomValidity(r&&r.message||""),n.reportValidity()}},YF=(n,e)=>{for(const t in e.fields){const r=e.fields[t];r&&r.ref&&"reportValidity"in r.ref?ED(r.ref,t,n):r.refs&&r.refs.forEach(i=>ED(i,t,n))}},ude=(n,e)=>{e.shouldUseNativeValidation&&YF(n,e);const t={};for(const r in n){const i=me(e.fields,r),s=Object.assign(n[r]||{},{ref:i&&i.ref});if(hde(e.names||Object.keys(n),r)){const o=Object.assign({},me(t,r));bt(o,"root",s),bt(t,r,o)}else bt(t,r,s)}return t},hde=(n,e)=>n.some(t=>t.startsWith(e+"."));var dde=function(n,e){for(var t={};n.length;){var r=n[0],i=r.code,s=r.message,o=r.path.join(".");if(!t[o])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];t[o]={message:a.message,type:a.code}}else t[o]={message:s,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(h){return n.push(h)})}),e){var l=t[o].types,c=l&&l[r.code];t[o]=qF(o,e,t,i,c?[].concat(c,r.message):r.message)}n.shift()}return t},rS=function(n,e,t){return t===void 0&&(t={}),function(r,i,s){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(n[t.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(c){return s.shouldUseNativeValidation&&YF({},s),{errors:{},values:t.raw?r:c}})}catch(c){return a(c)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:ude(dde(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}},Ot;(function(n){n.assertEqual=i=>i;function e(i){}n.assertIs=e;function t(i){throw new Error}n.assertNever=t,n.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},n.getValidEnumValues=i=>{const s=n.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return n.objectValues(o)},n.objectValues=i=>n.objectKeys(i).map(function(s){return i[s]}),n.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},n.find=(i,s)=>{for(const o of i)if(s(o))return o},n.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}n.joinValues=r,n.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Ot||(Ot={}));var pP;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(pP||(pP={}));const ke=Ot.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),El=n=>{switch(typeof n){case"undefined":return ke.undefined;case"string":return ke.string;case"number":return isNaN(n)?ke.nan:ke.number;case"boolean":return ke.boolean;case"function":return ke.function;case"bigint":return ke.bigint;case"symbol":return ke.symbol;case"object":return Array.isArray(n)?ke.array:n===null?ke.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?ke.promise:typeof Map<"u"&&n instanceof Map?ke.map:typeof Set<"u"&&n instanceof Set?ke.set:typeof Date<"u"&&n instanceof Date?ke.date:ke.object;default:return ke.unknown}},ce=Ot.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),fde=n=>JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:");class Vi extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(t(o));else{let a=r,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(t(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return i(this),r}static assert(e){if(!(e instanceof Vi))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ot.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const i of this.issues)i.path.length>0?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}Vi.create=n=>new Vi(n);const Yd=(n,e)=>{let t;switch(n.code){case ce.invalid_type:n.received===ke.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case ce.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,Ot.jsonStringifyReplacer)}`;break;case ce.unrecognized_keys:t=`Unrecognized key(s) in object: ${Ot.joinValues(n.keys,", ")}`;break;case ce.invalid_union:t="Invalid input";break;case ce.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Ot.joinValues(n.options)}`;break;case ce.invalid_enum_value:t=`Invalid enum value. Expected ${Ot.joinValues(n.options)}, received '${n.received}'`;break;case ce.invalid_arguments:t="Invalid function arguments";break;case ce.invalid_return_type:t="Invalid function return type";break;case ce.invalid_date:t="Invalid date";break;case ce.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:Ot.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case ce.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case ce.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case ce.custom:t="Invalid input";break;case ce.invalid_intersection_types:t="Intersection results could not be merged";break;case ce.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case ce.not_finite:t="Number must be finite";break;default:t=e.defaultError,Ot.assertNever(n)}return{message:t}};let HF=Yd;function pde(n){HF=n}function ew(){return HF}const tw=n=>{const{data:e,path:t,errorMaps:r,issueData:i}=n,s=[...t,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...i,path:s,message:a}},mde=[];function xe(n,e){const t=ew(),r=tw({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===Yd?void 0:Yd].filter(i=>!!i)});n.common.issues.push(r)}class Ir{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const i of t){if(i.status==="aborted")return Ue;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const i of t){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return Ir.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const i of t){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return Ue;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const Ue=Object.freeze({status:"aborted"}),Bh=n=>({status:"dirty",value:n}),Gr=n=>({status:"valid",value:n}),mP=n=>n.status==="aborted",gP=n=>n.status==="dirty",Og=n=>n.status==="valid",yg=n=>typeof Promise<"u"&&n instanceof Promise;function nw(n,e,t,r){if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(n)}function KF(n,e,t,r,i){if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,t),t}var Re;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Re||(Re={}));var Yp,Hp;class No{constructor(e,t,r,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const AD=(n,e)=>{if(Og(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Vi(n.common.issues);return this._error=t,this._error}}};function Ye(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:r,description:i}=n;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>{var l,c;const{message:u}=n;return o.code==="invalid_enum_value"?{message:u??a.defaultError}:typeof a.data>"u"?{message:(l=u??r)!==null&&l!==void 0?l:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(c=u??t)!==null&&c!==void 0?c:a.defaultError}},description:i}}class tt{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return El(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:El(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ir,ctx:{common:e.parent.common,data:e.data,parsedType:El(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(yg(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;const i={common:{issues:[],async:(r=t==null?void 0:t.async)!==null&&r!==void 0?r:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:El(e)},s=this._parseSync({data:e,path:i.path,parent:i});return AD(i,s)}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:El(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(yg(i)?i:Promise.resolve(i));return AD(r,s)}refine(e,t){const r=i=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(i):t;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:ce.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,t){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof t=="function"?t(r,i):t),!1))}_refinement(e){return new Vs({schema:this,typeName:Le.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return ko.create(this,this._def)}nullable(){return bc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return $s.create(this,this._def)}promise(){return Kd.create(this,this._def)}or(e){return bg.create([this,e],this._def)}and(e){return Sg.create(this,e,this._def)}transform(e){return new Vs({...Ye(this._def),schema:this,typeName:Le.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new Cg({...Ye(this._def),innerType:this,defaultValue:t,typeName:Le.ZodDefault})}brand(){return new dQ({typeName:Le.ZodBranded,type:this,...Ye(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new Eg({...Ye(this._def),innerType:this,catchValue:t,typeName:Le.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return GO.create(this,e)}readonly(){return Ag.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const gde=/^c[^\s-]{8,}$/i,Ode=/^[0-9a-z]+$/,yde=/^[0-9A-HJKMNP-TV-Z]{26}$/,vde=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,xde=/^[a-z0-9_-]{21}$/i,wde=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,bde=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Sde="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ek;const kde=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,_de=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Tde=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,JF="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Pde=new RegExp(`^${JF}$`);function eB(n){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Cde(n){return new RegExp(`^${eB(n)}$`)}function tB(n){let e=`${JF}T${eB(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function Ede(n,e){return!!((e==="v4"||!e)&&kde.test(n)||(e==="v6"||!e)&&_de.test(n))}class _s extends tt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ke.string){const s=this._getOrReturnCtx(e);return xe(s,{code:ce.invalid_type,expected:ke.string,received:s.parsedType}),Ue}const r=new Ir;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),xe(i,{code:ce.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),xe(i,{code:ce.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?xe(i,{code:ce.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&xe(i,{code:ce.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")bde.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"email",code:ce.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")ek||(ek=new RegExp(Sde,"u")),ek.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"emoji",code:ce.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")vde.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"uuid",code:ce.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")xde.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"nanoid",code:ce.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")gde.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"cuid",code:ce.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")Ode.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"cuid2",code:ce.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")yde.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"ulid",code:ce.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),xe(i,{validation:"url",code:ce.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"regex",code:ce.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),xe(i,{code:ce.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),xe(i,{code:ce.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),xe(i,{code:ce.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?tB(s).test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{code:ce.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?Pde.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{code:ce.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?Cde(s).test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{code:ce.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?wde.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"duration",code:ce.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?Ede(e.data,s.version)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"ip",code:ce.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?Tde.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"base64",code:ce.invalid_string,message:s.message}),r.dirty()):Ot.assertNever(s);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(i=>e.test(i),{validation:t,code:ce.invalid_string,...Re.errToObj(r)})}_addCheck(e){return new _s({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Re.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Re.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Re.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Re.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Re.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Re.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Re.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Re.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Re.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Re.errToObj(e)})}datetime(e){var t,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...Re.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Re.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Re.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Re.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...Re.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Re.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Re.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Re.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Re.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Re.errToObj(t)})}nonempty(e){return this.min(1,Re.errToObj(e))}trim(){return new _s({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new _s({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new _s({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}_s.create=n=>{var e;return new _s({checks:[],typeName:Le.ZodString,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...Ye(n)})};function Ade(n,e){const t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=t>r?t:r,s=parseInt(n.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class vc extends tt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ke.number){const s=this._getOrReturnCtx(e);return xe(s,{code:ce.invalid_type,expected:ke.number,received:s.parsedType}),Ue}let r;const i=new Ir;for(const s of this._def.checks)s.kind==="int"?Ot.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),xe(r,{code:ce.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),xe(r,{code:ce.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),xe(r,{code:ce.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?Ade(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),xe(r,{code:ce.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),xe(r,{code:ce.not_finite,message:s.message}),i.dirty()):Ot.assertNever(s);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Re.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Re.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Re.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Re.toString(t))}setLimit(e,t,r,i){return new vc({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Re.toString(i)}]})}_addCheck(e){return new vc({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Re.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Re.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Re.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Re.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Re.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Re.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Re.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Re.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Re.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ot.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}vc.create=n=>new vc({checks:[],typeName:Le.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...Ye(n)});class xc extends tt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==ke.bigint){const s=this._getOrReturnCtx(e);return xe(s,{code:ce.invalid_type,expected:ke.bigint,received:s.parsedType}),Ue}let r;const i=new Ir;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),xe(r,{code:ce.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),xe(r,{code:ce.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),xe(r,{code:ce.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Ot.assertNever(s);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Re.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Re.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Re.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Re.toString(t))}setLimit(e,t,r,i){return new xc({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Re.toString(i)}]})}_addCheck(e){return new xc({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Re.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Re.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Re.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Re.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Re.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}xc.create=n=>{var e;return new xc({checks:[],typeName:Le.ZodBigInt,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...Ye(n)})};class vg extends tt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ke.boolean){const r=this._getOrReturnCtx(e);return xe(r,{code:ce.invalid_type,expected:ke.boolean,received:r.parsedType}),Ue}return Gr(e.data)}}vg.create=n=>new vg({typeName:Le.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...Ye(n)});class Zu extends tt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ke.date){const s=this._getOrReturnCtx(e);return xe(s,{code:ce.invalid_type,expected:ke.date,received:s.parsedType}),Ue}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return xe(s,{code:ce.invalid_date}),Ue}const r=new Ir;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),xe(i,{code:ce.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),xe(i,{code:ce.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Ot.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Zu({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Re.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Re.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}Zu.create=n=>new Zu({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:Le.ZodDate,...Ye(n)});class rw extends tt{_parse(e){if(this._getType(e)!==ke.symbol){const r=this._getOrReturnCtx(e);return xe(r,{code:ce.invalid_type,expected:ke.symbol,received:r.parsedType}),Ue}return Gr(e.data)}}rw.create=n=>new rw({typeName:Le.ZodSymbol,...Ye(n)});class xg extends tt{_parse(e){if(this._getType(e)!==ke.undefined){const r=this._getOrReturnCtx(e);return xe(r,{code:ce.invalid_type,expected:ke.undefined,received:r.parsedType}),Ue}return Gr(e.data)}}xg.create=n=>new xg({typeName:Le.ZodUndefined,...Ye(n)});class wg extends tt{_parse(e){if(this._getType(e)!==ke.null){const r=this._getOrReturnCtx(e);return xe(r,{code:ce.invalid_type,expected:ke.null,received:r.parsedType}),Ue}return Gr(e.data)}}wg.create=n=>new wg({typeName:Le.ZodNull,...Ye(n)});class Hd extends tt{constructor(){super(...arguments),this._any=!0}_parse(e){return Gr(e.data)}}Hd.create=n=>new Hd({typeName:Le.ZodAny,...Ye(n)});class _u extends tt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Gr(e.data)}}_u.create=n=>new _u({typeName:Le.ZodUnknown,...Ye(n)});class Wa extends tt{_parse(e){const t=this._getOrReturnCtx(e);return xe(t,{code:ce.invalid_type,expected:ke.never,received:t.parsedType}),Ue}}Wa.create=n=>new Wa({typeName:Le.ZodNever,...Ye(n)});class iw extends tt{_parse(e){if(this._getType(e)!==ke.undefined){const r=this._getOrReturnCtx(e);return xe(r,{code:ce.invalid_type,expected:ke.void,received:r.parsedType}),Ue}return Gr(e.data)}}iw.create=n=>new iw({typeName:Le.ZodVoid,...Ye(n)});class $s extends tt{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),i=this._def;if(t.parsedType!==ke.array)return xe(t,{code:ce.invalid_type,expected:ke.array,received:t.parsedType}),Ue;if(i.exactLength!==null){const o=t.data.length>i.exactLength.value,a=t.data.length<i.exactLength.value;(o||a)&&(xe(t,{code:o?ce.too_big:ce.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&t.data.length<i.minLength.value&&(xe(t,{code:ce.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&t.data.length>i.maxLength.value&&(xe(t,{code:ce.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((o,a)=>i.type._parseAsync(new No(t,o,t.path,a)))).then(o=>Ir.mergeArray(r,o));const s=[...t.data].map((o,a)=>i.type._parseSync(new No(t,o,t.path,a)));return Ir.mergeArray(r,s)}get element(){return this._def.type}min(e,t){return new $s({...this._def,minLength:{value:e,message:Re.toString(t)}})}max(e,t){return new $s({...this._def,maxLength:{value:e,message:Re.toString(t)}})}length(e,t){return new $s({...this._def,exactLength:{value:e,message:Re.toString(t)}})}nonempty(e){return this.min(1,e)}}$s.create=(n,e)=>new $s({type:n,minLength:null,maxLength:null,exactLength:null,typeName:Le.ZodArray,...Ye(e)});function Ah(n){if(n instanceof en){const e={};for(const t in n.shape){const r=n.shape[t];e[t]=ko.create(Ah(r))}return new en({...n._def,shape:()=>e})}else return n instanceof $s?new $s({...n._def,type:Ah(n.element)}):n instanceof ko?ko.create(Ah(n.unwrap())):n instanceof bc?bc.create(Ah(n.unwrap())):n instanceof jo?jo.create(n.items.map(e=>Ah(e))):n}class en extends tt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=Ot.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==ke.object){const c=this._getOrReturnCtx(e);return xe(c,{code:ce.invalid_type,expected:ke.object,received:c.parsedType}),Ue}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Wa&&this._def.unknownKeys==="strip"))for(const c in i.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const u=s[c],h=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new No(i,h,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof Wa){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(c==="strict")a.length>0&&(xe(i,{code:ce.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const h=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new No(i,h,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const h=await u.key,f=await u.value;c.push({key:h,value:f,alwaysSet:u.alwaysSet})}return c}).then(c=>Ir.mergeObjectSync(r,c)):Ir.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return Re.errToObj,new en({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{var i,s,o,a;const l=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,t,r).message)!==null&&o!==void 0?o:r.defaultError;return t.code==="unrecognized_keys"?{message:(a=Re.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new en({...this._def,unknownKeys:"strip"})}passthrough(){return new en({...this._def,unknownKeys:"passthrough"})}extend(e){return new en({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new en({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Le.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new en({...this._def,catchall:e})}pick(e){const t={};return Ot.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new en({...this._def,shape:()=>t})}omit(e){const t={};return Ot.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new en({...this._def,shape:()=>t})}deepPartial(){return Ah(this)}partial(e){const t={};return Ot.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?t[r]=i:t[r]=i.optional()}),new en({...this._def,shape:()=>t})}required(e){const t={};return Ot.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof ko;)s=s._def.innerType;t[r]=s}}),new en({...this._def,shape:()=>t})}keyof(){return nB(Ot.objectKeys(this.shape))}}en.create=(n,e)=>new en({shape:()=>n,unknownKeys:"strip",catchall:Wa.create(),typeName:Le.ZodObject,...Ye(e)});en.strictCreate=(n,e)=>new en({shape:()=>n,unknownKeys:"strict",catchall:Wa.create(),typeName:Le.ZodObject,...Ye(e)});en.lazycreate=(n,e)=>new en({shape:n,unknownKeys:"strip",catchall:Wa.create(),typeName:Le.ZodObject,...Ye(e)});class bg extends tt{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return t.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new Vi(a.ctx.common.issues));return xe(t,{code:ce.invalid_union,unionErrors:o}),Ue}if(t.common.async)return Promise.all(r.map(async s=>{const o={...t,common:{...t.common,issues:[]},parent:null};return{result:await s._parseAsync({data:t.data,path:t.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const l of r){const c={...t,common:{...t.common,issues:[]},parent:null},u=l._parseSync({data:t.data,path:t.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(s)return t.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(l=>new Vi(l));return xe(t,{code:ce.invalid_union,unionErrors:a}),Ue}}get options(){return this._def.options}}bg.create=(n,e)=>new bg({options:n,typeName:Le.ZodUnion,...Ye(e)});const da=n=>n instanceof _g?da(n.schema):n instanceof Vs?da(n.innerType()):n instanceof Tg?[n.value]:n instanceof wc?n.options:n instanceof Pg?Ot.objectValues(n.enum):n instanceof Cg?da(n._def.innerType):n instanceof xg?[void 0]:n instanceof wg?[null]:n instanceof ko?[void 0,...da(n.unwrap())]:n instanceof bc?[null,...da(n.unwrap())]:n instanceof dQ||n instanceof Ag?da(n.unwrap()):n instanceof Eg?da(n._def.innerType):[];class iS extends tt{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ke.object)return xe(t,{code:ce.invalid_type,expected:ke.object,received:t.parsedType}),Ue;const r=this.discriminator,i=t.data[r],s=this.optionsMap.get(i);return s?t.common.async?s._parseAsync({data:t.data,path:t.path,parent:t}):s._parseSync({data:t.data,path:t.path,parent:t}):(xe(t,{code:ce.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Ue)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){const i=new Map;for(const s of t){const o=da(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new iS({typeName:Le.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...Ye(r)})}}function OP(n,e){const t=El(n),r=El(e);if(n===e)return{valid:!0,data:n};if(t===ke.object&&r===ke.object){const i=Ot.objectKeys(e),s=Ot.objectKeys(n).filter(a=>i.indexOf(a)!==-1),o={...n,...e};for(const a of s){const l=OP(n[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(t===ke.array&&r===ke.array){if(n.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<n.length;s++){const o=n[s],a=e[s],l=OP(o,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return t===ke.date&&r===ke.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class Sg extends tt{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(mP(s)||mP(o))return Ue;const a=OP(s.value,o.value);return a.valid?((gP(s)||gP(o))&&t.dirty(),{status:t.value,value:a.data}):(xe(r,{code:ce.invalid_intersection_types}),Ue)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Sg.create=(n,e,t)=>new Sg({left:n,right:e,typeName:Le.ZodIntersection,...Ye(t)});class jo extends tt{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==ke.array)return xe(r,{code:ce.invalid_type,expected:ke.array,received:r.parsedType}),Ue;if(r.data.length<this._def.items.length)return xe(r,{code:ce.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ue;!this._def.rest&&r.data.length>this._def.items.length&&(xe(r,{code:ce.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const s=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new No(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>Ir.mergeArray(t,o)):Ir.mergeArray(t,s)}get items(){return this._def.items}rest(e){return new jo({...this._def,rest:e})}}jo.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new jo({items:n,typeName:Le.ZodTuple,rest:null,...Ye(e)})};class kg extends tt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==ke.object)return xe(r,{code:ce.invalid_type,expected:ke.object,received:r.parsedType}),Ue;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in r.data)i.push({key:s._parse(new No(r,a,r.path,a)),value:o._parse(new No(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?Ir.mergeObjectAsync(t,i):Ir.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,r){return t instanceof tt?new kg({keyType:e,valueType:t,typeName:Le.ZodRecord,...Ye(r)}):new kg({keyType:_s.create(),valueType:e,typeName:Le.ZodRecord,...Ye(t)})}}class sw extends tt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==ke.map)return xe(r,{code:ce.invalid_type,expected:ke.map,received:r.parsedType}),Ue;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,l],c)=>({key:i._parse(new No(r,a,r.path,[c,"key"])),value:s._parse(new No(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return Ue;(c.status==="dirty"||u.status==="dirty")&&t.dirty(),a.set(c.value,u.value)}return{status:t.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return Ue;(c.status==="dirty"||u.status==="dirty")&&t.dirty(),a.set(c.value,u.value)}return{status:t.value,value:a}}}}sw.create=(n,e,t)=>new sw({valueType:e,keyType:n,typeName:Le.ZodMap,...Ye(t)});class Fu extends tt{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==ke.set)return xe(r,{code:ce.invalid_type,expected:ke.set,received:r.parsedType}),Ue;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(xe(r,{code:ce.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(xe(r,{code:ce.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());const s=this._def.valueType;function o(l){const c=new Set;for(const u of l){if(u.status==="aborted")return Ue;u.status==="dirty"&&t.dirty(),c.add(u.value)}return{status:t.value,value:c}}const a=[...r.data.values()].map((l,c)=>s._parse(new No(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,t){return new Fu({...this._def,minSize:{value:e,message:Re.toString(t)}})}max(e,t){return new Fu({...this._def,maxSize:{value:e,message:Re.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Fu.create=(n,e)=>new Fu({valueType:n,minSize:null,maxSize:null,typeName:Le.ZodSet,...Ye(e)});class fd extends tt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ke.function)return xe(t,{code:ce.invalid_type,expected:ke.function,received:t.parsedType}),Ue;function r(a,l){return tw({data:a,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,ew(),Yd].filter(c=>!!c),issueData:{code:ce.invalid_arguments,argumentsError:l}})}function i(a,l){return tw({data:a,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,ew(),Yd].filter(c=>!!c),issueData:{code:ce.invalid_return_type,returnTypeError:l}})}const s={errorMap:t.common.contextualErrorMap},o=t.data;if(this._def.returns instanceof Kd){const a=this;return Gr(async function(...l){const c=new Vi([]),u=await a._def.args.parseAsync(l,s).catch(m=>{throw c.addIssue(r(l,m)),c}),h=await Reflect.apply(o,this,u);return await a._def.returns._def.type.parseAsync(h,s).catch(m=>{throw c.addIssue(i(h,m)),c})})}else{const a=this;return Gr(function(...l){const c=a._def.args.safeParse(l,s);if(!c.success)throw new Vi([r(l,c.error)]);const u=Reflect.apply(o,this,c.data),h=a._def.returns.safeParse(u,s);if(!h.success)throw new Vi([i(u,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new fd({...this._def,args:jo.create(e).rest(_u.create())})}returns(e){return new fd({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new fd({args:e||jo.create([]).rest(_u.create()),returns:t||_u.create(),typeName:Le.ZodFunction,...Ye(r)})}}class _g extends tt{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}_g.create=(n,e)=>new _g({getter:n,typeName:Le.ZodLazy,...Ye(e)});class Tg extends tt{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return xe(t,{received:t.data,code:ce.invalid_literal,expected:this._def.value}),Ue}return{status:"valid",value:e.data}}get value(){return this._def.value}}Tg.create=(n,e)=>new Tg({value:n,typeName:Le.ZodLiteral,...Ye(e)});function nB(n,e){return new wc({values:n,typeName:Le.ZodEnum,...Ye(e)})}class wc extends tt{constructor(){super(...arguments),Yp.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),r=this._def.values;return xe(t,{expected:Ot.joinValues(r),received:t.parsedType,code:ce.invalid_type}),Ue}if(nw(this,Yp)||KF(this,Yp,new Set(this._def.values)),!nw(this,Yp).has(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return xe(t,{received:t.data,code:ce.invalid_enum_value,options:r}),Ue}return Gr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return wc.create(e,{...this._def,...t})}exclude(e,t=this._def){return wc.create(this.options.filter(r=>!e.includes(r)),{...this._def,...t})}}Yp=new WeakMap;wc.create=nB;class Pg extends tt{constructor(){super(...arguments),Hp.set(this,void 0)}_parse(e){const t=Ot.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ke.string&&r.parsedType!==ke.number){const i=Ot.objectValues(t);return xe(r,{expected:Ot.joinValues(i),received:r.parsedType,code:ce.invalid_type}),Ue}if(nw(this,Hp)||KF(this,Hp,new Set(Ot.getValidEnumValues(this._def.values))),!nw(this,Hp).has(e.data)){const i=Ot.objectValues(t);return xe(r,{received:r.data,code:ce.invalid_enum_value,options:i}),Ue}return Gr(e.data)}get enum(){return this._def.values}}Hp=new WeakMap;Pg.create=(n,e)=>new Pg({values:n,typeName:Le.ZodNativeEnum,...Ye(e)});class Kd extends tt{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ke.promise&&t.common.async===!1)return xe(t,{code:ce.invalid_type,expected:ke.promise,received:t.parsedType}),Ue;const r=t.parsedType===ke.promise?t.data:Promise.resolve(t.data);return Gr(r.then(i=>this._def.type.parseAsync(i,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Kd.create=(n,e)=>new Kd({type:n,typeName:Le.ZodPromise,...Ye(e)});class Vs extends tt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Le.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{xe(r,o),o.fatal?t.abort():t.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async a=>{if(t.value==="aborted")return Ue;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?Ue:l.status==="dirty"||t.value==="dirty"?Bh(l.value):l});{if(t.value==="aborted")return Ue;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?Ue:a.status==="dirty"||t.value==="dirty"?Bh(a.value):a}}if(i.type==="refinement"){const o=a=>{const l=i.refinement(a,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Ue:(a.status==="dirty"&&t.dirty(),o(a.value),{status:t.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Ue:(a.status==="dirty"&&t.dirty(),o(a.value).then(()=>({status:t.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Og(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Og(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:t.value,value:a})):o);Ot.assertNever(i)}}Vs.create=(n,e,t)=>new Vs({schema:n,typeName:Le.ZodEffects,effect:e,...Ye(t)});Vs.createWithPreprocess=(n,e,t)=>new Vs({schema:e,effect:{type:"preprocess",transform:n},typeName:Le.ZodEffects,...Ye(t)});class ko extends tt{_parse(e){return this._getType(e)===ke.undefined?Gr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ko.create=(n,e)=>new ko({innerType:n,typeName:Le.ZodOptional,...Ye(e)});class bc extends tt{_parse(e){return this._getType(e)===ke.null?Gr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}bc.create=(n,e)=>new bc({innerType:n,typeName:Le.ZodNullable,...Ye(e)});class Cg extends tt{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===ke.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Cg.create=(n,e)=>new Cg({innerType:n,typeName:Le.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ye(e)});class Eg extends tt{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return yg(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Vi(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Vi(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Eg.create=(n,e)=>new Eg({innerType:n,typeName:Le.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ye(e)});class ow extends tt{_parse(e){if(this._getType(e)!==ke.nan){const r=this._getOrReturnCtx(e);return xe(r,{code:ce.invalid_type,expected:ke.nan,received:r.parsedType}),Ue}return{status:"valid",value:e.data}}}ow.create=n=>new ow({typeName:Le.ZodNaN,...Ye(n)});const Rde=Symbol("zod_brand");class dQ extends tt{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class GO extends tt{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Ue:s.status==="dirty"?(t.dirty(),Bh(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Ue:i.status==="dirty"?(t.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,t){return new GO({in:e,out:t,typeName:Le.ZodPipeline})}}class Ag extends tt{_parse(e){const t=this._def.innerType._parse(e),r=i=>(Og(i)&&(i.value=Object.freeze(i.value)),i);return yg(t)?t.then(i=>r(i)):r(t)}unwrap(){return this._def.innerType}}Ag.create=(n,e)=>new Ag({innerType:n,typeName:Le.ZodReadonly,...Ye(e)});function rB(n,e={},t){return n?Hd.create().superRefine((r,i)=>{var s,o;if(!n(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,l=(o=(s=a.fatal)!==null&&s!==void 0?s:t)!==null&&o!==void 0?o:!0,c=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...c,fatal:l})}}):Hd.create()}const Qde={object:en.lazycreate};var Le;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(Le||(Le={}));const Ide=(n,e={message:`Input not instance of ${n.name}`})=>rB(t=>t instanceof n,e),iB=_s.create,sB=vc.create,$de=ow.create,Nde=xc.create,oB=vg.create,jde=Zu.create,Dde=rw.create,Mde=xg.create,Vde=wg.create,Lde=Hd.create,Ude=_u.create,zde=Wa.create,qde=iw.create,Zde=$s.create,Fde=en.create,Bde=en.strictCreate,Wde=bg.create,Xde=iS.create,Gde=Sg.create,Yde=jo.create,Hde=kg.create,Kde=sw.create,Jde=Fu.create,efe=fd.create,tfe=_g.create,nfe=Tg.create,rfe=wc.create,ife=Pg.create,sfe=Kd.create,RD=Vs.create,ofe=ko.create,afe=bc.create,lfe=Vs.createWithPreprocess,cfe=GO.create,ufe=()=>iB().optional(),hfe=()=>sB().optional(),dfe=()=>oB().optional(),ffe={string:n=>_s.create({...n,coerce:!0}),number:n=>vc.create({...n,coerce:!0}),boolean:n=>vg.create({...n,coerce:!0}),bigint:n=>xc.create({...n,coerce:!0}),date:n=>Zu.create({...n,coerce:!0})},pfe=Ue;var lt=Object.freeze({__proto__:null,defaultErrorMap:Yd,setErrorMap:pde,getErrorMap:ew,makeIssue:tw,EMPTY_PATH:mde,addIssueToContext:xe,ParseStatus:Ir,INVALID:Ue,DIRTY:Bh,OK:Gr,isAborted:mP,isDirty:gP,isValid:Og,isAsync:yg,get util(){return Ot},get objectUtil(){return pP},ZodParsedType:ke,getParsedType:El,ZodType:tt,datetimeRegex:tB,ZodString:_s,ZodNumber:vc,ZodBigInt:xc,ZodBoolean:vg,ZodDate:Zu,ZodSymbol:rw,ZodUndefined:xg,ZodNull:wg,ZodAny:Hd,ZodUnknown:_u,ZodNever:Wa,ZodVoid:iw,ZodArray:$s,ZodObject:en,ZodUnion:bg,ZodDiscriminatedUnion:iS,ZodIntersection:Sg,ZodTuple:jo,ZodRecord:kg,ZodMap:sw,ZodSet:Fu,ZodFunction:fd,ZodLazy:_g,ZodLiteral:Tg,ZodEnum:wc,ZodNativeEnum:Pg,ZodPromise:Kd,ZodEffects:Vs,ZodTransformer:Vs,ZodOptional:ko,ZodNullable:bc,ZodDefault:Cg,ZodCatch:Eg,ZodNaN:ow,BRAND:Rde,ZodBranded:dQ,ZodPipeline:GO,ZodReadonly:Ag,custom:rB,Schema:tt,ZodSchema:tt,late:Qde,get ZodFirstPartyTypeKind(){return Le},coerce:ffe,any:Lde,array:Zde,bigint:Nde,boolean:oB,date:jde,discriminatedUnion:Xde,effect:RD,enum:rfe,function:efe,instanceof:Ide,intersection:Gde,lazy:tfe,literal:nfe,map:Kde,nan:$de,nativeEnum:ife,never:zde,null:Vde,nullable:afe,number:sB,object:Fde,oboolean:dfe,onumber:hfe,optional:ofe,ostring:ufe,pipeline:cfe,preprocess:lfe,promise:sfe,record:Hde,set:Jde,strictObject:Bde,string:iB,symbol:Dde,transformer:RD,tuple:Yde,undefined:Mde,union:Wde,unknown:Ude,void:qde,NEVER:pfe,ZodIssueCode:ce,quotelessJson:fde,ZodError:Vi}),mfe=l5.useId||(()=>{}),gfe=0;function _o(n){const[e,t]=b.useState(mfe());return Fn(()=>{t(r=>r??String(gfe++))},[n]),e?`radix-${e}`:""}var tk="focusScope.autoFocusOnMount",nk="focusScope.autoFocusOnUnmount",QD={bubbles:!1,cancelable:!0},Ofe="FocusScope",sS=b.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=n,[a,l]=b.useState(null),c=Yt(i),u=Yt(s),h=b.useRef(null),f=Je(e,y=>l(y)),m=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let y=function(T){if(m.paused||!a)return;const I=T.target;a.contains(I)?h.current=I:gl(h.current,{select:!0})},x=function(T){if(m.paused||!a)return;const I=T.relatedTarget;I!==null&&(a.contains(I)||gl(h.current,{select:!0}))},S=function(T){if(document.activeElement===document.body)for(const C of T)C.removedNodes.length>0&&gl(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",x);const _=new MutationObserver(S);return a&&_.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",x),_.disconnect()}}},[r,a,m.paused]),b.useEffect(()=>{if(a){$D.add(m);const y=document.activeElement;if(!a.contains(y)){const S=new CustomEvent(tk,QD);a.addEventListener(tk,c),a.dispatchEvent(S),S.defaultPrevented||(yfe(Sfe(aB(a)),{select:!0}),document.activeElement===y&&gl(a))}return()=>{a.removeEventListener(tk,c),setTimeout(()=>{const S=new CustomEvent(nk,QD);a.addEventListener(nk,u),a.dispatchEvent(S),S.defaultPrevented||gl(y??document.body,{select:!0}),a.removeEventListener(nk,u),$D.remove(m)},0)}}},[a,c,u,m]);const g=b.useCallback(y=>{if(!t&&!r||m.paused)return;const x=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,S=document.activeElement;if(x&&S){const _=y.currentTarget,[T,I]=vfe(_);T&&I?!y.shiftKey&&S===I?(y.preventDefault(),t&&gl(T,{select:!0})):y.shiftKey&&S===T&&(y.preventDefault(),t&&gl(I,{select:!0})):S===_&&y.preventDefault()}},[t,r,m.paused]);return d.jsx(Ae.div,{tabIndex:-1,...o,ref:f,onKeyDown:g})});sS.displayName=Ofe;function yfe(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(gl(r,{select:e}),document.activeElement!==t)return}function vfe(n){const e=aB(n),t=ID(e,n),r=ID(e.reverse(),n);return[t,r]}function aB(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function ID(n,e){for(const t of n)if(!xfe(t,{upTo:e}))return t}function xfe(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function wfe(n){return n instanceof HTMLInputElement&&"select"in n}function gl(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&wfe(n)&&e&&n.select()}}var $D=bfe();function bfe(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=ND(n,e),n.unshift(e)},remove(e){var t;n=ND(n,e),(t=n[0])==null||t.resume()}}}function ND(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function Sfe(n){return n.filter(e=>e.tagName!=="A")}var rk=0;function fQ(){b.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??jD()),document.body.insertAdjacentElement("beforeend",n[1]??jD()),rk++,()=>{rk===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),rk--}},[])}function jD(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var fv="right-scroll-bar-position",pv="width-before-scroll-bar",kfe="with-scroll-bars-hidden",_fe="--removed-body-scroll-bar-size";function ik(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function Tfe(n,e){var t=b.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var i=t.value;i!==r&&(t.value=r,t.callback(r,i))}}}})[0];return t.callback=e,t.facade}var Pfe=typeof window<"u"?b.useLayoutEffect:b.useEffect,DD=new WeakMap;function Cfe(n,e){var t=Tfe(null,function(r){return n.forEach(function(i){return ik(i,r)})});return Pfe(function(){var r=DD.get(t);if(r){var i=new Set(r),s=new Set(n),o=t.current;i.forEach(function(a){s.has(a)||ik(a,null)}),s.forEach(function(a){i.has(a)||ik(a,o)})}DD.set(t,n)},[n]),t}function Efe(n){return n}function Afe(n,e){e===void 0&&(e=Efe);var t=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(s){var o=e(s,r);return t.push(o),function(){t=t.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;t.length;){var o=t;t=[],o.forEach(s)}t={push:function(a){return s(a)},filter:function(){return t}}},assignMedium:function(s){r=!0;var o=[];if(t.length){var a=t;t=[],a.forEach(s),o=t}var l=function(){var u=o;o=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),t={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),t}}}};return i}function Rfe(n){n===void 0&&(n={});var e=Afe(null);return e.options=oo({async:!0,ssr:!1},n),e}var lB=function(n){var e=n.sideCar,t=MO(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,oo({},t))};lB.isSideCarExport=!0;function Qfe(n,e){return n.useMedium(e),lB}var cB=Rfe(),sk=function(){},oS=b.forwardRef(function(n,e){var t=b.useRef(null),r=b.useState({onScrollCapture:sk,onWheelCapture:sk,onTouchMoveCapture:sk}),i=r[0],s=r[1],o=n.forwardProps,a=n.children,l=n.className,c=n.removeScrollBar,u=n.enabled,h=n.shards,f=n.sideCar,m=n.noIsolation,g=n.inert,y=n.allowPinchZoom,x=n.as,S=x===void 0?"div":x,_=n.gapMode,T=MO(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=f,C=Cfe([t,e]),Q=oo(oo({},T),i);return b.createElement(b.Fragment,null,u&&b.createElement(I,{sideCar:cB,removeScrollBar:c,shards:h,noIsolation:m,inert:g,setCallbacks:s,allowPinchZoom:!!y,lockRef:t,gapMode:_}),o?b.cloneElement(b.Children.only(a),oo(oo({},Q),{ref:C})):b.createElement(S,oo({},Q,{className:l,ref:C}),a))});oS.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};oS.classNames={fullWidth:pv,zeroRight:fv};var Ife=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function $fe(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=Ife();return e&&n.setAttribute("nonce",e),n}function Nfe(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function jfe(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var Dfe=function(){var n=0,e=null;return{add:function(t){n==0&&(e=$fe())&&(Nfe(e,t),jfe(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Mfe=function(){var n=Dfe();return function(e,t){b.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},uB=function(){var n=Mfe(),e=function(t){var r=t.styles,i=t.dynamic;return n(r,i),null};return e},Vfe={left:0,top:0,right:0,gap:0},ok=function(n){return parseInt(n||"",10)||0},Lfe=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[ok(t),ok(r),ok(i)]},Ufe=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return Vfe;var e=Lfe(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},zfe=uB(),pd="data-scroll-locked",qfe=function(n,e,t,r){var i=n.left,s=n.top,o=n.right,a=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(kfe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(pd,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(fv,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(pv,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(fv," .").concat(fv,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(pv," .").concat(pv,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(pd,`] {
    `).concat(_fe,": ").concat(a,`px;
  }
`)},MD=function(){var n=parseInt(document.body.getAttribute(pd)||"0",10);return isFinite(n)?n:0},Zfe=function(){b.useEffect(function(){return document.body.setAttribute(pd,(MD()+1).toString()),function(){var n=MD()-1;n<=0?document.body.removeAttribute(pd):document.body.setAttribute(pd,n.toString())}},[])},Ffe=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,i=r===void 0?"margin":r;Zfe();var s=b.useMemo(function(){return Ufe(i)},[i]);return b.createElement(zfe,{styles:qfe(s,!e,i,t?"":"!important")})},yP=!1;if(typeof window<"u")try{var r0=Object.defineProperty({},"passive",{get:function(){return yP=!0,!0}});window.addEventListener("test",r0,r0),window.removeEventListener("test",r0,r0)}catch{yP=!1}var wh=yP?{passive:!1}:!1,Bfe=function(n){return n.tagName==="TEXTAREA"},hB=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!Bfe(n)&&t[e]==="visible")},Wfe=function(n){return hB(n,"overflowY")},Xfe=function(n){return hB(n,"overflowX")},VD=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=dB(n,r);if(i){var s=fB(n,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},Gfe=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},Yfe=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},dB=function(n,e){return n==="v"?Wfe(e):Xfe(e)},fB=function(n,e){return n==="v"?Gfe(e):Yfe(e)},Hfe=function(n,e){return n==="h"&&e==="rtl"?-1:1},Kfe=function(n,e,t,r,i){var s=Hfe(n,window.getComputedStyle(e).direction),o=s*r,a=t.target,l=e.contains(a),c=!1,u=o>0,h=0,f=0;do{var m=fB(n,a),g=m[0],y=m[1],x=m[2],S=y-x-s*g;(g||S)&&dB(n,a)&&(h+=S,f+=g),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(Math.abs(h)<1||!i)||!u&&(Math.abs(f)<1||!i))&&(c=!0),c},i0=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},LD=function(n){return[n.deltaX,n.deltaY]},UD=function(n){return n&&"current"in n?n.current:n},Jfe=function(n,e){return n[0]===e[0]&&n[1]===e[1]},epe=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},tpe=0,bh=[];function npe(n){var e=b.useRef([]),t=b.useRef([0,0]),r=b.useRef(),i=b.useState(tpe++)[0],s=b.useState(uB)[0],o=b.useRef(n);b.useEffect(function(){o.current=n},[n]),b.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var y=Use([n.lockRef.current],(n.shards||[]).map(UD),!0).filter(Boolean);return y.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var a=b.useCallback(function(y,x){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var S=i0(y),_=t.current,T="deltaX"in y?y.deltaX:_[0]-S[0],I="deltaY"in y?y.deltaY:_[1]-S[1],C,Q=y.target,O=Math.abs(T)>Math.abs(I)?"h":"v";if("touches"in y&&O==="h"&&Q.type==="range")return!1;var w=VD(O,Q);if(!w)return!0;if(w?C=O:(C=O==="v"?"h":"v",w=VD(O,Q)),!w)return!1;if(!r.current&&"changedTouches"in y&&(T||I)&&(r.current=C),!C)return!0;var k=r.current||C;return Kfe(k,x,y,k==="h"?T:I,!0)},[]),l=b.useCallback(function(y){var x=y;if(!(!bh.length||bh[bh.length-1]!==s)){var S="deltaY"in x?LD(x):i0(x),_=e.current.filter(function(C){return C.name===x.type&&(C.target===x.target||x.target===C.shadowParent)&&Jfe(C.delta,S)})[0];if(_&&_.should){x.cancelable&&x.preventDefault();return}if(!_){var T=(o.current.shards||[]).map(UD).filter(Boolean).filter(function(C){return C.contains(x.target)}),I=T.length>0?a(x,T[0]):!o.current.noIsolation;I&&x.cancelable&&x.preventDefault()}}},[]),c=b.useCallback(function(y,x,S,_){var T={name:y,delta:x,target:S,should:_,shadowParent:rpe(S)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(I){return I!==T})},1)},[]),u=b.useCallback(function(y){t.current=i0(y),r.current=void 0},[]),h=b.useCallback(function(y){c(y.type,LD(y),y.target,a(y,n.lockRef.current))},[]),f=b.useCallback(function(y){c(y.type,i0(y),y.target,a(y,n.lockRef.current))},[]);b.useEffect(function(){return bh.push(s),n.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",l,wh),document.addEventListener("touchmove",l,wh),document.addEventListener("touchstart",u,wh),function(){bh=bh.filter(function(y){return y!==s}),document.removeEventListener("wheel",l,wh),document.removeEventListener("touchmove",l,wh),document.removeEventListener("touchstart",u,wh)}},[]);var m=n.removeScrollBar,g=n.inert;return b.createElement(b.Fragment,null,g?b.createElement(s,{styles:epe(i)}):null,m?b.createElement(Ffe,{gapMode:n.gapMode}):null)}function rpe(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const ipe=Qfe(cB,npe);var aS=b.forwardRef(function(n,e){return b.createElement(oS,oo({},n,{ref:e,sideCar:ipe}))});aS.classNames=oS.classNames;var spe=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Sh=new WeakMap,s0=new WeakMap,o0={},ak=0,pB=function(n){return n&&(n.host||pB(n.parentNode))},ope=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=pB(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},ape=function(n,e,t,r){var i=ope(e,Array.isArray(n)?n:[n]);o0[t]||(o0[t]=new WeakMap);var s=o0[t],o=[],a=new Set,l=new Set(i),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};i.forEach(c);var u=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(f){if(a.has(f))u(f);else try{var m=f.getAttribute(r),g=m!==null&&m!=="false",y=(Sh.get(f)||0)+1,x=(s.get(f)||0)+1;Sh.set(f,y),s.set(f,x),o.push(f),y===1&&g&&s0.set(f,!0),x===1&&f.setAttribute(t,"true"),g||f.setAttribute(r,"true")}catch(S){console.error("aria-hidden: cannot operate on ",f,S)}})};return u(e),a.clear(),ak++,function(){o.forEach(function(h){var f=Sh.get(h)-1,m=s.get(h)-1;Sh.set(h,f),s.set(h,m),f||(s0.has(h)||h.removeAttribute(r),s0.delete(h)),m||h.removeAttribute(t)}),ak--,ak||(Sh=new WeakMap,Sh=new WeakMap,s0=new WeakMap,o0={})}},pQ=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=spe(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),ape(r,i,t,"aria-hidden")):function(){return null}},mQ="Dialog",[mB,pQe]=Ho(mQ),[lpe,Zs]=mB(mQ),gB=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=n,a=b.useRef(null),l=b.useRef(null),[c=!1,u]=Ba({prop:r,defaultProp:i,onChange:s});return d.jsx(lpe,{scope:e,triggerRef:a,contentRef:l,contentId:_o(),titleId:_o(),descriptionId:_o(),open:c,onOpenChange:u,onOpenToggle:b.useCallback(()=>u(h=>!h),[u]),modal:o,children:t})};gB.displayName=mQ;var OB="DialogTrigger",yB=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Zs(OB,t),s=Je(e,i.triggerRef);return d.jsx(Ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":yQ(i.open),...r,ref:s,onClick:he(n.onClick,i.onOpenToggle)})});yB.displayName=OB;var gQ="DialogPortal",[cpe,vB]=mB(gQ,{forceMount:void 0}),xB=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:i}=n,s=Zs(gQ,e);return d.jsx(cpe,{scope:e,forceMount:t,children:b.Children.map(r,o=>d.jsx(Kr,{present:t||s.open,children:d.jsx(BO,{asChild:!0,container:i,children:o})}))})};xB.displayName=gQ;var aw="DialogOverlay",wB=b.forwardRef((n,e)=>{const t=vB(aw,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,s=Zs(aw,n.__scopeDialog);return s.modal?d.jsx(Kr,{present:r||s.open,children:d.jsx(upe,{...i,ref:e})}):null});wB.displayName=aw;var upe=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Zs(aw,t);return d.jsx(aS,{as:Fa,allowPinchZoom:!0,shards:[i.contentRef],children:d.jsx(Ae.div,{"data-state":yQ(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Bu="DialogContent",bB=b.forwardRef((n,e)=>{const t=vB(Bu,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,s=Zs(Bu,n.__scopeDialog);return d.jsx(Kr,{present:r||s.open,children:s.modal?d.jsx(hpe,{...i,ref:e}):d.jsx(dpe,{...i,ref:e})})});bB.displayName=Bu;var hpe=b.forwardRef((n,e)=>{const t=Zs(Bu,n.__scopeDialog),r=b.useRef(null),i=Je(e,t.contentRef,r);return b.useEffect(()=>{const s=r.current;if(s)return pQ(s)},[]),d.jsx(SB,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:he(n.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=t.triggerRef.current)==null||o.focus()}),onPointerDownOutside:he(n.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:he(n.onFocusOutside,s=>s.preventDefault())})}),dpe=b.forwardRef((n,e)=>{const t=Zs(Bu,n.__scopeDialog),r=b.useRef(!1),i=b.useRef(!1);return d.jsx(SB,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=n.onCloseAutoFocus)==null||o.call(n,s),s.defaultPrevented||(r.current||(a=t.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,c;(l=n.onInteractOutside)==null||l.call(n,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((c=t.triggerRef.current)==null?void 0:c.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),SB=b.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=n,a=Zs(Bu,t),l=b.useRef(null),c=Je(e,l);return fQ(),d.jsxs(d.Fragment,{children:[d.jsx(sS,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:d.jsx(FO,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":yQ(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(fpe,{titleId:a.titleId}),d.jsx(mpe,{contentRef:l,descriptionId:a.descriptionId})]})]})}),OQ="DialogTitle",kB=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Zs(OQ,t);return d.jsx(Ae.h2,{id:i.titleId,...r,ref:e})});kB.displayName=OQ;var _B="DialogDescription",TB=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Zs(_B,t);return d.jsx(Ae.p,{id:i.descriptionId,...r,ref:e})});TB.displayName=_B;var PB="DialogClose",CB=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Zs(PB,t);return d.jsx(Ae.button,{type:"button",...r,ref:e,onClick:he(n.onClick,()=>i.onOpenChange(!1))})});CB.displayName=PB;function yQ(n){return n?"open":"closed"}var EB="DialogTitleWarning",[mQe,AB]=Nce(EB,{contentName:Bu,titleName:OQ,docsSlug:"dialog"}),fpe=({titleId:n})=>{const e=AB(EB),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},ppe="DialogDescriptionWarning",mpe=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${AB(ppe).contentName}}.`;return b.useEffect(()=>{var s;const i=(s=n.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},gpe=gB,Ope=yB,ype=xB,RB=wB,QB=bB,IB=kB,$B=TB,vpe=CB;const Ia=gpe,vQ=Ope,xpe=ype,NB=b.forwardRef(({className:n,...e},t)=>d.jsx(RB,{ref:t,className:Te("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e}));NB.displayName=RB.displayName;const To=b.forwardRef(({className:n,children:e,...t},r)=>d.jsxs(xpe,{children:[d.jsx(NB,{}),d.jsxs(QB,{ref:r,className:Te("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...t,children:[e,d.jsxs(vpe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[d.jsx(Hb,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));To.displayName=QB.displayName;const Po=({className:n,...e})=>d.jsx("div",{className:Te("flex flex-col space-y-1.5 text-center sm:text-left",n),...e});Po.displayName="DialogHeader";const sc=({className:n,...e})=>d.jsx("div",{className:Te("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...e});sc.displayName="DialogFooter";const Co=b.forwardRef(({className:n,...e},t)=>d.jsx(IB,{ref:t,className:Te("text-lg font-semibold leading-none tracking-tight",n),...e}));Co.displayName=IB.displayName;const Eo=b.forwardRef(({className:n,...e},t)=>d.jsx($B,{ref:t,className:Te("text-sm text-muted-foreground",n),...e}));Eo.displayName=$B.displayName;var wpe="Label",jB=b.forwardRef((n,e)=>d.jsx(Ae.label,{...n,ref:e,onMouseDown:t=>{var i;t.target.closest("button, input, select, textarea")||((i=n.onMouseDown)==null||i.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));jB.displayName=wpe;var DB=jB;const bpe=WO("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Zt=b.forwardRef(({className:n,...e},t)=>d.jsx(DB,{ref:t,className:Te(bpe(),n),...e}));Zt.displayName=DB.displayName;const Rg=Xhe,MB=b.createContext({}),Yn=({...n})=>d.jsx(MB.Provider,{value:{name:n.name},children:d.jsx(Khe,{...n})}),lS=()=>{const n=b.useContext(MB),e=b.useContext(VB),{getFieldState:t,formState:r}=tS(),i=t(n.name,r);if(!n)throw new Error("useFormField should be used within <FormField>");const{id:s}=e;return{id:s,name:n.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},VB=b.createContext({}),Dn=b.forwardRef(({className:n,...e},t)=>{const r=b.useId();return d.jsx(VB.Provider,{value:{id:r},children:d.jsx("div",{ref:t,className:Te("space-y-2",n),...e})})});Dn.displayName="FormItem";const gn=b.forwardRef(({className:n,...e},t)=>{const{error:r,formItemId:i}=lS();return d.jsx(Zt,{ref:t,className:Te(r&&"text-destructive",n),htmlFor:i,...e})});gn.displayName="FormLabel";const On=b.forwardRef(({...n},e)=>{const{error:t,formItemId:r,formDescriptionId:i,formMessageId:s}=lS();return d.jsx(Fa,{ref:e,id:r,"aria-describedby":t?`${i} ${s}`:`${i}`,"aria-invalid":!!t,...n})});On.displayName="FormControl";const Spe=b.forwardRef(({className:n,...e},t)=>{const{formDescriptionId:r}=lS();return d.jsx("p",{ref:t,id:r,className:Te("text-sm text-muted-foreground",n),...e})});Spe.displayName="FormDescription";const Mn=b.forwardRef(({className:n,children:e,...t},r)=>{const{error:i,formMessageId:s}=lS(),o=i?String(i==null?void 0:i.message):e;return o?d.jsx("p",{ref:r,id:s,className:Te("text-sm font-medium text-destructive",n),...t,children:o}):null});Mn.displayName="FormMessage";const Wu=b.forwardRef(({className:n,...e},t)=>d.jsx("textarea",{className:Te("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...e}));Wu.displayName="Textarea";let vP=[],LB=[];(()=>{let n="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,t=0;e<n.length;e++)(e%2?LB:vP).push(t=t+n[e])})();function kpe(n){if(n<768)return!1;for(let e=0,t=vP.length;;){let r=e+t>>1;if(n<vP[r])t=r;else if(n>=LB[r])e=r+1;else return!0;if(e==t)return!1}}function zD(n){return n>=127462&&n<=127487}const qD=8205;function _pe(n,e,t=!0,r=!0){return(t?UB:Tpe)(n,e,r)}function UB(n,e,t){if(e==n.length)return e;e&&zB(n.charCodeAt(e))&&qB(n.charCodeAt(e-1))&&e--;let r=lk(n,e);for(e+=ZD(r);e<n.length;){let i=lk(n,e);if(r==qD||i==qD||t&&kpe(i))e+=ZD(i),r=i;else if(zD(i)){let s=0,o=e-2;for(;o>=0&&zD(lk(n,o));)s++,o-=2;if(s%2==0)break;e+=2}else break}return e}function Tpe(n,e,t){for(;e>0;){let r=UB(n,e-2,t);if(r<e)return r;e--}return 0}function lk(n,e){let t=n.charCodeAt(e);if(!qB(t)||e+1==n.length)return t;let r=n.charCodeAt(e+1);return zB(r)?(t-55296<<10)+(r-56320)+65536:t}function zB(n){return n>=56320&&n<57344}function qB(n){return n>=55296&&n<56320}function ZD(n){return n<65536?1:2}class pt{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,r){[e,t]=Jd(this,e,t);let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(t,this.length,i,1),ao.from(i,this.length-(t-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=Jd(this,e,t);let r=[];return this.decompose(e,t,r,0),ao.from(r,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new $m(this),s=new $m(e);for(let o=t,a=t;;){if(i.next(o),s.next(o),o=0,i.lineBreak!=s.lineBreak||i.done!=s.done||i.value!=s.value)return!1;if(a+=i.value.length,i.done||a>=r)return!0}}iter(e=1){return new $m(this,e)}iterRange(e,t=this.length){return new ZB(this,e,t)}iterLines(e,t){let r;if(e==null)r=this.iter();else{t==null&&(t=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new FB(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?pt.empty:e.length<=32?new pn(e):ao.from(pn.split(e,[]))}}class pn extends pt{constructor(e,t=Ppe(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,r,i){for(let s=0;;s++){let o=this.text[s],a=i+o.length;if((t?r:a)>=e)return new Cpe(i,a,r,o);i=a+1,r++}}decompose(e,t,r,i){let s=e<=0&&t>=this.length?this:new pn(FD(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(i&1){let o=r.pop(),a=mv(s.text,o.text.slice(),0,s.length);if(a.length<=32)r.push(new pn(a,o.length+s.length));else{let l=a.length>>1;r.push(new pn(a.slice(0,l)),new pn(a.slice(l)))}}else r.push(s)}replace(e,t,r){if(!(r instanceof pn))return super.replace(e,t,r);[e,t]=Jd(this,e,t);let i=mv(this.text,mv(r.text,FD(this.text,0,e)),t),s=this.length+r.length-(t-e);return i.length<=32?new pn(i,s):ao.from(pn.split(i,[]),s)}sliceString(e,t=this.length,r=`
`){[e,t]=Jd(this,e,t);let i="";for(let s=0,o=0;s<=t&&o<this.text.length;o++){let a=this.text[o],l=s+a.length;s>e&&o&&(i+=r),e<l&&t>s&&(i+=a.slice(Math.max(0,e-s),t-s)),s=l+1}return i}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let r=[],i=-1;for(let s of e)r.push(s),i+=s.length+1,r.length==32&&(t.push(new pn(r,i)),r=[],i=-1);return i>-1&&t.push(new pn(r,i)),t}}class ao extends pt{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,t,r,i){for(let s=0;;s++){let o=this.children[s],a=i+o.length,l=r+o.lines-1;if((t?l:a)>=e)return o.lineInner(e,t,r,i);i=a+1,r=l+1}}decompose(e,t,r,i){for(let s=0,o=0;o<=t&&s<this.children.length;s++){let a=this.children[s],l=o+a.length;if(e<=l&&t>=o){let c=i&((o<=e?1:0)|(l>=t?2:0));o>=e&&l<=t&&!c?r.push(a):a.decompose(e-o,t-o,r,c)}o=l+1}}replace(e,t,r){if([e,t]=Jd(this,e,t),r.lines<this.lines)for(let i=0,s=0;i<this.children.length;i++){let o=this.children[i],a=s+o.length;if(e>=s&&t<=a){let l=o.replace(e-s,t-s,r),c=this.lines-o.lines+l.lines;if(l.lines<c>>4&&l.lines>c>>6){let u=this.children.slice();return u[i]=l,new ao(u,this.length-(t-e)+r.length)}return super.replace(s,a,l)}s=a+1}return super.replace(e,t,r)}sliceString(e,t=this.length,r=`
`){[e,t]=Jd(this,e,t);let i="";for(let s=0,o=0;s<this.children.length&&o<=t;s++){let a=this.children[s],l=o+a.length;o>e&&s&&(i+=r),e<l&&t>o&&(i+=a.sliceString(e-o,t-o,r)),o=l+1}return i}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof ao))return 0;let r=0,[i,s,o,a]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=t,s+=t){if(i==o||s==a)return r;let l=this.children[i],c=e.children[s];if(l!=c)return r+l.scanIdentical(c,t);r+=l.length+1}}static from(e,t=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let m of e)r+=m.lines;if(r<32){let m=[];for(let g of e)g.flatten(m);return new pn(m,t)}let i=Math.max(32,r>>5),s=i<<1,o=i>>1,a=[],l=0,c=-1,u=[];function h(m){let g;if(m.lines>s&&m instanceof ao)for(let y of m.children)h(y);else m.lines>o&&(l>o||!l)?(f(),a.push(m)):m instanceof pn&&l&&(g=u[u.length-1])instanceof pn&&m.lines+g.lines<=32?(l+=m.lines,c+=m.length+1,u[u.length-1]=new pn(g.text.concat(m.text),g.length+1+m.length)):(l+m.lines>i&&f(),l+=m.lines,c+=m.length+1,u.push(m))}function f(){l!=0&&(a.push(u.length==1?u[0]:ao.from(u,c)),c=-1,l=u.length=0)}for(let m of e)h(m);return f(),a.length==1?a[0]:new ao(a,t)}}pt.empty=new pn([""],0);function Ppe(n){let e=-1;for(let t of n)e+=t.length+1;return e}function mv(n,e,t=0,r=1e9){for(let i=0,s=0,o=!0;s<n.length&&i<=r;s++){let a=n[s],l=i+a.length;l>=t&&(l>r&&(a=a.slice(0,r-i)),i<t&&(a=a.slice(t-i)),o?(e[e.length-1]+=a,o=!1):e.push(a)),i=l+1}return e}function FD(n,e,t){return mv(n,[""],e,t)}class $m{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof pn?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],s=this.offsets[r],o=s>>1,a=i instanceof pn?i.text.length:i.children.length;if(o==(t>0?a:0)){if(r==0)return this.done=!0,this.value="",this;t>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(t>0?0:1)){if(this.offsets[r]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof pn){let l=i.text[o+(t<0?-1:0)];if(this.offsets[r]+=t,l.length>Math.max(0,e))return this.value=e==0?l:t>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=i.children[o+(t<0?-1:0)];e>l.length?(e-=l.length,this.offsets[r]+=t):(t<0&&this.offsets[r]--,this.nodes.push(l),this.offsets.push(t>0?1:(l instanceof pn?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class ZB{constructor(e,t,r){this.value="",this.done=!1,this.cursor=new $m(e,t>r?-1:1),this.pos=t>r?e.length:0,this.from=Math.min(t,r),this.to=Math.max(t,r)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let r=t<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*t,this.value=i.length<=r?i:t<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class FB{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:r,value:i}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(pt.prototype[Symbol.iterator]=function(){return this.iter()},$m.prototype[Symbol.iterator]=ZB.prototype[Symbol.iterator]=FB.prototype[Symbol.iterator]=function(){return this});class Cpe{constructor(e,t,r,i){this.from=e,this.to=t,this.number=r,this.text=i}get length(){return this.to-this.from}}function Jd(n,e,t){return e=Math.max(0,Math.min(n.length,e)),[e,Math.max(e,Math.min(n.length,t))]}function fr(n,e,t=!0,r=!0){return _pe(n,e,t,r)}function Epe(n){return n>=56320&&n<57344}function Ape(n){return n>=55296&&n<56320}function ai(n,e){let t=n.charCodeAt(e);if(!Ape(t)||e+1==n.length)return t;let r=n.charCodeAt(e+1);return Epe(r)?(t-55296<<10)+(r-56320)+65536:t}function xQ(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}function lo(n){return n<65536?1:2}const xP=/\r\n?|\n/;var Ln=function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n}(Ln||(Ln={}));class Ao{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t+1];e+=r<0?this.sections[t]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,r=0,i=0;t<this.sections.length;){let s=this.sections[t++],o=this.sections[t++];o<0?(e(r,i,s),i+=s):i+=o,r+=s}}iterChangedRanges(e,t=!1){wP(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let r=this.sections[t++],i=this.sections[t++];i<0?e.push(r,i):e.push(i,r)}return new Ao(e)}composeDesc(e){return this.empty?e:e.empty?this:BB(this,e)}mapDesc(e,t=!1){return e.empty?this:bP(this,e,t)}mapPos(e,t=-1,r=Ln.Simple){let i=0,s=0;for(let o=0;o<this.sections.length;){let a=this.sections[o++],l=this.sections[o++],c=i+a;if(l<0){if(c>e)return s+(e-i);s+=a}else{if(r!=Ln.Simple&&c>=e&&(r==Ln.TrackDel&&i<e&&c>e||r==Ln.TrackBefore&&i<e||r==Ln.TrackAfter&&c>e))return null;if(c>e||c==e&&t<0&&!a)return e==i||t<0?s:s+l;s+=l}i=c}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return s}touchesRange(e,t=e){for(let r=0,i=0;r<this.sections.length&&i<=t;){let s=this.sections[r++],o=this.sections[r++],a=i+s;if(o>=0&&i<=t&&a>=e)return i<e&&a>t?"cover":!0;i=a}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let r=this.sections[t++],i=this.sections[t++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Ao(e)}static create(e){return new Ao(e)}}class Nn extends Ao{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return wP(this,(t,r,i,s,o)=>e=e.replace(i,i+(r-t),o),!1),e}mapDesc(e,t=!1){return bP(this,e,t,!0)}invert(e){let t=this.sections.slice(),r=[];for(let i=0,s=0;i<t.length;i+=2){let o=t[i],a=t[i+1];if(a>=0){t[i]=a,t[i+1]=o;let l=i>>1;for(;r.length<l;)r.push(pt.empty);r.push(o?e.slice(s,s+o):pt.empty)}s+=o}return new Nn(t,r)}compose(e){return this.empty?e:e.empty?this:BB(this,e,!0)}map(e,t=!1){return e.empty?this:bP(this,e,t,!0)}iterChanges(e,t=!1){wP(this,e,t)}get desc(){return Ao.create(this.sections)}filter(e){let t=[],r=[],i=[],s=new Qg(this);e:for(let o=0,a=0;;){let l=o==e.length?1e9:e[o++];for(;a<l||a==l&&s.len==0;){if(s.done)break e;let u=Math.min(s.len,l-a);_r(i,u,-1);let h=s.ins==-1?-1:s.off==0?s.ins:0;_r(t,u,h),h>0&&ql(r,t,s.text),s.forward(u),a+=u}let c=e[o++];for(;a<c;){if(s.done)break e;let u=Math.min(s.len,c-a);_r(t,u,-1),_r(i,u,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(u),a+=u}}return{changes:new Nn(t,r),filtered:Ao.create(i)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t],i=this.sections[t+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,r){let i=[],s=[],o=0,a=null;function l(u=!1){if(!u&&!i.length)return;o<t&&_r(i,t-o,-1);let h=new Nn(i,s);a=a?a.compose(h.map(a)):h,i=[],s=[],o=0}function c(u){if(Array.isArray(u))for(let h of u)c(h);else if(u instanceof Nn){if(u.length!=t)throw new RangeError(`Mismatched change set length (got ${u.length}, expected ${t})`);l(),a=a?a.compose(u.map(a)):u}else{let{from:h,to:f=h,insert:m}=u;if(h>f||h<0||f>t)throw new RangeError(`Invalid change range ${h} to ${f} (in doc of length ${t})`);let g=m?typeof m=="string"?pt.of(m.split(r||xP)):m:pt.empty,y=g.length;if(h==f&&y==0)return;h<o&&l(),h>o&&_r(i,h-o,-1),_r(i,f-h,y),ql(s,i,g),o=f}}return c(e),l(!a),a}static empty(e){return new Nn(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],r=[];for(let i=0;i<e.length;i++){let s=e[i];if(typeof s=="number")t.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((o,a)=>a&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)t.push(s[0],0);else{for(;r.length<i;)r.push(pt.empty);r[i]=pt.of(s.slice(1)),t.push(s[0],r[i].length)}}}return new Nn(t,r)}static createSet(e,t){return new Nn(e,t)}}function _r(n,e,t,r=!1){if(e==0&&t<=0)return;let i=n.length-2;i>=0&&t<=0&&t==n[i+1]?n[i]+=e:i>=0&&e==0&&n[i]==0?n[i+1]+=t:r?(n[i]+=e,n[i+1]+=t):n.push(e,t)}function ql(n,e,t){if(t.length==0)return;let r=e.length-2>>1;if(r<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<r;)n.push(pt.empty);n.push(t)}}function wP(n,e,t){let r=n.inserted;for(let i=0,s=0,o=0;o<n.sections.length;){let a=n.sections[o++],l=n.sections[o++];if(l<0)i+=a,s+=a;else{let c=i,u=s,h=pt.empty;for(;c+=a,u+=l,l&&r&&(h=h.append(r[o-2>>1])),!(t||o==n.sections.length||n.sections[o+1]<0);)a=n.sections[o++],l=n.sections[o++];e(i,c,s,u,h),i=c,s=u}}}function bP(n,e,t,r=!1){let i=[],s=r?[]:null,o=new Qg(n),a=new Qg(e);for(let l=-1;;){if(o.done&&a.len||a.done&&o.len)throw new Error("Mismatched change set lengths");if(o.ins==-1&&a.ins==-1){let c=Math.min(o.len,a.len);_r(i,c,-1),o.forward(c),a.forward(c)}else if(a.ins>=0&&(o.ins<0||l==o.i||o.off==0&&(a.len<o.len||a.len==o.len&&!t))){let c=a.len;for(_r(i,a.ins,-1);c;){let u=Math.min(o.len,c);o.ins>=0&&l<o.i&&o.len<=u&&(_r(i,0,o.ins),s&&ql(s,i,o.text),l=o.i),o.forward(u),c-=u}a.next()}else if(o.ins>=0){let c=0,u=o.len;for(;u;)if(a.ins==-1){let h=Math.min(u,a.len);c+=h,u-=h,a.forward(h)}else if(a.ins==0&&a.len<u)u-=a.len,a.next();else break;_r(i,c,l<o.i?o.ins:0),s&&l<o.i&&ql(s,i,o.text),l=o.i,o.forward(o.len-u)}else{if(o.done&&a.done)return s?Nn.createSet(i,s):Ao.create(i);throw new Error("Mismatched change set lengths")}}}function BB(n,e,t=!1){let r=[],i=t?[]:null,s=new Qg(n),o=new Qg(e);for(let a=!1;;){if(s.done&&o.done)return i?Nn.createSet(r,i):Ao.create(r);if(s.ins==0)_r(r,s.len,0,a),s.next();else if(o.len==0&&!o.done)_r(r,0,o.ins,a),i&&ql(i,r,o.text),o.next();else{if(s.done||o.done)throw new Error("Mismatched change set lengths");{let l=Math.min(s.len2,o.len),c=r.length;if(s.ins==-1){let u=o.ins==-1?-1:o.off?0:o.ins;_r(r,l,u,a),i&&u&&ql(i,r,o.text)}else o.ins==-1?(_r(r,s.off?0:s.len,l,a),i&&ql(i,r,s.textBit(l))):(_r(r,s.off?0:s.len,o.off?0:o.ins,a),i&&!o.off&&ql(i,r,o.text));a=(s.ins>l||o.ins>=0&&o.len>l)&&(a||r.length>c),s.forward2(l),o.forward(l)}}}}class Qg{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?pt.empty:e[t]}textBit(e){let{inserted:t}=this.set,r=this.i-2>>1;return r>=t.length&&!e?pt.empty:t[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class fu{constructor(e,t,r){this.from=e,this.to=t,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,t):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new fu(r,i,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return te.range(e,t);let r=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return te.range(this.anchor,r)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return te.range(e.anchor,e.head)}static create(e,t,r){return new fu(e,t,r)}}class te{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:te.create(this.ranges.map(r=>r.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new te([this.main],0)}addRange(e,t=!0){return te.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let r=this.ranges.slice();return r[t]=e,te.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new te(e.ranges.map(t=>fu.fromJSON(t)),e.main)}static single(e,t=e){return new te([te.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let s=e[i];if(s.empty?s.from<=r:s.from<r)return te.normalized(e.slice(),t);r=s.to}return new te(e,t)}static cursor(e,t=0,r,i){return fu.create(e,e,(t==0?0:t<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(e,t,r,i){let s=(r??16777215)<<6|(i==null?7:Math.min(6,i));return t<e?fu.create(t,e,48|s):fu.create(e,t,(t>e?8:0)|s)}static normalized(e,t=0){let r=e[t];e.sort((i,s)=>i.from-s.from),t=e.indexOf(r);for(let i=1;i<e.length;i++){let s=e[i],o=e[i-1];if(s.empty?s.from<=o.to:s.from<o.to){let a=o.from,l=Math.max(s.to,o.to);i<=t&&t--,e.splice(--i,2,s.anchor>s.head?te.range(l,a):te.range(a,l))}}return new te(e,t)}}function WB(n,e){for(let t of n.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let wQ=0;class de{constructor(e,t,r,i,s){this.combine=e,this.compareInput=t,this.compare=r,this.isStatic=i,this.id=wQ++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(e={}){return new de(e.combine||(t=>t),e.compareInput||((t,r)=>t===r),e.compare||(e.combine?(t,r)=>t===r:bQ),!!e.static,e.enables)}of(e){return new gv([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new gv(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new gv(e,this,2,t)}from(e,t){return t||(t=r=>r),this.compute([e],r=>t(r.field(e)))}}function bQ(n,e){return n==e||n.length==e.length&&n.every((t,r)=>t===e[r])}class gv{constructor(e,t,r,i){this.dependencies=e,this.facet=t,this.type=r,this.value=i,this.id=wQ++}dynamicSlot(e){var t;let r=this.value,i=this.facet.compareInput,s=this.id,o=e[s]>>1,a=this.type==2,l=!1,c=!1,u=[];for(let h of this.dependencies)h=="doc"?l=!0:h=="selection"?c=!0:((t=e[h.id])!==null&&t!==void 0?t:1)&1||u.push(e[h.id]);return{create(h){return h.values[o]=r(h),1},update(h,f){if(l&&f.docChanged||c&&(f.docChanged||f.selection)||SP(h,u)){let m=r(h);if(a?!BD(m,h.values[o],i):!i(m,h.values[o]))return h.values[o]=m,1}return 0},reconfigure:(h,f)=>{let m,g=f.config.address[s];if(g!=null){let y=cw(f,g);if(this.dependencies.every(x=>x instanceof de?f.facet(x)===h.facet(x):x instanceof Xt?f.field(x,!1)==h.field(x,!1):!0)||(a?BD(m=r(h),y,i):i(m=r(h),y)))return h.values[o]=y,0}else m=r(h);return h.values[o]=m,1}}}}function BD(n,e,t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!t(n[r],e[r]))return!1;return!0}function SP(n,e){let t=!1;for(let r of e)Nm(n,r)&1&&(t=!0);return t}function Rpe(n,e,t){let r=t.map(l=>n[l.id]),i=t.map(l=>l.type),s=r.filter(l=>!(l&1)),o=n[e.id]>>1;function a(l){let c=[];for(let u=0;u<r.length;u++){let h=cw(l,r[u]);if(i[u]==2)for(let f of h)c.push(f);else c.push(h)}return e.combine(c)}return{create(l){for(let c of r)Nm(l,c);return l.values[o]=a(l),1},update(l,c){if(!SP(l,s))return 0;let u=a(l);return e.compare(u,l.values[o])?0:(l.values[o]=u,1)},reconfigure(l,c){let u=SP(l,r),h=c.config.facets[e.id],f=c.facet(e);if(h&&!u&&bQ(t,h))return l.values[o]=f,0;let m=a(l);return e.compare(m,f)?(l.values[o]=f,0):(l.values[o]=m,1)}}}const a0=de.define({static:!0});class Xt{constructor(e,t,r,i,s){this.id=e,this.createF=t,this.updateF=r,this.compareF=i,this.spec=s,this.provides=void 0}static define(e){let t=new Xt(wQ++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(a0).find(r=>r.field==this);return((t==null?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:r=>(r.values[t]=this.create(r),1),update:(r,i)=>{let s=r.values[t],o=this.updateF(s,i);return this.compareF(s,o)?0:(r.values[t]=o,1)},reconfigure:(r,i)=>{let s=r.facet(a0),o=i.facet(a0),a;return(a=s.find(l=>l.field==this))&&a!=o.find(l=>l.field==this)?(r.values[t]=a.create(r),1):i.config.address[this.id]!=null?(r.values[t]=i.field(this),0):(r.values[t]=this.create(r),1)}}}init(e){return[this,a0.of({field:this,create:e})]}get extension(){return this}}const ou={lowest:4,low:3,default:2,high:1,highest:0};function Sp(n){return e=>new XB(e,n)}const sl={highest:Sp(ou.highest),high:Sp(ou.high),default:Sp(ou.default),low:Sp(ou.low),lowest:Sp(ou.lowest)};class XB{constructor(e,t){this.inner=e,this.prec=t}}class cS{of(e){return new kP(this,e)}reconfigure(e){return cS.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class kP{constructor(e,t){this.compartment=e,this.inner=t}}class lw{constructor(e,t,r,i,s,o){for(this.base=e,this.compartments=t,this.dynamicSlots=r,this.address=i,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,r){let i=[],s=Object.create(null),o=new Map;for(let f of Qpe(e,t,o))f instanceof Xt?i.push(f):(s[f.facet.id]||(s[f.facet.id]=[])).push(f);let a=Object.create(null),l=[],c=[];for(let f of i)a[f.id]=c.length<<1,c.push(m=>f.slot(m));let u=r==null?void 0:r.config.facets;for(let f in s){let m=s[f],g=m[0].facet,y=u&&u[f]||[];if(m.every(x=>x.type==0))if(a[g.id]=l.length<<1|1,bQ(y,m))l.push(r.facet(g));else{let x=g.combine(m.map(S=>S.value));l.push(r&&g.compare(x,r.facet(g))?r.facet(g):x)}else{for(let x of m)x.type==0?(a[x.id]=l.length<<1|1,l.push(x.value)):(a[x.id]=c.length<<1,c.push(S=>x.dynamicSlot(S)));a[g.id]=c.length<<1,c.push(x=>Rpe(x,g,m))}}let h=c.map(f=>f(a));return new lw(e,o,h,a,l,s)}}function Qpe(n,e,t){let r=[[],[],[],[],[]],i=new Map;function s(o,a){let l=i.get(o);if(l!=null){if(l<=a)return;let c=r[l].indexOf(o);c>-1&&r[l].splice(c,1),o instanceof kP&&t.delete(o.compartment)}if(i.set(o,a),Array.isArray(o))for(let c of o)s(c,a);else if(o instanceof kP){if(t.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let c=e.get(o.compartment)||o.inner;t.set(o.compartment,c),s(c,a)}else if(o instanceof XB)s(o.inner,o.prec);else if(o instanceof Xt)r[a].push(o),o.provides&&s(o.provides,a);else if(o instanceof gv)r[a].push(o),o.facet.extensions&&s(o.facet.extensions,ou.default);else{let c=o.extension;if(!c)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(c,a)}}return s(n,ou.default),r.reduce((o,a)=>o.concat(a))}function Nm(n,e){if(e&1)return 2;let t=e>>1,r=n.status[t];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;n.status[t]=4;let i=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|i}function cw(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const GB=de.define(),_P=de.define({combine:n=>n.some(e=>e),static:!0}),YB=de.define({combine:n=>n.length?n[0]:void 0,static:!0}),HB=de.define(),KB=de.define(),JB=de.define(),eW=de.define({combine:n=>n.length?n[0]:!1});class Fs{constructor(e,t){this.type=e,this.value=t}static define(){return new Ipe}}class Ipe{of(e){return new Fs(this,e)}}class $pe{constructor(e){this.map=e}of(e){return new Ne(this,e)}}class Ne{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new Ne(this.type,t)}is(e){return this.type==e}static define(e={}){return new $pe(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let r=[];for(let i of e){let s=i.map(t);s&&r.push(s)}return r}}Ne.reconfigure=Ne.define();Ne.appendConfig=Ne.define();class vn{constructor(e,t,r,i,s,o){this.startState=e,this.changes=t,this.selection=r,this.effects=i,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,r&&WB(r,t.newLength),s.some(a=>a.type==vn.time)||(this.annotations=s.concat(vn.time.of(Date.now())))}static create(e,t,r,i,s,o){return new vn(e,t,r,i,s,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(vn.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}vn.time=Fs.define();vn.userEvent=Fs.define();vn.addToHistory=Fs.define();vn.remote=Fs.define();function Npe(n,e){let t=[];for(let r=0,i=0;;){let s,o;if(r<n.length&&(i==e.length||e[i]>=n[r]))s=n[r++],o=n[r++];else if(i<e.length)s=e[i++],o=e[i++];else return t;!t.length||t[t.length-1]<s?t.push(s,o):t[t.length-1]<o&&(t[t.length-1]=o)}}function tW(n,e,t){var r;let i,s,o;return t?(i=e.changes,s=Nn.empty(e.changes.length),o=n.changes.compose(e.changes)):(i=e.changes.map(n.changes),s=n.changes.mapDesc(e.changes,!0),o=n.changes.compose(i)),{changes:o,selection:e.selection?e.selection.map(s):(r=n.selection)===null||r===void 0?void 0:r.map(i),effects:Ne.mapEffects(n.effects,i).concat(Ne.mapEffects(e.effects,s)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function TP(n,e,t){let r=e.selection,i=md(e.annotations);return e.userEvent&&(i=i.concat(vn.userEvent.of(e.userEvent))),{changes:e.changes instanceof Nn?e.changes:Nn.of(e.changes||[],t,n.facet(YB)),selection:r&&(r instanceof te?r:te.single(r.anchor,r.head)),effects:md(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function nW(n,e,t){let r=TP(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(t=!1);let o=!!e[s].sequential;r=tW(r,TP(n,e[s],o?r.changes.newLength:n.doc.length),o)}let i=vn.create(n,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return Dpe(t?jpe(i):i)}function jpe(n){let e=n.startState,t=!0;for(let i of e.facet(HB)){let s=i(n);if(s===!1){t=!1;break}Array.isArray(s)&&(t=t===!0?s:Npe(t,s))}if(t!==!0){let i,s;if(t===!1)s=n.changes.invertedDesc,i=Nn.empty(e.doc.length);else{let o=n.changes.filter(t);i=o.changes,s=o.filtered.mapDesc(o.changes).invertedDesc}n=vn.create(e,i,n.selection&&n.selection.map(s),Ne.mapEffects(n.effects,s),n.annotations,n.scrollIntoView)}let r=e.facet(KB);for(let i=r.length-1;i>=0;i--){let s=r[i](n);s instanceof vn?n=s:Array.isArray(s)&&s.length==1&&s[0]instanceof vn?n=s[0]:n=nW(e,md(s),!1)}return n}function Dpe(n){let e=n.startState,t=e.facet(JB),r=n;for(let i=t.length-1;i>=0;i--){let s=t[i](n);s&&Object.keys(s).length&&(r=tW(r,TP(e,s,n.changes.newLength),!0))}return r==n?n:vn.create(e,n.changes,n.selection,r.effects,r.annotations,r.scrollIntoView)}const Mpe=[];function md(n){return n==null?Mpe:Array.isArray(n)?n:[n]}var Ht=function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n}(Ht||(Ht={}));const Vpe=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let PP;try{PP=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function Lpe(n){if(PP)return PP.test(n);for(let e=0;e<n.length;e++){let t=n[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||Vpe.test(t)))return!0}return!1}function Upe(n){return e=>{if(!/\S/.test(e))return Ht.Space;if(Lpe(e))return Ht.Word;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return Ht.Word;return Ht.Other}}class De{constructor(e,t,r,i,s,o){this.config=e,this.doc=t,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)Nm(this,a<<1);this.computeSlot=null}field(e,t=!0){let r=this.config.address[e.id];if(r==null){if(t)throw new RangeError("Field is not present in this state");return}return Nm(this,r),cw(this,r)}update(...e){return nW(this,e,!0)}applyTransaction(e){let t=this.config,{base:r,compartments:i}=t;for(let a of e.effects)a.is(cS.reconfigure)?(t&&(i=new Map,t.compartments.forEach((l,c)=>i.set(c,l)),t=null),i.set(a.value.compartment,a.value.extension)):a.is(Ne.reconfigure)?(t=null,r=a.value):a.is(Ne.appendConfig)&&(t=null,r=md(r).concat(a.value));let s;t?s=e.startState.values.slice():(t=lw.resolve(r,i,this),s=new De(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(l,c)=>c.reconfigure(l,this),null).values);let o=e.startState.facet(_P)?e.newSelection:e.newSelection.asSingle();new De(t,e.newDoc,o,s,(a,l)=>l.update(a,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:te.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,r=e(t.ranges[0]),i=this.changes(r.changes),s=[r.range],o=md(r.effects);for(let a=1;a<t.ranges.length;a++){let l=e(t.ranges[a]),c=this.changes(l.changes),u=c.map(i);for(let f=0;f<a;f++)s[f]=s[f].map(u);let h=i.mapDesc(c,!0);s.push(l.range.map(h)),i=i.compose(u),o=Ne.mapEffects(o,u).concat(Ne.mapEffects(md(l.effects),h))}return{changes:i,selection:te.create(s,t.mainIndex),effects:o}}changes(e=[]){return e instanceof Nn?e:Nn.of(e,this.doc.length,this.facet(De.lineSeparator))}toText(e){return pt.of(e.split(this.facet(De.lineSeparator)||xP))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(Nm(this,t),cw(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof Xt&&this.config.address[i.id]!=null&&(t[r]=i.spec.toJSON(this.field(e[r]),this))}return t}static fromJSON(e,t={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let s in r)if(Object.prototype.hasOwnProperty.call(e,s)){let o=r[s],a=e[s];i.push(o.init(l=>o.spec.fromJSON(a,l)))}}return De.create({doc:e.doc,selection:te.fromJSON(e.selection),extensions:t.extensions?i.concat([t.extensions]):i})}static create(e={}){let t=lw.resolve(e.extensions||[],new Map),r=e.doc instanceof pt?e.doc:pt.of((e.doc||"").split(t.staticFacet(De.lineSeparator)||xP)),i=e.selection?e.selection instanceof te?e.selection:te.single(e.selection.anchor,e.selection.head):te.single(0);return WB(i,r.length),t.staticFacet(_P)||(i=i.asSingle()),new De(t,r,i,t.dynamicSlots.map(()=>null),(s,o)=>o.create(s),null)}get tabSize(){return this.facet(De.tabSize)}get lineBreak(){return this.facet(De.lineSeparator)||`
`}get readOnly(){return this.facet(eW)}phrase(e,...t){for(let r of this.facet(De.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let s=+(i||1);return!s||s>t.length?r:t[s-1]})),e}languageDataAt(e,t,r=-1){let i=[];for(let s of this.facet(GB))for(let o of s(this,t,r))Object.prototype.hasOwnProperty.call(o,e)&&i.push(o[e]);return i}charCategorizer(e){return Upe(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:r,length:i}=this.doc.lineAt(e),s=this.charCategorizer(e),o=e-r,a=e-r;for(;o>0;){let l=fr(t,o,!1);if(s(t.slice(l,o))!=Ht.Word)break;o=l}for(;a<i;){let l=fr(t,a);if(s(t.slice(a,l))!=Ht.Word)break;a=l}return o==a?null:te.range(o+r,a+r)}}De.allowMultipleSelections=_P;De.tabSize=de.define({combine:n=>n.length?n[0]:4});De.lineSeparator=YB;De.readOnly=eW;De.phrases=de.define({compare(n,e){let t=Object.keys(n),r=Object.keys(e);return t.length==r.length&&t.every(i=>n[i]==e[i])}});De.languageData=GB;De.changeFilter=HB;De.transactionFilter=KB;De.transactionExtender=JB;cS.reconfigure=Ne.define();function Jo(n,e,t={}){let r={};for(let i of n)for(let s of Object.keys(i)){let o=i[s],a=r[s];if(a===void 0)r[s]=o;else if(!(a===o||o===void 0))if(Object.hasOwnProperty.call(t,s))r[s]=t[s](a,o);else throw new Error("Config merge conflict for field "+s)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class Do{eq(e){return this==e}range(e,t=e){return CP.create(e,t,this)}}Do.prototype.startSide=Do.prototype.endSide=0;Do.prototype.point=!1;Do.prototype.mapMode=Ln.TrackDel;let CP=class rW{constructor(e,t,r){this.from=e,this.to=t,this.value=r}static create(e,t,r){return new rW(e,t,r)}};function EP(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class SQ{constructor(e,t,r,i){this.from=e,this.to=t,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,t,r,i=0){let s=r?this.to:this.from;for(let o=i,a=s.length;;){if(o==a)return o;let l=o+a>>1,c=s[l]-e||(r?this.value[l].endSide:this.value[l].startSide)-t;if(l==o)return c>=0?o:a;c>=0?a=l:o=l+1}}between(e,t,r,i){for(let s=this.findIndex(t,-1e9,!0),o=this.findIndex(r,1e9,!1,s);s<o;s++)if(i(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,t){let r=[],i=[],s=[],o=-1,a=-1;for(let l=0;l<this.value.length;l++){let c=this.value[l],u=this.from[l]+e,h=this.to[l]+e,f,m;if(u==h){let g=t.mapPos(u,c.startSide,c.mapMode);if(g==null||(f=m=g,c.startSide!=c.endSide&&(m=t.mapPos(u,c.endSide),m<f)))continue}else if(f=t.mapPos(u,c.startSide),m=t.mapPos(h,c.endSide),f>m||f==m&&c.startSide>0&&c.endSide<=0)continue;(m-f||c.endSide-c.startSide)<0||(o<0&&(o=f),c.point&&(a=Math.max(a,m-f)),r.push(c),i.push(f-o),s.push(m-o))}return{mapped:r.length?new SQ(i,s,r,a):null,pos:o}}}class yt{constructor(e,t,r,i){this.chunkPos=e,this.chunk=t,this.nextLayer=r,this.maxPoint=i}static create(e,t,r,i){return new yt(e,t,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:r=!1,filterFrom:i=0,filterTo:s=this.length}=e,o=e.filter;if(t.length==0&&!o)return this;if(r&&(t=t.slice().sort(EP)),this.isEmpty)return t.length?yt.of(t):this;let a=new iW(this,null,-1).goto(0),l=0,c=[],u=new Xa;for(;a.value||l<t.length;)if(l<t.length&&(a.from-t[l].from||a.startSide-t[l].value.startSide)>=0){let h=t[l++];u.addInner(h.from,h.to,h.value)||c.push(h)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==t.length||this.chunkEnd(a.chunkIndex)<t[l].from)&&(!o||i>this.chunkEnd(a.chunkIndex)||s<this.chunkPos[a.chunkIndex])&&u.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!o||i>a.to||s<a.from||o(a.from,a.to,a.value))&&(u.addInner(a.from,a.to,a.value)||c.push(CP.create(a.from,a.to,a.value))),a.next());return u.finishInner(this.nextLayer.isEmpty&&!c.length?yt.empty:this.nextLayer.update({add:c,filter:o,filterFrom:i,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],r=[],i=-1;for(let o=0;o<this.chunk.length;o++){let a=this.chunkPos[o],l=this.chunk[o],c=e.touchesRange(a,a+l.length);if(c===!1)i=Math.max(i,l.maxPoint),t.push(l),r.push(e.mapPos(a));else if(c===!0){let{mapped:u,pos:h}=l.map(a,e);u&&(i=Math.max(i,u.maxPoint),t.push(u),r.push(h))}}let s=this.nextLayer.map(e);return t.length==0?s:new yt(r,t,s||yt.empty,i)}between(e,t,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let s=this.chunkPos[i],o=this.chunk[i];if(t>=s&&e<=s+o.length&&o.between(s,e-s,t-s,r)===!1)return}this.nextLayer.between(e,t,r)}}iter(e=0){return Ig.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return Ig.from(e).goto(t)}static compare(e,t,r,i,s=-1){let o=e.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=s),a=t.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=s),l=WD(o,a,r),c=new kp(o,l,s),u=new kp(a,l,s);r.iterGaps((h,f,m)=>XD(c,h,u,f,m,i)),r.empty&&r.length==0&&XD(c,0,u,0,0,i)}static eq(e,t,r=0,i){i==null&&(i=999999999);let s=e.filter(u=>!u.isEmpty&&t.indexOf(u)<0),o=t.filter(u=>!u.isEmpty&&e.indexOf(u)<0);if(s.length!=o.length)return!1;if(!s.length)return!0;let a=WD(s,o),l=new kp(s,a,0).goto(r),c=new kp(o,a,0).goto(r);for(;;){if(l.to!=c.to||!AP(l.active,c.active)||l.point&&(!c.point||!l.point.eq(c.point)))return!1;if(l.to>i)return!0;l.next(),c.next()}}static spans(e,t,r,i,s=-1){let o=new kp(e,null,s).goto(t),a=t,l=o.openStart;for(;;){let c=Math.min(o.to,r);if(o.point){let u=o.activeForPoint(o.to),h=o.pointFrom<t?u.length+1:o.point.startSide<0?u.length:Math.min(u.length,l);i.point(a,c,o.point,u,h,o.pointRank),l=Math.min(o.openEnd(c),u.length)}else c>a&&(i.span(a,c,o.active,l),l=o.openEnd(c));if(o.to>r)return l+(o.point&&o.to>r?1:0);a=o.to,o.next()}}static of(e,t=!1){let r=new Xa;for(let i of e instanceof CP?[e]:t?zpe(e):e)r.add(i.from,i.to,i.value);return r.finish()}static join(e){if(!e.length)return yt.empty;let t=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let i=e[r];i!=yt.empty;i=i.nextLayer)t=new yt(i.chunkPos,i.chunk,t,Math.max(i.maxPoint,t.maxPoint));return t}}yt.empty=new yt([],[],null,-1);function zpe(n){if(n.length>1)for(let e=n[0],t=1;t<n.length;t++){let r=n[t];if(EP(e,r)>0)return n.slice().sort(EP);e=r}return n}yt.empty.nextLayer=yt.empty;class Xa{finishChunk(e){this.chunks.push(new SQ(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,r){this.addInner(e,t,r)||(this.nextLayer||(this.nextLayer=new Xa)).add(e,t,r)}addInner(e,t,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=t,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let r=t.value.length-1;return this.last=t.value[r],this.lastFrom=t.from[r]+e,this.lastTo=t.to[r]+e,!0}finish(){return this.finishInner(yt.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=yt.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function WD(n,e,t){let r=new Map;for(let s of n)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&r.set(s.chunk[o],s.chunkPos[o]);let i=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let a=r.get(s.chunk[o]);a!=null&&(t?t.mapPos(a):a)==s.chunkPos[o]&&!(t!=null&&t.touchesRange(a,a+s.chunk[o].length))&&i.add(s.chunk[o])}return i}class iW{constructor(e,t,r,i=0){this.layer=e,this.skip=t,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],r=e+t.from[this.rangeIndex];if(this.from=r,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Ig{constructor(e){this.heap=e}static from(e,t=null,r=-1){let i=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=r&&i.push(new iW(o,t,r,s));return i.length==1?i[0]:new Ig(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let r of this.heap)r.goto(e,t);for(let r=this.heap.length>>1;r>=0;r--)ck(this.heap,r);return this.next(),this}forward(e,t){for(let r of this.heap)r.forward(e,t);for(let r=this.heap.length>>1;r>=0;r--)ck(this.heap,r);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),ck(this.heap,0)}}}function ck(n,e){for(let t=n[e];;){let r=(e<<1)+1;if(r>=n.length)break;let i=n[r];if(r+1<n.length&&i.compare(n[r+1])>=0&&(i=n[r+1],r++),t.compare(i)<0)break;n[r]=t,n[e]=i,e=r}}class kp{constructor(e,t,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Ig.from(e,t,r)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){l0(this.active,e),l0(this.activeTo,e),l0(this.activeRank,e),this.minActive=GD(this.active,this.activeTo)}addActive(e){let t=0,{value:r,to:i,rank:s}=this.cursor;for(;t<this.activeRank.length&&(s-this.activeRank[t]||i-this.activeTo[t])>0;)t++;c0(this.active,t,r),c0(this.activeTo,t,i),c0(this.activeRank,t,s),e&&c0(e,t,this.cursor.from),this.minActive=GD(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&l0(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(r),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&t.push(this.active[r]);return t.reverse()}openEnd(e){let t=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)t++;return t}}function XD(n,e,t,r,i,s){n.goto(e),t.goto(r);let o=r+i,a=r,l=r-e;for(;;){let c=n.to+l-t.to,u=c||n.endSide-t.endSide,h=u<0?n.to+l:t.to,f=Math.min(h,o);if(n.point||t.point?n.point&&t.point&&(n.point==t.point||n.point.eq(t.point))&&AP(n.activeForPoint(n.to),t.activeForPoint(t.to))||s.comparePoint(a,f,n.point,t.point):f>a&&!AP(n.active,t.active)&&s.compareRange(a,f,n.active,t.active),h>o)break;(c||n.openEnd!=t.openEnd)&&s.boundChange&&s.boundChange(h),a=h,u<=0&&n.next(),u>=0&&t.next()}}function AP(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t]&&!n[t].eq(e[t]))return!1;return!0}function l0(n,e){for(let t=e,r=n.length-1;t<r;t++)n[t]=n[t+1];n.pop()}function c0(n,e,t){for(let r=n.length-1;r>=e;r--)n[r+1]=n[r];n[e]=t}function GD(n,e){let t=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||n[i].endSide-n[t].endSide)<0&&(t=i,r=e[i]);return t}function Uf(n,e,t=n.length){let r=0;for(let i=0;i<t&&i<n.length;)n.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=fr(n,i));return r}function RP(n,e,t,r){for(let i=0,s=0;;){if(s>=e)return i;if(i==n.length)break;s+=n.charCodeAt(i)==9?t-s%t:1,i=fr(n,i)}return r===!0?-1:n.length}const QP="",YD=typeof Symbol>"u"?"__"+QP:Symbol.for(QP),IP=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),HD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Rn{constructor(e,t){this.rules=[];let{finish:r}=t||{};function i(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function s(o,a,l,c){let u=[],h=/^@(\w+)\b/.exec(o[0]),f=h&&h[1]=="keyframes";if(h&&a==null)return l.push(o[0]+";");for(let m in a){let g=a[m];if(/&/.test(m))s(m.split(/,\s*/).map(y=>o.map(x=>y.replace(/&/,x))).reduce((y,x)=>y.concat(x)),g,l);else if(g&&typeof g=="object"){if(!h)throw new RangeError("The value of a property ("+m+") should be a primitive value.");s(i(m),g,u,f)}else g!=null&&u.push(m.replace(/_.*/,"").replace(/[A-Z]/g,y=>"-"+y.toLowerCase())+": "+g+";")}(u.length||f)&&l.push((r&&!h&&!c?o.map(r):o).join(", ")+" {"+u.join(" ")+"}")}for(let o in e)s(i(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=HD[YD]||1;return HD[YD]=e+1,QP+e.toString(36)}static mount(e,t,r){let i=e[IP],s=r&&r.nonce;i?s&&i.setNonce(s):i=new qpe(e,s),i.mount(Array.isArray(t)?t:[t],e)}}let KD=new Map;class qpe{constructor(e,t){let r=e.ownerDocument||e,i=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let s=KD.get(r);if(s)return e[IP]=s;this.sheet=new i.CSSStyleSheet,KD.set(r,this)}else this.styleTag=r.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[IP]=this}mount(e,t){let r=this.sheet,i=0,s=0;for(let o=0;o<e.length;o++){let a=e[o],l=this.modules.indexOf(a);if(l<s&&l>-1&&(this.modules.splice(l,1),s--,l=-1),l==-1){if(this.modules.splice(s++,0,a),r)for(let c=0;c<a.rules.length;c++)r.insertRule(a.rules[c],i++)}else{for(;s<l;)i+=this.modules[s++].rules.length;i+=a.rules.length,s++}}if(r)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let o="";for(let l=0;l<this.modules.length;l++)o+=this.modules[l].getRules()+`
`;this.styleTag.textContent=o;let a=t.head||t;this.styleTag.parentNode!=a&&a.insertBefore(this.styleTag,a.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var Sc={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},$g={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Zpe=typeof navigator<"u"&&/Mac/.test(navigator.platform),Fpe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var or=0;or<10;or++)Sc[48+or]=Sc[96+or]=String(or);for(var or=1;or<=24;or++)Sc[or+111]="F"+or;for(var or=65;or<=90;or++)Sc[or]=String.fromCharCode(or+32),$g[or]=String.fromCharCode(or);for(var uk in Sc)$g.hasOwnProperty(uk)||($g[uk]=Sc[uk]);function Bpe(n){var e=Zpe&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||Fpe&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?$g:Sc)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function Ng(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function $P(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function Ov(n,e){if(!e.anchorNode)return!1;try{return $P(n,e.anchorNode)}catch{return!1}}function jg(n){return n.nodeType==3?Gu(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function jm(n,e,t,r){return t?JD(n,e,t,r,-1)||JD(n,e,t,r,1):!1}function Xu(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function uw(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}function JD(n,e,t,r,i){for(;;){if(n==t&&e==r)return!0;if(e==(i<0?0:Mo(n))){if(n.nodeName=="DIV")return!1;let s=n.parentNode;if(!s||s.nodeType!=1)return!1;e=Xu(n)+(i<0?0:1),n=s}else if(n.nodeType==1){if(n=n.childNodes[e+(i<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=i<0?Mo(n):0}else return!1}}function Mo(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function uS(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function Wpe(n){let e=n.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function sW(n,e){let t=e.width/n.offsetWidth,r=e.height/n.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-n.offsetWidth)<1)&&(t=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-n.offsetHeight)<1)&&(r=1),{scaleX:t,scaleY:r}}function Xpe(n,e,t,r,i,s,o,a){let l=n.ownerDocument,c=l.defaultView||window;for(let u=n,h=!1;u&&!h;)if(u.nodeType==1){let f,m=u==l.body,g=1,y=1;if(m)f=Wpe(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(u).position)&&(h=!0),u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.assignedSlot||u.parentNode;continue}let _=u.getBoundingClientRect();({scaleX:g,scaleY:y}=sW(u,_)),f={left:_.left,right:_.left+u.clientWidth*g,top:_.top,bottom:_.top+u.clientHeight*y}}let x=0,S=0;if(i=="nearest")e.top<f.top?(S=e.top-(f.top+o),t>0&&e.bottom>f.bottom+S&&(S=e.bottom-f.bottom+o)):e.bottom>f.bottom&&(S=e.bottom-f.bottom+o,t<0&&e.top-S<f.top&&(S=e.top-(f.top+o)));else{let _=e.bottom-e.top,T=f.bottom-f.top;S=(i=="center"&&_<=T?e.top+_/2-T/2:i=="start"||i=="center"&&t<0?e.top-o:e.bottom-T+o)-f.top}if(r=="nearest"?e.left<f.left?(x=e.left-(f.left+s),t>0&&e.right>f.right+x&&(x=e.right-f.right+s)):e.right>f.right&&(x=e.right-f.right+s,t<0&&e.left<f.left+x&&(x=e.left-(f.left+s))):x=(r=="center"?e.left+(e.right-e.left)/2-(f.right-f.left)/2:r=="start"==a?e.left-s:e.right-(f.right-f.left)+s)-f.left,x||S)if(m)c.scrollBy(x,S);else{let _=0,T=0;if(S){let I=u.scrollTop;u.scrollTop+=S/y,T=(u.scrollTop-I)*y}if(x){let I=u.scrollLeft;u.scrollLeft+=x/g,_=(u.scrollLeft-I)*g}e={left:e.left-_,top:e.top-T,right:e.right-_,bottom:e.bottom-T},_&&Math.abs(_-x)<1&&(r="nearest"),T&&Math.abs(T-S)<1&&(i="nearest")}if(m)break;(e.top<f.top||e.bottom>f.bottom||e.left<f.left||e.right>f.right)&&(e={left:Math.max(e.left,f.left),right:Math.min(e.right,f.right),top:Math.max(e.top,f.top),bottom:Math.min(e.bottom,f.bottom)}),u=u.assignedSlot||u.parentNode}else if(u.nodeType==11)u=u.host;else break}function Gpe(n){let e=n.ownerDocument,t,r;for(let i=n.parentNode;i&&!(i==e.body||t&&r);)if(i.nodeType==1)!r&&i.scrollHeight>i.clientHeight&&(r=i),!t&&i.scrollWidth>i.clientWidth&&(t=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:t,y:r}}class Ype{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:r}=e;this.set(t,Math.min(e.anchorOffset,t?Mo(t):0),r,Math.min(e.focusOffset,r?Mo(r):0))}set(e,t,r,i){this.anchorNode=e,this.anchorOffset=t,this.focusNode=r,this.focusOffset=i}}let kh=null;function oW(n){if(n.setActive)return n.setActive();if(kh)return n.focus(kh);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(kh==null?{get preventScroll(){return kh={preventScroll:!0},!0}}:void 0),!kh){kh=!1;for(let t=0;t<e.length;){let r=e[t++],i=e[t++],s=e[t++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=s&&(r.scrollLeft=s)}}}let eM;function Gu(n,e,t=e){let r=eM||(eM=document.createRange());return r.setEnd(n,t),r.setStart(n,e),r}function gd(n,e,t,r){let i={key:e,code:e,keyCode:t,which:t,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let s=new KeyboardEvent("keydown",i);s.synthetic=!0,n.dispatchEvent(s);let o=new KeyboardEvent("keyup",i);return o.synthetic=!0,n.dispatchEvent(o),s.defaultPrevented||o.defaultPrevented}function Hpe(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function aW(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}function Kpe(n,e){let t=e.focusNode,r=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=r)return!1;for(r=Math.min(r,Mo(t));;)if(r){if(t.nodeType!=1)return!1;let i=t.childNodes[r-1];i.contentEditable=="false"?r--:(t=i,r=Mo(t))}else{if(t==n)return!0;r=Xu(t),t=t.parentNode}}function lW(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}function cW(n,e){for(let t=n,r=e;;){if(t.nodeType==3&&r>0)return{node:t,offset:r};if(t.nodeType==1&&r>0){if(t.contentEditable=="false")return null;t=t.childNodes[r-1],r=Mo(t)}else if(t.parentNode&&!uw(t))r=Xu(t),t=t.parentNode;else return null}}function uW(n,e){for(let t=n,r=e;;){if(t.nodeType==3&&r<t.nodeValue.length)return{node:t,offset:r};if(t.nodeType==1&&r<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[r],r=0}else if(t.parentNode&&!uw(t))r=Xu(t)+1,t=t.parentNode;else return null}}class Cr{constructor(e,t,r=!0){this.node=e,this.offset=t,this.precise=r}static before(e,t){return new Cr(e.parentNode,Xu(e),t)}static after(e,t){return new Cr(e.parentNode,Xu(e)+1,t)}}const kQ=[];class Et{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let r of this.children){if(r==e)return t;t+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.flags&2){let r=this.dom,i=null,s;for(let o of this.children){if(o.flags&7){if(!o.dom&&(s=i?i.nextSibling:r.firstChild)){let a=Et.get(s);(!a||!a.parent&&a.canReuseDOM(o))&&o.reuseDOM(s)}o.sync(e,t),o.flags&=-8}if(s=i?i.nextSibling:r.firstChild,t&&!t.written&&t.node==r&&s!=o.dom&&(t.written=!0),o.dom.parentNode==r)for(;s&&s!=o.dom;)s=tM(s);else r.insertBefore(o.dom,s);i=o.dom}for(s=i?i.nextSibling:r.firstChild,s&&t&&t.node==r&&(t.written=!0);s;)s=tM(s)}else if(this.flags&1)for(let r of this.children)r.flags&7&&(r.sync(e,t),r.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let r;if(e==this.dom)r=this.dom.childNodes[t];else{let i=Mo(e)==0?0:t==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;i==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?i=-1:i=1),e=s}i<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!Et.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,s=0;;i++){let o=this.children[i];if(o.dom==r)return s;s+=o.length+o.breakAfter}}domBoundsAround(e,t,r=0){let i=-1,s=-1,o=-1,a=-1;for(let l=0,c=r,u=r;l<this.children.length;l++){let h=this.children[l],f=c+h.length;if(c<e&&f>t)return h.domBoundsAround(e,t,c);if(f>=e&&i==-1&&(i=l,s=c),c>t&&h.dom.parentNode==this.dom){o=l,a=u;break}u=f,c=f+h.breakAfter}return{from:s,to:a<0?r+this.length:a,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),t.flags&1)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,r=kQ){this.markDirty();for(let i=e;i<t;i++){let s=this.children[i];s.parent==this&&r.indexOf(s)<0&&s.destroy()}r.length<250?this.children.splice(e,t-e,...r):this.children=[].concat(this.children.slice(0,e),r,this.children.slice(t));for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new hW(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,r,i,s,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}Et.prototype.breakAfter=0;function tM(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class hW{constructor(e,t,r){this.children=e,this.pos=t,this.i=r,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function dW(n,e,t,r,i,s,o,a,l){let{children:c}=n,u=c.length?c[e]:null,h=s.length?s[s.length-1]:null,f=h?h.breakAfter:o;if(!(e==r&&u&&!o&&!f&&s.length<2&&u.merge(t,i,s.length?h:null,t==0,a,l))){if(r<c.length){let m=c[r];m&&(i<m.length||m.breakAfter&&(h!=null&&h.breakAfter))?(e==r&&(m=m.split(i),i=0),!f&&h&&m.merge(0,i,h,!0,0,l)?s[s.length-1]=m:((i||m.children.length&&!m.children[0].length)&&m.merge(0,i,null,!1,0,l),s.push(m))):m!=null&&m.breakAfter&&(h?h.breakAfter=1:o=1),r++}for(u&&(u.breakAfter=o,t>0&&(!o&&s.length&&u.merge(t,u.length,s[0],!1,a,0)?u.breakAfter=s.shift().breakAfter:(t<u.length||u.children.length&&u.children[u.children.length-1].length==0)&&u.merge(t,u.length,null,!1,a,0),e++));e<r&&s.length;)if(c[r-1].become(s[s.length-1]))r--,s.pop(),l=s.length?0:a;else if(c[e].become(s[0]))e++,s.shift(),a=s.length?0:l;else break;!s.length&&e&&r<c.length&&!c[e-1].breakAfter&&c[r].merge(0,0,c[e-1],!1,a,l)&&e--,(e<r||s.length)&&n.replaceChildren(e,r,s)}}function fW(n,e,t,r,i,s){let o=n.childCursor(),{i:a,off:l}=o.findPos(t,1),{i:c,off:u}=o.findPos(e,-1),h=e-t;for(let f of r)h+=f.length;n.length+=h,dW(n,c,u,a,l,r,0,i,s)}let li=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},NP=typeof document<"u"?document:{documentElement:{style:{}}};const jP=/Edge\/(\d+)/.exec(li.userAgent),pW=/MSIE \d/.test(li.userAgent),DP=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(li.userAgent),hS=!!(pW||DP||jP),nM=!hS&&/gecko\/(\d+)/i.test(li.userAgent),hk=!hS&&/Chrome\/(\d+)/.exec(li.userAgent),rM="webkitFontSmoothing"in NP.documentElement.style,mW=!hS&&/Apple Computer/.test(li.vendor),iM=mW&&(/Mobile\/\w+/.test(li.userAgent)||li.maxTouchPoints>2);var we={mac:iM||/Mac/.test(li.platform),windows:/Win/.test(li.platform),linux:/Linux|X11/.test(li.platform),ie:hS,ie_version:pW?NP.documentMode||6:DP?+DP[1]:jP?+jP[1]:0,gecko:nM,gecko_version:nM?+(/Firefox\/(\d+)/.exec(li.userAgent)||[0,0])[1]:0,chrome:!!hk,chrome_version:hk?+hk[1]:0,ios:iM,android:/Android\b/.test(li.userAgent),webkit:rM,safari:mW,webkit_version:rM?+(/\bAppleWebKit\/(\d+)/.exec(li.userAgent)||[0,0])[1]:0,tabSize:NP.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const Jpe=256;class Ls extends Et{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,r){return this.flags&8||r&&(!(r instanceof Ls)||this.length-(t-e)+r.length>Jpe||r.flags&8)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new Ls(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=this.flags&8,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new Cr(this.dom,e)}domBoundsAround(e,t,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return eme(this.dom,e,t)}}class Ga extends Et{constructor(e,t=[],r=0){super(),this.mark=e,this.children=t,this.length=r;for(let i of t)i.setParent(this)}setAttrs(e){if(aW(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,r,i,s,o){return r&&(!(r instanceof Ga&&r.mark.eq(this.mark))||e&&s<=0||t<this.length&&o<=0)?!1:(fW(this,e,t,r?r.children.slice():[],s-1,o-1),this.markDirty(),!0)}split(e){let t=[],r=0,i=-1,s=0;for(let a of this.children){let l=r+a.length;l>e&&t.push(r<e?a.split(e-r):a),i<0&&r>=e&&(i=s),r=l,s++}let o=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new Ga(this.mark,t,o)}domAtPos(e){return gW(this,e)}coordsAt(e,t){return yW(this,e,t)}}function eme(n,e,t){let r=n.nodeValue.length;e>r&&(e=r);let i=e,s=e,o=0;e==0&&t<0||e==r&&t>=0?we.chrome||we.gecko||(e?(i--,o=1):s<r&&(s++,o=-1)):t<0?i--:s<r&&s++;let a=Gu(n,i,s).getClientRects();if(!a.length)return null;let l=a[(o?o<0:t>=0)?0:a.length-1];return we.safari&&!o&&l.width==0&&(l=Array.prototype.find.call(a,c=>c.width)||l),o?uS(l,o<0):l||null}class Zl extends Et{static create(e,t,r){return new Zl(e,t,r)}constructor(e,t,r){super(),this.widget=e,this.length=t,this.side=r,this.prevWidget=null}split(e){let t=Zl.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,t,r,i,s,o){return r&&(!(r instanceof Zl)||!this.widget.compare(r.widget)||e>0&&s<=0||t<this.length&&o<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-t),!0)}become(e){return e instanceof Zl&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return pt.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,r=t&&t.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):pt.empty}domAtPos(e){return(this.length?e==0:this.side>0)?Cr.before(this.dom):Cr.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let r=this.widget.coordsAt(this.dom,e,t);if(r)return r;let i=this.dom.getClientRects(),s=null;if(!i.length)return null;let o=this.side?this.side<0:e>0;for(let a=o?i.length-1:0;s=i[a],!(e>0?a==0:a==i.length-1||s.top<s.bottom);a+=o?-1:1);return uS(s,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class ef extends Et{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof ef&&e.side==this.side}split(){return new ef(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Cr.before(this.dom):Cr.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return pt.empty}get isHidden(){return!0}}Ls.prototype.children=Zl.prototype.children=ef.prototype.children=kQ;function gW(n,e){let t=n.dom,{children:r}=n,i=0;for(let s=0;i<r.length;i++){let o=r[i],a=s+o.length;if(!(a==s&&o.getSide()<=0)){if(e>s&&e<a&&o.dom.parentNode==t)return o.domAtPos(e-s);if(e<=s)break;s=a}}for(let s=i;s>0;s--){let o=r[s-1];if(o.dom.parentNode==t)return o.domAtPos(o.length)}for(let s=i;s<r.length;s++){let o=r[s];if(o.dom.parentNode==t)return o.domAtPos(0)}return new Cr(t,0)}function OW(n,e,t){let r,{children:i}=n;t>0&&e instanceof Ga&&i.length&&(r=i[i.length-1])instanceof Ga&&r.mark.eq(e.mark)?OW(r,e.children[0],t-1):(i.push(e),e.setParent(n)),n.length+=e.length}function yW(n,e,t){let r=null,i=-1,s=null,o=-1;function a(c,u){for(let h=0,f=0;h<c.children.length&&f<=u;h++){let m=c.children[h],g=f+m.length;g>=u&&(m.children.length?a(m,u-f):(!s||s.isHidden&&t>0)&&(g>u||f==g&&m.getSide()>0)?(s=m,o=u-f):(f<u||f==g&&m.getSide()<0&&!m.isHidden)&&(r=m,i=u-f)),f=g}}a(n,e);let l=(t<0?r:s)||r||s;return l?l.coordsAt(Math.max(0,l==r?i:o),t):tme(n)}function tme(n){let e=n.dom.lastChild;if(!e)return n.dom.getBoundingClientRect();let t=jg(e);return t[t.length-1]||null}function MP(n,e){for(let t in n)t=="class"&&e.class?e.class+=" "+n.class:t=="style"&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}const sM=Object.create(null);function hw(n,e,t){if(n==e)return!0;n||(n=sM),e||(e=sM);let r=Object.keys(n),i=Object.keys(e);if(r.length-(t&&r.indexOf(t)>-1?1:0)!=i.length-(t&&i.indexOf(t)>-1?1:0))return!1;for(let s of r)if(s!=t&&(i.indexOf(s)==-1||n[s]!==e[s]))return!1;return!0}function VP(n,e,t){let r=!1;if(e)for(let i in e)t&&i in t||(r=!0,i=="style"?n.style.cssText="":n.removeAttribute(i));if(t)for(let i in t)e&&e[i]==t[i]||(r=!0,i=="style"?n.style.cssText=t[i]:n.setAttribute(i,t[i]));return r}function nme(n){let e=Object.create(null);for(let t=0;t<n.attributes.length;t++){let r=n.attributes[t];e[r.name]=r.value}return e}class ea{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var Wr=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(Wr||(Wr={}));class ye extends Do{constructor(e,t,r,i){super(),this.startSide=e,this.endSide=t,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new YO(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return t+=r&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new kc(e,t,t,r,e.widget||null,!1)}static replace(e){let t=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:s,end:o}=vW(e,t);r=(s?t?-3e8:-1:5e8)-1,i=(o?t?2e8:1:-6e8)+1}return new kc(e,r,i,t,e.widget||null,!0)}static line(e){return new HO(e)}static set(e,t=!1){return yt.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}ye.none=yt.empty;class YO extends ye{constructor(e){let{start:t,end:r}=vW(e);super(t?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,r;return this==e||e instanceof YO&&this.tagName==e.tagName&&(this.class||((t=this.attrs)===null||t===void 0?void 0:t.class))==(e.class||((r=e.attrs)===null||r===void 0?void 0:r.class))&&hw(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}YO.prototype.point=!1;class HO extends ye{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof HO&&this.spec.class==e.spec.class&&hw(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}HO.prototype.mapMode=Ln.TrackBefore;HO.prototype.point=!0;class kc extends ye{constructor(e,t,r,i,s,o){super(t,r,s,e),this.block=i,this.isReplace=o,this.mapMode=i?t<=0?Ln.TrackBefore:Ln.TrackAfter:Ln.TrackDel}get type(){return this.startSide!=this.endSide?Wr.WidgetRange:this.startSide<=0?Wr.WidgetBefore:Wr.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof kc&&rme(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}kc.prototype.point=!0;function vW(n,e=!1){let{inclusiveStart:t,inclusiveEnd:r}=n;return t==null&&(t=n.inclusive),r==null&&(r=n.inclusive),{start:t??e,end:r??e}}function rme(n,e){return n==e||!!(n&&e&&n.compare(e))}function yv(n,e,t,r=0){let i=t.length-1;i>=0&&t[i]+r>=n?t[i]=Math.max(t[i],e):t.push(n,e)}class Pn extends Et{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,r,i,s,o){if(r){if(!(r instanceof Pn))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),fW(this,e,t,r?r.children.slice():[],s,o),!0}split(e){let t=new Pn;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i:r,off:i}=this.childPos(e);i&&(t.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let s=r;s<this.children.length;s++)t.append(this.children[s],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){hw(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){OW(this,e,t)}addLineDeco(e){let t=e.spec.attributes,r=e.spec.class;t&&(this.attrs=MP(t,this.attrs||{})),r&&(this.attrs=MP({class:r},this.attrs||{}))}domAtPos(e){return gW(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,t){var r;this.dom?this.flags&4&&(aW(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(VP(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let i=this.dom.lastChild;for(;i&&Et.get(i)instanceof Ga;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((r=Et.get(i))===null||r===void 0?void 0:r.isEditable)==!1&&(!we.ios||!this.children.some(s=>s instanceof Ls))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let r of this.children){if(!(r instanceof Ls)||/[^ -~]/.test(r.text))return null;let i=jg(r.dom);if(i.length!=1)return null;e+=i[0].width,t=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let r=yW(this,e,t);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,s=r.bottom-r.top;if(Math.abs(s-i.lineHeight)<2&&i.textHeight<s){let o=(s-i.textHeight)/2;return{top:r.top+o,bottom:r.bottom-o,left:r.left,right:r.left}}}return r}become(e){return e instanceof Pn&&this.children.length==0&&e.children.length==0&&hw(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,t){for(let r=0,i=0;r<e.children.length;r++){let s=e.children[r],o=i+s.length;if(o>=t){if(s instanceof Pn)return s;if(o>t)break}i=o+s.breakAfter}return null}}class $a extends Et{constructor(e,t,r){super(),this.widget=e,this.length=t,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(e,t,r,i,s,o){return r&&(!(r instanceof $a)||!this.widget.compare(r.widget)||e>0&&s<=0||t<this.length&&o<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?Cr.before(this.dom):Cr.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let r=new $a(this.widget,t,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return kQ}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):pt.empty}domBoundsAround(){return null}become(e){return e instanceof $a&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){let r=this.widget.coordsAt(this.dom,e,t);return r||(this.widget instanceof LP?null:uS(this.dom.getBoundingClientRect(),this.length?e==0:t<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:r}=this.deco;return t==r?!1:e<0?t<0:r>0}}class LP extends ea{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class Dm{constructor(e,t,r,i){this.doc=e,this.pos=t,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof $a&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new Pn),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(u0(new ef(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof $a)&&this.getLine()}buildText(e,t,r){for(;e>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:o,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=s,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-r)),this.getLine().append(u0(new Ls(this.text.slice(this.textOff,this.textOff+i)),t),r),this.atCursorPos=!0,this.textOff+=i,e-=i,r=0}}span(e,t,r,i){this.buildText(t-e,r,i),this.pos=t,this.openStart<0&&(this.openStart=i)}point(e,t,r,i,s,o){if(this.disallowBlockEffectsFor[o]&&r instanceof kc){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=t-e;if(r instanceof kc)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new $a(r.widget||tf.block,a,r));else{let l=Zl.create(r.widget||tf.inline,a,a?0:r.startSide),c=this.atCursorPos&&!l.isEditable&&s<=i.length&&(e<t||r.startSide>0),u=!l.isEditable&&(e<t||s>i.length||r.startSide<=0),h=this.getLine();this.pendingBuffer==2&&!c&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),c&&(h.append(u0(new ef(1),i),s),s=i.length+Math.max(0,s-i.length)),h.append(u0(l,i),s),this.atCursorPos=u,this.pendingBuffer=u?e<t||s>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=s)}static build(e,t,r,i,s){let o=new Dm(e,t,r,s);return o.openEnd=yt.spans(i,t,r,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function u0(n,e){for(let t of e)n=new Ga(t,[n],n.length);return n}class tf extends ea{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}tf.inline=new tf("span");tf.block=new tf("div");var it=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(it||(it={}));const Yu=it.LTR,_Q=it.RTL;function xW(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const ime=xW("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),sme=xW("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),UP=Object.create(null),Gs=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);UP[e]=t,UP[t]=-e}function wW(n){return n<=247?ime[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?sme[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8204?256:64336<=n&&n<=65023?4:1}const ome=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Fl{get dir(){return this.level%2?_Q:Yu}constructor(e,t,r){this.from=e,this.to=t,this.level=r}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,r,i){let s=-1;for(let o=0;o<e.length;o++){let a=e[o];if(a.from<=t&&a.to>=t){if(a.level==r)return o;(s<0||(i!=0?i<0?a.from<t:a.to>t:e[s].level>a.level))&&(s=o)}}if(s<0)throw new RangeError("Index out of range");return s}}function bW(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++){let r=n[t],i=e[t];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!bW(r.inner,i.inner))return!1}return!0}const Ct=[];function ame(n,e,t,r,i){for(let s=0;s<=r.length;s++){let o=s?r[s-1].to:e,a=s<r.length?r[s].from:t,l=s?256:i;for(let c=o,u=l,h=l;c<a;c++){let f=wW(n.charCodeAt(c));f==512?f=u:f==8&&h==4&&(f=16),Ct[c]=f==4?2:f,f&7&&(h=f),u=f}for(let c=o,u=l,h=l;c<a;c++){let f=Ct[c];if(f==128)c<a-1&&u==Ct[c+1]&&u&24?f=Ct[c]=u:Ct[c]=256;else if(f==64){let m=c+1;for(;m<a&&Ct[m]==64;)m++;let g=c&&u==8||m<t&&Ct[m]==8?h==1?1:8:256;for(let y=c;y<m;y++)Ct[y]=g;c=m-1}else f==8&&h==1&&(Ct[c]=1);u=f,f&7&&(h=f)}}}function lme(n,e,t,r,i){let s=i==1?2:1;for(let o=0,a=0,l=0;o<=r.length;o++){let c=o?r[o-1].to:e,u=o<r.length?r[o].from:t;for(let h=c,f,m,g;h<u;h++)if(m=UP[f=n.charCodeAt(h)])if(m<0){for(let y=a-3;y>=0;y-=3)if(Gs[y+1]==-m){let x=Gs[y+2],S=x&2?i:x&4?x&1?s:i:0;S&&(Ct[h]=Ct[Gs[y]]=S),a=y;break}}else{if(Gs.length==189)break;Gs[a++]=h,Gs[a++]=f,Gs[a++]=l}else if((g=Ct[h])==2||g==1){let y=g==i;l=y?0:1;for(let x=a-3;x>=0;x-=3){let S=Gs[x+2];if(S&2)break;if(y)Gs[x+2]|=2;else{if(S&4)break;Gs[x+2]|=4}}}}}function cme(n,e,t,r){for(let i=0,s=r;i<=t.length;i++){let o=i?t[i-1].to:n,a=i<t.length?t[i].from:e;for(let l=o;l<a;){let c=Ct[l];if(c==256){let u=l+1;for(;;)if(u==a){if(i==t.length)break;u=t[i++].to,a=i<t.length?t[i].from:e}else if(Ct[u]==256)u++;else break;let h=s==1,f=(u<e?Ct[u]:r)==1,m=h==f?h?1:2:r;for(let g=u,y=i,x=y?t[y-1].to:n;g>l;)g==x&&(g=t[--y].from,x=y?t[y-1].to:n),Ct[--g]=m;l=u}else s=c,l++}}}function zP(n,e,t,r,i,s,o){let a=r%2?2:1;if(r%2==i%2)for(let l=e,c=0;l<t;){let u=!0,h=!1;if(c==s.length||l<s[c].from){let y=Ct[l];y!=a&&(u=!1,h=y==16)}let f=!u&&a==1?[]:null,m=u?r:r+1,g=l;e:for(;;)if(c<s.length&&g==s[c].from){if(h)break e;let y=s[c];if(!u)for(let x=y.to,S=c+1;;){if(x==t)break e;if(S<s.length&&s[S].from==x)x=s[S++].to;else{if(Ct[x]==a)break e;break}}if(c++,f)f.push(y);else{y.from>l&&o.push(new Fl(l,y.from,m));let x=y.direction==Yu!=!(m%2);qP(n,x?r+1:r,i,y.inner,y.from,y.to,o),l=y.to}g=y.to}else{if(g==t||(u?Ct[g]!=a:Ct[g]==a))break;g++}f?zP(n,l,g,r+1,i,f,o):l<g&&o.push(new Fl(l,g,m)),l=g}else for(let l=t,c=s.length;l>e;){let u=!0,h=!1;if(!c||l>s[c-1].to){let y=Ct[l-1];y!=a&&(u=!1,h=y==16)}let f=!u&&a==1?[]:null,m=u?r:r+1,g=l;e:for(;;)if(c&&g==s[c-1].to){if(h)break e;let y=s[--c];if(!u)for(let x=y.from,S=c;;){if(x==e)break e;if(S&&s[S-1].to==x)x=s[--S].from;else{if(Ct[x-1]==a)break e;break}}if(f)f.push(y);else{y.to<l&&o.push(new Fl(y.to,l,m));let x=y.direction==Yu!=!(m%2);qP(n,x?r+1:r,i,y.inner,y.from,y.to,o),l=y.from}g=y.from}else{if(g==e||(u?Ct[g-1]!=a:Ct[g-1]==a))break;g--}f?zP(n,g,l,r+1,i,f,o):g<l&&o.push(new Fl(g,l,m)),l=g}}function qP(n,e,t,r,i,s,o){let a=e%2?2:1;ame(n,i,s,r,a),lme(n,i,s,r,a),cme(i,s,r,a),zP(n,i,s,e,t,r,o)}function ume(n,e,t){if(!n)return[new Fl(0,0,e==_Q?1:0)];if(e==Yu&&!t.length&&!ome.test(n))return SW(n.length);if(t.length)for(;n.length>Ct.length;)Ct[Ct.length]=256;let r=[],i=e==Yu?0:1;return qP(n,i,i,t,0,n.length,r),r}function SW(n){return[new Fl(0,n,0)]}let kW="";function hme(n,e,t,r,i){var s;let o=r.head-n.from,a=Fl.find(e,o,(s=r.bidiLevel)!==null&&s!==void 0?s:-1,r.assoc),l=e[a],c=l.side(i,t);if(o==c){let f=a+=i?1:-1;if(f<0||f>=e.length)return null;l=e[a=f],o=l.side(!i,t),c=l.side(i,t)}let u=fr(n.text,o,l.forward(i,t));(u<l.from||u>l.to)&&(u=c),kW=n.text.slice(Math.min(o,u),Math.max(o,u));let h=a==(i?e.length-1:0)?null:e[a+(i?1:-1)];return h&&u==c&&h.level+(i?0:1)<l.level?te.cursor(h.side(!i,t)+n.from,h.forward(i,t)?1:-1,h.level):te.cursor(u+n.from,l.forward(i,t)?-1:1,l.level)}function dme(n,e,t){for(let r=e;r<t;r++){let i=wW(n.charCodeAt(r));if(i==1)return Yu;if(i==2||i==4)return _Q}return Yu}const _W=de.define(),TW=de.define(),PW=de.define(),CW=de.define(),ZP=de.define(),EW=de.define(),AW=de.define(),TQ=de.define(),PQ=de.define(),RW=de.define({combine:n=>n.some(e=>e)}),QW=de.define({combine:n=>n.some(e=>e)}),IW=de.define();class Od{constructor(e,t="nearest",r="nearest",i=5,s=5,o=!1){this.range=e,this.y=t,this.x=r,this.yMargin=i,this.xMargin=s,this.isSnapshot=o}map(e){return e.empty?this:new Od(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new Od(te.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const h0=Ne.define({map:(n,e)=>n.map(e)}),$W=Ne.define();function An(n,e,t){let r=n.facet(CW);r.length?r[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}const ba=de.define({combine:n=>n.length?n[0]:!0});let fme=0;const Kp=de.define();class Vt{constructor(e,t,r,i,s){this.id=e,this.create=t,this.domEventHandlers=r,this.domEventObservers=i,this.extension=s(this)}static define(e,t){const{eventHandlers:r,eventObservers:i,provide:s,decorations:o}=t||{};return new Vt(fme++,e,r,i,a=>{let l=[Kp.of(a)];return o&&l.push(Dg.of(c=>{let u=c.plugin(a);return u?o(u):ye.none})),s&&l.push(s(a)),l})}static fromClass(e,t){return Vt.define(r=>new e(r),t)}}class dk{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(r){if(An(t.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){An(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(r){An(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const NW=de.define(),CQ=de.define(),Dg=de.define(),jW=de.define(),EQ=de.define(),DW=de.define();function oM(n,e){let t=n.state.facet(DW);if(!t.length)return t;let r=t.map(s=>s instanceof Function?s(n):s),i=[];return yt.spans(r,e.from,e.to,{point(){},span(s,o,a,l){let c=s-e.from,u=o-e.from,h=i;for(let f=a.length-1;f>=0;f--,l--){let m=a[f].spec.bidiIsolate,g;if(m==null&&(m=dme(e.text,c,u)),l>0&&h.length&&(g=h[h.length-1]).to==c&&g.direction==m)g.to=u,h=g.inner;else{let y={from:c,to:u,direction:m,inner:[]};h.push(y),h=y.inner}}}}),i}const MW=de.define();function AQ(n){let e=0,t=0,r=0,i=0;for(let s of n.state.facet(MW)){let o=s(n);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(t=Math.max(t,o.right)),o.top!=null&&(r=Math.max(r,o.top)),o.bottom!=null&&(i=Math.max(i,o.bottom)))}return{left:e,right:t,top:r,bottom:i}}const Jp=de.define();class os{constructor(e,t,r,i){this.fromA=e,this.toA=t,this.fromB=r,this.toB=i}join(e){return new os(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,r=this;for(;t>0;t--){let i=e[t-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(t-1,1)}}return e.splice(t,0,r),e}static extendWithRanges(e,t){if(t.length==0)return e;let r=[];for(let i=0,s=0,o=0,a=0;;i++){let l=i==e.length?null:e[i],c=o-a,u=l?l.fromB:1e9;for(;s<t.length&&t[s]<u;){let h=t[s],f=t[s+1],m=Math.max(a,h),g=Math.min(u,f);if(m<=g&&new os(m+c,g+c,m,g).addToSet(r),f>u)break;s+=2}if(!l)return r;new os(l.fromA,l.toA,l.fromB,l.toB).addToSet(r),o=l.toA,a=l.toB}}}class dw{constructor(e,t,r){this.view=e,this.state=t,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=Nn.empty(this.startState.doc.length);for(let s of r)this.changes=this.changes.compose(s.changes);let i=[];this.changes.iterChangedRanges((s,o,a,l)=>i.push(new os(s,o,a,l))),this.changedRanges=i}static create(e,t,r){return new dw(e,t,r)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class aM extends Et{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=ye.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Pn],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new os(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:c,toA:u})=>u<this.minWidthFrom||c>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?i=this.domChanged.newSel.head:!xme(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let s=i>-1?mme(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:c,to:u}=this.hasComposition;r=new os(c,u,e.changes.mapPos(c,-1),e.changes.mapPos(u,1)).addToSet(r.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(we.ie||we.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,a=this.updateDeco(),l=yme(o,a,e.changes);return r=os.extendWithRanges(r,l),!(this.flags&7)&&r.length==0?!1:(this.updateInner(r,e.startState.doc.length,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,r);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=we.chrome||we.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,o),this.flags&=-8,o&&(o.written||i.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(o=>o.flags&=-9);let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof $a&&o.widget instanceof LP&&s.push(o.dom);i.updateGaps(s)}updateChildren(e,t,r){let i=r?r.range.addToSet(e.slice()):e,s=this.childCursor(t);for(let o=i.length-1;;o--){let a=o>=0?i[o]:null;if(!a)break;let{fromA:l,toA:c,fromB:u,toB:h}=a,f,m,g,y;if(r&&r.range.fromB<h&&r.range.toB>u){let I=Dm.build(this.view.state.doc,u,r.range.fromB,this.decorations,this.dynamicDecorationMap),C=Dm.build(this.view.state.doc,r.range.toB,h,this.decorations,this.dynamicDecorationMap);m=I.breakAtStart,g=I.openStart,y=C.openEnd;let Q=this.compositionView(r);C.breakAtStart?Q.breakAfter=1:C.content.length&&Q.merge(Q.length,Q.length,C.content[0],!1,C.openStart,0)&&(Q.breakAfter=C.content[0].breakAfter,C.content.shift()),I.content.length&&Q.merge(0,0,I.content[I.content.length-1],!0,0,I.openEnd)&&I.content.pop(),f=I.content.concat(Q).concat(C.content)}else({content:f,breakAtStart:m,openStart:g,openEnd:y}=Dm.build(this.view.state.doc,u,h,this.decorations,this.dynamicDecorationMap));let{i:x,off:S}=s.findPos(c,1),{i:_,off:T}=s.findPos(l,-1);dW(this,_,T,x,S,f,m,g,y)}r&&this.fixCompositionDOM(r)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let r of t.effects)r.is($W)&&(this.editContextFormatting=r.value)}compositionView(e){let t=new Ls(e.text.nodeValue);t.flags|=8;for(let{deco:i}of e.marks)t=new Ga(i,[t],t.length);let r=new Pn;return r.append(t,0),r}fixCompositionDOM(e){let t=(s,o)=>{o.flags|=8|(o.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(o);let a=Et.get(s);a&&a!=o&&(a.dom=null),o.setDOM(s)},r=this.childPos(e.range.fromB,1),i=this.children[r.i];t(e.line,i);for(let s=e.marks.length-1;s>=-1;s--)r=i.childPos(r.off,1),i=i.children[r.i],t(s>=0?e.marks[s].node:e.text,i)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,i=r==this.dom,s=!i&&!(this.view.state.facet(ba)||this.dom.tabIndex>-1)&&Ov(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(i||t||s))return;let o=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(a.anchor)),c=a.empty?l:this.moveToLine(this.domAtPos(a.head));if(we.gecko&&a.empty&&!this.hasComposition&&pme(l)){let h=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(h,l.node.childNodes[l.offset]||null)),l=c=new Cr(h,0),o=!0}let u=this.view.observer.selectionRange;(o||!u.focusNode||(!jm(l.node,l.offset,u.anchorNode,u.anchorOffset)||!jm(c.node,c.offset,u.focusNode,u.focusOffset))&&!this.suppressWidgetCursorChange(u,a))&&(this.view.observer.ignore(()=>{we.android&&we.chrome&&this.dom.contains(u.focusNode)&&vme(u.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let h=Ng(this.view.root);if(h)if(a.empty){if(we.gecko){let f=gme(l.node,l.offset);if(f&&f!=3){let m=(f==1?cW:uW)(l.node,l.offset);m&&(l=new Cr(m.node,m.offset))}}h.collapse(l.node,l.offset),a.bidiLevel!=null&&h.caretBidiLevel!==void 0&&(h.caretBidiLevel=a.bidiLevel)}else if(h.extend){h.collapse(l.node,l.offset);try{h.extend(c.node,c.offset)}catch{}}else{let f=document.createRange();a.anchor>a.head&&([l,c]=[c,l]),f.setEnd(c.node,c.offset),f.setStart(l.node,l.offset),h.removeAllRanges(),h.addRange(f)}s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(l,c)),this.impreciseAnchor=l.precise?null:new Cr(u.anchorNode,u.anchorOffset),this.impreciseHead=c.precise?null:new Cr(u.focusNode,u.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&jm(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,r=Ng(e.root),{anchorNode:i,anchorOffset:s}=e.observer.selectionRange;if(!r||!t.empty||!t.assoc||!r.modify)return;let o=Pn.find(this,t.head);if(!o)return;let a=o.posAtStart;if(t.head==a||t.head==a+o.length)return;let l=this.coordsAt(t.head,-1),c=this.coordsAt(t.head,1);if(!l||!c||l.bottom>c.top)return;let u=this.domAtPos(t.head+t.assoc);r.collapse(u.node,u.offset),r.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let h=e.observer.selectionRange;e.docView.posFromDOM(h.anchorNode,h.anchorOffset)!=t.from&&r.collapse(i,s)}moveToLine(e){let t=this.dom,r;if(e.node!=t)return e;for(let i=e.offset;!r&&i<t.childNodes.length;i++){let s=Et.get(t.childNodes[i]);s instanceof Pn&&(r=s.domAtPos(0))}for(let i=e.offset-1;!r&&i>=0;i--){let s=Et.get(t.childNodes[i]);s instanceof Pn&&(r=s.domAtPos(s.length))}return r?new Cr(r.node,r.offset,!0):e}nearest(e){for(let t=e;t;){let r=Et.get(t);if(r&&r.rootView==this)return r;t=t.parentNode}return null}posFromDOM(e,t){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,t)+r.posAtStart}domAtPos(e){let{i:t,off:r}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let i=this.children[t];if(r<i.length||i instanceof Pn)break;t++,r=0}return this.children[t].domAtPos(r)}coordsAt(e,t){let r=null,i=0;for(let s=this.length,o=this.children.length-1;o>=0;o--){let a=this.children[o],l=s-a.breakAfter,c=l-a.length;if(l<e)break;if(c<=e&&(c<e||a.covers(-1))&&(l>e||a.covers(1))&&(!r||a instanceof Pn&&!(r instanceof Pn&&t>=0)))r=a,i=c;else if(r&&c==e&&l==e&&a instanceof $a&&Math.abs(t)<2){if(a.deco.startSide<0)break;o&&(r=null)}s=c}return r?r.coordsAt(e-i,t):null}coordsForChar(e){let{i:t,off:r}=this.childPos(e,1),i=this.children[t];if(!(i instanceof Pn))return null;for(;i.children.length;){let{i:a,off:l}=i.childPos(r,1);for(;;a++){if(a==i.children.length)return null;if((i=i.children[a]).length)break}r=l}if(!(i instanceof Ls))return null;let s=fr(i.text,r);if(s==r)return null;let o=Gu(i.dom,r,s).getClientRects();for(let a=0;a<o.length;a++){let l=o[a];if(a==o.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(e){let t=[],{from:r,to:i}=e,s=this.view.contentDOM.clientWidth,o=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==it.LTR;for(let c=0,u=0;u<this.children.length;u++){let h=this.children[u],f=c+h.length;if(f>i)break;if(c>=r){let m=h.dom.getBoundingClientRect();if(t.push(m.height),o){let g=h.dom.lastChild,y=g?jg(g):[];if(y.length){let x=y[y.length-1],S=l?x.right-m.left:m.right-x.left;S>a&&(a=S,this.minWidth=s,this.minWidthFrom=c,this.minWidthTo=f)}}}c=f+h.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?it.RTL:it.LTR}measureTextSize(){for(let s of this.children)if(s instanceof Pn){let o=s.measureTextSize();if(o)return o}let e=document.createElement("div"),t,r,i;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=jg(e.firstChild)[0];t=e.getBoundingClientRect().height,r=s?s.width/27:7,i=s?s.height:t,e.remove()}),{lineHeight:t,charWidth:r,textHeight:i}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new hW(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let r=0,i=0;;i++){let s=i==t.viewports.length?null:t.viewports[i],o=s?s.from-1:this.length;if(o>r){let a=(t.lineBlockAt(o).bottom-t.lineBlockAt(r).top)/this.view.scaleY;e.push(ye.replace({widget:new LP(a),block:!0,inclusive:!0,isBlockGap:!0}).range(r,o))}if(!s)break;r=s.to+1}return ye.set(e)}updateDeco(){let e=1,t=this.view.state.facet(Dg).map(s=>(this.dynamicDecorationMap[e++]=typeof s=="function")?s(this.view):s),r=!1,i=this.view.state.facet(jW).map((s,o)=>{let a=typeof s=="function";return a&&(r=!0),a?s(this.view):s});for(i.length&&(this.dynamicDecorationMap[e++]=r,t.push(yt.join(i))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let c=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=c.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let c of this.view.state.facet(IW))try{if(c(this.view,e.range,e))return!0}catch(u){An(this.view.state,u,"scroll handler")}let{range:t}=e,r=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),i;if(!r)return;!t.empty&&(i=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let s=AQ(this.view),o={left:r.left-s.left,top:r.top-s.top,right:r.right+s.right,bottom:r.bottom+s.bottom},{offsetWidth:a,offsetHeight:l}=this.view.scrollDOM;Xpe(this.view.scrollDOM,o,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,a),-a),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==it.LTR)}}function pme(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}function VW(n,e){let t=n.observer.selectionRange;if(!t.focusNode)return null;let r=cW(t.focusNode,t.focusOffset),i=uW(t.focusNode,t.focusOffset),s=r||i;if(i&&r&&i.node!=r.node){let a=Et.get(i.node);if(!a||a instanceof Ls&&a.text!=i.node.nodeValue)s=i;else if(n.docView.lastCompositionAfterCursor){let l=Et.get(r.node);!l||l instanceof Ls&&l.text!=r.node.nodeValue||(s=i)}}if(n.docView.lastCompositionAfterCursor=s!=r,!s)return null;let o=e-s.offset;return{from:o,to:o+s.node.nodeValue.length,node:s.node}}function mme(n,e,t){let r=VW(n,t);if(!r)return null;let{node:i,from:s,to:o}=r,a=i.nodeValue;if(/[\n\r]/.test(a)||n.state.doc.sliceString(r.from,r.to)!=a)return null;let l=e.invertedDesc,c=new os(l.mapPos(s),l.mapPos(o),s,o),u=[];for(let h=i.parentNode;;h=h.parentNode){let f=Et.get(h);if(f instanceof Ga)u.push({node:h,deco:f.mark});else{if(f instanceof Pn||h.nodeName=="DIV"&&h.parentNode==n.contentDOM)return{range:c,text:i,marks:u,line:h};if(h!=n.contentDOM)u.push({node:h,deco:new YO({inclusive:!0,attributes:nme(h),tagName:h.tagName.toLowerCase()})});else return null}}}function gme(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}let Ome=class{constructor(){this.changes=[]}compareRange(e,t){yv(e,t,this.changes)}comparePoint(e,t){yv(e,t,this.changes)}boundChange(e){yv(e,e,this.changes)}};function yme(n,e,t){let r=new Ome;return yt.compare(n,e,t,r),r.changes}function vme(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function xme(n,e){let t=!1;return e&&n.iterChangedRanges((r,i)=>{r<e.to&&i>e.from&&(t=!0)}),t}function wme(n,e,t=1){let r=n.charCategorizer(e),i=n.doc.lineAt(e),s=e-i.from;if(i.length==0)return te.cursor(e);s==0?t=1:s==i.length&&(t=-1);let o=s,a=s;t<0?o=fr(i.text,s,!1):a=fr(i.text,s);let l=r(i.text.slice(o,a));for(;o>0;){let c=fr(i.text,o,!1);if(r(i.text.slice(c,o))!=l)break;o=c}for(;a<i.length;){let c=fr(i.text,a);if(r(i.text.slice(a,c))!=l)break;a=c}return te.range(o+i.from,a+i.from)}function bme(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function Sme(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function fk(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function lM(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function cM(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function FP(n,e,t){let r,i,s,o,a=!1,l,c,u,h;for(let g=n.firstChild;g;g=g.nextSibling){let y=jg(g);for(let x=0;x<y.length;x++){let S=y[x];i&&fk(i,S)&&(S=lM(cM(S,i.bottom),i.top));let _=bme(e,S),T=Sme(t,S);if(_==0&&T==0)return g.nodeType==3?uM(g,e,t):FP(g,e,t);if(!r||o>T||o==T&&s>_){r=g,i=S,s=_,o=T;let I=T?t<S.top?-1:1:_?e<S.left?-1:1:0;a=!I||(I>0?x<y.length-1:x>0)}_==0?t>S.bottom&&(!u||u.bottom<S.bottom)?(l=g,u=S):t<S.top&&(!h||h.top>S.top)&&(c=g,h=S):u&&fk(u,S)?u=cM(u,S.bottom):h&&fk(h,S)&&(h=lM(h,S.top))}}if(u&&u.bottom>=t?(r=l,i=u):h&&h.top<=t&&(r=c,i=h),!r)return{node:n,offset:0};let f=Math.max(i.left,Math.min(i.right,e));if(r.nodeType==3)return uM(r,f,t);if(a&&r.contentEditable!="false")return FP(r,f,t);let m=Array.prototype.indexOf.call(n.childNodes,r)+(e>=(i.left+i.right)/2?1:0);return{node:n,offset:m}}function uM(n,e,t){let r=n.nodeValue.length,i=-1,s=1e9,o=0;for(let a=0;a<r;a++){let l=Gu(n,a,a+1).getClientRects();for(let c=0;c<l.length;c++){let u=l[c];if(u.top==u.bottom)continue;o||(o=e-u.left);let h=(u.top>t?u.top-t:t-u.bottom)-1;if(u.left-1<=e&&u.right+1>=e&&h<s){let f=e>=(u.left+u.right)/2,m=f;if((we.chrome||we.gecko)&&Gu(n,a).getBoundingClientRect().left==u.right&&(m=!f),h<=0)return{node:n,offset:a+(m?1:0)};i=a+(m?1:0),s=h}}}return{node:n,offset:i>-1?i:o>0?n.nodeValue.length:0}}function LW(n,e,t,r=-1){var i,s;let o=n.contentDOM.getBoundingClientRect(),a=o.top+n.viewState.paddingTop,l,{docHeight:c}=n.viewState,{x:u,y:h}=e,f=h-a;if(f<0)return 0;if(f>c)return n.state.doc.length;for(let I=n.viewState.heightOracle.textHeight/2,C=!1;l=n.elementAtHeight(f),l.type!=Wr.Text;)for(;f=r>0?l.bottom+I:l.top-I,!(f>=0&&f<=c);){if(C)return t?null:0;C=!0,r=-r}h=a+f;let m=l.from;if(m<n.viewport.from)return n.viewport.from==0?0:t?null:hM(n,o,l,u,h);if(m>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:t?null:hM(n,o,l,u,h);let g=n.dom.ownerDocument,y=n.root.elementFromPoint?n.root:g,x=y.elementFromPoint(u,h);x&&!n.contentDOM.contains(x)&&(x=null),x||(u=Math.max(o.left+1,Math.min(o.right-1,u)),x=y.elementFromPoint(u,h),x&&!n.contentDOM.contains(x)&&(x=null));let S,_=-1;if(x&&((i=n.docView.nearest(x))===null||i===void 0?void 0:i.isEditable)!=!1){if(g.caretPositionFromPoint){let I=g.caretPositionFromPoint(u,h);I&&({offsetNode:S,offset:_}=I)}else if(g.caretRangeFromPoint){let I=g.caretRangeFromPoint(u,h);I&&({startContainer:S,startOffset:_}=I,(!n.contentDOM.contains(S)||we.safari&&kme(S,_,u)||we.chrome&&_me(S,_,u))&&(S=void 0))}S&&(_=Math.min(Mo(S),_))}if(!S||!n.docView.dom.contains(S)){let I=Pn.find(n.docView,m);if(!I)return f>l.top+l.height/2?l.to:l.from;({node:S,offset:_}=FP(I.dom,u,h))}let T=n.docView.nearest(S);if(!T)return null;if(T.isWidget&&((s=T.dom)===null||s===void 0?void 0:s.nodeType)==1){let I=T.dom.getBoundingClientRect();return e.y<I.top||e.y<=I.bottom&&e.x<=(I.left+I.right)/2?T.posAtStart:T.posAtEnd}else return T.localPosFromDOM(S,_)+T.posAtStart}function hM(n,e,t,r,i){let s=Math.round((r-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&t.height>n.defaultLineHeight*1.5){let a=n.viewState.heightOracle.textHeight,l=Math.floor((i-t.top-(n.defaultLineHeight-a)*.5)/a);s+=l*n.viewState.heightOracle.lineLength}let o=n.state.sliceDoc(t.from,t.to);return t.from+RP(o,s,n.state.tabSize)}function kme(n,e,t){let r;if(n.nodeType!=3||e!=(r=n.nodeValue.length))return!1;for(let i=n.nextSibling;i;i=i.nextSibling)if(i.nodeType!=1||i.nodeName!="BR")return!1;return Gu(n,r-1,r).getBoundingClientRect().left>t}function _me(n,e,t){if(e!=0)return!1;for(let i=n;;){let s=i.parentNode;if(!s||s.nodeType!=1||s.firstChild!=i)return!1;if(s.classList.contains("cm-line"))break;i=s}let r=n.nodeType==1?n.getBoundingClientRect():Gu(n,0,Math.max(n.nodeValue.length,1)).getBoundingClientRect();return t-r.left>5}function BP(n,e){let t=n.lineBlockAt(e);if(Array.isArray(t.type)){for(let r of t.type)if(r.to>e||r.to==e&&(r.to==t.to||r.type==Wr.Text))return r}return t}function Tme(n,e,t,r){let i=BP(n,e.head),s=!r||i.type!=Wr.Text||!(n.lineWrapping||i.widgetLineBreaks)?null:n.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(s){let o=n.dom.getBoundingClientRect(),a=n.textDirectionAt(i.from),l=n.posAtCoords({x:t==(a==it.LTR)?o.right-1:o.left+1,y:(s.top+s.bottom)/2});if(l!=null)return te.cursor(l,t?-1:1)}return te.cursor(t?i.to:i.from,t?-1:1)}function dM(n,e,t,r){let i=n.state.doc.lineAt(e.head),s=n.bidiSpans(i),o=n.textDirectionAt(i.from);for(let a=e,l=null;;){let c=hme(i,s,o,a,t),u=kW;if(!c){if(i.number==(t?n.state.doc.lines:1))return a;u=`
`,i=n.state.doc.line(i.number+(t?1:-1)),s=n.bidiSpans(i),c=n.visualLineSide(i,!t)}if(l){if(!l(u))return a}else{if(!r)return c;l=r(u)}a=c}}function Pme(n,e,t){let r=n.state.charCategorizer(e),i=r(t);return s=>{let o=r(s);return i==Ht.Space&&(i=o),i==o}}function Cme(n,e,t,r){let i=e.head,s=t?1:-1;if(i==(t?n.state.doc.length:0))return te.cursor(i,e.assoc);let o=e.goalColumn,a,l=n.contentDOM.getBoundingClientRect(),c=n.coordsAtPos(i,e.assoc||-1),u=n.documentTop;if(c)o==null&&(o=c.left-l.left),a=s<0?c.top:c.bottom;else{let m=n.viewState.lineBlockAt(i);o==null&&(o=Math.min(l.right-l.left,n.defaultCharacterWidth*(i-m.from))),a=(s<0?m.top:m.bottom)+u}let h=l.left+o,f=r??n.viewState.heightOracle.textHeight>>1;for(let m=0;;m+=10){let g=a+(f+m)*s,y=LW(n,{x:h,y:g},!1,s);if(g<l.top||g>l.bottom||(s<0?y<i:y>i)){let x=n.docView.coordsForChar(y),S=!x||g<x.top?-1:1;return te.cursor(y,S,void 0,o)}}}function vv(n,e,t){for(;;){let r=0;for(let i of n)i.between(e-1,e+1,(s,o,a)=>{if(e>s&&e<o){let l=r||t||(e-s<o-e?-1:1);e=l<0?s:o,r=l}});if(!r)return e}}function pk(n,e,t){let r=vv(n.state.facet(EQ).map(i=>i(n)),t.from,e.head>t.from?-1:1);return r==t.from?t:te.cursor(r,r<t.from?1:-1)}const em="";class Eme{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(De.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=em}readRange(e,t){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let s=this.text.length;this.readNode(i);let o=i.nextSibling;if(o==t)break;let a=Et.get(i),l=Et.get(o);(a&&l?a.breakAfter:(a?a.breakAfter:uw(i))||uw(o)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>s)&&this.lineBreak(),i=o}return this.findPointBefore(r,t),this}readTextNode(e){let t=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,t.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,o=1,a;if(this.lineSeparator?(s=t.indexOf(this.lineSeparator,r),o=this.lineSeparator.length):(a=i.exec(t))&&(s=a.index,o=a[0].length),this.append(t.slice(r,s<0?t.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=o-1);r=s+o}}readNode(e){if(e.cmIgnore)return;let t=Et.get(e),r=t&&t.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==t&&(r.pos=this.text.length)}findPointInside(e,t){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(Ame(e,r.node,r.offset)?t:0))}}function Ame(n,e,t){for(;;){if(!e||t<Mo(e))return!1;if(e==n)return!0;t=Xu(e)+1,e=e.parentNode}}class fM{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class Rme{constructor(e,t,r,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,r,0))){let a=s||o?[]:$me(e),l=new Eme(a,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=Nme(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=s&&s.node==a.focusNode&&s.offset==a.focusOffset||!$P(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),c=o&&o.node==a.anchorNode&&o.offset==a.anchorOffset||!$P(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset),u=e.viewport;if((we.ios||we.chrome)&&e.state.selection.main.empty&&l!=c&&(u.from>0||u.to<e.state.doc.length)){let h=Math.min(l,c),f=Math.max(l,c),m=u.from-h,g=u.to-f;(m==0||m==1||h==0)&&(g==0||g==-1||f==e.state.doc.length)&&(l=0,c=e.state.doc.length)}this.newSel=te.single(c,l)}}}function UW(n,e){let t,{newSel:r}=e,i=n.state.selection.main,s=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:a}=e.bounds,l=i.from,c=null;(s===8||we.android&&e.text.length<a-o)&&(l=i.to,c="end");let u=Ime(n.state.doc.sliceString(o,a,em),e.text,l-o,c);u&&(we.chrome&&s==13&&u.toB==u.from+2&&e.text.slice(u.from,u.toB)==em+em&&u.toB--,t={from:o+u.from,to:o+u.toA,insert:pt.of(e.text.slice(u.from,u.toB).split(em))})}else r&&(!n.hasFocus&&n.state.facet(ba)||r.main.eq(i))&&(r=null);if(!t&&!r)return!1;if(!t&&e.typeOver&&!i.empty&&r&&r.main.empty?t={from:i.from,to:i.to,insert:n.state.doc.slice(i.from,i.to)}:(we.mac||we.android)&&t&&t.from==t.to&&t.from==i.head-1&&/^\. ?$/.test(t.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(r&&t.insert.length==2&&(r=te.single(r.main.anchor-1,r.main.head-1)),t={from:t.from,to:t.to,insert:pt.of([t.insert.toString().replace("."," ")])}):t&&t.from>=i.from&&t.to<=i.to&&(t.from!=i.from||t.to!=i.to)&&i.to-i.from-(t.to-t.from)<=4?t={from:i.from,to:i.to,insert:n.state.doc.slice(i.from,t.from).append(t.insert).append(n.state.doc.slice(t.to,i.to))}:we.chrome&&t&&t.from==t.to&&t.from==i.head&&t.insert.toString()==`
 `&&n.lineWrapping&&(r&&(r=te.single(r.main.anchor-1,r.main.head-1)),t={from:i.from,to:i.to,insert:pt.of([" "])}),t)return RQ(n,t,r,s);if(r&&!r.main.eq(i)){let o=!1,a="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(o=!0),a=n.inputState.lastSelectionOrigin),n.dispatch({selection:r,scrollIntoView:o,userEvent:a}),!0}else return!1}function RQ(n,e,t,r=-1){if(we.ios&&n.inputState.flushIOSKey(e))return!0;let i=n.state.selection.main;if(we.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&n.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&gd(n.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&gd(n.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&gd(n.contentDOM,"Delete",46)))return!0;let s=e.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let o,a=()=>o||(o=Qme(n,e,t));return n.state.facet(EW).some(l=>l(n,e.from,e.to,s,a))||n.dispatch(a()),!0}function Qme(n,e,t){let r,i=n.state,s=i.selection.main;if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&n.inputState.composing<0){let a=s.from<e.from?i.sliceDoc(s.from,e.from):"",l=s.to>e.to?i.sliceDoc(e.to,s.to):"";r=i.replaceSelection(n.state.toText(a+e.insert.sliceString(0,void 0,n.state.lineBreak)+l))}else{let a=i.changes(e),l=t&&t.main.to<=a.newLength?t.main:void 0;if(i.selection.ranges.length>1&&n.inputState.composing>=0&&e.to<=s.to&&e.to>=s.to-10){let c=n.state.sliceDoc(e.from,e.to),u,h=t&&VW(n,t.main.head);if(h){let g=e.insert.length-(e.to-e.from);u={from:h.from,to:h.to-g}}else u=n.state.doc.lineAt(s.head);let f=s.to-e.to,m=s.to-s.from;r=i.changeByRange(g=>{if(g.from==s.from&&g.to==s.to)return{changes:a,range:l||g.map(a)};let y=g.to-f,x=y-c.length;if(g.to-g.from!=m||n.state.sliceDoc(x,y)!=c||g.to>=u.from&&g.from<=u.to)return{range:g};let S=i.changes({from:x,to:y,insert:e.insert}),_=g.to-s.to;return{changes:S,range:l?te.range(Math.max(0,l.anchor+_),Math.max(0,l.head+_)):g.map(S)}})}else r={changes:a,selection:l&&i.selection.replaceRange(l)}}let o="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,o+=".compose",n.inputState.compositionFirstChange&&(o+=".start",n.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:o,scrollIntoView:!0})}function Ime(n,e,t,r){let i=Math.min(n.length,e.length),s=0;for(;s<i&&n.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==i&&n.length==e.length)return null;let o=n.length,a=e.length;for(;o>0&&a>0&&n.charCodeAt(o-1)==e.charCodeAt(a-1);)o--,a--;if(r=="end"){let l=Math.max(0,s-Math.min(o,a));t-=o+l-s}if(o<s&&n.length<e.length){let l=t<=s&&t>=o?s-t:0;s-=l,a=s+(a-o),o=s}else if(a<s){let l=t<=s&&t>=a?s-t:0;s-=l,o=s+(o-a),a=s}return{from:s,toA:o,toB:a}}function $me(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:s}=n.observer.selectionRange;return t&&(e.push(new fM(t,r)),(i!=t||s!=r)&&e.push(new fM(i,s))),e}function Nme(n,e){if(n.length==0)return null;let t=n[0].pos,r=n.length==2?n[1].pos:t;return t>-1&&r>-1?te.single(t+e,r+e):null}class jme{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,we.safari&&e.contentDOM.addEventListener("input",()=>null),we.gecko&&Kme(e.contentDOM.ownerDocument)}handleEvent(e){!Zme(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,t){let r=this.handlers[e];if(r){for(let i of r.observers)i(this.view,t);for(let i of r.handlers){if(t.defaultPrevented)break;if(i(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=Dme(e),r=this.handlers,i=this.view.contentDOM;for(let s in t)if(s!="scroll"){let o=!t[s].handlers.length,a=r[s];a&&o!=!a.handlers.length&&(i.removeEventListener(s,this.handleEvent),a=null),a||i.addEventListener(s,this.handleEvent,{passive:o})}for(let s in r)s!="scroll"&&!t[s]&&i.removeEventListener(s,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&qW.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),we.android&&we.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return we.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=zW.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||Mme.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,gd(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:we.safari&&!we.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function pM(n,e){return(t,r)=>{try{return e.call(n,r,t)}catch(i){An(t.state,i)}}}function Dme(n){let e=Object.create(null);function t(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of n){let i=r.spec;if(i&&i.domEventHandlers)for(let s in i.domEventHandlers){let o=i.domEventHandlers[s];o&&t(s).handlers.push(pM(r.value,o))}if(i&&i.domEventObservers)for(let s in i.domEventObservers){let o=i.domEventObservers[s];o&&t(s).observers.push(pM(r.value,o))}}for(let r in Us)t(r).handlers.push(Us[r]);for(let r in ds)t(r).observers.push(ds[r]);return e}const zW=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Mme="dthko",qW=[16,17,18,20,91,92,224,225],d0=6;function f0(n){return Math.max(0,n)*.7+8}function Vme(n,e){return Math.max(Math.abs(n.clientX-e.clientX),Math.abs(n.clientY-e.clientY))}class Lme{constructor(e,t,r,i){this.view=e,this.startEvent=t,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=Gpe(e.contentDOM),this.atoms=e.state.facet(EQ).map(o=>o(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(De.allowMultipleSelections)&&Ume(e,t),this.dragging=qme(e,t)&&BW(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&Vme(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,r=0,i=0,s=0,o=this.view.win.innerWidth,a=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:o}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:a}=this.scrollParents.y.getBoundingClientRect());let l=AQ(this.view);e.clientX-l.left<=i+d0?t=-f0(i-e.clientX):e.clientX+l.right>=o-d0&&(t=f0(e.clientX-o)),e.clientY-l.top<=s+d0?r=-f0(s-e.clientY):e.clientY+l.bottom>=a-d0&&(r=f0(e.clientY-a)),this.setScrollSpeed(t,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],s=null;if(i.empty){let o=vv(this.atoms,i.from,0);o!=i.from&&(s=te.cursor(o,-1))}else{let o=vv(this.atoms,i.from,-1),a=vv(this.atoms,i.to,1);(o!=i.from||a!=i.to)&&(s=te.range(i.from==i.anchor?o:a,i.from==i.head?o:a))}s&&(t||(t=e.ranges.slice()),t[r]=s)}return t?te.create(t,e.mainIndex):e}select(e){let{view:t}=this,r=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function Ume(n,e){let t=n.state.facet(_W);return t.length?t[0](e):we.mac?e.metaKey:e.ctrlKey}function zme(n,e){let t=n.state.facet(TW);return t.length?t[0](e):we.mac?!e.altKey:!e.ctrlKey}function qme(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let r=Ng(n.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let s=0;s<i.length;s++){let o=i[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function Zme(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,r;t!=n.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(r=Et.get(t))&&r.ignoreEvent(e))return!1;return!0}const Us=Object.create(null),ds=Object.create(null),ZW=we.ie&&we.ie_version<15||we.ios&&we.webkit_version<604;function Fme(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),FW(n,t.value)},50)}function dS(n,e,t){for(let r of n.facet(e))t=r(t,n);return t}function FW(n,e){e=dS(n.state,TQ,e);let{state:t}=n,r,i=1,s=t.toText(e),o=s.lines==t.selection.ranges.length;if(WP!=null&&t.selection.ranges.every(l=>l.empty)&&WP==s.toString()){let l=-1;r=t.changeByRange(c=>{let u=t.doc.lineAt(c.from);if(u.from==l)return{range:c};l=u.from;let h=t.toText((o?s.line(i++).text:e)+t.lineBreak);return{changes:{from:u.from,insert:h},range:te.cursor(c.from+h.length)}})}else o?r=t.changeByRange(l=>{let c=s.line(i++);return{changes:{from:l.from,to:l.to,insert:c.text},range:te.cursor(l.from+c.length)}}):r=t.replaceSelection(s);n.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}ds.scroll=n=>{n.inputState.lastScrollTop=n.scrollDOM.scrollTop,n.inputState.lastScrollLeft=n.scrollDOM.scrollLeft};Us.keydown=(n,e)=>(n.inputState.setSelectionOrigin("select"),e.keyCode==27&&n.inputState.tabFocusMode!=0&&(n.inputState.tabFocusMode=Date.now()+2e3),!1);ds.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};ds.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};Us.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let r of n.state.facet(PW))if(t=r(n,e),t)break;if(!t&&e.button==0&&(t=Xme(n,e)),t){let r=!n.hasFocus;n.inputState.startMouseSelection(new Lme(n,e,t,r)),r&&n.observer.ignore(()=>{oW(n.contentDOM);let s=n.root.activeElement;s&&!s.contains(n.contentDOM)&&s.blur()});let i=n.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}return!1};function mM(n,e,t,r){if(r==1)return te.cursor(e,t);if(r==2)return wme(n.state,e,t);{let i=Pn.find(n.docView,e),s=n.state.doc.lineAt(i?i.posAtEnd:e),o=i?i.posAtStart:s.from,a=i?i.posAtEnd:s.to;return a<n.state.doc.length&&a==s.to&&a++,te.range(o,a)}}let gM=(n,e,t)=>e>=t.top&&e<=t.bottom&&n>=t.left&&n<=t.right;function Bme(n,e,t,r){let i=Pn.find(n.docView,e);if(!i)return 1;let s=e-i.posAtStart;if(s==0)return 1;if(s==i.length)return-1;let o=i.coordsAt(s,-1);if(o&&gM(t,r,o))return-1;let a=i.coordsAt(s,1);return a&&gM(t,r,a)?1:o&&o.bottom>=r?-1:1}function OM(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:Bme(n,t,e.clientX,e.clientY)}}const Wme=we.ie&&we.ie_version<=11;let yM=null,vM=0,xM=0;function BW(n){if(!Wme)return n.detail;let e=yM,t=xM;return yM=n,xM=Date.now(),vM=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(vM+1)%3:1}function Xme(n,e){let t=OM(n,e),r=BW(e),i=n.state.selection;return{update(s){s.docChanged&&(t.pos=s.changes.mapPos(t.pos),i=i.map(s.changes))},get(s,o,a){let l=OM(n,s),c,u=mM(n,l.pos,l.bias,r);if(t.pos!=l.pos&&!o){let h=mM(n,t.pos,t.bias,r),f=Math.min(h.from,u.from),m=Math.max(h.to,u.to);u=f<u.from?te.range(f,m):te.range(m,f)}return o?i.replaceRange(i.main.extend(u.from,u.to)):a&&r==1&&i.ranges.length>1&&(c=Gme(i,l.pos))?c:a?i.addRange(u):te.create([u])}}}function Gme(n,e){for(let t=0;t<n.ranges.length;t++){let{from:r,to:i}=n.ranges[t];if(r<=e&&i>=e)return te.create(n.ranges.slice(0,t).concat(n.ranges.slice(t+1)),n.mainIndex==t?0:n.mainIndex-(n.mainIndex>t?1:0))}return null}Us.dragstart=(n,e)=>{let{selection:{main:t}}=n.state;if(e.target.draggable){let i=n.docView.nearest(e.target);if(i&&i.isWidget){let s=i.posAtStart,o=s+i.length;(s>=t.to||o<=t.from)&&(t=te.range(s,o))}}let{inputState:r}=n;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",dS(n.state,PQ,n.state.sliceDoc(t.from,t.to))),e.dataTransfer.effectAllowed="copyMove"),!1};Us.dragend=n=>(n.inputState.draggedContent=null,!1);function wM(n,e,t,r){if(t=dS(n.state,TQ,t),!t)return;let i=n.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=n.inputState,o=r&&s&&zme(n,e)?{from:s.from,to:s.to}:null,a={from:i,insert:t},l=n.state.changes(o?[o,a]:a);n.focus(),n.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:o?"move.drop":"input.drop"}),n.inputState.draggedContent=null}Us.drop=(n,e)=>{if(!e.dataTransfer)return!1;if(n.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let r=Array(t.length),i=0,s=()=>{++i==t.length&&wM(n,e,r.filter(o=>o!=null).join(n.state.lineBreak),!1)};for(let o=0;o<t.length;o++){let a=new FileReader;a.onerror=s,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(r[o]=a.result),s()},a.readAsText(t[o])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return wM(n,e,r,!0),!0}return!1};Us.paste=(n,e)=>{if(n.state.readOnly)return!0;n.observer.flush();let t=ZW?null:e.clipboardData;return t?(FW(n,t.getData("text/plain")||t.getData("text/uri-list")),!0):(Fme(n),!1)};function Yme(n,e){let t=n.dom.parentNode;if(!t)return;let r=t.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),n.focus()},50)}function Hme(n){let e=[],t=[],r=!1;for(let i of n.selection.ranges)i.empty||(e.push(n.sliceDoc(i.from,i.to)),t.push(i));if(!e.length){let i=-1;for(let{from:s}of n.selection.ranges){let o=n.doc.lineAt(s);o.number>i&&(e.push(o.text),t.push({from:o.from,to:Math.min(n.doc.length,o.to+1)})),i=o.number}r=!0}return{text:dS(n,PQ,e.join(n.lineBreak)),ranges:t,linewise:r}}let WP=null;Us.copy=Us.cut=(n,e)=>{let{text:t,ranges:r,linewise:i}=Hme(n.state);if(!t&&!i)return!1;WP=i?t:null,e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let s=ZW?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",t),!0):(Yme(n,t),!1)};const WW=Fs.define();function XW(n,e){let t=[];for(let r of n.facet(AW)){let i=r(n,e);i&&t.push(i)}return t?n.update({effects:t,annotations:WW.of(!0)}):null}function GW(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let t=XW(n.state,e);t?n.dispatch(t):n.update([])}},10)}ds.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),GW(n)};ds.blur=n=>{n.observer.clearSelectionRange(),GW(n)};ds.compositionstart=ds.compositionupdate=n=>{n.observer.editContext||(n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0))};ds.compositionend=n=>{n.observer.editContext||(n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,we.chrome&&we.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50))};ds.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};Us.beforeinput=(n,e)=>{var t,r;if(e.inputType=="insertReplacementText"&&n.observer.editContext){let s=(t=e.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain"),o=e.getTargetRanges();if(s&&o.length){let a=o[0],l=n.posAtDOM(a.startContainer,a.startOffset),c=n.posAtDOM(a.endContainer,a.endOffset);return RQ(n,{from:l,to:c,insert:n.state.toText(s)},null),!0}}let i;if(we.chrome&&we.android&&(i=zW.find(s=>s.inputType==e.inputType))&&(n.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let s=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>s+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}return we.ios&&e.inputType=="deleteContentForward"&&n.observer.flushSoon(),we.safari&&e.inputType=="insertText"&&n.inputState.composing>=0&&setTimeout(()=>ds.compositionend(n,e),20),!1};const bM=new Set;function Kme(n){bM.has(n)||(bM.add(n),n.addEventListener("copy",()=>{}),n.addEventListener("cut",()=>{}))}const SM=["pre-wrap","normal","pre-line","break-spaces"];let nf=!1;function kM(){nf=!1}class Jme{constructor(e){this.lineWrapping=e,this.doc=pt.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let r=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((t-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return SM.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(t=!0,this.heightSamples[Math.floor(i*10)]=!0)}return t}refresh(e,t,r,i,s,o){let a=SM.indexOf(e)>-1,l=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=t,this.charWidth=r,this.textHeight=i,this.lineLength=s,l){this.heightSamples={};for(let c=0;c<o.length;c++){let u=o[c];u<0?c++:this.heightSamples[Math.floor(u*10)]=!0}}return l}}class ege{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class co{constructor(e,t,r,i,s){this.from=e,this.length=t,this.top=r,this.height=i,this._content=s}get type(){return typeof this._content=="number"?Wr.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof kc?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new co(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var Ft=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(Ft||(Ft={}));const xv=.001;class Xr{constructor(e,t,r=2){this.length=e,this.height=t,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>xv&&(nf=!0),this.height=e)}replace(e,t,r){return Xr.of(r)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,r,i){let s=this,o=r.doc;for(let a=i.length-1;a>=0;a--){let{fromA:l,toA:c,fromB:u,toB:h}=i[a],f=s.lineAt(l,Ft.ByPosNoHeight,r.setDoc(t),0,0),m=f.to>=c?f:s.lineAt(c,Ft.ByPosNoHeight,r,0,0);for(h+=m.to-c,c=m.to;a>0&&f.from<=i[a-1].toA;)l=i[a-1].fromA,u=i[a-1].fromB,a--,l<f.from&&(f=s.lineAt(l,Ft.ByPosNoHeight,r,0,0));u+=f.from-l,l=f.from;let g=QQ.build(r.setDoc(o),e,u,h);s=fw(s,s.replace(l,c,g))}return s.updateHeight(r,0)}static empty(){return new ki(0,0)}static of(e){if(e.length==1)return e[0];let t=0,r=e.length,i=0,s=0;for(;;)if(t==r)if(i>s*2){let a=e[t-1];a.break?e.splice(--t,1,a.left,null,a.right):e.splice(--t,1,a.left,a.right),r+=1+a.break,i-=a.size}else if(s>i*2){let a=e[r];a.break?e.splice(r,1,a.left,null,a.right):e.splice(r,1,a.left,a.right),r+=2+a.break,s-=a.size}else break;else if(i<s){let a=e[t++];a&&(i+=a.size)}else{let a=e[--r];a&&(s+=a.size)}let o=0;return e[t-1]==null?(o=1,t--):e[t]==null&&(o=1,r++),new tge(Xr.of(e.slice(0,t)),o,Xr.of(e.slice(r)))}}function fw(n,e){return n==e?n:(n.constructor!=e.constructor&&(nf=!0),e)}Xr.prototype.size=1;class YW extends Xr{constructor(e,t,r){super(e,t),this.deco=r}blockAt(e,t,r,i){return new co(i,this.length,r,this.height,this.deco||0)}lineAt(e,t,r,i,s){return this.blockAt(0,r,i,s)}forEachLine(e,t,r,i,s,o){e<=s+this.length&&t>=s&&o(this.blockAt(0,r,i,s))}updateHeight(e,t=0,r=!1,i){return i&&i.from<=t&&i.more&&this.setHeight(i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class ki extends YW{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,r,i){return new co(i,this.length,r,this.height,this.breaks)}replace(e,t,r){let i=r[0];return r.length==1&&(i instanceof ki||i instanceof ir&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof ir?i=new ki(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):Xr.of(r)}updateHeight(e,t=0,r=!1,i){return i&&i.from<=t&&i.more?this.setHeight(i.heights[i.index++]):(r||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class ir extends Xr{constructor(e){super(e,0)}heightMetrics(e,t){let r=e.doc.lineAt(t).number,i=e.doc.lineAt(t+this.length).number,s=i-r+1,o,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*s);o=l/s,this.length>s+1&&(a=(this.height-l)/(this.length-s-1))}else o=this.height/s;return{firstLine:r,lastLine:i,perLine:o,perChar:a}}blockAt(e,t,r,i){let{firstLine:s,lastLine:o,perLine:a,perChar:l}=this.heightMetrics(t,i);if(t.lineWrapping){let c=i+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),u=t.doc.lineAt(c),h=a+u.length*l,f=Math.max(r,e-h/2);return new co(u.from,u.length,f,h,0)}else{let c=Math.max(0,Math.min(o-s,Math.floor((e-r)/a))),{from:u,length:h}=t.doc.line(s+c);return new co(u,h,r+a*c,a,0)}}lineAt(e,t,r,i,s){if(t==Ft.ByHeight)return this.blockAt(e,r,i,s);if(t==Ft.ByPosNoHeight){let{from:m,to:g}=r.doc.lineAt(e);return new co(m,g-m,0,0,0)}let{firstLine:o,perLine:a,perChar:l}=this.heightMetrics(r,s),c=r.doc.lineAt(e),u=a+c.length*l,h=c.number-o,f=i+a*h+l*(c.from-s-h);return new co(c.from,c.length,Math.max(i,Math.min(f,i+this.height-u)),u,0)}forEachLine(e,t,r,i,s,o){e=Math.max(e,s),t=Math.min(t,s+this.length);let{firstLine:a,perLine:l,perChar:c}=this.heightMetrics(r,s);for(let u=e,h=i;u<=t;){let f=r.doc.lineAt(u);if(u==e){let g=f.number-a;h+=l*g+c*(e-s-g)}let m=l+c*f.length;o(new co(f.from,f.length,h,m,0)),h+=m,u=f.to+1}}replace(e,t,r){let i=this.length-t;if(i>0){let s=r[r.length-1];s instanceof ir?r[r.length-1]=new ir(s.length+i):r.push(null,new ir(i-1))}if(e>0){let s=r[0];s instanceof ir?r[0]=new ir(e+s.length):r.unshift(new ir(e-1),null)}return Xr.of(r)}decomposeLeft(e,t){t.push(new ir(e-1),null)}decomposeRight(e,t){t.push(null,new ir(this.length-e-1))}updateHeight(e,t=0,r=!1,i){let s=t+this.length;if(i&&i.from<=t+this.length&&i.more){let o=[],a=Math.max(t,i.from),l=-1;for(i.from>t&&o.push(new ir(i.from-t-1).updateHeight(e,t));a<=s&&i.more;){let u=e.doc.lineAt(a).length;o.length&&o.push(null);let h=i.heights[i.index++];l==-1?l=h:Math.abs(h-l)>=xv&&(l=-2);let f=new ki(u,h);f.outdated=!1,o.push(f),a+=u+1}a<=s&&o.push(null,new ir(s-a).updateHeight(e,a));let c=Xr.of(o);return(l<0||Math.abs(c.height-this.height)>=xv||Math.abs(l-this.heightMetrics(e,t).perLine)>=xv)&&(nf=!0),fw(this,c)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class tge extends Xr{constructor(e,t,r){super(e.length+t+r.length,e.height+r.height,t|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,t,r,i){let s=r+this.left.height;return e<s?this.left.blockAt(e,t,r,i):this.right.blockAt(e,t,s,i+this.left.length+this.break)}lineAt(e,t,r,i,s){let o=i+this.left.height,a=s+this.left.length+this.break,l=t==Ft.ByHeight?e<o:e<a,c=l?this.left.lineAt(e,t,r,i,s):this.right.lineAt(e,t,r,o,a);if(this.break||(l?c.to<a:c.from>a))return c;let u=t==Ft.ByPosNoHeight?Ft.ByPosNoHeight:Ft.ByPos;return l?c.join(this.right.lineAt(a,u,r,o,a)):this.left.lineAt(a,u,r,i,s).join(c)}forEachLine(e,t,r,i,s,o){let a=i+this.left.height,l=s+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,t,r,i,s,o),t>=l&&this.right.forEachLine(e,t,r,a,l,o);else{let c=this.lineAt(l,Ft.ByPos,r,i,s);e<c.from&&this.left.forEachLine(e,c.from-1,r,i,s,o),c.to>=e&&c.from<=t&&o(c),t>c.to&&this.right.forEachLine(c.to+1,t,r,a,l,o)}}replace(e,t,r){let i=this.left.length+this.break;if(t<i)return this.balanced(this.left.replace(e,t,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,t-i,r));let s=[];e>0&&this.decomposeLeft(e,s);let o=s.length;for(let a of r)s.push(a);if(e>0&&_M(s,o-1),t<this.length){let a=s.length;this.decomposeRight(t,s),_M(s,a)}return Xr.of(s)}decomposeLeft(e,t){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(r++,e>=r&&t.push(null)),e>r&&this.right.decomposeLeft(e-r,t)}decomposeRight(e,t){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,t);e<r&&this.left.decomposeRight(e,t),this.break&&e<i&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?Xr.of(this.break?[e,null,t]:[e,t]):(this.left=fw(this.left,e),this.right=fw(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,r=!1,i){let{left:s,right:o}=this,a=t+s.length+this.break,l=null;return i&&i.from<=t+s.length&&i.more?l=s=s.updateHeight(e,t,r,i):s.updateHeight(e,t,r),i&&i.from<=a+o.length&&i.more?l=o=o.updateHeight(e,a,r,i):o.updateHeight(e,a,r),l?this.balanced(s,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function _M(n,e){let t,r;n[e]==null&&(t=n[e-1])instanceof ir&&(r=n[e+1])instanceof ir&&n.splice(e-1,3,new ir(t.length+1+r.length))}const nge=5;class QQ{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let r=Math.min(t,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof ki?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new ki(r-this.pos,-1)),this.writtenTo=r,t>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,r){if(e<t||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,s=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let o=t-e;r.block?this.addBlock(new YW(o,i,r)):(o||s||i>=nge)&&this.addLineDeco(i,s,o)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new ki(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let r=new ir(t-e);return this.oracle.doc.lineAt(e).to==t&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof ki)return e;let t=new ki(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=t,this.writtenTo=this.pos=this.pos+r}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof ki)&&!this.isCovered?this.nodes.push(new ki(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof ki&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,t,r,i){let s=new QQ(r,e);return yt.spans(t,r,i,s,0),s.finish(r)}}function rge(n,e,t){let r=new ige;return yt.compare(n,e,t,r,0),r.changes}class ige{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,r,i){(e<t||r&&r.heightRelevant||i&&i.heightRelevant)&&yv(e,t,this.changes,5)}}function sge(n,e){let t=n.getBoundingClientRect(),r=n.ownerDocument,i=r.defaultView||window,s=Math.max(0,t.left),o=Math.min(i.innerWidth,t.right),a=Math.max(0,t.top),l=Math.min(i.innerHeight,t.bottom);for(let c=n.parentNode;c&&c!=r.body;)if(c.nodeType==1){let u=c,h=window.getComputedStyle(u);if((u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth)&&h.overflow!="visible"){let f=u.getBoundingClientRect();s=Math.max(s,f.left),o=Math.min(o,f.right),a=Math.max(a,f.top),l=Math.min(c==n.parentNode?i.innerHeight:l,f.bottom)}c=h.position=="absolute"||h.position=="fixed"?u.offsetParent:u.parentNode}else if(c.nodeType==11)c=c.host;else break;return{left:s-t.left,right:Math.max(s,o)-t.left,top:a-(t.top+e),bottom:Math.max(a,l)-(t.top+e)}}function oge(n){let e=n.getBoundingClientRect(),t=n.ownerDocument.defaultView||window;return e.left<t.innerWidth&&e.right>0&&e.top<t.innerHeight&&e.bottom>0}function age(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class mk{constructor(e,t,r,i){this.from=e,this.to=t,this.size=r,this.displaySize=i}static same(e,t){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=t[r];if(i.from!=s.from||i.to!=s.to||i.size!=s.size)return!1}return!0}draw(e,t){return ye.replace({widget:new lge(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class lge extends ea{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class TM{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=PM,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=it.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(CQ).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new Jme(t),this.stateDeco=e.facet(Dg).filter(r=>typeof r!="function"),this.heightMap=Xr.empty().applyChanges(this.stateDeco,pt.empty,this.heightOracle.setDoc(e.doc),[new os(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=ye.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let r=0;r<=1;r++){let i=r?t.head:t.anchor;if(!e.some(({from:s,to:o})=>i>=s&&i<=o)){let{from:s,to:o}=this.lineBlockAt(i);e.push(new p0(s,o))}}return this.viewports=e.sort((r,i)=>r.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?PM:new IQ(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(tm(e,this.scaler))})}update(e,t=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(Dg).filter(u=>typeof u!="function");let i=e.changedRanges,s=os.extendWithRanges(i,rge(r,this.stateDeco,e?e.changes:Nn.empty(this.state.doc.length))),o=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);kM(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=o||nf)&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<l.from||t.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,t));let c=l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,e.flags|=this.updateForViewport(),(c||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(QW)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,r=window.getComputedStyle(t),i=this.heightOracle,s=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?it.RTL:it.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),a=t.getBoundingClientRect(),l=o||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let c=0,u=0;if(a.width&&a.height){let{scaleX:I,scaleY:C}=sW(t,a);(I>.005&&Math.abs(this.scaleX-I)>.005||C>.005&&Math.abs(this.scaleY-C)>.005)&&(this.scaleX=I,this.scaleY=C,c|=16,o=l=!0)}let h=(parseInt(r.paddingTop)||0)*this.scaleY,f=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=h||this.paddingBottom!=f)&&(this.paddingTop=h,this.paddingBottom=f,c|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,c|=16);let m=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=m&&(this.scrollAnchorHeight=-1,this.scrollTop=m),this.scrolledToBottom=lW(e.scrollDOM);let g=(this.printing?age:sge)(t,this.paddingTop),y=g.top-this.pixelViewport.top,x=g.bottom-this.pixelViewport.bottom;this.pixelViewport=g;let S=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(S!=this.inView&&(this.inView=S,S&&(l=!0)),!this.inView&&!this.scrollTarget&&!oge(e.dom))return 0;let _=a.width;if((this.contentDOMWidth!=_||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,c|=16),l){let I=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(I)&&(o=!0),o||i.lineWrapping&&Math.abs(_-this.contentDOMWidth)>i.charWidth){let{lineHeight:C,charWidth:Q,textHeight:O}=e.docView.measureTextSize();o=C>0&&i.refresh(s,C,Q,O,_/Q,I),o&&(e.docView.minWidth=0,c|=16)}y>0&&x>0?u=Math.max(y,x):y<0&&x<0&&(u=Math.min(y,x)),kM();for(let C of this.viewports){let Q=C.from==this.viewport.from?I:e.docView.measureVisibleLineHeights(C);this.heightMap=(o?Xr.empty().applyChanges(this.stateDeco,pt.empty,this.heightOracle,[new os(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,o,new ege(C.from,Q))}nf&&(c|=2)}let T=!this.viewportIsAppropriate(this.viewport,u)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return T&&(c&2&&(c|=this.updateScaler()),this.viewport=this.getViewport(u,this.scrollTarget),c|=this.updateForViewport()),(c&2||T)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,s=this.heightOracle,{visibleTop:o,visibleBottom:a}=this,l=new p0(i.lineAt(o-r*1e3,Ft.ByHeight,s,0,0).from,i.lineAt(a+(1-r)*1e3,Ft.ByHeight,s,0,0).to);if(t){let{head:c}=t.range;if(c<l.from||c>l.to){let u=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),h=i.lineAt(c,Ft.ByPos,s,0,0),f;t.y=="center"?f=(h.top+h.bottom)/2-u/2:t.y=="start"||t.y=="nearest"&&c<l.from?f=h.top:f=h.bottom-u,l=new p0(i.lineAt(f-1e3/2,Ft.ByHeight,s,0,0).from,i.lineAt(f+u+1e3/2,Ft.ByHeight,s,0,0).to)}}return l}mapViewport(e,t){let r=t.mapPos(e.from,-1),i=t.mapPos(e.to,1);return new p0(this.heightMap.lineAt(r,Ft.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,Ft.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,Ft.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(t,Ft.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:a}=this;return(e==0||i<=o-Math.max(10,Math.min(-r,250)))&&(t==this.state.doc.length||s>=a+Math.max(10,Math.min(r,250)))&&i>o-2*1e3&&s<a+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let r=[];for(let i of e)t.touchesRange(i.from,i.to)||r.push(new mk(t.mapPos(i.from),t.mapPos(i.to),i.size,i.displaySize));return r}ensureLineGaps(e,t){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,s=i>>1,o=i<<1;if(this.defaultTextDirection!=it.LTR&&!r)return[];let a=[],l=(u,h,f,m)=>{if(h-u<s)return;let g=this.state.selection.main,y=[g.from];g.empty||y.push(g.to);for(let S of y)if(S>u&&S<h){l(u,S-10,f,m),l(S+10,h,f,m);return}let x=uge(e,S=>S.from>=f.from&&S.to<=f.to&&Math.abs(S.from-u)<s&&Math.abs(S.to-h)<s&&!y.some(_=>S.from<_&&S.to>_));if(!x){if(h<f.to&&t&&r&&t.visibleRanges.some(T=>T.from<=h&&T.to>=h)){let T=t.moveToLineBoundary(te.cursor(h),!1,!0).head;T>u&&(h=T)}let S=this.gapSize(f,u,h,m),_=r||S<2e6?S:2e6;x=new mk(u,h,S,_)}a.push(x)},c=u=>{if(u.length<o||u.type!=Wr.Text)return;let h=cge(u.from,u.to,this.stateDeco);if(h.total<o)return;let f=this.scrollTarget?this.scrollTarget.range.head:null,m,g;if(r){let y=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,x,S;if(f!=null){let _=g0(h,f),T=((this.visibleBottom-this.visibleTop)/2+y)/u.height;x=_-T,S=_+T}else x=(this.visibleTop-u.top-y)/u.height,S=(this.visibleBottom-u.top+y)/u.height;m=m0(h,x),g=m0(h,S)}else{let y=h.total*this.heightOracle.charWidth,x=i*this.heightOracle.charWidth,S=0;if(y>2e6)for(let Q of e)Q.from>=u.from&&Q.from<u.to&&Q.size!=Q.displaySize&&Q.from*this.heightOracle.charWidth+S<this.pixelViewport.left&&(S=Q.size-Q.displaySize);let _=this.pixelViewport.left+S,T=this.pixelViewport.right+S,I,C;if(f!=null){let Q=g0(h,f),O=((T-_)/2+x)/y;I=Q-O,C=Q+O}else I=(_-x)/y,C=(T+x)/y;m=m0(h,I),g=m0(h,C)}m>u.from&&l(u.from,m,u,h),g<u.to&&l(g,u.to,u,h)};for(let u of this.viewportLines)Array.isArray(u.type)?u.type.forEach(c):c(u);return a}gapSize(e,t,r,i){let s=g0(i,r)-g0(i,t);return this.heightOracle.lineWrapping?e.height*s:i.total*this.heightOracle.charWidth*s}updateLineGaps(e){mk.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=ye.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let r=[];yt.spans(t,this.viewport.from,this.viewport.to,{span(s,o){r.push({from:s,to:o})},point(){}},20);let i=0;if(r.length!=this.visibleRanges.length)i=12;else for(let s=0;s<r.length&&!(i&8);s++){let o=this.visibleRanges[s],a=r[s];(o.from!=a.from||o.to!=a.to)&&(i|=4,e&&e.mapPos(o.from,-1)==a.from&&e.mapPos(o.to,1)==a.to||(i|=8))}return this.visibleRanges=r,i}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||tm(this.heightMap.lineAt(e,Ft.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||tm(this.heightMap.lineAt(this.scaler.fromDOM(e),Ft.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return tm(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}let p0=class{constructor(e,t){this.from=e,this.to=t}};function cge(n,e,t){let r=[],i=n,s=0;return yt.spans(t,n,e,{span(){},point(o,a){o>i&&(r.push({from:i,to:o}),s+=o-i),i=a}},20),i<e&&(r.push({from:i,to:e}),s+=e-i),{total:s,ranges:r}}function m0({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let r=Math.floor(n*t);for(let i=0;;i++){let{from:s,to:o}=e[i],a=o-s;if(r<=a)return s+r;r-=a}}function g0(n,e){let t=0;for(let{from:r,to:i}of n.ranges){if(e<=i){t+=e-r;break}t+=i-r}return t/n.total}function uge(n,e){for(let t of n)if(e(t))return t}const PM={toDOM(n){return n},fromDOM(n){return n},scale:1,eq(n){return n==this}};class IQ{constructor(e,t,r){let i=0,s=0,o=0;this.viewports=r.map(({from:a,to:l})=>{let c=t.lineAt(a,Ft.ByPos,e,0,0).top,u=t.lineAt(l,Ft.ByPos,e,0,0).bottom;return i+=u-c,{from:a,to:l,top:c,bottom:u,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(t.height-i);for(let a of this.viewports)a.domTop=o+(a.top-s)*this.scale,o=a.domBottom=a.domTop+(a.bottom-a.top),s=a.bottom}toDOM(e){for(let t=0,r=0,i=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.top)return i+(e-r)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);r=s.bottom,i=s.domBottom}}fromDOM(e){for(let t=0,r=0,i=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.domTop)return r+(e-i)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);r=s.bottom,i=s.domBottom}}eq(e){return e instanceof IQ?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,r)=>t.from==e.viewports[r].from&&t.to==e.viewports[r].to):!1}}function tm(n,e){if(e.scale==1)return n;let t=e.toDOM(n.top),r=e.toDOM(n.bottom);return new co(n.from,n.length,t,r-t,Array.isArray(n._content)?n._content.map(i=>tm(i,e)):n._content)}const O0=de.define({combine:n=>n.join(" ")}),XP=de.define({combine:n=>n.indexOf(!0)>-1}),GP=Rn.newName(),HW=Rn.newName(),KW=Rn.newName(),JW={"&light":"."+HW,"&dark":"."+KW};function YP(n,e,t){return new Rn(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return n;if(!t||!t[i])throw new RangeError(`Unsupported selector: ${i}`);return t[i]}):n+" "+r}})}const hge=YP("."+GP,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},JW),dge={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},gk=we.ie&&we.ie_version<=11;class fge{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new Ype,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let r of t)this.queue.push(r);(we.ie&&we.ie_version<=11||we.ios&&e.composing)&&t.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&e.constructor.EDIT_CONTEXT!==!1&&!(we.chrome&&we.chrome_version<126)&&(this.editContext=new mge(e),e.state.facet(ba)&&(e.contentDOM.editContext=this.editContext.editContext)),gk&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,r)=>t!=e[r]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(ba)?r.root.activeElement!=this.dom:!Ov(this.dom,i))return;let s=i.anchorNode&&r.docView.nearest(i.anchorNode);if(s&&s.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(we.ie&&we.ie_version<=11||we.android&&we.chrome)&&!r.state.selection.main.empty&&i.focusNode&&jm(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=Ng(e.root);if(!t)return!1;let r=we.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&pge(this.view,t)||t;if(!r||this.selectionRange.eq(r))return!1;let i=Ov(this.dom,r);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&Kpe(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let r=this.dom;r;)if(r.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=t)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,dge),gk&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),gk&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var r;if(!this.delayedAndroidKey){let i=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&gd(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,r=-1,i=!1;for(let s of e){let o=this.readMutation(s);o&&(o.typeOver&&(i=!0),t==-1?{from:t,to:r}=o:(t=Math.min(o.from,t),r=Math.max(o.to,r)))}return{from:t,to:r,typeOver:i}}readChange(){let{from:e,to:t,typeOver:r}=this.processRecords(),i=this.selectionChanged&&Ov(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new Rme(this.view,e,t,r);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let r=this.view.state,i=UW(this.view,t);return this.view.state==r&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.flags|=4),e.type=="childList"){let r=CM(t,e.previousSibling||e.target.previousSibling,-1),i=CM(t,e.nextSibling||e.target.nextSibling,1);return{from:r?t.posAfter(r):t.posAtStart,to:i?t.posBefore(i):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(ba)!=e.state.facet(ba)&&(e.view.contentDOM.editContext=e.state.facet(ba)?this.editContext.editContext:null))}destroy(){var e,t,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function CM(n,e,t){for(;e;){let r=Et.get(e);if(r&&r.parent==n)return r;let i=e.parentNode;e=i!=n.dom?i:t>0?e.nextSibling:e.previousSibling}return null}function EM(n,e){let t=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=n.docView.domAtPos(n.state.selection.main.anchor);return jm(o.node,o.offset,i,s)&&([t,r,i,s]=[i,s,t,r]),{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:s}}function pge(n,e){if(e.getComposedRanges){let i=e.getComposedRanges(n.root)[0];if(i)return EM(n,i)}let t=null;function r(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return n.contentDOM.addEventListener("beforeinput",r,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",r,!0),t?EM(n,t):null}class mge{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let i=e.state.selection.main,{anchor:s,head:o}=i,a=this.toEditorPos(r.updateRangeStart),l=this.toEditorPos(r.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:r.updateRangeStart,editorBase:a,drifted:!1});let c={from:a,to:l,insert:pt.of(r.text.split(`
`))};if(c.from==this.from&&s<this.from?c.from=s:c.to==this.to&&s>this.to&&(c.to=s),c.from==c.to&&!c.insert.length){let u=te.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd));u.main.eq(i)||e.dispatch({selection:u,userEvent:"select"});return}if((we.mac||we.android)&&c.from==o-1&&/^\. ?$/.test(r.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(c={from:a,to:l,insert:pt.of([r.text.replace("."," ")])}),this.pendingContextChange=c,!e.state.readOnly){let u=this.to-this.from+(c.to-c.from+c.insert.length);RQ(e,c,te.single(this.toEditorPos(r.selectionStart,u),this.toEditorPos(r.selectionEnd,u)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state))},this.handlers.characterboundsupdate=r=>{let i=[],s=null;for(let o=this.toEditorPos(r.rangeStart),a=this.toEditorPos(r.rangeEnd);o<a;o++){let l=e.coordsForChar(o);s=l&&new DOMRect(l.left,l.top,l.right-l.left,l.bottom-l.top)||s||new DOMRect,i.push(s)}t.updateCharacterBounds(r.rangeStart,i)},this.handlers.textformatupdate=r=>{let i=[];for(let s of r.getTextFormats()){let o=s.underlineStyle,a=s.underlineThickness;if(o!="None"&&a!="None"){let l=this.toEditorPos(s.rangeStart),c=this.toEditorPos(s.rangeEnd);if(l<c){let u=`text-decoration: underline ${o=="Dashed"?"dashed ":o=="Squiggle"?"wavy ":""}${a=="Thin"?1:2}px`;i.push(ye.mark({attributes:{style:u}}).range(l,c))}}}e.dispatch({effects:$W.of(ye.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:r}=this.composing;this.composing=null,r&&this.reset(e.state)}};for(let r in this.handlers)t.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let i=Ng(r.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,r=!1,i=this.pendingContextChange;return e.changes.iterChanges((s,o,a,l,c)=>{if(r)return;let u=c.length-(o-s);if(i&&o>=i.to)if(i.from==s&&i.to==o&&i.insert.eq(c)){i=this.pendingContextChange=null,t+=u,this.to+=u;return}else i=null,this.revertPending(e.state);if(s+=t,o+=t,o<=this.from)this.from+=u,this.to+=u;else if(s<this.to){if(s<this.from||o>this.to||this.to-this.from+c.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(s),this.toContextPos(o),c.toString()),this.to+=u}t+=u}),i&&!r&&this.revertPending(e.state),!r}update(e){let t=this.pendingContextChange,r=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(r.from,r.to)&&e.transactions.some(i=>!i.isUserEvent("input.type")&&i.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),i=this.toContextPos(t.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(r,i)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>1e4*3)}toEditorPos(e,t=this.to-this.from){e=Math.min(e,t);let r=this.composing;return r&&r.drifted?r.editorBase+(e-r.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class fe{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(i=>i.forEach(s=>r(s,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||Hpe(e.parent)||document,this.viewState=new TM(e.state||De.create(e)),e.scrollTo&&e.scrollTo.is(h0)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Kp).map(i=>new dk(i));for(let i of this.plugins)i.update(this);this.observer=new fge(this),this.inputState=new jme(this),this.inputState.ensureHandlers(this.plugins),this.docView=new aM(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((t=document.fonts)===null||t===void 0)&&t.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let t=e.length==1&&e[0]instanceof vn?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,r=!1,i,s=this.state;for(let f of e){if(f.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=f.state}if(this.destroyed){this.viewState.state=s;return}let o=this.hasFocus,a=0,l=null;e.some(f=>f.annotation(WW))?(this.inputState.notifiedFocused=o,a=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,l=XW(s,o),l||(a=1));let c=this.observer.delayedAndroidKey,u=null;if(c?(this.observer.clearDelayedAndroidKey(),u=this.observer.readChange(),(u&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(u=null)):this.observer.clear(),s.facet(De.phrases)!=this.state.facet(De.phrases))return this.setState(s);i=dw.create(this,s,e),i.flags|=a;let h=this.viewState.scrollTarget;try{this.updateState=2;for(let f of e){if(h&&(h=h.map(f.changes)),f.scrollIntoView){let{main:m}=f.state.selection;h=new Od(m.empty?m:te.cursor(m.head,m.head>m.anchor?-1:1))}for(let m of f.effects)m.is(h0)&&(h=m.value.clip(this.state))}this.viewState.update(i,h),this.bidiCache=pw.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),t=this.docView.update(i),this.state.facet(Jp)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(f=>f.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(O0)!=i.state.facet(O0)&&(this.viewState.mustMeasureContent=!0),(t||r||h||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!i.empty)for(let f of this.state.facet(ZP))try{f(i)}catch(m){An(this.state,m,"update listener")}(l||u)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),u&&!UW(this,u)&&c.force&&gd(this.contentDOM,c.key,c.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new TM(e),this.plugins=e.facet(Kp).map(r=>new dk(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new aM(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(Kp),r=e.state.facet(Kp);if(t!=r){let i=[];for(let s of r){let o=t.indexOf(s);if(o<0)i.push(new dk(s));else{let a=this.plugins[o];a.mustUpdate=e,i.push(a)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);t!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(r){An(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:o}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let a=0;;a++){if(o<0)if(lW(r))s=-1,o=this.viewState.heightMap.height;else{let m=this.viewState.scrollAnchorAt(i);s=m.from,o=m.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let c=[];l&4||([this.measureRequests,c]=[c,this.measureRequests]);let u=c.map(m=>{try{return m.read(this)}catch(g){return An(this.state,g),AM}}),h=dw.create(this,this.state,[]),f=!1;h.flags|=l,t?t.flags|=l:t=h,this.updateState=2,h.empty||(this.updatePlugins(h),this.inputState.update(h),this.updateAttrs(),f=this.docView.update(h),f&&this.docViewUpdate());for(let m=0;m<c.length;m++)if(u[m]!=AM)try{let g=c[m];g.write&&g.write(u[m],this)}catch(g){An(this.state,g)}if(f&&this.docView.updateSelection(!0),!h.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,o=-1;continue}else{let g=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-o;if(g>1||g<-1){i=i+g,r.scrollTop=i/this.scaleY,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let a of this.state.facet(ZP))a(t)}get themeClasses(){return GP+" "+(this.state.facet(XP)?KW:HW)+" "+this.state.facet(O0)}updateAttrs(){let e=RM(this,NW,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(ba)?"true":"false",class:"cm-content",style:`${we.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),RM(this,CQ,t);let r=this.observer.ignore(()=>{let i=VP(this.contentDOM,this.contentAttrs,t),s=VP(this.dom,this.editorAttrs,e);return i||s});return this.editorAttrs=e,this.contentAttrs=t,r}showAnnouncements(e){let t=!0;for(let r of e)for(let i of r.effects)if(i.is(fe.announce)){t&&(this.announceDOM.textContent=""),t=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(Jp);let e=this.state.facet(fe.cspNonce);Rn.mount(this.root,this.styleModules.concat(hge).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(r=>r.spec==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,r){return pk(this,e,dM(this,e,t,r))}moveByGroup(e,t){return pk(this,e,dM(this,e,t,r=>Pme(this,e.head,r)))}visualLineSide(e,t){let r=this.bidiSpans(e),i=this.textDirectionAt(e.from),s=r[t?r.length-1:0];return te.cursor(s.side(t,i)+e.from,s.forward(!t,i)?1:-1)}moveToLineBoundary(e,t,r=!0){return Tme(this,e,t,r)}moveVertically(e,t,r){return pk(this,e,Cme(this,e,t,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),LW(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let r=this.docView.coordsAt(e,t);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),s=this.bidiSpans(i),o=s[Fl.find(s,e-i.from,-1,t)];return uS(r,o.dir==it.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(RW)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>gge)return SW(e.length);let t=this.textDirectionAt(e.from),r;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==t&&(s.fresh||bW(s.isolates,r=oM(this,e))))return s.order;r||(r=oM(this,e));let i=ume(e.text,t,r);return this.bidiCache.push(new pw(e.from,e.to,t,r,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||we.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{oW(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return h0.of(new Od(typeof e=="number"?te.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return h0.of(new Od(te.cursor(r.from),"start","start",r.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return Vt.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Vt.define(()=>({}),{eventObservers:e})}static theme(e,t){let r=Rn.newName(),i=[O0.of(r),Jp.of(YP(`.${r}`,e))];return t&&t.dark&&i.push(XP.of(!0)),i}static baseTheme(e){return sl.lowest(Jp.of(YP("."+GP,e,JW)))}static findFromDOM(e){var t;let r=e.querySelector(".cm-content"),i=r&&Et.get(r)||Et.get(e);return((t=i==null?void 0:i.rootView)===null||t===void 0?void 0:t.view)||null}}fe.styleModule=Jp;fe.inputHandler=EW;fe.clipboardInputFilter=TQ;fe.clipboardOutputFilter=PQ;fe.scrollHandler=IW;fe.focusChangeEffect=AW;fe.perLineTextDirection=RW;fe.exceptionSink=CW;fe.updateListener=ZP;fe.editable=ba;fe.mouseSelectionStyle=PW;fe.dragMovesSelection=TW;fe.clickAddsSelectionRange=_W;fe.decorations=Dg;fe.outerDecorations=jW;fe.atomicRanges=EQ;fe.bidiIsolatedRanges=DW;fe.scrollMargins=MW;fe.darkTheme=XP;fe.cspNonce=de.define({combine:n=>n.length?n[0]:""});fe.contentAttributes=CQ;fe.editorAttributes=NW;fe.lineWrapping=fe.contentAttributes.of({class:"cm-lineWrapping"});fe.announce=Ne.define();const gge=4096,AM={};class pw{constructor(e,t,r,i,s,o){this.from=e,this.to=t,this.dir=r,this.isolates=i,this.fresh=s,this.order=o}static update(e,t){if(t.empty&&!e.some(s=>s.fresh))return e;let r=[],i=e.length?e[e.length-1].dir:it.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let o=e[s];o.dir==i&&!t.touchesRange(o.from,o.to)&&r.push(new pw(t.mapPos(o.from,1),t.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return r}}function RM(n,e,t){for(let r=n.state.facet(e),i=r.length-1;i>=0;i--){let s=r[i],o=typeof s=="function"?s(n):s;o&&MP(o,t)}return t}const Oge=we.mac?"mac":we.windows?"win":we.linux?"linux":"key";function yge(n,e){const t=n.split(/-(?!$)/);let r=t[t.length-1];r=="Space"&&(r=" ");let i,s,o,a;for(let l=0;l<t.length-1;++l){const c=t[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))i=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))o=!0;else if(/^mod$/i.test(c))e=="mac"?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+c)}return i&&(r="Alt-"+r),s&&(r="Ctrl-"+r),a&&(r="Meta-"+r),o&&(r="Shift-"+r),r}function y0(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t!==!1&&e.shiftKey&&(n="Shift-"+n),n}const vge=sl.default(fe.domEventHandlers({keydown(n,e){return tX(eX(e.state),n,e,"editor")}})),KO=de.define({enables:vge}),QM=new WeakMap;function eX(n){let e=n.facet(KO),t=QM.get(e);return t||QM.set(e,t=bge(e.reduce((r,i)=>r.concat(i),[]))),t}function xge(n,e,t){return tX(eX(n.state),e,n,t)}let Al=null;const wge=4e3;function bge(n,e=Oge){let t=Object.create(null),r=Object.create(null),i=(o,a)=>{let l=r[o];if(l==null)r[o]=a;else if(l!=a)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},s=(o,a,l,c,u)=>{var h,f;let m=t[o]||(t[o]=Object.create(null)),g=a.split(/ (?!$)/).map(S=>yge(S,e));for(let S=1;S<g.length;S++){let _=g.slice(0,S).join(" ");i(_,!0),m[_]||(m[_]={preventDefault:!0,stopPropagation:!1,run:[T=>{let I=Al={view:T,prefix:_,scope:o};return setTimeout(()=>{Al==I&&(Al=null)},wge),!0}]})}let y=g.join(" ");i(y,!1);let x=m[y]||(m[y]={preventDefault:!1,stopPropagation:!1,run:((f=(h=m._any)===null||h===void 0?void 0:h.run)===null||f===void 0?void 0:f.slice())||[]});l&&x.run.push(l),c&&(x.preventDefault=!0),u&&(x.stopPropagation=!0)};for(let o of n){let a=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let c of a){let u=t[c]||(t[c]=Object.create(null));u._any||(u._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:h}=o;for(let f in u)u[f].run.push(m=>h(m,HP))}let l=o[e]||o.key;if(l)for(let c of a)s(c,l,o.run,o.preventDefault,o.stopPropagation),o.shift&&s(c,"Shift-"+l,o.shift,o.preventDefault,o.stopPropagation)}return t}let HP=null;function tX(n,e,t,r){HP=e;let i=Bpe(e),s=ai(i,0),o=lo(s)==i.length&&i!=" ",a="",l=!1,c=!1,u=!1;Al&&Al.view==t&&Al.scope==r&&(a=Al.prefix+" ",qW.indexOf(e.keyCode)<0&&(c=!0,Al=null));let h=new Set,f=x=>{if(x){for(let S of x.run)if(!h.has(S)&&(h.add(S),S(t)))return x.stopPropagation&&(u=!0),!0;x.preventDefault&&(x.stopPropagation&&(u=!0),c=!0)}return!1},m=n[r],g,y;return m&&(f(m[a+y0(i,e,!o)])?l=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(we.windows&&e.ctrlKey&&e.altKey)&&(g=Sc[e.keyCode])&&g!=i?(f(m[a+y0(g,e,!0)])||e.shiftKey&&(y=$g[e.keyCode])!=i&&y!=g&&f(m[a+y0(y,e,!1)]))&&(l=!0):o&&e.shiftKey&&f(m[a+y0(i,e,!0)])&&(l=!0),!l&&f(m._any)&&(l=!0)),c&&(l=!0),l&&u&&e.stopPropagation(),HP=null,l}class JO{constructor(e,t,r,i,s){this.className=e,this.left=t,this.top=r,this.width=i,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,r){if(r.empty){let i=e.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let s=nX(e);return[new JO(t,i.left-s.left,i.top-s.top,null,i.bottom-i.top)]}else return Sge(e,t,r)}}function nX(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==it.LTR?e.left:e.right-n.scrollDOM.clientWidth*n.scaleX)-n.scrollDOM.scrollLeft*n.scaleX,top:e.top-n.scrollDOM.scrollTop*n.scaleY}}function IM(n,e,t,r){let i=n.coordsAtPos(e,t*2);if(!i)return r;let s=n.dom.getBoundingClientRect(),o=(i.top+i.bottom)/2,a=n.posAtCoords({x:s.left+1,y:o}),l=n.posAtCoords({x:s.right-1,y:o});return a==null||l==null?r:{from:Math.max(r.from,Math.min(a,l)),to:Math.min(r.to,Math.max(a,l))}}function Sge(n,e,t){if(t.to<=n.viewport.from||t.from>=n.viewport.to)return[];let r=Math.max(t.from,n.viewport.from),i=Math.min(t.to,n.viewport.to),s=n.textDirection==it.LTR,o=n.contentDOM,a=o.getBoundingClientRect(),l=nX(n),c=o.querySelector(".cm-line"),u=c&&window.getComputedStyle(c),h=a.left+(u?parseInt(u.paddingLeft)+Math.min(0,parseInt(u.textIndent)):0),f=a.right-(u?parseInt(u.paddingRight):0),m=BP(n,r),g=BP(n,i),y=m.type==Wr.Text?m:null,x=g.type==Wr.Text?g:null;if(y&&(n.lineWrapping||m.widgetLineBreaks)&&(y=IM(n,r,1,y)),x&&(n.lineWrapping||g.widgetLineBreaks)&&(x=IM(n,i,-1,x)),y&&x&&y.from==x.from&&y.to==x.to)return _(T(t.from,t.to,y));{let C=y?T(t.from,null,y):I(m,!1),Q=x?T(null,t.to,x):I(g,!0),O=[];return(y||m).to<(x||g).from-(y&&x?1:0)||m.widgetLineBreaks>1&&C.bottom+n.defaultLineHeight/2<Q.top?O.push(S(h,C.bottom,f,Q.top)):C.bottom<Q.top&&n.elementAtHeight((C.bottom+Q.top)/2).type==Wr.Text&&(C.bottom=Q.top=(C.bottom+Q.top)/2),_(C).concat(O).concat(_(Q))}function S(C,Q,O,w){return new JO(e,C-l.left,Q-l.top,O-C,w-Q)}function _({top:C,bottom:Q,horizontal:O}){let w=[];for(let k=0;k<O.length;k+=2)w.push(S(O[k],C,O[k+1],Q));return w}function T(C,Q,O){let w=1e9,k=-1e9,R=[];function P(j,V,U,W,D){let L=n.coordsAtPos(j,j==O.to?-2:2),Y=n.coordsAtPos(U,U==O.from?2:-2);!L||!Y||(w=Math.min(L.top,Y.top,w),k=Math.max(L.bottom,Y.bottom,k),D==it.LTR?R.push(s&&V?h:L.left,s&&W?f:Y.right):R.push(!s&&W?h:Y.left,!s&&V?f:L.right))}let v=C??O.from,A=Q??O.to;for(let j of n.visibleRanges)if(j.to>v&&j.from<A)for(let V=Math.max(j.from,v),U=Math.min(j.to,A);;){let W=n.state.doc.lineAt(V);for(let D of n.bidiSpans(W)){let L=D.from+W.from,Y=D.to+W.from;if(L>=U)break;Y>V&&P(Math.max(L,V),C==null&&L<=v,Math.min(Y,U),Q==null&&Y>=A,D.dir)}if(V=W.to+1,V>=U)break}return R.length==0&&P(v,C==null,A,Q==null,n.textDirection),{top:w,bottom:k,horizontal:R}}function I(C,Q){let O=a.top+(Q?C.top:C.bottom);return{top:O,bottom:O,horizontal:[]}}}function kge(n,e){return n.constructor==e.constructor&&n.eq(e)}class _ge{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(wv)!=e.state.facet(wv)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let t=0,r=e.facet(wv);for(;t<r.length&&r[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;(e!=this.scaleX||t!=this.scaleY)&&(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((t,r)=>!kge(t,this.drawn[r]))){let t=this.dom.firstChild,r=0;for(let i of e)i.update&&t&&i.constructor&&this.drawn[r].constructor&&i.update(t,this.drawn[r])?(t=t.nextSibling,r++):this.dom.insertBefore(i.draw(),t);for(;t;){let i=t.nextSibling;t.remove(),t=i}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const wv=de.define();function rX(n){return[Vt.define(e=>new _ge(e,n)),wv.of(n)]}const iX=!(we.ios&&we.webkit&&we.webkit_version<534),Mg=de.define({combine(n){return Jo(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function Tge(n={}){return[Mg.of(n),Pge,Cge,Ege,QW.of(!0)]}function sX(n){return n.startState.facet(Mg)!=n.state.facet(Mg)}const Pge=rX({above:!0,markers(n){let{state:e}=n,t=e.facet(Mg),r=[];for(let i of e.selection.ranges){let s=i==e.selection.main;if(i.empty?!s||iX:t.drawRangeCursor){let o=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",a=i.empty?i:te.cursor(i.head,i.head>i.anchor?-1:1);for(let l of JO.forRange(n,o,a))r.push(l)}}return r},update(n,e){n.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=sX(n);return t&&$M(n.state,e),n.docChanged||n.selectionSet||t},mount(n,e){$M(e.state,n)},class:"cm-cursorLayer"});function $M(n,e){e.style.animationDuration=n.facet(Mg).cursorBlinkRate+"ms"}const Cge=rX({above:!1,markers(n){return n.state.selection.ranges.map(e=>e.empty?[]:JO.forRange(n,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(n,e){return n.docChanged||n.selectionSet||n.viewportChanged||sX(n)},class:"cm-selectionLayer"}),KP={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};iX&&(KP[".cm-line"].caretColor=KP[".cm-content"].caretColor="transparent !important");const Ege=sl.highest(fe.theme(KP)),oX=Ne.define({map(n,e){return n==null?null:e.mapPos(n)}}),nm=Xt.define({create(){return null},update(n,e){return n!=null&&(n=e.changes.mapPos(n)),e.effects.reduce((t,r)=>r.is(oX)?r.value:t,n)}}),Age=Vt.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var e;let t=n.state.field(nm);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(nm)!=t||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:n}=this,e=n.state.field(nm),t=e!=null&&n.coordsAtPos(e);if(!t)return null;let r=n.scrollDOM.getBoundingClientRect();return{left:t.left-r.left+n.scrollDOM.scrollLeft*n.scaleX,top:t.top-r.top+n.scrollDOM.scrollTop*n.scaleY,height:t.bottom-t.top}}drawCursor(n){if(this.cursor){let{scaleX:e,scaleY:t}=this.view;n?(this.cursor.style.left=n.left/e+"px",this.cursor.style.top=n.top/t+"px",this.cursor.style.height=n.height/t+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(nm)!=n&&this.view.dispatch({effects:oX.of(n)})}},{eventObservers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){(n.target==this.view.contentDOM||!this.view.contentDOM.contains(n.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function Rge(){return[nm,Age]}function NM(n,e,t,r,i){e.lastIndex=0;for(let s=n.iterRange(t,r),o=t,a;!s.next().done;o+=s.value.length)if(!s.lineBreak)for(;a=e.exec(s.value);)i(o+a.index,a)}function Qge(n,e){let t=n.visibleRanges;if(t.length==1&&t[0].from==n.viewport.from&&t[0].to==n.viewport.to)return t;let r=[];for(let{from:i,to:s}of t)i=Math.max(n.state.doc.lineAt(i).from,i-e),s=Math.min(n.state.doc.lineAt(s).to,s+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=s:r.push({from:i,to:s});return r}class Ige{constructor(e){const{regexp:t,decoration:r,decorate:i,boundary:s,maxLength:o=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,i)this.addMatch=(a,l,c,u)=>i(u,c,c+a[0].length,a,l);else if(typeof r=="function")this.addMatch=(a,l,c,u)=>{let h=r(a,l,c);h&&u(c,c+a[0].length,h)};else if(r)this.addMatch=(a,l,c,u)=>u(c,c+a[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=o}createDeco(e){let t=new Xa,r=t.add.bind(t);for(let{from:i,to:s}of Qge(e,this.maxLength))NM(e.state.doc,this.regexp,i,s,(o,a)=>this.addMatch(a,e,o,r));return t.finish()}updateDeco(e,t){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((s,o,a,l)=>{l>=e.view.viewport.from&&a<=e.view.viewport.to&&(r=Math.min(a,r),i=Math.max(l,i))}),e.viewportMoved||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,t.map(e.changes),r,i):t}updateRange(e,t,r,i){for(let s of e.visibleRanges){let o=Math.max(s.from,r),a=Math.min(s.to,i);if(a>o){let l=e.state.doc.lineAt(o),c=l.to<a?e.state.doc.lineAt(a):l,u=Math.max(s.from,l.from),h=Math.min(s.to,c.to);if(this.boundary){for(;o>l.from;o--)if(this.boundary.test(l.text[o-1-l.from])){u=o;break}for(;a<c.to;a++)if(this.boundary.test(c.text[a-c.from])){h=a;break}}let f=[],m,g=(y,x,S)=>f.push(S.range(y,x));if(l==c)for(this.regexp.lastIndex=u-l.from;(m=this.regexp.exec(l.text))&&m.index<h-l.from;)this.addMatch(m,e,m.index+l.from,g);else NM(e.state.doc,this.regexp,u,h,(y,x)=>this.addMatch(x,e,y,g));t=t.update({filterFrom:u,filterTo:h,filter:(y,x)=>y<u||x>h,add:f})}}return t}}const JP=/x/.unicode!=null?"gu":"g",$ge=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,JP),Nge={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let Ok=null;function jge(){var n;if(Ok==null&&typeof document<"u"&&document.body){let e=document.body.style;Ok=((n=e.tabSize)!==null&&n!==void 0?n:e.MozTabSize)!=null}return Ok||!1}const bv=de.define({combine(n){let e=Jo(n,{render:null,specialChars:$ge,addSpecialChars:null});return(e.replaceTabs=!jge())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,JP)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,JP)),e}});function Dge(n={}){return[bv.of(n),Mge()]}let jM=null;function Mge(){return jM||(jM=Vt.fromClass(class{constructor(n){this.view=n,this.decorations=ye.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(n.state.facet(bv)),this.decorations=this.decorator.createDeco(n)}makeDecorator(n){return new Ige({regexp:n.specialChars,decoration:(e,t,r)=>{let{doc:i}=t.state,s=ai(e[0],0);if(s==9){let o=i.lineAt(r),a=t.state.tabSize,l=Uf(o.text,a,r-o.from);return ye.replace({widget:new zge((a-l%a)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=ye.replace({widget:new Uge(n,s)}))},boundary:n.replaceTabs?void 0:/[^]/})}update(n){let e=n.state.facet(bv);n.startState.facet(bv)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(n.view)):this.decorations=this.decorator.updateDeco(n,this.decorations)}},{decorations:n=>n.decorations}))}const Vge="";function Lge(n){return n>=32?Vge:n==10?"":String.fromCharCode(9216+n)}class Uge extends ea{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=Lge(this.code),r=e.state.phrase("Control character")+" "+(Nge[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,t);if(i)return i;let s=document.createElement("span");return s.textContent=t,s.title=r,s.setAttribute("aria-label",r),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class zge extends ea{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function qge(){return Fge}const Zge=ye.line({class:"cm-activeLine"}),Fge=Vt.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=-1,t=[];for(let r of n.state.selection.ranges){let i=n.lineBlockAt(r.head);i.from>e&&(t.push(Zge.range(i.from)),e=i.from)}return ye.set(t)}},{decorations:n=>n.decorations}),eC=2e3;function Bge(n,e,t){let r=Math.min(e.line,t.line),i=Math.max(e.line,t.line),s=[];if(e.off>eC||t.off>eC||e.col<0||t.col<0){let o=Math.min(e.off,t.off),a=Math.max(e.off,t.off);for(let l=r;l<=i;l++){let c=n.doc.line(l);c.length<=a&&s.push(te.range(c.from+o,c.to+a))}}else{let o=Math.min(e.col,t.col),a=Math.max(e.col,t.col);for(let l=r;l<=i;l++){let c=n.doc.line(l),u=RP(c.text,o,n.tabSize,!0);if(u<0)s.push(te.cursor(c.to));else{let h=RP(c.text,a,n.tabSize);s.push(te.range(c.from+u,c.from+h))}}}return s}function Wge(n,e){let t=n.coordsAtPos(n.viewport.from);return t?Math.round(Math.abs((t.left-e)/n.defaultCharacterWidth)):-1}function DM(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1),r=n.state.doc.lineAt(t),i=t-r.from,s=i>eC?-1:i==r.length?Wge(n,e.clientX):Uf(r.text,n.state.tabSize,t-r.from);return{line:r.number,col:s,off:i}}function Xge(n,e){let t=DM(n,e),r=n.state.selection;return t?{update(i){if(i.docChanged){let s=i.changes.mapPos(i.startState.doc.line(t.line).from),o=i.state.doc.lineAt(s);t={line:o.number,col:t.col,off:Math.min(t.off,o.length)},r=r.map(i.changes)}},get(i,s,o){let a=DM(n,i);if(!a)return r;let l=Bge(n.state,t,a);return l.length?o?te.create(l.concat(r.ranges)):te.create(l):r}}:null}function Gge(n){let e=t=>t.altKey&&t.button==0;return fe.mouseSelectionStyle.of((t,r)=>e(r)?Xge(t,r):null)}const Yge={Alt:[18,n=>!!n.altKey],Control:[17,n=>!!n.ctrlKey],Shift:[16,n=>!!n.shiftKey],Meta:[91,n=>!!n.metaKey]},Hge={style:"cursor: crosshair"};function Kge(n={}){let[e,t]=Yge[n.key||"Alt"],r=Vt.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||t(i))},keyup(i){(i.keyCode==e||!t(i))&&this.set(!1)},mousemove(i){this.set(t(i))}}});return[r,fe.contentAttributes.of(i=>{var s;return!((s=i.plugin(r))===null||s===void 0)&&s.isDown?Hge:null})]}const _p="-10000px";class aX{constructor(e,t,r,i){this.facet=t,this.createTooltipView=r,this.removeTooltipView=i,this.input=e.state.facet(t),this.tooltips=this.input.filter(o=>o);let s=null;this.tooltipViews=this.tooltips.map(o=>s=r(o,s))}update(e,t){var r;let i=e.state.facet(this.facet),s=i.filter(l=>l);if(i===this.input){for(let l of this.tooltipViews)l.update&&l.update(e);return!1}let o=[],a=t?[]:null;for(let l=0;l<s.length;l++){let c=s[l],u=-1;if(c){for(let h=0;h<this.tooltips.length;h++){let f=this.tooltips[h];f&&f.create==c.create&&(u=h)}if(u<0)o[l]=this.createTooltipView(c,l?o[l-1]:null),a&&(a[l]=!!c.above);else{let h=o[l]=this.tooltipViews[u];a&&(a[l]=t[u]),h.update&&h.update(e)}}}for(let l of this.tooltipViews)o.indexOf(l)<0&&(this.removeTooltipView(l),(r=l.destroy)===null||r===void 0||r.call(l));return t&&(a.forEach((l,c)=>t[c]=l),t.length=a.length),this.input=i,this.tooltips=s,this.tooltipViews=o,!0}}function Jge(n){let e=n.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const yk=de.define({combine:n=>{var e,t,r;return{position:we.ios?"absolute":((e=n.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=n.find(i=>i.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((r=n.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||Jge}}}),MM=new WeakMap,$Q=Vt.fromClass(class{constructor(n){this.view=n,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=n.state.facet(yk);this.position=e.position,this.parent=e.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new aX(n,NQ,(t,r)=>this.createTooltip(t,r),t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()}),this.above=this.manager.tooltips.map(t=>!!t.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(n,this.above);e&&this.observeIntersection();let t=e||n.geometryChanged,r=n.state.facet(yk);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;t=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(n,e){let t=n.create(this.view),r=e?e.dom:null;if(t.dom.classList.add("cm-tooltip"),n.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",t.dom.appendChild(i)}return t.dom.style.position=this.position,t.dom.style.top=_p,t.dom.style.left="0px",this.container.insertBefore(t.dom,r),t.mount&&t.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(t.dom),t}destroy(){var n,e,t;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(n=r.destroy)===null||n===void 0||n.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(t=this.intersectionObserver)===null||t===void 0||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=1,e=1,t=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:s}=this.manager.tooltipViews[0];if(we.gecko)t=s.offsetParent!=this.container.ownerDocument.body;else if(s.style.top==_p&&s.style.left=="0px"){let o=s.getBoundingClientRect();t=Math.abs(o.top+1e4)>1||Math.abs(o.left)>1}}if(t||this.position=="absolute")if(this.parent){let s=this.parent.getBoundingClientRect();s.width&&s.height&&(n=s.width/this.parent.offsetWidth,e=s.height/this.parent.offsetHeight)}else({scaleX:n,scaleY:e}=this.view.viewState);let r=this.view.scrollDOM.getBoundingClientRect(),i=AQ(this.view);return{visible:{left:r.left+i.left,top:r.top+i.top,right:r.right-i.right,bottom:r.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((s,o)=>{let a=this.manager.tooltipViews[o];return a.getCoords?a.getCoords(s.pos):this.view.coordsAtPos(s.pos)}),size:this.manager.tooltipViews.map(({dom:s})=>s.getBoundingClientRect()),space:this.view.state.facet(yk).tooltipSpace(this.view),scaleX:n,scaleY:e,makeAbsolute:t}}writeMeasure(n){var e;if(n.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let a of this.manager.tooltipViews)a.dom.style.position="absolute"}let{visible:t,space:r,scaleX:i,scaleY:s}=n,o=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],c=this.manager.tooltipViews[a],{dom:u}=c,h=n.pos[a],f=n.size[a];if(!h||l.clip!==!1&&(h.bottom<=Math.max(t.top,r.top)||h.top>=Math.min(t.bottom,r.bottom)||h.right<Math.max(t.left,r.left)-.1||h.left>Math.min(t.right,r.right)+.1)){u.style.top=_p;continue}let m=l.arrow?c.dom.querySelector(".cm-tooltip-arrow"):null,g=m?7:0,y=f.right-f.left,x=(e=MM.get(c))!==null&&e!==void 0?e:f.bottom-f.top,S=c.offset||tOe,_=this.view.textDirection==it.LTR,T=f.width>r.right-r.left?_?r.left:r.right-f.width:_?Math.max(r.left,Math.min(h.left-(m?14:0)+S.x,r.right-y)):Math.min(Math.max(r.left,h.left-y+(m?14:0)-S.x),r.right-y),I=this.above[a];!l.strictSide&&(I?h.top-x-g-S.y<r.top:h.bottom+x+g+S.y>r.bottom)&&I==r.bottom-h.bottom>h.top-r.top&&(I=this.above[a]=!I);let C=(I?h.top-r.top:r.bottom-h.bottom)-g;if(C<x&&c.resize!==!1){if(C<this.view.defaultLineHeight){u.style.top=_p;continue}MM.set(c,x),u.style.height=(x=C)/s+"px"}else u.style.height&&(u.style.height="");let Q=I?h.top-x-g-S.y:h.bottom+g+S.y,O=T+y;if(c.overlap!==!0)for(let w of o)w.left<O&&w.right>T&&w.top<Q+x&&w.bottom>Q&&(Q=I?w.top-x-2-g:w.bottom+g+2);if(this.position=="absolute"?(u.style.top=(Q-n.parent.top)/s+"px",VM(u,(T-n.parent.left)/i)):(u.style.top=Q/s+"px",VM(u,T/i)),m){let w=h.left+(_?S.x:-S.x)-(T+14-7);m.style.left=w/i+"px"}c.overlap!==!0&&o.push({left:T,top:Q,right:O,bottom:Q+x}),u.classList.toggle("cm-tooltip-above",I),u.classList.toggle("cm-tooltip-below",!I),c.positioned&&c.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=_p}},{eventObservers:{scroll(){this.maybeMeasure()}}});function VM(n,e){let t=parseInt(n.style.left,10);(isNaN(t)||Math.abs(e-t)>1)&&(n.style.left=e+"px")}const eOe=fe.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),tOe={x:0,y:0},NQ=de.define({enables:[$Q,eOe]}),mw=de.define({combine:n=>n.reduce((e,t)=>e.concat(t),[])});class fS{static create(e){return new fS(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new aX(e,mw,(t,r)=>this.createHostedView(t,r),t=>t.dom.remove())}createHostedView(e,t){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,t?t.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}passProp(e){let t;for(let r of this.manager.tooltipViews){let i=r[e];if(i!==void 0){if(t===void 0)t=i;else if(t!==i)return}}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const nOe=NQ.compute([mw],n=>{let e=n.facet(mw);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.map(t=>{var r;return(r=t.end)!==null&&r!==void 0?r:t.pos})),create:fS.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class rOe{constructor(e,t,r,i,s){this.view=e,this.source=t,this.field=r,this.setHover=i,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,r=e.docView.nearest(t.target);if(!r)return;let i,s=1;if(r instanceof Zl)i=r.posAtStart;else{if(i=e.posAtCoords(t),i==null)return;let a=e.coordsAtPos(i);if(!a||t.y<a.top||t.y>a.bottom||t.x<a.left-e.defaultCharacterWidth||t.x>a.right+e.defaultCharacterWidth)return;let l=e.bidiSpans(e.state.doc.lineAt(i)).find(u=>u.from<=i&&u.to>=i),c=l&&l.dir==it.RTL?-1:1;s=t.x<a.left?-c:c}let o=this.source(e,i,s);if(o!=null&&o.then){let a=this.pending={pos:i};o.then(l=>{this.pending==a&&(this.pending=null,l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])}))},l=>An(e.state,l,"hover tooltip"))}else o&&!(Array.isArray(o)&&!o.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(o)?o:[o])})}get tooltip(){let e=this.view.plugin($Q),t=e?e.manager.tooltips.findIndex(r=>r.create==fS.create):-1;return t>-1?e.manager.tooltipViews[t]:null}mousemove(e){var t,r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:s}=this;if(i.length&&s&&!iOe(s.dom,e)||this.pending){let{pos:o}=i[0]||this.pending,a=(r=(t=i[0])===null||t===void 0?void 0:t.end)!==null&&r!==void 0?r:o;(o==a?this.view.posAtCoords(this.lastMove)!=o:!sOe(this.view,o,a,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:t}=this;if(t.length){let{tooltip:r}=this;r&&r.dom.contains(e.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let t=r=>{e.removeEventListener("mouseleave",t),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",t)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const v0=4;function iOe(n,e){let{left:t,right:r,top:i,bottom:s}=n.getBoundingClientRect(),o;if(o=n.querySelector(".cm-tooltip-arrow")){let a=o.getBoundingClientRect();i=Math.min(a.top,i),s=Math.max(a.bottom,s)}return e.clientX>=t-v0&&e.clientX<=r+v0&&e.clientY>=i-v0&&e.clientY<=s+v0}function sOe(n,e,t,r,i,s){let o=n.scrollDOM.getBoundingClientRect(),a=n.documentTop+n.documentPadding.top+n.contentHeight;if(o.left>r||o.right<r||o.top>i||Math.min(o.bottom,a)<i)return!1;let l=n.posAtCoords({x:r,y:i},!1);return l>=e&&l<=t}function oOe(n,e={}){let t=Ne.define(),r=Xt.define({create(){return[]},update(i,s){if(i.length&&(e.hideOnChange&&(s.docChanged||s.selection)?i=[]:e.hideOn&&(i=i.filter(o=>!e.hideOn(s,o))),s.docChanged)){let o=[];for(let a of i){let l=s.changes.mapPos(a.pos,-1,Ln.TrackDel);if(l!=null){let c=Object.assign(Object.create(null),a);c.pos=l,c.end!=null&&(c.end=s.changes.mapPos(c.end)),o.push(c)}}i=o}for(let o of s.effects)o.is(t)&&(i=o.value),o.is(aOe)&&(i=[]);return i},provide:i=>mw.from(i)});return{active:r,extension:[r,Vt.define(i=>new rOe(i,n,r,t,e.hoverTime||300)),nOe]}}function lX(n,e){let t=n.plugin($Q);if(!t)return null;let r=t.manager.tooltips.indexOf(e);return r<0?null:t.manager.tooltipViews[r]}const aOe=Ne.define(),LM=de.define({combine(n){let e,t;for(let r of n)e=e||r.topContainer,t=t||r.bottomContainer;return{topContainer:e,bottomContainer:t}}});function Vg(n,e){let t=n.plugin(cX),r=t?t.specs.indexOf(e):-1;return r>-1?t.panels[r]:null}const cX=Vt.fromClass(class{constructor(n){this.input=n.state.facet(Lg),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(n));let e=n.state.facet(LM);this.top=new x0(n,!0,e.topContainer),this.bottom=new x0(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(n){let e=n.state.facet(LM);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new x0(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new x0(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=n.state.facet(Lg);if(t!=this.input){let r=t.filter(l=>l),i=[],s=[],o=[],a=[];for(let l of r){let c=this.specs.indexOf(l),u;c<0?(u=l(n.view),a.push(u)):(u=this.panels[c],u.update&&u.update(n)),i.push(u),(u.top?s:o).push(u)}this.specs=r,this.panels=i,this.top.sync(s),this.bottom.sync(o);for(let l of a)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let r of this.panels)r.update&&r.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>fe.scrollMargins.of(e=>{let t=e.plugin(n);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class x0{constructor(e,t,r){this.view=e,this.top=t,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=UM(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=UM(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function UM(n){let e=n.nextSibling;return n.remove(),e}const Lg=de.define({enables:cX});class Ya extends Do{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Ya.prototype.elementClass="";Ya.prototype.toDOM=void 0;Ya.prototype.mapMode=Ln.TrackBefore;Ya.prototype.startSide=Ya.prototype.endSide=-1;Ya.prototype.point=!0;const Sv=de.define(),lOe=de.define(),cOe={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>yt.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Mm=de.define();function uOe(n){return[uX(),Mm.of(Object.assign(Object.assign({},cOe),n))]}const zM=de.define({combine:n=>n.some(e=>e)});function uX(n){return[hOe]}const hOe=Vt.fromClass(class{constructor(n){this.view=n,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=n.state.facet(Mm).map(e=>new ZM(n,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!n.state.facet(zM),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}update(n){if(this.updateGutters(n)){let e=this.prevViewport,t=n.view.viewport,r=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(r<(t.to-t.from)*.8)}n.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(zM)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&this.dom.remove();let t=yt.iter(this.view.state.facet(Sv),this.view.viewport.from),r=[],i=this.gutters.map(s=>new dOe(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(s.type)){let o=!0;for(let a of s.type)if(a.type==Wr.Text&&o){tC(t,r,a.from);for(let l of i)l.line(this.view,a,r);o=!1}else if(a.widget)for(let l of i)l.widget(this.view,a)}else if(s.type==Wr.Text){tC(t,r,s.from);for(let o of i)o.line(this.view,s,r)}else if(s.widget)for(let o of i)o.widget(this.view,s);for(let s of i)s.finish();n&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(n){let e=n.startState.facet(Mm),t=n.state.facet(Mm),r=n.docChanged||n.heightChanged||n.viewportChanged||!yt.eq(n.startState.facet(Sv),n.state.facet(Sv),n.view.viewport.from,n.view.viewport.to);if(e==t)for(let i of this.gutters)i.update(n)&&(r=!0);else{r=!0;let i=[];for(let s of t){let o=e.indexOf(s);o<0?i.push(new ZM(this.view,s)):(this.gutters[o].update(n),i.push(this.gutters[o]))}for(let s of this.gutters)s.dom.remove(),i.indexOf(s)<0&&s.destroy();for(let s of i)this.dom.appendChild(s.dom);this.gutters=i}return r}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove()}},{provide:n=>fe.scrollMargins.of(e=>{let t=e.plugin(n);return!t||t.gutters.length==0||!t.fixed?null:e.textDirection==it.LTR?{left:t.dom.offsetWidth*e.scaleX}:{right:t.dom.offsetWidth*e.scaleX}})});function qM(n){return Array.isArray(n)?n:[n]}function tC(n,e,t){for(;n.value&&n.from<=t;)n.from==t&&e.push(n.value),n.next()}class dOe{constructor(e,t,r){this.gutter=e,this.height=r,this.i=0,this.cursor=yt.iter(e.markers,t.from)}addElement(e,t,r){let{gutter:i}=this,s=(t.top-this.height)/e.scaleY,o=t.height/e.scaleY;if(this.i==i.elements.length){let a=new hX(e,o,s,r);i.elements.push(a),i.dom.appendChild(a.dom)}else i.elements[this.i].update(e,o,s,r);this.height=t.bottom,this.i++}line(e,t,r){let i=[];tC(this.cursor,i,t.from),r.length&&(i=i.concat(r));let s=this.gutter.config.lineMarker(e,t,i);s&&i.unshift(s);let o=this.gutter;i.length==0&&!o.config.renderEmptyElements||this.addElement(e,t,i)}widget(e,t){let r=this.gutter.config.widgetMarker(e,t.widget,t),i=r?[r]:null;for(let s of e.state.facet(lOe)){let o=s(e,t.widget,t);o&&(i||(i=[])).push(o)}i&&this.addElement(e,t,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class ZM{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in t.domEventHandlers)this.dom.addEventListener(r,i=>{let s=i.target,o;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let l=s.getBoundingClientRect();o=(l.top+l.bottom)/2}else o=i.clientY;let a=e.lineBlockAtHeight(o-e.documentTop);t.domEventHandlers[r](e,a,i)&&i.preventDefault()});this.markers=qM(t.markers(e)),t.initialSpacer&&(this.spacer=new hX(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=qM(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!yt.eq(this.markers,t,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class hX{constructor(e,t,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,r,i)}update(e,t,r,i){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),fOe(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,t){let r="cm-gutterElement",i=this.dom.firstChild;for(let s=0,o=0;;){let a=o,l=s<t.length?t[s++]:null,c=!1;if(l){let u=l.elementClass;u&&(r+=" "+u);for(let h=o;h<this.markers.length;h++)if(this.markers[h].compare(l)){a=h,c=!0;break}}else a=this.markers.length;for(;o<a;){let u=this.markers[o++];if(u.toDOM){u.destroy(i);let h=i.nextSibling;i.remove(),i=h}}if(!l)break;l.toDOM&&(c?i=i.nextSibling:this.dom.insertBefore(l.toDOM(e),i)),c&&o++}this.dom.className=r,this.markers=t}destroy(){this.setMarkers(null,[])}}function fOe(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].compare(e[t]))return!1;return!0}const pOe=de.define(),mOe=de.define(),Wh=de.define({combine(n){return Jo(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let r=Object.assign({},e);for(let i in t){let s=r[i],o=t[i];r[i]=s?(a,l,c)=>s(a,l,c)||o(a,l,c):o}return r}})}});class vk extends Ya{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function xk(n,e){return n.state.facet(Wh).formatNumber(e,n.state)}const gOe=Mm.compute([Wh],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(pOe)},lineMarker(e,t,r){return r.some(i=>i.toDOM)?null:new vk(xk(e,e.state.doc.lineAt(t.from).number))},widgetMarker:(e,t,r)=>{for(let i of e.state.facet(mOe)){let s=i(e,t,r);if(s)return s}return null},lineMarkerChange:e=>e.startState.facet(Wh)!=e.state.facet(Wh),initialSpacer(e){return new vk(xk(e,FM(e.state.doc.lines)))},updateSpacer(e,t){let r=xk(t.view,FM(t.view.state.doc.lines));return r==e.number?e:new vk(r)},domEventHandlers:n.facet(Wh).domEventHandlers}));function OOe(n={}){return[Wh.of(n),uX(),gOe]}function FM(n){let e=9;for(;e<n;)e=e*10+9;return e}const yOe=new class extends Ya{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},vOe=Sv.compute(["selection"],n=>{let e=[],t=-1;for(let r of n.selection.ranges){let i=n.doc.lineAt(r.head).from;i>t&&(t=i,e.push(yOe.range(i)))}return yt.of(e)});function xOe(){return vOe}const wOe=1024;let bOe=0,wk=class{constructor(e,t){this.from=e,this.to=t}},xt=class{constructor(e={}){this.id=bOe++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Vo.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}};xt.closedBy=new xt({deserialize:n=>n.split(" ")});xt.openedBy=new xt({deserialize:n=>n.split(" ")});xt.group=new xt({deserialize:n=>n.split(" ")});xt.isolate=new xt({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});xt.contextHash=new xt({perNode:!0});xt.lookAhead=new xt({perNode:!0});xt.mounted=new xt({perNode:!0});let gw=class{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[xt.mounted.id]}};const SOe=Object.create(null);let Vo=class dX{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):SOe,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new dX(e.name||"",t,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(xt.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(xt.group),s=-1;s<(i?i.length:0);s++){let o=t[s<0?r.name:i[s]];if(o)return o}}}};Vo.none=new Vo("",Object.create(null),0,8);const w0=new WeakMap,BM=new WeakMap;var ar;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(ar||(ar={}));let Ei=class nC{constructor(e,t,r,i,s){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=gw.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new sC(this.topNode,e)}cursorAt(e,t=0,r=0){let i=w0.get(this)||this.topNode,s=new sC(i);return s.moveTo(e,t),w0.set(this,s._tree),s}get topNode(){return new _c(this,0,0,null)}resolve(e,t=0){let r=Ug(w0.get(this)||this.topNode,e,t,!1);return w0.set(this,r),r}resolveInner(e,t=0){let r=Ug(BM.get(this)||this.topNode,e,t,!0);return BM.set(this,r),r}resolveStack(e,t=0){return POe(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:s=this.length}=e,o=e.mode||0,a=(o&ar.IncludeAnonymous)>0;for(let l=this.cursor(o|ar.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=i&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:DQ(Vo.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new nC(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new nC(Vo.none,t,r,i)))}static build(e){return COe(e)}};Ei.empty=new Ei(Vo.none,[],[],0);let kOe=class fX{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new fX(this.buffer,this.index)}},rf=class pX{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return Vo.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(mX(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,t,r){let i=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=i[a++],s[l++]=i[a++]-r;let c=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,c)}return new pX(s,o,this.set)}};function mX(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function Ug(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!r&&n instanceof _c&&n.index<0?null:n.parent;if(!o)return n;n=o}let s=r?0:ar.IgnoreOverlays;if(r)for(let o=n,a=o.parent;a;o=a,a=o.parent)o instanceof _c&&o.index<0&&((i=a.enter(e,t,s))===null||i===void 0?void 0:i.from)!=o.from&&(n=a);for(;;){let o=n.enter(e,t,s);if(!o)return n;n=o}}let gX=class{cursor(e=0){return new sC(this,e)}getChild(e,t=null,r=null){let i=WM(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return WM(this,e,t,r)}resolve(e,t=0){return Ug(this,e,t,!1)}resolveInner(e,t=0){return Ug(this,e,t,!0)}matchContext(e){return rC(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}},_c=class kv extends gX{constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=t>0?a.length:-1;e!=c;e+=t){let u=a[e],h=l[e]+o.from;if(mX(i,r,h,h+u.length)){if(u instanceof rf){if(s&ar.ExcludeBuffers)continue;let f=u.findChild(0,u.buffer.length,t,r-h,i);if(f>-1)return new iC(new _Oe(o,u,e,h),null,f)}else if(s&ar.IncludeAnonymous||!u.type.isAnonymous||jQ(u)){let f;if(!(s&ar.IgnoreMounts)&&(f=gw.get(u))&&!f.overlay)return new kv(f.tree,h,e,o);let m=new kv(u,h,e,o);return s&ar.IncludeAnonymous||!m.type.isAnonymous?m:m.nextChild(t<0?u.children.length-1:0,t,r,i)}}}if(s&ar.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&ar.IgnoreOverlays)&&(i=gw.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:o,to:a}of i.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new kv(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function WM(n,e,t,r){let i=n.cursor(),s=[];if(!i.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=i.type.is(t),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function rC(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}let _Oe=class{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}},iC=class rm extends gX{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return s<0?null:new rm(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&ar.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new rm(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new rm(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new rm(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),t.push(0)}return new Ei(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function OX(n){if(!n.length)return null;let e=0,t=n[0];for(let s=1;s<n.length;s++){let o=n[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let r=t instanceof _c&&t.index<0?null:t.parent,i=n.slice();return r?i[e]=r:i.splice(e,1),new TOe(i,t)}let TOe=class{constructor(e,t){this.heads=e,this.node=t}get next(){return OX(this.heads)}};function POe(n,e,t){let r=n.resolveInner(e,t),i=null;for(let s=r instanceof _c?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[r])).push(o.resolve(e,t)),s=o}else{let o=gw.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new _c(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(Ug(a,e,t,!1))}}return i?OX(i):r}let sC=class{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof _c)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof _c?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&ar.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&ar.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&ar.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let s=t+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&ar.IncludeAnonymous||a instanceof rf||!a.type.isAnonymous||jQ(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;t=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)t=new iC(this.buffer,t,this.stack[i]);return this.bufferNode=new iC(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return rC(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return rC(this._tree,e,i);let o=r[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}};function jQ(n){return n.children.some(e=>e instanceof rf||!e.type.isAnonymous||jQ(e))}function COe(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=wOe,reused:s=[],minRepeatType:o=r.types.length}=n,a=Array.isArray(t)?new kOe(t,t.length):t,l=r.types,c=0,u=0;function h(C,Q,O,w,k,R){let{id:P,start:v,end:A,size:j}=a,V=u,U=c;for(;j<0;)if(a.next(),j==-1){let F=s[P];O.push(F),w.push(v-C);return}else if(j==-3){c=P;return}else if(j==-4){u=P;return}else throw new RangeError(`Unrecognized record size: ${j}`);let W=l[P],D,L,Y=v-C;if(A-v<=i&&(L=x(a.pos-Q,k))){let F=new Uint16Array(L.size-L.skip),Z=a.pos-L.size,G=F.length;for(;a.pos>Z;)G=S(L.start,F,G);D=new rf(F,A-L.start,r),Y=L.start-C}else{let F=a.pos-j;a.next();let Z=[],G=[],J=P>=o?P:-1,ae=0,oe=A;for(;a.pos>F;)J>=0&&a.id==J&&a.size>=0?(a.end<=oe-i&&(g(Z,G,v,ae,a.end,oe,J,V,U),ae=Z.length,oe=a.end),a.next()):R>2500?f(v,F,Z,G):h(v,F,Z,G,J,R+1);if(J>=0&&ae>0&&ae<Z.length&&g(Z,G,v,ae,v,oe,J,V,U),Z.reverse(),G.reverse(),J>-1&&ae>0){let re=m(W,U);D=DQ(W,Z,G,0,Z.length,0,A-v,re,re)}else D=y(W,Z,G,A-v,V-A,U)}O.push(D),w.push(Y)}function f(C,Q,O,w){let k=[],R=0,P=-1;for(;a.pos>Q;){let{id:v,start:A,end:j,size:V}=a;if(V>4)a.next();else{if(P>-1&&A<P)break;P<0&&(P=j-i),k.push(v,A,j),R++,a.next()}}if(R){let v=new Uint16Array(R*4),A=k[k.length-2];for(let j=k.length-3,V=0;j>=0;j-=3)v[V++]=k[j],v[V++]=k[j+1]-A,v[V++]=k[j+2]-A,v[V++]=V;O.push(new rf(v,k[2]-A,r)),w.push(A-C)}}function m(C,Q){return(O,w,k)=>{let R=0,P=O.length-1,v,A;if(P>=0&&(v=O[P])instanceof Ei){if(!P&&v.type==C&&v.length==k)return v;(A=v.prop(xt.lookAhead))&&(R=w[P]+v.length+A)}return y(C,O,w,k,R,Q)}}function g(C,Q,O,w,k,R,P,v,A){let j=[],V=[];for(;C.length>w;)j.push(C.pop()),V.push(Q.pop()+O-k);C.push(y(r.types[P],j,V,R-k,v-R,A)),Q.push(k-O)}function y(C,Q,O,w,k,R,P){if(R){let v=[xt.contextHash,R];P=P?[v].concat(P):[v]}if(k>25){let v=[xt.lookAhead,k];P=P?[v].concat(P):[v]}return new Ei(C,Q,O,w,P)}function x(C,Q){let O=a.fork(),w=0,k=0,R=0,P=O.end-i,v={size:0,start:0,skip:0};e:for(let A=O.pos-C;O.pos>A;){let j=O.size;if(O.id==Q&&j>=0){v.size=w,v.start=k,v.skip=R,R+=4,w+=4,O.next();continue}let V=O.pos-j;if(j<0||V<A||O.start<P)break;let U=O.id>=o?4:0,W=O.start;for(O.next();O.pos>V;){if(O.size<0)if(O.size==-3)U+=4;else break e;else O.id>=o&&(U+=4);O.next()}k=W,w+=j,R+=U}return(Q<0||w==C)&&(v.size=w,v.start=k,v.skip=R),v.size>4?v:void 0}function S(C,Q,O){let{id:w,start:k,end:R,size:P}=a;if(a.next(),P>=0&&w<o){let v=O;if(P>4){let A=a.pos-(P-4);for(;a.pos>A;)O=S(C,Q,O)}Q[--O]=v,Q[--O]=R-C,Q[--O]=k-C,Q[--O]=w}else P==-3?c=w:P==-4&&(u=w);return O}let _=[],T=[];for(;a.pos>0;)h(n.start||0,n.bufferStart||0,_,T,-1,0);let I=(e=n.length)!==null&&e!==void 0?e:_.length?T[0]+_[0].length:0;return new Ei(l[n.topID],_.reverse(),T.reverse(),I)}const XM=new WeakMap;function _v(n,e){if(!n.isAnonymous||e instanceof rf||e.type!=n)return 1;let t=XM.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof Ei)){t=1;break}t+=_v(n,r)}XM.set(e,t)}return t}function DQ(n,e,t,r,i,s,o,a,l){let c=0;for(let g=r;g<i;g++)c+=_v(n,e[g]);let u=Math.ceil(c*1.5/8),h=[],f=[];function m(g,y,x,S,_){for(let T=x;T<S;){let I=T,C=y[T],Q=_v(n,g[T]);for(T++;T<S;T++){let O=_v(n,g[T]);if(Q+O>=u)break;Q+=O}if(T==I+1){if(Q>u){let O=g[I];m(O.children,O.positions,0,O.children.length,y[I]+_);continue}h.push(g[I])}else{let O=y[T-1]+g[T-1].length-C;h.push(DQ(n,g,y,I,T,C,O,null,l))}f.push(C+_-s)}}return m(e,t,r,i,0),(a||l)(h,f,o)}let Tv=class oC{constructor(e,t,r,i,s=!1,o=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],r=!1){let i=[new oC(0,e.length,e,0,!1,r)];for(let s of t)s.to>e.length&&i.push(s);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let u=a<t.length?t[a]:null,h=u?u.fromA:1e9;if(h-l>=r)for(;o&&o.from<h;){let f=o;if(l>=f.from||h<=f.to||c){let m=Math.max(f.from,l)-c,g=Math.min(f.to,h)-c;f=m>=g?null:new oC(m,g,f.tree,f.offset+c,a>0,!!u)}if(f&&i.push(f),o.to>h)break;o=s<e.length?e[s++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return i}},EOe=class{startParse(e,t,r){return typeof e=="string"&&(e=new AOe(e)),r=r?r.length?r.map(i=>new wk(i.from,i.to)):[new wk(0,0)]:[new wk(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let s=i.advance();if(s)return s}}},AOe=class{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}};new xt({perNode:!0});let ROe=0,Bn=class{constructor(e={}){this.id=ROe++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=aC.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}};Bn.closedBy=new Bn({deserialize:n=>n.split(" ")});Bn.openedBy=new Bn({deserialize:n=>n.split(" ")});Bn.group=new Bn({deserialize:n=>n.split(" ")});Bn.isolate=new Bn({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});Bn.contextHash=new Bn({perNode:!0});Bn.lookAhead=new Bn({perNode:!0});Bn.mounted=new Bn({perNode:!0});const QOe=Object.create(null);let aC=class yX{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):QOe,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new yX(e.name||"",t,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Bn.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(Bn.group),s=-1;s<(i?i.length:0);s++){let o=t[s<0?r.name:i[s]];if(o)return o}}}};aC.none=new aC("",Object.create(null),0,8);var GM;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(GM||(GM={}));new Bn({perNode:!0});let IOe=0;class ts{constructor(e,t,r,i){this.name=e,this.set=t,this.base=r,this.modified=i,this.id=IOe++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let r=typeof e=="string"?e:"?";if(e instanceof ts&&(t=e),t!=null&&t.base)throw new Error("Can not derive from a modified tag");let i=new ts(r,[],null,[]);if(i.set.push(i),t)for(let s of t.set)i.set.push(s);return i}static defineModifier(e){let t=new Ow(e);return r=>r.modified.indexOf(t)>-1?r:Ow.get(r.base||r,r.modified.concat(t).sort((i,s)=>i.id-s.id))}}let $Oe=0;class Ow{constructor(e){this.name=e,this.instances=[],this.id=$Oe++}static get(e,t){if(!t.length)return e;let r=t[0].instances.find(a=>a.base==e&&NOe(t,a.modified));if(r)return r;let i=[],s=new ts(e.name,i,e,t);for(let a of t)a.instances.push(s);let o=jOe(t);for(let a of e.set)if(!a.modified.length)for(let l of o)i.push(Ow.get(a,l));return s}}function NOe(n,e){return n.length==e.length&&n.every((t,r)=>t==e[r])}function jOe(n){let e=[[]];for(let t=0;t<n.length;t++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(n[t]));return e.sort((t,r)=>r.length-t.length)}function Wi(n){let e=Object.create(null);for(let t in n){let r=n[t];Array.isArray(r)||(r=[r]);for(let i of t.split(" "))if(i){let s=[],o=2,a=i;for(let h=0;;){if(a=="..."&&h>0&&h+3==i.length){o=1;break}let f=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!f)throw new RangeError("Invalid path: "+i);if(s.push(f[0]=="*"?"":f[0][0]=='"'?JSON.parse(f[0]):f[0]),h+=f[0].length,h==i.length)break;let m=i[h++];if(h==i.length&&m=="!"){o=0;break}if(m!="/")throw new RangeError("Invalid path: "+i);a=i.slice(h)}let l=s.length-1,c=s[l];if(!c)throw new RangeError("Invalid path: "+i);let u=new yw(r,o,l>0?s.slice(0,l):null);e[c]=u.sort(e[c])}}return vX.add(e)}const vX=new Bn;class yw{constructor(e,t,r,i){this.tags=e,this.mode=t,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}yw.empty=new yw([],2,null);function Zc(n,e){let t=Object.create(null);for(let s of n)if(!Array.isArray(s.tag))t[s.tag.id]=s.class;else for(let o of s.tag)t[o.id]=s.class;let{scope:r,all:i=null}=e||{};return{style:s=>{let o=i;for(let a of s)for(let l of a.set){let c=t[l.id];if(c){o=o?o+" "+c:c;break}}return o},scope:r}}function DOe(n,e){let t=null;for(let r of n){let i=r.style(e);i&&(t=t?t+" "+i:i)}return t}function MOe(n,e,t,r=0,i=n.length){let s=new VOe(r,Array.isArray(e)?e:[e],t);s.highlightRange(n.cursor(),r,i,"",s.highlighters),s.flush(i)}class VOe{constructor(e,t,r){this.at=e,this.highlighters=t,this.span=r,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,r,i,s){let{type:o,from:a,to:l}=e;if(a>=r||l<=t)return;o.isTop&&(s=this.highlighters.filter(m=>!m.scope||m.scope(o)));let c=i,u=LOe(e)||yw.empty,h=DOe(s,u.tags);if(h&&(c&&(c+=" "),c+=h,u.mode==1&&(i+=(i?" ":"")+h)),this.startSpan(Math.max(t,a),c),u.opaque)return;let f=e.tree&&e.tree.prop(Bn.mounted);if(f&&f.overlay){let m=e.node.enter(f.overlay[0].from+a,1),g=this.highlighters.filter(x=>!x.scope||x.scope(f.tree.type)),y=e.firstChild();for(let x=0,S=a;;x++){let _=x<f.overlay.length?f.overlay[x]:null,T=_?_.from+a:l,I=Math.max(t,S),C=Math.min(r,T);if(I<C&&y)for(;e.from<C&&(this.highlightRange(e,I,C,i,s),this.startSpan(Math.min(C,e.to),c),!(e.to>=T||!e.nextSibling())););if(!_||T>r)break;S=_.to+a,S>t&&(this.highlightRange(m.cursor(),Math.max(t,_.from+a),Math.min(r,S),"",g),this.startSpan(Math.min(r,S),c))}y&&e.parent()}else if(e.firstChild()){f&&(i="");do if(!(e.to<=t)){if(e.from>=r)break;this.highlightRange(e,t,r,i,s),this.startSpan(Math.min(r,e.to),c)}while(e.nextSibling());e.parent()}}}function LOe(n){let e=n.type.prop(vX);for(;e&&e.context&&!n.matchContext(e.context);)e=e.next;return e||null}const Oe=ts.define,b0=Oe(),vl=Oe(),YM=Oe(vl),HM=Oe(vl),xl=Oe(),S0=Oe(xl),bk=Oe(xl),Ks=Oe(),eu=Oe(Ks),Ys=Oe(),Hs=Oe(),lC=Oe(),Tp=Oe(lC),k0=Oe(),N={comment:b0,lineComment:Oe(b0),blockComment:Oe(b0),docComment:Oe(b0),name:vl,variableName:Oe(vl),typeName:YM,tagName:Oe(YM),propertyName:HM,attributeName:Oe(HM),className:Oe(vl),labelName:Oe(vl),namespace:Oe(vl),macroName:Oe(vl),literal:xl,string:S0,docString:Oe(S0),character:Oe(S0),attributeValue:Oe(S0),number:bk,integer:Oe(bk),float:Oe(bk),bool:Oe(xl),regexp:Oe(xl),escape:Oe(xl),color:Oe(xl),url:Oe(xl),keyword:Ys,self:Oe(Ys),null:Oe(Ys),atom:Oe(Ys),unit:Oe(Ys),modifier:Oe(Ys),operatorKeyword:Oe(Ys),controlKeyword:Oe(Ys),definitionKeyword:Oe(Ys),moduleKeyword:Oe(Ys),operator:Hs,derefOperator:Oe(Hs),arithmeticOperator:Oe(Hs),logicOperator:Oe(Hs),bitwiseOperator:Oe(Hs),compareOperator:Oe(Hs),updateOperator:Oe(Hs),definitionOperator:Oe(Hs),typeOperator:Oe(Hs),controlOperator:Oe(Hs),punctuation:lC,separator:Oe(lC),bracket:Tp,angleBracket:Oe(Tp),squareBracket:Oe(Tp),paren:Oe(Tp),brace:Oe(Tp),content:Ks,heading:eu,heading1:Oe(eu),heading2:Oe(eu),heading3:Oe(eu),heading4:Oe(eu),heading5:Oe(eu),heading6:Oe(eu),contentSeparator:Oe(Ks),list:Oe(Ks),quote:Oe(Ks),emphasis:Oe(Ks),strong:Oe(Ks),link:Oe(Ks),monospace:Oe(Ks),strikethrough:Oe(Ks),inserted:Oe(),deleted:Oe(),changed:Oe(),invalid:Oe(),meta:k0,documentMeta:Oe(k0),annotation:Oe(k0),processingInstruction:Oe(k0),definition:ts.defineModifier("definition"),constant:ts.defineModifier("constant"),function:ts.defineModifier("function"),standard:ts.defineModifier("standard"),local:ts.defineModifier("local"),special:ts.defineModifier("special")};for(let n in N){let e=N[n];e instanceof ts&&(e.name=n)}Zc([{tag:N.link,class:"tok-link"},{tag:N.heading,class:"tok-heading"},{tag:N.emphasis,class:"tok-emphasis"},{tag:N.strong,class:"tok-strong"},{tag:N.keyword,class:"tok-keyword"},{tag:N.atom,class:"tok-atom"},{tag:N.bool,class:"tok-bool"},{tag:N.url,class:"tok-url"},{tag:N.labelName,class:"tok-labelName"},{tag:N.inserted,class:"tok-inserted"},{tag:N.deleted,class:"tok-deleted"},{tag:N.literal,class:"tok-literal"},{tag:N.string,class:"tok-string"},{tag:N.number,class:"tok-number"},{tag:[N.regexp,N.escape,N.special(N.string)],class:"tok-string2"},{tag:N.variableName,class:"tok-variableName"},{tag:N.local(N.variableName),class:"tok-variableName tok-local"},{tag:N.definition(N.variableName),class:"tok-variableName tok-definition"},{tag:N.special(N.variableName),class:"tok-variableName2"},{tag:N.definition(N.propertyName),class:"tok-propertyName tok-definition"},{tag:N.typeName,class:"tok-typeName"},{tag:N.namespace,class:"tok-namespace"},{tag:N.className,class:"tok-className"},{tag:N.macroName,class:"tok-macroName"},{tag:N.propertyName,class:"tok-propertyName"},{tag:N.operator,class:"tok-operator"},{tag:N.comment,class:"tok-comment"},{tag:N.meta,class:"tok-meta"},{tag:N.invalid,class:"tok-invalid"},{tag:N.punctuation,class:"tok-punctuation"}]);var Sk;const im=new xt,UOe=new xt;let fo=class{constructor(e,t,r=[],i=""){this.data=e,this.name=i,De.prototype.hasOwnProperty("tree")||Object.defineProperty(De.prototype,"tree",{get(){return $r(this)}}),this.parser=t,this.extension=[Tc.of(this),De.languageData.of((s,o,a)=>{let l=KM(s,o,a),c=l.type.prop(im);if(!c)return[];let u=s.facet(c),h=l.type.prop(UOe);if(h){let f=l.resolve(o-l.from,a);for(let m of h)if(m.test(f,s)){let g=s.facet(m.facet);return m.type=="replace"?g:g.concat(u)}}return u})].concat(r)}isActiveAt(e,t,r=-1){return KM(e,t,r).type.prop(im)==this.data}findRegions(e){let t=e.facet(Tc);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let r=[],i=(s,o)=>{if(s.prop(im)==this.data){r.push({from:o,to:o+s.length});return}let a=s.prop(xt.mounted);if(a){if(a.tree.prop(im)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+o,to:l.to+o});else r.push({from:o,to:o+s.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+o),r.length>l)return}}for(let l=0;l<s.children.length;l++){let c=s.children[l];c instanceof Ei&&i(c,s.positions[l]+o)}};return i($r(e),0),r}get allowsNesting(){return!0}};fo.setState=Ne.define();function KM(n,e,t){let r=n.facet(Tc),i=$r(n).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,t,ar.ExcludeBuffers))s.type.isTop&&(i=s);return i}function $r(n){let e=n.field(fo.state,!1);return e?e.tree:Ei.empty}let zOe=class{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}},Pp=null,qOe=class cC{constructor(e,t,r=[],i,s,o,a,l){this.parser=e,this.state=t,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new cC(e,t,[],Ei.empty,0,r,[],null)}startParse(){return this.parser.startParse(new zOe(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=Ei.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(Tv.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Tv.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=Pp;Pp=this;try{return e()}finally{Pp=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=JM(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:i,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,u,h,f)=>l.push({fromA:c,toA:u,fromB:h,toB:f})),r=Tv.applyChanges(r,l),i=Ei.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),h=e.mapPos(c.to,-1);u<h&&a.push({from:u,to:h})}}}return new cC(this.parser,t,r,i,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=JM(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends EOe{createParse(t,r,i){let s=i[0].from,o=i[i.length-1].to;return{parsedPos:s,advance(){let l=Pp;if(l){for(let c of i)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new Ei(Vo.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return Pp}};function JM(n,e,t){return Tv.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}let uC=class hC{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new hC(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=qOe.create(e.facet(Tc).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new hC(r)}};fo.state=Xt.define({create:uC.init,update(n,e){for(let t of e.effects)if(t.is(fo.setState))return t.value;return e.startState.facet(Tc)!=e.state.facet(Tc)?uC.init(e.state):n.apply(e)}});let xX=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(xX=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const kk=typeof navigator<"u"&&(!((Sk=navigator.scheduling)===null||Sk===void 0)&&Sk.isInputPending)?()=>navigator.scheduling.isInputPending():null,ZOe=Vt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(fo.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(fo.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=xX(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(fo.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!kk?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<i&&r.doc.length>i+1e3,l=s.context.work(()=>kk&&kk()||Date.now()>o,i+(a?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:fo.setState.of(new uC(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>An(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Tc=de.define({combine(n){return n.length?n[0]:null},enables:n=>[fo.state,ZOe,fe.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]}),FOe=de.define(),MQ=de.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}});function vw(n){let e=n.facet(MQ);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function zg(n,e){let t="",r=n.tabSize,i=n.facet(MQ)[0];if(i=="	"){for(;e>=r;)t+="	",e-=r;i=" "}for(let s=0;s<e;s++)t+=i;return t}function VQ(n,e){n instanceof De&&(n=new pS(n));for(let r of n.state.facet(FOe)){let i=r(n,e);if(i!==void 0)return i}let t=$r(n.state);return t.length>=e?WOe(n,t,e):null}class pS{constructor(e,t={}){this.state=e,this.options=t,this.unit=vw(e)}lineAt(e,t=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:s}=this.options;return i!=null&&i>=r.from&&i<=r.to?s&&i==e?{text:"",from:e}:(t<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,t);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,t=1){let{text:r,from:i}=this.lineAt(e,t),s=this.countColumn(r,e-i),o=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return o>-1&&(s+=o-this.countColumn(r,r.search(/\S|$/))),s}countColumn(e,t=e.length){return Uf(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:r,from:i}=this.lineAt(e,t),s=this.options.overrideIndentation;if(s){let o=s(i);if(o>-1)return o}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const BOe=new xt;function WOe(n,e,t){let r=e.resolveStack(t),i=e.resolveInner(t,-1).resolve(t,0).enterUnfinishedNodesBefore(t);if(i!=r.node){let s=[];for(let o=i;o&&!(o.from==r.node.from&&o.type==r.node.type);o=o.parent)s.push(o);for(let o=s.length-1;o>=0;o--)r={node:s[o],next:r}}return wX(r,n,t)}function wX(n,e,t){for(let r=n;r;r=r.next){let i=GOe(r.node);if(i)return i(LQ.create(e,t,r))}return 0}function XOe(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function GOe(n){let e=n.type.prop(BOe);if(e)return e;let t=n.firstChild,r;if(t&&(r=t.type.prop(xt.closedBy))){let i=n.lastChild,s=i&&r.indexOf(i.name)>-1;return o=>JOe(o,!0,1,void 0,s&&!XOe(o)?i.from:void 0)}return n.parent==null?YOe:null}function YOe(){return 0}class LQ extends pS{constructor(e,t,r){super(e.state,e.options),this.base=e,this.pos=t,this.context=r}get node(){return this.context.node}static create(e,t,r){return new LQ(e,t,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(t.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(HOe(r,e))break;t=this.state.doc.lineAt(r.from)}return this.lineIndent(t.from)}continue(){return wX(this.context.next,this.base,this.pos)}}function HOe(n,e){for(let t=e;t;t=t.parent)if(n==t)return!0;return!1}function KOe(n){let e=n.node,t=e.childAfter(e.from),r=e.lastChild;if(!t)return null;let i=n.options.simulateBreak,s=n.state.doc.lineAt(t.from),o=i==null||i<=s.from?s.to:Math.min(s.to,i);for(let a=t.to;;){let l=e.childAfter(a);if(!l||l==r)return null;if(!l.type.isSkipped){if(l.from>=o)return null;let c=/^ */.exec(s.text.slice(t.to-s.from))[0].length;return{from:t.from,to:t.to+c}}a=l.to}}function JOe(n,e,t,r,i){let s=n.textAfter,o=s.match(/^\s*/)[0].length,a=i==n.pos+o,l=KOe(n);return l?a?n.column(l.from):n.column(l.to):n.baseIndent+(a?0:n.unit*t)}const eye=200;function tye(){return De.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let e=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!e.length)return n;let t=n.newDoc,{head:r}=n.newSelection.main,i=t.lineAt(r);if(r>i.from+eye)return n;let s=t.sliceString(i.from,r);if(!e.some(c=>c.test(s)))return n;let{state:o}=n,a=-1,l=[];for(let{head:c}of o.selection.ranges){let u=o.doc.lineAt(c);if(u.from==a)continue;a=u.from;let h=VQ(o,u.from);if(h==null)continue;let f=/^\s*/.exec(u.text)[0],m=zg(o,h);f!=m&&l.push({from:u.from,to:u.from+f.length,insert:m})}return l.length?[n,{changes:l,sequential:!0}]:n})}const nye=de.define(),rye=new xt;function iye(n,e,t){let r=$r(n);if(r.length<t)return null;let i=r.resolveStack(t,1),s=null;for(let o=i;o;o=o.next){let a=o.node;if(a.to<=t||a.from>t)continue;if(s&&a.from<e)break;let l=a.type.prop(rye);if(l&&(a.to<r.length-50||r.length==n.doc.length||!sye(a))){let c=l(a,n);c&&c.from<=t&&c.from>=e&&c.to>t&&(s=c)}}return s}function sye(n){let e=n.lastChild;return e&&e.to==n.to&&e.type.isError}function xw(n,e,t){for(let r of n.facet(nye)){let i=r(n,e,t);if(i)return i}return iye(n,e,t)}function bX(n,e){let t=e.mapPos(n.from,1),r=e.mapPos(n.to,-1);return t>=r?void 0:{from:t,to:r}}const mS=Ne.define({map:bX}),ey=Ne.define({map:bX});function SX(n){let e=[];for(let{head:t}of n.state.selection.ranges)e.some(r=>r.from<=t&&r.to>=t)||e.push(n.lineBlockAt(t));return e}const Hu=Xt.define({create(){return ye.none},update(n,e){n=n.map(e.changes);for(let t of e.effects)if(t.is(mS)&&!oye(n,t.value.from,t.value.to)){let{preparePlaceholder:r}=e.state.facet(TX),i=r?ye.replace({widget:new fye(r(e.state,t.value))}):eV;n=n.update({add:[i.range(t.value.from,t.value.to)]})}else t.is(ey)&&(n=n.update({filter:(r,i)=>t.value.from!=r||t.value.to!=i,filterFrom:t.value.from,filterTo:t.value.to}));if(e.selection){let t=!1,{head:r}=e.selection.main;n.between(r,r,(i,s)=>{i<r&&s>r&&(t=!0)}),t&&(n=n.update({filterFrom:r,filterTo:r,filter:(i,s)=>s<=r||i>=r}))}return n},provide:n=>fe.decorations.from(n),toJSON(n,e){let t=[];return n.between(0,e.doc.length,(r,i)=>{t.push(r,i)}),t},fromJSON(n){if(!Array.isArray(n)||n.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<n.length;){let r=n[t++],i=n[t++];if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(eV.range(r,i))}return ye.set(e,!0)}});function ww(n,e,t){var r;let i=null;return(r=n.field(Hu,!1))===null||r===void 0||r.between(e,t,(s,o)=>{(!i||i.from>s)&&(i={from:s,to:o})}),i}function oye(n,e,t){let r=!1;return n.between(e,e,(i,s)=>{i==e&&s==t&&(r=!0)}),r}function kX(n,e){return n.field(Hu,!1)?e:e.concat(Ne.appendConfig.of(PX()))}const aye=n=>{for(let e of SX(n)){let t=xw(n.state,e.from,e.to);if(t)return n.dispatch({effects:kX(n.state,[mS.of(t),_X(n,t)])}),!0}return!1},lye=n=>{if(!n.state.field(Hu,!1))return!1;let e=[];for(let t of SX(n)){let r=ww(n.state,t.from,t.to);r&&e.push(ey.of(r),_X(n,r,!1))}return e.length&&n.dispatch({effects:e}),e.length>0};function _X(n,e,t=!0){let r=n.state.doc.lineAt(e.from).number,i=n.state.doc.lineAt(e.to).number;return fe.announce.of(`${n.state.phrase(t?"Folded lines":"Unfolded lines")} ${r} ${n.state.phrase("to")} ${i}.`)}const cye=n=>{let{state:e}=n,t=[];for(let r=0;r<e.doc.length;){let i=n.lineBlockAt(r),s=xw(e,i.from,i.to);s&&t.push(mS.of(s)),r=(s?n.lineBlockAt(s.to):i).to+1}return t.length&&n.dispatch({effects:kX(n.state,t)}),!!t.length},uye=n=>{let e=n.state.field(Hu,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,n.state.doc.length,(r,i)=>{t.push(ey.of({from:r,to:i}))}),n.dispatch({effects:t}),!0},hye=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:aye},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:lye},{key:"Ctrl-Alt-[",run:cye},{key:"Ctrl-Alt-]",run:uye}],dye={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},TX=de.define({combine(n){return Jo(n,dye)}});function PX(n){return[Hu,gye]}function CX(n,e){let{state:t}=n,r=t.facet(TX),i=o=>{let a=n.lineBlockAt(n.posAtDOM(o.target)),l=ww(n.state,a.from,a.to);l&&n.dispatch({effects:ey.of(l)}),o.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(n,i,e);let s=document.createElement("span");return s.textContent=r.placeholderText,s.setAttribute("aria-label",t.phrase("folded code")),s.title=t.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=i,s}const eV=ye.replace({widget:new class extends ea{toDOM(n){return CX(n,null)}}});class fye extends ea{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return CX(e,this.value)}}const pye={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class _k extends Ya{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function mye(n={}){let e=Object.assign(Object.assign({},pye),n),t=new _k(e,!0),r=new _k(e,!1),i=Vt.fromClass(class{constructor(o){this.from=o.viewport.from,this.markers=this.buildMarkers(o)}update(o){(o.docChanged||o.viewportChanged||o.startState.facet(Tc)!=o.state.facet(Tc)||o.startState.field(Hu,!1)!=o.state.field(Hu,!1)||$r(o.startState)!=$r(o.state)||e.foldingChanged(o))&&(this.markers=this.buildMarkers(o.view))}buildMarkers(o){let a=new Xa;for(let l of o.viewportLineBlocks){let c=ww(o.state,l.from,l.to)?r:xw(o.state,l.from,l.to)?t:null;c&&a.add(l.from,l.from,c)}return a.finish()}}),{domEventHandlers:s}=e;return[i,uOe({class:"cm-foldGutter",markers(o){var a;return((a=o.plugin(i))===null||a===void 0?void 0:a.markers)||yt.empty},initialSpacer(){return new _k(e,!1)},domEventHandlers:Object.assign(Object.assign({},s),{click:(o,a,l)=>{if(s.click&&s.click(o,a,l))return!0;let c=ww(o.state,a.from,a.to);if(c)return o.dispatch({effects:ey.of(c)}),!0;let u=xw(o.state,a.from,a.to);return u?(o.dispatch({effects:mS.of(u)}),!0):!1}})}),PX()]}const gye=fe.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});let EX=class AX{constructor(e,t){this.specs=e;let r;function i(a){let l=Rn.newName();return(r||(r=Object.create(null)))["."+l]=a,l}const s=typeof t.all=="string"?t.all:t.all?i(t.all):void 0,o=t.scope;this.scope=o instanceof fo?a=>a.prop(im)==o.data:o?a=>a==o:void 0,this.style=Zc(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=r?new Rn(r):null,this.themeType=t.themeType}static define(e,t){return new AX(e,t||{})}};const dC=de.define(),RX=de.define({combine(n){return n.length?[n[0]]:null}});function Tk(n){let e=n.facet(dC);return e.length?e:n.facet(RX)}function Oye(n,e){let t=[vye],r;return n instanceof EX&&(n.module&&t.push(fe.styleModule.of(n.module)),r=n.themeType),e!=null&&e.fallback?t.push(RX.of(n)):r?t.push(dC.computeN([fe.darkTheme],i=>i.facet(fe.darkTheme)==(r=="dark")?[n]:[])):t.push(dC.of(n)),t}class yye{constructor(e){this.markCache=Object.create(null),this.tree=$r(e.state),this.decorations=this.buildDeco(e,Tk(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=$r(e.state),r=Tk(e.state),i=r!=Tk(e.startState),{viewport:s}=e.view,o=e.changes.mapPos(this.decoratedTo,1);t.length<s.to&&!i&&t.type==this.tree.type&&o>=s.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=o):(t!=this.tree||e.viewportChanged||i)&&(this.tree=t,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=s.to)}buildDeco(e,t){if(!t||!this.tree.length)return ye.none;let r=new Xa;for(let{from:i,to:s}of e.visibleRanges)MOe(this.tree,t,(o,a,l)=>{r.add(o,a,this.markCache[l]||(this.markCache[l]=ye.mark({class:l})))},i,s);return r.finish()}}const vye=sl.high(Vt.fromClass(yye,{decorations:n=>n.decorations})),xye=EX.define([{tag:N.meta,color:"#404740"},{tag:N.link,textDecoration:"underline"},{tag:N.heading,textDecoration:"underline",fontWeight:"bold"},{tag:N.emphasis,fontStyle:"italic"},{tag:N.strong,fontWeight:"bold"},{tag:N.strikethrough,textDecoration:"line-through"},{tag:N.keyword,color:"#708"},{tag:[N.atom,N.bool,N.url,N.contentSeparator,N.labelName],color:"#219"},{tag:[N.literal,N.inserted],color:"#164"},{tag:[N.string,N.deleted],color:"#a11"},{tag:[N.regexp,N.escape,N.special(N.string)],color:"#e40"},{tag:N.definition(N.variableName),color:"#00f"},{tag:N.local(N.variableName),color:"#30a"},{tag:[N.typeName,N.namespace],color:"#085"},{tag:N.className,color:"#167"},{tag:[N.special(N.variableName),N.macroName],color:"#256"},{tag:N.definition(N.propertyName),color:"#00c"},{tag:N.comment,color:"#940"},{tag:N.invalid,color:"#f00"}]),wye=fe.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),QX=1e4,IX="()[]{}",$X=de.define({combine(n){return Jo(n,{afterCursor:!0,brackets:IX,maxScanDistance:QX,renderMatch:kye})}}),bye=ye.mark({class:"cm-matchingBracket"}),Sye=ye.mark({class:"cm-nonmatchingBracket"});function kye(n){let e=[],t=n.matched?bye:Sye;return e.push(t.range(n.start.from,n.start.to)),n.end&&e.push(t.range(n.end.from,n.end.to)),e}const _ye=Xt.define({create(){return ye.none},update(n,e){if(!e.docChanged&&!e.selection)return n;let t=[],r=e.state.facet($X);for(let i of e.state.selection.ranges){if(!i.empty)continue;let s=po(e.state,i.head,-1,r)||i.head>0&&po(e.state,i.head-1,1,r)||r.afterCursor&&(po(e.state,i.head,1,r)||i.head<e.state.doc.length&&po(e.state,i.head+1,-1,r));s&&(t=t.concat(r.renderMatch(s,e.state)))}return ye.set(t,!0)},provide:n=>fe.decorations.from(n)}),Tye=[_ye,wye];function Pye(n={}){return[$X.of(n),Tye]}const Cye=new xt;function fC(n,e,t){let r=n.prop(e<0?xt.openedBy:xt.closedBy);if(r)return r;if(n.name.length==1){let i=t.indexOf(n.name);if(i>-1&&i%2==(e<0?1:0))return[t[i+e]]}return null}function pC(n){let e=n.type.prop(Cye);return e?e(n.node):n}function po(n,e,t,r={}){let i=r.maxScanDistance||QX,s=r.brackets||IX,o=$r(n),a=o.resolveInner(e,t);for(let l=a;l;l=l.parent){let c=fC(l.type,t,s);if(c&&l.from<l.to){let u=pC(l);if(u&&(t>0?e>=u.from&&e<u.to:e>u.from&&e<=u.to))return Eye(n,e,t,l,u,c,s)}}return Aye(n,e,t,o,a.type,i,s)}function Eye(n,e,t,r,i,s,o){let a=r.parent,l={from:i.from,to:i.to},c=0,u=a==null?void 0:a.cursor();if(u&&(t<0?u.childBefore(r.from):u.childAfter(r.to)))do if(t<0?u.to<=r.from:u.from>=r.to){if(c==0&&s.indexOf(u.type.name)>-1&&u.from<u.to){let h=pC(u);return{start:l,end:h?{from:h.from,to:h.to}:void 0,matched:!0}}else if(fC(u.type,t,o))c++;else if(fC(u.type,-t,o)){if(c==0){let h=pC(u);return{start:l,end:h&&h.from<h.to?{from:h.from,to:h.to}:void 0,matched:!1}}c--}}while(t<0?u.prevSibling():u.nextSibling());return{start:l,matched:!1}}function Aye(n,e,t,r,i,s,o){let a=t<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),l=o.indexOf(a);if(l<0||l%2==0!=t>0)return null;let c={from:t<0?e-1:e,to:t>0?e+1:e},u=n.doc.iterRange(e,t>0?n.doc.length:0),h=0;for(let f=0;!u.next().done&&f<=s;){let m=u.value;t<0&&(f+=m.length);let g=e+f*t;for(let y=t>0?0:m.length-1,x=t>0?m.length:-1;y!=x;y+=t){let S=o.indexOf(m[y]);if(!(S<0||r.resolveInner(g+y,1).type!=i))if(S%2==0==t>0)h++;else{if(h==1)return{start:c,end:{from:g+y,to:g+y+1},matched:S>>1==l>>1};h--}}t>0&&(f+=m.length)}return u.done?{start:c,matched:!1}:null}const Rye=Object.create(null),tV=[Vo.none],nV=[],rV=Object.create(null),Qye=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Qye[n]=Iye(Rye,e);function Pk(n,e){nV.indexOf(n)>-1||(nV.push(n),console.warn(e))}function Iye(n,e){let t=[];for(let a of e.split(" ")){let l=[];for(let c of a.split(".")){let u=n[c]||N[c];u?typeof u=="function"?l.length?l=l.map(u):Pk(c,`Modifier ${c} used at start of tag`):l.length?Pk(c,`Tag ${c} used as modifier`):l=Array.isArray(u)?u:[u]:Pk(c,`Unknown highlighting tag ${c}`)}for(let c of l)t.push(c)}if(!t.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+t.map(a=>a.id),s=rV[i];if(s)return s.id;let o=rV[i]=Vo.define({id:tV.length,name:r,props:[Wi({[r]:t})]});return tV.push(o),o.id}it.RTL,it.LTR;const $ye=n=>{let{state:e}=n,t=e.doc.lineAt(e.selection.main.from),r=zQ(n.state,t.from);return r.line?Nye(n):r.block?Dye(n):!1};function UQ(n,e){return({state:t,dispatch:r})=>{if(t.readOnly)return!1;let i=n(e,t);return i?(r(t.update(i)),!0):!1}}const Nye=UQ(Lye,0),jye=UQ(NX,0),Dye=UQ((n,e)=>NX(n,e,Vye(e)),0);function zQ(n,e){let t=n.languageDataAt("commentTokens",e);return t.length?t[0]:{}}const Cp=50;function Mye(n,{open:e,close:t},r,i){let s=n.sliceDoc(r-Cp,r),o=n.sliceDoc(i,i+Cp),a=/\s*$/.exec(s)[0].length,l=/^\s*/.exec(o)[0].length,c=s.length-a;if(s.slice(c-e.length,c)==e&&o.slice(l,l+t.length)==t)return{open:{pos:r-a,margin:a&&1},close:{pos:i+l,margin:l&&1}};let u,h;i-r<=2*Cp?u=h=n.sliceDoc(r,i):(u=n.sliceDoc(r,r+Cp),h=n.sliceDoc(i-Cp,i));let f=/^\s*/.exec(u)[0].length,m=/\s*$/.exec(h)[0].length,g=h.length-m-t.length;return u.slice(f,f+e.length)==e&&h.slice(g,g+t.length)==t?{open:{pos:r+f+e.length,margin:/\s/.test(u.charAt(f+e.length))?1:0},close:{pos:i-m-t.length,margin:/\s/.test(h.charAt(g-1))?1:0}}:null}function Vye(n){let e=[];for(let t of n.selection.ranges){let r=n.doc.lineAt(t.from),i=t.to<=r.to?r:n.doc.lineAt(t.to);i.from>r.from&&i.from==t.to&&(i=t.to==r.to+1?r:n.doc.lineAt(t.to-1));let s=e.length-1;s>=0&&e[s].to>r.from?e[s].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}function NX(n,e,t=e.selection.ranges){let r=t.map(s=>zQ(e,s.from).block);if(!r.every(s=>s))return null;let i=t.map((s,o)=>Mye(e,r[o],s.from,s.to));if(n!=2&&!i.every(s=>s))return{changes:e.changes(t.map((s,o)=>i[o]?[]:[{from:s.from,insert:r[o].open+" "},{from:s.to,insert:" "+r[o].close}]))};if(n!=1&&i.some(s=>s)){let s=[];for(let o=0,a;o<i.length;o++)if(a=i[o]){let l=r[o],{open:c,close:u}=a;s.push({from:c.pos-l.open.length,to:c.pos+c.margin},{from:u.pos-u.margin,to:u.pos+l.close.length})}return{changes:s}}return null}function Lye(n,e,t=e.selection.ranges){let r=[],i=-1;for(let{from:s,to:o}of t){let a=r.length,l=1e9,c=zQ(e,s).line;if(c){for(let u=s;u<=o;){let h=e.doc.lineAt(u);if(h.from>i&&(s==o||o>h.from)){i=h.from;let f=/^\s*/.exec(h.text)[0].length,m=f==h.length,g=h.text.slice(f,f+c.length)==c?f:-1;f<h.text.length&&f<l&&(l=f),r.push({line:h,comment:g,token:c,indent:f,empty:m,single:!1})}u=h.to+1}if(l<1e9)for(let u=a;u<r.length;u++)r[u].indent<r[u].line.text.length&&(r[u].indent=l);r.length==a+1&&(r[a].single=!0)}}if(n!=2&&r.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:a,token:l,indent:c,empty:u,single:h}of r)(h||!u)&&s.push({from:a.from+c,insert:l+" "});let o=e.changes(s);return{changes:o,selection:e.selection.map(o,1)}}else if(n!=1&&r.some(s=>s.comment>=0)){let s=[];for(let{line:o,comment:a,token:l}of r)if(a>=0){let c=o.from+a,u=c+l.length;o.text[u-o.from]==" "&&u++,s.push({from:c,to:u})}return{changes:s}}return null}const mC=Fs.define(),Uye=Fs.define(),zye=de.define(),jX=de.define({combine(n){return Jo(n,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(r,i)=>e(r,i)||t(r,i)})}}),DX=Xt.define({create(){return mo.empty},update(n,e){let t=e.state.facet(jX),r=e.annotation(mC);if(r){let l=fi.fromTransaction(e,r.selection),c=r.side,u=c==0?n.undone:n.done;return l?u=bw(u,u.length,t.minDepth,l):u=LX(u,e.startState.selection),new mo(c==0?r.rest:u,c==0?u:r.rest)}let i=e.annotation(Uye);if((i=="full"||i=="before")&&(n=n.isolate()),e.annotation(vn.addToHistory)===!1)return e.changes.empty?n:n.addMapping(e.changes.desc);let s=fi.fromTransaction(e),o=e.annotation(vn.time),a=e.annotation(vn.userEvent);return s?n=n.addChanges(s,o,a,t,e):e.selection&&(n=n.addSelection(e.startState.selection,o,a,t.newGroupDelay)),(i=="full"||i=="after")&&(n=n.isolate()),n},toJSON(n){return{done:n.done.map(e=>e.toJSON()),undone:n.undone.map(e=>e.toJSON())}},fromJSON(n){return new mo(n.done.map(fi.fromJSON),n.undone.map(fi.fromJSON))}});function qye(n={}){return[DX,jX.of(n),fe.domEventHandlers({beforeinput(e,t){let r=e.inputType=="historyUndo"?MX:e.inputType=="historyRedo"?gC:null;return r?(e.preventDefault(),r(t)):!1}})]}function gS(n,e){return function({state:t,dispatch:r}){if(!e&&t.readOnly)return!1;let i=t.field(DX,!1);if(!i)return!1;let s=i.pop(n,t,e);return s?(r(s),!0):!1}}const MX=gS(0,!1),gC=gS(1,!1),Zye=gS(0,!0),Fye=gS(1,!0);class fi{constructor(e,t,r,i,s){this.changes=e,this.effects=t,this.mapped=r,this.startSelection=i,this.selectionsAfter=s}setSelAfter(e){return new fi(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new fi(e.changes&&Nn.fromJSON(e.changes),[],e.mapped&&Ao.fromJSON(e.mapped),e.startSelection&&te.fromJSON(e.startSelection),e.selectionsAfter.map(te.fromJSON))}static fromTransaction(e,t){let r=rs;for(let i of e.startState.facet(zye)){let s=i(e);s.length&&(r=r.concat(s))}return!r.length&&e.changes.empty?null:new fi(e.changes.invert(e.startState.doc),r,void 0,t||e.startState.selection,rs)}static selection(e){return new fi(void 0,rs,void 0,void 0,e)}}function bw(n,e,t,r){let i=e+1>t+20?e-t-1:0,s=n.slice(i,e);return s.push(r),s}function Bye(n,e){let t=[],r=!1;return n.iterChangedRanges((i,s)=>t.push(i,s)),e.iterChangedRanges((i,s,o,a)=>{for(let l=0;l<t.length;){let c=t[l++],u=t[l++];a>=c&&o<=u&&(r=!0)}}),r}function Wye(n,e){return n.ranges.length==e.ranges.length&&n.ranges.filter((t,r)=>t.empty!=e.ranges[r].empty).length===0}function VX(n,e){return n.length?e.length?n.concat(e):n:e}const rs=[],Xye=200;function LX(n,e){if(n.length){let t=n[n.length-1],r=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-Xye));return r.length&&r[r.length-1].eq(e)?n:(r.push(e),bw(n,n.length-1,1e9,t.setSelAfter(r)))}else return[fi.selection([e])]}function Gye(n){let e=n[n.length-1],t=n.slice();return t[n.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function Ck(n,e){if(!n.length)return n;let t=n.length,r=rs;for(;t;){let i=Yye(n[t-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let s=n.slice(0,t);return s[t-1]=i,s}else e=i.mapped,t--,r=i.selectionsAfter}return r.length?[fi.selection(r)]:rs}function Yye(n,e,t){let r=VX(n.selectionsAfter.length?n.selectionsAfter.map(a=>a.map(e)):rs,t);if(!n.changes)return fi.selection(r);let i=n.changes.map(e),s=e.mapDesc(n.changes,!0),o=n.mapped?n.mapped.composeDesc(s):s;return new fi(i,Ne.mapEffects(n.effects,e),o,n.startSelection.map(s),r)}const Hye=/^(input\.type|delete)($|\.)/;class mo{constructor(e,t,r=0,i=void 0){this.done=e,this.undone=t,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new mo(this.done,this.undone):this}addChanges(e,t,r,i,s){let o=this.done,a=o[o.length-1];return a&&a.changes&&!a.changes.empty&&e.changes&&(!r||Hye.test(r))&&(!a.selectionsAfter.length&&t-this.prevTime<i.newGroupDelay&&i.joinToEvent(s,Bye(a.changes,e.changes))||r=="input.type.compose")?o=bw(o,o.length-1,i.minDepth,new fi(e.changes.compose(a.changes),VX(Ne.mapEffects(e.effects,a.changes),a.effects),a.mapped,a.startSelection,rs)):o=bw(o,o.length,i.minDepth,e),new mo(o,rs,t,r)}addSelection(e,t,r,i){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:rs;return s.length>0&&t-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&Wye(s[s.length-1],e)?this:new mo(LX(this.done,e),this.undone,t,r)}addMapping(e){return new mo(Ck(this.done,e),Ck(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,r){let i=e==0?this.done:this.undone;if(i.length==0)return null;let s=i[i.length-1],o=s.selectionsAfter[0]||t.selection;if(r&&s.selectionsAfter.length)return t.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:mC.of({side:e,rest:Gye(i),selection:o}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let a=i.length==1?rs:i.slice(0,i.length-1);return s.mapped&&(a=Ck(a,s.mapped)),t.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:mC.of({side:e,rest:a,selection:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}mo.empty=new mo(rs,rs);const Kye=[{key:"Mod-z",run:MX,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:gC,preventDefault:!0},{linux:"Ctrl-Shift-z",run:gC,preventDefault:!0},{key:"Mod-u",run:Zye,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:Fye,preventDefault:!0}];function zf(n,e){return te.create(n.ranges.map(e),n.mainIndex)}function ta(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Bs({state:n,dispatch:e},t){let r=zf(n.selection,t);return r.eq(n.selection,!0)?!1:(e(ta(n,r)),!0)}function OS(n,e){return te.cursor(e?n.to:n.from)}function UX(n,e){return Bs(n,t=>t.empty?n.moveByChar(t,e):OS(t,e))}function Nr(n){return n.textDirectionAt(n.state.selection.main.head)==it.LTR}const zX=n=>UX(n,!Nr(n)),qX=n=>UX(n,Nr(n));function ZX(n,e){return Bs(n,t=>t.empty?n.moveByGroup(t,e):OS(t,e))}const Jye=n=>ZX(n,!Nr(n)),e0e=n=>ZX(n,Nr(n));function t0e(n,e,t){if(e.type.prop(t))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function yS(n,e,t){let r=$r(n).resolveInner(e.head),i=t?xt.closedBy:xt.openedBy;for(let l=e.head;;){let c=t?r.childAfter(l):r.childBefore(l);if(!c)break;t0e(n,c,i)?r=c:l=t?c.to:c.from}let s=r.type.prop(i),o,a;return s&&(o=t?po(n,r.from,1):po(n,r.to,-1))&&o.matched?a=t?o.end.to:o.end.from:a=t?r.to:r.from,te.cursor(a,t?-1:1)}const n0e=n=>Bs(n,e=>yS(n.state,e,!Nr(n))),r0e=n=>Bs(n,e=>yS(n.state,e,Nr(n)));function FX(n,e){return Bs(n,t=>{if(!t.empty)return OS(t,e);let r=n.moveVertically(t,e);return r.head!=t.head?r:n.moveToLineBoundary(t,e)})}const BX=n=>FX(n,!1),WX=n=>FX(n,!0);function XX(n){let e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,t=0,r=0,i;if(e){for(let s of n.state.facet(fe.scrollMargins)){let o=s(n);o!=null&&o.top&&(t=Math.max(o==null?void 0:o.top,t)),o!=null&&o.bottom&&(r=Math.max(o==null?void 0:o.bottom,r))}i=n.scrollDOM.clientHeight-t-r}else i=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:r,selfScroll:e,height:Math.max(n.defaultLineHeight,i-5)}}function GX(n,e){let t=XX(n),{state:r}=n,i=zf(r.selection,o=>o.empty?n.moveVertically(o,e,t.height):OS(o,e));if(i.eq(r.selection))return!1;let s;if(t.selfScroll){let o=n.coordsAtPos(r.selection.main.head),a=n.scrollDOM.getBoundingClientRect(),l=a.top+t.marginTop,c=a.bottom-t.marginBottom;o&&o.top>l&&o.bottom<c&&(s=fe.scrollIntoView(i.main.head,{y:"start",yMargin:o.top-l}))}return n.dispatch(ta(r,i),{effects:s}),!0}const iV=n=>GX(n,!1),OC=n=>GX(n,!0);function Fc(n,e,t){let r=n.lineBlockAt(e.head),i=n.moveToLineBoundary(e,t);if(i.head==e.head&&i.head!=(t?r.to:r.from)&&(i=n.moveToLineBoundary(e,t,!1)),!t&&i.head==r.from&&r.length){let s=/^\s*/.exec(n.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;s&&e.head!=r.from+s&&(i=te.cursor(r.from+s))}return i}const i0e=n=>Bs(n,e=>Fc(n,e,!0)),s0e=n=>Bs(n,e=>Fc(n,e,!1)),o0e=n=>Bs(n,e=>Fc(n,e,!Nr(n))),a0e=n=>Bs(n,e=>Fc(n,e,Nr(n))),l0e=n=>Bs(n,e=>te.cursor(n.lineBlockAt(e.head).from,1)),c0e=n=>Bs(n,e=>te.cursor(n.lineBlockAt(e.head).to,-1));function u0e(n,e,t){let r=!1,i=zf(n.selection,s=>{let o=po(n,s.head,-1)||po(n,s.head,1)||s.head>0&&po(n,s.head-1,1)||s.head<n.doc.length&&po(n,s.head+1,-1);if(!o||!o.end)return s;r=!0;let a=o.start.from==s.head?o.end.to:o.end.from;return te.cursor(a)});return r?(e(ta(n,i)),!0):!1}const h0e=({state:n,dispatch:e})=>u0e(n,e);function ms(n,e){let t=zf(n.state.selection,r=>{let i=e(r);return te.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return t.eq(n.state.selection)?!1:(n.dispatch(ta(n.state,t)),!0)}function YX(n,e){return ms(n,t=>n.moveByChar(t,e))}const HX=n=>YX(n,!Nr(n)),KX=n=>YX(n,Nr(n));function JX(n,e){return ms(n,t=>n.moveByGroup(t,e))}const d0e=n=>JX(n,!Nr(n)),f0e=n=>JX(n,Nr(n)),p0e=n=>ms(n,e=>yS(n.state,e,!Nr(n))),m0e=n=>ms(n,e=>yS(n.state,e,Nr(n)));function e9(n,e){return ms(n,t=>n.moveVertically(t,e))}const t9=n=>e9(n,!1),n9=n=>e9(n,!0);function r9(n,e){return ms(n,t=>n.moveVertically(t,e,XX(n).height))}const sV=n=>r9(n,!1),oV=n=>r9(n,!0),g0e=n=>ms(n,e=>Fc(n,e,!0)),O0e=n=>ms(n,e=>Fc(n,e,!1)),y0e=n=>ms(n,e=>Fc(n,e,!Nr(n))),v0e=n=>ms(n,e=>Fc(n,e,Nr(n))),x0e=n=>ms(n,e=>te.cursor(n.lineBlockAt(e.head).from)),w0e=n=>ms(n,e=>te.cursor(n.lineBlockAt(e.head).to)),aV=({state:n,dispatch:e})=>(e(ta(n,{anchor:0})),!0),lV=({state:n,dispatch:e})=>(e(ta(n,{anchor:n.doc.length})),!0),cV=({state:n,dispatch:e})=>(e(ta(n,{anchor:n.selection.main.anchor,head:0})),!0),uV=({state:n,dispatch:e})=>(e(ta(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),b0e=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),S0e=({state:n,dispatch:e})=>{let t=vS(n).map(({from:r,to:i})=>te.range(r,Math.min(i+1,n.doc.length)));return e(n.update({selection:te.create(t),userEvent:"select"})),!0},k0e=({state:n,dispatch:e})=>{let t=zf(n.selection,r=>{let i=$r(n),s=i.resolveStack(r.from,1);if(r.empty){let o=i.resolveStack(r.from,-1);o.node.from>=s.node.from&&o.node.to<=s.node.to&&(s=o)}for(let o=s;o;o=o.next){let{node:a}=o;if((a.from<r.from&&a.to>=r.to||a.to>r.to&&a.from<=r.from)&&o.next)return te.range(a.to,a.from)}return r});return t.eq(n.selection)?!1:(e(ta(n,t)),!0)},_0e=({state:n,dispatch:e})=>{let t=n.selection,r=null;return t.ranges.length>1?r=te.create([t.main]):t.main.empty||(r=te.create([te.cursor(t.main.head)])),r?(e(ta(n,r)),!0):!1};function ty(n,e){if(n.state.readOnly)return!1;let t="delete.selection",{state:r}=n,i=r.changeByRange(s=>{let{from:o,to:a}=s;if(o==a){let l=e(s);l<o?(t="delete.backward",l=_0(n,l,!1)):l>o&&(t="delete.forward",l=_0(n,l,!0)),o=Math.min(o,l),a=Math.max(a,l)}else o=_0(n,o,!1),a=_0(n,a,!0);return o==a?{range:s}:{changes:{from:o,to:a},range:te.cursor(o,o<s.head?-1:1)}});return i.changes.empty?!1:(n.dispatch(r.update(i,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?fe.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function _0(n,e,t){if(n instanceof fe)for(let r of n.state.facet(fe.atomicRanges).map(i=>i(n)))r.between(e,e,(i,s)=>{i<e&&s>e&&(e=t?s:i)});return e}const i9=(n,e,t)=>ty(n,r=>{let i=r.from,{state:s}=n,o=s.doc.lineAt(i),a,l;if(t&&!e&&i>o.from&&i<o.from+200&&!/[^ \t]/.test(a=o.text.slice(0,i-o.from))){if(a[a.length-1]=="	")return i-1;let c=Uf(a,s.tabSize),u=c%vw(s)||vw(s);for(let h=0;h<u&&a[a.length-1-h]==" ";h++)i--;l=i}else l=fr(o.text,i-o.from,e,e)+o.from,l==i&&o.number!=(e?s.doc.lines:1)?l+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(o.text.slice(l-o.from,i-o.from))&&(l=fr(o.text,l-o.from,!1,!1)+o.from);return l}),yC=n=>i9(n,!1,!0),s9=n=>i9(n,!0,!1),o9=(n,e)=>ty(n,t=>{let r=t.head,{state:i}=n,s=i.doc.lineAt(r),o=i.charCategorizer(r);for(let a=null;;){if(r==(e?s.to:s.from)){r==t.head&&s.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let l=fr(s.text,r-s.from,e)+s.from,c=s.text.slice(Math.min(r,l)-s.from,Math.max(r,l)-s.from),u=o(c);if(a!=null&&u!=a)break;(c!=" "||r!=t.head)&&(a=u),r=l}return r}),a9=n=>o9(n,!1),T0e=n=>o9(n,!0),P0e=n=>ty(n,e=>{let t=n.lineBlockAt(e.head).to;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),C0e=n=>ty(n,e=>{let t=n.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),E0e=n=>ty(n,e=>{let t=n.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),A0e=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:pt.of(["",""])},range:te.cursor(r.from)}));return e(n.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},R0e=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>{if(!r.empty||r.from==0||r.from==n.doc.length)return{range:r};let i=r.from,s=n.doc.lineAt(i),o=i==s.from?i-1:fr(s.text,i-s.from,!1)+s.from,a=i==s.to?i+1:fr(s.text,i-s.from,!0)+s.from;return{changes:{from:o,to:a,insert:n.doc.slice(i,a).append(n.doc.slice(o,i))},range:te.cursor(a)}});return t.changes.empty?!1:(e(n.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function vS(n){let e=[],t=-1;for(let r of n.selection.ranges){let i=n.doc.lineAt(r.from),s=n.doc.lineAt(r.to);if(!r.empty&&r.to==s.from&&(s=n.doc.lineAt(r.to-1)),t>=i.number){let o=e[e.length-1];o.to=s.to,o.ranges.push(r)}else e.push({from:i.from,to:s.to,ranges:[r]});t=s.number+1}return e}function l9(n,e,t){if(n.readOnly)return!1;let r=[],i=[];for(let s of vS(n)){if(t?s.to==n.doc.length:s.from==0)continue;let o=n.doc.lineAt(t?s.to+1:s.from-1),a=o.length+1;if(t){r.push({from:s.to,to:o.to},{from:s.from,insert:o.text+n.lineBreak});for(let l of s.ranges)i.push(te.range(Math.min(n.doc.length,l.anchor+a),Math.min(n.doc.length,l.head+a)))}else{r.push({from:o.from,to:s.from},{from:s.to,insert:n.lineBreak+o.text});for(let l of s.ranges)i.push(te.range(l.anchor-a,l.head-a))}}return r.length?(e(n.update({changes:r,scrollIntoView:!0,selection:te.create(i,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}const Q0e=({state:n,dispatch:e})=>l9(n,e,!1),I0e=({state:n,dispatch:e})=>l9(n,e,!0);function c9(n,e,t){if(n.readOnly)return!1;let r=[];for(let i of vS(n))t?r.push({from:i.from,insert:n.doc.slice(i.from,i.to)+n.lineBreak}):r.push({from:i.to,insert:n.lineBreak+n.doc.slice(i.from,i.to)});return e(n.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const $0e=({state:n,dispatch:e})=>c9(n,e,!1),N0e=({state:n,dispatch:e})=>c9(n,e,!0),j0e=n=>{if(n.state.readOnly)return!1;let{state:e}=n,t=e.changes(vS(e).map(({from:i,to:s})=>(i>0?i--:s<e.doc.length&&s++,{from:i,to:s}))),r=zf(e.selection,i=>{let s;if(n.lineWrapping){let o=n.lineBlockAt(i.head),a=n.coordsAtPos(i.head,i.assoc||1);a&&(s=o.bottom+n.documentTop-a.bottom+n.defaultLineHeight/2)}return n.moveVertically(i,!0,s)}).map(t);return n.dispatch({changes:t,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function D0e(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=$r(n).resolveInner(e),r=t.childBefore(e),i=t.childAfter(e),s;return r&&i&&r.to<=e&&i.from>=e&&(s=r.type.prop(xt.closedBy))&&s.indexOf(i.name)>-1&&n.doc.lineAt(r.to).from==n.doc.lineAt(i.from).from&&!/\S/.test(n.sliceDoc(r.to,i.from))?{from:r.to,to:i.from}:null}const hV=u9(!1),M0e=u9(!0);function u9(n){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:s,to:o}=i,a=e.doc.lineAt(s),l=!n&&s==o&&D0e(e,s);n&&(s=o=(o<=a.to?a:e.doc.lineAt(o)).to);let c=new pS(e,{simulateBreak:s,simulateDoubleBreak:!!l}),u=VQ(c,s);for(u==null&&(u=Uf(/^\s*/.exec(e.doc.lineAt(s).text)[0],e.tabSize));o<a.to&&/\s/.test(a.text[o-a.from]);)o++;l?{from:s,to:o}=l:s>a.from&&s<a.from+100&&!/\S/.test(a.text.slice(0,s))&&(s=a.from);let h=["",zg(e,u)];return l&&h.push(zg(e,c.lineIndent(a.from,-1))),{changes:{from:s,to:o,insert:pt.of(h)},range:te.cursor(s+1+h[1].length)}});return t(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function qQ(n,e){let t=-1;return n.changeByRange(r=>{let i=[];for(let o=r.from;o<=r.to;){let a=n.doc.lineAt(o);a.number>t&&(r.empty||r.to>a.from)&&(e(a,i,r),t=a.number),o=a.to+1}let s=n.changes(i);return{changes:i,range:te.range(s.mapPos(r.anchor,1),s.mapPos(r.head,1))}})}const V0e=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=Object.create(null),r=new pS(n,{overrideIndentation:s=>{let o=t[s];return o??-1}}),i=qQ(n,(s,o,a)=>{let l=VQ(r,s.from);if(l==null)return;/\S/.test(s.text)||(l=0);let c=/^\s*/.exec(s.text)[0],u=zg(n,l);(c!=u||a.from<s.from+c.length)&&(t[s.from]=l,o.push({from:s.from,to:s.from+c.length,insert:u}))});return i.changes.empty||e(n.update(i,{userEvent:"indent"})),!0},L0e=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(qQ(n,(t,r)=>{r.push({from:t.from,insert:n.facet(MQ)})}),{userEvent:"input.indent"})),!0),U0e=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(qQ(n,(t,r)=>{let i=/^\s*/.exec(t.text)[0];if(!i)return;let s=Uf(i,n.tabSize),o=0,a=zg(n,Math.max(0,s-vw(n)));for(;o<i.length&&o<a.length&&i.charCodeAt(o)==a.charCodeAt(o);)o++;r.push({from:t.from+o,to:t.from+i.length,insert:a.slice(o)})}),{userEvent:"delete.dedent"})),!0),z0e=n=>(n.setTabFocusMode(),!0),q0e=[{key:"Ctrl-b",run:zX,shift:HX,preventDefault:!0},{key:"Ctrl-f",run:qX,shift:KX},{key:"Ctrl-p",run:BX,shift:t9},{key:"Ctrl-n",run:WX,shift:n9},{key:"Ctrl-a",run:l0e,shift:x0e},{key:"Ctrl-e",run:c0e,shift:w0e},{key:"Ctrl-d",run:s9},{key:"Ctrl-h",run:yC},{key:"Ctrl-k",run:P0e},{key:"Ctrl-Alt-h",run:a9},{key:"Ctrl-o",run:A0e},{key:"Ctrl-t",run:R0e},{key:"Ctrl-v",run:OC}],Z0e=[{key:"ArrowLeft",run:zX,shift:HX,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:Jye,shift:d0e,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:o0e,shift:y0e,preventDefault:!0},{key:"ArrowRight",run:qX,shift:KX,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:e0e,shift:f0e,preventDefault:!0},{mac:"Cmd-ArrowRight",run:a0e,shift:v0e,preventDefault:!0},{key:"ArrowUp",run:BX,shift:t9,preventDefault:!0},{mac:"Cmd-ArrowUp",run:aV,shift:cV},{mac:"Ctrl-ArrowUp",run:iV,shift:sV},{key:"ArrowDown",run:WX,shift:n9,preventDefault:!0},{mac:"Cmd-ArrowDown",run:lV,shift:uV},{mac:"Ctrl-ArrowDown",run:OC,shift:oV},{key:"PageUp",run:iV,shift:sV},{key:"PageDown",run:OC,shift:oV},{key:"Home",run:s0e,shift:O0e,preventDefault:!0},{key:"Mod-Home",run:aV,shift:cV},{key:"End",run:i0e,shift:g0e,preventDefault:!0},{key:"Mod-End",run:lV,shift:uV},{key:"Enter",run:hV,shift:hV},{key:"Mod-a",run:b0e},{key:"Backspace",run:yC,shift:yC},{key:"Delete",run:s9},{key:"Mod-Backspace",mac:"Alt-Backspace",run:a9},{key:"Mod-Delete",mac:"Alt-Delete",run:T0e},{mac:"Mod-Backspace",run:C0e},{mac:"Mod-Delete",run:E0e}].concat(q0e.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),F0e=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:n0e,shift:p0e},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:r0e,shift:m0e},{key:"Alt-ArrowUp",run:Q0e},{key:"Shift-Alt-ArrowUp",run:$0e},{key:"Alt-ArrowDown",run:I0e},{key:"Shift-Alt-ArrowDown",run:N0e},{key:"Escape",run:_0e},{key:"Mod-Enter",run:M0e},{key:"Alt-l",mac:"Ctrl-l",run:S0e},{key:"Mod-i",run:k0e,preventDefault:!0},{key:"Mod-[",run:U0e},{key:"Mod-]",run:L0e},{key:"Mod-Alt-\\",run:V0e},{key:"Shift-Mod-k",run:j0e},{key:"Shift-Mod-\\",run:h0e},{key:"Mod-/",run:$ye},{key:"Alt-A",run:jye},{key:"Ctrl-m",mac:"Shift-Alt-m",run:z0e}].concat(Z0e);function Pt(){var n=arguments[0];typeof n=="string"&&(n=document.createElement(n));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=t[r];typeof i=="string"?n.setAttribute(r,i):i!=null&&(n[r]=i)}e++}for(;e<arguments.length;e++)h9(n,arguments[e]);return n}function h9(n,e){if(typeof e=="string")n.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)n.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)h9(n,e[t]);else throw new RangeError("Unsupported child node: "+e)}const dV=typeof String.prototype.normalize=="function"?n=>n.normalize("NFKD"):n=>n;class sf{constructor(e,t,r=0,i=e.length,s,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=s?a=>s(dV(a)):dV,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return ai(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=xQ(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=lo(e);let i=this.normalize(t);if(i.length)for(let s=0,o=r;;s++){let a=i.charCodeAt(s),l=this.match(a,o,this.bufferPos+this.bufferStart);if(s==i.length-1){if(l)return this.value=l,this;break}o==r&&s<t.length&&t.charCodeAt(s)==a&&o++}}}match(e,t,r){let i=null;for(let s=0;s<this.matches.length;s+=2){let o=this.matches[s],a=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?i={from:this.matches[s+1],to:r}:(this.matches[s]++,a=!0)),a||(this.matches.splice(s,2),s-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:t,to:r}:this.matches.push(1,t)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(sf.prototype[Symbol.iterator]=function(){return this});const d9={from:-1,to:-1,match:/.*/.exec("")},ZQ="gm"+(/x/.unicode==null?"":"u");class f9{constructor(e,t,r,i=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=d9,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new p9(e,t,r,i,s);this.re=new RegExp(t,ZQ+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.iter=e.iter();let o=e.lineAt(i);this.curLineStart=o.from,this.matchPos=Sw(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let r=this.curLineStart+t.index,i=r+t[0].length;if(this.matchPos=Sw(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,t)))return this.value={from:r,to:i,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const Ek=new WeakMap;class yd{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,r){let i=Ek.get(e);if(!i||i.from>=r||i.to<=t){let a=new yd(t,e.sliceString(t,r));return Ek.set(e,a),a}if(i.from==t&&i.to==r)return i;let{text:s,from:o}=i;return o>t&&(s=e.sliceString(t,o)+s,o=t),i.to<r&&(s+=e.sliceString(i.to,r)),Ek.set(e,new yd(o,s)),new yd(t,s.slice(t-o,r-o))}}class p9{constructor(e,t,r,i,s){this.text=e,this.to=s,this.done=!1,this.value=d9,this.matchPos=Sw(e,i),this.re=new RegExp(t,ZQ+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.flat=yd.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let r=this.flat.from+t.index,i=r+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,t)))return this.value={from:r,to:i,match:t},this.matchPos=Sw(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=yd.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(f9.prototype[Symbol.iterator]=p9.prototype[Symbol.iterator]=function(){return this});function B0e(n){try{return new RegExp(n,ZQ),!0}catch{return!1}}function Sw(n,e){if(e>=n.length)return e;let t=n.lineAt(e),r;for(;e<t.to&&(r=t.text.charCodeAt(e-t.from))>=56320&&r<57344;)e++;return e}function vC(n){let e=String(n.state.doc.lineAt(n.state.selection.main.head).number),t=Pt("input",{class:"cm-textfield",name:"line",value:e}),r=Pt("form",{class:"cm-gotoLine",onkeydown:s=>{s.keyCode==27?(s.preventDefault(),n.dispatch({effects:Vm.of(!1)}),n.focus()):s.keyCode==13&&(s.preventDefault(),i())},onsubmit:s=>{s.preventDefault(),i()}},Pt("label",n.state.phrase("Go to line"),": ",t)," ",Pt("button",{class:"cm-button",type:"submit"},n.state.phrase("go")),Pt("button",{name:"close",onclick:()=>{n.dispatch({effects:Vm.of(!1)}),n.focus()},"aria-label":n.state.phrase("close"),type:"button"},[""]));function i(){let s=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!s)return;let{state:o}=n,a=o.doc.lineAt(o.selection.main.head),[,l,c,u,h]=s,f=u?+u.slice(1):0,m=c?+c:a.number;if(c&&h){let x=m/100;l&&(x=x*(l=="-"?-1:1)+a.number/o.doc.lines),m=Math.round(o.doc.lines*x)}else c&&l&&(m=m*(l=="-"?-1:1)+a.number);let g=o.doc.line(Math.max(1,Math.min(o.doc.lines,m))),y=te.cursor(g.from+Math.max(0,Math.min(f,g.length)));n.dispatch({effects:[Vm.of(!1),fe.scrollIntoView(y.from,{y:"center"})],selection:y}),n.focus()}return{dom:r}}const Vm=Ne.define(),fV=Xt.define({create(){return!0},update(n,e){for(let t of e.effects)t.is(Vm)&&(n=t.value);return n},provide:n=>Lg.from(n,e=>e?vC:null)}),W0e=n=>{let e=Vg(n,vC);if(!e){let t=[Vm.of(!0)];n.state.field(fV,!1)==null&&t.push(Ne.appendConfig.of([fV,X0e])),n.dispatch({effects:t}),e=Vg(n,vC)}return e&&e.dom.querySelector("input").select(),!0},X0e=fe.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),G0e={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},Y0e=de.define({combine(n){return Jo(n,G0e,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function H0e(n){return[nve,tve]}const K0e=ye.mark({class:"cm-selectionMatch"}),J0e=ye.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function pV(n,e,t,r){return(t==0||n(e.sliceDoc(t-1,t))!=Ht.Word)&&(r==e.doc.length||n(e.sliceDoc(r,r+1))!=Ht.Word)}function eve(n,e,t,r){return n(e.sliceDoc(t,t+1))==Ht.Word&&n(e.sliceDoc(r-1,r))==Ht.Word}const tve=Vt.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=n.state.facet(Y0e),{state:t}=n,r=t.selection;if(r.ranges.length>1)return ye.none;let i=r.main,s,o=null;if(i.empty){if(!e.highlightWordAroundCursor)return ye.none;let l=t.wordAt(i.head);if(!l)return ye.none;o=t.charCategorizer(i.head),s=t.sliceDoc(l.from,l.to)}else{let l=i.to-i.from;if(l<e.minSelectionLength||l>200)return ye.none;if(e.wholeWords){if(s=t.sliceDoc(i.from,i.to),o=t.charCategorizer(i.head),!(pV(o,t,i.from,i.to)&&eve(o,t,i.from,i.to)))return ye.none}else if(s=t.sliceDoc(i.from,i.to),!s)return ye.none}let a=[];for(let l of n.visibleRanges){let c=new sf(t.doc,s,l.from,l.to);for(;!c.next().done;){let{from:u,to:h}=c.value;if((!o||pV(o,t,u,h))&&(i.empty&&u<=i.from&&h>=i.to?a.push(J0e.range(u,h)):(u>=i.to||h<=i.from)&&a.push(K0e.range(u,h)),a.length>e.maxMatches))return ye.none}}return ye.set(a)}},{decorations:n=>n.decorations}),nve=fe.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),rve=({state:n,dispatch:e})=>{let{selection:t}=n,r=te.create(t.ranges.map(i=>n.wordAt(i.head)||te.cursor(i.head)),t.mainIndex);return r.eq(t)?!1:(e(n.update({selection:r})),!0)};function ive(n,e){let{main:t,ranges:r}=n.selection,i=n.wordAt(t.head),s=i&&i.from==t.from&&i.to==t.to;for(let o=!1,a=new sf(n.doc,e,r[r.length-1].to);;)if(a.next(),a.done){if(o)return null;a=new sf(n.doc,e,0,Math.max(0,r[r.length-1].from-1)),o=!0}else{if(o&&r.some(l=>l.from==a.value.from))continue;if(s){let l=n.wordAt(a.value.from);if(!l||l.from!=a.value.from||l.to!=a.value.to)continue}return a.value}}const sve=({state:n,dispatch:e})=>{let{ranges:t}=n.selection;if(t.some(s=>s.from===s.to))return rve({state:n,dispatch:e});let r=n.sliceDoc(t[0].from,t[0].to);if(n.selection.ranges.some(s=>n.sliceDoc(s.from,s.to)!=r))return!1;let i=ive(n,r);return i?(e(n.update({selection:n.selection.addRange(te.range(i.from,i.to),!1),effects:fe.scrollIntoView(i.to)})),!0):!1},qf=de.define({combine(n){return Jo(n,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new Ove(e),scrollToMatch:e=>fe.scrollIntoView(e)})}});class m9{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||B0e(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new cve(this):new ave(this)}getCursor(e,t=0,r){let i=e.doc?e:De.create({doc:e});return r==null&&(r=i.doc.length),this.regexp?Qh(this,i,t,r):Rh(this,i,t,r)}}class g9{constructor(e){this.spec=e}}function Rh(n,e,t,r){return new sf(e.doc,n.unquoted,t,r,n.caseSensitive?void 0:i=>i.toLowerCase(),n.wholeWord?ove(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function ove(n,e){return(t,r,i,s)=>((s>t||s+i.length<r)&&(s=Math.max(0,t-2),i=n.sliceString(s,Math.min(n.length,r+2))),(e(kw(i,t-s))!=Ht.Word||e(_w(i,t-s))!=Ht.Word)&&(e(_w(i,r-s))!=Ht.Word||e(kw(i,r-s))!=Ht.Word))}class ave extends g9{constructor(e){super(e)}nextMatch(e,t,r){let i=Rh(this.spec,e,r,e.doc.length).nextOverlapping();if(i.done){let s=Math.min(e.doc.length,t+this.spec.unquoted.length);i=Rh(this.spec,e,0,s).nextOverlapping()}return i.done||i.value.from==t&&i.value.to==r?null:i.value}prevMatchInRange(e,t,r){for(let i=r;;){let s=Math.max(t,i-1e4-this.spec.unquoted.length),o=Rh(this.spec,e,s,i),a=null;for(;!o.nextOverlapping().done;)a=o.value;if(a)return a;if(s==t)return null;i-=1e4}}prevMatch(e,t,r){let i=this.prevMatchInRange(e,0,t);return i||(i=this.prevMatchInRange(e,Math.max(0,r-this.spec.unquoted.length),e.doc.length)),i&&(i.from!=t||i.to!=r)?i:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let r=Rh(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=t)return null;i.push(r.value)}return i}highlight(e,t,r,i){let s=Rh(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}function Qh(n,e,t,r){return new f9(e.doc,n.search,{ignoreCase:!n.caseSensitive,test:n.wholeWord?lve(e.charCategorizer(e.selection.main.head)):void 0},t,r)}function kw(n,e){return n.slice(fr(n,e,!1),e)}function _w(n,e){return n.slice(e,fr(n,e))}function lve(n){return(e,t,r)=>!r[0].length||(n(kw(r.input,r.index))!=Ht.Word||n(_w(r.input,r.index))!=Ht.Word)&&(n(_w(r.input,r.index+r[0].length))!=Ht.Word||n(kw(r.input,r.index+r[0].length))!=Ht.Word)}class cve extends g9{nextMatch(e,t,r){let i=Qh(this.spec,e,r,e.doc.length).next();return i.done&&(i=Qh(this.spec,e,0,t).next()),i.done?null:i.value}prevMatchInRange(e,t,r){for(let i=1;;i++){let s=Math.max(t,r-i*1e4),o=Qh(this.spec,e,s,r),a=null;for(;!o.next().done;)a=o.value;if(a&&(s==t||a.from>s+10))return a;if(s==t)return null}}prevMatch(e,t,r){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(t,r)=>{if(r=="&")return e.match[0];if(r=="$")return"$";for(let i=r.length;i>0;i--){let s=+r.slice(0,i);if(s>0&&s<e.match.length)return e.match[s]+r.slice(i)}return t})}matchAll(e,t){let r=Qh(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=t)return null;i.push(r.value)}return i}highlight(e,t,r,i){let s=Qh(this.spec,e,Math.max(0,t-250),Math.min(r+250,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}const qg=Ne.define(),FQ=Ne.define(),oc=Xt.define({create(n){return new Ak(xC(n).create(),null)},update(n,e){for(let t of e.effects)t.is(qg)?n=new Ak(t.value.create(),n.panel):t.is(FQ)&&(n=new Ak(n.query,t.value?BQ:null));return n},provide:n=>Lg.from(n,e=>e.panel)});class Ak{constructor(e,t){this.query=e,this.panel=t}}const uve=ye.mark({class:"cm-searchMatch"}),hve=ye.mark({class:"cm-searchMatch cm-searchMatch-selected"}),dve=Vt.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(oc))}update(n){let e=n.state.field(oc);(e!=n.startState.field(oc)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:n,panel:e}){if(!e||!n.spec.valid)return ye.none;let{view:t}=this,r=new Xa;for(let i=0,s=t.visibleRanges,o=s.length;i<o;i++){let{from:a,to:l}=s[i];for(;i<o-1&&l>s[i+1].from-2*250;)l=s[++i].to;n.highlight(t.state,a,l,(c,u)=>{let h=t.state.selection.ranges.some(f=>f.from==c&&f.to==u);r.add(c,u,h?hve:uve)})}return r.finish()}},{decorations:n=>n.decorations});function ny(n){return e=>{let t=e.state.field(oc,!1);return t&&t.query.spec.valid?n(e,t):v9(e)}}const Tw=ny((n,{query:e})=>{let{to:t}=n.state.selection.main,r=e.nextMatch(n.state,t,t);if(!r)return!1;let i=te.single(r.from,r.to),s=n.state.facet(qf);return n.dispatch({selection:i,effects:[WQ(n,r),s.scrollToMatch(i.main,n)],userEvent:"select.search"}),y9(n),!0}),Pw=ny((n,{query:e})=>{let{state:t}=n,{from:r}=t.selection.main,i=e.prevMatch(t,r,r);if(!i)return!1;let s=te.single(i.from,i.to),o=n.state.facet(qf);return n.dispatch({selection:s,effects:[WQ(n,i),o.scrollToMatch(s.main,n)],userEvent:"select.search"}),y9(n),!0}),fve=ny((n,{query:e})=>{let t=e.matchAll(n.state,1e3);return!t||!t.length?!1:(n.dispatch({selection:te.create(t.map(r=>te.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),pve=({state:n,dispatch:e})=>{let t=n.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:r,to:i}=t.main,s=[],o=0;for(let a=new sf(n.doc,n.sliceDoc(r,i));!a.next().done;){if(s.length>1e3)return!1;a.value.from==r&&(o=s.length),s.push(te.range(a.value.from,a.value.to))}return e(n.update({selection:te.create(s,o),userEvent:"select.search.matches"})),!0},mV=ny((n,{query:e})=>{let{state:t}=n,{from:r,to:i}=t.selection.main;if(t.readOnly)return!1;let s=e.nextMatch(t,r,r);if(!s)return!1;let o=s,a=[],l,c,u=[];if(o.from==r&&o.to==i&&(c=t.toText(e.getReplacement(o)),a.push({from:o.from,to:o.to,insert:c}),o=e.nextMatch(t,o.from,o.to),u.push(fe.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(r).number)+"."))),o){let h=a.length==0||a[0].from>=s.to?0:s.to-s.from-c.length;l=te.single(o.from-h,o.to-h),u.push(WQ(n,o)),u.push(t.facet(qf).scrollToMatch(l.main,n))}return n.dispatch({changes:a,selection:l,effects:u,userEvent:"input.replace"}),!0}),mve=ny((n,{query:e})=>{if(n.state.readOnly)return!1;let t=e.matchAll(n.state,1e9).map(i=>{let{from:s,to:o}=i;return{from:s,to:o,insert:e.getReplacement(i)}});if(!t.length)return!1;let r=n.state.phrase("replaced $ matches",t.length)+".";return n.dispatch({changes:t,effects:fe.announce.of(r),userEvent:"input.replace.all"}),!0});function BQ(n){return n.state.facet(qf).createPanel(n)}function xC(n,e){var t,r,i,s,o;let a=n.selection.main,l=a.empty||a.to>a.from+100?"":n.sliceDoc(a.from,a.to);if(e&&!l)return e;let c=n.facet(qf);return new m9({search:((t=e==null?void 0:e.literal)!==null&&t!==void 0?t:c.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:(r=e==null?void 0:e.caseSensitive)!==null&&r!==void 0?r:c.caseSensitive,literal:(i=e==null?void 0:e.literal)!==null&&i!==void 0?i:c.literal,regexp:(s=e==null?void 0:e.regexp)!==null&&s!==void 0?s:c.regexp,wholeWord:(o=e==null?void 0:e.wholeWord)!==null&&o!==void 0?o:c.wholeWord})}function O9(n){let e=Vg(n,BQ);return e&&e.dom.querySelector("[main-field]")}function y9(n){let e=O9(n);e&&e==n.root.activeElement&&e.select()}const v9=n=>{let e=n.state.field(oc,!1);if(e&&e.panel){let t=O9(n);if(t&&t!=n.root.activeElement){let r=xC(n.state,e.query.spec);r.valid&&n.dispatch({effects:qg.of(r)}),t.focus(),t.select()}}else n.dispatch({effects:[FQ.of(!0),e?qg.of(xC(n.state,e.query.spec)):Ne.appendConfig.of(vve)]});return!0},x9=n=>{let e=n.state.field(oc,!1);if(!e||!e.panel)return!1;let t=Vg(n,BQ);return t&&t.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:FQ.of(!1)}),!0},gve=[{key:"Mod-f",run:v9,scope:"editor search-panel"},{key:"F3",run:Tw,shift:Pw,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Tw,shift:Pw,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:x9,scope:"editor search-panel"},{key:"Mod-Shift-l",run:pve},{key:"Mod-Alt-g",run:W0e},{key:"Mod-d",run:sve,preventDefault:!0}];class Ove{constructor(e){this.view=e;let t=this.query=e.state.field(oc).query.spec;this.commit=this.commit.bind(this),this.searchField=Pt("input",{value:t.search,placeholder:vi(e,"Find"),"aria-label":vi(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Pt("input",{value:t.replace,placeholder:vi(e,"Replace"),"aria-label":vi(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=Pt("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=Pt("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=Pt("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit});function r(i,s,o){return Pt("button",{class:"cm-button",name:i,onclick:s,type:"button"},o)}this.dom=Pt("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>Tw(e),[vi(e,"next")]),r("prev",()=>Pw(e),[vi(e,"previous")]),r("select",()=>fve(e),[vi(e,"all")]),Pt("label",null,[this.caseField,vi(e,"match case")]),Pt("label",null,[this.reField,vi(e,"regexp")]),Pt("label",null,[this.wordField,vi(e,"by word")]),...e.state.readOnly?[]:[Pt("br"),this.replaceField,r("replace",()=>mV(e),[vi(e,"replace")]),r("replaceAll",()=>mve(e),[vi(e,"replace all")])],Pt("button",{name:"close",onclick:()=>x9(e),"aria-label":vi(e,"close"),type:"button"},[""])])}commit(){let e=new m9({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:qg.of(e)}))}keydown(e){xge(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?Pw:Tw)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),mV(this.view))}update(e){for(let t of e.transactions)for(let r of t.effects)r.is(qg)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(qf).top}}function vi(n,e){return n.state.phrase(e)}const T0=30,P0=/[\s\.,:;?!]/;function WQ(n,{from:e,to:t}){let r=n.state.doc.lineAt(e),i=n.state.doc.lineAt(t).to,s=Math.max(r.from,e-T0),o=Math.min(i,t+T0),a=n.state.sliceDoc(s,o);if(s!=r.from){for(let l=0;l<T0;l++)if(!P0.test(a[l+1])&&P0.test(a[l])){a=a.slice(l);break}}if(o!=i){for(let l=a.length-1;l>a.length-T0;l--)if(!P0.test(a[l-1])&&P0.test(a[l])){a=a.slice(0,l);break}}return fe.announce.of(`${n.state.phrase("current match")}. ${a} ${n.state.phrase("on line")} ${r.number}.`)}const yve=fe.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),vve=[oc,sl.low(dve),yve];class w9{constructor(e,t,r,i){this.state=e,this.pos=t,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let t=$r(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),r=Math.max(t.from,this.pos-250),i=t.text.slice(r-t.from,this.pos-t.from),s=i.search(b9(e,!1));return s<0?null:{from:r+s,to:this.pos,text:i.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,t,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(t),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function gV(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function xve(n){let e=Object.create(null),t=Object.create(null);for(let{label:i}of n){e[i[0]]=!0;for(let s=1;s<i.length;s++)t[i[s]]=!0}let r=gV(e)+gV(t)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function wve(n){let e=n.map(i=>typeof i=="string"?{label:i}:i),[t,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:xve(e);return i=>{let s=i.matchBefore(r);return s||i.explicit?{from:s?s.from:i.pos,options:e,validFor:t}:null}}class OV{constructor(e,t,r,i){this.completion=e,this.source=t,this.match=r,this.score=i}}function Tu(n){return n.selection.main.from}function b9(n,e){var t;let{source:r}=n,i=e&&r[0]!="^",s=r[r.length-1]!="$";return!i&&!s?n:new RegExp(`${i?"^":""}(?:${r})${s?"$":""}`,(t=n.flags)!==null&&t!==void 0?t:n.ignoreCase?"i":"")}const S9=Fs.define();function bve(n,e,t,r){let{main:i}=n.selection,s=t-i.from,o=r-i.from;return Object.assign(Object.assign({},n.changeByRange(a=>{if(a!=i&&t!=r&&n.sliceDoc(a.from+s,a.from+o)!=n.sliceDoc(t,r))return{range:a};let l=n.toText(e);return{changes:{from:a.from+s,to:r==i.from?a.to:a.from+o,insert:l},range:te.cursor(a.from+s+l.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}const yV=new WeakMap;function Sve(n){if(!Array.isArray(n))return n;let e=yV.get(n);return e||yV.set(n,e=wve(n)),e}const Cw=Ne.define(),Zg=Ne.define();class kve{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let r=ai(e,t),i=lo(r);this.chars.push(r);let s=e.slice(t,t+i),o=s.toUpperCase();this.folded.push(ai(o==s?s.toLowerCase():o,0)),t+=i}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:t,folded:r,any:i,precise:s,byWord:o}=this;if(t.length==1){let _=ai(e,0),T=lo(_),I=T==e.length?0:-100;if(_!=t[0])if(_==r[0])I+=-200;else return null;return this.ret(I,[0,T])}let a=e.indexOf(this.pattern);if(a==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=t.length,c=0;if(a<0){for(let _=0,T=Math.min(e.length,200);_<T&&c<l;){let I=ai(e,_);(I==t[c]||I==r[c])&&(i[c++]=_),_+=lo(I)}if(c<l)return null}let u=0,h=0,f=!1,m=0,g=-1,y=-1,x=/[a-z]/.test(e),S=!0;for(let _=0,T=Math.min(e.length,200),I=0;_<T&&h<l;){let C=ai(e,_);a<0&&(u<l&&C==t[u]&&(s[u++]=_),m<l&&(C==t[m]||C==r[m]?(m==0&&(g=_),y=_+1,m++):m=0));let Q,O=C<255?C>=48&&C<=57||C>=97&&C<=122?2:C>=65&&C<=90?1:0:(Q=xQ(C))!=Q.toLowerCase()?1:Q!=Q.toUpperCase()?2:0;(!_||O==1&&x||I==0&&O!=0)&&(t[h]==C||r[h]==C&&(f=!0)?o[h++]=_:o.length&&(S=!1)),I=O,_+=lo(C)}return h==l&&o[0]==0&&S?this.result(-100+(f?-200:0),o,e):m==l&&g==0?this.ret(-200-e.length+(y==e.length?0:-100),[0,y]):a>-1?this.ret(-700-e.length,[a,a+this.pattern.length]):m==l?this.ret(-900-e.length,[g,y]):h==l?this.result(-100+(f?-200:0)+-700+(S?0:-1100),o,e):t.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,t,r){let i=[],s=0;for(let o of t){let a=o+(this.astral?lo(ai(r,o)):1);s&&i[s-1]==o?i[s-1]=a:(i[s++]=o,i[s++]=a)}return this.ret(e-r.length,i)}}class _ve{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let t=e.slice(0,this.pattern.length),r=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,t.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const er=de.define({combine(n){return Jo(n,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:Tve,filterStrict:!1,compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>r=>vV(e(r),t(r)),optionClass:(e,t)=>r=>vV(e(r),t(r)),addToOptions:(e,t)=>e.concat(t),filterStrict:(e,t)=>e||t})}});function vV(n,e){return n?e?n+" "+e:n:e}function Tve(n,e,t,r,i,s){let o=n.textDirection==it.RTL,a=o,l=!1,c="top",u,h,f=e.left-i.left,m=i.right-e.right,g=r.right-r.left,y=r.bottom-r.top;if(a&&f<Math.min(g,m)?a=!1:!a&&m<Math.min(g,f)&&(a=!0),g<=(a?f:m))u=Math.max(i.top,Math.min(t.top,i.bottom-y))-e.top,h=Math.min(400,a?f:m);else{l=!0,h=Math.min(400,(o?e.right:i.right-e.left)-30);let _=i.bottom-e.bottom;_>=y||_>e.top?u=t.bottom-e.top:(c="bottom",u=e.bottom-t.top)}let x=(e.bottom-e.top)/s.offsetHeight,S=(e.right-e.left)/s.offsetWidth;return{style:`${c}: ${u/x}px; max-width: ${h/S}px`,class:"cm-completionInfo-"+(l?o?"left-narrow":"right-narrow":a?"left":"right")}}function Pve(n){let e=n.addToOptions.slice();return n.icons&&e.push({render(t){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),t.type&&r.classList.add(...t.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(t,r,i,s){let o=document.createElement("span");o.className="cm-completionLabel";let a=t.displayLabel||t.label,l=0;for(let c=0;c<s.length;){let u=s[c++],h=s[c++];u>l&&o.appendChild(document.createTextNode(a.slice(l,u)));let f=o.appendChild(document.createElement("span"));f.appendChild(document.createTextNode(a.slice(u,h))),f.className="cm-completionMatchedText",l=h}return l<a.length&&o.appendChild(document.createTextNode(a.slice(l))),o},position:50},{render(t){if(!t.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=t.detail,r},position:80}),e.sort((t,r)=>t.position-r.position).map(t=>t.render)}function Rk(n,e,t){if(n<=t)return{from:0,to:n};if(e<0&&(e=0),e<=n>>1){let i=Math.floor(e/t);return{from:i*t,to:(i+1)*t}}let r=Math.floor((n-e)/t);return{from:n-(r+1)*t,to:n-r*t}}class Cve{constructor(e,t,r){this.view=e,this.stateField=t,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let i=e.state.field(t),{options:s,selected:o}=i.open,a=e.state.facet(er);this.optionContent=Pve(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=Rk(s.length,o,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",l=>{let{options:c}=e.state.field(t).open;for(let u=l.target,h;u&&u!=this.dom;u=u.parentNode)if(u.nodeName=="LI"&&(h=/-(\d+)$/.exec(u.id))&&+h[1]<c.length){this.applyCompletion(e,c[+h[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let c=e.state.field(this.stateField,!1);c&&c.tooltip&&e.state.facet(er).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:Zg.of(null)})}),this.showOptions(s,i.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var t;let r=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=i){let{options:s,selected:o,disabled:a}=r.open;(!i.open||i.open.options!=s)&&(this.range=Rk(s.length,o,e.state.facet(er).maxRenderedOptions),this.showOptions(s,r.id)),this.updateSel(),a!=((t=i.open)===null||t===void 0?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!a)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of t.split(" "))r&&this.dom.classList.add(r);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=Rk(t.options.length,t.selected,this.view.state.facet(er).maxRenderedOptions),this.showOptions(t.options,e.id)),this.updateSelectedOption(t.selected)){this.destroyInfo();let{completion:r}=t.options[t.selected],{info:i}=r;if(!i)return;let s=typeof i=="string"?document.createTextNode(i):i(r);if(!s)return;"then"in s?s.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o,r)}).catch(o=>An(this.view.state,o,"completion info")):this.addInfoPane(s,r)}}addInfoPane(e,t){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:s}=e;r.appendChild(i),this.infoDestroy=s||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),t=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected");return t&&Ave(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),s=this.space;if(!s){let o=this.dom.ownerDocument.documentElement;s={left:0,top:0,right:o.clientWidth,bottom:o.clientHeight}}return i.top>Math.min(s.bottom,t.bottom)-10||i.bottom<Math.max(s.top,t.top)+10?null:this.view.state.facet(er).positionInfo(this.view,t,i,r,s,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,r){const i=document.createElement("ul");i.id=t,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions")),i.addEventListener("mousedown",o=>{o.target==i&&o.preventDefault()});let s=null;for(let o=r.from;o<r.to;o++){let{completion:a,match:l}=e[o],{section:c}=a;if(c){let f=typeof c=="string"?c:c.name;if(f!=s&&(o>r.from||r.from==0))if(s=f,typeof c!="string"&&c.header)i.appendChild(c.header(c));else{let m=i.appendChild(document.createElement("completion-section"));m.textContent=f}}const u=i.appendChild(document.createElement("li"));u.id=t+"-"+o,u.setAttribute("role","option");let h=this.optionClass(a);h&&(u.className=h);for(let f of this.optionContent){let m=f(a,this.view.state,this.view,l);m&&u.appendChild(m)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function Eve(n,e){return t=>new Cve(t,n,e)}function Ave(n,e){let t=n.getBoundingClientRect(),r=e.getBoundingClientRect(),i=t.height/n.offsetHeight;r.top<t.top?n.scrollTop-=(t.top-r.top)/i:r.bottom>t.bottom&&(n.scrollTop+=(r.bottom-t.bottom)/i)}function xV(n){return(n.boost||0)*100+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}function Rve(n,e){let t=[],r=null,i=c=>{t.push(c);let{section:u}=c.completion;if(u){r||(r=[]);let h=typeof u=="string"?u:u.name;r.some(f=>f.name==h)||r.push(typeof u=="string"?{name:h}:u)}},s=e.facet(er);for(let c of n)if(c.hasResult()){let u=c.result.getMatch;if(c.result.filter===!1)for(let h of c.result.options)i(new OV(h,c.source,u?u(h):[],1e9-t.length));else{let h=e.sliceDoc(c.from,c.to),f,m=s.filterStrict?new _ve(h):new kve(h);for(let g of c.result.options)if(f=m.match(g.label)){let y=g.displayLabel?u?u(g,f.matched):[]:f.matched;i(new OV(g,c.source,y,f.score+(g.boost||0)))}}}if(r){let c=Object.create(null),u=0,h=(f,m)=>{var g,y;return((g=f.rank)!==null&&g!==void 0?g:1e9)-((y=m.rank)!==null&&y!==void 0?y:1e9)||(f.name<m.name?-1:1)};for(let f of r.sort(h))u-=1e5,c[f.name]=u;for(let f of t){let{section:m}=f.completion;m&&(f.score+=c[typeof m=="string"?m:m.name])}}let o=[],a=null,l=s.compareCompletions;for(let c of t.sort((u,h)=>h.score-u.score||l(u.completion,h.completion))){let u=c.completion;!a||a.label!=u.label||a.detail!=u.detail||a.type!=null&&u.type!=null&&a.type!=u.type||a.apply!=u.apply||a.boost!=u.boost?o.push(c):xV(c.completion)>xV(a)&&(o[o.length-1]=c),a=c.completion}return o}class Xh{constructor(e,t,r,i,s,o){this.options=e,this.attrs=t,this.tooltip=r,this.timestamp=i,this.selected=s,this.disabled=o}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new Xh(this.options,wV(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,r,i,s,o){if(i&&!o&&e.some(c=>c.isPending))return i.setDisabled();let a=Rve(e,t);if(!a.length)return i&&e.some(c=>c.isPending)?i.setDisabled():null;let l=t.facet(er).selectOnOpen?0:-1;if(i&&i.selected!=l&&i.selected!=-1){let c=i.options[i.selected].completion;for(let u=0;u<a.length;u++)if(a[u].completion==c){l=u;break}}return new Xh(a,wV(r,l),{pos:e.reduce((c,u)=>u.hasResult()?Math.min(c,u.from):c,1e8),create:Dve,above:s.aboveCursor},i?i.timestamp:Date.now(),l,!1)}map(e){return new Xh(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new Xh(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class Ew{constructor(e,t,r){this.active=e,this.id=t,this.open=r}static start(){return new Ew(Nve,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,r=t.facet(er),s=(r.override||t.languageDataAt("autocomplete",Tu(t)).map(Sve)).map(l=>(this.active.find(u=>u.source==l)||new is(l,this.active.some(u=>u.state!=0)?1:0)).update(e,r));s.length==this.active.length&&s.every((l,c)=>l==this.active[c])&&(s=this.active);let o=this.open,a=e.effects.some(l=>l.is(XQ));o&&e.docChanged&&(o=o.map(e.changes)),e.selection||s.some(l=>l.hasResult()&&e.changes.touchesRange(l.from,l.to))||!Qve(s,this.active)||a?o=Xh.build(s,t,this.id,o,r,a):o&&o.disabled&&!s.some(l=>l.isPending)&&(o=null),!o&&s.every(l=>!l.isPending)&&s.some(l=>l.hasResult())&&(s=s.map(l=>l.hasResult()?new is(l.source,0):l));for(let l of e.effects)l.is(_9)&&(o=o&&o.setSelected(l.value,this.id));return s==this.active&&o==this.open?this:new Ew(s,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?Ive:$ve}}function Qve(n,e){if(n==e)return!0;for(let t=0,r=0;;){for(;t<n.length&&!n[t].hasResult();)t++;for(;r<e.length&&!e[r].hasResult();)r++;let i=t==n.length,s=r==e.length;if(i||s)return i==s;if(n[t++].result!=e[r++].result)return!1}}const Ive={"aria-autocomplete":"list"},$ve={};function wV(n,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return e>-1&&(t["aria-activedescendant"]=n+"-"+e),t}const Nve=[];function k9(n,e){if(n.isUserEvent("input.complete")){let r=n.annotation(S9);if(r&&e.activateOnCompletion(r))return 12}let t=n.isUserEvent("input.type");return t&&e.activateOnTyping?5:t?1:n.isUserEvent("delete.backward")?2:n.selection?8:n.docChanged?16:0}class is{constructor(e,t,r=!1){this.source=e,this.state=t,this.explicit=r}hasResult(){return!1}get isPending(){return this.state==1}update(e,t){let r=k9(e,t),i=this;(r&8||r&16&&this.touches(e))&&(i=new is(i.source,0)),r&4&&i.state==0&&(i=new is(this.source,1)),i=i.updateFor(e,r);for(let s of e.effects)if(s.is(Cw))i=new is(i.source,1,s.value);else if(s.is(Zg))i=new is(i.source,0);else if(s.is(XQ))for(let o of s.value)o.source==i.source&&(i=o);return i}updateFor(e,t){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(Tu(e.state))}}class vd extends is{constructor(e,t,r,i,s,o){super(e,3,t),this.limit=r,this.result=i,this.from=s,this.to=o}hasResult(){return!0}updateFor(e,t){var r;if(!(t&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let s=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),a=Tu(e.state);if(a>o||!i||t&2&&(Tu(e.startState)==this.from||a<this.limit))return new is(this.source,t&4?1:0);let l=e.changes.mapPos(this.limit);return jve(i.validFor,e.state,s,o)?new vd(this.source,this.explicit,l,i,s,o):i.update&&(i=i.update(i,s,o,new w9(e.state,a,!1)))?new vd(this.source,this.explicit,l,i,i.from,(r=i.to)!==null&&r!==void 0?r:Tu(e.state)):new is(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new vd(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new is(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function jve(n,e,t,r){if(!n)return!1;let i=e.sliceDoc(t,r);return typeof n=="function"?n(i,t,r,e):b9(n,!0).test(i)}const XQ=Ne.define({map(n,e){return n.map(t=>t.map(e))}}),_9=Ne.define(),ci=Xt.define({create(){return Ew.start()},update(n,e){return n.update(e)},provide:n=>[NQ.from(n,e=>e.tooltip),fe.contentAttributes.from(n,e=>e.attrs)]});function GQ(n,e){const t=e.completion.apply||e.completion.label;let r=n.state.field(ci).active.find(i=>i.source==e.source);return r instanceof vd?(typeof t=="string"?n.dispatch(Object.assign(Object.assign({},bve(n.state,t,r.from,r.to)),{annotations:S9.of(e.completion)})):t(n,e.completion,r.from,r.to),!0):!1}const Dve=Eve(ci,GQ);function C0(n,e="option"){return t=>{let r=t.state.field(ci,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<t.state.facet(er).interactionDelay)return!1;let i=1,s;e=="page"&&(s=lX(t,r.open.tooltip))&&(i=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:o}=r.open.options,a=r.open.selected>-1?r.open.selected+i*(n?1:-1):n?0:o-1;return a<0?a=e=="page"?0:o-1:a>=o&&(a=e=="page"?o-1:0),t.dispatch({effects:_9.of(a)}),!0}}const Mve=n=>{let e=n.state.field(ci,!1);return n.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<n.state.facet(er).interactionDelay?!1:GQ(n,e.open.options[e.open.selected])},bV=n=>n.state.field(ci,!1)?(n.dispatch({effects:Cw.of(!0)}),!0):!1,Vve=n=>{let e=n.state.field(ci,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(n.dispatch({effects:Zg.of(null)}),!0)};class Lve{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const Uve=50,zve=1e3,qve=Vt.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of n.state.field(ci).active)e.isPending&&this.startQuery(e)}update(n){let e=n.state.field(ci),t=n.state.facet(er);if(!n.selectionSet&&!n.docChanged&&n.startState.field(ci)==e)return;let r=n.transactions.some(s=>{let o=k9(s,t);return o&8||(s.selection||s.docChanged)&&!(o&3)});for(let s=0;s<this.running.length;s++){let o=this.running[s];if(r||o.context.abortOnDocChange&&n.docChanged||o.updates.length+n.transactions.length>Uve&&Date.now()-o.time>zve){for(let a of o.context.abortListeners)try{a()}catch(l){An(this.view.state,l)}o.context.abortListeners=null,this.running.splice(s--,1)}else o.updates.push(...n.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),n.transactions.some(s=>s.effects.some(o=>o.is(Cw)))&&(this.pendingStart=!0);let i=this.pendingStart?50:t.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(s=>s.isPending&&!this.running.some(o=>o.active.source==s.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let s of n.transactions)s.isUserEvent("input.type")?this.composing=2:this.composing==2&&s.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:n}=this.view,e=n.field(ci);for(let t of e.active)t.isPending&&!this.running.some(r=>r.active.source==t.source)&&this.startQuery(t);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(er).updateSyncTime))}startQuery(n){let{state:e}=this.view,t=Tu(e),r=new w9(e,t,n.explicit,this.view),i=new Lve(n,r);this.running.push(i),Promise.resolve(n.source(r)).then(s=>{i.context.aborted||(i.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:Zg.of(null)}),An(this.view.state,s)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(er).updateSyncTime))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(er),r=this.view.state.field(ci);for(let i=0;i<this.running.length;i++){let s=this.running[i];if(s.done===void 0)continue;if(this.running.splice(i--,1),s.done){let a=Tu(s.updates.length?s.updates[0].startState:this.view.state),l=Math.min(a,s.done.from+(s.active.explicit?0:1)),c=new vd(s.active.source,s.active.explicit,l,s.done,s.done.from,(n=s.done.to)!==null&&n!==void 0?n:a);for(let u of s.updates)c=c.update(u,t);if(c.hasResult()){e.push(c);continue}}let o=r.active.find(a=>a.source==s.active.source);if(o&&o.isPending)if(s.done==null){let a=new is(s.active.source,0);for(let l of s.updates)a=a.update(l,t);a.isPending||e.push(a)}else this.startQuery(o)}(e.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:XQ.of(e)})}},{eventHandlers:{blur(n){let e=this.view.state.field(ci,!1);if(e&&e.tooltip&&this.view.state.facet(er).closeOnBlur){let t=e.open&&lX(this.view,e.open.tooltip);(!t||!t.dom.contains(n.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:Zg.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Cw.of(!1)}),20),this.composing=0}}}),Zve=typeof navigator=="object"&&/Win/.test(navigator.platform),Fve=sl.highest(fe.domEventHandlers({keydown(n,e){let t=e.state.field(ci,!1);if(!t||!t.open||t.open.disabled||t.open.selected<0||n.key.length>1||n.ctrlKey&&!(Zve&&n.altKey)||n.metaKey)return!1;let r=t.open.options[t.open.selected],i=t.active.find(o=>o.source==r.source),s=r.completion.commitCharacters||i.result.commitCharacters;return s&&s.indexOf(n.key)>-1&&GQ(e,r),!1}})),Bve=fe.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),Fg={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},pu=Ne.define({map(n,e){let t=e.mapPos(n,-1,Ln.TrackAfter);return t??void 0}}),YQ=new class extends Do{};YQ.startSide=1;YQ.endSide=-1;const T9=Xt.define({create(){return yt.empty},update(n,e){if(n=n.map(e.changes),e.selection){let t=e.state.doc.lineAt(e.selection.main.head);n=n.update({filter:r=>r>=t.from&&r<=t.to})}for(let t of e.effects)t.is(pu)&&(n=n.update({add:[YQ.range(t.value,t.value+1)]}));return n}});function Wve(){return[Gve,T9]}const Qk="()[]{}<>";function P9(n){for(let e=0;e<Qk.length;e+=2)if(Qk.charCodeAt(e)==n)return Qk.charAt(e+1);return xQ(n<128?n:n+1)}function C9(n,e){return n.languageDataAt("closeBrackets",e)[0]||Fg}const Xve=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),Gve=fe.inputHandler.of((n,e,t,r)=>{if((Xve?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let i=n.state.selection.main;if(r.length>2||r.length==2&&lo(ai(r,0))==1||e!=i.from||t!=i.to)return!1;let s=Kve(n.state,r);return s?(n.dispatch(s),!0):!1}),Yve=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let r=C9(n,n.selection.main.head).brackets||Fg.brackets,i=null,s=n.changeByRange(o=>{if(o.empty){let a=Jve(n.doc,o.head);for(let l of r)if(l==a&&xS(n.doc,o.head)==P9(ai(l,0)))return{changes:{from:o.head-l.length,to:o.head+l.length},range:te.cursor(o.head-l.length)}}return{range:i=o}});return i||e(n.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},Hve=[{key:"Backspace",run:Yve}];function Kve(n,e){let t=C9(n,n.selection.main.head),r=t.brackets||Fg.brackets;for(let i of r){let s=P9(ai(i,0));if(e==i)return s==i?nxe(n,i,r.indexOf(i+i+i)>-1,t):exe(n,i,s,t.before||Fg.before);if(e==s&&E9(n,n.selection.main.from))return txe(n,i,s)}return null}function E9(n,e){let t=!1;return n.field(T9).between(0,n.doc.length,r=>{r==e&&(t=!0)}),t}function xS(n,e){let t=n.sliceString(e,e+2);return t.slice(0,lo(ai(t,0)))}function Jve(n,e){let t=n.sliceString(e-2,e);return lo(ai(t,0))==t.length?t:t.slice(1)}function exe(n,e,t,r){let i=null,s=n.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:t,from:o.to}],effects:pu.of(o.to+e.length),range:te.range(o.anchor+e.length,o.head+e.length)};let a=xS(n.doc,o.head);return!a||/\s/.test(a)||r.indexOf(a)>-1?{changes:{insert:e+t,from:o.head},effects:pu.of(o.head+e.length),range:te.cursor(o.head+e.length)}:{range:i=o}});return i?null:n.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function txe(n,e,t){let r=null,i=n.changeByRange(s=>s.empty&&xS(n.doc,s.head)==t?{changes:{from:s.head,to:s.head+t.length,insert:t},range:te.cursor(s.head+t.length)}:r={range:s});return r?null:n.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function nxe(n,e,t,r){let i=r.stringPrefixes||Fg.stringPrefixes,s=null,o=n.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:e,from:a.to}],effects:pu.of(a.to+e.length),range:te.range(a.anchor+e.length,a.head+e.length)};let l=a.head,c=xS(n.doc,l),u;if(c==e){if(SV(n,l))return{changes:{insert:e+e,from:l},effects:pu.of(l+e.length),range:te.cursor(l+e.length)};if(E9(n,l)){let f=t&&n.sliceDoc(l,l+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+f.length,insert:f},range:te.cursor(l+f.length)}}}else{if(t&&n.sliceDoc(l-2*e.length,l)==e+e&&(u=kV(n,l-2*e.length,i))>-1&&SV(n,u))return{changes:{insert:e+e+e+e,from:l},effects:pu.of(l+e.length),range:te.cursor(l+e.length)};if(n.charCategorizer(l)(c)!=Ht.Word&&kV(n,l,i)>-1&&!rxe(n,l,e,i))return{changes:{insert:e+e,from:l},effects:pu.of(l+e.length),range:te.cursor(l+e.length)}}return{range:s=a}});return s?null:n.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function SV(n,e){let t=$r(n).resolveInner(e+1);return t.parent&&t.from==e}function rxe(n,e,t,r){let i=$r(n).resolveInner(e,-1),s=r.reduce((o,a)=>Math.max(o,a.length),0);for(let o=0;o<5;o++){let a=n.sliceDoc(i.from,Math.min(i.to,i.from+t.length+s)),l=a.indexOf(t);if(!l||l>-1&&r.indexOf(a.slice(0,l))>-1){let u=i.firstChild;for(;u&&u.from==i.from&&u.to-u.from>t.length+l;){if(n.sliceDoc(u.to-t.length,u.to)==t)return!1;u=u.firstChild}return!0}let c=i.to==e&&i.parent;if(!c)break;i=c}return!1}function kV(n,e,t){let r=n.charCategorizer(e);if(r(n.sliceDoc(e-1,e))!=Ht.Word)return e;for(let i of t){let s=e-i.length;if(n.sliceDoc(s,e)==i&&r(n.sliceDoc(s-1,s))!=Ht.Word)return s}return-1}function ixe(n={}){return[Fve,ci,er.of(n),qve,sxe,Bve]}const A9=[{key:"Ctrl-Space",run:bV},{mac:"Alt-`",run:bV},{key:"Escape",run:Vve},{key:"ArrowDown",run:C0(!0)},{key:"ArrowUp",run:C0(!1)},{key:"PageDown",run:C0(!0,"page")},{key:"PageUp",run:C0(!1,"page")},{key:"Enter",run:Mve}],sxe=sl.highest(KO.computeN([er],n=>n.facet(er).defaultKeymap?[A9]:[]));class _V{constructor(e,t,r){this.from=e,this.to=t,this.diagnostic=r}}class au{constructor(e,t,r){this.diagnostics=e,this.panel=t,this.selected=r}static init(e,t,r){let i=e,s=r.facet(Bg).markerFilter;s&&(i=s(i,r));let o=e.slice().sort((h,f)=>h.from-f.from||h.to-f.to),a=new Xa,l=[],c=0;for(let h=0;;){let f=h==o.length?null:o[h];if(!f&&!l.length)break;let m,g;for(l.length?(m=c,g=l.reduce((x,S)=>Math.min(x,S.to),f&&f.from>m?f.from:1e8)):(m=f.from,g=f.to,l.push(f),h++);h<o.length;){let x=o[h];if(x.from==m&&(x.to>x.from||x.to==m))l.push(x),h++,g=Math.min(x.to,g);else{g=Math.min(x.from,g);break}}let y=yxe(l);if(l.some(x=>x.from==x.to||x.from==x.to-1&&r.doc.lineAt(x.from).to==x.from))a.add(m,m,ye.widget({widget:new pxe(y),diagnostics:l.slice()}));else{let x=l.reduce((S,_)=>_.markClass?S+" "+_.markClass:S,"");a.add(m,g,ye.mark({class:"cm-lintRange cm-lintRange-"+y+x,diagnostics:l.slice(),inclusiveEnd:l.some(S=>S.to>g)}))}c=g;for(let x=0;x<l.length;x++)l[x].to<=c&&l.splice(x--,1)}let u=a.finish();return new au(u,t,of(u))}}function of(n,e=null,t=0){let r=null;return n.between(t,1e9,(i,s,{spec:o})=>{if(!(e&&o.diagnostics.indexOf(e)<0))if(!r)r=new _V(i,s,e||o.diagnostics[0]);else{if(o.diagnostics.indexOf(r.diagnostic)<0)return!1;r=new _V(r.from,s,r.diagnostic)}}),r}function oxe(n,e){let t=e.pos,r=e.end||t,i=n.state.facet(Bg).hideOn(n,t,r);if(i!=null)return i;let s=n.startState.doc.lineAt(e.pos);return!!(n.effects.some(o=>o.is(R9))||n.changes.touchesRange(s.from,Math.max(s.to,r)))}function axe(n,e){return n.field(Ai,!1)?e:e.concat(Ne.appendConfig.of(vxe))}const R9=Ne.define(),HQ=Ne.define(),Q9=Ne.define(),Ai=Xt.define({create(){return new au(ye.none,null,null)},update(n,e){if(e.docChanged&&n.diagnostics.size){let t=n.diagnostics.map(e.changes),r=null,i=n.panel;if(n.selected){let s=e.changes.mapPos(n.selected.from,1);r=of(t,n.selected.diagnostic,s)||of(t,null,s)}!t.size&&i&&e.state.facet(Bg).autoPanel&&(i=null),n=new au(t,i,r)}for(let t of e.effects)if(t.is(R9)){let r=e.state.facet(Bg).autoPanel?t.value.length?Wg.open:null:n.panel;n=au.init(t.value,r,e.state)}else t.is(HQ)?n=new au(n.diagnostics,t.value?Wg.open:null,n.selected):t.is(Q9)&&(n=new au(n.diagnostics,n.panel,t.value));return n},provide:n=>[Lg.from(n,e=>e.panel),fe.decorations.from(n,e=>e.diagnostics)]}),lxe=ye.mark({class:"cm-lintRange cm-lintRange-active"});function cxe(n,e,t){let{diagnostics:r}=n.state.field(Ai),i,s=-1,o=-1;r.between(e-(t<0?1:0),e+(t>0?1:0),(l,c,{spec:u})=>{if(e>=l&&e<=c&&(l==c||(e>l||t>0)&&(e<c||t<0)))return i=u.diagnostics,s=l,o=c,!1});let a=n.state.facet(Bg).tooltipFilter;return i&&a&&(i=a(i,n.state)),i?{pos:s,end:o,above:n.state.doc.lineAt(s).to<o,create(){return{dom:uxe(n,i)}}}:null}function uxe(n,e){return Pt("ul",{class:"cm-tooltip-lint"},e.map(t=>$9(n,t,!1)))}const hxe=n=>{let e=n.state.field(Ai,!1);(!e||!e.panel)&&n.dispatch({effects:axe(n.state,[HQ.of(!0)])});let t=Vg(n,Wg.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},TV=n=>{let e=n.state.field(Ai,!1);return!e||!e.panel?!1:(n.dispatch({effects:HQ.of(!1)}),!0)},dxe=n=>{let e=n.state.field(Ai,!1);if(!e)return!1;let t=n.state.selection.main,r=e.diagnostics.iter(t.to+1);return!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==t.from&&r.to==t.to)?!1:(n.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},fxe=[{key:"Mod-Shift-m",run:hxe,preventDefault:!0},{key:"F8",run:dxe}],Bg=de.define({combine(n){return Object.assign({sources:n.map(e=>e.source).filter(e=>e!=null)},Jo(n.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,t)=>e?t?r=>e(r)||t(r):e:t}))}});function I9(n){let e=[];if(n)e:for(let{name:t}of n){for(let r=0;r<t.length;r++){let i=t[r];if(/[a-zA-Z]/.test(i)&&!e.some(s=>s.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function $9(n,e,t){var r;let i=t?I9(e.actions):[];return Pt("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},Pt("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(n):e.message),(r=e.actions)===null||r===void 0?void 0:r.map((s,o)=>{let a=!1,l=f=>{if(f.preventDefault(),a)return;a=!0;let m=of(n.state.field(Ai).diagnostics,e);m&&s.apply(n,m.from,m.to)},{name:c}=s,u=i[o]?c.indexOf(i[o]):-1,h=u<0?c:[c.slice(0,u),Pt("u",c.slice(u,u+1)),c.slice(u+1)];return Pt("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":` Action: ${c}${u<0?"":` (access key "${i[o]})"`}.`},h)}),e.source&&Pt("div",{class:"cm-diagnosticSource"},e.source))}class pxe extends ea{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return Pt("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class PV{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=$9(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Wg{constructor(e){this.view=e,this.items=[];let t=i=>{if(i.keyCode==27)TV(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],o=I9(s.actions);for(let a=0;a<o.length;a++)if(o[a].toUpperCase().charCodeAt(0)==i.keyCode){let l=of(this.view.state.field(Ai).diagnostics,s);l&&s.actions[a].apply(e,l.from,l.to)}}else return;i.preventDefault()},r=i=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(i.target)&&this.moveSelection(s)};this.list=Pt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:r}),this.dom=Pt("div",{class:"cm-panel-lint"},this.list,Pt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>TV(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(Ai).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(Ai),r=0,i=!1,s=null,o=new Set;for(e.between(0,this.view.state.doc.length,(a,l,{spec:c})=>{for(let u of c.diagnostics){if(o.has(u))continue;o.add(u);let h=-1,f;for(let m=r;m<this.items.length;m++)if(this.items[m].diagnostic==u){h=m;break}h<0?(f=new PV(this.view,u),this.items.splice(r,0,f),i=!0):(f=this.items[h],h>r&&(this.items.splice(r,h-r),i=!0)),t&&f.diagnostic==t.diagnostic?f.dom.hasAttribute("aria-selected")||(f.dom.setAttribute("aria-selected","true"),s=f):f.dom.hasAttribute("aria-selected")&&f.dom.removeAttribute("aria-selected"),r++}});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new PV(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:a,panel:l})=>{let c=l.height/this.list.offsetHeight;a.top<l.top?this.list.scrollTop-=(l.top-a.top)/c:a.bottom>l.bottom&&(this.list.scrollTop+=(a.bottom-l.bottom)/c)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function t(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)t();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(Ai),r=of(t.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:Q9.of(r)})}static open(e){return new Wg(e)}}function mxe(n,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(n)}</svg>')`}function E0(n){return mxe(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const gxe=fe.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:E0("#d11")},".cm-lintRange-warning":{backgroundImage:E0("orange")},".cm-lintRange-info":{backgroundImage:E0("#999")},".cm-lintRange-hint":{backgroundImage:E0("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function Oxe(n){return n=="error"?4:n=="warning"?3:n=="info"?2:1}function yxe(n){let e="hint",t=1;for(let r of n){let i=Oxe(r.severity);i>t&&(t=i,e=r.severity)}return e}const vxe=[Ai,fe.decorations.compute([Ai],n=>{let{selected:e,panel:t}=n.field(Ai);return!e||!t||e.from==e.to?ye.none:ye.set([lxe.range(e.from,e.to)])}),oOe(cxe,{hideOn:oxe}),gxe],xxe=[OOe(),xOe(),Dge(),qye(),mye(),Tge(),Rge(),De.allowMultipleSelections.of(!0),tye(),Oye(xye,{fallback:!0}),Pye(),Wve(),ixe(),Gge(),Kge(),qge(),H0e(),KO.of([...Hve,...F0e,...gve,...Kye,...hye,...A9,...fxe])],N9=1024;let wxe=0,Ik=class{constructor(e,t){this.from=e,this.to=t}},Kt=class{constructor(e={}){this.id=wxe++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Ha.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}};Kt.closedBy=new Kt({deserialize:n=>n.split(" ")});Kt.openedBy=new Kt({deserialize:n=>n.split(" ")});Kt.group=new Kt({deserialize:n=>n.split(" ")});Kt.isolate=new Kt({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});Kt.contextHash=new Kt({perNode:!0});Kt.lookAhead=new Kt({perNode:!0});Kt.mounted=new Kt({perNode:!0});let Aw=class{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[Kt.mounted.id]}};const bxe=Object.create(null);let Ha=class j9{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):bxe,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new j9(e.name||"",t,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Kt.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(Kt.group),s=-1;s<(i?i.length:0);s++){let o=t[s<0?r.name:i[s]];if(o)return o}}}};Ha.none=new Ha("",Object.create(null),0,8);class KQ{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let r of this.types){let i=null;for(let s of e){let o=s(r);o&&(i||(i=Object.assign({},r.props)),i[o[0].id]=o[1])}t.push(i?new Ha(r.name,i,r.id,r.flags):r)}return new KQ(t)}}const A0=new WeakMap,CV=new WeakMap;var lr;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(lr||(lr={}));let Ns=class wC{constructor(e,t,r,i,s){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=Aw.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new kC(this.topNode,e)}cursorAt(e,t=0,r=0){let i=A0.get(this)||this.topNode,s=new kC(i);return s.moveTo(e,t),A0.set(this,s._tree),s}get topNode(){return new Pc(this,0,0,null)}resolve(e,t=0){let r=Xg(A0.get(this)||this.topNode,e,t,!1);return A0.set(this,r),r}resolveInner(e,t=0){let r=Xg(CV.get(this)||this.topNode,e,t,!0);return CV.set(this,r),r}resolveStack(e,t=0){return Txe(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:s=this.length}=e,o=e.mode||0,a=(o&lr.IncludeAnonymous)>0;for(let l=this.cursor(o|lr.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=i&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:eI(Ha.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new wC(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new wC(Ha.none,t,r,i)))}static build(e){return Pxe(e)}};Ns.empty=new Ns(Ha.none,[],[],0);let Sxe=class D9{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new D9(this.buffer,this.index)}},af=class M9{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return Ha.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(V9(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,t,r){let i=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=i[a++],s[l++]=i[a++]-r;let c=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,c)}return new M9(s,o,this.set)}};function V9(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function Xg(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!r&&n instanceof Pc&&n.index<0?null:n.parent;if(!o)return n;n=o}let s=r?0:lr.IgnoreOverlays;if(r)for(let o=n,a=o.parent;a;o=a,a=o.parent)o instanceof Pc&&o.index<0&&((i=a.enter(e,t,s))===null||i===void 0?void 0:i.from)!=o.from&&(n=a);for(;;){let o=n.enter(e,t,s);if(!o)return n;n=o}}let L9=class{cursor(e=0){return new kC(this,e)}getChild(e,t=null,r=null){let i=EV(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return EV(this,e,t,r)}resolve(e,t=0){return Xg(this,e,t,!1)}resolveInner(e,t=0){return Xg(this,e,t,!0)}matchContext(e){return bC(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}},Pc=class Pv extends L9{constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=t>0?a.length:-1;e!=c;e+=t){let u=a[e],h=l[e]+o.from;if(V9(i,r,h,h+u.length)){if(u instanceof af){if(s&lr.ExcludeBuffers)continue;let f=u.findChild(0,u.buffer.length,t,r-h,i);if(f>-1)return new SC(new kxe(o,u,e,h),null,f)}else if(s&lr.IncludeAnonymous||!u.type.isAnonymous||JQ(u)){let f;if(!(s&lr.IgnoreMounts)&&(f=Aw.get(u))&&!f.overlay)return new Pv(f.tree,h,e,o);let m=new Pv(u,h,e,o);return s&lr.IncludeAnonymous||!m.type.isAnonymous?m:m.nextChild(t<0?u.children.length-1:0,t,r,i)}}}if(s&lr.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&lr.IgnoreOverlays)&&(i=Aw.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:o,to:a}of i.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new Pv(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function EV(n,e,t,r){let i=n.cursor(),s=[];if(!i.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=i.type.is(t),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function bC(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}let kxe=class{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}},SC=class sm extends L9{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return s<0?null:new sm(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&lr.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new sm(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new sm(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new sm(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),t.push(0)}return new Ns(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function U9(n){if(!n.length)return null;let e=0,t=n[0];for(let s=1;s<n.length;s++){let o=n[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let r=t instanceof Pc&&t.index<0?null:t.parent,i=n.slice();return r?i[e]=r:i.splice(e,1),new _xe(i,t)}let _xe=class{constructor(e,t){this.heads=e,this.node=t}get next(){return U9(this.heads)}};function Txe(n,e,t){let r=n.resolveInner(e,t),i=null;for(let s=r instanceof Pc?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[r])).push(o.resolve(e,t)),s=o}else{let o=Aw.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new Pc(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(Xg(a,e,t,!1))}}return i?U9(i):r}let kC=class{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Pc)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof Pc?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&lr.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&lr.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&lr.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let s=t+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&lr.IncludeAnonymous||a instanceof af||!a.type.isAnonymous||JQ(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;t=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)t=new SC(this.buffer,t,this.stack[i]);return this.bufferNode=new SC(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return bC(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return bC(this._tree,e,i);let o=r[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}};function JQ(n){return n.children.some(e=>e instanceof af||!e.type.isAnonymous||JQ(e))}function Pxe(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=N9,reused:s=[],minRepeatType:o=r.types.length}=n,a=Array.isArray(t)?new Sxe(t,t.length):t,l=r.types,c=0,u=0;function h(C,Q,O,w,k,R){let{id:P,start:v,end:A,size:j}=a,V=u,U=c;for(;j<0;)if(a.next(),j==-1){let F=s[P];O.push(F),w.push(v-C);return}else if(j==-3){c=P;return}else if(j==-4){u=P;return}else throw new RangeError(`Unrecognized record size: ${j}`);let W=l[P],D,L,Y=v-C;if(A-v<=i&&(L=x(a.pos-Q,k))){let F=new Uint16Array(L.size-L.skip),Z=a.pos-L.size,G=F.length;for(;a.pos>Z;)G=S(L.start,F,G);D=new af(F,A-L.start,r),Y=L.start-C}else{let F=a.pos-j;a.next();let Z=[],G=[],J=P>=o?P:-1,ae=0,oe=A;for(;a.pos>F;)J>=0&&a.id==J&&a.size>=0?(a.end<=oe-i&&(g(Z,G,v,ae,a.end,oe,J,V,U),ae=Z.length,oe=a.end),a.next()):R>2500?f(v,F,Z,G):h(v,F,Z,G,J,R+1);if(J>=0&&ae>0&&ae<Z.length&&g(Z,G,v,ae,v,oe,J,V,U),Z.reverse(),G.reverse(),J>-1&&ae>0){let re=m(W,U);D=eI(W,Z,G,0,Z.length,0,A-v,re,re)}else D=y(W,Z,G,A-v,V-A,U)}O.push(D),w.push(Y)}function f(C,Q,O,w){let k=[],R=0,P=-1;for(;a.pos>Q;){let{id:v,start:A,end:j,size:V}=a;if(V>4)a.next();else{if(P>-1&&A<P)break;P<0&&(P=j-i),k.push(v,A,j),R++,a.next()}}if(R){let v=new Uint16Array(R*4),A=k[k.length-2];for(let j=k.length-3,V=0;j>=0;j-=3)v[V++]=k[j],v[V++]=k[j+1]-A,v[V++]=k[j+2]-A,v[V++]=V;O.push(new af(v,k[2]-A,r)),w.push(A-C)}}function m(C,Q){return(O,w,k)=>{let R=0,P=O.length-1,v,A;if(P>=0&&(v=O[P])instanceof Ns){if(!P&&v.type==C&&v.length==k)return v;(A=v.prop(Kt.lookAhead))&&(R=w[P]+v.length+A)}return y(C,O,w,k,R,Q)}}function g(C,Q,O,w,k,R,P,v,A){let j=[],V=[];for(;C.length>w;)j.push(C.pop()),V.push(Q.pop()+O-k);C.push(y(r.types[P],j,V,R-k,v-R,A)),Q.push(k-O)}function y(C,Q,O,w,k,R,P){if(R){let v=[Kt.contextHash,R];P=P?[v].concat(P):[v]}if(k>25){let v=[Kt.lookAhead,k];P=P?[v].concat(P):[v]}return new Ns(C,Q,O,w,P)}function x(C,Q){let O=a.fork(),w=0,k=0,R=0,P=O.end-i,v={size:0,start:0,skip:0};e:for(let A=O.pos-C;O.pos>A;){let j=O.size;if(O.id==Q&&j>=0){v.size=w,v.start=k,v.skip=R,R+=4,w+=4,O.next();continue}let V=O.pos-j;if(j<0||V<A||O.start<P)break;let U=O.id>=o?4:0,W=O.start;for(O.next();O.pos>V;){if(O.size<0)if(O.size==-3)U+=4;else break e;else O.id>=o&&(U+=4);O.next()}k=W,w+=j,R+=U}return(Q<0||w==C)&&(v.size=w,v.start=k,v.skip=R),v.size>4?v:void 0}function S(C,Q,O){let{id:w,start:k,end:R,size:P}=a;if(a.next(),P>=0&&w<o){let v=O;if(P>4){let A=a.pos-(P-4);for(;a.pos>A;)O=S(C,Q,O)}Q[--O]=v,Q[--O]=R-C,Q[--O]=k-C,Q[--O]=w}else P==-3?c=w:P==-4&&(u=w);return O}let _=[],T=[];for(;a.pos>0;)h(n.start||0,n.bufferStart||0,_,T,-1,0);let I=(e=n.length)!==null&&e!==void 0?e:_.length?T[0]+_[0].length:0;return new Ns(l[n.topID],_.reverse(),T.reverse(),I)}const AV=new WeakMap;function Cv(n,e){if(!n.isAnonymous||e instanceof af||e.type!=n)return 1;let t=AV.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof Ns)){t=1;break}t+=Cv(n,r)}AV.set(e,t)}return t}function eI(n,e,t,r,i,s,o,a,l){let c=0;for(let g=r;g<i;g++)c+=Cv(n,e[g]);let u=Math.ceil(c*1.5/8),h=[],f=[];function m(g,y,x,S,_){for(let T=x;T<S;){let I=T,C=y[T],Q=Cv(n,g[T]);for(T++;T<S;T++){let O=Cv(n,g[T]);if(Q+O>=u)break;Q+=O}if(T==I+1){if(Q>u){let O=g[I];m(O.children,O.positions,0,O.children.length,y[I]+_);continue}h.push(g[I])}else{let O=y[T-1]+g[T-1].length-C;h.push(eI(n,g,y,I,T,C,O,null,l))}f.push(C+_-s)}}return m(e,t,r,i,0),(a||l)(h,f,o)}let Cxe=class{startParse(e,t,r){return typeof e=="string"&&(e=new Exe(e)),r=r?r.length?r.map(i=>new Ik(i.from,i.to)):[new Ik(0,0)]:[new Ik(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let s=i.advance();if(s)return s}}},Exe=class{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}};new Kt({perNode:!0});var RV={};class Rw{constructor(e,t,r,i,s,o,a,l,c,u=0,h){this.p=e,this.stack=t,this.state=r,this.reducePos=i,this.pos=s,this.score=o,this.buffer=a,this.bufferBase=l,this.curContext=c,this.lookAhead=u,this.parent=h}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,r=0){let i=e.parser.context;return new Rw(e,[],t,r,r,0,[],0,i?new QV(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let r=e>>19,i=e&65535,{parser:s}=this.p,o=this.reducePos<this.pos-25;o&&this.setLookAhead(this.pos);let a=s.dynamicPrecedence(i);if(a&&(this.score+=a),r==0){this.pushState(s.getGoto(this.state,i,!0),this.reducePos),i<s.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,o?8:4,!0),this.reduceContext(i,this.reducePos);return}let l=this.stack.length-(r-1)*3-(e&262144?6:0),c=l?this.stack[l-2]:this.p.ranges[0].from,u=this.reducePos-c;u>=2e3&&!(!((t=this.p.parser.nodeSet.types[i])===null||t===void 0)&&t.isAnonymous)&&(c==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=u):this.p.lastBigReductionSize<u&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=c,this.p.lastBigReductionSize=u));let h=l?this.stack[l-1]:0,f=this.bufferBase+this.buffer.length-h;if(i<s.minRepeatTerm||e&131072){let m=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,c,m,f+4,!0)}if(e&262144)this.state=this.stack[l];else{let m=this.stack[l-3];this.state=s.getGoto(m,i,!0)}for(;this.stack.length>l;)this.stack.pop();this.reduceContext(i,c)}storeNode(e,t,r,i=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,a=this.buffer.length;if(a==0&&o.parent&&(a=o.bufferBase-o.parent.bufferBase,o=o.parent),a>0&&o.buffer[a-4]==0&&o.buffer[a-1]>-1){if(t==r)return;if(o.buffer[a-2]>=t){o.buffer[a-2]=r;return}}}if(!s||this.pos==r)this.buffer.push(e,t,r,i);else{let o=this.buffer.length;if(o>0&&this.buffer[o-4]!=0){let a=!1;for(let l=o;l>0&&this.buffer[l-2]>r;l-=4)if(this.buffer[l-1]>=0){a=!0;break}if(a)for(;o>0&&this.buffer[o-2]>r;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,i>4&&(i-=4)}this.buffer[o]=e,this.buffer[o+1]=t,this.buffer[o+2]=r,this.buffer[o+3]=i}}shift(e,t,r,i){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=i,this.shiftContext(t,r),t<=this.p.parser.maxNode&&this.buffer.push(t,r,i,4);else{let s=e,{parser:o}=this.p;(i>this.pos||t<=o.maxNode)&&(this.pos=i,o.stateFlag(s,1)||(this.reducePos=i)),this.pushState(s,r),this.shiftContext(t,r),t<=o.maxNode&&this.buffer.push(t,r,i,4)}}apply(e,t,r,i){e&65536?this.reduce(e):this.shift(e,t,r,i)}useNode(e,t){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(t,i),this.buffer.push(r,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let r=e.buffer.slice(t),i=e.bufferBase+t;for(;e&&i==e.bufferBase;)e=e.parent;return new Rw(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,r?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new Axe(this);;){let r=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(r==0)return!1;if(!(r&65536))return!0;t.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let i=[];for(let s=0,o;s<t.length;s+=2)(o=t[s+1])!=this.state&&this.p.parser.hasAction(o,e)&&i.push(t[s],o);if(this.stack.length<120)for(let s=0;i.length<8&&s<t.length;s+=2){let o=t[s+1];i.some((a,l)=>l&1&&a==o)||i.push(t[s],o)}t=i}let r=[];for(let i=0;i<t.length&&r.length<4;i+=2){let s=t[i+1];if(s==this.state)continue;let o=this.split();o.pushState(s,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(t[i],this.pos),o.reducePos=this.pos,o.score-=200,r.push(o)}return r}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if(!(t&65536))return!1;if(!e.validAction(this.state,t)){let r=t>>19,i=t&65535,s=this.stack.length-r*3;if(s<0||e.getGoto(this.stack[s],i,!1)<0){let o=this.findForcedReduction();if(o==null)return!1;t=o}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],r=(i,s)=>{if(!t.includes(i))return t.push(i),e.allActions(i,o=>{if(!(o&393216))if(o&65536){let a=(o>>19)-s;if(a>1){let l=o&65535,c=this.stack.length-a*3;if(c>=0&&e.getGoto(this.stack[c],l,!1)>=0)return a<<19|65536|l}}else{let a=r(o,s+1);if(a!=null)return a}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new QV(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class QV{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class Axe{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=i}}class Qw{constructor(e,t,r){this.stack=e,this.pos=t,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new Qw(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new Qw(this.stack,this.pos,this.index)}}function om(n,e=Uint16Array){if(typeof n!="string")return n;let t=null;for(let r=0,i=0;r<n.length;){let s=0;for(;;){let o=n.charCodeAt(r++),a=!1;if(o==126){s=65535;break}o>=92&&o--,o>=34&&o--;let l=o-32;if(l>=46&&(l-=46,a=!0),s+=l,a)break;s*=46}t?t[i++]=s:t=new e(s)}return t}class Ev{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const IV=new Ev;class Rxe{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=IV,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let r=this.range,i=this.rangeIndex,s=this.pos+e;for(;s<r.from;){if(!i)return null;let o=this.ranges[--i];s-=r.from-o.to,r=o}for(;t<0?s>r.to:s>=r.to;){if(i==this.ranges.length-1)return null;let o=this.ranges[++i];s+=o.from-r.to,r=o}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,r,i;if(t>=0&&t<this.chunk.length)r=this.pos+e,i=this.chunk.charCodeAt(t);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(r=s,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let o=this.rangeIndex,a=this.range;for(;a.to<=r;)a=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-r)),i=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),i}acceptToken(e,t=0){let r=t?this.resolveOffset(t,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}acceptTokenTo(e,t){this.token.value=e,this.token.end=t}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=IV,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let r="";for(let i of this.ranges){if(i.from>=t)break;i.to>e&&(r+=this.input.read(Math.max(i.from,e),Math.min(i.to,t)))}return r}}class xd{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:r}=t.p;z9(this.data,e,t,this.id,r.data,r.tokenPrecTable)}}xd.prototype.contextual=xd.prototype.fallback=xd.prototype.extend=!1;class Iw{constructor(e,t,r){this.precTable=t,this.elseToken=r,this.data=typeof e=="string"?om(e):e}token(e,t){let r=e.pos,i=0;for(;;){let s=e.next<0,o=e.resolveOffset(1,1);if(z9(this.data,e,t,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(s||i++,o==null)break;e.reset(o,e.token)}i&&(e.reset(r,e.token),e.acceptToken(this.elseToken,i))}}Iw.prototype.contextual=xd.prototype.fallback=xd.prototype.extend=!1;class Or{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function z9(n,e,t,r,i,s){let o=0,a=1<<r,{dialect:l}=t.p.parser;e:for(;a&n[o];){let c=n[o+1];for(let m=o+3;m<c;m+=2)if((n[m+1]&a)>0){let g=n[m];if(l.allows(g)&&(e.token.value==-1||e.token.value==g||Qxe(g,e.token.value,i,s))){e.acceptToken(g);break}}let u=e.next,h=0,f=n[o+2];if(e.next<0&&f>h&&n[c+f*3-3]==65535){o=n[c+f*3-1];continue e}for(;h<f;){let m=h+f>>1,g=c+m+(m<<1),y=n[g],x=n[g+1]||65536;if(u<y)f=m;else if(u>=x)h=m+1;else{o=n[g+2],e.advance();continue e}}break}}function $V(n,e,t){for(let r=e,i;(i=n[r])!=65535;r++)if(i==t)return r-e;return-1}function Qxe(n,e,t,r){let i=$V(t,r,e);return i<0||$V(t,r,n)<i}const xi=typeof process<"u"&&RV&&/\bparse\b/.test(RV.LOG);let $k=null;function NV(n,e,t){let r=n.cursor(lr.IncludeAnonymous);for(r.moveTo(e);;)if(!(t<0?r.childBefore(e):r.childAfter(e)))for(;;){if((t<0?r.to<e:r.from>e)&&!r.type.isError)return t<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(n.length,Math.max(r.from+1,e+25));if(t<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return t<0?0:n.length}}let Ixe=class{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?NV(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?NV(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let r=this.trees[t],i=this.index[t];if(i==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=r.children[i],o=this.start[t]+r.positions[i];if(o>e)return this.nextStart=o,null;if(s instanceof Ns){if(o==e){if(o<this.safeFrom)return null;let a=o+s.length;if(a<=this.safeTo){let l=s.prop(Kt.lookAhead);if(!l||a+l<this.fragment.to)return s}}this.index[t]++,o+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(o),this.index.push(0))}else this.index[t]++,this.nextStart=o+s.length}}};class $xe{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new Ev)}getActions(e){let t=0,r=null,{parser:i}=e.p,{tokenizers:s}=i,o=i.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,l=0;for(let c=0;c<s.length;c++){if(!(1<<c&o))continue;let u=s[c],h=this.tokens[c];if(!(r&&!u.fallback)&&((u.contextual||h.start!=e.pos||h.mask!=o||h.context!=a)&&(this.updateCachedToken(h,u,e),h.mask=o,h.context=a),h.lookAhead>h.end+25&&(l=Math.max(h.lookAhead,l)),h.value!=0)){let f=t;if(h.extended>-1&&(t=this.addActions(e,h.extended,h.end,t)),t=this.addActions(e,h.value,h.end,t),!u.extend&&(r=h,t>f))break}}for(;this.actions.length>t;)this.actions.pop();return l&&e.setLookAhead(l),!r&&e.pos==this.stream.end&&(r=new Ev,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,t=this.addActions(e,r.value,r.end,t)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new Ev,{pos:r,p:i}=e;return t.start=r,t.end=Math.min(r+1,i.stream.end),t.value=r==i.stream.end?i.parser.eofTerm:0,t}updateCachedToken(e,t,r){let i=this.stream.clipPos(r.pos);if(t.token(this.stream.reset(i,e),r),e.value>-1){let{parser:s}=r.p;for(let o=0;o<s.specialized.length;o++)if(s.specialized[o]==e.value){let a=s.specializers[o](this.stream.read(e.start,e.end),r);if(a>=0&&r.p.parser.dialect.allows(a>>1)){a&1?e.extended=a>>1:e.value=a>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,t,r,i){for(let s=0;s<i;s+=3)if(this.actions[s]==e)return i;return this.actions[i++]=e,this.actions[i++]=t,this.actions[i++]=r,i}addActions(e,t,r,i){let{state:s}=e,{parser:o}=e.p,{data:a}=o;for(let l=0;l<2;l++)for(let c=o.stateSlot(s,l?2:1);;c+=3){if(a[c]==65535)if(a[c+1]==1)c=va(a,c+2);else{i==0&&a[c+1]==2&&(i=this.putAction(va(a,c+2),t,r,i));break}a[c]==t&&(i=this.putAction(va(a,c+1),t,r,i))}return i}}class Nxe{constructor(e,t,r,i){this.parser=e,this.input=t,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new Rxe(t,i),this.tokens=new $xe(e,this.stream),this.topTerm=e.top[1];let{from:s}=i[0];this.stacks=[Rw.start(this,e.top[0],s)],this.fragments=r.length&&this.stream.end-s>e.bufferLength*4?new Ixe(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,r=this.stacks=[],i,s;if(this.bigReductionCount>300&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let a=e[o];for(;;){if(this.tokens.mainToken=null,a.pos>t)r.push(a);else{if(this.advanceStack(a,r,e))continue;{i||(i=[],s=[]),i.push(a);let l=this.tokens.getMainToken(a);s.push(l.value,l.end)}}break}}if(!r.length){let o=i&&Dxe(i);if(o)return xi&&console.log("Finish with "+this.stackID(o)),this.stackToTree(o);if(this.parser.strict)throw xi&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&i){let o=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,s,r);if(o)return xi&&console.log("Force-finish "+this.stackID(o)),this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(r.length>o)for(r.sort((a,l)=>l.score-a.score);r.length>o;)r.pop();r.some(a=>a.reducePos>t)&&this.recovering--}else if(r.length>1){e:for(let o=0;o<r.length-1;o++){let a=r[o];for(let l=o+1;l<r.length;l++){let c=r[l];if(a.sameState(c)||a.buffer.length>500&&c.buffer.length>500)if((a.score-c.score||a.buffer.length-c.buffer.length)>0)r.splice(l--,1);else{r.splice(o--,1);continue e}}}r.length>12&&r.splice(12,r.length-12)}this.minStackPos=r[0].pos;for(let o=1;o<r.length;o++)r[o].pos<this.minStackPos&&(this.minStackPos=r[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,r){let i=e.pos,{parser:s}=this,o=xi?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let c=e.curContext&&e.curContext.tracker.strict,u=c?e.curContext.hash:0;for(let h=this.fragments.nodeAt(i);h;){let f=this.parser.nodeSet.types[h.type.id]==h.type?s.getGoto(e.state,h.type.id):-1;if(f>-1&&h.length&&(!c||(h.prop(Kt.contextHash)||0)==u))return e.useNode(h,f),xi&&console.log(o+this.stackID(e)+` (via reuse of ${s.getName(h.type.id)})`),!0;if(!(h instanceof Ns)||h.children.length==0||h.positions[0]>0)break;let m=h.children[0];if(m instanceof Ns&&h.positions[0]==0)h=m;else break}}let a=s.stateSlot(e.state,4);if(a>0)return e.reduce(a),xi&&console.log(o+this.stackID(e)+` (via always-reduce ${s.getName(a&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let c=0;c<l.length;){let u=l[c++],h=l[c++],f=l[c++],m=c==l.length||!r,g=m?e:e.split(),y=this.tokens.mainToken;if(g.apply(u,h,y?y.start:g.pos,f),xi&&console.log(o+this.stackID(g)+` (via ${u&65536?`reduce of ${s.getName(u&65535)}`:"shift"} for ${s.getName(h)} @ ${i}${g==e?"":", split"})`),m)return!0;g.pos>i?t.push(g):r.push(g)}return!1}advanceFully(e,t){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return jV(e,t),!0}}runRecovery(e,t,r){let i=null,s=!1;for(let o=0;o<e.length;o++){let a=e[o],l=t[o<<1],c=t[(o<<1)+1],u=xi?this.stackID(a)+" -> ":"";if(a.deadEnd&&(s||(s=!0,a.restart(),xi&&console.log(u+this.stackID(a)+" (restarted)"),this.advanceFully(a,r))))continue;let h=a.split(),f=u;for(let m=0;h.forceReduce()&&m<10&&(xi&&console.log(f+this.stackID(h)+" (via force-reduce)"),!this.advanceFully(h,r));m++)xi&&(f=this.stackID(h)+" -> ");for(let m of a.recoverByInsert(l))xi&&console.log(u+this.stackID(m)+" (via recover-insert)"),this.advanceFully(m,r);this.stream.end>a.pos?(c==a.pos&&(c++,l=0),a.recoverByDelete(l,c),xi&&console.log(u+this.stackID(a)+` (via recover-delete ${this.parser.getName(l)})`),jV(a,r)):(!i||i.score<a.score)&&(i=a)}return i}stackToTree(e){return e.close(),Ns.build({buffer:Qw.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=($k||($k=new WeakMap)).get(e);return t||$k.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function jV(n,e){for(let t=0;t<e.length;t++){let r=e[t];if(r.pos==n.pos&&r.sameState(n)){e[t].score<n.score&&(e[t]=n);return}}e.push(n)}class jxe{constructor(e,t,r){this.source=e,this.flags=t,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}const Nk=n=>n;class tI{constructor(e){this.start=e.start,this.shift=e.shift||Nk,this.reduce=e.reduce||Nk,this.reuse=e.reuse||Nk,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class Ka extends Cxe{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let a=0;a<e.repeatNodeCount;a++)t.push("");let r=Object.keys(e.topRules).map(a=>e.topRules[a][1]),i=[];for(let a=0;a<t.length;a++)i.push([]);function s(a,l,c){i[a].push([l,l.deserialize(String(c))])}if(e.nodeProps)for(let a of e.nodeProps){let l=a[0];typeof l=="string"&&(l=Kt[l]);for(let c=1;c<a.length;){let u=a[c++];if(u>=0)s(u,l,a[c++]);else{let h=a[c+-u];for(let f=-u;f>0;f--)s(a[c++],l,h);c++}}}this.nodeSet=new KQ(t.map((a,l)=>Ha.define({name:l>=this.minRepeatTerm?void 0:a,id:l,props:i[l],top:r.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=N9;let o=om(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map(DV),this.states=om(e.states,Uint32Array),this.data=om(e.stateData),this.goto=om(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(a=>typeof a=="number"?new xd(o,a):a),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,r){let i=new Nxe(this,e,t,r);for(let s of this.wrappers)i=s(i,e,t,r);return i}getGoto(e,t,r=!1){let i=this.goto;if(t>=i[0])return-1;for(let s=i[t+1];;){let o=i[s++],a=o&1,l=i[s++];if(a&&r)return l;for(let c=s+(o>>1);s<c;s++)if(i[s]==e)return l;if(a)return-1}}hasAction(e,t){let r=this.data;for(let i=0;i<2;i++)for(let s=this.stateSlot(e,i?2:1),o;;s+=3){if((o=r[s])==65535)if(r[s+1]==1)o=r[s=va(r,s+2)];else{if(r[s+1]==2)return va(r,s+2);break}if(o==t||o==0)return va(r,s+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,r=>r==t?!0:null)}allActions(e,t){let r=this.stateSlot(e,4),i=r?t(r):void 0;for(let s=this.stateSlot(e,1);i==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=va(this.data,s+2);else break;i=t(va(this.data,s+1))}return i}nextStates(e){let t=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=va(this.data,r+2);else break;if(!(this.data[r+2]&1)){let i=this.data[r+1];t.some((s,o)=>o&1&&s==i)||t.push(this.data[r],i)}}return t}configure(e){let t=Object.assign(Object.create(Ka.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=r}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(r=>{let i=e.tokenizers.find(s=>s.from==r);return i?i.to:r})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((r,i)=>{let s=e.specializers.find(a=>a.from==r.external);if(!s)return r;let o=Object.assign(Object.assign({},r),{external:s.to});return t.specializers[i]=DV(o),o})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),r=t.map(()=>!1);if(e)for(let s of e.split(" ")){let o=t.indexOf(s);o>=0&&(r[o]=!0)}let i=null;for(let s=0;s<t.length;s++)if(!r[s])for(let o=this.dialects[t[s]],a;(a=this.data[o++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[a]=1;return new jxe(e,r,i)}static deserialize(e){return new Ka(e)}}function va(n,e){return n[e]|n[e+1]<<16}function Dxe(n){let e=null;for(let t of n){let r=t.p.stoppedAt;(t.pos==t.p.stream.end||r!=null&&t.pos>r)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function DV(n){if(n.external){let e=n.extend?1:0;return(t,r)=>n.external(t,r)<<1|e}return n.get}const Mxe=314,Vxe=315,MV=1,Lxe=2,Uxe=3,zxe=4,qxe=316,Zxe=318,Fxe=319,Bxe=5,Wxe=6,Xxe=0,_C=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],q9=125,Gxe=59,TC=47,Yxe=42,Hxe=43,Kxe=45,Jxe=60,ewe=44,twe=63,nwe=46,rwe=91,iwe=new tI({start:!1,shift(n,e){return e==Bxe||e==Wxe||e==Zxe?n:e==Fxe},strict:!1}),swe=new Or((n,e)=>{let{next:t}=n;(t==q9||t==-1||e.context)&&n.acceptToken(qxe)},{contextual:!0,fallback:!0}),owe=new Or((n,e)=>{let{next:t}=n,r;_C.indexOf(t)>-1||t==TC&&((r=n.peek(1))==TC||r==Yxe)||t!=q9&&t!=Gxe&&t!=-1&&!e.context&&n.acceptToken(Mxe)},{contextual:!0}),awe=new Or((n,e)=>{n.next==rwe&&!e.context&&n.acceptToken(Vxe)},{contextual:!0}),lwe=new Or((n,e)=>{let{next:t}=n;if(t==Hxe||t==Kxe){if(n.advance(),t==n.next){n.advance();let r=!e.context&&e.canShift(MV);n.acceptToken(r?MV:Lxe)}}else t==twe&&n.peek(1)==nwe&&(n.advance(),n.advance(),(n.next<48||n.next>57)&&n.acceptToken(Uxe))},{contextual:!0});function jk(n,e){return n>=65&&n<=90||n>=97&&n<=122||n==95||n>=192||!e&&n>=48&&n<=57}const cwe=new Or((n,e)=>{if(n.next!=Jxe||!e.dialectEnabled(Xxe)||(n.advance(),n.next==TC))return;let t=0;for(;_C.indexOf(n.next)>-1;)n.advance(),t++;if(jk(n.next,!0)){for(n.advance(),t++;jk(n.next,!1);)n.advance(),t++;for(;_C.indexOf(n.next)>-1;)n.advance(),t++;if(n.next==ewe)return;for(let r=0;;r++){if(r==7){if(!jk(n.next,!0))return;break}if(n.next!="extends".charCodeAt(r))break;n.advance(),t++}}n.acceptToken(zxe,-t)}),uwe=Wi({"get set async static":N.modifier,"for while do if else switch try catch finally return throw break continue default case":N.controlKeyword,"in of await yield void typeof delete instanceof":N.operatorKeyword,"let var const using function class extends":N.definitionKeyword,"import export from":N.moduleKeyword,"with debugger as new":N.keyword,TemplateString:N.special(N.string),super:N.atom,BooleanLiteral:N.bool,this:N.self,null:N.null,Star:N.modifier,VariableName:N.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":N.function(N.variableName),VariableDefinition:N.definition(N.variableName),Label:N.labelName,PropertyName:N.propertyName,PrivatePropertyName:N.special(N.propertyName),"CallExpression/MemberExpression/PropertyName":N.function(N.propertyName),"FunctionDeclaration/VariableDefinition":N.function(N.definition(N.variableName)),"ClassDeclaration/VariableDefinition":N.definition(N.className),"NewExpression/VariableName":N.className,PropertyDefinition:N.definition(N.propertyName),PrivatePropertyDefinition:N.definition(N.special(N.propertyName)),UpdateOp:N.updateOperator,"LineComment Hashbang":N.lineComment,BlockComment:N.blockComment,Number:N.number,String:N.string,Escape:N.escape,ArithOp:N.arithmeticOperator,LogicOp:N.logicOperator,BitOp:N.bitwiseOperator,CompareOp:N.compareOperator,RegExp:N.regexp,Equals:N.definitionOperator,Arrow:N.function(N.punctuation),": Spread":N.punctuation,"( )":N.paren,"[ ]":N.squareBracket,"{ }":N.brace,"InterpolationStart InterpolationEnd":N.special(N.brace),".":N.derefOperator,", ;":N.separator,"@":N.meta,TypeName:N.typeName,TypeDefinition:N.definition(N.typeName),"type enum interface implements namespace module declare":N.definitionKeyword,"abstract global Privacy readonly override":N.modifier,"is keyof unique infer asserts":N.operatorKeyword,JSXAttributeValue:N.attributeValue,JSXText:N.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":N.angleBracket,"JSXIdentifier JSXNameSpacedName":N.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":N.attributeName,"JSXBuiltin/JSXIdentifier":N.standard(N.tagName)}),hwe={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,const:52,extends:56,this:60,true:68,false:68,null:80,void:84,typeof:88,super:104,new:138,delete:150,yield:159,await:163,class:168,public:231,private:231,protected:231,readonly:233,instanceof:252,satisfies:255,in:256,import:290,keyof:347,unique:351,infer:357,asserts:393,is:395,abstract:415,implements:417,type:419,let:422,var:424,using:427,interface:433,enum:437,namespace:443,module:445,declare:449,global:453,for:472,of:481,while:484,with:488,do:492,if:496,else:498,switch:502,case:508,try:514,catch:518,finally:522,return:526,throw:530,break:534,continue:538,debugger:542},dwe={__proto__:null,async:125,get:127,set:129,declare:191,public:193,private:193,protected:193,static:195,abstract:197,override:199,readonly:205,accessor:207,new:399},fwe={__proto__:null,"<":189},pwe=Ka.deserialize({version:14,states:"$EOQ%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#D_O.QQlO'#DeO.bQlO'#DpO%[QlO'#DxO0fQlO'#EQOOQ!0Lf'#EY'#EYO1PQ`O'#EVOOQO'#En'#EnOOQO'#Ij'#IjO1XQ`O'#GrO1dQ`O'#EmO1iQ`O'#EmO3hQ!0MxO'#JpO6[Q!0MxO'#JqO6uQ`O'#F[O6zQ,UO'#FsOOQ!0Lf'#Fe'#FeO7VO7dO'#FeO7eQMhO'#F{O9UQ`O'#FzOOQ!0Lf'#Jq'#JqOOQ!0Lb'#Jp'#JpO9ZQ`O'#GvOOQ['#K]'#K]O9fQ`O'#IWO9kQ!0LrO'#IXOOQ['#J^'#J^OOQ['#I]'#I]Q`QlOOQ`QlOOO9sQ!L^O'#DtO9zQlO'#D|O:RQlO'#EOO9aQ`O'#GrO:YQMhO'#CoO:hQ`O'#ElO:sQ`O'#EwO:xQMhO'#FdO;gQ`O'#GrOOQO'#K^'#K^O;lQ`O'#K^O;zQ`O'#GzO;zQ`O'#G{O;zQ`O'#G}O9aQ`O'#HQO<qQ`O'#HTO>YQ`O'#CeO>jQ`O'#HaO>rQ`O'#HgO>rQ`O'#HiO`QlO'#HkO>rQ`O'#HmO>rQ`O'#HpO>wQ`O'#HvO>|Q!0LsO'#H|O%[QlO'#IOO?XQ!0LsO'#IQO?dQ!0LsO'#ISO9kQ!0LrO'#IUO?oQ!0MxO'#CiO@qQpO'#DjQOQ`OOO%[QlO'#EOOAXQ`O'#ERO:YQMhO'#ElOAdQ`O'#ElOAoQ!bO'#FdOOQ['#Cg'#CgOOQ!0Lb'#Do'#DoOOQ!0Lb'#Jt'#JtO%[QlO'#JtOOQO'#Jw'#JwOOQO'#If'#IfOBoQpO'#EeOOQ!0Lb'#Ed'#EdOOQ!0Lb'#J{'#J{OCkQ!0MSO'#EeOCuQpO'#EUOOQO'#Jv'#JvODZQpO'#JwOEhQpO'#EUOCuQpO'#EePEuO&2DjO'#CbPOOO)CD{)CD{OOOO'#I^'#I^OFQO#tO,59UOOQ!0Lh,59U,59UOOOO'#I_'#I_OF`O&jO,59UOFnQ!L^O'#DaOOOO'#Ia'#IaOFuO#@ItO,59yOOQ!0Lf,59y,59yOGTQlO'#IbOGhQ`O'#JrOIgQ!fO'#JrO+}QlO'#JrOInQ`O,5:POJUQ`O'#EnOJcQ`O'#KROJnQ`O'#KQOJnQ`O'#KQOJvQ`O,5;[OJ{Q`O'#KPOOQ!0Ln,5:[,5:[OKSQlO,5:[OMQQ!0MxO,5:dOMqQ`O,5:lON[Q!0LrO'#KOONcQ`O'#J}O9ZQ`O'#J}ONwQ`O'#J}O! PQ`O,5;ZO! UQ`O'#J}O!#ZQ!fO'#JqOOQ!0Lh'#Ci'#CiO%[QlO'#EQO!#yQ!fO,5:qOOQS'#Jx'#JxOOQO-E<h-E<hO9aQ`O,5=^O!$aQ`O,5=^O!$fQlO,5;XO!&iQMhO'#EiO!(SQ`O,5;XO!(XQlO'#DwO!(cQpO,5;bO!(kQpO,5;bO%[QlO,5;bOOQ['#FS'#FSOOQ['#FU'#FUO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cOOQ['#FY'#FYO!(yQlO,5;sOOQ!0Lf,5;x,5;xOOQ!0Lf,5;y,5;yOOQ!0Lf,5;{,5;{O%[QlO'#InO!*|Q!0LrO,5<hO%[QlO,5;cO!&iQMhO,5;cO!+kQMhO,5;cO!-]QMhO'#E[O%[QlO,5;vOOQ!0Lf,5;z,5;zO!-dQ,UO'#FiO!.aQ,UO'#KVO!-{Q,UO'#KVO!.hQ,UO'#KVOOQO'#KV'#KVO!.|Q,UO,5<ROOOW,5<_,5<_O!/_QlO'#FuOOOW'#Im'#ImO7VO7dO,5<PO!/fQ,UO'#FwOOQ!0Lf,5<P,5<PO!0VQ$IUO'#CwOOQ!0Lh'#C{'#C{O!0jO#@ItO'#DPO!1WQMjO,5<dO!1_Q`O,5<gO!2zQ(CWO'#GWO!3XQ`O'#GXO!3^Q`O'#GXO!4|Q(CWO'#G]O!6RQpO'#GaOOQO'#Gm'#GmO!+rQMhO'#GlOOQO'#Go'#GoO!+rQMhO'#GnO!6tQ$IUO'#JjOOQ!0Lh'#Jj'#JjO!7OQ`O'#JiO!7^Q`O'#JhO!7fQ`O'#CuOOQ!0Lh'#Cy'#CyO!7qQ`O'#C{OOQ!0Lh'#DT'#DTOOQ!0Lh'#DV'#DVO1SQ`O'#DXO!+rQMhO'#GOO!+rQMhO'#GQO!7vQ`O'#GSO!7{Q`O'#GTO!3^Q`O'#GZO!+rQMhO'#G`O;zQ`O'#JiO!8QQ`O'#EoO!8oQ`O,5<fOOQ!0Lb'#Cr'#CrO!8wQ`O'#EpO!9qQpO'#EqOOQ!0Lb'#KP'#KPO!9xQ!0LrO'#K_O9kQ!0LrO,5=bO`QlO,5>rOOQ['#Jf'#JfOOQ[,5>s,5>sOOQ[-E<Z-E<ZO!;wQ!0MxO,5:`O!9lQpO,5:^O!>bQ!0MxO,5:hO%[QlO,5:hO!@xQ!0MxO,5:jOOQO,5@x,5@xO!AiQMhO,5=^O!AwQ!0LrO'#JgO9UQ`O'#JgO!BYQ!0LrO,59ZO!BeQpO,59ZO!BmQMhO,59ZO:YQMhO,59ZO!BxQ`O,5;XO!CQQ`O'#H`O!CfQ`O'#KbO%[QlO,5;|O!9lQpO,5<OO!CnQ`O,5=yO!CsQ`O,5=yO!CxQ`O,5=yO9kQ!0LrO,5=yO;zQ`O,5=iOOQO'#Cw'#CwO!DWQpO,5=fO!D`QMhO,5=gO!DkQ`O,5=iO!DpQ!bO,5=lO!DxQ`O'#K^O>wQ`O'#HVO9aQ`O'#HXO!D}Q`O'#HXO:YQMhO'#HZO!ESQ`O'#HZOOQ[,5=o,5=oO!EXQ`O'#H[O!EjQ`O'#CoO!EoQ`O,59PO!EyQ`O,59PO!HOQlO,59POOQ[,59P,59PO!H`Q!0LrO,59PO%[QlO,59PO!JkQlO'#HcOOQ['#Hd'#HdOOQ['#He'#HeO`QlO,5={O!KRQ`O,5={O`QlO,5>RO`QlO,5>TO!KWQ`O,5>VO`QlO,5>XO!K]Q`O,5>[O!KbQlO,5>bOOQ[,5>h,5>hO%[QlO,5>hO9kQ!0LrO,5>jOOQ[,5>l,5>lO# lQ`O,5>lOOQ[,5>n,5>nO# lQ`O,5>nOOQ[,5>p,5>pO#!YQpO'#D]O%[QlO'#JtO#!{QpO'#JtO##VQpO'#DkO##hQpO'#DkO#%yQlO'#DkO#&QQ`O'#JsO#&YQ`O,5:UO#&_Q`O'#ErO#&mQ`O'#KSO#&uQ`O,5;]O#&zQpO'#DkO#'XQpO'#ETOOQ!0Lf,5:m,5:mO%[QlO,5:mO#'`Q`O,5:mO>wQ`O,5;WO!BeQpO,5;WO!BmQMhO,5;WO:YQMhO,5;WO#'hQ`O,5@`O#'mQ07dO,5:qOOQO-E<d-E<dO#(sQ!0MSO,5;POCuQpO,5:pO#(}QpO,5:pOCuQpO,5;PO!BYQ!0LrO,5:pOOQ!0Lb'#Eh'#EhOOQO,5;P,5;PO%[QlO,5;PO#)[Q!0LrO,5;PO#)gQ!0LrO,5;PO!BeQpO,5:pOOQO,5;V,5;VO#)uQ!0LrO,5;PPOOO'#I['#I[P#*ZO&2DjO,58|POOO,58|,58|OOOO-E<[-E<[OOQ!0Lh1G.p1G.pOOOO-E<]-E<]OOOO,59{,59{O#*fQ!bO,59{OOOO-E<_-E<_OOQ!0Lf1G/e1G/eO#*kQ!fO,5>|O+}QlO,5>|OOQO,5?S,5?SO#*uQlO'#IbOOQO-E<`-E<`O#+SQ`O,5@^O#+[Q!fO,5@^O#+cQ`O,5@lOOQ!0Lf1G/k1G/kO%[QlO,5@mO#+kQ`O'#IhOOQO-E<f-E<fO#+cQ`O,5@lOOQ!0Lb1G0v1G0vOOQ!0Ln1G/v1G/vOOQ!0Ln1G0W1G0WO%[QlO,5@jO#,PQ!0LrO,5@jO#,bQ!0LrO,5@jO#,iQ`O,5@iO9ZQ`O,5@iO#,qQ`O,5@iO#-PQ`O'#IkO#,iQ`O,5@iOOQ!0Lb1G0u1G0uO!(cQpO,5:sO!(nQpO,5:sOOQS,5:u,5:uO#-qQdO,5:uO#-yQMhO1G2xO9aQ`O1G2xOOQ!0Lf1G0s1G0sO#.XQ!0MxO1G0sO#/^Q!0MvO,5;TOOQ!0Lh'#GV'#GVO#/zQ!0MzO'#JjO!$fQlO1G0sO#2VQ!fO'#JuO%[QlO'#JuO#2aQ`O,5:cOOQ!0Lh'#D]'#D]OOQ!0Lf1G0|1G0|O%[QlO1G0|OOQ!0Lf1G1e1G1eO#2fQ`O1G0|O#4zQ!0MxO1G0}O#5RQ!0MxO1G0}O#7iQ!0MxO1G0}O#7pQ!0MxO1G0}O#:WQ!0MxO1G0}O#<nQ!0MxO1G0}O#<uQ!0MxO1G0}O#<|Q!0MxO1G0}O#?dQ!0MxO1G0}O#?kQ!0MxO1G0}O#AxQ?MtO'#CiO#CsQ?MtO1G1_O#CzQ?MtO'#JqO#D_Q!0MxO,5?YOOQ!0Lb-E<l-E<lO#FlQ!0MxO1G0}O#GiQ!0MzO1G0}OOQ!0Lf1G0}1G0}O#HlQMjO'#JzO#HvQ`O,5:vO#H{Q!0MxO1G1bO#IoQ,UO,5<VO#IwQ,UO,5<WO#JPQ,UO'#FnO#JhQ`O'#FmOOQO'#KW'#KWOOQO'#Il'#IlO#JmQ,UO1G1mOOQ!0Lf1G1m1G1mOOOW1G1x1G1xO#KOQ?MtO'#JpO#KYQ`O,5<aO!(yQlO,5<aOOOW-E<k-E<kOOQ!0Lf1G1k1G1kO#K_QpO'#KVOOQ!0Lf,5<c,5<cO#KgQpO,5<cO#KlQMhO'#DROOOO'#I`'#I`O#KsO#@ItO,59kOOQ!0Lh,59k,59kO%[QlO1G2OO!7{Q`O'#IpO#LOQ`O,5<yOOQ!0Lh,5<v,5<vO!+rQMhO'#IsO#LlQMjO,5=WO!+rQMhO'#IuO#M_QMjO,5=YO!&iQMhO,5=[OOQO1G2R1G2RO#MiQ!dO'#CrO#M|Q(CWO'#EpO$ RQpO'#GaO$ iQ!dO,5<rO$ pQ`O'#KYO9ZQ`O'#KYO$!OQ`O,5<tO!+rQMhO,5<sO$!TQ`O'#GYO$!fQ`O,5<sO$!kQ!dO'#GVO$!xQ!dO'#KZO$#SQ`O'#KZO!&iQMhO'#KZO$#XQ`O,5<wO$#^QlO'#JtO$#hQpO'#GbO##hQpO'#GbO$#yQ`O'#GfO!3^Q`O'#GjO$$OQ!0LrO'#IrO$$ZQpO,5<{OOQ!0Lp,5<{,5<{O$$bQpO'#GbO$$oQpO'#GcO$%QQpO'#GcO$%VQMjO,5=WO$%gQMjO,5=YOOQ!0Lh,5=],5=]O!+rQMhO,5@TO!+rQMhO,5@TO$%wQ`O'#IwO$&VQ`O,5@SO$&_Q`O,59aOOQ!0Lh,59g,59gO$'UQ$IYO,59sOOQ!0Lh'#Jn'#JnO$'wQMjO,5<jO$(jQMjO,5<lO@iQ`O,5<nOOQ!0Lh,5<o,5<oO$(tQ`O,5<uO$(yQMjO,5<zO$)ZQ`O,5@TO$)iQ`O'#J}O!$fQlO1G2QO$)nQ`O1G2QO9ZQ`O'#KQO9ZQ`O'#ErO%[QlO'#ErO9ZQ`O'#IyO$)sQ!0LrO,5@yOOQ[1G2|1G2|OOQ[1G4^1G4^OOQ!0Lf1G/z1G/zOOQ!0Lf1G/x1G/xO$+uQ!0MxO1G0SOOQ[1G2x1G2xO!&iQMhO1G2xO%[QlO1G2xO#-|Q`O1G2xO$-yQMhO'#EiOOQ!0Lb,5@R,5@RO$.WQ!0LrO,5@ROOQ[1G.u1G.uO!BYQ!0LrO1G.uO!BeQpO1G.uO!BmQMhO1G.uO$.iQ`O1G0sO$.nQ`O'#CiO$.yQ`O'#KcO$/RQ`O,5=zO$/WQ`O'#KcO$/]Q`O'#KcO$/kQ`O'#JPO$/yQ`O,5@|O$0RQ!fO1G1hOOQ!0Lf1G1j1G1jO9aQ`O1G3eO@iQ`O1G3eO$0YQ`O1G3eO$0_Q`O1G3eOOQ[1G3e1G3eO!DkQ`O1G3TO!&iQMhO1G3QO$0dQ`O1G3QOOQ[1G3R1G3RO!&iQMhO1G3RO$0iQ`O1G3RO$0qQpO'#HPOOQ[1G3T1G3TO!5|QpO'#I{O!DpQ!bO1G3WOOQ[1G3W1G3WOOQ[,5=q,5=qO$0yQMhO,5=sO9aQ`O,5=sO$#yQ`O,5=uO9UQ`O,5=uO!BeQpO,5=uO!BmQMhO,5=uO:YQMhO,5=uO$1XQ`O'#KaO$1dQ`O,5=vOOQ[1G.k1G.kO$1iQ!0LrO1G.kO@iQ`O1G.kO$1tQ`O1G.kO9kQ!0LrO1G.kO$3|Q!fO,5AOO$4ZQ`O,5AOO9ZQ`O,5AOO$4fQlO,5=}O$4mQ`O,5=}OOQ[1G3g1G3gO`QlO1G3gOOQ[1G3m1G3mOOQ[1G3o1G3oO>rQ`O1G3qO$4rQlO1G3sO$8vQlO'#HrOOQ[1G3v1G3vO$9TQ`O'#HxO>wQ`O'#HzOOQ[1G3|1G3|O$9]QlO1G3|O9kQ!0LrO1G4SOOQ[1G4U1G4UOOQ!0Lb'#G^'#G^O9kQ!0LrO1G4WO9kQ!0LrO1G4YO$=dQ`O,5@`O!(yQlO,5;^O9ZQ`O,5;^O>wQ`O,5:VO!(yQlO,5:VO!BeQpO,5:VO$=iQ?MtO,5:VOOQO,5;^,5;^O$=sQpO'#IcO$>ZQ`O,5@_OOQ!0Lf1G/p1G/pO$>cQpO'#IiO$>mQ`O,5@nOOQ!0Lb1G0w1G0wO##hQpO,5:VOOQO'#Ie'#IeO$>uQpO,5:oOOQ!0Ln,5:o,5:oO#'cQ`O1G0XOOQ!0Lf1G0X1G0XO%[QlO1G0XOOQ!0Lf1G0r1G0rO>wQ`O1G0rO!BeQpO1G0rO!BmQMhO1G0rOOQ!0Lb1G5z1G5zO!BYQ!0LrO1G0[OOQO1G0k1G0kO%[QlO1G0kO$>|Q!0LrO1G0kO$?XQ!0LrO1G0kO!BeQpO1G0[OCuQpO1G0[O$?gQ!0LrO1G0kOOQO1G0[1G0[O$?{Q!0MxO1G0kPOOO-E<Y-E<YPOOO1G.h1G.hOOOO1G/g1G/gO$@VQ!bO,5<hO$@_Q!fO1G4hOOQO1G4n1G4nO%[QlO,5>|O$@iQ`O1G5xO$@qQ`O1G6WO$@yQ!fO1G6XO9ZQ`O,5?SO$ATQ!0MxO1G6UO%[QlO1G6UO$AeQ!0LrO1G6UO$AvQ`O1G6TO$AvQ`O1G6TO9ZQ`O1G6TO$BOQ`O,5?VO9ZQ`O,5?VOOQO,5?V,5?VO$BdQ`O,5?VO$)iQ`O,5?VOOQO-E<i-E<iOOQS1G0_1G0_OOQS1G0a1G0aO#-tQ`O1G0aOOQ[7+(d7+(dO!&iQMhO7+(dO%[QlO7+(dO$BrQ`O7+(dO$B}QMhO7+(dO$C]Q!0MzO,5=WO$EhQ!0MzO,5=YO$GsQ!0MzO,5=WO$JUQ!0MzO,5=YO$LgQ!0MzO,59sO$NlQ!0MzO,5<jO%!wQ!0MzO,5<lO%%SQ!0MzO,5<zOOQ!0Lf7+&_7+&_O%'eQ!0MxO7+&_O%(XQlO'#IdO%(fQ`O,5@aO%(nQ!fO,5@aOOQ!0Lf1G/}1G/}O%(xQ`O7+&hOOQ!0Lf7+&h7+&hO%(}Q?MtO,5:dO%[QlO7+&yO%)XQ?MtO,5:`O%)fQ?MtO,5:hO%)pQ?MtO,5:jO%)zQMhO'#IgO%*UQ`O,5@fOOQ!0Lh1G0b1G0bOOQO1G1q1G1qOOQO1G1r1G1rO%*^Q!jO,5<YO!(yQlO,5<XOOQO-E<j-E<jOOQ!0Lf7+'X7+'XOOOW7+'d7+'dOOOW1G1{1G1{O%*iQ`O1G1{OOQ!0Lf1G1}1G1}OOOO,59m,59mO%*nQ!dO,59mOOOO-E<^-E<^OOQ!0Lh1G/V1G/VO%*uQ!0MxO7+'jOOQ!0Lh,5?[,5?[O%+iQMhO1G2eP%+pQ`O'#IpPOQ!0Lh-E<n-E<nO%,^QMjO,5?_OOQ!0Lh-E<q-E<qO%-PQMjO,5?aOOQ!0Lh-E<s-E<sO%-ZQ!dO1G2vO%-bQ!dO'#CrO%-xQMhO'#KQO$#^QlO'#JtOOQ!0Lh1G2^1G2^O%.PQ`O'#IoO%.eQ`O,5@tO%.eQ`O,5@tO%.mQ`O,5@tO%.xQ`O,5@tOOQO1G2`1G2`O%/WQMjO1G2_O!+rQMhO1G2_O%/hQ(CWO'#IqO%/uQ`O,5@uO!&iQMhO,5@uO%/}Q!dO,5@uOOQ!0Lh1G2c1G2cO%2_Q!fO'#CiO%2iQ`O,5=OOOQ!0Lb,5<|,5<|O%2qQpO,5<|OOQ!0Lb,5<},5<}OCfQ`O,5<|O%2|QpO,5<|OOQ!0Lb,5=Q,5=QO$)iQ`O,5=UOOQO,5?^,5?^OOQO-E<p-E<pOOQ!0Lp1G2g1G2gO##hQpO,5<|O$#^QlO,5=OO%3[Q`O,5<}O%3gQpO,5<}O!+rQMhO'#IsO%4aQMjO1G2rO!+rQMhO'#IuO%5SQMjO1G2tO%5^QMjO1G5oO%5hQMjO1G5oOOQO,5?c,5?cOOQO-E<u-E<uOOQO1G.{1G.{O!9lQpO,59uO%[QlO,59uOOQ!0Lh,5<i,5<iO%5uQ`O1G2YO!+rQMhO1G2aO!+rQMhO1G5oO!+rQMhO1G5oO%5zQ!0MxO7+'lOOQ!0Lf7+'l7+'lO!$fQlO7+'lO%6nQ`O,5;^OOQ!0Lb,5?e,5?eOOQ!0Lb-E<w-E<wO%6sQ!dO'#K[O#'cQ`O7+(dO4UQ!fO7+(dO$BuQ`O7+(dO%6}Q!0MvO'#CiO%7nQ!0LrO,5=RO%8PQ!0MvO,5=RO%8dQ`O,5=ROOQ!0Lb1G5m1G5mOOQ[7+$a7+$aO!BYQ!0LrO7+$aO!BeQpO7+$aO!$fQlO7+&_O%8lQ`O'#JOO%9TQ`O,5@}OOQO1G3f1G3fO9aQ`O,5@}O%9TQ`O,5@}O%9]Q`O,5@}OOQO,5?k,5?kOOQO-E<}-E<}OOQ!0Lf7+'S7+'SO%9bQ`O7+)PO9kQ!0LrO7+)PO9aQ`O7+)PO@iQ`O7+)POOQ[7+(o7+(oO%9gQ!0MvO7+(lO!&iQMhO7+(lO!DfQ`O7+(mOOQ[7+(m7+(mO!&iQMhO7+(mO%9qQ`O'#K`O%9|Q`O,5=kOOQO,5?g,5?gOOQO-E<y-E<yOOQ[7+(r7+(rO%;`QpO'#HYOOQ[1G3_1G3_O!&iQMhO1G3_O%[QlO1G3_O%;gQ`O1G3_O%;rQMhO1G3_O9kQ!0LrO1G3aO$#yQ`O1G3aO9UQ`O1G3aO!BeQpO1G3aO!BmQMhO1G3aO%<QQ`O'#I}O%<fQ`O,5@{O%<nQpO,5@{OOQ!0Lb1G3b1G3bOOQ[7+$V7+$VO@iQ`O7+$VO9kQ!0LrO7+$VO%<yQ`O7+$VO%[QlO1G6jO%[QlO1G6kO%=OQ!0LrO1G6jO%=YQlO1G3iO%=aQ`O1G3iO%=fQlO1G3iOOQ[7+)R7+)RO9kQ!0LrO7+)]O`QlO7+)_OOQ['#Kf'#KfOOQ['#JQ'#JQO%=mQlO,5>^OOQ[,5>^,5>^O%[QlO'#HsO%=zQ`O'#HuOOQ[,5>d,5>dO9ZQ`O,5>dOOQ[,5>f,5>fOOQ[7+)h7+)hOOQ[7+)n7+)nOOQ[7+)r7+)rOOQ[7+)t7+)tO%>PQpO1G5zO%>kQ?MtO1G0xO%>uQ`O1G0xOOQO1G/q1G/qO%?QQ?MtO1G/qO>wQ`O1G/qO!(yQlO'#DkOOQO,5>},5>}OOQO-E<a-E<aOOQO,5?T,5?TOOQO-E<g-E<gO!BeQpO1G/qOOQO-E<c-E<cOOQ!0Ln1G0Z1G0ZOOQ!0Lf7+%s7+%sO#'cQ`O7+%sOOQ!0Lf7+&^7+&^O>wQ`O7+&^O!BeQpO7+&^OOQO7+%v7+%vO$?{Q!0MxO7+&VOOQO7+&V7+&VO%[QlO7+&VO%?[Q!0LrO7+&VO!BYQ!0LrO7+%vO!BeQpO7+%vO%?gQ!0LrO7+&VO%?uQ!0MxO7++pO%[QlO7++pO%@VQ`O7++oO%@VQ`O7++oOOQO1G4q1G4qO9ZQ`O1G4qO%@_Q`O1G4qOOQS7+%{7+%{O#'cQ`O<<LOO4UQ!fO<<LOO%@mQ`O<<LOOOQ[<<LO<<LOO!&iQMhO<<LOO%[QlO<<LOO%@uQ`O<<LOO%AQQ!0MzO,5?_O%C]Q!0MzO,5?aO%EhQ!0MzO1G2_O%GyQ!0MzO1G2rO%JUQ!0MzO1G2tO%LaQ!fO,5?OO%[QlO,5?OOOQO-E<b-E<bO%LkQ`O1G5{OOQ!0Lf<<JS<<JSO%LsQ?MtO1G0sO%NzQ?MtO1G0}O& RQ?MtO1G0}O&#SQ?MtO1G0}O&#ZQ?MtO1G0}O&%[Q?MtO1G0}O&']Q?MtO1G0}O&'dQ?MtO1G0}O&'kQ?MtO1G0}O&)lQ?MtO1G0}O&)sQ?MtO1G0}O&)zQ!0MxO<<JeO&+rQ?MtO1G0}O&,oQ?MvO1G0}O&-rQ?MvO'#JjO&/xQ?MtO1G1bO&0VQ?MtO1G0SO&0aQMjO,5?ROOQO-E<e-E<eO!(yQlO'#FpOOQO'#KX'#KXOOQO1G1t1G1tO&0kQ`O1G1sO&0pQ?MtO,5?YOOOW7+'g7+'gOOOO1G/X1G/XO&0zQ!dO1G4vOOQ!0Lh7+(P7+(PP!&iQMhO,5?[O!+rQMhO7+(bO&1RQ`O,5?ZO9ZQ`O,5?ZOOQO-E<m-E<mO&1aQ`O1G6`O&1aQ`O1G6`O&1iQ`O1G6`O&1tQMjO7+'yO&2UQ!dO,5?]O&2`Q`O,5?]O!&iQMhO,5?]OOQO-E<o-E<oO&2eQ!dO1G6aO&2oQ`O1G6aO&2wQ`O1G2jO!&iQMhO1G2jOOQ!0Lb1G2h1G2hOOQ!0Lb1G2i1G2iO%2qQpO1G2hO!BeQpO1G2hOCfQ`O1G2hOOQ!0Lb1G2p1G2pO&2|QpO1G2hO&3[Q`O1G2jO$)iQ`O1G2iOCfQ`O1G2iO$#^QlO1G2jO&3dQ`O1G2iO&4WQMjO,5?_OOQ!0Lh-E<r-E<rO&4yQMjO,5?aOOQ!0Lh-E<t-E<tO!+rQMhO7++ZOOQ!0Lh1G/a1G/aO&5TQ`O1G/aOOQ!0Lh7+'t7+'tO&5YQMjO7+'{O&5jQMjO7++ZO&5tQMjO7++ZO&6RQ!0MxO<<KWOOQ!0Lf<<KW<<KWO&6uQ`O1G0xO!&iQMhO'#IxO&6zQ`O,5@vO&8|Q!fO<<LOO!&iQMhO1G2mO&9TQ!0LrO1G2mOOQ[<<G{<<G{O!BYQ!0LrO<<G{O&9fQ!0MxO<<IyOOQ!0Lf<<Iy<<IyOOQO,5?j,5?jO&:YQ`O,5?jO&:_Q`O,5?jOOQO-E<|-E<|O&:mQ`O1G6iO&:mQ`O1G6iO9aQ`O1G6iO@iQ`O<<LkOOQ[<<Lk<<LkO&:uQ`O<<LkO9kQ!0LrO<<LkOOQ[<<LW<<LWO%9gQ!0MvO<<LWOOQ[<<LX<<LXO!DfQ`O<<LXO&:zQpO'#IzO&;VQ`O,5@zO!(yQlO,5@zOOQ[1G3V1G3VOOQO'#I|'#I|O9kQ!0LrO'#I|O&;_QpO,5=tOOQ[,5=t,5=tO&;fQpO'#EeO&;mQpO'#GdO&;rQ`O7+(yO&;wQ`O7+(yOOQ[7+(y7+(yO!&iQMhO7+(yO%[QlO7+(yO&<PQ`O7+(yOOQ[7+({7+({O9kQ!0LrO7+({O$#yQ`O7+({O9UQ`O7+({O!BeQpO7+({O&<[Q`O,5?iOOQO-E<{-E<{OOQO'#H]'#H]O&<gQ`O1G6gO9kQ!0LrO<<GqOOQ[<<Gq<<GqO@iQ`O<<GqO&<oQ`O7+,UO&<tQ`O7+,VO%[QlO7+,UO%[QlO7+,VOOQ[7+)T7+)TO&<yQ`O7+)TO&=OQlO7+)TO&=VQ`O7+)TOOQ[<<Lw<<LwOOQ[<<Ly<<LyOOQ[-E=O-E=OOOQ[1G3x1G3xO&=[Q`O,5>_OOQ[,5>a,5>aO&=aQ`O1G4OO9ZQ`O7+&dO!(yQlO7+&dOOQO7+%]7+%]O&=fQ?MtO1G6XO>wQ`O7+%]OOQ!0Lf<<I_<<I_OOQ!0Lf<<Ix<<IxO>wQ`O<<IxOOQO<<Iq<<IqO$?{Q!0MxO<<IqO%[QlO<<IqOOQO<<Ib<<IbO!BYQ!0LrO<<IbO&=pQ!0LrO<<IqO&={Q!0MxO<= [O&>]Q`O<= ZOOQO7+*]7+*]O9ZQ`O7+*]OOQ[ANAjANAjO&>eQ!fOANAjO!&iQMhOANAjO#'cQ`OANAjO4UQ!fOANAjO&>lQ`OANAjO%[QlOANAjO&>tQ!0MzO7+'yO&AVQ!0MzO,5?_O&CbQ!0MzO,5?aO&EmQ!0MzO7+'{O&HOQ!fO1G4jO&HYQ?MtO7+&_O&J^Q?MvO,5=WO&LeQ?MvO,5=YO&LuQ?MvO,5=WO&MVQ?MvO,5=YO&MgQ?MvO,59sO' mQ?MvO,5<jO'#pQ?MvO,5<lO'&UQ?MvO,5<zO''zQ?MtO7+'jO'(XQ?MtO7+'lO'(fQ`O,5<[OOQO7+'_7+'_OOQ!0Lh7+*b7+*bO'(kQMjO<<K|OOQO1G4u1G4uO'(rQ`O1G4uO'(}Q`O1G4uO')]Q`O7++zO')]Q`O7++zO!&iQMhO1G4wO')eQ!dO1G4wO')oQ`O7++{O')wQ`O7+(UO'*SQ!dO7+(UOOQ!0Lb7+(S7+(SOOQ!0Lb7+(T7+(TO!BeQpO7+(SOCfQ`O7+(SO'*^Q`O7+(UO!&iQMhO7+(UO$)iQ`O7+(TO'*cQ`O7+(UOCfQ`O7+(TO'*kQMjO<<NuOOQ!0Lh7+${7+${O!+rQMhO<<NuO'*uQ!dO,5?dOOQO-E<v-E<vO'+PQ!0MvO7+(XO!&iQMhO7+(XOOQ[AN=gAN=gO9aQ`O1G5UOOQO1G5U1G5UO'+aQ`O1G5UO'+fQ`O7+,TO'+fQ`O7+,TO9kQ!0LrOANBVO@iQ`OANBVOOQ[ANBVANBVOOQ[ANArANArOOQ[ANAsANAsO'+nQ`O,5?fOOQO-E<x-E<xO'+yQ?MtO1G6fOOQO,5?h,5?hOOQO-E<z-E<zOOQ[1G3`1G3`O',TQ`O,5=OOOQ[<<Le<<LeO!&iQMhO<<LeO&;rQ`O<<LeO',YQ`O<<LeO%[QlO<<LeOOQ[<<Lg<<LgO9kQ!0LrO<<LgO$#yQ`O<<LgO9UQ`O<<LgO',bQpO1G5TO',mQ`O7+,ROOQ[AN=]AN=]O9kQ!0LrOAN=]OOQ[<= p<= pOOQ[<= q<= qO',uQ`O<= pO',zQ`O<= qOOQ[<<Lo<<LoO'-PQ`O<<LoO'-UQlO<<LoOOQ[1G3y1G3yO>wQ`O7+)jO'-]Q`O<<JOO'-hQ?MtO<<JOOOQO<<Hw<<HwOOQ!0LfAN?dAN?dOOQOAN?]AN?]O$?{Q!0MxOAN?]OOQOAN>|AN>|O%[QlOAN?]OOQO<<Mw<<MwOOQ[G27UG27UO!&iQMhOG27UO#'cQ`OG27UO'-rQ!fOG27UO4UQ!fOG27UO'-yQ`OG27UO'.RQ?MtO<<JeO'.`Q?MvO1G2_O'0UQ?MvO,5?_O'2XQ?MvO,5?aO'4[Q?MvO1G2rO'6_Q?MvO1G2tO'8bQ?MtO<<KWO'8oQ?MtO<<IyOOQO1G1v1G1vO!+rQMhOANAhOOQO7+*a7+*aO'8|Q`O7+*aO'9XQ`O<= fO'9aQ!dO7+*cOOQ!0Lb<<Kp<<KpO$)iQ`O<<KpOCfQ`O<<KpO'9kQ`O<<KpO!&iQMhO<<KpOOQ!0Lb<<Kn<<KnO!BeQpO<<KnO'9vQ!dO<<KpOOQ!0Lb<<Ko<<KoO':QQ`O<<KpO!&iQMhO<<KpO$)iQ`O<<KoO':VQMjOANDaO':aQ!0MvO<<KsOOQO7+*p7+*pO9aQ`O7+*pO':qQ`O<= oOOQ[G27qG27qO9kQ!0LrOG27qO!(yQlO1G5QO':yQ`O7+,QO';RQ`O1G2jO&;rQ`OANBPOOQ[ANBPANBPO!&iQMhOANBPO';WQ`OANBPOOQ[ANBRANBRO9kQ!0LrOANBRO$#yQ`OANBROOQO'#H^'#H^OOQO7+*o7+*oOOQ[G22wG22wOOQ[ANE[ANE[OOQ[ANE]ANE]OOQ[ANBZANBZO';`Q`OANBZOOQ[<<MU<<MUO!(yQlOAN?jOOQOG24wG24wO$?{Q!0MxOG24wO#'cQ`OLD,pOOQ[LD,pLD,pO!&iQMhOLD,pO';eQ!fOLD,pO';lQ?MvO7+'yO'=bQ?MvO,5?_O'?eQ?MvO,5?aO'AhQ?MvO7+'{O'C^QMjOG27SOOQO<<M{<<M{OOQ!0LbANA[ANA[O$)iQ`OANA[OCfQ`OANA[O'CnQ!dOANA[OOQ!0LbANAYANAYO'CuQ`OANA[O!&iQMhOANA[O'DQQ!dOANA[OOQ!0LbANAZANAZOOQO<<N[<<N[OOQ[LD-]LD-]O'D[Q?MtO7+*lOOQO'#Ge'#GeOOQ[G27kG27kO&;rQ`OG27kO!&iQMhOG27kOOQ[G27mG27mO9kQ!0LrOG27mOOQ[G27uG27uO'DfQ?MtOG25UOOQOLD*cLD*cOOQ[!$(![!$(![O#'cQ`O!$(![O!&iQMhO!$(![O'DpQ!0MzOG27SOOQ!0LbG26vG26vO$)iQ`OG26vO'GRQ`OG26vOCfQ`OG26vO'G^Q!dOG26vO!&iQMhOG26vOOQ[LD-VLD-VO&;rQ`OLD-VOOQ[LD-XLD-XOOQ[!)9Ev!)9EvO#'cQ`O!)9EvOOQ!0LbLD,bLD,bO$)iQ`OLD,bOCfQ`OLD,bO'GeQ`OLD,bO'GpQ!dOLD,bOOQ[!$(!q!$(!qOOQ[!.K;b!.K;bO'GwQ?MvOG27SOOQ!0Lb!$( |!$( |O$)iQ`O!$( |OCfQ`O!$( |O'ImQ`O!$( |OOQ!0Lb!)9Eh!)9EhO$)iQ`O!)9EhOCfQ`O!)9EhOOQ!0Lb!.K;S!.K;SO$)iQ`O!.K;SOOQ!0Lb!4/0n!4/0nO!(yQlO'#DxO1PQ`O'#EVO'IxQ!fO'#JpO'JPQ!L^O'#DtO'JWQlO'#D|O'J_Q!fO'#CiO'LuQ!fO'#CiO!(yQlO'#EOO'MVQlO,5;XO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO'#InO( YQ`O,5<hO!(yQlO,5;cO( bQMhO,5;cO(!{QMhO,5;cO!(yQlO,5;vO!&iQMhO'#GlO( bQMhO'#GlO!&iQMhO'#GnO( bQMhO'#GnO1SQ`O'#DXO1SQ`O'#DXO!&iQMhO'#GOO( bQMhO'#GOO!&iQMhO'#GQO( bQMhO'#GQO!&iQMhO'#G`O( bQMhO'#G`O!(yQlO,5:hO(#SQpO'#D]O(#^QpO'#JtO!(yQlO,5@mO'MVQlO1G0sO(#hQ?MtO'#CiO!(yQlO1G2OO!&iQMhO'#IsO( bQMhO'#IsO!&iQMhO'#IuO( bQMhO'#IuO(#rQ!dO'#CrO!&iQMhO,5<sO( bQMhO,5<sO'MVQlO1G2QO!(yQlO7+&yO!&iQMhO1G2_O( bQMhO1G2_O!&iQMhO'#IsO( bQMhO'#IsO!&iQMhO'#IuO( bQMhO'#IuO!&iQMhO1G2aO( bQMhO1G2aO'MVQlO7+'lO'MVQlO7+&_O!&iQMhOANAhO( bQMhOANAhO($VQ`O'#EmO($[Q`O'#EmO($dQ`O'#F[O($iQ`O'#EwO($nQ`O'#KRO($yQ`O'#KPO(%UQ`O,5;XO(%ZQMjO,5<dO(%bQ`O'#GXO(%gQ`O'#GXO(%lQ`O,5<fO(%tQ`O,5;XO(%|Q?MtO1G1_O(&TQ`O,5<sO(&YQ`O,5<sO(&_Q`O,5<uO(&dQ`O,5<uO(&iQ`O1G2QO(&nQ`O1G0sO(&sQMjO<<K|O(&zQMjO<<K|O7eQMhO'#F{O9UQ`O'#FzOAdQ`O'#ElO!(yQlO,5;sO!3^Q`O'#GXO!3^Q`O'#GXO!3^Q`O'#GZO!3^Q`O'#GZO!+rQMhO7+(bO!+rQMhO7+(bO%-ZQ!dO1G2vO%-ZQ!dO1G2vO!&iQMhO,5=[O!&iQMhO,5=[",stateData:"((P~O'zOS'{OSTOS'|RQ~OPYOQYOSfOY!VOaqOdzOeyOj!POnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]XO!guO!jZO!mYO!nYO!oYO!qvO!swO!vxO!z]O$V|O$miO%g}O%i!QO%k!OO%l!OO%m!OO%p!RO%r!SO%u!TO%v!TO%x!UO&U!WO&[!XO&^!YO&`!ZO&b![O&e!]O&k!^O&q!_O&s!`O&u!aO&w!bO&y!cO(RSO(TTO(WUO(_VO(m[O~OWtO~P`OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(R!dO(TTO(WUO(_VO(m[O~Oa!wOq!nO!Q!oO!`!yO!a!vO!b!vO!z;wO#R!pO#S!pO#T!xO#U!pO#V!pO#Y!zO#Z!zO(S!lO(TTO(WUO(c!mO(m!sO~O'|!{O~OP]XR]X[]Xa]Xp]X!O]X!Q]X!Z]X!j]X!n]X#P]X#Q]X#^]X#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X'x]X(_]X(p]X(w]X(x]X~O!e%QX~P(qO_!}O(T#PO(U!}O(V#PO~O_#QO(V#PO(W#PO(X#QO~Ov#SO!S#TO(`#TO(a#VO~OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(R;{O(TTO(WUO(_VO(m[O~O!Y#ZO!Z#WO!W(fP!W(tP~P+}O![#cO~P`OPYOQYOSfOd!jOe!iOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(TTO(WUO(_VO(m[O~On#mO!Y#iO!z]O#g#lO#h#iO(R;|O!i(qP~P.iO!j#oO(R#nO~O!v#sO!z]O%g#tO~O#i#uO~O!e#vO#i#uO~OP$[OR#zO[$cOp$aO!O#yO!Q#{O!Z$_O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO#y$WO#z$XO(_VO(p$YO(w#|O(x#}O~Oa(dX'x(dX'u(dX!i(dX!W(dX!](dX%h(dX!e(dX~P1qO#Q$dO#^$eO$P$eOP(eXR(eX[(eXp(eX!O(eX!Q(eX!Z(eX!j(eX!n(eX#P(eX#l(eX#m(eX#n(eX#o(eX#p(eX#q(eX#r(eX#s(eX#t(eX#u(eX#w(eX#y(eX#z(eX(_(eX(p(eX(w(eX(x(eX!](eX%h(eX~Oa(eX'x(eX'u(eX!W(eX!i(eXt(eX!e(eX~P4UO#^$eO~O$[$hO$^$gO$e$mO~OSfO!]$nO$h$oO$j$qO~Oh%VOj%cOn%WOp%XOq$tOr$tOx%YOz%ZO|%[O!Q${O!]$|O!g%aO!j$xO#h%bO$V%_O$s%]O$u%^O$x%`O(R$sO(TTO(WUO(_$uO(w$}O(x%POg([P~O!j%dO~O!Q%gO!]%hO(R%fO~O!e%lO~Oa%mO'x%mO~O!O%qO~P%[O(S!lO~P%[O%m%uO~P%[Oh%VO!j%dO(R%fO(S!lO~Oe%|O!j%dO(R%fO~O#t$RO~O!O&RO!]&OO!j&QO%i&UO(R%fO(S!lO(TTO(WUO`)UP~O!v#sO~O%r&WO!Q)QX!])QX(R)QX~O(R&XO~Oj!PO!s&^O%i!QO%k!OO%l!OO%m!OO%p!RO%r!SO%u!TO%v!TO~Od&cOe&bO!v&`O%g&aO%z&_O~P<POd&fOeyOj!PO!]&eO!s&^O!vxO!z]O%g}O%k!OO%l!OO%m!OO%p!RO%r!SO%u!TO%v!TO%x!UO~Ob&iO#^&lO%i&gO(S!lO~P=UO!j&mO!s&qO~O!j#oO~O!]XO~Oa%mO'v&yO'x%mO~Oa%mO'v&|O'x%mO~Oa%mO'v'OO'x%mO~O'u]X!W]Xt]X!i]X&Y]X!]]X%h]X!e]X~P(qO!`']O!a'UO!b'UO(S!lO(TTO(WUO~Oq'SO!Q'RO!Y'VO(c'QO![(gP![(vP~P@]Ol'`O!]'^O(R%fO~Oe'eO!j%dO(R%fO~O!O&RO!j&QO~Oq!nO!Q!oO!z;wO#R!pO#S!pO#U!pO#V!pO(S!lO(TTO(WUO(c!mO(m!sO~O!`'kO!a'jO!b'jO#T!pO#Y'lO#Z'lO~PAwOa%mOh%VO!e#vO!j%dO'x%mO(p'nO~O!n'rO#^'pO~PCVOq!nO!Q!oO(TTO(WUO(c!mO(m!sO~O!]XOq(kX!Q(kX!`(kX!a(kX!b(kX!z(kX#R(kX#S(kX#T(kX#U(kX#V(kX#Y(kX#Z(kX(S(kX(T(kX(W(kX(c(kX(m(kX~O!a'jO!b'jO(S!lO~PCuO'}'vO(O'vO(P'xO~O_!}O(T'zO(U!}O(V'zO~O_#QO(V'zO(W'zO(X#QO~Ot'|O~P%[Ov#SO!S#TO(`#TO(a(PO~O!Y(RO!W'UX!W'[X!Z'UX!Z'[X~P+}O!Z(TO!W(fX~OP$[OR#zO[$cOp$aO!O#yO!Q#{O!Z(TO!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO#y$WO#z$XO(_VO(p$YO(w#|O(x#}O~O!W(fX~PGpO!W(YO~O!W(sX!Z(sX!e(sX!i(sX(p(sX~O#^(sX#i#bX![(sX~PIsO#^(ZO!W(uX!Z(uX~O!Z([O!W(tX~O!W(_O~O#^$eO~PIsO![(`O~P`OR#zO!O#yO!Q#{O!j#xO(_VOP!la[!lap!la!Z!la!n!la#P!la#l!la#m!la#n!la#o!la#p!la#q!la#r!la#s!la#t!la#u!la#w!la#y!la#z!la(p!la(w!la(x!la~Oa!la'x!la'u!la!W!la!i!lat!la!]!la%h!la!e!la~PKZO!i(aO~O!e#vO#^(bO(p'nO!Z(rXa(rX'x(rX~O!i(rX~PMvO!Q%gO!]%hO!z]O#g(gO#h(fO(R%fO~O!Z(hO!i(qX~O!i(jO~O!Q%gO!]%hO#h(fO(R%fO~OP(eXR(eX[(eXp(eX!O(eX!Q(eX!Z(eX!j(eX!n(eX#P(eX#l(eX#m(eX#n(eX#o(eX#p(eX#q(eX#r(eX#s(eX#t(eX#u(eX#w(eX#y(eX#z(eX(_(eX(p(eX(w(eX(x(eX~O!e#vO!i(eX~P! dOR(lO!O(kO!j#xO#Q$dO!z!ya!Q!ya~O!v!ya%g!ya!]!ya#g!ya#h!ya(R!ya~P!#eO!v(pO~OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]XO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(R!dO(TTO(WUO(_VO(m[O~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<eO!Q${O!]$|O!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(R(tO(TTO(WUO(_$uO(w$}O(x%PO~O#i(vO~O!Y(xO!i(iP~P%[O(c(zO(m[O~O!Q(|O!j#xO(c(zO(m[O~OP;vOQ;vOSfOd=rOe!iOnkOp;vOqkOrkOxkOz;vO|;vO!QWO!UkO!VkO!]!eO!g;yO!jZO!m;vO!n;vO!o;vO!q;zO!s;}O!v!hO$V!kO$m=pO(R)ZO(TTO(WUO(_VO(m[O~O!Z$_Oa$pa'x$pa'u$pa!i$pa!W$pa!]$pa%h$pa!e$pa~Oj)bO~P!&iOh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|%[O!Q${O!]$|O!g%aO!j$xO#h%bO$V%_O$s%]O$u%^O$x%`O(R(tO(TTO(WUO(_$uO(w$}O(x%PO~Og(nP~P!+rO!O)gO!e)fO!]$]X$Y$]X$[$]X$^$]X$e$]X~O!e)fO!](yX$Y(yX$[(yX$^(yX$e(yX~O!O)gO~P!-{O!O)gO!](yX$Y(yX$[(yX$^(yX$e(yX~O!])iO$Y)mO$[)hO$^)hO$e)nO~O!Y)qO~P!(yO$[$hO$^$gO$e)uO~Ol$yX!O$yX#Q$yX'w$yX(w$yX(x$yX~OgkXg$yXlkX!ZkX#^kX~P!/qOv)wO(`)xO(a)zO~Ol*TO!O)|O'w)}O(w$}O(x%PO~Og){O~P!0uOg*UO~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<eO!Q*WO!]*XO!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(TTO(WUO(_$uO(w$}O(x%PO~O!Y*[O(R*VO!i(|P~P!1dO#i*^O~O!j*_O~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<eO!Q${O!]$|O!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(R*aO(TTO(WUO(_$uO(w$}O(x%PO~O!Y*dO!W(}P~P!3cOp*pOq!nO!Q*fO!`*nO!a*hO!b*hO!j*_O#Y*oO%_*jO(S!lO(TTO(WUO(c!mO~O![*mO~P!5WO#Q$dOl(^X!O(^X'w(^X(w(^X(x(^X!Z(^X#^(^X~Og(^X#}(^X~P!6YOl*uO#^*tOg(]X!Z(]X~O!Z*vOg([X~Oj%cO(R&XOg([P~Oq*yO~O!j+OO~O(R(tO~On+TO!Q%gO!Y#iO!]%hO!z]O#g#lO#h#iO(R%fO!i(qP~O!e#vO#i+UO~O!Q%gO!Y+WO!Z([O!]%hO(R%fO!W(tP~Oq'YO!Q+YO!Y+XO(TTO(WUO(c(zO~O![(vP~P!9]O!Z+ZOa)RX'x)RX~OP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO#y$WO#z$XO(_VO(p$YO(w#|O(x#}O~Oa!ha!Z!ha'x!ha'u!ha!W!ha!i!hat!ha!]!ha%h!ha!e!ha~P!:TOR#zO!O#yO!Q#{O!j#xO(_VOP!pa[!pap!pa!Z!pa!n!pa#P!pa#l!pa#m!pa#n!pa#o!pa#p!pa#q!pa#r!pa#s!pa#t!pa#u!pa#w!pa#y!pa#z!pa(p!pa(w!pa(x!pa~Oa!pa'x!pa'u!pa!W!pa!i!pat!pa!]!pa%h!pa!e!pa~P!<kOR#zO!O#yO!Q#{O!j#xO(_VOP!ra[!rap!ra!Z!ra!n!ra#P!ra#l!ra#m!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#w!ra#y!ra#z!ra(p!ra(w!ra(x!ra~Oa!ra'x!ra'u!ra!W!ra!i!rat!ra!]!ra%h!ra!e!ra~P!?ROh%VOl+dO!]'^O%h+cO~O!e+fOa(ZX!](ZX'x(ZX!Z(ZX~Oa%mO!]XO'x%mO~Oh%VO!j%dO~Oh%VO!j%dO(R%fO~O!e#vO#i(vO~Ob+qO%i+rO(R+nO(TTO(WUO![)VP~O!Z+sO`)UX~O[+wO~O`+xO~O!]&OO(R%fO(S!lO`)UP~Oh%VO#^+}O~Oh%VOl,QO!]$|O~O!],SO~O!O,UO!]XO~O%m%uO~O!v,ZO~Oe,`O~Ob,aO(R#nO(TTO(WUO![)TP~Oe%|O~O%i!QO(R&XO~P=UO[,fO`,eO~OPYOQYOSfOdzOeyOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!guO!jZO!mYO!nYO!oYO!qvO!vxO!z]O$miO%g}O(TTO(WUO(_VO(m[O~O!]!eO!s!gO$V!kO(R!dO~P!FRO`,eOa%mO'x%mO~OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!v!hO$V!kO$miO(R!dO(TTO(WUO(_VO(m[O~Oa,kOj!OO!swO%k!OO%l!OO%m!OO~P!HkO!j&mO~O&[,qO~O!],sO~O&m,uO&o,vOP&jaQ&jaS&jaY&jaa&jad&jae&jaj&jan&jap&jaq&jar&jax&jaz&ja|&ja!Q&ja!U&ja!V&ja!]&ja!g&ja!j&ja!m&ja!n&ja!o&ja!q&ja!s&ja!v&ja!z&ja$V&ja$m&ja%g&ja%i&ja%k&ja%l&ja%m&ja%p&ja%r&ja%u&ja%v&ja%x&ja&U&ja&[&ja&^&ja&`&ja&b&ja&e&ja&k&ja&q&ja&s&ja&u&ja&w&ja&y&ja'u&ja(R&ja(T&ja(W&ja(_&ja(m&ja![&ja&c&jab&ja&h&ja~O(R,{O~Oh!cX!Z!PX![!PX!e!PX!e!cX!j!cX#^!PX~O!Z!cX![!cX~P# qO!e-QO#^-POh(hX!Z#fX![#fX!e(hX!j(hX~O!Z(hX![(hX~P#!dOh%VO!e-SO!j%dO!Z!_X![!_X~Oq!nO!Q!oO(TTO(WUO(c!mO~OP;vOQ;vOSfOd=rOe!iOnkOp;vOqkOrkOxkOz;vO|;vO!QWO!UkO!VkO!]!eO!g;yO!jZO!m;vO!n;vO!o;vO!q;zO!s;}O!v!hO$V!kO$m=pO(TTO(WUO(_VO(m[O~O(R<rO~P##yO!Z-WO![(gX~O![-YO~O!e-QO#^-PO!Z#fX![#fX~O!Z-ZO![(vX~O![-]O~O!a-^O!b-^O(S!lO~P##hO![-aO~P'_Ol-dO!]'^O~O!W-iO~Oq!ya!`!ya!a!ya!b!ya#R!ya#S!ya#T!ya#U!ya#V!ya#Y!ya#Z!ya(S!ya(T!ya(W!ya(c!ya(m!ya~P!#eO!n-nO#^-lO~PCVO!a-pO!b-pO(S!lO~PCuOa%mO#^-lO'x%mO~Oa%mO!e#vO#^-lO'x%mO~Oa%mO!e#vO!n-nO#^-lO'x%mO(p'nO~O'}'vO(O'vO(P-uO~Ot-vO~O!W'Ua!Z'Ua~P!:TO!Y-zO!W'UX!Z'UX~P%[O!Z(TO!W(fa~O!W(fa~PGpO!Z([O!W(ta~O!Q%gO!Y.OO!]%hO(R%fO!W'[X!Z'[X~O#^.QO!Z(ra!i(raa(ra'x(ra~O!e#vO~P#,PO!Z(hO!i(qa~O!Q%gO!]%hO#h.UO(R%fO~On.ZO!Q%gO!Y.WO!]%hO!z]O#g.YO#h.WO(R%fO!Z'_X!i'_X~OR._O!j#xO~Oh%VOl.bO!]'^O%h.aO~Oa#ai!Z#ai'x#ai'u#ai!W#ai!i#ait#ai!]#ai%h#ai!e#ai~P!:TOl=|O!O)|O'w)}O(w$}O(x%PO~O#i#]aa#]a#^#]a'x#]a!Z#]a!i#]a!]#]a!W#]a~P#.{O#i(^XP(^XR(^X[(^Xa(^Xp(^X!Q(^X!j(^X!n(^X#P(^X#l(^X#m(^X#n(^X#o(^X#p(^X#q(^X#r(^X#s(^X#t(^X#u(^X#w(^X#y(^X#z(^X'x(^X(_(^X(p(^X!i(^X!W(^X'u(^Xt(^X!](^X%h(^X!e(^X~P!6YO!Z.oO!i(iX~P!:TO!i.rO~O!W.tO~OP$[OR#zO!O#yO!Q#{O!j#xO!n$[O(_VO[#kia#kip#ki!Z#ki#P#ki#m#ki#n#ki#o#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki'x#ki(p#ki(w#ki(x#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#l#ki~P#2kO#l$OO~P#2kOP$[OR#zOp$aO!O#yO!Q#{O!j#xO!n$[O#l$OO#m$PO#n$PO#o$PO(_VO[#kia#ki!Z#ki#P#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki'x#ki(p#ki(w#ki(x#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#p#ki~P#5YO#p$QO~P#5YOP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO(_VOa#ki!Z#ki#w#ki#y#ki#z#ki'x#ki(p#ki(w#ki(x#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#u#ki~P#7wOP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO(_VO(x#}Oa#ki!Z#ki#y#ki#z#ki'x#ki(p#ki(w#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#w$UO~P#:_O#w#ki~P#:_O#u$SO~P#7wOP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO(_VO(w#|O(x#}Oa#ki!Z#ki#z#ki'x#ki(p#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#y#ki~P#=TO#y$WO~P#=TOP]XR]X[]Xp]X!O]X!Q]X!j]X!n]X#P]X#Q]X#^]X#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X(_]X(p]X(w]X(x]X!Z]X![]X~O#}]X~P#?rOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO#u<TO#w<VO#y<XO#z<YO(_VO(p$YO(w#|O(x#}O~O#}.vO~P#BPO#Q$dO#^<`O$P<`O#}(eX![(eX~P! dOa'ba!Z'ba'x'ba'u'ba!i'ba!W'bat'ba!]'ba%h'ba!e'ba~P!:TO[#kia#kip#ki!Z#ki#P#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki'x#ki(p#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~OP$[OR#zO!O#yO!Q#{O!j#xO!n$[O#l$OO#m$PO#n$PO#o$PO(_VO(w#ki(x#ki~P#EROl=|O!O)|O'w)}O(w$}O(x%POP#kiR#ki!Q#ki!j#ki!n#ki#l#ki#m#ki#n#ki#o#ki(_#ki~P#ERO!Z.zOg(nX~P!0uOg.|O~Oa$Oi!Z$Oi'x$Oi'u$Oi!W$Oi!i$Oit$Oi!]$Oi%h$Oi!e$Oi~P!:TO$[.}O$^.}O~O$[/OO$^/OO~O!e)fO#^/PO!]$bX$Y$bX$[$bX$^$bX$e$bX~O!Y/QO~O!])iO$Y/SO$[)hO$^)hO$e/TO~O!Z<ZO![(dX~P#BPO![/UO~O!e)fO$e(yX~O$e/WO~Ot/XO~P!&iOv)wO(`)xO(a/[O~O!Q/_O~O(w$}Ol%`a!O%`a'w%`a(x%`a!Z%`a#^%`a~Og%`a#}%`a~P#LTO(x%POl%ba!O%ba'w%ba(w%ba!Z%ba#^%ba~Og%ba#}%ba~P#LvO!ZfX!efX!ifX!i$yX(pfX~P!/qO!Y/hO!Z([O(R/gO!W(tP!W(}P~P!1dOp*pO!`*nO!a*hO!b*hO!j*_O#Y*oO%_*jO(S!lO(TTO(WUO~Oq<oO!Q/iO!Y+XO![*mO(c<nO![(vP~P#NaO!i/jO~P#.{O!Z/kO!e#vO(p'nO!i(|X~O!i/pO~O!Q%gO!Y*[O!]%hO(R%fO!i(|P~O#i/rO~O!W$yX!Z$yX!e%QX~P!/qO!Z/sO!W(}X~P#.{O!e/uO~O!W/wO~OnkO(R/xO~P.iOh%VOp/}O!e#vO!j%dO(p'nO~O!e+fO~Oa%mO!Z0RO'x%mO~O![0TO~P!5WO!a0UO!b0UO(S!lO~P##hOq!nO!Q0VO(TTO(WUO(c!mO~O#Y0XO~Og%`a!Z%`a#^%`a#}%`a~P!0uOg%ba!Z%ba#^%ba#}%ba~P!0uOj%cO(R&XOg'kX!Z'kX~O!Z*vOg([a~Og0bO~OR0cO!O0cO!Q0dO#Q$dOl{a'w{a(w{a(x{a!Z{a#^{a~Og{a#}{a~P$&dO!O)|O'w)}Ol$ra(w$ra(x$ra!Z$ra#^$ra~Og$ra#}$ra~P$'`O!O)|O'w)}Ol$ta(w$ta(x$ta!Z$ta#^$ta~Og$ta#}$ta~P$(RO#i0gO~Og%Sa!Z%Sa#^%Sa#}%Sa~P!0uOl0iO#^0hOg(]a!Z(]a~O!e#vO~O#i0lO~O!Z+ZOa)Ra'x)Ra~OR#zO!O#yO!Q#{O!j#xO(_VOP!pi[!pip!pi!Z!pi!n!pi#P!pi#l!pi#m!pi#n!pi#o!pi#p!pi#q!pi#r!pi#s!pi#t!pi#u!pi#w!pi#y!pi#z!pi(p!pi(w!pi(x!pi~Oa!pi'x!pi'u!pi!W!pi!i!pit!pi!]!pi%h!pi!e!pi~P$*OOh%VOp%XOq$tOr$tOx%YOz%ZO|<eO!Q${O!]$|O!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(TTO(WUO(_$uO(w$}O(x%PO~On0vO%[0wO(R0tO~P$,fO!e+fOa(Za!](Za'x(Za!Z(Za~O#i0|O~O[]X!ZfX![fX~O!Z0}O![)VX~O![1PO~O[1QO~Ob1SO(R+nO(TTO(WUO~O!]&OO(R%fO`'sX!Z'sX~O!Z+sO`)Ua~O!i1VO~P!:TO[1YO~O`1ZO~O#^1^O~Ol1aO!]$|O~O(c(zO![)SP~Oh%VOl1jO!]1gO%h1iO~O[1tO!Z1rO![)TX~O![1uO~O`1wOa%mO'x%mO~O(R#nO(TTO(WUO~O#Q$dO#^$eO$P$eOP(eXR(eX[(eXp(eX!O(eX!Q(eX!Z(eX!j(eX!n(eX#P(eX#l(eX#m(eX#n(eX#o(eX#p(eX#q(eX#r(eX#s(eX#u(eX#w(eX#y(eX#z(eX(_(eX(p(eX(w(eX(x(eX~O#t1zO&Y1{Oa(eX~P$2PO#^$eO#t1zO&Y1{O~Oa1}O~P%[Oa2PO~O&c2SOP&aiQ&aiS&aiY&aia&aid&aie&aij&ain&aip&aiq&air&aix&aiz&ai|&ai!Q&ai!U&ai!V&ai!]&ai!g&ai!j&ai!m&ai!n&ai!o&ai!q&ai!s&ai!v&ai!z&ai$V&ai$m&ai%g&ai%i&ai%k&ai%l&ai%m&ai%p&ai%r&ai%u&ai%v&ai%x&ai&U&ai&[&ai&^&ai&`&ai&b&ai&e&ai&k&ai&q&ai&s&ai&u&ai&w&ai&y&ai'u&ai(R&ai(T&ai(W&ai(_&ai(m&ai![&aib&ai&h&ai~Ob2YO![2WO&h2XO~P`O!]XO!j2[O~O&o,vOP&jiQ&jiS&jiY&jia&jid&jie&jij&jin&jip&jiq&jir&jix&jiz&ji|&ji!Q&ji!U&ji!V&ji!]&ji!g&ji!j&ji!m&ji!n&ji!o&ji!q&ji!s&ji!v&ji!z&ji$V&ji$m&ji%g&ji%i&ji%k&ji%l&ji%m&ji%p&ji%r&ji%u&ji%v&ji%x&ji&U&ji&[&ji&^&ji&`&ji&b&ji&e&ji&k&ji&q&ji&s&ji&u&ji&w&ji&y&ji'u&ji(R&ji(T&ji(W&ji(_&ji(m&ji![&ji&c&jib&ji&h&ji~O!W2bO~O!Z!_a![!_a~P#BPOq!nO!Q!oO!Y2hO(c!mO!Z'VX!['VX~P@]O!Z-WO![(ga~O!Z']X![']X~P!9]O!Z-ZO![(va~O![2oO~P'_Oa%mO#^2xO'x%mO~Oa%mO!e#vO#^2xO'x%mO~Oa%mO!e#vO!n2|O#^2xO'x%mO(p'nO~Oa%mO'x%mO~P!:TO!Z$_Ot$pa~O!W'Ui!Z'Ui~P!:TO!Z(TO!W(fi~O!Z([O!W(ti~O!W(ui!Z(ui~P!:TO!Z(ri!i(ria(ri'x(ri~P!:TO#^3OO!Z(ri!i(ria(ri'x(ri~O!Z(hO!i(qi~O!Q%gO!]%hO!z]O#g3TO#h3SO(R%fO~O!Q%gO!]%hO#h3SO(R%fO~Ol3[O!]'^O%h3ZO~Oh%VOl3[O!]'^O%h3ZO~O#i%`aP%`aR%`a[%`aa%`ap%`a!Q%`a!j%`a!n%`a#P%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#t%`a#u%`a#w%`a#y%`a#z%`a'x%`a(_%`a(p%`a!i%`a!W%`a'u%`at%`a!]%`a%h%`a!e%`a~P#LTO#i%baP%baR%ba[%baa%bap%ba!Q%ba!j%ba!n%ba#P%ba#l%ba#m%ba#n%ba#o%ba#p%ba#q%ba#r%ba#s%ba#t%ba#u%ba#w%ba#y%ba#z%ba'x%ba(_%ba(p%ba!i%ba!W%ba'u%bat%ba!]%ba%h%ba!e%ba~P#LvO#i%`aP%`aR%`a[%`aa%`ap%`a!Q%`a!Z%`a!j%`a!n%`a#P%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#t%`a#u%`a#w%`a#y%`a#z%`a'x%`a(_%`a(p%`a!i%`a!W%`a'u%`a#^%`at%`a!]%`a%h%`a!e%`a~P#.{O#i%baP%baR%ba[%baa%bap%ba!Q%ba!Z%ba!j%ba!n%ba#P%ba#l%ba#m%ba#n%ba#o%ba#p%ba#q%ba#r%ba#s%ba#t%ba#u%ba#w%ba#y%ba#z%ba'x%ba(_%ba(p%ba!i%ba!W%ba'u%ba#^%bat%ba!]%ba%h%ba!e%ba~P#.{O#i{aP{a[{aa{ap{a!j{a!n{a#P{a#l{a#m{a#n{a#o{a#p{a#q{a#r{a#s{a#t{a#u{a#w{a#y{a#z{a'x{a(_{a(p{a!i{a!W{a'u{at{a!]{a%h{a!e{a~P$&dO#i$raP$raR$ra[$raa$rap$ra!Q$ra!j$ra!n$ra#P$ra#l$ra#m$ra#n$ra#o$ra#p$ra#q$ra#r$ra#s$ra#t$ra#u$ra#w$ra#y$ra#z$ra'x$ra(_$ra(p$ra!i$ra!W$ra'u$rat$ra!]$ra%h$ra!e$ra~P$'`O#i$taP$taR$ta[$taa$tap$ta!Q$ta!j$ta!n$ta#P$ta#l$ta#m$ta#n$ta#o$ta#p$ta#q$ta#r$ta#s$ta#t$ta#u$ta#w$ta#y$ta#z$ta'x$ta(_$ta(p$ta!i$ta!W$ta'u$tat$ta!]$ta%h$ta!e$ta~P$(RO#i%SaP%SaR%Sa[%Saa%Sap%Sa!Q%Sa!Z%Sa!j%Sa!n%Sa#P%Sa#l%Sa#m%Sa#n%Sa#o%Sa#p%Sa#q%Sa#r%Sa#s%Sa#t%Sa#u%Sa#w%Sa#y%Sa#z%Sa'x%Sa(_%Sa(p%Sa!i%Sa!W%Sa'u%Sa#^%Sat%Sa!]%Sa%h%Sa!e%Sa~P#.{Oa#aq!Z#aq'x#aq'u#aq!W#aq!i#aqt#aq!]#aq%h#aq!e#aq~P!:TO!Y3dO!Z'WX!i'WX~P%[O!Z.oO!i(ia~O!Z.oO!i(ia~P!:TO!W3gO~O#}!la![!la~PKZO#}!ha!Z!ha![!ha~P#BPO#}!pa![!pa~P!<kO#}!ra![!ra~P!?ROg'ZX!Z'ZX~P!+rO!Z.zOg(na~OSfO!]3{O$c3|O~O![4QO~Ot4RO~P#.{Oa$lq!Z$lq'x$lq'u$lq!W$lq!i$lqt$lq!]$lq%h$lq!e$lq~P!:TO!W4TO~P!&iO!Q4UO~O!O)|O'w)}O(x%POl'ga(w'ga!Z'ga#^'ga~Og'ga#}'ga~P%+uO!O)|O'w)}Ol'ia(w'ia(x'ia!Z'ia#^'ia~Og'ia#}'ia~P%,hO(p$YO~P#.{O!WfX!W$yX!ZfX!Z$yX!e%QX#^fX~P!/qO(R<xO~P!1dO!Q%gO!Y4XO!]%hO(R%fO!Z'cX!i'cX~O!Z/kO!i(|a~O!Z/kO!e#vO!i(|a~O!Z/kO!e#vO(p'nO!i(|a~Og${i!Z${i#^${i#}${i~P!0uO!Y4aO!W'eX!Z'eX~P!3cO!Z/sO!W(}a~O!Z/sO!W(}a~P#.{OP]XR]X[]Xp]X!O]X!Q]X!W]X!Z]X!j]X!n]X#P]X#Q]X#^]X#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X(_]X(p]X(w]X(x]X~O!e%XX#t%XX~P%0XO!e#vO#t4fO~Oh%VO!e#vO!j%dO~Oh%VOp4kO!j%dO(p'nO~Op4pO!e#vO(p'nO~Oq!nO!Q4qO(TTO(WUO(c!mO~O(w$}Ol%`i!O%`i'w%`i(x%`i!Z%`i#^%`i~Og%`i#}%`i~P%3xO(x%POl%bi!O%bi'w%bi(w%bi!Z%bi#^%bi~Og%bi#}%bi~P%4kOg(]i!Z(]i~P!0uO#^4wOg(]i!Z(]i~P!0uO!i4zO~Oa$nq!Z$nq'x$nq'u$nq!W$nq!i$nqt$nq!]$nq%h$nq!e$nq~P!:TO!W5QO~O!Z5RO!])OX~P#.{Oa]Xa$yX!]]X!]$yX%]]X'x]X'x$yX!Z]X!Z$yX~P!/qO%]5UOa%Za!]%Za'x%Za!Z%Za~OlmX!OmX'wmX(wmX(xmX~P%7nOn5VO(R#nO~Ob5]O%i5^O(R+nO(TTO(WUO!Z'rX!['rX~O!Z0}O![)Va~O[5bO~O`5cO~Oa%mO'x%mO~P#.{O!Z5kO#^5mO![)SX~O![5nO~Op5tOq!nO!Q*fO!`!yO!a!vO!b!vO!z;wO#R!pO#S!pO#T!pO#U!pO#V!pO#Y5sO#Z!zO(S!lO(TTO(WUO(c!mO(m!sO~O![5rO~P%:ROl5yO!]1gO%h5xO~Oh%VOl5yO!]1gO%h5xO~Ob6QO(R#nO(TTO(WUO!Z'qX!['qX~O!Z1rO![)Ta~O(TTO(WUO(c6SO~O`6WO~O#t6ZO&Y6[O~PMvO!i6]O~P%[Oa6_O~Oa6_O~P%[Ob2YO![6dO&h2XO~P`O!e6fO~O!e6hOh(hi!Z(hi![(hi!e(hi!j(hip(hi(p(hi~O!Z#fi![#fi~P#BPO#^6iO!Z#fi![#fi~O!Z!_i![!_i~P#BPOa%mO#^6rO'x%mO~Oa%mO!e#vO#^6rO'x%mO~O!Z(rq!i(rqa(rq'x(rq~P!:TO!Z(hO!i(qq~O!Q%gO!]%hO#h6yO(R%fO~O!]'^O%h6|O~Ol7QO!]'^O%h6|O~O#i'gaP'gaR'ga['gaa'gap'ga!Q'ga!j'ga!n'ga#P'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#t'ga#u'ga#w'ga#y'ga#z'ga'x'ga(_'ga(p'ga!i'ga!W'ga'u'gat'ga!]'ga%h'ga!e'ga~P%+uO#i'iaP'iaR'ia['iaa'iap'ia!Q'ia!j'ia!n'ia#P'ia#l'ia#m'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#w'ia#y'ia#z'ia'x'ia(_'ia(p'ia!i'ia!W'ia'u'iat'ia!]'ia%h'ia!e'ia~P%,hO#i${iP${iR${i[${ia${ip${i!Q${i!Z${i!j${i!n${i#P${i#l${i#m${i#n${i#o${i#p${i#q${i#r${i#s${i#t${i#u${i#w${i#y${i#z${i'x${i(_${i(p${i!i${i!W${i'u${i#^${it${i!]${i%h${i!e${i~P#.{O#i%`iP%`iR%`i[%`ia%`ip%`i!Q%`i!j%`i!n%`i#P%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#t%`i#u%`i#w%`i#y%`i#z%`i'x%`i(_%`i(p%`i!i%`i!W%`i'u%`it%`i!]%`i%h%`i!e%`i~P%3xO#i%biP%biR%bi[%bia%bip%bi!Q%bi!j%bi!n%bi#P%bi#l%bi#m%bi#n%bi#o%bi#p%bi#q%bi#r%bi#s%bi#t%bi#u%bi#w%bi#y%bi#z%bi'x%bi(_%bi(p%bi!i%bi!W%bi'u%bit%bi!]%bi%h%bi!e%bi~P%4kO!Z'Wa!i'Wa~P!:TO!Z.oO!i(ii~O#}#ai!Z#ai![#ai~P#BPOP$[OR#zO!O#yO!Q#{O!j#xO!n$[O(_VO[#kip#ki#P#ki#m#ki#n#ki#o#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki#}#ki(p#ki(w#ki(x#ki!Z#ki![#ki~O#l#ki~P%MQO#l<PO~P%MQOP$[OR#zOp<]O!O#yO!Q#{O!j#xO!n$[O#l<PO#m<QO#n<QO#o<QO(_VO[#ki#P#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki#}#ki(p#ki(w#ki(x#ki!Z#ki![#ki~O#p#ki~P& YO#p<RO~P& YOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO(_VO#w#ki#y#ki#z#ki#}#ki(p#ki(w#ki(x#ki!Z#ki![#ki~O#u#ki~P&#bOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO#u<TO(_VO(x#}O#y#ki#z#ki#}#ki(p#ki(w#ki!Z#ki![#ki~O#w<VO~P&%cO#w#ki~P&%cO#u<TO~P&#bOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO#u<TO#w<VO(_VO(w#|O(x#}O#z#ki#}#ki(p#ki!Z#ki![#ki~O#y#ki~P&'rO#y<XO~P&'rOa#{y!Z#{y'x#{y'u#{y!W#{y!i#{yt#{y!]#{y%h#{y!e#{y~P!:TO[#kip#ki#P#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki#}#ki(p#ki!Z#ki![#ki~OP$[OR#zO!O#yO!Q#{O!j#xO!n$[O#l<PO#m<QO#n<QO#o<QO(_VO(w#ki(x#ki~P&*nOl=}O!O)|O'w)}O(w$}O(x%POP#kiR#ki!Q#ki!j#ki!n#ki#l#ki#m#ki#n#ki#o#ki(_#ki~P&*nO#Q$dOP(^XR(^X[(^Xl(^Xp(^X!O(^X!Q(^X!j(^X!n(^X#P(^X#l(^X#m(^X#n(^X#o(^X#p(^X#q(^X#r(^X#s(^X#t(^X#u(^X#w(^X#y(^X#z(^X#}(^X'w(^X(_(^X(p(^X(w(^X(x(^X!Z(^X![(^X~O#}$Oi!Z$Oi![$Oi~P#BPO#}!pi![!pi~P$*OOg'Za!Z'Za~P!0uO![7dO~O!Z'ba!['ba~P#BPO!W7eO~P#.{O!e#vO(p'nO!Z'ca!i'ca~O!Z/kO!i(|i~O!Z/kO!e#vO!i(|i~Og${q!Z${q#^${q#}${q~P!0uO!W'ea!Z'ea~P#.{O!e7lO~O!Z/sO!W(}i~P#.{O!Z/sO!W(}i~O!W7oO~Oh%VOp7tO!j%dO(p'nO~O!e#vO#t7vO~Op7yO!e#vO(p'nO~O!O)|O'w)}O(x%POl'ha(w'ha!Z'ha#^'ha~Og'ha#}'ha~P&3oO!O)|O'w)}Ol'ja(w'ja(x'ja!Z'ja#^'ja~Og'ja#}'ja~P&4bO!W7{O~Og$}q!Z$}q#^$}q#}$}q~P!0uOg(]q!Z(]q~P!0uO#^7|Og(]q!Z(]q~P!0uOa$ny!Z$ny'x$ny'u$ny!W$ny!i$nyt$ny!]$ny%h$ny!e$ny~P!:TO!e6hO~O!Z5RO!])Oa~O!]'^OP$SaR$Sa[$Sap$Sa!O$Sa!Q$Sa!Z$Sa!j$Sa!n$Sa#P$Sa#l$Sa#m$Sa#n$Sa#o$Sa#p$Sa#q$Sa#r$Sa#s$Sa#t$Sa#u$Sa#w$Sa#y$Sa#z$Sa(_$Sa(p$Sa(w$Sa(x$Sa~O%h6|O~P&7SO%]8QOa%Zi!]%Zi'x%Zi!Z%Zi~Oa#ay!Z#ay'x#ay'u#ay!W#ay!i#ayt#ay!]#ay%h#ay!e#ay~P!:TO[8SO~Ob8UO(R+nO(TTO(WUO~O!Z0}O![)Vi~O`8YO~O(c(zO!Z'nX!['nX~O!Z5kO![)Sa~O![8cO~P%:RO(m!sO~P$$oO#Y8dO~O!]1gO~O!]1gO%h8fO~Ol8iO!]1gO%h8fO~O[8nO!Z'qa!['qa~O!Z1rO![)Ti~O!i8rO~O!i8sO~O!i8vO~O!i8vO~P%[Oa8xO~O!e8yO~O!i8zO~O!Z(ui![(ui~P#BPOa%mO#^9SO'x%mO~O!Z(ry!i(rya(ry'x(ry~P!:TO!Z(hO!i(qy~O%h9VO~P&7SO!]'^O%h9VO~O#i${qP${qR${q[${qa${qp${q!Q${q!Z${q!j${q!n${q#P${q#l${q#m${q#n${q#o${q#p${q#q${q#r${q#s${q#t${q#u${q#w${q#y${q#z${q'x${q(_${q(p${q!i${q!W${q'u${q#^${qt${q!]${q%h${q!e${q~P#.{O#i'haP'haR'ha['haa'hap'ha!Q'ha!j'ha!n'ha#P'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#w'ha#y'ha#z'ha'x'ha(_'ha(p'ha!i'ha!W'ha'u'hat'ha!]'ha%h'ha!e'ha~P&3oO#i'jaP'jaR'ja['jaa'jap'ja!Q'ja!j'ja!n'ja#P'ja#l'ja#m'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#w'ja#y'ja#z'ja'x'ja(_'ja(p'ja!i'ja!W'ja'u'jat'ja!]'ja%h'ja!e'ja~P&4bO#i$}qP$}qR$}q[$}qa$}qp$}q!Q$}q!Z$}q!j$}q!n$}q#P$}q#l$}q#m$}q#n$}q#o$}q#p$}q#q$}q#r$}q#s$}q#t$}q#u$}q#w$}q#y$}q#z$}q'x$}q(_$}q(p$}q!i$}q!W$}q'u$}q#^$}qt$}q!]$}q%h$}q!e$}q~P#.{O!Z'Wi!i'Wi~P!:TO#}#aq!Z#aq![#aq~P#BPO(w$}OP%`aR%`a[%`ap%`a!Q%`a!j%`a!n%`a#P%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#t%`a#u%`a#w%`a#y%`a#z%`a#}%`a(_%`a(p%`a!Z%`a![%`a~Ol%`a!O%`a'w%`a(x%`a~P&HgO(x%POP%baR%ba[%bap%ba!Q%ba!j%ba!n%ba#P%ba#l%ba#m%ba#n%ba#o%ba#p%ba#q%ba#r%ba#s%ba#t%ba#u%ba#w%ba#y%ba#z%ba#}%ba(_%ba(p%ba!Z%ba![%ba~Ol%ba!O%ba'w%ba(w%ba~P&JnOl=}O!O)|O'w)}O(x%PO~P&HgOl=}O!O)|O'w)}O(w$}O~P&JnOR0cO!O0cO!Q0dO#Q$dOP{a[{al{ap{a!j{a!n{a#P{a#l{a#m{a#n{a#o{a#p{a#q{a#r{a#s{a#t{a#u{a#w{a#y{a#z{a#}{a'w{a(_{a(p{a(w{a(x{a!Z{a![{a~O!O)|O'w)}OP$raR$ra[$ral$rap$ra!Q$ra!j$ra!n$ra#P$ra#l$ra#m$ra#n$ra#o$ra#p$ra#q$ra#r$ra#s$ra#t$ra#u$ra#w$ra#y$ra#z$ra#}$ra(_$ra(p$ra(w$ra(x$ra!Z$ra![$ra~O!O)|O'w)}OP$taR$ta[$tal$tap$ta!Q$ta!j$ta!n$ta#P$ta#l$ta#m$ta#n$ta#o$ta#p$ta#q$ta#r$ta#s$ta#t$ta#u$ta#w$ta#y$ta#z$ta#}$ta(_$ta(p$ta(w$ta(x$ta!Z$ta![$ta~Ol=}O!O)|O'w)}O(w$}O(x%PO~OP%SaR%Sa[%Sap%Sa!Q%Sa!j%Sa!n%Sa#P%Sa#l%Sa#m%Sa#n%Sa#o%Sa#p%Sa#q%Sa#r%Sa#s%Sa#t%Sa#u%Sa#w%Sa#y%Sa#z%Sa#}%Sa(_%Sa(p%Sa!Z%Sa![%Sa~P'%sO#}$lq!Z$lq![$lq~P#BPO#}$nq!Z$nq![$nq~P#BPO![9dO~O#}9eO~P!0uO!e#vO!Z'ci!i'ci~O!e#vO(p'nO!Z'ci!i'ci~O!Z/kO!i(|q~O!W'ei!Z'ei~P#.{O!Z/sO!W(}q~Op9lO!e#vO(p'nO~O[9nO!W9mO~P#.{O!W9mO~O!e#vO#t9tO~Og(]y!Z(]y~P!0uO!Z'la!]'la~P#.{Oa%Zq!]%Zq'x%Zq!Z%Zq~P#.{O[9yO~O!Z0}O![)Vq~O#^9}O!Z'na!['na~O!Z5kO![)Si~P#BPO!Q:PO~O!]1gO%h:SO~O(TTO(WUO(c:XO~O!Z1rO![)Tq~O!i:[O~O!i:]O~O!i:^O~O!i:^O~P%[O#^:aO!Z#fy![#fy~O!Z#fy![#fy~P#BPO%h:fO~P&7SO!]'^O%h:fO~O#}#{y!Z#{y![#{y~P#BPOP${iR${i[${ip${i!Q${i!j${i!n${i#P${i#l${i#m${i#n${i#o${i#p${i#q${i#r${i#s${i#t${i#u${i#w${i#y${i#z${i#}${i(_${i(p${i!Z${i![${i~P'%sO!O)|O'w)}O(x%POP'gaR'ga['gal'gap'ga!Q'ga!j'ga!n'ga#P'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#t'ga#u'ga#w'ga#y'ga#z'ga#}'ga(_'ga(p'ga(w'ga!Z'ga!['ga~O!O)|O'w)}OP'iaR'ia['ial'iap'ia!Q'ia!j'ia!n'ia#P'ia#l'ia#m'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#w'ia#y'ia#z'ia#}'ia(_'ia(p'ia(w'ia(x'ia!Z'ia!['ia~O(w$}OP%`iR%`i[%`il%`ip%`i!O%`i!Q%`i!j%`i!n%`i#P%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#t%`i#u%`i#w%`i#y%`i#z%`i#}%`i'w%`i(_%`i(p%`i(x%`i!Z%`i![%`i~O(x%POP%biR%bi[%bil%bip%bi!O%bi!Q%bi!j%bi!n%bi#P%bi#l%bi#m%bi#n%bi#o%bi#p%bi#q%bi#r%bi#s%bi#t%bi#u%bi#w%bi#y%bi#z%bi#}%bi'w%bi(_%bi(p%bi(w%bi!Z%bi![%bi~O#}$ny!Z$ny![$ny~P#BPO#}#ay!Z#ay![#ay~P#BPO!e#vO!Z'cq!i'cq~O!Z/kO!i(|y~O!W'eq!Z'eq~P#.{Op:pO!e#vO(p'nO~O[:tO!W:sO~P#.{O!W:sO~Og(]!R!Z(]!R~P!0uOa%Zy!]%Zy'x%Zy!Z%Zy~P#.{O!Z0}O![)Vy~O!Z5kO![)Sq~O(R:zO~O!]1gO%h:}O~O!i;QO~O%h;VO~P&7SOP${qR${q[${qp${q!Q${q!j${q!n${q#P${q#l${q#m${q#n${q#o${q#p${q#q${q#r${q#s${q#t${q#u${q#w${q#y${q#z${q#}${q(_${q(p${q!Z${q![${q~P'%sO!O)|O'w)}O(x%POP'haR'ha['hal'hap'ha!Q'ha!j'ha!n'ha#P'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#w'ha#y'ha#z'ha#}'ha(_'ha(p'ha(w'ha!Z'ha!['ha~O!O)|O'w)}OP'jaR'ja['jal'jap'ja!Q'ja!j'ja!n'ja#P'ja#l'ja#m'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#w'ja#y'ja#z'ja#}'ja(_'ja(p'ja(w'ja(x'ja!Z'ja!['ja~OP$}qR$}q[$}qp$}q!Q$}q!j$}q!n$}q#P$}q#l$}q#m$}q#n$}q#o$}q#p$}q#q$}q#r$}q#s$}q#t$}q#u$}q#w$}q#y$}q#z$}q#}$}q(_$}q(p$}q!Z$}q![$}q~P'%sOg%d!Z!Z%d!Z#^%d!Z#}%d!Z~P!0uO!W;ZO~P#.{Op;[O!e#vO(p'nO~O[;^O!W;ZO~P#.{O!Z'nq!['nq~P#BPO!Z#f!Z![#f!Z~P#BPO#i%d!ZP%d!ZR%d!Z[%d!Za%d!Zp%d!Z!Q%d!Z!Z%d!Z!j%d!Z!n%d!Z#P%d!Z#l%d!Z#m%d!Z#n%d!Z#o%d!Z#p%d!Z#q%d!Z#r%d!Z#s%d!Z#t%d!Z#u%d!Z#w%d!Z#y%d!Z#z%d!Z'x%d!Z(_%d!Z(p%d!Z!i%d!Z!W%d!Z'u%d!Z#^%d!Zt%d!Z!]%d!Z%h%d!Z!e%d!Z~P#.{Op;fO!e#vO(p'nO~O!W;gO~P#.{Op;nO!e#vO(p'nO~O!W;oO~P#.{OP%d!ZR%d!Z[%d!Zp%d!Z!Q%d!Z!j%d!Z!n%d!Z#P%d!Z#l%d!Z#m%d!Z#n%d!Z#o%d!Z#p%d!Z#q%d!Z#r%d!Z#s%d!Z#t%d!Z#u%d!Z#w%d!Z#y%d!Z#z%d!Z#}%d!Z(_%d!Z(p%d!Z!Z%d!Z![%d!Z~P'%sOp;rO!e#vO(p'nO~Ot(dX~P1qO!O%qO~P!(yO(S!lO~P!(yO!WfX!ZfX#^fX~P%0XOP]XR]X[]Xp]X!O]X!Q]X!Z]X!ZfX!j]X!n]X#P]X#Q]X#^]X#^fX#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X(_]X(p]X(w]X(x]X~O!efX!i]X!ifX(pfX~P'JlOP;vOQ;vOSfOd=rOe!iOnkOp;vOqkOrkOxkOz;vO|;vO!QWO!UkO!VkO!]XO!g;yO!jZO!m;vO!n;vO!o;vO!q;zO!s;}O!v!hO$V!kO$m=pO(R)ZO(TTO(WUO(_VO(m[O~O!Z<ZO![$pa~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<fO!Q${O!]$|O!g=wO!j$xO#h<lO$V%_O$s<hO$u<jO$x%`O(R(tO(TTO(WUO(_$uO(w$}O(x%PO~Oj)bO~P( bOp!cX(p!cX~P# qOp(hX(p(hX~P#!dO![]X![fX~P'JlO!WfX!W$yX!ZfX!Z$yX#^fX~P!/qO#i<OO~O!e#vO#i<OO~O#^<`O~O#t<SO~O#^<pO!Z(uX![(uX~O#^<`O!Z(sX![(sX~O#i<qO~Og<sO~P!0uO#i<yO~O#i<zO~O!e#vO#i<{O~O!e#vO#i<qO~O#}<|O~P#BPO#i<}O~O#i=OO~O#i=TO~O#i=UO~O#i=VO~O#i=WO~O#}=XO~P!0uO#}=YO~P!0uO#Q#R#S#U#V#Y#g#h#s$m$s$u$x%[%]%g%h%i%p%r%u%v%x%z~'|T#m!V'z(S#nq#l#op!O'{$['{(R$^(c~",goto:"$8f)ZPPPPPP)[PP)_P)pP+Q/VPPPP6aPP6wPP<oP@cP@yP@yPPP@yPCRP@yP@yP@yPCVPC[PCyPHsPPPHwPPPPHwKzPPPLQLrPHwPHwPP! QHwPPPHwPHwP!#XHwP!&o!'t!'}P!(q!(u!(q!,SPPPPPPP!,s!'tPP!-T!.uP!2RHwHw!2W!5d!:Q!:Q!>PPPP!>XHwPPPPPPPPPP!AhP!BuPPHw!DWPHwPHwHwHwHwHwPHw!EjP!HtP!KzP!LO!LY!L^!L^P!HqP!Lb!LbP# hP# lHwPHw# r#$wCV@yP@yP@y@yP#&U@y@y#(h@y#+`@y#-l@y@y#.[#0p#0p#0u#1O#0p#1ZPP#0pP@y#1s@y#5r@y@y6aPPP#9wPPP#:b#:bP#:bP#:x#:bPP#;OP#:uP#:u#;c#:u#;}#<T#<W)_#<Z)_P#<b#<b#<bP)_P)_P)_P)_PP)_P#<h#<kP#<k)_P#<oP#<rP)_P)_P)_P)_P)_P)_)_PP#<x#=O#=Z#=a#=g#=m#=s#>R#>X#>c#>i#>s#>y#?Z#?a#@R#@e#@k#@q#AP#Af#CZ#Ci#Cp#E[#Ej#G[#Gj#Gp#Gv#G|#HW#H^#Hd#Hn#IQ#IWPPPPPPPPPPP#I^PPPPPPP#JR#MY#Nr#Ny$ RPPP$&mP$&v$)o$0Y$0]$0`$1_$1b$1i$1qP$1w$1zP$2h$2l$3d$4r$4w$5_PP$5d$5j$5n$5q$5u$5y$6u$7^$7u$7y$7|$8P$8V$8Y$8^$8bR!|RoqOXst!Z#d%l&p&r&s&u,n,s2S2VY!vQ'^-`1g5qQ%svQ%{yQ&S|Q&h!VS'U!e-WQ'd!iS'j!r!yU*h$|*X*lQ+l%|Q+y&UQ,_&bQ-^']Q-h'eQ-p'kQ0U*nQ1q,`R<m;z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9SS#q];w!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU*{%[<e<fQ+q&OQ,a&eQ,h&mQ0r+dQ0u+fQ1S+rQ1y,fQ3W.bQ5V0wQ5]0}Q6Q1rQ7O3[Q8U5^R9Y7Q'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s!S!nQ!r!v!y!z$|'U']'^'j'k'l*h*l*n*o-W-^-`-p0U0X1g5q5s%[$ti#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q&V|Q'S!eS'Y%h-ZQ+q&OQ,a&eQ0f+OQ1S+rQ1X+xQ1x,eQ1y,fQ5]0}Q5f1ZQ6Q1rQ6T1tQ6U1wQ8U5^Q8X5cQ8q6WQ9|8YQ:Y8nR<o*XrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR,c&i&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=r=s[#]WZ#W#Z'V(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ%vxQ%zyS&P|&UQ&]!TQ'a!hQ'c!iQ(o#sS+k%{%|Q+o&OQ,Y&`Q,^&bS-g'd'eQ.d(pQ0{+lQ1R+rQ1T+sQ1W+wQ1l,ZS1p,_,`Q2t-hQ5[0}Q5`1QQ5e1YQ6P1qQ8T5^Q8W5bQ9x8SR:w9y!U$zi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y!^%xy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pQ+e%vQ,O&YQ,R&ZQ,]&bQ.c(oQ1k,YU1o,^,_,`Q3].dQ5z1lS6O1p1qQ8m6P#f=t#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o=u<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YW%Ti%V*v=pS&Y!Q&gQ&Z!RQ&[!SQ+S%cR+|&W%]%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}T)x$u)yV*{%[<e<fW'Y!e%h*X-ZS({#y#zQ+`%qQ+v&RS.](k(lQ1b,SQ4x0cR8^5k'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s$i$^c#Y#e%p%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.w.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ'W!eR2i-W!W!nQ!e!r!v!y!z$|'U']'^'j'k'l*X*h*l*n*o-W-^-`-p0U0X1g5q5sR1d,UnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&w!^Q't!xS(q#u<OQ+i%yQ,W&]Q,X&_Q-e'bQ-r'mS.m(v<qS0k+U<{Q0y+jQ1f,VQ2Z,uQ2],vQ2e-RQ2r-fQ2u-jS5P0l=VQ5W0zS5Z0|=WQ6j2gQ6n2sQ6s2zQ8R5XQ8}6lQ9O6oQ9R6tR:`8z$d$]c#Y#e%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gS(m#p'gQ(}#zS+_%p.wS.^(l(nR3U._'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS#q];wQ&r!XQ&s!YQ&u![Q&v!]R2R,qQ'_!hQ+b%vQ-c'aS.`(o+eQ2p-bW3Y.c.d0q0sQ6m2qW6z3V3X3]5TU9U6{6}7PU:e9W9X9ZS;T:d:gQ;b;UR;j;cU!wQ'^-`T5o1g5q!Q_OXZ`st!V!Z#d#h%d%l&g&i&p&r&s&u(h,n,s.V2S2V]!pQ!r'^-`1g5qT#q];w%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS({#y#zS.](k(l!s=^$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU$fd)],hS(n#p'gU*s%R(u3vU0e*z.i7]Q5T0rQ6{3WQ9X7OR:g9Ym!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sQ'r!uS(d#g1|S-n'i'uQ/n*ZQ/{*gQ2|-qQ4]/oQ4i/}Q4j0OQ4o0WQ7h4WS7s4k4mS7w4p4rQ9g7iQ9k7oQ9p7tQ9u7yS:o9l9mS;Y:p:sS;e;Z;[S;m;f;gS;q;n;oR;t;rQ#wbQ'q!uS(c#g1|S(e#m+TQ+V%eQ+g%wQ+m%}U-m'i'r'uQ.R(dQ/m*ZQ/|*gQ0P*iQ0x+hQ1m,[S2y-n-qQ3R.ZS4[/n/oQ4e/yS4h/{0WQ4l0QQ5|1nQ6u2|Q7g4WQ7k4]U7r4i4o4rQ7u4nQ8k5}S9f7h7iQ9j7oQ9r7wQ9s7xQ:V8lQ:m9gS:n9k9mQ:v9uQ;P:WS;X:o:sS;d;Y;ZS;l;e;gS;p;m;oQ;s;qQ;u;tQ=a=[Q=l=eR=m=fV!wQ'^-`%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS#wz!j!r=Z$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=a=r%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SQ%ej!^%wy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pS%}z!jQ+h%xQ,[&bW1n,],^,_,`U5}1o1p1qS8l6O6PQ:W8m!r=[$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ=e=qR=f=r%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SY#bWZ#W#Z(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ,i&m!p=]$Z$n)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=`'VU'Z!e%h*XR2k-Z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9S!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ,h&mQ0r+dQ3W.bQ7O3[R9Y7Q!b$Tc#Y%p(Q(W(r(w)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!P<U)[)o-U.w2c2f3h3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!f$Vc#Y%p(Q(W(r(w)U)V)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!T<W)[)o-U.w2c2f3h3n3o3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!^$Zc#Y%p(Q(W(r(w)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;xQ4V/fz=s)[)o-U.w2c2f3h3w4P6k7W7a7b8`8|9[9b9c:y;R=gQ=x=zR=y={'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS$oh$pR3|/P'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$kf$qQ$ifS)h$l)lR)t$qT$jf$qT)j$l)l'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$oh$pQ$rhR)s$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9S!s=q$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s#glOPXZst!Z!`!o#S#d#o#{$n%l&i&l&m&p&r&s&u&y'R'`(|)q*f+Y+d,k,n,s-d.b/Q/i0V0d1j1z1{1}2P2S2V2X3[3{4q5y6Z6[6_7Q8i8x!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}Q+P%`Q/^)|o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!U$yi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yQ*`$zU*i$|*X*lQ+Q%aQ0Q*j#f=c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n=d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YQ=h=tQ=i=uQ=j=vR=k=w!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YnoOXst!Z#d%l&p&r&s&u,n,s2S2VS*c${*WQ,|&|Q,}'OR4`/s%[%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q,P&ZQ1`,RQ5i1_R8]5jV*k$|*X*lU*k$|*X*lT5p1g5qS/y*f/iQ4n0VT7x4q:PQ+g%wQ0P*iQ0x+hQ1m,[Q5|1nQ8k5}Q:V8lR;P:W!U%Oi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yx*P$v)c*Q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=oS0Y*q0Z#f<a#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<b<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!d<t(s)a*Y*b.e.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={`<u3u7X7[7`9]:h:k;kS=P.g3aT=Q7Z9`!U%Qi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y|*R$v)c*S*q+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=oS0[*r0]#f<c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!h<v(s)a*Y*b.f.g.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={d<w3u7Y7Z7`9]9^:h:i:k;kS=R.h3bT=S7[9arnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ&d!UR,k&mrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR&d!UQ,T&[R1[+|snOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ1h,YS5w1k1lU8e5u5v5zS:R8g8hS:{:Q:TQ;_:|R;i;`Q&k!VR,d&gR6T1tR:Y8nS&P|&UR1T+sQ&p!WR,n&qR,t&vT2T,s2VR,x&wQ,w&wR2^,xQ'w!{R-t'wSsOtQ#dXT%os#dQ#OTR'y#OQ#RUR'{#RQ)y$uR/Z)yQ#UVR(O#UQ#XWU(U#X(V-{Q(V#YR-{(WQ-X'WR2j-XQ.p(wS3e.p3fR3f.qQ-`'^R2n-`Y!rQ'^-`1g5qR'h!rQ.{)cR3z.{U#_W%g*WU(]#_(^-|Q(^#`R-|(XQ-['ZR2l-[t`OXst!V!Z#d%l&g&i&p&r&s&u,n,s2S2VS#hZ%dU#r`#h.VR.V(hQ(i#jQ.S(eW.[(i.S3P6wQ3P.TR6w3QQ)l$lR/R)lQ$phR)r$pQ$`cU)_$`-w<[Q-w;xR<[)oQ/l*ZW4Y/l4Z7j9hU4Z/m/n/oS7j4[4]R9h7k$e*O$v(s)a)c*Y*b*q*r*|*}+R.g.h.j.k.l/Y/b/d/f/q/v0^0_0p1]3^3_3`3u3y4S4^4_4c4s4u4{4|4}5h7R7S7T7U7Z7[7^7_7`7f7m7p7z7}8P9]9^9_9i9q9v9w:h:i:j:k:l:q:u;W;];h;k=b=n=o=z={Q/t*bU4b/t4d7nQ4d/vR7n4cS*l$|*XR0S*lx*Q$v)c*q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=o!d.e(s)a*Y*b.g.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/c*Q.e7Xa7X3u7Z7[7`9]:h:k;kQ0Z*qQ3a.gU4t0Z3a9`R9`7Z|*S$v)c*q*r+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=o!h.f(s)a*Y*b.g.h.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/e*S.f7Ye7Y3u7Z7[7`9]9^:h:i:k;kQ0]*rQ3b.hU4v0]3b9aR9a7[Q*w%UR0a*wQ5S0pR8O5SQ+[%jR0o+[Q5l1bS8_5l:OR:O8`Q,V&]R1e,VQ5q1gR8b5qQ1s,aS6R1s8oR8o6TQ1O+oW5_1O5a8V9zQ5a1RQ8V5`R9z8WQ+t&PR1U+tQ2V,sR6c2VYrOXst#dQ&t!ZQ+^%lQ,m&pQ,o&rQ,p&sQ,r&uQ2Q,nS2T,s2VR6b2SQ%npQ&x!_Q&{!aQ&}!bQ'P!cQ'o!uQ+]%kQ+i%yQ+{&VQ,c&kQ,z&zW-k'i'q'r'uQ-r'mQ0R*kQ0y+jS1v,d,gQ2_,yQ2`,|Q2a,}Q2u-jW2w-m-n-q-sQ5W0zQ5d1XQ5g1]Q5{1mQ6V1xQ6a2RU6p2v2y2|Q6s2zQ8R5XQ8Z5fQ8[5hQ8a5pQ8j5|Q8p6US9P6q6uQ9R6tQ9{8XQ:U8kQ:Z8qQ:b9QQ:x9|Q;O:VQ;S:cR;a;PQ%yyQ'b!iQ'm!uU+j%z%{%|Q-R'TU-f'c'd'eS-j'i'sQ/z*gS0z+k+lQ2g-TS2s-g-hQ2z-oS4g/{0OQ5X0{Q6l2mQ6o2tQ6t2{U7q4i4j4mQ9o7sR:r9pS$wi=pR*x%VU%Ui%V=pR0`*vQ$viS(s#v+fS)a$b$cQ)c$dQ*Y$xS*b${*WQ*q%OQ*r%QQ*|%]Q*}%^Q+R%bQ.g<aQ.h<cQ.j<gQ.k<iQ.l<kQ/Y)wQ/b*PQ/d*RQ/f*TQ/q*^S/v*d/hQ0^*tQ0_*ul0p+c,Q.a1a1i3Z5x6|8f9V:S:f:};VQ1]+}Q3^<tQ3_<vQ3`<yS3u<^<_Q3y.zS4S/_4UQ4^/rQ4_/sQ4c/uQ4s0YQ4u0[Q4{0gQ4|0hQ4}0iQ5h1^Q7R<}Q7S=PQ7T=RQ7U=TQ7Z<bQ7[<dQ7^<hQ7_<jQ7`<lQ7f4VQ7m4aQ7p4fQ7z4wQ7}5RQ8P5UQ9]<zQ9^<uQ9_<wQ9i7lQ9q7vQ9v7|Q9w8QQ:h=OQ:i=QQ:j=SQ:k=UQ:l9eQ:q9nQ:u9tQ;W=XQ;]:tQ;h;^Q;k=YQ=b=pQ=n=xQ=o=yQ=z=|R={=}Q*z%[Q.i<eR7]<fnpOXst!Z#d%l&p&r&s&u,n,s2S2VQ!fPS#fZ#oQ&z!`W'f!o*f0V4qQ'}#SQ)O#{Q)p$nS,g&i&lQ,l&mQ,y&yS-O'R/iQ-b'`Q.s(|Q/V)qQ0m+YQ0s+dQ2O,kQ2q-dQ3X.bQ4O/QQ4y0dQ5v1jQ6X1zQ6Y1{Q6^1}Q6`2PQ6e2XQ7P3[Q7c3{Q8h5yQ8t6ZQ8u6[Q8w6_Q9Z7QQ:T8iR:_8x#[cOPXZst!Z!`!o#d#o#{%l&i&l&m&p&r&s&u&y'R'`(|*f+Y+d,k,n,s-d.b/i0V0d1j1z1{1}2P2S2V2X3[4q5y6Z6[6_7Q8i8xQ#YWQ#eYQ%puQ%rvS%tw!gS(Q#W(TQ(W#ZQ(r#uQ(w#xQ)P$OQ)Q$PQ)R$QQ)S$RQ)T$SQ)U$TQ)V$UQ)W$VQ)X$WQ)Y$XQ)[$ZQ)^$_Q)`$aQ)e$eW)o$n)q/Q3{Q+a%sQ+u&QS-U'V2hQ-s'pS-x(R-zQ-}(ZQ.P(bQ.n(vQ.q(xQ.u;vQ.w;yQ.x;zQ.y;}Q/]){Q0j+UQ2c-PQ2f-SQ2v-lQ2}.QQ3c.oQ3h<OQ3i<PQ3j<QQ3k<RQ3l<SQ3m<TQ3n<UQ3o<VQ3p<WQ3q<XQ3r<YQ3s.vQ3t<]Q3w<`Q3x<mQ4P<ZQ5O0lQ5Y0|Q6k<pQ6q2xQ6v3OQ7V3dQ7W<qQ7a<sQ7b<{Q8`5mQ8|6iQ9Q6rQ9[<|Q9b=VQ9c=WQ:c9SQ:y9}Q;R:aQ;x#SR=g=sR#[WR'X!el!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sS'T!e-WU*g$|*X*lS-T'U']S0O*h*nQ0W*oQ2m-^Q4m0UR4r0XR(y#xQ!fQT-_'^-`]!qQ!r'^-`1g5qQ#p]R'g;wR)d$dY!uQ'^-`1g5qQ'i!rS's!v!yS'u!z5sS-o'j'kQ-q'lR2{-pT#kZ%dS#jZ%dS%jm,jU(e#h#i#lS.T(f(gQ.X(hQ0n+ZQ3Q.UU3R.V.W.YS6x3S3TR9T6yd#^W#W#Z%g(R([*W+W.O/hr#gZm#h#i#l%d(f(g(h+Z.U.V.W.Y3S3T6yS*Z$x*_Q/o*[Q1|,jQ2d-QQ4W/kQ6g2[Q7i4XQ8{6hT=_'V+XV#aW%g*WU#`W%g*WS(S#W([U(X#Z+W/hS-V'V+XT-y(R.OV'[!e%h*XQ$lfR)v$qT)k$l)lR3}/PT*]$x*_T*e${*WQ0q+cQ1_,QQ3V.aQ5j1aQ5u1iQ6}3ZQ8g5xQ9W6|Q:Q8fQ:d9VQ:|:SQ;U:fQ;`:}R;c;VnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&j!VR,c&gtmOXst!U!V!Z#d%l&g&p&r&s&u,n,s2S2VR,j&mT%km,jR1c,SR,b&eQ&T|R+z&UR+p&OT&n!W&qT&o!W&qT2U,s2V",nodeNames:" ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:378,context:iwe,nodeProps:[["isolate",-8,5,6,14,35,37,49,51,53,""],["group",-26,9,17,19,66,206,210,214,215,217,220,223,233,235,241,243,245,247,250,256,262,264,266,268,270,272,273,"Statement",-34,13,14,30,33,34,40,49,52,53,55,60,68,70,74,78,80,82,83,108,109,118,119,135,138,140,141,142,143,144,146,147,166,168,170,"Expression",-23,29,31,35,39,41,43,172,174,176,177,179,180,181,183,184,185,187,188,189,200,202,204,205,"Type",-3,86,101,107,"ClassItem"],["openedBy",23,"<",36,"InterpolationStart",54,"[",58,"{",71,"(",159,"JSXStartCloseTag"],["closedBy",-2,24,167,">",38,"InterpolationEnd",48,"]",59,"}",72,")",164,"JSXEndTag"]],propSources:[uwe],skippedNodes:[0,5,6,276],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$h&j(X!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(X!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$h&j(UpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(UpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$h&j(Up(X!b'z0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(V#S$h&j'{0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$h&j(Up(X!b'{0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$h&j!n),Q(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#u(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#u(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(T':f$h&j(X!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$h&j(X!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$h&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$c`$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$c``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$c`$h&j(X!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(X!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$c`(X!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$h&j(Up(X!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$h&j(Up(X!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$h&j(X!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$h&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(X!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$h&j(UpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(UpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Up(X!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$h&j(m%1l(Up(X!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$h&j(Up(X!b$[#t(R,2j(c$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$h&j(Up(X!b$[#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$h&j(Up(X!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$h&j$P(Ch(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(x+JY$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$h&j#y(Ch(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(W';W$h&j(UpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$h&j(UpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$h&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$c`$h&j(UpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(UpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$c`(UpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!j/.^$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!i!Lf$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$h&j(Up(X!b(S%&f#o(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$h&j(Up(X!b#l(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$h&j(Up(X!bp+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!Z+Jf$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$h&j(Up(X!b!O.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_!Y!L^$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$h&j(Up(X!b#m(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$h&j(Up(X!b!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$h&j(X!b!V7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$h&j!V7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$h&j!V7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!V7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!V7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$h&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$h&j(X!b!V7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(X!b!V7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(X!b!V7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(X!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$h&j(X!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$h&j(Up!V7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$h&j(Up!V7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Up!V7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Up!V7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(UpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$h&j(UpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$h&j(Up(X!b!V7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Up(X!b!V7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Up(X!b!V7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Up(X!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$h&j(Up(X!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$h&j(Up(X!b'|0/l!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$h&j(Up(X!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$h&j(X!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$h&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(X!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$h&j(UpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(UpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Up(X!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$h&j$P(Ch(Up(X!b!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Y#t$h&j(Up(X!b!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!e$b$h&j#})Lv(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#P-<U(Up(X!b$m7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$j&j(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#p(Ch(Up(X!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$P(Ch(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#q(Ch(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#^*!Y$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#i(Cl$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#q(Ch$e#|$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#q(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#p(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#p(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(p(Ct$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$h&j#z(Ch(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!z$Ip$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!Q0,v$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$h&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$h&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$h&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$h&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$h&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!W#)l$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#w(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$h&j(Up(X!b(_+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$h&j(Up(X!b(R,2j$^#t(c$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$h&j(Up(X!b$^#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!]#Hb(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(w+JY$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_![(CdtBr$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!o7`$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$h&j(Up(X!b'z0/l$[#t(R,2j(c$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$h&j(Up(X!b'{0/l$[#t(R,2j(c$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[owe,awe,lwe,cwe,2,3,4,5,6,7,8,9,10,11,12,13,14,swe,new Iw("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOv~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!S~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(a~~",141,338),new Iw("j~RQYZXz{^~^O(O~~aP!P!Qd~iO(P~~",25,321)],topRules:{Script:[0,7],SingleExpression:[1,274],SingleClassItem:[2,275]},dialects:{jsx:0,ts:15091},dynamicPrecedences:{78:1,80:1,92:1,168:1,198:1},specialized:[{term:325,get:n=>hwe[n]||-1},{term:341,get:n=>dwe[n]||-1},{term:93,get:n=>fwe[n]||-1}],tokenPrec:15116}),mwe=1024;let gwe=0,Dk=class{constructor(e,t){this.from=e,this.to=t}},$t=class{constructor(e={}){this.id=gwe++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Lo.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}};$t.closedBy=new $t({deserialize:n=>n.split(" ")});$t.openedBy=new $t({deserialize:n=>n.split(" ")});$t.group=new $t({deserialize:n=>n.split(" ")});$t.isolate=new $t({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});$t.contextHash=new $t({perNode:!0});$t.lookAhead=new $t({perNode:!0});$t.mounted=new $t({perNode:!0});let $w=class{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[$t.mounted.id]}};const Owe=Object.create(null);let Lo=class Z9{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):Owe,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new Z9(e.name||"",t,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop($t.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop($t.group),s=-1;s<(i?i.length:0);s++){let o=t[s<0?r.name:i[s]];if(o)return o}}}};Lo.none=new Lo("",Object.create(null),0,8);const R0=new WeakMap,VV=new WeakMap;var Hn;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(Hn||(Hn={}));let Ri=class PC{constructor(e,t,r,i,s){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=$w.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new EC(this.topNode,e)}cursorAt(e,t=0,r=0){let i=R0.get(this)||this.topNode,s=new EC(i);return s.moveTo(e,t),R0.set(this,s._tree),s}get topNode(){return new Uo(this,0,0,null)}resolve(e,t=0){let r=Gg(R0.get(this)||this.topNode,e,t,!1);return R0.set(this,r),r}resolveInner(e,t=0){let r=Gg(VV.get(this)||this.topNode,e,t,!0);return VV.set(this,r),r}resolveStack(e,t=0){return wwe(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:s=this.length}=e,o=e.mode||0,a=(o&Hn.IncludeAnonymous)>0;for(let l=this.cursor(o|Hn.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=i&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:rI(Lo.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new PC(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new PC(Lo.none,t,r,i)))}static build(e){return bwe(e)}};Ri.empty=new Ri(Lo.none,[],[],0);let ywe=class F9{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new F9(this.buffer,this.index)}},lf=class B9{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return Lo.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(W9(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,t,r){let i=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=i[a++],s[l++]=i[a++]-r;let c=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,c)}return new B9(s,o,this.set)}};function W9(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function Gg(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!r&&n instanceof Uo&&n.index<0?null:n.parent;if(!o)return n;n=o}let s=r?0:Hn.IgnoreOverlays;if(r)for(let o=n,a=o.parent;a;o=a,a=o.parent)o instanceof Uo&&o.index<0&&((i=a.enter(e,t,s))===null||i===void 0?void 0:i.from)!=o.from&&(n=a);for(;;){let o=n.enter(e,t,s);if(!o)return n;n=o}}let X9=class{cursor(e=0){return new EC(this,e)}getChild(e,t=null,r=null){let i=LV(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return LV(this,e,t,r)}resolve(e,t=0){return Gg(this,e,t,!1)}resolveInner(e,t=0){return Gg(this,e,t,!0)}matchContext(e){return CC(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}},Uo=class Av extends X9{constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=t>0?a.length:-1;e!=c;e+=t){let u=a[e],h=l[e]+o.from;if(W9(i,r,h,h+u.length)){if(u instanceof lf){if(s&Hn.ExcludeBuffers)continue;let f=u.findChild(0,u.buffer.length,t,r-h,i);if(f>-1)return new Yg(new vwe(o,u,e,h),null,f)}else if(s&Hn.IncludeAnonymous||!u.type.isAnonymous||nI(u)){let f;if(!(s&Hn.IgnoreMounts)&&(f=$w.get(u))&&!f.overlay)return new Av(f.tree,h,e,o);let m=new Av(u,h,e,o);return s&Hn.IncludeAnonymous||!m.type.isAnonymous?m:m.nextChild(t<0?u.children.length-1:0,t,r,i)}}}if(s&Hn.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&Hn.IgnoreOverlays)&&(i=$w.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:o,to:a}of i.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new Av(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function LV(n,e,t,r){let i=n.cursor(),s=[];if(!i.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=i.type.is(t),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function CC(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}let vwe=class{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}},Yg=class am extends X9{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return s<0?null:new am(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&Hn.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new am(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new am(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new am(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),t.push(0)}return new Ri(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function G9(n){if(!n.length)return null;let e=0,t=n[0];for(let s=1;s<n.length;s++){let o=n[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let r=t instanceof Uo&&t.index<0?null:t.parent,i=n.slice();return r?i[e]=r:i.splice(e,1),new xwe(i,t)}let xwe=class{constructor(e,t){this.heads=e,this.node=t}get next(){return G9(this.heads)}};function wwe(n,e,t){let r=n.resolveInner(e,t),i=null;for(let s=r instanceof Uo?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[r])).push(o.resolve(e,t)),s=o}else{let o=$w.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new Uo(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(Gg(a,e,t,!1))}}return i?G9(i):r}let EC=class{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Uo)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof Uo?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&Hn.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Hn.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Hn.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let s=t+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&Hn.IncludeAnonymous||a instanceof lf||!a.type.isAnonymous||nI(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;t=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)t=new Yg(this.buffer,t,this.stack[i]);return this.bufferNode=new Yg(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return CC(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return CC(this._tree,e,i);let o=r[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}};function nI(n){return n.children.some(e=>e instanceof lf||!e.type.isAnonymous||nI(e))}function bwe(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=mwe,reused:s=[],minRepeatType:o=r.types.length}=n,a=Array.isArray(t)?new ywe(t,t.length):t,l=r.types,c=0,u=0;function h(C,Q,O,w,k,R){let{id:P,start:v,end:A,size:j}=a,V=u,U=c;for(;j<0;)if(a.next(),j==-1){let F=s[P];O.push(F),w.push(v-C);return}else if(j==-3){c=P;return}else if(j==-4){u=P;return}else throw new RangeError(`Unrecognized record size: ${j}`);let W=l[P],D,L,Y=v-C;if(A-v<=i&&(L=x(a.pos-Q,k))){let F=new Uint16Array(L.size-L.skip),Z=a.pos-L.size,G=F.length;for(;a.pos>Z;)G=S(L.start,F,G);D=new lf(F,A-L.start,r),Y=L.start-C}else{let F=a.pos-j;a.next();let Z=[],G=[],J=P>=o?P:-1,ae=0,oe=A;for(;a.pos>F;)J>=0&&a.id==J&&a.size>=0?(a.end<=oe-i&&(g(Z,G,v,ae,a.end,oe,J,V,U),ae=Z.length,oe=a.end),a.next()):R>2500?f(v,F,Z,G):h(v,F,Z,G,J,R+1);if(J>=0&&ae>0&&ae<Z.length&&g(Z,G,v,ae,v,oe,J,V,U),Z.reverse(),G.reverse(),J>-1&&ae>0){let re=m(W,U);D=rI(W,Z,G,0,Z.length,0,A-v,re,re)}else D=y(W,Z,G,A-v,V-A,U)}O.push(D),w.push(Y)}function f(C,Q,O,w){let k=[],R=0,P=-1;for(;a.pos>Q;){let{id:v,start:A,end:j,size:V}=a;if(V>4)a.next();else{if(P>-1&&A<P)break;P<0&&(P=j-i),k.push(v,A,j),R++,a.next()}}if(R){let v=new Uint16Array(R*4),A=k[k.length-2];for(let j=k.length-3,V=0;j>=0;j-=3)v[V++]=k[j],v[V++]=k[j+1]-A,v[V++]=k[j+2]-A,v[V++]=V;O.push(new lf(v,k[2]-A,r)),w.push(A-C)}}function m(C,Q){return(O,w,k)=>{let R=0,P=O.length-1,v,A;if(P>=0&&(v=O[P])instanceof Ri){if(!P&&v.type==C&&v.length==k)return v;(A=v.prop($t.lookAhead))&&(R=w[P]+v.length+A)}return y(C,O,w,k,R,Q)}}function g(C,Q,O,w,k,R,P,v,A){let j=[],V=[];for(;C.length>w;)j.push(C.pop()),V.push(Q.pop()+O-k);C.push(y(r.types[P],j,V,R-k,v-R,A)),Q.push(k-O)}function y(C,Q,O,w,k,R,P){if(R){let v=[$t.contextHash,R];P=P?[v].concat(P):[v]}if(k>25){let v=[$t.lookAhead,k];P=P?[v].concat(P):[v]}return new Ri(C,Q,O,w,P)}function x(C,Q){let O=a.fork(),w=0,k=0,R=0,P=O.end-i,v={size:0,start:0,skip:0};e:for(let A=O.pos-C;O.pos>A;){let j=O.size;if(O.id==Q&&j>=0){v.size=w,v.start=k,v.skip=R,R+=4,w+=4,O.next();continue}let V=O.pos-j;if(j<0||V<A||O.start<P)break;let U=O.id>=o?4:0,W=O.start;for(O.next();O.pos>V;){if(O.size<0)if(O.size==-3)U+=4;else break e;else O.id>=o&&(U+=4);O.next()}k=W,w+=j,R+=U}return(Q<0||w==C)&&(v.size=w,v.start=k,v.skip=R),v.size>4?v:void 0}function S(C,Q,O){let{id:w,start:k,end:R,size:P}=a;if(a.next(),P>=0&&w<o){let v=O;if(P>4){let A=a.pos-(P-4);for(;a.pos>A;)O=S(C,Q,O)}Q[--O]=v,Q[--O]=R-C,Q[--O]=k-C,Q[--O]=w}else P==-3?c=w:P==-4&&(u=w);return O}let _=[],T=[];for(;a.pos>0;)h(n.start||0,n.bufferStart||0,_,T,-1,0);let I=(e=n.length)!==null&&e!==void 0?e:_.length?T[0]+_[0].length:0;return new Ri(l[n.topID],_.reverse(),T.reverse(),I)}const UV=new WeakMap;function Rv(n,e){if(!n.isAnonymous||e instanceof lf||e.type!=n)return 1;let t=UV.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof Ri)){t=1;break}t+=Rv(n,r)}UV.set(e,t)}return t}function rI(n,e,t,r,i,s,o,a,l){let c=0;for(let g=r;g<i;g++)c+=Rv(n,e[g]);let u=Math.ceil(c*1.5/8),h=[],f=[];function m(g,y,x,S,_){for(let T=x;T<S;){let I=T,C=y[T],Q=Rv(n,g[T]);for(T++;T<S;T++){let O=Rv(n,g[T]);if(Q+O>=u)break;Q+=O}if(T==I+1){if(Q>u){let O=g[I];m(O.children,O.positions,0,O.children.length,y[I]+_);continue}h.push(g[I])}else{let O=y[T-1]+g[T-1].length-C;h.push(rI(n,g,y,I,T,C,O,null,l))}f.push(C+_-s)}}return m(e,t,r,i,0),(a||l)(h,f,o)}let Swe=class{constructor(){this.map=new WeakMap}setBuffer(e,t,r){let i=this.map.get(e);i||this.map.set(e,i=new Map),i.set(t,r)}getBuffer(e,t){let r=this.map.get(e);return r&&r.get(t)}set(e,t){e instanceof Yg?this.setBuffer(e.context.buffer,e.index,t):e instanceof Uo&&this.map.set(e.tree,t)}get(e){return e instanceof Yg?this.getBuffer(e.context.buffer,e.index):e instanceof Uo?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}},Qv=class AC{constructor(e,t,r,i,s=!1,o=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],r=!1){let i=[new AC(0,e.length,e,0,!1,r)];for(let s of t)s.to>e.length&&i.push(s);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let u=a<t.length?t[a]:null,h=u?u.fromA:1e9;if(h-l>=r)for(;o&&o.from<h;){let f=o;if(l>=f.from||h<=f.to||c){let m=Math.max(f.from,l)-c,g=Math.min(f.to,h)-c;f=m>=g?null:new AC(m,g,f.tree,f.offset+c,a>0,!!u)}if(f&&i.push(f),o.to>h)break;o=s<e.length?e[s++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return i}},kwe=class{startParse(e,t,r){return typeof e=="string"&&(e=new _we(e)),r=r?r.length?r.map(i=>new Dk(i.from,i.to)):[new Dk(0,0)]:[new Dk(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let s=i.advance();if(s)return s}}},_we=class{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}};new $t({perNode:!0});var Mk;const Gh=new $t;function Y9(n){return de.define({combine:n?e=>e.concat(n):void 0})}const iI=new $t;let Ts=class{constructor(e,t,r=[],i=""){this.data=e,this.name=i,De.prototype.hasOwnProperty("tree")||Object.defineProperty(De.prototype,"tree",{get(){return cf(this)}}),this.parser=t,this.extension=[uf.of(this),De.languageData.of((s,o,a)=>{let l=zV(s,o,a),c=l.type.prop(Gh);if(!c)return[];let u=s.facet(c),h=l.type.prop(iI);if(h){let f=l.resolve(o-l.from,a);for(let m of h)if(m.test(f,s)){let g=s.facet(m.facet);return m.type=="replace"?g:g.concat(u)}}return u})].concat(r)}isActiveAt(e,t,r=-1){return zV(e,t,r).type.prop(Gh)==this.data}findRegions(e){let t=e.facet(uf);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let r=[],i=(s,o)=>{if(s.prop(Gh)==this.data){r.push({from:o,to:o+s.length});return}let a=s.prop($t.mounted);if(a){if(a.tree.prop(Gh)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+o,to:l.to+o});else r.push({from:o,to:o+s.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+o),r.length>l)return}}for(let l=0;l<s.children.length;l++){let c=s.children[l];c instanceof Ri&&i(c,s.positions[l]+o)}};return i(cf(e),0),r}get allowsNesting(){return!0}};Ts.setState=Ne.define();function zV(n,e,t){let r=n.facet(uf),i=cf(n).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,t,Hn.ExcludeBuffers))s.type.isTop&&(i=s);return i}let Twe=class RC extends Ts{constructor(e,t,r){super(e,t,[],r),this.parser=t}static define(e){let t=Y9(e.languageData);return new RC(t,e.parser.configure({props:[Gh.add(r=>r.isTop?t:void 0)]}),e.name)}configure(e,t){return new RC(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}};function cf(n){let e=n.field(Ts.state,!1);return e?e.tree:Ri.empty}let Pwe=class{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}},Ep=null,Cwe=class QC{constructor(e,t,r=[],i,s,o,a,l){this.parser=e,this.state=t,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new QC(e,t,[],Ri.empty,0,r,[],null)}startParse(){return this.parser.startParse(new Pwe(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=Ri.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(Qv.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Qv.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=Ep;Ep=this;try{return e()}finally{Ep=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=qV(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:i,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,u,h,f)=>l.push({fromA:c,toA:u,fromB:h,toB:f})),r=Qv.applyChanges(r,l),i=Ri.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),h=e.mapPos(c.to,-1);u<h&&a.push({from:u,to:h})}}}return new QC(this.parser,t,r,i,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=qV(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends kwe{createParse(t,r,i){let s=i[0].from,o=i[i.length-1].to;return{parsedPos:s,advance(){let l=Ep;if(l){for(let c of i)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new Ri(Lo.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return Ep}};function qV(n,e,t){return Qv.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}let IC=class $C{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new $C(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=Cwe.create(e.facet(uf).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new $C(r)}};Ts.state=Xt.define({create:IC.init,update(n,e){for(let t of e.effects)if(t.is(Ts.setState))return t.value;return e.startState.facet(uf)!=e.state.facet(uf)?IC.init(e.state):n.apply(e)}});let H9=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(H9=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const Vk=typeof navigator<"u"&&(!((Mk=navigator.scheduling)===null||Mk===void 0)&&Mk.isInputPending)?()=>navigator.scheduling.isInputPending():null,Ewe=Vt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Ts.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Ts.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=H9(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(Ts.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!Vk?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<i&&r.doc.length>i+1e3,l=s.context.work(()=>Vk&&Vk()||Date.now()>o,i+(a?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Ts.setState.of(new IC(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>An(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),uf=de.define({combine(n){return n.length?n[0]:null},enables:n=>[Ts.state,Ewe,fe.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});let Awe=class{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}};const Rwe=de.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}}),Qwe=new $t;function Iwe(n){let e=n.node,t=e.childAfter(e.from),r=e.lastChild;if(!t)return null;let i=n.options.simulateBreak,s=n.state.doc.lineAt(t.from),o=i==null||i<=s.from?s.to:Math.min(s.to,i);for(let a=t.to;;){let l=e.childAfter(a);if(!l||l==r)return null;if(!l.type.isSkipped){if(l.from>=o)return null;let c=/^ */.exec(s.text.slice(t.to-s.from))[0].length;return{from:t.from,to:t.to+c}}a=l.to}}function $we({closing:n,align:e=!0,units:t=1}){return r=>Nwe(r,e,t,n)}function Nwe(n,e,t,r,i){let s=n.textAfter,o=s.match(/^\s*/)[0].length,a=r&&s.slice(o,o+r.length)==r||i==n.pos+o,l=e?Iwe(n):null;return l?a?n.column(l.from):n.column(l.to):n.baseIndent+(a?0:n.unit*t)}const jwe=n=>n.baseIndent;function Lk({except:n,units:e=1}={}){return t=>{let r=n&&n.test(t.textAfter);return t.baseIndent+(r?0:e*t.unit)}}const Dwe=new $t;function Mwe(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}let Vwe=class K9{constructor(e,t){this.specs=e;let r;function i(a){let l=Rn.newName();return(r||(r=Object.create(null)))["."+l]=a,l}const s=typeof t.all=="string"?t.all:t.all?i(t.all):void 0,o=t.scope;this.scope=o instanceof Ts?a=>a.prop(Gh)==o.data:o?a=>a==o:void 0,this.style=Zc(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=r?new Rn(r):null,this.themeType=t.themeType}static define(e,t){return new K9(e,t||{})}};N.meta,N.link,N.heading,N.emphasis,N.strong,N.strikethrough,N.keyword,N.atom,N.bool,N.url,N.contentSeparator,N.labelName,N.literal,N.inserted,N.string,N.deleted,N.regexp,N.escape,N.string,N.variableName,N.variableName,N.typeName,N.namespace,N.className,N.variableName,N.macroName,N.propertyName,N.comment,N.invalid;const Lwe=Object.create(null),ZV=[Lo.none],FV=[],BV=Object.create(null),Uwe=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Uwe[n]=zwe(Lwe,e);function Uk(n,e){FV.indexOf(n)>-1||(FV.push(n),console.warn(e))}function zwe(n,e){let t=[];for(let a of e.split(" ")){let l=[];for(let c of a.split(".")){let u=n[c]||N[c];u?typeof u=="function"?l.length?l=l.map(u):Uk(c,`Modifier ${c} used at start of tag`):l.length?Uk(c,`Tag ${c} used as modifier`):l=Array.isArray(u)?u:[u]:Uk(c,`Unknown highlighting tag ${c}`)}for(let c of l)t.push(c)}if(!t.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+t.map(a=>a.id),s=BV[i];if(s)return s.id;let o=BV[i]=Lo.define({id:ZV.length,name:r,props:[Wi({[r]:t})]});return ZV.push(o),o.id}it.RTL,it.LTR;function WV(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function qwe(n){let e=Object.create(null),t=Object.create(null);for(let{label:i}of n){e[i[0]]=!0;for(let s=1;s<i.length;s++)t[i[s]]=!0}let r=WV(e)+WV(t)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function Zwe(n){let e=n.map(i=>typeof i=="string"?{label:i}:i),[t,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:qwe(e);return i=>{let s=i.matchBefore(r);return s||i.explicit?{from:s?s.from:i.pos,options:e,validFor:t}:null}}function Fwe(n,e){return t=>{for(let r=cf(t.state).resolveInner(t.pos,-1);r;r=r.parent){if(n.indexOf(r.name)>-1)return null;if(r.type.isTop)break}return e(t)}}const Bwe=Fs.define(),Wwe=fe.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});let Xwe=class{constructor(e,t,r,i){this.field=e,this.line=t,this.from=r,this.to=i}},Gwe=class J9{constructor(e,t,r){this.field=e,this.from=t,this.to=r}map(e){let t=e.mapPos(this.from,-1,Ln.TrackDel),r=e.mapPos(this.to,1,Ln.TrackDel);return t==null||r==null?null:new J9(this.field,t,r)}},Ywe=class e6{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let r=[],i=[t],s=e.doc.lineAt(t),o=/^\s*/.exec(s.text)[0];for(let l of this.lines){if(r.length){let c=o,u=/^\t*/.exec(l)[0].length;for(let h=0;h<u;h++)c+=e.facet(Rwe);i.push(t+c.length-u),l=c+l.slice(u)}r.push(l),t+=l.length+1}let a=this.fieldPositions.map(l=>new Gwe(l.field,i[l.line]+l.from,i[l.line]+l.to));return{text:r,ranges:a}}static parse(e){let t=[],r=[],i=[],s;for(let o of e.split(/\r\n?|\n/)){for(;s=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(o);){let a=s[1]?+s[1]:null,l=s[2]||s[3]||"",c=-1,u=l.replace(/\\[{}]/g,h=>h[1]);for(let h=0;h<t.length;h++)(a!=null?t[h].seq==a:u&&t[h].name==u)&&(c=h);if(c<0){let h=0;for(;h<t.length&&(a==null||t[h].seq!=null&&t[h].seq<a);)h++;t.splice(h,0,{seq:a,name:u}),c=h;for(let f of i)f.field>=c&&f.field++}i.push(new Xwe(c,r.length,s.index,s.index+u.length)),o=o.slice(0,s.index)+l+o.slice(s.index+s[0].length)}o=o.replace(/\\([{}])/g,(a,l,c)=>{for(let u of i)u.line==r.length&&u.from>c&&(u.from--,u.to--);return l}),r.push(o)}return new e6(r,i)}},Hwe=ye.widget({widget:new class extends ea{toDOM(){let n=document.createElement("span");return n.className="cm-snippetFieldPosition",n}ignoreEvent(){return!1}}}),Kwe=ye.mark({class:"cm-snippetField"}),wS=class t6{constructor(e,t){this.ranges=e,this.active=t,this.deco=ye.set(e.map(r=>(r.from==r.to?Hwe:Kwe).range(r.from,r.to)))}map(e){let t=[];for(let r of this.ranges){let i=r.map(e);if(!i)return null;t.push(i)}return new t6(t,this.active)}selectionInsideField(e){return e.ranges.every(t=>this.ranges.some(r=>r.field==this.active&&r.from<=t.from&&r.to>=t.to))}};const ry=Ne.define({map(n,e){return n&&n.map(e)}}),Jwe=Ne.define(),Hg=Xt.define({create(){return null},update(n,e){for(let t of e.effects){if(t.is(ry))return t.value;if(t.is(Jwe)&&n)return new wS(n.ranges,t.value)}return n&&e.docChanged&&(n=n.map(e.changes)),n&&e.selection&&!n.selectionInsideField(e.selection)&&(n=null),n},provide:n=>fe.decorations.from(n,e=>e?e.deco:ye.none)});function sI(n,e){return te.create(n.filter(t=>t.field==e).map(t=>te.range(t.from,t.to)))}function ebe(n){let e=Ywe.parse(n);return(t,r,i,s)=>{let{text:o,ranges:a}=e.instantiate(t.state,i),{main:l}=t.state.selection,c={changes:{from:i,to:s==l.from?l.to:s,insert:pt.of(o)},scrollIntoView:!0,annotations:r?[Bwe.of(r),vn.userEvent.of("input.complete")]:void 0};if(a.length&&(c.selection=sI(a,0)),a.some(u=>u.field>0)){let u=new wS(a,0),h=c.effects=[ry.of(u)];t.state.field(Hg,!1)===void 0&&h.push(Ne.appendConfig.of([Hg,sbe,obe,Wwe]))}t.dispatch(t.state.update(c))}}function n6(n){return({state:e,dispatch:t})=>{let r=e.field(Hg,!1);if(!r||n<0&&r.active==0)return!1;let i=r.active+n,s=n>0&&!r.ranges.some(o=>o.field==i+n);return t(e.update({selection:sI(r.ranges,i),effects:ry.of(s?null:new wS(r.ranges,i)),scrollIntoView:!0})),!0}}const tbe=({state:n,dispatch:e})=>n.field(Hg,!1)?(e(n.update({effects:ry.of(null)})),!0):!1,nbe=n6(1),rbe=n6(-1),ibe=[{key:"Tab",run:nbe,shift:rbe},{key:"Escape",run:tbe}],XV=de.define({combine(n){return n.length?n[0]:ibe}}),sbe=sl.highest(KO.compute([XV],n=>n.facet(XV)));function ti(n,e){return Object.assign(Object.assign({},e),{apply:ebe(n)})}const obe=fe.domEventHandlers({mousedown(n,e){let t=e.state.field(Hg,!1),r;if(!t||(r=e.posAtCoords({x:n.clientX,y:n.clientY}))==null)return!1;let i=t.ranges.find(s=>s.from<=r&&s.to>=r);return!i||i.field==t.active?!1:(e.dispatch({selection:sI(t.ranges,i.field),effects:ry.of(t.ranges.some(s=>s.field>i.field)?new wS(t.ranges,i.field):null),scrollIntoView:!0}),!0)}}),r6=new class extends Do{};r6.startSide=1;r6.endSide=-1;const i6=[ti("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),ti("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),ti("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),ti("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),ti("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),ti(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),ti("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),ti(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),ti(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),ti('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),ti('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],abe=i6.concat([ti("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),ti("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),ti("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),GV=new Swe,s6=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function Ap(n){return(e,t)=>{let r=e.node.getChild("VariableDefinition");return r&&t(r,n),!0}}const lbe=["FunctionDeclaration"],cbe={FunctionDeclaration:Ap("function"),ClassDeclaration:Ap("class"),ClassExpression:()=>!0,EnumDeclaration:Ap("constant"),TypeAliasDeclaration:Ap("type"),NamespaceDeclaration:Ap("namespace"),VariableDefinition(n,e){n.matchContext(lbe)||e(n,"variable")},TypeDefinition(n,e){e(n,"type")},__proto__:null};function o6(n,e){let t=GV.get(e);if(t)return t;let r=[],i=!0;function s(o,a){let l=n.sliceString(o.from,o.to);r.push({label:l,type:a})}return e.cursor(Hn.IncludeAnonymous).iterate(o=>{if(i)i=!1;else if(o.name){let a=cbe[o.name];if(a&&a(o,s)||s6.has(o.name))return!1}else if(o.to-o.from>8192){for(let a of o6(n,o.node))r.push(a);return!1}}),GV.set(e,r),r}const YV=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,a6=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function ube(n){let e=cf(n.state).resolveInner(n.pos,-1);if(a6.indexOf(e.name)>-1)return null;let t=e.name=="VariableName"||e.to-e.from<20&&YV.test(n.state.sliceDoc(e.from,e.to));if(!t&&!n.explicit)return null;let r=[];for(let i=e;i;i=i.parent)s6.has(i.name)&&(r=r.concat(o6(n.state.doc,i)));return{options:r,from:t?e.from:n.pos,validFor:YV}}const Ro=Twe.define({name:"javascript",parser:pwe.configure({props:[Qwe.add({IfStatement:Lk({except:/^\s*({|else\b)/}),TryStatement:Lk({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:jwe,SwitchBody:n=>{let e=n.textAfter,t=/^\s*\}/.test(e),r=/^\s*(case|default)\b/.test(e);return n.baseIndent+(t?0:r?1:2)*n.unit},Block:$we({closing:"}"}),ArrowFunction:n=>n.baseIndent+n.unit,"TemplateString BlockComment":()=>null,"Statement Property":Lk({except:/^{/}),JSXElement(n){let e=/^\s*<\//.test(n.textAfter);return n.lineIndent(n.node.from)+(e?0:n.unit)},JSXEscape(n){let e=/\s*\}/.test(n.textAfter);return n.lineIndent(n.node.from)+(e?0:n.unit)},"JSXOpenTag JSXSelfClosingTag"(n){return n.column(n.node.from)+n.unit}}),Dwe.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":Mwe,BlockComment(n){return{from:n.from+2,to:n.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),l6={test:n=>/^JSX/.test(n.name),facet:Y9({commentTokens:{block:{open:"{/*",close:"*/}"}}})},c6=Ro.configure({dialect:"ts"},"typescript"),u6=Ro.configure({dialect:"jsx",props:[iI.add(n=>n.isTop?[l6]:void 0)]}),h6=Ro.configure({dialect:"jsx ts",props:[iI.add(n=>n.isTop?[l6]:void 0)]},"typescript");let d6=n=>({label:n,type:"keyword"});const f6="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(d6),hbe=f6.concat(["declare","implements","private","protected","public"].map(d6));function oI(n={}){let e=n.jsx?n.typescript?h6:u6:n.typescript?c6:Ro,t=n.typescript?abe.concat(hbe):i6.concat(f6);return new Awe(e,[Ro.data.of({autocomplete:Fwe(a6,Zwe(t))}),Ro.data.of({autocomplete:ube}),n.jsx?pbe:[]])}function dbe(n){for(;;){if(n.name=="JSXOpenTag"||n.name=="JSXSelfClosingTag"||n.name=="JSXFragmentTag")return n;if(n.name=="JSXEscape"||!n.parent)return null;n=n.parent}}function HV(n,e,t=n.length){for(let r=e==null?void 0:e.firstChild;r;r=r.nextSibling)if(r.name=="JSXIdentifier"||r.name=="JSXBuiltin"||r.name=="JSXNamespacedName"||r.name=="JSXMemberExpression")return n.sliceString(r.from,Math.min(r.to,t));return""}const fbe=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),pbe=fe.inputHandler.of((n,e,t,r,i)=>{if((fbe?n.composing:n.compositionStarted)||n.state.readOnly||e!=t||r!=">"&&r!="/"||!Ro.isActiveAt(n.state,e,-1))return!1;let s=i(),{state:o}=s,a=o.changeByRange(l=>{var c;let{head:u}=l,h=cf(o).resolveInner(u-1,-1),f;if(h.name=="JSXStartTag"&&(h=h.parent),!(o.doc.sliceString(u-1,u)!=r||h.name=="JSXAttributeValue"&&h.to>u)){if(r==">"&&h.name=="JSXFragmentTag")return{range:l,changes:{from:u,insert:"</>"}};if(r=="/"&&h.name=="JSXStartCloseTag"){let m=h.parent,g=m.parent;if(g&&m.from==u-2&&((f=HV(o.doc,g.firstChild,u))||((c=g.firstChild)===null||c===void 0?void 0:c.name)=="JSXFragmentTag")){let y=`${f}>`;return{range:te.cursor(u+y.length,-1),changes:{from:u,insert:y}}}}else if(r==">"){let m=dbe(h);if(m&&m.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(o.doc.sliceString(u,u+2))&&(f=HV(o.doc,m,u)))return{range:l,changes:{from:u,insert:`</${f}>`}}}}return{range:l}});return a.changes.empty?!1:(n.dispatch([s,o.update(a,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),mbe=1,p6=194,m6=195,gbe=196,KV=197,Obe=198,ybe=199,vbe=200,xbe=2,g6=3,JV=201,wbe=24,bbe=25,Sbe=49,kbe=50,_be=55,Tbe=56,Pbe=57,Cbe=59,Ebe=60,Abe=61,Rbe=62,Qbe=63,Ibe=65,$be=238,Nbe=71,jbe=241,Dbe=242,Mbe=243,Vbe=244,Lbe=245,Ube=246,zbe=247,qbe=248,O6=72,Zbe=249,Fbe=250,Bbe=251,Wbe=252,Xbe=253,Gbe=254,Ybe=255,Hbe=256,Kbe=73,Jbe=77,eSe=263,tSe=112,nSe=130,rSe=151,iSe=152,sSe=155,Ku=10,Kg=13,aI=32,bS=9,lI=35,oSe=40,aSe=46,NC=123,eL=125,y6=39,v6=34,lSe=92,cSe=111,uSe=120,hSe=78,dSe=117,fSe=85,pSe=new Set([bbe,Sbe,kbe,eSe,Ibe,nSe,Tbe,Pbe,$be,Rbe,Qbe,O6,Kbe,Jbe,Ebe,Abe,rSe,iSe,sSe,tSe]);function zk(n){return n==Ku||n==Kg}function qk(n){return n>=48&&n<=57||n>=65&&n<=70||n>=97&&n<=102}const mSe=new Or((n,e)=>{let t;if(n.next<0)n.acceptToken(ybe);else if(e.context.flags&Iv)zk(n.next)&&n.acceptToken(Obe,1);else if(((t=n.peek(-1))<0||zk(t))&&e.canShift(KV)){let r=0;for(;n.next==aI||n.next==bS;)n.advance(),r++;(n.next==Ku||n.next==Kg||n.next==lI)&&n.acceptToken(KV,-r)}else zk(n.next)&&n.acceptToken(gbe,1)},{contextual:!0}),gSe=new Or((n,e)=>{let t=e.context;if(t.flags)return;let r=n.peek(-1);if(r==Ku||r==Kg){let i=0,s=0;for(;;){if(n.next==aI)i++;else if(n.next==bS)i+=8-i%8;else break;n.advance(),s++}i!=t.indent&&n.next!=Ku&&n.next!=Kg&&n.next!=lI&&(i<t.indent?n.acceptToken(m6,-s):n.acceptToken(p6))}}),Iv=1,x6=2,fa=4,pa=8,ma=16,ga=32;function $v(n,e,t){this.parent=n,this.indent=e,this.flags=t,this.hash=(n?n.hash+n.hash<<8:0)+e+(e<<4)+t+(t<<6)}const OSe=new $v(null,0,0);function ySe(n){let e=0;for(let t=0;t<n.length;t++)e+=n.charCodeAt(t)==bS?8-e%8:1;return e}const tL=new Map([[jbe,0],[Dbe,fa],[Mbe,pa],[Vbe,pa|fa],[Lbe,ma],[Ube,ma|fa],[zbe,ma|pa],[qbe,ma|pa|fa],[Zbe,ga],[Fbe,ga|fa],[Bbe,ga|pa],[Wbe,ga|pa|fa],[Xbe,ga|ma],[Gbe,ga|ma|fa],[Ybe,ga|ma|pa],[Hbe,ga|ma|pa|fa]].map(([n,e])=>[n,e|x6])),vSe=new tI({start:OSe,reduce(n,e,t,r){return n.flags&Iv&&pSe.has(e)||(e==Nbe||e==O6)&&n.flags&x6?n.parent:n},shift(n,e,t,r){return e==p6?new $v(n,ySe(r.read(r.pos,t.pos)),0):e==m6?n.parent:e==wbe||e==_be||e==Cbe||e==g6?new $v(n,0,Iv):tL.has(e)?new $v(n,0,tL.get(e)|n.flags&Iv):n},hash(n){return n.hash}}),xSe=new Or(n=>{for(let e=0;e<5;e++){if(n.next!="print".charCodeAt(e))return;n.advance()}if(!/\w/.test(String.fromCharCode(n.next)))for(let e=0;;e++){let t=n.peek(e);if(!(t==aI||t==bS)){t!=oSe&&t!=aSe&&t!=Ku&&t!=Kg&&t!=lI&&n.acceptToken(mbe);return}}}),wSe=new Or((n,e)=>{let{flags:t}=e.context,r=t&fa?v6:y6,i=(t&pa)>0,s=!(t&ma),o=(t&ga)>0,a=n.pos;for(;!(n.next<0);)if(o&&n.next==NC)if(n.peek(1)==NC)n.advance(2);else{if(n.pos==a){n.acceptToken(g6,1);return}break}else if(s&&n.next==lSe){if(n.pos==a){n.advance();let l=n.next;l>=0&&(n.advance(),bSe(n,l)),n.acceptToken(xbe);return}break}else if(n.next==r&&(!i||n.peek(1)==r&&n.peek(2)==r)){if(n.pos==a){n.acceptToken(JV,i?3:1);return}break}else if(n.next==Ku){if(i)n.advance();else if(n.pos==a){n.acceptToken(JV);return}break}else n.advance();n.pos>a&&n.acceptToken(vbe)});function bSe(n,e){if(e==cSe)for(let t=0;t<2&&n.next>=48&&n.next<=55;t++)n.advance();else if(e==uSe)for(let t=0;t<2&&qk(n.next);t++)n.advance();else if(e==dSe)for(let t=0;t<4&&qk(n.next);t++)n.advance();else if(e==fSe)for(let t=0;t<8&&qk(n.next);t++)n.advance();else if(e==hSe&&n.next==NC){for(n.advance();n.next>=0&&n.next!=eL&&n.next!=y6&&n.next!=v6&&n.next!=Ku;)n.advance();n.next==eL&&n.advance()}}const SSe=Wi({'async "*" "**" FormatConversion FormatSpec':N.modifier,"for while if elif else try except finally return raise break continue with pass assert await yield match case":N.controlKeyword,"in not and or is del":N.operatorKeyword,"from def class global nonlocal lambda":N.definitionKeyword,import:N.moduleKeyword,"with as print":N.keyword,Boolean:N.bool,None:N.null,VariableName:N.variableName,"CallExpression/VariableName":N.function(N.variableName),"FunctionDefinition/VariableName":N.function(N.definition(N.variableName)),"ClassDefinition/VariableName":N.definition(N.className),PropertyName:N.propertyName,"CallExpression/MemberExpression/PropertyName":N.function(N.propertyName),Comment:N.lineComment,Number:N.number,String:N.string,FormatString:N.special(N.string),Escape:N.escape,UpdateOp:N.updateOperator,"ArithOp!":N.arithmeticOperator,BitOp:N.bitwiseOperator,CompareOp:N.compareOperator,AssignOp:N.definitionOperator,Ellipsis:N.punctuation,At:N.meta,"( )":N.paren,"[ ]":N.squareBracket,"{ }":N.brace,".":N.derefOperator,", ;":N.separator}),kSe={__proto__:null,await:44,or:54,and:56,in:60,not:62,is:64,if:70,else:72,lambda:76,yield:94,from:96,async:102,for:104,None:162,True:164,False:164,del:178,pass:182,break:186,continue:190,return:194,raise:202,import:206,as:208,global:212,nonlocal:214,assert:218,type:223,elif:236,while:240,try:246,except:248,finally:250,with:254,def:258,class:268,match:279,case:285},_Se=Ka.deserialize({version:14,states:"##jO`QeOOP$}OSOOO&WQtO'#HUOOQS'#Co'#CoOOQS'#Cp'#CpO'vQdO'#CnO*UQtO'#HTOOQS'#HU'#HUOOQS'#DU'#DUOOQS'#HT'#HTO*rQdO'#D_O+VQdO'#DfO+gQdO'#DjO+zOWO'#DuO,VOWO'#DvO.[QtO'#GuOOQS'#Gu'#GuO'vQdO'#GtO0ZQtO'#GtOOQS'#Eb'#EbO0rQdO'#EcOOQS'#Gs'#GsO0|QdO'#GrOOQV'#Gr'#GrO1XQdO'#FYOOQS'#G^'#G^O1^QdO'#FXOOQV'#IS'#ISOOQV'#Gq'#GqOOQV'#Fq'#FqQ`QeOOO'vQdO'#CqO1lQdO'#C}O1sQdO'#DRO2RQdO'#HYO2cQtO'#EVO'vQdO'#EWOOQS'#EY'#EYOOQS'#E['#E[OOQS'#E^'#E^O2wQdO'#E`O3_QdO'#EdO3rQdO'#EfO3zQtO'#EfO1XQdO'#EiO0rQdO'#ElO1XQdO'#EnO0rQdO'#EtO0rQdO'#EwO4VQdO'#EyO4^QdO'#FOO4iQdO'#EzO0rQdO'#FOO1XQdO'#FQO1XQdO'#FVO4nQdO'#F[P4uOdO'#GpPOOO)CBd)CBdOOQS'#Ce'#CeOOQS'#Cf'#CfOOQS'#Cg'#CgOOQS'#Ch'#ChOOQS'#Ci'#CiOOQS'#Cj'#CjOOQS'#Cl'#ClO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO5TQdO'#DoOOQS,5:Y,5:YO5hQdO'#HdOOQS,5:],5:]O5uQ!fO,5:]O5zQtO,59YO1lQdO,59bO1lQdO,59bO1lQdO,59bO8jQdO,59bO8oQdO,59bO8vQdO,59jO8}QdO'#HTO:TQdO'#HSOOQS'#HS'#HSOOQS'#D['#D[O:lQdO,59aO'vQdO,59aO:zQdO,59aOOQS,59y,59yO;PQdO,5:RO'vQdO,5:ROOQS,5:Q,5:QO;_QdO,5:QO;dQdO,5:XO'vQdO,5:XO'vQdO,5:VOOQS,5:U,5:UO;uQdO,5:UO;zQdO,5:WOOOW'#Fy'#FyO<POWO,5:aOOQS,5:a,5:aO<[QdO'#HwOOOW'#Dw'#DwOOOW'#Fz'#FzO<lOWO,5:bOOQS,5:b,5:bOOQS'#F}'#F}O<zQtO,5:iO?lQtO,5=`O@VQ#xO,5=`O@vQtO,5=`OOQS,5:},5:}OA_QeO'#GWOBqQdO,5;^OOQV,5=^,5=^OB|QtO'#IPOCkQdO,5;tOOQS-E:[-E:[OOQV,5;s,5;sO4dQdO'#FQOOQV-E9o-E9oOCsQtO,59]OEzQtO,59iOFeQdO'#HVOFpQdO'#HVO1XQdO'#HVOF{QdO'#DTOGTQdO,59mOGYQdO'#HZO'vQdO'#HZO0rQdO,5=tOOQS,5=t,5=tO0rQdO'#EROOQS'#ES'#ESOGwQdO'#GPOHXQdO,58|OHXQdO,58|O*xQdO,5:oOHgQtO'#H]OOQS,5:r,5:rOOQS,5:z,5:zOHzQdO,5;OOI]QdO'#IOO1XQdO'#H}OOQS,5;Q,5;QOOQS'#GT'#GTOIqQtO,5;QOJPQdO,5;QOJUQdO'#IQOOQS,5;T,5;TOJdQdO'#H|OOQS,5;W,5;WOJuQdO,5;YO4iQdO,5;`O4iQdO,5;cOJ}QtO'#ITO'vQdO'#ITOKXQdO,5;eO4VQdO,5;eO0rQdO,5;jO1XQdO,5;lOK^QeO'#EuOLjQgO,5;fO!!kQdO'#IUO4iQdO,5;jO!!vQdO,5;lO!#OQdO,5;qO!#ZQtO,5;vO'vQdO,5;vPOOO,5=[,5=[P!#bOSO,5=[P!#jOdO,5=[O!&bQtO1G.jO!&iQtO1G.jO!)YQtO1G.jO!)dQtO1G.jO!+}QtO1G.jO!,bQtO1G.jO!,uQdO'#HcO!-TQtO'#GuO0rQdO'#HcO!-_QdO'#HbOOQS,5:Z,5:ZO!-gQdO,5:ZO!-lQdO'#HeO!-wQdO'#HeO!.[QdO,5>OOOQS'#Ds'#DsOOQS1G/w1G/wOOQS1G.|1G.|O!/[QtO1G.|O!/cQtO1G.|O1lQdO1G.|O!0OQdO1G/UOOQS'#DZ'#DZO0rQdO,59tOOQS1G.{1G.{O!0VQdO1G/eO!0gQdO1G/eO!0oQdO1G/fO'vQdO'#H[O!0tQdO'#H[O!0yQtO1G.{O!1ZQdO,59iO!2aQdO,5=zO!2qQdO,5=zO!2yQdO1G/mO!3OQtO1G/mOOQS1G/l1G/lO!3`QdO,5=uO!4VQdO,5=uO0rQdO1G/qO!4tQdO1G/sO!4yQtO1G/sO!5ZQtO1G/qOOQS1G/p1G/pOOQS1G/r1G/rOOOW-E9w-E9wOOQS1G/{1G/{O!5kQdO'#HxO0rQdO'#HxO!5|QdO,5>cOOOW-E9x-E9xOOQS1G/|1G/|OOQS-E9{-E9{O!6[Q#xO1G2zO!6{QtO1G2zO'vQdO,5<jOOQS,5<j,5<jOOQS-E9|-E9|OOQS,5<r,5<rOOQS-E:U-E:UOOQV1G0x1G0xO1XQdO'#GRO!7dQtO,5>kOOQS1G1`1G1`O!8RQdO1G1`OOQS'#DV'#DVO0rQdO,5=qOOQS,5=q,5=qO!8WQdO'#FrO!8cQdO,59oO!8kQdO1G/XO!8uQtO,5=uOOQS1G3`1G3`OOQS,5:m,5:mO!9fQdO'#GtOOQS,5<k,5<kOOQS-E9}-E9}O!9wQdO1G.hOOQS1G0Z1G0ZO!:VQdO,5=wO!:gQdO,5=wO0rQdO1G0jO0rQdO1G0jO!:xQdO,5>jO!;ZQdO,5>jO1XQdO,5>jO!;lQdO,5>iOOQS-E:R-E:RO!;qQdO1G0lO!;|QdO1G0lO!<RQdO,5>lO!<aQdO,5>lO!<oQdO,5>hO!=VQdO,5>hO!=hQdO'#EpO0rQdO1G0tO!=sQdO1G0tO!=xQgO1G0zO!AvQgO1G0}O!EqQdO,5>oO!E{QdO,5>oO!FTQtO,5>oO0rQdO1G1PO!F_QdO1G1PO4iQdO1G1UO!!vQdO1G1WOOQV,5;a,5;aO!FdQfO,5;aO!FiQgO1G1QO!JjQdO'#GZO4iQdO1G1QO4iQdO1G1QO!JzQdO,5>pO!KXQdO,5>pO1XQdO,5>pOOQV1G1U1G1UO!KaQdO'#FSO!KrQ!fO1G1WO!KzQdO1G1WOOQV1G1]1G1]O4iQdO1G1]O!LPQdO1G1]O!LXQdO'#F^OOQV1G1b1G1bO!#ZQtO1G1bPOOO1G2v1G2vP!L^OSO1G2vOOQS,5=},5=}OOQS'#Dp'#DpO0rQdO,5=}O!LfQdO,5=|O!LyQdO,5=|OOQS1G/u1G/uO!MRQdO,5>PO!McQdO,5>PO!MkQdO,5>PO!NOQdO,5>PO!N`QdO,5>POOQS1G3j1G3jOOQS7+$h7+$hO!8kQdO7+$pO#!RQdO1G.|O#!YQdO1G.|OOQS1G/`1G/`OOQS,5<`,5<`O'vQdO,5<`OOQS7+%P7+%PO#!aQdO7+%POOQS-E9r-E9rOOQS7+%Q7+%QO#!qQdO,5=vO'vQdO,5=vOOQS7+$g7+$gO#!vQdO7+%PO##OQdO7+%QO##TQdO1G3fOOQS7+%X7+%XO##eQdO1G3fO##mQdO7+%XOOQS,5<_,5<_O'vQdO,5<_O##rQdO1G3aOOQS-E9q-E9qO#$iQdO7+%]OOQS7+%_7+%_O#$wQdO1G3aO#%fQdO7+%_O#%kQdO1G3gO#%{QdO1G3gO#&TQdO7+%]O#&YQdO,5>dO#&sQdO,5>dO#&sQdO,5>dOOQS'#Dx'#DxO#'UO&jO'#DzO#'aO`O'#HyOOOW1G3}1G3}O#'fQdO1G3}O#'nQdO1G3}O#'yQ#xO7+(fO#(jQtO1G2UP#)TQdO'#GOOOQS,5<m,5<mOOQS-E:P-E:POOQS7+&z7+&zOOQS1G3]1G3]OOQS,5<^,5<^OOQS-E9p-E9pOOQS7+$s7+$sO#)bQdO,5=`O#){QdO,5=`O#*^QtO,5<aO#*qQdO1G3cOOQS-E9s-E9sOOQS7+&U7+&UO#+RQdO7+&UO#+aQdO,5<nO#+uQdO1G4UOOQS-E:Q-E:QO#,WQdO1G4UOOQS1G4T1G4TOOQS7+&W7+&WO#,iQdO7+&WOOQS,5<p,5<pO#,tQdO1G4WOOQS-E:S-E:SOOQS,5<l,5<lO#-SQdO1G4SOOQS-E:O-E:OO1XQdO'#EqO#-jQdO'#EqO#-uQdO'#IRO#-}QdO,5;[OOQS7+&`7+&`O0rQdO7+&`O#.SQgO7+&fO!JmQdO'#GXO4iQdO7+&fO4iQdO7+&iO#2QQtO,5<tO'vQdO,5<tO#2[QdO1G4ZOOQS-E:W-E:WO#2fQdO1G4ZO4iQdO7+&kO0rQdO7+&kOOQV7+&p7+&pO!KrQ!fO7+&rO!KzQdO7+&rO`QeO1G0{OOQV-E:X-E:XO4iQdO7+&lO4iQdO7+&lOOQV,5<u,5<uO#2nQdO,5<uO!JmQdO,5<uOOQV7+&l7+&lO#2yQgO7+&lO#6tQdO,5<vO#7PQdO1G4[OOQS-E:Y-E:YO#7^QdO1G4[O#7fQdO'#IWO#7tQdO'#IWO1XQdO'#IWOOQS'#IW'#IWO#8PQdO'#IVOOQS,5;n,5;nO#8XQdO,5;nO0rQdO'#FUOOQV7+&r7+&rO4iQdO7+&rOOQV7+&w7+&wO4iQdO7+&wO#8^QfO,5;xOOQV7+&|7+&|POOO7+(b7+(bO#8cQdO1G3iOOQS,5<c,5<cO#8qQdO1G3hOOQS-E9u-E9uO#9UQdO,5<dO#9aQdO,5<dO#9tQdO1G3kOOQS-E9v-E9vO#:UQdO1G3kO#:^QdO1G3kO#:nQdO1G3kO#:UQdO1G3kOOQS<<H[<<H[O#:yQtO1G1zOOQS<<Hk<<HkP#;WQdO'#FtO8vQdO1G3bO#;eQdO1G3bO#;jQdO<<HkOOQS<<Hl<<HlO#;zQdO7+)QOOQS<<Hs<<HsO#<[QtO1G1yP#<{QdO'#FsO#=YQdO7+)RO#=jQdO7+)RO#=rQdO<<HwO#=wQdO7+({OOQS<<Hy<<HyO#>nQdO,5<bO'vQdO,5<bOOQS-E9t-E9tOOQS<<Hw<<HwOOQS,5<g,5<gO0rQdO,5<gO#>sQdO1G4OOOQS-E9y-E9yO#?^QdO1G4OO<[QdO'#H{OOOO'#D{'#D{OOOO'#F|'#F|O#?oO&jO,5:fOOOW,5>e,5>eOOOW7+)i7+)iO#?zQdO7+)iO#@SQdO1G2zO#@mQdO1G2zP'vQdO'#FuO0rQdO<<IpO1XQdO1G2YP1XQdO'#GSO#AOQdO7+)pO#AaQdO7+)pOOQS<<Ir<<IrP1XQdO'#GUP0rQdO'#GQOOQS,5;],5;]O#ArQdO,5>mO#BQQdO,5>mOOQS1G0v1G0vOOQS<<Iz<<IzOOQV-E:V-E:VO4iQdO<<JQOOQV,5<s,5<sO4iQdO,5<sOOQV<<JQ<<JQOOQV<<JT<<JTO#BYQtO1G2`P#BdQdO'#GYO#BkQdO7+)uO#BuQgO<<JVO4iQdO<<JVOOQV<<J^<<J^O4iQdO<<J^O!KrQ!fO<<J^O#FpQgO7+&gOOQV<<JW<<JWO#FzQgO<<JWOOQV1G2a1G2aO1XQdO1G2aO#JuQdO1G2aO4iQdO<<JWO1XQdO1G2bP0rQdO'#G[O#KQQdO7+)vO#K_QdO7+)vOOQS'#FT'#FTO0rQdO,5>rO#KgQdO,5>rO#KrQdO,5>rO#K}QdO,5>qO#L`QdO,5>qOOQS1G1Y1G1YOOQS,5;p,5;pOOQV<<Jc<<JcO#LhQdO1G1dOOQS7+)T7+)TP#LmQdO'#FwO#L}QdO1G2OO#MbQdO1G2OO#MrQdO1G2OP#M}QdO'#FxO#N[QdO7+)VO#NlQdO7+)VO#NlQdO7+)VO#NtQdO7+)VO$ UQdO7+(|O8vQdO7+(|OOQSAN>VAN>VO$ oQdO<<LmOOQSAN>cAN>cO0rQdO1G1|O$!PQtO1G1|P$!ZQdO'#FvOOQS1G2R1G2RP$!hQdO'#F{O$!uQdO7+)jO$#`QdO,5>gOOOO-E9z-E9zOOOW<<MT<<MTO$#nQdO7+(fOOQSAN?[AN?[OOQS7+'t7+'tO$$XQdO<<M[OOQS,5<q,5<qO$$jQdO1G4XOOQS-E:T-E:TOOQVAN?lAN?lOOQV1G2_1G2_O4iQdOAN?qO$$xQgOAN?qOOQVAN?xAN?xO4iQdOAN?xOOQV<<JR<<JRO4iQdOAN?rO4iQdO7+'{OOQV7+'{7+'{O1XQdO7+'{OOQVAN?rAN?rOOQS7+'|7+'|O$(sQdO<<MbOOQS1G4^1G4^O0rQdO1G4^OOQS,5<w,5<wO$)QQdO1G4]OOQS-E:Z-E:ZOOQU'#G_'#G_O$)cQfO7+'OO$)nQdO'#F_O$*uQdO7+'jO$+VQdO7+'jOOQS7+'j7+'jO$+bQdO<<LqO$+rQdO<<LqO$+rQdO<<LqO$+zQdO'#H^OOQS<<Lh<<LhO$,UQdO<<LhOOQS7+'h7+'hOOQS'#D|'#D|OOOO1G4R1G4RO$,oQdO1G4RO$,wQdO1G4RP!=hQdO'#GVOOQVG25]G25]O4iQdOG25]OOQVG25dG25dOOQVG25^G25^OOQV<<Kg<<KgO4iQdO<<KgOOQS7+)x7+)xP$-SQdO'#G]OOQU-E:]-E:]OOQV<<Jj<<JjO$-vQtO'#FaOOQS'#Fc'#FcO$.WQdO'#FbO$.xQdO'#FbOOQS'#Fb'#FbO$.}QdO'#IYO$)nQdO'#FiO$)nQdO'#FiO$/fQdO'#FjO$)nQdO'#FkO$/mQdO'#IZOOQS'#IZ'#IZO$0[QdO,5;yOOQS<<KU<<KUO$0dQdO<<KUO$0tQdOANB]O$1UQdOANB]O$1^QdO'#H_OOQS'#H_'#H_O1sQdO'#DcO$1wQdO,5=xOOQSANBSANBSOOOO7+)m7+)mO$2`QdO7+)mOOQVLD*wLD*wOOQVANARANARO5uQ!fO'#GaO$2hQtO,5<SO$)nQdO'#FmOOQS,5<W,5<WOOQS'#Fd'#FdO$3YQdO,5;|O$3_QdO,5;|OOQS'#Fg'#FgO$)nQdO'#G`O$4PQdO,5<QO$4kQdO,5>tO$4{QdO,5>tO1XQdO,5<PO$5^QdO,5<TO$5cQdO,5<TO$)nQdO'#I[O$5hQdO'#I[O$5mQdO,5<UOOQS,5<V,5<VO'vQdO'#FpOOQU1G1e1G1eO4iQdO1G1eOOQSAN@pAN@pO$5rQdOG27wO$6SQdO,59}OOQS1G3d1G3dOOOO<<MX<<MXOOQS,5<{,5<{OOQS-E:_-E:_O$6XQtO'#FaO$6`QdO'#I]O$6nQdO'#I]O$6vQdO,5<XOOQS1G1h1G1hO$6{QdO1G1hO$7QQdO,5<zOOQS-E:^-E:^O$7lQdO,5=OO$8TQdO1G4`OOQS-E:b-E:bOOQS1G1k1G1kOOQS1G1o1G1oO$8eQdO,5>vO$)nQdO,5>vOOQS1G1p1G1pO$8sQtO,5<[OOQU7+'P7+'PO$+zQdO1G/iO$)nQdO,5<YO$8zQdO,5>wO$9RQdO,5>wOOQS1G1s1G1sOOQS7+'S7+'SP$)nQdO'#GdO$9ZQdO1G4bO$9eQdO1G4bO$9mQdO1G4bOOQS7+%T7+%TO$9{QdO1G1tO$:ZQtO'#FaO$:bQdO,5<}OOQS,5<},5<}O$:pQdO1G4cOOQS-E:a-E:aO$)nQdO,5<|O$:wQdO,5<|O$:|QdO7+)|OOQS-E:`-E:`O$;WQdO7+)|O$)nQdO,5<ZP$)nQdO'#GcO$;`QdO1G2hO$)nQdO1G2hP$;nQdO'#GbO$;uQdO<<MhO$<PQdO1G1uO$<_QdO7+(SO8vQdO'#C}O8vQdO,59bO8vQdO,59bO8vQdO,59bO$<mQtO,5=`O8vQdO1G.|O0rQdO1G/XO0rQdO7+$pP$=QQdO'#GOO'vQdO'#GtO$=_QdO,59bO$=dQdO,59bO$=kQdO,59mO$=pQdO1G/UO1sQdO'#DRO8vQdO,59j",stateData:"$>Z~O%cOS%^OSSOS%]PQ~OPdOVaOfoOhYOopOs!POvqO!PrO!Q{O!T!SO!U!RO!XZO!][O!h`O!r`O!s`O!t`O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO#l!QO#o!TO#s!UO#u!VO#z!WO#}hO$P!XO%oRO%pRO%tSO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O~O%]!YO~OV!aO_!aOa!bOh!iO!X!kO!f!mO%j![O%k!]O%l!^O%m!_O%n!_O%o!`O%p!`O%q!aO%r!aO%s!aO~Ok%xXl%xXm%xXn%xXo%xXp%xXs%xXz%xX{%xX!x%xX#g%xX%[%xX%_%xX%z%xXg%xX!T%xX!U%xX%{%xX!W%xX![%xX!Q%xX#[%xXt%xX!m%xX~P%SOfoOhYO!XZO!][O!h`O!r`O!s`O!t`O%oRO%pRO%tSO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O~Oz%wX{%wX#g%wX%[%wX%_%wX%z%wX~Ok!pOl!qOm!oOn!oOo!rOp!sOs!tO!x%wX~P)pOV!zOg!|Oo0cOv0qO!PrO~P'vOV#OOo0cOv0qO!W#PO~P'vOV#SOa#TOo0cOv0qO![#UO~P'vOQ#XO%`#XO%a#ZO~OQ#^OR#[O%`#^O%a#`O~OV%iX_%iXa%iXh%iXk%iXl%iXm%iXn%iXo%iXp%iXs%iXz%iX!X%iX!f%iX%j%iX%k%iX%l%iX%m%iX%n%iX%o%iX%p%iX%q%iX%r%iX%s%iXg%iX!T%iX!U%iX~O&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O{%iX!x%iX#g%iX%[%iX%_%iX%z%iX%{%iX!W%iX![%iX!Q%iX#[%iXt%iX!m%iX~P,eOz#dO{%hX!x%hX#g%hX%[%hX%_%hX%z%hX~Oo0cOv0qO~P'vO#g#gO%[#iO%_#iO~O%uWO~O!T#nO#u!VO#z!WO#}hO~OopO~P'vOV#sOa#tO%uWO{wP~OV#xOo0cOv0qO!Q#yO~P'vO{#{O!x$QO%z#|O#g!yX%[!yX%_!yX~OV#xOo0cOv0qO#g#SX%[#SX%_#SX~P'vOo0cOv0qO#g#WX%[#WX%_#WX~P'vOh$WO%uWO~O!f$YO!r$YO%uWO~OV$eO~P'vO!U$gO#s$hO#u$iO~O{$jO~OV$qO~P'vOS$sO%[$rO%_$rO%c$tO~OV$}Oa$}Og%POo0cOv0qO~P'vOo0cOv0qO{%SO~P'vO&Y%UO~Oa!bOh!iO!X!kO!f!mOVba_bakbalbambanbaobapbasbazba{ba!xba#gba%[ba%_ba%jba%kba%lba%mba%nba%oba%pba%qba%rba%sba%zbagba!Tba!Uba%{ba!Wba![ba!Qba#[batba!mba~On%ZO~Oo%ZO~P'vOo0cO~P'vOk0eOl0fOm0dOn0dOo0mOp0nOs0rOg%wX!T%wX!U%wX%{%wX!W%wX![%wX!Q%wX#[%wX!m%wX~P)pO%{%]Og%vXz%vX!T%vX!U%vX!W%vX{%vX~Og%_Oz%`O!T%dO!U%cO~Og%_O~Oz%gO!T%dO!U%cO!W&SX~O!W%kO~Oz%lO{%nO!T%dO!U%cO![%}X~O![%rO~O![%sO~OQ#XO%`#XO%a%uO~OV%wOo0cOv0qO!PrO~P'vOQ#^OR#[O%`#^O%a%zO~OV!qa_!qaa!qah!qak!qal!qam!qan!qao!qap!qas!qaz!qa{!qa!X!qa!f!qa!x!qa#g!qa%[!qa%_!qa%j!qa%k!qa%l!qa%m!qa%n!qa%o!qa%p!qa%q!qa%r!qa%s!qa%z!qag!qa!T!qa!U!qa%{!qa!W!qa![!qa!Q!qa#[!qat!qa!m!qa~P#yOz%|O{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~P%SOV&OOopOvqO{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~P'vOz%|O{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~OPdOVaOopOvqO!PrO!Q{O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO#g$zX%[$zX%_$zX~P'vO#g#gO%[&TO%_&TO~O!f&UOh&sX%[&sXz&sX#[&sX#g&sX%_&sX#Z&sXg&sX~Oh!iO%[&WO~Okealeameaneaoeapeaseazea{ea!xea#gea%[ea%_ea%zeagea!Tea!Uea%{ea!Wea![ea!Qea#[eatea!mea~P%SOsqazqa{qa#gqa%[qa%_qa%zqa~Ok!pOl!qOm!oOn!oOo!rOp!sO!xqa~PEcO%z&YOz%yX{%yX~O%uWOz%yX{%yX~Oz&]O{wX~O{&_O~Oz%lO#g%}X%[%}X%_%}Xg%}X{%}X![%}X!m%}X%z%}X~OV0lOo0cOv0qO!PrO~P'vO%z#|O#gUa%[Ua%_Ua~Oz&hO#g&PX%[&PX%_&PXn&PX~P%SOz&kO!Q&jO#g#Wa%[#Wa%_#Wa~Oz&lO#[&nO#g&rX%[&rX%_&rXg&rX~O!f$YO!r$YO#Z&qO%uWO~O#Z&qO~Oz&sO#g&tX%[&tX%_&tX~Oz&uO#g&pX%[&pX%_&pX{&pX~O!X&wO%z&xO~Oz&|On&wX~P%SOn'PO~OPdOVaOopOvqO!PrO!Q{O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO%['UO~P'vOt'YO#p'WO#q'XOP#naV#naf#nah#nao#nas#nav#na!P#na!Q#na!T#na!U#na!X#na!]#na!h#na!r#na!s#na!t#na!{#na!}#na#P#na#R#na#T#na#X#na#Z#na#^#na#_#na#a#na#c#na#l#na#o#na#s#na#u#na#z#na#}#na$P#na%X#na%o#na%p#na%t#na%u#na&Z#na&[#na&]#na&^#na&_#na&`#na&a#na&b#na&c#na&d#na&e#na&f#na&g#na&h#na&i#na&j#na%Z#na%_#na~Oz'ZO#[']O{&xX~Oh'_O!X&wO~Oh!iO{$jO!X&wO~O{'eO~P%SO%['hO%_'hO~OS'iO%['hO%_'hO~OV!aO_!aOa!bOh!iO!X!kO!f!mO%l!^O%m!_O%n!_O%o!`O%p!`O%q!aO%r!aO%s!aOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~O%k!]O~P!#uO%kWi~P!#uOV!aO_!aOa!bOh!iO!X!kO!f!mO%o!`O%p!`O%q!aO%r!aO%s!aOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%kWi%lWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~O%m!_O%n!_O~P!&pO%mWi%nWi~P!&pOa!bOh!iO!X!kO!f!mOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%kWi%lWi%mWi%nWi%oWi%pWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~OV!aO_!aO%q!aO%r!aO%s!aO~P!)nOVWi_Wi%qWi%rWi%sWi~P!)nO!T%dO!U%cOg&VXz&VX~O%z'kO%{'kO~P,eOz'mOg&UX~Og'oO~Oz'pO{'rO!W&XX~Oo0cOv0qOz'pO{'sO!W&XX~P'vO!W'uO~Om!oOn!oOo!rOp!sOkjisjizji{ji!xji#gji%[ji%_ji%zji~Ol!qO~P!.aOlji~P!.aOk0eOl0fOm0dOn0dOo0mOp0nO~Ot'wO~P!/jOV'|Og'}Oo0cOv0qO~P'vOg'}Oz(OO~Og(QO~O!U(SO~Og(TOz(OO!T%dO!U%cO~P%SOk0eOl0fOm0dOn0dOo0mOp0nOgqa!Tqa!Uqa%{qa!Wqa![qa!Qqa#[qatqa!mqa~PEcOV'|Oo0cOv0qO!W&Sa~P'vOz(WO!W&Sa~O!W(XO~Oz(WO!T%dO!U%cO!W&Sa~P%SOV(]Oo0cOv0qO![%}a#g%}a%[%}a%_%}ag%}a{%}a!m%}a%z%}a~P'vOz(^O![%}a#g%}a%[%}a%_%}ag%}a{%}a!m%}a%z%}a~O![(aO~Oz(^O!T%dO!U%cO![%}a~P%SOz(dO!T%dO!U%cO![&Ta~P%SOz(gO{&lX![&lX!m&lX%z&lX~O{(kO![(mO!m(nO%z(jO~OV&OOopOvqO{%hi!x%hi#g%hi%[%hi%_%hi%z%hi~P'vOz(pO{%hi!x%hi#g%hi%[%hi%_%hi%z%hi~O!f&UOh&sa%[&saz&sa#[&sa#g&sa%_&sa#Z&sag&sa~O%[(uO~OV#sOa#tO%uWO~Oz&]O{wa~OopOvqO~P'vOz(^O#g%}a%[%}a%_%}ag%}a{%}a![%}a!m%}a%z%}a~P%SOz(zO#g%hX%[%hX%_%hX%z%hX~O%z#|O#gUi%[Ui%_Ui~O#g&Pa%[&Pa%_&Pan&Pa~P'vOz(}O#g&Pa%[&Pa%_&Pan&Pa~O%uWO#g&ra%[&ra%_&rag&ra~Oz)SO#g&ra%[&ra%_&rag&ra~Og)VO~OV)WOh$WO%uWO~O#Z)XO~O%uWO#g&ta%[&ta%_&ta~Oz)ZO#g&ta%[&ta%_&ta~Oo0cOv0qO#g&pa%[&pa%_&pa{&pa~P'vOz)^O#g&pa%[&pa%_&pa{&pa~OV)`Oa)`O%uWO~O%z)eO~Ot)hO#j)gOP#hiV#hif#hih#hio#his#hiv#hi!P#hi!Q#hi!T#hi!U#hi!X#hi!]#hi!h#hi!r#hi!s#hi!t#hi!{#hi!}#hi#P#hi#R#hi#T#hi#X#hi#Z#hi#^#hi#_#hi#a#hi#c#hi#l#hi#o#hi#s#hi#u#hi#z#hi#}#hi$P#hi%X#hi%o#hi%p#hi%t#hi%u#hi&Z#hi&[#hi&]#hi&^#hi&_#hi&`#hi&a#hi&b#hi&c#hi&d#hi&e#hi&f#hi&g#hi&h#hi&i#hi&j#hi%Z#hi%_#hi~Ot)iOP#kiV#kif#kih#kio#kis#kiv#ki!P#ki!Q#ki!T#ki!U#ki!X#ki!]#ki!h#ki!r#ki!s#ki!t#ki!{#ki!}#ki#P#ki#R#ki#T#ki#X#ki#Z#ki#^#ki#_#ki#a#ki#c#ki#l#ki#o#ki#s#ki#u#ki#z#ki#}#ki$P#ki%X#ki%o#ki%p#ki%t#ki%u#ki&Z#ki&[#ki&]#ki&^#ki&_#ki&`#ki&a#ki&b#ki&c#ki&d#ki&e#ki&f#ki&g#ki&h#ki&i#ki&j#ki%Z#ki%_#ki~OV)kOn&wa~P'vOz)lOn&wa~Oz)lOn&wa~P%SOn)pO~O%Y)tO~Ot)wO#p'WO#q)vOP#niV#nif#nih#nio#nis#niv#ni!P#ni!Q#ni!T#ni!U#ni!X#ni!]#ni!h#ni!r#ni!s#ni!t#ni!{#ni!}#ni#P#ni#R#ni#T#ni#X#ni#Z#ni#^#ni#_#ni#a#ni#c#ni#l#ni#o#ni#s#ni#u#ni#z#ni#}#ni$P#ni%X#ni%o#ni%p#ni%t#ni%u#ni&Z#ni&[#ni&]#ni&^#ni&_#ni&`#ni&a#ni&b#ni&c#ni&d#ni&e#ni&f#ni&g#ni&h#ni&i#ni&j#ni%Z#ni%_#ni~OV)zOo0cOv0qO{$jO~P'vOo0cOv0qO{&xa~P'vOz*OO{&xa~OV*SOa*TOg*WO%q*UO%uWO~O{$jO&{*YO~Oh'_O~Oh!iO{$jO~O%[*_O~O%[*aO%_*aO~OV$}Oa$}Oo0cOv0qOg&Ua~P'vOz*dOg&Ua~Oo0cOv0qO{*gO!W&Xa~P'vOz*hO!W&Xa~Oo0cOv0qOz*hO{*kO!W&Xa~P'vOo0cOv0qOz*hO!W&Xa~P'vOz*hO{*kO!W&Xa~Om0dOn0dOo0mOp0nOgjikjisjizji!Tji!Uji%{ji!Wji{ji![ji#gji%[ji%_ji!Qji#[jitji!mji%zji~Ol0fO~P!NkOlji~P!NkOV'|Og*pOo0cOv0qO~P'vOn*rO~Og*pOz*tO~Og*uO~OV'|Oo0cOv0qO!W&Si~P'vOz*vO!W&Si~O!W*wO~OV(]Oo0cOv0qO![%}i#g%}i%[%}i%_%}ig%}i{%}i!m%}i%z%}i~P'vOz*zO!T%dO!U%cO![&Ti~Oz*}O![%}i#g%}i%[%}i%_%}ig%}i{%}i!m%}i%z%}i~O![+OO~Oa+QOo0cOv0qO![&Ti~P'vOz*zO![&Ti~O![+SO~OV+UOo0cOv0qO{&la![&la!m&la%z&la~P'vOz+VO{&la![&la!m&la%z&la~O!]+YO&n+[O![!nX~O![+^O~O{(kO![+_O~O{(kO![+_O!m+`O~OV&OOopOvqO{%hq!x%hq#g%hq%[%hq%_%hq%z%hq~P'vOz$ri{$ri!x$ri#g$ri%[$ri%_$ri%z$ri~P%SOV&OOopOvqO~P'vOV&OOo0cOv0qO#g%ha%[%ha%_%ha%z%ha~P'vOz+aO#g%ha%[%ha%_%ha%z%ha~Oz$ia#g$ia%[$ia%_$ian$ia~P%SO#g&Pi%[&Pi%_&Pin&Pi~P'vOz+dO#g#Wq%[#Wq%_#Wq~O#[+eOz$va#g$va%[$va%_$vag$va~O%uWO#g&ri%[&ri%_&rig&ri~Oz+gO#g&ri%[&ri%_&rig&ri~OV+iOh$WO%uWO~O%uWO#g&ti%[&ti%_&ti~Oo0cOv0qO#g&pi%[&pi%_&pi{&pi~P'vO{#{Oz#eX!W#eX~Oz+mO!W&uX~O!W+oO~Ot+rO#j)gOP#hqV#hqf#hqh#hqo#hqs#hqv#hq!P#hq!Q#hq!T#hq!U#hq!X#hq!]#hq!h#hq!r#hq!s#hq!t#hq!{#hq!}#hq#P#hq#R#hq#T#hq#X#hq#Z#hq#^#hq#_#hq#a#hq#c#hq#l#hq#o#hq#s#hq#u#hq#z#hq#}#hq$P#hq%X#hq%o#hq%p#hq%t#hq%u#hq&Z#hq&[#hq&]#hq&^#hq&_#hq&`#hq&a#hq&b#hq&c#hq&d#hq&e#hq&f#hq&g#hq&h#hq&i#hq&j#hq%Z#hq%_#hq~On$|az$|a~P%SOV)kOn&wi~P'vOz+yOn&wi~Oz,TO{$jO#[,TO~O#q,VOP#nqV#nqf#nqh#nqo#nqs#nqv#nq!P#nq!Q#nq!T#nq!U#nq!X#nq!]#nq!h#nq!r#nq!s#nq!t#nq!{#nq!}#nq#P#nq#R#nq#T#nq#X#nq#Z#nq#^#nq#_#nq#a#nq#c#nq#l#nq#o#nq#s#nq#u#nq#z#nq#}#nq$P#nq%X#nq%o#nq%p#nq%t#nq%u#nq&Z#nq&[#nq&]#nq&^#nq&_#nq&`#nq&a#nq&b#nq&c#nq&d#nq&e#nq&f#nq&g#nq&h#nq&i#nq&j#nq%Z#nq%_#nq~O#[,WOz%Oa{%Oa~Oo0cOv0qO{&xi~P'vOz,YO{&xi~O{#{O%z,[Og&zXz&zX~O%uWOg&zXz&zX~Oz,`Og&yX~Og,bO~O%Y,eO~O!T%dO!U%cOg&Viz&Vi~OV$}Oa$}Oo0cOv0qOg&Ui~P'vO{,hOz$la!W$la~Oo0cOv0qO{,iOz$la!W$la~P'vOo0cOv0qO{*gO!W&Xi~P'vOz,lO!W&Xi~Oo0cOv0qOz,lO!W&Xi~P'vOz,lO{,oO!W&Xi~Og$hiz$hi!W$hi~P%SOV'|Oo0cOv0qO~P'vOn,qO~OV'|Og,rOo0cOv0qO~P'vOV'|Oo0cOv0qO!W&Sq~P'vOz$gi![$gi#g$gi%[$gi%_$gig$gi{$gi!m$gi%z$gi~P%SOV(]Oo0cOv0qO~P'vOa+QOo0cOv0qO![&Tq~P'vOz,sO![&Tq~O![,tO~OV(]Oo0cOv0qO![%}q#g%}q%[%}q%_%}qg%}q{%}q!m%}q%z%}q~P'vO{,uO~OV+UOo0cOv0qO{&li![&li!m&li%z&li~P'vOz,zO{&li![&li!m&li%z&li~O!]+YO&n+[O![!na~O{(kO![,}O~OV&OOo0cOv0qO#g%hi%[%hi%_%hi%z%hi~P'vOz-OO#g%hi%[%hi%_%hi%z%hi~O%uWO#g&rq%[&rq%_&rqg&rq~Oz-RO#g&rq%[&rq%_&rqg&rq~OV)`Oa)`O%uWO!W&ua~Oz-TO!W&ua~On$|iz$|i~P%SOV)kO~P'vOV)kOn&wq~P'vOt-XOP#myV#myf#myh#myo#mys#myv#my!P#my!Q#my!T#my!U#my!X#my!]#my!h#my!r#my!s#my!t#my!{#my!}#my#P#my#R#my#T#my#X#my#Z#my#^#my#_#my#a#my#c#my#l#my#o#my#s#my#u#my#z#my#}#my$P#my%X#my%o#my%p#my%t#my%u#my&Z#my&[#my&]#my&^#my&_#my&`#my&a#my&b#my&c#my&d#my&e#my&f#my&g#my&h#my&i#my&j#my%Z#my%_#my~O%Z-]O%_-]O~P`O#q-^OP#nyV#nyf#nyh#nyo#nys#nyv#ny!P#ny!Q#ny!T#ny!U#ny!X#ny!]#ny!h#ny!r#ny!s#ny!t#ny!{#ny!}#ny#P#ny#R#ny#T#ny#X#ny#Z#ny#^#ny#_#ny#a#ny#c#ny#l#ny#o#ny#s#ny#u#ny#z#ny#}#ny$P#ny%X#ny%o#ny%p#ny%t#ny%u#ny&Z#ny&[#ny&]#ny&^#ny&_#ny&`#ny&a#ny&b#ny&c#ny&d#ny&e#ny&f#ny&g#ny&h#ny&i#ny&j#ny%Z#ny%_#ny~Oz-aO{$jO#[-aO~Oo0cOv0qO{&xq~P'vOz-dO{&xq~O%z,[Og&zaz&za~O{#{Og&zaz&za~OV*SOa*TO%q*UO%uWOg&ya~Oz-hOg&ya~O$S-lO~OV$}Oa$}Oo0cOv0qO~P'vOo0cOv0qO{-mOz$li!W$li~P'vOo0cOv0qOz$li!W$li~P'vO{-mOz$li!W$li~Oo0cOv0qO{*gO~P'vOo0cOv0qO{*gO!W&Xq~P'vOz-pO!W&Xq~Oo0cOv0qOz-pO!W&Xq~P'vOs-sO!T%dO!U%cOg&Oq!W&Oq![&Oqz&Oq~P!/jOa+QOo0cOv0qO![&Ty~P'vOz$ji![$ji~P%SOa+QOo0cOv0qO~P'vOV+UOo0cOv0qO~P'vOV+UOo0cOv0qO{&lq![&lq!m&lq%z&lq~P'vO{(kO![-xO!m-yO%z-wO~OV&OOo0cOv0qO#g%hq%[%hq%_%hq%z%hq~P'vO%uWO#g&ry%[&ry%_&ryg&ry~OV)`Oa)`O%uWO!W&ui~Ot-}OP#m!RV#m!Rf#m!Rh#m!Ro#m!Rs#m!Rv#m!R!P#m!R!Q#m!R!T#m!R!U#m!R!X#m!R!]#m!R!h#m!R!r#m!R!s#m!R!t#m!R!{#m!R!}#m!R#P#m!R#R#m!R#T#m!R#X#m!R#Z#m!R#^#m!R#_#m!R#a#m!R#c#m!R#l#m!R#o#m!R#s#m!R#u#m!R#z#m!R#}#m!R$P#m!R%X#m!R%o#m!R%p#m!R%t#m!R%u#m!R&Z#m!R&[#m!R&]#m!R&^#m!R&_#m!R&`#m!R&a#m!R&b#m!R&c#m!R&d#m!R&e#m!R&f#m!R&g#m!R&h#m!R&i#m!R&j#m!R%Z#m!R%_#m!R~Oo0cOv0qO{&xy~P'vOV*SOa*TO%q*UO%uWOg&yi~O$S-lO%Z.VO%_.VO~OV.aOh._O!X.^O!].`O!h.YO!s.[O!t.[O%p.XO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O~Oo0cOv0qOz$lq!W$lq~P'vO{.fOz$lq!W$lq~Oo0cOv0qO{*gO!W&Xy~P'vOz.gO!W&Xy~Oo0cOv.kO~P'vOs-sO!T%dO!U%cOg&Oy!W&Oy![&Oyz&Oy~P!/jO{(kO![.nO~O{(kO![.nO!m.oO~OV*SOa*TO%q*UO%uWO~Oh.tO!f.rOz$TX#[$TX%j$TXg$TX~Os$TX{$TX!W$TX![$TX~P$-bO%o.vO%p.vOs$UXz$UX{$UX#[$UX%j$UX!W$UXg$UX![$UX~O!h.xO~Oz.|O#[/OO%j.yOs&|X{&|X!W&|Xg&|X~Oa/RO~P$)zOh.tOs&}Xz&}X{&}X#[&}X%j&}X!W&}Xg&}X![&}X~Os/VO{$jO~Oo0cOv0qOz$ly!W$ly~P'vOo0cOv0qO{*gO!W&X!R~P'vOz/ZO!W&X!R~Og&RXs&RX!T&RX!U&RX!W&RX![&RXz&RX~P!/jOs-sO!T%dO!U%cOg&Qa!W&Qa![&Qaz&Qa~O{(kO![/^O~O!f.rOh$[as$[az$[a{$[a#[$[a%j$[a!W$[ag$[a![$[a~O!h/eO~O%o.vO%p.vOs$Uaz$Ua{$Ua#[$Ua%j$Ua!W$Uag$Ua![$Ua~O%j.yOs$Yaz$Ya{$Ya#[$Ya!W$Yag$Ya![$Ya~Os&|a{&|a!W&|ag&|a~P$)nOz/jOs&|a{&|a!W&|ag&|a~O!W/mO~Og/mO~O{/oO~O![/pO~Oo0cOv0qO{*gO!W&X!Z~P'vO{/sO~O%z/tO~P$-bOz/uO#[/OO%j.yOg'PX~Oz/uOg'PX~Og/wO~O!h/xO~O#[/OOs%Saz%Sa{%Sa%j%Sa!W%Sag%Sa![%Sa~O#[/OO%j.yOs%Waz%Wa{%Wa!W%Wag%Wa~Os&|i{&|i!W&|ig&|i~P$)nOz/zO#[/OO%j.yO!['Oa~O{$da~P%SOg'Pa~P$)nOz0SOg'Pa~Oa0UO!['Oi~P$)zOz0WO!['Oi~Oz0WO#[/OO%j.yO!['Oi~O#[/OO%j.yOg$biz$bi~O%z0ZO~P$-bO#[/OO%j.yOg%Vaz%Va~Og'Pi~P$)nO{0^O~Oa0UO!['Oq~P$)zOz0`O!['Oq~O#[/OO%j.yOz%Ui![%Ui~Oa0UO~P$)zOa0UO!['Oy~P$)zO#[/OO%j.yOg$ciz$ci~O#[/OO%j.yOz%Uq![%Uq~Oz+aO#g%ha%[%ha%_%ha%z%ha~P%SOV&OOo0cOv0qO~P'vOn0hO~Oo0hO~P'vO{0iO~Ot0jO~P!/jO&]&Z&j&h&i&g&f&d&e&c&b&`&a&_&^&[%u~",goto:"!=o'QPPPPPP'RP'Z*s+]+v,b,}-kP.YP'Z.y.y'ZPPP'Z2cPPPPPP2c5VPP5VP7g7p=xPP={>m>pPP'Z'ZPP?PPP'Z'ZPP'Z'Z'Z'Z'Z?T?}'ZP@QP@WD_G{HPPHSH^Hb'ZPPPHeHq'RP'R'RP'RP'RP'RP'RP'R'R'RP'RPP'RPP'RP'RPHwITI]PIdIjPIdPIdIdPPPIdPKxPLRL]LcKxPIdLlPIdPLsLyPL}McNQNkL}L}Nq! OL}L}L}L}! d! j! m! r! u!!P!!V!!c!!u!!{!#V!#]!#y!$P!$V!$a!$g!$m!%P!%Z!%a!%g!%q!%w!%}!&T!&Z!&a!&k!&q!&{!'R!'[!'b!'q!'y!(T!([PPPPPPPPPPP!(b!(e!(k!(t!)O!)ZPPPPPPPPPPPP!-}!/c!3c!6sPP!6{!7[!7e!8^!8T!8g!8m!8p!8s!8v!9O!9oPPPPPPPPPPPPPPPPP!9r!9v!9|P!:b!:f!:r!:{!;X!;o!;r!;u!;{!<R!<X!<[P!<d!<m!=i!=l]eOn#g$j)t,P'}`OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0r}!cQ#c#p$R$d$p%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0g!P!dQ#c#p$R$d$p$u%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0g!R!eQ#c#p$R$d$p$u$v%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0g!T!fQ#c#p$R$d$p$u$v$w%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0g!V!gQ#c#p$R$d$p$u$v$w$x%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0g!X!hQ#c#p$R$d$p$u$v$w$x$y%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0g!]!hQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0g'}TOTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0r&cVOYZ[dnprxy}!P!Q!U!i!k!o!p!q!s!t#[#d#g#y#{#}$Q$h$j$}%S%Z%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/Z/s0c0d0e0f0h0i0j0k0n0r%mXOYZ[dnrxy}!P!Q!U!i!k#[#d#g#y#{#}$Q$h$j$}%S%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,s,u,w,y,z-O-d-f-m-p.f.g/Z0i0j0kQ#vqQ/[.kR0o0q't`OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rh#jhz{$W$Z&l&q)S)X+f+g-RW#rq&].k0qQ$]|Q$a!OQ$n!VQ$o!WW$|!i'm*d,gS&[#s#tQ'S$iQ(s&UQ)U&nU)Y&s)Z+jW)a&w+m-T-{Q*Q']W*R'_,`-h.TQ+l)`S,_*S*TQ-Q+eQ-_,TQ-c,WQ.R-al.W-l.^._.a.z.|/R/j/o/t/y0U0Z0^Q/S.`Q/a.tQ/l/OU0P/u0S0[X0V/z0W0_0`R&Z#r!_!wYZ!P!Q!k%S%`%g'p'r's(O(W)g*g*h*k*q*t*v,h,i,k,l,o-m-p.f.g/ZR%^!vQ!{YQ%x#[Q&d#}Q&g$QR,{+YT.j-s/s![!jQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0gQ&X#kQ'c$oR*^'dR'l$|Q%V!mR/_.r'|_OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rS#a_#b!P.[-l.^._.`.a.t.z.|/R/j/o/t/u/y/z0S0U0W0Z0[0^0_0`'|_OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rT#a_#bT#^^#_R(o%xa(l%x(n(o+`,{-y-z.oT+[(k+]R-z,{Q$PsQ+l)aQ,^*RR-e,_X#}s$O$P&fQ&y$aQ'a$nQ'd$oR)s'SQ)b&wV-S+m-T-{ZgOn$j)t,PXkOn)t,PQ$k!TQ&z$bQ&{$cQ'^$mQ'b$oQ)q'RQ)x'WQ){'XQ)|'YQ*Z'`S*]'c'dQ+s)gQ+u)hQ+v)iQ+z)oS+|)r*[Q,Q)vQ,R)wS,S)y)zQ,d*^Q-V+rQ-W+tQ-Y+{S-Z+},OQ-`,UQ-b,VQ-|-XQ.O-[Q.P-^Q.Q-_Q.p-}Q.q.RQ/W.dR/r/XWkOn)t,PR#mjQ'`$nS)r'S'aR,O)sQ,]*RR-f,^Q*['`Q+})rR-[,OZiOjn)t,PQ'f$pR*`'gT-j,e-ku.c-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^t.c-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^Q/S.`X0V/z0W0_0`!P.Z-l.^._.`.a.t.z.|/R/j/o/t/u/y/z0S0U0W0Z0[0^0_0`Q.w.YR/f.xg.z.].{/b/i/n/|0O0Q0]0a0bu.b-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^X.u.W.b/a0PR/c.tV0R/u0S0[R/X.dQnOS#on,PR,P)tQ&^#uR(x&^S%m#R#wS(_%m(bT(b%p&`Q%a!yQ%h!}W(P%a%h(U(YQ(U%eR(Y%jQ&i$RR)O&iQ(e%qQ*{(`T+R(e*{Q'n%OR*e'nS'q%R%SY*i'q*j,m-q.hU*j'r's'tU,m*k*l*mS-q,n,oR.h-rQ#Y]R%t#YQ#_^R%y#_Q(h%vS+W(h+XR+X(iQ+](kR,|+]Q#b_R%{#bQ#ebQ%}#cW&Q#e%}({+bQ({&cR+b0gQ$OsS&e$O&fR&f$PQ&v$_R)_&vQ&V#jR(t&VQ&m$VS)T&m+hR+h)UQ$Z{R&p$ZQ&t$]R)[&tQ+n)bR-U+nQ#hfR&S#hQ)f&zR+q)fQ&}$dS)m&})nR)n'OQ'V$kR)u'VQ'[$lS*P'[,ZR,Z*QQ,a*VR-i,aWjOn)t,PR#ljQ-k,eR.U-kd.{.]/b/i/n/|0O0Q0]0a0bR/h.{U.s.W/a0PR/`.sQ/{/nS0X/{0YR0Y/|S/v/b/cR0T/vQ.}.]R/k.}R!ZPXmOn)t,PWlOn)t,PR'T$jYfOn$j)t,PR&R#g[sOn#g$j)t,PR&d#}&bQOYZ[dnprxy}!P!Q!U!i!k!o!p!q!s!t#[#d#g#y#{#}$Q$h$j$}%S%Z%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/Z/s0c0d0e0f0h0i0j0k0n0rQ!nTQ#caQ#poU$Rt%c(SS$d!R$gQ$p!XQ$u!cQ$v!dQ$w!eQ$x!fQ$y!gQ$z!hQ%e!zQ%j#OQ%p#SQ%q#TQ&`#xQ'O$eQ'g$qQ(q&OU(|&h(}+cW)j&|)l+x+yQ*o'|Q*x(]Q+w)kQ,v+QQ/q/VR0g0lQ!yYQ!}ZQ$b!PQ$c!QQ%R!kQ't%S^'{%`%g(O(W*q*t*v^*f'p*h,k,l-p.g/ZQ*l'rQ*m'sQ+t)gQ,j*gQ,n*kQ-n,hQ-o,iQ-r,oQ.e-mR/Y.f[bOn#g$j)t,P!^!vYZ!P!Q!k%S%`%g'p'r's(O(W)g*g*h*k*q*t*v,h,i,k,l,o-m-p.f.g/ZQ#R[Q#fdS#wrxQ$UyW$_}$Q'P)pS$l!U$hW${!i'm*d,gS%v#[+Y`&P#d%|(p(r(z+a-O0kQ&a#yQ&b#{Q&c#}Q'j$}Q'z%^W([%l(^*y*}Q(`%nQ(i%wQ(v&ZS(y&_0iQ)P&jQ)Q&kU)]&u)^+kQ)d&xQ)y'WY)}'Z*O,X,Y-dQ*b'lS*n'w0jW+P(d*z,s,wW+T(g+V,y,zQ+p)eQ,U)zQ,c*YQ,x+UQ-P+dQ-e,]Q-v,uR.S-fhUOn#d#g$j%|&_'w(p(r)t,P%S!uYZ[drxy}!P!Q!U!i!k#[#y#{#}$Q$h$}%S%^%`%g%l%n%w&Z&j&k&u&x'P'W'Z'l'm'p'r's(O(W(^(d(g(z)^)e)g)p)z*O*Y*d*g*h*k*q*t*v*y*z*}+U+V+Y+a+d+k,X,Y,],g,h,i,k,l,o,s,u,w,y,z-O-d-f-m-p.f.g/Z0i0j0kQ#qpW%W!o!s0d0nQ%X!pQ%Y!qQ%[!tQ%f0cS'v%Z0hQ'x0eQ'y0fQ,p*rQ-u,qS.i-s/sR0p0rU#uq.k0qR(w&][cOn#g$j)t,PZ!xY#[#}$Q+YQ#W[Q#zrR$TxQ%b!yQ%i!}Q%o#RQ'j${Q(V%eQ(Z%jQ(c%pQ(f%qQ*|(`Q,f*bQ-t,pQ.m-uR/].lQ$StQ(R%cR*s(SQ.l-sR/}/sR#QZR#V[R%Q!iQ%O!iV*c'm*d,g!]!lQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0gR%T!kT#]^#_Q%x#[R,{+YQ(m%xS+_(n(oQ,}+`Q-x,{S.n-y-zR/^.oT+Z(k+]Q$`}Q&g$QQ)o'PR+{)pQ$XzQ)W&qR+i)XQ$XzQ&o$WQ)W&qR+i)XQ#khW$Vz$W&q)XQ$[{Q&r$ZZ)R&l)S+f+g-RR$^|R)c&wXlOn)t,PQ$f!RR'Q$gQ$m!UR'R$hR*X'_Q*V'_V-g,`-h.TQ.d-lQ/P.^R/Q._U.]-l.^._Q/U.aQ/b.tQ/g.zU/i.|/j/yQ/n/RQ/|/oQ0O/tU0Q/u0S0[Q0]0UQ0a0ZR0b0^R/T.`R/d.t",nodeNames:" print Escape { Comment Script AssignStatement * BinaryExpression BitOp BitOp BitOp BitOp ArithOp ArithOp @ ArithOp ** UnaryExpression ArithOp BitOp AwaitExpression await ) ( ParenthesizedExpression BinaryExpression or and CompareOp in not is UnaryExpression ConditionalExpression if else LambdaExpression lambda ParamList VariableName AssignOp , : NamedExpression AssignOp YieldExpression yield from TupleExpression ComprehensionExpression async for LambdaExpression ] [ ArrayExpression ArrayComprehensionExpression } { DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression CallExpression ArgList AssignOp MemberExpression . PropertyName Number String FormatString FormatReplacement FormatSelfDoc FormatConversion FormatSpec FormatReplacement FormatSelfDoc ContinuedString Ellipsis None Boolean TypeDef AssignOp UpdateStatement UpdateOp ExpressionStatement DeleteStatement del PassStatement pass BreakStatement break ContinueStatement continue ReturnStatement return YieldStatement PrintStatement RaiseStatement raise ImportStatement import as ScopeStatement global nonlocal AssertStatement assert TypeDefinition type TypeParamList TypeParam StatementGroup ; IfStatement Body elif WhileStatement while ForStatement TryStatement try except finally WithStatement with FunctionDefinition def ParamList AssignOp TypeDef ClassDefinition class DecoratedStatement Decorator At MatchStatement match MatchBody MatchClause case CapturePattern LiteralPattern ArithOp ArithOp AsPattern OrPattern LogicOp AttributePattern SequencePattern MappingPattern StarPattern ClassPattern PatternArgList KeywordPattern KeywordPattern Guard",maxTerm:277,context:vSe,nodeProps:[["isolate",-5,4,71,72,73,77,""],["group",-15,6,85,87,88,90,92,94,96,98,99,100,102,105,108,110,"Statement Statement",-22,8,18,21,25,40,49,50,56,57,60,61,62,63,64,67,70,71,72,79,80,81,82,"Expression",-10,114,116,119,121,122,126,128,133,135,138,"Statement",-9,143,144,147,148,150,151,152,153,154,"Pattern"],["openedBy",23,"(",54,"[",58,"{"],["closedBy",24,")",55,"]",59,"}"]],propSources:[SSe],skippedNodes:[0,4],repeatNodeCount:34,tokenData:"!2|~R!`OX%TXY%oY[%T[]%o]p%Tpq%oqr'ars)Yst*xtu%Tuv,dvw-hwx.Uxy/tyz0[z{0r{|2S|}2p}!O3W!O!P4_!P!Q:Z!Q!R;k!R![>_![!]Do!]!^Es!^!_FZ!_!`Gk!`!aHX!a!b%T!b!cIf!c!dJU!d!eK^!e!hJU!h!i!#f!i!tJU!t!u!,|!u!wJU!w!x!.t!x!}JU!}#O!0S#O#P&o#P#Q!0j#Q#R!1Q#R#SJU#S#T%T#T#UJU#U#VK^#V#YJU#Y#Z!#f#Z#fJU#f#g!,|#g#iJU#i#j!.t#j#oJU#o#p!1n#p#q!1s#q#r!2a#r#s!2f#s$g%T$g;'SJU;'S;=`KW<%lOJU`%YT&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T`%lP;=`<%l%To%v]&n`%c_OX%TXY%oY[%T[]%o]p%Tpq%oq#O%T#O#P&o#P#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To&tX&n`OY%TYZ%oZ]%T]^%o^#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc'f[&n`O!_%T!_!`([!`#T%T#T#U(r#U#f%T#f#g(r#g#h(r#h#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc(cTmR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc(yT!mR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk)aV&n`&[ZOr%Trs)vs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk){V&n`Or%Trs*bs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk*iT&n`&^ZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To+PZS_&n`OY*xYZ%TZ]*x]^%T^#o*x#o#p+r#p#q*x#q#r+r#r;'S*x;'S;=`,^<%lO*x_+wTS_OY+rZ]+r^;'S+r;'S;=`,W<%lO+r_,ZP;=`<%l+ro,aP;=`<%l*xj,kV%rQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj-XT!xY&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj-oV%lQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk.]V&n`&ZZOw%Twx.rx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk.wV&n`Ow%Twx/^x#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk/eT&n`&]ZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk/{ThZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc0cTgR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk0yXVZ&n`Oz%Tz{1f{!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk1mVaR&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk2ZV%oZ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc2wTzR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To3_W%pZ&n`O!_%T!_!`-Q!`!a3w!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Td4OT&{S&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk4fX!fQ&n`O!O%T!O!P5R!P!Q%T!Q![6T![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk5WV&n`O!O%T!O!P5m!P#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk5tT!rZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti6[a!hX&n`O!Q%T!Q![6T![!g%T!g!h7a!h!l%T!l!m9s!m#R%T#R#S6T#S#X%T#X#Y7a#Y#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti7fZ&n`O{%T{|8X|}%T}!O8X!O!Q%T!Q![8s![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti8^V&n`O!Q%T!Q![8s![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti8z]!hX&n`O!Q%T!Q![8s![!l%T!l!m9s!m#R%T#R#S8s#S#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti9zT!hX&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk:bX%qR&n`O!P%T!P!Q:}!Q!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj;UV%sQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti;ro!hX&n`O!O%T!O!P=s!P!Q%T!Q![>_![!d%T!d!e?q!e!g%T!g!h7a!h!l%T!l!m9s!m!q%T!q!rA]!r!z%T!z!{Bq!{#R%T#R#S>_#S#U%T#U#V?q#V#X%T#X#Y7a#Y#^%T#^#_9s#_#c%T#c#dA]#d#l%T#l#mBq#m#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti=xV&n`O!Q%T!Q![6T![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti>fc!hX&n`O!O%T!O!P=s!P!Q%T!Q![>_![!g%T!g!h7a!h!l%T!l!m9s!m#R%T#R#S>_#S#X%T#X#Y7a#Y#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti?vY&n`O!Q%T!Q!R@f!R!S@f!S#R%T#R#S@f#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti@mY!hX&n`O!Q%T!Q!R@f!R!S@f!S#R%T#R#S@f#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiAbX&n`O!Q%T!Q!YA}!Y#R%T#R#SA}#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiBUX!hX&n`O!Q%T!Q!YA}!Y#R%T#R#SA}#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiBv]&n`O!Q%T!Q![Co![!c%T!c!iCo!i#R%T#R#SCo#S#T%T#T#ZCo#Z#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiCv]!hX&n`O!Q%T!Q![Co![!c%T!c!iCo!i#R%T#R#SCo#S#T%T#T#ZCo#Z#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%ToDvV{_&n`O!_%T!_!`E]!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TcEdT%{R&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkEzT#gZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkFbXmR&n`O!^%T!^!_F}!_!`([!`!a([!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TjGUV%mQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkGrV%zZ&n`O!_%T!_!`([!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkH`WmR&n`O!_%T!_!`([!`!aHx!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TjIPV%nQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkIoV_Q#}P&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%ToJ_]&n`&YS%uZO!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUoKZP;=`<%lJUoKge&n`&YS%uZOr%Trs)Ysw%Twx.Ux!Q%T!Q![JU![!c%T!c!tJU!t!uLx!u!}JU!}#R%T#R#SJU#S#T%T#T#fJU#f#gLx#g#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUoMRa&n`&YS%uZOr%TrsNWsw%Twx! vx!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUkN_V&n`&`ZOr%TrsNts#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkNyV&n`Or%Trs! `s#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk! gT&n`&bZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk! }V&n`&_ZOw%Twx!!dx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!!iV&n`Ow%Twx!#Ox#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!#VT&n`&aZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!#oe&n`&YS%uZOr%Trs!%Qsw%Twx!&px!Q%T!Q![JU![!c%T!c!tJU!t!u!(`!u!}JU!}#R%T#R#SJU#S#T%T#T#fJU#f#g!(`#g#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!%XV&n`&dZOr%Trs!%ns#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!%sV&n`Or%Trs!&Ys#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!&aT&n`&fZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!&wV&n`&cZOw%Twx!'^x#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!'cV&n`Ow%Twx!'xx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!(PT&n`&eZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!(ia&n`&YS%uZOr%Trs!)nsw%Twx!+^x!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!)uV&n`&hZOr%Trs!*[s#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!*aV&n`Or%Trs!*vs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!*}T&n`&jZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!+eV&n`&gZOw%Twx!+zx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!,PV&n`Ow%Twx!,fx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!,mT&n`&iZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!-Vi&n`&YS%uZOr%TrsNWsw%Twx! vx!Q%T!Q![JU![!c%T!c!dJU!d!eLx!e!hJU!h!i!(`!i!}JU!}#R%T#R#SJU#S#T%T#T#UJU#U#VLx#V#YJU#Y#Z!(`#Z#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUo!.}a&n`&YS%uZOr%Trs)Ysw%Twx.Ux!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!0ZT!XZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc!0qT!WR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj!1XV%kQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T~!1sO!]~k!1zV%jR&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T~!2fO![~i!2mT%tX&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T",tokenizers:[xSe,gSe,mSe,wSe,0,1,2,3,4],topRules:{Script:[0,5]},specialized:[{term:221,get:n=>kSe[n]||-1}],tokenPrec:7675}),TSe=1024;let PSe=0,Zk=class{constructor(e,t){this.from=e,this.to=t}},Nt=class{constructor(e={}){this.id=PSe++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=zo.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}};Nt.closedBy=new Nt({deserialize:n=>n.split(" ")});Nt.openedBy=new Nt({deserialize:n=>n.split(" ")});Nt.group=new Nt({deserialize:n=>n.split(" ")});Nt.isolate=new Nt({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});Nt.contextHash=new Nt({perNode:!0});Nt.lookAhead=new Nt({perNode:!0});Nt.mounted=new Nt({perNode:!0});let Nw=class{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[Nt.mounted.id]}};const CSe=Object.create(null);let zo=class w6{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):CSe,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new w6(e.name||"",t,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Nt.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(Nt.group),s=-1;s<(i?i.length:0);s++){let o=t[s<0?r.name:i[s]];if(o)return o}}}};zo.none=new zo("",Object.create(null),0,8);const Q0=new WeakMap,nL=new WeakMap;var Kn;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(Kn||(Kn={}));let Qi=class jC{constructor(e,t,r,i,s){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=Nw.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new MC(this.topNode,e)}cursorAt(e,t=0,r=0){let i=Q0.get(this)||this.topNode,s=new MC(i);return s.moveTo(e,t),Q0.set(this,s._tree),s}get topNode(){return new qo(this,0,0,null)}resolve(e,t=0){let r=Jg(Q0.get(this)||this.topNode,e,t,!1);return Q0.set(this,r),r}resolveInner(e,t=0){let r=Jg(nL.get(this)||this.topNode,e,t,!0);return nL.set(this,r),r}resolveStack(e,t=0){return QSe(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:s=this.length}=e,o=e.mode||0,a=(o&Kn.IncludeAnonymous)>0;for(let l=this.cursor(o|Kn.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=i&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:uI(zo.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new jC(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new jC(zo.none,t,r,i)))}static build(e){return ISe(e)}};Qi.empty=new Qi(zo.none,[],[],0);let ESe=class b6{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new b6(this.buffer,this.index)}},hf=class S6{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return zo.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(k6(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,t,r){let i=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=i[a++],s[l++]=i[a++]-r;let c=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,c)}return new S6(s,o,this.set)}};function k6(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function Jg(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!r&&n instanceof qo&&n.index<0?null:n.parent;if(!o)return n;n=o}let s=r?0:Kn.IgnoreOverlays;if(r)for(let o=n,a=o.parent;a;o=a,a=o.parent)o instanceof qo&&o.index<0&&((i=a.enter(e,t,s))===null||i===void 0?void 0:i.from)!=o.from&&(n=a);for(;;){let o=n.enter(e,t,s);if(!o)return n;n=o}}let _6=class{cursor(e=0){return new MC(this,e)}getChild(e,t=null,r=null){let i=rL(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return rL(this,e,t,r)}resolve(e,t=0){return Jg(this,e,t,!1)}resolveInner(e,t=0){return Jg(this,e,t,!0)}matchContext(e){return DC(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}},qo=class Nv extends _6{constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=t>0?a.length:-1;e!=c;e+=t){let u=a[e],h=l[e]+o.from;if(k6(i,r,h,h+u.length)){if(u instanceof hf){if(s&Kn.ExcludeBuffers)continue;let f=u.findChild(0,u.buffer.length,t,r-h,i);if(f>-1)return new eO(new ASe(o,u,e,h),null,f)}else if(s&Kn.IncludeAnonymous||!u.type.isAnonymous||cI(u)){let f;if(!(s&Kn.IgnoreMounts)&&(f=Nw.get(u))&&!f.overlay)return new Nv(f.tree,h,e,o);let m=new Nv(u,h,e,o);return s&Kn.IncludeAnonymous||!m.type.isAnonymous?m:m.nextChild(t<0?u.children.length-1:0,t,r,i)}}}if(s&Kn.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&Kn.IgnoreOverlays)&&(i=Nw.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:o,to:a}of i.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new Nv(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function rL(n,e,t,r){let i=n.cursor(),s=[];if(!i.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=i.type.is(t),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function DC(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}let ASe=class{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}},eO=class lm extends _6{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return s<0?null:new lm(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&Kn.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new lm(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new lm(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new lm(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),t.push(0)}return new Qi(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function T6(n){if(!n.length)return null;let e=0,t=n[0];for(let s=1;s<n.length;s++){let o=n[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let r=t instanceof qo&&t.index<0?null:t.parent,i=n.slice();return r?i[e]=r:i.splice(e,1),new RSe(i,t)}let RSe=class{constructor(e,t){this.heads=e,this.node=t}get next(){return T6(this.heads)}};function QSe(n,e,t){let r=n.resolveInner(e,t),i=null;for(let s=r instanceof qo?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[r])).push(o.resolve(e,t)),s=o}else{let o=Nw.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new qo(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(Jg(a,e,t,!1))}}return i?T6(i):r}let MC=class{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof qo)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof qo?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&Kn.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Kn.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Kn.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let s=t+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&Kn.IncludeAnonymous||a instanceof hf||!a.type.isAnonymous||cI(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;t=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)t=new eO(this.buffer,t,this.stack[i]);return this.bufferNode=new eO(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return DC(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return DC(this._tree,e,i);let o=r[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}};function cI(n){return n.children.some(e=>e instanceof hf||!e.type.isAnonymous||cI(e))}function ISe(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=TSe,reused:s=[],minRepeatType:o=r.types.length}=n,a=Array.isArray(t)?new ESe(t,t.length):t,l=r.types,c=0,u=0;function h(C,Q,O,w,k,R){let{id:P,start:v,end:A,size:j}=a,V=u,U=c;for(;j<0;)if(a.next(),j==-1){let F=s[P];O.push(F),w.push(v-C);return}else if(j==-3){c=P;return}else if(j==-4){u=P;return}else throw new RangeError(`Unrecognized record size: ${j}`);let W=l[P],D,L,Y=v-C;if(A-v<=i&&(L=x(a.pos-Q,k))){let F=new Uint16Array(L.size-L.skip),Z=a.pos-L.size,G=F.length;for(;a.pos>Z;)G=S(L.start,F,G);D=new hf(F,A-L.start,r),Y=L.start-C}else{let F=a.pos-j;a.next();let Z=[],G=[],J=P>=o?P:-1,ae=0,oe=A;for(;a.pos>F;)J>=0&&a.id==J&&a.size>=0?(a.end<=oe-i&&(g(Z,G,v,ae,a.end,oe,J,V,U),ae=Z.length,oe=a.end),a.next()):R>2500?f(v,F,Z,G):h(v,F,Z,G,J,R+1);if(J>=0&&ae>0&&ae<Z.length&&g(Z,G,v,ae,v,oe,J,V,U),Z.reverse(),G.reverse(),J>-1&&ae>0){let re=m(W,U);D=uI(W,Z,G,0,Z.length,0,A-v,re,re)}else D=y(W,Z,G,A-v,V-A,U)}O.push(D),w.push(Y)}function f(C,Q,O,w){let k=[],R=0,P=-1;for(;a.pos>Q;){let{id:v,start:A,end:j,size:V}=a;if(V>4)a.next();else{if(P>-1&&A<P)break;P<0&&(P=j-i),k.push(v,A,j),R++,a.next()}}if(R){let v=new Uint16Array(R*4),A=k[k.length-2];for(let j=k.length-3,V=0;j>=0;j-=3)v[V++]=k[j],v[V++]=k[j+1]-A,v[V++]=k[j+2]-A,v[V++]=V;O.push(new hf(v,k[2]-A,r)),w.push(A-C)}}function m(C,Q){return(O,w,k)=>{let R=0,P=O.length-1,v,A;if(P>=0&&(v=O[P])instanceof Qi){if(!P&&v.type==C&&v.length==k)return v;(A=v.prop(Nt.lookAhead))&&(R=w[P]+v.length+A)}return y(C,O,w,k,R,Q)}}function g(C,Q,O,w,k,R,P,v,A){let j=[],V=[];for(;C.length>w;)j.push(C.pop()),V.push(Q.pop()+O-k);C.push(y(r.types[P],j,V,R-k,v-R,A)),Q.push(k-O)}function y(C,Q,O,w,k,R,P){if(R){let v=[Nt.contextHash,R];P=P?[v].concat(P):[v]}if(k>25){let v=[Nt.lookAhead,k];P=P?[v].concat(P):[v]}return new Qi(C,Q,O,w,P)}function x(C,Q){let O=a.fork(),w=0,k=0,R=0,P=O.end-i,v={size:0,start:0,skip:0};e:for(let A=O.pos-C;O.pos>A;){let j=O.size;if(O.id==Q&&j>=0){v.size=w,v.start=k,v.skip=R,R+=4,w+=4,O.next();continue}let V=O.pos-j;if(j<0||V<A||O.start<P)break;let U=O.id>=o?4:0,W=O.start;for(O.next();O.pos>V;){if(O.size<0)if(O.size==-3)U+=4;else break e;else O.id>=o&&(U+=4);O.next()}k=W,w+=j,R+=U}return(Q<0||w==C)&&(v.size=w,v.start=k,v.skip=R),v.size>4?v:void 0}function S(C,Q,O){let{id:w,start:k,end:R,size:P}=a;if(a.next(),P>=0&&w<o){let v=O;if(P>4){let A=a.pos-(P-4);for(;a.pos>A;)O=S(C,Q,O)}Q[--O]=v,Q[--O]=R-C,Q[--O]=k-C,Q[--O]=w}else P==-3?c=w:P==-4&&(u=w);return O}let _=[],T=[];for(;a.pos>0;)h(n.start||0,n.bufferStart||0,_,T,-1,0);let I=(e=n.length)!==null&&e!==void 0?e:_.length?T[0]+_[0].length:0;return new Qi(l[n.topID],_.reverse(),T.reverse(),I)}const iL=new WeakMap;function jv(n,e){if(!n.isAnonymous||e instanceof hf||e.type!=n)return 1;let t=iL.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof Qi)){t=1;break}t+=jv(n,r)}iL.set(e,t)}return t}function uI(n,e,t,r,i,s,o,a,l){let c=0;for(let g=r;g<i;g++)c+=jv(n,e[g]);let u=Math.ceil(c*1.5/8),h=[],f=[];function m(g,y,x,S,_){for(let T=x;T<S;){let I=T,C=y[T],Q=jv(n,g[T]);for(T++;T<S;T++){let O=jv(n,g[T]);if(Q+O>=u)break;Q+=O}if(T==I+1){if(Q>u){let O=g[I];m(O.children,O.positions,0,O.children.length,y[I]+_);continue}h.push(g[I])}else{let O=y[T-1]+g[T-1].length-C;h.push(uI(n,g,y,I,T,C,O,null,l))}f.push(C+_-s)}}return m(e,t,r,i,0),(a||l)(h,f,o)}let $Se=class{constructor(){this.map=new WeakMap}setBuffer(e,t,r){let i=this.map.get(e);i||this.map.set(e,i=new Map),i.set(t,r)}getBuffer(e,t){let r=this.map.get(e);return r&&r.get(t)}set(e,t){e instanceof eO?this.setBuffer(e.context.buffer,e.index,t):e instanceof qo&&this.map.set(e.tree,t)}get(e){return e instanceof eO?this.getBuffer(e.context.buffer,e.index):e instanceof qo?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}},Dv=class VC{constructor(e,t,r,i,s=!1,o=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],r=!1){let i=[new VC(0,e.length,e,0,!1,r)];for(let s of t)s.to>e.length&&i.push(s);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let u=a<t.length?t[a]:null,h=u?u.fromA:1e9;if(h-l>=r)for(;o&&o.from<h;){let f=o;if(l>=f.from||h<=f.to||c){let m=Math.max(f.from,l)-c,g=Math.min(f.to,h)-c;f=m>=g?null:new VC(m,g,f.tree,f.offset+c,a>0,!!u)}if(f&&i.push(f),o.to>h)break;o=s<e.length?e[s++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return i}},NSe=class{startParse(e,t,r){return typeof e=="string"&&(e=new jSe(e)),r=r?r.length?r.map(i=>new Zk(i.from,i.to)):[new Zk(0,0)]:[new Zk(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let s=i.advance();if(s)return s}}},jSe=class{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}};new Nt({perNode:!0});var Fk;const Yh=new Nt;function DSe(n){return de.define({combine:n?e=>e.concat(n):void 0})}const MSe=new Nt;let Ps=class{constructor(e,t,r=[],i=""){this.data=e,this.name=i,De.prototype.hasOwnProperty("tree")||Object.defineProperty(De.prototype,"tree",{get(){return tO(this)}}),this.parser=t,this.extension=[df.of(this),De.languageData.of((s,o,a)=>{let l=sL(s,o,a),c=l.type.prop(Yh);if(!c)return[];let u=s.facet(c),h=l.type.prop(MSe);if(h){let f=l.resolve(o-l.from,a);for(let m of h)if(m.test(f,s)){let g=s.facet(m.facet);return m.type=="replace"?g:g.concat(u)}}return u})].concat(r)}isActiveAt(e,t,r=-1){return sL(e,t,r).type.prop(Yh)==this.data}findRegions(e){let t=e.facet(df);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let r=[],i=(s,o)=>{if(s.prop(Yh)==this.data){r.push({from:o,to:o+s.length});return}let a=s.prop(Nt.mounted);if(a){if(a.tree.prop(Yh)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+o,to:l.to+o});else r.push({from:o,to:o+s.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+o),r.length>l)return}}for(let l=0;l<s.children.length;l++){let c=s.children[l];c instanceof Qi&&i(c,s.positions[l]+o)}};return i(tO(e),0),r}get allowsNesting(){return!0}};Ps.setState=Ne.define();function sL(n,e,t){let r=n.facet(df),i=tO(n).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,t,Kn.ExcludeBuffers))s.type.isTop&&(i=s);return i}let VSe=class LC extends Ps{constructor(e,t,r){super(e,t,[],r),this.parser=t}static define(e){let t=DSe(e.languageData);return new LC(t,e.parser.configure({props:[Yh.add(r=>r.isTop?t:void 0)]}),e.name)}configure(e,t){return new LC(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}};function tO(n){let e=n.field(Ps.state,!1);return e?e.tree:Qi.empty}let LSe=class{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}},Rp=null,USe=class UC{constructor(e,t,r=[],i,s,o,a,l){this.parser=e,this.state=t,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new UC(e,t,[],Qi.empty,0,r,[],null)}startParse(){return this.parser.startParse(new LSe(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=Qi.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(Dv.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Dv.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=Rp;Rp=this;try{return e()}finally{Rp=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=oL(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:i,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,u,h,f)=>l.push({fromA:c,toA:u,fromB:h,toB:f})),r=Dv.applyChanges(r,l),i=Qi.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),h=e.mapPos(c.to,-1);u<h&&a.push({from:u,to:h})}}}return new UC(this.parser,t,r,i,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=oL(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends NSe{createParse(t,r,i){let s=i[0].from,o=i[i.length-1].to;return{parsedPos:s,advance(){let l=Rp;if(l){for(let c of i)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new Qi(zo.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return Rp}};function oL(n,e,t){return Dv.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}let zC=class qC{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new qC(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=USe.create(e.facet(df).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new qC(r)}};Ps.state=Xt.define({create:zC.init,update(n,e){for(let t of e.effects)if(t.is(Ps.setState))return t.value;return e.startState.facet(df)!=e.state.facet(df)?zC.init(e.state):n.apply(e)}});let P6=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(P6=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const Bk=typeof navigator<"u"&&(!((Fk=navigator.scheduling)===null||Fk===void 0)&&Fk.isInputPending)?()=>navigator.scheduling.isInputPending():null,zSe=Vt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Ps.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Ps.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=P6(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(Ps.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!Bk?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<i&&r.doc.length>i+1e3,l=s.context.work(()=>Bk&&Bk()||Date.now()>o,i+(a?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Ps.setState.of(new zC(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>An(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),df=de.define({combine(n){return n.length?n[0]:null},enables:n=>[Ps.state,zSe,fe.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});let qSe=class{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}};const ZSe=de.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}}),FSe=new Nt;function BSe(n){let e=n.node,t=e.childAfter(e.from),r=e.lastChild;if(!t)return null;let i=n.options.simulateBreak,s=n.state.doc.lineAt(t.from),o=i==null||i<=s.from?s.to:Math.min(s.to,i);for(let a=t.to;;){let l=e.childAfter(a);if(!l||l==r)return null;if(!l.type.isSkipped){if(l.from>=o)return null;let c=/^ */.exec(s.text.slice(t.to-s.from))[0].length;return{from:t.from,to:t.to+c}}a=l.to}}function Wk({closing:n,align:e=!0,units:t=1}){return r=>WSe(r,e,t,n)}function WSe(n,e,t,r,i){let s=n.textAfter,o=s.match(/^\s*/)[0].length,a=r&&s.slice(o,o+r.length)==r||i==n.pos+o,l=e?BSe(n):null;return l?a?n.column(l.from):n.column(l.to):n.baseIndent+(a?0:n.unit*t)}const XSe=new Nt;function GSe(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}let YSe=class C6{constructor(e,t){this.specs=e;let r;function i(a){let l=Rn.newName();return(r||(r=Object.create(null)))["."+l]=a,l}const s=typeof t.all=="string"?t.all:t.all?i(t.all):void 0,o=t.scope;this.scope=o instanceof Ps?a=>a.prop(Yh)==o.data:o?a=>a==o:void 0,this.style=Zc(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=r?new Rn(r):null,this.themeType=t.themeType}static define(e,t){return new C6(e,t||{})}};N.meta,N.link,N.heading,N.emphasis,N.strong,N.strikethrough,N.keyword,N.atom,N.bool,N.url,N.contentSeparator,N.labelName,N.literal,N.inserted,N.string,N.deleted,N.regexp,N.escape,N.string,N.variableName,N.variableName,N.typeName,N.namespace,N.className,N.variableName,N.macroName,N.propertyName,N.comment,N.invalid;const HSe=Object.create(null),aL=[zo.none],lL=[],cL=Object.create(null),KSe=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])KSe[n]=JSe(HSe,e);function Xk(n,e){lL.indexOf(n)>-1||(lL.push(n),console.warn(e))}function JSe(n,e){let t=[];for(let a of e.split(" ")){let l=[];for(let c of a.split(".")){let u=n[c]||N[c];u?typeof u=="function"?l.length?l=l.map(u):Xk(c,`Modifier ${c} used at start of tag`):l.length?Xk(c,`Tag ${c} used as modifier`):l=Array.isArray(u)?u:[u]:Xk(c,`Unknown highlighting tag ${c}`)}for(let c of l)t.push(c)}if(!t.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+t.map(a=>a.id),s=cL[i];if(s)return s.id;let o=cL[i]=zo.define({id:aL.length,name:r,props:[Wi({[r]:t})]});return aL.push(o),o.id}it.RTL,it.LTR;function uL(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function e1e(n){let e=Object.create(null),t=Object.create(null);for(let{label:i}of n){e[i[0]]=!0;for(let s=1;s<i.length;s++)t[i[s]]=!0}let r=uL(e)+uL(t)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function t1e(n){let e=n.map(i=>typeof i=="string"?{label:i}:i),[t,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:e1e(e);return i=>{let s=i.matchBefore(r);return s||i.explicit?{from:s?s.from:i.pos,options:e,validFor:t}:null}}function n1e(n,e){return t=>{for(let r=tO(t.state).resolveInner(t.pos,-1);r;r=r.parent){if(n.indexOf(r.name)>-1)return null;if(r.type.isTop)break}return e(t)}}const r1e=Fs.define(),i1e=fe.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class s1e{constructor(e,t,r,i){this.field=e,this.line=t,this.from=r,this.to=i}}class hI{constructor(e,t,r){this.field=e,this.from=t,this.to=r}map(e){let t=e.mapPos(this.from,-1,Ln.TrackDel),r=e.mapPos(this.to,1,Ln.TrackDel);return t==null||r==null?null:new hI(this.field,t,r)}}class dI{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let r=[],i=[t],s=e.doc.lineAt(t),o=/^\s*/.exec(s.text)[0];for(let l of this.lines){if(r.length){let c=o,u=/^\t*/.exec(l)[0].length;for(let h=0;h<u;h++)c+=e.facet(ZSe);i.push(t+c.length-u),l=c+l.slice(u)}r.push(l),t+=l.length+1}let a=this.fieldPositions.map(l=>new hI(l.field,i[l.line]+l.from,i[l.line]+l.to));return{text:r,ranges:a}}static parse(e){let t=[],r=[],i=[],s;for(let o of e.split(/\r\n?|\n/)){for(;s=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(o);){let a=s[1]?+s[1]:null,l=s[2]||s[3]||"",c=-1,u=l.replace(/\\[{}]/g,h=>h[1]);for(let h=0;h<t.length;h++)(a!=null?t[h].seq==a:u&&t[h].name==u)&&(c=h);if(c<0){let h=0;for(;h<t.length&&(a==null||t[h].seq!=null&&t[h].seq<a);)h++;t.splice(h,0,{seq:a,name:u}),c=h;for(let f of i)f.field>=c&&f.field++}i.push(new s1e(c,r.length,s.index,s.index+u.length)),o=o.slice(0,s.index)+l+o.slice(s.index+s[0].length)}o=o.replace(/\\([{}])/g,(a,l,c)=>{for(let u of i)u.line==r.length&&u.from>c&&(u.from--,u.to--);return l}),r.push(o)}return new dI(r,i)}}let o1e=ye.widget({widget:new class extends ea{toDOM(){let n=document.createElement("span");return n.className="cm-snippetFieldPosition",n}ignoreEvent(){return!1}}}),a1e=ye.mark({class:"cm-snippetField"});class Zf{constructor(e,t){this.ranges=e,this.active=t,this.deco=ye.set(e.map(r=>(r.from==r.to?o1e:a1e).range(r.from,r.to)))}map(e){let t=[];for(let r of this.ranges){let i=r.map(e);if(!i)return null;t.push(i)}return new Zf(t,this.active)}selectionInsideField(e){return e.ranges.every(t=>this.ranges.some(r=>r.field==this.active&&r.from<=t.from&&r.to>=t.to))}}const iy=Ne.define({map(n,e){return n&&n.map(e)}}),l1e=Ne.define(),nO=Xt.define({create(){return null},update(n,e){for(let t of e.effects){if(t.is(iy))return t.value;if(t.is(l1e)&&n)return new Zf(n.ranges,t.value)}return n&&e.docChanged&&(n=n.map(e.changes)),n&&e.selection&&!n.selectionInsideField(e.selection)&&(n=null),n},provide:n=>fe.decorations.from(n,e=>e?e.deco:ye.none)});function fI(n,e){return te.create(n.filter(t=>t.field==e).map(t=>te.range(t.from,t.to)))}function c1e(n){let e=dI.parse(n);return(t,r,i,s)=>{let{text:o,ranges:a}=e.instantiate(t.state,i),{main:l}=t.state.selection,c={changes:{from:i,to:s==l.from?l.to:s,insert:pt.of(o)},scrollIntoView:!0,annotations:r?[r1e.of(r),vn.userEvent.of("input.complete")]:void 0};if(a.length&&(c.selection=fI(a,0)),a.some(u=>u.field>0)){let u=new Zf(a,0),h=c.effects=[iy.of(u)];t.state.field(nO,!1)===void 0&&h.push(Ne.appendConfig.of([nO,p1e,m1e,i1e]))}t.dispatch(t.state.update(c))}}function E6(n){return({state:e,dispatch:t})=>{let r=e.field(nO,!1);if(!r||n<0&&r.active==0)return!1;let i=r.active+n,s=n>0&&!r.ranges.some(o=>o.field==i+n);return t(e.update({selection:fI(r.ranges,i),effects:iy.of(s?null:new Zf(r.ranges,i)),scrollIntoView:!0})),!0}}const u1e=({state:n,dispatch:e})=>n.field(nO,!1)?(e(n.update({effects:iy.of(null)})),!0):!1,h1e=E6(1),d1e=E6(-1),f1e=[{key:"Tab",run:h1e,shift:d1e},{key:"Escape",run:u1e}],hL=de.define({combine(n){return n.length?n[0]:f1e}}),p1e=sl.highest(KO.compute([hL],n=>n.facet(hL)));function la(n,e){return Object.assign(Object.assign({},e),{apply:c1e(n)})}const m1e=fe.domEventHandlers({mousedown(n,e){let t=e.state.field(nO,!1),r;if(!t||(r=e.posAtCoords({x:n.clientX,y:n.clientY}))==null)return!1;let i=t.ranges.find(s=>s.from<=r&&s.to>=r);return!i||i.field==t.active?!1:(e.dispatch({selection:fI(t.ranges,i.field),effects:iy.of(t.ranges.some(s=>s.field>i.field)?new Zf(t.ranges,i.field):null),scrollIntoView:!0}),!0)}}),A6=new class extends Do{};A6.startSide=1;A6.endSide=-1;const dL=new $Se,R6=new Set(["Script","Body","FunctionDefinition","ClassDefinition","LambdaExpression","ForStatement","MatchClause"]);function I0(n){return(e,t,r)=>{if(r)return!1;let i=e.node.getChild("VariableName");return i&&t(i,n),!0}}const g1e={FunctionDefinition:I0("function"),ClassDefinition:I0("class"),ForStatement(n,e,t){if(t){for(let r=n.node.firstChild;r;r=r.nextSibling)if(r.name=="VariableName")e(r,"variable");else if(r.name=="in")break}},ImportStatement(n,e){var t,r;let{node:i}=n,s=((t=i.firstChild)===null||t===void 0?void 0:t.name)=="from";for(let o=i.getChild("import");o;o=o.nextSibling)o.name=="VariableName"&&((r=o.nextSibling)===null||r===void 0?void 0:r.name)!="as"&&e(o,s?"variable":"namespace")},AssignStatement(n,e){for(let t=n.node.firstChild;t;t=t.nextSibling)if(t.name=="VariableName")e(t,"variable");else if(t.name==":"||t.name=="AssignOp")break},ParamList(n,e){for(let t=null,r=n.node.firstChild;r;r=r.nextSibling)r.name=="VariableName"&&(!t||!/\*|AssignOp/.test(t.name))&&e(r,"variable"),t=r},CapturePattern:I0("variable"),AsPattern:I0("variable"),__proto__:null};function Q6(n,e){let t=dL.get(e);if(t)return t;let r=[],i=!0;function s(o,a){let l=n.sliceString(o.from,o.to);r.push({label:l,type:a})}return e.cursor(Kn.IncludeAnonymous).iterate(o=>{if(o.name){let a=g1e[o.name];if(a&&a(o,s,i)||!i&&R6.has(o.name))return!1;i=!1}else if(o.to-o.from>8192){for(let a of Q6(n,o.node))r.push(a);return!1}}),dL.set(e,r),r}const fL=/^[\w\xa1-\uffff][\w\d\xa1-\uffff]*$/,I6=["String","FormatString","Comment","PropertyName"];function O1e(n){let e=tO(n.state).resolveInner(n.pos,-1);if(I6.indexOf(e.name)>-1)return null;let t=e.name=="VariableName"||e.to-e.from<20&&fL.test(n.state.sliceDoc(e.from,e.to));if(!t&&!n.explicit)return null;let r=[];for(let i=e;i;i=i.parent)R6.has(i.name)&&(r=r.concat(Q6(n.state.doc,i)));return{options:r,from:t?e.from:n.pos,validFor:fL}}const y1e=["__annotations__","__builtins__","__debug__","__doc__","__import__","__name__","__loader__","__package__","__spec__","False","None","True"].map(n=>({label:n,type:"constant"})).concat(["ArithmeticError","AssertionError","AttributeError","BaseException","BlockingIOError","BrokenPipeError","BufferError","BytesWarning","ChildProcessError","ConnectionAbortedError","ConnectionError","ConnectionRefusedError","ConnectionResetError","DeprecationWarning","EOFError","Ellipsis","EncodingWarning","EnvironmentError","Exception","FileExistsError","FileNotFoundError","FloatingPointError","FutureWarning","GeneratorExit","IOError","ImportError","ImportWarning","IndentationError","IndexError","InterruptedError","IsADirectoryError","KeyError","KeyboardInterrupt","LookupError","MemoryError","ModuleNotFoundError","NameError","NotADirectoryError","NotImplemented","NotImplementedError","OSError","OverflowError","PendingDeprecationWarning","PermissionError","ProcessLookupError","RecursionError","ReferenceError","ResourceWarning","RuntimeError","RuntimeWarning","StopAsyncIteration","StopIteration","SyntaxError","SyntaxWarning","SystemError","SystemExit","TabError","TimeoutError","TypeError","UnboundLocalError","UnicodeDecodeError","UnicodeEncodeError","UnicodeError","UnicodeTranslateError","UnicodeWarning","UserWarning","ValueError","Warning","ZeroDivisionError"].map(n=>({label:n,type:"type"}))).concat(["bool","bytearray","bytes","classmethod","complex","float","frozenset","int","list","map","memoryview","object","range","set","staticmethod","str","super","tuple","type"].map(n=>({label:n,type:"class"}))).concat(["abs","aiter","all","anext","any","ascii","bin","breakpoint","callable","chr","compile","delattr","dict","dir","divmod","enumerate","eval","exec","exit","filter","format","getattr","globals","hasattr","hash","help","hex","id","input","isinstance","issubclass","iter","len","license","locals","max","min","next","oct","open","ord","pow","print","property","quit","repr","reversed","round","setattr","slice","sorted","sum","vars","zip"].map(n=>({label:n,type:"function"}))),v1e=[la("def ${name}(${params}):\n	${}",{label:"def",detail:"function",type:"keyword"}),la("for ${name} in ${collection}:\n	${}",{label:"for",detail:"loop",type:"keyword"}),la("while ${}:\n	${}",{label:"while",detail:"loop",type:"keyword"}),la("try:\n	${}\nexcept ${error}:\n	${}",{label:"try",detail:"/ except block",type:"keyword"}),la(`if \${}:
	
`,{label:"if",detail:"block",type:"keyword"}),la("if ${}:\n	${}\nelse:\n	${}",{label:"if",detail:"/ else block",type:"keyword"}),la("class ${name}:\n	def __init__(self, ${params}):\n			${}",{label:"class",detail:"definition",type:"keyword"}),la("import ${module}",{label:"import",detail:"statement",type:"keyword"}),la("from ${module} import ${names}",{label:"from",detail:"import",type:"keyword"})],x1e=n1e(I6,t1e(y1e.concat(v1e)));function Gk(n){let{node:e,pos:t}=n,r=n.lineIndent(t,-1),i=null;for(;;){let s=e.childBefore(t);if(s)if(s.name=="Comment")t=s.from;else if(s.name=="Body"||s.name=="MatchBody")n.baseIndentFor(s)+n.unit<=r&&(i=s),e=s;else if(s.name=="MatchClause")e=s;else if(s.type.is("Statement"))e=s;else break;else break}return i}function Yk(n,e){let t=n.baseIndentFor(e),r=n.lineAt(n.pos,-1),i=r.from+r.text.length;return/^\s*($|#)/.test(r.text)&&n.node.to<i+100&&!/\S/.test(n.state.sliceDoc(i,n.node.to))&&n.lineIndent(n.pos,-1)<=t||/^\s*(else:|elif |except |finally:|case\s+[^=:]+:)/.test(n.textAfter)&&n.lineIndent(n.pos,-1)>t?null:t+n.unit}const Hk=VSe.define({name:"python",parser:_Se.configure({props:[FSe.add({Body:n=>{var e;let t=Gk(n);return(e=Yk(n,t||n.node))!==null&&e!==void 0?e:n.continue()},MatchBody:n=>{var e;let t=Gk(n);return(e=Yk(n,t||n.node))!==null&&e!==void 0?e:n.continue()},IfStatement:n=>/^\s*(else:|elif )/.test(n.textAfter)?n.baseIndent:n.continue(),"ForStatement WhileStatement":n=>/^\s*else:/.test(n.textAfter)?n.baseIndent:n.continue(),TryStatement:n=>/^\s*(except |finally:|else:)/.test(n.textAfter)?n.baseIndent:n.continue(),MatchStatement:n=>/^\s*case /.test(n.textAfter)?n.baseIndent+n.unit:n.continue(),"TupleExpression ComprehensionExpression ParamList ArgList ParenthesizedExpression":Wk({closing:")"}),"DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression":Wk({closing:"}"}),"ArrayExpression ArrayComprehensionExpression":Wk({closing:"]"}),"String FormatString":()=>null,Script:n=>{var e;let t=Gk(n);return(e=t&&Yk(n,t))!==null&&e!==void 0?e:n.continue()}}),XSe.add({"ArrayExpression DictionaryExpression SetExpression TupleExpression":GSe,Body:(n,e)=>({from:n.from+1,to:n.to-(n.to==e.doc.length?0:1)})})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"'''",'"""'],stringPrefixes:["f","fr","rf","r","u","b","br","rb","F","FR","RF","R","U","B","BR","RB"]},commentTokens:{line:"#"},indentOnInput:/^\s*([\}\]\)]|else:|elif |except |finally:|case\s+[^:]*:?)$/}});function w1e(){return new qSe(Hk,[Hk.data.of({autocomplete:O1e}),Hk.data.of({autocomplete:x1e})])}const b1e=1024;let S1e=0,Ea=class{constructor(e,t){this.from=e,this.to=t}},rn=class{constructor(e={}){this.id=S1e++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Cc.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}};rn.closedBy=new rn({deserialize:n=>n.split(" ")});rn.openedBy=new rn({deserialize:n=>n.split(" ")});rn.group=new rn({deserialize:n=>n.split(" ")});rn.isolate=new rn({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});rn.contextHash=new rn({perNode:!0});rn.lookAhead=new rn({perNode:!0});rn.mounted=new rn({perNode:!0});let rO=class{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[rn.mounted.id]}};const k1e=Object.create(null);let Cc=class $6{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):k1e,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new $6(e.name||"",t,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(rn.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(rn.group),s=-1;s<(i?i.length:0);s++){let o=t[s<0?r.name:i[s]];if(o)return o}}}};Cc.none=new Cc("",Object.create(null),0,8);const $0=new WeakMap,pL=new WeakMap;var hn;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(hn||(hn={}));let Qo=class ZC{constructor(e,t,r,i,s){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=rO.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new jw(this.topNode,e)}cursorAt(e,t=0,r=0){let i=$0.get(this)||this.topNode,s=new jw(i);return s.moveTo(e,t),$0.set(this,s._tree),s}get topNode(){return new Zo(this,0,0,null)}resolve(e,t=0){let r=iO($0.get(this)||this.topNode,e,t,!1);return $0.set(this,r),r}resolveInner(e,t=0){let r=iO(pL.get(this)||this.topNode,e,t,!0);return pL.set(this,r),r}resolveStack(e,t=0){return C1e(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:s=this.length}=e,o=e.mode||0,a=(o&hn.IncludeAnonymous)>0;for(let l=this.cursor(o|hn.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=i&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:mI(Cc.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new ZC(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new ZC(Cc.none,t,r,i)))}static build(e){return E1e(e)}};Qo.empty=new Qo(Cc.none,[],[],0);let _1e=class N6{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new N6(this.buffer,this.index)}},ff=class j6{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return Cc.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(D6(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,t,r){let i=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=i[a++],s[l++]=i[a++]-r;let c=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,c)}return new j6(s,o,this.set)}};function D6(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function iO(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!r&&n instanceof Zo&&n.index<0?null:n.parent;if(!o)return n;n=o}let s=r?0:hn.IgnoreOverlays;if(r)for(let o=n,a=o.parent;a;o=a,a=o.parent)o instanceof Zo&&o.index<0&&((i=a.enter(e,t,s))===null||i===void 0?void 0:i.from)!=o.from&&(n=a);for(;;){let o=n.enter(e,t,s);if(!o)return n;n=o}}let M6=class{cursor(e=0){return new jw(this,e)}getChild(e,t=null,r=null){let i=mL(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return mL(this,e,t,r)}resolve(e,t=0){return iO(this,e,t,!1)}resolveInner(e,t=0){return iO(this,e,t,!0)}matchContext(e){return FC(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}},Zo=class Mv extends M6{constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=t>0?a.length:-1;e!=c;e+=t){let u=a[e],h=l[e]+o.from;if(D6(i,r,h,h+u.length)){if(u instanceof ff){if(s&hn.ExcludeBuffers)continue;let f=u.findChild(0,u.buffer.length,t,r-h,i);if(f>-1)return new BC(new T1e(o,u,e,h),null,f)}else if(s&hn.IncludeAnonymous||!u.type.isAnonymous||pI(u)){let f;if(!(s&hn.IgnoreMounts)&&(f=rO.get(u))&&!f.overlay)return new Mv(f.tree,h,e,o);let m=new Mv(u,h,e,o);return s&hn.IncludeAnonymous||!m.type.isAnonymous?m:m.nextChild(t<0?u.children.length-1:0,t,r,i)}}}if(s&hn.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&hn.IgnoreOverlays)&&(i=rO.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:o,to:a}of i.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new Mv(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function mL(n,e,t,r){let i=n.cursor(),s=[];if(!i.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=i.type.is(t),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function FC(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}let T1e=class{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}},BC=class cm extends M6{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return s<0?null:new cm(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&hn.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new cm(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new cm(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new cm(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),t.push(0)}return new Qo(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function V6(n){if(!n.length)return null;let e=0,t=n[0];for(let s=1;s<n.length;s++){let o=n[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let r=t instanceof Zo&&t.index<0?null:t.parent,i=n.slice();return r?i[e]=r:i.splice(e,1),new P1e(i,t)}let P1e=class{constructor(e,t){this.heads=e,this.node=t}get next(){return V6(this.heads)}};function C1e(n,e,t){let r=n.resolveInner(e,t),i=null;for(let s=r instanceof Zo?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[r])).push(o.resolve(e,t)),s=o}else{let o=rO.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new Zo(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(iO(a,e,t,!1))}}return i?V6(i):r}let jw=class{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Zo)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof Zo?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&hn.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&hn.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&hn.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let s=t+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&hn.IncludeAnonymous||a instanceof ff||!a.type.isAnonymous||pI(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;t=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)t=new BC(this.buffer,t,this.stack[i]);return this.bufferNode=new BC(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return FC(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return FC(this._tree,e,i);let o=r[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}};function pI(n){return n.children.some(e=>e instanceof ff||!e.type.isAnonymous||pI(e))}function E1e(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=b1e,reused:s=[],minRepeatType:o=r.types.length}=n,a=Array.isArray(t)?new _1e(t,t.length):t,l=r.types,c=0,u=0;function h(C,Q,O,w,k,R){let{id:P,start:v,end:A,size:j}=a,V=u,U=c;for(;j<0;)if(a.next(),j==-1){let F=s[P];O.push(F),w.push(v-C);return}else if(j==-3){c=P;return}else if(j==-4){u=P;return}else throw new RangeError(`Unrecognized record size: ${j}`);let W=l[P],D,L,Y=v-C;if(A-v<=i&&(L=x(a.pos-Q,k))){let F=new Uint16Array(L.size-L.skip),Z=a.pos-L.size,G=F.length;for(;a.pos>Z;)G=S(L.start,F,G);D=new ff(F,A-L.start,r),Y=L.start-C}else{let F=a.pos-j;a.next();let Z=[],G=[],J=P>=o?P:-1,ae=0,oe=A;for(;a.pos>F;)J>=0&&a.id==J&&a.size>=0?(a.end<=oe-i&&(g(Z,G,v,ae,a.end,oe,J,V,U),ae=Z.length,oe=a.end),a.next()):R>2500?f(v,F,Z,G):h(v,F,Z,G,J,R+1);if(J>=0&&ae>0&&ae<Z.length&&g(Z,G,v,ae,v,oe,J,V,U),Z.reverse(),G.reverse(),J>-1&&ae>0){let re=m(W,U);D=mI(W,Z,G,0,Z.length,0,A-v,re,re)}else D=y(W,Z,G,A-v,V-A,U)}O.push(D),w.push(Y)}function f(C,Q,O,w){let k=[],R=0,P=-1;for(;a.pos>Q;){let{id:v,start:A,end:j,size:V}=a;if(V>4)a.next();else{if(P>-1&&A<P)break;P<0&&(P=j-i),k.push(v,A,j),R++,a.next()}}if(R){let v=new Uint16Array(R*4),A=k[k.length-2];for(let j=k.length-3,V=0;j>=0;j-=3)v[V++]=k[j],v[V++]=k[j+1]-A,v[V++]=k[j+2]-A,v[V++]=V;O.push(new ff(v,k[2]-A,r)),w.push(A-C)}}function m(C,Q){return(O,w,k)=>{let R=0,P=O.length-1,v,A;if(P>=0&&(v=O[P])instanceof Qo){if(!P&&v.type==C&&v.length==k)return v;(A=v.prop(rn.lookAhead))&&(R=w[P]+v.length+A)}return y(C,O,w,k,R,Q)}}function g(C,Q,O,w,k,R,P,v,A){let j=[],V=[];for(;C.length>w;)j.push(C.pop()),V.push(Q.pop()+O-k);C.push(y(r.types[P],j,V,R-k,v-R,A)),Q.push(k-O)}function y(C,Q,O,w,k,R,P){if(R){let v=[rn.contextHash,R];P=P?[v].concat(P):[v]}if(k>25){let v=[rn.lookAhead,k];P=P?[v].concat(P):[v]}return new Qo(C,Q,O,w,P)}function x(C,Q){let O=a.fork(),w=0,k=0,R=0,P=O.end-i,v={size:0,start:0,skip:0};e:for(let A=O.pos-C;O.pos>A;){let j=O.size;if(O.id==Q&&j>=0){v.size=w,v.start=k,v.skip=R,R+=4,w+=4,O.next();continue}let V=O.pos-j;if(j<0||V<A||O.start<P)break;let U=O.id>=o?4:0,W=O.start;for(O.next();O.pos>V;){if(O.size<0)if(O.size==-3)U+=4;else break e;else O.id>=o&&(U+=4);O.next()}k=W,w+=j,R+=U}return(Q<0||w==C)&&(v.size=w,v.start=k,v.skip=R),v.size>4?v:void 0}function S(C,Q,O){let{id:w,start:k,end:R,size:P}=a;if(a.next(),P>=0&&w<o){let v=O;if(P>4){let A=a.pos-(P-4);for(;a.pos>A;)O=S(C,Q,O)}Q[--O]=v,Q[--O]=R-C,Q[--O]=k-C,Q[--O]=w}else P==-3?c=w:P==-4&&(u=w);return O}let _=[],T=[];for(;a.pos>0;)h(n.start||0,n.bufferStart||0,_,T,-1,0);let I=(e=n.length)!==null&&e!==void 0?e:_.length?T[0]+_[0].length:0;return new Qo(l[n.topID],_.reverse(),T.reverse(),I)}const gL=new WeakMap;function Vv(n,e){if(!n.isAnonymous||e instanceof ff||e.type!=n)return 1;let t=gL.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof Qo)){t=1;break}t+=Vv(n,r)}gL.set(e,t)}return t}function mI(n,e,t,r,i,s,o,a,l){let c=0;for(let g=r;g<i;g++)c+=Vv(n,e[g]);let u=Math.ceil(c*1.5/8),h=[],f=[];function m(g,y,x,S,_){for(let T=x;T<S;){let I=T,C=y[T],Q=Vv(n,g[T]);for(T++;T<S;T++){let O=Vv(n,g[T]);if(Q+O>=u)break;Q+=O}if(T==I+1){if(Q>u){let O=g[I];m(O.children,O.positions,0,O.children.length,y[I]+_);continue}h.push(g[I])}else{let O=y[T-1]+g[T-1].length-C;h.push(mI(n,g,y,I,T,C,O,null,l))}f.push(C+_-s)}}return m(e,t,r,i,0),(a||l)(h,f,o)}let OL=class WC{constructor(e,t,r,i,s=!1,o=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],r=!1){let i=[new WC(0,e.length,e,0,!1,r)];for(let s of t)s.to>e.length&&i.push(s);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let u=a<t.length?t[a]:null,h=u?u.fromA:1e9;if(h-l>=r)for(;o&&o.from<h;){let f=o;if(l>=f.from||h<=f.to||c){let m=Math.max(f.from,l)-c,g=Math.min(f.to,h)-c;f=m>=g?null:new WC(m,g,f.tree,f.offset+c,a>0,!!u)}if(f&&i.push(f),o.to>h)break;o=s<e.length?e[s++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return i}};function A1e(n){return(e,t,r,i)=>new Q1e(e,n,t,r,i)}class yL{constructor(e,t,r,i,s){this.parser=e,this.parse=t,this.overlay=r,this.target=i,this.from=s}}function vL(n){if(!n.length||n.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(n))}class R1e{constructor(e,t,r,i,s,o,a){this.parser=e,this.predicate=t,this.mounts=r,this.index=i,this.start=s,this.target=o,this.prev=a,this.depth=0,this.ranges=[]}}const XC=new rn({perNode:!0});class Q1e{constructor(e,t,r,i,s){this.nest=t,this.input=r,this.fragments=i,this.ranges=s,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let r=this.baseParse.advance();if(!r)return null;if(this.baseParse=null,this.baseTree=r,this.startInner(),this.stoppedAt!=null)for(let i of this.inner)i.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let r=this.baseTree;return this.stoppedAt!=null&&(r=new Qo(r.type,r.children,r.positions,r.length,r.propValues.concat([[XC,this.stoppedAt]]))),r}let e=this.inner[this.innerDone],t=e.parse.advance();if(t){this.innerDone++;let r=Object.assign(Object.create(null),e.target.props);r[rn.mounted.id]=new rO(t,e.overlay,e.parser),e.target.props=r}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].from<e&&(e=Math.min(e,this.inner[t].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].parse.stopAt(e)}startInner(){let e=new N1e(this.fragments),t=null,r=null,i=new jw(new Zo(this.baseTree,this.ranges[0].from,0,null),hn.IncludeAnonymous|hn.IgnoreMounts);e:for(let s,o;;){let a=!0,l;if(this.stoppedAt!=null&&i.from>=this.stoppedAt)a=!1;else if(e.hasNode(i)){if(t){let c=t.mounts.find(u=>u.frag.from<=i.from&&u.frag.to>=i.to&&u.mount.overlay);if(c)for(let u of c.mount.overlay){let h=u.from+c.pos,f=u.to+c.pos;h>=i.from&&f<=i.to&&!t.ranges.some(m=>m.from<f&&m.to>h)&&t.ranges.push({from:h,to:f})}}a=!1}else if(r&&(o=I1e(r.ranges,i.from,i.to)))a=o!=2;else if(!i.type.isAnonymous&&(s=this.nest(i,this.input))&&(i.from<i.to||!s.overlay)){i.tree||$1e(i);let c=e.findMounts(i.from,s.parser);if(typeof s.overlay=="function")t=new R1e(s.parser,s.overlay,c,this.inner.length,i.from,i.tree,t);else{let u=bL(this.ranges,s.overlay||(i.from<i.to?[new Ea(i.from,i.to)]:[]));u.length&&vL(u),(u.length||!s.overlay)&&this.inner.push(new yL(s.parser,u.length?s.parser.startParse(this.input,SL(c,u),u):s.parser.startParse(""),s.overlay?s.overlay.map(h=>new Ea(h.from-i.from,h.to-i.from)):null,i.tree,u.length?u[0].from:i.from)),s.overlay?u.length&&(r={ranges:u,depth:0,prev:r}):a=!1}}else if(t&&(l=t.predicate(i))&&(l===!0&&(l=new Ea(i.from,i.to)),l.from<l.to)){let c=t.ranges.length-1;c>=0&&t.ranges[c].to==l.from?t.ranges[c]={from:t.ranges[c].from,to:l.to}:t.ranges.push(l)}if(a&&i.firstChild())t&&t.depth++,r&&r.depth++;else for(;!i.nextSibling();){if(!i.parent())break e;if(t&&!--t.depth){let c=bL(this.ranges,t.ranges);c.length&&(vL(c),this.inner.splice(t.index,0,new yL(t.parser,t.parser.startParse(this.input,SL(t.mounts,c),c),t.ranges.map(u=>new Ea(u.from-t.start,u.to-t.start)),t.target,c[0].from))),t=t.prev}r&&!--r.depth&&(r=r.prev)}}}}function I1e(n,e,t){for(let r of n){if(r.from>=t)break;if(r.to>e)return r.from<=e&&r.to>=t?2:1}return 0}function xL(n,e,t,r,i,s){if(e<t){let o=n.buffer[e+1];r.push(n.slice(e,t,o)),i.push(o-s)}}function $1e(n){let{node:e}=n,t=[],r=e.context.buffer;do t.push(n.index),n.parent();while(!n.tree);let i=n.tree,s=i.children.indexOf(r),o=i.children[s],a=o.buffer,l=[s];function c(u,h,f,m,g,y){let x=t[y],S=[],_=[];xL(o,u,x,S,_,m);let T=a[x+1],I=a[x+2];l.push(S.length);let C=y?c(x+4,a[x+3],o.set.types[a[x]],T,I-T,y-1):e.toTree();return S.push(C),_.push(T-m),xL(o,a[x+3],h,S,_,m),new Qo(f,S,_,g)}i.children[s]=c(0,a.length,Cc.none,0,o.length,t.length-1);for(let u of l){let h=n.tree.children[u],f=n.tree.positions[u];n.yield(new Zo(h,f+n.from,u,n._tree))}}class wL{constructor(e,t){this.offset=t,this.done=!1,this.cursor=e.cursor(hn.IncludeAnonymous|hn.IgnoreMounts)}moveTo(e){let{cursor:t}=this,r=e-this.offset;for(;!this.done&&t.from<r;)t.to>=e&&t.enter(r,1,hn.IgnoreOverlays|hn.ExcludeBuffers)||t.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let t=this.cursor.tree;;){if(t==e.tree)return!0;if(t.children.length&&t.positions[0]==0&&t.children[0]instanceof Qo)t=t.children[0];else break}return!1}}class N1e{constructor(e){var t;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let r=this.curFrag=e[0];this.curTo=(t=r.tree.prop(XC))!==null&&t!==void 0?t:r.to,this.inner=new wL(r.tree,-r.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let t=this.curFrag=this.fragments[this.fragI];this.curTo=(e=t.tree.prop(XC))!==null&&e!==void 0?e:t.to,this.inner=new wL(t.tree,-t.offset)}}findMounts(e,t){var r;let i=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let s=this.inner.cursor.node;s;s=s.parent){let o=(r=s.tree)===null||r===void 0?void 0:r.prop(rn.mounted);if(o&&o.parser==t)for(let a=this.fragI;a<this.fragments.length;a++){let l=this.fragments[a];if(l.from>=s.to)break;l.tree==this.curFrag.tree&&i.push({frag:l,pos:s.from-l.offset,mount:o})}}}return i}}function bL(n,e){let t=null,r=e;for(let i=1,s=0;i<n.length;i++){let o=n[i-1].to,a=n[i].from;for(;s<r.length;s++){let l=r[s];if(l.from>=a)break;l.to<=o||(t||(r=t=e.slice()),l.from<o?(t[s]=new Ea(l.from,o),l.to>a&&t.splice(s+1,0,new Ea(a,l.to))):l.to>a?t[s--]=new Ea(a,l.to):t.splice(s--,1))}}return r}function j1e(n,e,t,r){let i=0,s=0,o=!1,a=!1,l=-1e9,c=[];for(;;){let u=i==n.length?1e9:o?n[i].to:n[i].from,h=s==e.length?1e9:a?e[s].to:e[s].from;if(o!=a){let f=Math.max(l,t),m=Math.min(u,h,r);f<m&&c.push(new Ea(f,m))}if(l=Math.min(u,h),l==1e9)break;u==l&&(o?(o=!1,i++):o=!0),h==l&&(a?(a=!1,s++):a=!0)}return c}function SL(n,e){let t=[];for(let{pos:r,mount:i,frag:s}of n){let o=r+(i.overlay?i.overlay[0].from:0),a=o+i.tree.length,l=Math.max(s.from,o),c=Math.min(s.to,a);if(i.overlay){let u=i.overlay.map(f=>new Ea(f.from+r,f.to+r)),h=j1e(e,u,l,c);for(let f=0,m=l;;f++){let g=f==h.length,y=g?c:h[f].from;if(y>m&&t.push(new OL(m,y,i.tree,-o,s.from>=m||s.openStart,s.to<=y||s.openEnd)),g)break;m=h[f].to}}else t.push(new OL(l,c,i.tree,-o,s.from>=o||s.openStart,s.to<=a||s.openEnd))}return t}const D1e=54,M1e=1,V1e=55,L1e=2,U1e=56,z1e=3,kL=4,q1e=5,Dw=6,L6=7,U6=8,z6=9,q6=10,Z1e=11,F1e=12,B1e=13,Kk=57,W1e=14,_L=58,Z6=20,X1e=22,F6=23,G1e=24,GC=26,B6=27,Y1e=28,H1e=31,K1e=34,J1e=36,eke=37,tke=0,nke=1,rke={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},ike={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},TL={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function ske(n){return n==45||n==46||n==58||n>=65&&n<=90||n==95||n>=97&&n<=122||n>=161}function W6(n){return n==9||n==10||n==13||n==32}let PL=null,CL=null,EL=0;function YC(n,e){let t=n.pos+e;if(EL==t&&CL==n)return PL;let r=n.peek(e);for(;W6(r);)r=n.peek(++e);let i="";for(;ske(r);)i+=String.fromCharCode(r),r=n.peek(++e);return CL=n,EL=t,PL=i?i.toLowerCase():r==oke||r==ake?void 0:null}const X6=60,Mw=62,gI=47,oke=63,ake=33,lke=45;function AL(n,e){this.name=n,this.parent=e}const cke=[Dw,q6,L6,U6,z6],uke=new tI({start:null,shift(n,e,t,r){return cke.indexOf(e)>-1?new AL(YC(r,1)||"",n):n},reduce(n,e){return e==Z6&&n?n.parent:n},reuse(n,e,t,r){let i=e.type.id;return i==Dw||i==J1e?new AL(YC(r,1)||"",n):n},strict:!1}),hke=new Or((n,e)=>{if(n.next!=X6){n.next<0&&e.context&&n.acceptToken(Kk);return}n.advance();let t=n.next==gI;t&&n.advance();let r=YC(n,0);if(r===void 0)return;if(!r)return n.acceptToken(t?W1e:Dw);let i=e.context?e.context.name:null;if(t){if(r==i)return n.acceptToken(Z1e);if(i&&ike[i])return n.acceptToken(Kk,-2);if(e.dialectEnabled(tke))return n.acceptToken(F1e);for(let s=e.context;s;s=s.parent)if(s.name==r)return;n.acceptToken(B1e)}else{if(r=="script")return n.acceptToken(L6);if(r=="style")return n.acceptToken(U6);if(r=="textarea")return n.acceptToken(z6);if(rke.hasOwnProperty(r))return n.acceptToken(q6);i&&TL[i]&&TL[i][r]?n.acceptToken(Kk,-1):n.acceptToken(Dw)}},{contextual:!0}),dke=new Or(n=>{for(let e=0,t=0;;t++){if(n.next<0){t&&n.acceptToken(_L);break}if(n.next==lke)e++;else if(n.next==Mw&&e>=2){t>=3&&n.acceptToken(_L,-2);break}else e=0;n.advance()}});function fke(n){for(;n;n=n.parent)if(n.name=="svg"||n.name=="math")return!0;return!1}const pke=new Or((n,e)=>{if(n.next==gI&&n.peek(1)==Mw){let t=e.dialectEnabled(nke)||fke(e.context);n.acceptToken(t?q1e:kL,2)}else n.next==Mw&&n.acceptToken(kL,1)});function OI(n,e,t){let r=2+n.length;return new Or(i=>{for(let s=0,o=0,a=0;;a++){if(i.next<0){a&&i.acceptToken(e);break}if(s==0&&i.next==X6||s==1&&i.next==gI||s>=2&&s<r&&i.next==n.charCodeAt(s-2))s++,o++;else if((s==2||s==r)&&W6(i.next))o++;else if(s==r&&i.next==Mw){a>o?i.acceptToken(e,-o):i.acceptToken(t,-(o-2));break}else if((i.next==10||i.next==13)&&a){i.acceptToken(e,1);break}else s=o=0;i.advance()}})}const mke=OI("script",D1e,M1e),gke=OI("style",V1e,L1e),Oke=OI("textarea",U1e,z1e),yke=Wi({"Text RawText":N.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":N.angleBracket,TagName:N.tagName,"MismatchedCloseTag/TagName":[N.tagName,N.invalid],AttributeName:N.attributeName,"AttributeValue UnquotedAttributeValue":N.attributeValue,Is:N.definitionOperator,"EntityReference CharacterReference":N.character,Comment:N.blockComment,ProcessingInst:N.processingInstruction,DoctypeDecl:N.documentMeta}),vke=Ka.deserialize({version:14,states:",xOVO!rOOO!WQ#tO'#CqO!]Q#tO'#CzO!bQ#tO'#C}O!gQ#tO'#DQO!lQ#tO'#DSO!qOaO'#CpO!|ObO'#CpO#XOdO'#CpO$eO!rO'#CpOOO`'#Cp'#CpO$lO$fO'#DTO$tQ#tO'#DVO$yQ#tO'#DWOOO`'#Dk'#DkOOO`'#DY'#DYQVO!rOOO%OQ&rO,59]O%ZQ&rO,59fO%fQ&rO,59iO%qQ&rO,59lO%|Q&rO,59nOOOa'#D^'#D^O&XOaO'#CxO&dOaO,59[OOOb'#D_'#D_O&lObO'#C{O&wObO,59[OOOd'#D`'#D`O'POdO'#DOO'[OdO,59[OOO`'#Da'#DaO'dO!rO,59[O'kQ#tO'#DROOO`,59[,59[OOOp'#Db'#DbO'pO$fO,59oOOO`,59o,59oO'xQ#|O,59qO'}Q#|O,59rOOO`-E7W-E7WO(SQ&rO'#CsOOQW'#DZ'#DZO(bQ&rO1G.wOOOa1G.w1G.wOOO`1G/Y1G/YO(mQ&rO1G/QOOOb1G/Q1G/QO(xQ&rO1G/TOOOd1G/T1G/TO)TQ&rO1G/WOOO`1G/W1G/WO)`Q&rO1G/YOOOa-E7[-E7[O)kQ#tO'#CyOOO`1G.v1G.vOOOb-E7]-E7]O)pQ#tO'#C|OOOd-E7^-E7^O)uQ#tO'#DPOOO`-E7_-E7_O)zQ#|O,59mOOOp-E7`-E7`OOO`1G/Z1G/ZOOO`1G/]1G/]OOO`1G/^1G/^O*PQ,UO,59_OOQW-E7X-E7XOOOa7+$c7+$cOOO`7+$t7+$tOOOb7+$l7+$lOOOd7+$o7+$oOOO`7+$r7+$rO*[Q#|O,59eO*aQ#|O,59hO*fQ#|O,59kOOO`1G/X1G/XO*kO7[O'#CvO*|OMhO'#CvOOQW1G.y1G.yOOO`1G/P1G/POOO`1G/S1G/SOOO`1G/V1G/VOOOO'#D['#D[O+_O7[O,59bOOQW,59b,59bOOOO'#D]'#D]O+pOMhO,59bOOOO-E7Y-E7YOOQW1G.|1G.|OOOO-E7Z-E7Z",stateData:",]~O!^OS~OUSOVPOWQOXROYTO[]O][O^^O`^Oa^Ob^Oc^Ox^O{_O!dZO~OfaO~OfbO~OfcO~OfdO~OfeO~O!WfOPlP!ZlP~O!XiOQoP!ZoP~O!YlORrP!ZrP~OUSOVPOWQOXROYTOZqO[]O][O^^O`^Oa^Ob^Oc^Ox^O!dZO~O!ZrO~P#dO![sO!euO~OfvO~OfwO~OS|OT}OhyO~OS!POT}OhyO~OS!ROT}OhyO~OS!TOT}OhyO~OS}OT}OhyO~O!WfOPlX!ZlX~OP!WO!Z!XO~O!XiOQoX!ZoX~OQ!ZO!Z!XO~O!YlORrX!ZrX~OR!]O!Z!XO~O!Z!XO~P#dOf!_O~O![sO!e!aO~OS!bO~OS!cO~Oi!dOSgXTgXhgX~OS!fOT!gOhyO~OS!hOT!gOhyO~OS!iOT!gOhyO~OS!jOT!gOhyO~OS!gOT!gOhyO~Of!kO~Of!lO~Of!mO~OS!nO~Ok!qO!`!oO!b!pO~OS!rO~OS!sO~OS!tO~Oa!uOb!uOc!uO!`!wO!a!uO~Oa!xOb!xOc!xO!b!wO!c!xO~Oa!uOb!uOc!uO!`!{O!a!uO~Oa!xOb!xOc!xO!b!{O!c!xO~OT~bac!dx{!d~",goto:"%p!`PPPPPPPPPPPPPPPPPPPP!a!gP!mPP!yP!|#P#S#Y#]#`#f#i#l#r#x!aP!a!aP$O$U$l$r$x%O%U%[%bPPPPPPPP%hX^OX`pXUOX`pezabcde{!O!Q!S!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ!ObQ!QcQ!SdQ!UeZ!e{!O!Q!S!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:" StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:67,context:uke,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,21,30,33,36,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,29,32,35,37,"OpenTag"],["group",-9,14,17,18,19,20,39,40,41,42,"Entity",16,"Entity TextContent",-3,28,31,34,"TextContent Entity"],["isolate",-11,21,29,30,32,33,35,36,37,38,41,42,"ltr",-3,26,27,39,""]],propSources:[yke],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|c`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bX`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UV`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pT`POv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!cpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({W`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!a`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!a`!cpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYkWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]``P!a`!cp!^^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebhSkWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXhSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vchS`P!a`!cpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!`h`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WihSkWc!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zbkWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOa!R!R7tP;=`<%l7S!Z8OYkWa!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{ihSkWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbhSkWa!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QchSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXhSa!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TakWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOb!R!RAwP;=`<%lAY!ZBRYkWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbhSkWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbhSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXhSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!bx`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYlhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_khS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_X`P!a`!cp!eQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZhSfQ`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!a`!cpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!a`!cp!dPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!a`!cpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!a`!cpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!a`!cpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!a`!cpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!a`!cpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!a`!cpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!a`!cpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!cpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO{PP!-nP;=`<%l!-Sq!-xS!cp{POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!a`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!a`{POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!a`!cp{POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!a`!cpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!a`!cpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!a`!cpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!a`!cpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!a`!cpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!a`!cpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!cpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOxPP!7TP;=`<%l!6Vq!7]V!cpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!cpxPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!a`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!a`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!a`xPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!a`!cpxPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXiS`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[mke,gke,Oke,pke,hke,dke,0,1,2,3,4,5],topRules:{Document:[0,15]},dialects:{noMatch:0,selfClosing:509},tokenPrec:511});function G6(n,e){let t=Object.create(null);for(let r of n.getChildren(F6)){let i=r.getChild(G1e),s=r.getChild(GC)||r.getChild(B6);i&&(t[e.read(i.from,i.to)]=s?s.type.id==GC?e.read(s.from+1,s.to-1):e.read(s.from,s.to):"")}return t}function RL(n,e){let t=n.getChild(X1e);return t?e.read(t.from,t.to):" "}function Jk(n,e,t){let r;for(let i of t)if(!i.attrs||i.attrs(r||(r=G6(n.node.parent.firstChild,e))))return{parser:i.parser};return null}function Y6(n=[],e=[]){let t=[],r=[],i=[],s=[];for(let a of n)(a.tag=="script"?t:a.tag=="style"?r:a.tag=="textarea"?i:s).push(a);let o=e.length?Object.create(null):null;for(let a of e)(o[a.name]||(o[a.name]=[])).push(a);return A1e((a,l)=>{let c=a.type.id;if(c==Y1e)return Jk(a,l,t);if(c==H1e)return Jk(a,l,r);if(c==K1e)return Jk(a,l,i);if(c==Z6&&s.length){let u=a.node,h=u.firstChild,f=h&&RL(h,l),m;if(f){for(let g of s)if(g.tag==f&&(!g.attrs||g.attrs(m||(m=G6(h,l))))){let y=u.lastChild,x=y.type.id==eke?y.from:u.to;if(x>h.to)return{parser:g.parser,overlay:[{from:h.to,to:x}]}}}}if(o&&c==F6){let u=a.node,h;if(h=u.firstChild){let f=o[l.read(h.from,h.to)];if(f)for(let m of f){if(m.tagName&&m.tagName!=RL(u.parent,l))continue;let g=u.lastChild;if(g.type.id==GC){let y=g.from+1,x=g.lastChild,S=g.to-(x&&x.isError?0:1);if(S>y)return{parser:m.parser,overlay:[{from:y,to:S}]}}else if(g.type.id==B6)return{parser:m.parser,overlay:[{from:g.from,to:g.to}]}}}}return null})}const xke=100,QL=1,wke=101,bke=102,IL=2,H6=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],Ske=58,kke=40,K6=95,_ke=91,Lv=45,Tke=46,Pke=35,Cke=37,Eke=38,Ake=92,Rke=10;function sO(n){return n>=65&&n<=90||n>=97&&n<=122||n>=161}function J6(n){return n>=48&&n<=57}const Qke=new Or((n,e)=>{for(let t=!1,r=0,i=0;;i++){let{next:s}=n;if(sO(s)||s==Lv||s==K6||t&&J6(s))!t&&(s!=Lv||i>0)&&(t=!0),r===i&&s==Lv&&r++,n.advance();else if(s==Ake&&n.peek(1)!=Rke)n.advance(),n.next>-1&&n.advance(),t=!0;else{t&&n.acceptToken(s==kke?wke:r==2&&e.canShift(IL)?IL:bke);break}}}),Ike=new Or(n=>{if(H6.includes(n.peek(-1))){let{next:e}=n;(sO(e)||e==K6||e==Pke||e==Tke||e==_ke||e==Ske&&sO(n.peek(1))||e==Lv||e==Eke)&&n.acceptToken(xke)}}),$ke=new Or(n=>{if(!H6.includes(n.peek(-1))){let{next:e}=n;if(e==Cke&&(n.advance(),n.acceptToken(QL)),sO(e)){do n.advance();while(sO(n.next)||J6(n.next));n.acceptToken(QL)}}}),Nke=Wi({"AtKeyword import charset namespace keyframes media supports":N.definitionKeyword,"from to selector":N.keyword,NamespaceName:N.namespace,KeyframeName:N.labelName,KeyframeRangeName:N.operatorKeyword,TagName:N.tagName,ClassName:N.className,PseudoClassName:N.constant(N.className),IdName:N.labelName,"FeatureName PropertyName":N.propertyName,AttributeName:N.attributeName,NumberLiteral:N.number,KeywordQuery:N.keyword,UnaryQueryOp:N.operatorKeyword,"CallTag ValueName":N.atom,VariableName:N.variableName,Callee:N.operatorKeyword,Unit:N.unit,"UniversalSelector NestingSelector":N.definitionOperator,MatchOp:N.compareOperator,"ChildOp SiblingOp, LogicOp":N.logicOperator,BinOp:N.arithmeticOperator,Important:N.modifier,Comment:N.blockComment,ColorLiteral:N.color,"ParenthesizedContent StringLiteral":N.string,":":N.punctuation,"PseudoOp #":N.derefOperator,"; ,":N.separator,"( )":N.paren,"[ ]":N.squareBracket,"{ }":N.brace}),jke={__proto__:null,lang:34,"nth-child":34,"nth-last-child":34,"nth-of-type":34,"nth-last-of-type":34,dir:34,"host-context":34,url:62,"url-prefix":62,domain:62,regexp:62,selector:140},Dke={__proto__:null,"@import":120,"@media":144,"@charset":148,"@namespace":152,"@keyframes":158,"@supports":170},Mke={__proto__:null,not:134,only:134},Vke=Ka.deserialize({version:14,states:":jQYQ[OOO#_Q[OOP#fOWOOOOQP'#Cd'#CdOOQP'#Cc'#CcO#kQ[O'#CfO$_QXO'#CaO$fQ[O'#CiO$qQ[O'#DUO$vQ[O'#DXOOQP'#En'#EnO${QdO'#DhO%jQ[O'#DuO${QdO'#DwO%{Q[O'#DyO&WQ[O'#D|O&`Q[O'#ESO&nQ[O'#EUOOQS'#Em'#EmOOQS'#EX'#EXQYQ[OOO&uQXO'#CdO'jQWO'#DdO'oQWO'#EsO'zQ[O'#EsQOQWOOP(UO#tO'#C_POOO)C@])C@]OOQP'#Ch'#ChOOQP,59Q,59QO#kQ[O,59QO(aQ[O'#E]O({QWO,58{O)TQ[O,59TO$qQ[O,59pO$vQ[O,59sO(aQ[O,59vO(aQ[O,59xO(aQ[O,59yO)`Q[O'#DcOOQS,58{,58{OOQP'#Cl'#ClOOQO'#DS'#DSOOQP,59T,59TO)gQWO,59TO)lQWO,59TOOQP'#DW'#DWOOQP,59p,59pOOQO'#DY'#DYO)qQ`O,59sOOQS'#Cq'#CqO${QdO'#CrO)yQvO'#CtO+ZQtO,5:SOOQO'#Cy'#CyO)lQWO'#CxO+oQWO'#CzO+tQ[O'#DPOOQS'#Ep'#EpOOQO'#Dk'#DkO+|Q[O'#DrO,[QWO'#EtO&`Q[O'#DpO,jQWO'#DsOOQO'#Eu'#EuO)OQWO,5:aO,oQpO,5:cOOQS'#D{'#D{O,wQWO,5:eO,|Q[O,5:eOOQO'#EO'#EOO-UQWO,5:hO-ZQWO,5:nO-cQWO,5:pOOQS-E8V-E8VO-kQdO,5:OO-{Q[O'#E_O.YQWO,5;_O.YQWO,5;_POOO'#EW'#EWP.eO#tO,58yPOOO,58y,58yOOQP1G.l1G.lO/[QXO,5:wOOQO-E8Z-E8ZOOQS1G.g1G.gOOQP1G.o1G.oO)gQWO1G.oO)lQWO1G.oOOQP1G/[1G/[O/iQ`O1G/_O0SQXO1G/bO0jQXO1G/dO1QQXO1G/eO1hQWO,59}O1mQ[O'#DTO1tQdO'#CpOOQP1G/_1G/_O${QdO1G/_O1{QpO,59^OOQS,59`,59`O${QdO,59bO2TQWO1G/nOOQS,59d,59dO2YQ!bO,59fOOQS'#DQ'#DQOOQS'#EZ'#EZO2eQ[O,59kOOQS,59k,59kO2mQWO'#DkO2xQWO,5:WO2}QWO,5:^O&`Q[O,5:YO&`Q[O'#E`O3VQWO,5;`O3bQWO,5:[O(aQ[O,5:_OOQS1G/{1G/{OOQS1G/}1G/}OOQS1G0P1G0PO3sQWO1G0PO3xQdO'#EPOOQS1G0S1G0SOOQS1G0Y1G0YOOQS1G0[1G0[O4TQtO1G/jOOQO1G/j1G/jOOQO,5:y,5:yO4kQ[O,5:yOOQO-E8]-E8]O4xQWO1G0yPOOO-E8U-E8UPOOO1G.e1G.eOOQP7+$Z7+$ZOOQP7+$y7+$yO${QdO7+$yOOQS1G/i1G/iO5TQXO'#ErO5[QWO,59oO5aQtO'#EYO6XQdO'#EoO6cQWO,59[O6hQpO7+$yOOQS1G.x1G.xOOQS1G.|1G.|OOQS7+%Y7+%YOOQS1G/Q1G/QO6pQWO1G/QOOQS-E8X-E8XOOQS1G/V1G/VO${QdO1G/rOOQO1G/x1G/xOOQO1G/t1G/tO6uQWO,5:zOOQO-E8^-E8^O7TQXO1G/yOOQS7+%k7+%kO7[QYO'#CtOOQO'#ER'#ERO7gQ`O'#EQOOQO'#EQ'#EQO7rQWO'#EaO7zQdO,5:kOOQS,5:k,5:kO8VQtO'#E^O${QdO'#E^O9WQdO7+%UOOQO7+%U7+%UOOQO1G0e1G0eO9kQpO<<HeO9sQWO,5;^OOQP1G/Z1G/ZOOQS-E8W-E8WO${QdO'#E[O9{QWO,5;ZOOQT1G.v1G.vOOQP<<He<<HeOOQS7+$l7+$lO:TQdO7+%^OOQO7+%e7+%eOOQO,5:l,5:lO3{QdO'#EbO7rQWO,5:{OOQS,5:{,5:{OOQS-E8_-E8_OOQS1G0V1G0VO:[QtO,5:xOOQS-E8[-E8[OOQO<<Hp<<HpOOQPAN>PAN>PO;]QdO,5:vOOQO-E8Y-E8YOOQO<<Hx<<HxOOQO,5:|,5:|OOQO-E8`-E8`OOQS1G0g1G0g",stateData:";o~O#[OS#]QQ~OUYOXYOZTO^VO_VOrXOyWO!]aO!^ZO!j[O!l]O!n^O!q_O!w`O#YRO~OQfOUYOXYOZTO^VO_VOrXOyWO!]aO!^ZO!j[O!l]O!n^O!q_O!w`O#YeO~O#V#gP~P!ZO#]jO~O#YlO~OZnO^qO_qOrsOuoOyrO!PtO!SvO#WuO~O!UwO~P#pOa}O#XzO#YyO~O#Y!OO~O#Y!QO~OQ![Oc!TOg![Oi![Oo!YOr!ZO#X!WO#Y!SO#e!UO~Oc!^O!e!`O!h!aO#Y!]O!U#hP~Oi!fOo!YO#Y!eO~Oi!hO#Y!hO~Oc!^O!e!`O!h!aO#Y!]O~O!Z#hP~P%jOZWX^WX^!XX_WXrWXuWXyWX!PWX!SWX!UWX#WWX~O^!mO~O!Z!nO#V#gX!T#gX~O#V#gX!T#gX~P!ZO#^!qO#_!qO#`!sO~OUYOXYOZTO^VO_VOrXOyWO#YRO~OuoO!UwO~Oa!zO#XzO#YyO~O!T#gP~P!ZOc#RO~Oc#SO~Oq#TO}#UO~OP#WOchXkhX!ZhX!ehX!hhX#YhXbhXQhXghXihXohXrhXuhX!YhX#VhX#XhX#ehXqhX!ThX~Oc!^Ok#XO!e!`O!h!aO#Y!]O!Z#hP~Oc#[O~Oq#`O#Y#]O~Oc!^O!e!`O!h!aO#Y#aO~Ou#eO!c#dO!U#hX!Z#hX~Oc#hO~Ok#XO!Z#jO~O!Z#kO~Oi#lOo!YO~O!U#mO~O!UwO!c#dO~O!UwO!Z#pO~O!Y#rO!Z!Wa#V!Wa!T!Wa~P${O!Z#RX#V#RX!T#RX~P!ZO!Z!nO#V#ga!T#ga~O#^!qO#_!qO#`#xO~OZnO^qO_qOrsOyrO!PtO!SvO#WuO~Ou#Pa!U#Pab#Pa~P.pOq#zO}#{O~OZnO^qO_qOrsOyrO~Ou!Oi!P!Oi!S!Oi!U!Oi#W!Oib!Oi~P/qOu!Qi!P!Qi!S!Qi!U!Qi#W!Qib!Qi~P/qOu!Ri!P!Ri!S!Ri!U!Ri#W!Rib!Ri~P/qO!T#|O~Ob#fP~P(aOb#cP~P${Ob$TOk#XO~O!Z$VO~Ob$WOi$XOp$XO~Oq$ZO#Y#]O~O^!aXb!_X!c!_X~O^$[O~Ob$]O!c#dO~Ou#eO!U#ha!Z#ha~O!c#dOu!da!U!da!Z!dab!da~O!Z$bO~O!T$iO#Y$dO#e$cO~Ok#XOu$kO!Y$mO!Z!Wi#V!Wi!T!Wi~P${O!Z#Ra#V#Ra!T#Ra~P!ZO!Z!nO#V#gi!T#gi~Ob#fX~P#pOb$qO~Ok#XOQ!|Xb!|Xc!|Xg!|Xi!|Xo!|Xr!|Xu!|X#X!|X#Y!|X#e!|X~Ou$sOb#cX~P${Ob$uO~Ok#XOq$vO~Ob$wO~O!c#dOu#Sa!U#Sa!Z#Sa~Ob$yO~P.pOP#WOuhX!UhX~O#e$cOu!tX!U!tX~Ou${O!UwO~O!T%PO#Y$dO#e$cO~Ok#XOQ#QXc#QXg#QXi#QXo#QXr#QXu#QX!Y#QX!Z#QX#V#QX#X#QX#Y#QX#e#QX!T#QX~Ou$kO!Y%SO!Z!Wq#V!Wq!T!Wq~P${Ok#XOq%TO~OuoOb#fa~Ou$sOb#ca~Ob%WO~P${Ok#XOQ#Qac#Qag#Qai#Qao#Qar#Qau#Qa!Y#Qa!Z#Qa#V#Qa#X#Qa#Y#Qa#e#Qa!T#Qa~Ob#Oau#Oa~P${O#[p#]#ek!S#e~",goto:"-g#jPPP#kP#nP#w$WP#wP$g#wPP$mPPP$s$|$|P%`P$|P$|%z&^PPPP$|&vP&z'Q#wP'W#w'^P#wP#w#wPPP'd'y(WPP#nPP(_(_(i(_P(_P(_(_P#nP#nP#nP(l#nP(o(r(u(|#nP#nP)R)X)h)v)|*S*^*d*n*t*zPPPPPPPPPP+Q+Z+v+yP,o,r,x-RRkQ_bOPdhw!n#tkYOPdhotuvw!n#R#h#tkSOPdhotuvw!n#R#h#tQmTR!tnQ{VR!xqQ!x}Q#Z!XR#y!zq![Z]!T!m#S#U#X#q#{$Q$[$k$l$s$x%Up![Z]!T!m#S#U#X#q#{$Q$[$k$l$s$x%UU$f#m$h${R$z$eq!XZ]!T!m#S#U#X#q#{$Q$[$k$l$s$x%Up![Z]!T!m#S#U#X#q#{$Q$[$k$l$s$x%UQ!f^R#l!gT#^!Z#_Q|VR!yqQ!x|R#y!yQ!PWR!{rQ!RXR!|sQxUQ!wpQ#i!cQ#o!jQ#p!kQ$}$gR%Z$|SgPwQ!phQ#s!nR$n#tZfPhw!n#ta!b[`a!V!^!`#d#eR#b!^R!g^R!i_R#n!iS$g#m$hR%X${V$e#m$h${Q!rjR#w!rQdOShPwU!ldh#tR#t!nQ$Q#SU$r$Q$x%UQ$x$[R%U$sQ#_!ZR$Y#_Q$t$QR%V$tQpUS!vp$pR$p#}Q$l#qR%R$lQ!ogS#u!o#vR#v!pQ#f!_R$`#fQ$h#mR%O$hQ$|$gR%Y$|_cOPdhw!n#t^UOPdhw!n#tQ!uoQ!}tQ#OuQ#PvQ#}#RR$a#hR$R#SQ!VZQ!d]Q#V!TQ#q!m[$P#S$Q$[$s$x%UQ$S#UQ$U#XS$j#q$lQ$o#{R%Q$kR$O#RQiPR#QwQ!c[Q!kaR#Y!VU!_[a!VQ!j`Q#c!^Q#g!`Q$^#dR$_#e",nodeNames:" Unit VariableName Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector . ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee CallLiteral CallTag ParenthesizedContent ] [ LineNames LineName , PseudoClassName ArgList IdSelector # IdName AttributeSelector AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp } { Block Declaration PropertyName Important ; ImportStatement AtKeyword import KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports AtRule Styles",maxTerm:117,nodeProps:[["isolate",-2,3,25,""],["openedBy",18,"(",33,"[",51,"{"],["closedBy",19,")",34,"]",52,"}"]],propSources:[Nke],skippedNodes:[0,3,88],repeatNodeCount:11,tokenData:"J^~R!^OX$}X^%u^p$}pq%uqr)Xrs.Rst/utu6duv$}vw7^wx7oxy9^yz9oz{9t{|:_|}?Q}!O?c!O!P@Q!P!Q@i!Q![Ab![!]B]!]!^CX!^!_$}!_!`Cj!`!aC{!a!b$}!b!cDw!c!}$}!}#OFa#O#P$}#P#QFr#Q#R6d#R#T$}#T#UGT#U#c$}#c#dHf#d#o$}#o#pH{#p#q6d#q#rI^#r#sIo#s#y$}#y#z%u#z$f$}$f$g%u$g#BY$}#BY#BZ%u#BZ$IS$}$IS$I_%u$I_$I|$}$I|$JO%u$JO$JT$}$JT$JU%u$JU$KV$}$KV$KW%u$KW&FU$}&FU&FV%u&FV;'S$};'S;=`JW<%lO$}`%QSOy%^z;'S%^;'S;=`%o<%lO%^`%cSp`Oy%^z;'S%^;'S;=`%o<%lO%^`%rP;=`<%l%^~%zh#[~OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^~'mh#[~p`OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^l)[UOy%^z#]%^#]#^)n#^;'S%^;'S;=`%o<%lO%^l)sUp`Oy%^z#a%^#a#b*V#b;'S%^;'S;=`%o<%lO%^l*[Up`Oy%^z#d%^#d#e*n#e;'S%^;'S;=`%o<%lO%^l*sUp`Oy%^z#c%^#c#d+V#d;'S%^;'S;=`%o<%lO%^l+[Up`Oy%^z#f%^#f#g+n#g;'S%^;'S;=`%o<%lO%^l+sUp`Oy%^z#h%^#h#i,V#i;'S%^;'S;=`%o<%lO%^l,[Up`Oy%^z#T%^#T#U,n#U;'S%^;'S;=`%o<%lO%^l,sUp`Oy%^z#b%^#b#c-V#c;'S%^;'S;=`%o<%lO%^l-[Up`Oy%^z#h%^#h#i-n#i;'S%^;'S;=`%o<%lO%^l-uS!Y[p`Oy%^z;'S%^;'S;=`%o<%lO%^~.UWOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o<%lO.R~.sOi~~.vRO;'S.R;'S;=`/P;=`O.R~/SXOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o;=`<%l.R<%lO.R~/rP;=`<%l.Rn/zYyQOy%^z!Q%^!Q![0j![!c%^!c!i0j!i#T%^#T#Z0j#Z;'S%^;'S;=`%o<%lO%^l0oYp`Oy%^z!Q%^!Q![1_![!c%^!c!i1_!i#T%^#T#Z1_#Z;'S%^;'S;=`%o<%lO%^l1dYp`Oy%^z!Q%^!Q![2S![!c%^!c!i2S!i#T%^#T#Z2S#Z;'S%^;'S;=`%o<%lO%^l2ZYg[p`Oy%^z!Q%^!Q![2y![!c%^!c!i2y!i#T%^#T#Z2y#Z;'S%^;'S;=`%o<%lO%^l3QYg[p`Oy%^z!Q%^!Q![3p![!c%^!c!i3p!i#T%^#T#Z3p#Z;'S%^;'S;=`%o<%lO%^l3uYp`Oy%^z!Q%^!Q![4e![!c%^!c!i4e!i#T%^#T#Z4e#Z;'S%^;'S;=`%o<%lO%^l4lYg[p`Oy%^z!Q%^!Q![5[![!c%^!c!i5[!i#T%^#T#Z5[#Z;'S%^;'S;=`%o<%lO%^l5aYp`Oy%^z!Q%^!Q![6P![!c%^!c!i6P!i#T%^#T#Z6P#Z;'S%^;'S;=`%o<%lO%^l6WSg[p`Oy%^z;'S%^;'S;=`%o<%lO%^d6gUOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^d7QS}Sp`Oy%^z;'S%^;'S;=`%o<%lO%^b7cSXQOy%^z;'S%^;'S;=`%o<%lO%^~7rWOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W<%lO7o~8_RO;'S7o;'S;=`8h;=`O7o~8kXOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W;=`<%l7o<%lO7o~9ZP;=`<%l7on9cSc^Oy%^z;'S%^;'S;=`%o<%lO%^~9tOb~n9{UUQkWOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^n:fWkW!SQOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^l;TUp`Oy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^l;nYp`#e[Oy%^z!Q%^!Q![;g![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^l<cYp`Oy%^z{%^{|=R|}%^}!O=R!O!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=WUp`Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=qUp`#e[Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l>[[p`#e[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^n?VSu^Oy%^z;'S%^;'S;=`%o<%lO%^l?hWkWOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^n@VUZQOy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^~@nTkWOy%^z{@}{;'S%^;'S;=`%o<%lO%^~AUSp`#]~Oy%^z;'S%^;'S;=`%o<%lO%^lAg[#e[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^bBbU^QOy%^z![%^![!]Bt!];'S%^;'S;=`%o<%lO%^bB{S_Qp`Oy%^z;'S%^;'S;=`%o<%lO%^nC^S!Z^Oy%^z;'S%^;'S;=`%o<%lO%^dCoS}SOy%^z;'S%^;'S;=`%o<%lO%^bDQU!PQOy%^z!`%^!`!aDd!a;'S%^;'S;=`%o<%lO%^bDkS!PQp`Oy%^z;'S%^;'S;=`%o<%lO%^bDzWOy%^z!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^bEk[!]Qp`Oy%^z}%^}!OEd!O!Q%^!Q![Ed![!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^nFfSr^Oy%^z;'S%^;'S;=`%o<%lO%^nFwSq^Oy%^z;'S%^;'S;=`%o<%lO%^bGWUOy%^z#b%^#b#cGj#c;'S%^;'S;=`%o<%lO%^bGoUp`Oy%^z#W%^#W#XHR#X;'S%^;'S;=`%o<%lO%^bHYS!cQp`Oy%^z;'S%^;'S;=`%o<%lO%^bHiUOy%^z#f%^#f#gHR#g;'S%^;'S;=`%o<%lO%^fIQS!UUOy%^z;'S%^;'S;=`%o<%lO%^nIcS!T^Oy%^z;'S%^;'S;=`%o<%lO%^fItU!SQOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^`JZP;=`<%l$}",tokenizers:[Ike,$ke,Qke,1,2,3,4,new Iw("m~RRYZ[z{a~~g~aO#_~~dP!P!Qg~lO#`~~",28,106)],topRules:{StyleSheet:[0,4],Styles:[1,87]},specialized:[{term:101,get:n=>jke[n]||-1},{term:59,get:n=>Dke[n]||-1},{term:102,get:n=>Mke[n]||-1}],tokenPrec:1219}),Lke=1024;let Uke=0,e_=class{constructor(e,t){this.from=e,this.to=t}},jt=class{constructor(e={}){this.id=Uke++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Fo.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}};jt.closedBy=new jt({deserialize:n=>n.split(" ")});jt.openedBy=new jt({deserialize:n=>n.split(" ")});jt.group=new jt({deserialize:n=>n.split(" ")});jt.isolate=new jt({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});jt.contextHash=new jt({perNode:!0});jt.lookAhead=new jt({perNode:!0});jt.mounted=new jt({perNode:!0});let Vw=class{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[jt.mounted.id]}};const zke=Object.create(null);let Fo=class e7{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):zke,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new e7(e.name||"",t,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(jt.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(jt.group),s=-1;s<(i?i.length:0);s++){let o=t[s<0?r.name:i[s]];if(o)return o}}}};Fo.none=new Fo("",Object.create(null),0,8);const N0=new WeakMap,$L=new WeakMap;var Jn;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(Jn||(Jn={}));let Ii=class HC{constructor(e,t,r,i,s){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=Vw.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new JC(this.topNode,e)}cursorAt(e,t=0,r=0){let i=N0.get(this)||this.topNode,s=new JC(i);return s.moveTo(e,t),N0.set(this,s._tree),s}get topNode(){return new Bo(this,0,0,null)}resolve(e,t=0){let r=oO(N0.get(this)||this.topNode,e,t,!1);return N0.set(this,r),r}resolveInner(e,t=0){let r=oO($L.get(this)||this.topNode,e,t,!0);return $L.set(this,r),r}resolveStack(e,t=0){return Bke(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:s=this.length}=e,o=e.mode||0,a=(o&Jn.IncludeAnonymous)>0;for(let l=this.cursor(o|Jn.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=i&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:vI(Fo.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new HC(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new HC(Fo.none,t,r,i)))}static build(e){return Wke(e)}};Ii.empty=new Ii(Fo.none,[],[],0);let qke=class t7{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new t7(this.buffer,this.index)}},pf=class n7{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return Fo.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(r7(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,t,r){let i=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=i[a++],s[l++]=i[a++]-r;let c=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,c)}return new n7(s,o,this.set)}};function r7(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function oO(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!r&&n instanceof Bo&&n.index<0?null:n.parent;if(!o)return n;n=o}let s=r?0:Jn.IgnoreOverlays;if(r)for(let o=n,a=o.parent;a;o=a,a=o.parent)o instanceof Bo&&o.index<0&&((i=a.enter(e,t,s))===null||i===void 0?void 0:i.from)!=o.from&&(n=a);for(;;){let o=n.enter(e,t,s);if(!o)return n;n=o}}let i7=class{cursor(e=0){return new JC(this,e)}getChild(e,t=null,r=null){let i=NL(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return NL(this,e,t,r)}resolve(e,t=0){return oO(this,e,t,!1)}resolveInner(e,t=0){return oO(this,e,t,!0)}matchContext(e){return KC(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}},Bo=class Uv extends i7{constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=t>0?a.length:-1;e!=c;e+=t){let u=a[e],h=l[e]+o.from;if(r7(i,r,h,h+u.length)){if(u instanceof pf){if(s&Jn.ExcludeBuffers)continue;let f=u.findChild(0,u.buffer.length,t,r-h,i);if(f>-1)return new aO(new Zke(o,u,e,h),null,f)}else if(s&Jn.IncludeAnonymous||!u.type.isAnonymous||yI(u)){let f;if(!(s&Jn.IgnoreMounts)&&(f=Vw.get(u))&&!f.overlay)return new Uv(f.tree,h,e,o);let m=new Uv(u,h,e,o);return s&Jn.IncludeAnonymous||!m.type.isAnonymous?m:m.nextChild(t<0?u.children.length-1:0,t,r,i)}}}if(s&Jn.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&Jn.IgnoreOverlays)&&(i=Vw.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:o,to:a}of i.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new Uv(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function NL(n,e,t,r){let i=n.cursor(),s=[];if(!i.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=i.type.is(t),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function KC(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}let Zke=class{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}},aO=class um extends i7{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return s<0?null:new um(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&Jn.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new um(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new um(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new um(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),t.push(0)}return new Ii(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function s7(n){if(!n.length)return null;let e=0,t=n[0];for(let s=1;s<n.length;s++){let o=n[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let r=t instanceof Bo&&t.index<0?null:t.parent,i=n.slice();return r?i[e]=r:i.splice(e,1),new Fke(i,t)}let Fke=class{constructor(e,t){this.heads=e,this.node=t}get next(){return s7(this.heads)}};function Bke(n,e,t){let r=n.resolveInner(e,t),i=null;for(let s=r instanceof Bo?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[r])).push(o.resolve(e,t)),s=o}else{let o=Vw.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new Bo(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(oO(a,e,t,!1))}}return i?s7(i):r}let JC=class{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Bo)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof Bo?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&Jn.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Jn.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Jn.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let s=t+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&Jn.IncludeAnonymous||a instanceof pf||!a.type.isAnonymous||yI(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;t=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)t=new aO(this.buffer,t,this.stack[i]);return this.bufferNode=new aO(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return KC(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return KC(this._tree,e,i);let o=r[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}};function yI(n){return n.children.some(e=>e instanceof pf||!e.type.isAnonymous||yI(e))}function Wke(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=Lke,reused:s=[],minRepeatType:o=r.types.length}=n,a=Array.isArray(t)?new qke(t,t.length):t,l=r.types,c=0,u=0;function h(C,Q,O,w,k,R){let{id:P,start:v,end:A,size:j}=a,V=u,U=c;for(;j<0;)if(a.next(),j==-1){let F=s[P];O.push(F),w.push(v-C);return}else if(j==-3){c=P;return}else if(j==-4){u=P;return}else throw new RangeError(`Unrecognized record size: ${j}`);let W=l[P],D,L,Y=v-C;if(A-v<=i&&(L=x(a.pos-Q,k))){let F=new Uint16Array(L.size-L.skip),Z=a.pos-L.size,G=F.length;for(;a.pos>Z;)G=S(L.start,F,G);D=new pf(F,A-L.start,r),Y=L.start-C}else{let F=a.pos-j;a.next();let Z=[],G=[],J=P>=o?P:-1,ae=0,oe=A;for(;a.pos>F;)J>=0&&a.id==J&&a.size>=0?(a.end<=oe-i&&(g(Z,G,v,ae,a.end,oe,J,V,U),ae=Z.length,oe=a.end),a.next()):R>2500?f(v,F,Z,G):h(v,F,Z,G,J,R+1);if(J>=0&&ae>0&&ae<Z.length&&g(Z,G,v,ae,v,oe,J,V,U),Z.reverse(),G.reverse(),J>-1&&ae>0){let re=m(W,U);D=vI(W,Z,G,0,Z.length,0,A-v,re,re)}else D=y(W,Z,G,A-v,V-A,U)}O.push(D),w.push(Y)}function f(C,Q,O,w){let k=[],R=0,P=-1;for(;a.pos>Q;){let{id:v,start:A,end:j,size:V}=a;if(V>4)a.next();else{if(P>-1&&A<P)break;P<0&&(P=j-i),k.push(v,A,j),R++,a.next()}}if(R){let v=new Uint16Array(R*4),A=k[k.length-2];for(let j=k.length-3,V=0;j>=0;j-=3)v[V++]=k[j],v[V++]=k[j+1]-A,v[V++]=k[j+2]-A,v[V++]=V;O.push(new pf(v,k[2]-A,r)),w.push(A-C)}}function m(C,Q){return(O,w,k)=>{let R=0,P=O.length-1,v,A;if(P>=0&&(v=O[P])instanceof Ii){if(!P&&v.type==C&&v.length==k)return v;(A=v.prop(jt.lookAhead))&&(R=w[P]+v.length+A)}return y(C,O,w,k,R,Q)}}function g(C,Q,O,w,k,R,P,v,A){let j=[],V=[];for(;C.length>w;)j.push(C.pop()),V.push(Q.pop()+O-k);C.push(y(r.types[P],j,V,R-k,v-R,A)),Q.push(k-O)}function y(C,Q,O,w,k,R,P){if(R){let v=[jt.contextHash,R];P=P?[v].concat(P):[v]}if(k>25){let v=[jt.lookAhead,k];P=P?[v].concat(P):[v]}return new Ii(C,Q,O,w,P)}function x(C,Q){let O=a.fork(),w=0,k=0,R=0,P=O.end-i,v={size:0,start:0,skip:0};e:for(let A=O.pos-C;O.pos>A;){let j=O.size;if(O.id==Q&&j>=0){v.size=w,v.start=k,v.skip=R,R+=4,w+=4,O.next();continue}let V=O.pos-j;if(j<0||V<A||O.start<P)break;let U=O.id>=o?4:0,W=O.start;for(O.next();O.pos>V;){if(O.size<0)if(O.size==-3)U+=4;else break e;else O.id>=o&&(U+=4);O.next()}k=W,w+=j,R+=U}return(Q<0||w==C)&&(v.size=w,v.start=k,v.skip=R),v.size>4?v:void 0}function S(C,Q,O){let{id:w,start:k,end:R,size:P}=a;if(a.next(),P>=0&&w<o){let v=O;if(P>4){let A=a.pos-(P-4);for(;a.pos>A;)O=S(C,Q,O)}Q[--O]=v,Q[--O]=R-C,Q[--O]=k-C,Q[--O]=w}else P==-3?c=w:P==-4&&(u=w);return O}let _=[],T=[];for(;a.pos>0;)h(n.start||0,n.bufferStart||0,_,T,-1,0);let I=(e=n.length)!==null&&e!==void 0?e:_.length?T[0]+_[0].length:0;return new Ii(l[n.topID],_.reverse(),T.reverse(),I)}const jL=new WeakMap;function zv(n,e){if(!n.isAnonymous||e instanceof pf||e.type!=n)return 1;let t=jL.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof Ii)){t=1;break}t+=zv(n,r)}jL.set(e,t)}return t}function vI(n,e,t,r,i,s,o,a,l){let c=0;for(let g=r;g<i;g++)c+=zv(n,e[g]);let u=Math.ceil(c*1.5/8),h=[],f=[];function m(g,y,x,S,_){for(let T=x;T<S;){let I=T,C=y[T],Q=zv(n,g[T]);for(T++;T<S;T++){let O=zv(n,g[T]);if(Q+O>=u)break;Q+=O}if(T==I+1){if(Q>u){let O=g[I];m(O.children,O.positions,0,O.children.length,y[I]+_);continue}h.push(g[I])}else{let O=y[T-1]+g[T-1].length-C;h.push(vI(n,g,y,I,T,C,O,null,l))}f.push(C+_-s)}}return m(e,t,r,i,0),(a||l)(h,f,o)}class Xke{constructor(){this.map=new WeakMap}setBuffer(e,t,r){let i=this.map.get(e);i||this.map.set(e,i=new Map),i.set(t,r)}getBuffer(e,t){let r=this.map.get(e);return r&&r.get(t)}set(e,t){e instanceof aO?this.setBuffer(e.context.buffer,e.index,t):e instanceof Bo&&this.map.set(e.tree,t)}get(e){return e instanceof aO?this.getBuffer(e.context.buffer,e.index):e instanceof Bo?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}let qv=class eE{constructor(e,t,r,i,s=!1,o=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],r=!1){let i=[new eE(0,e.length,e,0,!1,r)];for(let s of t)s.to>e.length&&i.push(s);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let u=a<t.length?t[a]:null,h=u?u.fromA:1e9;if(h-l>=r)for(;o&&o.from<h;){let f=o;if(l>=f.from||h<=f.to||c){let m=Math.max(f.from,l)-c,g=Math.min(f.to,h)-c;f=m>=g?null:new eE(m,g,f.tree,f.offset+c,a>0,!!u)}if(f&&i.push(f),o.to>h)break;o=s<e.length?e[s++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return i}},Gke=class{startParse(e,t,r){return typeof e=="string"&&(e=new Yke(e)),r=r?r.length?r.map(i=>new e_(i.from,i.to)):[new e_(0,0)]:[new e_(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let s=i.advance();if(s)return s}}},Yke=class{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}};new jt({perNode:!0});var t_;const Hh=new jt;function Hke(n){return de.define({combine:n?e=>e.concat(n):void 0})}const Kke=new jt;let Cs=class{constructor(e,t,r=[],i=""){this.data=e,this.name=i,De.prototype.hasOwnProperty("tree")||Object.defineProperty(De.prototype,"tree",{get(){return Lw(this)}}),this.parser=t,this.extension=[mf.of(this),De.languageData.of((s,o,a)=>{let l=DL(s,o,a),c=l.type.prop(Hh);if(!c)return[];let u=s.facet(c),h=l.type.prop(Kke);if(h){let f=l.resolve(o-l.from,a);for(let m of h)if(m.test(f,s)){let g=s.facet(m.facet);return m.type=="replace"?g:g.concat(u)}}return u})].concat(r)}isActiveAt(e,t,r=-1){return DL(e,t,r).type.prop(Hh)==this.data}findRegions(e){let t=e.facet(mf);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let r=[],i=(s,o)=>{if(s.prop(Hh)==this.data){r.push({from:o,to:o+s.length});return}let a=s.prop(jt.mounted);if(a){if(a.tree.prop(Hh)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+o,to:l.to+o});else r.push({from:o,to:o+s.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+o),r.length>l)return}}for(let l=0;l<s.children.length;l++){let c=s.children[l];c instanceof Ii&&i(c,s.positions[l]+o)}};return i(Lw(e),0),r}get allowsNesting(){return!0}};Cs.setState=Ne.define();function DL(n,e,t){let r=n.facet(mf),i=Lw(n).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,t,Jn.ExcludeBuffers))s.type.isTop&&(i=s);return i}let Jke=class tE extends Cs{constructor(e,t,r){super(e,t,[],r),this.parser=t}static define(e){let t=Hke(e.languageData);return new tE(t,e.parser.configure({props:[Hh.add(r=>r.isTop?t:void 0)]}),e.name)}configure(e,t){return new tE(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}};function Lw(n){let e=n.field(Cs.state,!1);return e?e.tree:Ii.empty}let e_e=class{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}},Qp=null,t_e=class nE{constructor(e,t,r=[],i,s,o,a,l){this.parser=e,this.state=t,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new nE(e,t,[],Ii.empty,0,r,[],null)}startParse(){return this.parser.startParse(new e_e(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=Ii.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(qv.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(qv.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=Qp;Qp=this;try{return e()}finally{Qp=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=ML(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:i,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,u,h,f)=>l.push({fromA:c,toA:u,fromB:h,toB:f})),r=qv.applyChanges(r,l),i=Ii.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),h=e.mapPos(c.to,-1);u<h&&a.push({from:u,to:h})}}}return new nE(this.parser,t,r,i,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=ML(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends Gke{createParse(t,r,i){let s=i[0].from,o=i[i.length-1].to;return{parsedPos:s,advance(){let l=Qp;if(l){for(let c of i)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new Ii(Fo.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return Qp}};function ML(n,e,t){return qv.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}let rE=class iE{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new iE(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=t_e.create(e.facet(mf).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new iE(r)}};Cs.state=Xt.define({create:rE.init,update(n,e){for(let t of e.effects)if(t.is(Cs.setState))return t.value;return e.startState.facet(mf)!=e.state.facet(mf)?rE.init(e.state):n.apply(e)}});let o7=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(o7=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const n_=typeof navigator<"u"&&(!((t_=navigator.scheduling)===null||t_===void 0)&&t_.isInputPending)?()=>navigator.scheduling.isInputPending():null,n_e=Vt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Cs.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Cs.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=o7(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(Cs.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!n_?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<i&&r.doc.length>i+1e3,l=s.context.work(()=>n_&&n_()||Date.now()>o,i+(a?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Cs.setState.of(new rE(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>An(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),mf=de.define({combine(n){return n.length?n[0]:null},enables:n=>[Cs.state,n_e,fe.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});let r_e=class{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}};const i_e=new jt;function s_e({except:n,units:e=1}={}){return t=>{let r=n&&n.test(t.textAfter);return t.baseIndent+(r?0:e*t.unit)}}const o_e=new jt;function a_e(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}let l_e=class a7{constructor(e,t){this.specs=e;let r;function i(a){let l=Rn.newName();return(r||(r=Object.create(null)))["."+l]=a,l}const s=typeof t.all=="string"?t.all:t.all?i(t.all):void 0,o=t.scope;this.scope=o instanceof Cs?a=>a.prop(Hh)==o.data:o?a=>a==o:void 0,this.style=Zc(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=r?new Rn(r):null,this.themeType=t.themeType}static define(e,t){return new a7(e,t||{})}};N.meta,N.link,N.heading,N.emphasis,N.strong,N.strikethrough,N.keyword,N.atom,N.bool,N.url,N.contentSeparator,N.labelName,N.literal,N.inserted,N.string,N.deleted,N.regexp,N.escape,N.string,N.variableName,N.variableName,N.typeName,N.namespace,N.className,N.variableName,N.macroName,N.propertyName,N.comment,N.invalid;const c_e=Object.create(null),VL=[Fo.none],LL=[],UL=Object.create(null),u_e=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])u_e[n]=h_e(c_e,e);function r_(n,e){LL.indexOf(n)>-1||(LL.push(n),console.warn(e))}function h_e(n,e){let t=[];for(let a of e.split(" ")){let l=[];for(let c of a.split(".")){let u=n[c]||N[c];u?typeof u=="function"?l.length?l=l.map(u):r_(c,`Modifier ${c} used at start of tag`):l.length?r_(c,`Tag ${c} used as modifier`):l=Array.isArray(u)?u:[u]:r_(c,`Unknown highlighting tag ${c}`)}for(let c of l)t.push(c)}if(!t.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+t.map(a=>a.id),s=UL[i];if(s)return s.id;let o=UL[i]=Fo.define({id:VL.length,name:r,props:[Wi({[r]:t})]});return VL.push(o),o.id}it.RTL,it.LTR;let i_=null;function s_(){if(!i_&&typeof document=="object"&&document.body){let{style:n}=document.body,e=[],t=new Set;for(let r in n)r!="cssText"&&r!="cssFloat"&&typeof n[r]=="string"&&(/[A-Z]/.test(r)&&(r=r.replace(/[A-Z]/g,i=>"-"+i.toLowerCase())),t.has(r)||(e.push(r),t.add(r)));i_=e.sort().map(r=>({type:"property",label:r,apply:r+": "}))}return i_||[]}const zL=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(n=>({type:"class",label:n})),qL=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(n=>({type:"keyword",label:n})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(n=>({type:"constant",label:n}))),d_e=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(n=>({type:"type",label:n})),f_e=["@charset","@color-profile","@container","@counter-style","@font-face","@font-feature-values","@font-palette-values","@import","@keyframes","@layer","@media","@namespace","@page","@position-try","@property","@scope","@starting-style","@supports","@view-transition"].map(n=>({type:"keyword",label:n})),ca=/^(\w[\w-]*|-\w[\w-]*|)$/,p_e=/^-(-[\w-]*)?$/;function m_e(n,e){var t;if((n.name=="("||n.type.isError)&&(n=n.parent||n),n.name!="ArgList")return!1;let r=(t=n.parent)===null||t===void 0?void 0:t.firstChild;return(r==null?void 0:r.name)!="Callee"?!1:e.sliceString(r.from,r.to)=="var"}const ZL=new Xke,g_e=["Declaration"];function O_e(n){for(let e=n;;){if(e.type.isTop)return e;if(!(e=e.parent))return n}}function l7(n,e,t){if(e.to-e.from>4096){let r=ZL.get(e);if(r)return r;let i=[],s=new Set,o=e.cursor(Jn.IncludeAnonymous);if(o.firstChild())do for(let a of l7(n,o.node,t))s.has(a.label)||(s.add(a.label),i.push(a));while(o.nextSibling());return ZL.set(e,i),i}else{let r=[],i=new Set;return e.cursor().iterate(s=>{var o;if(t(s)&&s.matchContext(g_e)&&((o=s.node.nextSibling)===null||o===void 0?void 0:o.name)==":"){let a=n.sliceString(s.from,s.to);i.has(a)||(i.add(a),r.push({label:a,type:"variable"}))}}),r}}const y_e=n=>e=>{let{state:t,pos:r}=e,i=Lw(t).resolveInner(r,-1),s=i.type.isError&&i.from==i.to-1&&t.doc.sliceString(i.from,i.to)=="-";if(i.name=="PropertyName"||(s||i.name=="TagName")&&/^(Block|Styles)$/.test(i.resolve(i.to).name))return{from:i.from,options:s_(),validFor:ca};if(i.name=="ValueName")return{from:i.from,options:qL,validFor:ca};if(i.name=="PseudoClassName")return{from:i.from,options:zL,validFor:ca};if(n(i)||(e.explicit||s)&&m_e(i,t.doc))return{from:n(i)||s?i.from:r,options:l7(t.doc,O_e(i),n),validFor:p_e};if(i.name=="TagName"){for(let{parent:l}=i;l;l=l.parent)if(l.name=="Block")return{from:i.from,options:s_(),validFor:ca};return{from:i.from,options:d_e,validFor:ca}}if(i.name=="AtKeyword")return{from:i.from,options:f_e,validFor:ca};if(!e.explicit)return null;let o=i.resolve(r),a=o.childBefore(r);return a&&a.name==":"&&o.name=="PseudoClassSelector"?{from:r,options:zL,validFor:ca}:a&&a.name==":"&&o.name=="Declaration"||o.name=="ArgList"?{from:r,options:qL,validFor:ca}:o.name=="Block"||o.name=="Styles"?{from:r,options:s_(),validFor:ca}:null},v_e=y_e(n=>n.name=="VariableName"),Uw=Jke.define({name:"css",parser:Vke.configure({props:[i_e.add({Declaration:s_e()}),o_e.add({"Block KeyframeList":a_e})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function c7(){return new r_e(Uw,Uw.data.of({autocomplete:v_e}))}const x_e=1024;let w_e=0,o_=class{constructor(e,t){this.from=e,this.to=t}},At=class{constructor(e={}){this.id=w_e++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Wo.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}};At.closedBy=new At({deserialize:n=>n.split(" ")});At.openedBy=new At({deserialize:n=>n.split(" ")});At.group=new At({deserialize:n=>n.split(" ")});At.isolate=new At({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});At.contextHash=new At({perNode:!0});At.lookAhead=new At({perNode:!0});At.mounted=new At({perNode:!0});let zw=class{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[At.mounted.id]}};const b_e=Object.create(null);let Wo=class u7{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):b_e,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new u7(e.name||"",t,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(At.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(At.group),s=-1;s<(i?i.length:0);s++){let o=t[s<0?r.name:i[s]];if(o)return o}}}};Wo.none=new Wo("",Object.create(null),0,8);const j0=new WeakMap,FL=new WeakMap;var cr;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(cr||(cr={}));let $i=class sE{constructor(e,t,r,i,s){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=zw.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new lE(this.topNode,e)}cursorAt(e,t=0,r=0){let i=j0.get(this)||this.topNode,s=new lE(i);return s.moveTo(e,t),j0.set(this,s._tree),s}get topNode(){return new Ec(this,0,0,null)}resolve(e,t=0){let r=lO(j0.get(this)||this.topNode,e,t,!1);return j0.set(this,r),r}resolveInner(e,t=0){let r=lO(FL.get(this)||this.topNode,e,t,!0);return FL.set(this,r),r}resolveStack(e,t=0){return T_e(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:s=this.length}=e,o=e.mode||0,a=(o&cr.IncludeAnonymous)>0;for(let l=this.cursor(o|cr.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=i&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:wI(Wo.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new sE(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new sE(Wo.none,t,r,i)))}static build(e){return P_e(e)}};$i.empty=new $i(Wo.none,[],[],0);let S_e=class h7{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new h7(this.buffer,this.index)}},gf=class d7{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return Wo.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(f7(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,t,r){let i=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=i[a++],s[l++]=i[a++]-r;let c=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,c)}return new d7(s,o,this.set)}};function f7(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function lO(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!r&&n instanceof Ec&&n.index<0?null:n.parent;if(!o)return n;n=o}let s=r?0:cr.IgnoreOverlays;if(r)for(let o=n,a=o.parent;a;o=a,a=o.parent)o instanceof Ec&&o.index<0&&((i=a.enter(e,t,s))===null||i===void 0?void 0:i.from)!=o.from&&(n=a);for(;;){let o=n.enter(e,t,s);if(!o)return n;n=o}}let p7=class{cursor(e=0){return new lE(this,e)}getChild(e,t=null,r=null){let i=BL(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return BL(this,e,t,r)}resolve(e,t=0){return lO(this,e,t,!1)}resolveInner(e,t=0){return lO(this,e,t,!0)}matchContext(e){return oE(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}},Ec=class Zv extends p7{constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=t>0?a.length:-1;e!=c;e+=t){let u=a[e],h=l[e]+o.from;if(f7(i,r,h,h+u.length)){if(u instanceof gf){if(s&cr.ExcludeBuffers)continue;let f=u.findChild(0,u.buffer.length,t,r-h,i);if(f>-1)return new aE(new k_e(o,u,e,h),null,f)}else if(s&cr.IncludeAnonymous||!u.type.isAnonymous||xI(u)){let f;if(!(s&cr.IgnoreMounts)&&(f=zw.get(u))&&!f.overlay)return new Zv(f.tree,h,e,o);let m=new Zv(u,h,e,o);return s&cr.IncludeAnonymous||!m.type.isAnonymous?m:m.nextChild(t<0?u.children.length-1:0,t,r,i)}}}if(s&cr.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&cr.IgnoreOverlays)&&(i=zw.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:o,to:a}of i.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new Zv(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function BL(n,e,t,r){let i=n.cursor(),s=[];if(!i.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=i.type.is(t),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function oE(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}let k_e=class{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}},aE=class hm extends p7{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return s<0?null:new hm(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&cr.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new hm(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new hm(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new hm(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),t.push(0)}return new $i(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function m7(n){if(!n.length)return null;let e=0,t=n[0];for(let s=1;s<n.length;s++){let o=n[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let r=t instanceof Ec&&t.index<0?null:t.parent,i=n.slice();return r?i[e]=r:i.splice(e,1),new __e(i,t)}let __e=class{constructor(e,t){this.heads=e,this.node=t}get next(){return m7(this.heads)}};function T_e(n,e,t){let r=n.resolveInner(e,t),i=null;for(let s=r instanceof Ec?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[r])).push(o.resolve(e,t)),s=o}else{let o=zw.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new Ec(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(lO(a,e,t,!1))}}return i?m7(i):r}let lE=class{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Ec)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof Ec?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&cr.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&cr.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&cr.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let s=t+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&cr.IncludeAnonymous||a instanceof gf||!a.type.isAnonymous||xI(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;t=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)t=new aE(this.buffer,t,this.stack[i]);return this.bufferNode=new aE(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return oE(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return oE(this._tree,e,i);let o=r[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}};function xI(n){return n.children.some(e=>e instanceof gf||!e.type.isAnonymous||xI(e))}function P_e(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=x_e,reused:s=[],minRepeatType:o=r.types.length}=n,a=Array.isArray(t)?new S_e(t,t.length):t,l=r.types,c=0,u=0;function h(C,Q,O,w,k,R){let{id:P,start:v,end:A,size:j}=a,V=u,U=c;for(;j<0;)if(a.next(),j==-1){let F=s[P];O.push(F),w.push(v-C);return}else if(j==-3){c=P;return}else if(j==-4){u=P;return}else throw new RangeError(`Unrecognized record size: ${j}`);let W=l[P],D,L,Y=v-C;if(A-v<=i&&(L=x(a.pos-Q,k))){let F=new Uint16Array(L.size-L.skip),Z=a.pos-L.size,G=F.length;for(;a.pos>Z;)G=S(L.start,F,G);D=new gf(F,A-L.start,r),Y=L.start-C}else{let F=a.pos-j;a.next();let Z=[],G=[],J=P>=o?P:-1,ae=0,oe=A;for(;a.pos>F;)J>=0&&a.id==J&&a.size>=0?(a.end<=oe-i&&(g(Z,G,v,ae,a.end,oe,J,V,U),ae=Z.length,oe=a.end),a.next()):R>2500?f(v,F,Z,G):h(v,F,Z,G,J,R+1);if(J>=0&&ae>0&&ae<Z.length&&g(Z,G,v,ae,v,oe,J,V,U),Z.reverse(),G.reverse(),J>-1&&ae>0){let re=m(W,U);D=wI(W,Z,G,0,Z.length,0,A-v,re,re)}else D=y(W,Z,G,A-v,V-A,U)}O.push(D),w.push(Y)}function f(C,Q,O,w){let k=[],R=0,P=-1;for(;a.pos>Q;){let{id:v,start:A,end:j,size:V}=a;if(V>4)a.next();else{if(P>-1&&A<P)break;P<0&&(P=j-i),k.push(v,A,j),R++,a.next()}}if(R){let v=new Uint16Array(R*4),A=k[k.length-2];for(let j=k.length-3,V=0;j>=0;j-=3)v[V++]=k[j],v[V++]=k[j+1]-A,v[V++]=k[j+2]-A,v[V++]=V;O.push(new gf(v,k[2]-A,r)),w.push(A-C)}}function m(C,Q){return(O,w,k)=>{let R=0,P=O.length-1,v,A;if(P>=0&&(v=O[P])instanceof $i){if(!P&&v.type==C&&v.length==k)return v;(A=v.prop(At.lookAhead))&&(R=w[P]+v.length+A)}return y(C,O,w,k,R,Q)}}function g(C,Q,O,w,k,R,P,v,A){let j=[],V=[];for(;C.length>w;)j.push(C.pop()),V.push(Q.pop()+O-k);C.push(y(r.types[P],j,V,R-k,v-R,A)),Q.push(k-O)}function y(C,Q,O,w,k,R,P){if(R){let v=[At.contextHash,R];P=P?[v].concat(P):[v]}if(k>25){let v=[At.lookAhead,k];P=P?[v].concat(P):[v]}return new $i(C,Q,O,w,P)}function x(C,Q){let O=a.fork(),w=0,k=0,R=0,P=O.end-i,v={size:0,start:0,skip:0};e:for(let A=O.pos-C;O.pos>A;){let j=O.size;if(O.id==Q&&j>=0){v.size=w,v.start=k,v.skip=R,R+=4,w+=4,O.next();continue}let V=O.pos-j;if(j<0||V<A||O.start<P)break;let U=O.id>=o?4:0,W=O.start;for(O.next();O.pos>V;){if(O.size<0)if(O.size==-3)U+=4;else break e;else O.id>=o&&(U+=4);O.next()}k=W,w+=j,R+=U}return(Q<0||w==C)&&(v.size=w,v.start=k,v.skip=R),v.size>4?v:void 0}function S(C,Q,O){let{id:w,start:k,end:R,size:P}=a;if(a.next(),P>=0&&w<o){let v=O;if(P>4){let A=a.pos-(P-4);for(;a.pos>A;)O=S(C,Q,O)}Q[--O]=v,Q[--O]=R-C,Q[--O]=k-C,Q[--O]=w}else P==-3?c=w:P==-4&&(u=w);return O}let _=[],T=[];for(;a.pos>0;)h(n.start||0,n.bufferStart||0,_,T,-1,0);let I=(e=n.length)!==null&&e!==void 0?e:_.length?T[0]+_[0].length:0;return new $i(l[n.topID],_.reverse(),T.reverse(),I)}const WL=new WeakMap;function Fv(n,e){if(!n.isAnonymous||e instanceof gf||e.type!=n)return 1;let t=WL.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof $i)){t=1;break}t+=Fv(n,r)}WL.set(e,t)}return t}function wI(n,e,t,r,i,s,o,a,l){let c=0;for(let g=r;g<i;g++)c+=Fv(n,e[g]);let u=Math.ceil(c*1.5/8),h=[],f=[];function m(g,y,x,S,_){for(let T=x;T<S;){let I=T,C=y[T],Q=Fv(n,g[T]);for(T++;T<S;T++){let O=Fv(n,g[T]);if(Q+O>=u)break;Q+=O}if(T==I+1){if(Q>u){let O=g[I];m(O.children,O.positions,0,O.children.length,y[I]+_);continue}h.push(g[I])}else{let O=y[T-1]+g[T-1].length-C;h.push(wI(n,g,y,I,T,C,O,null,l))}f.push(C+_-s)}}return m(e,t,r,i,0),(a||l)(h,f,o)}let Bv=class cE{constructor(e,t,r,i,s=!1,o=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],r=!1){let i=[new cE(0,e.length,e,0,!1,r)];for(let s of t)s.to>e.length&&i.push(s);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let u=a<t.length?t[a]:null,h=u?u.fromA:1e9;if(h-l>=r)for(;o&&o.from<h;){let f=o;if(l>=f.from||h<=f.to||c){let m=Math.max(f.from,l)-c,g=Math.min(f.to,h)-c;f=m>=g?null:new cE(m,g,f.tree,f.offset+c,a>0,!!u)}if(f&&i.push(f),o.to>h)break;o=s<e.length?e[s++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return i}},C_e=class{startParse(e,t,r){return typeof e=="string"&&(e=new E_e(e)),r=r?r.length?r.map(i=>new o_(i.from,i.to)):[new o_(0,0)]:[new o_(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let s=i.advance();if(s)return s}}},E_e=class{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}};new At({perNode:!0});var a_;const Kh=new At;function A_e(n){return de.define({combine:n?e=>e.concat(n):void 0})}const R_e=new At;let Es=class{constructor(e,t,r=[],i=""){this.data=e,this.name=i,De.prototype.hasOwnProperty("tree")||Object.defineProperty(De.prototype,"tree",{get(){return cO(this)}}),this.parser=t,this.extension=[Of.of(this),De.languageData.of((s,o,a)=>{let l=XL(s,o,a),c=l.type.prop(Kh);if(!c)return[];let u=s.facet(c),h=l.type.prop(R_e);if(h){let f=l.resolve(o-l.from,a);for(let m of h)if(m.test(f,s)){let g=s.facet(m.facet);return m.type=="replace"?g:g.concat(u)}}return u})].concat(r)}isActiveAt(e,t,r=-1){return XL(e,t,r).type.prop(Kh)==this.data}findRegions(e){let t=e.facet(Of);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let r=[],i=(s,o)=>{if(s.prop(Kh)==this.data){r.push({from:o,to:o+s.length});return}let a=s.prop(At.mounted);if(a){if(a.tree.prop(Kh)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+o,to:l.to+o});else r.push({from:o,to:o+s.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+o),r.length>l)return}}for(let l=0;l<s.children.length;l++){let c=s.children[l];c instanceof $i&&i(c,s.positions[l]+o)}};return i(cO(e),0),r}get allowsNesting(){return!0}};Es.setState=Ne.define();function XL(n,e,t){let r=n.facet(Of),i=cO(n).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,t,cr.ExcludeBuffers))s.type.isTop&&(i=s);return i}let Q_e=class uE extends Es{constructor(e,t,r){super(e,t,[],r),this.parser=t}static define(e){let t=A_e(e.languageData);return new uE(t,e.parser.configure({props:[Kh.add(r=>r.isTop?t:void 0)]}),e.name)}configure(e,t){return new uE(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}};function cO(n){let e=n.field(Es.state,!1);return e?e.tree:$i.empty}let I_e=class{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}},Ip=null,$_e=class hE{constructor(e,t,r=[],i,s,o,a,l){this.parser=e,this.state=t,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new hE(e,t,[],$i.empty,0,r,[],null)}startParse(){return this.parser.startParse(new I_e(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=$i.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(Bv.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Bv.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=Ip;Ip=this;try{return e()}finally{Ip=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=GL(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:i,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,u,h,f)=>l.push({fromA:c,toA:u,fromB:h,toB:f})),r=Bv.applyChanges(r,l),i=$i.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),h=e.mapPos(c.to,-1);u<h&&a.push({from:u,to:h})}}}return new hE(this.parser,t,r,i,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=GL(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends C_e{createParse(t,r,i){let s=i[0].from,o=i[i.length-1].to;return{parsedPos:s,advance(){let l=Ip;if(l){for(let c of i)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new $i(Wo.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return Ip}};function GL(n,e,t){return Bv.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}let dE=class fE{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new fE(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=$_e.create(e.facet(Of).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new fE(r)}};Es.state=Xt.define({create:dE.init,update(n,e){for(let t of e.effects)if(t.is(Es.setState))return t.value;return e.startState.facet(Of)!=e.state.facet(Of)?dE.init(e.state):n.apply(e)}});let g7=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(g7=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const l_=typeof navigator<"u"&&(!((a_=navigator.scheduling)===null||a_===void 0)&&a_.isInputPending)?()=>navigator.scheduling.isInputPending():null,N_e=Vt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Es.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Es.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=g7(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(Es.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!l_?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<i&&r.doc.length>i+1e3,l=s.context.work(()=>l_&&l_()||Date.now()>o,i+(a?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Es.setState.of(new dE(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>An(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Of=de.define({combine(n){return n.length?n[0]:null},enables:n=>[Es.state,N_e,fe.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});let j_e=class{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}};const D_e=new At,M_e=new At;let V_e=class O7{constructor(e,t){this.specs=e;let r;function i(a){let l=Rn.newName();return(r||(r=Object.create(null)))["."+l]=a,l}const s=typeof t.all=="string"?t.all:t.all?i(t.all):void 0,o=t.scope;this.scope=o instanceof Es?a=>a.prop(Kh)==o.data:o?a=>a==o:void 0,this.style=Zc(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=r?new Rn(r):null,this.themeType=t.themeType}static define(e,t){return new O7(e,t||{})}};N.meta,N.link,N.heading,N.emphasis,N.strong,N.strikethrough,N.keyword,N.atom,N.bool,N.url,N.contentSeparator,N.labelName,N.literal,N.inserted,N.string,N.deleted,N.regexp,N.escape,N.string,N.variableName,N.variableName,N.typeName,N.namespace,N.className,N.variableName,N.macroName,N.propertyName,N.comment,N.invalid;const L_e=new At,U_e=Object.create(null),YL=[Wo.none],HL=[],KL=Object.create(null),z_e=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])z_e[n]=q_e(U_e,e);function c_(n,e){HL.indexOf(n)>-1||(HL.push(n),console.warn(e))}function q_e(n,e){let t=[];for(let a of e.split(" ")){let l=[];for(let c of a.split(".")){let u=n[c]||N[c];u?typeof u=="function"?l.length?l=l.map(u):c_(c,`Modifier ${c} used at start of tag`):l.length?c_(c,`Tag ${c} used as modifier`):l=Array.isArray(u)?u:[u]:c_(c,`Unknown highlighting tag ${c}`)}for(let c of l)t.push(c)}if(!t.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+t.map(a=>a.id),s=KL[i];if(s)return s.id;let o=KL[i]=Wo.define({id:YL.length,name:r,props:[Wi({[r]:t})]});return YL.push(o),o.id}it.RTL,it.LTR;const $p=["_blank","_self","_top","_parent"],u_=["ascii","utf-8","utf-16","latin1","latin1"],h_=["get","post","put","delete"],d_=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],wi=["true","false"],Ee={},Z_e={a:{attrs:{href:null,ping:null,type:null,media:null,target:$p,hreflang:null}},abbr:Ee,address:Ee,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:Ee,aside:Ee,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:Ee,base:{attrs:{href:null,target:$p}},bdi:Ee,bdo:Ee,blockquote:{attrs:{cite:null}},body:Ee,br:Ee,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:d_,formmethod:h_,formnovalidate:["novalidate"],formtarget:$p,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:Ee,center:Ee,cite:Ee,code:Ee,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:Ee,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:Ee,div:Ee,dl:Ee,dt:Ee,em:Ee,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:Ee,figure:Ee,footer:Ee,form:{attrs:{action:null,name:null,"accept-charset":u_,autocomplete:["on","off"],enctype:d_,method:h_,novalidate:["novalidate"],target:$p}},h1:Ee,h2:Ee,h3:Ee,h4:Ee,h5:Ee,h6:Ee,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:Ee,hgroup:Ee,hr:Ee,html:{attrs:{manifest:null}},i:Ee,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:d_,formmethod:h_,formnovalidate:["novalidate"],formtarget:$p,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:Ee,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:Ee,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:Ee,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:u_,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:Ee,noscript:Ee,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:Ee,param:{attrs:{name:null,value:null}},pre:Ee,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:Ee,rt:Ee,ruby:Ee,samp:Ee,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:u_}},section:Ee,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:Ee,source:{attrs:{src:null,type:null,media:null}},span:Ee,strong:Ee,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:Ee,summary:Ee,sup:Ee,table:Ee,tbody:Ee,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:Ee,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:Ee,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:Ee,time:{attrs:{datetime:null}},title:Ee,tr:Ee,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:Ee,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:Ee},y7={accesskey:null,class:null,contenteditable:wi,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:wi,autocorrect:wi,autocapitalize:wi,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":wi,"aria-autocomplete":["inline","list","both","none"],"aria-busy":wi,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":wi,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":wi,"aria-hidden":wi,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":wi,"aria-multiselectable":wi,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":wi,"aria-relevant":null,"aria-required":wi,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},v7="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map(n=>"on"+n);for(let n of v7)y7[n]=null;class qw{constructor(e,t){this.tags=Object.assign(Object.assign({},Z_e),e),this.globalAttrs=Object.assign(Object.assign({},y7),t),this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}}qw.default=new qw;function yf(n,e,t=n.length){if(!e)return"";let r=e.firstChild,i=r&&r.getChild("TagName");return i?n.sliceString(i.from,Math.min(i.to,t)):""}function vf(n,e=!1){for(;n;n=n.parent)if(n.name=="Element")if(e)e=!1;else return n;return null}function x7(n,e,t){let r=t.tags[yf(n,vf(e))];return(r==null?void 0:r.children)||t.allTags}function bI(n,e){let t=[];for(let r=vf(e);r&&!r.type.isTop;r=vf(r.parent)){let i=yf(n,r);if(i&&r.lastChild.name=="CloseTag")break;i&&t.indexOf(i)<0&&(e.name=="EndTag"||e.from>=r.firstChild.to)&&t.push(i)}return t}const w7=/^[:\-\.\w\u00b7-\uffff]*$/;function JL(n,e,t,r,i){let s=/\s*>/.test(n.sliceDoc(i,i+5))?"":">",o=vf(t,!0);return{from:r,to:i,options:x7(n.doc,o,e).map(a=>({label:a,type:"type"})).concat(bI(n.doc,t).map((a,l)=>({label:"/"+a,apply:"/"+a+s,type:"type",boost:99-l}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function e4(n,e,t,r){let i=/\s*>/.test(n.sliceDoc(r,r+5))?"":">";return{from:t,to:r,options:bI(n.doc,e).map((s,o)=>({label:s,apply:s+i,type:"type",boost:99-o})),validFor:w7}}function F_e(n,e,t,r){let i=[],s=0;for(let o of x7(n.doc,t,e))i.push({label:"<"+o,type:"type"});for(let o of bI(n.doc,t))i.push({label:"</"+o+">",type:"type",boost:99-s++});return{from:r,to:r,options:i,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function B_e(n,e,t,r,i){let s=vf(t),o=s?e.tags[yf(n.doc,s)]:null,a=o&&o.attrs?Object.keys(o.attrs):[],l=o&&o.globalAttrs===!1?a:a.length?a.concat(e.globalAttrNames):e.globalAttrNames;return{from:r,to:i,options:l.map(c=>({label:c,type:"property"})),validFor:w7}}function W_e(n,e,t,r,i){var s;let o=(s=t.parent)===null||s===void 0?void 0:s.getChild("AttributeName"),a=[],l;if(o){let c=n.sliceDoc(o.from,o.to),u=e.globalAttrs[c];if(!u){let h=vf(t),f=h?e.tags[yf(n.doc,h)]:null;u=(f==null?void 0:f.attrs)&&f.attrs[c]}if(u){let h=n.sliceDoc(r,i).toLowerCase(),f='"',m='"';/^['"]/.test(h)?(l=h[0]=='"'?/^[^"]*$/:/^[^']*$/,f="",m=n.sliceDoc(i,i+1)==h[0]?"":h[0],h=h.slice(1),r++):l=/^[^\s<>='"]*$/;for(let g of u)a.push({label:g,apply:f+g+m,type:"constant"})}}return{from:r,to:i,options:a,validFor:l}}function X_e(n,e){let{state:t,pos:r}=e,i=cO(t).resolveInner(r,-1),s=i.resolve(r);for(let o=r,a;s==i&&(a=i.childBefore(o));){let l=a.lastChild;if(!l||!l.type.isError||l.from<l.to)break;s=i=a,o=l.from}return i.name=="TagName"?i.parent&&/CloseTag$/.test(i.parent.name)?e4(t,i,i.from,r):JL(t,n,i,i.from,r):i.name=="StartTag"?JL(t,n,i,r,r):i.name=="StartCloseTag"||i.name=="IncompleteCloseTag"?e4(t,i,r,r):i.name=="OpenTag"||i.name=="SelfClosingTag"||i.name=="AttributeName"?B_e(t,n,i,i.name=="AttributeName"?i.from:r,r):i.name=="Is"||i.name=="AttributeValue"||i.name=="UnquotedAttributeValue"?W_e(t,n,i,i.name=="Is"?r:i.from,r):e.explicit&&(s.name=="Element"||s.name=="Text"||s.name=="Document")?F_e(t,n,i,r):null}function G_e(n){let{extraTags:e,extraGlobalAttributes:t}=n,r=t||e?new qw(e,t):qw.default;return i=>X_e(r,i)}const Y_e=Ro.parser.configure({top:"SingleExpression"}),b7=[{tag:"script",attrs:n=>n.type=="text/typescript"||n.lang=="ts",parser:c6.parser},{tag:"script",attrs:n=>n.type=="text/babel"||n.type=="text/jsx",parser:u6.parser},{tag:"script",attrs:n=>n.type=="text/typescript-jsx",parser:h6.parser},{tag:"script",attrs(n){return/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(n.type)},parser:Y_e},{tag:"script",attrs(n){return!n.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(n.type)},parser:Ro.parser},{tag:"style",attrs(n){return(!n.lang||n.lang=="css")&&(!n.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(n.type))},parser:Uw.parser}],S7=[{name:"style",parser:Uw.parser.configure({top:"Styles"})}].concat(v7.map(n=>({name:n,parser:Ro.parser}))),k7=Q_e.define({name:"html",parser:vke.configure({props:[D_e.add({Element(n){let e=/^(\s*)(<\/)?/.exec(n.textAfter);return n.node.to<=n.pos+e[0].length?n.continue():n.lineIndent(n.node.from)+(e[2]?0:n.unit)},"OpenTag CloseTag SelfClosingTag"(n){return n.column(n.node.from)+n.unit},Document(n){if(n.pos+/\s*/.exec(n.textAfter)[0].length<n.node.to)return n.continue();let e=null,t;for(let r=n.node;;){let i=r.lastChild;if(!i||i.name!="Element"||i.to!=r.to)break;e=r=i}return e&&!((t=e.lastChild)&&(t.name=="CloseTag"||t.name=="SelfClosingTag"))?n.lineIndent(e.from)+n.unit:null}}),M_e.add({Element(n){let e=n.firstChild,t=n.lastChild;return!e||e.name!="OpenTag"?null:{from:e.to,to:t.name=="CloseTag"?t.from:n.to}}}),L_e.add({"OpenTag CloseTag":n=>n.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-._"}}),Wv=k7.configure({wrap:Y6(b7,S7)});function H_e(n={}){let e="",t;n.matchClosingTags===!1&&(e="noMatch"),n.selfClosingTags===!0&&(e=(e?e+" ":"")+"selfClosing"),(n.nestedLanguages&&n.nestedLanguages.length||n.nestedAttributes&&n.nestedAttributes.length)&&(t=Y6((n.nestedLanguages||[]).concat(b7),(n.nestedAttributes||[]).concat(S7)));let r=t?k7.configure({wrap:t,dialect:e}):e?Wv.configure({dialect:e}):Wv;return new j_e(r,[Wv.data.of({autocomplete:G_e(n)}),n.autoCloseTags!==!1?K_e:[],oI().support,c7().support])}const t4=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),K_e=fe.inputHandler.of((n,e,t,r,i)=>{if(n.composing||n.state.readOnly||e!=t||r!=">"&&r!="/"||!Wv.isActiveAt(n.state,e,-1))return!1;let s=i(),{state:o}=s,a=o.changeByRange(l=>{var c,u,h;let f=o.doc.sliceString(l.from-1,l.to)==r,{head:m}=l,g=cO(o).resolveInner(m,-1),y;if(f&&r==">"&&g.name=="EndTag"){let x=g.parent;if(((u=(c=x.parent)===null||c===void 0?void 0:c.lastChild)===null||u===void 0?void 0:u.name)!="CloseTag"&&(y=yf(o.doc,x.parent,m))&&!t4.has(y)){let S=m+(o.doc.sliceString(m,m+1)===">"?1:0),_=`</${y}>`;return{range:l,changes:{from:m,to:S,insert:_}}}}else if(f&&r=="/"&&g.name=="IncompleteCloseTag"){let x=g.parent;if(g.from==m-2&&((h=x.lastChild)===null||h===void 0?void 0:h.name)!="CloseTag"&&(y=yf(o.doc,x,m))&&!t4.has(y)){let S=m+(o.doc.sliceString(m,m+1)===">"?1:0),_=`${y}>`;return{range:te.cursor(m+_.length,-1),changes:{from:m,to:S,insert:_}}}}return{range:l}});return a.changes.empty?!1:(n.dispatch([s,o.update(a,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),J_e=Wi({String:N.string,Number:N.number,"True False":N.bool,PropertyName:N.propertyName,Null:N.null,", :":N.separator,"[ ]":N.squareBracket,"{ }":N.brace}),eTe=Ka.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#ClOOQO'#Cr'#CrQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CtOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59W,59WO!iQPO,59WOVQPO,59QOqQPO'#CmO!nQPO,59`OOQO1G.k1G.kOVQPO'#CnO!vQPO,59aOOQO1G.r1G.rOOQO1G.l1G.lOOQO,59X,59XOOQO-E6k-E6kOOQO,59Y,59YOOQO-E6l-E6l",stateData:"#O~OeOS~OQSORSOSSOTSOWQO_ROgPO~OVXOgUO~O^[O~PVO[^O~O]_OVhX~OVaO~O]bO^iX~O^dO~O]_OVha~O]bO^ia~O",goto:"!kjPPPPPPkPPkqwPPPPk{!RPPP!XP!e!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:" JsonText True False Null Number String } { Object Property PropertyName : , ] [ Array",maxTerm:25,nodeProps:[["isolate",-2,6,11,""],["openedBy",7,"{",14,"["],["closedBy",8,"}",15,"]"]],propSources:[J_e],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oe~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Og~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zO]~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yO[~~'OO_~~'TO^~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),tTe=1024;let nTe=0,f_=class{constructor(e,t){this.from=e,this.to=t}},Dt=class{constructor(e={}){this.id=nTe++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Xo.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}};Dt.closedBy=new Dt({deserialize:n=>n.split(" ")});Dt.openedBy=new Dt({deserialize:n=>n.split(" ")});Dt.group=new Dt({deserialize:n=>n.split(" ")});Dt.isolate=new Dt({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});Dt.contextHash=new Dt({perNode:!0});Dt.lookAhead=new Dt({perNode:!0});Dt.mounted=new Dt({perNode:!0});let Zw=class{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[Dt.mounted.id]}};const rTe=Object.create(null);let Xo=class _7{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):rTe,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new _7(e.name||"",t,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Dt.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(Dt.group),s=-1;s<(i?i.length:0);s++){let o=t[s<0?r.name:i[s]];if(o)return o}}}};Xo.none=new Xo("",Object.create(null),0,8);const D0=new WeakMap,n4=new WeakMap;var ur;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(ur||(ur={}));let Ni=class pE{constructor(e,t,r,i,s){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=Zw.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new OE(this.topNode,e)}cursorAt(e,t=0,r=0){let i=D0.get(this)||this.topNode,s=new OE(i);return s.moveTo(e,t),D0.set(this,s._tree),s}get topNode(){return new Ac(this,0,0,null)}resolve(e,t=0){let r=uO(D0.get(this)||this.topNode,e,t,!1);return D0.set(this,r),r}resolveInner(e,t=0){let r=uO(n4.get(this)||this.topNode,e,t,!0);return n4.set(this,r),r}resolveStack(e,t=0){return aTe(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:s=this.length}=e,o=e.mode||0,a=(o&ur.IncludeAnonymous)>0;for(let l=this.cursor(o|ur.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=i&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:kI(Xo.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new pE(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new pE(Xo.none,t,r,i)))}static build(e){return lTe(e)}};Ni.empty=new Ni(Xo.none,[],[],0);let iTe=class T7{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new T7(this.buffer,this.index)}},xf=class P7{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return Xo.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(C7(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,t,r){let i=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=i[a++],s[l++]=i[a++]-r;let c=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,c)}return new P7(s,o,this.set)}};function C7(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function uO(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!r&&n instanceof Ac&&n.index<0?null:n.parent;if(!o)return n;n=o}let s=r?0:ur.IgnoreOverlays;if(r)for(let o=n,a=o.parent;a;o=a,a=o.parent)o instanceof Ac&&o.index<0&&((i=a.enter(e,t,s))===null||i===void 0?void 0:i.from)!=o.from&&(n=a);for(;;){let o=n.enter(e,t,s);if(!o)return n;n=o}}let E7=class{cursor(e=0){return new OE(this,e)}getChild(e,t=null,r=null){let i=r4(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return r4(this,e,t,r)}resolve(e,t=0){return uO(this,e,t,!1)}resolveInner(e,t=0){return uO(this,e,t,!0)}matchContext(e){return mE(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}},Ac=class Xv extends E7{constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=t>0?a.length:-1;e!=c;e+=t){let u=a[e],h=l[e]+o.from;if(C7(i,r,h,h+u.length)){if(u instanceof xf){if(s&ur.ExcludeBuffers)continue;let f=u.findChild(0,u.buffer.length,t,r-h,i);if(f>-1)return new gE(new sTe(o,u,e,h),null,f)}else if(s&ur.IncludeAnonymous||!u.type.isAnonymous||SI(u)){let f;if(!(s&ur.IgnoreMounts)&&(f=Zw.get(u))&&!f.overlay)return new Xv(f.tree,h,e,o);let m=new Xv(u,h,e,o);return s&ur.IncludeAnonymous||!m.type.isAnonymous?m:m.nextChild(t<0?u.children.length-1:0,t,r,i)}}}if(s&ur.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&ur.IgnoreOverlays)&&(i=Zw.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:o,to:a}of i.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new Xv(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function r4(n,e,t,r){let i=n.cursor(),s=[];if(!i.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=i.type.is(t),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function mE(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}let sTe=class{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}},gE=class dm extends E7{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return s<0?null:new dm(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&ur.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new dm(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new dm(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new dm(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),t.push(0)}return new Ni(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function A7(n){if(!n.length)return null;let e=0,t=n[0];for(let s=1;s<n.length;s++){let o=n[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let r=t instanceof Ac&&t.index<0?null:t.parent,i=n.slice();return r?i[e]=r:i.splice(e,1),new oTe(i,t)}let oTe=class{constructor(e,t){this.heads=e,this.node=t}get next(){return A7(this.heads)}};function aTe(n,e,t){let r=n.resolveInner(e,t),i=null;for(let s=r instanceof Ac?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[r])).push(o.resolve(e,t)),s=o}else{let o=Zw.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new Ac(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(uO(a,e,t,!1))}}return i?A7(i):r}let OE=class{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Ac)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof Ac?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&ur.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&ur.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&ur.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let s=t+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&ur.IncludeAnonymous||a instanceof xf||!a.type.isAnonymous||SI(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;t=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)t=new gE(this.buffer,t,this.stack[i]);return this.bufferNode=new gE(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return mE(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return mE(this._tree,e,i);let o=r[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}};function SI(n){return n.children.some(e=>e instanceof xf||!e.type.isAnonymous||SI(e))}function lTe(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=tTe,reused:s=[],minRepeatType:o=r.types.length}=n,a=Array.isArray(t)?new iTe(t,t.length):t,l=r.types,c=0,u=0;function h(C,Q,O,w,k,R){let{id:P,start:v,end:A,size:j}=a,V=u,U=c;for(;j<0;)if(a.next(),j==-1){let F=s[P];O.push(F),w.push(v-C);return}else if(j==-3){c=P;return}else if(j==-4){u=P;return}else throw new RangeError(`Unrecognized record size: ${j}`);let W=l[P],D,L,Y=v-C;if(A-v<=i&&(L=x(a.pos-Q,k))){let F=new Uint16Array(L.size-L.skip),Z=a.pos-L.size,G=F.length;for(;a.pos>Z;)G=S(L.start,F,G);D=new xf(F,A-L.start,r),Y=L.start-C}else{let F=a.pos-j;a.next();let Z=[],G=[],J=P>=o?P:-1,ae=0,oe=A;for(;a.pos>F;)J>=0&&a.id==J&&a.size>=0?(a.end<=oe-i&&(g(Z,G,v,ae,a.end,oe,J,V,U),ae=Z.length,oe=a.end),a.next()):R>2500?f(v,F,Z,G):h(v,F,Z,G,J,R+1);if(J>=0&&ae>0&&ae<Z.length&&g(Z,G,v,ae,v,oe,J,V,U),Z.reverse(),G.reverse(),J>-1&&ae>0){let re=m(W,U);D=kI(W,Z,G,0,Z.length,0,A-v,re,re)}else D=y(W,Z,G,A-v,V-A,U)}O.push(D),w.push(Y)}function f(C,Q,O,w){let k=[],R=0,P=-1;for(;a.pos>Q;){let{id:v,start:A,end:j,size:V}=a;if(V>4)a.next();else{if(P>-1&&A<P)break;P<0&&(P=j-i),k.push(v,A,j),R++,a.next()}}if(R){let v=new Uint16Array(R*4),A=k[k.length-2];for(let j=k.length-3,V=0;j>=0;j-=3)v[V++]=k[j],v[V++]=k[j+1]-A,v[V++]=k[j+2]-A,v[V++]=V;O.push(new xf(v,k[2]-A,r)),w.push(A-C)}}function m(C,Q){return(O,w,k)=>{let R=0,P=O.length-1,v,A;if(P>=0&&(v=O[P])instanceof Ni){if(!P&&v.type==C&&v.length==k)return v;(A=v.prop(Dt.lookAhead))&&(R=w[P]+v.length+A)}return y(C,O,w,k,R,Q)}}function g(C,Q,O,w,k,R,P,v,A){let j=[],V=[];for(;C.length>w;)j.push(C.pop()),V.push(Q.pop()+O-k);C.push(y(r.types[P],j,V,R-k,v-R,A)),Q.push(k-O)}function y(C,Q,O,w,k,R,P){if(R){let v=[Dt.contextHash,R];P=P?[v].concat(P):[v]}if(k>25){let v=[Dt.lookAhead,k];P=P?[v].concat(P):[v]}return new Ni(C,Q,O,w,P)}function x(C,Q){let O=a.fork(),w=0,k=0,R=0,P=O.end-i,v={size:0,start:0,skip:0};e:for(let A=O.pos-C;O.pos>A;){let j=O.size;if(O.id==Q&&j>=0){v.size=w,v.start=k,v.skip=R,R+=4,w+=4,O.next();continue}let V=O.pos-j;if(j<0||V<A||O.start<P)break;let U=O.id>=o?4:0,W=O.start;for(O.next();O.pos>V;){if(O.size<0)if(O.size==-3)U+=4;else break e;else O.id>=o&&(U+=4);O.next()}k=W,w+=j,R+=U}return(Q<0||w==C)&&(v.size=w,v.start=k,v.skip=R),v.size>4?v:void 0}function S(C,Q,O){let{id:w,start:k,end:R,size:P}=a;if(a.next(),P>=0&&w<o){let v=O;if(P>4){let A=a.pos-(P-4);for(;a.pos>A;)O=S(C,Q,O)}Q[--O]=v,Q[--O]=R-C,Q[--O]=k-C,Q[--O]=w}else P==-3?c=w:P==-4&&(u=w);return O}let _=[],T=[];for(;a.pos>0;)h(n.start||0,n.bufferStart||0,_,T,-1,0);let I=(e=n.length)!==null&&e!==void 0?e:_.length?T[0]+_[0].length:0;return new Ni(l[n.topID],_.reverse(),T.reverse(),I)}const i4=new WeakMap;function Gv(n,e){if(!n.isAnonymous||e instanceof xf||e.type!=n)return 1;let t=i4.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof Ni)){t=1;break}t+=Gv(n,r)}i4.set(e,t)}return t}function kI(n,e,t,r,i,s,o,a,l){let c=0;for(let g=r;g<i;g++)c+=Gv(n,e[g]);let u=Math.ceil(c*1.5/8),h=[],f=[];function m(g,y,x,S,_){for(let T=x;T<S;){let I=T,C=y[T],Q=Gv(n,g[T]);for(T++;T<S;T++){let O=Gv(n,g[T]);if(Q+O>=u)break;Q+=O}if(T==I+1){if(Q>u){let O=g[I];m(O.children,O.positions,0,O.children.length,y[I]+_);continue}h.push(g[I])}else{let O=y[T-1]+g[T-1].length-C;h.push(kI(n,g,y,I,T,C,O,null,l))}f.push(C+_-s)}}return m(e,t,r,i,0),(a||l)(h,f,o)}let Yv=class yE{constructor(e,t,r,i,s=!1,o=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],r=!1){let i=[new yE(0,e.length,e,0,!1,r)];for(let s of t)s.to>e.length&&i.push(s);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let u=a<t.length?t[a]:null,h=u?u.fromA:1e9;if(h-l>=r)for(;o&&o.from<h;){let f=o;if(l>=f.from||h<=f.to||c){let m=Math.max(f.from,l)-c,g=Math.min(f.to,h)-c;f=m>=g?null:new yE(m,g,f.tree,f.offset+c,a>0,!!u)}if(f&&i.push(f),o.to>h)break;o=s<e.length?e[s++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return i}},cTe=class{startParse(e,t,r){return typeof e=="string"&&(e=new uTe(e)),r=r?r.length?r.map(i=>new f_(i.from,i.to)):[new f_(0,0)]:[new f_(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let s=i.advance();if(s)return s}}},uTe=class{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}};new Dt({perNode:!0});var p_;const Jh=new Dt;function hTe(n){return de.define({combine:n?e=>e.concat(n):void 0})}const dTe=new Dt;let As=class{constructor(e,t,r=[],i=""){this.data=e,this.name=i,De.prototype.hasOwnProperty("tree")||Object.defineProperty(De.prototype,"tree",{get(){return xE(this)}}),this.parser=t,this.extension=[wf.of(this),De.languageData.of((s,o,a)=>{let l=s4(s,o,a),c=l.type.prop(Jh);if(!c)return[];let u=s.facet(c),h=l.type.prop(dTe);if(h){let f=l.resolve(o-l.from,a);for(let m of h)if(m.test(f,s)){let g=s.facet(m.facet);return m.type=="replace"?g:g.concat(u)}}return u})].concat(r)}isActiveAt(e,t,r=-1){return s4(e,t,r).type.prop(Jh)==this.data}findRegions(e){let t=e.facet(wf);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let r=[],i=(s,o)=>{if(s.prop(Jh)==this.data){r.push({from:o,to:o+s.length});return}let a=s.prop(Dt.mounted);if(a){if(a.tree.prop(Jh)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+o,to:l.to+o});else r.push({from:o,to:o+s.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+o),r.length>l)return}}for(let l=0;l<s.children.length;l++){let c=s.children[l];c instanceof Ni&&i(c,s.positions[l]+o)}};return i(xE(e),0),r}get allowsNesting(){return!0}};As.setState=Ne.define();function s4(n,e,t){let r=n.facet(wf),i=xE(n).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,t,ur.ExcludeBuffers))s.type.isTop&&(i=s);return i}let fTe=class vE extends As{constructor(e,t,r){super(e,t,[],r),this.parser=t}static define(e){let t=hTe(e.languageData);return new vE(t,e.parser.configure({props:[Jh.add(r=>r.isTop?t:void 0)]}),e.name)}configure(e,t){return new vE(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}};function xE(n){let e=n.field(As.state,!1);return e?e.tree:Ni.empty}let pTe=class{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}},Np=null,mTe=class wE{constructor(e,t,r=[],i,s,o,a,l){this.parser=e,this.state=t,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new wE(e,t,[],Ni.empty,0,r,[],null)}startParse(){return this.parser.startParse(new pTe(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=Ni.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(Yv.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Yv.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=Np;Np=this;try{return e()}finally{Np=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=o4(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:i,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,u,h,f)=>l.push({fromA:c,toA:u,fromB:h,toB:f})),r=Yv.applyChanges(r,l),i=Ni.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),h=e.mapPos(c.to,-1);u<h&&a.push({from:u,to:h})}}}return new wE(this.parser,t,r,i,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=o4(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends cTe{createParse(t,r,i){let s=i[0].from,o=i[i.length-1].to;return{parsedPos:s,advance(){let l=Np;if(l){for(let c of i)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new Ni(Xo.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return Np}};function o4(n,e,t){return Yv.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}let bE=class SE{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new SE(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=mTe.create(e.facet(wf).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new SE(r)}};As.state=Xt.define({create:bE.init,update(n,e){for(let t of e.effects)if(t.is(As.setState))return t.value;return e.startState.facet(wf)!=e.state.facet(wf)?bE.init(e.state):n.apply(e)}});let R7=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(R7=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const m_=typeof navigator<"u"&&(!((p_=navigator.scheduling)===null||p_===void 0)&&p_.isInputPending)?()=>navigator.scheduling.isInputPending():null,gTe=Vt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(As.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(As.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=R7(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(As.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!m_?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<i&&r.doc.length>i+1e3,l=s.context.work(()=>m_&&m_()||Date.now()>o,i+(a?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:As.setState.of(new bE(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>An(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),wf=de.define({combine(n){return n.length?n[0]:null},enables:n=>[As.state,gTe,fe.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});let OTe=class{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}};const yTe=new Dt;function a4({except:n,units:e=1}={}){return t=>{let r=n&&n.test(t.textAfter);return t.baseIndent+(r?0:e*t.unit)}}const vTe=new Dt;function xTe(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}let wTe=class Q7{constructor(e,t){this.specs=e;let r;function i(a){let l=Rn.newName();return(r||(r=Object.create(null)))["."+l]=a,l}const s=typeof t.all=="string"?t.all:t.all?i(t.all):void 0,o=t.scope;this.scope=o instanceof As?a=>a.prop(Jh)==o.data:o?a=>a==o:void 0,this.style=Zc(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=r?new Rn(r):null,this.themeType=t.themeType}static define(e,t){return new Q7(e,t||{})}};N.meta,N.link,N.heading,N.emphasis,N.strong,N.strikethrough,N.keyword,N.atom,N.bool,N.url,N.contentSeparator,N.labelName,N.literal,N.inserted,N.string,N.deleted,N.regexp,N.escape,N.string,N.variableName,N.variableName,N.typeName,N.namespace,N.className,N.variableName,N.macroName,N.propertyName,N.comment,N.invalid;const bTe=Object.create(null),l4=[Xo.none],c4=[],u4=Object.create(null),STe=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])STe[n]=kTe(bTe,e);function g_(n,e){c4.indexOf(n)>-1||(c4.push(n),console.warn(e))}function kTe(n,e){let t=[];for(let a of e.split(" ")){let l=[];for(let c of a.split(".")){let u=n[c]||N[c];u?typeof u=="function"?l.length?l=l.map(u):g_(c,`Modifier ${c} used at start of tag`):l.length?g_(c,`Tag ${c} used as modifier`):l=Array.isArray(u)?u:[u]:g_(c,`Unknown highlighting tag ${c}`)}for(let c of l)t.push(c)}if(!t.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+t.map(a=>a.id),s=u4[i];if(s)return s.id;let o=u4[i]=Xo.define({id:l4.length,name:r,props:[Wi({[r]:t})]});return l4.push(o),o.id}it.RTL,it.LTR;const _Te=fTe.define({name:"json",parser:eTe.configure({props:[yTe.add({Object:a4({except:/^\s*\}/}),Array:a4({except:/^\s*\]/})}),vTe.add({"Object Array":xTe})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function TTe(){return new OTe(_Te)}const PTe=1024;let CTe=0,O_=class{constructor(e,t){this.from=e,this.to=t}};class Mt{constructor(e={}){this.id=CTe++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=fs.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}}Mt.closedBy=new Mt({deserialize:n=>n.split(" ")});Mt.openedBy=new Mt({deserialize:n=>n.split(" ")});Mt.group=new Mt({deserialize:n=>n.split(" ")});Mt.isolate=new Mt({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});Mt.contextHash=new Mt({perNode:!0});Mt.lookAhead=new Mt({perNode:!0});Mt.mounted=new Mt({perNode:!0});class Fw{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[Mt.mounted.id]}}const ETe=Object.create(null);class fs{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):ETe,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new fs(e.name||"",t,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Mt.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(Mt.group),s=-1;s<(i?i.length:0);s++){let o=t[s<0?r.name:i[s]];if(o)return o}}}}fs.none=new fs("",Object.create(null),0,8);const M0=new WeakMap,h4=new WeakMap;var hr;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(hr||(hr={}));class Er{constructor(e,t,r,i,s){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=Fw.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new _E(this.topNode,e)}cursorAt(e,t=0,r=0){let i=M0.get(this)||this.topNode,s=new _E(i);return s.moveTo(e,t),M0.set(this,s._tree),s}get topNode(){return new as(this,0,0,null)}resolve(e,t=0){let r=hO(M0.get(this)||this.topNode,e,t,!1);return M0.set(this,r),r}resolveInner(e,t=0){let r=hO(h4.get(this)||this.topNode,e,t,!0);return h4.set(this,r),r}resolveStack(e,t=0){return QTe(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:s=this.length}=e,o=e.mode||0,a=(o&hr.IncludeAnonymous)>0;for(let l=this.cursor(o|hr.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=i&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:PI(fs.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new Er(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new Er(fs.none,t,r,i)))}static build(e){return ITe(e)}}Er.empty=new Er(fs.none,[],[],0);class _I{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new _I(this.buffer,this.index)}}class Rc{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return fs.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(I7(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,t,r){let i=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=i[a++],s[l++]=i[a++]-r;let c=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,c)}return new Rc(s,o,this.set)}}function I7(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function hO(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!r&&n instanceof as&&n.index<0?null:n.parent;if(!o)return n;n=o}let s=r?0:hr.IgnoreOverlays;if(r)for(let o=n,a=o.parent;a;o=a,a=o.parent)o instanceof as&&o.index<0&&((i=a.enter(e,t,s))===null||i===void 0?void 0:i.from)!=o.from&&(n=a);for(;;){let o=n.enter(e,t,s);if(!o)return n;n=o}}class $7{cursor(e=0){return new _E(this,e)}getChild(e,t=null,r=null){let i=d4(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return d4(this,e,t,r)}resolve(e,t=0){return hO(this,e,t,!1)}resolveInner(e,t=0){return hO(this,e,t,!0)}matchContext(e){return kE(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}}class as extends $7{constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=t>0?a.length:-1;e!=c;e+=t){let u=a[e],h=l[e]+o.from;if(I7(i,r,h,h+u.length)){if(u instanceof Rc){if(s&hr.ExcludeBuffers)continue;let f=u.findChild(0,u.buffer.length,t,r-h,i);if(f>-1)return new Bl(new ATe(o,u,e,h),null,f)}else if(s&hr.IncludeAnonymous||!u.type.isAnonymous||TI(u)){let f;if(!(s&hr.IgnoreMounts)&&(f=Fw.get(u))&&!f.overlay)return new as(f.tree,h,e,o);let m=new as(u,h,e,o);return s&hr.IncludeAnonymous||!m.type.isAnonymous?m:m.nextChild(t<0?u.children.length-1:0,t,r,i)}}}if(s&hr.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&hr.IgnoreOverlays)&&(i=Fw.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:o,to:a}of i.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new as(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function d4(n,e,t,r){let i=n.cursor(),s=[];if(!i.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=i.type.is(t),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function kE(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}class ATe{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}}class Bl extends $7{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return s<0?null:new Bl(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&hr.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new Bl(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Bl(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Bl(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),t.push(0)}return new Er(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function N7(n){if(!n.length)return null;let e=0,t=n[0];for(let s=1;s<n.length;s++){let o=n[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let r=t instanceof as&&t.index<0?null:t.parent,i=n.slice();return r?i[e]=r:i.splice(e,1),new RTe(i,t)}class RTe{constructor(e,t){this.heads=e,this.node=t}get next(){return N7(this.heads)}}function QTe(n,e,t){let r=n.resolveInner(e,t),i=null;for(let s=r instanceof as?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[r])).push(o.resolve(e,t)),s=o}else{let o=Fw.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new as(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(hO(a,e,t,!1))}}return i?N7(i):r}class _E{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof as)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof as?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&hr.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&hr.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&hr.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let s=t+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&hr.IncludeAnonymous||a instanceof Rc||!a.type.isAnonymous||TI(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;t=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)t=new Bl(this.buffer,t,this.stack[i]);return this.bufferNode=new Bl(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return kE(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return kE(this._tree,e,i);let o=r[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}}function TI(n){return n.children.some(e=>e instanceof Rc||!e.type.isAnonymous||TI(e))}function ITe(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=PTe,reused:s=[],minRepeatType:o=r.types.length}=n,a=Array.isArray(t)?new _I(t,t.length):t,l=r.types,c=0,u=0;function h(C,Q,O,w,k,R){let{id:P,start:v,end:A,size:j}=a,V=u,U=c;for(;j<0;)if(a.next(),j==-1){let F=s[P];O.push(F),w.push(v-C);return}else if(j==-3){c=P;return}else if(j==-4){u=P;return}else throw new RangeError(`Unrecognized record size: ${j}`);let W=l[P],D,L,Y=v-C;if(A-v<=i&&(L=x(a.pos-Q,k))){let F=new Uint16Array(L.size-L.skip),Z=a.pos-L.size,G=F.length;for(;a.pos>Z;)G=S(L.start,F,G);D=new Rc(F,A-L.start,r),Y=L.start-C}else{let F=a.pos-j;a.next();let Z=[],G=[],J=P>=o?P:-1,ae=0,oe=A;for(;a.pos>F;)J>=0&&a.id==J&&a.size>=0?(a.end<=oe-i&&(g(Z,G,v,ae,a.end,oe,J,V,U),ae=Z.length,oe=a.end),a.next()):R>2500?f(v,F,Z,G):h(v,F,Z,G,J,R+1);if(J>=0&&ae>0&&ae<Z.length&&g(Z,G,v,ae,v,oe,J,V,U),Z.reverse(),G.reverse(),J>-1&&ae>0){let re=m(W,U);D=PI(W,Z,G,0,Z.length,0,A-v,re,re)}else D=y(W,Z,G,A-v,V-A,U)}O.push(D),w.push(Y)}function f(C,Q,O,w){let k=[],R=0,P=-1;for(;a.pos>Q;){let{id:v,start:A,end:j,size:V}=a;if(V>4)a.next();else{if(P>-1&&A<P)break;P<0&&(P=j-i),k.push(v,A,j),R++,a.next()}}if(R){let v=new Uint16Array(R*4),A=k[k.length-2];for(let j=k.length-3,V=0;j>=0;j-=3)v[V++]=k[j],v[V++]=k[j+1]-A,v[V++]=k[j+2]-A,v[V++]=V;O.push(new Rc(v,k[2]-A,r)),w.push(A-C)}}function m(C,Q){return(O,w,k)=>{let R=0,P=O.length-1,v,A;if(P>=0&&(v=O[P])instanceof Er){if(!P&&v.type==C&&v.length==k)return v;(A=v.prop(Mt.lookAhead))&&(R=w[P]+v.length+A)}return y(C,O,w,k,R,Q)}}function g(C,Q,O,w,k,R,P,v,A){let j=[],V=[];for(;C.length>w;)j.push(C.pop()),V.push(Q.pop()+O-k);C.push(y(r.types[P],j,V,R-k,v-R,A)),Q.push(k-O)}function y(C,Q,O,w,k,R,P){if(R){let v=[Mt.contextHash,R];P=P?[v].concat(P):[v]}if(k>25){let v=[Mt.lookAhead,k];P=P?[v].concat(P):[v]}return new Er(C,Q,O,w,P)}function x(C,Q){let O=a.fork(),w=0,k=0,R=0,P=O.end-i,v={size:0,start:0,skip:0};e:for(let A=O.pos-C;O.pos>A;){let j=O.size;if(O.id==Q&&j>=0){v.size=w,v.start=k,v.skip=R,R+=4,w+=4,O.next();continue}let V=O.pos-j;if(j<0||V<A||O.start<P)break;let U=O.id>=o?4:0,W=O.start;for(O.next();O.pos>V;){if(O.size<0)if(O.size==-3)U+=4;else break e;else O.id>=o&&(U+=4);O.next()}k=W,w+=j,R+=U}return(Q<0||w==C)&&(v.size=w,v.start=k,v.skip=R),v.size>4?v:void 0}function S(C,Q,O){let{id:w,start:k,end:R,size:P}=a;if(a.next(),P>=0&&w<o){let v=O;if(P>4){let A=a.pos-(P-4);for(;a.pos>A;)O=S(C,Q,O)}Q[--O]=v,Q[--O]=R-C,Q[--O]=k-C,Q[--O]=w}else P==-3?c=w:P==-4&&(u=w);return O}let _=[],T=[];for(;a.pos>0;)h(n.start||0,n.bufferStart||0,_,T,-1,0);let I=(e=n.length)!==null&&e!==void 0?e:_.length?T[0]+_[0].length:0;return new Er(l[n.topID],_.reverse(),T.reverse(),I)}const f4=new WeakMap;function Hv(n,e){if(!n.isAnonymous||e instanceof Rc||e.type!=n)return 1;let t=f4.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof Er)){t=1;break}t+=Hv(n,r)}f4.set(e,t)}return t}function PI(n,e,t,r,i,s,o,a,l){let c=0;for(let g=r;g<i;g++)c+=Hv(n,e[g]);let u=Math.ceil(c*1.5/8),h=[],f=[];function m(g,y,x,S,_){for(let T=x;T<S;){let I=T,C=y[T],Q=Hv(n,g[T]);for(T++;T<S;T++){let O=Hv(n,g[T]);if(Q+O>=u)break;Q+=O}if(T==I+1){if(Q>u){let O=g[I];m(O.children,O.positions,0,O.children.length,y[I]+_);continue}h.push(g[I])}else{let O=y[T-1]+g[T-1].length-C;h.push(PI(n,g,y,I,T,C,O,null,l))}f.push(C+_-s)}}return m(e,t,r,i,0),(a||l)(h,f,o)}class Pu{constructor(e,t,r,i,s=!1,o=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],r=!1){let i=[new Pu(0,e.length,e,0,!1,r)];for(let s of t)s.to>e.length&&i.push(s);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let u=a<t.length?t[a]:null,h=u?u.fromA:1e9;if(h-l>=r)for(;o&&o.from<h;){let f=o;if(l>=f.from||h<=f.to||c){let m=Math.max(f.from,l)-c,g=Math.min(f.to,h)-c;f=m>=g?null:new Pu(m,g,f.tree,f.offset+c,a>0,!!u)}if(f&&i.push(f),o.to>h)break;o=s<e.length?e[s++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return i}}class $Te{startParse(e,t,r){return typeof e=="string"&&(e=new NTe(e)),r=r?r.length?r.map(i=>new O_(i.from,i.to)):[new O_(0,0)]:[new O_(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let s=i.advance();if(s)return s}}}class NTe{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new Mt({perNode:!0});var y_;const ed=new Mt;function jTe(n){return de.define({combine:n?e=>e.concat(n):void 0})}const DTe=new Mt;class Rs{constructor(e,t,r=[],i=""){this.data=e,this.name=i,De.prototype.hasOwnProperty("tree")||Object.defineProperty(De.prototype,"tree",{get(){return dO(this)}}),this.parser=t,this.extension=[Sf.of(this),De.languageData.of((s,o,a)=>{let l=p4(s,o,a),c=l.type.prop(ed);if(!c)return[];let u=s.facet(c),h=l.type.prop(DTe);if(h){let f=l.resolve(o-l.from,a);for(let m of h)if(m.test(f,s)){let g=s.facet(m.facet);return m.type=="replace"?g:g.concat(u)}}return u})].concat(r)}isActiveAt(e,t,r=-1){return p4(e,t,r).type.prop(ed)==this.data}findRegions(e){let t=e.facet(Sf);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let r=[],i=(s,o)=>{if(s.prop(ed)==this.data){r.push({from:o,to:o+s.length});return}let a=s.prop(Mt.mounted);if(a){if(a.tree.prop(ed)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+o,to:l.to+o});else r.push({from:o,to:o+s.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+o),r.length>l)return}}for(let l=0;l<s.children.length;l++){let c=s.children[l];c instanceof Er&&i(c,s.positions[l]+o)}};return i(dO(e),0),r}get allowsNesting(){return!0}}Rs.setState=Ne.define();function p4(n,e,t){let r=n.facet(Sf),i=dO(n).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,t,hr.ExcludeBuffers))s.type.isTop&&(i=s);return i}class Bw extends Rs{constructor(e,t,r){super(e,t,[],r),this.parser=t}static define(e){let t=jTe(e.languageData);return new Bw(t,e.parser.configure({props:[ed.add(r=>r.isTop?t:void 0)]}),e.name)}configure(e,t){return new Bw(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function dO(n){let e=n.field(Rs.state,!1);return e?e.tree:Er.empty}class MTe{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}}let jp=null;class Ww{constructor(e,t,r=[],i,s,o,a,l){this.parser=e,this.state=t,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new Ww(e,t,[],Er.empty,0,r,[],null)}startParse(){return this.parser.startParse(new MTe(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=Er.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(Pu.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Pu.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=jp;jp=this;try{return e()}finally{jp=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=m4(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:i,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,u,h,f)=>l.push({fromA:c,toA:u,fromB:h,toB:f})),r=Pu.applyChanges(r,l),i=Er.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),h=e.mapPos(c.to,-1);u<h&&a.push({from:u,to:h})}}}return new Ww(this.parser,t,r,i,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=m4(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends $Te{createParse(t,r,i){let s=i[0].from,o=i[i.length-1].to;return{parsedPos:s,advance(){let l=jp;if(l){for(let c of i)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new Er(fs.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return jp}}function m4(n,e,t){return Pu.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}class bf{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new bf(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=Ww.create(e.facet(Sf).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new bf(r)}}Rs.state=Xt.define({create:bf.init,update(n,e){for(let t of e.effects)if(t.is(Rs.setState))return t.value;return e.startState.facet(Sf)!=e.state.facet(Sf)?bf.init(e.state):n.apply(e)}});let j7=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(j7=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const v_=typeof navigator<"u"&&(!((y_=navigator.scheduling)===null||y_===void 0)&&y_.isInputPending)?()=>navigator.scheduling.isInputPending():null,VTe=Vt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Rs.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Rs.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=j7(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(Rs.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!v_?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<i&&r.doc.length>i+1e3,l=s.context.work(()=>v_&&v_()||Date.now()>o,i+(a?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Rs.setState.of(new bf(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>An(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Sf=de.define({combine(n){return n.length?n[0]:null},enables:n=>[Rs.state,VTe,fe.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});class LTe{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const UTe=new Mt;function zTe({except:n,units:e=1}={}){return t=>{let r=n&&n.test(t.textAfter);return t.baseIndent+(r?0:e*t.unit)}}const qTe=new Mt;class CI{constructor(e,t){this.specs=e;let r;function i(a){let l=Rn.newName();return(r||(r=Object.create(null)))["."+l]=a,l}const s=typeof t.all=="string"?t.all:t.all?i(t.all):void 0,o=t.scope;this.scope=o instanceof Rs?a=>a.prop(ed)==o.data:o?a=>a==o:void 0,this.style=Zc(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=r?new Rn(r):null,this.themeType=t.themeType}static define(e,t){return new CI(e,t||{})}}N.meta,N.link,N.heading,N.emphasis,N.strong,N.strikethrough,N.keyword,N.atom,N.bool,N.url,N.contentSeparator,N.labelName,N.literal,N.inserted,N.string,N.deleted,N.regexp,N.escape,N.string,N.variableName,N.variableName,N.typeName,N.namespace,N.className,N.variableName,N.macroName,N.propertyName,N.comment,N.invalid;const ZTe=Object.create(null),g4=[fs.none],O4=[],y4=Object.create(null),FTe=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])FTe[n]=BTe(ZTe,e);function x_(n,e){O4.indexOf(n)>-1||(O4.push(n),console.warn(e))}function BTe(n,e){let t=[];for(let a of e.split(" ")){let l=[];for(let c of a.split(".")){let u=n[c]||N[c];u?typeof u=="function"?l.length?l=l.map(u):x_(c,`Modifier ${c} used at start of tag`):l.length?x_(c,`Tag ${c} used as modifier`):l=Array.isArray(u)?u:[u]:x_(c,`Unknown highlighting tag ${c}`)}for(let c of l)t.push(c)}if(!t.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+t.map(a=>a.id),s=y4[i];if(s)return s.id;let o=y4[i]=fs.define({id:g4.length,name:r,props:[Wi({[r]:t})]});return g4.push(o),o.id}it.RTL,it.LTR;function v4(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function WTe(n){let e=Object.create(null),t=Object.create(null);for(let{label:i}of n){e[i[0]]=!0;for(let s=1;s<i.length;s++)t[i[s]]=!0}let r=v4(e)+v4(t)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function XTe(n){let e=n.map(i=>typeof i=="string"?{label:i}:i),[t,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:WTe(e);return i=>{let s=i.matchBefore(r);return s||i.explicit?{from:s?s.from:i.pos,options:e,validFor:t}:null}}function GTe(n,e){return t=>{for(let r=dO(t.state).resolveInner(t.pos,-1);r;r=r.parent){if(n.indexOf(r.name)>-1)return null;if(r.type.isTop)break}return e(t)}}const D7=new class extends Do{};D7.startSide=1;D7.endSide=-1;const YTe=36,x4=1,HTe=2,_h=3,w_=4,KTe=5,JTe=6,ePe=7,tPe=8,nPe=9,rPe=10,iPe=11,sPe=12,oPe=13,aPe=14,lPe=15,cPe=16,uPe=17,w4=18,hPe=19,M7=20,V7=21,b4=22,dPe=23,fPe=24;function TE(n){return n>=65&&n<=90||n>=97&&n<=122||n>=48&&n<=57}function pPe(n){return n>=48&&n<=57||n>=97&&n<=102||n>=65&&n<=70}function su(n,e,t){for(let r=!1;;){if(n.next<0)return;if(n.next==e&&!r){n.advance();return}r=t&&!r&&n.next==92,n.advance()}}function mPe(n,e){e:for(;;){if(n.next<0)return;if(n.next==36){n.advance();for(let t=0;t<e.length;t++){if(n.next!=e.charCodeAt(t))continue e;n.advance()}if(n.next==36){n.advance();return}}else n.advance()}}function gPe(n,e){let t="[{<(".indexOf(String.fromCharCode(e)),r=t<0?e:"]}>)".charCodeAt(t);for(;;){if(n.next<0)return;if(n.next==r&&n.peek(1)==39){n.advance(2);return}n.advance()}}function PE(n,e){for(;!(n.next!=95&&!TE(n.next));)e!=null&&(e+=String.fromCharCode(n.next)),n.advance();return e}function OPe(n){if(n.next==39||n.next==34||n.next==96){let e=n.next;n.advance(),su(n,e,!1)}else PE(n)}function S4(n,e){for(;n.next==48||n.next==49;)n.advance();e&&n.next==e&&n.advance()}function k4(n,e){for(;;){if(n.next==46){if(e)break;e=!0}else if(n.next<48||n.next>57)break;n.advance()}if(n.next==69||n.next==101)for(n.advance(),(n.next==43||n.next==45)&&n.advance();n.next>=48&&n.next<=57;)n.advance()}function _4(n){for(;!(n.next<0||n.next==10);)n.advance()}function tu(n,e){for(let t=0;t<e.length;t++)if(e.charCodeAt(t)==n)return!0;return!1}const b_=` 	\r
`;function L7(n,e,t){let r=Object.create(null);r.true=r.false=KTe,r.null=r.unknown=JTe;for(let i of n.split(" "))i&&(r[i]=M7);for(let i of e.split(" "))i&&(r[i]=V7);for(let i of(t||"").split(" "))i&&(r[i]=fPe);return r}const yPe="array binary bit boolean char character clob date decimal double float int integer interval large national nchar nclob numeric object precision real smallint time timestamp varchar varying ",vPe="absolute action add after all allocate alter and any are as asc assertion at authorization before begin between both breadth by call cascade cascaded case cast catalog check close collate collation column commit condition connect connection constraint constraints constructor continue corresponding count create cross cube current current_date current_default_transform_group current_transform_group_for_type current_path current_role current_time current_timestamp current_user cursor cycle data day deallocate declare default deferrable deferred delete depth deref desc describe descriptor deterministic diagnostics disconnect distinct do domain drop dynamic each else elseif end end-exec equals escape except exception exec execute exists exit external fetch first for foreign found from free full function general get global go goto grant group grouping handle having hold hour identity if immediate in indicator initially inner inout input insert intersect into is isolation join key language last lateral leading leave left level like limit local localtime localtimestamp locator loop map match method minute modifies module month names natural nesting new next no none not of old on only open option or order ordinality out outer output overlaps pad parameter partial path prepare preserve primary prior privileges procedure public read reads recursive redo ref references referencing relative release repeat resignal restrict result return returns revoke right role rollback rollup routine row rows savepoint schema scroll search second section select session session_user set sets signal similar size some space specific specifictype sql sqlexception sqlstate sqlwarning start state static system_user table temporary then timezone_hour timezone_minute to trailing transaction translation treat trigger under undo union unique unnest until update usage user using value values view when whenever where while with without work write year zone ",CE={backslashEscapes:!1,hashComments:!1,spaceAfterDashes:!1,slashComments:!1,doubleQuotedStrings:!1,doubleDollarQuotedStrings:!1,unquotedBitLiterals:!1,treatBitsAsBytes:!1,charSetCasts:!1,plsqlQuotingMechanism:!1,operatorChars:"*+-%<>!=&|~^/",specialVar:"?",identifierQuotes:'"',caseInsensitiveIdentifiers:!1,words:L7(vPe,yPe)};function xPe(n,e,t,r){let i={};for(let s in CE)i[s]=(n.hasOwnProperty(s)?n:CE)[s];return e&&(i.words=L7(e,t||"",r)),i}function U7(n){return new Or(e=>{var t;let{next:r}=e;if(e.advance(),tu(r,b_)){for(;tu(e.next,b_);)e.advance();e.acceptToken(YTe)}else if(r==36&&n.doubleDollarQuotedStrings){let i=PE(e,"");e.next==36&&(e.advance(),mPe(e,i),e.acceptToken(_h))}else if(r==39||r==34&&n.doubleQuotedStrings)su(e,r,n.backslashEscapes),e.acceptToken(_h);else if(r==35&&n.hashComments||r==47&&e.next==47&&n.slashComments)_4(e),e.acceptToken(x4);else if(r==45&&e.next==45&&(!n.spaceAfterDashes||e.peek(1)==32))_4(e),e.acceptToken(x4);else if(r==47&&e.next==42){e.advance();for(let i=1;;){let s=e.next;if(e.next<0)break;if(e.advance(),s==42&&e.next==47){if(i--,e.advance(),!i)break}else s==47&&e.next==42&&(i++,e.advance())}e.acceptToken(HTe)}else if((r==101||r==69)&&e.next==39)e.advance(),su(e,39,!0),e.acceptToken(_h);else if((r==110||r==78)&&e.next==39&&n.charSetCasts)e.advance(),su(e,39,n.backslashEscapes),e.acceptToken(_h);else if(r==95&&n.charSetCasts)for(let i=0;;i++){if(e.next==39&&i>1){e.advance(),su(e,39,n.backslashEscapes),e.acceptToken(_h);break}if(!TE(e.next))break;e.advance()}else if(n.plsqlQuotingMechanism&&(r==113||r==81)&&e.next==39&&e.peek(1)>0&&!tu(e.peek(1),b_)){let i=e.peek(1);e.advance(2),gPe(e,i),e.acceptToken(_h)}else if(r==40)e.acceptToken(ePe);else if(r==41)e.acceptToken(tPe);else if(r==123)e.acceptToken(nPe);else if(r==125)e.acceptToken(rPe);else if(r==91)e.acceptToken(iPe);else if(r==93)e.acceptToken(sPe);else if(r==59)e.acceptToken(oPe);else if(n.unquotedBitLiterals&&r==48&&e.next==98)e.advance(),S4(e),e.acceptToken(b4);else if((r==98||r==66)&&(e.next==39||e.next==34)){const i=e.next;e.advance(),n.treatBitsAsBytes?(su(e,i,n.backslashEscapes),e.acceptToken(dPe)):(S4(e,i),e.acceptToken(b4))}else if(r==48&&(e.next==120||e.next==88)||(r==120||r==88)&&e.next==39){let i=e.next==39;for(e.advance();pPe(e.next);)e.advance();i&&e.next==39&&e.advance(),e.acceptToken(w_)}else if(r==46&&e.next>=48&&e.next<=57)k4(e,!0),e.acceptToken(w_);else if(r==46)e.acceptToken(aPe);else if(r>=48&&r<=57)k4(e,!1),e.acceptToken(w_);else if(tu(r,n.operatorChars)){for(;tu(e.next,n.operatorChars);)e.advance();e.acceptToken(lPe)}else if(tu(r,n.specialVar))e.next==r&&e.advance(),OPe(e),e.acceptToken(uPe);else if(tu(r,n.identifierQuotes))su(e,r,!1),e.acceptToken(hPe);else if(r==58||r==44)e.acceptToken(cPe);else if(TE(r)){let i=PE(e,String.fromCharCode(r));e.acceptToken(e.next==46||e.peek(-i.length-1)==46?w4:(t=n.words[i.toLowerCase()])!==null&&t!==void 0?t:w4)}})}const z7=U7(CE),wPe=Ka.deserialize({version:14,states:"%vQ]QQOOO#wQRO'#DSO$OQQO'#CwO%eQQO'#CxO%lQQO'#CyO%sQQO'#CzOOQQ'#DS'#DSOOQQ'#C}'#C}O'UQRO'#C{OOQQ'#Cv'#CvOOQQ'#C|'#C|Q]QQOOQOQQOOO'`QQO'#DOO(xQRO,59cO)PQQO,59cO)UQQO'#DSOOQQ,59d,59dO)cQQO,59dOOQQ,59e,59eO)jQQO,59eOOQQ,59f,59fO)qQQO,59fOOQQ-E6{-E6{OOQQ,59b,59bOOQQ-E6z-E6zOOQQ,59j,59jOOQQ-E6|-E6|O+VQRO1G.}O+^QQO,59cOOQQ1G/O1G/OOOQQ1G/P1G/POOQQ1G/Q1G/QP+kQQO'#C}O+rQQO1G.}O)PQQO,59cO,PQQO'#Cw",stateData:",[~OtOSPOSQOS~ORUOSUOTUOUUOVROXSOZTO]XO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O^]ORvXSvXTvXUvXVvXXvXZvX]vX_vX`vXavXbvXcvXdvXevXfvXgvXhvX~OsvX~P!jOa_Ob_Oc_O~ORUOSUOTUOUUOVROXSOZTO^tO_UO`UOa`Ob`Oc`OdUOeUOfUOgUOhUO~OWaO~P$ZOYcO~P$ZO[eO~P$ZORUOSUOTUOUUOVROXSOZTO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O]hOsoX~P%zOajObjOcjO~O^]ORkaSkaTkaUkaVkaXkaZka]ka_ka`kaakabkackadkaekafkagkahka~Oska~P'kO^]O~OWvXYvX[vX~P!jOWnO~P$ZOYoO~P$ZO[pO~P$ZO^]ORkiSkiTkiUkiVkiXkiZki]ki_ki`kiakibkickidkiekifkigkihki~Oski~P)xOWkaYka[ka~P'kO]hO~P$ZOWkiYki[ki~P)xOasObsOcsO~O",goto:"#hwPPPPPPPPPPPPPPPPPPPPPPPPPPx||||!Y!^!d!xPPP#[TYOZeUORSTWZbdfqT[OZQZORiZSWOZQbRQdSQfTZgWbdfqQ^PWk^lmrQl_Qm`RrseVORSTWZbdfq",nodeNames:" LineComment BlockComment String Number Bool Null ( ) { } [ ] ; . Operator Punctuation SpecialVar Identifier QuotedIdentifier Keyword Type Bits Bytes Builtin Script Statement CompositeIdentifier Parens Braces Brackets Statement",maxTerm:38,nodeProps:[["isolate",-4,1,2,3,19,""]],skippedNodes:[0,1,2],repeatNodeCount:3,tokenData:"RORO",tokenizers:[0,z7],topRules:{Script:[0,25]},tokenPrec:0});function EE(n){let e=n.cursor().moveTo(n.from,-1);for(;/Comment/.test(e.name);)e.moveTo(e.from,-1);return e.node}function fO(n,e){let t=n.sliceString(e.from,e.to),r=/^([`'"])(.*)\1$/.exec(t);return r?r[2]:t}function Xw(n){return n&&(n.name=="Identifier"||n.name=="QuotedIdentifier")}function bPe(n,e){if(e.name=="CompositeIdentifier"){let t=[];for(let r=e.firstChild;r;r=r.nextSibling)Xw(r)&&t.push(fO(n,r));return t}return[fO(n,e)]}function T4(n,e){for(let t=[];;){if(!e||e.name!=".")return t;let r=EE(e);if(!Xw(r))return t;t.unshift(fO(n,r)),e=EE(r)}}function SPe(n,e){let t=dO(n).resolveInner(e,-1),r=_Pe(n.doc,t);return t.name=="Identifier"||t.name=="QuotedIdentifier"||t.name=="Keyword"?{from:t.from,quoted:t.name=="QuotedIdentifier"?n.doc.sliceString(t.from,t.from+1):null,parents:T4(n.doc,EE(t)),aliases:r}:t.name=="."?{from:e,quoted:null,parents:T4(n.doc,t),aliases:r}:{from:e,quoted:null,parents:[],empty:!0,aliases:r}}const kPe=new Set("where group having order union intersect except all distinct limit offset fetch for".split(" "));function _Pe(n,e){let t;for(let i=e;!t;i=i.parent){if(!i)return null;i.name=="Statement"&&(t=i)}let r=null;for(let i=t.firstChild,s=!1,o=null;i;i=i.nextSibling){let a=i.name=="Keyword"?n.sliceString(i.from,i.to).toLowerCase():null,l=null;if(!s)s=a=="from";else if(a=="as"&&o&&Xw(i.nextSibling))l=fO(n,i.nextSibling);else{if(a&&kPe.has(a))break;o&&Xw(i)&&(l=fO(n,i))}l&&(r||(r=Object.create(null)),r[l]=bPe(n,o)),o=/Identifier$/.test(i.name)?i:null}return r}function TPe(n,e){return n?e.map(t=>Object.assign(Object.assign({},t),{label:t.label[0]==n?t.label:n+t.label+n,apply:void 0})):e}const PPe=/^\w*$/,CPe=/^[`'"]?\w*[`'"]?$/;function P4(n){return n.self&&typeof n.self.label=="string"}class EI{constructor(e,t){this.idQuote=e,this.idCaseInsensitive=t,this.list=[],this.children=void 0}child(e){let t=this.children||(this.children=Object.create(null)),r=t[e];return r||(e&&!this.list.some(i=>i.label==e)&&this.list.push(C4(e,"type",this.idQuote,this.idCaseInsensitive)),t[e]=new EI(this.idQuote,this.idCaseInsensitive))}maybeChild(e){return this.children?this.children[e]:null}addCompletion(e){let t=this.list.findIndex(r=>r.label==e.label);t>-1?this.list[t]=e:this.list.push(e)}addCompletions(e){for(let t of e)this.addCompletion(typeof t=="string"?C4(t,"property",this.idQuote,this.idCaseInsensitive):t)}addNamespace(e){Array.isArray(e)?this.addCompletions(e):P4(e)?this.addNamespace(e.children):this.addNamespaceObject(e)}addNamespaceObject(e){for(let t of Object.keys(e)){let r=e[t],i=null,s=t.replace(/\\?\./g,a=>a=="."?"\0":a).split("\0"),o=this;P4(r)&&(i=r.self,r=r.children);for(let a=0;a<s.length;a++)i&&a==s.length-1&&o.addCompletion(i),o=o.child(s[a].replace(/\\\./g,"."));o.addNamespace(r)}}}function C4(n,e,t,r){return new RegExp("^[a-z_][a-z_\\d]*$",r?"i":"").test(n)?{label:n,type:e}:{label:n,type:e,apply:t+n+t}}function EPe(n,e,t,r,i,s){var o;let a=((o=s==null?void 0:s.spec.identifierQuotes)===null||o===void 0?void 0:o[0])||'"',l=new EI(a,!!(s!=null&&s.spec.caseInsensitiveIdentifiers)),c=i?l.child(i):null;return l.addNamespace(n),e&&(c||l).addCompletions(e),t&&l.addCompletions(t),c&&l.addCompletions(c.list),r&&l.addCompletions((c||l).child(r).list),u=>{let{parents:h,from:f,quoted:m,empty:g,aliases:y}=SPe(u.state,u.pos);if(g&&!u.explicit)return null;y&&h.length==1&&(h=y[h[0]]||h);let x=l;for(let T of h){for(;!x.children||!x.children[T];)if(x==l&&c)x=c;else if(x==c&&r)x=x.child(r);else return null;let I=x.maybeChild(T);if(!I)return null;x=I}let S=m&&u.state.sliceDoc(u.pos,u.pos+1)==m,_=x.list;return x==l&&y&&(_=_.concat(Object.keys(y).map(T=>({label:T,type:"constant"})))),{from:f,to:S?u.pos+1:void 0,options:TPe(m,_),validFor:m?CPe:PPe}}}function APe(n){return n==V7?"type":n==M7?"keyword":"variable"}function RPe(n,e,t){let r=Object.keys(n).map(i=>t(e?i.toUpperCase():i,APe(n[i])));return GTe(["QuotedIdentifier","SpecialVar","String","LineComment","BlockComment","."],XTe(r))}let QPe=wPe.configure({props:[UTe.add({Statement:zTe()}),qTe.add({Statement(n,e){return{from:Math.min(n.from+100,e.doc.lineAt(n.from).to),to:n.to}},BlockComment(n){return{from:n.from+2,to:n.to-2}}}),Wi({Keyword:N.keyword,Type:N.typeName,Builtin:N.standard(N.name),Bits:N.number,Bytes:N.string,Bool:N.bool,Null:N.null,Number:N.number,String:N.string,Identifier:N.name,QuotedIdentifier:N.special(N.string),SpecialVar:N.special(N.name),LineComment:N.lineComment,BlockComment:N.blockComment,Operator:N.operator,"Semi Punctuation":N.punctuation,"( )":N.paren,"{ }":N.brace,"[ ]":N.squareBracket})]});class AI{constructor(e,t,r){this.dialect=e,this.language=t,this.spec=r}get extension(){return this.language.extension}static define(e){let t=xPe(e,e.keywords,e.types,e.builtin),r=Bw.define({name:"sql",parser:QPe.configure({tokenizers:[{from:z7,to:U7(t)}]}),languageData:{commentTokens:{line:"--",block:{open:"/*",close:"*/"}},closeBrackets:{brackets:["(","[","{","'",'"',"`"]}}});return new AI(t,r,e)}}function IPe(n,e){return{label:n,type:e,boost:-1}}function $Pe(n,e=!1,t){return RPe(n.dialect.words,e,t||IPe)}function NPe(n){return n.schema?EPe(n.schema,n.tables,n.schemas,n.defaultTable,n.defaultSchema,n.dialect||RI):()=>null}function jPe(n){return n.schema?(n.dialect||RI).language.data.of({autocomplete:NPe(n)}):[]}function DPe(n={}){let e=n.dialect||RI;return new LTe(e.language,[jPe(n),e.language.data.of({autocomplete:$Pe(e,n.upperCaseKeywords,n.keywordCompletion)})])}const RI=AI.define({}),MPe={javascript:oI(),python:w1e(),html:H_e(),css:c7(),json:TTe(),sql:DPe()},SS=({value:n,language:e,onChange:t,readOnly:r=!1})=>{const i=b.useRef(null),s=b.useRef();return b.useEffect(()=>{if(!i.current)return;const o=n||"",a=De.create({doc:o,extensions:[xxe,MPe[e]||oI(),De.readOnly.of(r),fe.lineWrapping,fe.updateListener.of(c=>{c.docChanged&&t(c.state.doc.toString())})]}),l=new fe({state:a,parent:i.current});return s.current=l,()=>{l.destroy()}},[e,r]),b.useEffect(()=>{s.current&&n!==s.current.state.doc.toString()&&s.current.dispatch({changes:{from:0,to:s.current.state.doc.length,insert:n}})},[n]),d.jsx("div",{ref:i,className:"h-full w-full"})};function q7({value:n=[],onChange:e,placeholder:t="Add tags...",className:r,maxTags:i=10}){const[s,o]=b.useState(""),a=h=>{o(h.target.value)},l=h=>{(h.key==="Enter"||h.key===",")&&s.trim()&&(h.preventDefault(),c(s.trim()))},c=h=>{if(h=h.replace(/,/g,"").trim(),!h||n.includes(h)||n.length>=i)return;const f=[...n,h];e(f),o("")},u=h=>{const f=n.filter(m=>m!==h);e(f)};return d.jsxs("div",{className:Te("flex flex-wrap gap-2 p-1 border rounded-md",r),children:[n.map(h=>d.jsxs(Vn,{variant:"secondary",className:"flex items-center gap-1",children:[h,d.jsx(Hb,{className:"h-3 w-3 cursor-pointer hover:text-destructive",onClick:()=>u(h)})]},h)),d.jsx(It,{type:"text",value:s,onChange:a,onKeyDown:l,placeholder:n.length===0?t:"",className:"flex-1 border-0 p-0 text-sm focus-visible:ring-0 min-w-[120px] h-7"})]})}const VPe=["top","right","bottom","left"],Qc=Math.min,_i=Math.max,Gw=Math.round,V0=Math.floor,Io=n=>({x:n,y:n}),LPe={left:"right",right:"left",bottom:"top",top:"bottom"},UPe={start:"end",end:"start"};function AE(n,e,t){return _i(n,Qc(e,t))}function Ja(n,e){return typeof n=="function"?n(e):n}function el(n){return n.split("-")[0]}function Ff(n){return n.split("-")[1]}function QI(n){return n==="x"?"y":"x"}function II(n){return n==="y"?"height":"width"}function Ic(n){return["top","bottom"].includes(el(n))?"y":"x"}function $I(n){return QI(Ic(n))}function zPe(n,e,t){t===void 0&&(t=!1);const r=Ff(n),i=$I(n),s=II(i);let o=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Yw(o)),[o,Yw(o)]}function qPe(n){const e=Yw(n);return[RE(n),e,RE(e)]}function RE(n){return n.replace(/start|end/g,e=>UPe[e])}function ZPe(n,e,t){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(n){case"top":case"bottom":return t?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function FPe(n,e,t,r){const i=Ff(n);let s=ZPe(el(n),t==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(RE)))),s}function Yw(n){return n.replace(/left|right|bottom|top/g,e=>LPe[e])}function BPe(n){return{top:0,right:0,bottom:0,left:0,...n}}function Z7(n){return typeof n!="number"?BPe(n):{top:n,right:n,bottom:n,left:n}}function Hw(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function E4(n,e,t){let{reference:r,floating:i}=n;const s=Ic(e),o=$I(e),a=II(o),l=el(e),c=s==="y",u=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:u,y:r.y-i.height};break;case"bottom":m={x:u,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-i.width,y:h};break;default:m={x:r.x,y:r.y}}switch(Ff(e)){case"start":m[o]-=f*(t&&c?-1:1);break;case"end":m[o]+=f*(t&&c?-1:1);break}return m}const WPe=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:n,floating:e,strategy:i}),{x:u,y:h}=E4(c,r,l),f=r,m={},g=0;for(let y=0;y<a.length;y++){const{name:x,fn:S}=a[y],{x:_,y:T,data:I,reset:C}=await S({x:u,y:h,initialPlacement:r,placement:f,strategy:i,middlewareData:m,rects:c,platform:o,elements:{reference:n,floating:e}});u=_??u,h=T??h,m={...m,[x]:{...m[x],...I}},C&&g<=50&&(g++,typeof C=="object"&&(C.placement&&(f=C.placement),C.rects&&(c=C.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:i}):C.rects),{x:u,y:h}=E4(c,f,l)),y=-1)}return{x:u,y:h,placement:f,strategy:i,middlewareData:m}};async function pO(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=Ja(e,n),g=Z7(m),x=a[f?h==="floating"?"reference":"floating":h],S=Hw(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(x)))==null||t?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),_=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),I=await(s.isElement==null?void 0:s.isElement(T))?await(s.getScale==null?void 0:s.getScale(T))||{x:1,y:1}:{x:1,y:1},C=Hw(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:T,strategy:l}):_);return{top:(S.top-C.top+g.top)/I.y,bottom:(C.bottom-S.bottom+g.bottom)/I.y,left:(S.left-C.left+g.left)/I.x,right:(C.right-S.right+g.right)/I.x}}const XPe=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Ja(n,e)||{};if(c==null)return{};const h=Z7(u),f={x:t,y:r},m=$I(i),g=II(m),y=await o.getDimensions(c),x=m==="y",S=x?"top":"left",_=x?"bottom":"right",T=x?"clientHeight":"clientWidth",I=s.reference[g]+s.reference[m]-f[m]-s.floating[g],C=f[m]-s.reference[m],Q=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let O=Q?Q[T]:0;(!O||!await(o.isElement==null?void 0:o.isElement(Q)))&&(O=a.floating[T]||s.floating[g]);const w=I/2-C/2,k=O/2-y[g]/2-1,R=Qc(h[S],k),P=Qc(h[_],k),v=R,A=O-y[g]-P,j=O/2-y[g]/2+w,V=AE(v,j,A),U=!l.arrow&&Ff(i)!=null&&j!==V&&s.reference[g]/2-(j<v?R:P)-y[g]/2<0,W=U?j<v?j-v:j-A:0;return{[m]:f[m]+W,data:{[m]:V,centerOffset:j-V-W,...U&&{alignmentOffset:W}},reset:U}}}),GPe=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:y=!0,...x}=Ja(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const S=el(i),_=Ic(a),T=el(a)===a,I=await(l.isRTL==null?void 0:l.isRTL(c.floating)),C=f||(T||!y?[Yw(a)]:qPe(a)),Q=g!=="none";!f&&Q&&C.push(...FPe(a,y,g,I));const O=[a,...C],w=await pO(e,x),k=[];let R=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&k.push(w[S]),h){const j=zPe(i,o,I);k.push(w[j[0]],w[j[1]])}if(R=[...R,{placement:i,overflows:k}],!k.every(j=>j<=0)){var P,v;const j=(((P=s.flip)==null?void 0:P.index)||0)+1,V=O[j];if(V)return{data:{index:j,overflows:R},reset:{placement:V}};let U=(v=R.filter(W=>W.overflows[0]<=0).sort((W,D)=>W.overflows[1]-D.overflows[1])[0])==null?void 0:v.placement;if(!U)switch(m){case"bestFit":{var A;const W=(A=R.filter(D=>{if(Q){const L=Ic(D.placement);return L===_||L==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(L=>L>0).reduce((L,Y)=>L+Y,0)]).sort((D,L)=>D[1]-L[1])[0])==null?void 0:A[0];W&&(U=W);break}case"initialPlacement":U=a;break}if(i!==U)return{reset:{placement:U}}}return{}}}};function A4(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function R4(n){return VPe.some(e=>n[e]>=0)}const YPe=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=Ja(n,e);switch(r){case"referenceHidden":{const s=await pO(e,{...i,elementContext:"reference"}),o=A4(s,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:R4(o)}}}case"escaped":{const s=await pO(e,{...i,altBoundary:!0}),o=A4(s,t.floating);return{data:{escapedOffsets:o,escaped:R4(o)}}}default:return{}}}}};async function HPe(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=el(t),a=Ff(t),l=Ic(t)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,h=Ja(e,n);let{mainAxis:f,crossAxis:m,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof g=="number"&&(m=a==="end"?g*-1:g),l?{x:m*u,y:f*c}:{x:f*c,y:m*u}}const KPe=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await HPe(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},JPe=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:S,y:_}=x;return{x:S,y:_}}},...l}=Ja(n,e),c={x:t,y:r},u=await pO(e,l),h=Ic(el(i)),f=QI(h);let m=c[f],g=c[h];if(s){const x=f==="y"?"top":"left",S=f==="y"?"bottom":"right",_=m+u[x],T=m-u[S];m=AE(_,m,T)}if(o){const x=h==="y"?"top":"left",S=h==="y"?"bottom":"right",_=g+u[x],T=g-u[S];g=AE(_,g,T)}const y=a.fn({...e,[f]:m,[h]:g});return{...y,data:{x:y.x-t,y:y.y-r,enabled:{[f]:s,[h]:o}}}}}},eCe=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Ja(n,e),u={x:t,y:r},h=Ic(i),f=QI(h);let m=u[f],g=u[h];const y=Ja(a,e),x=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const T=f==="y"?"height":"width",I=s.reference[f]-s.floating[T]+x.mainAxis,C=s.reference[f]+s.reference[T]-x.mainAxis;m<I?m=I:m>C&&(m=C)}if(c){var S,_;const T=f==="y"?"width":"height",I=["top","left"].includes(el(i)),C=s.reference[h]-s.floating[T]+(I&&((S=o.offset)==null?void 0:S[h])||0)+(I?0:x.crossAxis),Q=s.reference[h]+s.reference[T]+(I?0:((_=o.offset)==null?void 0:_[h])||0)-(I?x.crossAxis:0);g<C?g=C:g>Q&&(g=Q)}return{[f]:m,[h]:g}}}},tCe=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Ja(n,e),u=await pO(e,c),h=el(i),f=Ff(i),m=Ic(i)==="y",{width:g,height:y}=s.floating;let x,S;h==="top"||h==="bottom"?(x=h,S=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(S=h,x=f==="end"?"top":"bottom");const _=y-u.top-u.bottom,T=g-u.left-u.right,I=Qc(y-u[x],_),C=Qc(g-u[S],T),Q=!e.middlewareData.shift;let O=I,w=C;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(w=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(O=_),Q&&!f){const R=_i(u.left,0),P=_i(u.right,0),v=_i(u.top,0),A=_i(u.bottom,0);m?w=g-2*(R!==0||P!==0?R+P:_i(u.left,u.right)):O=y-2*(v!==0||A!==0?v+A:_i(u.top,u.bottom))}await l({...e,availableWidth:w,availableHeight:O});const k=await o.getDimensions(a.floating);return g!==k.width||y!==k.height?{reset:{rects:!0}}:{}}}};function kS(){return typeof window<"u"}function Bf(n){return F7(n)?(n.nodeName||"").toLowerCase():"#document"}function Li(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function na(n){var e;return(e=(F7(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function F7(n){return kS()?n instanceof Node||n instanceof Li(n).Node:!1}function zs(n){return kS()?n instanceof Element||n instanceof Li(n).Element:!1}function Go(n){return kS()?n instanceof HTMLElement||n instanceof Li(n).HTMLElement:!1}function Q4(n){return!kS()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Li(n).ShadowRoot}function sy(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=qs(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function nCe(n){return["table","td","th"].includes(Bf(n))}function _S(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function NI(n){const e=jI(),t=zs(n)?qs(n):n;return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function rCe(n){let e=$c(n);for(;Go(e)&&!kf(e);){if(NI(e))return e;if(_S(e))return null;e=$c(e)}return null}function jI(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function kf(n){return["html","body","#document"].includes(Bf(n))}function qs(n){return Li(n).getComputedStyle(n)}function TS(n){return zs(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function $c(n){if(Bf(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Q4(n)&&n.host||na(n);return Q4(e)?e.host:e}function B7(n){const e=$c(n);return kf(e)?n.ownerDocument?n.ownerDocument.body:n.body:Go(e)&&sy(e)?e:B7(e)}function mO(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=B7(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),o=Li(i);if(s){const a=QE(o);return e.concat(o,o.visualViewport||[],sy(i)?i:[],a&&t?mO(a):[])}return e.concat(i,mO(i,[],t))}function QE(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function W7(n){const e=qs(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Go(n),s=i?n.offsetWidth:t,o=i?n.offsetHeight:r,a=Gw(t)!==s||Gw(r)!==o;return a&&(t=s,r=o),{width:t,height:r,$:a}}function DI(n){return zs(n)?n:n.contextElement}function wd(n){const e=DI(n);if(!Go(e))return Io(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=W7(e);let o=(s?Gw(t.width):t.width)/r,a=(s?Gw(t.height):t.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const iCe=Io(0);function X7(n){const e=Li(n);return!jI()||!e.visualViewport?iCe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function sCe(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Li(n)?!1:e}function Ju(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=DI(n);let o=Io(1);e&&(r?zs(r)&&(o=wd(r)):o=wd(n));const a=sCe(s,t,r)?X7(s):Io(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,h=i.height/o.y;if(s){const f=Li(s),m=r&&zs(r)?Li(r):r;let g=f,y=QE(g);for(;y&&r&&m!==g;){const x=wd(y),S=y.getBoundingClientRect(),_=qs(y),T=S.left+(y.clientLeft+parseFloat(_.paddingLeft))*x.x,I=S.top+(y.clientTop+parseFloat(_.paddingTop))*x.y;l*=x.x,c*=x.y,u*=x.x,h*=x.y,l+=T,c+=I,g=Li(y),y=QE(g)}}return Hw({width:u,height:h,x:l,y:c})}function MI(n,e){const t=TS(n).scrollLeft;return e?e.left+t:Ju(na(n)).left+t}function G7(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=r.left+e.scrollLeft-(t?0:MI(n,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function oCe(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i==="fixed",o=na(r),a=e?_S(e.floating):!1;if(r===o||a&&s)return t;let l={scrollLeft:0,scrollTop:0},c=Io(1);const u=Io(0),h=Go(r);if((h||!h&&!s)&&((Bf(r)!=="body"||sy(o))&&(l=TS(r)),Go(r))){const m=Ju(r);c=wd(r),u.x=m.x+r.clientLeft,u.y=m.y+r.clientTop}const f=o&&!h&&!s?G7(o,l,!0):Io(0);return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:t.y*c.y-l.scrollTop*c.y+u.y+f.y}}function aCe(n){return Array.from(n.getClientRects())}function lCe(n){const e=na(n),t=TS(n),r=n.ownerDocument.body,i=_i(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=_i(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+MI(n);const a=-t.scrollTop;return qs(r).direction==="rtl"&&(o+=_i(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function cCe(n,e){const t=Li(n),r=na(n),i=t.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=jI();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function uCe(n,e){const t=Ju(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=Go(n)?wd(n):Io(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function I4(n,e,t){let r;if(e==="viewport")r=cCe(n,t);else if(e==="document")r=lCe(na(n));else if(zs(e))r=uCe(e,t);else{const i=X7(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Hw(r)}function Y7(n,e){const t=$c(n);return t===e||!zs(t)||kf(t)?!1:qs(t).position==="fixed"||Y7(t,e)}function hCe(n,e){const t=e.get(n);if(t)return t;let r=mO(n,[],!1).filter(a=>zs(a)&&Bf(a)!=="body"),i=null;const s=qs(n).position==="fixed";let o=s?$c(n):n;for(;zs(o)&&!kf(o);){const a=qs(o),l=NI(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||sy(o)&&!l&&Y7(n,o))?r=r.filter(u=>u!==o):i=a,o=$c(o)}return e.set(n,r),r}function dCe(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const o=[...t==="clippingAncestors"?_S(e)?[]:hCe(e,this._c):[].concat(t),r],a=o[0],l=o.reduce((c,u)=>{const h=I4(e,u,i);return c.top=_i(h.top,c.top),c.right=Qc(h.right,c.right),c.bottom=Qc(h.bottom,c.bottom),c.left=_i(h.left,c.left),c},I4(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function fCe(n){const{width:e,height:t}=W7(n);return{width:e,height:t}}function pCe(n,e,t){const r=Go(e),i=na(e),s=t==="fixed",o=Ju(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Io(0);if(r||!r&&!s)if((Bf(e)!=="body"||sy(i))&&(a=TS(e)),r){const f=Ju(e,!0,s,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else i&&(l.x=MI(i));const c=i&&!r&&!s?G7(i,a):Io(0),u=o.left+a.scrollLeft-l.x-c.x,h=o.top+a.scrollTop-l.y-c.y;return{x:u,y:h,width:o.width,height:o.height}}function S_(n){return qs(n).position==="static"}function $4(n,e){if(!Go(n)||qs(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return na(n)===t&&(t=t.ownerDocument.body),t}function H7(n,e){const t=Li(n);if(_S(n))return t;if(!Go(n)){let i=$c(n);for(;i&&!kf(i);){if(zs(i)&&!S_(i))return i;i=$c(i)}return t}let r=$4(n,e);for(;r&&nCe(r)&&S_(r);)r=$4(r,e);return r&&kf(r)&&S_(r)&&!NI(r)?t:r||rCe(n)||t}const mCe=async function(n){const e=this.getOffsetParent||H7,t=this.getDimensions,r=await t(n.floating);return{reference:pCe(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function gCe(n){return qs(n).direction==="rtl"}const OCe={convertOffsetParentRelativeRectToViewportRelativeRect:oCe,getDocumentElement:na,getClippingRect:dCe,getOffsetParent:H7,getElementRects:mCe,getClientRects:aCe,getDimensions:fCe,getScale:wd,isElement:zs,isRTL:gCe};function yCe(n,e){let t=null,r;const i=na(n);function s(){var a;clearTimeout(r),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:u,width:h,height:f}=n.getBoundingClientRect();if(a||e(),!h||!f)return;const m=V0(u),g=V0(i.clientWidth-(c+h)),y=V0(i.clientHeight-(u+f)),x=V0(c),_={rootMargin:-m+"px "+-g+"px "+-y+"px "+-x+"px",threshold:_i(0,Qc(1,l))||1};let T=!0;function I(C){const Q=C[0].intersectionRatio;if(Q!==l){if(!T)return o();Q?o(!1,Q):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T=!1}try{t=new IntersectionObserver(I,{..._,root:i.ownerDocument})}catch{t=new IntersectionObserver(I,_)}t.observe(n)}return o(!0),s}function vCe(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=DI(n),u=i||s?[...c?mO(c):[],...mO(e)]:[];u.forEach(S=>{i&&S.addEventListener("scroll",t,{passive:!0}),s&&S.addEventListener("resize",t)});const h=c&&a?yCe(c,t):null;let f=-1,m=null;o&&(m=new ResizeObserver(S=>{let[_]=S;_&&_.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var T;(T=m)==null||T.observe(e)})),t()}),c&&!l&&m.observe(c),m.observe(e));let g,y=l?Ju(n):null;l&&x();function x(){const S=Ju(n);y&&(S.x!==y.x||S.y!==y.y||S.width!==y.width||S.height!==y.height)&&t(),y=S,g=requestAnimationFrame(x)}return t(),()=>{var S;u.forEach(_=>{i&&_.removeEventListener("scroll",t),s&&_.removeEventListener("resize",t)}),h==null||h(),(S=m)==null||S.disconnect(),m=null,l&&cancelAnimationFrame(g)}}const xCe=KPe,wCe=JPe,bCe=GPe,SCe=tCe,kCe=YPe,N4=XPe,_Ce=eCe,TCe=(n,e,t)=>{const r=new Map,i={platform:OCe,...t},s={...i.platform,_c:r};return WPe(n,e,{...i,platform:s})};var Kv=typeof document<"u"?b.useLayoutEffect:b.useEffect;function Kw(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Kw(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!Kw(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function K7(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function j4(n,e){const t=K7(n);return Math.round(e*t)/t}function k_(n){const e=b.useRef(n);return Kv(()=>{e.current=n}),e}function PCe(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=n,[u,h]=b.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[f,m]=b.useState(r);Kw(f,r)||m(r);const[g,y]=b.useState(null),[x,S]=b.useState(null),_=b.useCallback(D=>{D!==Q.current&&(Q.current=D,y(D))},[]),T=b.useCallback(D=>{D!==O.current&&(O.current=D,S(D))},[]),I=s||g,C=o||x,Q=b.useRef(null),O=b.useRef(null),w=b.useRef(u),k=l!=null,R=k_(l),P=k_(i),v=k_(c),A=b.useCallback(()=>{if(!Q.current||!O.current)return;const D={placement:e,strategy:t,middleware:f};P.current&&(D.platform=P.current),TCe(Q.current,O.current,D).then(L=>{const Y={...L,isPositioned:v.current!==!1};j.current&&!Kw(w.current,Y)&&(w.current=Y,ih.flushSync(()=>{h(Y)}))})},[f,e,t,P,v]);Kv(()=>{c===!1&&w.current.isPositioned&&(w.current.isPositioned=!1,h(D=>({...D,isPositioned:!1})))},[c]);const j=b.useRef(!1);Kv(()=>(j.current=!0,()=>{j.current=!1}),[]),Kv(()=>{if(I&&(Q.current=I),C&&(O.current=C),I&&C){if(R.current)return R.current(I,C,A);A()}},[I,C,A,R,k]);const V=b.useMemo(()=>({reference:Q,floating:O,setReference:_,setFloating:T}),[_,T]),U=b.useMemo(()=>({reference:I,floating:C}),[I,C]),W=b.useMemo(()=>{const D={position:t,left:0,top:0};if(!U.floating)return D;const L=j4(U.floating,u.x),Y=j4(U.floating,u.y);return a?{...D,transform:"translate("+L+"px, "+Y+"px)",...K7(U.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:L,top:Y}},[t,a,U.floating,u.x,u.y]);return b.useMemo(()=>({...u,update:A,refs:V,elements:U,floatingStyles:W}),[u,A,V,U,W])}const CCe=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?N4({element:r.current,padding:i}).fn(t):{}:r?N4({element:r,padding:i}).fn(t):{}}}},ECe=(n,e)=>({...xCe(n),options:[n,e]}),ACe=(n,e)=>({...wCe(n),options:[n,e]}),RCe=(n,e)=>({..._Ce(n),options:[n,e]}),QCe=(n,e)=>({...bCe(n),options:[n,e]}),ICe=(n,e)=>({...SCe(n),options:[n,e]}),$Ce=(n,e)=>({...kCe(n),options:[n,e]}),NCe=(n,e)=>({...CCe(n),options:[n,e]});var jCe="Arrow",J7=b.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...s}=n;return d.jsx(Ae.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});J7.displayName=jCe;var DCe=J7;function MCe(n,e=[]){let t=[];function r(s,o){const a=b.createContext(o),l=t.length;t=[...t,o];function c(h){const{scope:f,children:m,...g}=h,y=(f==null?void 0:f[n][l])||a,x=b.useMemo(()=>g,Object.values(g));return d.jsx(y.Provider,{value:x,children:m})}function u(h,f){const m=(f==null?void 0:f[n][l])||a,g=b.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,u]}const i=()=>{const s=t.map(o=>b.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return b.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return i.scopeName=n,[r,VCe(i,...e)]}function VCe(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function VI(n){const[e,t]=b.useState(void 0);return Fn(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=n.offsetWidth,a=n.offsetHeight;t({width:o,height:a})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var LI="Popper",[e8,PS]=MCe(LI),[LCe,t8]=e8(LI),n8=n=>{const{__scopePopper:e,children:t}=n,[r,i]=b.useState(null);return d.jsx(LCe,{scope:e,anchor:r,onAnchorChange:i,children:t})};n8.displayName=LI;var r8="PopperAnchor",i8=b.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,s=t8(r8,t),o=b.useRef(null),a=Je(e,o);return b.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:d.jsx(Ae.div,{...i,ref:a})});i8.displayName=r8;var UI="PopperContent",[UCe,zCe]=e8(UI),s8=b.forwardRef((n,e)=>{var re,ct,ut,Ce,Ze,Ge;const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:g,...y}=n,x=t8(UI,t),[S,_]=b.useState(null),T=Je(e,Lt=>_(Lt)),[I,C]=b.useState(null),Q=VI(I),O=(Q==null?void 0:Q.width)??0,w=(Q==null?void 0:Q.height)??0,k=r+(s!=="center"?"-"+s:""),R=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},P=Array.isArray(c)?c:[c],v=P.length>0,A={padding:R,boundary:P.filter(ZCe),altBoundary:v},{refs:j,floatingStyles:V,placement:U,isPositioned:W,middlewareData:D}=PCe({strategy:"fixed",placement:k,whileElementsMounted:(...Lt)=>vCe(...Lt,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[ECe({mainAxis:i+w,alignmentAxis:o}),l&&ACe({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?RCe():void 0,...A}),l&&QCe({...A}),ICe({...A,apply:({elements:Lt,rects:kn,availableWidth:Ws,availableHeight:ra})=>{const{width:ol,height:z}=kn.reference,X=Lt.floating.style;X.setProperty("--radix-popper-available-width",`${Ws}px`),X.setProperty("--radix-popper-available-height",`${ra}px`),X.setProperty("--radix-popper-anchor-width",`${ol}px`),X.setProperty("--radix-popper-anchor-height",`${z}px`)}}),I&&NCe({element:I,padding:a}),FCe({arrowWidth:O,arrowHeight:w}),f&&$Ce({strategy:"referenceHidden",...A})]}),[L,Y]=l8(U),F=Yt(g);Fn(()=>{W&&(F==null||F())},[W,F]);const Z=(re=D.arrow)==null?void 0:re.x,G=(ct=D.arrow)==null?void 0:ct.y,J=((ut=D.arrow)==null?void 0:ut.centerOffset)!==0,[ae,oe]=b.useState();return Fn(()=>{S&&oe(window.getComputedStyle(S).zIndex)},[S]),d.jsx("div",{ref:j.setFloating,"data-radix-popper-content-wrapper":"",style:{...V,transform:W?V.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ae,"--radix-popper-transform-origin":[(Ce=D.transformOrigin)==null?void 0:Ce.x,(Ze=D.transformOrigin)==null?void 0:Ze.y].join(" "),...((Ge=D.hide)==null?void 0:Ge.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:d.jsx(UCe,{scope:t,placedSide:L,onArrowChange:C,arrowX:Z,arrowY:G,shouldHideArrow:J,children:d.jsx(Ae.div,{"data-side":L,"data-align":Y,...y,ref:T,style:{...y.style,animation:W?void 0:"none"}})})})});s8.displayName=UI;var o8="PopperArrow",qCe={top:"bottom",right:"left",bottom:"top",left:"right"},a8=b.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,s=zCe(o8,r),o=qCe[s.placedSide];return d.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:d.jsx(DCe,{...i,ref:t,style:{...i.style,display:"block"}})})});a8.displayName=o8;function ZCe(n){return n!==null}var FCe=n=>({name:"transformOrigin",options:n,fn(e){var x,S,_;const{placement:t,rects:r,middlewareData:i}=e,o=((x=i.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:n.arrowWidth,l=o?0:n.arrowHeight,[c,u]=l8(t),h={start:"0%",center:"50%",end:"100%"}[u],f=(((S=i.arrow)==null?void 0:S.x)??0)+a/2,m=(((_=i.arrow)==null?void 0:_.y)??0)+l/2;let g="",y="";return c==="bottom"?(g=o?h:`${f}px`,y=`${-l}px`):c==="top"?(g=o?h:`${f}px`,y=`${r.floating.height+l}px`):c==="right"?(g=`${-l}px`,y=o?h:`${m}px`):c==="left"&&(g=`${r.floating.width+l}px`,y=o?h:`${m}px`),{data:{x:g,y}}}});function l8(n){const[e,t="center"]=n.split("-");return[e,t]}var c8=n8,u8=i8,h8=s8,d8=a8;function zI(n){const e=b.useRef({value:n,previous:n});return b.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var BCe=[" ","Enter","ArrowUp","ArrowDown"],WCe=[" ","Enter"],oy="Select",[CS,ES,XCe]=ZO(oy),[Wf,u$e]=Ho(oy,[XCe,PS]),AS=PS(),[GCe,Bc]=Wf(oy),[YCe,HCe]=Wf(oy),f8=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:h,disabled:f,required:m,form:g}=n,y=AS(e),[x,S]=b.useState(null),[_,T]=b.useState(null),[I,C]=b.useState(!1),Q=Lf(c),[O=!1,w]=Ba({prop:r,defaultProp:i,onChange:s}),[k,R]=Ba({prop:o,defaultProp:a,onChange:l}),P=b.useRef(null),v=x?g||!!x.closest("form"):!0,[A,j]=b.useState(new Set),V=Array.from(A).map(U=>U.props.value).join(";");return d.jsx(c8,{...y,children:d.jsxs(GCe,{required:m,scope:e,trigger:x,onTriggerChange:S,valueNode:_,onValueNodeChange:T,valueNodeHasChildren:I,onValueNodeHasChildrenChange:C,contentId:_o(),value:k,onValueChange:R,open:O,onOpenChange:w,dir:Q,triggerPointerDownPosRef:P,disabled:f,children:[d.jsx(CS.Provider,{scope:e,children:d.jsx(YCe,{scope:n.__scopeSelect,onNativeOptionAdd:b.useCallback(U=>{j(W=>new Set(W).add(U))},[]),onNativeOptionRemove:b.useCallback(U=>{j(W=>{const D=new Set(W);return D.delete(U),D})},[]),children:t})}),v?d.jsxs(M8,{"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:h,value:k,onChange:U=>R(U.target.value),disabled:f,form:g,children:[k===void 0?d.jsx("option",{value:""}):null,Array.from(A)]},V):null]})})};f8.displayName=oy;var p8="SelectTrigger",m8=b.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...i}=n,s=AS(t),o=Bc(p8,t),a=o.disabled||r,l=Je(e,o.onTriggerChange),c=ES(t),u=b.useRef("touch"),[h,f,m]=V8(y=>{const x=c().filter(T=>!T.disabled),S=x.find(T=>T.value===o.value),_=L8(x,y,S);_!==void 0&&o.onValueChange(_.value)}),g=y=>{a||(o.onOpenChange(!0),m()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return d.jsx(u8,{asChild:!0,...s,children:d.jsx(Ae.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":D8(o.value)?"":void 0,...i,ref:l,onClick:he(i.onClick,y=>{y.currentTarget.focus(),u.current!=="mouse"&&g(y)}),onPointerDown:he(i.onPointerDown,y=>{u.current=y.pointerType;const x=y.target;x.hasPointerCapture(y.pointerId)&&x.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(g(y),y.preventDefault())}),onKeyDown:he(i.onKeyDown,y=>{const x=h.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&f(y.key),!(x&&y.key===" ")&&BCe.includes(y.key)&&(g(),y.preventDefault())})})})});m8.displayName=p8;var g8="SelectValue",O8=b.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,children:s,placeholder:o="",...a}=n,l=Bc(g8,t),{onValueNodeHasChildrenChange:c}=l,u=s!==void 0,h=Je(e,l.onValueNodeChange);return Fn(()=>{c(u)},[c,u]),d.jsx(Ae.span,{...a,ref:h,style:{pointerEvents:"none"},children:D8(l.value)?d.jsx(d.Fragment,{children:o}):s})});O8.displayName=g8;var KCe="SelectIcon",y8=b.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...i}=n;return d.jsx(Ae.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});y8.displayName=KCe;var JCe="SelectPortal",v8=n=>d.jsx(BO,{asChild:!0,...n});v8.displayName=JCe;var eh="SelectContent",x8=b.forwardRef((n,e)=>{const t=Bc(eh,n.__scopeSelect),[r,i]=b.useState();if(Fn(()=>{i(new DocumentFragment)},[]),!t.open){const s=r;return s?ih.createPortal(d.jsx(w8,{scope:n.__scopeSelect,children:d.jsx(CS.Slot,{scope:n.__scopeSelect,children:d.jsx("div",{children:n.children})})}),s):null}return d.jsx(b8,{...n,ref:e})});x8.displayName=eh;var ys=10,[w8,Wc]=Wf(eh),eEe="SelectContentImpl",b8=b.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:g,hideWhenDetached:y,avoidCollisions:x,...S}=n,_=Bc(eh,t),[T,I]=b.useState(null),[C,Q]=b.useState(null),O=Je(e,re=>I(re)),[w,k]=b.useState(null),[R,P]=b.useState(null),v=ES(t),[A,j]=b.useState(!1),V=b.useRef(!1);b.useEffect(()=>{if(T)return pQ(T)},[T]),fQ();const U=b.useCallback(re=>{const[ct,...ut]=v().map(Ge=>Ge.ref.current),[Ce]=ut.slice(-1),Ze=document.activeElement;for(const Ge of re)if(Ge===Ze||(Ge==null||Ge.scrollIntoView({block:"nearest"}),Ge===ct&&C&&(C.scrollTop=0),Ge===Ce&&C&&(C.scrollTop=C.scrollHeight),Ge==null||Ge.focus(),document.activeElement!==Ze))return},[v,C]),W=b.useCallback(()=>U([w,T]),[U,w,T]);b.useEffect(()=>{A&&W()},[A,W]);const{onOpenChange:D,triggerPointerDownPosRef:L}=_;b.useEffect(()=>{if(T){let re={x:0,y:0};const ct=Ce=>{var Ze,Ge;re={x:Math.abs(Math.round(Ce.pageX)-(((Ze=L.current)==null?void 0:Ze.x)??0)),y:Math.abs(Math.round(Ce.pageY)-(((Ge=L.current)==null?void 0:Ge.y)??0))}},ut=Ce=>{re.x<=10&&re.y<=10?Ce.preventDefault():T.contains(Ce.target)||D(!1),document.removeEventListener("pointermove",ct),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",ct),document.addEventListener("pointerup",ut,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ct),document.removeEventListener("pointerup",ut,{capture:!0})}}},[T,D,L]),b.useEffect(()=>{const re=()=>D(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[D]);const[Y,F]=V8(re=>{const ct=v().filter(Ze=>!Ze.disabled),ut=ct.find(Ze=>Ze.ref.current===document.activeElement),Ce=L8(ct,re,ut);Ce&&setTimeout(()=>Ce.ref.current.focus())}),Z=b.useCallback((re,ct,ut)=>{const Ce=!V.current&&!ut;(_.value!==void 0&&_.value===ct||Ce)&&(k(re),Ce&&(V.current=!0))},[_.value]),G=b.useCallback(()=>T==null?void 0:T.focus(),[T]),J=b.useCallback((re,ct,ut)=>{const Ce=!V.current&&!ut;(_.value!==void 0&&_.value===ct||Ce)&&P(re)},[_.value]),ae=r==="popper"?IE:S8,oe=ae===IE?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:m,sticky:g,hideWhenDetached:y,avoidCollisions:x}:{};return d.jsx(w8,{scope:t,content:T,viewport:C,onViewportChange:Q,itemRefCallback:Z,selectedItem:w,onItemLeave:G,itemTextRefCallback:J,focusSelectedItem:W,selectedItemText:R,position:r,isPositioned:A,searchRef:Y,children:d.jsx(aS,{as:Fa,allowPinchZoom:!0,children:d.jsx(sS,{asChild:!0,trapped:_.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:he(i,re=>{var ct;(ct=_.trigger)==null||ct.focus({preventScroll:!0}),re.preventDefault()}),children:d.jsx(FO,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:d.jsx(ae,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:re=>re.preventDefault(),...S,...oe,onPlaced:()=>j(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:he(S.onKeyDown,re=>{const ct=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!ct&&re.key.length===1&&F(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let Ce=v().filter(Ze=>!Ze.disabled).map(Ze=>Ze.ref.current);if(["ArrowUp","End"].includes(re.key)&&(Ce=Ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const Ze=re.target,Ge=Ce.indexOf(Ze);Ce=Ce.slice(Ge+1)}setTimeout(()=>U(Ce)),re.preventDefault()}})})})})})})});b8.displayName=eEe;var tEe="SelectItemAlignedPosition",S8=b.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...i}=n,s=Bc(eh,t),o=Wc(eh,t),[a,l]=b.useState(null),[c,u]=b.useState(null),h=Je(e,O=>u(O)),f=ES(t),m=b.useRef(!1),g=b.useRef(!0),{viewport:y,selectedItem:x,selectedItemText:S,focusSelectedItem:_}=o,T=b.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&y&&x&&S){const O=s.trigger.getBoundingClientRect(),w=c.getBoundingClientRect(),k=s.valueNode.getBoundingClientRect(),R=S.getBoundingClientRect();if(s.dir!=="rtl"){const Ze=R.left-w.left,Ge=k.left-Ze,Lt=O.left-Ge,kn=O.width+Lt,Ws=Math.max(kn,w.width),ra=window.innerWidth-ys,ol=gg(Ge,[ys,Math.max(ys,ra-Ws)]);a.style.minWidth=kn+"px",a.style.left=ol+"px"}else{const Ze=w.right-R.right,Ge=window.innerWidth-k.right-Ze,Lt=window.innerWidth-O.right-Ge,kn=O.width+Lt,Ws=Math.max(kn,w.width),ra=window.innerWidth-ys,ol=gg(Ge,[ys,Math.max(ys,ra-Ws)]);a.style.minWidth=kn+"px",a.style.right=ol+"px"}const P=f(),v=window.innerHeight-ys*2,A=y.scrollHeight,j=window.getComputedStyle(c),V=parseInt(j.borderTopWidth,10),U=parseInt(j.paddingTop,10),W=parseInt(j.borderBottomWidth,10),D=parseInt(j.paddingBottom,10),L=V+U+A+D+W,Y=Math.min(x.offsetHeight*5,L),F=window.getComputedStyle(y),Z=parseInt(F.paddingTop,10),G=parseInt(F.paddingBottom,10),J=O.top+O.height/2-ys,ae=v-J,oe=x.offsetHeight/2,re=x.offsetTop+oe,ct=V+U+re,ut=L-ct;if(ct<=J){const Ze=P.length>0&&x===P[P.length-1].ref.current;a.style.bottom="0px";const Ge=c.clientHeight-y.offsetTop-y.offsetHeight,Lt=Math.max(ae,oe+(Ze?G:0)+Ge+W),kn=ct+Lt;a.style.height=kn+"px"}else{const Ze=P.length>0&&x===P[0].ref.current;a.style.top="0px";const Lt=Math.max(J,V+y.offsetTop+(Ze?Z:0)+oe)+ut;a.style.height=Lt+"px",y.scrollTop=ct-J+y.offsetTop}a.style.margin=`${ys}px 0`,a.style.minHeight=Y+"px",a.style.maxHeight=v+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[f,s.trigger,s.valueNode,a,c,y,x,S,s.dir,r]);Fn(()=>T(),[T]);const[I,C]=b.useState();Fn(()=>{c&&C(window.getComputedStyle(c).zIndex)},[c]);const Q=b.useCallback(O=>{O&&g.current===!0&&(T(),_==null||_(),g.current=!1)},[T,_]);return d.jsx(rEe,{scope:t,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:Q,children:d.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I},children:d.jsx(Ae.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});S8.displayName=tEe;var nEe="SelectPopperPosition",IE=b.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:i=ys,...s}=n,o=AS(t);return d.jsx(h8,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});IE.displayName=nEe;var[rEe,qI]=Wf(eh,{}),$E="SelectViewport",k8=b.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...i}=n,s=Wc($E,t),o=qI($E,t),a=Je(e,s.onViewportChange),l=b.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),d.jsx(CS.Slot,{scope:t,children:d.jsx(Ae.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:he(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const m=Math.abs(l.current-u.scrollTop);if(m>0){const g=window.innerHeight-ys*2,y=parseFloat(h.style.minHeight),x=parseFloat(h.style.height),S=Math.max(y,x);if(S<g){const _=S+m,T=Math.min(g,_),I=_-T;h.style.height=T+"px",h.style.bottom==="0px"&&(u.scrollTop=I>0?I:0,h.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});k8.displayName=$E;var _8="SelectGroup",[iEe,sEe]=Wf(_8),oEe=b.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=_o();return d.jsx(iEe,{scope:t,id:i,children:d.jsx(Ae.div,{role:"group","aria-labelledby":i,...r,ref:e})})});oEe.displayName=_8;var T8="SelectLabel",P8=b.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=sEe(T8,t);return d.jsx(Ae.div,{id:i.id,...r,ref:e})});P8.displayName=T8;var Jw="SelectItem",[aEe,C8]=Wf(Jw),E8=b.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:i=!1,textValue:s,...o}=n,a=Bc(Jw,t),l=Wc(Jw,t),c=a.value===r,[u,h]=b.useState(s??""),[f,m]=b.useState(!1),g=Je(e,_=>{var T;return(T=l.itemRefCallback)==null?void 0:T.call(l,_,r,i)}),y=_o(),x=b.useRef("touch"),S=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(aEe,{scope:t,value:r,disabled:i,textId:y,isSelected:c,onItemTextChange:b.useCallback(_=>{h(T=>T||((_==null?void 0:_.textContent)??"").trim())},[]),children:d.jsx(CS.ItemSlot,{scope:t,value:r,disabled:i,textValue:u,children:d.jsx(Ae.div,{role:"option","aria-labelledby":y,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:g,onFocus:he(o.onFocus,()=>m(!0)),onBlur:he(o.onBlur,()=>m(!1)),onClick:he(o.onClick,()=>{x.current!=="mouse"&&S()}),onPointerUp:he(o.onPointerUp,()=>{x.current==="mouse"&&S()}),onPointerDown:he(o.onPointerDown,_=>{x.current=_.pointerType}),onPointerMove:he(o.onPointerMove,_=>{var T;x.current=_.pointerType,i?(T=l.onItemLeave)==null||T.call(l):x.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:he(o.onPointerLeave,_=>{var T;_.currentTarget===document.activeElement&&((T=l.onItemLeave)==null||T.call(l))}),onKeyDown:he(o.onKeyDown,_=>{var I;((I=l.searchRef)==null?void 0:I.current)!==""&&_.key===" "||(WCe.includes(_.key)&&S(),_.key===" "&&_.preventDefault())})})})})});E8.displayName=Jw;var fm="SelectItemText",A8=b.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,...s}=n,o=Bc(fm,t),a=Wc(fm,t),l=C8(fm,t),c=HCe(fm,t),[u,h]=b.useState(null),f=Je(e,S=>h(S),l.onItemTextChange,S=>{var _;return(_=a.itemTextRefCallback)==null?void 0:_.call(a,S,l.value,l.disabled)}),m=u==null?void 0:u.textContent,g=b.useMemo(()=>d.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:y,onNativeOptionRemove:x}=c;return Fn(()=>(y(g),()=>x(g)),[y,x,g]),d.jsxs(d.Fragment,{children:[d.jsx(Ae.span,{id:l.textId,...s,ref:f}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ih.createPortal(s.children,o.valueNode):null]})});A8.displayName=fm;var R8="SelectItemIndicator",Q8=b.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return C8(R8,t).isSelected?d.jsx(Ae.span,{"aria-hidden":!0,...r,ref:e}):null});Q8.displayName=R8;var NE="SelectScrollUpButton",I8=b.forwardRef((n,e)=>{const t=Wc(NE,n.__scopeSelect),r=qI(NE,n.__scopeSelect),[i,s]=b.useState(!1),o=Je(e,r.onScrollButtonChange);return Fn(()=>{if(t.viewport&&t.isPositioned){let a=function(){const c=l.scrollTop>0;s(c)};const l=t.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[t.viewport,t.isPositioned]),i?d.jsx(N8,{...n,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=t;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});I8.displayName=NE;var jE="SelectScrollDownButton",$8=b.forwardRef((n,e)=>{const t=Wc(jE,n.__scopeSelect),r=qI(jE,n.__scopeSelect),[i,s]=b.useState(!1),o=Je(e,r.onScrollButtonChange);return Fn(()=>{if(t.viewport&&t.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;s(u)};const l=t.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[t.viewport,t.isPositioned]),i?d.jsx(N8,{...n,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=t;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});$8.displayName=jE;var N8=b.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...i}=n,s=Wc("SelectScrollButton",t),o=b.useRef(null),a=ES(t),l=b.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return b.useEffect(()=>()=>l(),[l]),Fn(()=>{var u;const c=a().find(h=>h.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),d.jsx(Ae.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:he(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:he(i.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:he(i.onPointerLeave,()=>{l()})})}),lEe="SelectSeparator",j8=b.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return d.jsx(Ae.div,{"aria-hidden":!0,...r,ref:e})});j8.displayName=lEe;var DE="SelectArrow",cEe=b.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=AS(t),s=Bc(DE,t),o=Wc(DE,t);return s.open&&o.position==="popper"?d.jsx(d8,{...i,...r,ref:e}):null});cEe.displayName=DE;function D8(n){return n===""||n===void 0}var M8=b.forwardRef((n,e)=>{const{value:t,...r}=n,i=b.useRef(null),s=Je(e,i),o=zI(t);return b.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==t&&u){const h=new Event("change",{bubbles:!0});u.call(a,t),a.dispatchEvent(h)}},[o,t]),d.jsx(Wb,{asChild:!0,children:d.jsx("select",{...r,ref:s,defaultValue:t})})});M8.displayName="BubbleSelect";function V8(n){const e=Yt(n),t=b.useRef(""),r=b.useRef(0),i=b.useCallback(o=>{const a=t.current+o;e(a),function l(c){t.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),s=b.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,i,s]}function L8(n,e,t){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=t?n.indexOf(t):-1;let o=uEe(n,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==t));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==t?l:void 0}function uEe(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var hEe=f8,U8=m8,dEe=O8,fEe=y8,pEe=v8,z8=x8,mEe=k8,q8=P8,Z8=E8,gEe=A8,OEe=Q8,F8=I8,B8=$8,W8=j8;const ZI=hEe,FI=dEe,RS=b.forwardRef(({className:n,children:e,...t},r)=>d.jsxs(U8,{ref:r,className:Te("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...t,children:[e,d.jsx(fEe,{asChild:!0,children:d.jsx(_n,{className:"h-4 w-4 opacity-50"})})]}));RS.displayName=U8.displayName;const X8=b.forwardRef(({className:n,...e},t)=>d.jsx(F8,{ref:t,className:Te("flex cursor-default items-center justify-center py-1",n),...e,children:d.jsx(Qn,{className:"h-4 w-4"})}));X8.displayName=F8.displayName;const G8=b.forwardRef(({className:n,...e},t)=>d.jsx(B8,{ref:t,className:Te("flex cursor-default items-center justify-center py-1",n),...e,children:d.jsx(_n,{className:"h-4 w-4"})}));G8.displayName=B8.displayName;const QS=b.forwardRef(({className:n,children:e,position:t="popper",...r},i)=>d.jsx(pEe,{children:d.jsxs(z8,{ref:i,className:Te("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...r,children:[d.jsx(X8,{}),d.jsx(mEe,{className:Te("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),d.jsx(G8,{})]})}));QS.displayName=z8.displayName;const yEe=b.forwardRef(({className:n,...e},t)=>d.jsx(q8,{ref:t,className:Te("py-1.5 pl-8 pr-2 text-sm font-semibold",n),...e}));yEe.displayName=q8.displayName;const ac=b.forwardRef(({className:n,children:e,...t},r)=>d.jsxs(Z8,{ref:r,className:Te("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(OEe,{children:d.jsx(Yb,{className:"h-4 w-4"})})}),d.jsx(gEe,{children:e})]}));ac.displayName=Z8.displayName;const vEe=b.forwardRef(({className:n,...e},t)=>d.jsx(W8,{ref:t,className:Te("-mx-1 my-1 h-px bg-muted",n),...e}));vEe.displayName=W8.displayName;const BI={title:lt.string().min(1,"Title is required"),description:lt.string().optional(),tags:lt.array(lt.string()).default([]),projectId:lt.string().optional()},xEe=lt.object({...BI,content:lt.string().min(1,"Content is required"),language:lt.string().default("javascript")}),wEe=lt.object({...BI,content:lt.string().min(1,"Content is required")}),bEe=lt.object({...BI,items:lt.array(lt.object({text:lt.string(),checked:lt.boolean()})).default([{text:"",checked:!1}])});function xa({type:n,trigger:e,onCreated:t}){const[r,i]=b.useState(!1),{user:s}=Sn(),{toast:o}=Wn(),[a,l]=b.useState([{text:"",checked:!1}]),c=Fi(),[u,h]=b.useState([]),[f,m]=b.useState(!1),[g,y]=b.useState("");b.useEffect(()=>{(async()=>{if(s)try{const Q=qe(Ie(se,"projects"),je("userId","==",s.uid)),w=(await Be(Q)).docs.map(k=>({id:k.id,name:k.data().name}));h(w)}catch(Q){console.error("Error fetching projects:",Q)}})()},[s]);const x=nS({resolver:rS(n==="snippet"?xEe:n==="note"?wEe:bEe),defaultValues:{title:"",description:"",content:"",language:"javascript",tags:[],projectId:"uncategorized"}}),S=async()=>{if(!(!s||!g.trim()))try{const C=Date.now(),Q=await qa(Ie(se,"projects"),{name:g.trim(),userId:s.uid,createdAt:C,updatedAt:C}),O={id:Q.id,name:g.trim()};h([...u,O]),x.setValue("projectId",Q.id),y(""),m(!1)}catch(C){console.error("Error creating project:",C),o({variant:"destructive",title:"Error",description:C.message||"Failed to create project. Please try again."})}},_=async C=>{try{if(!s){o({variant:"destructive",title:"Error",description:"You must be logged in to create items"});return}const Q=n==="snippet"?"snippets":n==="note"?"notes":"checklists",O=n==="checklist"?JSON.stringify(a.filter(P=>P.text.trim())):C.content,w={...C};n!=="snippet"&&"language"in w&&delete w.language;const R={id:(await qa(Ie(se,Q),{...w,content:O,userId:s.uid,createdAt:Lu(),updatedAt:Lu()})).id,...w,content:O,userId:s.uid,createdAt:new Date().getTime(),updatedAt:new Date().getTime()};c.setQueryData(["items",s.uid,Q],P=>P?[R,...P]:[R]),c.setQueryData(["folder-items",s.uid,Q],P=>P?[R,...P]:[R]),c.invalidateQueries({queryKey:["items"]}),c.invalidateQueries({queryKey:["folder-items"]}),c.invalidateQueries({queryKey:["project-items",s.uid,C.projectId||""]}),(C.projectId==="uncategorized"||C.projectId===""||!C.projectId)&&(c.invalidateQueries({queryKey:["project-items",s.uid,""]}),c.invalidateQueries({queryKey:["project-items",s.uid,"uncategorized"]})),o({title:"Success",description:`${n} created successfully`}),i(!1),x.reset(),t==null||t()}catch(Q){console.error("Creation error:",Q),o({variant:"destructive",title:"Error",description:Q.message||"Failed to create item. Please try again."})}},T=()=>{l([...a,{text:"",checked:!1}])},I=(C,Q)=>{const O=[...a];O[C].text=Q,l(O)};return d.jsxs(Ia,{open:r,onOpenChange:i,children:[d.jsx(vQ,{asChild:!0,children:e}),d.jsxs(To,{className:"max-w-full h-[90vh] flex flex-col p-0",children:[d.jsxs(Po,{className:"px-6 py-4 border-b",children:[d.jsxs(Co,{children:["Create New ",n.charAt(0).toUpperCase()+n.slice(1)]}),d.jsxs(Eo,{children:["Add a new ",n," to your collection. All fields marked with * are required."]})]}),d.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:d.jsx(Rg,{...x,children:d.jsxs("form",{onSubmit:x.handleSubmit(_),className:"space-y-4 max-w-2xl mx-auto",children:[d.jsx(Yn,{control:x.control,name:"title",render:({field:C})=>d.jsxs(Dn,{children:[d.jsx(gn,{children:"Title *"}),d.jsx(On,{children:d.jsx(It,{...C,placeholder:`Enter ${n} title`})}),d.jsx(Mn,{})]})}),d.jsx(Yn,{control:x.control,name:"description",render:({field:C})=>d.jsxs(Dn,{children:[d.jsx(gn,{children:"Description"}),d.jsx(On,{children:d.jsx(It,{...C,placeholder:"Add a description (optional)"})}),d.jsx(Mn,{})]})}),n==="snippet"&&d.jsx(Yn,{control:x.control,name:"language",render:({field:C})=>d.jsxs(Dn,{children:[d.jsx(gn,{children:"Language *"}),d.jsx(On,{children:d.jsx(It,{...C,placeholder:"javascript"})}),d.jsx(Mn,{})]})}),d.jsx(Yn,{control:x.control,name:"tags",render:({field:C})=>d.jsxs(Dn,{children:[d.jsx(gn,{children:"Tags"}),d.jsx(On,{children:d.jsx(q7,{value:C.value,onChange:C.onChange,placeholder:"Add tags (press Enter or comma to add)"})}),d.jsx(Mn,{})]})}),d.jsx(Yn,{control:x.control,name:"projectId",render:({field:C})=>d.jsxs(Dn,{children:[d.jsx(gn,{children:"Project"}),f?d.jsxs("div",{className:"flex gap-2",children:[d.jsx(On,{children:d.jsx(It,{value:g,onChange:Q=>y(Q.target.value),placeholder:"Enter new project name"})}),d.jsx(ee,{type:"button",variant:"outline",onClick:S,disabled:!g.trim(),children:"Create"}),d.jsx(ee,{type:"button",variant:"ghost",onClick:()=>m(!1),children:"Cancel"})]}):d.jsxs("div",{className:"flex gap-2",children:[d.jsx(On,{children:d.jsxs(ZI,{value:C.value,onValueChange:C.onChange,children:[d.jsx(RS,{className:"w-full",children:d.jsx(FI,{placeholder:"Select a project or leave empty"})}),d.jsxs(QS,{children:[d.jsx(ac,{value:"uncategorized",children:"Uncategorized"}),u.map(Q=>d.jsx(ac,{value:Q.id,children:Q.name},Q.id))]})]})}),d.jsx(ee,{type:"button",variant:"outline",onClick:()=>m(!0),children:"New Project"})]}),d.jsx(Mn,{})]})}),n!=="checklist"?d.jsx(Yn,{control:x.control,name:"content",render:({field:C})=>d.jsxs(Dn,{children:[d.jsx(gn,{children:"Content *"}),d.jsx(On,{children:n==="snippet"?d.jsx("div",{className:"h-[400px] rounded-md border",children:d.jsx(SS,{value:C.value,language:x.getValues("language"),onChange:C.onChange})}):d.jsx(Wu,{...C,placeholder:"Enter your note content",className:"min-h-[200px]"})}),d.jsx(Mn,{})]})}):d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(gn,{children:"Checklist Items *"}),d.jsx(ee,{type:"button",variant:"outline",size:"sm",onClick:T,children:"Add Item"})]}),a.map((C,Q)=>d.jsx("div",{className:"flex items-center gap-2",children:d.jsx(It,{value:C.text,onChange:O=>I(Q,O.target.value),placeholder:"Enter checklist item"})},Q))]})]})})}),d.jsx("div",{className:"bg-background py-4 px-6 border-t",children:d.jsx(ee,{type:"submit",className:"w-full",onClick:x.handleSubmit(_),children:"Create"})})]})]})}function __({type:n,userId:e}){const{data:t,isLoading:r,error:i}=Nu({queryKey:["folder-items",e,n],queryFn:async()=>{if(!e)return[];try{console.log(`Fetching ${n} for user:`,e);try{const o=qe(Ie(se,n),je("userId","==",e),Vx("updatedAt","desc")),a=await Be(o);console.log(`${n} query snapshot:`,a.size,"documents");const l=a.docs.map(c=>({id:c.id,...c.data()}));return console.log(`${n} processed results:`,l),l}catch(o){if(o.message&&o.message.includes("index")){console.warn(`Index error for ${n}, falling back to simpler query:`,o.message);const a=qe(Ie(se,n),je("userId","==",e),Wp(10)),c=(await Be(a)).docs.map(u=>({id:u.id,...u.data()}));return console.log(`${n} fallback results:`,c),c}else throw o}}catch(o){throw console.error(`Error fetching ${n}:`,o),o}},enabled:!!e,staleTime:6e4,retry:2});if(i&&console.error(`Error in FolderContent (${n}):`,i),r)return d.jsxs("div",{className:"pl-6 py-1",children:[d.jsx("div",{className:"h-4 w-3/4 bg-muted animate-pulse rounded my-1"}),d.jsx("div",{className:"h-4 w-1/2 bg-muted animate-pulse rounded my-1"})]});const s=Array.isArray(t)?t:[];return console.log(`FolderContent ${n} items:`,s,"userId:",e),s.length===0?d.jsx("div",{className:"pl-6 py-1 text-xs text-muted-foreground",children:"No items found"}):d.jsxs("div",{className:"pl-6 py-1",children:[s.slice(0,5).map(o=>d.jsx(Jt,{href:`/${n}/${o.id}`,children:d.jsx(ee,{variant:"ghost",className:"w-full justify-start h-auto py-1 px-2 text-xs",children:o.title||"Untitled"})},o.id)),s.length>5&&d.jsxs("div",{className:"text-xs text-muted-foreground pl-2 pt-1",children:["+",s.length-5," more items"]})]})}function ua({projectId:n,type:e,userId:t}){const r=n===""||n==="uncategorized",{data:i,isLoading:s,error:o}=Nu({queryKey:["project-items",t,n,e],queryFn:async()=>{if(!t)return console.log(`No userId provided for ${e} in project ${n}`),[];try{console.log(`Fetching ${e} for project ${n} and user ${t}`);try{let l;r?l=qe(Ie(se,e),je("userId","==",t),je("projectId","in",[null,"","uncategorized"]),Vx("updatedAt","desc")):l=qe(Ie(se,e),je("userId","==",t),je("projectId","==",n),Vx("updatedAt","desc"));const c=await Be(l);console.log(`${e} query snapshot for project ${n}:`,c.size,"documents");const u=c.docs.map(h=>{const f=h.data();return{id:h.id,...f}});return console.log(`${e} results for project ${n}:`,u),u}catch(l){if(l.message&&l.message.includes("index")){console.warn(`Index error for ${e} in project ${n}, falling back to simpler query:`,l.message);let c;if(r){c=qe(Ie(se,e),je("userId","==",t),je("projectId","==",""),Wp(10));let h=(await Be(c)).docs.map(y=>({id:y.id,...y.data()}));const f=qe(Ie(se,e),je("userId","==",t),je("projectId","==","uncategorized"),Wp(10)),m=await Be(f);h=[...h,...m.docs.map(y=>({id:y.id,...y.data()}))];const g=qe(Ie(se,e),je("userId","==",t),je("projectId","==",null),Wp(10));try{const y=await Be(g);h=[...h,...y.docs.map(x=>({id:x.id,...x.data()}))]}catch(y){console.warn("Error querying for null projectId:",y)}return console.log(`${e} fallback results for uncategorized:`,h),h}else{c=qe(Ie(se,e),je("userId","==",t),je("projectId","==",n),Wp(10));const h=(await Be(c)).docs.map(f=>({id:f.id,...f.data()}));return console.log(`${e} fallback results for project ${n}:`,h),h}}else throw l}}catch(l){throw console.error(`Error fetching ${e} for project ${n}:`,l),l}},enabled:!!t&&(!!n||r),staleTime:5e3,refetchOnMount:!0,refetchOnWindowFocus:!0,retry:2});if(o&&console.error(`Error in ProjectContent (${e}):`,o),s)return d.jsxs("div",{className:"pl-6 py-1",children:[d.jsx("div",{className:"h-4 w-3/4 bg-muted animate-pulse rounded my-1"}),d.jsx("div",{className:"h-4 w-1/2 bg-muted animate-pulse rounded my-1"})]});const a=Array.isArray(i)?i:[];return a.length===0?d.jsx("div",{className:"pl-6 py-1 text-xs text-muted-foreground",children:"No items found"}):d.jsxs("div",{className:"pl-6 py-1",children:[a.slice(0,5).map(l=>d.jsx(Jt,{href:`/${e}/${l.id}`,children:d.jsx(ee,{variant:"ghost",className:"w-full justify-start h-auto py-1 px-2 text-xs",children:l.title||"Untitled"})},l.id)),a.length>5&&d.jsxs("div",{className:"text-xs text-muted-foreground pl-2 pt-1",children:["+",a.length-5," more items"]})]})}function SEe(){const[n]=Bi(),{user:e}=Sn(),t=Fi(),[r,i]=b.useState(!1),[s,o]=b.useState(""),[a,l]=b.useState(!0),[c,u]=b.useState({snippets:!0,notes:!0,checklists:!0}),[h,f]=b.useState(!0),[m,g]=b.useState(!0),[y,x]=b.useState({}),[S,_]=b.useState(!1),[T,I]=b.useState(""),[C,Q]=b.useState(!0),[O,w]=b.useState({snippets:!0,notes:!0,checklists:!0}),[k,R]=b.useState(!1),[P,v]=b.useState({projects:[],tags:[],snippets:[],notes:[],checklists:[]}),A=async()=>{if(!e||!s.trim()){v({projects:[],tags:[],snippets:[],notes:[],checklists:[]});return}const D=s.toLowerCase();try{const L=(j==null?void 0:j.filter(Ce=>Ce.name.toLowerCase().includes(D)))||[],Y=(U==null?void 0:U.filter(Ce=>Ce.toLowerCase().includes(D)))||[],F=qe(Ie(se,"snippets"),je("userId","==",e.uid)),G=(await Be(F)).docs.map(Ce=>({id:Ce.id,...Ce.data()})).filter(Ce=>{var Ze,Ge,Lt;return((Ze=Ce.title)==null?void 0:Ze.toLowerCase().includes(D))||((Ge=Ce.content)==null?void 0:Ge.toLowerCase().includes(D))||((Lt=Ce.language)==null?void 0:Lt.toLowerCase().includes(D))}),J=qe(Ie(se,"notes"),je("userId","==",e.uid)),oe=(await Be(J)).docs.map(Ce=>({id:Ce.id,...Ce.data()})).filter(Ce=>{var Ze,Ge;return((Ze=Ce.title)==null?void 0:Ze.toLowerCase().includes(D))||((Ge=Ce.content)==null?void 0:Ge.toLowerCase().includes(D))}),re=qe(Ie(se,"checklists"),je("userId","==",e.uid)),ut=(await Be(re)).docs.map(Ce=>({id:Ce.id,...Ce.data()})).filter(Ce=>{var Ze,Ge;return((Ze=Ce.title)==null?void 0:Ze.toLowerCase().includes(D))||((Ge=Ce.items)==null?void 0:Ge.some(Lt=>{var kn;return(kn=Lt.text)==null?void 0:kn.toLowerCase().includes(D)}))});v({projects:L,tags:Y,snippets:G,notes:oe,checklists:ut}),L.length>0&&g(!0),Y.length>0&&f(!0),(G.length>0||oe.length>0||ut.length>0)&&(l(!0),G.length>0&&u(Ce=>({...Ce,snippets:!0})),oe.length>0&&u(Ce=>({...Ce,notes:!0})),ut.length>0&&u(Ce=>({...Ce,checklists:!0})))}catch(L){console.error("Error searching items:",L)}};b.useEffect(()=>{const D=setTimeout(()=>{A()},300);return()=>clearTimeout(D)},[s,e]);const{data:j,isLoading:V}=Nu({queryKey:["projects",e==null?void 0:e.uid],queryFn:async()=>{if(!e)return[];try{const D=qe(Ie(se,"projects"),je("userId","==",e.uid));return(await Be(D)).docs.map(F=>({id:F.id,name:F.data().name}))}catch(D){return console.error("Error fetching projects:",D),[]}},enabled:!!e}),{data:U,isLoading:W}=Nu({queryKey:["tags",e==null?void 0:e.uid],queryFn:async()=>{if(!e)return[];const D=new Set,L=qe(Ie(se,"snippets"),je("userId","==",e.uid));(await Be(L)).docs.forEach(ae=>{const oe=ae.data();oe.tags&&Array.isArray(oe.tags)&&oe.tags.forEach(re=>D.add(re))});const F=qe(Ie(se,"notes"),je("userId","==",e.uid));(await Be(F)).docs.forEach(ae=>{const oe=ae.data();oe.tags&&Array.isArray(oe.tags)&&oe.tags.forEach(re=>D.add(re))});const G=qe(Ie(se,"checklists"),je("userId","==",e.uid));return(await Be(G)).docs.forEach(ae=>{const oe=ae.data();oe.tags&&Array.isArray(oe.tags)&&oe.tags.forEach(re=>D.add(re))}),Array.from(D).sort()},enabled:!!e});return b.useEffect(()=>{(async()=>{if(e)try{const L=await Oi(We(se,"users",e.uid));if(L.exists()){const Y=L.data();R(!!Y.isAdmin)}}catch(L){console.error("Error checking admin status:",L)}})()},[e]),e?d.jsx("div",{className:`border-r ${r?"w-16":"w-64"} transition-all duration-200`,children:d.jsxs("div",{className:"flex h-full flex-col",children:[d.jsxs("div",{className:"p-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[!r&&d.jsx("h2",{className:"text-lg font-semibold",children:"Code Snippets"}),d.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>i(!r),children:r?d.jsx(eF,{}):d.jsx(il,{})})]}),!r&&d.jsxs("div",{className:"mt-4 space-y-4",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(It,{placeholder:"Search snippets, notes, tags...",className:"h-9",value:s,onChange:D=>o(D.target.value)}),d.jsx(ee,{size:"icon",variant:"ghost",onClick:A,children:d.jsx(JR,{className:"h-4 w-4"})})]}),d.jsx("div",{className:"space-y-1",children:S?d.jsxs("div",{className:"flex gap-2",children:[d.jsx(It,{value:T,onChange:D=>I(D.target.value),placeholder:"Project name",className:"h-9"}),d.jsx(ee,{size:"sm",onClick:async()=>{if(!(!e||!T.trim()))try{const D=Date.now(),Y={id:(await qa(Ie(se,"projects"),{name:T.trim(),userId:e.uid,createdAt:D,updatedAt:D})).id,name:T.trim(),userId:e.uid,createdAt:D,updatedAt:D};t.setQueryData(["projects",e.uid],F=>F?[...F,Y]:[Y]),t.invalidateQueries({queryKey:["projects"]}),I(""),_(!1)}catch(D){console.error("Error creating project:",D)}},disabled:!T.trim(),children:"Create"}),d.jsx(ee,{size:"sm",variant:"ghost",onClick:()=>_(!1),children:"Cancel"})]}):d.jsxs(ee,{variant:"outline",className:"w-full justify-start",onClick:()=>_(!0),children:[d.jsx(Rm,{className:"mr-2 h-4 w-4"}),"Create New Project"]})})]})]}),d.jsx(AF,{className:"flex-1 px-4",children:d.jsx("div",{className:"space-y-4",children:r?d.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[d.jsx(Jt,{href:"/",children:d.jsx(ee,{variant:n==="/"?"secondary":"ghost",size:"icon",title:"Home",children:d.jsx(pD,{className:"h-4 w-4"})})}),d.jsx(Jt,{href:"/projects",children:d.jsx(ee,{variant:n==="/projects"?"secondary":"ghost",size:"icon",title:"Projects",children:d.jsx(n0,{className:"h-4 w-4"})})})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx(Jt,{href:"/",children:d.jsxs(ee,{variant:n==="/"?"secondary":"ghost",className:"w-full justify-start",children:[d.jsx(pD,{className:"mr-2 h-4 w-4"}),"Home"]})}),d.jsx(Jt,{href:"/projects",children:d.jsxs(ee,{variant:n==="/projects"?"secondary":"ghost",className:"w-full justify-start",children:[d.jsx(n0,{className:"mr-2 h-4 w-4"}),"Projects"]})})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h3",{className:"text-sm font-medium",children:"Projects"}),d.jsx(ee,{size:"icon",variant:"ghost",onClick:()=>g(!m),children:m?d.jsx(Qn,{className:"h-4 w-4"}):d.jsx(_n,{className:"h-4 w-4"})})]}),m&&d.jsx("div",{className:"mt-2 space-y-1",children:V?d.jsx("div",{className:"pl-2 py-1 text-xs text-muted-foreground",children:"Loading projects..."}):s.trim()?P.projects.length>0?d.jsx("div",{className:"space-y-1",children:P.projects.map(D=>d.jsxs("div",{children:[d.jsxs(ee,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto",onClick:()=>x(L=>({...L,[D.id]:!L[D.id]})),children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(n0,{className:"mr-2 h-4 w-4"}),d.jsx("span",{className:"text-sm",children:D.name})]}),y[D.id]?d.jsx(Qn,{className:"h-3 w-3"}):d.jsx(_n,{className:"h-3 w-3"})]}),y[D.id]&&d.jsxs("div",{className:"pl-2 space-y-1",children:[d.jsx(xa,{type:"snippet",trigger:d.jsxs(ee,{variant:"ghost",className:"w-full justify-start py-1 px-2 h-auto text-xs",children:[d.jsx(Oh,{className:"mr-2 h-3 w-3"}),"New Snippet"]})}),d.jsx(xa,{type:"note",trigger:d.jsxs(ee,{variant:"ghost",className:"w-full justify-start py-1 px-2 h-auto text-xs",children:[d.jsx(yh,{className:"mr-2 h-3 w-3"}),"New Note"]})}),d.jsx(xa,{type:"checklist",trigger:d.jsxs(ee,{variant:"ghost",className:"w-full justify-start py-1 px-2 h-auto text-xs",children:[d.jsx(vh,{className:"mr-2 h-3 w-3"}),"New Checklist"]})}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{children:[d.jsxs(ee,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto text-xs",onClick:()=>{const L={...y};L[`${D.id}-snippets`]=!L[`${D.id}-snippets`],x(L)},children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(Oh,{className:"mr-2 h-3 w-3"}),d.jsx("span",{className:"text-xs",children:"Snippets"})]}),y[`${D.id}-snippets`]?d.jsx(Qn,{className:"h-2 w-2"}):d.jsx(_n,{className:"h-2 w-2"})]}),y[`${D.id}-snippets`]&&d.jsx(ua,{type:"snippets",projectId:D.id,userId:e==null?void 0:e.uid})]}),d.jsxs("div",{children:[d.jsxs(ee,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto text-xs",onClick:()=>{const L={...y};L[`${D.id}-notes`]=!L[`${D.id}-notes`],x(L)},children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(yh,{className:"mr-2 h-3 w-3"}),d.jsx("span",{className:"text-xs",children:"Notes"})]}),y[`${D.id}-notes`]?d.jsx(Qn,{className:"h-2 w-2"}):d.jsx(_n,{className:"h-2 w-2"})]}),y[`${D.id}-notes`]&&d.jsx(ua,{type:"notes",projectId:D.id,userId:e==null?void 0:e.uid})]}),d.jsxs("div",{children:[d.jsxs(ee,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto text-xs",onClick:()=>{const L={...y};L[`${D.id}-checklists`]=!L[`${D.id}-checklists`],x(L)},children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(vh,{className:"mr-2 h-3 w-3"}),d.jsx("span",{className:"text-xs",children:"Checklists"})]}),y[`${D.id}-checklists`]?d.jsx(Qn,{className:"h-2 w-2"}):d.jsx(_n,{className:"h-2 w-2"})]}),y[`${D.id}-checklists`]&&d.jsx(ua,{type:"checklists",projectId:D.id,userId:e==null?void 0:e.uid})]})]})]})]},D.id))}):d.jsx("div",{className:"pl-2 py-1 text-xs text-muted-foreground",children:"No matching projects found"}):j&&j.length>0?d.jsx("div",{className:"space-y-1",children:j.map(D=>d.jsxs("div",{children:[d.jsxs(ee,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto",onClick:()=>x(L=>({...L,[D.id]:!L[D.id]})),children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(n0,{className:"mr-2 h-4 w-4"}),d.jsx("span",{className:"text-sm",children:D.name})]}),y[D.id]?d.jsx(Qn,{className:"h-3 w-3"}):d.jsx(_n,{className:"h-3 w-3"})]}),y[D.id]&&d.jsxs("div",{className:"pl-2 space-y-1",children:[d.jsx(xa,{type:"snippet",trigger:d.jsxs(ee,{variant:"ghost",className:"w-full justify-start py-1 px-2 h-auto text-xs",children:[d.jsx(Oh,{className:"mr-2 h-3 w-3"}),"New Snippet"]})}),d.jsx(xa,{type:"note",trigger:d.jsxs(ee,{variant:"ghost",className:"w-full justify-start py-1 px-2 h-auto text-xs",children:[d.jsx(yh,{className:"mr-2 h-3 w-3"}),"New Note"]})}),d.jsx(xa,{type:"checklist",trigger:d.jsxs(ee,{variant:"ghost",className:"w-full justify-start py-1 px-2 h-auto text-xs",children:[d.jsx(vh,{className:"mr-2 h-3 w-3"}),"New Checklist"]})}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{children:[d.jsxs(ee,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto text-xs",onClick:()=>{const L={...y};L[`${D.id}-snippets`]=!L[`${D.id}-snippets`],x(L)},children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(Oh,{className:"mr-2 h-3 w-3"}),d.jsx("span",{className:"text-xs",children:"Snippets"})]}),y[`${D.id}-snippets`]?d.jsx(Qn,{className:"h-2 w-2"}):d.jsx(_n,{className:"h-2 w-2"})]}),y[`${D.id}-snippets`]&&d.jsx(ua,{type:"snippets",projectId:D.id,userId:e==null?void 0:e.uid})]}),d.jsxs("div",{children:[d.jsxs(ee,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto text-xs",onClick:()=>{const L={...y};L[`${D.id}-notes`]=!L[`${D.id}-notes`],x(L)},children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(yh,{className:"mr-2 h-3 w-3"}),d.jsx("span",{className:"text-xs",children:"Notes"})]}),y[`${D.id}-notes`]?d.jsx(Qn,{className:"h-2 w-2"}):d.jsx(_n,{className:"h-2 w-2"})]}),y[`${D.id}-notes`]&&d.jsx(ua,{type:"notes",projectId:D.id,userId:e==null?void 0:e.uid})]}),d.jsxs("div",{children:[d.jsxs(ee,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto text-xs",onClick:()=>{const L={...y};L[`${D.id}-checklists`]=!L[`${D.id}-checklists`],x(L)},children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(vh,{className:"mr-2 h-3 w-3"}),d.jsx("span",{className:"text-xs",children:"Checklists"})]}),y[`${D.id}-checklists`]?d.jsx(Qn,{className:"h-2 w-2"}):d.jsx(_n,{className:"h-2 w-2"})]}),y[`${D.id}-checklists`]&&d.jsx(ua,{type:"checklists",projectId:D.id,userId:e==null?void 0:e.uid})]})]})]})]},D.id))}):d.jsx("div",{className:"pl-2 py-1 text-xs text-muted-foreground",children:"No projects found. Create one to get started."})})]}),d.jsx(hv,{}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h3",{className:"text-sm font-medium",children:"All Folders"}),d.jsx(ee,{size:"icon",variant:"ghost",onClick:()=>l(!a),children:a?d.jsx(Qn,{className:"h-4 w-4"}):d.jsx(_n,{className:"h-4 w-4"})})]}),a&&d.jsxs("div",{className:"mt-2 space-y-1",children:[d.jsxs("div",{children:[d.jsxs(ee,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto",onClick:()=>u(D=>({...D,snippets:!D.snippets})),children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(Oh,{className:"mr-2 h-4 w-4"}),d.jsx("span",{className:"text-sm",children:"All Snippets"}),s.trim()&&P.snippets.length>0&&d.jsx(Vn,{variant:"outline",className:"ml-2",children:P.snippets.length})]}),c.snippets?d.jsx(Qn,{className:"h-3 w-3"}):d.jsx(_n,{className:"h-3 w-3"})]}),c.snippets&&(s.trim()?P.snippets.length>0?d.jsxs("div",{className:"pl-6 py-1",children:[P.snippets.slice(0,5).map(D=>d.jsx(Jt,{href:`/snippets/${D.id}`,children:d.jsx(ee,{variant:"ghost",className:"w-full justify-start h-auto py-1 px-2 text-xs",children:D.title||"Untitled"})},D.id)),P.snippets.length>5&&d.jsxs("div",{className:"text-xs text-muted-foreground pl-2 pt-1",children:["+",P.snippets.length-5," more items"]})]}):d.jsx("div",{className:"pl-6 py-1 text-xs text-muted-foreground",children:"No matching snippets found"}):d.jsx(__,{type:"snippets",userId:e==null?void 0:e.uid}))]}),d.jsxs("div",{children:[d.jsxs(ee,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto",onClick:()=>u(D=>({...D,notes:!D.notes})),children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(yh,{className:"mr-2 h-4 w-4"}),d.jsx("span",{className:"text-sm",children:"All Notes"}),s.trim()&&P.notes.length>0&&d.jsx(Vn,{variant:"outline",className:"ml-2",children:P.notes.length})]}),c.notes?d.jsx(Qn,{className:"h-3 w-3"}):d.jsx(_n,{className:"h-3 w-3"})]}),c.notes&&(s.trim()?P.notes.length>0?d.jsxs("div",{className:"pl-6 py-1",children:[P.notes.slice(0,5).map(D=>d.jsx(Jt,{href:`/notes/${D.id}`,children:d.jsx(ee,{variant:"ghost",className:"w-full justify-start h-auto py-1 px-2 text-xs",children:D.title||"Untitled"})},D.id)),P.notes.length>5&&d.jsxs("div",{className:"text-xs text-muted-foreground pl-2 pt-1",children:["+",P.notes.length-5," more items"]})]}):d.jsx("div",{className:"pl-6 py-1 text-xs text-muted-foreground",children:"No matching notes found"}):d.jsx(__,{type:"notes",userId:e==null?void 0:e.uid}))]}),d.jsxs("div",{children:[d.jsxs(ee,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto",onClick:()=>u(D=>({...D,checklists:!D.checklists})),children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(vh,{className:"mr-2 h-4 w-4"}),d.jsx("span",{className:"text-sm",children:"All Checklists"}),s.trim()&&P.checklists.length>0&&d.jsx(Vn,{variant:"outline",className:"ml-2",children:P.checklists.length})]}),c.checklists?d.jsx(Qn,{className:"h-3 w-3"}):d.jsx(_n,{className:"h-3 w-3"})]}),c.checklists&&(s.trim()?P.checklists.length>0?d.jsxs("div",{className:"pl-6 py-1",children:[P.checklists.slice(0,5).map(D=>d.jsx(Jt,{href:`/checklists/${D.id}`,children:d.jsx(ee,{variant:"ghost",className:"w-full justify-start h-auto py-1 px-2 text-xs",children:D.title||"Untitled"})},D.id)),P.checklists.length>5&&d.jsxs("div",{className:"text-xs text-muted-foreground pl-2 pt-1",children:["+",P.checklists.length-5," more items"]})]}):d.jsx("div",{className:"pl-6 py-1 text-xs text-muted-foreground",children:"No matching checklists found"}):d.jsx(__,{type:"checklists",userId:e==null?void 0:e.uid}))]})]})]}),d.jsx(hv,{}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h3",{className:"text-sm font-medium",children:"Uncategorized"}),d.jsx(ee,{size:"icon",variant:"ghost",onClick:()=>Q(!C),children:C?d.jsx(Qn,{className:"h-4 w-4"}):d.jsx(_n,{className:"h-4 w-4"})})]}),C&&d.jsxs("div",{className:"mt-2 space-y-1",children:[d.jsxs("div",{children:[d.jsxs(ee,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto",onClick:()=>w(D=>({...D,snippets:!D.snippets})),children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(Oh,{className:"mr-2 h-4 w-4"}),d.jsx("span",{className:"text-sm",children:"Snippets"})]}),O.snippets?d.jsx(Qn,{className:"h-3 w-3"}):d.jsx(_n,{className:"h-3 w-3"})]}),O.snippets&&d.jsx(ua,{type:"snippets",projectId:"",userId:e==null?void 0:e.uid})]}),d.jsxs("div",{children:[d.jsxs(ee,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto",onClick:()=>w(D=>({...D,notes:!D.notes})),children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(yh,{className:"mr-2 h-4 w-4"}),d.jsx("span",{className:"text-sm",children:"Notes"})]}),O.notes?d.jsx(Qn,{className:"h-3 w-3"}):d.jsx(_n,{className:"h-3 w-3"})]}),O.notes&&d.jsx(ua,{type:"notes",projectId:"",userId:e==null?void 0:e.uid})]}),d.jsxs("div",{children:[d.jsxs(ee,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto",onClick:()=>w(D=>({...D,checklists:!D.checklists})),children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(vh,{className:"mr-2 h-4 w-4"}),d.jsx("span",{className:"text-sm",children:"Checklists"})]}),O.checklists?d.jsx(Qn,{className:"h-3 w-3"}):d.jsx(_n,{className:"h-3 w-3"})]}),O.checklists&&d.jsx(ua,{type:"checklists",projectId:"",userId:e==null?void 0:e.uid})]})]})]}),d.jsx(hv,{}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h3",{className:"text-sm font-medium",children:"Tags"}),d.jsx(ee,{size:"icon",variant:"ghost",onClick:()=>f(!h),children:h?d.jsx(Qn,{className:"h-4 w-4"}):d.jsx(_n,{className:"h-4 w-4"})})]}),h&&d.jsx("div",{className:"mt-2 space-y-1",children:W?d.jsx("div",{className:"pl-2 py-1 text-xs text-muted-foreground",children:"Loading tags..."}):s.trim()?P.tags.length>0?d.jsx("div",{className:"flex flex-wrap gap-2 pl-2 py-1",children:P.tags.map(D=>d.jsx(Jt,{href:`/tags/${encodeURIComponent(D)}`,children:d.jsx(Vn,{variant:"secondary",className:"cursor-pointer hover:bg-secondary/70",children:D})},D))}):d.jsx("div",{className:"pl-2 py-1 text-xs text-muted-foreground",children:"No matching tags found"}):U&&U.length>0?d.jsx("div",{className:"flex flex-wrap gap-2 pl-2 py-1",children:U.map(D=>d.jsx(Jt,{href:`/tags/${encodeURIComponent(D)}`,children:d.jsx(Vn,{variant:"secondary",className:"cursor-pointer hover:bg-secondary/70",children:D})},D))}):d.jsx("div",{className:"pl-2 py-1 text-xs text-muted-foreground",children:"No tags found"})})]})]})})}),d.jsx("div",{className:"mt-auto p-4",children:d.jsxs("nav",{className:"space-y-2",children:[d.jsx(Jt,{href:"/profile",children:d.jsxs(ee,{variant:"ghost",className:`${r?"justify-center":"w-full justify-start"} ${n==="/profile"?"bg-accent":""}`,title:"Profile",children:[d.jsx(Sue,{className:r?"h-4 w-4":"mr-2 h-4 w-4"}),!r&&"Profile"]})}),k&&d.jsx(Jt,{href:"/admin",children:d.jsxs(ee,{variant:"ghost",className:`${r?"justify-center":"w-full justify-start"} ${n==="/admin"?"bg-accent":""}`,title:"Admin Dashboard",children:[d.jsx(jue,{className:r?"h-4 w-4":"mr-2 h-4 w-4"}),!r&&"Admin Dashboard"]})}),d.jsx(Jt,{href:"/settings",children:d.jsxs(ee,{variant:"ghost",className:`${r?"justify-center":"w-full justify-start"} ${n==="/settings"?"bg-accent":""}`,title:"Settings",children:[d.jsx($ue,{className:r?"h-4 w-4":"mr-2 h-4 w-4"}),!r&&"Settings"]})})]})})]})}):null}const D4=["ulLB54MVo3lV2qHO5eXIMIe1625NmTP599Kmqbux","PO1PHKGnxqzwp81mK91U4Nha0XCqJSqoyExOGdE9"];let T_=0;const kEe=()=>{const n=D4[T_];return T_=(T_+1)%D4.length,n},WI=async(n,e={})=>{const{maxTokens:t=300,temperature:r=.7,model:i="command"}=e,s=kEe();try{const o=await fetch("https://api.cohere.ai/v1/generate",{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify({model:i,prompt:n,max_tokens:t,temperature:r,k:0,stop_sequences:[],return_likelihoods:"NONE"})});if(!o.ok){const l=await o.json();throw new Error(l.message||"Failed to generate content")}return(await o.json()).generations[0].text.trim()}catch(o){throw console.error("Cohere API error:",o),new Error(o.message||"Failed to generate content")}},_Ee=async n=>{const e=`Write a detailed note about: ${n}. Make it informative and well-structured.`;return WI(e,{maxTokens:400})},TEe=async n=>{const e=`Create a code snippet for: ${n}. Only return the code, no explanations.`,t=await WI(e,{maxTokens:500,temperature:.5});let r="javascript";const i={javascript:["const","let","var","function","async","await","import","export","console.log"],typescript:["interface","type","enum","<T>","as const","readonly"],python:["def","import","from","class","if __name__","print("],java:["public class","private","protected","void","String[]","System.out"],html:["<!DOCTYPE","<html>","<div>","<body>","<head>"],css:["{","margin:","padding:","color:","background:"],sql:["SELECT","FROM","WHERE","JOIN","GROUP BY","ORDER BY"],bash:["#!/bin/bash","echo","chmod","mkdir","ls","cd"]};for(const[s,o]of Object.entries(i))if(o.some(a=>t.includes(a))){r=s;break}return{code:t,language:r}},PEe=async n=>{const e=`Create a checklist for: ${n}. Format as a list with each item on a new line. Only include the items, no explanations or numbering.`;return(await WI(e,{maxTokens:350,temperature:.7})).split(`
`).filter(r=>r.trim().length>0).map(r=>({text:r.trim().replace(/^[-*]\s*/,""),checked:!1}))};function CEe({onClose:n}){const[e,t]=b.useState(""),[r,i]=b.useState(!1),[s,o]=b.useState(!1),a=b.useRef(null),{user:l}=Sn(),{toast:c}=Wn(),u=Fi();b.useEffect(()=>{s&&a.current&&a.current.focus()},[s]);const h=()=>{o(!s),s||t("")},f=()=>{o(!1),t(""),n&&n()},m=async()=>{if(!(!e.trim()||!l))try{i(!0);const g=e.toLowerCase();let y="";g.includes("snippet")||g.includes("code")?y="snippet":g.includes("note")?y="note":g.includes("checklist")||g.includes("todo")?y="checklist":g.includes("project")?y="project":y="note";let x=e.split(".")[0].trim();x.length>50&&(x=x.substring(0,50)+"...");let S=e.includes(".")?e.substring(e.indexOf(".")+1).trim():e;const _=[],T=/#(\w+)/g;let I;for(;(I=T.exec(g))!==null;)_.push(I[1]);const C=g.indexOf("tags:");if(C!==-1){const k=e.substring(C+5).trim().split(",").map(R=>R.trim());_.push(...k.filter(R=>R!==""))}S=S.replace(/#\w+/g,"").replace(/tags:.*$/i,"").trim();let Q="",O="javascript";if(y==="project")Q=S;else if(y==="snippet"){const w=await TEe(S);Q=w.code,O=w.language}else if(y==="note")Q=await _Ee(S);else if(y==="checklist"){const w=await PEe(S);Q=JSON.stringify(w)}if(y==="project"){const w=Date.now();await qa(Ie(se,"projects"),{name:x,description:Q,userId:l.uid,createdAt:w,updatedAt:w}),u.invalidateQueries({queryKey:["projects"]}),c({title:"Project Created",description:`Successfully created project: ${x}`})}else{const w=y==="snippet"?"snippets":y==="note"?"notes":"checklists",k={title:x,description:"",content:Q,tags:_,userId:l.uid,projectId:"uncategorized",createdAt:Lu(),updatedAt:Lu()};y==="snippet"&&(k.language=O);const P={id:(await qa(Ie(se,w),k)).id,title:x,description:"",content:Q,tags:_,userId:l.uid,projectId:"uncategorized",createdAt:new Date().getTime(),updatedAt:new Date().getTime()};y==="snippet"&&(P.language=O),u.setQueryData(["items",l.uid,w],v=>v?[P,...v]:[P]),u.setQueryData(["folder-items",l.uid,w],v=>v?[P,...v]:[P]),u.invalidateQueries({queryKey:["items"]}),u.invalidateQueries({queryKey:["folder-items"]}),u.invalidateQueries({queryKey:["project-items",l.uid,"uncategorized"]}),c({title:`${y.charAt(0).toUpperCase()+y.slice(1)} Created`,description:`Successfully created ${y}: ${x}`})}t(""),o(!1)}catch(g){console.error("AI processing error:",g),c({variant:"destructive",title:"Error",description:g.message||"Failed to process your request. Please try again."})}finally{i(!1)}};return d.jsx("div",{className:`fixed bottom-6 left-1/2 transform -translate-x-1/2 z-50 transition-all duration-300 ${s?"w-[600px] max-w-[90vw]":"w-auto"}`,children:s?d.jsxs("div",{className:"bg-card border shadow-lg rounded-full overflow-hidden flex items-center p-1 pl-6 ring-2 ring-primary/20 animate-in fade-in slide-in-from-bottom-4",children:[d.jsx(It,{ref:a,value:e,onChange:g=>t(g.target.value),placeholder:"Describe what you want to create...",className:"border-0 focus-visible:ring-0 focus-visible:ring-offset-0 bg-transparent",onKeyDown:g=>{g.key==="Enter"&&!g.shiftKey&&(g.preventDefault(),m())},disabled:r}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(ee,{variant:"ghost",size:"icon",onClick:f,className:"rounded-full",disabled:r,children:d.jsx(Hb,{className:"h-4 w-4"})}),d.jsxs(ee,{onClick:m,className:"rounded-full ml-1",disabled:!e.trim()||r,children:[r?d.jsx("div",{className:"h-4 w-4 border-2 border-background border-t-transparent rounded-full animate-spin"}):d.jsx(Iue,{className:"h-4 w-4"}),d.jsx("span",{className:"ml-2",children:"Send"})]})]})]}):d.jsxs(ee,{onClick:h,variant:"outline",className:"rounded-full shadow-lg bg-card hover:bg-card/90 border-primary/20 hover:border-primary/30 flex items-center gap-2 px-4 py-2 ring-2 ring-primary/20 border-glow",children:[d.jsx(Wx,{className:"h-4 w-4 text-primary"}),d.jsx("span",{children:"AI Assistant"})]})})}function eb(){const{user:n}=Sn(),[e,t]=b.useState(null),[r,i]=b.useState(!0);b.useEffect(()=>{(async()=>{if(!n){t(null),i(!1);return}try{i(!0);const c=await Oi(We(se,"users",n.uid));if(c.exists()){const u=c.data();if(u.temporaryPremiumAccess&&u.temporaryPremiumExpiry&&Date.now()<u.temporaryPremiumExpiry){t("paid");return}t(u.role||"free")}else t("free")}catch(c){console.error("Error fetching user role:",c),t("free")}finally{i(!1)}})()},[n]);const s=e==="paid"||e==="admin",o=e==="admin";return{role:e,isLoading:r,isPaid:s,isAdmin:o,isFree:e==="free",hasAccess:l=>l==="free"?!0:l==="paid"?s:l==="admin"?o:!1}}const Ar=({children:n})=>{const{isPaid:e}=eb();return d.jsxs("div",{className:"flex h-screen bg-background",children:[d.jsx(SEe,{}),d.jsx("main",{className:"flex-1 overflow-auto p-6",children:n}),e&&d.jsx(CEe,{})]})},wn=b.forwardRef(({className:n,...e},t)=>d.jsx("div",{ref:t,className:Te("rounded-lg border bg-card text-card-foreground shadow-sm",n),...e}));wn.displayName="Card";const Zn=b.forwardRef(({className:n,...e},t)=>d.jsx("div",{ref:t,className:Te("flex flex-col space-y-1.5 p-6",n),...e}));Zn.displayName="CardHeader";const Ui=b.forwardRef(({className:n,...e},t)=>d.jsx("h3",{ref:t,className:Te("text-2xl font-semibold leading-none tracking-tight",n),...e}));Ui.displayName="CardTitle";const th=b.forwardRef(({className:n,...e},t)=>d.jsx("p",{ref:t,className:Te("text-sm text-muted-foreground",n),...e}));th.displayName="CardDescription";const bn=b.forwardRef(({className:n,...e},t)=>d.jsx("div",{ref:t,className:Te("p-6 pt-0",n),...e}));bn.displayName="CardContent";const Xc=b.forwardRef(({className:n,...e},t)=>d.jsx("div",{ref:t,className:Te("flex items-center p-6 pt-0",n),...e}));Xc.displayName="CardFooter";const XI={title:lt.string().min(1,"Title is required"),description:lt.string().optional(),tags:lt.array(lt.string()).default([]),projectId:lt.string().optional()},EEe=lt.object({...XI,content:lt.string().min(1,"Content is required"),language:lt.string().default("javascript")}),AEe=lt.object({...XI,content:lt.string().min(1,"Content is required")}),REe=lt.object({...XI,items:lt.array(lt.object({text:lt.string(),checked:lt.boolean()})).default([{text:"",checked:!1}])});function Xf({type:n,itemId:e,defaultValues:t,trigger:r,onEdited:i}){const[s,o]=b.useState(!1),{user:a}=Sn(),{toast:l}=Wn(),c=Fi(),[u]=b.useState(t),[h,f]=b.useState(n==="checklist"?JSON.parse(t.content||"[]"):[{text:"",checked:!1}]),[m,g]=b.useState([]),[y,x]=b.useState(!1),[S,_]=b.useState("");b.useEffect(()=>{(async()=>{if(a)try{const R=qe(Ie(se,"projects"),je("userId","==",a.uid)),v=(await Be(R)).docs.map(A=>({id:A.id,name:A.data().name}));g(v)}catch(R){console.error("Error fetching projects:",R)}})()},[a]);const T=async()=>{if(!(!a||!S.trim()))try{const k=Date.now(),R=await qa(Ie(se,"projects"),{name:S.trim(),userId:a.uid,createdAt:k,updatedAt:k}),P={id:R.id,name:S.trim()};g([...m,P]),I.setValue("projectId",R.id),_(""),x(!1)}catch(k){console.error("Error creating project:",k),l({variant:"destructive",title:"Error",description:k.message||"Failed to create project. Please try again."})}},I=nS({resolver:rS(n==="snippet"?EEe:n==="note"?AEe:REe),defaultValues:{...t,content:n==="checklist"?"":t.content}}),C=async k=>{try{if(!a){l({variant:"destructive",title:"Error",description:"You must be logged in to edit items"});return}const R=n==="snippet"?"snippets":n==="note"?"notes":"checklists",P=n==="checklist"?JSON.stringify(h.filter(j=>j.text.trim())):k.content,v={...k};n!=="snippet"&&"language"in v&&delete v.language,await Mi(We(se,R,e),{...v,content:P,updatedAt:Lu()});const A={id:e,...v,content:P,userId:a.uid,updatedAt:new Date().getTime()};c.setQueryData(["items",a.uid,R],j=>j?j.map(V=>V.id===e?A:V):[A]),c.setQueryData(["folder-items",a.uid,R],j=>j?j.map(V=>V.id===e?A:V):[A]),c.invalidateQueries({queryKey:["items"]}),c.invalidateQueries({queryKey:["folder-items"]}),c.invalidateQueries({queryKey:["project-items",a.uid,k.projectId||""]}),(k.projectId==="uncategorized"||k.projectId===""||!k.projectId)&&(c.invalidateQueries({queryKey:["project-items",a.uid,""]}),c.invalidateQueries({queryKey:["project-items",a.uid,"uncategorized"]})),u.projectId&&u.projectId!==k.projectId&&c.invalidateQueries({queryKey:["project-items",a.uid,u.projectId]}),l({title:"Success",description:`${n} updated successfully`}),o(!1),i==null||i()}catch(R){console.error("Update error:",R),l({variant:"destructive",title:"Error",description:R.message||"Failed to update item. Please try again."})}},Q=()=>{f([...h,{text:"",checked:!1}])},O=(k,R)=>{const P=[...h];P[k].text=R,f(P)},w=k=>{const R=[...h];R[k].checked=!R[k].checked,f(R)};return d.jsxs(Ia,{open:s,onOpenChange:o,children:[d.jsx(vQ,{asChild:!0,children:r}),d.jsxs(To,{className:"max-w-full h-[90vh] flex flex-col p-0",children:[d.jsxs(Po,{className:"px-6 py-4 border-b",children:[d.jsxs(Co,{children:["Edit ",n.charAt(0).toUpperCase()+n.slice(1)]}),d.jsxs(Eo,{children:["Make changes to your ",n,". All fields marked with * are required."]})]}),d.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:d.jsx(Rg,{...I,children:d.jsxs("form",{onSubmit:I.handleSubmit(C),className:"space-y-4 max-w-2xl mx-auto",children:[d.jsx(Yn,{control:I.control,name:"title",render:({field:k})=>d.jsxs(Dn,{children:[d.jsx(gn,{children:"Title *"}),d.jsx(On,{children:d.jsx(It,{...k,placeholder:`Enter ${n} title`})}),d.jsx(Mn,{})]})}),d.jsx(Yn,{control:I.control,name:"description",render:({field:k})=>d.jsxs(Dn,{children:[d.jsx(gn,{children:"Description"}),d.jsx(On,{children:d.jsx(It,{...k,placeholder:"Add a description (optional)"})}),d.jsx(Mn,{})]})}),n==="snippet"&&d.jsx(Yn,{control:I.control,name:"language",render:({field:k})=>d.jsxs(Dn,{children:[d.jsx(gn,{children:"Language *"}),d.jsx(On,{children:d.jsx(It,{...k,placeholder:"javascript"})}),d.jsx(Mn,{})]})}),d.jsx(Yn,{control:I.control,name:"tags",render:({field:k})=>d.jsxs(Dn,{children:[d.jsx(gn,{children:"Tags"}),d.jsx(On,{children:d.jsx(q7,{value:k.value,onChange:k.onChange,placeholder:"Add tags (press Enter or comma to add)"})}),d.jsx(Mn,{})]})}),d.jsx(Yn,{control:I.control,name:"projectId",render:({field:k})=>d.jsxs(Dn,{children:[d.jsx(gn,{children:"Project"}),y?d.jsxs("div",{className:"flex gap-2",children:[d.jsx(On,{children:d.jsx(It,{value:S,onChange:R=>_(R.target.value),placeholder:"Enter new project name"})}),d.jsx(ee,{type:"button",variant:"outline",onClick:T,disabled:!S.trim(),children:"Create"}),d.jsx(ee,{type:"button",variant:"ghost",onClick:()=>x(!1),children:"Cancel"})]}):d.jsxs("div",{className:"flex gap-2",children:[d.jsx(On,{children:d.jsxs(ZI,{value:k.value,onValueChange:k.onChange,children:[d.jsx(RS,{className:"w-full",children:d.jsx(FI,{placeholder:"Select a project or leave empty"})}),d.jsxs(QS,{children:[d.jsx(ac,{value:"uncategorized",children:"Uncategorized"}),m.map(R=>d.jsx(ac,{value:R.id,children:R.name},R.id))]})]})}),d.jsx(ee,{type:"button",variant:"outline",onClick:()=>x(!0),children:"New Project"})]}),d.jsx(Mn,{})]})}),n!=="checklist"?d.jsx(Yn,{control:I.control,name:"content",render:({field:k})=>d.jsxs(Dn,{children:[d.jsx(gn,{children:"Content *"}),d.jsx(On,{children:n==="snippet"?d.jsx("div",{className:"h-[400px] rounded-md border",children:d.jsx(SS,{value:k.value,language:I.getValues("language"),onChange:k.onChange})}):d.jsx(Wu,{...k,placeholder:"Enter your note content",className:"min-h-[200px]"})}),d.jsx(Mn,{})]})}):d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(gn,{children:"Checklist Items *"}),d.jsx(ee,{type:"button",variant:"outline",size:"sm",onClick:Q,children:"Add Item"})]}),h.map((k,R)=>d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(It,{value:k.text,onChange:P=>O(R,P.target.value),placeholder:"Enter checklist item"}),d.jsx(ee,{type:"button",variant:"ghost",size:"icon",onClick:()=>w(R),children:k.checked?"":""})]},R))]})]})})}),d.jsx("div",{className:"bg-background py-4 px-6 border-t",children:d.jsx(ee,{type:"submit",className:"w-full",onClick:I.handleSubmit(C),children:"Save Changes"})})]})]})}const Y8=({snippet:n,showActions:e=!0})=>{const t=Fi(),{toast:r}=Wn(),i=async()=>{try{await zc(We(se,"snippets",n.id)),t.invalidateQueries({queryKey:["items"]}),r({title:"Success",description:"Snippet deleted successfully"})}catch(s){r({variant:"destructive",title:"Error",description:s.message||"Failed to delete snippet"})}};return d.jsx(Jt,{href:`/snippets/${n.id}`,children:d.jsx("div",{className:"cursor-pointer",children:d.jsxs(wn,{className:"w-full enhanced-card card-hover-effect snippet-card",children:[d.jsxs(Zn,{className:"space-y-1 card-header-accent",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h3",{className:"text-xl font-semibold",children:n.title}),d.jsx("div",{className:"flex space-x-2",onClick:s=>s.stopPropagation(),children:e&&d.jsxs(d.Fragment,{children:[d.jsx(Xf,{type:"snippet",itemId:n.id,defaultValues:n,trigger:d.jsx(ee,{variant:"ghost",size:"icon",title:"Edit snippet",className:"hover:bg-accent/10 transition-colors",children:d.jsx(Df,{className:"h-4 w-4"})}),onEdited:()=>t.invalidateQueries({queryKey:["items"]})}),d.jsx(ee,{variant:"ghost",size:"icon",onClick:i,title:"Delete snippet",className:"hover:bg-destructive/10 hover:text-destructive transition-colors",children:d.jsx(Mf,{className:"h-4 w-4"})})]})})]}),n.description&&d.jsx("p",{className:"text-sm text-muted-foreground",children:n.description}),d.jsx("div",{className:"flex flex-wrap gap-2",children:n.tags.map(s=>d.jsx(Jt,{href:`/tags/${encodeURIComponent(s)}`,onClick:o=>o.stopPropagation(),children:d.jsx(Vn,{variant:"secondary",className:"cursor-pointer hover:bg-secondary/70 enhanced-tag",children:s})},s))})]}),d.jsx(bn,{className:"fade-in-content",children:d.jsx("div",{className:"h-[250px] rounded-md border overflow-auto enhanced-code-editor",children:d.jsx(SS,{value:n.content,language:n.language,onChange:()=>{},readOnly:!0})})}),d.jsx(Xc,{className:"text-sm text-muted-foreground card-footer-border",children:d.jsxs("div",{className:"timestamp-badge",children:[d.jsx("span",{children:"Last updated:"}),d.jsx("span",{children:n.updatedAt?new Date(typeof n.updatedAt=="object"&&n.updatedAt.seconds?n.updatedAt.seconds*1e3:n.updatedAt).toLocaleDateString():"Unknown"})]})})]})})})},H8=({note:n,showActions:e=!0})=>{const t=Fi(),{toast:r}=Wn(),i=n.tags||[],s=async()=>{try{await zc(We(se,"notes",n.id)),t.invalidateQueries({queryKey:["items"]}),r({title:"Success",description:"Note deleted successfully"})}catch(o){r({variant:"destructive",title:"Error",description:o.message||"Failed to delete note"})}};return d.jsx(Jt,{href:`/notes/${n.id}`,children:d.jsx("div",{className:"cursor-pointer",children:d.jsxs(wn,{className:"h-full flex flex-col enhanced-card card-hover-effect note-card",children:[d.jsxs(Zn,{className:"space-y-1 card-header-accent",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h3",{className:"text-xl font-semibold",children:n.title}),d.jsx("div",{className:"flex space-x-2",onClick:o=>o.stopPropagation(),children:e&&d.jsxs(d.Fragment,{children:[d.jsx(Xf,{type:"note",itemId:n.id,defaultValues:{...n,tags:i},trigger:d.jsx(ee,{variant:"ghost",size:"icon",title:"Edit note",className:"hover:bg-accent/10 transition-colors",children:d.jsx(Df,{className:"h-4 w-4"})}),onEdited:()=>t.invalidateQueries({queryKey:["items"]})}),d.jsx(ee,{variant:"ghost",size:"icon",onClick:s,title:"Delete note",className:"hover:bg-destructive/10 hover:text-destructive transition-colors",children:d.jsx(Mf,{className:"h-4 w-4"})})]})})]}),n.description&&d.jsx("p",{className:"text-sm text-muted-foreground",children:n.description}),d.jsx("div",{className:"flex flex-wrap gap-2",children:i.map(o=>d.jsx(Jt,{href:`/tags/${encodeURIComponent(o)}`,onClick:a=>a.stopPropagation(),children:d.jsx(Vn,{variant:"secondary",className:"cursor-pointer hover:bg-secondary/70 enhanced-tag",children:o})},o))})]}),d.jsx(bn,{className:"flex-1 fade-in-content",children:d.jsx("div",{className:"whitespace-pre-wrap content-fade-bottom",children:n.content})}),d.jsx(Xc,{className:"text-sm text-muted-foreground card-footer-border",children:d.jsxs("div",{className:"timestamp-badge",children:[d.jsx("span",{children:"Last updated:"}),d.jsx("span",{children:n.updatedAt?new Date(typeof n.updatedAt=="object"&&n.updatedAt.seconds?n.updatedAt.seconds*1e3:n.updatedAt).toLocaleDateString():"Unknown"})]})})]})})})};var GI="Checkbox",[QEe,h$e]=Ho(GI),[IEe,$Ee]=QEe(GI),K8=b.forwardRef((n,e)=>{const{__scopeCheckbox:t,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:l="on",onCheckedChange:c,form:u,...h}=n,[f,m]=b.useState(null),g=Je(e,I=>m(I)),y=b.useRef(!1),x=f?u||!!f.closest("form"):!0,[S=!1,_]=Ba({prop:i,defaultProp:s,onChange:c}),T=b.useRef(S);return b.useEffect(()=>{const I=f==null?void 0:f.form;if(I){const C=()=>_(T.current);return I.addEventListener("reset",C),()=>I.removeEventListener("reset",C)}},[f,_]),d.jsxs(IEe,{scope:t,state:S,disabled:a,children:[d.jsx(Ae.button,{type:"button",role:"checkbox","aria-checked":lc(S)?"mixed":S,"aria-required":o,"data-state":tG(S),"data-disabled":a?"":void 0,disabled:a,value:l,...h,ref:g,onKeyDown:he(n.onKeyDown,I=>{I.key==="Enter"&&I.preventDefault()}),onClick:he(n.onClick,I=>{_(C=>lc(C)?!0:!C),x&&(y.current=I.isPropagationStopped(),y.current||I.stopPropagation())})}),x&&d.jsx(NEe,{control:f,bubbles:!y.current,name:r,value:l,checked:S,required:o,disabled:a,form:u,style:{transform:"translateX(-100%)"},defaultChecked:lc(s)?!1:s})]})});K8.displayName=GI;var J8="CheckboxIndicator",eG=b.forwardRef((n,e)=>{const{__scopeCheckbox:t,forceMount:r,...i}=n,s=$Ee(J8,t);return d.jsx(Kr,{present:r||lc(s.state)||s.state===!0,children:d.jsx(Ae.span,{"data-state":tG(s.state),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...n.style}})})});eG.displayName=J8;var NEe=n=>{const{control:e,checked:t,bubbles:r=!0,defaultChecked:i,...s}=n,o=b.useRef(null),a=zI(t),l=VI(e);b.useEffect(()=>{const u=o.current,h=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(h,"checked").set;if(a!==t&&m){const g=new Event("click",{bubbles:r});u.indeterminate=lc(t),m.call(u,lc(t)?!1:t),u.dispatchEvent(g)}},[a,t,r]);const c=b.useRef(lc(t)?!1:t);return d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??c.current,...s,tabIndex:-1,ref:o,style:{...n.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function lc(n){return n==="indeterminate"}function tG(n){return lc(n)?"indeterminate":n?"checked":"unchecked"}var nG=K8,jEe=eG;const YI=b.forwardRef(({className:n,...e},t)=>d.jsx(nG,{ref:t,className:Te("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",n),...e,children:d.jsx(jEe,{className:Te("flex items-center justify-center text-current"),children:d.jsx(Yb,{className:"h-4 w-4"})})}));YI.displayName=nG.displayName;const rG=({checklist:n,showActions:e=!0})=>{var a;const t=Fi(),{toast:r}=Wn(),i=n.content?JSON.parse(n.content):[],s=async()=>{try{await zc(We(se,"checklists",n.id)),t.invalidateQueries({queryKey:["items"]}),r({title:"Success",description:"Checklist deleted successfully"})}catch(l){r({variant:"destructive",title:"Error",description:l.message||"Failed to delete checklist"})}},o=async l=>{try{const c=[...i];c[l].checked=!c[l].checked,await Mi(We(se,"checklists",n.id),{content:JSON.stringify(c)}),t.invalidateQueries({queryKey:["items"]})}catch(c){r({variant:"destructive",title:"Error",description:c.message||"Failed to update item"})}};return d.jsx(Jt,{href:`/checklists/${n.id}`,children:d.jsx("div",{className:"cursor-pointer",children:d.jsxs(wn,{className:"h-full flex flex-col enhanced-card card-hover-effect checklist-card",children:[d.jsxs(Zn,{className:"space-y-1 card-header-accent",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h3",{className:"text-xl font-semibold",children:n.title}),d.jsx("div",{className:"flex space-x-2",onClick:l=>l.stopPropagation(),children:e&&d.jsxs(d.Fragment,{children:[d.jsx(Xf,{type:"checklist",itemId:n.id,defaultValues:n,trigger:d.jsx(ee,{variant:"ghost",size:"icon",title:"Edit checklist",className:"hover:bg-accent/10 transition-colors",children:d.jsx(Df,{className:"h-4 w-4"})}),onEdited:()=>t.invalidateQueries({queryKey:["items"]})}),d.jsx(ee,{variant:"ghost",size:"icon",onClick:s,title:"Delete checklist",className:"hover:bg-destructive/10 hover:text-destructive transition-colors",children:d.jsx(Mf,{className:"h-4 w-4"})})]})})]}),n.description&&d.jsx("p",{className:"text-sm text-muted-foreground",children:n.description}),d.jsx("div",{className:"flex flex-wrap gap-2",children:(a=n.tags)==null?void 0:a.map(l=>d.jsx(Jt,{href:`/tags/${encodeURIComponent(l)}`,onClick:c=>c.stopPropagation(),children:d.jsx(Vn,{variant:"secondary",className:"cursor-pointer hover:bg-secondary/70 enhanced-tag",children:l})},l))})]}),d.jsx(bn,{className:"flex-1 fade-in-content",children:d.jsx("ul",{className:"space-y-2",children:i.map((l,c)=>d.jsxs("li",{className:"flex items-center space-x-2",onClick:u=>u.stopPropagation(),children:[d.jsx(YI,{id:`item-${c}`,checked:l.checked,onCheckedChange:()=>o(c),className:"checkbox-animation"}),d.jsx("label",{htmlFor:`item-${c}`,className:`text-sm ${l.checked?"line-through text-muted-foreground":""} transition-all duration-200`,children:l.text})]},c))})}),d.jsx(Xc,{className:"text-sm text-muted-foreground card-footer-border",children:d.jsxs("div",{className:"timestamp-badge",children:[d.jsx("span",{children:"Last updated:"}),d.jsx("span",{children:n.updatedAt?new Date(typeof n.updatedAt=="object"&&n.updatedAt.seconds?n.updatedAt.seconds*1e3:n.updatedAt).toLocaleDateString():"Unknown"})]})})]})})})};function DEe(n,e=[]){let t=[];function r(s,o){const a=b.createContext(o),l=t.length;t=[...t,o];function c(h){const{scope:f,children:m,...g}=h,y=(f==null?void 0:f[n][l])||a,x=b.useMemo(()=>g,Object.values(g));return d.jsx(y.Provider,{value:x,children:m})}function u(h,f){const m=(f==null?void 0:f[n][l])||a,g=b.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,u]}const i=()=>{const s=t.map(o=>b.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return b.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return i.scopeName=n,[r,MEe(i,...e)]}function MEe(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}var P_="rovingFocusGroup.onEntryFocus",VEe={bubbles:!1,cancelable:!0},IS="RovingFocusGroup",[ME,iG,LEe]=ZO(IS),[UEe,$S]=DEe(IS,[LEe]),[zEe,qEe]=UEe(IS),sG=b.forwardRef((n,e)=>d.jsx(ME.Provider,{scope:n.__scopeRovingFocusGroup,children:d.jsx(ME.Slot,{scope:n.__scopeRovingFocusGroup,children:d.jsx(ZEe,{...n,ref:e})})}));sG.displayName=IS;var ZEe=b.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...h}=n,f=b.useRef(null),m=Je(e,f),g=Lf(s),[y=null,x]=Ba({prop:o,defaultProp:a,onChange:l}),[S,_]=b.useState(!1),T=Yt(c),I=iG(t),C=b.useRef(!1),[Q,O]=b.useState(0);return b.useEffect(()=>{const w=f.current;if(w)return w.addEventListener(P_,T),()=>w.removeEventListener(P_,T)},[T]),d.jsx(zEe,{scope:t,orientation:r,dir:g,loop:i,currentTabStopId:y,onItemFocus:b.useCallback(w=>x(w),[x]),onItemShiftTab:b.useCallback(()=>_(!0),[]),onFocusableItemAdd:b.useCallback(()=>O(w=>w+1),[]),onFocusableItemRemove:b.useCallback(()=>O(w=>w-1),[]),children:d.jsx(Ae.div,{tabIndex:S||Q===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...n.style},onMouseDown:he(n.onMouseDown,()=>{C.current=!0}),onFocus:he(n.onFocus,w=>{const k=!C.current;if(w.target===w.currentTarget&&k&&!S){const R=new CustomEvent(P_,VEe);if(w.currentTarget.dispatchEvent(R),!R.defaultPrevented){const P=I().filter(U=>U.focusable),v=P.find(U=>U.active),A=P.find(U=>U.id===y),V=[v,A,...P].filter(Boolean).map(U=>U.ref.current);lG(V,u)}}C.current=!1}),onBlur:he(n.onBlur,()=>_(!1))})})}),oG="RovingFocusGroupItem",aG=b.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:i=!1,tabStopId:s,...o}=n,a=_o(),l=s||a,c=qEe(oG,t),u=c.currentTabStopId===l,h=iG(t),{onFocusableItemAdd:f,onFocusableItemRemove:m}=c;return b.useEffect(()=>{if(r)return f(),()=>m()},[r,f,m]),d.jsx(ME.ItemSlot,{scope:t,id:l,focusable:r,active:i,children:d.jsx(Ae.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:he(n.onMouseDown,g=>{r?c.onItemFocus(l):g.preventDefault()}),onFocus:he(n.onFocus,()=>c.onItemFocus(l)),onKeyDown:he(n.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){c.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const y=WEe(g,c.orientation,c.dir);if(y!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let S=h().filter(_=>_.focusable).map(_=>_.ref.current);if(y==="last")S.reverse();else if(y==="prev"||y==="next"){y==="prev"&&S.reverse();const _=S.indexOf(g.currentTarget);S=c.loop?XEe(S,_+1):S.slice(_+1)}setTimeout(()=>lG(S))}})})})});aG.displayName=oG;var FEe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function BEe(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function WEe(n,e,t){const r=BEe(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return FEe[r]}function lG(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function XEe(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var cG=sG,uG=aG,HI="Tabs",[GEe,d$e]=Ho(HI,[$S]),hG=$S(),[YEe,KI]=GEe(HI),dG=b.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=n,u=Lf(a),[h,f]=Ba({prop:r,onChange:i,defaultProp:s});return d.jsx(YEe,{scope:t,baseId:_o(),value:h,onValueChange:f,orientation:o,dir:u,activationMode:l,children:d.jsx(Ae.div,{dir:u,"data-orientation":o,...c,ref:e})})});dG.displayName=HI;var fG="TabsList",pG=b.forwardRef((n,e)=>{const{__scopeTabs:t,loop:r=!0,...i}=n,s=KI(fG,t),o=hG(t);return d.jsx(cG,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:d.jsx(Ae.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});pG.displayName=fG;var mG="TabsTrigger",gG=b.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,disabled:i=!1,...s}=n,o=KI(mG,t),a=hG(t),l=vG(o.baseId,r),c=xG(o.baseId,r),u=r===o.value;return d.jsx(uG,{asChild:!0,...a,focusable:!i,active:u,children:d.jsx(Ae.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:e,onMouseDown:he(n.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:he(n.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:he(n.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!i&&h&&o.onValueChange(r)})})})});gG.displayName=mG;var OG="TabsContent",yG=b.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,forceMount:i,children:s,...o}=n,a=KI(OG,t),l=vG(a.baseId,r),c=xG(a.baseId,r),u=r===a.value,h=b.useRef(u);return b.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),d.jsx(Kr,{present:i||u,children:({present:f})=>d.jsx(Ae.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:c,tabIndex:0,...o,ref:e,style:{...n.style,animationDuration:h.current?"0s":void 0},children:f&&s})})});yG.displayName=OG;function vG(n,e){return`${n}-trigger-${e}`}function xG(n,e){return`${n}-content-${e}`}var HEe=dG,wG=pG,bG=gG,SG=yG;const NS=HEe,ay=b.forwardRef(({className:n,...e},t)=>d.jsx(wG,{ref:t,className:Te("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",n),...e}));ay.displayName=wG.displayName;const ji=b.forwardRef(({className:n,...e},t)=>d.jsx(bG,{ref:t,className:Te("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",n),...e}));ji.displayName=bG.displayName;const go=b.forwardRef(({className:n,...e},t)=>d.jsx(SG,{ref:t,className:Te("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...e}));go.displayName=SG.displayName;const KEe=WO("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),JI=b.forwardRef(({className:n,variant:e,...t},r)=>d.jsx("div",{ref:r,role:"alert",className:Te(KEe({variant:e}),n),...t}));JI.displayName="Alert";const e$=b.forwardRef(({className:n,...e},t)=>d.jsx("h5",{ref:t,className:Te("mb-1 font-medium leading-none tracking-tight",n),...e}));e$.displayName="AlertTitle";const t$=b.forwardRef(({className:n,...e},t)=>d.jsx("div",{ref:t,className:Te("text-sm [&_p]:leading-relaxed",n),...e}));t$.displayName="AlertDescription";function JEe({trigger:n}){const{user:e}=Sn(),{toast:t}=Wn(),[r,i]=b.useState(!1),[s,o]=b.useState(!1),[a,l]=b.useState(""),[c,u]=b.useState(""),h=async f=>{if(f.preventDefault(),!!e)try{o(!0),await qa(Ie(se,"premiumRequests"),{userId:e.uid,userEmail:e.email,userName:e.displayName||"",requestedFeature:a,requestMessage:c,status:"pending",createdAt:Date.now()}),t({title:"Request Submitted",description:"Your premium feature request has been submitted. An admin will review it soon."}),l(""),u(""),i(!1)}catch(m){console.error("Error submitting premium request:",m),t({variant:"destructive",title:"Error",description:"Failed to submit your request. Please try again."})}finally{o(!1)}};return d.jsxs(Ia,{open:r,onOpenChange:i,children:[n&&d.jsx(vQ,{asChild:!0,children:n}),d.jsxs(To,{className:"sm:max-w-[425px]",children:[d.jsxs(Po,{children:[d.jsxs(Co,{className:"flex items-center gap-2",children:[d.jsx(Wx,{className:"h-5 w-5 text-amber-500"}),"Request Premium Feature"]}),d.jsx(Eo,{children:"Tell us which premium feature you'd like to try, and our admin team will review your request."})]}),d.jsxs("form",{onSubmit:h,className:"space-y-4 py-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"feature",children:"Feature Name"}),d.jsx(It,{id:"feature",placeholder:"Which premium feature would you like?",value:a,onChange:f=>l(f.target.value),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"message",children:"Message (Optional)"}),d.jsx(Wu,{id:"message",placeholder:"Tell us why you need this feature...",value:c,onChange:f=>u(f.target.value),className:"min-h-[100px]"})]}),d.jsxs(sc,{children:[d.jsx(ee,{type:"button",variant:"outline",onClick:()=>i(!1),disabled:s,children:"Cancel"}),d.jsx(ee,{type:"submit",disabled:s||!a,children:s?"Submitting...":"Submit Request"})]})]})]})]})}function eAe(){const{isFree:n}=eb();return n?d.jsxs(JI,{className:"mb-6 border-amber-300 bg-amber-50 text-amber-800",children:[d.jsx(Wx,{className:"h-5 w-5 text-amber-500"}),d.jsx(e$,{className:"text-amber-800 flex items-center gap-2",children:"Try Premium Features"}),d.jsxs(t$,{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[d.jsx("div",{children:"Unlock advanced features like unlimited snippets, AI-powered suggestions, and more. Request access to any premium feature you'd like to try!"}),d.jsx(JEe,{trigger:d.jsxs(ee,{size:"sm",className:"bg-amber-500 hover:bg-amber-600 text-white whitespace-nowrap",children:[d.jsx(Wx,{className:"h-4 w-4 mr-1"}),"Request Feature"]})})]})]}):null}function tAe(){const{user:n}=Sn(),[e,t]=b.useState("snippets"),{data:r,isLoading:i}=Nu({queryKey:["items",n==null?void 0:n.uid,e],queryFn:async()=>{if(!n)return[];const o=qe(Ie(se,e),je("userId","==",n.uid));return(await Be(o)).docs.map(l=>({id:l.id,...l.data()}))},enabled:!!n,refetchOnMount:!0,staleTime:5e3}),s=()=>i?d.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(o=>d.jsx("div",{className:"h-[300px] rounded-lg bg-card animate-pulse"},o))}):r!=null&&r.length?d.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:r.map(o=>e==="snippets"?d.jsx(Y8,{snippet:o,showActions:!1},o.id):e==="notes"?d.jsx(H8,{note:o,showActions:!1},o.id):d.jsx(rG,{checklist:o,showActions:!1},o.id))}):d.jsx("div",{className:"text-center py-12",children:d.jsxs("p",{className:"text-muted-foreground",children:["No ",e," found. Create your first one using the buttons on the left."]})});return d.jsx(Ar,{children:d.jsxs("div",{className:"space-y-4 relative",children:[d.jsx(eAe,{}),d.jsxs(NS,{defaultValue:"snippets",onValueChange:t,children:[d.jsxs(ay,{children:[d.jsx(ji,{value:"snippets",children:"Snippets"}),d.jsx(ji,{value:"notes",children:"Notes"}),d.jsx(ji,{value:"checklists",children:"Checklists"})]}),d.jsxs(go,{value:"snippets",className:"mt-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Your Snippets"}),d.jsx(xa,{type:"snippet",trigger:d.jsxs(ee,{className:"flex items-center gap-1",children:[d.jsx(Rm,{className:"h-4 w-4"})," New Snippet"]})})]}),s()]}),d.jsxs(go,{value:"notes",className:"mt-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Your Notes"}),d.jsx(xa,{type:"note",trigger:d.jsxs(ee,{className:"flex items-center gap-1",children:[d.jsx(Rm,{className:"h-4 w-4"})," New Note"]})})]}),s()]}),d.jsxs(go,{value:"checklists",className:"mt-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Your Checklists"}),d.jsx(xa,{type:"checklist",trigger:d.jsxs(ee,{className:"flex items-center gap-1",children:[d.jsx(Rm,{className:"h-4 w-4"})," New Checklist"]})})]}),s()]})]})]})})}const nAe=lt.object({email:lt.string().email(),password:lt.string().min(6)});function rAe(){const[n,e]=b.useState("login"),[,t]=Bi(),{toast:r}=Wn(),i=nS({resolver:rS(nAe),defaultValues:{email:"",password:""}}),s=async o=>{try{n==="login"?(await whe(o.email,o.password),t("/")):n==="register"?(await bhe(o.email,o.password),t("/")):n==="reset"&&(await khe(o.email),r({title:"Password reset email sent",description:"Check your email for further instructions"}),e("login"))}catch(a){const l=a.message.replace("Firebase:","Authentication");console.log(l),r({variant:"destructive",title:"Error",description:l})}};return d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:d.jsxs(wn,{className:"w-full max-w-md",children:[d.jsx(Zn,{children:d.jsx(Ui,{children:n==="login"?"Sign In":n==="register"?"Create Account":"Reset Password"})}),d.jsxs(bn,{children:[d.jsx(Rg,{...i,children:d.jsxs("form",{onSubmit:i.handleSubmit(s),className:"space-y-4",children:[d.jsx(Yn,{control:i.control,name:"email",render:({field:o})=>d.jsxs(Dn,{children:[d.jsx(gn,{children:"Email"}),d.jsx(On,{children:d.jsx(It,{placeholder:"Email",...o})}),d.jsx(Mn,{})]})}),n!=="reset"&&d.jsx(Yn,{control:i.control,name:"password",render:({field:o})=>d.jsxs(Dn,{children:[d.jsx(gn,{children:"Password"}),d.jsx(On,{children:d.jsx(It,{type:"password",placeholder:"Password",...o})}),d.jsx(Mn,{})]})}),d.jsx(ee,{type:"submit",className:"w-full",children:n==="login"?"Sign In":n==="register"?"Create Account":"Reset Password"})]})}),d.jsx("div",{className:"mt-4 text-center text-sm",children:n==="login"?d.jsxs(d.Fragment,{children:[d.jsx(ee,{variant:"link",onClick:()=>e("register"),children:"Need an account? Sign up"}),d.jsx(ee,{variant:"link",onClick:()=>e("reset"),children:"Forgot password?"})]}):d.jsx(ee,{variant:"link",onClick:()=>e("login"),children:"Already have an account? Sign in"})})]})]})})}var kG=["PageUp","PageDown"],_G=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],TG={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Gf="Slider",[VE,iAe,sAe]=ZO(Gf),[PG,f$e]=Ho(Gf,[sAe]),[oAe,jS]=PG(Gf),CG=b.forwardRef((n,e)=>{const{name:t,min:r=0,max:i=100,step:s=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:u,onValueChange:h=()=>{},onValueCommit:f=()=>{},inverted:m=!1,form:g,...y}=n,x=b.useRef(new Set),S=b.useRef(0),T=o==="horizontal"?aAe:lAe,[I=[],C]=Ba({prop:u,defaultProp:c,onChange:P=>{var A;(A=[...x.current][S.current])==null||A.focus(),h(P)}}),Q=b.useRef(I);function O(P){const v=fAe(I,P);R(P,v)}function w(P){R(P,S.current)}function k(){const P=Q.current[S.current];I[S.current]!==P&&f(I)}function R(P,v,{commit:A}={commit:!1}){const j=OAe(s),V=yAe(Math.round((P-r)/s)*s+r,j),U=gg(V,[r,i]);C((W=[])=>{const D=hAe(W,U,v);if(gAe(D,l*s)){S.current=D.indexOf(U);const L=String(D)!==String(W);return L&&A&&f(D),L?D:W}else return W})}return d.jsx(oAe,{scope:n.__scopeSlider,name:t,disabled:a,min:r,max:i,valueIndexToChangeRef:S,thumbs:x.current,values:I,orientation:o,form:g,children:d.jsx(VE.Provider,{scope:n.__scopeSlider,children:d.jsx(VE.Slot,{scope:n.__scopeSlider,children:d.jsx(T,{"aria-disabled":a,"data-disabled":a?"":void 0,...y,ref:e,onPointerDown:he(y.onPointerDown,()=>{a||(Q.current=I)}),min:r,max:i,inverted:m,onSlideStart:a?void 0:O,onSlideMove:a?void 0:w,onSlideEnd:a?void 0:k,onHomeKeyDown:()=>!a&&R(r,0,{commit:!0}),onEndKeyDown:()=>!a&&R(i,I.length-1,{commit:!0}),onStepKeyDown:({event:P,direction:v})=>{if(!a){const V=kG.includes(P.key)||P.shiftKey&&_G.includes(P.key)?10:1,U=S.current,W=I[U],D=s*V*v;R(W+D,U,{commit:!0})}}})})})})});CG.displayName=Gf;var[EG,AG]=PG(Gf,{startEdge:"left",endEdge:"right",size:"width",direction:1}),aAe=b.forwardRef((n,e)=>{const{min:t,max:r,dir:i,inverted:s,onSlideStart:o,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...u}=n,[h,f]=b.useState(null),m=Je(e,T=>f(T)),g=b.useRef(),y=Lf(i),x=y==="ltr",S=x&&!s||!x&&s;function _(T){const I=g.current||h.getBoundingClientRect(),C=[0,I.width],O=n$(C,S?[t,r]:[r,t]);return g.current=I,O(T-I.left)}return d.jsx(EG,{scope:n.__scopeSlider,startEdge:S?"left":"right",endEdge:S?"right":"left",direction:S?1:-1,size:"width",children:d.jsx(RG,{dir:y,"data-orientation":"horizontal",...u,ref:m,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:T=>{const I=_(T.clientX);o==null||o(I)},onSlideMove:T=>{const I=_(T.clientX);a==null||a(I)},onSlideEnd:()=>{g.current=void 0,l==null||l()},onStepKeyDown:T=>{const C=TG[S?"from-left":"from-right"].includes(T.key);c==null||c({event:T,direction:C?-1:1})}})})}),lAe=b.forwardRef((n,e)=>{const{min:t,max:r,inverted:i,onSlideStart:s,onSlideMove:o,onSlideEnd:a,onStepKeyDown:l,...c}=n,u=b.useRef(null),h=Je(e,u),f=b.useRef(),m=!i;function g(y){const x=f.current||u.current.getBoundingClientRect(),S=[0,x.height],T=n$(S,m?[r,t]:[t,r]);return f.current=x,T(y-x.top)}return d.jsx(EG,{scope:n.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:d.jsx(RG,{"data-orientation":"vertical",...c,ref:h,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:y=>{const x=g(y.clientY);s==null||s(x)},onSlideMove:y=>{const x=g(y.clientY);o==null||o(x)},onSlideEnd:()=>{f.current=void 0,a==null||a()},onStepKeyDown:y=>{const S=TG[m?"from-bottom":"from-top"].includes(y.key);l==null||l({event:y,direction:S?-1:1})}})})}),RG=b.forwardRef((n,e)=>{const{__scopeSlider:t,onSlideStart:r,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:l,...c}=n,u=jS(Gf,t);return d.jsx(Ae.span,{...c,ref:e,onKeyDown:he(n.onKeyDown,h=>{h.key==="Home"?(o(h),h.preventDefault()):h.key==="End"?(a(h),h.preventDefault()):kG.concat(_G).includes(h.key)&&(l(h),h.preventDefault())}),onPointerDown:he(n.onPointerDown,h=>{const f=h.target;f.setPointerCapture(h.pointerId),h.preventDefault(),u.thumbs.has(f)?f.focus():r(h)}),onPointerMove:he(n.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&i(h)}),onPointerUp:he(n.onPointerUp,h=>{const f=h.target;f.hasPointerCapture(h.pointerId)&&(f.releasePointerCapture(h.pointerId),s(h))})})}),QG="SliderTrack",IG=b.forwardRef((n,e)=>{const{__scopeSlider:t,...r}=n,i=jS(QG,t);return d.jsx(Ae.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});IG.displayName=QG;var LE="SliderRange",$G=b.forwardRef((n,e)=>{const{__scopeSlider:t,...r}=n,i=jS(LE,t),s=AG(LE,t),o=b.useRef(null),a=Je(e,o),l=i.values.length,c=i.values.map(f=>jG(f,i.min,i.max)),u=l>1?Math.min(...c):0,h=100-Math.max(...c);return d.jsx(Ae.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:a,style:{...n.style,[s.startEdge]:u+"%",[s.endEdge]:h+"%"}})});$G.displayName=LE;var UE="SliderThumb",NG=b.forwardRef((n,e)=>{const t=iAe(n.__scopeSlider),[r,i]=b.useState(null),s=Je(e,a=>i(a)),o=b.useMemo(()=>r?t().findIndex(a=>a.ref.current===r):-1,[t,r]);return d.jsx(cAe,{...n,ref:s,index:o})}),cAe=b.forwardRef((n,e)=>{const{__scopeSlider:t,index:r,name:i,...s}=n,o=jS(UE,t),a=AG(UE,t),[l,c]=b.useState(null),u=Je(e,_=>c(_)),h=l?o.form||!!l.closest("form"):!0,f=VI(l),m=o.values[r],g=m===void 0?0:jG(m,o.min,o.max),y=dAe(r,o.values.length),x=f==null?void 0:f[a.size],S=x?pAe(x,g,a.direction):0;return b.useEffect(()=>{if(l)return o.thumbs.add(l),()=>{o.thumbs.delete(l)}},[l,o.thumbs]),d.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${g}% + ${S}px)`},children:[d.jsx(VE.ItemSlot,{scope:n.__scopeSlider,children:d.jsx(Ae.span,{role:"slider","aria-label":n["aria-label"]||y,"aria-valuemin":o.min,"aria-valuenow":m,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...s,ref:u,style:m===void 0?{display:"none"}:n.style,onFocus:he(n.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),h&&d.jsx(uAe,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:m},r)]})});NG.displayName=UE;var uAe=n=>{const{value:e,...t}=n,r=b.useRef(null),i=zI(e);return b.useEffect(()=>{const s=r.current,o=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(o,"value").set;if(i!==e&&l){const c=new Event("input",{bubbles:!0});l.call(s,e),s.dispatchEvent(c)}},[i,e]),d.jsx("input",{style:{display:"none"},...t,ref:r,defaultValue:e})};function hAe(n=[],e,t){const r=[...n];return r[t]=e,r.sort((i,s)=>i-s)}function jG(n,e,t){const s=100/(t-e)*(n-e);return gg(s,[0,100])}function dAe(n,e){return e>2?`Value ${n+1} of ${e}`:e===2?["Minimum","Maximum"][n]:void 0}function fAe(n,e){if(n.length===1)return 0;const t=n.map(i=>Math.abs(i-e)),r=Math.min(...t);return t.indexOf(r)}function pAe(n,e,t){const r=n/2,s=n$([0,50],[0,r]);return(r-s(e)*t)*t}function mAe(n){return n.slice(0,-1).map((e,t)=>n[t+1]-e)}function gAe(n,e){if(e>0){const t=mAe(n);return Math.min(...t)>=e}return!0}function n$(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(n[1]-n[0]);return e[0]+r*(t-n[0])}}function OAe(n){return(String(n).split(".")[1]||"").length}function yAe(n,e){const t=Math.pow(10,e);return Math.round(n*t)/t}var DG=CG,vAe=IG,xAe=$G,wAe=NG;const MG=b.forwardRef(({className:n,...e},t)=>d.jsxs(DG,{ref:t,className:Te("relative flex w-full touch-none select-none items-center",n),...e,children:[d.jsx(vAe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:d.jsx(xAe,{className:"absolute h-full bg-primary"})}),d.jsx(wAe,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));MG.displayName=DG.displayName;function bAe(){const{theme:n,setTheme:e}=nQ(),[t,r]=b.useState("colors");return d.jsx("div",{className:"space-y-4",children:d.jsxs(NS,{defaultValue:"colors",className:"w-full",onValueChange:i=>r(i),children:[d.jsxs(ay,{className:"grid w-full grid-cols-2",children:[d.jsx(ji,{value:"colors",children:"Color Themes"}),d.jsx(ji,{value:"gradients",children:"Gradient Themes"})]}),d.jsx(go,{value:"colors",className:"mt-4",children:d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:fF.map(i=>d.jsx(M4,{themeOption:i,isSelected:n===i.id,onClick:()=>e(i.id)},i.id))})}),d.jsx(go,{value:"gradients",className:"mt-4",children:d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:pF.map(i=>d.jsx(M4,{themeOption:i,isSelected:n===i.id,onClick:()=>e(i.id)},i.id))})})]})})}function M4({themeOption:n,isSelected:e,onClick:t}){const{theme:r}=n;return d.jsxs(wn,{className:`overflow-hidden cursor-pointer transition-all hover:scale-105 ${e?"ring-2 ring-primary":""}`,onClick:t,children:[d.jsxs("div",{className:"h-24 w-full relative",style:{background:(n.type==="gradient",r.preview.background)},children:[e&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20",children:d.jsx(Yb,{className:"h-8 w-8 text-white"})}),d.jsxs("div",{className:"absolute bottom-2 left-2 right-2 flex space-x-2",children:[d.jsx("div",{className:"h-6 w-6 rounded-full",style:{backgroundColor:r.preview.primary}}),d.jsx("div",{className:"h-6 w-6 rounded-full",style:{backgroundColor:r.preview.secondary}}),d.jsx("div",{className:"h-6 w-6 rounded-full",style:{backgroundColor:r.preview.accent}})]})]}),d.jsxs(bn,{className:"p-3",children:[d.jsx("div",{className:"font-medium",children:n.name}),d.jsx("div",{className:"text-xs text-muted-foreground",children:n.description})]})]})}const DS=b.forwardRef(({className:n,...e},t)=>d.jsx("div",{className:"relative w-full overflow-auto",children:d.jsx("table",{ref:t,className:Te("w-full caption-bottom text-sm",n),...e})}));DS.displayName="Table";const MS=b.forwardRef(({className:n,...e},t)=>d.jsx("thead",{ref:t,className:Te("[&_tr]:border-b",n),...e}));MS.displayName="TableHeader";const VS=b.forwardRef(({className:n,...e},t)=>d.jsx("tbody",{ref:t,className:Te("[&_tr:last-child]:border-0",n),...e}));VS.displayName="TableBody";const SAe=b.forwardRef(({className:n,...e},t)=>d.jsx("tfoot",{ref:t,className:Te("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",n),...e}));SAe.displayName="TableFooter";const cc=b.forwardRef(({className:n,...e},t)=>d.jsx("tr",{ref:t,className:Te("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",n),...e}));cc.displayName="TableRow";const hi=b.forwardRef(({className:n,...e},t)=>d.jsx("th",{ref:t,className:Te("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",n),...e}));hi.displayName="TableHead";const zr=b.forwardRef(({className:n,...e},t)=>d.jsx("td",{ref:t,className:Te("p-4 align-middle [&:has([role=checkbox])]:pr-0",n),...e}));zr.displayName="TableCell";const kAe=b.forwardRef(({className:n,...e},t)=>d.jsx("caption",{ref:t,className:Te("mt-4 text-sm text-muted-foreground",n),...e}));kAe.displayName="TableCaption";function _Ae(){nQ();const{fontSize:n,setFontSize:e}=gF(),[,t]=Bi(),{user:r}=Sn(),{toast:i}=Wn(),[s,o]=b.useState(!1),[a,l]=b.useState(!1),[c,u]=b.useState([]),[h,f]=b.useState(!1),m=b.useRef(null);b.useEffect(()=>{r&&g()},[r]);const g=async()=>{if(r)try{f(!0);const w=qe(Ie(se,"backups"),je("userId","==",r.uid)),R=(await Be(w)).docs.map(P=>({id:P.id,...P.data()}));u(R)}catch(w){console.error("Error fetching backup files:",w),i({variant:"destructive",title:"Error",description:"Failed to load backup files."})}finally{f(!1)}},y=w=>{try{e(w[0])}catch{i({variant:"destructive",title:"Error",description:"Failed to update font size. Please try again."})}},x=async()=>{if(r)try{o(!0);const w={snippets:[],notes:[],checklists:[],projects:[],profile:{}},k=await Be(qe(Ie(se,"users"),je("__name__","==",r.uid)));k.empty||(w.profile=k.docs[0].data());const R=qe(Ie(se,"snippets"),je("userId","==",r.uid)),P=await Be(R);w.snippets=P.docs.map(re=>({id:re.id,...re.data()}));const v=qe(Ie(se,"notes"),je("userId","==",r.uid)),A=await Be(v);w.notes=A.docs.map(re=>({id:re.id,...re.data()}));const j=qe(Ie(se,"checklists"),je("userId","==",r.uid)),V=await Be(j);w.checklists=V.docs.map(re=>({id:re.id,...re.data()}));const U=qe(Ie(se,"projects"),je("userId","==",r.uid)),W=await Be(U);w.projects=W.docs.map(re=>({id:re.id,...re.data()}));const D=new Date,L=`snippets-backup-${D.toISOString().split("T")[0]}.json`,Y=JSON.stringify(w,null,2),F=new Blob([Y],{type:"application/json"}),Z=mg(Bx,`backups/${r.uid}/${L}`);await TZ(Z,F);const G=await CZ(Z),J=await qa(Ie(se,"backups"),{userId:r.uid,fileName:L,timestamp:D.getTime(),downloadUrl:G,createdAt:D.getTime()});u([...c,{id:J.id,fileName:L,timestamp:D.getTime(),downloadUrl:G}]);const ae=URL.createObjectURL(F),oe=document.createElement("a");oe.href=ae,oe.download=L,document.body.appendChild(oe),oe.click(),document.body.removeChild(oe),i({title:"Export Successful",description:"Your data has been exported and saved to your account."})}catch(w){console.error("Export error:",w),i({variant:"destructive",title:"Export Failed",description:w.message||"Failed to export your data. Please try again."})}finally{o(!1)}},S=async w=>{try{const k=document.createElement("a");k.href=w.downloadUrl,k.download=w.fileName,document.body.appendChild(k),k.click(),document.body.removeChild(k),i({title:"Download Started",description:"Your backup file download has started."})}catch(k){console.error("Download error:",k),i({variant:"destructive",title:"Download Failed",description:k.message||"Failed to download backup file."})}},_=async w=>{if(r)try{const k=mg(Bx,`backups/${r.uid}/${w.fileName}`);await WR(k),await zc(We(se,"backups",w.id)),u(c.filter(R=>R.id!==w.id)),i({title:"Backup Deleted",description:"Your backup file has been deleted."})}catch(k){console.error("Delete error:",k),i({variant:"destructive",title:"Delete Failed",description:k.message||"Failed to delete backup file."})}},T=()=>{m.current&&m.current.click()},I=async w=>{if(!(!r||!w.target.files||w.target.files.length===0))try{l(!0);const k=w.target.files[0],R=new FileReader;R.onload=async P=>{var v;try{if(!((v=P.target)!=null&&v.result))throw new Error("Failed to read file");const A=JSON.parse(P.target.result);if(!A.snippets||!A.notes||!A.checklists)throw new Error("Invalid backup file format. The file is missing required data structures.");const j=RR(se);let V=0;for(const U of A.snippets)if(U.userId===r.uid){const W=We(se,"snippets",U.id);j.set(W,{...U,updatedAt:new Date().getTime()}),V++}for(const U of A.notes)if(U.userId===r.uid){const W=We(se,"notes",U.id);j.set(W,{...U,updatedAt:new Date().getTime()}),V++}for(const U of A.checklists)if(U.userId===r.uid){const W=We(se,"checklists",U.id);j.set(W,{...U,updatedAt:new Date().getTime()}),V++}if(A.projects&&Array.isArray(A.projects)){for(const U of A.projects)if(U.userId===r.uid){const W=We(se,"projects",U.id);j.set(W,{...U,updatedAt:new Date().getTime()}),V++}}await j.commit(),i({title:"Import Successful",description:`Successfully imported ${V} items to your account.`})}catch(A){console.error("Import parsing error:",A),i({variant:"destructive",title:"Import Failed",description:A.message||"Failed to import your data. Please check the file format."})}finally{l(!1),m.current&&(m.current.value="")}},R.onerror=()=>{i({variant:"destructive",title:"Import Failed",description:"Failed to read the file. Please try again."}),l(!1)},R.readAsText(k)}catch(k){console.error("Import error:",k),i({variant:"destructive",title:"Import Failed",description:k.message||"Failed to import your data. Please try again."}),l(!1)}},C=w=>new Date(w).toLocaleString(),Q=()=>{const{isPaid:w}=eb();return w?null:d.jsxs("div",{className:"flex items-center text-xs text-muted-foreground bg-muted px-2 py-1 rounded",children:[d.jsx(mD,{className:"h-3 w-3 mr-1"}),"Premium"]})},O=()=>{const{isPaid:w}=eb();return w?null:d.jsx("div",{className:"absolute inset-0 bg-background/50 backdrop-blur-[1px] flex items-center justify-center z-10 cursor-not-allowed",children:d.jsxs("div",{className:"flex flex-col items-center justify-center p-4 rounded-lg",children:[d.jsx(mD,{className:"h-6 w-6 text-muted-foreground mb-2"}),d.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Available with paid subscription"})]})})};return d.jsx(Ar,{children:d.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[d.jsxs("div",{className:"flex items-center mb-6",children:[d.jsxs(ee,{variant:"ghost",onClick:()=>t("/"),className:"mr-4",children:[d.jsx(il,{className:"h-4 w-4 mr-2"}),"Back"]}),d.jsx("h1",{className:"text-2xl font-bold",children:"Settings"})]}),d.jsxs(wn,{children:[d.jsxs(Zn,{className:"flex flex-row items-center justify-between",children:[d.jsx(Ui,{children:"Appearance"}),d.jsx(Q,{})]}),d.jsxs(bn,{className:"space-y-6",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsx(Zt,{children:"Theme"}),d.jsxs("div",{className:"relative",children:[d.jsx(bAe,{}),d.jsx(O,{})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{children:"Font Size"}),d.jsxs("div",{className:"relative",children:[d.jsx(MG,{value:[n],max:20,min:12,step:1,className:"w-full",onValueChange:y}),d.jsx(O,{})]})]})]})]}),d.jsxs(wn,{children:[d.jsxs(Zn,{className:"flex flex-row items-center justify-between",children:[d.jsx(Ui,{children:"Backup & Restore"}),d.jsx(Q,{})]}),d.jsxs(bn,{className:"space-y-6 relative",children:[d.jsxs(JI,{children:[d.jsx(e$,{children:"Important"}),d.jsx(t$,{children:"Export your data to create a backup file that you can use to restore your snippets, notes, and checklists. When importing, make sure the file has the correct format."})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[d.jsxs(ee,{onClick:x,disabled:s||!r,className:"flex items-center gap-2",children:[d.jsx(Pue,{className:"h-4 w-4"}),s?"Exporting...":"Export Data"]}),d.jsxs(ee,{variant:"outline",onClick:T,disabled:a||!r,className:"flex items-center gap-2",children:[d.jsx(tF,{className:"h-4 w-4"}),a?"Importing...":"Import Data"]}),d.jsx(O,{}),d.jsx("input",{type:"file",ref:m,className:"hidden",accept:"application/json",onChange:I})]}),d.jsxs("div",{className:"mt-6",children:[d.jsx("h3",{className:"text-lg font-medium mb-2",children:"Your Backups"}),h?d.jsx("div",{className:"text-center py-4",children:d.jsx("p",{className:"text-muted-foreground",children:"Loading your backups..."})}):c.length>0?d.jsxs(DS,{children:[d.jsx(MS,{children:d.jsxs(cc,{children:[d.jsx(hi,{children:"Filename"}),d.jsx(hi,{children:"Date"}),d.jsx(hi,{className:"text-right",children:"Actions"})]})}),d.jsx(VS,{children:c.map(w=>d.jsxs(cc,{children:[d.jsx(zr,{children:w.fileName}),d.jsx(zr,{children:C(w.timestamp)}),d.jsx(zr,{className:"text-right",children:d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(ee,{variant:"outline",size:"sm",onClick:()=>S(w),title:"Download",children:d.jsx(Cue,{className:"h-4 w-4"})}),d.jsx(ee,{variant:"outline",size:"sm",onClick:()=>_(w),title:"Delete",children:d.jsx(eQ,{className:"h-4 w-4"})})]})})]},w.id))})]}):d.jsx("div",{className:"text-center py-4 border rounded-md",children:d.jsx("p",{className:"text-muted-foreground",children:"No backups found. Export your data to create a backup."})})]})]})]})]})})}function TAe(){return d.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:d.jsx(wn,{className:"w-full max-w-md mx-4",children:d.jsxs(bn,{className:"pt-6",children:[d.jsxs("div",{className:"flex mb-4 gap-2",children:[d.jsx(bue,{className:"h-8 w-8 text-red-500"}),d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),d.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function PAe(){const{id:n}=PO(),[,e]=Bi(),{user:t}=Sn(),[r,i]=b.useState(null),[s,o]=b.useState(!0),a=Fi(),{toast:l}=Wn();b.useEffect(()=>{(async()=>{if(!(!n||!t))try{o(!0);const f=await Oi(We(se,"snippets",n));if(f.exists()){const m={id:f.id,...f.data()};m.userId===t.uid?i(m):(l({variant:"destructive",title:"Access denied",description:"You do not have permission to view this snippet."}),e("/"))}else l({variant:"destructive",title:"Not found",description:"The requested snippet could not be found."}),e("/")}catch(f){l({variant:"destructive",title:"Error",description:f.message||"Failed to load snippet"})}finally{o(!1)}})()},[n,t,e,l]);const c=async()=>{if(r)try{if(navigator.clipboard)await navigator.clipboard.writeText(r.content),l({title:"Copied!",description:"Snippet copied to clipboard"});else{const h=document.createElement("textarea");h.value=r.content,h.style.position="fixed",h.style.left="-999999px",h.style.top="-999999px",document.body.appendChild(h),h.focus(),h.select();const f=document.execCommand("copy");if(document.body.removeChild(h),f)l({title:"Copied!",description:"Snippet copied to clipboard"});else throw new Error("Fallback copy method failed")}}catch(h){console.error("Copy to clipboard failed:",h),l({variant:"destructive",title:"Error",description:h.message||"Failed to copy to clipboard. This may be due to permission restrictions in your browser."})}},u=async()=>{if(r)try{await zc(We(se,"snippets",r.id)),a.invalidateQueries({queryKey:["items"]}),a.invalidateQueries({queryKey:["folder-items"]}),l({title:"Success",description:"Snippet deleted successfully"}),e("/")}catch(h){l({variant:"destructive",title:"Error",description:h.message||"Failed to delete snippet"})}};return s?d.jsx(Ar,{children:d.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[d.jsx("div",{className:"h-8 w-24 bg-muted animate-pulse rounded mb-4"}),d.jsx("div",{className:"h-12 w-3/4 bg-muted animate-pulse rounded mb-6"}),d.jsx("div",{className:"h-[400px] bg-muted animate-pulse rounded"})]})}):r?d.jsx(Ar,{children:d.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[d.jsxs("div",{className:"flex items-center mb-6",children:[d.jsxs(ee,{variant:"ghost",onClick:()=>e("/"),className:"mr-4",children:[d.jsx(il,{className:"h-4 w-4 mr-2"}),"Back"]}),d.jsx("h1",{className:"text-2xl font-bold",children:"Snippet Details"})]}),d.jsxs(wn,{className:"w-full",children:[d.jsxs(Zn,{className:"space-y-1",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h3",{className:"text-xl font-semibold",children:r.title}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx(ee,{variant:"ghost",size:"icon",onClick:c,title:"Copy snippet to clipboard",children:d.jsx(Tue,{className:"h-4 w-4"})}),d.jsx(Xf,{type:"snippet",itemId:r.id,defaultValues:r,trigger:d.jsx(ee,{variant:"ghost",size:"icon",title:"Edit snippet",children:d.jsx(Df,{className:"h-4 w-4"})}),onEdited:()=>{a.invalidateQueries({queryKey:["items"]}),a.invalidateQueries({queryKey:["folder-items"]}),Oi(We(se,"snippets",r.id)).then(h=>{h.exists()&&i({id:h.id,...h.data()})})}}),d.jsx(ee,{variant:"ghost",size:"icon",onClick:u,title:"Delete snippet",children:d.jsx(Mf,{className:"h-4 w-4"})})]})]}),r.description&&d.jsx("p",{className:"text-sm text-muted-foreground",children:r.description}),d.jsx("div",{className:"flex flex-wrap gap-2",children:r.tags.map(h=>d.jsx(Jt,{href:`/tags/${encodeURIComponent(h)}`,children:d.jsx(Vn,{variant:"secondary",className:"cursor-pointer hover:bg-secondary/70",children:h})},h))})]}),d.jsx(bn,{children:d.jsx("div",{className:"rounded-md border overflow-auto",children:d.jsx(SS,{value:r.content,language:r.language,readOnly:!0})})}),d.jsxs(Xc,{className:"text-sm text-muted-foreground",children:["Last updated: ",new Date(r.updatedAt).toLocaleDateString()]})]})]})}):d.jsx(Ar,{children:d.jsxs("div",{className:"max-w-4xl mx-auto p-4 text-center",children:[d.jsx("p",{children:"Snippet not found"}),d.jsx(ee,{onClick:()=>e("/"),className:"mt-4",children:"Go back home"})]})})}function CAe(){const{id:n}=PO(),[,e]=Bi(),{user:t}=Sn(),[r,i]=b.useState(null),[s,o]=b.useState(!0),a=Fi(),{toast:l}=Wn();b.useEffect(()=>{(async()=>{if(!(!n||!t))try{o(!0);const f=await Oi(We(se,"notes",n));if(f.exists()){const m={id:f.id,...f.data()};m.userId===t.uid?(m.tags=m.tags||[],i(m)):(l({variant:"destructive",title:"Access denied",description:"You do not have permission to view this note."}),e("/"))}else l({variant:"destructive",title:"Not found",description:"The requested note could not be found."}),e("/")}catch(f){l({variant:"destructive",title:"Error",description:f.message||"Failed to load note"})}finally{o(!1)}})()},[n,t,e,l]);const c=async()=>{if(r)try{await zc(We(se,"notes",r.id)),a.invalidateQueries({queryKey:["items"]}),a.invalidateQueries({queryKey:["folder-items"]}),l({title:"Success",description:"Note deleted successfully"}),e("/")}catch(h){l({variant:"destructive",title:"Error",description:h.message||"Failed to delete note"})}};if(s)return d.jsx(Ar,{children:d.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[d.jsx("div",{className:"h-8 w-24 bg-muted animate-pulse rounded mb-4"}),d.jsx("div",{className:"h-12 w-3/4 bg-muted animate-pulse rounded mb-6"}),d.jsx("div",{className:"h-[400px] bg-muted animate-pulse rounded"})]})});if(!r)return d.jsx(Ar,{children:d.jsxs("div",{className:"max-w-4xl mx-auto p-4 text-center",children:[d.jsx("p",{children:"Note not found"}),d.jsx(ee,{onClick:()=>e("/"),className:"mt-4",children:"Go back home"})]})});const u=r.tags||[];return d.jsx(Ar,{children:d.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[d.jsxs("div",{className:"flex items-center mb-6",children:[d.jsxs(ee,{variant:"ghost",onClick:()=>e("/"),className:"mr-4",children:[d.jsx(il,{className:"h-4 w-4 mr-2"}),"Back"]}),d.jsx("h1",{className:"text-2xl font-bold",children:"Note Details"})]}),d.jsxs(wn,{className:"w-full",children:[d.jsxs(Zn,{className:"space-y-1",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h3",{className:"text-xl font-semibold",children:r.title}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx(Xf,{type:"note",itemId:r.id,defaultValues:{...r,tags:u},trigger:d.jsx(ee,{variant:"ghost",size:"icon",title:"Edit note",children:d.jsx(Df,{className:"h-4 w-4"})}),onEdited:()=>{a.invalidateQueries({queryKey:["items"]}),a.invalidateQueries({queryKey:["folder-items"]}),Oi(We(se,"notes",r.id)).then(h=>{if(h.exists()){const f={id:h.id,...h.data()};f.tags=f.tags||[],i(f)}})}}),d.jsx(ee,{variant:"ghost",size:"icon",onClick:c,title:"Delete note",children:d.jsx(Mf,{className:"h-4 w-4"})})]})]}),r.description&&d.jsx("p",{className:"text-sm text-muted-foreground",children:r.description}),d.jsx("div",{className:"flex flex-wrap gap-2",children:u.map(h=>d.jsx(Jt,{href:`/tags/${encodeURIComponent(h)}`,children:d.jsx(Vn,{variant:"secondary",className:"cursor-pointer hover:bg-secondary/70",children:h})},h))})]}),d.jsx(bn,{children:d.jsx("div",{className:"whitespace-pre-wrap rounded-md p-4 border",children:r.content})}),d.jsxs(Xc,{className:"text-sm text-muted-foreground",children:["Last updated: ",new Date(r.updatedAt).toLocaleDateString()]})]})]})})}function EAe(){const{id:n}=PO(),[,e]=Bi(),{user:t}=Sn(),[r,i]=b.useState(null),[s,o]=b.useState([]),[a,l]=b.useState(!0),c=Fi(),{toast:u}=Wn();b.useEffect(()=>{(async()=>{if(!(!n||!t))try{l(!0);const g=await Oi(We(se,"checklists",n));if(g.exists()){const y={id:g.id,...g.data()};y.userId===t.uid?(i(y),y.content&&o(JSON.parse(y.content))):(u({variant:"destructive",title:"Access denied",description:"You do not have permission to view this checklist."}),e("/"))}else u({variant:"destructive",title:"Not found",description:"The requested checklist could not be found."}),e("/")}catch(g){u({variant:"destructive",title:"Error",description:g.message||"Failed to load checklist"})}finally{l(!1)}})()},[n,t,e,u]);const h=async()=>{if(r)try{await zc(We(se,"checklists",r.id)),c.invalidateQueries({queryKey:["items"]}),c.invalidateQueries({queryKey:["folder-items"]}),u({title:"Success",description:"Checklist deleted successfully"}),e("/")}catch(m){u({variant:"destructive",title:"Error",description:m.message||"Failed to delete checklist"})}},f=async m=>{if(r)try{const g=[...s];g[m].checked=!g[m].checked,o(g),await Mi(We(se,"checklists",r.id),{content:JSON.stringify(g),updatedAt:new Date().getTime()});const y={...r,content:JSON.stringify(g),updatedAt:new Date().getTime()};c.setQueryData(["items",t==null?void 0:t.uid,"checklists"],x=>x?x.map(S=>S.id===r.id?y:S):[y]),c.setQueryData(["folder-items",t==null?void 0:t.uid,"checklists"],x=>x?x.map(S=>S.id===r.id?y:S):[y]),c.invalidateQueries({queryKey:["items"]}),c.invalidateQueries({queryKey:["folder-items"]})}catch(g){u({variant:"destructive",title:"Error",description:g.message||"Failed to update item"})}};return a?d.jsx(Ar,{children:d.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[d.jsx("div",{className:"h-8 w-24 bg-muted animate-pulse rounded mb-4"}),d.jsx("div",{className:"h-12 w-3/4 bg-muted animate-pulse rounded mb-6"}),d.jsx("div",{className:"h-[400px] bg-muted animate-pulse rounded"})]})}):r?d.jsx(Ar,{children:d.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[d.jsxs("div",{className:"flex items-center mb-6",children:[d.jsxs(ee,{variant:"ghost",onClick:()=>e("/"),className:"mr-4",children:[d.jsx(il,{className:"h-4 w-4 mr-2"}),"Back"]}),d.jsx("h1",{className:"text-2xl font-bold",children:"Checklist Details"})]}),d.jsxs(wn,{className:"w-full",children:[d.jsxs(Zn,{className:"space-y-1",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h3",{className:"text-xl font-semibold",children:r.title}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx(Xf,{type:"checklist",itemId:r.id,defaultValues:r,trigger:d.jsx(ee,{variant:"ghost",size:"icon",title:"Edit checklist",children:d.jsx(Df,{className:"h-4 w-4"})}),onEdited:()=>{c.invalidateQueries({queryKey:["items"]}),c.invalidateQueries({queryKey:["folder-items"]}),Oi(We(se,"checklists",r.id)).then(m=>{if(m.exists()){const g={id:m.id,...m.data()};i(g),g.content&&o(JSON.parse(g.content))}})}}),d.jsx(ee,{variant:"ghost",size:"icon",onClick:h,title:"Delete checklist",children:d.jsx(Mf,{className:"h-4 w-4"})})]})]}),r.description&&d.jsx("p",{className:"text-sm text-muted-foreground",children:r.description}),d.jsx("div",{className:"flex flex-wrap gap-2",children:r.tags.map(m=>d.jsx(Jt,{href:`/tags/${encodeURIComponent(m)}`,children:d.jsx(Vn,{variant:"secondary",className:"cursor-pointer hover:bg-secondary/70",children:m})},m))})]}),d.jsx(bn,{children:d.jsx("div",{className:"rounded-md border p-4",children:s.length===0?d.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No items in this checklist"}):d.jsx("div",{className:"space-y-2",children:s.map((m,g)=>d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(YI,{id:`item-${g}`,checked:m.checked,onCheckedChange:()=>f(g)}),d.jsx("label",{htmlFor:`item-${g}`,className:`text-sm ${m.checked?"line-through text-muted-foreground":""}`,children:m.text})]},g))})})}),d.jsxs(Xc,{className:"text-sm text-muted-foreground",children:["Last updated: ",new Date(r.updatedAt).toLocaleDateString()]})]})]})}):d.jsx(Ar,{children:d.jsxs("div",{className:"max-w-4xl mx-auto p-4 text-center",children:[d.jsx("p",{children:"Checklist not found"}),d.jsx(ee,{onClick:()=>e("/"),className:"mt-4",children:"Go back home"})]})})}function AAe(){const{tag:n}=PO(),[,e]=Bi(),{user:t}=Sn(),{toast:r}=Wn(),[i,s]=b.useState(!0),[o,a]=b.useState([]),[l,c]=b.useState([]),[u,h]=b.useState([]),[f,m]=b.useState("all");b.useEffect(()=>{(async()=>{if(!(!t||!n))try{s(!0);const x=decodeURIComponent(n),S=qe(Ie(se,"snippets"),je("userId","==",t.uid),je("tags","array-contains",x)),T=(await Be(S)).docs.map(R=>({id:R.id,...R.data()}));a(T);const I=qe(Ie(se,"notes"),je("userId","==",t.uid),je("tags","array-contains",x)),Q=(await Be(I)).docs.map(R=>({id:R.id,...R.data()}));c(Q);const O=qe(Ie(se,"checklists"),je("userId","==",t.uid),je("tags","array-contains",x)),k=(await Be(O)).docs.map(R=>({id:R.id,...R.data()}));h(k)}catch(x){console.error("Error fetching items by tag:",x),r({variant:"destructive",title:"Error",description:x.message||"Failed to load items"})}finally{s(!1)}})()},[t,n,r]);const g=()=>{if(i)return d.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(x=>d.jsx("div",{className:"h-[300px] rounded-lg bg-card animate-pulse"},x))});const y=[];return(f==="all"||f==="snippets")&&y.push(...o),(f==="all"||f==="notes")&&y.push(...l),(f==="all"||f==="checklists")&&y.push(...u),y.length===0?d.jsx("div",{className:"text-center py-12",children:d.jsxs("p",{className:"text-muted-foreground",children:['No items found with tag "',decodeURIComponent(n||""),'".']})}):d.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:y.map(x=>x.language?d.jsx(Y8,{snippet:x},x.id):x.content&&typeof x.content=="string"&&!x.content.startsWith("[{")?d.jsx(H8,{note:x},x.id):d.jsx(rG,{checklist:x},x.id))})};return d.jsx(Ar,{children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center mb-6",children:[d.jsxs(ee,{variant:"ghost",onClick:()=>e("/"),className:"mr-4",children:[d.jsx(il,{className:"h-4 w-4 mr-2"}),"Back"]}),d.jsxs("h1",{className:"text-2xl font-bold",children:["Tag: ",decodeURIComponent(n||"")]})]}),d.jsxs(NS,{defaultValue:"all",onValueChange:m,children:[d.jsxs(ay,{children:[d.jsx(ji,{value:"all",children:"All Items"}),d.jsxs(ji,{value:"snippets",children:["Snippets (",o.length,")"]}),d.jsxs(ji,{value:"notes",children:["Notes (",l.length,")"]}),d.jsxs(ji,{value:"checklists",children:["Checklists (",u.length,")"]})]}),d.jsx(go,{value:"all",className:"mt-6",children:g()}),d.jsx(go,{value:"snippets",className:"mt-6",children:g()}),d.jsx(go,{value:"notes",className:"mt-6",children:g()}),d.jsx(go,{value:"checklists",className:"mt-6",children:g()})]})]})})}const RAe=lt.object({name:lt.string().min(1,"Project name is required"),description:lt.string().optional()});function QAe(){const{user:n}=Sn(),{toast:e}=Wn(),t=Fi(),[r,i]=b.useState(!1),[s,o]=b.useState(!1),[a,l]=b.useState(!1),[c,u]=b.useState(null),h=nS({resolver:rS(RAe),defaultValues:{name:"",description:""}}),{data:f,isLoading:m}=Nu({queryKey:["projects",n==null?void 0:n.uid],queryFn:async()=>{if(!n)return[];const O=qe(Ie(se,"projects"),je("userId","==",n.uid));return(await Be(O)).docs.map(k=>({id:k.id,...k.data()}))},enabled:!!n}),g=R1({mutationFn:async O=>{if(!n)throw new Error("You must be logged in to create a project");const w=Date.now(),k={...O,userId:n.uid,createdAt:w,updatedAt:w};return{id:(await qa(Ie(se,"projects"),k)).id,...k}},onSuccess:O=>{t.invalidateQueries({queryKey:["projects"]}),e({title:"Success",description:"Project created successfully"}),i(!1),h.reset()},onError:O=>{e({variant:"destructive",title:"Error",description:O.message||"Failed to create project"})}}),y=R1({mutationFn:async O=>{if(!n)throw new Error("You must be logged in to update a project");const{id:w,...k}=O,R=We(se,"projects",w);return await Mi(R,{...k,updatedAt:Date.now()}),{id:w,...k}},onSuccess:()=>{t.invalidateQueries({queryKey:["projects"]}),e({title:"Success",description:"Project updated successfully"}),o(!1),u(null),h.reset()},onError:O=>{e({variant:"destructive",title:"Error",description:O.message||"Failed to update project"})}}),x=R1({mutationFn:async O=>{if(!n)throw new Error("You must be logged in to delete a project");const w=We(se,"projects",O);return await zc(w),O},onSuccess:()=>{t.invalidateQueries({queryKey:["projects"]}),e({title:"Success",description:"Project deleted successfully"}),l(!1),u(null)},onError:O=>{e({variant:"destructive",title:"Error",description:O.message||"Failed to delete project"})}}),S=O=>{g.mutate(O)},_=O=>{c&&y.mutate({...O,id:c.id})},T=()=>{c&&x.mutate(c.id)},I=O=>{u(O),h.reset({name:O.name,description:O.description||""}),o(!0)},C=O=>{u(O),l(!0)},Q=()=>m?d.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(O=>d.jsx("div",{className:"h-[200px] rounded-lg bg-card animate-pulse"},O))}):f!=null&&f.length?d.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:f.map(O=>d.jsxs(wn,{children:[d.jsxs(Zn,{children:[d.jsx(Ui,{children:O.name}),O.description&&d.jsx(th,{children:O.description})]}),d.jsx(bn,{children:d.jsxs("p",{className:"text-sm text-muted-foreground",children:["Created: ",O.createdAt?new Date(typeof O.createdAt=="object"&&O.createdAt.seconds?O.createdAt.seconds*1e3:O.createdAt).toLocaleDateString():"N/A"]})}),d.jsxs(Xc,{className:"flex justify-end space-x-2",children:[d.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>I(O),children:[d.jsx(Nue,{className:"h-4 w-4 mr-2"}),"Edit"]}),d.jsxs(ee,{variant:"destructive",size:"sm",onClick:()=>C(O),children:[d.jsx(eQ,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]},O.id))}):d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-muted-foreground",children:"No projects found. Create your first project using the button below."})});return d.jsx(Ar,{children:d.jsxs("div",{className:"space-y-4 relative",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h1",{className:"text-2xl font-bold",children:"Projects"}),d.jsxs(ee,{onClick:()=>{h.reset(),i(!0)},children:[d.jsx(Rm,{className:"h-4 w-4 mr-2"}),"New Project"]})]}),Q(),d.jsx(Ia,{open:r,onOpenChange:i,children:d.jsxs(To,{children:[d.jsxs(Po,{children:[d.jsx(Co,{children:"Create New Project"}),d.jsx(Eo,{children:"Add a new project to organize your snippets, notes, and checklists."})]}),d.jsx(Rg,{...h,children:d.jsxs("form",{onSubmit:h.handleSubmit(S),className:"space-y-4",children:[d.jsx(Yn,{control:h.control,name:"name",render:({field:O})=>d.jsxs(Dn,{children:[d.jsx(gn,{children:"Name *"}),d.jsx(On,{children:d.jsx(It,{placeholder:"Project name",...O})}),d.jsx(Mn,{})]})}),d.jsx(Yn,{control:h.control,name:"description",render:({field:O})=>d.jsxs(Dn,{children:[d.jsx(gn,{children:"Description"}),d.jsx(On,{children:d.jsx(Wu,{placeholder:"Project description",...O})}),d.jsx(Mn,{})]})}),d.jsx(sc,{children:d.jsx(ee,{type:"submit",disabled:g.isPending,children:g.isPending?"Creating...":"Create Project"})})]})})]})}),d.jsx(Ia,{open:s,onOpenChange:o,children:d.jsxs(To,{children:[d.jsxs(Po,{children:[d.jsx(Co,{children:"Edit Project"}),d.jsx(Eo,{children:"Update your project details."})]}),d.jsx(Rg,{...h,children:d.jsxs("form",{onSubmit:h.handleSubmit(_),className:"space-y-4",children:[d.jsx(Yn,{control:h.control,name:"name",render:({field:O})=>d.jsxs(Dn,{children:[d.jsx(gn,{children:"Name *"}),d.jsx(On,{children:d.jsx(It,{placeholder:"Project name",...O})}),d.jsx(Mn,{})]})}),d.jsx(Yn,{control:h.control,name:"description",render:({field:O})=>d.jsxs(Dn,{children:[d.jsx(gn,{children:"Description"}),d.jsx(On,{children:d.jsx(Wu,{placeholder:"Project description",...O})}),d.jsx(Mn,{})]})}),d.jsx(sc,{children:d.jsx(ee,{type:"submit",disabled:y.isPending,children:y.isPending?"Updating...":"Update Project"})})]})})]})}),d.jsx(Ia,{open:a,onOpenChange:l,children:d.jsxs(To,{children:[d.jsxs(Po,{children:[d.jsx(Co,{children:"Delete Project"}),d.jsx(Eo,{children:"Are you sure you want to delete this project? This action cannot be undone."})]}),d.jsxs(sc,{children:[d.jsx(ee,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),d.jsx(ee,{variant:"destructive",onClick:T,disabled:x.isPending,children:x.isPending?"Deleting...":"Delete Project"})]})]})})]})})}var r$="Avatar",[IAe,p$e]=Ho(r$),[$Ae,VG]=IAe(r$),LG=b.forwardRef((n,e)=>{const{__scopeAvatar:t,...r}=n,[i,s]=b.useState("idle");return d.jsx($Ae,{scope:t,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:d.jsx(Ae.span,{...r,ref:e})})});LG.displayName=r$;var UG="AvatarImage",zG=b.forwardRef((n,e)=>{const{__scopeAvatar:t,src:r,onLoadingStatusChange:i=()=>{},...s}=n,o=VG(UG,t),a=NAe(r,s.referrerPolicy),l=Yt(c=>{i(c),o.onImageLoadingStatusChange(c)});return Fn(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?d.jsx(Ae.img,{...s,ref:e,src:r}):null});zG.displayName=UG;var qG="AvatarFallback",ZG=b.forwardRef((n,e)=>{const{__scopeAvatar:t,delayMs:r,...i}=n,s=VG(qG,t),[o,a]=b.useState(r===void 0);return b.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&s.imageLoadingStatus!=="loaded"?d.jsx(Ae.span,{...i,ref:e}):null});ZG.displayName=qG;function NAe(n,e){const[t,r]=b.useState("idle");return Fn(()=>{if(!n){r("error");return}let i=!0;const s=new window.Image,o=a=>()=>{i&&r(a)};return r("loading"),s.onload=o("loaded"),s.onerror=o("error"),s.src=n,e&&(s.referrerPolicy=e),()=>{i=!1}},[n,e]),t}var FG=LG,BG=zG,WG=ZG;const XG=b.forwardRef(({className:n,...e},t)=>d.jsx(FG,{ref:t,className:Te("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",n),...e}));XG.displayName=FG.displayName;const GG=b.forwardRef(({className:n,...e},t)=>d.jsx(BG,{ref:t,className:Te("aspect-square h-full w-full",n),...e}));GG.displayName=BG.displayName;const YG=b.forwardRef(({className:n,...e},t)=>d.jsx(WG,{ref:t,className:Te("flex h-full w-full items-center justify-center rounded-full bg-muted",n),...e}));YG.displayName=WG.displayName;function jAe(){const[,n]=Bi(),{user:e}=Sn(),{toast:t}=Wn(),[r,i]=b.useState(""),[s,o]=b.useState(""),[a,l]=b.useState(null),[c,u]=b.useState(!1),[h,f]=b.useState(!1),[m,g]=b.useState(!1),[y,x]=b.useState(null),S=b.useRef(null);b.useEffect(()=>{(async()=>{if(e)try{const O=await Oi(We(se,"users",e.uid));if(O.exists()){const w=O.data();o(w.email||""),i(w.displayName||""),l(w.profileUrl||null),g(!!w.isAdmin),x(w.role||null)}}catch(O){console.error("Error fetching user profile:",O),t({variant:"destructive",title:"Error",description:"Failed to load profile information."})}})()},[e,t]);const _=async Q=>{if(!e||!Q.target.files||Q.target.files.length===0)return;const O=Q.target.files[0],w=EZ(),k=mg(w,`profile-pics/${e.uid}`);try{u(!0),await TZ(k,O);const R=await CZ(k);await Mi(We(se,"users",e.uid),{profileUrl:R}),l(R),t({title:"Success",description:"Profile picture updated successfully."})}catch(R){console.error("Error uploading profile picture:",R),t({variant:"destructive",title:"Error",description:"Failed to upload profile picture."})}finally{u(!1)}},T=async()=>{if(e)try{await Mi(We(se,"users",e.uid),{displayName:r}),f(!1),t({title:"Success",description:"Display name updated successfully."})}catch(Q){console.error("Error updating display name:",Q),t({variant:"destructive",title:"Error",description:"Failed to update display name."})}},I=async()=>{if(!(!e||!s))try{await fetch(`/api/reset-password?email=${encodeURIComponent(s)}`,{method:"POST"}),t({title:"Password Reset Email Sent",description:"Check your email for instructions to reset your password."})}catch(Q){console.error("Error sending password reset:",Q),t({variant:"destructive",title:"Error",description:"Failed to send password reset email."})}},C=async()=>{try{await She(),t({title:"Signed Out",description:"You have been successfully signed out."}),n("/auth")}catch(Q){console.error("Error signing out:",Q),t({variant:"destructive",title:"Error",description:"Failed to sign out."})}};return d.jsx(Ar,{children:d.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[d.jsxs("div",{className:"flex items-center mb-6",children:[d.jsxs(ee,{variant:"ghost",onClick:()=>n("/"),className:"mr-4",children:[d.jsx(il,{className:"h-4 w-4 mr-2"}),"Back"]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("h1",{className:"text-2xl font-bold",children:"Profile"}),y==="admin"&&d.jsxs(Vn,{className:"ml-2 bg-amber-100 text-amber-800 border border-amber-300 flex items-center gap-1",children:[d.jsx(Gp,{className:"h-3 w-3"}),"Admin User"]}),y==="paid"&&d.jsxs(Vn,{className:"ml-2 bg-amber-100 text-amber-800 border border-amber-300 flex items-center gap-1",children:[d.jsx(Gp,{className:"h-3 w-3"}),"Paid User"]}),y==="free"&&d.jsxs(Vn,{className:"ml-2 bg-blue-100 text-blue-800 border border-blue-300 flex items-center gap-1",children:[d.jsx(Gp,{className:"h-3 w-3"}),"Free User"]}),!y&&d.jsxs(Vn,{className:"ml-2 bg-gray-100 text-gray-800 border border-gray-300 flex items-center gap-1",children:[d.jsx(Gp,{className:"h-3 w-3"}),"No Role Assigned"]})]})]}),d.jsxs(wn,{className:"overflow-hidden",children:[d.jsx(Zn,{className:"pb-0",children:d.jsx(Ui,{children:"Profile Picture"})}),d.jsx(bn,{className:"pt-6",children:d.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[d.jsxs("div",{className:"relative group",children:[d.jsxs(XG,{className:"h-24 w-24 border-2 border-primary/20",children:[a?d.jsx(GG,{src:a,alt:"Profile"}):d.jsx(YG,{className:"bg-primary/10 text-primary text-xl",children:r?r.charAt(0).toUpperCase():d.jsx(Due,{})}),d.jsx("div",{className:"absolute inset-0 bg-black/30 rounded-full opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center cursor-pointer",onClick:()=>{var Q;return(Q=S.current)==null?void 0:Q.click()},children:d.jsx(wue,{className:"h-8 w-8 text-white"})})]}),d.jsx("input",{type:"file",ref:S,className:"hidden",accept:"image/*",onChange:_})]}),d.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>{var Q;return(Q=S.current)==null?void 0:Q.click()},disabled:c,className:"flex items-center gap-2",children:[d.jsx(tF,{className:"h-4 w-4"}),c?"Uploading...":"Upload New Picture"]})]})})]}),d.jsxs(wn,{children:[d.jsx(Zn,{children:d.jsx(Ui,{children:"Account Information"})}),d.jsxs(bn,{className:"space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"display-name",children:"Display Name"}),d.jsx("div",{className:"flex items-center gap-2",children:h?d.jsxs(d.Fragment,{children:[d.jsx(It,{id:"display-name",value:r,onChange:Q=>i(Q.target.value),className:"flex-1"}),d.jsx(ee,{onClick:T,size:"sm",children:"Save"}),d.jsx(ee,{variant:"outline",size:"sm",onClick:()=>f(!1),children:"Cancel"})]}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"flex-1 py-2 px-3 border rounded-md bg-muted/30",children:r||"No display name set"}),d.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>f(!0),children:d.jsx(Aue,{className:"h-4 w-4"})})]})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"email",children:"Email"}),d.jsx("div",{className:"py-2 px-3 border rounded-md bg-muted/30",children:s})]}),d.jsxs("div",{className:"pt-2",children:[d.jsx(ee,{variant:"outline",onClick:I,className:"w-full sm:w-auto",children:"Reset Password"}),d.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"A password reset link will be sent to your email address."})]})]})]}),d.jsxs(wn,{className:"border-destructive/20",children:[d.jsx(Zn,{children:d.jsx(Ui,{children:"Sign Out"})}),d.jsxs(bn,{children:[d.jsxs(ee,{variant:"destructive",onClick:C,className:"w-full sm:w-auto flex items-center gap-2",children:[d.jsx(Eue,{className:"h-4 w-4"}),"Sign Out"]}),d.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"You will be redirected to the login page after signing out."})]})]})]})})}var zE=["Enter"," "],DAe=["ArrowDown","PageUp","Home"],HG=["ArrowUp","PageDown","End"],MAe=[...DAe,...HG],VAe={ltr:[...zE,"ArrowRight"],rtl:[...zE,"ArrowLeft"]},LAe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ly="Menu",[gO,UAe,zAe]=ZO(ly),[lh,KG]=Ho(ly,[zAe,PS,$S]),LS=PS(),JG=$S(),[qAe,ch]=lh(ly),[ZAe,cy]=lh(ly),eY=n=>{const{__scopeMenu:e,open:t=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=n,a=LS(e),[l,c]=b.useState(null),u=b.useRef(!1),h=Yt(s),f=Lf(i);return b.useEffect(()=>{const m=()=>{u.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>u.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),d.jsx(c8,{...a,children:d.jsx(qAe,{scope:e,open:t,onOpenChange:h,content:l,onContentChange:c,children:d.jsx(ZAe,{scope:e,onClose:b.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:f,modal:o,children:r})})})};eY.displayName=ly;var FAe="MenuAnchor",i$=b.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,i=LS(t);return d.jsx(u8,{...i,...r,ref:e})});i$.displayName=FAe;var s$="MenuPortal",[BAe,tY]=lh(s$,{forceMount:void 0}),nY=n=>{const{__scopeMenu:e,forceMount:t,children:r,container:i}=n,s=ch(s$,e);return d.jsx(BAe,{scope:e,forceMount:t,children:d.jsx(Kr,{present:t||s.open,children:d.jsx(BO,{asChild:!0,container:i,children:r})})})};nY.displayName=s$;var ls="MenuContent",[WAe,o$]=lh(ls),rY=b.forwardRef((n,e)=>{const t=tY(ls,n.__scopeMenu),{forceMount:r=t.forceMount,...i}=n,s=ch(ls,n.__scopeMenu),o=cy(ls,n.__scopeMenu);return d.jsx(gO.Provider,{scope:n.__scopeMenu,children:d.jsx(Kr,{present:r||s.open,children:d.jsx(gO.Slot,{scope:n.__scopeMenu,children:o.modal?d.jsx(XAe,{...i,ref:e}):d.jsx(GAe,{...i,ref:e})})})})}),XAe=b.forwardRef((n,e)=>{const t=ch(ls,n.__scopeMenu),r=b.useRef(null),i=Je(e,r);return b.useEffect(()=>{const s=r.current;if(s)return pQ(s)},[]),d.jsx(a$,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:he(n.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),GAe=b.forwardRef((n,e)=>{const t=ch(ls,n.__scopeMenu);return d.jsx(a$,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),a$=b.forwardRef((n,e)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:f,onDismiss:m,disableOutsideScroll:g,...y}=n,x=ch(ls,t),S=cy(ls,t),_=LS(t),T=JG(t),I=UAe(t),[C,Q]=b.useState(null),O=b.useRef(null),w=Je(e,O,x.onContentChange),k=b.useRef(0),R=b.useRef(""),P=b.useRef(0),v=b.useRef(null),A=b.useRef("right"),j=b.useRef(0),V=g?aS:b.Fragment,U=g?{as:Fa,allowPinchZoom:!0}:void 0,W=L=>{var re,ct;const Y=R.current+L,F=I().filter(ut=>!ut.disabled),Z=document.activeElement,G=(re=F.find(ut=>ut.ref.current===Z))==null?void 0:re.textValue,J=F.map(ut=>ut.textValue),ae=aRe(J,Y,G),oe=(ct=F.find(ut=>ut.textValue===ae))==null?void 0:ct.ref.current;(function ut(Ce){R.current=Ce,window.clearTimeout(k.current),Ce!==""&&(k.current=window.setTimeout(()=>ut(""),1e3))})(Y),oe&&setTimeout(()=>oe.focus())};b.useEffect(()=>()=>window.clearTimeout(k.current),[]),fQ();const D=b.useCallback(L=>{var F,Z;return A.current===((F=v.current)==null?void 0:F.side)&&cRe(L,(Z=v.current)==null?void 0:Z.area)},[]);return d.jsx(WAe,{scope:t,searchRef:R,onItemEnter:b.useCallback(L=>{D(L)&&L.preventDefault()},[D]),onItemLeave:b.useCallback(L=>{var Y;D(L)||((Y=O.current)==null||Y.focus(),Q(null))},[D]),onTriggerLeave:b.useCallback(L=>{D(L)&&L.preventDefault()},[D]),pointerGraceTimerRef:P,onPointerGraceIntentChange:b.useCallback(L=>{v.current=L},[]),children:d.jsx(V,{...U,children:d.jsx(sS,{asChild:!0,trapped:i,onMountAutoFocus:he(s,L=>{var Y;L.preventDefault(),(Y=O.current)==null||Y.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:d.jsx(FO,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:f,onDismiss:m,children:d.jsx(cG,{asChild:!0,...T,dir:S.dir,orientation:"vertical",loop:r,currentTabStopId:C,onCurrentTabStopIdChange:Q,onEntryFocus:he(l,L=>{S.isUsingKeyboardRef.current||L.preventDefault()}),preventScrollOnEntryFocus:!0,children:d.jsx(h8,{role:"menu","aria-orientation":"vertical","data-state":vY(x.open),"data-radix-menu-content":"",dir:S.dir,..._,...y,ref:w,style:{outline:"none",...y.style},onKeyDown:he(y.onKeyDown,L=>{const F=L.target.closest("[data-radix-menu-content]")===L.currentTarget,Z=L.ctrlKey||L.altKey||L.metaKey,G=L.key.length===1;F&&(L.key==="Tab"&&L.preventDefault(),!Z&&G&&W(L.key));const J=O.current;if(L.target!==J||!MAe.includes(L.key))return;L.preventDefault();const oe=I().filter(re=>!re.disabled).map(re=>re.ref.current);HG.includes(L.key)&&oe.reverse(),sRe(oe)}),onBlur:he(n.onBlur,L=>{L.currentTarget.contains(L.target)||(window.clearTimeout(k.current),R.current="")}),onPointerMove:he(n.onPointerMove,OO(L=>{const Y=L.target,F=j.current!==L.clientX;if(L.currentTarget.contains(Y)&&F){const Z=L.clientX>j.current?"right":"left";A.current=Z,j.current=L.clientX}}))})})})})})})});rY.displayName=ls;var YAe="MenuGroup",l$=b.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return d.jsx(Ae.div,{role:"group",...r,ref:e})});l$.displayName=YAe;var HAe="MenuLabel",iY=b.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return d.jsx(Ae.div,{...r,ref:e})});iY.displayName=HAe;var tb="MenuItem",V4="menu.itemSelect",US=b.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:r,...i}=n,s=b.useRef(null),o=cy(tb,n.__scopeMenu),a=o$(tb,n.__scopeMenu),l=Je(e,s),c=b.useRef(!1),u=()=>{const h=s.current;if(!t&&h){const f=new CustomEvent(V4,{bubbles:!0,cancelable:!0});h.addEventListener(V4,m=>r==null?void 0:r(m),{once:!0}),GR(h,f),f.defaultPrevented?c.current=!1:o.onClose()}};return d.jsx(sY,{...i,ref:l,disabled:t,onClick:he(n.onClick,u),onPointerDown:h=>{var f;(f=n.onPointerDown)==null||f.call(n,h),c.current=!0},onPointerUp:he(n.onPointerUp,h=>{var f;c.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:he(n.onKeyDown,h=>{const f=a.searchRef.current!=="";t||f&&h.key===" "||zE.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});US.displayName=tb;var sY=b.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:r=!1,textValue:i,...s}=n,o=o$(tb,t),a=JG(t),l=b.useRef(null),c=Je(e,l),[u,h]=b.useState(!1),[f,m]=b.useState("");return b.useEffect(()=>{const g=l.current;g&&m((g.textContent??"").trim())},[s.children]),d.jsx(gO.ItemSlot,{scope:t,disabled:r,textValue:i??f,children:d.jsx(uG,{asChild:!0,...a,focusable:!r,children:d.jsx(Ae.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:c,onPointerMove:he(n.onPointerMove,OO(g=>{r?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:he(n.onPointerLeave,OO(g=>o.onItemLeave(g))),onFocus:he(n.onFocus,()=>h(!0)),onBlur:he(n.onBlur,()=>h(!1))})})})}),KAe="MenuCheckboxItem",oY=b.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:r,...i}=n;return d.jsx(hY,{scope:n.__scopeMenu,checked:t,children:d.jsx(US,{role:"menuitemcheckbox","aria-checked":nb(t)?"mixed":t,...i,ref:e,"data-state":u$(t),onSelect:he(i.onSelect,()=>r==null?void 0:r(nb(t)?!0:!t),{checkForDefaultPrevented:!1})})})});oY.displayName=KAe;var aY="MenuRadioGroup",[JAe,eRe]=lh(aY,{value:void 0,onValueChange:()=>{}}),lY=b.forwardRef((n,e)=>{const{value:t,onValueChange:r,...i}=n,s=Yt(r);return d.jsx(JAe,{scope:n.__scopeMenu,value:t,onValueChange:s,children:d.jsx(l$,{...i,ref:e})})});lY.displayName=aY;var cY="MenuRadioItem",uY=b.forwardRef((n,e)=>{const{value:t,...r}=n,i=eRe(cY,n.__scopeMenu),s=t===i.value;return d.jsx(hY,{scope:n.__scopeMenu,checked:s,children:d.jsx(US,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":u$(s),onSelect:he(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,t)},{checkForDefaultPrevented:!1})})})});uY.displayName=cY;var c$="MenuItemIndicator",[hY,tRe]=lh(c$,{checked:!1}),dY=b.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:r,...i}=n,s=tRe(c$,t);return d.jsx(Kr,{present:r||nb(s.checked)||s.checked===!0,children:d.jsx(Ae.span,{...i,ref:e,"data-state":u$(s.checked)})})});dY.displayName=c$;var nRe="MenuSeparator",fY=b.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return d.jsx(Ae.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});fY.displayName=nRe;var rRe="MenuArrow",pY=b.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,i=LS(t);return d.jsx(d8,{...i,...r,ref:e})});pY.displayName=rRe;var iRe="MenuSub",[m$e,mY]=lh(iRe),pm="MenuSubTrigger",gY=b.forwardRef((n,e)=>{const t=ch(pm,n.__scopeMenu),r=cy(pm,n.__scopeMenu),i=mY(pm,n.__scopeMenu),s=o$(pm,n.__scopeMenu),o=b.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,c={__scopeMenu:n.__scopeMenu},u=b.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return b.useEffect(()=>u,[u]),b.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),l(null)}},[a,l]),d.jsx(i$,{asChild:!0,...c,children:d.jsx(sY,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":i.contentId,"data-state":vY(t.open),...n,ref:Bb(e,i.onTriggerChange),onClick:h=>{var f;(f=n.onClick)==null||f.call(n,h),!(n.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:he(n.onPointerMove,OO(h=>{s.onItemEnter(h),!h.defaultPrevented&&!n.disabled&&!t.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{t.onOpenChange(!0),u()},100))})),onPointerLeave:he(n.onPointerLeave,OO(h=>{var m,g;u();const f=(m=t.content)==null?void 0:m.getBoundingClientRect();if(f){const y=(g=t.content)==null?void 0:g.dataset.side,x=y==="right",S=x?-5:5,_=f[x?"left":"right"],T=f[x?"right":"left"];s.onPointerGraceIntentChange({area:[{x:h.clientX+S,y:h.clientY},{x:_,y:f.top},{x:T,y:f.top},{x:T,y:f.bottom},{x:_,y:f.bottom}],side:y}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(h),h.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:he(n.onKeyDown,h=>{var m;const f=s.searchRef.current!=="";n.disabled||f&&h.key===" "||VAe[r.dir].includes(h.key)&&(t.onOpenChange(!0),(m=t.content)==null||m.focus(),h.preventDefault())})})})});gY.displayName=pm;var OY="MenuSubContent",yY=b.forwardRef((n,e)=>{const t=tY(ls,n.__scopeMenu),{forceMount:r=t.forceMount,...i}=n,s=ch(ls,n.__scopeMenu),o=cy(ls,n.__scopeMenu),a=mY(OY,n.__scopeMenu),l=b.useRef(null),c=Je(e,l);return d.jsx(gO.Provider,{scope:n.__scopeMenu,children:d.jsx(Kr,{present:r||s.open,children:d.jsx(gO.Slot,{scope:n.__scopeMenu,children:d.jsx(a$,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var h;o.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:he(n.onFocusOutside,u=>{u.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:he(n.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:he(n.onKeyDown,u=>{var m;const h=u.currentTarget.contains(u.target),f=LAe[o.dir].includes(u.key);h&&f&&(s.onOpenChange(!1),(m=a.trigger)==null||m.focus(),u.preventDefault())})})})})})});yY.displayName=OY;function vY(n){return n?"open":"closed"}function nb(n){return n==="indeterminate"}function u$(n){return nb(n)?"indeterminate":n?"checked":"unchecked"}function sRe(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function oRe(n,e){return n.map((t,r)=>n[(e+r)%n.length])}function aRe(n,e,t){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=t?n.indexOf(t):-1;let o=oRe(n,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==t));const l=o.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==t?l:void 0}function lRe(n,e){const{x:t,y:r}=n;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,u=e[o].y;l>r!=u>r&&t<(c-a)*(r-l)/(u-l)+a&&(i=!i)}return i}function cRe(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return lRe(t,e)}function OO(n){return e=>e.pointerType==="mouse"?n(e):void 0}var uRe=eY,hRe=i$,dRe=nY,fRe=rY,pRe=l$,mRe=iY,gRe=US,ORe=oY,yRe=lY,vRe=uY,xRe=dY,wRe=fY,bRe=pY,SRe=gY,kRe=yY,h$="DropdownMenu",[_Re,g$e]=Ho(h$,[KG]),Jr=KG(),[TRe,xY]=_Re(h$),wY=n=>{const{__scopeDropdownMenu:e,children:t,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=n,l=Jr(e),c=b.useRef(null),[u=!1,h]=Ba({prop:i,defaultProp:s,onChange:o});return d.jsx(TRe,{scope:e,triggerId:_o(),triggerRef:c,contentId:_o(),open:u,onOpenChange:h,onOpenToggle:b.useCallback(()=>h(f=>!f),[h]),modal:a,children:d.jsx(uRe,{...l,open:u,onOpenChange:h,dir:r,modal:a,children:t})})};wY.displayName=h$;var bY="DropdownMenuTrigger",SY=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:r=!1,...i}=n,s=xY(bY,t),o=Jr(t);return d.jsx(hRe,{asChild:!0,...o,children:d.jsx(Ae.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Bb(e,s.triggerRef),onPointerDown:he(n.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:he(n.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});SY.displayName=bY;var PRe="DropdownMenuPortal",kY=n=>{const{__scopeDropdownMenu:e,...t}=n,r=Jr(e);return d.jsx(dRe,{...r,...t})};kY.displayName=PRe;var _Y="DropdownMenuContent",TY=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=xY(_Y,t),s=Jr(t),o=b.useRef(!1);return d.jsx(fRe,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:he(n.onCloseAutoFocus,a=>{var l;o.current||(l=i.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:he(n.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!i.modal||u)&&(o.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});TY.displayName=_Y;var CRe="DropdownMenuGroup",ERe=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Jr(t);return d.jsx(pRe,{...i,...r,ref:e})});ERe.displayName=CRe;var ARe="DropdownMenuLabel",PY=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Jr(t);return d.jsx(mRe,{...i,...r,ref:e})});PY.displayName=ARe;var RRe="DropdownMenuItem",CY=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Jr(t);return d.jsx(gRe,{...i,...r,ref:e})});CY.displayName=RRe;var QRe="DropdownMenuCheckboxItem",EY=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Jr(t);return d.jsx(ORe,{...i,...r,ref:e})});EY.displayName=QRe;var IRe="DropdownMenuRadioGroup",$Re=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Jr(t);return d.jsx(yRe,{...i,...r,ref:e})});$Re.displayName=IRe;var NRe="DropdownMenuRadioItem",AY=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Jr(t);return d.jsx(vRe,{...i,...r,ref:e})});AY.displayName=NRe;var jRe="DropdownMenuItemIndicator",RY=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Jr(t);return d.jsx(xRe,{...i,...r,ref:e})});RY.displayName=jRe;var DRe="DropdownMenuSeparator",QY=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Jr(t);return d.jsx(wRe,{...i,...r,ref:e})});QY.displayName=DRe;var MRe="DropdownMenuArrow",VRe=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Jr(t);return d.jsx(bRe,{...i,...r,ref:e})});VRe.displayName=MRe;var LRe="DropdownMenuSubTrigger",IY=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Jr(t);return d.jsx(SRe,{...i,...r,ref:e})});IY.displayName=LRe;var URe="DropdownMenuSubContent",$Y=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Jr(t);return d.jsx(kRe,{...i,...r,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});$Y.displayName=URe;var zRe=wY,qRe=SY,ZRe=kY,NY=TY,jY=PY,DY=CY,MY=EY,VY=AY,LY=RY,UY=QY,zY=IY,qY=$Y;const FRe=zRe,BRe=qRe,WRe=b.forwardRef(({className:n,inset:e,children:t,...r},i)=>d.jsxs(zY,{ref:i,className:Te("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",n),...r,children:[t,d.jsx(eF,{className:"ml-auto h-4 w-4"})]}));WRe.displayName=zY.displayName;const XRe=b.forwardRef(({className:n,...e},t)=>d.jsx(qY,{ref:t,className:Te("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...e}));XRe.displayName=qY.displayName;const ZY=b.forwardRef(({className:n,sideOffset:e=4,...t},r)=>d.jsx(ZRe,{children:d.jsx(NY,{ref:r,sideOffset:e,className:Te("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t})}));ZY.displayName=NY.displayName;const Jv=b.forwardRef(({className:n,inset:e,...t},r)=>d.jsx(DY,{ref:r,className:Te("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",n),...t}));Jv.displayName=DY.displayName;const GRe=b.forwardRef(({className:n,children:e,checked:t,...r},i)=>d.jsxs(MY,{ref:i,className:Te("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:t,...r,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(LY,{children:d.jsx(Yb,{className:"h-4 w-4"})})}),e]}));GRe.displayName=MY.displayName;const YRe=b.forwardRef(({className:n,children:e,...t},r)=>d.jsxs(VY,{ref:r,className:Te("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(LY,{children:d.jsx(kue,{className:"h-2 w-2 fill-current"})})}),e]}));YRe.displayName=VY.displayName;const HRe=b.forwardRef(({className:n,inset:e,...t},r)=>d.jsx(jY,{ref:r,className:Te("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",n),...t}));HRe.displayName=jY.displayName;const KRe=b.forwardRef(({className:n,...e},t)=>d.jsx(UY,{ref:t,className:Te("-mx-1 my-1 h-px bg-muted",n),...e}));KRe.displayName=UY.displayName;function JRe(){const{user:n}=Sn(),{toast:e}=Wn(),[t,r]=b.useState([]),[i,s]=b.useState([]),[o,a]=b.useState(!0),[l,c]=b.useState(""),[u,h]=b.useState("pending"),[f,m]=b.useState(null),[g,y]=b.useState(!1),[x,S]=b.useState(""),[_,T]=b.useState(7),[I,C]=b.useState(!1);b.useEffect(()=>{(async()=>{if(n)try{a(!0);const A=qe(Ie(se,"premiumRequests"),Vx("createdAt","desc")),V=(await Be(A)).docs.map(U=>({id:U.id,...U.data()}));r(V),Q(V,u,l)}catch(A){console.error("Error fetching premium requests:",A),e({variant:"destructive",title:"Error",description:"Failed to load premium feature requests."})}finally{a(!1)}})()},[n,e]);const Q=(v,A,j)=>{let V=v;if(A!=="all"&&(V=V.filter(U=>U.status===A)),j.trim()!==""){const U=j.toLowerCase();V=V.filter(W=>{var D,L,Y;return((D=W.userEmail)==null?void 0:D.toLowerCase().includes(U))||((L=W.userName)==null?void 0:L.toLowerCase().includes(U))||((Y=W.requestedFeature)==null?void 0:Y.toLowerCase().includes(U))})}s(V)};b.useEffect(()=>{Q(t,u,l)},[u,l,t]);const O=v=>new Date(v).toLocaleString(),w=v=>{m(v),S(""),T(7),y(!0)},k=async()=>{if(!(!f||!n))try{C(!0);const v=Date.now(),A=v+_*24*60*60*1e3;await Mi(We(se,"premiumRequests",f.id),{status:"approved",reviewedBy:n.uid,reviewNotes:x,updatedAt:v,approvalStartDate:v,approvalEndDate:A,approvalDuration:_}),await Mi(We(se,"users",f.userId),{temporaryPremiumAccess:!0,temporaryPremiumExpiry:A});const j=t.map(V=>V.id===f.id?{...V,status:"approved",reviewedBy:n.uid,reviewNotes:x,updatedAt:v,approvalStartDate:v,approvalEndDate:A,approvalDuration:_}:V);r(j),Q(j,u,l),e({title:"Request Approved",description:`Premium access granted to user for ${_} days.`}),y(!1)}catch(v){console.error("Error approving request:",v),e({variant:"destructive",title:"Error",description:"Failed to approve the request."})}finally{C(!1)}},R=async()=>{if(!(!f||!n))try{C(!0);const v=Date.now();await Mi(We(se,"premiumRequests",f.id),{status:"rejected",reviewedBy:n.uid,reviewNotes:x,updatedAt:v});const A=t.map(j=>j.id===f.id?{...j,status:"rejected",reviewedBy:n.uid,reviewNotes:x,updatedAt:v}:j);r(A),Q(A,u,l),e({title:"Request Rejected",description:"Premium access request has been rejected."}),y(!1)}catch(v){console.error("Error rejecting request:",v),e({variant:"destructive",title:"Error",description:"Failed to reject the request."})}finally{C(!1)}},P=v=>{switch(v){case"approved":return d.jsxs(Vn,{className:"bg-green-500",children:[d.jsx(dD,{className:"w-3 h-3 mr-1"})," Approved"]});case"rejected":return d.jsxs(Vn,{variant:"destructive",children:[d.jsx(fD,{className:"w-3 h-3 mr-1"})," Rejected"]});case"pending":default:return d.jsxs(Vn,{variant:"outline",children:[d.jsx(_ue,{className:"w-3 h-3 mr-1"})," Pending"]})}};return d.jsxs(wn,{className:"w-full",children:[d.jsxs(Zn,{children:[d.jsx(Ui,{children:"Premium Access Requests"}),d.jsx(th,{children:"Manage requests from users who want to try premium features"})]}),d.jsx(bn,{children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"relative w-full max-w-sm",children:[d.jsx(JR,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),d.jsx(It,{type:"search",placeholder:"Search by name, email or feature...",className:"pl-8",value:l,onChange:v=>c(v.target.value)})]}),d.jsx(NS,{defaultValue:u,onValueChange:h,className:"w-[400px]",children:d.jsxs(ay,{className:"grid w-full grid-cols-3",children:[d.jsx(ji,{value:"pending",children:"Pending"}),d.jsx(ji,{value:"approved",children:"Approved"}),d.jsx(ji,{value:"rejected",children:"Rejected"})]})})]}),o?d.jsx("div",{className:"text-center py-4",children:"Loading requests..."}):i.length===0?d.jsxs("div",{className:"text-center py-4 text-muted-foreground",children:["No ",u," requests found"]}):d.jsxs(DS,{children:[d.jsx(MS,{children:d.jsxs(cc,{children:[d.jsx(hi,{children:"User"}),d.jsx(hi,{children:"Feature"}),d.jsx(hi,{children:"Date"}),d.jsx(hi,{children:"Status"}),d.jsx(hi,{className:"text-right",children:"Actions"})]})}),d.jsx(VS,{children:i.map(v=>d.jsxs(cc,{children:[d.jsxs(zr,{children:[d.jsx("div",{className:"font-medium",children:v.userName||"Unknown"}),d.jsx("div",{className:"text-sm text-muted-foreground",children:v.userEmail})]}),d.jsx(zr,{children:v.requestedFeature}),d.jsx(zr,{children:O(v.createdAt)}),d.jsx(zr,{children:P(v.status)}),d.jsx(zr,{className:"text-right",children:d.jsx(ee,{variant:"outline",size:"sm",onClick:()=>w(v),children:v.status==="pending"?"Review":"Details"})})]},v.id))})]})]})}),d.jsx(Ia,{open:g,onOpenChange:y,children:d.jsxs(To,{className:"max-w-2xl",children:[d.jsxs(Po,{children:[d.jsx(Co,{children:(f==null?void 0:f.status)==="pending"?"Review Premium Access Request":"Premium Access Request Details"}),d.jsx(Eo,{children:(f==null?void 0:f.status)==="pending"?"Review this request and decide whether to grant temporary premium access.":"View details of this premium access request."})]}),f&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[d.jsxs("div",{className:"col-span-2",children:[d.jsx(Zt,{className:"text-muted-foreground",children:"User Name"}),d.jsx("div",{children:f.userName||"Unknown"})]}),d.jsxs("div",{className:"col-span-2",children:[d.jsx(Zt,{className:"text-muted-foreground",children:"User Email"}),d.jsx("div",{children:f.userEmail})]}),d.jsxs("div",{className:"col-span-2",children:[d.jsx(Zt,{className:"text-muted-foreground",children:"User ID"}),d.jsx("div",{className:"font-mono text-xs",children:f.userId})]}),d.jsxs("div",{className:"col-span-2",children:[d.jsx(Zt,{className:"text-muted-foreground",children:"Requested Feature"}),d.jsx("div",{children:f.requestedFeature})]}),d.jsxs("div",{className:"col-span-4",children:[d.jsx(Zt,{className:"text-muted-foreground",children:"Request Message"}),d.jsx("div",{children:f.requestMessage||"No message provided"})]}),d.jsxs("div",{className:"col-span-2",children:[d.jsx(Zt,{className:"text-muted-foreground",children:"Date Requested"}),d.jsx("div",{children:O(f.createdAt)})]}),d.jsxs("div",{className:"col-span-2",children:[d.jsx(Zt,{className:"text-muted-foreground",children:"Status"}),d.jsx("div",{children:P(f.status)})]}),f.status!=="pending"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"col-span-2",children:[d.jsx(Zt,{className:"text-muted-foreground",children:"Reviewed By"}),d.jsx("div",{children:f.reviewedBy||"Unknown"})]}),d.jsxs("div",{className:"col-span-2",children:[d.jsx(Zt,{className:"text-muted-foreground",children:"Review Date"}),d.jsx("div",{children:f.updatedAt?O(f.updatedAt):"Unknown"})]}),f.status==="approved"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"col-span-2",children:[d.jsx(Zt,{className:"text-muted-foreground",children:"Access Duration"}),d.jsxs("div",{children:[f.approvalDuration||0," days"]})]}),d.jsxs("div",{className:"col-span-2",children:[d.jsx(Zt,{className:"text-muted-foreground",children:"Expiry Date"}),d.jsx("div",{children:f.approvalEndDate?O(f.approvalEndDate):"Unknown"})]})]})]}),d.jsxs("div",{className:"col-span-4",children:[d.jsx(Zt,{className:"text-muted-foreground",children:"Review Notes"}),f.status==="pending"?d.jsx(Wu,{placeholder:"Add notes about this request...",value:x,onChange:v=>S(v.target.value),className:"mt-2"}):d.jsx("div",{children:f.reviewNotes||"No review notes"})]})]}),f.status==="pending"&&d.jsx("div",{className:"space-y-4 mt-4",children:d.jsxs("div",{children:[d.jsx(Zt,{htmlFor:"approvalDuration",children:"Approval Duration (days)"}),d.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[d.jsx(It,{id:"approvalDuration",type:"number",min:1,max:365,value:_,onChange:v=>T(parseInt(v.target.value)||7),className:"w-24"}),d.jsx("span",{children:"days"})]})]})})]}),(f==null?void 0:f.status)==="pending"&&d.jsxs(sc,{children:[d.jsx(ee,{variant:"outline",onClick:()=>y(!1),disabled:I,children:"Cancel"}),d.jsxs(ee,{variant:"destructive",onClick:R,disabled:I,children:[d.jsx(fD,{className:"w-4 h-4 mr-2"}),"Reject"]}),d.jsxs(ee,{onClick:k,disabled:I,children:[d.jsx(dD,{className:"w-4 h-4 mr-2"}),"Approve"]})]})]})})]})}function eQe(){const[,n]=Bi(),{user:e}=Sn(),{toast:t}=Wn(),[r,i]=b.useState([]),[s,o]=b.useState(!0),[a,l]=b.useState(""),[c,u]=b.useState([]),[h,f]=b.useState(null),[m,g]=b.useState(!1),[y,x]=b.useState(!1);b.useEffect(()=>{(async()=>{if(e)try{o(!0);const C=qe(Ie(se,"users")),O=(await Be(C)).docs.map(w=>({id:w.id,...w.data()}));i(O),u(O)}catch(C){console.error("Error fetching users:",C),t({variant:"destructive",title:"Error",description:"Failed to load users."})}finally{o(!1)}})()},[e,t]),b.useEffect(()=>{if(a.trim()===""){u(r);return}const I=a.toLowerCase(),C=r.filter(Q=>{var O,w;return((O=Q.email)==null?void 0:O.toLowerCase().includes(I))||((w=Q.displayName)==null?void 0:w.toLowerCase().includes(I))});u(C)},[a,r]);const S={FREE:"free",PAID:"paid",ADMIN:"admin"},_=async(I,C)=>{try{const Q={role:C,isAdmin:C===S.ADMIN};await Mi(We(se,"users",I),Q),i(O=>O.map(w=>w.id===I?{...w,role:C,isAdmin:C===S.ADMIN}:w)),u(O=>O.map(w=>w.id===I?{...w,role:C,isAdmin:C===S.ADMIN}:w)),t({title:"Success",description:`User role updated to ${C} successfully.`})}catch(Q){console.error("Error updating user role:",Q),t({variant:"destructive",title:"Error",description:"Failed to update user role."})}},T=async I=>{if(I)try{g(!0);const C=RR(se),Q=qe(Ie(se,"snippets"),je("userId","==",I));(await Be(Q)).docs.forEach(U=>{C.delete(U.ref)});const w=qe(Ie(se,"notes"),je("userId","==",I));(await Be(w)).docs.forEach(U=>{C.delete(U.ref)});const R=qe(Ie(se,"checklists"),je("userId","==",I));(await Be(R)).docs.forEach(U=>{C.delete(U.ref)});const v=qe(Ie(se,"projects"),je("userId","==",I));(await Be(v)).docs.forEach(U=>{C.delete(U.ref)});const j=qe(Ie(se,"backups"),je("userId","==",I));(await Be(j)).docs.forEach(U=>{C.delete(U.ref)});try{const U=mg(Bx,`backups/${I}`),D=(await PZ(U)).items.map(L=>WR(L));await Promise.all(D)}catch(U){console.error("Error deleting storage files:",U)}C.delete(We(se,"users",I)),await C.commit(),i(U=>U.filter(W=>W.id!==I)),u(U=>U.filter(W=>W.id!==I)),t({title:"Success",description:"User and all associated data deleted successfully."})}catch(C){console.error("Error deleting user:",C),t({variant:"destructive",title:"Error",description:"Failed to delete user and their data."})}finally{g(!1),x(!1),f(null)}};return d.jsxs(Ar,{children:[d.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsxs(ee,{variant:"ghost",onClick:()=>n("/"),className:"mr-4",children:[d.jsx(il,{className:"h-4 w-4 mr-2"}),"Back"]}),d.jsx("h1",{className:"text-2xl font-bold",children:"Admin Dashboard"})]}),d.jsxs(ee,{onClick:()=>{o(!0),(async()=>{try{const C=qe(Ie(se,"users")),O=(await Be(C)).docs.map(w=>({id:w.id,...w.data()}));i(O),u(O),t({title:"Success",description:"User list refreshed."})}catch(C){console.error("Error refreshing users:",C),t({variant:"destructive",title:"Error",description:"Failed to refresh users."})}finally{o(!1)}})()},variant:"outline",size:"sm",className:"flex items-center gap-2",children:[d.jsx(Rue,{className:"h-4 w-4"}),"Refresh"]})]}),d.jsxs(wn,{children:[d.jsxs(Zn,{children:[d.jsx(Ui,{children:"User Management"}),d.jsx(th,{children:"Manage user accounts and admin privileges"})]}),d.jsxs(bn,{children:[d.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[d.jsx(It,{placeholder:"Search users by email or name...",value:a,onChange:I=>l(I.target.value),className:"max-w-sm"}),d.jsx(ee,{size:"icon",variant:"ghost",children:d.jsx(JR,{className:"h-4 w-4"})})]}),s?d.jsx("div",{className:"text-center py-4",children:"Loading users..."}):d.jsx("div",{className:"border rounded-md",children:d.jsxs(DS,{children:[d.jsx(MS,{children:d.jsxs(cc,{children:[d.jsx(hi,{children:"Email"}),d.jsx(hi,{children:"Display Name"}),d.jsx(hi,{children:"Created At"}),d.jsx(hi,{children:"User Role"}),d.jsx(hi,{children:"Actions"})]})}),d.jsx(VS,{children:c.length===0?d.jsx(cc,{children:d.jsx(zr,{colSpan:5,className:"text-center py-4",children:"No users found"})}):c.map(I=>{var C;return d.jsxs(cc,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>n(`/admin/users/${I.id}`),children:[d.jsx(zr,{children:I.email}),d.jsx(zr,{children:I.displayName||"Not set"}),d.jsx(zr,{children:(C=I.createdAt)!=null&&C.toDate?I.createdAt.toDate().toLocaleDateString():"Unknown"}),d.jsx(zr,{children:d.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${I.role==="admin"||I.role==="paid"?"bg-amber-100 text-amber-800 border border-amber-300":"bg-blue-100 text-blue-800 border border-blue-300"}`,children:I.role==="admin"?"Admin":I.role==="paid"?"Paid":I.role==="free"?"Free":"No Role"})}),d.jsxs(zr,{onClick:Q=>Q.stopPropagation(),children:[" ",d.jsx("div",{className:"flex items-center gap-2",children:d.jsxs(FRe,{children:[d.jsx(BRe,{asChild:!0,children:d.jsxs(ee,{variant:"ghost",size:"sm",className:"flex items-center gap-1",children:[d.jsx(Gp,{className:"h-4 w-4"}),"Change Role"]})}),d.jsxs(ZY,{children:[d.jsx(Jv,{onClick:()=>_(I.id,S.FREE),children:"Set as Free User"}),d.jsx(Jv,{onClick:()=>_(I.id,S.PAID),children:"Set as Paid User"}),d.jsx(Jv,{onClick:()=>_(I.id,S.ADMIN),children:"Set as Admin User"})]})]})})]})]},I.id)})})]})})]})]}),d.jsxs(wn,{children:[d.jsxs(Zn,{children:[d.jsx(Ui,{children:"System Statistics"}),d.jsx(th,{children:"Overview of system usage and content"})]}),d.jsx(bn,{children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"bg-primary/10 p-4 rounded-lg",children:[d.jsx("h3",{className:"text-sm font-medium",children:"Total Users"}),d.jsx("p",{className:"text-2xl font-bold",children:r.length})]}),d.jsxs("div",{className:"bg-amber-100 p-4 rounded-lg border border-amber-300",children:[d.jsx("h3",{className:"text-sm font-medium text-amber-800",children:"Admin Users"}),d.jsx("p",{className:"text-2xl font-bold text-amber-800",children:r.filter(I=>I.role==="admin").length})]}),d.jsxs("div",{className:"bg-amber-100 p-4 rounded-lg border border-amber-300",children:[d.jsx("h3",{className:"text-sm font-medium text-amber-800",children:"Paid Users"}),d.jsx("p",{className:"text-2xl font-bold text-amber-800",children:r.filter(I=>I.role==="paid").length})]}),d.jsxs("div",{className:"bg-blue-100 p-4 rounded-lg border border-blue-300",children:[d.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Free Users"}),d.jsx("p",{className:"text-2xl font-bold text-blue-800",children:r.filter(I=>I.role==="free").length})]})]})})]}),d.jsx(JRe,{})]}),d.jsx(Ia,{open:y,onOpenChange:x,children:d.jsxs(To,{children:[d.jsxs(Po,{children:[d.jsx(Co,{children:"Delete User"}),d.jsx(Eo,{children:"Are you sure you want to delete this user? This will permanently remove the user and all their data including snippets, notes, checklists, projects, and backups."})]}),d.jsx("div",{className:"py-4",children:h&&d.jsxs("div",{className:"space-y-2",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Email:"})," ",h.email]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Display Name:"})," ",h.displayName||"Not set"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Role:"})," ",h.role||"No Role"]})]})}),d.jsxs(sc,{children:[d.jsx(ee,{variant:"outline",onClick:()=>{x(!1),f(null)},disabled:m,children:"Cancel"}),d.jsx(ee,{variant:"destructive",onClick:()=>h&&T(h.id),disabled:m,children:m?"Deleting...":"Delete User"})]})]})})]})}function tQe(){const[,n]=Bi(),[,e]=Xee("/admin/users/:id"),t=e==null?void 0:e.id,{user:r}=Sn(),{toast:i}=Wn(),[s,o]=b.useState(null),[a,l]=b.useState(!0),[c,u]=b.useState(!1),[h,f]=b.useState(""),[m,g]=b.useState(""),[y,x]=b.useState("free"),[S,_]=b.useState(""),[T,I]=b.useState(!1),[C,Q]=b.useState(!1),[O,w]=b.useState({snippets:0,notes:0,checklists:0,projects:0,backups:0}),k={FREE:"free",PAID:"paid",ADMIN:"admin"};b.useEffect(()=>{(async()=>{if(!(!r||!t))try{l(!0);const j=We(se,"users",t),V=await Oi(j);if(V.exists()){const U=V.data();if(o({id:t,...U}),f(U.email||""),g(U.displayName||""),x(U.role||"free"),U.createdAt){const W=U.createdAt.toDate?U.createdAt.toDate():new Date(U.createdAt);_(W.toLocaleString())}else _("Unknown");await R(t)}else i({variant:"destructive",title:"Error",description:"User not found."}),n("/admin")}catch(j){console.error("Error fetching user data:",j),i({variant:"destructive",title:"Error",description:"Failed to load user data."})}finally{l(!1)}})()},[r,t,i,n]);const R=async A=>{try{const j={snippets:0,notes:0,checklists:0,projects:0,backups:0},V=qe(Ie(se,"snippets"),je("userId","==",A)),U=await Be(V);j.snippets=U.size;const W=qe(Ie(se,"notes"),je("userId","==",A)),D=await Be(W);j.notes=D.size;const L=qe(Ie(se,"checklists"),je("userId","==",A)),Y=await Be(L);j.checklists=Y.size;const F=qe(Ie(se,"projects"),je("userId","==",A)),Z=await Be(F);j.projects=Z.size;const G=qe(Ie(se,"backups"),je("userId","==",A)),J=await Be(G);j.backups=J.size,w(j)}catch(j){console.error("Error fetching user stats:",j)}},P=async()=>{if(t)try{u(!0);const A={displayName:m,email:h,role:y,isAdmin:y===k.ADMIN};await Mi(We(se,"users",t),A),o(j=>({...j,...A})),i({title:"Success",description:"User information updated successfully."})}catch(A){console.error("Error updating user:",A),i({variant:"destructive",title:"Error",description:"Failed to update user information."})}finally{u(!1)}},v=async()=>{if(t)try{Q(!0);const A=RR(se),j=qe(Ie(se,"snippets"),je("userId","==",t));(await Be(j)).docs.forEach(J=>{A.delete(J.ref)});const U=qe(Ie(se,"notes"),je("userId","==",t));(await Be(U)).docs.forEach(J=>{A.delete(J.ref)});const D=qe(Ie(se,"checklists"),je("userId","==",t));(await Be(D)).docs.forEach(J=>{A.delete(J.ref)});const Y=qe(Ie(se,"projects"),je("userId","==",t));(await Be(Y)).docs.forEach(J=>{A.delete(J.ref)});const Z=qe(Ie(se,"backups"),je("userId","==",t));(await Be(Z)).docs.forEach(J=>{A.delete(J.ref)});try{const J=mg(Bx,`backups/${t}`),oe=(await PZ(J)).items.map(re=>WR(re));await Promise.all(oe)}catch(J){console.error("Error deleting storage files:",J)}A.delete(We(se,"users",t)),await A.commit(),i({title:"Success",description:"User and all associated data deleted successfully."}),n("/admin")}catch(A){console.error("Error deleting user:",A),i({variant:"destructive",title:"Error",description:"Failed to delete user and their data."})}finally{Q(!1),I(!1)}};return d.jsx(Ar,{children:d.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[d.jsx("div",{className:"flex items-center justify-between mb-6",children:d.jsxs("div",{className:"flex items-center",children:[d.jsxs(ee,{variant:"ghost",onClick:()=>n("/admin"),className:"mr-4",children:[d.jsx(il,{className:"h-4 w-4 mr-2"}),"Back to Admin Dashboard"]}),d.jsx("h1",{className:"text-2xl font-bold",children:"User Details"})]})}),a?d.jsx("div",{className:"text-center py-8",children:"Loading user data..."}):d.jsxs(d.Fragment,{children:[d.jsxs(wn,{children:[d.jsxs(Zn,{children:[d.jsx(Ui,{children:"User Information"}),d.jsx(th,{children:"View and edit user details"})]}),d.jsx(bn,{children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"email",children:"Email"}),d.jsx(It,{id:"email",value:h,onChange:A=>f(A.target.value),placeholder:"User email"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"displayName",children:"Display Name"}),d.jsx(It,{id:"displayName",value:m,onChange:A=>g(A.target.value),placeholder:"User display name"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{htmlFor:"role",children:"User Role"}),d.jsxs(ZI,{value:y,onValueChange:x,children:[d.jsx(RS,{id:"role",children:d.jsx(FI,{placeholder:"Select role"})}),d.jsxs(QS,{children:[d.jsx(ac,{value:k.FREE,children:"Free User"}),d.jsx(ac,{value:k.PAID,children:"Paid User"}),d.jsx(ac,{value:k.ADMIN,children:"Admin User"})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Zt,{children:"Created At"}),d.jsx("div",{className:"h-10 px-3 py-2 rounded-md border border-input bg-background text-sm",children:S})]})]}),d.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[d.jsxs(ee,{variant:"destructive",onClick:()=>I(!0),disabled:t===(r==null?void 0:r.uid),children:[d.jsx(eQ,{className:"h-4 w-4 mr-2"}),"Delete User"]}),d.jsxs(ee,{onClick:P,disabled:c,children:[d.jsx(Que,{className:"h-4 w-4 mr-2"}),c?"Saving...":"Save Changes"]})]})]})})]}),d.jsxs(wn,{children:[d.jsxs(Zn,{children:[d.jsx(Ui,{children:"User Statistics"}),d.jsx(th,{children:"Overview of user content and activity"})]}),d.jsx(bn,{children:d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[d.jsxs("div",{className:"bg-primary/10 p-4 rounded-lg",children:[d.jsx("h3",{className:"text-sm font-medium",children:"Snippets"}),d.jsx("p",{className:"text-2xl font-bold",children:O.snippets})]}),d.jsxs("div",{className:"bg-primary/10 p-4 rounded-lg",children:[d.jsx("h3",{className:"text-sm font-medium",children:"Notes"}),d.jsx("p",{className:"text-2xl font-bold",children:O.notes})]}),d.jsxs("div",{className:"bg-primary/10 p-4 rounded-lg",children:[d.jsx("h3",{className:"text-sm font-medium",children:"Checklists"}),d.jsx("p",{className:"text-2xl font-bold",children:O.checklists})]}),d.jsxs("div",{className:"bg-primary/10 p-4 rounded-lg",children:[d.jsx("h3",{className:"text-sm font-medium",children:"Projects"}),d.jsx("p",{className:"text-2xl font-bold",children:O.projects})]}),d.jsxs("div",{className:"bg-primary/10 p-4 rounded-lg",children:[d.jsx("h3",{className:"text-sm font-medium",children:"Backups"}),d.jsx("p",{className:"text-2xl font-bold",children:O.backups})]})]})})]})]}),d.jsx(Ia,{open:T,onOpenChange:I,children:d.jsxs(To,{children:[d.jsxs(Po,{children:[d.jsx(Co,{children:"Delete User"}),d.jsx(Eo,{children:"Are you sure you want to delete this user? This will permanently remove the user and all their data including snippets, notes, checklists, projects, and backups."})]}),d.jsx("div",{className:"py-4",children:s&&d.jsxs("div",{className:"space-y-2",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Email:"})," ",s.email]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Display Name:"})," ",s.displayName||"Not set"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Role:"})," ",s.role||"No Role"]})]})}),d.jsxs(sc,{children:[d.jsx(ee,{variant:"outline",onClick:()=>{I(!1)},disabled:C,children:"Cancel"}),d.jsx(ee,{variant:"destructive",onClick:v,disabled:C,children:C?"Deleting...":"Delete User"})]})]})})]})})}function pl({component:n}){const{user:e,isLoading:t}=Sn(),[,r]=Bi();return b.useEffect(()=>{!t&&!e&&r("/auth")},[e,t,r]),t?d.jsx("div",{children:"Loading..."}):e?d.jsx(n,{}):null}function L4({component:n}){const{user:e,isLoading:t}=Sn(),[,r]=Bi(),[i,s]=b.useState(!1);return b.useEffect(()=>{t||(async()=>{if(!e){r("/auth");return}try{const a=await Oi(We(se,"users",e.uid));if(a.exists()){const l=a.data();s(!!l.isAdmin),l.isAdmin||r("/")}else r("/")}catch(a){console.error("Error checking admin status:",a),r("/")}})()},[e,t,r]),t?d.jsx("div",{children:"Loading..."}):e&&i?d.jsx(n,{}):null}function nQe(){return d.jsxs(Hee,{children:[d.jsx(Gi,{path:"/auth",component:rAe}),d.jsx(Gi,{path:"/",component:()=>d.jsx(pl,{component:tAe})}),d.jsx(Gi,{path:"/settings",component:()=>d.jsx(pl,{component:_Ae})}),d.jsx(Gi,{path:"/projects",component:()=>d.jsx(pl,{component:QAe})}),d.jsx(Gi,{path:"/profile",component:()=>d.jsx(pl,{component:jAe})}),d.jsx(Gi,{path:"/admin",component:()=>d.jsx(L4,{component:eQe})}),d.jsx(Gi,{path:"/admin/users/:id",component:()=>d.jsx(L4,{component:tQe})}),d.jsx(Gi,{path:"/snippets/:id",component:()=>d.jsx(pl,{component:PAe})}),d.jsx(Gi,{path:"/notes/:id",component:()=>d.jsx(pl,{component:CAe})}),d.jsx(Gi,{path:"/checklists/:id",component:()=>d.jsx(pl,{component:EAe})}),d.jsx(Gi,{path:"/tags/:tag",component:()=>d.jsx(pl,{component:AAe})}),d.jsx(Gi,{component:TAe})]})}function rQe(){return nQ(),gF(),d.jsxs(d.Fragment,{children:[d.jsx(nQe,{}),d.jsx(xhe,{})]})}hz(document.getElementById("root")).render(d.jsx(lee,{client:_z,children:d.jsx(rQe,{})}));
