var g$=n=>{throw TypeError(n)};var p1=(n,e,t)=>e.has(n)||g$("Cannot "+t);var q=(n,e,t)=>(p1(n,e,"read from private field"),t?t.call(n):e.get(n)),Le=(n,e,t)=>e.has(n)?g$("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),ke=(n,e,t,r)=>(p1(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),tt=(n,e,t)=>(p1(n,e,"access private method"),t);var Ny=(n,e,t,r)=>({set _(i){ke(n,e,i,t)},get _(){return q(n,e,r)}});function AH(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function c5(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var u5={exports:{}},cb={},h5={exports:{}},st={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AO=Symbol.for("react.element"),RH=Symbol.for("react.portal"),QH=Symbol.for("react.fragment"),NH=Symbol.for("react.strict_mode"),IH=Symbol.for("react.profiler"),$H=Symbol.for("react.provider"),jH=Symbol.for("react.context"),DH=Symbol.for("react.forward_ref"),MH=Symbol.for("react.suspense"),VH=Symbol.for("react.memo"),LH=Symbol.for("react.lazy"),O$=Symbol.iterator;function UH(n){return n===null||typeof n!="object"?null:(n=O$&&n[O$]||n["@@iterator"],typeof n=="function"?n:null)}var d5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f5=Object.assign,p5={};function Ef(n,e,t){this.props=n,this.context=e,this.refs=p5,this.updater=t||d5}Ef.prototype.isReactComponent={};Ef.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Ef.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function m5(){}m5.prototype=Ef.prototype;function nA(n,e,t){this.props=n,this.context=e,this.refs=p5,this.updater=t||d5}var rA=nA.prototype=new m5;rA.constructor=nA;f5(rA,Ef.prototype);rA.isPureReactComponent=!0;var y$=Array.isArray,g5=Object.prototype.hasOwnProperty,iA={current:null},O5={key:!0,ref:!0,__self:!0,__source:!0};function y5(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)g5.call(e,r)&&!O5.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:AO,type:n,key:s,ref:o,props:i,_owner:iA.current}}function zH(n,e){return{$$typeof:AO,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function sA(n){return typeof n=="object"&&n!==null&&n.$$typeof===AO}function qH(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var v$=/\/+/g;function m1(n,e){return typeof n=="object"&&n!==null&&n.key!=null?qH(""+n.key):e.toString(36)}function B0(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case AO:case RH:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+m1(o,0):r,y$(i)?(t="",n!=null&&(t=n.replace(v$,"$&/")+"/"),B0(i,e,t,"",function(c){return c})):i!=null&&(sA(i)&&(i=zH(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(v$,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",y$(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+m1(s,a);o+=B0(s,e,t,l,i)}else if(l=UH(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+m1(s,a++),o+=B0(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Iy(n,e,t){if(n==null)return n;var r=[],i=0;return B0(n,r,"","",function(s){return e.call(t,s,i++)}),r}function FH(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Kr={current:null},W0={transition:null},ZH={ReactCurrentDispatcher:Kr,ReactCurrentBatchConfig:W0,ReactCurrentOwner:iA};function v5(){throw Error("act(...) is not supported in production builds of React.")}st.Children={map:Iy,forEach:function(n,e,t){Iy(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Iy(n,function(){e++}),e},toArray:function(n){return Iy(n,function(e){return e})||[]},only:function(n){if(!sA(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};st.Component=Ef;st.Fragment=QH;st.Profiler=IH;st.PureComponent=nA;st.StrictMode=NH;st.Suspense=MH;st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZH;st.act=v5;st.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=f5({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=iA.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)g5.call(e,l)&&!O5.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:AO,type:n.type,key:i,ref:s,props:r,_owner:o}};st.createContext=function(n){return n={$$typeof:jH,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:$H,_context:n},n.Consumer=n};st.createElement=y5;st.createFactory=function(n){var e=y5.bind(null,n);return e.type=n,e};st.createRef=function(){return{current:null}};st.forwardRef=function(n){return{$$typeof:DH,render:n}};st.isValidElement=sA;st.lazy=function(n){return{$$typeof:LH,_payload:{_status:-1,_result:n},_init:FH}};st.memo=function(n,e){return{$$typeof:VH,type:n,compare:e===void 0?null:e}};st.startTransition=function(n){var e=W0.transition;W0.transition={};try{n()}finally{W0.transition=e}};st.unstable_act=v5;st.useCallback=function(n,e){return Kr.current.useCallback(n,e)};st.useContext=function(n){return Kr.current.useContext(n)};st.useDebugValue=function(){};st.useDeferredValue=function(n){return Kr.current.useDeferredValue(n)};st.useEffect=function(n,e){return Kr.current.useEffect(n,e)};st.useId=function(){return Kr.current.useId()};st.useImperativeHandle=function(n,e,t){return Kr.current.useImperativeHandle(n,e,t)};st.useInsertionEffect=function(n,e){return Kr.current.useInsertionEffect(n,e)};st.useLayoutEffect=function(n,e){return Kr.current.useLayoutEffect(n,e)};st.useMemo=function(n,e){return Kr.current.useMemo(n,e)};st.useReducer=function(n,e,t){return Kr.current.useReducer(n,e,t)};st.useRef=function(n){return Kr.current.useRef(n)};st.useState=function(n){return Kr.current.useState(n)};st.useSyncExternalStore=function(n,e,t){return Kr.current.useSyncExternalStore(n,e,t)};st.useTransition=function(){return Kr.current.useTransition()};st.version="18.3.1";h5.exports=st;var b=h5.exports;const rt=c5(b),x5=AH({__proto__:null,default:rt},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BH=b,WH=Symbol.for("react.element"),XH=Symbol.for("react.fragment"),GH=Object.prototype.hasOwnProperty,YH=BH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,HH={key:!0,ref:!0,__self:!0,__source:!0};function w5(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)GH.call(e,r)&&!HH.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:WH,type:n,key:s,ref:o,props:i,_owner:YH.current}}cb.Fragment=XH;cb.jsx=w5;cb.jsxs=w5;u5.exports=cb;var h=u5.exports,b5={exports:{}},Bi={},S5={exports:{}},k5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(D,L){var Y=D.length;D.push(L);e:for(;0<Y;){var Z=Y-1>>>1,F=D[Z];if(0<i(F,L))D[Z]=L,D[Y]=F,Y=Z;else break e}}function t(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var L=D[0],Y=D.pop();if(Y!==L){D[0]=Y;e:for(var Z=0,F=D.length,B=F>>>1;Z<B;){var J=2*(Z+1)-1,ae=D[J],oe=J+1,ie=D[oe];if(0>i(ae,Y))oe<F&&0>i(ie,ae)?(D[Z]=ie,D[oe]=Y,Z=oe):(D[Z]=ae,D[J]=Y,Z=J);else if(oe<F&&0>i(ie,Y))D[Z]=ie,D[oe]=Y,Z=oe;else break e}}return L}function i(D,L){var Y=D.sortIndex-L.sortIndex;return Y!==0?Y:D.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,m=!1,g=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(D){for(var L=t(c);L!==null;){if(L.callback===null)r(c);else if(L.startTime<=D)r(c),L.sortIndex=L.expirationTime,e(l,L);else break;L=t(c)}}function Q(D){if(y=!1,P(D),!g)if(t(l)!==null)g=!0,U(C);else{var L=t(c);L!==null&&X(Q,L.startTime-D)}}function C(D,L){g=!1,y&&(y=!1,w(T),T=-1),m=!0;var Y=f;try{for(P(L),d=t(l);d!==null&&(!(d.expirationTime>L)||D&&!_());){var Z=d.callback;if(typeof Z=="function"){d.callback=null,f=d.priorityLevel;var F=Z(d.expirationTime<=L);L=n.unstable_now(),typeof F=="function"?d.callback=F:d===t(l)&&r(l),P(L)}else r(l);d=t(l)}if(d!==null)var B=!0;else{var J=t(c);J!==null&&X(Q,J.startTime-L),B=!1}return B}finally{d=null,f=Y,m=!1}}var N=!1,O=null,T=-1,S=5,A=-1;function _(){return!(n.unstable_now()-A<S)}function v(){if(O!==null){var D=n.unstable_now();A=D;var L=!0;try{L=O(!0,D)}finally{L?E():(N=!1,O=null)}}else N=!1}var E;if(typeof k=="function")E=function(){k(v)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,V=j.port2;j.port1.onmessage=v,E=function(){V.postMessage(null)}}else E=function(){x(v,0)};function U(D){O=D,N||(N=!0,E())}function X(D,L){T=x(function(){D(n.unstable_now())},L)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_continueExecution=function(){g||m||(g=!0,U(C))},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(D){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var Y=f;f=L;try{return D()}finally{f=Y}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(D,L){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var Y=f;f=D;try{return L()}finally{f=Y}},n.unstable_scheduleCallback=function(D,L,Y){var Z=n.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?Z+Y:Z):Y=Z,D){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=Y+F,D={id:u++,callback:L,priorityLevel:D,startTime:Y,expirationTime:F,sortIndex:-1},Y>Z?(D.sortIndex=Y,e(c,D),t(l)===null&&D===t(c)&&(y?(w(T),T=-1):y=!0,X(Q,Y-Z))):(D.sortIndex=F,e(l,D),g||m||(g=!0,U(C))),D},n.unstable_shouldYield=_,n.unstable_wrapCallback=function(D){var L=f;return function(){var Y=f;f=L;try{return D.apply(this,arguments)}finally{f=Y}}}})(k5);S5.exports=k5;var KH=S5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JH=b,Zi=KH;function le(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _5=new Set,Wm={};function ih(n,e){Md(n,e),Md(n+"Capture",e)}function Md(n,e){for(Wm[n]=e,n=0;n<e.length;n++)_5.add(e[n])}var Va=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),V_=Object.prototype.hasOwnProperty,eK=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x$={},w$={};function tK(n){return V_.call(w$,n)?!0:V_.call(x$,n)?!1:eK.test(n)?w$[n]=!0:(x$[n]=!0,!1)}function nK(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function rK(n,e,t,r){if(e===null||typeof e>"u"||nK(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Jr(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Or={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Or[n]=new Jr(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Or[e]=new Jr(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Or[n]=new Jr(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Or[n]=new Jr(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Or[n]=new Jr(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Or[n]=new Jr(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Or[n]=new Jr(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Or[n]=new Jr(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Or[n]=new Jr(n,5,!1,n.toLowerCase(),null,!1,!1)});var oA=/[\-:]([a-z])/g;function aA(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(oA,aA);Or[e]=new Jr(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(oA,aA);Or[e]=new Jr(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(oA,aA);Or[e]=new Jr(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Or[n]=new Jr(n,1,!1,n.toLowerCase(),null,!1,!1)});Or.xlinkHref=new Jr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Or[n]=new Jr(n,1,!1,n.toLowerCase(),null,!0,!0)});function lA(n,e,t,r){var i=Or.hasOwnProperty(e)?Or[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(rK(e,t,i,r)&&(t=null),r||i===null?tK(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var sl=JH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$y=Symbol.for("react.element"),jh=Symbol.for("react.portal"),Dh=Symbol.for("react.fragment"),cA=Symbol.for("react.strict_mode"),L_=Symbol.for("react.profiler"),T5=Symbol.for("react.provider"),P5=Symbol.for("react.context"),uA=Symbol.for("react.forward_ref"),U_=Symbol.for("react.suspense"),z_=Symbol.for("react.suspense_list"),hA=Symbol.for("react.memo"),vl=Symbol.for("react.lazy"),C5=Symbol.for("react.offscreen"),b$=Symbol.iterator;function yp(n){return n===null||typeof n!="object"?null:(n=b$&&n[b$]||n["@@iterator"],typeof n=="function"?n:null)}var ln=Object.assign,g1;function Zp(n){if(g1===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);g1=e&&e[1]||""}return`
`+g1+n}var O1=!1;function y1(n,e){if(!n||O1)return"";O1=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{O1=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Zp(n):""}function iK(n){switch(n.tag){case 5:return Zp(n.type);case 16:return Zp("Lazy");case 13:return Zp("Suspense");case 19:return Zp("SuspenseList");case 0:case 2:case 15:return n=y1(n.type,!1),n;case 11:return n=y1(n.type.render,!1),n;case 1:return n=y1(n.type,!0),n;default:return""}}function q_(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Dh:return"Fragment";case jh:return"Portal";case L_:return"Profiler";case cA:return"StrictMode";case U_:return"Suspense";case z_:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case P5:return(n.displayName||"Context")+".Consumer";case T5:return(n._context.displayName||"Context")+".Provider";case uA:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case hA:return e=n.displayName||null,e!==null?e:q_(n.type)||"Memo";case vl:e=n._payload,n=n._init;try{return q_(n(e))}catch{}}return null}function sK(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q_(e);case 8:return e===cA?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function hc(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function E5(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function oK(n){var e=E5(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function jy(n){n._valueTracker||(n._valueTracker=oK(n))}function A5(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=E5(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function sx(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function F_(n,e){var t=e.checked;return ln({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function S$(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=hc(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function R5(n,e){e=e.checked,e!=null&&lA(n,"checked",e,!1)}function Z_(n,e){R5(n,e);var t=hc(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?B_(n,e.type,t):e.hasOwnProperty("defaultValue")&&B_(n,e.type,hc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function k$(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function B_(n,e,t){(e!=="number"||sx(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Bp=Array.isArray;function id(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+hc(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function W_(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(le(91));return ln({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function _$(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(le(92));if(Bp(t)){if(1<t.length)throw Error(le(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:hc(t)}}function Q5(n,e){var t=hc(e.value),r=hc(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function T$(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function N5(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function X_(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?N5(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Dy,I5=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Dy=Dy||document.createElement("div"),Dy.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Dy.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Xm(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var bm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aK=["Webkit","ms","Moz","O"];Object.keys(bm).forEach(function(n){aK.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),bm[e]=bm[n]})});function $5(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||bm.hasOwnProperty(n)&&bm[n]?(""+e).trim():e+"px"}function j5(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=$5(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var lK=ln({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function G_(n,e){if(e){if(lK[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(le(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(le(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(le(61))}if(e.style!=null&&typeof e.style!="object")throw Error(le(62))}}function Y_(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var H_=null;function dA(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var K_=null,sd=null,od=null;function P$(n){if(n=NO(n)){if(typeof K_!="function")throw Error(le(280));var e=n.stateNode;e&&(e=pb(e),K_(n.stateNode,n.type,e))}}function D5(n){sd?od?od.push(n):od=[n]:sd=n}function M5(){if(sd){var n=sd,e=od;if(od=sd=null,P$(n),e)for(n=0;n<e.length;n++)P$(e[n])}}function V5(n,e){return n(e)}function L5(){}var v1=!1;function U5(n,e,t){if(v1)return n(e,t);v1=!0;try{return V5(n,e,t)}finally{v1=!1,(sd!==null||od!==null)&&(L5(),M5())}}function Gm(n,e){var t=n.stateNode;if(t===null)return null;var r=pb(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(le(231,e,typeof t));return t}var J_=!1;if(Va)try{var vp={};Object.defineProperty(vp,"passive",{get:function(){J_=!0}}),window.addEventListener("test",vp,vp),window.removeEventListener("test",vp,vp)}catch{J_=!1}function cK(n,e,t,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var Sm=!1,ox=null,ax=!1,eT=null,uK={onError:function(n){Sm=!0,ox=n}};function hK(n,e,t,r,i,s,o,a,l){Sm=!1,ox=null,cK.apply(uK,arguments)}function dK(n,e,t,r,i,s,o,a,l){if(hK.apply(this,arguments),Sm){if(Sm){var c=ox;Sm=!1,ox=null}else throw Error(le(198));ax||(ax=!0,eT=c)}}function sh(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function z5(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function C$(n){if(sh(n)!==n)throw Error(le(188))}function fK(n){var e=n.alternate;if(!e){if(e=sh(n),e===null)throw Error(le(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return C$(i),n;if(s===r)return C$(i),e;s=s.sibling}throw Error(le(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(le(189))}}if(t.alternate!==r)throw Error(le(190))}if(t.tag!==3)throw Error(le(188));return t.stateNode.current===t?n:e}function q5(n){return n=fK(n),n!==null?F5(n):null}function F5(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=F5(n);if(e!==null)return e;n=n.sibling}return null}var Z5=Zi.unstable_scheduleCallback,E$=Zi.unstable_cancelCallback,pK=Zi.unstable_shouldYield,mK=Zi.unstable_requestPaint,wn=Zi.unstable_now,gK=Zi.unstable_getCurrentPriorityLevel,fA=Zi.unstable_ImmediatePriority,B5=Zi.unstable_UserBlockingPriority,lx=Zi.unstable_NormalPriority,OK=Zi.unstable_LowPriority,W5=Zi.unstable_IdlePriority,ub=null,bo=null;function yK(n){if(bo&&typeof bo.onCommitFiberRoot=="function")try{bo.onCommitFiberRoot(ub,n,void 0,(n.current.flags&128)===128)}catch{}}var Ns=Math.clz32?Math.clz32:wK,vK=Math.log,xK=Math.LN2;function wK(n){return n>>>=0,n===0?32:31-(vK(n)/xK|0)|0}var My=64,Vy=4194304;function Wp(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function cx(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=Wp(a):(s&=o,s!==0&&(r=Wp(s)))}else o=t&~i,o!==0?r=Wp(o):s!==0&&(r=Wp(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Ns(e),i=1<<t,r|=n[t],e&=~i;return r}function bK(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function SK(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Ns(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=bK(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function tT(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function X5(){var n=My;return My<<=1,!(My&4194240)&&(My=64),n}function x1(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function RO(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Ns(e),n[e]=t}function kK(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-Ns(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function pA(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Ns(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var _t=0;function G5(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var Y5,mA,H5,K5,J5,nT=!1,Ly=[],Gl=null,Yl=null,Hl=null,Ym=new Map,Hm=new Map,Sl=[],_K="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function A$(n,e){switch(n){case"focusin":case"focusout":Gl=null;break;case"dragenter":case"dragleave":Yl=null;break;case"mouseover":case"mouseout":Hl=null;break;case"pointerover":case"pointerout":Ym.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hm.delete(e.pointerId)}}function xp(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=NO(e),e!==null&&mA(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function TK(n,e,t,r,i){switch(e){case"focusin":return Gl=xp(Gl,n,e,t,r,i),!0;case"dragenter":return Yl=xp(Yl,n,e,t,r,i),!0;case"mouseover":return Hl=xp(Hl,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return Ym.set(s,xp(Ym.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Hm.set(s,xp(Hm.get(s)||null,n,e,t,r,i)),!0}return!1}function eU(n){var e=cu(n.target);if(e!==null){var t=sh(e);if(t!==null){if(e=t.tag,e===13){if(e=z5(t),e!==null){n.blockedOn=e,J5(n.priority,function(){H5(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function X0(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=rT(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);H_=r,t.target.dispatchEvent(r),H_=null}else return e=NO(t),e!==null&&mA(e),n.blockedOn=t,!1;e.shift()}return!0}function R$(n,e,t){X0(n)&&t.delete(e)}function PK(){nT=!1,Gl!==null&&X0(Gl)&&(Gl=null),Yl!==null&&X0(Yl)&&(Yl=null),Hl!==null&&X0(Hl)&&(Hl=null),Ym.forEach(R$),Hm.forEach(R$)}function wp(n,e){n.blockedOn===e&&(n.blockedOn=null,nT||(nT=!0,Zi.unstable_scheduleCallback(Zi.unstable_NormalPriority,PK)))}function Km(n){function e(i){return wp(i,n)}if(0<Ly.length){wp(Ly[0],n);for(var t=1;t<Ly.length;t++){var r=Ly[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Gl!==null&&wp(Gl,n),Yl!==null&&wp(Yl,n),Hl!==null&&wp(Hl,n),Ym.forEach(e),Hm.forEach(e),t=0;t<Sl.length;t++)r=Sl[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<Sl.length&&(t=Sl[0],t.blockedOn===null);)eU(t),t.blockedOn===null&&Sl.shift()}var ad=sl.ReactCurrentBatchConfig,ux=!0;function CK(n,e,t,r){var i=_t,s=ad.transition;ad.transition=null;try{_t=1,gA(n,e,t,r)}finally{_t=i,ad.transition=s}}function EK(n,e,t,r){var i=_t,s=ad.transition;ad.transition=null;try{_t=4,gA(n,e,t,r)}finally{_t=i,ad.transition=s}}function gA(n,e,t,r){if(ux){var i=rT(n,e,t,r);if(i===null)A1(n,e,r,hx,t),A$(n,r);else if(TK(i,n,e,t,r))r.stopPropagation();else if(A$(n,r),e&4&&-1<_K.indexOf(n)){for(;i!==null;){var s=NO(i);if(s!==null&&Y5(s),s=rT(n,e,t,r),s===null&&A1(n,e,r,hx,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else A1(n,e,r,null,t)}}var hx=null;function rT(n,e,t,r){if(hx=null,n=dA(r),n=cu(n),n!==null)if(e=sh(n),e===null)n=null;else if(t=e.tag,t===13){if(n=z5(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return hx=n,null}function tU(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gK()){case fA:return 1;case B5:return 4;case lx:case OK:return 16;case W5:return 536870912;default:return 16}default:return 16}}var zl=null,OA=null,G0=null;function nU(){if(G0)return G0;var n,e=OA,t=e.length,r,i="value"in zl?zl.value:zl.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return G0=i.slice(n,1<r?1-r:void 0)}function Y0(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Uy(){return!0}function Q$(){return!1}function Wi(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Uy:Q$,this.isPropagationStopped=Q$,this}return ln(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Uy)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Uy)},persist:function(){},isPersistent:Uy}),e}var Af={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yA=Wi(Af),QO=ln({},Af,{view:0,detail:0}),AK=Wi(QO),w1,b1,bp,hb=ln({},QO,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vA,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==bp&&(bp&&n.type==="mousemove"?(w1=n.screenX-bp.screenX,b1=n.screenY-bp.screenY):b1=w1=0,bp=n),w1)},movementY:function(n){return"movementY"in n?n.movementY:b1}}),N$=Wi(hb),RK=ln({},hb,{dataTransfer:0}),QK=Wi(RK),NK=ln({},QO,{relatedTarget:0}),S1=Wi(NK),IK=ln({},Af,{animationName:0,elapsedTime:0,pseudoElement:0}),$K=Wi(IK),jK=ln({},Af,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),DK=Wi(jK),MK=ln({},Af,{data:0}),I$=Wi(MK),VK={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LK={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UK={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zK(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=UK[n])?!!e[n]:!1}function vA(){return zK}var qK=ln({},QO,{key:function(n){if(n.key){var e=VK[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Y0(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?LK[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vA,charCode:function(n){return n.type==="keypress"?Y0(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Y0(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),FK=Wi(qK),ZK=ln({},hb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$$=Wi(ZK),BK=ln({},QO,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vA}),WK=Wi(BK),XK=ln({},Af,{propertyName:0,elapsedTime:0,pseudoElement:0}),GK=Wi(XK),YK=ln({},hb,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),HK=Wi(YK),KK=[9,13,27,32],xA=Va&&"CompositionEvent"in window,km=null;Va&&"documentMode"in document&&(km=document.documentMode);var JK=Va&&"TextEvent"in window&&!km,rU=Va&&(!xA||km&&8<km&&11>=km),j$=" ",D$=!1;function iU(n,e){switch(n){case"keyup":return KK.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sU(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Mh=!1;function eJ(n,e){switch(n){case"compositionend":return sU(e);case"keypress":return e.which!==32?null:(D$=!0,j$);case"textInput":return n=e.data,n===j$&&D$?null:n;default:return null}}function tJ(n,e){if(Mh)return n==="compositionend"||!xA&&iU(n,e)?(n=nU(),G0=OA=zl=null,Mh=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return rU&&e.locale!=="ko"?null:e.data;default:return null}}var nJ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function M$(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!nJ[n.type]:e==="textarea"}function oU(n,e,t,r){D5(r),e=dx(e,"onChange"),0<e.length&&(t=new yA("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var _m=null,Jm=null;function rJ(n){OU(n,0)}function db(n){var e=Uh(n);if(A5(e))return n}function iJ(n,e){if(n==="change")return e}var aU=!1;if(Va){var k1;if(Va){var _1="oninput"in document;if(!_1){var V$=document.createElement("div");V$.setAttribute("oninput","return;"),_1=typeof V$.oninput=="function"}k1=_1}else k1=!1;aU=k1&&(!document.documentMode||9<document.documentMode)}function L$(){_m&&(_m.detachEvent("onpropertychange",lU),Jm=_m=null)}function lU(n){if(n.propertyName==="value"&&db(Jm)){var e=[];oU(e,Jm,n,dA(n)),U5(rJ,e)}}function sJ(n,e,t){n==="focusin"?(L$(),_m=e,Jm=t,_m.attachEvent("onpropertychange",lU)):n==="focusout"&&L$()}function oJ(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return db(Jm)}function aJ(n,e){if(n==="click")return db(e)}function lJ(n,e){if(n==="input"||n==="change")return db(e)}function cJ(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Us=typeof Object.is=="function"?Object.is:cJ;function eg(n,e){if(Us(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!V_.call(e,i)||!Us(n[i],e[i]))return!1}return!0}function U$(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function z$(n,e){var t=U$(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=U$(t)}}function cU(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?cU(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function uU(){for(var n=window,e=sx();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=sx(n.document)}return e}function wA(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function uJ(n){var e=uU(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&cU(t.ownerDocument.documentElement,t)){if(r!==null&&wA(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=z$(t,s);var o=z$(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var hJ=Va&&"documentMode"in document&&11>=document.documentMode,Vh=null,iT=null,Tm=null,sT=!1;function q$(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;sT||Vh==null||Vh!==sx(r)||(r=Vh,"selectionStart"in r&&wA(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Tm&&eg(Tm,r)||(Tm=r,r=dx(iT,"onSelect"),0<r.length&&(e=new yA("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Vh)))}function zy(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Lh={animationend:zy("Animation","AnimationEnd"),animationiteration:zy("Animation","AnimationIteration"),animationstart:zy("Animation","AnimationStart"),transitionend:zy("Transition","TransitionEnd")},T1={},hU={};Va&&(hU=document.createElement("div").style,"AnimationEvent"in window||(delete Lh.animationend.animation,delete Lh.animationiteration.animation,delete Lh.animationstart.animation),"TransitionEvent"in window||delete Lh.transitionend.transition);function fb(n){if(T1[n])return T1[n];if(!Lh[n])return n;var e=Lh[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in hU)return T1[n]=e[t];return n}var dU=fb("animationend"),fU=fb("animationiteration"),pU=fb("animationstart"),mU=fb("transitionend"),gU=new Map,F$="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jc(n,e){gU.set(n,e),ih(e,[n])}for(var P1=0;P1<F$.length;P1++){var C1=F$[P1],dJ=C1.toLowerCase(),fJ=C1[0].toUpperCase()+C1.slice(1);jc(dJ,"on"+fJ)}jc(dU,"onAnimationEnd");jc(fU,"onAnimationIteration");jc(pU,"onAnimationStart");jc("dblclick","onDoubleClick");jc("focusin","onFocus");jc("focusout","onBlur");jc(mU,"onTransitionEnd");Md("onMouseEnter",["mouseout","mouseover"]);Md("onMouseLeave",["mouseout","mouseover"]);Md("onPointerEnter",["pointerout","pointerover"]);Md("onPointerLeave",["pointerout","pointerover"]);ih("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ih("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ih("onBeforeInput",["compositionend","keypress","textInput","paste"]);ih("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ih("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ih("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pJ=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xp));function Z$(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,dK(r,e,void 0,n),n.currentTarget=null}function OU(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Z$(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Z$(i,a,c),s=l}}}if(ax)throw n=eT,ax=!1,eT=null,n}function qt(n,e){var t=e[uT];t===void 0&&(t=e[uT]=new Set);var r=n+"__bubble";t.has(r)||(yU(e,n,2,!1),t.add(r))}function E1(n,e,t){var r=0;e&&(r|=4),yU(t,n,r,e)}var qy="_reactListening"+Math.random().toString(36).slice(2);function tg(n){if(!n[qy]){n[qy]=!0,_5.forEach(function(t){t!=="selectionchange"&&(pJ.has(t)||E1(t,!1,n),E1(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[qy]||(e[qy]=!0,E1("selectionchange",!1,e))}}function yU(n,e,t,r){switch(tU(e)){case 1:var i=CK;break;case 4:i=EK;break;default:i=gA}t=i.bind(null,e,t,n),i=void 0,!J_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function A1(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=cu(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}U5(function(){var c=s,u=dA(t),d=[];e:{var f=gU.get(n);if(f!==void 0){var m=yA,g=n;switch(n){case"keypress":if(Y0(t)===0)break e;case"keydown":case"keyup":m=FK;break;case"focusin":g="focus",m=S1;break;case"focusout":g="blur",m=S1;break;case"beforeblur":case"afterblur":m=S1;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=N$;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=QK;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=WK;break;case dU:case fU:case pU:m=$K;break;case mU:m=GK;break;case"scroll":m=AK;break;case"wheel":m=HK;break;case"copy":case"cut":case"paste":m=DK;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=$$}var y=(e&4)!==0,x=!y&&n==="scroll",w=y?f!==null?f+"Capture":null:f;y=[];for(var k=c,P;k!==null;){P=k;var Q=P.stateNode;if(P.tag===5&&Q!==null&&(P=Q,w!==null&&(Q=Gm(k,w),Q!=null&&y.push(ng(k,Q,P)))),x)break;k=k.return}0<y.length&&(f=new m(f,g,null,t,u),d.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",f&&t!==H_&&(g=t.relatedTarget||t.fromElement)&&(cu(g)||g[La]))break e;if((m||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,m?(g=t.relatedTarget||t.toElement,m=c,g=g?cu(g):null,g!==null&&(x=sh(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=c),m!==g)){if(y=N$,Q="onMouseLeave",w="onMouseEnter",k="mouse",(n==="pointerout"||n==="pointerover")&&(y=$$,Q="onPointerLeave",w="onPointerEnter",k="pointer"),x=m==null?f:Uh(m),P=g==null?f:Uh(g),f=new y(Q,k+"leave",m,t,u),f.target=x,f.relatedTarget=P,Q=null,cu(u)===c&&(y=new y(w,k+"enter",g,t,u),y.target=P,y.relatedTarget=x,Q=y),x=Q,m&&g)t:{for(y=m,w=g,k=0,P=y;P;P=vh(P))k++;for(P=0,Q=w;Q;Q=vh(Q))P++;for(;0<k-P;)y=vh(y),k--;for(;0<P-k;)w=vh(w),P--;for(;k--;){if(y===w||w!==null&&y===w.alternate)break t;y=vh(y),w=vh(w)}y=null}else y=null;m!==null&&B$(d,f,m,y,!1),g!==null&&x!==null&&B$(d,x,g,y,!0)}}e:{if(f=c?Uh(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var C=iJ;else if(M$(f))if(aU)C=lJ;else{C=oJ;var N=sJ}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=aJ);if(C&&(C=C(n,c))){oU(d,C,t,u);break e}N&&N(n,f,c),n==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&B_(f,"number",f.value)}switch(N=c?Uh(c):window,n){case"focusin":(M$(N)||N.contentEditable==="true")&&(Vh=N,iT=c,Tm=null);break;case"focusout":Tm=iT=Vh=null;break;case"mousedown":sT=!0;break;case"contextmenu":case"mouseup":case"dragend":sT=!1,q$(d,t,u);break;case"selectionchange":if(hJ)break;case"keydown":case"keyup":q$(d,t,u)}var O;if(xA)e:{switch(n){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Mh?iU(n,t)&&(T="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(T="onCompositionStart");T&&(rU&&t.locale!=="ko"&&(Mh||T!=="onCompositionStart"?T==="onCompositionEnd"&&Mh&&(O=nU()):(zl=u,OA="value"in zl?zl.value:zl.textContent,Mh=!0)),N=dx(c,T),0<N.length&&(T=new I$(T,n,null,t,u),d.push({event:T,listeners:N}),O?T.data=O:(O=sU(t),O!==null&&(T.data=O)))),(O=JK?eJ(n,t):tJ(n,t))&&(c=dx(c,"onBeforeInput"),0<c.length&&(u=new I$("onBeforeInput","beforeinput",null,t,u),d.push({event:u,listeners:c}),u.data=O))}OU(d,e)})}function ng(n,e,t){return{instance:n,listener:e,currentTarget:t}}function dx(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Gm(n,t),s!=null&&r.unshift(ng(n,s,i)),s=Gm(n,e),s!=null&&r.push(ng(n,s,i))),n=n.return}return r}function vh(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function B$(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Gm(t,s),l!=null&&o.unshift(ng(t,l,a))):i||(l=Gm(t,s),l!=null&&o.push(ng(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var mJ=/\r\n?/g,gJ=/\u0000|\uFFFD/g;function W$(n){return(typeof n=="string"?n:""+n).replace(mJ,`
`).replace(gJ,"")}function Fy(n,e,t){if(e=W$(e),W$(n)!==e&&t)throw Error(le(425))}function fx(){}var oT=null,aT=null;function lT(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var cT=typeof setTimeout=="function"?setTimeout:void 0,OJ=typeof clearTimeout=="function"?clearTimeout:void 0,X$=typeof Promise=="function"?Promise:void 0,yJ=typeof queueMicrotask=="function"?queueMicrotask:typeof X$<"u"?function(n){return X$.resolve(null).then(n).catch(vJ)}:cT;function vJ(n){setTimeout(function(){throw n})}function R1(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),Km(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);Km(e)}function Kl(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function G$(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Rf=Math.random().toString(36).slice(2),ho="__reactFiber$"+Rf,rg="__reactProps$"+Rf,La="__reactContainer$"+Rf,uT="__reactEvents$"+Rf,xJ="__reactListeners$"+Rf,wJ="__reactHandles$"+Rf;function cu(n){var e=n[ho];if(e)return e;for(var t=n.parentNode;t;){if(e=t[La]||t[ho]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=G$(n);n!==null;){if(t=n[ho])return t;n=G$(n)}return e}n=t,t=n.parentNode}return null}function NO(n){return n=n[ho]||n[La],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Uh(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(le(33))}function pb(n){return n[rg]||null}var hT=[],zh=-1;function Dc(n){return{current:n}}function Wt(n){0>zh||(n.current=hT[zh],hT[zh]=null,zh--)}function Nt(n,e){zh++,hT[zh]=n.current,n.current=e}var dc={},Qr=Dc(dc),yi=Dc(!1),Ru=dc;function Vd(n,e){var t=n.type.contextTypes;if(!t)return dc;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function vi(n){return n=n.childContextTypes,n!=null}function px(){Wt(yi),Wt(Qr)}function Y$(n,e,t){if(Qr.current!==dc)throw Error(le(168));Nt(Qr,e),Nt(yi,t)}function vU(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(le(108,sK(n)||"Unknown",i));return ln({},t,r)}function mx(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||dc,Ru=Qr.current,Nt(Qr,n),Nt(yi,yi.current),!0}function H$(n,e,t){var r=n.stateNode;if(!r)throw Error(le(169));t?(n=vU(n,e,Ru),r.__reactInternalMemoizedMergedChildContext=n,Wt(yi),Wt(Qr),Nt(Qr,n)):Wt(yi),Nt(yi,t)}var wa=null,mb=!1,Q1=!1;function xU(n){wa===null?wa=[n]:wa.push(n)}function bJ(n){mb=!0,xU(n)}function Mc(){if(!Q1&&wa!==null){Q1=!0;var n=0,e=_t;try{var t=wa;for(_t=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}wa=null,mb=!1}catch(i){throw wa!==null&&(wa=wa.slice(n+1)),Z5(fA,Mc),i}finally{_t=e,Q1=!1}}return null}var qh=[],Fh=0,gx=null,Ox=0,es=[],ts=0,Qu=null,Ta=1,Pa="";function ru(n,e){qh[Fh++]=Ox,qh[Fh++]=gx,gx=n,Ox=e}function wU(n,e,t){es[ts++]=Ta,es[ts++]=Pa,es[ts++]=Qu,Qu=n;var r=Ta;n=Pa;var i=32-Ns(r)-1;r&=~(1<<i),t+=1;var s=32-Ns(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ta=1<<32-Ns(e)+i|t<<i|r,Pa=s+n}else Ta=1<<s|t<<i|r,Pa=n}function bA(n){n.return!==null&&(ru(n,1),wU(n,1,0))}function SA(n){for(;n===gx;)gx=qh[--Fh],qh[Fh]=null,Ox=qh[--Fh],qh[Fh]=null;for(;n===Qu;)Qu=es[--ts],es[ts]=null,Pa=es[--ts],es[ts]=null,Ta=es[--ts],es[ts]=null}var zi=null,Ni=null,Yt=!1,Ss=null;function bU(n,e){var t=rs(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function K$(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,zi=n,Ni=Kl(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,zi=n,Ni=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Qu!==null?{id:Ta,overflow:Pa}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=rs(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,zi=n,Ni=null,!0):!1;default:return!1}}function dT(n){return(n.mode&1)!==0&&(n.flags&128)===0}function fT(n){if(Yt){var e=Ni;if(e){var t=e;if(!K$(n,e)){if(dT(n))throw Error(le(418));e=Kl(t.nextSibling);var r=zi;e&&K$(n,e)?bU(r,t):(n.flags=n.flags&-4097|2,Yt=!1,zi=n)}}else{if(dT(n))throw Error(le(418));n.flags=n.flags&-4097|2,Yt=!1,zi=n}}}function J$(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;zi=n}function Zy(n){if(n!==zi)return!1;if(!Yt)return J$(n),Yt=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!lT(n.type,n.memoizedProps)),e&&(e=Ni)){if(dT(n))throw SU(),Error(le(418));for(;e;)bU(n,e),e=Kl(e.nextSibling)}if(J$(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(le(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Ni=Kl(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Ni=null}}else Ni=zi?Kl(n.stateNode.nextSibling):null;return!0}function SU(){for(var n=Ni;n;)n=Kl(n.nextSibling)}function Ld(){Ni=zi=null,Yt=!1}function kA(n){Ss===null?Ss=[n]:Ss.push(n)}var SJ=sl.ReactCurrentBatchConfig;function Sp(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(le(309));var r=t.stateNode}if(!r)throw Error(le(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(le(284));if(!t._owner)throw Error(le(290,n))}return n}function By(n,e){throw n=Object.prototype.toString.call(e),Error(le(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function e2(n){var e=n._init;return e(n._payload)}function kU(n){function e(w,k){if(n){var P=w.deletions;P===null?(w.deletions=[k],w.flags|=16):P.push(k)}}function t(w,k){if(!n)return null;for(;k!==null;)e(w,k),k=k.sibling;return null}function r(w,k){for(w=new Map;k!==null;)k.key!==null?w.set(k.key,k):w.set(k.index,k),k=k.sibling;return w}function i(w,k){return w=nc(w,k),w.index=0,w.sibling=null,w}function s(w,k,P){return w.index=P,n?(P=w.alternate,P!==null?(P=P.index,P<k?(w.flags|=2,k):P):(w.flags|=2,k)):(w.flags|=1048576,k)}function o(w){return n&&w.alternate===null&&(w.flags|=2),w}function a(w,k,P,Q){return k===null||k.tag!==6?(k=V1(P,w.mode,Q),k.return=w,k):(k=i(k,P),k.return=w,k)}function l(w,k,P,Q){var C=P.type;return C===Dh?u(w,k,P.props.children,Q,P.key):k!==null&&(k.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===vl&&e2(C)===k.type)?(Q=i(k,P.props),Q.ref=Sp(w,k,P),Q.return=w,Q):(Q=rv(P.type,P.key,P.props,null,w.mode,Q),Q.ref=Sp(w,k,P),Q.return=w,Q)}function c(w,k,P,Q){return k===null||k.tag!==4||k.stateNode.containerInfo!==P.containerInfo||k.stateNode.implementation!==P.implementation?(k=L1(P,w.mode,Q),k.return=w,k):(k=i(k,P.children||[]),k.return=w,k)}function u(w,k,P,Q,C){return k===null||k.tag!==7?(k=_u(P,w.mode,Q,C),k.return=w,k):(k=i(k,P),k.return=w,k)}function d(w,k,P){if(typeof k=="string"&&k!==""||typeof k=="number")return k=V1(""+k,w.mode,P),k.return=w,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case $y:return P=rv(k.type,k.key,k.props,null,w.mode,P),P.ref=Sp(w,null,k),P.return=w,P;case jh:return k=L1(k,w.mode,P),k.return=w,k;case vl:var Q=k._init;return d(w,Q(k._payload),P)}if(Bp(k)||yp(k))return k=_u(k,w.mode,P,null),k.return=w,k;By(w,k)}return null}function f(w,k,P,Q){var C=k!==null?k.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return C!==null?null:a(w,k,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case $y:return P.key===C?l(w,k,P,Q):null;case jh:return P.key===C?c(w,k,P,Q):null;case vl:return C=P._init,f(w,k,C(P._payload),Q)}if(Bp(P)||yp(P))return C!==null?null:u(w,k,P,Q,null);By(w,P)}return null}function m(w,k,P,Q,C){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return w=w.get(P)||null,a(k,w,""+Q,C);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case $y:return w=w.get(Q.key===null?P:Q.key)||null,l(k,w,Q,C);case jh:return w=w.get(Q.key===null?P:Q.key)||null,c(k,w,Q,C);case vl:var N=Q._init;return m(w,k,P,N(Q._payload),C)}if(Bp(Q)||yp(Q))return w=w.get(P)||null,u(k,w,Q,C,null);By(k,Q)}return null}function g(w,k,P,Q){for(var C=null,N=null,O=k,T=k=0,S=null;O!==null&&T<P.length;T++){O.index>T?(S=O,O=null):S=O.sibling;var A=f(w,O,P[T],Q);if(A===null){O===null&&(O=S);break}n&&O&&A.alternate===null&&e(w,O),k=s(A,k,T),N===null?C=A:N.sibling=A,N=A,O=S}if(T===P.length)return t(w,O),Yt&&ru(w,T),C;if(O===null){for(;T<P.length;T++)O=d(w,P[T],Q),O!==null&&(k=s(O,k,T),N===null?C=O:N.sibling=O,N=O);return Yt&&ru(w,T),C}for(O=r(w,O);T<P.length;T++)S=m(O,w,T,P[T],Q),S!==null&&(n&&S.alternate!==null&&O.delete(S.key===null?T:S.key),k=s(S,k,T),N===null?C=S:N.sibling=S,N=S);return n&&O.forEach(function(_){return e(w,_)}),Yt&&ru(w,T),C}function y(w,k,P,Q){var C=yp(P);if(typeof C!="function")throw Error(le(150));if(P=C.call(P),P==null)throw Error(le(151));for(var N=C=null,O=k,T=k=0,S=null,A=P.next();O!==null&&!A.done;T++,A=P.next()){O.index>T?(S=O,O=null):S=O.sibling;var _=f(w,O,A.value,Q);if(_===null){O===null&&(O=S);break}n&&O&&_.alternate===null&&e(w,O),k=s(_,k,T),N===null?C=_:N.sibling=_,N=_,O=S}if(A.done)return t(w,O),Yt&&ru(w,T),C;if(O===null){for(;!A.done;T++,A=P.next())A=d(w,A.value,Q),A!==null&&(k=s(A,k,T),N===null?C=A:N.sibling=A,N=A);return Yt&&ru(w,T),C}for(O=r(w,O);!A.done;T++,A=P.next())A=m(O,w,T,A.value,Q),A!==null&&(n&&A.alternate!==null&&O.delete(A.key===null?T:A.key),k=s(A,k,T),N===null?C=A:N.sibling=A,N=A);return n&&O.forEach(function(v){return e(w,v)}),Yt&&ru(w,T),C}function x(w,k,P,Q){if(typeof P=="object"&&P!==null&&P.type===Dh&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case $y:e:{for(var C=P.key,N=k;N!==null;){if(N.key===C){if(C=P.type,C===Dh){if(N.tag===7){t(w,N.sibling),k=i(N,P.props.children),k.return=w,w=k;break e}}else if(N.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===vl&&e2(C)===N.type){t(w,N.sibling),k=i(N,P.props),k.ref=Sp(w,N,P),k.return=w,w=k;break e}t(w,N);break}else e(w,N);N=N.sibling}P.type===Dh?(k=_u(P.props.children,w.mode,Q,P.key),k.return=w,w=k):(Q=rv(P.type,P.key,P.props,null,w.mode,Q),Q.ref=Sp(w,k,P),Q.return=w,w=Q)}return o(w);case jh:e:{for(N=P.key;k!==null;){if(k.key===N)if(k.tag===4&&k.stateNode.containerInfo===P.containerInfo&&k.stateNode.implementation===P.implementation){t(w,k.sibling),k=i(k,P.children||[]),k.return=w,w=k;break e}else{t(w,k);break}else e(w,k);k=k.sibling}k=L1(P,w.mode,Q),k.return=w,w=k}return o(w);case vl:return N=P._init,x(w,k,N(P._payload),Q)}if(Bp(P))return g(w,k,P,Q);if(yp(P))return y(w,k,P,Q);By(w,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,k!==null&&k.tag===6?(t(w,k.sibling),k=i(k,P),k.return=w,w=k):(t(w,k),k=V1(P,w.mode,Q),k.return=w,w=k),o(w)):t(w,k)}return x}var Ud=kU(!0),_U=kU(!1),yx=Dc(null),vx=null,Zh=null,_A=null;function TA(){_A=Zh=vx=null}function PA(n){var e=yx.current;Wt(yx),n._currentValue=e}function pT(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function ld(n,e){vx=n,_A=Zh=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(mi=!0),n.firstContext=null)}function us(n){var e=n._currentValue;if(_A!==n)if(n={context:n,memoizedValue:e,next:null},Zh===null){if(vx===null)throw Error(le(308));Zh=n,vx.dependencies={lanes:0,firstContext:n}}else Zh=Zh.next=n;return e}var uu=null;function CA(n){uu===null?uu=[n]:uu.push(n)}function TU(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,CA(e)):(t.next=i.next,i.next=t),e.interleaved=t,Ua(n,r)}function Ua(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var xl=!1;function EA(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function PU(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Na(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Jl(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,vt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ua(n,t)}return i=r.interleaved,i===null?(e.next=e,CA(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ua(n,t)}function H0(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,pA(n,t)}}function t2(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function xx(n,e,t,r){var i=n.updateQueue;xl=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=n.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=n,y=a;switch(f=e,m=t,y.tag){case 1:if(g=y.payload,typeof g=="function"){d=g.call(m,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,f=typeof g=="function"?g.call(m,d,f):g,f==null)break e;d=ln({},d,f);break e;case 2:xl=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=d):u=u.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Iu|=o,n.lanes=o,n.memoizedState=d}}function n2(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(le(191,i));i.call(r)}}}var IO={},So=Dc(IO),ig=Dc(IO),sg=Dc(IO);function hu(n){if(n===IO)throw Error(le(174));return n}function AA(n,e){switch(Nt(sg,e),Nt(ig,n),Nt(So,IO),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:X_(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=X_(e,n)}Wt(So),Nt(So,e)}function zd(){Wt(So),Wt(ig),Wt(sg)}function CU(n){hu(sg.current);var e=hu(So.current),t=X_(e,n.type);e!==t&&(Nt(ig,n),Nt(So,t))}function RA(n){ig.current===n&&(Wt(So),Wt(ig))}var sn=Dc(0);function wx(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var N1=[];function QA(){for(var n=0;n<N1.length;n++)N1[n]._workInProgressVersionPrimary=null;N1.length=0}var K0=sl.ReactCurrentDispatcher,I1=sl.ReactCurrentBatchConfig,Nu=0,on=null,Dn=null,Yn=null,bx=!1,Pm=!1,og=0,kJ=0;function br(){throw Error(le(321))}function NA(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Us(n[t],e[t]))return!1;return!0}function IA(n,e,t,r,i,s){if(Nu=s,on=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,K0.current=n===null||n.memoizedState===null?CJ:EJ,n=t(r,i),Pm){s=0;do{if(Pm=!1,og=0,25<=s)throw Error(le(301));s+=1,Yn=Dn=null,e.updateQueue=null,K0.current=AJ,n=t(r,i)}while(Pm)}if(K0.current=Sx,e=Dn!==null&&Dn.next!==null,Nu=0,Yn=Dn=on=null,bx=!1,e)throw Error(le(300));return n}function $A(){var n=og!==0;return og=0,n}function so(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yn===null?on.memoizedState=Yn=n:Yn=Yn.next=n,Yn}function hs(){if(Dn===null){var n=on.alternate;n=n!==null?n.memoizedState:null}else n=Dn.next;var e=Yn===null?on.memoizedState:Yn.next;if(e!==null)Yn=e,Dn=n;else{if(n===null)throw Error(le(310));Dn=n,n={memoizedState:Dn.memoizedState,baseState:Dn.baseState,baseQueue:Dn.baseQueue,queue:Dn.queue,next:null},Yn===null?on.memoizedState=Yn=n:Yn=Yn.next=n}return Yn}function ag(n,e){return typeof e=="function"?e(n):e}function $1(n){var e=hs(),t=e.queue;if(t===null)throw Error(le(311));t.lastRenderedReducer=n;var r=Dn,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Nu&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,on.lanes|=u,Iu|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Us(r,e.memoizedState)||(mi=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,on.lanes|=s,Iu|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function j1(n){var e=hs(),t=e.queue;if(t===null)throw Error(le(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);Us(s,e.memoizedState)||(mi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function EU(){}function AU(n,e){var t=on,r=hs(),i=e(),s=!Us(r.memoizedState,i);if(s&&(r.memoizedState=i,mi=!0),r=r.queue,jA(NU.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||Yn!==null&&Yn.memoizedState.tag&1){if(t.flags|=2048,lg(9,QU.bind(null,t,r,i,e),void 0,null),nr===null)throw Error(le(349));Nu&30||RU(t,e,i)}return i}function RU(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=on.updateQueue,e===null?(e={lastEffect:null,stores:null},on.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function QU(n,e,t,r){e.value=t,e.getSnapshot=r,IU(e)&&$U(n)}function NU(n,e,t){return t(function(){IU(e)&&$U(n)})}function IU(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Us(n,t)}catch{return!0}}function $U(n){var e=Ua(n,1);e!==null&&Is(e,n,1,-1)}function r2(n){var e=so();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ag,lastRenderedState:n},e.queue=n,n=n.dispatch=PJ.bind(null,on,n),[e.memoizedState,n]}function lg(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=on.updateQueue,e===null?(e={lastEffect:null,stores:null},on.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function jU(){return hs().memoizedState}function J0(n,e,t,r){var i=so();on.flags|=n,i.memoizedState=lg(1|e,t,void 0,r===void 0?null:r)}function gb(n,e,t,r){var i=hs();r=r===void 0?null:r;var s=void 0;if(Dn!==null){var o=Dn.memoizedState;if(s=o.destroy,r!==null&&NA(r,o.deps)){i.memoizedState=lg(e,t,s,r);return}}on.flags|=n,i.memoizedState=lg(1|e,t,s,r)}function i2(n,e){return J0(8390656,8,n,e)}function jA(n,e){return gb(2048,8,n,e)}function DU(n,e){return gb(4,2,n,e)}function MU(n,e){return gb(4,4,n,e)}function VU(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function LU(n,e,t){return t=t!=null?t.concat([n]):null,gb(4,4,VU.bind(null,e,n),t)}function DA(){}function UU(n,e){var t=hs();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&NA(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function zU(n,e){var t=hs();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&NA(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function qU(n,e,t){return Nu&21?(Us(t,e)||(t=X5(),on.lanes|=t,Iu|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,mi=!0),n.memoizedState=t)}function _J(n,e){var t=_t;_t=t!==0&&4>t?t:4,n(!0);var r=I1.transition;I1.transition={};try{n(!1),e()}finally{_t=t,I1.transition=r}}function FU(){return hs().memoizedState}function TJ(n,e,t){var r=tc(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},ZU(n))BU(e,t);else if(t=TU(n,e,t,r),t!==null){var i=Zr();Is(t,n,r,i),WU(t,e,r)}}function PJ(n,e,t){var r=tc(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(ZU(n))BU(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,Us(a,o)){var l=e.interleaved;l===null?(i.next=i,CA(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=TU(n,e,i,r),t!==null&&(i=Zr(),Is(t,n,r,i),WU(t,e,r))}}function ZU(n){var e=n.alternate;return n===on||e!==null&&e===on}function BU(n,e){Pm=bx=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function WU(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,pA(n,t)}}var Sx={readContext:us,useCallback:br,useContext:br,useEffect:br,useImperativeHandle:br,useInsertionEffect:br,useLayoutEffect:br,useMemo:br,useReducer:br,useRef:br,useState:br,useDebugValue:br,useDeferredValue:br,useTransition:br,useMutableSource:br,useSyncExternalStore:br,useId:br,unstable_isNewReconciler:!1},CJ={readContext:us,useCallback:function(n,e){return so().memoizedState=[n,e===void 0?null:e],n},useContext:us,useEffect:i2,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,J0(4194308,4,VU.bind(null,e,n),t)},useLayoutEffect:function(n,e){return J0(4194308,4,n,e)},useInsertionEffect:function(n,e){return J0(4,2,n,e)},useMemo:function(n,e){var t=so();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=so();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=TJ.bind(null,on,n),[r.memoizedState,n]},useRef:function(n){var e=so();return n={current:n},e.memoizedState=n},useState:r2,useDebugValue:DA,useDeferredValue:function(n){return so().memoizedState=n},useTransition:function(){var n=r2(!1),e=n[0];return n=_J.bind(null,n[1]),so().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=on,i=so();if(Yt){if(t===void 0)throw Error(le(407));t=t()}else{if(t=e(),nr===null)throw Error(le(349));Nu&30||RU(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,i2(NU.bind(null,r,s,n),[n]),r.flags|=2048,lg(9,QU.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=so(),e=nr.identifierPrefix;if(Yt){var t=Pa,r=Ta;t=(r&~(1<<32-Ns(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=og++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=kJ++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},EJ={readContext:us,useCallback:UU,useContext:us,useEffect:jA,useImperativeHandle:LU,useInsertionEffect:DU,useLayoutEffect:MU,useMemo:zU,useReducer:$1,useRef:jU,useState:function(){return $1(ag)},useDebugValue:DA,useDeferredValue:function(n){var e=hs();return qU(e,Dn.memoizedState,n)},useTransition:function(){var n=$1(ag)[0],e=hs().memoizedState;return[n,e]},useMutableSource:EU,useSyncExternalStore:AU,useId:FU,unstable_isNewReconciler:!1},AJ={readContext:us,useCallback:UU,useContext:us,useEffect:jA,useImperativeHandle:LU,useInsertionEffect:DU,useLayoutEffect:MU,useMemo:zU,useReducer:j1,useRef:jU,useState:function(){return j1(ag)},useDebugValue:DA,useDeferredValue:function(n){var e=hs();return Dn===null?e.memoizedState=n:qU(e,Dn.memoizedState,n)},useTransition:function(){var n=j1(ag)[0],e=hs().memoizedState;return[n,e]},useMutableSource:EU,useSyncExternalStore:AU,useId:FU,unstable_isNewReconciler:!1};function xs(n,e){if(n&&n.defaultProps){e=ln({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function mT(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:ln({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Ob={isMounted:function(n){return(n=n._reactInternals)?sh(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Zr(),i=tc(n),s=Na(r,i);s.payload=e,t!=null&&(s.callback=t),e=Jl(n,s,i),e!==null&&(Is(e,n,i,r),H0(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Zr(),i=tc(n),s=Na(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Jl(n,s,i),e!==null&&(Is(e,n,i,r),H0(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Zr(),r=tc(n),i=Na(t,r);i.tag=2,e!=null&&(i.callback=e),e=Jl(n,i,r),e!==null&&(Is(e,n,r,t),H0(e,n,r))}};function s2(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!eg(t,r)||!eg(i,s):!0}function XU(n,e,t){var r=!1,i=dc,s=e.contextType;return typeof s=="object"&&s!==null?s=us(s):(i=vi(e)?Ru:Qr.current,r=e.contextTypes,s=(r=r!=null)?Vd(n,i):dc),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ob,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function o2(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&Ob.enqueueReplaceState(e,e.state,null)}function gT(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},EA(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=us(s):(s=vi(e)?Ru:Qr.current,i.context=Vd(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(mT(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ob.enqueueReplaceState(i,i.state,null),xx(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function qd(n,e){try{var t="",r=e;do t+=iK(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function D1(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function OT(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var RJ=typeof WeakMap=="function"?WeakMap:Map;function GU(n,e,t){t=Na(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){_x||(_x=!0,PT=r),OT(n,e)},t}function YU(n,e,t){t=Na(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){OT(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){OT(n,e),typeof r!="function"&&(ec===null?ec=new Set([this]):ec.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function a2(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new RJ;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=ZJ.bind(null,n,e,t),e.then(n,n))}function l2(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function c2(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Na(-1,1),e.tag=2,Jl(t,e,1))),t.lanes|=1),n)}var QJ=sl.ReactCurrentOwner,mi=!1;function Ur(n,e,t,r){e.child=n===null?_U(e,null,t,r):Ud(e,n.child,t,r)}function u2(n,e,t,r,i){t=t.render;var s=e.ref;return ld(e,i),r=IA(n,e,t,r,s,i),t=$A(),n!==null&&!mi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,za(n,e,i)):(Yt&&t&&bA(e),e.flags|=1,Ur(n,e,r,i),e.child)}function h2(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!ZA(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,HU(n,e,s,r,i)):(n=rv(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:eg,t(o,r)&&n.ref===e.ref)return za(n,e,i)}return e.flags|=1,n=nc(s,r),n.ref=e.ref,n.return=e,e.child=n}function HU(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(eg(s,r)&&n.ref===e.ref)if(mi=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(mi=!0);else return e.lanes=n.lanes,za(n,e,i)}return yT(n,e,t,r,i)}function KU(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nt(Wh,Ei),Ei|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Nt(Wh,Ei),Ei|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,Nt(Wh,Ei),Ei|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,Nt(Wh,Ei),Ei|=r;return Ur(n,e,i,t),e.child}function JU(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function yT(n,e,t,r,i){var s=vi(t)?Ru:Qr.current;return s=Vd(e,s),ld(e,i),t=IA(n,e,t,r,s,i),r=$A(),n!==null&&!mi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,za(n,e,i)):(Yt&&r&&bA(e),e.flags|=1,Ur(n,e,t,i),e.child)}function d2(n,e,t,r,i){if(vi(t)){var s=!0;mx(e)}else s=!1;if(ld(e,i),e.stateNode===null)ev(n,e),XU(e,t,r),gT(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=us(c):(c=vi(t)?Ru:Qr.current,c=Vd(e,c));var u=t.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&o2(e,o,r,c),xl=!1;var f=e.memoizedState;o.state=f,xx(e,r,o,i),l=e.memoizedState,a!==r||f!==l||yi.current||xl?(typeof u=="function"&&(mT(e,t,u,r),l=e.memoizedState),(a=xl||s2(e,t,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,PU(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:xs(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=us(l):(l=vi(t)?Ru:Qr.current,l=Vd(e,l));var m=t.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&o2(e,o,r,l),xl=!1,f=e.memoizedState,o.state=f,xx(e,r,o,i);var g=e.memoizedState;a!==d||f!==g||yi.current||xl?(typeof m=="function"&&(mT(e,t,m,r),g=e.memoizedState),(c=xl||s2(e,t,c,r,f,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),r=!1)}return vT(n,e,t,r,s,i)}function vT(n,e,t,r,i,s){JU(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&H$(e,t,!1),za(n,e,s);r=e.stateNode,QJ.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=Ud(e,n.child,null,s),e.child=Ud(e,null,a,s)):Ur(n,e,a,s),e.memoizedState=r.state,i&&H$(e,t,!0),e.child}function ez(n){var e=n.stateNode;e.pendingContext?Y$(n,e.pendingContext,e.pendingContext!==e.context):e.context&&Y$(n,e.context,!1),AA(n,e.containerInfo)}function f2(n,e,t,r,i){return Ld(),kA(i),e.flags|=256,Ur(n,e,t,r),e.child}var xT={dehydrated:null,treeContext:null,retryLane:0};function wT(n){return{baseLanes:n,cachePool:null,transitions:null}}function tz(n,e,t){var r=e.pendingProps,i=sn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),Nt(sn,i&1),n===null)return fT(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=xb(o,r,0,null),n=_u(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=wT(t),e.memoizedState=xT,n):MA(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return NJ(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=nc(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=nc(a,s):(s=_u(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?wT(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=xT,r}return s=n.child,n=s.sibling,r=nc(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function MA(n,e){return e=xb({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Wy(n,e,t,r){return r!==null&&kA(r),Ud(e,n.child,null,t),n=MA(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function NJ(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=D1(Error(le(422))),Wy(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=xb({mode:"visible",children:r.children},i,0,null),s=_u(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ud(e,n.child,null,o),e.child.memoizedState=wT(o),e.memoizedState=xT,s);if(!(e.mode&1))return Wy(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(le(419)),r=D1(s,r,void 0),Wy(n,e,o,r)}if(a=(o&n.childLanes)!==0,mi||a){if(r=nr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ua(n,i),Is(r,n,i,-1))}return FA(),r=D1(Error(le(421))),Wy(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=BJ.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,Ni=Kl(i.nextSibling),zi=e,Yt=!0,Ss=null,n!==null&&(es[ts++]=Ta,es[ts++]=Pa,es[ts++]=Qu,Ta=n.id,Pa=n.overflow,Qu=e),e=MA(e,r.children),e.flags|=4096,e)}function p2(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),pT(n.return,e,t)}function M1(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function nz(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ur(n,e,r.children,t),r=sn.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&p2(n,t,e);else if(n.tag===19)p2(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Nt(sn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&wx(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),M1(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&wx(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}M1(e,!0,t,null,s);break;case"together":M1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ev(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function za(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Iu|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(le(153));if(e.child!==null){for(n=e.child,t=nc(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=nc(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function IJ(n,e,t){switch(e.tag){case 3:ez(e),Ld();break;case 5:CU(e);break;case 1:vi(e.type)&&mx(e);break;case 4:AA(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Nt(yx,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Nt(sn,sn.current&1),e.flags|=128,null):t&e.child.childLanes?tz(n,e,t):(Nt(sn,sn.current&1),n=za(n,e,t),n!==null?n.sibling:null);Nt(sn,sn.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return nz(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Nt(sn,sn.current),r)break;return null;case 22:case 23:return e.lanes=0,KU(n,e,t)}return za(n,e,t)}var rz,bT,iz,sz;rz=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};bT=function(){};iz=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,hu(So.current);var s=null;switch(t){case"input":i=F_(n,i),r=F_(n,r),s=[];break;case"select":i=ln({},i,{value:void 0}),r=ln({},r,{value:void 0}),s=[];break;case"textarea":i=W_(n,i),r=W_(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=fx)}G_(t,r);var o;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Wm.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Wm.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&qt("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};sz=function(n,e,t,r){t!==r&&(e.flags|=4)};function kp(n,e){if(!Yt)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Sr(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function $J(n,e,t){var r=e.pendingProps;switch(SA(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Sr(e),null;case 1:return vi(e.type)&&px(),Sr(e),null;case 3:return r=e.stateNode,zd(),Wt(yi),Wt(Qr),QA(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Zy(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ss!==null&&(AT(Ss),Ss=null))),bT(n,e),Sr(e),null;case 5:RA(e);var i=hu(sg.current);if(t=e.type,n!==null&&e.stateNode!=null)iz(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(le(166));return Sr(e),null}if(n=hu(So.current),Zy(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[ho]=e,r[rg]=s,n=(e.mode&1)!==0,t){case"dialog":qt("cancel",r),qt("close",r);break;case"iframe":case"object":case"embed":qt("load",r);break;case"video":case"audio":for(i=0;i<Xp.length;i++)qt(Xp[i],r);break;case"source":qt("error",r);break;case"img":case"image":case"link":qt("error",r),qt("load",r);break;case"details":qt("toggle",r);break;case"input":S$(r,s),qt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},qt("invalid",r);break;case"textarea":_$(r,s),qt("invalid",r)}G_(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Fy(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Fy(r.textContent,a,n),i=["children",""+a]):Wm.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&qt("scroll",r)}switch(t){case"input":jy(r),k$(r,s,!0);break;case"textarea":jy(r),T$(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=fx)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=N5(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[ho]=e,n[rg]=r,rz(n,e,!1,!1),e.stateNode=n;e:{switch(o=Y_(t,r),t){case"dialog":qt("cancel",n),qt("close",n),i=r;break;case"iframe":case"object":case"embed":qt("load",n),i=r;break;case"video":case"audio":for(i=0;i<Xp.length;i++)qt(Xp[i],n);i=r;break;case"source":qt("error",n),i=r;break;case"img":case"image":case"link":qt("error",n),qt("load",n),i=r;break;case"details":qt("toggle",n),i=r;break;case"input":S$(n,r),i=F_(n,r),qt("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=ln({},r,{value:void 0}),qt("invalid",n);break;case"textarea":_$(n,r),i=W_(n,r),qt("invalid",n);break;default:i=r}G_(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?j5(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&I5(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Xm(n,l):typeof l=="number"&&Xm(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Wm.hasOwnProperty(s)?l!=null&&s==="onScroll"&&qt("scroll",n):l!=null&&lA(n,s,l,o))}switch(t){case"input":jy(n),k$(n,r,!1);break;case"textarea":jy(n),T$(n);break;case"option":r.value!=null&&n.setAttribute("value",""+hc(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?id(n,!!r.multiple,s,!1):r.defaultValue!=null&&id(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=fx)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Sr(e),null;case 6:if(n&&e.stateNode!=null)sz(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(le(166));if(t=hu(sg.current),hu(So.current),Zy(e)){if(r=e.stateNode,t=e.memoizedProps,r[ho]=e,(s=r.nodeValue!==t)&&(n=zi,n!==null))switch(n.tag){case 3:Fy(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Fy(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[ho]=e,e.stateNode=r}return Sr(e),null;case 13:if(Wt(sn),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Yt&&Ni!==null&&e.mode&1&&!(e.flags&128))SU(),Ld(),e.flags|=98560,s=!1;else if(s=Zy(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(le(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(le(317));s[ho]=e}else Ld(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Sr(e),s=!1}else Ss!==null&&(AT(Ss),Ss=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||sn.current&1?Fn===0&&(Fn=3):FA())),e.updateQueue!==null&&(e.flags|=4),Sr(e),null);case 4:return zd(),bT(n,e),n===null&&tg(e.stateNode.containerInfo),Sr(e),null;case 10:return PA(e.type._context),Sr(e),null;case 17:return vi(e.type)&&px(),Sr(e),null;case 19:if(Wt(sn),s=e.memoizedState,s===null)return Sr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)kp(s,!1);else{if(Fn!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=wx(n),o!==null){for(e.flags|=128,kp(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Nt(sn,sn.current&1|2),e.child}n=n.sibling}s.tail!==null&&wn()>Fd&&(e.flags|=128,r=!0,kp(s,!1),e.lanes=4194304)}else{if(!r)if(n=wx(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),kp(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Yt)return Sr(e),null}else 2*wn()-s.renderingStartTime>Fd&&t!==1073741824&&(e.flags|=128,r=!0,kp(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=wn(),e.sibling=null,t=sn.current,Nt(sn,r?t&1|2:t&1),e):(Sr(e),null);case 22:case 23:return qA(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ei&1073741824&&(Sr(e),e.subtreeFlags&6&&(e.flags|=8192)):Sr(e),null;case 24:return null;case 25:return null}throw Error(le(156,e.tag))}function jJ(n,e){switch(SA(e),e.tag){case 1:return vi(e.type)&&px(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return zd(),Wt(yi),Wt(Qr),QA(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return RA(e),null;case 13:if(Wt(sn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(le(340));Ld()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Wt(sn),null;case 4:return zd(),null;case 10:return PA(e.type._context),null;case 22:case 23:return qA(),null;case 24:return null;default:return null}}var Xy=!1,Cr=!1,DJ=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function Bh(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){dn(n,e,r)}else t.current=null}function ST(n,e,t){try{t()}catch(r){dn(n,e,r)}}var m2=!1;function MJ(n,e){if(oT=ux,n=uU(),wA(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=n,f=null;t:for(;;){for(var m;d!==t||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===n)break t;if(f===t&&++c===i&&(a=o),f===s&&++u===r&&(l=o),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(aT={focusedElem:n,selectionRange:t},ux=!1,Pe=e;Pe!==null;)if(e=Pe,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Pe=n;else for(;Pe!==null;){e=Pe;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,x=g.memoizedState,w=e.stateNode,k=w.getSnapshotBeforeUpdate(e.elementType===e.type?y:xs(e.type,y),x);w.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var P=e.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(le(163))}}catch(Q){dn(e,e.return,Q)}if(n=e.sibling,n!==null){n.return=e.return,Pe=n;break}Pe=e.return}return g=m2,m2=!1,g}function Cm(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&ST(e,t,s)}i=i.next}while(i!==r)}}function yb(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function kT(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function oz(n){var e=n.alternate;e!==null&&(n.alternate=null,oz(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[ho],delete e[rg],delete e[uT],delete e[xJ],delete e[wJ])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function az(n){return n.tag===5||n.tag===3||n.tag===4}function g2(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||az(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function _T(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=fx));else if(r!==4&&(n=n.child,n!==null))for(_T(n,e,t),n=n.sibling;n!==null;)_T(n,e,t),n=n.sibling}function TT(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(TT(n,e,t),n=n.sibling;n!==null;)TT(n,e,t),n=n.sibling}var sr=null,bs=!1;function fl(n,e,t){for(t=t.child;t!==null;)lz(n,e,t),t=t.sibling}function lz(n,e,t){if(bo&&typeof bo.onCommitFiberUnmount=="function")try{bo.onCommitFiberUnmount(ub,t)}catch{}switch(t.tag){case 5:Cr||Bh(t,e);case 6:var r=sr,i=bs;sr=null,fl(n,e,t),sr=r,bs=i,sr!==null&&(bs?(n=sr,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):sr.removeChild(t.stateNode));break;case 18:sr!==null&&(bs?(n=sr,t=t.stateNode,n.nodeType===8?R1(n.parentNode,t):n.nodeType===1&&R1(n,t),Km(n)):R1(sr,t.stateNode));break;case 4:r=sr,i=bs,sr=t.stateNode.containerInfo,bs=!0,fl(n,e,t),sr=r,bs=i;break;case 0:case 11:case 14:case 15:if(!Cr&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ST(t,e,o),i=i.next}while(i!==r)}fl(n,e,t);break;case 1:if(!Cr&&(Bh(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){dn(t,e,a)}fl(n,e,t);break;case 21:fl(n,e,t);break;case 22:t.mode&1?(Cr=(r=Cr)||t.memoizedState!==null,fl(n,e,t),Cr=r):fl(n,e,t);break;default:fl(n,e,t)}}function O2(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new DJ),e.forEach(function(r){var i=WJ.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function ys(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:sr=a.stateNode,bs=!1;break e;case 3:sr=a.stateNode.containerInfo,bs=!0;break e;case 4:sr=a.stateNode.containerInfo,bs=!0;break e}a=a.return}if(sr===null)throw Error(le(160));lz(s,o,i),sr=null,bs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){dn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)cz(e,n),e=e.sibling}function cz(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(ys(e,n),eo(n),r&4){try{Cm(3,n,n.return),yb(3,n)}catch(y){dn(n,n.return,y)}try{Cm(5,n,n.return)}catch(y){dn(n,n.return,y)}}break;case 1:ys(e,n),eo(n),r&512&&t!==null&&Bh(t,t.return);break;case 5:if(ys(e,n),eo(n),r&512&&t!==null&&Bh(t,t.return),n.flags&32){var i=n.stateNode;try{Xm(i,"")}catch(y){dn(n,n.return,y)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&R5(i,s),Y_(a,o);var c=Y_(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?j5(i,d):u==="dangerouslySetInnerHTML"?I5(i,d):u==="children"?Xm(i,d):lA(i,u,d,c)}switch(a){case"input":Z_(i,s);break;case"textarea":Q5(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?id(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?id(i,!!s.multiple,s.defaultValue,!0):id(i,!!s.multiple,s.multiple?[]:"",!1))}i[rg]=s}catch(y){dn(n,n.return,y)}}break;case 6:if(ys(e,n),eo(n),r&4){if(n.stateNode===null)throw Error(le(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(y){dn(n,n.return,y)}}break;case 3:if(ys(e,n),eo(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{Km(e.containerInfo)}catch(y){dn(n,n.return,y)}break;case 4:ys(e,n),eo(n);break;case 13:ys(e,n),eo(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(UA=wn())),r&4&&O2(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(Cr=(c=Cr)||u,ys(e,n),Cr=c):ys(e,n),eo(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(Pe=n,u=n.child;u!==null;){for(d=Pe=u;Pe!==null;){switch(f=Pe,m=f.child,f.tag){case 0:case 11:case 14:case 15:Cm(4,f,f.return);break;case 1:Bh(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,t=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){dn(r,t,y)}}break;case 5:Bh(f,f.return);break;case 22:if(f.memoizedState!==null){v2(d);continue}}m!==null?(m.return=f,Pe=m):v2(d)}u=u.sibling}e:for(u=null,d=n;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=$5("display",o))}catch(y){dn(n,n.return,y)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){dn(n,n.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ys(e,n),eo(n),r&4&&O2(n);break;case 21:break;default:ys(e,n),eo(n)}}function eo(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(az(t)){var r=t;break e}t=t.return}throw Error(le(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Xm(i,""),r.flags&=-33);var s=g2(n);TT(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=g2(n);_T(n,a,o);break;default:throw Error(le(161))}}catch(l){dn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function VJ(n,e,t){Pe=n,uz(n)}function uz(n,e,t){for(var r=(n.mode&1)!==0;Pe!==null;){var i=Pe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Xy;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Cr;a=Xy;var c=Cr;if(Xy=o,(Cr=l)&&!c)for(Pe=i;Pe!==null;)o=Pe,l=o.child,o.tag===22&&o.memoizedState!==null?x2(i):l!==null?(l.return=o,Pe=l):x2(i);for(;s!==null;)Pe=s,uz(s),s=s.sibling;Pe=i,Xy=a,Cr=c}y2(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Pe=s):y2(n)}}function y2(n){for(;Pe!==null;){var e=Pe;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Cr||yb(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Cr)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:xs(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&n2(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}n2(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Km(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(le(163))}Cr||e.flags&512&&kT(e)}catch(f){dn(e,e.return,f)}}if(e===n){Pe=null;break}if(t=e.sibling,t!==null){t.return=e.return,Pe=t;break}Pe=e.return}}function v2(n){for(;Pe!==null;){var e=Pe;if(e===n){Pe=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Pe=t;break}Pe=e.return}}function x2(n){for(;Pe!==null;){var e=Pe;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{yb(4,e)}catch(l){dn(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){dn(e,i,l)}}var s=e.return;try{kT(e)}catch(l){dn(e,s,l)}break;case 5:var o=e.return;try{kT(e)}catch(l){dn(e,o,l)}}}catch(l){dn(e,e.return,l)}if(e===n){Pe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Pe=a;break}Pe=e.return}}var LJ=Math.ceil,kx=sl.ReactCurrentDispatcher,VA=sl.ReactCurrentOwner,os=sl.ReactCurrentBatchConfig,vt=0,nr=null,En=null,gr=0,Ei=0,Wh=Dc(0),Fn=0,cg=null,Iu=0,vb=0,LA=0,Em=null,ci=null,UA=0,Fd=1/0,xa=null,_x=!1,PT=null,ec=null,Gy=!1,ql=null,Tx=0,Am=0,CT=null,tv=-1,nv=0;function Zr(){return vt&6?wn():tv!==-1?tv:tv=wn()}function tc(n){return n.mode&1?vt&2&&gr!==0?gr&-gr:SJ.transition!==null?(nv===0&&(nv=X5()),nv):(n=_t,n!==0||(n=window.event,n=n===void 0?16:tU(n.type)),n):1}function Is(n,e,t,r){if(50<Am)throw Am=0,CT=null,Error(le(185));RO(n,t,r),(!(vt&2)||n!==nr)&&(n===nr&&(!(vt&2)&&(vb|=t),Fn===4&&kl(n,gr)),xi(n,r),t===1&&vt===0&&!(e.mode&1)&&(Fd=wn()+500,mb&&Mc()))}function xi(n,e){var t=n.callbackNode;SK(n,e);var r=cx(n,n===nr?gr:0);if(r===0)t!==null&&E$(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&E$(t),e===1)n.tag===0?bJ(w2.bind(null,n)):xU(w2.bind(null,n)),yJ(function(){!(vt&6)&&Mc()}),t=null;else{switch(G5(r)){case 1:t=fA;break;case 4:t=B5;break;case 16:t=lx;break;case 536870912:t=W5;break;default:t=lx}t=yz(t,hz.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function hz(n,e){if(tv=-1,nv=0,vt&6)throw Error(le(327));var t=n.callbackNode;if(cd()&&n.callbackNode!==t)return null;var r=cx(n,n===nr?gr:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=Px(n,r);else{e=r;var i=vt;vt|=2;var s=fz();(nr!==n||gr!==e)&&(xa=null,Fd=wn()+500,ku(n,e));do try{qJ();break}catch(a){dz(n,a)}while(!0);TA(),kx.current=s,vt=i,En!==null?e=0:(nr=null,gr=0,e=Fn)}if(e!==0){if(e===2&&(i=tT(n),i!==0&&(r=i,e=ET(n,i))),e===1)throw t=cg,ku(n,0),kl(n,r),xi(n,wn()),t;if(e===6)kl(n,r);else{if(i=n.current.alternate,!(r&30)&&!UJ(i)&&(e=Px(n,r),e===2&&(s=tT(n),s!==0&&(r=s,e=ET(n,s))),e===1))throw t=cg,ku(n,0),kl(n,r),xi(n,wn()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(le(345));case 2:iu(n,ci,xa);break;case 3:if(kl(n,r),(r&130023424)===r&&(e=UA+500-wn(),10<e)){if(cx(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){Zr(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=cT(iu.bind(null,n,ci,xa),e);break}iu(n,ci,xa);break;case 4:if(kl(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-Ns(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=wn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*LJ(r/1960))-r,10<r){n.timeoutHandle=cT(iu.bind(null,n,ci,xa),r);break}iu(n,ci,xa);break;case 5:iu(n,ci,xa);break;default:throw Error(le(329))}}}return xi(n,wn()),n.callbackNode===t?hz.bind(null,n):null}function ET(n,e){var t=Em;return n.current.memoizedState.isDehydrated&&(ku(n,e).flags|=256),n=Px(n,e),n!==2&&(e=ci,ci=t,e!==null&&AT(e)),n}function AT(n){ci===null?ci=n:ci.push.apply(ci,n)}function UJ(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!Us(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function kl(n,e){for(e&=~LA,e&=~vb,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Ns(e),r=1<<t;n[t]=-1,e&=~r}}function w2(n){if(vt&6)throw Error(le(327));cd();var e=cx(n,0);if(!(e&1))return xi(n,wn()),null;var t=Px(n,e);if(n.tag!==0&&t===2){var r=tT(n);r!==0&&(e=r,t=ET(n,r))}if(t===1)throw t=cg,ku(n,0),kl(n,e),xi(n,wn()),t;if(t===6)throw Error(le(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,iu(n,ci,xa),xi(n,wn()),null}function zA(n,e){var t=vt;vt|=1;try{return n(e)}finally{vt=t,vt===0&&(Fd=wn()+500,mb&&Mc())}}function $u(n){ql!==null&&ql.tag===0&&!(vt&6)&&cd();var e=vt;vt|=1;var t=os.transition,r=_t;try{if(os.transition=null,_t=1,n)return n()}finally{_t=r,os.transition=t,vt=e,!(vt&6)&&Mc()}}function qA(){Ei=Wh.current,Wt(Wh)}function ku(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,OJ(t)),En!==null)for(t=En.return;t!==null;){var r=t;switch(SA(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&px();break;case 3:zd(),Wt(yi),Wt(Qr),QA();break;case 5:RA(r);break;case 4:zd();break;case 13:Wt(sn);break;case 19:Wt(sn);break;case 10:PA(r.type._context);break;case 22:case 23:qA()}t=t.return}if(nr=n,En=n=nc(n.current,null),gr=Ei=e,Fn=0,cg=null,LA=vb=Iu=0,ci=Em=null,uu!==null){for(e=0;e<uu.length;e++)if(t=uu[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}uu=null}return n}function dz(n,e){do{var t=En;try{if(TA(),K0.current=Sx,bx){for(var r=on.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}bx=!1}if(Nu=0,Yn=Dn=on=null,Pm=!1,og=0,VA.current=null,t===null||t.return===null){Fn=1,cg=e,En=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=gr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=l2(o);if(m!==null){m.flags&=-257,c2(m,o,a,s,e),m.mode&1&&a2(s,c,e),e=m,l=c;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){a2(s,c,e),FA();break e}l=Error(le(426))}}else if(Yt&&a.mode&1){var x=l2(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),c2(x,o,a,s,e),kA(qd(l,a));break e}}s=l=qd(l,a),Fn!==4&&(Fn=2),Em===null?Em=[s]:Em.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=GU(s,l,e);t2(s,w);break e;case 1:a=l;var k=s.type,P=s.stateNode;if(!(s.flags&128)&&(typeof k.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(ec===null||!ec.has(P)))){s.flags|=65536,e&=-e,s.lanes|=e;var Q=YU(s,a,e);t2(s,Q);break e}}s=s.return}while(s!==null)}mz(t)}catch(C){e=C,En===t&&t!==null&&(En=t=t.return);continue}break}while(!0)}function fz(){var n=kx.current;return kx.current=Sx,n===null?Sx:n}function FA(){(Fn===0||Fn===3||Fn===2)&&(Fn=4),nr===null||!(Iu&268435455)&&!(vb&268435455)||kl(nr,gr)}function Px(n,e){var t=vt;vt|=2;var r=fz();(nr!==n||gr!==e)&&(xa=null,ku(n,e));do try{zJ();break}catch(i){dz(n,i)}while(!0);if(TA(),vt=t,kx.current=r,En!==null)throw Error(le(261));return nr=null,gr=0,Fn}function zJ(){for(;En!==null;)pz(En)}function qJ(){for(;En!==null&&!pK();)pz(En)}function pz(n){var e=Oz(n.alternate,n,Ei);n.memoizedProps=n.pendingProps,e===null?mz(n):En=e,VA.current=null}function mz(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=jJ(t,e),t!==null){t.flags&=32767,En=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Fn=6,En=null;return}}else if(t=$J(t,e,Ei),t!==null){En=t;return}if(e=e.sibling,e!==null){En=e;return}En=e=n}while(e!==null);Fn===0&&(Fn=5)}function iu(n,e,t){var r=_t,i=os.transition;try{os.transition=null,_t=1,FJ(n,e,t,r)}finally{os.transition=i,_t=r}return null}function FJ(n,e,t,r){do cd();while(ql!==null);if(vt&6)throw Error(le(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(le(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(kK(n,s),n===nr&&(En=nr=null,gr=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Gy||(Gy=!0,yz(lx,function(){return cd(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=os.transition,os.transition=null;var o=_t;_t=1;var a=vt;vt|=4,VA.current=null,MJ(n,t),cz(t,n),uJ(aT),ux=!!oT,aT=oT=null,n.current=t,VJ(t),mK(),vt=a,_t=o,os.transition=s}else n.current=t;if(Gy&&(Gy=!1,ql=n,Tx=i),s=n.pendingLanes,s===0&&(ec=null),yK(t.stateNode),xi(n,wn()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(_x)throw _x=!1,n=PT,PT=null,n;return Tx&1&&n.tag!==0&&cd(),s=n.pendingLanes,s&1?n===CT?Am++:(Am=0,CT=n):Am=0,Mc(),null}function cd(){if(ql!==null){var n=G5(Tx),e=os.transition,t=_t;try{if(os.transition=null,_t=16>n?16:n,ql===null)var r=!1;else{if(n=ql,ql=null,Tx=0,vt&6)throw Error(le(331));var i=vt;for(vt|=4,Pe=n.current;Pe!==null;){var s=Pe,o=s.child;if(Pe.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Pe=c;Pe!==null;){var u=Pe;switch(u.tag){case 0:case 11:case 15:Cm(8,u,s)}var d=u.child;if(d!==null)d.return=u,Pe=d;else for(;Pe!==null;){u=Pe;var f=u.sibling,m=u.return;if(oz(u),u===c){Pe=null;break}if(f!==null){f.return=m,Pe=f;break}Pe=m}}}var g=s.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}Pe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Pe=o;else e:for(;Pe!==null;){if(s=Pe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Cm(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,Pe=w;break e}Pe=s.return}}var k=n.current;for(Pe=k;Pe!==null;){o=Pe;var P=o.child;if(o.subtreeFlags&2064&&P!==null)P.return=o,Pe=P;else e:for(o=k;Pe!==null;){if(a=Pe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:yb(9,a)}}catch(C){dn(a,a.return,C)}if(a===o){Pe=null;break e}var Q=a.sibling;if(Q!==null){Q.return=a.return,Pe=Q;break e}Pe=a.return}}if(vt=i,Mc(),bo&&typeof bo.onPostCommitFiberRoot=="function")try{bo.onPostCommitFiberRoot(ub,n)}catch{}r=!0}return r}finally{_t=t,os.transition=e}}return!1}function b2(n,e,t){e=qd(t,e),e=GU(n,e,1),n=Jl(n,e,1),e=Zr(),n!==null&&(RO(n,1,e),xi(n,e))}function dn(n,e,t){if(n.tag===3)b2(n,n,t);else for(;e!==null;){if(e.tag===3){b2(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ec===null||!ec.has(r))){n=qd(t,n),n=YU(e,n,1),e=Jl(e,n,1),n=Zr(),e!==null&&(RO(e,1,n),xi(e,n));break}}e=e.return}}function ZJ(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Zr(),n.pingedLanes|=n.suspendedLanes&t,nr===n&&(gr&t)===t&&(Fn===4||Fn===3&&(gr&130023424)===gr&&500>wn()-UA?ku(n,0):LA|=t),xi(n,e)}function gz(n,e){e===0&&(n.mode&1?(e=Vy,Vy<<=1,!(Vy&130023424)&&(Vy=4194304)):e=1);var t=Zr();n=Ua(n,e),n!==null&&(RO(n,e,t),xi(n,t))}function BJ(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),gz(n,t)}function WJ(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(le(314))}r!==null&&r.delete(e),gz(n,t)}var Oz;Oz=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||yi.current)mi=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return mi=!1,IJ(n,e,t);mi=!!(n.flags&131072)}else mi=!1,Yt&&e.flags&1048576&&wU(e,Ox,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ev(n,e),n=e.pendingProps;var i=Vd(e,Qr.current);ld(e,t),i=IA(null,e,r,n,i,t);var s=$A();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,vi(r)?(s=!0,mx(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,EA(e),i.updater=Ob,e.stateNode=i,i._reactInternals=e,gT(e,r,n,t),e=vT(null,e,r,!0,s,t)):(e.tag=0,Yt&&s&&bA(e),Ur(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(ev(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=GJ(r),n=xs(r,n),i){case 0:e=yT(null,e,r,n,t);break e;case 1:e=d2(null,e,r,n,t);break e;case 11:e=u2(null,e,r,n,t);break e;case 14:e=h2(null,e,r,xs(r.type,n),t);break e}throw Error(le(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xs(r,i),yT(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xs(r,i),d2(n,e,r,i,t);case 3:e:{if(ez(e),n===null)throw Error(le(387));r=e.pendingProps,s=e.memoizedState,i=s.element,PU(n,e),xx(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=qd(Error(le(423)),e),e=f2(n,e,r,t,i);break e}else if(r!==i){i=qd(Error(le(424)),e),e=f2(n,e,r,t,i);break e}else for(Ni=Kl(e.stateNode.containerInfo.firstChild),zi=e,Yt=!0,Ss=null,t=_U(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Ld(),r===i){e=za(n,e,t);break e}Ur(n,e,r,t)}e=e.child}return e;case 5:return CU(e),n===null&&fT(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,lT(r,i)?o=null:s!==null&&lT(r,s)&&(e.flags|=32),JU(n,e),Ur(n,e,o,t),e.child;case 6:return n===null&&fT(e),null;case 13:return tz(n,e,t);case 4:return AA(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Ud(e,null,r,t):Ur(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xs(r,i),u2(n,e,r,i,t);case 7:return Ur(n,e,e.pendingProps,t),e.child;case 8:return Ur(n,e,e.pendingProps.children,t),e.child;case 12:return Ur(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Nt(yx,r._currentValue),r._currentValue=o,s!==null)if(Us(s.value,o)){if(s.children===i.children&&!yi.current){e=za(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Na(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),pT(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(le(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),pT(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ur(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ld(e,t),i=us(i),r=r(i),e.flags|=1,Ur(n,e,r,t),e.child;case 14:return r=e.type,i=xs(r,e.pendingProps),i=xs(r.type,i),h2(n,e,r,i,t);case 15:return HU(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xs(r,i),ev(n,e),e.tag=1,vi(r)?(n=!0,mx(e)):n=!1,ld(e,t),XU(e,r,i),gT(e,r,i,t),vT(null,e,r,!0,n,t);case 19:return nz(n,e,t);case 22:return KU(n,e,t)}throw Error(le(156,e.tag))};function yz(n,e){return Z5(n,e)}function XJ(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rs(n,e,t,r){return new XJ(n,e,t,r)}function ZA(n){return n=n.prototype,!(!n||!n.isReactComponent)}function GJ(n){if(typeof n=="function")return ZA(n)?1:0;if(n!=null){if(n=n.$$typeof,n===uA)return 11;if(n===hA)return 14}return 2}function nc(n,e){var t=n.alternate;return t===null?(t=rs(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function rv(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")ZA(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Dh:return _u(t.children,i,s,e);case cA:o=8,i|=8;break;case L_:return n=rs(12,t,e,i|2),n.elementType=L_,n.lanes=s,n;case U_:return n=rs(13,t,e,i),n.elementType=U_,n.lanes=s,n;case z_:return n=rs(19,t,e,i),n.elementType=z_,n.lanes=s,n;case C5:return xb(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case T5:o=10;break e;case P5:o=9;break e;case uA:o=11;break e;case hA:o=14;break e;case vl:o=16,r=null;break e}throw Error(le(130,n==null?n:typeof n,""))}return e=rs(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function _u(n,e,t,r){return n=rs(7,n,r,e),n.lanes=t,n}function xb(n,e,t,r){return n=rs(22,n,r,e),n.elementType=C5,n.lanes=t,n.stateNode={isHidden:!1},n}function V1(n,e,t){return n=rs(6,n,null,e),n.lanes=t,n}function L1(n,e,t){return e=rs(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function YJ(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=x1(0),this.expirationTimes=x1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=x1(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function BA(n,e,t,r,i,s,o,a,l){return n=new YJ(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=rs(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},EA(s),n}function HJ(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jh,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function vz(n){if(!n)return dc;n=n._reactInternals;e:{if(sh(n)!==n||n.tag!==1)throw Error(le(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(vi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(le(171))}if(n.tag===1){var t=n.type;if(vi(t))return vU(n,t,e)}return e}function xz(n,e,t,r,i,s,o,a,l){return n=BA(t,r,!0,n,i,s,o,a,l),n.context=vz(null),t=n.current,r=Zr(),i=tc(t),s=Na(r,i),s.callback=e??null,Jl(t,s,i),n.current.lanes=i,RO(n,i,r),xi(n,r),n}function wb(n,e,t,r){var i=e.current,s=Zr(),o=tc(i);return t=vz(t),e.context===null?e.context=t:e.pendingContext=t,e=Na(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Jl(i,e,o),n!==null&&(Is(n,i,o,s),H0(n,i,o)),o}function Cx(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function S2(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function WA(n,e){S2(n,e),(n=n.alternate)&&S2(n,e)}function KJ(){return null}var wz=typeof reportError=="function"?reportError:function(n){console.error(n)};function XA(n){this._internalRoot=n}bb.prototype.render=XA.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(le(409));wb(n,e,null,null)};bb.prototype.unmount=XA.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;$u(function(){wb(null,n,null,null)}),e[La]=null}};function bb(n){this._internalRoot=n}bb.prototype.unstable_scheduleHydration=function(n){if(n){var e=K5();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Sl.length&&e!==0&&e<Sl[t].priority;t++);Sl.splice(t,0,n),t===0&&eU(n)}};function GA(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Sb(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function k2(){}function JJ(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Cx(o);s.call(c)}}var o=xz(e,r,n,0,null,!1,!1,"",k2);return n._reactRootContainer=o,n[La]=o.current,tg(n.nodeType===8?n.parentNode:n),$u(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Cx(l);a.call(c)}}var l=BA(n,0,!1,null,null,!1,!1,"",k2);return n._reactRootContainer=l,n[La]=l.current,tg(n.nodeType===8?n.parentNode:n),$u(function(){wb(e,l,t,r)}),l}function kb(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Cx(o);a.call(l)}}wb(e,o,n,i)}else o=JJ(t,e,n,i,r);return Cx(o)}Y5=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Wp(e.pendingLanes);t!==0&&(pA(e,t|1),xi(e,wn()),!(vt&6)&&(Fd=wn()+500,Mc()))}break;case 13:$u(function(){var r=Ua(n,1);if(r!==null){var i=Zr();Is(r,n,1,i)}}),WA(n,1)}};mA=function(n){if(n.tag===13){var e=Ua(n,134217728);if(e!==null){var t=Zr();Is(e,n,134217728,t)}WA(n,134217728)}};H5=function(n){if(n.tag===13){var e=tc(n),t=Ua(n,e);if(t!==null){var r=Zr();Is(t,n,e,r)}WA(n,e)}};K5=function(){return _t};J5=function(n,e){var t=_t;try{return _t=n,e()}finally{_t=t}};K_=function(n,e,t){switch(e){case"input":if(Z_(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=pb(r);if(!i)throw Error(le(90));A5(r),Z_(r,i)}}}break;case"textarea":Q5(n,t);break;case"select":e=t.value,e!=null&&id(n,!!t.multiple,e,!1)}};V5=zA;L5=$u;var eee={usingClientEntryPoint:!1,Events:[NO,Uh,pb,D5,M5,zA]},_p={findFiberByHostInstance:cu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tee={bundleType:_p.bundleType,version:_p.version,rendererPackageName:_p.rendererPackageName,rendererConfig:_p.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:sl.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=q5(n),n===null?null:n.stateNode},findFiberByHostInstance:_p.findFiberByHostInstance||KJ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yy.isDisabled&&Yy.supportsFiber)try{ub=Yy.inject(tee),bo=Yy}catch{}}Bi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eee;Bi.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!GA(e))throw Error(le(200));return HJ(n,e,null,t)};Bi.createRoot=function(n,e){if(!GA(n))throw Error(le(299));var t=!1,r="",i=wz;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=BA(n,1,!1,null,null,t,!1,r,i),n[La]=e.current,tg(n.nodeType===8?n.parentNode:n),new XA(e)};Bi.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(le(188)):(n=Object.keys(n).join(","),Error(le(268,n)));return n=q5(e),n=n===null?null:n.stateNode,n};Bi.flushSync=function(n){return $u(n)};Bi.hydrate=function(n,e,t){if(!Sb(e))throw Error(le(200));return kb(null,n,e,!0,t)};Bi.hydrateRoot=function(n,e,t){if(!GA(n))throw Error(le(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=wz;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=xz(e,null,n,1,t??null,i,!1,s,o),n[La]=e.current,tg(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new bb(e)};Bi.render=function(n,e,t){if(!Sb(e))throw Error(le(200));return kb(null,n,e,!1,t)};Bi.unmountComponentAtNode=function(n){if(!Sb(n))throw Error(le(40));return n._reactRootContainer?($u(function(){kb(null,null,n,!1,function(){n._reactRootContainer=null,n[La]=null})}),!0):!1};Bi.unstable_batchedUpdates=zA;Bi.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!Sb(t))throw Error(le(200));if(n==null||n._reactInternals===void 0)throw Error(le(38));return kb(n,e,t,!1,r)};Bi.version="18.3.1-next-f1338f8080-20240426";function bz(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bz)}catch(n){console.error(n)}}bz(),b5.exports=Bi;var oh=b5.exports;const nee=c5(oh);var Sz,_2=oh;Sz=_2.createRoot,_2.hydrateRoot;var Qf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ju=typeof window>"u"||"Deno"in globalThis;function Ki(){}function ree(n,e){return typeof n=="function"?n(e):n}function RT(n){return typeof n=="number"&&n>=0&&n!==1/0}function kz(n,e){return Math.max(n+(e||0)-Date.now(),0)}function ud(n,e){return typeof n=="function"?n(e):n}function ks(n,e){return typeof n=="function"?n(e):n}function T2(n,e){const{type:t="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=n;if(o){if(r){if(e.queryHash!==YA(o,e.options))return!1}else if(!ug(e.queryKey,o))return!1}if(t!=="all"){const l=e.isActive();if(t==="active"&&!l||t==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function P2(n,e){const{exact:t,status:r,predicate:i,mutationKey:s}=n;if(s){if(!e.options.mutationKey)return!1;if(t){if(Du(e.options.mutationKey)!==Du(s))return!1}else if(!ug(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function YA(n,e){return((e==null?void 0:e.queryKeyHashFn)||Du)(n)}function Du(n){return JSON.stringify(n,(e,t)=>QT(t)?Object.keys(t).sort().reduce((r,i)=>(r[i]=t[i],r),{}):t)}function ug(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?!Object.keys(e).some(t=>!ug(n[t],e[t])):!1}function _z(n,e){if(n===e)return n;const t=C2(n)&&C2(e);if(t||QT(n)&&QT(e)){const r=t?n:Object.keys(n),i=r.length,s=t?e:Object.keys(e),o=s.length,a=t?[]:{};let l=0;for(let c=0;c<o;c++){const u=t?c:s[c];(!t&&r.includes(u)||t)&&n[u]===void 0&&e[u]===void 0?(a[u]=void 0,l++):(a[u]=_z(n[u],e[u]),a[u]===n[u]&&n[u]!==void 0&&l++)}return i===o&&l===i?n:a}return e}function Ex(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function C2(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function QT(n){if(!E2(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!E2(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function E2(n){return Object.prototype.toString.call(n)==="[object Object]"}function iee(n){return new Promise(e=>{setTimeout(e,n)})}function NT(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?_z(n,e):e}function see(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function oee(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var HA=Symbol();function Tz(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===HA?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var Ou,Nl,_d,JL,aee=(JL=class extends Qf{constructor(){super();Le(this,Ou);Le(this,Nl);Le(this,_d);ke(this,_d,e=>{if(!ju&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){q(this,Nl)||this.setEventListener(q(this,_d))}onUnsubscribe(){var e;this.hasListeners()||((e=q(this,Nl))==null||e.call(this),ke(this,Nl,void 0))}setEventListener(e){var t;ke(this,_d,e),(t=q(this,Nl))==null||t.call(this),ke(this,Nl,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){q(this,Ou)!==e&&(ke(this,Ou,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof q(this,Ou)=="boolean"?q(this,Ou):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ou=new WeakMap,Nl=new WeakMap,_d=new WeakMap,JL),KA=new aee,Td,Il,Pd,e5,lee=(e5=class extends Qf{constructor(){super();Le(this,Td,!0);Le(this,Il);Le(this,Pd);ke(this,Pd,e=>{if(!ju&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){q(this,Il)||this.setEventListener(q(this,Pd))}onUnsubscribe(){var e;this.hasListeners()||((e=q(this,Il))==null||e.call(this),ke(this,Il,void 0))}setEventListener(e){var t;ke(this,Pd,e),(t=q(this,Il))==null||t.call(this),ke(this,Il,e(this.setOnline.bind(this)))}setOnline(e){q(this,Td)!==e&&(ke(this,Td,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return q(this,Td)}},Td=new WeakMap,Il=new WeakMap,Pd=new WeakMap,e5),Ax=new lee;function IT(){let n,e;const t=new Promise((i,s)=>{n=i,e=s});t.status="pending",t.catch(()=>{});function r(i){Object.assign(t,i),delete t.resolve,delete t.reject}return t.resolve=i=>{r({status:"fulfilled",value:i}),n(i)},t.reject=i=>{r({status:"rejected",reason:i}),e(i)},t}function cee(n){return Math.min(1e3*2**n,3e4)}function Pz(n){return(n??"online")==="online"?Ax.isOnline():!0}var Cz=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function U1(n){return n instanceof Cz}function Ez(n){let e=!1,t=0,r=!1,i;const s=IT(),o=y=>{var x;r||(f(new Cz(y)),(x=n.abort)==null||x.call(n))},a=()=>{e=!0},l=()=>{e=!1},c=()=>KA.isFocused()&&(n.networkMode==="always"||Ax.isOnline())&&n.canRun(),u=()=>Pz(n.networkMode)&&n.canRun(),d=y=>{var x;r||(r=!0,(x=n.onSuccess)==null||x.call(n,y),i==null||i(),s.resolve(y))},f=y=>{var x;r||(r=!0,(x=n.onError)==null||x.call(n,y),i==null||i(),s.reject(y))},m=()=>new Promise(y=>{var x;i=w=>{(r||c())&&y(w)},(x=n.onPause)==null||x.call(n)}).then(()=>{var y;i=void 0,r||(y=n.onContinue)==null||y.call(n)}),g=()=>{if(r)return;let y;const x=t===0?n.initialPromise:void 0;try{y=x??n.fn()}catch(w){y=Promise.reject(w)}Promise.resolve(y).then(d).catch(w=>{var N;if(r)return;const k=n.retry??(ju?0:3),P=n.retryDelay??cee,Q=typeof P=="function"?P(t,w):P,C=k===!0||typeof k=="number"&&t<k||typeof k=="function"&&k(t,w);if(e||!C){f(w);return}t++,(N=n.onFail)==null||N.call(n,t,w),iee(Q).then(()=>c()?void 0:m()).then(()=>{e?f(w):g()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?g():m().then(g),s)}}function uee(){let n=[],e=0,t=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const s=a=>{e?n.push(a):i(()=>{t(a)})},o=()=>{const a=n;n=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{t(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{t=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Vn=uee(),yu,t5,Az=(t5=class{constructor(){Le(this,yu)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),RT(this.gcTime)&&ke(this,yu,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(ju?1/0:5*60*1e3))}clearGcTimeout(){q(this,yu)&&(clearTimeout(q(this,yu)),ke(this,yu,void 0))}},yu=new WeakMap,t5),Cd,Ed,Hi,_r,TO,vu,ws,pa,n5,hee=(n5=class extends Az{constructor(t){super();Le(this,ws);Le(this,Cd);Le(this,Ed);Le(this,Hi);Le(this,_r);Le(this,TO);Le(this,vu);ke(this,vu,!1),ke(this,TO,t.defaultOptions),this.setOptions(t.options),this.observers=[],ke(this,Hi,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ke(this,Cd,dee(this.options)),this.state=t.state??q(this,Cd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=q(this,_r))==null?void 0:t.promise}setOptions(t){this.options={...q(this,TO),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&q(this,Hi).remove(this)}setData(t,r){const i=NT(this.state.data,t,this.options);return tt(this,ws,pa).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(t,r){tt(this,ws,pa).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var i,s;const r=(i=q(this,_r))==null?void 0:i.promise;return(s=q(this,_r))==null||s.cancel(t),r?r.then(Ki).catch(Ki):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(q(this,Cd))}isActive(){return this.observers.some(t=>ks(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===HA||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!kz(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(i=>i.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=q(this,_r))==null||r.continue()}onOnline(){var r;const t=this.observers.find(i=>i.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=q(this,_r))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),q(this,Hi).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(q(this,_r)&&(q(this,vu)?q(this,_r).cancel({revert:!0}):q(this,_r).cancelRetry()),this.scheduleGc()),q(this,Hi).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||tt(this,ws,pa).call(this,{type:"invalidate"})}fetch(t,r){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(q(this,_r))return q(this,_r).continueRetry(),q(this,_r).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const i=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(ke(this,vu,!0),i.signal)})},o=()=>{const f=Tz(this.options,r),m={queryKey:this.queryKey,meta:this.meta};return s(m),ke(this,vu,!1),this.options.persister?this.options.persister(f,m,this):f(m)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(a),(c=this.options.behavior)==null||c.onFetch(a,this),ke(this,Ed,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&tt(this,ws,pa).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const l=f=>{var m,g,y,x;U1(f)&&f.silent||tt(this,ws,pa).call(this,{type:"error",error:f}),U1(f)||((g=(m=q(this,Hi).config).onError)==null||g.call(m,f,this),(x=(y=q(this,Hi).config).onSettled)==null||x.call(y,this.state.data,f,this)),this.scheduleGc()};return ke(this,_r,Ez({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:f=>{var m,g,y,x;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(w){l(w);return}(g=(m=q(this,Hi).config).onSuccess)==null||g.call(m,f,this),(x=(y=q(this,Hi).config).onSettled)==null||x.call(y,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,m)=>{tt(this,ws,pa).call(this,{type:"failed",failureCount:f,error:m})},onPause:()=>{tt(this,ws,pa).call(this,{type:"pause"})},onContinue:()=>{tt(this,ws,pa).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),q(this,_r).start()}},Cd=new WeakMap,Ed=new WeakMap,Hi=new WeakMap,_r=new WeakMap,TO=new WeakMap,vu=new WeakMap,ws=new WeakSet,pa=function(t){const r=i=>{switch(t.type){case"failed":return{...i,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...Rz(i.data,this.options),fetchMeta:t.meta??null};case"success":return{...i,data:t.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return U1(s)&&s.revert&&q(this,Ed)?{...q(this,Ed),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...t.state}}};this.state=r(this.state),Vn.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),q(this,Hi).notify({query:this,type:"updated",action:t})})},n5);function Rz(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Pz(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function dee(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var ao,r5,fee=(r5=class extends Qf{constructor(e={}){super();Le(this,ao);this.config=e,ke(this,ao,new Map)}build(e,t,r){const i=t.queryKey,s=t.queryHash??YA(i,t);let o=this.get(s);return o||(o=new hee({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){q(this,ao).has(e.queryHash)||(q(this,ao).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=q(this,ao).get(e.queryHash);t&&(e.destroy(),t===e&&q(this,ao).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Vn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return q(this,ao).get(e)}getAll(){return[...q(this,ao).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>T2(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>T2(e,r)):t}notify(e){Vn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Vn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Vn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ao=new WeakMap,r5),lo,Vr,xu,co,Ol,i5,pee=(i5=class extends Az{constructor(t){super();Le(this,co);Le(this,lo);Le(this,Vr);Le(this,xu);this.mutationId=t.mutationId,ke(this,Vr,t.mutationCache),ke(this,lo,[]),this.state=t.state||Qz(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){q(this,lo).includes(t)||(q(this,lo).push(t),this.clearGcTimeout(),q(this,Vr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ke(this,lo,q(this,lo).filter(r=>r!==t)),this.scheduleGc(),q(this,Vr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){q(this,lo).length||(this.state.status==="pending"?this.scheduleGc():q(this,Vr).remove(this))}continue(){var t;return((t=q(this,xu))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,o,a,l,c,u,d,f,m,g,y,x,w,k,P,Q,C,N,O,T;ke(this,xu,Ez({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(S,A)=>{tt(this,co,Ol).call(this,{type:"failed",failureCount:S,error:A})},onPause:()=>{tt(this,co,Ol).call(this,{type:"pause"})},onContinue:()=>{tt(this,co,Ol).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>q(this,Vr).canRun(this)}));const r=this.state.status==="pending",i=!q(this,xu).canStart();try{if(!r){tt(this,co,Ol).call(this,{type:"pending",variables:t,isPaused:i}),await((o=(s=q(this,Vr).config).onMutate)==null?void 0:o.call(s,t,this));const A=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,t));A!==this.state.context&&tt(this,co,Ol).call(this,{type:"pending",context:A,variables:t,isPaused:i})}const S=await q(this,xu).start();return await((u=(c=q(this,Vr).config).onSuccess)==null?void 0:u.call(c,S,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,S,t,this.state.context)),await((g=(m=q(this,Vr).config).onSettled)==null?void 0:g.call(m,S,null,this.state.variables,this.state.context,this)),await((x=(y=this.options).onSettled)==null?void 0:x.call(y,S,null,t,this.state.context)),tt(this,co,Ol).call(this,{type:"success",data:S}),S}catch(S){try{throw await((k=(w=q(this,Vr).config).onError)==null?void 0:k.call(w,S,t,this.state.context,this)),await((Q=(P=this.options).onError)==null?void 0:Q.call(P,S,t,this.state.context)),await((N=(C=q(this,Vr).config).onSettled)==null?void 0:N.call(C,void 0,S,this.state.variables,this.state.context,this)),await((T=(O=this.options).onSettled)==null?void 0:T.call(O,void 0,S,t,this.state.context)),S}finally{tt(this,co,Ol).call(this,{type:"error",error:S})}}finally{q(this,Vr).runNext(this)}}},lo=new WeakMap,Vr=new WeakMap,xu=new WeakMap,co=new WeakSet,Ol=function(t){const r=i=>{switch(t.type){case"failed":return{...i,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...i,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:t.error,failureCount:i.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Vn.batch(()=>{q(this,lo).forEach(i=>{i.onMutationUpdate(t)}),q(this,Vr).notify({mutation:this,type:"updated",action:t})})},i5);function Qz(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ci,PO,s5,mee=(s5=class extends Qf{constructor(e={}){super();Le(this,Ci);Le(this,PO);this.config=e,ke(this,Ci,new Map),ke(this,PO,Date.now())}build(e,t,r){const i=new pee({mutationCache:this,mutationId:++Ny(this,PO)._,options:e.defaultMutationOptions(t),state:r});return this.add(i),i}add(e){const t=Hy(e),r=q(this,Ci).get(t)??[];r.push(e),q(this,Ci).set(t,r),this.notify({type:"added",mutation:e})}remove(e){var r;const t=Hy(e);if(q(this,Ci).has(t)){const i=(r=q(this,Ci).get(t))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?q(this,Ci).delete(t):q(this,Ci).set(t,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const t=(r=q(this,Ci).get(Hy(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!t||t===e}runNext(e){var r;const t=(r=q(this,Ci).get(Hy(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(t==null?void 0:t.continue())??Promise.resolve()}clear(){Vn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...q(this,Ci).values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(r=>P2(t,r))}findAll(e={}){return this.getAll().filter(t=>P2(e,t))}notify(e){Vn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Vn.batch(()=>Promise.all(e.map(t=>t.continue().catch(Ki))))}},Ci=new WeakMap,PO=new WeakMap,s5);function Hy(n){var e;return((e=n.options.scope)==null?void 0:e.id)??String(n.mutationId)}function A2(n){return{onFetch:(e,t)=>{var u,d,f,m,g;const r=e.options,i=(f=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:f.direction,s=((m=e.state.data)==null?void 0:m.pages)||[],o=((g=e.state.data)==null?void 0:g.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let y=!1;const x=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},w=Tz(e.options,e.fetchOptions),k=async(P,Q,C)=>{if(y)return Promise.reject();if(Q==null&&P.pages.length)return Promise.resolve(P);const N={queryKey:e.queryKey,pageParam:Q,direction:C?"backward":"forward",meta:e.options.meta};x(N);const O=await w(N),{maxPages:T}=e.options,S=C?oee:see;return{pages:S(P.pages,O,T),pageParams:S(P.pageParams,Q,T)}};if(i&&s.length){const P=i==="backward",Q=P?gee:R2,C={pages:s,pageParams:o},N=Q(r,C);a=await k(C,N,P)}else{const P=n??s.length;do{const Q=l===0?o[0]??r.initialPageParam:R2(r,a);if(l>0&&Q==null)break;a=await k(a,Q),l++}while(l<P)}return a};e.options.persister?e.fetchFn=()=>{var y,x;return(x=(y=e.options).persister)==null?void 0:x.call(y,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=c}}}function R2(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function gee(n,{pages:e,pageParams:t}){var r;return e.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t):void 0}var hn,$l,jl,Ad,Rd,Dl,Qd,Nd,o5,Oee=(o5=class{constructor(n={}){Le(this,hn);Le(this,$l);Le(this,jl);Le(this,Ad);Le(this,Rd);Le(this,Dl);Le(this,Qd);Le(this,Nd);ke(this,hn,n.queryCache||new fee),ke(this,$l,n.mutationCache||new mee),ke(this,jl,n.defaultOptions||{}),ke(this,Ad,new Map),ke(this,Rd,new Map),ke(this,Dl,0)}mount(){Ny(this,Dl)._++,q(this,Dl)===1&&(ke(this,Qd,KA.subscribe(async n=>{n&&(await this.resumePausedMutations(),q(this,hn).onFocus())})),ke(this,Nd,Ax.subscribe(async n=>{n&&(await this.resumePausedMutations(),q(this,hn).onOnline())})))}unmount(){var n,e;Ny(this,Dl)._--,q(this,Dl)===0&&((n=q(this,Qd))==null||n.call(this),ke(this,Qd,void 0),(e=q(this,Nd))==null||e.call(this),ke(this,Nd,void 0))}isFetching(n){return q(this,hn).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return q(this,$l).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=q(this,hn).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.getQueryData(n.queryKey);if(e===void 0)return this.fetchQuery(n);{const t=this.defaultQueryOptions(n),r=q(this,hn).build(this,t);return n.revalidateIfStale&&r.isStaleByTime(ud(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(e)}}getQueriesData(n){return q(this,hn).findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),i=q(this,hn).get(r.queryHash),s=i==null?void 0:i.state.data,o=ree(e,s);if(o!==void 0)return q(this,hn).build(this,r).setData(o,{...t,manual:!0})}setQueriesData(n,e,t){return Vn.batch(()=>q(this,hn).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=q(this,hn).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=q(this,hn);Vn.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=q(this,hn),r={type:"active",...n};return Vn.batch(()=>(t.findAll(n).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(n={},e={}){const t={revert:!0,...e},r=Vn.batch(()=>q(this,hn).findAll(n).map(i=>i.cancel(t)));return Promise.all(r).then(Ki).catch(Ki)}invalidateQueries(n={},e={}){return Vn.batch(()=>{if(q(this,hn).findAll(n).forEach(r=>{r.invalidate()}),n.refetchType==="none")return Promise.resolve();const t={...n,type:n.refetchType??n.type??"active"};return this.refetchQueries(t,e)})}refetchQueries(n={},e){const t={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Vn.batch(()=>q(this,hn).findAll(n).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,t);return t.throwOnError||(s=s.catch(Ki)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Ki)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=q(this,hn).build(this,e);return t.isStaleByTime(ud(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(Ki).catch(Ki)}fetchInfiniteQuery(n){return n.behavior=A2(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(Ki).catch(Ki)}ensureInfiniteQueryData(n){return n.behavior=A2(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return Ax.isOnline()?q(this,$l).resumePausedMutations():Promise.resolve()}getQueryCache(){return q(this,hn)}getMutationCache(){return q(this,$l)}getDefaultOptions(){return q(this,jl)}setDefaultOptions(n){ke(this,jl,n)}setQueryDefaults(n,e){q(this,Ad).set(Du(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...q(this,Ad).values()];let t={};return e.forEach(r=>{ug(n,r.queryKey)&&(t={...t,...r.defaultOptions})}),t}setMutationDefaults(n,e){q(this,Rd).set(Du(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...q(this,Rd).values()];let t={};return e.forEach(r=>{ug(n,r.mutationKey)&&(t={...t,...r.defaultOptions})}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...q(this,jl).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=YA(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===HA&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...q(this,jl).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){q(this,hn).clear(),q(this,$l).clear()}},hn=new WeakMap,$l=new WeakMap,jl=new WeakMap,Ad=new WeakMap,Rd=new WeakMap,Dl=new WeakMap,Qd=new WeakMap,Nd=new WeakMap,o5),si,dt,CO,Lr,wu,Id,Ml,uo,EO,$d,jd,bu,Su,Vl,Dd,St,Gp,$T,jT,DT,MT,VT,LT,UT,Nz,a5,yee=(a5=class extends Qf{constructor(e,t){super();Le(this,St);Le(this,si);Le(this,dt);Le(this,CO);Le(this,Lr);Le(this,wu);Le(this,Id);Le(this,Ml);Le(this,uo);Le(this,EO);Le(this,$d);Le(this,jd);Le(this,bu);Le(this,Su);Le(this,Vl);Le(this,Dd,new Set);this.options=t,ke(this,si,e),ke(this,uo,null),ke(this,Ml,IT()),this.options.experimental_prefetchInRender||q(this,Ml).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(q(this,dt).addObserver(this),Q2(q(this,dt),this.options)?tt(this,St,Gp).call(this):this.updateResult(),tt(this,St,MT).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return zT(q(this,dt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return zT(q(this,dt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,tt(this,St,VT).call(this),tt(this,St,LT).call(this),q(this,dt).removeObserver(this)}setOptions(e,t){const r=this.options,i=q(this,dt);if(this.options=q(this,si).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ks(this.options.enabled,q(this,dt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");tt(this,St,UT).call(this),q(this,dt).setOptions(this.options),r._defaulted&&!Ex(this.options,r)&&q(this,si).getQueryCache().notify({type:"observerOptionsUpdated",query:q(this,dt),observer:this});const s=this.hasListeners();s&&N2(q(this,dt),i,this.options,r)&&tt(this,St,Gp).call(this),this.updateResult(t),s&&(q(this,dt)!==i||ks(this.options.enabled,q(this,dt))!==ks(r.enabled,q(this,dt))||ud(this.options.staleTime,q(this,dt))!==ud(r.staleTime,q(this,dt)))&&tt(this,St,$T).call(this);const o=tt(this,St,jT).call(this);s&&(q(this,dt)!==i||ks(this.options.enabled,q(this,dt))!==ks(r.enabled,q(this,dt))||o!==q(this,Vl))&&tt(this,St,DT).call(this,o)}getOptimisticResult(e){const t=q(this,si).getQueryCache().build(q(this,si),e),r=this.createResult(t,e);return xee(this,r)&&(ke(this,Lr,r),ke(this,Id,this.options),ke(this,wu,q(this,dt).state)),r}getCurrentResult(){return q(this,Lr)}trackResult(e,t){const r={};return Object.keys(e).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),t==null||t(i),e[i])})}),r}trackProp(e){q(this,Dd).add(e)}getCurrentQuery(){return q(this,dt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=q(this,si).defaultQueryOptions(e),r=q(this,si).getQueryCache().build(q(this,si),t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return tt(this,St,Gp).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),q(this,Lr)))}createResult(e,t){var T;const r=q(this,dt),i=this.options,s=q(this,Lr),o=q(this,wu),a=q(this,Id),c=e!==r?e.state:q(this,CO),{state:u}=e;let d={...u},f=!1,m;if(t._optimisticResults){const S=this.hasListeners(),A=!S&&Q2(e,t),_=S&&N2(e,r,t,i);(A||_)&&(d={...d,...Rz(u.data,e.options)}),t._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:g,errorUpdatedAt:y,status:x}=d;if(t.select&&d.data!==void 0)if(s&&d.data===(o==null?void 0:o.data)&&t.select===q(this,EO))m=q(this,$d);else try{ke(this,EO,t.select),m=t.select(d.data),m=NT(s==null?void 0:s.data,m,t),ke(this,$d,m),ke(this,uo,null)}catch(S){ke(this,uo,S)}else m=d.data;if(t.placeholderData!==void 0&&m===void 0&&x==="pending"){let S;if(s!=null&&s.isPlaceholderData&&t.placeholderData===(a==null?void 0:a.placeholderData))S=s.data;else if(S=typeof t.placeholderData=="function"?t.placeholderData((T=q(this,jd))==null?void 0:T.state.data,q(this,jd)):t.placeholderData,t.select&&S!==void 0)try{S=t.select(S),ke(this,uo,null)}catch(A){ke(this,uo,A)}S!==void 0&&(x="success",m=NT(s==null?void 0:s.data,S,t),f=!0)}q(this,uo)&&(g=q(this,uo),m=q(this,$d),y=Date.now(),x="error");const w=d.fetchStatus==="fetching",k=x==="pending",P=x==="error",Q=k&&w,C=m!==void 0,O={status:x,fetchStatus:d.fetchStatus,isPending:k,isSuccess:x==="success",isError:P,isInitialLoading:Q,isLoading:Q,data:m,dataUpdatedAt:d.dataUpdatedAt,error:g,errorUpdatedAt:y,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:w,isRefetching:w&&!k,isLoadingError:P&&!C,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:P&&C,isStale:JA(e,t),refetch:this.refetch,promise:q(this,Ml)};if(this.options.experimental_prefetchInRender){const S=v=>{O.status==="error"?v.reject(O.error):O.data!==void 0&&v.resolve(O.data)},A=()=>{const v=ke(this,Ml,O.promise=IT());S(v)},_=q(this,Ml);switch(_.status){case"pending":e.queryHash===r.queryHash&&S(_);break;case"fulfilled":(O.status==="error"||O.data!==_.value)&&A();break;case"rejected":(O.status!=="error"||O.error!==_.reason)&&A();break}}return O}updateResult(e){const t=q(this,Lr),r=this.createResult(q(this,dt),this.options);if(ke(this,wu,q(this,dt).state),ke(this,Id,this.options),q(this,wu).data!==void 0&&ke(this,jd,q(this,dt)),Ex(r,t))return;ke(this,Lr,r);const i={},s=()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!q(this,Dd).size)return!0;const l=new Set(a??q(this,Dd));return this.options.throwOnError&&l.add("error"),Object.keys(q(this,Lr)).some(c=>{const u=c;return q(this,Lr)[u]!==t[u]&&l.has(u)})};(e==null?void 0:e.listeners)!==!1&&s()&&(i.listeners=!0),tt(this,St,Nz).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&tt(this,St,MT).call(this)}},si=new WeakMap,dt=new WeakMap,CO=new WeakMap,Lr=new WeakMap,wu=new WeakMap,Id=new WeakMap,Ml=new WeakMap,uo=new WeakMap,EO=new WeakMap,$d=new WeakMap,jd=new WeakMap,bu=new WeakMap,Su=new WeakMap,Vl=new WeakMap,Dd=new WeakMap,St=new WeakSet,Gp=function(e){tt(this,St,UT).call(this);let t=q(this,dt).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(Ki)),t},$T=function(){tt(this,St,VT).call(this);const e=ud(this.options.staleTime,q(this,dt));if(ju||q(this,Lr).isStale||!RT(e))return;const r=kz(q(this,Lr).dataUpdatedAt,e)+1;ke(this,bu,setTimeout(()=>{q(this,Lr).isStale||this.updateResult()},r))},jT=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(q(this,dt)):this.options.refetchInterval)??!1},DT=function(e){tt(this,St,LT).call(this),ke(this,Vl,e),!(ju||ks(this.options.enabled,q(this,dt))===!1||!RT(q(this,Vl))||q(this,Vl)===0)&&ke(this,Su,setInterval(()=>{(this.options.refetchIntervalInBackground||KA.isFocused())&&tt(this,St,Gp).call(this)},q(this,Vl)))},MT=function(){tt(this,St,$T).call(this),tt(this,St,DT).call(this,tt(this,St,jT).call(this))},VT=function(){q(this,bu)&&(clearTimeout(q(this,bu)),ke(this,bu,void 0))},LT=function(){q(this,Su)&&(clearInterval(q(this,Su)),ke(this,Su,void 0))},UT=function(){const e=q(this,si).getQueryCache().build(q(this,si),this.options);if(e===q(this,dt))return;const t=q(this,dt);ke(this,dt,e),ke(this,CO,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},Nz=function(e){Vn.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(q(this,Lr))}),q(this,si).getQueryCache().notify({query:q(this,dt),type:"observerResultsUpdated"})})},a5);function vee(n,e){return ks(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function Q2(n,e){return vee(n,e)||n.state.data!==void 0&&zT(n,e,e.refetchOnMount)}function zT(n,e,t){if(ks(e.enabled,n)!==!1){const r=typeof t=="function"?t(n):t;return r==="always"||r!==!1&&JA(n,e)}return!1}function N2(n,e,t,r){return(n!==e||ks(r.enabled,n)===!1)&&(!t.suspense||n.state.status!=="error")&&JA(n,t)}function JA(n,e){return ks(e.enabled,n)!==!1&&n.isStaleByTime(ud(e.staleTime,n))}function xee(n,e){return!Ex(n.getCurrentResult(),e)}var Ll,Ul,oi,ka,Ma,iv,qT,l5,wee=(l5=class extends Qf{constructor(t,r){super();Le(this,Ma);Le(this,Ll);Le(this,Ul);Le(this,oi);Le(this,ka);ke(this,Ll,t),this.setOptions(r),this.bindMethods(),tt(this,Ma,iv).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var i;const r=this.options;this.options=q(this,Ll).defaultMutationOptions(t),Ex(this.options,r)||q(this,Ll).getMutationCache().notify({type:"observerOptionsUpdated",mutation:q(this,oi),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Du(r.mutationKey)!==Du(this.options.mutationKey)?this.reset():((i=q(this,oi))==null?void 0:i.state.status)==="pending"&&q(this,oi).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=q(this,oi))==null||t.removeObserver(this)}onMutationUpdate(t){tt(this,Ma,iv).call(this),tt(this,Ma,qT).call(this,t)}getCurrentResult(){return q(this,Ul)}reset(){var t;(t=q(this,oi))==null||t.removeObserver(this),ke(this,oi,void 0),tt(this,Ma,iv).call(this),tt(this,Ma,qT).call(this)}mutate(t,r){var i;return ke(this,ka,r),(i=q(this,oi))==null||i.removeObserver(this),ke(this,oi,q(this,Ll).getMutationCache().build(q(this,Ll),this.options)),q(this,oi).addObserver(this),q(this,oi).execute(t)}},Ll=new WeakMap,Ul=new WeakMap,oi=new WeakMap,ka=new WeakMap,Ma=new WeakSet,iv=function(){var r;const t=((r=q(this,oi))==null?void 0:r.state)??Qz();ke(this,Ul,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},qT=function(t){Vn.batch(()=>{var r,i,s,o,a,l,c,u;if(q(this,ka)&&this.hasListeners()){const d=q(this,Ul).variables,f=q(this,Ul).context;(t==null?void 0:t.type)==="success"?((i=(r=q(this,ka)).onSuccess)==null||i.call(r,t.data,d,f),(o=(s=q(this,ka)).onSettled)==null||o.call(s,t.data,null,d,f)):(t==null?void 0:t.type)==="error"&&((l=(a=q(this,ka)).onError)==null||l.call(a,t.error,d,f),(u=(c=q(this,ka)).onSettled)==null||u.call(c,void 0,t.error,d,f))}this.listeners.forEach(d=>{d(q(this,Ul))})})},l5),Iz=b.createContext(void 0),Xi=n=>{const e=b.useContext(Iz);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},bee=({client:n,children:e})=>(b.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),h.jsx(Iz.Provider,{value:n,children:e})),$z=b.createContext(!1),See=()=>b.useContext($z);$z.Provider;function kee(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var _ee=b.createContext(kee()),Tee=()=>b.useContext(_ee);function jz(n,e){return typeof n=="function"?n(...e):!!n}function FT(){}var Pee=(n,e)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(e.isReset()||(n.retryOnMount=!1))},Cee=n=>{b.useEffect(()=>{n.clearReset()},[n])},Eee=({result:n,errorResetBoundary:e,throwOnError:t,query:r})=>n.isError&&!e.isReset()&&!n.isFetching&&r&&jz(t,[n.error,r]),Aee=n=>{n.suspense&&(n.staleTime===void 0&&(n.staleTime=1e3),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3)))},Ree=(n,e)=>n.isLoading&&n.isFetching&&!e,Qee=(n,e)=>(n==null?void 0:n.suspense)&&e.isPending,I2=(n,e,t)=>e.fetchOptimistic(n).catch(()=>{t.clearReset()});function Nee(n,e,t){var u,d,f,m,g;const r=Xi(),i=See(),s=Tee(),o=r.defaultQueryOptions(n);(d=(u=r.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||d.call(u,o),o._optimisticResults=i?"isRestoring":"optimistic",Aee(o),Pee(o,s),Cee(s);const a=!r.getQueryCache().get(o.queryHash),[l]=b.useState(()=>new e(r,o)),c=l.getOptimisticResult(o);if(b.useSyncExternalStore(b.useCallback(y=>{const x=i?FT:l.subscribe(Vn.batchCalls(y));return l.updateResult(),x},[l,i]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),b.useEffect(()=>{l.setOptions(o,{listeners:!1})},[o,l]),Qee(o,c))throw I2(o,l,s);if(Eee({result:c,errorResetBoundary:s,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw c.error;if((m=(f=r.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||m.call(f,o,c),o.experimental_prefetchInRender&&!ju&&Ree(c,i)){const y=a?I2(o,l,s):(g=r.getQueryCache().get(o.queryHash))==null?void 0:g.promise;y==null||y.catch(FT).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?c:l.trackResult(c)}function Mu(n,e){return Nee(n,yee)}function z1(n,e){const t=Xi(),[r]=b.useState(()=>new wee(t,n));b.useEffect(()=>{r.setOptions(n)},[r,n]);const i=b.useSyncExternalStore(b.useCallback(o=>r.subscribe(Vn.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=b.useCallback((o,a)=>{r.mutate(o,a).catch(FT)},[r]);if(i.error&&jz(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}async function Iee(n){if(!n.ok){const e=await n.text()||n.statusText;throw new Error(`${n.status}: ${e}`)}}const $ee=({on401:n})=>async({queryKey:e})=>{const t=await fetch(e[0],{credentials:"include"});return n==="returnNull"&&t.status===401?null:(await Iee(t),await t.json())},Dz=new Oee({defaultOptions:{queries:{queryFn:$ee({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!0,staleTime:3e4,retry:!1},mutations:{retry:!1,onSuccess:()=>{Dz.invalidateQueries()}}}});function jee(n,e){if(n instanceof RegExp)return{keys:!1,pattern:n};var t,r,i,s,o=[],a="",l=n.split("/");for(l[0]||l.shift();i=l.shift();)t=i[0],t==="*"?(o.push(t),a+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):t===":"?(r=i.indexOf("?",1),s=i.indexOf(".",1),o.push(i.substring(1,~r?r:~s?s:i.length)),a+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(a+=(~r?"?":"")+"\\"+i.substring(s))):a+="/"+i;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var Mz={exports:{}},Vz={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zd=b;function Dee(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Mee=typeof Object.is=="function"?Object.is:Dee,Vee=Zd.useState,Lee=Zd.useEffect,Uee=Zd.useLayoutEffect,zee=Zd.useDebugValue;function qee(n,e){var t=e(),r=Vee({inst:{value:t,getSnapshot:e}}),i=r[0].inst,s=r[1];return Uee(function(){i.value=t,i.getSnapshot=e,q1(i)&&s({inst:i})},[n,t,e]),Lee(function(){return q1(i)&&s({inst:i}),n(function(){q1(i)&&s({inst:i})})},[n]),zee(t),t}function q1(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Mee(n,t)}catch{return!0}}function Fee(n,e){return e()}var Zee=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Fee:qee;Vz.useSyncExternalStore=Zd.useSyncExternalStore!==void 0?Zd.useSyncExternalStore:Zee;Mz.exports=Vz;var Bee=Mz.exports;const Wee=x5.useInsertionEffect,Xee=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Gee=Xee?b.useLayoutEffect:b.useEffect,Yee=Wee||Gee,Lz=n=>{const e=b.useRef([n,(...t)=>e[0](...t)]).current;return Yee(()=>{e[0]=n}),e[1]},Hee="popstate",eR="pushState",tR="replaceState",Kee="hashchange",$2=[Hee,eR,tR,Kee],Jee=n=>{for(const e of $2)addEventListener(e,n);return()=>{for(const e of $2)removeEventListener(e,n)}},Uz=(n,e)=>Bee.useSyncExternalStore(Jee,n,e),ete=()=>location.search,tte=({ssrSearch:n=""}={})=>Uz(ete,()=>n),j2=()=>location.pathname,nte=({ssrPath:n}={})=>Uz(j2,n?()=>n:j2),rte=(n,{replace:e=!1,state:t=null}={})=>history[e?tR:eR](t,"",n),ite=(n={})=>[nte(n),rte],D2=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[D2]>"u"){for(const n of[eR,tR]){const e=history[n];history[n]=function(){const t=e.apply(this,arguments),r=new Event(n);return r.arguments=arguments,dispatchEvent(r),t}}Object.defineProperty(window,D2,{value:!0})}const ste=(n,e)=>e.toLowerCase().indexOf(n.toLowerCase())?"~"+e:e.slice(n.length)||"/",zz=(n="")=>n==="/"?"":n,ote=(n,e)=>n[0]==="~"?n.slice(1):zz(e)+n,ate=(n="",e)=>ste(M2(zz(n)),M2(e)),M2=n=>{try{return decodeURI(n)}catch{return n}},qz={hook:ite,searchHook:tte,parser:jee,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:n=>n},Fz=b.createContext(qz),Nf=()=>b.useContext(Fz),Zz={},Bz=b.createContext(Zz),$O=()=>b.useContext(Bz),_b=n=>{const[e,t]=n.hook(n);return[ate(n.base,e),Lz((r,i)=>t(ote(r,n.base),i))]},ei=()=>_b(Nf()),nR=(n,e,t,r)=>{const{pattern:i,keys:s}=e instanceof RegExp?{keys:!1,pattern:e}:n(e||"*",r),o=i.exec(t)||[],[a,...l]=o;return a!==void 0?[!0,(()=>{const c=s!==!1?Object.fromEntries(s.map((d,f)=>[d,l[f]])):o.groups;let u={...l};return c&&Object.assign(u,c),u})(),...r?[a]:[]]:[!1,null]},lte=n=>nR(Nf().parser,n,ei()[0]),cte=({children:n,...e})=>{var u,d;const t=Nf(),r=e.hook?qz:t;let i=r;const[s,o]=((u=e.ssrPath)==null?void 0:u.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=s),e.hrefs=e.hrefs??((d=e.hook)==null?void 0:d.hrefs);let a=b.useRef({}),l=a.current,c=l;for(let f in r){const m=f==="base"?r[f]+(e[f]||""):e[f]||r[f];l===c&&m!==c[f]&&(a.current=c={...c}),c[f]=m,m!==r[f]&&(i=c)}return b.createElement(Fz.Provider,{value:i,children:n})},V2=({children:n,component:e},t)=>e?b.createElement(e,{params:t}):typeof n=="function"?n(t):n,ute=n=>{let e=b.useRef(Zz),t=e.current;for(const r in n)n[r]!==t[r]&&(t=n);return Object.keys(n).length===0&&(t=n),e.current=t},ki=({path:n,nest:e,match:t,...r})=>{const i=Nf(),[s]=_b(i),[o,a,l]=t??nR(i.parser,n,s,e),c=ute({...$O(),...a});if(!o)return null;const u=l?b.createElement(cte,{base:l},V2(r,c)):V2(r,c);return b.createElement(Bz.Provider,{value:c,children:u})},Gt=b.forwardRef((n,e)=>{const t=Nf(),[r,i]=_b(t),{to:s="",href:o=s,onClick:a,asChild:l,children:c,className:u,replace:d,state:f,...m}=n,g=Lz(x=>{x.ctrlKey||x.metaKey||x.altKey||x.shiftKey||x.button!==0||(a==null||a(x),x.defaultPrevented||(x.preventDefault(),i(o,n)))}),y=t.hrefs(o[0]==="~"?o.slice(1):t.base+o,t);return l&&b.isValidElement(c)?b.cloneElement(c,{onClick:g,href:y}):b.createElement("a",{...m,onClick:g,href:y,className:u!=null&&u.call?u(r===o):u,children:c,ref:e})}),Wz=n=>Array.isArray(n)?n.flatMap(e=>Wz(e&&e.type===b.Fragment?e.props.children:e)):[n],hte=({children:n,location:e})=>{const t=Nf(),[r]=_b(t);for(const i of Wz(n)){let s=0;if(b.isValidElement(i)&&(s=nR(t.parser,i.props.path,e||r,i.props.nest))[0])return b.cloneElement(i,{match:s})}return null},dte=()=>{};var L2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xz=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},fte=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],o=n[t++],a=n[t++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Gz={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(f=64)),r.push(t[u],t[d],t[f],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Xz(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):fte(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new pte;const f=s<<2|a>>4;if(r.push(f),c!==64){const m=a<<4&240|c>>2;if(r.push(m),d!==64){const g=c<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class pte extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mte=function(n){const e=Xz(n);return Gz.encodeByteArray(e,!0)},Rx=function(n){return mte(n).replace(/\./g,"")},Yz=function(n){try{return Gz.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gte(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ote=()=>gte().__FIREBASE_DEFAULTS__,yte=()=>{if(typeof process>"u"||typeof L2>"u")return;const n=L2.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},vte=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Yz(n[1]);return e&&JSON.parse(e)},Tb=()=>{try{return dte()||Ote()||yte()||vte()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Hz=n=>{var e,t;return(t=(e=Tb())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Kz=n=>{const e=Hz(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Jz=()=>{var n;return(n=Tb())===null||n===void 0?void 0:n.config},e3=n=>{var e;return(e=Tb())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xte{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Rx(JSON.stringify(t)),Rx(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wte(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nr())}function bte(){var n;const e=(n=Tb())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ste(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kte(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function _te(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Tte(){const n=Nr();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Pte(){return!bte()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Cte(){try{return typeof indexedDB=="object"}catch{return!1}}function Ete(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ate="FirebaseError";class Ko extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Ate,Object.setPrototypeOf(this,Ko.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jO.prototype.create)}}class jO{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Rte(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ko(i,a,r)}}function Rte(n,e){return n.replace(Qte,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Qte=/\{\$([^}]+)}/g;function Nte(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Vu(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(U2(s)&&U2(o)){if(!Vu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function U2(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Yp(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Hp(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Ite(n,e){const t=new $te(n,e);return t.subscribe.bind(t)}class $te{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");jte(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=F1),i.error===void 0&&(i.error=F1),i.complete===void 0&&(i.complete=F1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jte(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function F1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(n){return n&&n._delegate?n._delegate:n}class fc{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dte=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new xte;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Vte(e))try{this.getOrInitializeService({instanceIdentifier:su})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=su){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=su){return this.instances.has(e)}getOptions(e=su){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Mte(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=su){return this.component?this.component.multipleInstances?e:su:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Mte(n){return n===su?void 0:n}function Vte(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lte{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Dte(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ot||(ot={}));const Ute={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},zte=ot.INFO,qte={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},Fte=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=qte[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rR{constructor(e){this.name=e,this._logLevel=zte,this._logHandler=Fte,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ute[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...e),this._logHandler(this,ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...e),this._logHandler(this,ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...e),this._logHandler(this,ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...e),this._logHandler(this,ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...e),this._logHandler(this,ot.ERROR,...e)}}const Zte=(n,e)=>e.some(t=>n instanceof t);let z2,q2;function Bte(){return z2||(z2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Wte(){return q2||(q2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const n3=new WeakMap,ZT=new WeakMap,r3=new WeakMap,Z1=new WeakMap,iR=new WeakMap;function Xte(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(rc(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&n3.set(t,n)}).catch(()=>{}),iR.set(e,n),e}function Gte(n){if(ZT.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});ZT.set(n,e)}let BT={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ZT.get(n);if(e==="objectStoreNames")return n.objectStoreNames||r3.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return rc(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Yte(n){BT=n(BT)}function Hte(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(B1(this),e,...t);return r3.set(r,e.sort?e.sort():[e]),rc(r)}:Wte().includes(n)?function(...e){return n.apply(B1(this),e),rc(n3.get(this))}:function(...e){return rc(n.apply(B1(this),e))}}function Kte(n){return typeof n=="function"?Hte(n):(n instanceof IDBTransaction&&Gte(n),Zte(n,Bte())?new Proxy(n,BT):n)}function rc(n){if(n instanceof IDBRequest)return Xte(n);if(Z1.has(n))return Z1.get(n);const e=Kte(n);return e!==n&&(Z1.set(n,e),iR.set(e,n)),e}const B1=n=>iR.get(n);function Jte(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=rc(o);return r&&o.addEventListener("upgradeneeded",l=>{r(rc(o.result),l.oldVersion,l.newVersion,rc(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const ene=["get","getKey","getAll","getAllKeys","count"],tne=["put","add","delete","clear"],W1=new Map;function F2(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(W1.get(e))return W1.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=tne.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ene.includes(t)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[t](...a),i&&l.done]))[0]};return W1.set(e,s),s}Yte(n=>({...n,get:(e,t,r)=>F2(e,t)||n.get(e,t,r),has:(e,t)=>!!F2(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nne{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(rne(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function rne(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const WT="@firebase/app",Z2="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa=new rR("@firebase/app"),ine="@firebase/app-compat",sne="@firebase/analytics-compat",one="@firebase/analytics",ane="@firebase/app-check-compat",lne="@firebase/app-check",cne="@firebase/auth",une="@firebase/auth-compat",hne="@firebase/database",dne="@firebase/data-connect",fne="@firebase/database-compat",pne="@firebase/functions",mne="@firebase/functions-compat",gne="@firebase/installations",One="@firebase/installations-compat",yne="@firebase/messaging",vne="@firebase/messaging-compat",xne="@firebase/performance",wne="@firebase/performance-compat",bne="@firebase/remote-config",Sne="@firebase/remote-config-compat",kne="@firebase/storage",_ne="@firebase/storage-compat",Tne="@firebase/firestore",Pne="@firebase/vertexai",Cne="@firebase/firestore-compat",Ene="firebase",Ane="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="[DEFAULT]",Rne={[WT]:"fire-core",[ine]:"fire-core-compat",[one]:"fire-analytics",[sne]:"fire-analytics-compat",[lne]:"fire-app-check",[ane]:"fire-app-check-compat",[cne]:"fire-auth",[une]:"fire-auth-compat",[hne]:"fire-rtdb",[dne]:"fire-data-connect",[fne]:"fire-rtdb-compat",[pne]:"fire-fn",[mne]:"fire-fn-compat",[gne]:"fire-iid",[One]:"fire-iid-compat",[yne]:"fire-fcm",[vne]:"fire-fcm-compat",[xne]:"fire-perf",[wne]:"fire-perf-compat",[bne]:"fire-rc",[Sne]:"fire-rc-compat",[kne]:"fire-gcs",[_ne]:"fire-gcs-compat",[Tne]:"fire-fst",[Cne]:"fire-fst-compat",[Pne]:"fire-vertex","fire-js":"fire-js",[Ene]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx=new Map,Qne=new Map,GT=new Map;function B2(n,e){try{n.container.addComponent(e)}catch(t){qa.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Lu(n){const e=n.name;if(GT.has(e))return qa.debug(`There were multiple attempts to register component ${e}.`),!1;GT.set(e,n);for(const t of Qx.values())B2(t,n);for(const t of Qne.values())B2(t,n);return!0}function Pb(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Qi(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nne={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ic=new jO("app","Firebase",Nne);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ine{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ic.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=Ane;function i3(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:XT,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ic.create("bad-app-name",{appName:String(i)});if(t||(t=Jz()),!t)throw ic.create("no-options");const s=Qx.get(i);if(s){if(Vu(t,s.options)&&Vu(r,s.config))return s;throw ic.create("duplicate-app",{appName:i})}const o=new Lte(i);for(const l of GT.values())o.addComponent(l);const a=new Ine(t,r,o);return Qx.set(i,a),a}function sR(n=XT){const e=Qx.get(n);if(!e&&n===XT&&Jz())return i3();if(!e)throw ic.create("no-app",{appName:n});return e}function ko(n,e,t){var r;let i=(r=Rne[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qa.warn(a.join(" "));return}Lu(new fc(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ne="firebase-heartbeat-database",jne=1,hg="firebase-heartbeat-store";let X1=null;function s3(){return X1||(X1=Jte($ne,jne,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(hg)}catch(t){console.warn(t)}}}}).catch(n=>{throw ic.create("idb-open",{originalErrorMessage:n.message})})),X1}async function Dne(n){try{const t=(await s3()).transaction(hg),r=await t.objectStore(hg).get(o3(n));return await t.done,r}catch(e){if(e instanceof Ko)qa.warn(e.message);else{const t=ic.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qa.warn(t.message)}}}async function W2(n,e){try{const r=(await s3()).transaction(hg,"readwrite");await r.objectStore(hg).put(e,o3(n)),await r.done}catch(t){if(t instanceof Ko)qa.warn(t.message);else{const r=ic.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});qa.warn(r.message)}}}function o3(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mne=1024,Vne=30;class Lne{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new zne(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=X2();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Vne){const o=qne(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){qa.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=X2(),{heartbeatsToSend:r,unsentEntries:i}=Une(this._heartbeatsCache.heartbeats),s=Rx(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return qa.warn(t),""}}}function X2(){return new Date().toISOString().substring(0,10)}function Une(n,e=Mne){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),G2(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),G2(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class zne{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Cte()?Ete().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Dne(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return W2(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return W2(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function G2(n){return Rx(JSON.stringify({version:2,heartbeats:n})).length}function qne(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fne(n){Lu(new fc("platform-logger",e=>new nne(e),"PRIVATE")),Lu(new fc("heartbeat",e=>new Lne(e),"PRIVATE")),ko(WT,Z2,n),ko(WT,Z2,"esm2017"),ko("fire-js","")}Fne("");var Y2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sc,a3;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,T){function S(){}S.prototype=T.prototype,O.D=T.prototype,O.prototype=new S,O.prototype.constructor=O,O.C=function(A,_,v){for(var E=Array(arguments.length-2),j=2;j<arguments.length;j++)E[j-2]=arguments[j];return T.prototype[_].apply(A,E)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(O,T,S){S||(S=0);var A=Array(16);if(typeof T=="string")for(var _=0;16>_;++_)A[_]=T.charCodeAt(S++)|T.charCodeAt(S++)<<8|T.charCodeAt(S++)<<16|T.charCodeAt(S++)<<24;else for(_=0;16>_;++_)A[_]=T[S++]|T[S++]<<8|T[S++]<<16|T[S++]<<24;T=O.g[0],S=O.g[1],_=O.g[2];var v=O.g[3],E=T+(v^S&(_^v))+A[0]+3614090360&4294967295;T=S+(E<<7&4294967295|E>>>25),E=v+(_^T&(S^_))+A[1]+3905402710&4294967295,v=T+(E<<12&4294967295|E>>>20),E=_+(S^v&(T^S))+A[2]+606105819&4294967295,_=v+(E<<17&4294967295|E>>>15),E=S+(T^_&(v^T))+A[3]+3250441966&4294967295,S=_+(E<<22&4294967295|E>>>10),E=T+(v^S&(_^v))+A[4]+4118548399&4294967295,T=S+(E<<7&4294967295|E>>>25),E=v+(_^T&(S^_))+A[5]+1200080426&4294967295,v=T+(E<<12&4294967295|E>>>20),E=_+(S^v&(T^S))+A[6]+2821735955&4294967295,_=v+(E<<17&4294967295|E>>>15),E=S+(T^_&(v^T))+A[7]+4249261313&4294967295,S=_+(E<<22&4294967295|E>>>10),E=T+(v^S&(_^v))+A[8]+1770035416&4294967295,T=S+(E<<7&4294967295|E>>>25),E=v+(_^T&(S^_))+A[9]+2336552879&4294967295,v=T+(E<<12&4294967295|E>>>20),E=_+(S^v&(T^S))+A[10]+4294925233&4294967295,_=v+(E<<17&4294967295|E>>>15),E=S+(T^_&(v^T))+A[11]+2304563134&4294967295,S=_+(E<<22&4294967295|E>>>10),E=T+(v^S&(_^v))+A[12]+1804603682&4294967295,T=S+(E<<7&4294967295|E>>>25),E=v+(_^T&(S^_))+A[13]+4254626195&4294967295,v=T+(E<<12&4294967295|E>>>20),E=_+(S^v&(T^S))+A[14]+2792965006&4294967295,_=v+(E<<17&4294967295|E>>>15),E=S+(T^_&(v^T))+A[15]+1236535329&4294967295,S=_+(E<<22&4294967295|E>>>10),E=T+(_^v&(S^_))+A[1]+4129170786&4294967295,T=S+(E<<5&4294967295|E>>>27),E=v+(S^_&(T^S))+A[6]+3225465664&4294967295,v=T+(E<<9&4294967295|E>>>23),E=_+(T^S&(v^T))+A[11]+643717713&4294967295,_=v+(E<<14&4294967295|E>>>18),E=S+(v^T&(_^v))+A[0]+3921069994&4294967295,S=_+(E<<20&4294967295|E>>>12),E=T+(_^v&(S^_))+A[5]+3593408605&4294967295,T=S+(E<<5&4294967295|E>>>27),E=v+(S^_&(T^S))+A[10]+38016083&4294967295,v=T+(E<<9&4294967295|E>>>23),E=_+(T^S&(v^T))+A[15]+3634488961&4294967295,_=v+(E<<14&4294967295|E>>>18),E=S+(v^T&(_^v))+A[4]+3889429448&4294967295,S=_+(E<<20&4294967295|E>>>12),E=T+(_^v&(S^_))+A[9]+568446438&4294967295,T=S+(E<<5&4294967295|E>>>27),E=v+(S^_&(T^S))+A[14]+3275163606&4294967295,v=T+(E<<9&4294967295|E>>>23),E=_+(T^S&(v^T))+A[3]+4107603335&4294967295,_=v+(E<<14&4294967295|E>>>18),E=S+(v^T&(_^v))+A[8]+1163531501&4294967295,S=_+(E<<20&4294967295|E>>>12),E=T+(_^v&(S^_))+A[13]+2850285829&4294967295,T=S+(E<<5&4294967295|E>>>27),E=v+(S^_&(T^S))+A[2]+4243563512&4294967295,v=T+(E<<9&4294967295|E>>>23),E=_+(T^S&(v^T))+A[7]+1735328473&4294967295,_=v+(E<<14&4294967295|E>>>18),E=S+(v^T&(_^v))+A[12]+2368359562&4294967295,S=_+(E<<20&4294967295|E>>>12),E=T+(S^_^v)+A[5]+4294588738&4294967295,T=S+(E<<4&4294967295|E>>>28),E=v+(T^S^_)+A[8]+2272392833&4294967295,v=T+(E<<11&4294967295|E>>>21),E=_+(v^T^S)+A[11]+1839030562&4294967295,_=v+(E<<16&4294967295|E>>>16),E=S+(_^v^T)+A[14]+4259657740&4294967295,S=_+(E<<23&4294967295|E>>>9),E=T+(S^_^v)+A[1]+2763975236&4294967295,T=S+(E<<4&4294967295|E>>>28),E=v+(T^S^_)+A[4]+1272893353&4294967295,v=T+(E<<11&4294967295|E>>>21),E=_+(v^T^S)+A[7]+4139469664&4294967295,_=v+(E<<16&4294967295|E>>>16),E=S+(_^v^T)+A[10]+3200236656&4294967295,S=_+(E<<23&4294967295|E>>>9),E=T+(S^_^v)+A[13]+681279174&4294967295,T=S+(E<<4&4294967295|E>>>28),E=v+(T^S^_)+A[0]+3936430074&4294967295,v=T+(E<<11&4294967295|E>>>21),E=_+(v^T^S)+A[3]+3572445317&4294967295,_=v+(E<<16&4294967295|E>>>16),E=S+(_^v^T)+A[6]+76029189&4294967295,S=_+(E<<23&4294967295|E>>>9),E=T+(S^_^v)+A[9]+3654602809&4294967295,T=S+(E<<4&4294967295|E>>>28),E=v+(T^S^_)+A[12]+3873151461&4294967295,v=T+(E<<11&4294967295|E>>>21),E=_+(v^T^S)+A[15]+530742520&4294967295,_=v+(E<<16&4294967295|E>>>16),E=S+(_^v^T)+A[2]+3299628645&4294967295,S=_+(E<<23&4294967295|E>>>9),E=T+(_^(S|~v))+A[0]+4096336452&4294967295,T=S+(E<<6&4294967295|E>>>26),E=v+(S^(T|~_))+A[7]+1126891415&4294967295,v=T+(E<<10&4294967295|E>>>22),E=_+(T^(v|~S))+A[14]+2878612391&4294967295,_=v+(E<<15&4294967295|E>>>17),E=S+(v^(_|~T))+A[5]+4237533241&4294967295,S=_+(E<<21&4294967295|E>>>11),E=T+(_^(S|~v))+A[12]+1700485571&4294967295,T=S+(E<<6&4294967295|E>>>26),E=v+(S^(T|~_))+A[3]+2399980690&4294967295,v=T+(E<<10&4294967295|E>>>22),E=_+(T^(v|~S))+A[10]+4293915773&4294967295,_=v+(E<<15&4294967295|E>>>17),E=S+(v^(_|~T))+A[1]+2240044497&4294967295,S=_+(E<<21&4294967295|E>>>11),E=T+(_^(S|~v))+A[8]+1873313359&4294967295,T=S+(E<<6&4294967295|E>>>26),E=v+(S^(T|~_))+A[15]+4264355552&4294967295,v=T+(E<<10&4294967295|E>>>22),E=_+(T^(v|~S))+A[6]+2734768916&4294967295,_=v+(E<<15&4294967295|E>>>17),E=S+(v^(_|~T))+A[13]+1309151649&4294967295,S=_+(E<<21&4294967295|E>>>11),E=T+(_^(S|~v))+A[4]+4149444226&4294967295,T=S+(E<<6&4294967295|E>>>26),E=v+(S^(T|~_))+A[11]+3174756917&4294967295,v=T+(E<<10&4294967295|E>>>22),E=_+(T^(v|~S))+A[2]+718787259&4294967295,_=v+(E<<15&4294967295|E>>>17),E=S+(v^(_|~T))+A[9]+3951481745&4294967295,O.g[0]=O.g[0]+T&4294967295,O.g[1]=O.g[1]+(_+(E<<21&4294967295|E>>>11))&4294967295,O.g[2]=O.g[2]+_&4294967295,O.g[3]=O.g[3]+v&4294967295}r.prototype.u=function(O,T){T===void 0&&(T=O.length);for(var S=T-this.blockSize,A=this.B,_=this.h,v=0;v<T;){if(_==0)for(;v<=S;)i(this,O,v),v+=this.blockSize;if(typeof O=="string"){for(;v<T;)if(A[_++]=O.charCodeAt(v++),_==this.blockSize){i(this,A),_=0;break}}else for(;v<T;)if(A[_++]=O[v++],_==this.blockSize){i(this,A),_=0;break}}this.h=_,this.o+=T},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var T=1;T<O.length-8;++T)O[T]=0;var S=8*this.o;for(T=O.length-8;T<O.length;++T)O[T]=S&255,S/=256;for(this.u(O),O=Array(16),T=S=0;4>T;++T)for(var A=0;32>A;A+=8)O[S++]=this.g[T]>>>A&255;return O};function s(O,T){var S=a;return Object.prototype.hasOwnProperty.call(S,O)?S[O]:S[O]=T(O)}function o(O,T){this.h=T;for(var S=[],A=!0,_=O.length-1;0<=_;_--){var v=O[_]|0;A&&v==T||(S[_]=v,A=!1)}this.g=S}var a={};function l(O){return-128<=O&&128>O?s(O,function(T){return new o([T|0],0>T?-1:0)}):new o([O|0],0>O?-1:0)}function c(O){if(isNaN(O)||!isFinite(O))return d;if(0>O)return x(c(-O));for(var T=[],S=1,A=0;O>=S;A++)T[A]=O/S|0,S*=4294967296;return new o(T,0)}function u(O,T){if(O.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(O.charAt(0)=="-")return x(u(O.substring(1),T));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=c(Math.pow(T,8)),A=d,_=0;_<O.length;_+=8){var v=Math.min(8,O.length-_),E=parseInt(O.substring(_,_+v),T);8>v?(v=c(Math.pow(T,v)),A=A.j(v).add(c(E))):(A=A.j(S),A=A.add(c(E)))}return A}var d=l(0),f=l(1),m=l(16777216);n=o.prototype,n.m=function(){if(y(this))return-x(this).m();for(var O=0,T=1,S=0;S<this.g.length;S++){var A=this.i(S);O+=(0<=A?A:4294967296+A)*T,T*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(g(this))return"0";if(y(this))return"-"+x(this).toString(O);for(var T=c(Math.pow(O,6)),S=this,A="";;){var _=Q(S,T).g;S=w(S,_.j(T));var v=((0<S.g.length?S.g[0]:S.h)>>>0).toString(O);if(S=_,g(S))return v+A;for(;6>v.length;)v="0"+v;A=v+A}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function g(O){if(O.h!=0)return!1;for(var T=0;T<O.g.length;T++)if(O.g[T]!=0)return!1;return!0}function y(O){return O.h==-1}n.l=function(O){return O=w(this,O),y(O)?-1:g(O)?0:1};function x(O){for(var T=O.g.length,S=[],A=0;A<T;A++)S[A]=~O.g[A];return new o(S,~O.h).add(f)}n.abs=function(){return y(this)?x(this):this},n.add=function(O){for(var T=Math.max(this.g.length,O.g.length),S=[],A=0,_=0;_<=T;_++){var v=A+(this.i(_)&65535)+(O.i(_)&65535),E=(v>>>16)+(this.i(_)>>>16)+(O.i(_)>>>16);A=E>>>16,v&=65535,E&=65535,S[_]=E<<16|v}return new o(S,S[S.length-1]&-2147483648?-1:0)};function w(O,T){return O.add(x(T))}n.j=function(O){if(g(this)||g(O))return d;if(y(this))return y(O)?x(this).j(x(O)):x(x(this).j(O));if(y(O))return x(this.j(x(O)));if(0>this.l(m)&&0>O.l(m))return c(this.m()*O.m());for(var T=this.g.length+O.g.length,S=[],A=0;A<2*T;A++)S[A]=0;for(A=0;A<this.g.length;A++)for(var _=0;_<O.g.length;_++){var v=this.i(A)>>>16,E=this.i(A)&65535,j=O.i(_)>>>16,V=O.i(_)&65535;S[2*A+2*_]+=E*V,k(S,2*A+2*_),S[2*A+2*_+1]+=v*V,k(S,2*A+2*_+1),S[2*A+2*_+1]+=E*j,k(S,2*A+2*_+1),S[2*A+2*_+2]+=v*j,k(S,2*A+2*_+2)}for(A=0;A<T;A++)S[A]=S[2*A+1]<<16|S[2*A];for(A=T;A<2*T;A++)S[A]=0;return new o(S,0)};function k(O,T){for(;(O[T]&65535)!=O[T];)O[T+1]+=O[T]>>>16,O[T]&=65535,T++}function P(O,T){this.g=O,this.h=T}function Q(O,T){if(g(T))throw Error("division by zero");if(g(O))return new P(d,d);if(y(O))return T=Q(x(O),T),new P(x(T.g),x(T.h));if(y(T))return T=Q(O,x(T)),new P(x(T.g),T.h);if(30<O.g.length){if(y(O)||y(T))throw Error("slowDivide_ only works with positive integers.");for(var S=f,A=T;0>=A.l(O);)S=C(S),A=C(A);var _=N(S,1),v=N(A,1);for(A=N(A,2),S=N(S,2);!g(A);){var E=v.add(A);0>=E.l(O)&&(_=_.add(S),v=E),A=N(A,1),S=N(S,1)}return T=w(O,_.j(T)),new P(_,T)}for(_=d;0<=O.l(T);){for(S=Math.max(1,Math.floor(O.m()/T.m())),A=Math.ceil(Math.log(S)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),v=c(S),E=v.j(T);y(E)||0<E.l(O);)S-=A,v=c(S),E=v.j(T);g(v)&&(v=f),_=_.add(v),O=w(O,E)}return new P(_,O)}n.A=function(O){return Q(this,O).h},n.and=function(O){for(var T=Math.max(this.g.length,O.g.length),S=[],A=0;A<T;A++)S[A]=this.i(A)&O.i(A);return new o(S,this.h&O.h)},n.or=function(O){for(var T=Math.max(this.g.length,O.g.length),S=[],A=0;A<T;A++)S[A]=this.i(A)|O.i(A);return new o(S,this.h|O.h)},n.xor=function(O){for(var T=Math.max(this.g.length,O.g.length),S=[],A=0;A<T;A++)S[A]=this.i(A)^O.i(A);return new o(S,this.h^O.h)};function C(O){for(var T=O.g.length+1,S=[],A=0;A<T;A++)S[A]=O.i(A)<<1|O.i(A-1)>>>31;return new o(S,O.h)}function N(O,T){var S=T>>5;T%=32;for(var A=O.g.length-S,_=[],v=0;v<A;v++)_[v]=0<T?O.i(v+S)>>>T|O.i(v+S+1)<<32-T:O.i(v+S);return new o(_,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,a3=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,sc=o}).apply(typeof Y2<"u"?Y2:typeof self<"u"?self:typeof window<"u"?window:{});var Ky=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var l3,Kp,c3,sv,YT,u3,h3,d3;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,R,I){return p==Array.prototype||p==Object.prototype||(p[R]=I.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ky=="object"&&Ky];for(var R=0;R<p.length;++R){var I=p[R];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=t(this);function i(p,R){if(R)e:{var I=r;p=p.split(".");for(var M=0;M<p.length-1;M++){var W=p[M];if(!(W in I))break e;I=I[W]}p=p[p.length-1],M=I[p],R=R(M),R!=M&&R!=null&&e(I,p,{configurable:!0,writable:!0,value:R})}}function s(p,R){p instanceof String&&(p+="");var I=0,M=!1,W={next:function(){if(!M&&I<p.length){var H=I++;return{value:R(H,p[H]),done:!1}}return M=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}i("Array.prototype.values",function(p){return p||function(){return s(this,function(R,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(p){var R=typeof p;return R=R!="object"?R:p?Array.isArray(p)?"array":R:"null",R=="array"||R=="object"&&typeof p.length=="number"}function c(p){var R=typeof p;return R=="object"&&p!=null||R=="function"}function u(p,R,I){return p.call.apply(p.bind,arguments)}function d(p,R,I){if(!p)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,M),p.apply(R,W)}}return function(){return p.apply(R,arguments)}}function f(p,R,I){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:d,f.apply(null,arguments)}function m(p,R){var I=Array.prototype.slice.call(arguments,1);return function(){var M=I.slice();return M.push.apply(M,arguments),p.apply(this,M)}}function g(p,R){function I(){}I.prototype=R.prototype,p.aa=R.prototype,p.prototype=new I,p.prototype.constructor=p,p.Qb=function(M,W,H){for(var pe=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)pe[Pt-2]=arguments[Pt];return R.prototype[W].apply(M,pe)}}function y(p){const R=p.length;if(0<R){const I=Array(R);for(let M=0;M<R;M++)I[M]=p[M];return I}return[]}function x(p,R){for(let I=1;I<arguments.length;I++){const M=arguments[I];if(l(M)){const W=p.length||0,H=M.length||0;p.length=W+H;for(let pe=0;pe<H;pe++)p[W+pe]=M[pe]}else p.push(M)}}class w{constructor(R,I){this.i=R,this.j=I,this.h=0,this.g=null}get(){let R;return 0<this.h?(this.h--,R=this.g,this.g=R.next,R.next=null):R=this.i(),R}}function k(p){return/^[\s\xa0]*$/.test(p)}function P(){var p=a.navigator;return p&&(p=p.userAgent)?p:""}function Q(p){return Q[" "](p),p}Q[" "]=function(){};var C=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function N(p,R,I){for(const M in p)R.call(I,p[M],M,p)}function O(p,R){for(const I in p)R.call(void 0,p[I],I,p)}function T(p){const R={};for(const I in p)R[I]=p[I];return R}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(p,R){let I,M;for(let W=1;W<arguments.length;W++){M=arguments[W];for(I in M)p[I]=M[I];for(let H=0;H<S.length;H++)I=S[H],Object.prototype.hasOwnProperty.call(M,I)&&(p[I]=M[I])}}function _(p){var R=1;p=p.split(":");const I=[];for(;0<R&&p.length;)I.push(p.shift()),R--;return p.length&&I.push(p.join(":")),I}function v(p){a.setTimeout(()=>{throw p},0)}function E(){var p=L;let R=null;return p.g&&(R=p.g,p.g=p.g.next,p.g||(p.h=null),R.next=null),R}class j{constructor(){this.h=this.g=null}add(R,I){const M=V.get();M.set(R,I),this.h?this.h.next=M:this.g=M,this.h=M}}var V=new w(()=>new U,p=>p.reset());class U{constructor(){this.next=this.g=this.h=null}set(R,I){this.h=R,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let X,D=!1,L=new j,Y=()=>{const p=a.Promise.resolve(void 0);X=()=>{p.then(Z)}};var Z=()=>{for(var p;p=E();){try{p.h.call(p.g)}catch(I){v(I)}var R=V;R.j(p),100>R.h&&(R.h++,p.next=R.g,R.g=p)}D=!1};function F(){this.s=this.s,this.C=this.C}F.prototype.s=!1,F.prototype.ma=function(){this.s||(this.s=!0,this.N())},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(p,R){this.type=p,this.g=this.target=R,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var J=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var p=!1,R=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const I=()=>{};a.addEventListener("test",I,R),a.removeEventListener("test",I,R)}catch{}return p}();function ae(p,R){if(B.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var I=this.type=p.type,M=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=R,R=p.relatedTarget){if(C){e:{try{Q(R.nodeName);var W=!0;break e}catch{}W=!1}W||(R=null)}}else I=="mouseover"?R=p.fromElement:I=="mouseout"&&(R=p.toElement);this.relatedTarget=R,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:oe[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&ae.aa.h.call(this)}}g(ae,B);var oe={2:"touch",3:"pen",4:"mouse"};ae.prototype.h=function(){ae.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var ie="closure_listenable_"+(1e6*Math.random()|0),ct=0;function ut(p,R,I,M,W){this.listener=p,this.proxy=null,this.src=R,this.type=I,this.capture=!!M,this.ha=W,this.key=++ct,this.da=this.fa=!1}function Ce(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Be(p){this.src=p,this.g={},this.h=0}Be.prototype.add=function(p,R,I,M,W){var H=p.toString();p=this.g[H],p||(p=this.g[H]=[],this.h++);var pe=Lt(p,R,M,W);return-1<pe?(R=p[pe],I||(R.fa=!1)):(R=new ut(R,this.src,H,!!M,W),R.fa=I,p.push(R)),R};function Ge(p,R){var I=R.type;if(I in p.g){var M=p.g[I],W=Array.prototype.indexOf.call(M,R,void 0),H;(H=0<=W)&&Array.prototype.splice.call(M,W,1),H&&(Ce(R),p.g[I].length==0&&(delete p.g[I],p.h--))}}function Lt(p,R,I,M){for(var W=0;W<p.length;++W){var H=p[W];if(!H.da&&H.listener==R&&H.capture==!!I&&H.ha==M)return W}return-1}var _n="closure_lm_"+(1e6*Math.random()|0),Js={};function sa(p,R,I,M,W){if(Array.isArray(R)){for(var H=0;H<R.length;H++)sa(p,R[H],I,M,W);return null}return I=He(I),p&&p[ie]?p.K(R,I,c(M)?!!M.capture:!!M,W):cl(p,R,I,!1,M,W)}function cl(p,R,I,M,W,H){if(!R)throw Error("Invalid event type");var pe=c(W)?!!W.capture:!!W,Pt=ue(p);if(Pt||(p[_n]=Pt=new Be(p)),I=Pt.add(R,I,M,pe,H),I.proxy)return I;if(M=z(),I.proxy=M,M.src=p,M.listener=I,p.addEventListener)J||(W=pe),W===void 0&&(W=!1),p.addEventListener(R.toString(),M,W);else if(p.attachEvent)p.attachEvent(ve(R.toString()),M);else if(p.addListener&&p.removeListener)p.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return I}function z(){function p(I){return R.call(p.src,p.listener,I)}const R=ge;return p}function G(p,R,I,M,W){if(Array.isArray(R))for(var H=0;H<R.length;H++)G(p,R[H],I,M,W);else M=c(M)?!!M.capture:!!M,I=He(I),p&&p[ie]?(p=p.i,R=String(R).toString(),R in p.g&&(H=p.g[R],I=Lt(H,I,M,W),-1<I&&(Ce(H[I]),Array.prototype.splice.call(H,I,1),H.length==0&&(delete p.g[R],p.h--)))):p&&(p=ue(p))&&(R=p.g[R.toString()],p=-1,R&&(p=Lt(R,I,M,W)),(I=-1<p?R[p]:null)&&ee(I))}function ee(p){if(typeof p!="number"&&p&&!p.da){var R=p.src;if(R&&R[ie])Ge(R.i,p);else{var I=p.type,M=p.proxy;R.removeEventListener?R.removeEventListener(I,M,p.capture):R.detachEvent?R.detachEvent(ve(I),M):R.addListener&&R.removeListener&&R.removeListener(M),(I=ue(R))?(Ge(I,p),I.h==0&&(I.src=null,R[_n]=null)):Ce(p)}}}function ve(p){return p in Js?Js[p]:Js[p]="on"+p}function ge(p,R){if(p.da)p=!0;else{R=new ae(R,this);var I=p.listener,M=p.ha||p.src;p.fa&&ee(p),p=I.call(M,R)}return p}function ue(p){return p=p[_n],p instanceof Be?p:null}var $e="__closure_events_fn_"+(1e9*Math.random()>>>0);function He(p){return typeof p=="function"?p:(p[$e]||(p[$e]=function(R){return p.handleEvent(R)}),p[$e])}function ht(){F.call(this),this.i=new Be(this),this.M=this,this.F=null}g(ht,F),ht.prototype[ie]=!0,ht.prototype.removeEventListener=function(p,R,I,M){G(this,p,R,I,M)};function mt(p,R){var I,M=p.F;if(M)for(I=[];M;M=M.F)I.push(M);if(p=p.M,M=R.type||R,typeof R=="string")R=new B(R,p);else if(R instanceof B)R.target=R.target||p;else{var W=R;R=new B(M,p),A(R,W)}if(W=!0,I)for(var H=I.length-1;0<=H;H--){var pe=R.g=I[H];W=Yi(pe,M,!0,R)&&W}if(pe=R.g=p,W=Yi(pe,M,!0,R)&&W,W=Yi(pe,M,!1,R)&&W,I)for(H=0;H<I.length;H++)pe=R.g=I[H],W=Yi(pe,M,!1,R)&&W}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var p=this.i,R;for(R in p.g){for(var I=p.g[R],M=0;M<I.length;M++)Ce(I[M]);delete p.g[R],p.h--}}this.F=null},ht.prototype.K=function(p,R,I,M){return this.i.add(String(p),R,!1,I,M)},ht.prototype.L=function(p,R,I,M){return this.i.add(String(p),R,!0,I,M)};function Yi(p,R,I,M){if(R=p.i.g[String(R)],!R)return!0;R=R.concat();for(var W=!0,H=0;H<R.length;++H){var pe=R[H];if(pe&&!pe.da&&pe.capture==I){var Pt=pe.listener,ir=pe.ha||pe.src;pe.fa&&Ge(p.i,pe),W=Pt.call(ir,M)!==!1&&W}}return W&&!M.defaultPrevented}function gy(p,R,I){if(typeof p=="function")I&&(p=f(p,I));else if(p&&typeof p.handleEvent=="function")p=f(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(R)?-1:a.setTimeout(p,R||0)}function fh(p){p.g=gy(()=>{p.g=null,p.i&&(p.i=!1,fh(p))},p.l);const R=p.h;p.h=null,p.m.apply(null,R)}class ip extends F{constructor(R,I){super(),this.m=R,this.l=I,this.h=null,this.i=!1,this.g=null}j(R){this.h=arguments,this.g?this.i=!0:fh(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yc(p){F.call(this),this.h=p,this.g={}}g(Yc,F);var sp=[];function Oy(p){N(p.g,function(R,I){this.g.hasOwnProperty(I)&&ee(R)},p),p.g={}}Yc.prototype.N=function(){Yc.aa.N.call(this),Oy(this)},Yc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ph=a.JSON.stringify,sH=a.JSON.parse,oH=class{stringify(p){return a.JSON.stringify(p,void 0)}parse(p){return a.JSON.parse(p,void 0)}};function JS(){}JS.prototype.h=null;function _I(p){return p.h||(p.h=p.i())}function TI(){}var op={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function e1(){B.call(this,"d")}g(e1,B);function t1(){B.call(this,"c")}g(t1,B);var Hc={},PI=null;function yy(){return PI=PI||new ht}Hc.La="serverreachability";function CI(p){B.call(this,Hc.La,p)}g(CI,B);function ap(p){const R=yy();mt(R,new CI(R))}Hc.STAT_EVENT="statevent";function EI(p,R){B.call(this,Hc.STAT_EVENT,p),this.stat=R}g(EI,B);function Dr(p){const R=yy();mt(R,new EI(R,p))}Hc.Ma="timingevent";function AI(p,R){B.call(this,Hc.Ma,p),this.size=R}g(AI,B);function lp(p,R){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){p()},R)}function cp(){this.g=!0}cp.prototype.xa=function(){this.g=!1};function aH(p,R,I,M,W,H){p.info(function(){if(p.g)if(H)for(var pe="",Pt=H.split("&"),ir=0;ir<Pt.length;ir++){var wt=Pt[ir].split("=");if(1<wt.length){var xr=wt[0];wt=wt[1];var wr=xr.split("_");pe=2<=wr.length&&wr[1]=="type"?pe+(xr+"="+wt+"&"):pe+(xr+"=redacted&")}}else pe=null;else pe=H;return"XMLHTTP REQ ("+M+") [attempt "+W+"]: "+R+`
`+I+`
`+pe})}function lH(p,R,I,M,W,H,pe){p.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+W+"]: "+R+`
`+I+`
`+H+" "+pe})}function mh(p,R,I,M){p.info(function(){return"XMLHTTP TEXT ("+R+"): "+uH(p,I)+(M?" "+M:"")})}function cH(p,R){p.info(function(){return"TIMEOUT: "+R})}cp.prototype.info=function(){};function uH(p,R){if(!p.g)return R;if(!R)return null;try{var I=JSON.parse(R);if(I){for(p=0;p<I.length;p++)if(Array.isArray(I[p])){var M=I[p];if(!(2>M.length)){var W=M[1];if(Array.isArray(W)&&!(1>W.length)){var H=W[0];if(H!="noop"&&H!="stop"&&H!="close")for(var pe=1;pe<W.length;pe++)W[pe]=""}}}}return ph(I)}catch{return R}}var vy={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},RI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},n1;function xy(){}g(xy,JS),xy.prototype.g=function(){return new XMLHttpRequest},xy.prototype.i=function(){return{}},n1=new xy;function ul(p,R,I,M){this.j=p,this.i=R,this.l=I,this.R=M||1,this.U=new Yc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new QI}function QI(){this.i=null,this.g="",this.h=!1}var NI={},r1={};function i1(p,R,I){p.L=1,p.v=ky(oa(R)),p.m=I,p.P=!0,II(p,null)}function II(p,R){p.F=Date.now(),wy(p),p.A=oa(p.v);var I=p.A,M=p.R;Array.isArray(M)||(M=[String(M)]),XI(I.i,"t",M),p.C=0,I=p.j.J,p.h=new QI,p.g=d$(p.j,I?R:null,!p.m),0<p.O&&(p.M=new ip(f(p.Y,p,p.g),p.O)),R=p.U,I=p.g,M=p.ca;var W="readystatechange";Array.isArray(W)||(W&&(sp[0]=W.toString()),W=sp);for(var H=0;H<W.length;H++){var pe=sa(I,W[H],M||R.handleEvent,!1,R.h||R);if(!pe)break;R.g[pe.key]=pe}R=p.H?T(p.H):{},p.m?(p.u||(p.u="POST"),R["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,R)):(p.u="GET",p.g.ea(p.A,p.u,null,R)),ap(),aH(p.i,p.u,p.A,p.l,p.R,p.m)}ul.prototype.ca=function(p){p=p.target;const R=this.M;R&&aa(p)==3?R.j():this.Y(p)},ul.prototype.Y=function(p){try{if(p==this.g)e:{const wr=aa(this.g);var R=this.g.Ba();const yh=this.g.Z();if(!(3>wr)&&(wr!=3||this.g&&(this.h.h||this.g.oa()||t$(this.g)))){this.J||wr!=4||R==7||(R==8||0>=yh?ap(3):ap(2)),s1(this);var I=this.g.Z();this.X=I;t:if($I(this)){var M=t$(this.g);p="";var W=M.length,H=aa(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kc(this),up(this);var pe="";break t}this.h.i=new a.TextDecoder}for(R=0;R<W;R++)this.h.h=!0,p+=this.h.i.decode(M[R],{stream:!(H&&R==W-1)});M.length=0,this.h.g+=p,this.C=0,pe=this.h.g}else pe=this.g.oa();if(this.o=I==200,lH(this.i,this.u,this.A,this.l,this.R,wr,I),this.o){if(this.T&&!this.K){t:{if(this.g){var Pt,ir=this.g;if((Pt=ir.g?ir.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(Pt)){var wt=Pt;break t}}wt=null}if(I=wt)mh(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,o1(this,I);else{this.o=!1,this.s=3,Dr(12),Kc(this),up(this);break e}}if(this.P){I=!0;let Os;for(;!this.J&&this.C<pe.length;)if(Os=hH(this,pe),Os==r1){wr==4&&(this.s=4,Dr(14),I=!1),mh(this.i,this.l,null,"[Incomplete Response]");break}else if(Os==NI){this.s=4,Dr(15),mh(this.i,this.l,pe,"[Invalid Chunk]"),I=!1;break}else mh(this.i,this.l,Os,null),o1(this,Os);if($I(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wr!=4||pe.length!=0||this.h.h||(this.s=1,Dr(16),I=!1),this.o=this.o&&I,!I)mh(this.i,this.l,pe,"[Invalid Chunked Response]"),Kc(this),up(this);else if(0<pe.length&&!this.W){this.W=!0;var xr=this.j;xr.g==this&&xr.ba&&!xr.M&&(xr.j.info("Great, no buffering proxy detected. Bytes received: "+pe.length),d1(xr),xr.M=!0,Dr(11))}}else mh(this.i,this.l,pe,null),o1(this,pe);wr==4&&Kc(this),this.o&&!this.J&&(wr==4?l$(this.j,this):(this.o=!1,wy(this)))}else CH(this.g),I==400&&0<pe.indexOf("Unknown SID")?(this.s=3,Dr(12)):(this.s=0,Dr(13)),Kc(this),up(this)}}}catch{}finally{}};function $I(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function hH(p,R){var I=p.C,M=R.indexOf(`
`,I);return M==-1?r1:(I=Number(R.substring(I,M)),isNaN(I)?NI:(M+=1,M+I>R.length?r1:(R=R.slice(M,M+I),p.C=M+I,R)))}ul.prototype.cancel=function(){this.J=!0,Kc(this)};function wy(p){p.S=Date.now()+p.I,jI(p,p.I)}function jI(p,R){if(p.B!=null)throw Error("WatchDog timer not null");p.B=lp(f(p.ba,p),R)}function s1(p){p.B&&(a.clearTimeout(p.B),p.B=null)}ul.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(cH(this.i,this.A),this.L!=2&&(ap(),Dr(17)),Kc(this),this.s=2,up(this)):jI(this,this.S-p)};function up(p){p.j.G==0||p.J||l$(p.j,p)}function Kc(p){s1(p);var R=p.M;R&&typeof R.ma=="function"&&R.ma(),p.M=null,Oy(p.U),p.g&&(R=p.g,p.g=null,R.abort(),R.ma())}function o1(p,R){try{var I=p.j;if(I.G!=0&&(I.g==p||a1(I.h,p))){if(!p.K&&a1(I.h,p)&&I.G==3){try{var M=I.Da.g.parse(R)}catch{M=null}if(Array.isArray(M)&&M.length==3){var W=M;if(W[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<p.F)Ay(I),Cy(I);else break e;h1(I),Dr(18)}}else I.za=W[1],0<I.za-I.T&&37500>W[2]&&I.F&&I.v==0&&!I.C&&(I.C=lp(f(I.Za,I),6e3));if(1>=VI(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else eu(I,11)}else if((p.K||I.g==p)&&Ay(I),!k(R))for(W=I.Da.g.parse(R),R=0;R<W.length;R++){let wt=W[R];if(I.T=wt[0],wt=wt[1],I.G==2)if(wt[0]=="c"){I.K=wt[1],I.ia=wt[2];const xr=wt[3];xr!=null&&(I.la=xr,I.j.info("VER="+I.la));const wr=wt[4];wr!=null&&(I.Aa=wr,I.j.info("SVER="+I.Aa));const yh=wt[5];yh!=null&&typeof yh=="number"&&0<yh&&(M=1.5*yh,I.L=M,I.j.info("backChannelRequestTimeoutMs_="+M)),M=I;const Os=p.g;if(Os){const Qy=Os.g?Os.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qy){var H=M.h;H.g||Qy.indexOf("spdy")==-1&&Qy.indexOf("quic")==-1&&Qy.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(l1(H,H.h),H.h=null))}if(M.D){const f1=Os.g?Os.g.getResponseHeader("X-HTTP-Session-Id"):null;f1&&(M.ya=f1,Ut(M.I,M.D,f1))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-p.F,I.j.info("Handshake RTT: "+I.R+"ms")),M=I;var pe=p;if(M.qa=h$(M,M.J?M.ia:null,M.W),pe.K){LI(M.h,pe);var Pt=pe,ir=M.L;ir&&(Pt.I=ir),Pt.B&&(s1(Pt),wy(Pt)),M.g=pe}else o$(M);0<I.i.length&&Ey(I)}else wt[0]!="stop"&&wt[0]!="close"||eu(I,7);else I.G==3&&(wt[0]=="stop"||wt[0]=="close"?wt[0]=="stop"?eu(I,7):u1(I):wt[0]!="noop"&&I.l&&I.l.ta(wt),I.v=0)}}ap(4)}catch{}}var dH=class{constructor(p,R){this.g=p,this.map=R}};function DI(p){this.l=p||10,a.PerformanceNavigationTiming?(p=a.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function MI(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function VI(p){return p.h?1:p.g?p.g.size:0}function a1(p,R){return p.h?p.h==R:p.g?p.g.has(R):!1}function l1(p,R){p.g?p.g.add(R):p.h=R}function LI(p,R){p.h&&p.h==R?p.h=null:p.g&&p.g.has(R)&&p.g.delete(R)}DI.prototype.cancel=function(){if(this.i=UI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function UI(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let R=p.i;for(const I of p.g.values())R=R.concat(I.D);return R}return y(p.i)}function fH(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(l(p)){for(var R=[],I=p.length,M=0;M<I;M++)R.push(p[M]);return R}R=[],I=0;for(M in p)R[I++]=p[M];return R}function pH(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(l(p)||typeof p=="string"){var R=[];p=p.length;for(var I=0;I<p;I++)R.push(I);return R}R=[],I=0;for(const M in p)R[I++]=M;return R}}}function zI(p,R){if(p.forEach&&typeof p.forEach=="function")p.forEach(R,void 0);else if(l(p)||typeof p=="string")Array.prototype.forEach.call(p,R,void 0);else for(var I=pH(p),M=fH(p),W=M.length,H=0;H<W;H++)R.call(void 0,M[H],I&&I[H],p)}var qI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mH(p,R){if(p){p=p.split("&");for(var I=0;I<p.length;I++){var M=p[I].indexOf("="),W=null;if(0<=M){var H=p[I].substring(0,M);W=p[I].substring(M+1)}else H=p[I];R(H,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Jc(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Jc){this.h=p.h,by(this,p.j),this.o=p.o,this.g=p.g,Sy(this,p.s),this.l=p.l;var R=p.i,I=new fp;I.i=R.i,R.g&&(I.g=new Map(R.g),I.h=R.h),FI(this,I),this.m=p.m}else p&&(R=String(p).match(qI))?(this.h=!1,by(this,R[1]||"",!0),this.o=hp(R[2]||""),this.g=hp(R[3]||"",!0),Sy(this,R[4]),this.l=hp(R[5]||"",!0),FI(this,R[6]||"",!0),this.m=hp(R[7]||"")):(this.h=!1,this.i=new fp(null,this.h))}Jc.prototype.toString=function(){var p=[],R=this.j;R&&p.push(dp(R,ZI,!0),":");var I=this.g;return(I||R=="file")&&(p.push("//"),(R=this.o)&&p.push(dp(R,ZI,!0),"@"),p.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&p.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&p.push("/"),p.push(dp(I,I.charAt(0)=="/"?yH:OH,!0))),(I=this.i.toString())&&p.push("?",I),(I=this.m)&&p.push("#",dp(I,xH)),p.join("")};function oa(p){return new Jc(p)}function by(p,R,I){p.j=I?hp(R,!0):R,p.j&&(p.j=p.j.replace(/:$/,""))}function Sy(p,R){if(R){if(R=Number(R),isNaN(R)||0>R)throw Error("Bad port number "+R);p.s=R}else p.s=null}function FI(p,R,I){R instanceof fp?(p.i=R,wH(p.i,p.h)):(I||(R=dp(R,vH)),p.i=new fp(R,p.h))}function Ut(p,R,I){p.i.set(R,I)}function ky(p){return Ut(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function hp(p,R){return p?R?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function dp(p,R,I){return typeof p=="string"?(p=encodeURI(p).replace(R,gH),I&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function gH(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var ZI=/[#\/\?@]/g,OH=/[#\?:]/g,yH=/[#\?]/g,vH=/[#\?@]/g,xH=/#/g;function fp(p,R){this.h=this.g=null,this.i=p||null,this.j=!!R}function hl(p){p.g||(p.g=new Map,p.h=0,p.i&&mH(p.i,function(R,I){p.add(decodeURIComponent(R.replace(/\+/g," ")),I)}))}n=fp.prototype,n.add=function(p,R){hl(this),this.i=null,p=gh(this,p);var I=this.g.get(p);return I||this.g.set(p,I=[]),I.push(R),this.h+=1,this};function BI(p,R){hl(p),R=gh(p,R),p.g.has(R)&&(p.i=null,p.h-=p.g.get(R).length,p.g.delete(R))}function WI(p,R){return hl(p),R=gh(p,R),p.g.has(R)}n.forEach=function(p,R){hl(this),this.g.forEach(function(I,M){I.forEach(function(W){p.call(R,W,M,this)},this)},this)},n.na=function(){hl(this);const p=Array.from(this.g.values()),R=Array.from(this.g.keys()),I=[];for(let M=0;M<R.length;M++){const W=p[M];for(let H=0;H<W.length;H++)I.push(R[M])}return I},n.V=function(p){hl(this);let R=[];if(typeof p=="string")WI(this,p)&&(R=R.concat(this.g.get(gh(this,p))));else{p=Array.from(this.g.values());for(let I=0;I<p.length;I++)R=R.concat(p[I])}return R},n.set=function(p,R){return hl(this),this.i=null,p=gh(this,p),WI(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[R]),this.h+=1,this},n.get=function(p,R){return p?(p=this.V(p),0<p.length?String(p[0]):R):R};function XI(p,R,I){BI(p,R),0<I.length&&(p.i=null,p.g.set(gh(p,R),y(I)),p.h+=I.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],R=Array.from(this.g.keys());for(var I=0;I<R.length;I++){var M=R[I];const H=encodeURIComponent(String(M)),pe=this.V(M);for(M=0;M<pe.length;M++){var W=H;pe[M]!==""&&(W+="="+encodeURIComponent(String(pe[M]))),p.push(W)}}return this.i=p.join("&")};function gh(p,R){return R=String(R),p.j&&(R=R.toLowerCase()),R}function wH(p,R){R&&!p.j&&(hl(p),p.i=null,p.g.forEach(function(I,M){var W=M.toLowerCase();M!=W&&(BI(this,M),XI(this,W,I))},p)),p.j=R}function bH(p,R){const I=new cp;if(a.Image){const M=new Image;M.onload=m(dl,I,"TestLoadImage: loaded",!0,R,M),M.onerror=m(dl,I,"TestLoadImage: error",!1,R,M),M.onabort=m(dl,I,"TestLoadImage: abort",!1,R,M),M.ontimeout=m(dl,I,"TestLoadImage: timeout",!1,R,M),a.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=p}else R(!1)}function SH(p,R){const I=new cp,M=new AbortController,W=setTimeout(()=>{M.abort(),dl(I,"TestPingServer: timeout",!1,R)},1e4);fetch(p,{signal:M.signal}).then(H=>{clearTimeout(W),H.ok?dl(I,"TestPingServer: ok",!0,R):dl(I,"TestPingServer: server error",!1,R)}).catch(()=>{clearTimeout(W),dl(I,"TestPingServer: error",!1,R)})}function dl(p,R,I,M,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),M(I)}catch{}}function kH(){this.g=new oH}function _H(p,R,I){const M=I||"";try{zI(p,function(W,H){let pe=W;c(W)&&(pe=ph(W)),R.push(M+H+"="+encodeURIComponent(pe))})}catch(W){throw R.push(M+"type="+encodeURIComponent("_badmap")),W}}function _y(p){this.l=p.Ub||null,this.j=p.eb||!1}g(_y,JS),_y.prototype.g=function(){return new Ty(this.l,this.j)},_y.prototype.i=function(p){return function(){return p}}({});function Ty(p,R){ht.call(this),this.D=p,this.o=R,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(Ty,ht),n=Ty.prototype,n.open=function(p,R){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=R,this.readyState=1,mp(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const R={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(R.body=p),(this.D||a).fetch(new Request(this.A,R)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pp(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,mp(this)),this.g&&(this.readyState=3,mp(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;GI(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function GI(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var R=p.value?p.value:new Uint8Array(0);(R=this.v.decode(R,{stream:!p.done}))&&(this.response=this.responseText+=R)}p.done?pp(this):mp(this),this.readyState==3&&GI(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,pp(this))},n.Qa=function(p){this.g&&(this.response=p,pp(this))},n.ga=function(){this.g&&pp(this)};function pp(p){p.readyState=4,p.l=null,p.j=null,p.v=null,mp(p)}n.setRequestHeader=function(p,R){this.u.append(p,R)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],R=this.h.entries();for(var I=R.next();!I.done;)I=I.value,p.push(I[0]+": "+I[1]),I=R.next();return p.join(`\r
`)};function mp(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Ty.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function YI(p){let R="";return N(p,function(I,M){R+=M,R+=":",R+=I,R+=`\r
`}),R}function c1(p,R,I){e:{for(M in I){var M=!1;break e}M=!0}M||(I=YI(I),typeof p=="string"?I!=null&&encodeURIComponent(String(I)):Ut(p,R,I))}function un(p){ht.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(un,ht);var TH=/^https?$/i,PH=["POST","PUT"];n=un.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,R,I,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);R=R?R.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():n1.g(),this.v=this.o?_I(this.o):_I(n1),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(R,String(p),!0),this.B=!1}catch(H){HI(this,H);return}if(p=I||"",I=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var W in M)I.set(W,M[W]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const H of M.keys())I.set(H,M.get(H));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(I.keys()).find(H=>H.toLowerCase()=="content-type"),W=a.FormData&&p instanceof a.FormData,!(0<=Array.prototype.indexOf.call(PH,R,void 0))||M||W||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,pe]of I)this.g.setRequestHeader(H,pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{e$(this),this.u=!0,this.g.send(p),this.u=!1}catch(H){HI(this,H)}};function HI(p,R){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=R,p.m=5,KI(p),Py(p)}function KI(p){p.A||(p.A=!0,mt(p,"complete"),mt(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,mt(this,"complete"),mt(this,"abort"),Py(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Py(this,!0)),un.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?JI(this):this.bb())},n.bb=function(){JI(this)};function JI(p){if(p.h&&typeof o<"u"&&(!p.v[1]||aa(p)!=4||p.Z()!=2)){if(p.u&&aa(p)==4)gy(p.Ea,0,p);else if(mt(p,"readystatechange"),aa(p)==4){p.h=!1;try{const pe=p.Z();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var R=!0;break e;default:R=!1}var I;if(!(I=R)){var M;if(M=pe===0){var W=String(p.D).match(qI)[1]||null;!W&&a.self&&a.self.location&&(W=a.self.location.protocol.slice(0,-1)),M=!TH.test(W?W.toLowerCase():"")}I=M}if(I)mt(p,"complete"),mt(p,"success");else{p.m=6;try{var H=2<aa(p)?p.g.statusText:""}catch{H=""}p.l=H+" ["+p.Z()+"]",KI(p)}}finally{Py(p)}}}}function Py(p,R){if(p.g){e$(p);const I=p.g,M=p.v[0]?()=>{}:null;p.g=null,p.v=null,R||mt(p,"ready");try{I.onreadystatechange=M}catch{}}}function e$(p){p.I&&(a.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function aa(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<aa(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var R=this.g.responseText;return p&&R.indexOf(p)==0&&(R=R.substring(p.length)),sH(R)}};function t$(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function CH(p){const R={};p=(p.g&&2<=aa(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<p.length;M++){if(k(p[M]))continue;var I=_(p[M]);const W=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const H=R[W]||[];R[W]=H,H.push(I)}O(R,function(M){return M.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function gp(p,R,I){return I&&I.internalChannelParams&&I.internalChannelParams[p]||R}function n$(p){this.Aa=0,this.i=[],this.j=new cp,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gp("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gp("baseRetryDelayMs",5e3,p),this.cb=gp("retryDelaySeedMs",1e4,p),this.Wa=gp("forwardChannelMaxRetries",2,p),this.wa=gp("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new DI(p&&p.concurrentRequestLimit),this.Da=new kH,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=n$.prototype,n.la=8,n.G=1,n.connect=function(p,R,I,M){Dr(0),this.W=p,this.H=R||{},I&&M!==void 0&&(this.H.OSID=I,this.H.OAID=M),this.F=this.X,this.I=h$(this,null,this.W),Ey(this)};function u1(p){if(r$(p),p.G==3){var R=p.U++,I=oa(p.I);if(Ut(I,"SID",p.K),Ut(I,"RID",R),Ut(I,"TYPE","terminate"),Op(p,I),R=new ul(p,p.j,R),R.L=2,R.v=ky(oa(I)),I=!1,a.navigator&&a.navigator.sendBeacon)try{I=a.navigator.sendBeacon(R.v.toString(),"")}catch{}!I&&a.Image&&(new Image().src=R.v,I=!0),I||(R.g=d$(R.j,null),R.g.ea(R.v)),R.F=Date.now(),wy(R)}u$(p)}function Cy(p){p.g&&(d1(p),p.g.cancel(),p.g=null)}function r$(p){Cy(p),p.u&&(a.clearTimeout(p.u),p.u=null),Ay(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&a.clearTimeout(p.s),p.s=null)}function Ey(p){if(!MI(p.h)&&!p.s){p.s=!0;var R=p.Ga;X||Y(),D||(X(),D=!0),L.add(R,p),p.B=0}}function EH(p,R){return VI(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=R.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=lp(f(p.Ga,p,R),c$(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const W=new ul(this,this.j,p);let H=this.o;if(this.S&&(H?(H=T(H),A(H,this.S)):H=this.S),this.m!==null||this.O||(W.H=H,H=null),this.P)e:{for(var R=0,I=0;I<this.i.length;I++){t:{var M=this.i[I];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(R+=M,4096<R){R=I;break e}if(R===4096||I===this.i.length-1){R=I+1;break e}}R=1e3}else R=1e3;R=s$(this,W,R),I=oa(this.I),Ut(I,"RID",p),Ut(I,"CVER",22),this.D&&Ut(I,"X-HTTP-Session-Id",this.D),Op(this,I),H&&(this.O?R="headers="+encodeURIComponent(String(YI(H)))+"&"+R:this.m&&c1(I,this.m,H)),l1(this.h,W),this.Ua&&Ut(I,"TYPE","init"),this.P?(Ut(I,"$req",R),Ut(I,"SID","null"),W.T=!0,i1(W,I,null)):i1(W,I,R),this.G=2}}else this.G==3&&(p?i$(this,p):this.i.length==0||MI(this.h)||i$(this))};function i$(p,R){var I;R?I=R.l:I=p.U++;const M=oa(p.I);Ut(M,"SID",p.K),Ut(M,"RID",I),Ut(M,"AID",p.T),Op(p,M),p.m&&p.o&&c1(M,p.m,p.o),I=new ul(p,p.j,I,p.B+1),p.m===null&&(I.H=p.o),R&&(p.i=R.D.concat(p.i)),R=s$(p,I,1e3),I.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),l1(p.h,I),i1(I,M,R)}function Op(p,R){p.H&&N(p.H,function(I,M){Ut(R,M,I)}),p.l&&zI({},function(I,M){Ut(R,M,I)})}function s$(p,R,I){I=Math.min(p.i.length,I);var M=p.l?f(p.l.Na,p.l,p):null;e:{var W=p.i;let H=-1;for(;;){const pe=["count="+I];H==-1?0<I?(H=W[0].g,pe.push("ofs="+H)):H=0:pe.push("ofs="+H);let Pt=!0;for(let ir=0;ir<I;ir++){let wt=W[ir].g;const xr=W[ir].map;if(wt-=H,0>wt)H=Math.max(0,W[ir].g-100),Pt=!1;else try{_H(xr,pe,"req"+wt+"_")}catch{M&&M(xr)}}if(Pt){M=pe.join("&");break e}}}return p=p.i.splice(0,I),R.D=p,M}function o$(p){if(!p.g&&!p.u){p.Y=1;var R=p.Fa;X||Y(),D||(X(),D=!0),L.add(R,p),p.v=0}}function h1(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=lp(f(p.Fa,p),c$(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,a$(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=lp(f(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Dr(10),Cy(this),a$(this))};function d1(p){p.A!=null&&(a.clearTimeout(p.A),p.A=null)}function a$(p){p.g=new ul(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var R=oa(p.qa);Ut(R,"RID","rpc"),Ut(R,"SID",p.K),Ut(R,"AID",p.T),Ut(R,"CI",p.F?"0":"1"),!p.F&&p.ja&&Ut(R,"TO",p.ja),Ut(R,"TYPE","xmlhttp"),Op(p,R),p.m&&p.o&&c1(R,p.m,p.o),p.L&&(p.g.I=p.L);var I=p.g;p=p.ia,I.L=1,I.v=ky(oa(R)),I.m=null,I.P=!0,II(I,p)}n.Za=function(){this.C!=null&&(this.C=null,Cy(this),h1(this),Dr(19))};function Ay(p){p.C!=null&&(a.clearTimeout(p.C),p.C=null)}function l$(p,R){var I=null;if(p.g==R){Ay(p),d1(p),p.g=null;var M=2}else if(a1(p.h,R))I=R.D,LI(p.h,R),M=1;else return;if(p.G!=0){if(R.o)if(M==1){I=R.m?R.m.length:0,R=Date.now()-R.F;var W=p.B;M=yy(),mt(M,new AI(M,I)),Ey(p)}else o$(p);else if(W=R.s,W==3||W==0&&0<R.X||!(M==1&&EH(p,R)||M==2&&h1(p)))switch(I&&0<I.length&&(R=p.h,R.i=R.i.concat(I)),W){case 1:eu(p,5);break;case 4:eu(p,10);break;case 3:eu(p,6);break;default:eu(p,2)}}}function c$(p,R){let I=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(I*=2),I*R}function eu(p,R){if(p.j.info("Error code "+R),R==2){var I=f(p.fb,p),M=p.Xa;const W=!M;M=new Jc(M||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||by(M,"https"),ky(M),W?bH(M.toString(),I):SH(M.toString(),I)}else Dr(2);p.G=0,p.l&&p.l.sa(R),u$(p),r$(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Dr(2)):(this.j.info("Failed to ping google.com"),Dr(1))};function u$(p){if(p.G=0,p.ka=[],p.l){const R=UI(p.h);(R.length!=0||p.i.length!=0)&&(x(p.ka,R),x(p.ka,p.i),p.h.i.length=0,y(p.i),p.i.length=0),p.l.ra()}}function h$(p,R,I){var M=I instanceof Jc?oa(I):new Jc(I);if(M.g!="")R&&(M.g=R+"."+M.g),Sy(M,M.s);else{var W=a.location;M=W.protocol,R=R?R+"."+W.hostname:W.hostname,W=+W.port;var H=new Jc(null);M&&by(H,M),R&&(H.g=R),W&&Sy(H,W),I&&(H.l=I),M=H}return I=p.D,R=p.ya,I&&R&&Ut(M,I,R),Ut(M,"VER",p.la),Op(p,M),M}function d$(p,R,I){if(R&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return R=p.Ca&&!p.pa?new un(new _y({eb:I})):new un(p.pa),R.Ha(p.J),R}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function f$(){}n=f$.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ry(){}Ry.prototype.g=function(p,R){return new Si(p,R)};function Si(p,R){ht.call(this),this.g=new n$(R),this.l=p,this.h=R&&R.messageUrlParams||null,p=R&&R.messageHeaders||null,R&&R.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=R&&R.initMessageHeaders||null,R&&R.messageContentType&&(p?p["X-WebChannel-Content-Type"]=R.messageContentType:p={"X-WebChannel-Content-Type":R.messageContentType}),R&&R.va&&(p?p["X-WebChannel-Client-Profile"]=R.va:p={"X-WebChannel-Client-Profile":R.va}),this.g.S=p,(p=R&&R.Sb)&&!k(p)&&(this.g.m=p),this.v=R&&R.supportsCrossDomainXhr||!1,this.u=R&&R.sendRawJson||!1,(R=R&&R.httpSessionIdParam)&&!k(R)&&(this.g.D=R,p=this.h,p!==null&&R in p&&(p=this.h,R in p&&delete p[R])),this.j=new Oh(this)}g(Si,ht),Si.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Si.prototype.close=function(){u1(this.g)},Si.prototype.o=function(p){var R=this.g;if(typeof p=="string"){var I={};I.__data__=p,p=I}else this.u&&(I={},I.__data__=ph(p),p=I);R.i.push(new dH(R.Ya++,p)),R.G==3&&Ey(R)},Si.prototype.N=function(){this.g.l=null,delete this.j,u1(this.g),delete this.g,Si.aa.N.call(this)};function p$(p){e1.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var R=p.__sm__;if(R){e:{for(const I in R){p=I;break e}p=void 0}(this.i=p)&&(p=this.i,R=R!==null&&p in R?R[p]:void 0),this.data=R}else this.data=p}g(p$,e1);function m$(){t1.call(this),this.status=1}g(m$,t1);function Oh(p){this.g=p}g(Oh,f$),Oh.prototype.ua=function(){mt(this.g,"a")},Oh.prototype.ta=function(p){mt(this.g,new p$(p))},Oh.prototype.sa=function(p){mt(this.g,new m$)},Oh.prototype.ra=function(){mt(this.g,"b")},Ry.prototype.createWebChannel=Ry.prototype.g,Si.prototype.send=Si.prototype.o,Si.prototype.open=Si.prototype.m,Si.prototype.close=Si.prototype.close,d3=function(){return new Ry},h3=function(){return yy()},u3=Hc,YT={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vy.NO_ERROR=0,vy.TIMEOUT=8,vy.HTTP_ERROR=6,sv=vy,RI.COMPLETE="complete",c3=RI,TI.EventType=op,op.OPEN="a",op.CLOSE="b",op.ERROR="c",op.MESSAGE="d",ht.prototype.listen=ht.prototype.K,Kp=TI,un.prototype.listenOnce=un.prototype.L,un.prototype.getLastError=un.prototype.Ka,un.prototype.getLastErrorCode=un.prototype.Ba,un.prototype.getStatus=un.prototype.Z,un.prototype.getResponseJson=un.prototype.Oa,un.prototype.getResponseText=un.prototype.oa,un.prototype.send=un.prototype.ea,un.prototype.setWithCredentials=un.prototype.Ha,l3=un}).apply(typeof Ky<"u"?Ky:typeof self<"u"?self:typeof window<"u"?window:{});const H2="@firebase/firestore",K2="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Tr.UNAUTHENTICATED=new Tr(null),Tr.GOOGLE_CREDENTIALS=new Tr("google-credentials-uid"),Tr.FIRST_PARTY=new Tr("first-party-uid"),Tr.MOCK_USER=new Tr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let If="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu=new rR("@firebase/firestore");function Eh(){return Uu.logLevel}function Te(n,...e){if(Uu.logLevel<=ot.DEBUG){const t=e.map(oR);Uu.debug(`Firestore (${If}): ${n}`,...t)}}function Fa(n,...e){if(Uu.logLevel<=ot.ERROR){const t=e.map(oR);Uu.error(`Firestore (${If}): ${n}`,...t)}}function Bd(n,...e){if(Uu.logLevel<=ot.WARN){const t=e.map(oR);Uu.warn(`Firestore (${If}): ${n}`,...t)}}function oR(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(n="Unexpected state"){const e=`FIRESTORE (${If}) INTERNAL ASSERTION FAILED: `+n;throw Fa(e),new Error(e)}function kt(n,e){n||Fe()}function Xe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Ko{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Zne{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Tr.UNAUTHENTICATED))}shutdown(){}}class Bne{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Wne{constructor(e){this.t=e,this.currentUser=Tr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){kt(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve();let s=new Ia;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ia,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ia)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(kt(typeof r.accessToken=="string"),new f3(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return kt(e===null||typeof e=="string"),new Tr(e)}}class Xne{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Tr.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Gne{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Xne(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Tr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class J2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Yne{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Qi(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){kt(this.o===void 0);const r=s=>{s.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new J2(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(kt(typeof t.token=="string"),this.R=t.token,new J2(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hne(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Hne(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}}function ft(n,e){return n<e?-1:n>e?1:0}function Wd(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ej=-62135596800,tj=1e6;class Zn{static now(){return Zn.fromMillis(Date.now())}static fromDate(e){return Zn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*tj);return new Zn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Se(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Se(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ej)throw new Se(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/tj}_compareTo(e){return this.seconds===e.seconds?ft(this.nanoseconds,e.nanoseconds):ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ej;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{static fromTimestamp(e){return new We(e)}static min(){return new We(new Zn(0,0))}static max(){return new We(new Zn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj="__name__";class oo{constructor(e,t,r){t===void 0?t=0:t>e.length&&Fe(),r===void 0?r=e.length-t:r>e.length-t&&Fe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return oo.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof oo?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=oo.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=oo.isNumericId(e),i=oo.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?oo.extractNumericId(e).compare(oo.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return sc.fromString(e.substring(4,e.length-2))}}class Bt extends oo{construct(e,t,r){return new Bt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Bt(t)}static emptyPath(){return new Bt([])}}const Kne=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pr extends oo{construct(e,t,r){return new pr(e,t,r)}static isValidIdentifier(e){return Kne.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nj}static keyField(){return new pr([nj])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Se(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Se(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Se(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Se(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pr(t)}static emptyPath(){return new pr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(Bt.fromString(e))}static fromName(e){return new De(Bt.fromString(e).popFirst(5))}static empty(){return new De(Bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Bt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new Bt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg=-1;function Jne(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=We.fromTimestamp(r===1e9?new Zn(t+1,0):new Zn(t,r));return new pc(i,De.empty(),e)}function ere(n){return new pc(n.readTime,n.key,dg)}class pc{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new pc(We.min(),De.empty(),dg)}static max(){return new pc(We.max(),De.empty(),dg)}}function tre(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=De.comparator(n.documentKey,e.documentKey),t!==0?t:ft(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nre="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rre{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $f(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==nre)throw n;Te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):se.reject(t)}static resolve(e){return new se((t,r)=>{t(e)})}static reject(e){return new se((t,r)=>{r(e)})}static waitFor(e){return new se((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},l=>r(l))}),o=!0,s===i&&t()})}static or(e){let t=se.resolve(!1);for(const r of e)t=t.next(i=>i?se.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new se((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;t(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,t){return new se((r,i)=>{const s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}}function ire(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function jf(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Cb.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=-1;function Eb(n){return n==null}function Nx(n){return n===0&&1/n==-1/0}function sre(n){return typeof n=="number"&&Number.isInteger(n)&&!Nx(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3="";function ore(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=rj(e)),e=are(n.get(t),e);return rj(e)}function are(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="";break;case m3:t+="";break;default:t+=s}}return t}function rj(n){return n+m3+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ij(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Vc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function g3(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,t){this.comparator=e,this.root=t||ar.EMPTY}insert(e,t){return new cn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ar.BLACK,null,null))}remove(e){return new cn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ar.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jy(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jy(this.root,e,this.comparator,!0)}}class Jy{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ar{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??ar.RED,this.left=i??ar.EMPTY,this.right=s??ar.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new ar(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ar.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return ar.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ar.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ar.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Fe();const e=this.left.check();if(e!==this.right.check())throw Fe();return e+(this.isRed()?0:1)}}ar.EMPTY=null,ar.RED=!0,ar.BLACK=!1;ar.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe()}get value(){throw Fe()}get color(){throw Fe()}get left(){throw Fe()}get right(){throw Fe()}copy(e,t,r,i,s){return this}insert(e,t,r){return new ar(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.comparator=e,this.data=new cn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new sj(this.data.getIterator())}getIteratorFrom(e){return new sj(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Bn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Bn(this.comparator);return t.data=e,t}}class sj{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e){this.fields=e,e.sort(pr.comparator)}static empty(){return new Ii([])}unionWith(e){let t=new Bn(pr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ii(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Wd(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new O3("Invalid base64 string: "+s):s}}(e);return new yr(t)}static fromUint8Array(e){const t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new yr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yr.EMPTY_BYTE_STRING=new yr("");const lre=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mc(n){if(kt(!!n),typeof n=="string"){let e=0;const t=lre.exec(n);if(kt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yn(n.seconds),nanos:yn(n.nanos)}}function yn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function gc(n){return typeof n=="string"?yr.fromBase64String(n):yr.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3="server_timestamp",v3="__type__",x3="__previous_value__",w3="__local_write_time__";function lR(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[v3])===null||t===void 0?void 0:t.stringValue)===y3}function Ab(n){const e=n.mapValue.fields[x3];return lR(e)?Ab(e):e}function fg(n){const e=mc(n.mapValue.fields[w3].timestampValue);return new Zn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cre{constructor(e,t,r,i,s,o,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}const Ix="(default)";class pg{constructor(e,t){this.projectId=e,this.database=t||Ix}static empty(){return new pg("","")}get isDefaultDatabase(){return this.database===Ix}isEqual(e){return e instanceof pg&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3="__type__",S3="__max__",e0={mapValue:{fields:{__type__:{stringValue:S3}}}},k3="__vector__",$x="value";function Oc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?lR(n)?4:hre(n)?9007199254740991:ure(n)?10:11:Fe()}function jo(n,e){if(n===e)return!0;const t=Oc(n);if(t!==Oc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return fg(n).isEqual(fg(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=mc(i.timestampValue),a=mc(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return gc(i.bytesValue).isEqual(gc(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return yn(i.geoPointValue.latitude)===yn(s.geoPointValue.latitude)&&yn(i.geoPointValue.longitude)===yn(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return yn(i.integerValue)===yn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=yn(i.doubleValue),a=yn(s.doubleValue);return o===a?Nx(o)===Nx(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return Wd(n.arrayValue.values||[],e.arrayValue.values||[],jo);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(ij(o)!==ij(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!jo(o[l],a[l])))return!1;return!0}(n,e);default:return Fe()}}function mg(n,e){return(n.values||[]).find(t=>jo(t,e))!==void 0}function Xd(n,e){if(n===e)return 0;const t=Oc(n),r=Oc(e);if(t!==r)return ft(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ft(n.booleanValue,e.booleanValue);case 2:return function(s,o){const a=yn(s.integerValue||s.doubleValue),l=yn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return oj(n.timestampValue,e.timestampValue);case 4:return oj(fg(n),fg(e));case 5:return ft(n.stringValue,e.stringValue);case 6:return function(s,o){const a=gc(s),l=gc(o);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=ft(a[c],l[c]);if(u!==0)return u}return ft(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ft(yn(s.latitude),yn(o.latitude));return a!==0?a:ft(yn(s.longitude),yn(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return aj(n.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,u;const d=s.fields||{},f=o.fields||{},m=(a=d[$x])===null||a===void 0?void 0:a.arrayValue,g=(l=f[$x])===null||l===void 0?void 0:l.arrayValue,y=ft(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0);return y!==0?y:aj(m,g)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===e0.mapValue&&o===e0.mapValue)return 0;if(s===e0.mapValue)return 1;if(o===e0.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const f=ft(l[d],u[d]);if(f!==0)return f;const m=Xd(a[l[d]],c[u[d]]);if(m!==0)return m}return ft(l.length,u.length)}(n.mapValue,e.mapValue);default:throw Fe()}}function oj(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ft(n,e);const t=mc(n),r=mc(e),i=ft(t.seconds,r.seconds);return i!==0?i:ft(t.nanos,r.nanos)}function aj(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=Xd(t[i],r[i]);if(s)return s}return ft(t.length,r.length)}function Gd(n){return HT(n)}function HT(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=mc(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return gc(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return De.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=HT(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${HT(t.fields[o])}`;return i+"}"}(n.mapValue):Fe()}function ov(n){switch(Oc(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ab(n);return e?16+ov(e):16;case 5:return 2*n.stringValue.length;case 6:return gc(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+ov(s),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Vc(r.fields,(s,o)=>{i+=s.length+ov(o)}),i}(n.mapValue);default:throw Fe()}}function lj(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function KT(n){return!!n&&"integerValue"in n}function cR(n){return!!n&&"arrayValue"in n}function cj(n){return!!n&&"nullValue"in n}function uj(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function av(n){return!!n&&"mapValue"in n}function ure(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[b3])===null||t===void 0?void 0:t.stringValue)===k3}function Rm(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Vc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Rm(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Rm(n.arrayValue.values[t]);return e}return Object.assign({},n)}function hre(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===S3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this.value=e}static empty(){return new fi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!av(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rm(t)}setAll(e){let t=pr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=Rm(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());av(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return jo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];av(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Vc(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new fi(Rm(this.value))}}function _3(n){const e=[];return Vc(n.fields,(t,r)=>{const i=new pr([t]);if(av(r)){const s=_3(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ii(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Er(e,0,We.min(),We.min(),We.min(),fi.empty(),0)}static newFoundDocument(e,t,r,i){return new Er(e,1,t,We.min(),r,i,0)}static newNoDocument(e,t){return new Er(e,2,t,We.min(),We.min(),fi.empty(),0)}static newUnknownDocument(e,t){return new Er(e,3,t,We.min(),We.min(),fi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(We.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=We.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Er&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Er(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e,t){this.position=e,this.inclusive=t}}function hj(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(s.field.isKeyField()?r=De.comparator(De.fromName(o.referenceValue),t.key):r=Xd(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function dj(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!jo(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,t="asc"){this.field=e,this.dir=t}}function dre(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{}class An extends T3{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new pre(e,t,r):t==="array-contains"?new Ore(e,r):t==="in"?new yre(e,r):t==="not-in"?new vre(e,r):t==="array-contains-any"?new xre(e,r):new An(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new mre(e,r):new gre(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Xd(t,this.value)):t!==null&&Oc(this.value)===Oc(t)&&this.matchesComparison(Xd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zs extends T3{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new zs(e,t)}matches(e){return P3(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function P3(n){return n.op==="and"}function C3(n){return fre(n)&&P3(n)}function fre(n){for(const e of n.filters)if(e instanceof zs)return!1;return!0}function JT(n){if(n instanceof An)return n.field.canonicalString()+n.op.toString()+Gd(n.value);if(C3(n))return n.filters.map(e=>JT(e)).join(",");{const e=n.filters.map(t=>JT(t)).join(",");return`${n.op}(${e})`}}function E3(n,e){return n instanceof An?function(r,i){return i instanceof An&&r.op===i.op&&r.field.isEqual(i.field)&&jo(r.value,i.value)}(n,e):n instanceof zs?function(r,i){return i instanceof zs&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&E3(o,i.filters[a]),!0):!1}(n,e):void Fe()}function A3(n){return n instanceof An?function(t){return`${t.field.canonicalString()} ${t.op} ${Gd(t.value)}`}(n):n instanceof zs?function(t){return t.op.toString()+" {"+t.getFilters().map(A3).join(" ,")+"}"}(n):"Filter"}class pre extends An{constructor(e,t,r){super(e,t,r),this.key=De.fromName(r.referenceValue)}matches(e){const t=De.comparator(e.key,this.key);return this.matchesComparison(t)}}class mre extends An{constructor(e,t){super(e,"in",t),this.keys=R3("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class gre extends An{constructor(e,t){super(e,"not-in",t),this.keys=R3("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function R3(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>De.fromName(r.referenceValue))}class Ore extends An{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return cR(t)&&mg(t.arrayValue,this.value)}}class yre extends An{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&mg(this.value.arrayValue,t)}}class vre extends An{constructor(e,t){super(e,"not-in",t)}matches(e){if(mg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!mg(this.value.arrayValue,t)}}class xre extends An{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!cR(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>mg(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wre{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.le=null}}function fj(n,e=null,t=[],r=[],i=null,s=null,o=null){return new wre(n,e,t,r,i,s,o)}function uR(n){const e=Xe(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>JT(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Eb(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Gd(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Gd(r)).join(",")),e.le=t}return e.le}function hR(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!dre(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!E3(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!dj(n.startAt,e.startAt)&&dj(n.endAt,e.endAt)}function eP(n){return De.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function bre(n,e,t,r,i,s,o,a){return new Df(n,e,t,r,i,s,o,a)}function dR(n){return new Df(n)}function pj(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Q3(n){return n.collectionGroup!==null}function Qm(n){const e=Xe(n);if(e.he===null){e.he=[];const t=new Set;for(const s of e.explicitOrderBy)e.he.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Bn(pr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.he.push(new gg(s,r))}),t.has(pr.keyField().canonicalString())||e.he.push(new gg(pr.keyField(),r))}return e.he}function _o(n){const e=Xe(n);return e.Pe||(e.Pe=Sre(e,Qm(n))),e.Pe}function Sre(n,e){if(n.limitType==="F")return fj(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new gg(i.field,s)});const t=n.endAt?new jx(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new jx(n.startAt.position,n.startAt.inclusive):null;return fj(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function tP(n,e){const t=n.filters.concat([e]);return new Df(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Dx(n,e,t){return new Df(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Rb(n,e){return hR(_o(n),_o(e))&&n.limitType===e.limitType}function N3(n){return`${uR(_o(n))}|lt:${n.limitType}`}function Ah(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>A3(i)).join(", ")}]`),Eb(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Gd(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Gd(i)).join(",")),`Target(${r})`}(_o(n))}; limitType=${n.limitType})`}function Qb(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):De.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of Qm(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=hj(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Qm(r),i)||r.endAt&&!function(o,a,l){const c=hj(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Qm(r),i))}(n,e)}function kre(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function I3(n){return(e,t)=>{let r=!1;for(const i of Qm(n)){const s=_re(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function _re(n,e,t){const r=n.field.isKeyField()?De.comparator(e.key,t.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Xd(l,c):Fe()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Vc(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return g3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tre=new cn(De.comparator);function Za(){return Tre}const $3=new cn(De.comparator);function Jp(...n){let e=$3;for(const t of n)e=e.insert(t.key,t);return e}function j3(n){let e=$3;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function du(){return Nm()}function D3(){return Nm()}function Nm(){return new lh(n=>n.toString(),(n,e)=>n.isEqual(e))}const Pre=new cn(De.comparator),Cre=new Bn(De.comparator);function at(...n){let e=Cre;for(const t of n)e=e.add(t);return e}const Ere=new Bn(ft);function Are(){return Ere}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nx(e)?"-0":e}}function M3(n){return{integerValue:""+n}}function Rre(n,e){return sre(e)?M3(e):fR(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(){this._=void 0}}function Qre(n,e,t){return n instanceof Og?function(i,s){const o={fields:{[v3]:{stringValue:y3},[w3]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&lR(s)&&(s=Ab(s)),s&&(o.fields[x3]=s),{mapValue:o}}(t,e):n instanceof yg?L3(n,e):n instanceof vg?U3(n,e):function(i,s){const o=V3(i,s),a=mj(o)+mj(i.Ie);return KT(o)&&KT(i.Ie)?M3(a):fR(i.serializer,a)}(n,e)}function Nre(n,e,t){return n instanceof yg?L3(n,e):n instanceof vg?U3(n,e):t}function V3(n,e){return n instanceof Mx?function(r){return KT(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Og extends Nb{}class yg extends Nb{constructor(e){super(),this.elements=e}}function L3(n,e){const t=z3(e);for(const r of n.elements)t.some(i=>jo(i,r))||t.push(r);return{arrayValue:{values:t}}}class vg extends Nb{constructor(e){super(),this.elements=e}}function U3(n,e){let t=z3(e);for(const r of n.elements)t=t.filter(i=>!jo(i,r));return{arrayValue:{values:t}}}class Mx extends Nb{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function mj(n){return yn(n.integerValue||n.doubleValue)}function z3(n){return cR(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ire{constructor(e,t){this.field=e,this.transform=t}}function $re(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof yg&&i instanceof yg||r instanceof vg&&i instanceof vg?Wd(r.elements,i.elements,jo):r instanceof Mx&&i instanceof Mx?jo(r.Ie,i.Ie):r instanceof Og&&i instanceof Og}(n.transform,e.transform)}class jre{constructor(e,t){this.version=e,this.transformResults=t}}class Br{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Br}static exists(e){return new Br(void 0,e)}static updateTime(e){return new Br(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lv(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Ib{}function q3(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new $b(n.key,Br.none()):new MO(n.key,n.data,Br.none());{const t=n.data,r=fi.empty();let i=new Bn(pr.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Lc(n.key,r,new Ii(i.toArray()),Br.none())}}function Dre(n,e,t){n instanceof MO?function(i,s,o){const a=i.value.clone(),l=Oj(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Lc?function(i,s,o){if(!lv(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Oj(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(F3(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function Im(n,e,t,r){return n instanceof MO?function(s,o,a,l){if(!lv(s.precondition,o))return a;const c=s.value.clone(),u=yj(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof Lc?function(s,o,a,l){if(!lv(s.precondition,o))return a;const c=yj(s.fieldTransforms,l,o),u=o.data;return u.setAll(F3(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(n,e,t,r):function(s,o,a){return lv(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function Mre(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=V3(r.transform,i||null);s!=null&&(t===null&&(t=fi.empty()),t.set(r.field,s))}return t||null}function gj(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Wd(r,i,(s,o)=>$re(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class MO extends Ib{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Lc extends Ib{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function F3(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Oj(n,e,t){const r=new Map;kt(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Nre(o,a,t[i]))}return r}function yj(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,Qre(s,o,e))}return r}class $b extends Ib{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vre extends Ib{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lre{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Dre(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Im(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Im(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=D3();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const l=q3(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(We.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),at())}isEqual(e){return this.batchId===e.batchId&&Wd(this.mutations,e.mutations,(t,r)=>gj(t,r))&&Wd(this.baseMutations,e.baseMutations,(t,r)=>gj(t,r))}}class pR{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){kt(e.mutations.length===r.length);let i=function(){return Pre}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new pR(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ure=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zre{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pn,gt;function qre(n){switch(n){case ne.OK:return Fe();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Fe()}}function Z3(n){if(n===void 0)return Fa("GRPC error has no .code"),ne.UNKNOWN;switch(n){case Pn.OK:return ne.OK;case Pn.CANCELLED:return ne.CANCELLED;case Pn.UNKNOWN:return ne.UNKNOWN;case Pn.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Pn.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Pn.INTERNAL:return ne.INTERNAL;case Pn.UNAVAILABLE:return ne.UNAVAILABLE;case Pn.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Pn.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Pn.NOT_FOUND:return ne.NOT_FOUND;case Pn.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Pn.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Pn.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Pn.ABORTED:return ne.ABORTED;case Pn.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Pn.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Pn.DATA_LOSS:return ne.DATA_LOSS;default:return Fe()}}(gt=Pn||(Pn={}))[gt.OK=0]="OK",gt[gt.CANCELLED=1]="CANCELLED",gt[gt.UNKNOWN=2]="UNKNOWN",gt[gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gt[gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gt[gt.NOT_FOUND=5]="NOT_FOUND",gt[gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",gt[gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",gt[gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",gt[gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gt[gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gt[gt.ABORTED=10]="ABORTED",gt[gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",gt[gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",gt[gt.INTERNAL=13]="INTERNAL",gt[gt.UNAVAILABLE=14]="UNAVAILABLE",gt[gt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fre(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zre=new sc([4294967295,4294967295],0);function vj(n){const e=Fre().encode(n),t=new a3;return t.update(e),new Uint8Array(t.digest())}function xj(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new sc([t,r],0),new sc([i,s],0)]}class mR{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new em(`Invalid padding: ${t}`);if(r<0)throw new em(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new em(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new em(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=sc.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(sc.fromNumber(r)));return i.compare(Zre)===1&&(i=new sc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=vj(e),[r,i]=xj(t);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);if(!this.Re(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new mR(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;const t=vj(e),[r,i]=xj(t);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);this.Ve(o)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class em extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,VO.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new jb(We.min(),i,new cn(ft),Za(),at())}}class VO{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new VO(r,t,at(),at(),at())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}}class B3{constructor(e,t){this.targetId=e,this.ge=t}}class W3{constructor(e,t,r=yr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class wj{constructor(){this.pe=0,this.ye=bj(),this.we=yr.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=at(),t=at(),r=at();return this.ye.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Fe()}}),new VO(this.we,this.be,e,t,r)}Me(){this.Se=!1,this.ye=bj()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,kt(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class Bre{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Za(),this.$e=t0(),this.Ke=t0(),this.Ue=new cn(ft)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Fe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){const t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){const s=i.target;if(eP(s))if(r===0){const o=new De(s.path);this.ze(t,o,Er.newNoDocument(o,We.min()))}else kt(r===1);else{const o=this.et(t);if(o!==r){const a=this.tt(e),l=a?this.nt(a,e,o):1;if(l!==0){this.Ye(t);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,c)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let o,a;try{o=gc(r).toUint8Array()}catch(l){if(l instanceof O3)return Bd("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new mR(o,i,s)}catch(l){return Bd(l instanceof em?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const o=this.ke.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.ze(t,s,null),i++)}),i}ot(e){const t=new Map;this.qe.forEach((s,o)=>{const a=this.Xe(o);if(a){if(s.current&&eP(a.target)){const l=new De(a.target.path);this._t(l).has(o)||this.ut(o,l)||this.ze(o,l,Er.newNoDocument(l,e))}s.ve&&(t.set(o,s.Fe()),s.Me())}});let r=at();this.Ke.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Xe(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(e));const i=new jb(e,t,this.Ue,this.Qe,r);return this.Qe=Za(),this.$e=t0(),this.Ke=t0(),this.Ue=new cn(ft),i}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new wj,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Bn(ft),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Bn(ft),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||Te("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new wj),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function t0(){return new cn(De.comparator)}function bj(){return new cn(De.comparator)}const Wre={asc:"ASCENDING",desc:"DESCENDING"},Xre={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gre={and:"AND",or:"OR"};class Yre{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function nP(n,e){return n.useProto3Json||Eb(e)?e:{value:e}}function Vx(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function X3(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Hre(n,e){return Vx(n,e.toTimestamp())}function To(n){return kt(!!n),We.fromTimestamp(function(t){const r=mc(t);return new Zn(r.seconds,r.nanos)}(n))}function gR(n,e){return rP(n,e).canonicalString()}function rP(n,e){const t=function(i){return new Bt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function G3(n){const e=Bt.fromString(n);return kt(eq(e)),e}function iP(n,e){return gR(n.databaseId,e.path)}function G1(n,e){const t=G3(e);if(t.get(1)!==n.databaseId.projectId)throw new Se(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Se(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new De(H3(t))}function Y3(n,e){return gR(n.databaseId,e)}function Kre(n){const e=G3(n);return e.length===4?Bt.emptyPath():H3(e)}function sP(n){return new Bt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function H3(n){return kt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Sj(n,e,t){return{name:iP(n,e),fields:t.value.mapValue.fields}}function Jre(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Fe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(kt(u===void 0||typeof u=="string"),yr.fromBase64String(u||"")):(kt(u===void 0||u instanceof Buffer||u instanceof Uint8Array),yr.fromUint8Array(u||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?ne.UNKNOWN:Z3(c.code);return new Se(u,c.message||"")}(o);t=new W3(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=G1(n,r.document.name),s=To(r.document.updateTime),o=r.document.createTime?To(r.document.createTime):We.min(),a=new fi({mapValue:{fields:r.document.fields}}),l=Er.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];t=new cv(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=G1(n,r.document),s=r.readTime?To(r.readTime):We.min(),o=Er.newNoDocument(i,s),a=r.removedTargetIds||[];t=new cv([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=G1(n,r.document),s=r.removedTargetIds||[];t=new cv([],s,i,null)}else{if(!("filter"in e))return Fe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new zre(i,s),a=r.targetId;t=new B3(a,o)}}return t}function eie(n,e){let t;if(e instanceof MO)t={update:Sj(n,e.key,e.value)};else if(e instanceof $b)t={delete:iP(n,e.key)};else if(e instanceof Lc)t={update:Sj(n,e.key,e.data),updateMask:cie(e.fieldMask)};else{if(!(e instanceof Vre))return Fe();t={verify:iP(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Og)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof yg)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof vg)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Mx)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Fe()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Hre(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Fe()}(n,e.precondition)),t}function tie(n,e){return n&&n.length>0?(kt(e!==void 0),n.map(t=>function(i,s){let o=i.updateTime?To(i.updateTime):To(s);return o.isEqual(We.min())&&(o=To(s)),new jre(o,i.transformResults||[])}(t,e))):[]}function nie(n,e){return{documents:[Y3(n,e.path)]}}function rie(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Y3(n,i);const s=function(c){if(c.length!==0)return J3(zs.create(c,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(u=>function(f){return{field:Rh(f.field),direction:oie(f.dir)}}(u))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const a=nP(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ht:t,parent:i}}function iie(n){let e=Kre(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){kt(r===1);const u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];t.where&&(s=function(d){const f=K3(d);return f instanceof zs&&C3(f)?f.getFilters():[f]}(t.where));let o=[];t.orderBy&&(o=function(d){return d.map(f=>function(g){return new gg(Qh(g.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(t.orderBy));let a=null;t.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,Eb(f)?null:f}(t.limit));let l=null;t.startAt&&(l=function(d){const f=!!d.before,m=d.values||[];return new jx(m,f)}(t.startAt));let c=null;return t.endAt&&(c=function(d){const f=!d.before,m=d.values||[];return new jx(m,f)}(t.endAt)),bre(e,i,o,s,a,"F",l,c)}function sie(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function K3(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Qh(t.unaryFilter.field);return An.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Qh(t.unaryFilter.field);return An.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Qh(t.unaryFilter.field);return An.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Qh(t.unaryFilter.field);return An.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Fe()}}(n):n.fieldFilter!==void 0?function(t){return An.create(Qh(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Fe()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return zs.create(t.compositeFilter.filters.map(r=>K3(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Fe()}}(t.compositeFilter.op))}(n):Fe()}function oie(n){return Wre[n]}function aie(n){return Xre[n]}function lie(n){return Gre[n]}function Rh(n){return{fieldPath:n.canonicalString()}}function Qh(n){return pr.fromServerFormat(n.fieldPath)}function J3(n){return n instanceof An?function(t){if(t.op==="=="){if(uj(t.value))return{unaryFilter:{field:Rh(t.field),op:"IS_NAN"}};if(cj(t.value))return{unaryFilter:{field:Rh(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(uj(t.value))return{unaryFilter:{field:Rh(t.field),op:"IS_NOT_NAN"}};if(cj(t.value))return{unaryFilter:{field:Rh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rh(t.field),op:aie(t.op),value:t.value}}}(n):n instanceof zs?function(t){const r=t.getFilters().map(i=>J3(i));return r.length===1?r[0]:{compositeFilter:{op:lie(t.op),filters:r}}}(n):Fe()}function cie(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function eq(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,t,r,i,s=We.min(),o=We.min(),a=yr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Fl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Fl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uie{constructor(e){this.Tt=e}}function hie(n){const e=iie({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Dx(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class die{constructor(){this.Tn=new fie}addToCollectionParentIndex(e,t){return this.Tn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(pc.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(pc.min())}updateCollectionGroup(e,t,r){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class fie{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Bn(Bt.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Bn(Bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tq=41943040;class li{static withCacheSize(e){return new li(e,li.DEFAULT_COLLECTION_PERCENTILE,li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */li.DEFAULT_COLLECTION_PERCENTILE=10,li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,li.DEFAULT=new li(tq,li.DEFAULT_COLLECTION_PERCENTILE,li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),li.DISABLED=new li(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Yd(0)}static Un(){return new Yd(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j="LruGarbageCollector",pie=1048576;function Tj([n,e],[t,r]){const i=ft(n,t);return i===0?ft(e,r):i}class mie{constructor(e){this.Hn=e,this.buffer=new Bn(Tj),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Tj(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class gie{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Te(_j,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){jf(t)?Te(_j,"Ignoring IndexedDB error during garbage collection: ",t):await $f(t)}await this.er(3e5)})}}class Oie{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return se.resolve(Cb.ae);const r=new mie(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(kj)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kj):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,s,o,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,t))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),Eh()<=ot.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function yie(n,e){return new Oie(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vie{constructor(){this.changes=new lh(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Er.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?se.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xie{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wie{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Im(r.mutation,i,Ii.empty(),Zn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,at()).next(()=>r))}getLocalViewOfDocuments(e,t,r=at()){const i=du();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Jp();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=du();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,at()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Za();const o=Nm(),a=function(){return Nm()}();return t.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Lc)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Im(u.mutation,c,u.mutation.getFieldMask(),Zn.now())):o.set(c.key,Ii.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),t.forEach((c,u)=>{var d;return a.set(c,new xie(u,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Nm();let i=new cn((o,a)=>o-a),s=at();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=t.get(l);if(c===null)return;let u=r.get(l)||Ii.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||at()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=D3();u.forEach(f=>{if(!s.has(f)){const m=q3(t.get(f),r.get(f));m!==null&&d.set(f,m),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return se.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(o){return De.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Q3(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):se.resolve(du());let a=dg,l=s;return o.next(c=>se.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?se.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,at())).next(u=>({batchId:a,changes:j3(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new De(t)).next(r=>{let i=Jp();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let o=Jp();return this.indexManager.getCollectionParents(e,s).next(a=>se.forEach(a,l=>{const c=function(d,f){return new Df(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(t,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Er.newInvalidDocument(u)))});let a=Jp();return o.forEach((l,c)=>{const u=s.get(l);u!==void 0&&Im(u.mutation,c,Ii.empty(),Zn.now()),Qb(t,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bie{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return se.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:To(i.createTime)}}(t)),se.resolve()}getNamedQuery(e,t){return se.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:hie(i.bundledQuery),readTime:To(i.readTime)}}(t)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sie{constructor(){this.overlays=new cn(De.comparator),this.Rr=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const r=du();return se.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.Et(e,t,s)}),se.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(r)),se.resolve()}getOverlaysForCollection(e,t,r){const i=du(),s=t.length+1,o=new De(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return se.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new cn((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=du(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=du(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return se.resolve(a)}Et(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Ure(t,r));let s=this.Rr.get(t);s===void 0&&(s=at(),this.Rr.set(t,s)),this.Rr.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kie{constructor(){this.sessionToken=yr.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(){this.Vr=new Bn(Gn.mr),this.gr=new Bn(Gn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new Gn(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Gn(e,t))}br(e,t){e.forEach(r=>this.removeReference(r,t))}Sr(e){const t=new De(new Bt([])),r=new Gn(t,e),i=new Gn(t,e+1),s=[];return this.gr.forEachInRange([r,i],o=>{this.wr(o),s.push(o.key)}),s}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new De(new Bt([])),r=new Gn(t,e),i=new Gn(t,e+1);let s=at();return this.gr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Gn(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Gn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return De.comparator(e.key,t.key)||ft(e.Cr,t.Cr)}static pr(e,t){return ft(e.Cr,t.Cr)||De.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ie{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Bn(Gn.mr)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Lre(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.Mr=this.Mr.add(new Gn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return se.resolve(o)}lookupMutationBatch(e,t){return se.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Nr(r),s=i<0?0:i;return se.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?aR:this.Fr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Gn(t,0),i=new Gn(t,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([r,i],o=>{const a=this.Or(o.Cr);s.push(a)}),se.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Bn(ft);return t.forEach(i=>{const s=new Gn(i,0),o=new Gn(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,o],a=>{r=r.add(a.Cr)})}),se.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;De.isDocumentKey(s)||(s=s.child(""));const o=new Gn(new De(s),0);let a=new Bn(ft);return this.Mr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Cr)),!0)},o),se.resolve(this.Br(a))}Br(e){const t=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){kt(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return se.forEach(t.mutations,i=>{const s=new Gn(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new Gn(t,0),i=this.Mr.firstAfterOrEqual(r);return se.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tie{constructor(e){this.kr=e,this.docs=function(){return new cn(De.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return se.resolve(r?r.document.mutableCopy():Er.newInvalidDocument(t))}getEntries(e,t){let r=Za();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Er.newInvalidDocument(i))}),se.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Za();const o=t.path,a=new De(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||tre(ere(u),r)<=0||(i.has(u.key)||Qb(t,u))&&(s=s.insert(u.key,u.mutableCopy()))}return se.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Fe()}qr(e,t){return se.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Pie(this)}getSize(e){return se.resolve(this.size)}}class Pie extends vie{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),se.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cie{constructor(e){this.persistence=e,this.Qr=new lh(t=>uR(t),hR),this.lastRemoteSnapshotVersion=We.min(),this.highestTargetId=0,this.$r=0,this.Kr=new OR,this.targetCount=0,this.Ur=Yd.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),se.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Yd(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.zn(t),se.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Qr.forEach((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Qr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),se.waitFor(s).next(()=>i)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return se.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),se.resolve()}removeMatchingKeys(e,t,r){this.Kr.br(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),se.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),se.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return se.resolve(r)}containsKey(e,t){return se.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nq{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Cb(0),this.zr=!1,this.zr=!0,this.jr=new kie,this.referenceDelegate=e(this),this.Hr=new Cie(this),this.indexManager=new die,this.remoteDocumentCache=function(i){return new Tie(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new uie(t),this.Yr=new bie(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Sie,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new _ie(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){Te("MemoryPersistence","Starting transaction:",e);const i=new Eie(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(s=>this.referenceDelegate.Xr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}ei(e,t){return se.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class Eie extends rre{constructor(e){super(),this.currentSequenceNumber=e}}class yR{constructor(e){this.persistence=e,this.ti=new OR,this.ni=null}static ri(e){return new yR(e)}get ii(){if(this.ni)return this.ni;throw Fe()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),se.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),se.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.ii.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.ii,r=>{const i=De.fromPath(r);return this.si(e,i).next(s=>{s||t.removeEntry(i,We.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return se.or([()=>se.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Lx{constructor(e,t){this.persistence=e,this.oi=new lh(r=>ore(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=yie(this,t)}static ri(e,t){return new Lx(e,t)}Zr(){}Xr(e){return se.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return se.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(s=>s?se.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.qr(e,o=>this.ar(e,o,t).next(a=>{a||(r++,s.removeEntry(o,We.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),se.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),se.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),se.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ov(e.data.value)),t}ar(e,t,r){return se.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.oi.get(t);return se.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=at(),i=at();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new vR(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aie{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rie{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Pte()?8:ire(Nr())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.rs(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ss(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Aie;return this._s(e,t,o).next(a=>{if(s.result=a,this.Xi)return this.us(e,t,o,a.size)})}).next(()=>s.result)}us(e,t,r,i){return r.documentReadCount<this.es?(Eh()<=ot.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",Ah(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),se.resolve()):(Eh()<=ot.DEBUG&&Te("QueryEngine","Query:",Ah(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(Eh()<=ot.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",Ah(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_o(t))):se.resolve())}rs(e,t){if(pj(t))return se.resolve(null);let r=_o(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Dx(t,null,"F"),r=_o(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=at(...s);return this.ns.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.cs(t,a);return this.ls(t,c,o,l.readTime)?this.rs(e,Dx(t,null,"F")):this.hs(e,c,t,l)}))})))}ss(e,t,r,i){return pj(t)||i.isEqual(We.min())?se.resolve(null):this.ns.getDocuments(e,r).next(s=>{const o=this.cs(t,s);return this.ls(t,o,r,i)?se.resolve(null):(Eh()<=ot.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ah(t)),this.hs(e,o,t,Jne(i,dg)).next(a=>a))})}cs(e,t){let r=new Bn(I3(e));return t.forEach((i,s)=>{Qb(e,s)&&(r=r.add(s))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}_s(e,t,r){return Eh()<=ot.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",Ah(t)),this.ns.getDocumentsMatchingQuery(e,t,pc.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR="LocalStore",Qie=3e8;class Nie{constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new cn(ft),this.Is=new lh(s=>uR(s),hR),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wie(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function Iie(n,e,t,r){return new Nie(n,e,t,r)}async function rq(n,e){const t=Xe(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=at();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(r,l).next(c=>({Rs:c,removedBatchIds:o,addedBatchIds:a}))})})}function $ie(n,e){const t=Xe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.ds.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,f=d.keys();let m=se.resolve();return f.forEach(g=>{m=m.next(()=>u.getEntry(l,g)).next(y=>{const x=c.docVersions.get(g);kt(x!==null),y.version.compareTo(x)<0&&(d.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),u.addEntry(y)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=at();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function iq(n){const e=Xe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function jie(n,e){const t=Xe(n),r=e.snapshotVersion;let i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;const a=[];e.targetChanges.forEach((u,d)=>{const f=i.get(d);if(!f)return;a.push(t.Hr.removeMatchingKeys(s,u.removedDocuments,d).next(()=>t.Hr.addMatchingKeys(s,u.addedDocuments,d)));let m=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?m=m.withResumeToken(yr.EMPTY_BYTE_STRING,We.min()).withLastLimboFreeSnapshotVersion(We.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,r)),i=i.insert(d,m),function(y,x,w){return y.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=Qie?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(f,m,u)&&a.push(t.Hr.updateTargetData(s,m))});let l=Za(),c=at();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(Die(s,o,e.documentUpdates).next(u=>{l=u.Vs,c=u.fs})),!r.isEqual(We.min())){const u=t.Hr.getLastRemoteSnapshotVersion(s).next(d=>t.Hr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return se.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(t.Ts=i,s))}function Die(n,e,t){let r=at(),i=at();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Za();return t.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(We.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Te(xR,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Vs:o,fs:i}})}function Mie(n,e){const t=Xe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=aR),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Vie(n,e){const t=Xe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(s=>s?(i=s,se.resolve(i)):t.Hr.allocateTargetId(r).next(o=>(i=new Fl(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function oP(n,e,t){const r=Xe(n),i=r.Ts.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!jf(o))throw o;Te(xR,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function Pj(n,e,t){const r=Xe(n);let i=We.min(),s=at();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const d=Xe(l),f=d.Is.get(u);return f!==void 0?se.resolve(d.Ts.get(f)):d.Hr.getTargetData(c,u)}(r,o,_o(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Ps.getDocumentsMatchingQuery(o,e,t?i:We.min(),t?s:at())).next(a=>(Lie(r,kre(e),a),{documents:a,gs:s})))}function Lie(n,e,t){let r=n.Es.get(e)||We.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Es.set(e,r)}class Cj{constructor(){this.activeTargetIds=Are()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Uie{constructor(){this.ho=new Cj,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Cj,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zie{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej="ConnectivityMonitor";class Aj{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Te(Ej,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Te(Ej,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let n0=null;function aP(){return n0===null?n0=function(){return 268435456+Math.round(2147483648*Math.random())}():n0++,"0x"+n0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="RestConnection",qie={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Fie{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===Ix?`project_id=${r}`:`project_id=${r}&database_id=${i}`}bo(e,t,r,i,s){const o=aP(),a=this.So(e,t.toUriEncodedString());Te(Y1,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,i,s),this.vo(e,a,l,r).then(c=>(Te(Y1,`Received RPC '${e}' ${o}: `,c),c),c=>{throw Bd(Y1,`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}Co(e,t,r,i,s,o){return this.bo(e,t,r,i,s)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+If}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}So(e,t){const r=qie[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zie{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr="WebChannelConnection";class Bie extends Fie{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){const s=aP();return new Promise((o,a)=>{const l=new l3;l.setWithCredentials(!0),l.listenOnce(c3.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case sv.NO_ERROR:const u=l.getResponseJson();Te(kr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case sv.TIMEOUT:Te(kr,`RPC '${e}' ${s} timed out`),a(new Se(ne.DEADLINE_EXCEEDED,"Request time out"));break;case sv.HTTP_ERROR:const d=l.getStatus();if(Te(kr,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const g=function(x){const w=x.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(w)>=0?w:ne.UNKNOWN}(m.status);a(new Se(g,m.message))}else a(new Se(ne.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Se(ne.UNAVAILABLE,"Connection failed."));break;default:Fe()}}finally{Te(kr,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);Te(kr,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",c,r,15)})}Wo(e,t,r){const i=aP(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=d3(),a=h3(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const u=s.join("");Te(kr,`Creating RPC '${e}' stream ${i}: ${u}`,l);const d=o.createWebChannel(u,l);let f=!1,m=!1;const g=new Zie({Fo:x=>{m?Te(kr,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(f||(Te(kr,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),Te(kr,`RPC '${e}' stream ${i} sending:`,x),d.send(x))},Mo:()=>d.close()}),y=(x,w,k)=>{x.listen(w,P=>{try{k(P)}catch(Q){setTimeout(()=>{throw Q},0)}})};return y(d,Kp.EventType.OPEN,()=>{m||(Te(kr,`RPC '${e}' stream ${i} transport opened.`),g.Qo())}),y(d,Kp.EventType.CLOSE,()=>{m||(m=!0,Te(kr,`RPC '${e}' stream ${i} transport closed`),g.Ko())}),y(d,Kp.EventType.ERROR,x=>{m||(m=!0,Bd(kr,`RPC '${e}' stream ${i} transport errored:`,x),g.Ko(new Se(ne.UNAVAILABLE,"The operation could not be completed")))}),y(d,Kp.EventType.MESSAGE,x=>{var w;if(!m){const k=x.data[0];kt(!!k);const P=k,Q=(P==null?void 0:P.error)||((w=P[0])===null||w===void 0?void 0:w.error);if(Q){Te(kr,`RPC '${e}' stream ${i} received error:`,Q);const C=Q.status;let N=function(S){const A=Pn[S];if(A!==void 0)return Z3(A)}(C),O=Q.message;N===void 0&&(N=ne.INTERNAL,O="Unknown error status: "+C+" with message "+Q.message),m=!0,g.Ko(new Se(N,O)),d.close()}else Te(kr,`RPC '${e}' stream ${i} received:`,k),g.Uo(k)}}),y(a,u3.STAT_EVENT,x=>{x.stat===YT.PROXY?Te(kr,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===YT.NOPROXY&&Te(kr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.$o()},0),g}}function H1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(n){return new Yre(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sq{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&Te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj="PersistentStream";class oq{constructor(e,t,r,i,s,o,a,l){this.Ti=e,this.n_=r,this.r_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new sq(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(Fa(t.toString()),Fa("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{const i=new Se(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Te(Rj,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(Te(Rj,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Wie extends oq{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=Jre(this.serializer,e),r=function(s){if(!("targetChange"in s))return We.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?We.min():o.readTime?To(o.readTime):We.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=sP(this.serializer),t.addTarget=function(s,o){let a;const l=o.target;if(a=eP(l)?{documents:nie(s,l)}:{query:rie(s,l).ht},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=X3(s,o.resumeToken);const c=nP(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(We.min())>0){a.readTime=Vx(s,o.snapshotVersion.toTimestamp());const c=nP(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=sie(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=sP(this.serializer),t.removeTarget=e,this.I_(t)}}class Xie extends oq{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return kt(!!e.streamToken),this.lastStreamToken=e.streamToken,kt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){kt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=tie(e.writeResults,e.commitTime),r=To(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=sP(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>eie(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gie{}class Yie extends Gie{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new Se(ne.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.bo(e,rP(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Se(ne.UNKNOWN,s.toString())})}Co(e,t,r,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Co(e,rP(t,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Se(ne.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class Hie{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Fa(t),this.N_=!1):Te("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu="RemoteStore";class Kie{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(o=>{r.enqueueAndForget(async()=>{ch(this)&&(Te(zu,"Restarting streams for network reachability change."),await async function(l){const c=Xe(l);c.W_.add(4),await LO(c),c.j_.set("Unknown"),c.W_.delete(4),await Mb(c)}(this))})}),this.j_=new Hie(r,i)}}async function Mb(n){if(ch(n))for(const e of n.G_)await e(!0)}async function LO(n){for(const e of n.G_)await e(!1)}function aq(n,e){const t=Xe(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),kR(t)?SR(t):Mf(t).c_()&&bR(t,e))}function wR(n,e){const t=Xe(n),r=Mf(t);t.U_.delete(e),r.c_()&&lq(t,e),t.U_.size===0&&(r.c_()?r.P_():ch(t)&&t.j_.set("Unknown"))}function bR(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(We.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Mf(n).y_(e)}function lq(n,e){n.H_.Ne(e),Mf(n).w_(e)}function SR(n){n.H_=new Bre({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Mf(n).start(),n.j_.B_()}function kR(n){return ch(n)&&!Mf(n).u_()&&n.U_.size>0}function ch(n){return Xe(n).W_.size===0}function cq(n){n.H_=void 0}async function Jie(n){n.j_.set("Online")}async function ese(n){n.U_.forEach((e,t)=>{bR(n,e)})}async function tse(n,e){cq(n),kR(n)?(n.j_.q_(e),SR(n)):n.j_.set("Unknown")}async function nse(n,e,t){if(n.j_.set("Online"),e instanceof W3&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.U_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.U_.delete(a),i.H_.removeTarget(a))}(n,e)}catch(r){Te(zu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ux(n,r)}else if(e instanceof cv?n.H_.We(e):e instanceof B3?n.H_.Ze(e):n.H_.je(e),!t.isEqual(We.min()))try{const r=await iq(n.localStore);t.compareTo(r)>=0&&await function(s,o){const a=s.H_.ot(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.U_.get(c);u&&s.U_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.U_.get(l);if(!u)return;s.U_.set(l,u.withResumeToken(yr.EMPTY_BYTE_STRING,u.snapshotVersion)),lq(s,l);const d=new Fl(u.target,l,c,u.sequenceNumber);bR(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t)}catch(r){Te(zu,"Failed to raise snapshot:",r),await Ux(n,r)}}async function Ux(n,e,t){if(!jf(e))throw e;n.W_.add(1),await LO(n),n.j_.set("Offline"),t||(t=()=>iq(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Te(zu,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Mb(n)})}function uq(n,e){return e().catch(t=>Ux(n,t,e))}async function Vb(n){const e=Xe(n),t=yc(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:aR;for(;rse(e);)try{const i=await Mie(e.localStore,r);if(i===null){e.K_.length===0&&t.P_();break}r=i.batchId,ise(e,i)}catch(i){await Ux(e,i)}hq(e)&&dq(e)}function rse(n){return ch(n)&&n.K_.length<10}function ise(n,e){n.K_.push(e);const t=yc(n);t.c_()&&t.b_&&t.S_(e.mutations)}function hq(n){return ch(n)&&!yc(n).u_()&&n.K_.length>0}function dq(n){yc(n).start()}async function sse(n){yc(n).C_()}async function ose(n){const e=yc(n);for(const t of n.K_)e.S_(t.mutations)}async function ase(n,e,t){const r=n.K_.shift(),i=pR.from(r,e,t);await uq(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Vb(n)}async function lse(n,e){e&&yc(n).b_&&await async function(r,i){if(function(o){return qre(o)&&o!==ne.ABORTED}(i.code)){const s=r.K_.shift();yc(r).h_(),await uq(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Vb(r)}}(n,e),hq(n)&&dq(n)}async function Qj(n,e){const t=Xe(n);t.asyncQueue.verifyOperationInProgress(),Te(zu,"RemoteStore received new credentials");const r=ch(t);t.W_.add(3),await LO(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Mb(t)}async function cse(n,e){const t=Xe(n);e?(t.W_.delete(2),await Mb(t)):e||(t.W_.add(2),await LO(t),t.j_.set("Unknown"))}function Mf(n){return n.J_||(n.J_=function(t,r,i){const s=Xe(t);return s.M_(),new Wie(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{xo:Jie.bind(null,n),No:ese.bind(null,n),Lo:tse.bind(null,n),p_:nse.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),kR(n)?SR(n):n.j_.set("Unknown")):(await n.J_.stop(),cq(n))})),n.J_}function yc(n){return n.Y_||(n.Y_=function(t,r,i){const s=Xe(t);return s.M_(),new Xie(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:sse.bind(null,n),Lo:lse.bind(null,n),D_:ose.bind(null,n),v_:ase.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Vb(n)):(await n.Y_.stop(),n.K_.length>0&&(Te(zu,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ia,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new _R(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function TR(n,e){if(Fa("AsyncQueue",`${e}: ${n}`),jf(n))return new Se(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{static emptySet(e){return new hd(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||De.comparator(t.key,r.key):(t,r)=>De.comparator(t.key,r.key),this.keyedMap=Jp(),this.sortedSet=new cn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof hd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new hd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(){this.Z_=new cn(De.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Fe():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Hd{constructor(e,t,r,i,s,o,a,l,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new Hd(e,t,hd.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class use{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class hse{constructor(){this.queries=Ij(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const i=Xe(t),s=i.queries;i.queries=Ij(),s.forEach((o,a)=>{for(const l of a.ta)l.onError(r)})})(this,new Se(ne.ABORTED,"Firestore shutting down"))}}function Ij(){return new lh(n=>N3(n),Rb)}async function fq(n,e){const t=Xe(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.na()&&e.ra()&&(r=2):(s=new use,r=e.ra()?0:1);try{switch(r){case 0:s.ea=await t.onListen(i,!0);break;case 1:s.ea=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(o){const a=TR(o,`Initialization of query '${Ah(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.ta.push(e),e.sa(t.onlineState),s.ea&&e.oa(s.ea)&&PR(t)}async function pq(n,e){const t=Xe(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const o=s.ta.indexOf(e);o>=0&&(s.ta.splice(o,1),s.ta.length===0?i=e.ra()?0:1:!s.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function dse(n,e){const t=Xe(n);let r=!1;for(const i of e){const s=i.query,o=t.queries.get(s);if(o){for(const a of o.ta)a.oa(i)&&(r=!0);o.ea=i}}r&&PR(t)}function fse(n,e,t){const r=Xe(n),i=r.queries.get(e);if(i)for(const s of i.ta)s.onError(t);r.queries.delete(e)}function PR(n){n.ia.forEach(e=>{e.next()})}var lP,$j;($j=lP||(lP={}))._a="default",$j.Cache="cache";class mq{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Hd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Hd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==lP.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gq{constructor(e){this.key=e}}class Oq{constructor(e){this.key=e}}class pse{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=at(),this.mutatedKeys=at(),this.ya=I3(e),this.wa=new hd(this.ya)}get ba(){return this.fa}Sa(e,t){const r=t?t.Da:new Nj,i=t?t.wa:this.wa;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const f=i.get(u),m=Qb(this.query,d)?d:null,g=!!f&&this.mutatedKeys.has(f.key),y=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let x=!1;f&&m?f.data.isEqual(m.data)?g!==y&&(r.track({type:3,doc:m}),x=!0):this.va(f,m)||(r.track({type:2,doc:m}),x=!0,(l&&this.ya(m,l)>0||c&&this.ya(m,c)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),x=!0):f&&!m&&(r.track({type:1,doc:f}),x=!0,(l||c)&&(a=!0)),x&&(m?(o=o.add(m),s=y?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{wa:o,Da:r,ls:a,mutatedKeys:s}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((u,d)=>function(m,g){const y=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe()}};return y(m)-y(g)}(u.type,d.type)||this.ya(u.doc,d.doc)),this.Ca(r),i=i!=null&&i;const a=t&&!i?this.Fa():[],l=this.pa.size===0&&this.current&&!i?1:0,c=l!==this.ga;return this.ga=l,o.length!==0||c?{snapshot:new Hd(this.query,e.wa,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Nj,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=at(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new Oq(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new gq(r))}),t}Oa(e){this.fa=e.gs,this.pa=at();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return Hd.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const CR="SyncEngine";class mse{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class gse{constructor(e){this.key=e,this.Ba=!1}}class Ose{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new lh(a=>N3(a),Rb),this.qa=new Map,this.Qa=new Set,this.$a=new cn(De.comparator),this.Ka=new Map,this.Ua=new OR,this.Wa={},this.Ga=new Map,this.za=Yd.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function yse(n,e,t=!0){const r=Sq(n);let i;const s=r.ka.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=await yq(r,e,t,!0),i}async function vse(n,e){const t=Sq(n);await yq(t,e,!0,!1)}async function yq(n,e,t,r){const i=await Vie(n.localStore,_o(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t);let a;return r&&(a=await xse(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&aq(n.remoteStore,i),a}async function xse(n,e,t,r,i){n.Ha=(d,f,m)=>async function(y,x,w,k){let P=x.view.Sa(w);P.ls&&(P=await Pj(y.localStore,x.query,!1).then(({documents:O})=>x.view.Sa(O,P)));const Q=k&&k.targetChanges.get(x.targetId),C=k&&k.targetMismatches.get(x.targetId)!=null,N=x.view.applyChanges(P,y.isPrimaryClient,Q,C);return Dj(y,x.targetId,N.Ma),N.snapshot}(n,d,f,m);const s=await Pj(n.localStore,e,!0),o=new pse(e,s.gs),a=o.Sa(s.documents),l=VO.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),c=o.applyChanges(a,n.isPrimaryClient,l);Dj(n,t,c.Ma);const u=new mse(e,t,o);return n.ka.set(e,u),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),c.snapshot}async function wse(n,e,t){const r=Xe(n),i=r.ka.get(e),s=r.qa.get(i.targetId);if(s.length>1)return r.qa.set(i.targetId,s.filter(o=>!Rb(o,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await oP(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&wR(r.remoteStore,i.targetId),cP(r,i.targetId)}).catch($f)):(cP(r,i.targetId),await oP(r.localStore,i.targetId,!0))}async function bse(n,e){const t=Xe(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),wR(t.remoteStore,r.targetId))}async function Sse(n,e,t){const r=Ase(n);try{const i=await function(o,a){const l=Xe(o),c=Zn.now(),u=a.reduce((m,g)=>m.add(g.key),at());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let g=Za(),y=at();return l.ds.getEntries(m,u).next(x=>{g=x,g.forEach((w,k)=>{k.isValidDocument()||(y=y.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,g)).next(x=>{d=x;const w=[];for(const k of a){const P=Mre(k,d.get(k.key).overlayedDocument);P!=null&&w.push(new Lc(k.key,P,_3(P.value.mapValue),Br.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,w,a)}).next(x=>{f=x;const w=x.applyToLocalDocumentSet(d,y);return l.documentOverlayCache.saveOverlays(m,x.batchId,w)})}).then(()=>({batchId:f.batchId,changes:j3(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Wa[o.currentUser.toKey()];c||(c=new cn(ft)),c=c.insert(a,l),o.Wa[o.currentUser.toKey()]=c}(r,i.batchId,t),await UO(r,i.changes),await Vb(r.remoteStore)}catch(i){const s=TR(i,"Failed to persist write");t.reject(s)}}async function vq(n,e){const t=Xe(n);try{const r=await jie(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.Ka.get(s);o&&(kt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ba=!0:i.modifiedDocuments.size>0?kt(o.Ba):i.removedDocuments.size>0&&(kt(o.Ba),o.Ba=!1))}),await UO(t,r,e)}catch(r){await $f(r)}}function jj(n,e,t){const r=Xe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ka.forEach((s,o)=>{const a=o.view.sa(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Xe(o);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const f of d.ta)f.sa(a)&&(c=!0)}),c&&PR(l)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function kse(n,e,t){const r=Xe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ka.get(e),s=i&&i.key;if(s){let o=new cn(De.comparator);o=o.insert(s,Er.newNoDocument(s,We.min()));const a=at().add(s),l=new jb(We.min(),new Map,new cn(ft),o,a);await vq(r,l),r.$a=r.$a.remove(s),r.Ka.delete(e),ER(r)}else await oP(r.localStore,e,!1).then(()=>cP(r,e,t)).catch($f)}async function _se(n,e){const t=Xe(n),r=e.batch.batchId;try{const i=await $ie(t.localStore,e);wq(t,r,null),xq(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await UO(t,i)}catch(i){await $f(i)}}async function Tse(n,e,t){const r=Xe(n);try{const i=await function(o,a){const l=Xe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(kt(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);wq(r,e,t),xq(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await UO(r,i)}catch(i){await $f(i)}}function xq(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function wq(n,e,t){const r=Xe(n);let i=r.Wa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function cP(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.Sr(e).forEach(r=>{n.Ua.containsKey(r)||bq(n,r)})}function bq(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(wR(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),ER(n))}function Dj(n,e,t){for(const r of t)r instanceof gq?(n.Ua.addReference(r.key,e),Pse(n,r)):r instanceof Oq?(Te(CR,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||bq(n,r.key)):Fe()}function Pse(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(Te(CR,"New document in limbo: "+t),n.Qa.add(r),ER(n))}function ER(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new De(Bt.fromString(e)),r=n.za.next();n.Ka.set(r,new gse(t)),n.$a=n.$a.insert(t,r),aq(n.remoteStore,new Fl(_o(dR(t.path)),r,"TargetPurposeLimboResolution",Cb.ae))}}async function UO(n,e,t){const r=Xe(n),i=[],s=[],o=[];r.ka.isEmpty()||(r.ka.forEach((a,l)=>{o.push(r.Ha(l,e,t).then(c=>{var u;if((c||t)&&r.isPrimaryClient){const d=c?!c.fromCache:(u=t==null?void 0:t.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=vR.Yi(l.targetId,c);s.push(d)}}))}),await Promise.all(o),r.La.p_(i),await async function(l,c){const u=Xe(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>se.forEach(c,f=>se.forEach(f.Hi,m=>u.persistence.referenceDelegate.addReference(d,f.targetId,m)).next(()=>se.forEach(f.Ji,m=>u.persistence.referenceDelegate.removeReference(d,f.targetId,m)))))}catch(d){if(!jf(d))throw d;Te(xR,"Failed to update sequence numbers: "+d)}for(const d of c){const f=d.targetId;if(!d.fromCache){const m=u.Ts.get(f),g=m.snapshotVersion,y=m.withLastLimboFreeSnapshotVersion(g);u.Ts=u.Ts.insert(f,y)}}}(r.localStore,s))}async function Cse(n,e){const t=Xe(n);if(!t.currentUser.isEqual(e)){Te(CR,"User change. New user:",e.toKey());const r=await rq(t.localStore,e);t.currentUser=e,function(s,o){s.Ga.forEach(a=>{a.forEach(l=>{l.reject(new Se(ne.CANCELLED,o))})}),s.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await UO(t,r.Rs)}}function Ese(n,e){const t=Xe(n),r=t.Ka.get(e);if(r&&r.Ba)return at().add(r.key);{let i=at();const s=t.qa.get(e);if(!s)return i;for(const o of s){const a=t.ka.get(o);i=i.unionWith(a.view.ba)}return i}}function Sq(n){const e=Xe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=vq.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ese.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kse.bind(null,e),e.La.p_=dse.bind(null,e.eventManager),e.La.Ja=fse.bind(null,e.eventManager),e}function Ase(n){const e=Xe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_se.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Tse.bind(null,e),e}class zx{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Db(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return Iie(this.persistence,new Rie,e.initialUser,this.serializer)}Xa(e){return new nq(yR.ri,this.serializer)}Za(e){return new Uie}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zx.provider={build:()=>new zx};class Rse extends zx{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){kt(this.persistence.referenceDelegate instanceof Lx);const r=this.persistence.referenceDelegate.garbageCollector;return new gie(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?li.withCacheSize(this.cacheSizeBytes):li.DEFAULT;return new nq(r=>Lx.ri(r,t),this.serializer)}}class uP{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>jj(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Cse.bind(null,this.syncEngine),await cse(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new hse}()}createDatastore(e){const t=Db(e.databaseInfo.databaseId),r=function(s){return new Bie(s)}(e.databaseInfo);return function(s,o,a,l){return new Yie(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,s,o,a){return new Kie(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,t=>jj(this.syncEngine,t,0),function(){return Aj.D()?new Aj:new zie}())}createSyncEngine(e,t){return function(i,s,o,a,l,c,u){const d=new Ose(i,s,o,a,l,c);return u&&(d.ja=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const s=Xe(i);Te(zu,"RemoteStore shutting down."),s.W_.add(5),await LO(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}uP.provider={build:()=>new uP};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kq{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Fa("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc="FirestoreClient";class Qse{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Tr.UNAUTHENTICATED,this.clientId=p3.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Te(vc,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Te(vc,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ia;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=TR(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function K1(n,e){n.asyncQueue.verifyOperationInProgress(),Te(vc,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await rq(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Mj(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Nse(n);Te(vc,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Qj(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>Qj(e.remoteStore,i)),n._onlineComponents=e}async function Nse(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Te(vc,"Using user provided OfflineComponentProvider");try{await K1(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===ne.FAILED_PRECONDITION||i.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Bd("Error using user provided cache. Falling back to memory cache: "+t),await K1(n,new zx)}}else Te(vc,"Using default OfflineComponentProvider"),await K1(n,new Rse(void 0));return n._offlineComponents}async function _q(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Te(vc,"Using user provided OnlineComponentProvider"),await Mj(n,n._uninitializedComponentsProvider._online)):(Te(vc,"Using default OnlineComponentProvider"),await Mj(n,new uP))),n._onlineComponents}function Ise(n){return _q(n).then(e=>e.syncEngine)}async function Tq(n){const e=await _q(n),t=e.eventManager;return t.onListen=yse.bind(null,e.syncEngine),t.onUnlisten=wse.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=vse.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=bse.bind(null,e.syncEngine),t}function $se(n,e,t={}){const r=new Ia;return n.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new kq({next:f=>{u.su(),o.enqueueAndForget(()=>pq(s,d));const m=f.docs.has(a);!m&&f.fromCache?c.reject(new Se(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&l&&l.source==="server"?c.reject(new Se(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new mq(dR(a.path),u,{includeMetadataChanges:!0,Ta:!0});return fq(s,d)}(await Tq(n),n.asyncQueue,e,t,r)),r.promise}function jse(n,e,t={}){const r=new Ia;return n.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new kq({next:f=>{u.su(),o.enqueueAndForget(()=>pq(s,d)),f.fromCache&&l.source==="server"?c.reject(new Se(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new mq(a,u,{includeMetadataChanges:!0,Ta:!0});return fq(s,d)}(await Tq(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pq(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cq(n,e,t){if(!t)throw new Se(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Dse(n,e,t,r){if(e===!0&&r===!0)throw new Se(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Lj(n){if(!De.isDocumentKey(n))throw new Se(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Uj(n){if(De.isDocumentKey(n))throw new Se(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Lb(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Fe()}function ds(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Se(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Lb(n);throw new Se(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eq="firestore.googleapis.com",zj=!0;class qj{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Eq,this.ssl=zj}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:zj;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tq;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pie)throw new Se(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Dse("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Pq((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Se(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Se(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Se(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ub{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qj({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qj(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Zne;switch(r.type){case"firstParty":return new Gne(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Se(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Vj.get(t);r&&(Te("ComponentProvider","Removing Datastore"),Vj.delete(t),r.terminate())}(this),Promise.resolve()}}function Mse(n,e,t,r={}){var i;const s=(n=ds(n,Ub))._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),a=`${e}:${t}`;s.host!==Eq&&s.host!==a&&Bd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},s),{host:a,ssl:!1,emulatorOptions:r});if(!Vu(l,o)&&(n._setSettings(l),r.mockUserToken)){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=Tr.MOCK_USER;else{c=t3(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new Se(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Tr(d)}n._authCredentials=new Bne(new f3(c,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Uc(this.firestore,e,this._query)}}class Wr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wr(this.firestore,e,this._key)}}class oc extends Uc{constructor(e,t,r){super(e,t,dR(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wr(this.firestore,null,new De(e))}withConverter(e){return new oc(this.firestore,e,this._path)}}function Ee(n,e,...t){if(n=Qt(n),Cq("collection","path",e),n instanceof Ub){const r=Bt.fromString(e,...t);return Uj(r),new oc(n,null,r)}{if(!(n instanceof Wr||n instanceof oc))throw new Se(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Bt.fromString(e,...t));return Uj(r),new oc(n.firestore,null,r)}}function Ze(n,e,...t){if(n=Qt(n),arguments.length===1&&(e=p3.newId()),Cq("doc","path",e),n instanceof Ub){const r=Bt.fromString(e,...t);return Lj(r),new Wr(n,null,new De(r))}{if(!(n instanceof Wr||n instanceof oc))throw new Se(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Bt.fromString(e,...t));return Lj(r),new Wr(n.firestore,n instanceof oc?n.converter:null,new De(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj="AsyncQueue";class Zj{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new sq(this,"async_queue_retry"),this.bu=()=>{const r=H1();r&&Te(Fj,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;const t=H1();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=H1();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Ia;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!jf(e))throw e;Te(Fj,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Fa("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.Su=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const i=_R.createAndSchedule(this,e,t,r,s=>this.Fu(s));return this.fu.push(i),i}Du(){this.gu&&Fe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class zc extends Ub{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Zj,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Zj(e),this._firestoreClient=void 0,await e}}}function Vse(n,e){const t=typeof n=="object"?n:sR(),r=typeof n=="string"?n:Ix,i=Pb(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Kz("firestore");s&&Mse(i,...s)}return i}function zb(n){if(n._terminated)throw new Se(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Lse(n),n._firestoreClient}function Lse(n){var e,t,r;const i=n._freezeSettings(),s=function(a,l,c,u){return new cre(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,Pq(u.experimentalLongPollingOptions),u.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new Qse(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AR=class hP{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hP(yr.fromBase64String(e))}catch(t){throw new Se(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new hP(yr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Se(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Se(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Se(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ft(this._lat,e._lat)||ft(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Use=/^__.*__$/;class zse{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Lc(e,this.data,this.fieldMask,t,this.fieldTransforms):new MO(e,this.data,t,this.fieldTransforms)}}class Aq{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Lc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Rq(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe()}}class NR{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new NR(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return qx(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Rq(this.Lu)&&Use.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class qse{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Db(e)}ju(e,t,r,i=!1){return new NR({Lu:e,methodName:t,zu:r,path:pr.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qO(n){const e=n._freezeSettings(),t=Db(n._databaseId);return new qse(n._databaseId,!!e.ignoreUndefinedProperties,t)}function IR(n,e,t,r,i,s={}){const o=n.ju(s.merge||s.mergeFields?2:0,e,t,i);jR("Data must be an object, but it was:",o,r);const a=Iq(r,o);let l,c;if(s.merge)l=new Ii(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const f=dP(e,d,t);if(!o.contains(f))throw new Se(ne.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);jq(u,f)||u.push(f)}l=new Ii(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new zse(new fi(a),l,c)}class Fb extends qb{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fb}}class $R extends qb{_toFieldTransform(e){return new Ire(e.path,new Og)}isEqual(e){return e instanceof $R}}function Qq(n,e,t,r){const i=n.ju(1,e,t);jR("Data must be an object, but it was:",i,r);const s=[],o=fi.empty();Vc(r,(l,c)=>{const u=DR(e,l,t);c=Qt(c);const d=i.Ku(u);if(c instanceof Fb)s.push(u);else{const f=FO(c,d);f!=null&&(s.push(u),o.set(u,f))}});const a=new Ii(s);return new Aq(o,a,i.fieldTransforms)}function Nq(n,e,t,r,i,s){const o=n.ju(1,e,t),a=[dP(e,r,t)],l=[i];if(s.length%2!=0)throw new Se(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(dP(e,s[f])),l.push(s[f+1]);const c=[],u=fi.empty();for(let f=a.length-1;f>=0;--f)if(!jq(c,a[f])){const m=a[f];let g=l[f];g=Qt(g);const y=o.Ku(m);if(g instanceof Fb)c.push(m);else{const x=FO(g,y);x!=null&&(c.push(m),u.set(m,x))}}const d=new Ii(c);return new Aq(u,d,o.fieldTransforms)}function Fse(n,e,t,r=!1){return FO(t,n.ju(r?4:3,e))}function FO(n,e){if($q(n=Qt(n)))return jR("Unsupported field value:",e,n),Iq(n,e);if(n instanceof qb)return function(r,i){if(!Rq(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=FO(a,i.Uu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=Qt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Rre(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Zn.fromDate(r);return{timestampValue:Vx(i.serializer,s)}}if(r instanceof Zn){const s=new Zn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Vx(i.serializer,s)}}if(r instanceof RR)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof AR)return{bytesValue:X3(i.serializer,r._byteString)};if(r instanceof Wr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:gR(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof QR)return function(o,a){return{mapValue:{fields:{[b3]:{stringValue:k3},[$x]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Wu("VectorValues must only contain numeric values.");return fR(a.serializer,c)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${Lb(r)}`)}(n,e)}function Iq(n,e){const t={};return g3(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vc(n,(r,i)=>{const s=FO(i,e.qu(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function $q(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Zn||n instanceof RR||n instanceof AR||n instanceof Wr||n instanceof qb||n instanceof QR)}function jR(n,e,t){if(!$q(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=Lb(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function dP(n,e,t){if((e=Qt(e))instanceof zO)return e._internalPath;if(typeof e=="string")return DR(n,e);throw qx("Field path arguments must be of type string or ",n,!1,void 0,t)}const Zse=new RegExp("[~\\*/\\[\\]]");function DR(n,e,t){if(e.search(Zse)>=0)throw qx(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new zO(...e.split("."))._internalPath}catch{throw qx(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function qx(n,e,t,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Se(ne.INVALID_ARGUMENT,a+n+l)}function jq(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dq{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Wr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Bse(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Zb("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Bse extends Dq{data(){return super.data()}}function Zb(n,e){return typeof e=="string"?DR(n,e):e instanceof zO?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wse(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Se(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class MR{}class VR extends MR{}function Ie(n,e,...t){let r=[];e instanceof MR&&r.push(e),r=r.concat(t),function(s){const o=s.filter(l=>l instanceof LR).length,a=s.filter(l=>l instanceof Bb).length;if(o>1||o>0&&a>0)throw new Se(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Bb extends VR{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Bb(e,t,r)}_apply(e){const t=this._parse(e);return Mq(e._query,t),new Uc(e.firestore,e.converter,tP(e._query,t))}_parse(e){const t=qO(e.firestore);return function(s,o,a,l,c,u,d){let f;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Se(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){Wj(d,u);const g=[];for(const y of d)g.push(Bj(l,s,y));f={arrayValue:{values:g}}}else f=Bj(l,s,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||Wj(d,u),f=Fse(a,o,d,u==="in"||u==="not-in");return An.create(c,u,f)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Ae(n,e,t){const r=e,i=Zb("where",n);return Bb._create(i,r,t)}class LR extends MR{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new LR(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:zs.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)Mq(o,l),o=tP(o,l)}(e._query,t),new Uc(e.firestore,e.converter,tP(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class UR extends VR{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new UR(e,t)}_apply(e){const t=function(i,s,o){if(i.startAt!==null)throw new Se(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Se(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gg(s,o)}(e._query,this._field,this._direction);return new Uc(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Df(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function Fx(n,e="asc"){const t=e,r=Zb("orderBy",n);return UR._create(r,t)}class zR extends VR{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new zR(e,t,r)}_apply(e){return new Uc(e.firestore,e.converter,Dx(e._query,this._limit,this._limitType))}}function tm(n){return zR._create("limit",n,"F")}function Bj(n,e,t){if(typeof(t=Qt(t))=="string"){if(t==="")throw new Se(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Q3(e)&&t.indexOf("/")!==-1)throw new Se(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Bt.fromString(t));if(!De.isDocumentKey(r))throw new Se(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return lj(n,new De(r))}if(t instanceof Wr)return lj(n,t._key);throw new Se(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lb(t)}.`)}function Wj(n,e){if(!Array.isArray(n)||n.length===0)throw new Se(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Mq(n,e){const t=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Se(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Se(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Xse{convertValue(e,t="none"){switch(Oc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(gc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Fe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Vc(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;const s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[$x].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>yn(o.doubleValue));return new QR(s)}convertGeoPoint(e){return new RR(yn(e.latitude),yn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Ab(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(fg(e));default:return null}}convertTimestamp(e){const t=mc(e);return new Zn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Bt.fromString(e);kt(eq(r));const i=new pg(r.get(1),r.get(3)),s=new De(r.popFirst(5));return i.isEqual(t)||Fa(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vq extends Dq{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new uv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Zb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class uv extends Vq{data(e={}){return super.data(e)}}class Gse{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new nm(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new uv(this._firestore,this._userDataWriter,r.key,r,new nm(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Se(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new uv(i._firestore,i._userDataWriter,a.doc.key,a.doc,new nm(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new uv(i._firestore,i._userDataWriter,a.doc.key,a.doc,new nm(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:Yse(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Yse(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(n){n=ds(n,Wr);const e=ds(n.firestore,zc);return $se(zb(e),n._key).then(t=>Hse(e,n,t))}class Lq extends Xse{constructor(e){super(),this.firestore=e}convertBytes(e){return new AR(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wr(this.firestore,null,t)}}function je(n){n=ds(n,Uc);const e=ds(n.firestore,zc),t=zb(e),r=new Lq(e);return Wse(n._query),jse(t,n._query).then(i=>new Gse(e,r,n,i))}function Uq(n,e,t){n=ds(n,Wr);const r=ds(n.firestore,zc),i=qR(n.converter,e,t);return ZO(r,[IR(qO(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Br.none())])}function wi(n,e,t,...r){n=ds(n,Wr);const i=ds(n.firestore,zc),s=qO(i);let o;return o=typeof(e=Qt(e))=="string"||e instanceof zO?Nq(s,"updateDoc",n._key,e,t,r):Qq(s,"updateDoc",n._key,e),ZO(i,[o.toMutation(n._key,Br.exists(!0))])}function qc(n){return ZO(ds(n.firestore,zc),[new $b(n._key,Br.none())])}function Ba(n,e){const t=ds(n.firestore,zc),r=Ze(n),i=qR(n.converter,e);return ZO(t,[IR(qO(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Br.exists(!1))]).then(()=>r)}function ZO(n,e){return function(r,i){const s=new Ia;return r.asyncQueue.enqueueAndForget(async()=>Sse(await Ise(r),i,s)),s.promise}(zb(n),e)}function Hse(n,e,t){const r=t.docs.get(e._key),i=new Lq(n);return new Vq(n,i,e._key,r,new nm(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kse{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=qO(e)}set(e,t,r){this._verifyNotCommitted();const i=J1(e,this._firestore),s=qR(i.converter,t,r),o=IR(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Br.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=J1(e,this._firestore);let o;return o=typeof(t=Qt(t))=="string"||t instanceof zO?Nq(this._dataReader,"WriteBatch.update",s._key,t,r,i):Qq(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(o.toMutation(s._key,Br.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=J1(e,this._firestore);return this._mutations=this._mutations.concat(new $b(t._key,Br.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Se(ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function J1(n,e){if((n=Qt(n)).firestore!==e)throw new Se(ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function qu(){return new $R("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(n){return zb(n=ds(n,zc)),new Kse(n,e=>ZO(n,e))}(function(e,t=!0){(function(i){If=i})(ah),Lu(new fc("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new zc(new Wne(r.getProvider("auth-internal")),new Yne(o,r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Se(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pg(c.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ko(H2,K2,e),ko(H2,K2,"esm2017")})();var Jse="firebase",eoe="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ko(Jse,eoe,"app");var fo=function(){return fo=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},fo.apply(this,arguments)};function BO(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function toe(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}function zq(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const noe=zq,qq=new jO("auth","Firebase",zq());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx=new rR("@firebase/auth");function roe(n,...e){Zx.logLevel<=ot.WARN&&Zx.warn(`Auth (${ah}): ${n}`,...e)}function hv(n,...e){Zx.logLevel<=ot.ERROR&&Zx.error(`Auth (${ah}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(n,...e){throw FR(n,...e)}function Po(n,...e){return FR(n,...e)}function Fq(n,e,t){const r=Object.assign(Object.assign({},noe()),{[e]:t});return new jO("auth","Firebase",r).create(e,{appName:n.name})}function $a(n){return Fq(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function FR(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return qq.create(n,...e)}function Ue(n,e,...t){if(!n)throw FR(e,...t)}function Ca(n){const e="INTERNAL ASSERTION FAILED: "+n;throw hv(e),new Error(e)}function Wa(n,e){n||Ca(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function ioe(){return Xj()==="http:"||Xj()==="https:"}function Xj(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function soe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ioe()||kte()||"connection"in navigator)?navigator.onLine:!0}function ooe(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e,t){this.shortDelay=e,this.longDelay=t,Wa(t>e,"Short delay should be less than long delay!"),this.isMobile=wte()||_te()}get(){return soe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(n,e){Wa(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zq{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ca("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ca("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ca("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aoe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const loe=new WO(3e4,6e4);function ol(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function al(n,e,t,r,i={}){return Bq(n,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=DO(Object.assign({key:n.config.apiKey},o)).slice(1),l=await n._getAdditionalHeaders();l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode);const c=Object.assign({method:e,headers:l},s);return Ste()||(c.referrerPolicy="no-referrer"),Zq.fetch()(Wq(n,n.config.apiHost,t,a),c)})}async function Bq(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},aoe),e);try{const i=new uoe(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw r0(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw r0(n,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw r0(n,"email-already-in-use",o);if(l==="USER_DISABLED")throw r0(n,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Fq(n,u,c);qs(n,u)}}catch(i){if(i instanceof Ko)throw i;qs(n,"network-request-failed",{message:String(i)})}}async function XO(n,e,t,r,i={}){const s=await al(n,e,t,r,i);return"mfaPendingCredential"in s&&qs(n,"multi-factor-auth-required",{_serverResponse:s}),s}function Wq(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?ZR(n.config,i):`${n.config.apiScheme}://${i}`}function coe(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class uoe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Po(this.auth,"network-request-failed")),loe.get())})}}function r0(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Po(n,e,r);return i.customData._tokenResponse=t,i}function Gj(n){return n!==void 0&&n.enterprise!==void 0}class hoe{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return coe(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function doe(n,e){return al(n,"GET","/v2/recaptchaConfig",ol(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function foe(n,e){return al(n,"POST","/v1/accounts:delete",e)}async function Xq(n,e){return al(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function poe(n,e=!1){const t=Qt(n),r=await t.getIdToken(e),i=BR(r);Ue(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:$m(ek(i.auth_time)),issuedAtTime:$m(ek(i.iat)),expirationTime:$m(ek(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function ek(n){return Number(n)*1e3}function BR(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return hv("JWT malformed, contained fewer than 3 sections"),null;try{const i=Yz(t);return i?JSON.parse(i):(hv("Failed to decode base64 JWT payload"),null)}catch(i){return hv("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Yj(n){const e=BR(n);return Ue(e,"internal-error"),Ue(typeof e.exp<"u","internal-error"),Ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xg(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ko&&moe(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function moe({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class goe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=$m(this.lastLoginAt),this.creationTime=$m(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bx(n){var e;const t=n.auth,r=await n.getIdToken(),i=await xg(n,Xq(t,{idToken:r}));Ue(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Gq(s.providerUserInfo):[],a=yoe(n.providerData,o),l=n.isAnonymous,c=!(n.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new pP(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,d)}async function Ooe(n){const e=Qt(n);await Bx(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yoe(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Gq(n){return n.map(e=>{var{providerId:t}=e,r=BO(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function voe(n,e){const t=await Bq(n,{},async()=>{const r=DO({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=Wq(n,i,"/v1/token",`key=${s}`),a=await n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Zq.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function xoe(n,e){return al(n,"POST","/v2/accounts:revokeToken",ol(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ue(e.idToken,"internal-error"),Ue(typeof e.idToken<"u","internal-error"),Ue(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Yj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ue(e.length!==0,"internal-error");const t=Yj(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await voe(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new dd;return r&&(Ue(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Ue(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Ue(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new dd,this.toJSON())}_performRefresh(){return Ca("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pl(n,e){Ue(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ea{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=BO(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new goe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new pP(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await xg(this,this.stsTokenManager.getToken(this.auth,e));return Ue(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return poe(this,e)}reload(){return Ooe(this)}_assign(e){this!==e&&(Ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ea(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Bx(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qi(this.auth.app))return Promise.reject($a(this.auth));const e=await this.getIdToken();return await xg(this,foe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,l,c,u;const d=(r=t.displayName)!==null&&r!==void 0?r:void 0,f=(i=t.email)!==null&&i!==void 0?i:void 0,m=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=t.photoURL)!==null&&o!==void 0?o:void 0,y=(a=t.tenantId)!==null&&a!==void 0?a:void 0,x=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,w=(c=t.createdAt)!==null&&c!==void 0?c:void 0,k=(u=t.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:P,emailVerified:Q,isAnonymous:C,providerData:N,stsTokenManager:O}=t;Ue(P&&O,e,"internal-error");const T=dd.fromJSON(this.name,O);Ue(typeof P=="string",e,"internal-error"),pl(d,e.name),pl(f,e.name),Ue(typeof Q=="boolean",e,"internal-error"),Ue(typeof C=="boolean",e,"internal-error"),pl(m,e.name),pl(g,e.name),pl(y,e.name),pl(x,e.name),pl(w,e.name),pl(k,e.name);const S=new Ea({uid:P,auth:e,email:f,emailVerified:Q,displayName:d,isAnonymous:C,photoURL:g,phoneNumber:m,tenantId:y,stsTokenManager:T,createdAt:w,lastLoginAt:k});return N&&Array.isArray(N)&&(S.providerData=N.map(A=>Object.assign({},A))),x&&(S._redirectEventId=x),S}static async _fromIdTokenResponse(e,t,r=!1){const i=new dd;i.updateFromServerResponse(t);const s=new Ea({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Bx(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Ue(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Gq(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new dd;a.updateFromIdToken(r);const l=new Ea({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new pP(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj=new Map;function Aa(n){Wa(n instanceof Function,"Expected a class definition");let e=Hj.get(n);return e?(Wa(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Hj.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yq{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Yq.type="NONE";const Kj=Yq;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(n,e,t){return`firebase:${n}:${e}:${t}`}class fd{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=dv(this.userKey,i.apiKey,s),this.fullPersistenceKey=dv("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ea._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new fd(Aa(Kj),e,r);const i=(await Promise.all(t.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Aa(Kj);const o=dv(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const u=await c._get(o);if(u){const d=Ea._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new fd(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(t.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new fd(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jj(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Hq(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nF(e))return"Blackberry";if(rF(e))return"Webos";if(Kq(e))return"Safari";if((e.includes("chrome/")||Jq(e))&&!e.includes("edge/"))return"Chrome";if(tF(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Hq(n=Nr()){return/firefox\//i.test(n)}function Kq(n=Nr()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Jq(n=Nr()){return/crios\//i.test(n)}function eF(n=Nr()){return/iemobile/i.test(n)}function tF(n=Nr()){return/android/i.test(n)}function nF(n=Nr()){return/blackberry/i.test(n)}function rF(n=Nr()){return/webos/i.test(n)}function WR(n=Nr()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function woe(n=Nr()){var e;return WR(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function boe(){return Tte()&&document.documentMode===10}function iF(n=Nr()){return WR(n)||tF(n)||rF(n)||nF(n)||/windows phone/i.test(n)||eF(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sF(n,e=[]){let t;switch(n){case"Browser":t=Jj(Nr());break;case"Worker":t=`${Jj(Nr())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ah}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Soe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function koe(n,e={}){return al(n,"GET","/v2/passwordPolicy",ol(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _oe=6;class Toe{constructor(e){var t,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:_oe,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Poe{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eD(this),this.idTokenSubscription=new eD(this),this.beforeStateQueue=new Soe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qq,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Aa(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await fd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Xq(this,{idToken:e}),r=await Ea._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Qi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Bx(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ooe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qi(this.app))return Promise.reject($a(this));const t=e?Qt(e):null;return t&&Ue(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qi(this.app)?Promise.reject($a(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qi(this.app)?Promise.reject($a(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Aa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await koe(this),t=new Toe(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new jO("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await xoe(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Aa(e)||this._popupRedirectResolver;Ue(t,this,"argument-error"),this.redirectPersistenceManager=await fd.create(this,[Aa(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){const l=e.addObserver(t,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(t);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Qi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&roe(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Fc(n){return Qt(n)}class eD{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ite(t=>this.observer=t)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Coe(n){Xb=n}function oF(n){return Xb.loadJS(n)}function Eoe(){return Xb.recaptchaEnterpriseScript}function Aoe(){return Xb.gapiScript}function Roe(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class Qoe{constructor(){this.enterprise=new Noe}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Noe{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Ioe="recaptcha-enterprise",aF="NO_RECAPTCHA";class $oe{constructor(e){this.type=Ioe,this.auth=Fc(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{doe(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new hoe(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;Gj(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(aF)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Qoe().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!t&&Gj(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Eoe();l.length!==0&&(l+=a),oF(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function tD(n,e,t,r=!1,i=!1){const s=new $oe(n);let o;if(i)o=aF;else try{o=await s.verify(t)}catch{o=await s.verify(t,!0)}const a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Wx(n,e,t,r,i){var s;if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await tD(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await tD(n,e,t,t==="getOobCode");return r(n,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function joe(n,e){const t=Pb(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(Vu(s,e??{}))return i;qs(i,"already-initialized")}return t.initialize({options:e})}function Doe(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Aa);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Moe(n,e,t){const r=Fc(n);Ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=lF(e),{host:o,port:a}=Voe(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},u=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ue(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ue(Vu(c,r.config.emulator)&&Vu(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Loe()}function lF(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Voe(n){const e=lF(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:nD(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:nD(o)}}}function nD(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Loe(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ca("not implemented")}_getIdTokenResponse(e){return Ca("not implemented")}_linkToIdToken(e,t){return Ca("not implemented")}_getReauthenticationResolver(e){return Ca("not implemented")}}async function Uoe(n,e){return al(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zoe(n,e){return XO(n,"POST","/v1/accounts:signInWithPassword",ol(n,e))}async function qoe(n,e){return al(n,"POST","/v1/accounts:sendOobCode",ol(n,e))}async function Foe(n,e){return qoe(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zoe(n,e){return XO(n,"POST","/v1/accounts:signInWithEmailLink",ol(n,e))}async function Boe(n,e){return XO(n,"POST","/v1/accounts:signInWithEmailLink",ol(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg extends XR{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new wg(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new wg(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wx(e,t,"signInWithPassword",zoe);case"emailLink":return Zoe(e,{email:this._email,oobCode:this._password});default:qs(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wx(e,r,"signUpPassword",Uoe);case"emailLink":return Boe(e,{idToken:t,email:this._email,oobCode:this._password});default:qs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pd(n,e){return XO(n,"POST","/v1/accounts:signInWithIdp",ol(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Woe="http://localhost";class Fu extends XR{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Fu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):qs("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=BO(t,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Fu(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return pd(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,pd(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,pd(e,t)}buildRequest(){const e={requestUri:Woe,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=DO(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xoe(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Goe(n){const e=Yp(Hp(n)).link,t=e?Yp(Hp(e)).deep_link_id:null,r=Yp(Hp(n)).deep_link_id;return(r?Yp(Hp(r)).link:null)||r||t||e||n}class GR{constructor(e){var t,r,i,s,o,a;const l=Yp(Hp(e)),c=(t=l.apiKey)!==null&&t!==void 0?t:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=Xoe((i=l.mode)!==null&&i!==void 0?i:null);Ue(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const t=Goe(e);try{return new GR(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(){this.providerId=Vf.PROVIDER_ID}static credential(e,t){return wg._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=GR.parseLink(t);return Ue(r,"argument-error"),wg._fromEmailAndCode(e,r.code,r.tenantId)}}Vf.PROVIDER_ID="password";Vf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO extends cF{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l extends GO{constructor(){super("facebook.com")}static credential(e){return Fu._fromParams({providerId:_l.PROVIDER_ID,signInMethod:_l.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _l.credentialFromTaggedObject(e)}static credentialFromError(e){return _l.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _l.credential(e.oauthAccessToken)}catch{return null}}}_l.FACEBOOK_SIGN_IN_METHOD="facebook.com";_l.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl extends GO{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Fu._fromParams({providerId:Tl.PROVIDER_ID,signInMethod:Tl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Tl.credentialFromTaggedObject(e)}static credentialFromError(e){return Tl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Tl.credential(t,r)}catch{return null}}}Tl.GOOGLE_SIGN_IN_METHOD="google.com";Tl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl extends GO{constructor(){super("github.com")}static credential(e){return Fu._fromParams({providerId:Pl.PROVIDER_ID,signInMethod:Pl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pl.credentialFromTaggedObject(e)}static credentialFromError(e){return Pl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pl.credential(e.oauthAccessToken)}catch{return null}}}Pl.GITHUB_SIGN_IN_METHOD="github.com";Pl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl extends GO{constructor(){super("twitter.com")}static credential(e,t){return Fu._fromParams({providerId:Cl.PROVIDER_ID,signInMethod:Cl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Cl.credentialFromTaggedObject(e)}static credentialFromError(e){return Cl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Cl.credential(t,r)}catch{return null}}}Cl.TWITTER_SIGN_IN_METHOD="twitter.com";Cl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yoe(n,e){return XO(n,"POST","/v1/accounts:signUp",ol(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await Ea._fromIdTokenResponse(e,r,i),o=rD(r);return new Zu({user:s,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=rD(r);return new Zu({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function rD(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx extends Ko{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Xx.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Xx(e,t,r,i)}}function uF(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Xx._fromErrorAndOperation(n,s,e,r):s})}async function Hoe(n,e,t=!1){const r=await xg(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Zu._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Koe(n,e,t=!1){const{auth:r}=n;if(Qi(r.app))return Promise.reject($a(r));const i="reauthenticate";try{const s=await xg(n,uF(r,i,e,n),t);Ue(s.idToken,r,"internal-error");const o=BR(s.idToken);Ue(o,r,"internal-error");const{sub:a}=o;return Ue(n.uid===a,r,"user-mismatch"),Zu._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&qs(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hF(n,e,t=!1){if(Qi(n.app))return Promise.reject($a(n));const r="signIn",i=await uF(n,r,e),s=await Zu._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function Joe(n,e){return hF(Fc(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dF(n){const e=Fc(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function eae(n,e,t){const r=Fc(n);await Wx(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Foe)}async function tae(n,e,t){if(Qi(n.app))return Promise.reject($a(n));const r=Fc(n),o=await Wx(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Yoe).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&dF(n),l}),a=await Zu._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function nae(n,e,t){return Qi(n.app)?Promise.reject($a(n)):Joe(Qt(n),Vf.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&dF(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rae(n,e){return Qt(n).setPersistence(e)}function iae(n,e,t,r){return Qt(n).onIdTokenChanged(e,t,r)}function sae(n,e,t){return Qt(n).beforeAuthStateChanged(e,t)}function oae(n,e,t,r){return Qt(n).onAuthStateChanged(e,t,r)}function aae(n){return Qt(n).signOut()}const Gx="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Gx,"1"),this.storage.removeItem(Gx),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lae=1e3,cae=10;class pF extends fF{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iF(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!t&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);boe()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,cae):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},lae)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}pF.type="LOCAL";const mF=pF;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF extends fF{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}gF.type="SESSION";const OF=gF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uae(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Gb(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(t.origin,s)),l=await uae(a);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gb.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hae{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=YR("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(){return window}function dae(n){Co().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yF(){return typeof Co().WorkerGlobalScope<"u"&&typeof Co().importScripts=="function"}async function fae(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pae(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function mae(){return yF()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vF="firebaseLocalStorageDb",gae=1,Yx="firebaseLocalStorage",xF="fbase_key";class YO{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Yb(n,e){return n.transaction([Yx],e?"readwrite":"readonly").objectStore(Yx)}function Oae(){const n=indexedDB.deleteDatabase(vF);return new YO(n).toPromise()}function mP(){const n=indexedDB.open(vF,gae);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Yx,{keyPath:xF})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Yx)?e(r):(r.close(),await Oae(),e(await mP()))})})}async function iD(n,e,t){const r=Yb(n,!0).put({[xF]:e,value:t});return new YO(r).toPromise()}async function yae(n,e){const t=Yb(n,!1).get(e),r=await new YO(t).toPromise();return r===void 0?null:r.value}function sD(n,e){const t=Yb(n,!0).delete(e);return new YO(t).toPromise()}const vae=800,xae=3;class wF{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mP(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>xae)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yF()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gb._getInstance(mae()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await fae(),!this.activeServiceWorker)return;this.sender=new hae(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pae()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mP();return await iD(e,Gx,"1"),await sD(e,Gx),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>iD(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>yae(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>sD(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Yb(i,!1).getAll();return new YO(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vae)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wF.type="LOCAL";const wae=wF;new WO(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bae(n,e){return e?Aa(e):(Ue(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR extends XR{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return pd(e,this._buildIdpRequest())}_linkToIdToken(e,t){return pd(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return pd(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Sae(n){return hF(n.auth,new HR(n),n.bypassAuthState)}function kae(n){const{auth:e,user:t}=n;return Ue(t,e,"internal-error"),Koe(t,new HR(n),n.bypassAuthState)}async function _ae(n){const{auth:e,user:t}=n;return Ue(t,e,"internal-error"),Hoe(t,new HR(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Sae;case"linkViaPopup":case"linkViaRedirect":return _ae;case"reauthViaPopup":case"reauthViaRedirect":return kae;default:qs(this.auth,"internal-error")}}resolve(e){Wa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tae=new WO(2e3,1e4);class Xh extends bF{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Xh.currentPopupAction&&Xh.currentPopupAction.cancel(),Xh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ue(e,this.auth,"internal-error"),e}async onExecution(){Wa(this.filter.length===1,"Popup operations only handle one event");const e=YR();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Po(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Po(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xh.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Po(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Tae.get())};e()}}Xh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pae="pendingRedirect",fv=new Map;class Cae extends bF{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=fv.get(this.auth._key());if(!e){try{const r=await Eae(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}fv.set(this.auth._key(),e)}return this.bypassAuthState||fv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Eae(n,e){const t=Qae(e),r=Rae(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function Aae(n,e){fv.set(n._key(),e)}function Rae(n){return Aa(n._redirectPersistence)}function Qae(n){return dv(Pae,n.config.apiKey,n.name)}async function Nae(n,e,t=!1){if(Qi(n.app))return Promise.reject($a(n));const r=Fc(n),i=bae(r,e),o=await new Cae(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iae=10*60*1e3;class $ae{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jae(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!SF(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Po(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Iae&&this.cachedEventUids.clear(),this.cachedEventUids.has(oD(e))}saveEventToCache(e){this.cachedEventUids.add(oD(e)),this.lastProcessedEventTime=Date.now()}}function oD(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function SF({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function jae(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return SF(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dae(n,e={}){return al(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mae=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vae=/^https?/;async function Lae(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Dae(n);for(const t of e)try{if(Uae(t))return}catch{}qs(n,"unauthorized-domain")}function Uae(n){const e=fP(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!Vae.test(t))return!1;if(Mae.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zae=new WO(3e4,6e4);function aD(){const n=Co().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function qae(n){return new Promise((e,t)=>{var r,i,s;function o(){aD(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{aD(),t(Po(n,"network-request-failed"))},timeout:zae.get()})}if(!((i=(r=Co().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Co().gapi)===null||s===void 0)&&s.load)o();else{const a=Roe("iframefcb");return Co()[a]=()=>{gapi.load?o():t(Po(n,"network-request-failed"))},oF(`${Aoe()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw pv=null,e})}let pv=null;function Fae(n){return pv=pv||qae(n),pv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zae=new WO(5e3,15e3),Bae="__/auth/iframe",Wae="emulator/auth/iframe",Xae={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gae=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Yae(n){const e=n.config;Ue(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?ZR(e,Wae):`https://${n.config.authDomain}/${Bae}`,r={apiKey:e.apiKey,appName:n.name,v:ah},i=Gae.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${DO(r).slice(1)}`}async function Hae(n){const e=await Fae(n),t=Co().gapi;return Ue(t,n,"internal-error"),e.open({where:document.body,url:Yae(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Xae,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Po(n,"network-request-failed"),a=Co().setTimeout(()=>{s(o)},Zae.get());function l(){Co().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kae={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Jae=500,ele=600,tle="_blank",nle="http://localhost";class lD{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rle(n,e,t,r=Jae,i=ele){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Kae),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Nr().toLowerCase();t&&(a=Jq(c)?tle:t),Hq(c)&&(e=e||nle,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[m,g])=>`${f}${m}=${g},`,"");if(woe(c)&&a!=="_self")return ile(e||"",a),new lD(null);const d=window.open(e||"",a,u);Ue(d,n,"popup-blocked");try{d.focus()}catch{}return new lD(d)}function ile(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sle="__/auth/handler",ole="emulator/auth/handler",ale=encodeURIComponent("fac");async function cD(n,e,t,r,i,s){Ue(n.config.authDomain,n,"auth-domain-config-required"),Ue(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ah,eventId:i};if(e instanceof cF){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",Nte(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))o[u]=d}if(e instanceof GO){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await n._getAppCheckToken(),c=l?`#${ale}=${encodeURIComponent(l)}`:"";return`${lle(n)}?${DO(a).slice(1)}${c}`}function lle({config:n}){return n.emulator?ZR(n,ole):`https://${n.authDomain}/${sle}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk="webStorageSupport";class cle{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=OF,this._completeRedirectFn=Nae,this._overrideRedirectResult=Aae}async _openPopup(e,t,r,i){var s;Wa((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await cD(e,t,r,fP(),i);return rle(e,o,YR())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await cD(e,t,r,fP(),i);return dae(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Wa(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await Hae(e),r=new $ae(e);return t.register("authEvent",i=>(Ue(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(tk,{type:tk},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[tk];o!==void 0&&t(!!o),qs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Lae(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return iF()||Kq()||WR()}}const ule=cle;var uD="@firebase/auth",hD="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hle{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dle(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fle(n){Lu(new fc("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ue(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sF(n)},c=new Poe(r,i,s,l);return Doe(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Lu(new fc("auth-internal",e=>{const t=Fc(e.getProvider("auth").getImmediate());return(r=>new hle(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ko(uD,hD,dle(n)),ko(uD,hD,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ple=5*60,mle=e3("authIdTokenMaxAge")||ple;let dD=null;const gle=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>mle)return;const i=t==null?void 0:t.token;dD!==i&&(dD=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Ole(n=sR()){const e=Pb(n,"auth");if(e.isInitialized())return e.getImmediate();const t=joe(n,{popupRedirectResolver:ule,persistence:[wae,mF,OF]}),r=e3("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=gle(s.toString());sae(t,o,()=>o(t.currentUser)),iae(t,a=>o(a))}}const i=Hz("auth");return i&&Moe(t,`http://${i}`),t}function yle(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Coe({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=Po("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",yle().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fle("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kF="firebasestorage.googleapis.com",_F="storageBucket",vle=2*60*1e3,xle=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn extends Ko{constructor(e,t,r=0){super(nk(e),`Firebase Storage: ${t} (${nk(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,gn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return nk(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var mn;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(mn||(mn={}));function nk(n){return"storage/"+n}function KR(){const n="An unknown error occurred, please check the error payload for server response.";return new gn(mn.UNKNOWN,n)}function wle(n){return new gn(mn.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function ble(n){return new gn(mn.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Sle(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new gn(mn.UNAUTHENTICATED,n)}function kle(){return new gn(mn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function _le(n){return new gn(mn.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function Tle(){return new gn(mn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ple(){return new gn(mn.CANCELED,"User canceled the upload/download.")}function Cle(n){return new gn(mn.INVALID_URL,"Invalid URL '"+n+"'.")}function Ele(n){return new gn(mn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Ale(){return new gn(mn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+_F+"' property when initializing the app?")}function Rle(){return new gn(mn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Qle(){return new gn(mn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Nle(n){return new gn(mn.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function gP(n){return new gn(mn.INVALID_ARGUMENT,n)}function TF(){return new gn(mn.APP_DELETED,"The Firebase app was deleted.")}function Ile(n){return new gn(mn.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function jm(n,e){return new gn(mn.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Tp(n){throw new gn(mn.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Fr.makeFromUrl(e,t)}catch{return new Fr(e,"")}if(r.path==="")return r;throw Ele(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(Q){Q.path.charAt(Q.path.length-1)==="/"&&(Q.path_=Q.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(Q){Q.path_=decodeURIComponent(Q.path)}const u="v[A-Za-z0-9_]+",d=t.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",m=new RegExp(`^https?://${d}/${u}/b/${i}/o${f}`,"i"),g={bucket:1,path:3},y=t===kF?"(?:storage.googleapis.com|storage.cloud.google.com)":t,x="([^?#]*)",w=new RegExp(`^https?://${y}/${i}/${x}`,"i"),P=[{regex:a,indices:l,postModify:s},{regex:m,indices:g,postModify:c},{regex:w,indices:{bucket:1,path:2},postModify:c}];for(let Q=0;Q<P.length;Q++){const C=P[Q],N=C.regex.exec(e);if(N){const O=N[C.indices.bucket];let T=N[C.indices.path];T||(T=""),r=new Fr(O,T),C.postModify(r);break}}if(r==null)throw Cle(e);return r}}class $le{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jle(n,e,t){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...x){c||(c=!0,e.apply(null,x))}function d(x){i=setTimeout(()=>{i=null,n(m,l())},x)}function f(){s&&clearTimeout(s)}function m(x,...w){if(c){f();return}if(x){f(),u.call(null,x,...w);return}if(l()||o){f(),u.call(null,x,...w);return}r<64&&(r*=2);let P;a===1?(a=2,P=0):P=(r+Math.random())*1e3,d(P)}let g=!1;function y(x){g||(g=!0,f(),!c&&(i!==null?(x||(a=2),clearTimeout(i),d(0)):x||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,y(!0)},t),y}function Dle(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mle(n){return n!==void 0}function Vle(n){return typeof n=="object"&&!Array.isArray(n)}function JR(n){return typeof n=="string"||n instanceof String}function fD(n){return eQ()&&n instanceof Blob}function eQ(){return typeof Blob<"u"}function OP(n,e,t,r){if(r<e)throw gP(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw gP(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function PF(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var Tu;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Tu||(Tu={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lle(n,e){const t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,s=e.indexOf(n)!==-1;return t||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ule{constructor(e,t,r,i,s,o,a,l,c,u,d,f=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,g)=>{this.resolve_=m,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new i0(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Tu.NO_ERROR,l=s.getStatus();if(!a||Lle(l,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===Tu.ABORT;r(!1,new i0(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new i0(c,s))})},t=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Mle(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=KR();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?TF():Ple();o(l)}else{const l=Tle();o(l)}};this.canceled_?t(!1,new i0(!1,null,!0)):this.backoffId_=jle(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Dle(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class i0{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function zle(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function qle(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Fle(n,e){e&&(n["X-Firebase-GMPID"]=e)}function Zle(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function Ble(n,e,t,r,i,s,o=!0){const a=PF(n.urlParams),l=n.url+a,c=Object.assign({},n.headers);return Fle(c,e),zle(c,t),qle(c,s),Zle(c,r),new Ule(l,n.method,c,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wle(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Xle(...n){const e=Wle();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(eQ())return new Blob(n);throw new gn(mn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Gle(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yle(n){if(typeof atob>"u")throw Nle("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class rk{constructor(e,t){this.data=e,this.contentType=t||null}}function Hle(n,e){switch(n){case Oo.RAW:return new rk(CF(e));case Oo.BASE64:case Oo.BASE64URL:return new rk(EF(n,e));case Oo.DATA_URL:return new rk(Jle(e),ece(e))}throw KR()}function CF(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=n.charCodeAt(++t);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Kle(n){let e;try{e=decodeURIComponent(n)}catch{throw jm(Oo.DATA_URL,"Malformed data URL.")}return CF(e)}function EF(n,e){switch(n){case Oo.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw jm(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Oo.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw jm(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=Yle(e)}catch(i){throw i.message.includes("polyfill")?i:jm(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class AF{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw jm(Oo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=tce(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Jle(n){const e=new AF(n);return e.base64?EF(Oo.BASE64,e.rest):Kle(e.rest)}function ece(n){return new AF(n).contentType}function tce(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,t){let r=0,i="";fD(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(fD(this.data_)){const r=this.data_,i=Gle(r,e,t);return i===null?null:new El(i)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new El(r,!0)}}static getBlob(...e){if(eQ()){const t=e.map(r=>r instanceof El?r.data_:r);return new El(Xle.apply(null,t))}else{const t=e.map(o=>JR(o)?Hle(Oo.RAW,o).data:o.data_);let r=0;t.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return t.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new El(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tQ(n){let e;try{e=JSON.parse(n)}catch{return null}return Vle(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nce(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function rce(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function RF(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ice(n,e){return e}class Mr{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||ice}}let s0=null;function sce(n){return!JR(n)||n.length<2?n:RF(n)}function QF(){if(s0)return s0;const n=[];n.push(new Mr("bucket")),n.push(new Mr("generation")),n.push(new Mr("metageneration")),n.push(new Mr("name","fullPath",!0));function e(s,o){return sce(o)}const t=new Mr("name");t.xform=e,n.push(t);function r(s,o){return o!==void 0?Number(o):o}const i=new Mr("size");return i.xform=r,n.push(i),n.push(new Mr("timeCreated")),n.push(new Mr("updated")),n.push(new Mr("md5Hash",null,!0)),n.push(new Mr("cacheControl",null,!0)),n.push(new Mr("contentDisposition",null,!0)),n.push(new Mr("contentEncoding",null,!0)),n.push(new Mr("contentLanguage",null,!0)),n.push(new Mr("contentType",null,!0)),n.push(new Mr("metadata","customMetadata",!0)),s0=n,s0}function oce(n,e){function t(){const r=n.bucket,i=n.fullPath,s=new Fr(r,i);return e._makeStorageReference(s)}Object.defineProperty(n,"ref",{get:t})}function ace(n,e,t){const r={};r.type="file";const i=t.length;for(let s=0;s<i;s++){const o=t[s];r[o.local]=o.xform(r,e[o.server])}return oce(r,n),r}function NF(n,e,t){const r=tQ(e);return r===null?null:ace(n,r,t)}function lce(n,e,t,r){const i=tQ(e);if(i===null||!JR(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const u=n.bucket,d=n.fullPath,f="/b/"+o(u)+"/o/"+o(d),m=HO(f,t,r),g=PF({alt:"media",token:c});return m+g})[0]}function cce(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD="prefixes",mD="items";function uce(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[pD])for(const i of t[pD]){const s=i.replace(/\/$/,""),o=n._makeStorageReference(new Fr(e,s));r.prefixes.push(o)}if(t[mD])for(const i of t[mD]){const s=n._makeStorageReference(new Fr(e,i.name));r.items.push(s)}return r}function hce(n,e,t){const r=tQ(t);return r===null?null:uce(n,e,r)}class Hb{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nQ(n){if(!n)throw KR()}function dce(n,e){function t(r,i){const s=NF(n,i,e);return nQ(s!==null),s}return t}function fce(n,e){function t(r,i){const s=hce(n,e,i);return nQ(s!==null),s}return t}function pce(n,e){function t(r,i){const s=NF(n,i,e);return nQ(s!==null),lce(s,i,n.host,n._protocol)}return t}function rQ(n){function e(t,r){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=kle():i=Sle():t.getStatus()===402?i=ble(n.bucket):t.getStatus()===403?i=_le(n.path):i=r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}return e}function IF(n){const e=rQ(n);function t(r,i){let s=e(r,i);return r.getStatus()===404&&(s=wle(n.path)),s.serverResponse=i.serverResponse,s}return t}function mce(n,e,t,r,i){const s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",t.length>0&&(s.delimiter=t),r&&(s.pageToken=r),i&&(s.maxResults=i);const o=e.bucketOnlyServerUrl(),a=HO(o,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,u=new Hb(a,l,fce(n,e.bucket),c);return u.urlParams=s,u.errorHandler=rQ(e),u}function gce(n,e,t){const r=e.fullServerUrl(),i=HO(r,n.host,n._protocol),s="GET",o=n.maxOperationRetryTime,a=new Hb(i,s,pce(n,t),o);return a.errorHandler=IF(e),a}function Oce(n,e){const t=e.fullServerUrl(),r=HO(t,n.host,n._protocol),i="DELETE",s=n.maxOperationRetryTime;function o(l,c){}const a=new Hb(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=IF(e),a}function yce(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function vce(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=yce(null,e)),r}function xce(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let P="";for(let Q=0;Q<2;Q++)P=P+Math.random().toString().slice(2);return P}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=vce(e,r,i),u=cce(c,t),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+l+"--",m=El.getBlob(d,r,f);if(m===null)throw Rle();const g={name:c.fullPath},y=HO(s,n.host,n._protocol),x="POST",w=n.maxUploadRetryTime,k=new Hb(y,x,dce(n,t),w);return k.urlParams=g,k.headers=o,k.body=m.uploadData(),k.errorHandler=rQ(e),k}class wce{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Tu.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Tu.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Tu.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw Tp("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Tp("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Tp("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Tp("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Tp("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class bce extends wce{initXhr(){this.xhr_.responseType="text"}}function Kb(){return new bce}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,t){this._service=e,t instanceof Fr?this._location=t:this._location=Fr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Bu(e,t)}get root(){const e=new Fr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return RF(this._location.path)}get storage(){return this._service}get parent(){const e=nce(this._location.path);if(e===null)return null;const t=new Fr(this._location.bucket,e);return new Bu(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw Ile(e)}}function Sce(n,e,t){n._throwIfRoot("uploadBytes");const r=xce(n.storage,n._location,QF(),new El(e,!0),t);return n.storage.makeRequestWithTokens(r,Kb).then(i=>({metadata:i,ref:n}))}function kce(n){const e={prefixes:[],items:[]};return $F(n,e).then(()=>e)}async function $F(n,e,t){const i=await _ce(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await $F(n,e,i.nextPageToken)}function _ce(n,e){e!=null&&typeof e.maxResults=="number"&&OP("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=mce(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,Kb)}function Tce(n){n._throwIfRoot("getDownloadURL");const e=gce(n.storage,n._location,QF());return n.storage.makeRequestWithTokens(e,Kb).then(t=>{if(t===null)throw Qle();return t})}function Pce(n){n._throwIfRoot("deleteObject");const e=Oce(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Kb)}function Cce(n,e){const t=rce(n._location.path,e),r=new Fr(n._location.bucket,t);return new Bu(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ece(n){return/^[A-Za-z]+:\/\//.test(n)}function Ace(n,e){return new Bu(n,e)}function jF(n,e){if(n instanceof iQ){const t=n;if(t._bucket==null)throw Ale();const r=new Bu(t,t._bucket);return e!=null?jF(r,e):r}else return e!==void 0?Cce(n,e):n}function Rce(n,e){if(e&&Ece(e)){if(n instanceof iQ)return Ace(n,e);throw gP("To use ref(service, url), the first argument must be a Storage instance.")}else return jF(n,e)}function gD(n,e){const t=e==null?void 0:e[_F];return t==null?null:Fr.makeFromBucketSpec(t,n)}function Qce(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken=typeof i=="string"?i:t3(i,n.app.options.projectId))}class iQ{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=kF,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=vle,this._maxUploadRetryTime=xle,this._requests=new Set,i!=null?this._bucket=Fr.makeFromBucketSpec(i,this._host):this._bucket=gD(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Fr.makeFromBucketSpec(this._url,e):this._bucket=gD(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){OP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){OP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Qi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Bu(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new $le(TF());{const o=Ble(e,this._appId,r,i,t,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,t){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()}}const OD="@firebase/storage",yD="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DF="storage";function MF(n,e,t){return n=Qt(n),Sce(n,e,t)}function sQ(n){return n=Qt(n),kce(n)}function VF(n){return n=Qt(n),Tce(n)}function Jb(n){return n=Qt(n),Pce(n)}function Kd(n,e){return n=Qt(n),Rce(n,e)}function LF(n=sR(),e){n=Qt(n);const r=Pb(n,DF).getImmediate({identifier:e}),i=Kz("storage");return i&&Nce(r,...i),r}function Nce(n,e,t,r={}){Qce(n,e,t,r)}function Ice(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new iQ(t,r,i,e,ah)}function $ce(){Lu(new fc(DF,Ice,"PUBLIC").setMultipleInstances(!0)),ko(OD,yD,""),ko(OD,yD,"esm2017")}$ce();const jce={apiKey:"AIzaSyC-w9THFsmPDUI08mN2EZ4OhgtzFJi0x8Y",authDomain:"snippets-app-3c69d.firebaseapp.com",projectId:"snippets-app-3c69d",storageBucket:"snippets-app-3c69d.appspot.com",messagingSenderId:"1092584260018",appId:"1:1092584260018:web:4d6fdca615fc31d592e4ab",measurementId:"G-RSCCGRP7YN"},oQ=i3(jce),Lf=Ole(oQ),re=Vse(oQ),bg=LF(oQ);rae(Lf,mF);const Dce=1,Mce=1e6;let ik=0;function Vce(){return ik=(ik+1)%Number.MAX_SAFE_INTEGER,ik.toString()}const sk=new Map,vD=n=>{if(sk.has(n))return;const e=setTimeout(()=>{sk.delete(n),Dm({type:"REMOVE_TOAST",toastId:n})},Mce);sk.set(n,e)},Lce=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,Dce)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?vD(t):n.toasts.forEach(r=>{vD(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},mv=[];let gv={toasts:[]};function Dm(n){gv=Lce(gv,n),mv.forEach(e=>{e(gv)})}function Uce({...n}){const e=Vce(),t=i=>Dm({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Dm({type:"DISMISS_TOAST",toastId:e});return Dm({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:t}}function In(){const[n,e]=b.useState(gv);return b.useEffect(()=>(mv.push(e),()=>{const t=mv.indexOf(e);t>-1&&mv.splice(t,1)}),[n]),{...n,toast:Uce,dismiss:t=>Dm({type:"DISMISS_TOAST",toastId:t})}}function he(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function zce(n,e){typeof n=="function"?n(e):n!=null&&(n.current=e)}function eS(...n){return e=>n.forEach(t=>zce(t,e))}function Je(...n){return b.useCallback(eS(...n),n)}function qce(n,e=[]){let t=[];function r(s,o){const a=b.createContext(o),l=t.length;t=[...t,o];function c(d){const{scope:f,children:m,...g}=d,y=(f==null?void 0:f[n][l])||a,x=b.useMemo(()=>g,Object.values(g));return h.jsx(y.Provider,{value:x,children:m})}function u(d,f){const m=(f==null?void 0:f[n][l])||a,g=b.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,u]}const i=()=>{const s=t.map(o=>b.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return b.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return i.scopeName=n,[r,Fce(i,...e)]}function Fce(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}var Xa=b.forwardRef((n,e)=>{const{children:t,...r}=n,i=b.Children.toArray(t),s=i.find(Bce);if(s){const o=s.props.children,a=i.map(l=>l===s?b.Children.count(o)>1?b.Children.only(null):b.isValidElement(o)?o.props.children:null:l);return h.jsx(yP,{...r,ref:e,children:b.isValidElement(o)?b.cloneElement(o,void 0,a):null})}return h.jsx(yP,{...r,ref:e,children:t})});Xa.displayName="Slot";var yP=b.forwardRef((n,e)=>{const{children:t,...r}=n;if(b.isValidElement(t)){const i=Xce(t);return b.cloneElement(t,{...Wce(r,t.props),ref:e?eS(e,i):i})}return b.Children.count(t)>1?b.Children.only(null):null});yP.displayName="SlotClone";var Zce=({children:n})=>h.jsx(h.Fragment,{children:n});function Bce(n){return b.isValidElement(n)&&n.type===Zce}function Wce(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?t[r]=(...a)=>{s(...a),i(...a)}:i&&(t[r]=i):r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}function Xce(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function KO(n){const e=n+"CollectionProvider",[t,r]=qce(e),[i,s]=t(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:g,children:y}=m,x=rt.useRef(null),w=rt.useRef(new Map).current;return h.jsx(i,{scope:g,itemMap:w,collectionRef:x,children:y})};o.displayName=e;const a=n+"CollectionSlot",l=rt.forwardRef((m,g)=>{const{scope:y,children:x}=m,w=s(a,y),k=Je(g,w.collectionRef);return h.jsx(Xa,{ref:k,children:x})});l.displayName=a;const c=n+"CollectionItemSlot",u="data-radix-collection-item",d=rt.forwardRef((m,g)=>{const{scope:y,children:x,...w}=m,k=rt.useRef(null),P=Je(g,k),Q=s(c,y);return rt.useEffect(()=>(Q.itemMap.set(k,{ref:k,...w}),()=>void Q.itemMap.delete(k))),h.jsx(Xa,{[u]:"",ref:P,children:x})});d.displayName=c;function f(m){const g=s(n+"CollectionConsumer",m);return rt.useCallback(()=>{const x=g.collectionRef.current;if(!x)return[];const w=Array.from(x.querySelectorAll(`[${u}]`));return Array.from(g.itemMap.values()).sort((Q,C)=>w.indexOf(Q.ref.current)-w.indexOf(C.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:l,ItemSlot:d},f,r]}function Gce(n,e){const t=b.createContext(e),r=s=>{const{children:o,...a}=s,l=b.useMemo(()=>a,Object.values(a));return h.jsx(t.Provider,{value:l,children:o})};r.displayName=n+"Provider";function i(s){const o=b.useContext(t);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${n}\``)}return[r,i]}function Jo(n,e=[]){let t=[];function r(s,o){const a=b.createContext(o),l=t.length;t=[...t,o];const c=d=>{var w;const{scope:f,children:m,...g}=d,y=((w=f==null?void 0:f[n])==null?void 0:w[l])||a,x=b.useMemo(()=>g,Object.values(g));return h.jsx(y.Provider,{value:x,children:m})};c.displayName=s+"Provider";function u(d,f){var y;const m=((y=f==null?void 0:f[n])==null?void 0:y[l])||a,g=b.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=t.map(o=>b.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return b.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return i.scopeName=n,[r,Yce(i,...e)]}function Yce(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}var Hce=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Qe=Hce.reduce((n,e)=>{const t=b.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?Xa:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(a,{...o,ref:i})});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function aQ(n,e){n&&oh.flushSync(()=>n.dispatchEvent(e))}function Ht(n){const e=b.useRef(n);return b.useEffect(()=>{e.current=n}),b.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function Kce(n,e=globalThis==null?void 0:globalThis.document){const t=Ht(n);b.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var Jce="DismissableLayer",vP="dismissableLayer.update",eue="dismissableLayer.pointerDownOutside",tue="dismissableLayer.focusOutside",xD,UF=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),JO=b.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=n,c=b.useContext(UF),[u,d]=b.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=b.useState({}),g=Je(e,O=>d(O)),y=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),w=y.indexOf(x),k=u?y.indexOf(u):-1,P=c.layersWithOutsidePointerEventsDisabled.size>0,Q=k>=w,C=rue(O=>{const T=O.target,S=[...c.branches].some(A=>A.contains(T));!Q||S||(i==null||i(O),o==null||o(O),O.defaultPrevented||a==null||a())},f),N=iue(O=>{const T=O.target;[...c.branches].some(A=>A.contains(T))||(s==null||s(O),o==null||o(O),O.defaultPrevented||a==null||a())},f);return Kce(O=>{k===c.layers.size-1&&(r==null||r(O),!O.defaultPrevented&&a&&(O.preventDefault(),a()))},f),b.useEffect(()=>{if(u)return t&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(xD=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),wD(),()=>{t&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=xD)}},[u,f,t,c]),b.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),wD())},[u,c]),b.useEffect(()=>{const O=()=>m({});return document.addEventListener(vP,O),()=>document.removeEventListener(vP,O)},[]),h.jsx(Qe.div,{...l,ref:g,style:{pointerEvents:P?Q?"auto":"none":void 0,...n.style},onFocusCapture:he(n.onFocusCapture,N.onFocusCapture),onBlurCapture:he(n.onBlurCapture,N.onBlurCapture),onPointerDownCapture:he(n.onPointerDownCapture,C.onPointerDownCapture)})});JO.displayName=Jce;var nue="DismissableLayerBranch",zF=b.forwardRef((n,e)=>{const t=b.useContext(UF),r=b.useRef(null),i=Je(e,r);return b.useEffect(()=>{const s=r.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),h.jsx(Qe.div,{...n,ref:i})});zF.displayName=nue;function rue(n,e=globalThis==null?void 0:globalThis.document){const t=Ht(n),r=b.useRef(!1),i=b.useRef(()=>{});return b.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){qF(eue,t,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function iue(n,e=globalThis==null?void 0:globalThis.document){const t=Ht(n),r=b.useRef(!1);return b.useEffect(()=>{const i=s=>{s.target&&!r.current&&qF(tue,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function wD(){const n=new CustomEvent(vP);document.dispatchEvent(n)}function qF(n,e,t,{discrete:r}){const i=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?aQ(i,s):i.dispatchEvent(s)}var sue=JO,oue=zF,Wn=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},aue="Portal",ey=b.forwardRef((n,e)=>{var a;const{container:t,...r}=n,[i,s]=b.useState(!1);Wn(()=>s(!0),[]);const o=t||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?nee.createPortal(h.jsx(Qe.div,{...r,ref:e}),o):null});ey.displayName=aue;function lue(n,e){return b.useReducer((t,r)=>e[t][r]??t,n)}var ti=n=>{const{present:e,children:t}=n,r=cue(e),i=typeof t=="function"?t({present:r.isPresent}):b.Children.only(t),s=Je(r.ref,uue(i));return typeof t=="function"||r.isPresent?b.cloneElement(i,{ref:s}):null};ti.displayName="Presence";function cue(n){const[e,t]=b.useState(),r=b.useRef({}),i=b.useRef(n),s=b.useRef("none"),o=n?"mounted":"unmounted",[a,l]=lue(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const c=o0(r.current);s.current=a==="mounted"?c:"none"},[a]),Wn(()=>{const c=r.current,u=i.current;if(u!==n){const f=s.current,m=o0(c);n?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&f!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,l]),Wn(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=m=>{const y=o0(r.current).includes(m.animationName);if(m.target===e&&y&&(l("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},f=m=>{m.target===e&&(s.current=o0(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:b.useCallback(c=>{c&&(r.current=getComputedStyle(c)),t(c)},[])}}function o0(n){return(n==null?void 0:n.animationName)||"none"}function uue(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function Ga({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,i]=hue({defaultProp:e,onChange:t}),s=n!==void 0,o=s?n:r,a=Ht(t),l=b.useCallback(c=>{if(s){const d=typeof c=="function"?c(n):c;d!==n&&a(d)}else i(c)},[s,n,i,a]);return[o,l]}function hue({defaultProp:n,onChange:e}){const t=b.useState(n),[r]=t,i=b.useRef(r),s=Ht(e);return b.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),t}var due="VisuallyHidden",tS=b.forwardRef((n,e)=>h.jsx(Qe.span,{...n,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}));tS.displayName=due;var lQ="ToastProvider",[cQ,fue,pue]=KO("Toast"),[FF,TQe]=Jo("Toast",[pue]),[mue,nS]=FF(lQ),ZF=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=n,[a,l]=b.useState(null),[c,u]=b.useState(0),d=b.useRef(!1),f=b.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${lQ}\`. Expected non-empty \`string\`.`),h.jsx(cQ.Provider,{scope:e,children:h.jsx(mue,{scope:e,label:t,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:b.useCallback(()=>u(m=>m+1),[]),onToastRemove:b.useCallback(()=>u(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:f,children:o})})};ZF.displayName=lQ;var BF="ToastViewport",gue=["F8"],xP="toast.viewportPause",wP="toast.viewportResume",WF=b.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=gue,label:i="Notifications ({hotkey})",...s}=n,o=nS(BF,t),a=fue(t),l=b.useRef(null),c=b.useRef(null),u=b.useRef(null),d=b.useRef(null),f=Je(e,d,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;b.useEffect(()=>{const x=w=>{var P;r.length!==0&&r.every(Q=>w[Q]||w.code===Q)&&((P=d.current)==null||P.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),b.useEffect(()=>{const x=l.current,w=d.current;if(g&&x&&w){const k=()=>{if(!o.isClosePausedRef.current){const N=new CustomEvent(xP);w.dispatchEvent(N),o.isClosePausedRef.current=!0}},P=()=>{if(o.isClosePausedRef.current){const N=new CustomEvent(wP);w.dispatchEvent(N),o.isClosePausedRef.current=!1}},Q=N=>{!x.contains(N.relatedTarget)&&P()},C=()=>{x.contains(document.activeElement)||P()};return x.addEventListener("focusin",k),x.addEventListener("focusout",Q),x.addEventListener("pointermove",k),x.addEventListener("pointerleave",C),window.addEventListener("blur",k),window.addEventListener("focus",P),()=>{x.removeEventListener("focusin",k),x.removeEventListener("focusout",Q),x.removeEventListener("pointermove",k),x.removeEventListener("pointerleave",C),window.removeEventListener("blur",k),window.removeEventListener("focus",P)}}},[g,o.isClosePausedRef]);const y=b.useCallback(({tabbingDirection:x})=>{const k=a().map(P=>{const Q=P.ref.current,C=[Q,...Eue(Q)];return x==="forwards"?C:C.reverse()});return(x==="forwards"?k.reverse():k).flat()},[a]);return b.useEffect(()=>{const x=d.current;if(x){const w=k=>{var C,N,O;const P=k.altKey||k.ctrlKey||k.metaKey;if(k.key==="Tab"&&!P){const T=document.activeElement,S=k.shiftKey;if(k.target===x&&S){(C=c.current)==null||C.focus();return}const v=y({tabbingDirection:S?"backwards":"forwards"}),E=v.findIndex(j=>j===T);ok(v.slice(E+1))?k.preventDefault():S?(N=c.current)==null||N.focus():(O=u.current)==null||O.focus()}};return x.addEventListener("keydown",w),()=>x.removeEventListener("keydown",w)}},[a,y]),h.jsxs(oue,{ref:l,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&h.jsx(bP,{ref:c,onFocusFromOutsideViewport:()=>{const x=y({tabbingDirection:"forwards"});ok(x)}}),h.jsx(cQ.Slot,{scope:t,children:h.jsx(Qe.ol,{tabIndex:-1,...s,ref:f})}),g&&h.jsx(bP,{ref:u,onFocusFromOutsideViewport:()=>{const x=y({tabbingDirection:"backwards"});ok(x)}})]})});WF.displayName=BF;var XF="ToastFocusProxy",bP=b.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...i}=n,s=nS(XF,t);return h.jsx(tS,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});bP.displayName=XF;var rS="Toast",Oue="toast.swipeStart",yue="toast.swipeMove",vue="toast.swipeCancel",xue="toast.swipeEnd",GF=b.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:i,onOpenChange:s,...o}=n,[a=!0,l]=Ga({prop:r,defaultProp:i,onChange:s});return h.jsx(ti,{present:t||a,children:h.jsx(Sue,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Ht(n.onPause),onResume:Ht(n.onResume),onSwipeStart:he(n.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:he(n.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:he(n.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:he(n.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});GF.displayName=rS;var[wue,bue]=FF(rS,{onClose(){}}),Sue=b.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:f,onSwipeEnd:m,...g}=n,y=nS(rS,t),[x,w]=b.useState(null),k=Je(e,j=>w(j)),P=b.useRef(null),Q=b.useRef(null),C=i||y.duration,N=b.useRef(0),O=b.useRef(C),T=b.useRef(0),{onToastAdd:S,onToastRemove:A}=y,_=Ht(()=>{var V;(x==null?void 0:x.contains(document.activeElement))&&((V=y.viewport)==null||V.focus()),o()}),v=b.useCallback(j=>{!j||j===1/0||(window.clearTimeout(T.current),N.current=new Date().getTime(),T.current=window.setTimeout(_,j))},[_]);b.useEffect(()=>{const j=y.viewport;if(j){const V=()=>{v(O.current),c==null||c()},U=()=>{const X=new Date().getTime()-N.current;O.current=O.current-X,window.clearTimeout(T.current),l==null||l()};return j.addEventListener(xP,U),j.addEventListener(wP,V),()=>{j.removeEventListener(xP,U),j.removeEventListener(wP,V)}}},[y.viewport,C,l,c,v]),b.useEffect(()=>{s&&!y.isClosePausedRef.current&&v(C)},[s,C,y.isClosePausedRef,v]),b.useEffect(()=>(S(),()=>A()),[S,A]);const E=b.useMemo(()=>x?nZ(x):null,[x]);return y.viewport?h.jsxs(h.Fragment,{children:[E&&h.jsx(kue,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:E}),h.jsx(wue,{scope:t,onClose:_,children:oh.createPortal(h.jsx(cQ.ItemSlot,{scope:t,children:h.jsx(sue,{asChild:!0,onEscapeKeyDown:he(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||_(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:h.jsx(Qe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":y.swipeDirection,...g,ref:k,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:he(n.onKeyDown,j=>{j.key==="Escape"&&(a==null||a(j.nativeEvent),j.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,_()))}),onPointerDown:he(n.onPointerDown,j=>{j.button===0&&(P.current={x:j.clientX,y:j.clientY})}),onPointerMove:he(n.onPointerMove,j=>{if(!P.current)return;const V=j.clientX-P.current.x,U=j.clientY-P.current.y,X=!!Q.current,D=["left","right"].includes(y.swipeDirection),L=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,Y=D?L(0,V):0,Z=D?0:L(0,U),F=j.pointerType==="touch"?10:2,B={x:Y,y:Z},J={originalEvent:j,delta:B};X?(Q.current=B,a0(yue,d,J,{discrete:!1})):bD(B,y.swipeDirection,F)?(Q.current=B,a0(Oue,u,J,{discrete:!1}),j.target.setPointerCapture(j.pointerId)):(Math.abs(V)>F||Math.abs(U)>F)&&(P.current=null)}),onPointerUp:he(n.onPointerUp,j=>{const V=Q.current,U=j.target;if(U.hasPointerCapture(j.pointerId)&&U.releasePointerCapture(j.pointerId),Q.current=null,P.current=null,V){const X=j.currentTarget,D={originalEvent:j,delta:V};bD(V,y.swipeDirection,y.swipeThreshold)?a0(xue,m,D,{discrete:!0}):a0(vue,f,D,{discrete:!0}),X.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),kue=n=>{const{__scopeToast:e,children:t,...r}=n,i=nS(rS,e),[s,o]=b.useState(!1),[a,l]=b.useState(!1);return Pue(()=>o(!0)),b.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:h.jsx(ey,{asChild:!0,children:h.jsx(tS,{...r,children:s&&h.jsxs(h.Fragment,{children:[i.label," ",t]})})})},_ue="ToastTitle",YF=b.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return h.jsx(Qe.div,{...r,ref:e})});YF.displayName=_ue;var Tue="ToastDescription",HF=b.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return h.jsx(Qe.div,{...r,ref:e})});HF.displayName=Tue;var KF="ToastAction",JF=b.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?h.jsx(tZ,{altText:t,asChild:!0,children:h.jsx(uQ,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${KF}\`. Expected non-empty \`string\`.`),null)});JF.displayName=KF;var eZ="ToastClose",uQ=b.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,i=bue(eZ,t);return h.jsx(tZ,{asChild:!0,children:h.jsx(Qe.button,{type:"button",...r,ref:e,onClick:he(n.onClick,i.onClose)})})});uQ.displayName=eZ;var tZ=b.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...i}=n;return h.jsx(Qe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function nZ(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Cue(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...nZ(r))}}),e}function a0(n,e,t,{discrete:r}){const i=t.originalEvent.currentTarget,s=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?aQ(i,s):i.dispatchEvent(s)}var bD=(n,e,t=0)=>{const r=Math.abs(n.x),i=Math.abs(n.y),s=r>i;return e==="left"||e==="right"?s&&r>t:!s&&i>t};function Pue(n=()=>{}){const e=Ht(n);Wn(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function Cue(n){return n.nodeType===n.ELEMENT_NODE}function Eue(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function ok(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var Aue=ZF,rZ=WF,iZ=GF,sZ=YF,oZ=HF,aZ=JF,lZ=uQ;function cZ(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=cZ(n[e]))&&(r&&(r+=" "),r+=t);else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function Rue(){for(var n,e,t=0,r="";t<arguments.length;)(n=arguments[t++])&&(e=cZ(n))&&(r&&(r+=" "),r+=e);return r}const SD=n=>typeof n=="boolean"?"".concat(n):n===0?"0":n,kD=Rue,Uf=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return kD(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const u=t==null?void 0:t[c],d=s==null?void 0:s[c];if(u===null)return null;const f=SD(u)||SD(d);return i[c][f]}),a=t&&Object.entries(t).reduce((c,u)=>{let[d,f]=u;return f===void 0||(c[d]=f),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:f,...m}=u;return Object.entries(m).every(g=>{let[y,x]=g;return Array.isArray(x)?x.includes({...s,...a}[y]):{...s,...a}[y]===x})?[...c,d,f]:c},[]);return kD(n,o,l,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Que=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uZ=(...n)=>n.filter((e,t,r)=>!!e&&r.indexOf(e)===t).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Nue={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iue=b.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>b.createElement("svg",{ref:l,...Nue,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:uZ("lucide",i),...a},[...o.map(([c,u])=>b.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=(n,e)=>{const t=b.forwardRef(({className:r,...i},s)=>b.createElement(Iue,{ref:s,iconNode:e,className:uZ(`lucide-${Que(n)}`,r),...i}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ue=et("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=et("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=et("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=et("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hZ=et("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=et("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jue=et("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=et("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dZ=et("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=et("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Due=et("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mue=et("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=et("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vue=et("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lue=et("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uue=et("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wh=et("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zue=et("FolderClosed",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"M2 10h20",key:"1ir3d8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=et("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=et("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=et("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const que=et("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fue=et("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zue=et("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=et("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=et("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=et("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bue=et("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=et("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wue=et("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fZ=et("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=et("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=et("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=et("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xue=et("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=et("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=et("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pZ=et("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mZ=et("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gue=et("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=et("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function gZ(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=gZ(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Yue(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=gZ(n))&&(r&&(r+=" "),r+=e);return r}const hQ="-",Hue=n=>{const e=Jue(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:o=>{const a=o.split(hQ);return a[0]===""&&a.length!==1&&a.shift(),OZ(a,e)||Kue(o)},getConflictingClassGroupIds:(o,a)=>{const l=t[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},OZ=(n,e)=>{var o;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?OZ(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=n.join(hQ);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},CD=/^\[(.+)\]$/,Kue=n=>{if(CD.test(n)){const e=CD.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},Jue=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return the(Object.entries(n.classGroups),t).forEach(([s,o])=>{_P(o,r,s,e)}),r},_P=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const s=i===""?e:ED(e,i);s.classGroupId=t;return}if(typeof i=="function"){if(ehe(i)){_P(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([s,o])=>{_P(o,ED(e,s),t,r)})})},ED=(n,e)=>{let t=n;return e.split(hQ).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},ehe=n=>n.isThemeGetter,the=(n,e)=>e?n.map(([t,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[t,i]}):n,nhe=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(s,o)=>{t.set(s,o),e++,e>n&&(e=0,r=t,t=new Map)};return{get(s){let o=t.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){t.has(s)?t.set(s,o):i(s,o)}}},yZ="!",rhe=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,u=0,d;for(let x=0;x<a.length;x++){let w=a[x];if(c===0){if(w===i&&(r||a.slice(x,x+s)===e)){l.push(a.slice(u,x)),u=x+s;continue}if(w==="/"){d=x;continue}}w==="["?c++:w==="]"&&c--}const f=l.length===0?a:a.substring(u),m=f.startsWith(yZ),g=m?f.substring(1):f,y=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:y}};return t?a=>t({className:a,parseClassName:o}):o},ihe=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},she=n=>({cache:nhe(n.cacheSize),parseClassName:rhe(n),...Hue(n)}),ohe=/\s+/,ahe=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=n.trim().split(ohe);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:m}=t(c);let g=!!m,y=r(g?f.substring(0,m):f);if(!y){if(!g){a=c+(a.length>0?" "+a:a);continue}if(y=r(f),!y){a=c+(a.length>0?" "+a:a);continue}g=!1}const x=ihe(u).join(":"),w=d?x+yZ:x,k=w+y;if(s.includes(k))continue;s.push(k);const P=i(y,g);for(let Q=0;Q<P.length;++Q){const C=P[Q];s.push(w+C)}a=c+(a.length>0?" "+a:a)}return a};function lhe(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=vZ(e))&&(r&&(r+=" "),r+=t);return r}const vZ=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=vZ(n[r]))&&(t&&(t+=" "),t+=e);return t};function che(n,...e){let t,r,i,s=o;function o(l){const c=e.reduce((u,d)=>d(u),n());return t=she(c),r=t.cache.get,i=t.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=ahe(l,t);return i(l,u),u}return function(){return s(lhe.apply(null,arguments))}}const zt=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},xZ=/^\[(?:([a-z-]+):)?(.+)\]$/i,uhe=/^\d+\/\d+$/,hhe=new Set(["px","full","screen"]),dhe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,fhe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,phe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,mhe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ghe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,la=n=>md(n)||hhe.has(n)||uhe.test(n),ml=n=>Bf(n,"length",khe),md=n=>!!n&&!Number.isNaN(Number(n)),ak=n=>Bf(n,"number",md),Pp=n=>!!n&&Number.isInteger(Number(n)),Ohe=n=>n.endsWith("%")&&md(n.slice(0,-1)),Ke=n=>xZ.test(n),gl=n=>dhe.test(n),yhe=new Set(["length","size","percentage"]),vhe=n=>Bf(n,yhe,wZ),xhe=n=>Bf(n,"position",wZ),whe=new Set(["image","url"]),bhe=n=>Bf(n,whe,The),She=n=>Bf(n,"",_he),Cp=()=>!0,Bf=(n,e,t)=>{const r=xZ.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},khe=n=>fhe.test(n)&&!phe.test(n),wZ=()=>!1,_he=n=>mhe.test(n),The=n=>ghe.test(n),Phe=()=>{const n=zt("colors"),e=zt("spacing"),t=zt("blur"),r=zt("brightness"),i=zt("borderColor"),s=zt("borderRadius"),o=zt("borderSpacing"),a=zt("borderWidth"),l=zt("contrast"),c=zt("grayscale"),u=zt("hueRotate"),d=zt("invert"),f=zt("gap"),m=zt("gradientColorStops"),g=zt("gradientColorStopPositions"),y=zt("inset"),x=zt("margin"),w=zt("opacity"),k=zt("padding"),P=zt("saturate"),Q=zt("scale"),C=zt("sepia"),N=zt("skew"),O=zt("space"),T=zt("translate"),S=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],_=()=>["auto",Ke,e],v=()=>[Ke,e],E=()=>["",la,ml],j=()=>["auto",md,Ke],V=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],X=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",Ke],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>[md,Ke];return{cacheSize:500,separator:":",theme:{colors:[Cp],spacing:[la,ml],blur:["none","",gl,Ke],brightness:Z(),borderColor:[n],borderRadius:["none","","full",gl,Ke],borderSpacing:v(),borderWidth:E(),contrast:Z(),grayscale:L(),hueRotate:Z(),invert:L(),gap:v(),gradientColorStops:[n],gradientColorStopPositions:[Ohe,ml],inset:_(),margin:_(),opacity:Z(),padding:v(),saturate:Z(),scale:Z(),sepia:L(),skew:Z(),space:v(),translate:v()},classGroups:{aspect:[{aspect:["auto","square","video",Ke]}],container:["container"],columns:[{columns:[gl]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...V(),Ke]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Pp,Ke]}],basis:[{basis:_()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ke]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",Pp,Ke]}],"grid-cols":[{"grid-cols":[Cp]}],"col-start-end":[{col:["auto",{span:["full",Pp,Ke]},Ke]}],"col-start":[{"col-start":j()}],"col-end":[{"col-end":j()}],"grid-rows":[{"grid-rows":[Cp]}],"row-start-end":[{row:["auto",{span:[Pp,Ke]},Ke]}],"row-start":[{"row-start":j()}],"row-end":[{"row-end":j()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ke]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ke]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[k]}],px:[{px:[k]}],py:[{py:[k]}],ps:[{ps:[k]}],pe:[{pe:[k]}],pt:[{pt:[k]}],pr:[{pr:[k]}],pb:[{pb:[k]}],pl:[{pl:[k]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[O]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[O]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ke,e]}],"min-w":[{"min-w":[Ke,e,"min","max","fit"]}],"max-w":[{"max-w":[Ke,e,"none","full","min","max","fit","prose",{screen:[gl]},gl]}],h:[{h:[Ke,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ke,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ke,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ke,e,"auto","min","max","fit"]}],"font-size":[{text:["base",gl,ml]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ak]}],"font-family":[{font:[Cp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ke]}],"line-clamp":[{"line-clamp":["none",md,ak]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",la,Ke]}],"list-image":[{"list-image":["none",Ke]}],"list-style-type":[{list:["none","disc","decimal",Ke]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",la,ml]}],"underline-offset":[{"underline-offset":["auto",la,Ke]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:v()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...V(),xhe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",vhe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},bhe]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:U()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[la,Ke]}],"outline-w":[{outline:[la,ml]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:E()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[la,ml]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",gl,She]}],"shadow-color":[{shadow:[Cp]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...X(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":X()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",gl,Ke]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[P]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[P]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ke]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",Ke]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ke]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[Q]}],"scale-x":[{"scale-x":[Q]}],"scale-y":[{"scale-y":[Q]}],rotate:[{rotate:[Pp,Ke]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ke]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ke]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":v()}],"scroll-mx":[{"scroll-mx":v()}],"scroll-my":[{"scroll-my":v()}],"scroll-ms":[{"scroll-ms":v()}],"scroll-me":[{"scroll-me":v()}],"scroll-mt":[{"scroll-mt":v()}],"scroll-mr":[{"scroll-mr":v()}],"scroll-mb":[{"scroll-mb":v()}],"scroll-ml":[{"scroll-ml":v()}],"scroll-p":[{"scroll-p":v()}],"scroll-px":[{"scroll-px":v()}],"scroll-py":[{"scroll-py":v()}],"scroll-ps":[{"scroll-ps":v()}],"scroll-pe":[{"scroll-pe":v()}],"scroll-pt":[{"scroll-pt":v()}],"scroll-pr":[{"scroll-pr":v()}],"scroll-pb":[{"scroll-pb":v()}],"scroll-pl":[{"scroll-pl":v()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ke]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[la,ml,ak]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Che=che(Phe);function we(...n){return Che(Yue(n))}const Ehe=Aue,bZ=b.forwardRef(({className:n,...e},t)=>h.jsx(rZ,{ref:t,className:we("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));bZ.displayName=rZ.displayName;const Ahe=Uf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),SZ=b.forwardRef(({className:n,variant:e,...t},r)=>h.jsx(iZ,{ref:r,className:we(Ahe({variant:e}),n),...t}));SZ.displayName=iZ.displayName;const Rhe=b.forwardRef(({className:n,...e},t)=>h.jsx(aZ,{ref:t,className:we("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));Rhe.displayName=aZ.displayName;const kZ=b.forwardRef(({className:n,...e},t)=>h.jsx(lZ,{ref:t,className:we("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:h.jsx(Zf,{className:"h-4 w-4"})}));kZ.displayName=lZ.displayName;const _Z=b.forwardRef(({className:n,...e},t)=>h.jsx(sZ,{ref:t,className:we("text-sm font-semibold",n),...e}));_Z.displayName=sZ.displayName;const TZ=b.forwardRef(({className:n,...e},t)=>h.jsx(oZ,{ref:t,className:we("text-sm opacity-90",n),...e}));TZ.displayName=oZ.displayName;function Qhe(){const{toasts:n}=In();return h.jsxs(Ehe,{children:[n.map(function({id:e,title:t,description:r,action:i,...s}){return h.jsxs(SZ,{...s,children:[h.jsxs("div",{className:"grid gap-1",children:[t&&h.jsx(_Z,{children:t}),r&&h.jsx(TZ,{children:r})]}),i,h.jsx(kZ,{})]},e)}),h.jsx(bZ,{})]})}async function Nhe(n,e){try{console.log("Attempting to sign in:",n);const t=await nae(Lf,n,e);console.log("Sign in successful:",t.user.uid);const r=await bi(Ze(re,"users",t.user.uid));return console.log("User document exists:",r.exists()),r.exists()||(await Uq(Ze(re,"users",t.user.uid),{email:t.user.email,createdAt:qu(),isAdmin:!1,role:"free",settings:{theme:"light",fontSize:14}}),console.log("Created new user document")),window.location.href="/",t.user}catch(t){throw console.error("Sign in error:",t),new Error(t.message)}}async function Ihe(n,e){try{const t=await tae(Lf,n,e);return await Uq(Ze(re,"users",t.user.uid),{email:t.user.email,createdAt:qu(),isAdmin:!1,role:"free",settings:{theme:"light",fontSize:14}}),t.user}catch(t){throw new Error(t.message)}}async function $he(){await aae(Lf)}async function jhe(n){await eae(Lf,n)}function nn(){const{data:n,isLoading:e}=Mu({queryKey:["auth"],queryFn:()=>new Promise(t=>{const r=oae(Lf,i=>{r(),t(i)})}),staleTime:1/0});return{user:n,isLoading:e,isAuthenticated:!!n}}const PZ=[{id:"default",name:"Default",description:"The default light theme",type:"color",theme:{name:"Default",description:"Clean, minimal light theme",preview:{primary:"#0f172a",secondary:"#64748b",accent:"#2563eb",background:"#ffffff"},variables:{"--background":"0 0% 100%","--foreground":"222.2 47.4% 11.2%","--card":"0 0% 100%","--card-foreground":"222.2 47.4% 11.2%","--popover":"0 0% 100%","--popover-foreground":"222.2 47.4% 11.2%","--primary":"222.2 47.4% 11.2%","--primary-foreground":"210 40% 98%","--secondary":"210 40% 96.1%","--secondary-foreground":"222.2 47.4% 11.2%","--muted":"210 40% 96.1%","--muted-foreground":"215.4 16.3% 46.9%","--accent":"210 40% 96.1%","--accent-foreground":"222.2 47.4% 11.2%","--destructive":"0 84.2% 60.2%","--destructive-foreground":"210 40% 98%","--border":"214.3 31.8% 91.4%","--input":"214.3 31.8% 91.4%","--ring":"222.2 47.4% 11.2%","--radius":"0.5rem"}}},{id:"dark",name:"Dark",description:"Dark mode theme",type:"color",theme:{name:"Dark",description:"Sleek dark theme",preview:{primary:"#f8fafc",secondary:"#94a3b8",accent:"#3b82f6",background:"#020617"},variables:{"--background":"222.2 84% 4.9%","--foreground":"210 40% 98%","--card":"222.2 84% 4.9%","--card-foreground":"210 40% 98%","--popover":"222.2 84% 4.9%","--popover-foreground":"210 40% 98%","--primary":"210 40% 98%","--primary-foreground":"222.2 47.4% 11.2%","--secondary":"217.2 32.6% 17.5%","--secondary-foreground":"210 40% 98%","--muted":"217.2 32.6% 17.5%","--muted-foreground":"215 20.2% 65.1%","--accent":"217.2 32.6% 17.5%","--accent-foreground":"210 40% 98%","--destructive":"0 62.8% 30.6%","--destructive-foreground":"210 40% 98%","--border":"217.2 32.6% 17.5%","--input":"217.2 32.6% 17.5%","--ring":"212.7 26.8% 83.9%","--radius":"0.5rem"}}},{id:"blue",name:"Blue",description:"Calming blue theme",type:"color",theme:{name:"Blue",description:"Soothing blue color scheme",preview:{primary:"#1e40af",secondary:"#60a5fa",accent:"#3b82f6",background:"#eff6ff"},variables:{"--background":"213.8 100% 96.9%","--foreground":"224 71.4% 4.1%","--card":"0 0% 100%","--card-foreground":"224 71.4% 4.1%","--popover":"0 0% 100%","--popover-foreground":"224 71.4% 4.1%","--primary":"221.2 83.2% 53.3%","--primary-foreground":"210 40% 98%","--secondary":"214.3 94.6% 92.7%","--secondary-foreground":"222.2 47.4% 11.2%","--muted":"214.3 94.6% 92.7%","--muted-foreground":"215.4 16.3% 46.9%","--accent":"214.3 94.6% 92.7%","--accent-foreground":"222.2 47.4% 11.2%","--destructive":"0 84.2% 60.2%","--destructive-foreground":"210 40% 98%","--border":"214.3 31.8% 91.4%","--input":"214.3 31.8% 91.4%","--ring":"221.2 83.2% 53.3%","--radius":"0.5rem"}}},{id:"green",name:"Green",description:"Fresh green theme",type:"color",theme:{name:"Green",description:"Refreshing green color scheme",preview:{primary:"#166534",secondary:"#4ade80",accent:"#22c55e",background:"#f0fdf4"},variables:{"--background":"142.1 76.2% 96.7%","--foreground":"142.1 76.2% 11.2%","--card":"0 0% 100%","--card-foreground":"142.1 76.2% 11.2%","--popover":"0 0% 100%","--popover-foreground":"142.1 76.2% 11.2%","--primary":"142.1 76.2% 36.3%","--primary-foreground":"355.7 100% 97.3%","--secondary":"142.1 76.2% 96.7%","--secondary-foreground":"142.1 76.2% 11.2%","--muted":"142.1 76.2% 96.7%","--muted-foreground":"142.1 76.2% 36.3%","--accent":"142.1 76.2% 96.7%","--accent-foreground":"142.1 76.2% 11.2%","--destructive":"0 84.2% 60.2%","--destructive-foreground":"210 40% 98%","--border":"142.1 76.2% 86.7%","--input":"142.1 76.2% 86.7%","--ring":"142.1 76.2% 36.3%","--radius":"0.5rem"}}},{id:"purple",name:"Purple",description:"Rich purple theme",type:"color",theme:{name:"Purple",description:"Elegant purple color scheme",preview:{primary:"#6b21a8",secondary:"#c084fc",accent:"#a855f7",background:"#faf5ff"},variables:{"--background":"270 100% 98%","--foreground":"272.9 73.5% 28.8%","--card":"0 0% 100%","--card-foreground":"272.9 73.5% 28.8%","--popover":"0 0% 100%","--popover-foreground":"272.9 73.5% 28.8%","--primary":"272.9 73.5% 28.8%","--primary-foreground":"0 0% 100%","--secondary":"270 100% 98%","--secondary-foreground":"272.9 73.5% 28.8%","--muted":"270 100% 98%","--muted-foreground":"272.9 73.5% 52.4%","--accent":"270 100% 98%","--accent-foreground":"272.9 73.5% 28.8%","--destructive":"0 84.2% 60.2%","--destructive-foreground":"210 40% 98%","--border":"270 100% 88%","--input":"270 100% 88%","--ring":"272.9 73.5% 28.8%","--radius":"0.5rem"}}}],CZ=[{id:"sunset",name:"Sunset",description:"Warm sunset gradient",type:"gradient",theme:{name:"Sunset",description:"Warm orange to purple gradient",preview:{primary:"#f97316",secondary:"#c026d3",accent:"#f59e0b",background:"linear-gradient(to right, #f97316, #c026d3)"},variables:{"--background":"0 0% 100%","--foreground":"20 14.3% 4.1%","--card":"0 0% 100%","--card-foreground":"20 14.3% 4.1%","--popover":"0 0% 100%","--popover-foreground":"20 14.3% 4.1%","--primary":"24.6 95% 53.1%","--primary-foreground":"60 9.1% 97.8%","--secondary":"60 4.8% 95.9%","--secondary-foreground":"24 9.8% 10%","--muted":"60 4.8% 95.9%","--muted-foreground":"25 5.3% 44.7%","--accent":"60 4.8% 95.9%","--accent-foreground":"24 9.8% 10%","--destructive":"0 84.2% 60.2%","--destructive-foreground":"60 9.1% 97.8%","--border":"20 5.9% 90%","--input":"20 5.9% 90%","--ring":"24.6 95% 53.1%","--radius":"0.5rem"}}},{id:"ocean",name:"Ocean",description:"Cool ocean gradient",type:"gradient",theme:{name:"Ocean",description:"Calming blue to teal gradient",preview:{primary:"#0ea5e9",secondary:"#14b8a6",accent:"#06b6d4",background:"linear-gradient(to right, #0ea5e9, #14b8a6)"},variables:{"--background":"0 0% 100%","--foreground":"222.2 84% 4.9%","--card":"0 0% 100%","--card-foreground":"222.2 84% 4.9%","--popover":"0 0% 100%","--popover-foreground":"222.2 84% 4.9%","--primary":"199 89% 48%","--primary-foreground":"0 0% 100%","--secondary":"0 0% 96.1%","--secondary-foreground":"222.2 47.4% 11.2%","--muted":"0 0% 96.1%","--muted-foreground":"215.4 16.3% 46.9%","--accent":"0 0% 96.1%","--accent-foreground":"222.2 47.4% 11.2%","--destructive":"0 84.2% 60.2%","--destructive-foreground":"210 40% 98%","--border":"214.3 31.8% 91.4%","--input":"214.3 31.8% 91.4%","--ring":"199 89% 48%","--radius":"0.5rem"}}},{id:"forest",name:"Forest",description:"Natural forest gradient",type:"gradient",theme:{name:"Forest",description:"Earthy green to brown gradient",preview:{primary:"#166534",secondary:"#854d0e",accent:"#4d7c0f",background:"linear-gradient(to right, #166534, #854d0e)"},variables:{"--background":"0 0% 100%","--foreground":"123 11% 9%","--card":"0 0% 100%","--card-foreground":"123 11% 9%","--popover":"0 0% 100%","--popover-foreground":"123 11% 9%","--primary":"123 41% 24%","--primary-foreground":"0 0% 100%","--secondary":"80 4.8% 95.9%","--secondary-foreground":"123 11% 9%","--muted":"80 4.8% 95.9%","--muted-foreground":"123 11% 40%","--accent":"80 4.8% 95.9%","--accent-foreground":"123 11% 9%","--destructive":"0 84.2% 60.2%","--destructive-foreground":"0 0% 100%","--border":"123 11% 90%","--input":"123 11% 90%","--ring":"123 41% 24%","--radius":"0.5rem"}}}],EZ=[...PZ,...CZ];function Dhe(n){return EZ.find(e=>e.id===n)}function dQ(){const{user:n}=nn(),[e,t]=b.useState(()=>typeof window<"u"&&localStorage.getItem("theme")||"default"),r=s=>{const o=window.document.documentElement;o.classList.remove("light","dark"),EZ.forEach(c=>o.classList.remove(c.id));const a=s==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"default":s;o.classList.add(a);const l=Dhe(a);l&&(l.type==="gradient"&&o.style.setProperty("--gradient-background",l.theme.preview.background),Object.entries(l.theme.variables).forEach(([c,u])=>{o.style.setProperty(c,u)}))};return b.useEffect(()=>{(async()=>{var o;if(n){const a=await bi(Ze(re,"users",n.uid));if(a.exists()){const l=a.data();(o=l.settings)!=null&&o.theme&&(t(l.settings.theme),r(l.settings.theme))}}})()},[n]),b.useEffect(()=>{r(e)},[e]),{theme:e,setTheme:async s=>{t(s),localStorage.setItem("theme",s),r(s),n&&await wi(Ze(re,"users",n.uid),{"settings.theme":s})}}}function AZ(){const{user:n}=nn(),[e,t]=b.useState(()=>typeof window<"u"?parseInt(localStorage.getItem("fontSize")||"14",10):14),r=s=>{window.document.documentElement.style.setProperty("--font-size",`${s}px`)};return b.useEffect(()=>{(async()=>{var o;if(n){const a=await bi(Ze(re,"users",n.uid));if(a.exists()){const l=a.data();(o=l.settings)!=null&&o.fontSize&&(t(l.settings.fontSize),r(l.settings.fontSize))}}})()},[n]),b.useEffect(()=>{r(e)},[e]),{fontSize:e,setFontSize:async s=>{t(s),localStorage.setItem("fontSize",s.toString()),r(s),n&&await wi(Ze(re,"users",n.uid),{"settings.fontSize":s})}}}const Mhe=Uf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),K=b.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...i},s)=>{const o=r?Xa:"button";return h.jsx(o,{className:we(Mhe({variant:e,size:t,className:n})),ref:s,...i})});K.displayName="Button";const Tt=b.forwardRef(({className:n,type:e,...t},r)=>h.jsx("input",{type:e,className:we("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:r,...t}));Tt.displayName="Input";var Vhe=b.createContext(void 0);function Wf(n){const e=b.useContext(Vhe);return n||e||"ltr"}function Sg(n,[e,t]){return Math.min(t,Math.max(e,n))}function Lhe(n,e){return b.useReducer((t,r)=>e[t][r]??t,n)}var fQ="ScrollArea",[RZ,PQe]=Jo(fQ),[Uhe,ms]=RZ(fQ),QZ=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,type:r="hover",dir:i,scrollHideDelay:s=600,...o}=n,[a,l]=b.useState(null),[c,u]=b.useState(null),[d,f]=b.useState(null),[m,g]=b.useState(null),[y,x]=b.useState(null),[w,k]=b.useState(0),[P,Q]=b.useState(0),[C,N]=b.useState(!1),[O,T]=b.useState(!1),S=Je(e,_=>l(_)),A=Wf(i);return h.jsx(Uhe,{scope:t,type:r,dir:A,scrollHideDelay:s,scrollArea:a,viewport:c,onViewportChange:u,content:d,onContentChange:f,scrollbarX:m,onScrollbarXChange:g,scrollbarXEnabled:C,onScrollbarXEnabledChange:N,scrollbarY:y,onScrollbarYChange:x,scrollbarYEnabled:O,onScrollbarYEnabledChange:T,onCornerWidthChange:k,onCornerHeightChange:Q,children:h.jsx(Qe.div,{dir:A,...o,ref:S,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":P+"px",...n.style}})})});QZ.displayName=fQ;var NZ="ScrollAreaViewport",IZ=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,children:r,asChild:i,nonce:s,...o}=n,a=ms(NZ,t),l=b.useRef(null),c=Je(e,l,a.onViewportChange);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:s}),h.jsx(Qe.div,{"data-radix-scroll-area-viewport":"",...o,asChild:i,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...n.style},children:Hhe({asChild:i,children:r},u=>h.jsx("div",{"data-radix-scroll-area-content":"",ref:a.onContentChange,style:{minWidth:a.scrollbarXEnabled?"fit-content":void 0},children:u}))})]})});IZ.displayName=NZ;var ea="ScrollAreaScrollbar",pQ=b.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=ms(ea,n.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,a=n.orientation==="horizontal";return b.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),i.type==="hover"?h.jsx(zhe,{...r,ref:e,forceMount:t}):i.type==="scroll"?h.jsx(qhe,{...r,ref:e,forceMount:t}):i.type==="auto"?h.jsx($Z,{...r,ref:e,forceMount:t}):i.type==="always"?h.jsx(mQ,{...r,ref:e}):null});pQ.displayName=ea;var zhe=b.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=ms(ea,n.__scopeScrollArea),[s,o]=b.useState(!1);return b.useEffect(()=>{const a=i.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),o(!0)},u=()=>{l=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),h.jsx(ti,{present:t||s,children:h.jsx($Z,{"data-state":s?"visible":"hidden",...r,ref:e})})}),qhe=b.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=ms(ea,n.__scopeScrollArea),s=n.orientation==="horizontal",o=aS(()=>l("SCROLL_END"),100),[a,l]=Lhe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,i.scrollHideDelay,l]),b.useEffect(()=>{const c=i.viewport,u=s?"scrollLeft":"scrollTop";if(c){let d=c[u];const f=()=>{const m=c[u];d!==m&&(l("SCROLL"),o()),d=m};return c.addEventListener("scroll",f),()=>c.removeEventListener("scroll",f)}},[i.viewport,s,l,o]),h.jsx(ti,{present:t||a!=="hidden",children:h.jsx(mQ,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:he(n.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:he(n.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),$Z=b.forwardRef((n,e)=>{const t=ms(ea,n.__scopeScrollArea),{forceMount:r,...i}=n,[s,o]=b.useState(!1),a=n.orientation==="horizontal",l=aS(()=>{if(t.viewport){const c=t.viewport.offsetWidth<t.viewport.scrollWidth,u=t.viewport.offsetHeight<t.viewport.scrollHeight;o(a?c:u)}},10);return Jd(t.viewport,l),Jd(t.content,l),h.jsx(ti,{present:r||s,children:h.jsx(mQ,{"data-state":s?"visible":"hidden",...i,ref:e})})}),mQ=b.forwardRef((n,e)=>{const{orientation:t="vertical",...r}=n,i=ms(ea,n.__scopeScrollArea),s=b.useRef(null),o=b.useRef(0),[a,l]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=LZ(a.viewport,a.content),u={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:f=>s.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function d(f,m){return Ghe(f,o.current,a,m)}return t==="horizontal"?h.jsx(Fhe,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const f=i.viewport.scrollLeft,m=AD(f,a,i.dir);s.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollLeft=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollLeft=d(f,i.dir))}}):t==="vertical"?h.jsx(Zhe,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const f=i.viewport.scrollTop,m=AD(f,a);s.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollTop=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollTop=d(f))}}):null}),Fhe=b.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...i}=n,s=ms(ea,n.__scopeScrollArea),[o,a]=b.useState(),l=b.useRef(null),c=Je(e,l,s.onScrollbarXChange);return b.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),h.jsx(DZ,{"data-orientation":"horizontal",...i,ref:c,sizes:t,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":oS(t)+"px",...n.style},onThumbPointerDown:u=>n.onThumbPointerDown(u.x),onDragScroll:u=>n.onDragScroll(u.x),onWheelScroll:(u,d)=>{if(s.viewport){const f=s.viewport.scrollLeft+u.deltaX;n.onWheelScroll(f),zZ(f,d)&&u.preventDefault()}},onResize:()=>{l.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Jx(o.paddingLeft),paddingEnd:Jx(o.paddingRight)}})}})}),Zhe=b.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...i}=n,s=ms(ea,n.__scopeScrollArea),[o,a]=b.useState(),l=b.useRef(null),c=Je(e,l,s.onScrollbarYChange);return b.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),h.jsx(DZ,{"data-orientation":"vertical",...i,ref:c,sizes:t,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":oS(t)+"px",...n.style},onThumbPointerDown:u=>n.onThumbPointerDown(u.y),onDragScroll:u=>n.onDragScroll(u.y),onWheelScroll:(u,d)=>{if(s.viewport){const f=s.viewport.scrollTop+u.deltaY;n.onWheelScroll(f),zZ(f,d)&&u.preventDefault()}},onResize:()=>{l.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Jx(o.paddingTop),paddingEnd:Jx(o.paddingBottom)}})}})}),[Bhe,jZ]=RZ(ea),DZ=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:d,...f}=n,m=ms(ea,t),[g,y]=b.useState(null),x=Je(e,S=>y(S)),w=b.useRef(null),k=b.useRef(""),P=m.viewport,Q=r.content-r.viewport,C=Ht(u),N=Ht(l),O=aS(d,10);function T(S){if(w.current){const A=S.clientX-w.current.left,_=S.clientY-w.current.top;c({x:A,y:_})}}return b.useEffect(()=>{const S=A=>{const _=A.target;(g==null?void 0:g.contains(_))&&C(A,Q)};return document.addEventListener("wheel",S,{passive:!1}),()=>document.removeEventListener("wheel",S,{passive:!1})},[P,g,Q,C]),b.useEffect(N,[r,N]),Jd(g,O),Jd(m.content,O),h.jsx(Bhe,{scope:t,scrollbar:g,hasThumb:i,onThumbChange:Ht(s),onThumbPointerUp:Ht(o),onThumbPositionChange:N,onThumbPointerDown:Ht(a),children:h.jsx(Qe.div,{...f,ref:x,style:{position:"absolute",...f.style},onPointerDown:he(n.onPointerDown,S=>{S.button===0&&(S.target.setPointerCapture(S.pointerId),w.current=g.getBoundingClientRect(),k.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),T(S))}),onPointerMove:he(n.onPointerMove,T),onPointerUp:he(n.onPointerUp,S=>{const A=S.target;A.hasPointerCapture(S.pointerId)&&A.releasePointerCapture(S.pointerId),document.body.style.webkitUserSelect=k.current,m.viewport&&(m.viewport.style.scrollBehavior=""),w.current=null})})})}),Kx="ScrollAreaThumb",MZ=b.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=jZ(Kx,n.__scopeScrollArea);return h.jsx(ti,{present:t||i.hasThumb,children:h.jsx(Whe,{ref:e,...r})})}),Whe=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,style:r,...i}=n,s=ms(Kx,t),o=jZ(Kx,t),{onThumbPositionChange:a}=o,l=Je(e,d=>o.onThumbChange(d)),c=b.useRef(),u=aS(()=>{c.current&&(c.current(),c.current=void 0)},100);return b.useEffect(()=>{const d=s.viewport;if(d){const f=()=>{if(u(),!c.current){const m=Yhe(d,a);c.current=m,a()}};return a(),d.addEventListener("scroll",f),()=>d.removeEventListener("scroll",f)}},[s.viewport,u,a]),h.jsx(Qe.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:he(n.onPointerDownCapture,d=>{const m=d.target.getBoundingClientRect(),g=d.clientX-m.left,y=d.clientY-m.top;o.onThumbPointerDown({x:g,y})}),onPointerUp:he(n.onPointerUp,o.onThumbPointerUp)})});MZ.displayName=Kx;var gQ="ScrollAreaCorner",VZ=b.forwardRef((n,e)=>{const t=ms(gQ,n.__scopeScrollArea),r=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&r?h.jsx(Xhe,{...n,ref:e}):null});VZ.displayName=gQ;var Xhe=b.forwardRef((n,e)=>{const{__scopeScrollArea:t,...r}=n,i=ms(gQ,t),[s,o]=b.useState(0),[a,l]=b.useState(0),c=!!(s&&a);return Jd(i.scrollbarX,()=>{var d;const u=((d=i.scrollbarX)==null?void 0:d.offsetHeight)||0;i.onCornerHeightChange(u),l(u)}),Jd(i.scrollbarY,()=>{var d;const u=((d=i.scrollbarY)==null?void 0:d.offsetWidth)||0;i.onCornerWidthChange(u),o(u)}),c?h.jsx(Qe.div,{...r,ref:e,style:{width:s,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...n.style}}):null});function Jx(n){return n?parseInt(n,10):0}function LZ(n,e){const t=n/e;return isNaN(t)?0:t}function oS(n){const e=LZ(n.viewport,n.content),t=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,r=(n.scrollbar.size-t)*e;return Math.max(r,18)}function Ghe(n,e,t,r="ltr"){const i=oS(t),s=i/2,o=e||s,a=i-o,l=t.scrollbar.paddingStart+o,c=t.scrollbar.size-t.scrollbar.paddingEnd-a,u=t.content-t.viewport,d=r==="ltr"?[0,u]:[u*-1,0];return UZ([l,c],d)(n)}function AD(n,e,t="ltr"){const r=oS(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,o=e.content-e.viewport,a=s-r,l=t==="ltr"?[0,o]:[o*-1,0],c=Sg(n,l);return UZ([0,o],[0,a])(c)}function UZ(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(n[1]-n[0]);return e[0]+r*(t-n[0])}}function zZ(n,e){return n>0&&n<e}var Yhe=(n,e=()=>{})=>{let t={left:n.scrollLeft,top:n.scrollTop},r=0;return function i(){const s={left:n.scrollLeft,top:n.scrollTop},o=t.left!==s.left,a=t.top!==s.top;(o||a)&&e(),t=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function aS(n,e){const t=Ht(n),r=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),b.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(t,e)},[t,e])}function Jd(n,e){const t=Ht(e);Wn(()=>{let r=0;if(n){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(t)});return i.observe(n),()=>{window.cancelAnimationFrame(r),i.unobserve(n)}}},[n,t])}function Hhe(n,e){const{asChild:t,children:r}=n;if(!t)return typeof e=="function"?e(r):e;const i=b.Children.only(r);return b.cloneElement(i,{children:typeof e=="function"?e(i.props.children):e})}var qZ=QZ,Khe=IZ,Jhe=VZ;const OQ=b.forwardRef(({className:n,children:e,...t},r)=>h.jsxs(qZ,{ref:r,className:we("relative overflow-hidden",n),...t,children:[h.jsx(Khe,{className:"h-full w-full rounded-[inherit]",children:e}),h.jsx(FZ,{}),h.jsx(Jhe,{})]}));OQ.displayName=qZ.displayName;const FZ=b.forwardRef(({className:n,orientation:e="vertical",...t},r)=>h.jsx(pQ,{ref:r,orientation:e,className:we("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",n),...t,children:h.jsx(MZ,{className:"relative flex-1 rounded-full bg-border"})}));FZ.displayName=pQ.displayName;var ede="Separator",RD="horizontal",tde=["horizontal","vertical"],ZZ=b.forwardRef((n,e)=>{const{decorative:t,orientation:r=RD,...i}=n,s=nde(r)?r:RD,a=t?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return h.jsx(Qe.div,{"data-orientation":s,...a,...i,ref:e})});ZZ.displayName=ede;function nde(n){return tde.includes(n)}var BZ=ZZ;const Ov=b.forwardRef(({className:n,orientation:e="horizontal",decorative:t=!0,...r},i)=>h.jsx(BZ,{ref:i,decorative:t,orientation:e,className:we("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",n),...r}));Ov.displayName=BZ.displayName;const rde=Uf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function zn({className:n,variant:e,...t}){return h.jsx("div",{className:we(rde({variant:e}),n),...t})}var ty=n=>n.type==="checkbox",pu=n=>n instanceof Date,zr=n=>n==null;const WZ=n=>typeof n=="object";var Sn=n=>!zr(n)&&!Array.isArray(n)&&WZ(n)&&!pu(n),XZ=n=>Sn(n)&&n.target?ty(n.target)?n.target.checked:n.target.value:n,ide=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,GZ=(n,e)=>n.has(ide(e)),sde=n=>{const e=n.constructor&&n.constructor.prototype;return Sn(e)&&e.hasOwnProperty("isPrototypeOf")},yQ=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ri(n){let e;const t=Array.isArray(n);if(n instanceof Date)e=new Date(n);else if(n instanceof Set)e=new Set(n);else if(!(yQ&&(n instanceof Blob||n instanceof FileList))&&(t||Sn(n)))if(e=t?[]:{},!t&&!sde(n))e=n;else for(const r in n)n.hasOwnProperty(r)&&(e[r]=ri(n[r]));else return n;return e}var lS=n=>Array.isArray(n)?n.filter(Boolean):[],fn=n=>n===void 0,me=(n,e,t)=>{if(!e||!Sn(n))return t;const r=lS(e.split(/[,[\].]+?/)).reduce((i,s)=>zr(i)?i:i[s],n);return fn(r)||r===n?fn(n[e])?t:n[e]:r},Ji=n=>typeof n=="boolean",vQ=n=>/^\w*$/.test(n),YZ=n=>lS(n.replace(/["|']|\]/g,"").split(/\.|\[/)),bt=(n,e,t)=>{let r=-1;const i=vQ(e)?[e]:YZ(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=t;if(r!==o){const c=n[a];l=Sn(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}if(a==="__proto__")return;n[a]=l,n=n[a]}return n};const ew={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},_s={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ca={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},HZ=rt.createContext(null),cS=()=>rt.useContext(HZ),ode=n=>{const{children:e,...t}=n;return rt.createElement(HZ.Provider,{value:t},e)};var KZ=(n,e,t,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in n)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==_s.all&&(e._proxyFormState[o]=!r||_s.all),t&&(t[o]=!0),n[o]}});return i},ai=n=>Sn(n)&&!Object.keys(n).length,JZ=(n,e,t,r)=>{t(n);const{name:i,...s}=n;return ai(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||_s.all))},Vm=n=>Array.isArray(n)?n:[n],eB=(n,e,t)=>!n||!e||n===e||Vm(n).some(r=>r&&(t?r===e:r.startsWith(e)||e.startsWith(r)));function xQ(n){const e=rt.useRef(n);e.current=n,rt.useEffect(()=>{const t=!n.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{t&&t.unsubscribe()}},[n.disabled])}function ade(n){const e=cS(),{control:t=e.control,disabled:r,name:i,exact:s}=n||{},[o,a]=rt.useState(t._formState),l=rt.useRef(!0),c=rt.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=rt.useRef(i);return u.current=i,xQ({disabled:r,next:d=>l.current&&eB(u.current,d.name,s)&&JZ(d,c.current,t._updateFormState)&&a({...t._formState,...d}),subject:t._subjects.state}),rt.useEffect(()=>(l.current=!0,c.current.isValid&&t._updateValid(!0),()=>{l.current=!1}),[t]),KZ(o,t,c.current,!1)}var yo=n=>typeof n=="string",tB=(n,e,t,r,i)=>yo(n)?(r&&e.watch.add(n),me(t,n,i)):Array.isArray(n)?n.map(s=>(r&&e.watch.add(s),me(t,s))):(r&&(e.watchAll=!0),t);function lde(n){const e=cS(),{control:t=e.control,name:r,defaultValue:i,disabled:s,exact:o}=n||{},a=rt.useRef(r);a.current=r,xQ({disabled:s,subject:t._subjects.values,next:u=>{eB(a.current,u.name,o)&&c(ri(tB(a.current,t._names,u.values||t._formValues,!1,i)))}});const[l,c]=rt.useState(t._getWatch(r,i));return rt.useEffect(()=>t._removeUnmounted()),l}function cde(n){const e=cS(),{name:t,disabled:r,control:i=e.control,shouldUnregister:s}=n,o=GZ(i._names.array,t),a=lde({control:i,name:t,defaultValue:me(i._formValues,t,me(i._defaultValues,t,n.defaultValue)),exact:!0}),l=ade({control:i,name:t,exact:!0}),c=rt.useRef(i.register(t,{...n.rules,value:a,...Ji(n.disabled)?{disabled:n.disabled}:{}}));return rt.useEffect(()=>{const u=i._options.shouldUnregister||s,d=(f,m)=>{const g=me(i._fields,f);g&&g._f&&(g._f.mount=m)};if(d(t,!0),u){const f=ri(me(i._options.defaultValues,t));bt(i._defaultValues,t,f),fn(me(i._formValues,t))&&bt(i._formValues,t,f)}return()=>{(o?u&&!i._state.action:u)?i.unregister(t):d(t,!1)}},[t,i,o,s]),rt.useEffect(()=>{me(i._fields,t)&&i._updateDisabledField({disabled:r,fields:i._fields,name:t,value:me(i._fields,t)._f.value})},[r,t,i]),{field:{name:t,value:a,...Ji(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:rt.useCallback(u=>c.current.onChange({target:{value:XZ(u),name:t},type:ew.CHANGE}),[t]),onBlur:rt.useCallback(()=>c.current.onBlur({target:{value:me(i._formValues,t),name:t},type:ew.BLUR}),[t,i]),ref:rt.useCallback(u=>{const d=me(i._fields,t);d&&u&&(d._f.ref={focus:()=>u.focus(),select:()=>u.select(),setCustomValidity:f=>u.setCustomValidity(f),reportValidity:()=>u.reportValidity()})},[i._fields,t])},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!me(l.errors,t)},isDirty:{enumerable:!0,get:()=>!!me(l.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!me(l.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!me(l.validatingFields,t)},error:{enumerable:!0,get:()=>me(l.errors,t)}})}}const ude=n=>n.render(cde(n));var nB=(n,e,t,r,i)=>e?{...t[n],types:{...t[n]&&t[n].types?t[n].types:{},[r]:i||!0}}:{},QD=n=>({isOnSubmit:!n||n===_s.onSubmit,isOnBlur:n===_s.onBlur,isOnChange:n===_s.onChange,isOnAll:n===_s.all,isOnTouch:n===_s.onTouched}),ND=(n,e,t)=>!t&&(e.watchAll||e.watch.has(n)||[...e.watch].some(r=>n.startsWith(r)&&/^\.\w+/.test(n.slice(r.length))));const Lm=(n,e,t,r)=>{for(const i of t||Object.keys(n)){const s=me(n,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Lm(a,e))break}else if(Sn(a)&&Lm(a,e))break}}};var hde=(n,e,t)=>{const r=Vm(me(n,t));return bt(r,"root",e[t]),bt(n,t,r),n},wQ=n=>n.type==="file",Ra=n=>typeof n=="function",tw=n=>{if(!yQ)return!1;const e=n?n.ownerDocument:0;return n instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},yv=n=>yo(n),bQ=n=>n.type==="radio",nw=n=>n instanceof RegExp;const ID={value:!1,isValid:!1},$D={value:!0,isValid:!0};var rB=n=>{if(Array.isArray(n)){if(n.length>1){const e=n.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!fn(n[0].attributes.value)?fn(n[0].value)||n[0].value===""?$D:{value:n[0].value,isValid:!0}:$D:ID}return ID};const jD={isValid:!1,value:null};var iB=n=>Array.isArray(n)?n.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,jD):jD;function DD(n,e,t="validate"){if(yv(n)||Array.isArray(n)&&n.every(yv)||Ji(n)&&!n)return{type:t,message:yv(n)?n:"",ref:e}}var Sh=n=>Sn(n)&&!nw(n)?n:{value:n,message:""},MD=async(n,e,t,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:c,min:u,max:d,pattern:f,validate:m,name:g,valueAsNumber:y,mount:x,disabled:w}=n._f,k=me(e,g);if(!x||w)return{};const P=o?o[0]:s,Q=v=>{r&&P.reportValidity&&(P.setCustomValidity(Ji(v)?"":v||""),P.reportValidity())},C={},N=bQ(s),O=ty(s),T=N||O,S=(y||wQ(s))&&fn(s.value)&&fn(k)||tw(s)&&s.value===""||k===""||Array.isArray(k)&&!k.length,A=nB.bind(null,g,t,C),_=(v,E,j,V=ca.maxLength,U=ca.minLength)=>{const X=v?E:j;C[g]={type:v?V:U,message:X,ref:s,...A(v?V:U,X)}};if(i?!Array.isArray(k)||!k.length:a&&(!T&&(S||zr(k))||Ji(k)&&!k||O&&!rB(o).isValid||N&&!iB(o).isValid)){const{value:v,message:E}=yv(a)?{value:!!a,message:a}:Sh(a);if(v&&(C[g]={type:ca.required,message:E,ref:P,...A(ca.required,E)},!t))return Q(E),C}if(!S&&(!zr(u)||!zr(d))){let v,E;const j=Sh(d),V=Sh(u);if(!zr(k)&&!isNaN(k)){const U=s.valueAsNumber||k&&+k;zr(j.value)||(v=U>j.value),zr(V.value)||(E=U<V.value)}else{const U=s.valueAsDate||new Date(k),X=Y=>new Date(new Date().toDateString()+" "+Y),D=s.type=="time",L=s.type=="week";yo(j.value)&&k&&(v=D?X(k)>X(j.value):L?k>j.value:U>new Date(j.value)),yo(V.value)&&k&&(E=D?X(k)<X(V.value):L?k<V.value:U<new Date(V.value))}if((v||E)&&(_(!!v,j.message,V.message,ca.max,ca.min),!t))return Q(C[g].message),C}if((l||c)&&!S&&(yo(k)||i&&Array.isArray(k))){const v=Sh(l),E=Sh(c),j=!zr(v.value)&&k.length>+v.value,V=!zr(E.value)&&k.length<+E.value;if((j||V)&&(_(j,v.message,E.message),!t))return Q(C[g].message),C}if(f&&!S&&yo(k)){const{value:v,message:E}=Sh(f);if(nw(v)&&!k.match(v)&&(C[g]={type:ca.pattern,message:E,ref:s,...A(ca.pattern,E)},!t))return Q(E),C}if(m){if(Ra(m)){const v=await m(k,e),E=DD(v,P);if(E&&(C[g]={...E,...A(ca.validate,E.message)},!t))return Q(E.message),C}else if(Sn(m)){let v={};for(const E in m){if(!ai(v)&&!t)break;const j=DD(await m[E](k,e),P,E);j&&(v={...j,...A(E,j.message)},Q(j.message),t&&(C[g]=v))}if(!ai(v)&&(C[g]={ref:P,...v},!t))return C}}return Q(!0),C};function dde(n,e){const t=e.slice(0,-1).length;let r=0;for(;r<t;)n=fn(n)?r++:n[e[r++]];return n}function fde(n){for(const e in n)if(n.hasOwnProperty(e)&&!fn(n[e]))return!1;return!0}function jn(n,e){const t=Array.isArray(e)?e:vQ(e)?[e]:YZ(e),r=t.length===1?n:dde(n,t),i=t.length-1,s=t[i];return r&&delete r[s],i!==0&&(Sn(r)&&ai(r)||Array.isArray(r)&&fde(r))&&jn(n,t.slice(0,-1)),n}var lk=()=>{let n=[];return{get observers(){return n},next:i=>{for(const s of n)s.next&&s.next(i)},subscribe:i=>(n.push(i),{unsubscribe:()=>{n=n.filter(s=>s!==i)}}),unsubscribe:()=>{n=[]}}},TP=n=>zr(n)||!WZ(n);function Al(n,e){if(TP(n)||TP(e))return n===e;if(pu(n)&&pu(e))return n.getTime()===e.getTime();const t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(const i of t){const s=n[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(pu(s)&&pu(o)||Sn(s)&&Sn(o)||Array.isArray(s)&&Array.isArray(o)?!Al(s,o):s!==o)return!1}}return!0}var sB=n=>n.type==="select-multiple",pde=n=>bQ(n)||ty(n),ck=n=>tw(n)&&n.isConnected,oB=n=>{for(const e in n)if(Ra(n[e]))return!0;return!1};function rw(n,e={}){const t=Array.isArray(n);if(Sn(n)||t)for(const r in n)Array.isArray(n[r])||Sn(n[r])&&!oB(n[r])?(e[r]=Array.isArray(n[r])?[]:{},rw(n[r],e[r])):zr(n[r])||(e[r]=!0);return e}function aB(n,e,t){const r=Array.isArray(n);if(Sn(n)||r)for(const i in n)Array.isArray(n[i])||Sn(n[i])&&!oB(n[i])?fn(e)||TP(t[i])?t[i]=Array.isArray(n[i])?rw(n[i],[]):{...rw(n[i])}:aB(n[i],zr(e)?{}:e[i],t[i]):t[i]=!Al(n[i],e[i]);return t}var Ep=(n,e)=>aB(n,e,rw(e)),lB=(n,{valueAsNumber:e,valueAsDate:t,setValueAs:r})=>fn(n)?n:e?n===""?NaN:n&&+n:t&&yo(n)?new Date(n):r?r(n):n;function uk(n){const e=n.ref;if(!(n.refs?n.refs.every(t=>t.disabled):e.disabled))return wQ(e)?e.files:bQ(e)?iB(n.refs).value:sB(e)?[...e.selectedOptions].map(({value:t})=>t):ty(e)?rB(n.refs).value:lB(fn(e.value)?n.ref.value:e.value,n)}var mde=(n,e,t,r)=>{const i={};for(const s of n){const o=me(e,s);o&&bt(i,s,o._f)}return{criteriaMode:t,names:[...n],fields:i,shouldUseNativeValidation:r}},Ap=n=>fn(n)?n:nw(n)?n.source:Sn(n)?nw(n.value)?n.value.source:n.value:n;const VD="AsyncFunction";var gde=n=>(!n||!n.validate)&&!!(Ra(n.validate)&&n.validate.constructor.name===VD||Sn(n.validate)&&Object.values(n.validate).find(e=>e.constructor.name===VD)),Ode=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate);function LD(n,e,t){const r=me(n,t);if(r||vQ(t))return{error:r,name:t};const i=t.split(".");for(;i.length;){const s=i.join("."),o=me(e,s),a=me(n,s);if(o&&!Array.isArray(o)&&t!==s)return{name:t};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:t}}var yde=(n,e,t,r,i)=>i.isOnAll?!1:!t&&i.isOnTouch?!(e||n):(t?r.isOnBlur:i.isOnBlur)?!n:(t?r.isOnChange:i.isOnChange)?n:!0,vde=(n,e)=>!lS(me(n,e)).length&&jn(n,e);const xde={mode:_s.onSubmit,reValidateMode:_s.onChange,shouldFocusError:!0};function wde(n={}){let e={...xde,...n},t={submitCount:0,isDirty:!1,isLoading:Ra(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=Sn(e.defaultValues)||Sn(e.values)?ri(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:ri(i),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:lk(),array:lk(),state:lk()},f=QD(e.mode),m=QD(e.reValidateMode),g=e.criteriaMode===_s.all,y=z=>G=>{clearTimeout(c),c=setTimeout(z,G)},x=async z=>{if(!n.disabled&&(u.isValid||z)){const G=e.resolver?ai((await T()).errors):await A(r,!0);G!==t.isValid&&d.state.next({isValid:G})}},w=(z,G)=>{!n.disabled&&(u.isValidating||u.validatingFields)&&((z||Array.from(a.mount)).forEach(ee=>{ee&&(G?bt(t.validatingFields,ee,G):jn(t.validatingFields,ee))}),d.state.next({validatingFields:t.validatingFields,isValidating:!ai(t.validatingFields)}))},k=(z,G=[],ee,ve,ge=!0,ue=!0)=>{if(ve&&ee&&!n.disabled){if(o.action=!0,ue&&Array.isArray(me(r,z))){const $e=ee(me(r,z),ve.argA,ve.argB);ge&&bt(r,z,$e)}if(ue&&Array.isArray(me(t.errors,z))){const $e=ee(me(t.errors,z),ve.argA,ve.argB);ge&&bt(t.errors,z,$e),vde(t.errors,z)}if(u.touchedFields&&ue&&Array.isArray(me(t.touchedFields,z))){const $e=ee(me(t.touchedFields,z),ve.argA,ve.argB);ge&&bt(t.touchedFields,z,$e)}u.dirtyFields&&(t.dirtyFields=Ep(i,s)),d.state.next({name:z,isDirty:v(z,G),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else bt(s,z,G)},P=(z,G)=>{bt(t.errors,z,G),d.state.next({errors:t.errors})},Q=z=>{t.errors=z,d.state.next({errors:t.errors,isValid:!1})},C=(z,G,ee,ve)=>{const ge=me(r,z);if(ge){const ue=me(s,z,fn(ee)?me(i,z):ee);fn(ue)||ve&&ve.defaultChecked||G?bt(s,z,G?ue:uk(ge._f)):V(z,ue),o.mount&&x()}},N=(z,G,ee,ve,ge)=>{let ue=!1,$e=!1;const He={name:z};if(!n.disabled){const ht=!!(me(r,z)&&me(r,z)._f&&me(r,z)._f.disabled);if(!ee||ve){u.isDirty&&($e=t.isDirty,t.isDirty=He.isDirty=v(),ue=$e!==He.isDirty);const mt=ht||Al(me(i,z),G);$e=!!(!ht&&me(t.dirtyFields,z)),mt||ht?jn(t.dirtyFields,z):bt(t.dirtyFields,z,!0),He.dirtyFields=t.dirtyFields,ue=ue||u.dirtyFields&&$e!==!mt}if(ee){const mt=me(t.touchedFields,z);mt||(bt(t.touchedFields,z,ee),He.touchedFields=t.touchedFields,ue=ue||u.touchedFields&&mt!==ee)}ue&&ge&&d.state.next(He)}return ue?He:{}},O=(z,G,ee,ve)=>{const ge=me(t.errors,z),ue=u.isValid&&Ji(G)&&t.isValid!==G;if(n.delayError&&ee?(l=y(()=>P(z,ee)),l(n.delayError)):(clearTimeout(c),l=null,ee?bt(t.errors,z,ee):jn(t.errors,z)),(ee?!Al(ge,ee):ge)||!ai(ve)||ue){const $e={...ve,...ue&&Ji(G)?{isValid:G}:{},errors:t.errors,name:z};t={...t,...$e},d.state.next($e)}},T=async z=>{w(z,!0);const G=await e.resolver(s,e.context,mde(z||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return w(z),G},S=async z=>{const{errors:G}=await T(z);if(z)for(const ee of z){const ve=me(G,ee);ve?bt(t.errors,ee,ve):jn(t.errors,ee)}else t.errors=G;return G},A=async(z,G,ee={valid:!0})=>{for(const ve in z){const ge=z[ve];if(ge){const{_f:ue,...$e}=ge;if(ue){const He=a.array.has(ue.name),ht=ge._f&&gde(ge._f);ht&&u.validatingFields&&w([ve],!0);const mt=await MD(ge,s,g,e.shouldUseNativeValidation&&!G,He);if(ht&&u.validatingFields&&w([ve]),mt[ue.name]&&(ee.valid=!1,G))break;!G&&(me(mt,ue.name)?He?hde(t.errors,mt,ue.name):bt(t.errors,ue.name,mt[ue.name]):jn(t.errors,ue.name))}!ai($e)&&await A($e,G,ee)}}return ee.valid},_=()=>{for(const z of a.unMount){const G=me(r,z);G&&(G._f.refs?G._f.refs.every(ee=>!ck(ee)):!ck(G._f.ref))&&oe(z)}a.unMount=new Set},v=(z,G)=>!n.disabled&&(z&&G&&bt(s,z,G),!Al(Z(),i)),E=(z,G,ee)=>tB(z,a,{...o.mount?s:fn(G)?i:yo(z)?{[z]:G}:G},ee,G),j=z=>lS(me(o.mount?s:i,z,n.shouldUnregister?me(i,z,[]):[])),V=(z,G,ee={})=>{const ve=me(r,z);let ge=G;if(ve){const ue=ve._f;ue&&(!ue.disabled&&bt(s,z,lB(G,ue)),ge=tw(ue.ref)&&zr(G)?"":G,sB(ue.ref)?[...ue.ref.options].forEach($e=>$e.selected=ge.includes($e.value)):ue.refs?ty(ue.ref)?ue.refs.length>1?ue.refs.forEach($e=>(!$e.defaultChecked||!$e.disabled)&&($e.checked=Array.isArray(ge)?!!ge.find(He=>He===$e.value):ge===$e.value)):ue.refs[0]&&(ue.refs[0].checked=!!ge):ue.refs.forEach($e=>$e.checked=$e.value===ge):wQ(ue.ref)?ue.ref.value="":(ue.ref.value=ge,ue.ref.type||d.values.next({name:z,values:{...s}})))}(ee.shouldDirty||ee.shouldTouch)&&N(z,ge,ee.shouldTouch,ee.shouldDirty,!0),ee.shouldValidate&&Y(z)},U=(z,G,ee)=>{for(const ve in G){const ge=G[ve],ue=`${z}.${ve}`,$e=me(r,ue);(a.array.has(z)||Sn(ge)||$e&&!$e._f)&&!pu(ge)?U(ue,ge,ee):V(ue,ge,ee)}},X=(z,G,ee={})=>{const ve=me(r,z),ge=a.array.has(z),ue=ri(G);bt(s,z,ue),ge?(d.array.next({name:z,values:{...s}}),(u.isDirty||u.dirtyFields)&&ee.shouldDirty&&d.state.next({name:z,dirtyFields:Ep(i,s),isDirty:v(z,ue)})):ve&&!ve._f&&!zr(ue)?U(z,ue,ee):V(z,ue,ee),ND(z,a)&&d.state.next({...t}),d.values.next({name:o.mount?z:void 0,values:{...s}})},D=async z=>{o.mount=!0;const G=z.target;let ee=G.name,ve=!0;const ge=me(r,ee),ue=()=>G.type?uk(ge._f):XZ(z),$e=He=>{ve=Number.isNaN(He)||pu(He)&&isNaN(He.getTime())||Al(He,me(s,ee,He))};if(ge){let He,ht;const mt=ue(),Yi=z.type===ew.BLUR||z.type===ew.FOCUS_OUT,gy=!Ode(ge._f)&&!e.resolver&&!me(t.errors,ee)&&!ge._f.deps||yde(Yi,me(t.touchedFields,ee),t.isSubmitted,m,f),fh=ND(ee,a,Yi);bt(s,ee,mt),Yi?(ge._f.onBlur&&ge._f.onBlur(z),l&&l(0)):ge._f.onChange&&ge._f.onChange(z);const ip=N(ee,mt,Yi,!1),Yc=!ai(ip)||fh;if(!Yi&&d.values.next({name:ee,type:z.type,values:{...s}}),gy)return u.isValid&&(n.mode==="onBlur"?Yi&&x():x()),Yc&&d.state.next({name:ee,...fh?{}:ip});if(!Yi&&fh&&d.state.next({...t}),e.resolver){const{errors:sp}=await T([ee]);if($e(mt),ve){const Oy=LD(t.errors,r,ee),ph=LD(sp,r,Oy.name||ee);He=ph.error,ee=ph.name,ht=ai(sp)}}else w([ee],!0),He=(await MD(ge,s,g,e.shouldUseNativeValidation))[ee],w([ee]),$e(mt),ve&&(He?ht=!1:u.isValid&&(ht=await A(r,!0)));ve&&(ge._f.deps&&Y(ge._f.deps),O(ee,ht,He,ip))}},L=(z,G)=>{if(me(t.errors,G)&&z.focus)return z.focus(),1},Y=async(z,G={})=>{let ee,ve;const ge=Vm(z);if(e.resolver){const ue=await S(fn(z)?z:ge);ee=ai(ue),ve=z?!ge.some($e=>me(ue,$e)):ee}else z?(ve=(await Promise.all(ge.map(async ue=>{const $e=me(r,ue);return await A($e&&$e._f?{[ue]:$e}:$e)}))).every(Boolean),!(!ve&&!t.isValid)&&x()):ve=ee=await A(r);return d.state.next({...!yo(z)||u.isValid&&ee!==t.isValid?{}:{name:z},...e.resolver||!z?{isValid:ee}:{},errors:t.errors}),G.shouldFocus&&!ve&&Lm(r,L,z?ge:a.mount),ve},Z=z=>{const G={...o.mount?s:i};return fn(z)?G:yo(z)?me(G,z):z.map(ee=>me(G,ee))},F=(z,G)=>({invalid:!!me((G||t).errors,z),isDirty:!!me((G||t).dirtyFields,z),error:me((G||t).errors,z),isValidating:!!me(t.validatingFields,z),isTouched:!!me((G||t).touchedFields,z)}),B=z=>{z&&Vm(z).forEach(G=>jn(t.errors,G)),d.state.next({errors:z?t.errors:{}})},J=(z,G,ee)=>{const ve=(me(r,z,{_f:{}})._f||{}).ref,ge=me(t.errors,z)||{},{ref:ue,message:$e,type:He,...ht}=ge;bt(t.errors,z,{...ht,...G,ref:ve}),d.state.next({name:z,errors:t.errors,isValid:!1}),ee&&ee.shouldFocus&&ve&&ve.focus&&ve.focus()},ae=(z,G)=>Ra(z)?d.values.subscribe({next:ee=>z(E(void 0,G),ee)}):E(z,G,!0),oe=(z,G={})=>{for(const ee of z?Vm(z):a.mount)a.mount.delete(ee),a.array.delete(ee),G.keepValue||(jn(r,ee),jn(s,ee)),!G.keepError&&jn(t.errors,ee),!G.keepDirty&&jn(t.dirtyFields,ee),!G.keepTouched&&jn(t.touchedFields,ee),!G.keepIsValidating&&jn(t.validatingFields,ee),!e.shouldUnregister&&!G.keepDefaultValue&&jn(i,ee);d.values.next({values:{...s}}),d.state.next({...t,...G.keepDirty?{isDirty:v()}:{}}),!G.keepIsValid&&x()},ie=({disabled:z,name:G,field:ee,fields:ve,value:ge})=>{if(Ji(z)&&o.mount||z){const ue=z?void 0:fn(ge)?uk(ee?ee._f:me(ve,G)._f):ge;bt(s,G,ue),N(G,ue,!1,!1,!0)}},ct=(z,G={})=>{let ee=me(r,z);const ve=Ji(G.disabled)||Ji(n.disabled);return bt(r,z,{...ee||{},_f:{...ee&&ee._f?ee._f:{ref:{name:z}},name:z,mount:!0,...G}}),a.mount.add(z),ee?ie({field:ee,disabled:Ji(G.disabled)?G.disabled:n.disabled,name:z,value:G.value}):C(z,!0,G.value),{...ve?{disabled:G.disabled||n.disabled}:{},...e.progressive?{required:!!G.required,min:Ap(G.min),max:Ap(G.max),minLength:Ap(G.minLength),maxLength:Ap(G.maxLength),pattern:Ap(G.pattern)}:{},name:z,onChange:D,onBlur:D,ref:ge=>{if(ge){ct(z,G),ee=me(r,z);const ue=fn(ge.value)&&ge.querySelectorAll&&ge.querySelectorAll("input,select,textarea")[0]||ge,$e=pde(ue),He=ee._f.refs||[];if($e?He.find(ht=>ht===ue):ue===ee._f.ref)return;bt(r,z,{_f:{...ee._f,...$e?{refs:[...He.filter(ck),ue,...Array.isArray(me(i,z))?[{}]:[]],ref:{type:ue.type,name:z}}:{ref:ue}}}),C(z,!1,void 0,ue)}else ee=me(r,z,{}),ee._f&&(ee._f.mount=!1),(e.shouldUnregister||G.shouldUnregister)&&!(GZ(a.array,z)&&o.action)&&a.unMount.add(z)}}},ut=()=>e.shouldFocusError&&Lm(r,L,a.mount),Ce=z=>{Ji(z)&&(d.state.next({disabled:z}),Lm(r,(G,ee)=>{const ve=me(r,ee);ve&&(G.disabled=ve._f.disabled||z,Array.isArray(ve._f.refs)&&ve._f.refs.forEach(ge=>{ge.disabled=ve._f.disabled||z}))},0,!1))},Be=(z,G)=>async ee=>{let ve;ee&&(ee.preventDefault&&ee.preventDefault(),ee.persist&&ee.persist());let ge=ri(s);if(d.state.next({isSubmitting:!0}),e.resolver){const{errors:ue,values:$e}=await T();t.errors=ue,ge=$e}else await A(r);if(jn(t.errors,"root"),ai(t.errors)){d.state.next({errors:{}});try{await z(ge,ee)}catch(ue){ve=ue}}else G&&await G({...t.errors},ee),ut(),setTimeout(ut);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ai(t.errors)&&!ve,submitCount:t.submitCount+1,errors:t.errors}),ve)throw ve},Ge=(z,G={})=>{me(r,z)&&(fn(G.defaultValue)?X(z,ri(me(i,z))):(X(z,G.defaultValue),bt(i,z,ri(G.defaultValue))),G.keepTouched||jn(t.touchedFields,z),G.keepDirty||(jn(t.dirtyFields,z),t.isDirty=G.defaultValue?v(z,ri(me(i,z))):v()),G.keepError||(jn(t.errors,z),u.isValid&&x()),d.state.next({...t}))},Lt=(z,G={})=>{const ee=z?ri(z):i,ve=ri(ee),ge=ai(z),ue=ge?i:ve;if(G.keepDefaultValues||(i=ee),!G.keepValues){if(G.keepDirtyValues){const $e=new Set([...a.mount,...Object.keys(Ep(i,s))]);for(const He of Array.from($e))me(t.dirtyFields,He)?bt(ue,He,me(s,He)):X(He,me(ue,He))}else{if(yQ&&fn(z))for(const $e of a.mount){const He=me(r,$e);if(He&&He._f){const ht=Array.isArray(He._f.refs)?He._f.refs[0]:He._f.ref;if(tw(ht)){const mt=ht.closest("form");if(mt){mt.reset();break}}}}r={}}s=n.shouldUnregister?G.keepDefaultValues?ri(i):{}:ri(ue),d.array.next({values:{...ue}}),d.values.next({values:{...ue}})}a={mount:G.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!G.keepIsValid||!!G.keepDirtyValues,o.watch=!!n.shouldUnregister,d.state.next({submitCount:G.keepSubmitCount?t.submitCount:0,isDirty:ge?!1:G.keepDirty?t.isDirty:!!(G.keepDefaultValues&&!Al(z,i)),isSubmitted:G.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:ge?{}:G.keepDirtyValues?G.keepDefaultValues&&s?Ep(i,s):t.dirtyFields:G.keepDefaultValues&&z?Ep(i,z):G.keepDirty?t.dirtyFields:{},touchedFields:G.keepTouched?t.touchedFields:{},errors:G.keepErrors?t.errors:{},isSubmitSuccessful:G.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},_n=(z,G)=>Lt(Ra(z)?z(s):z,G);return{control:{register:ct,unregister:oe,getFieldState:F,handleSubmit:Be,setError:J,_executeSchema:T,_getWatch:E,_getDirty:v,_updateValid:x,_removeUnmounted:_,_updateFieldArray:k,_updateDisabledField:ie,_getFieldArray:j,_reset:Lt,_resetDefaultValues:()=>Ra(e.defaultValues)&&e.defaultValues().then(z=>{_n(z,e.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:z=>{t={...t,...z}},_disableForm:Ce,_subjects:d,_proxyFormState:u,_setErrors:Q,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(z){o=z},get _defaultValues(){return i},get _names(){return a},set _names(z){a=z},get _formState(){return t},set _formState(z){t=z},get _options(){return e},set _options(z){e={...e,...z}}},trigger:Y,register:ct,handleSubmit:Be,watch:ae,setValue:X,getValues:Z,reset:_n,resetField:Ge,clearErrors:B,unregister:oe,setError:J,setFocus:(z,G={})=>{const ee=me(r,z),ve=ee&&ee._f;if(ve){const ge=ve.refs?ve.refs[0]:ve.ref;ge.focus&&(ge.focus(),G.shouldSelect&&ge.select())}},getFieldState:F}}function uS(n={}){const e=rt.useRef(),t=rt.useRef(),[r,i]=rt.useState({isDirty:!1,isValidating:!1,isLoading:Ra(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,defaultValues:Ra(n.defaultValues)?void 0:n.defaultValues});e.current||(e.current={...wde(n),formState:r});const s=e.current.control;return s._options=n,xQ({subject:s._subjects.state,next:o=>{JZ(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),rt.useEffect(()=>s._disableForm(n.disabled),[s,n.disabled]),rt.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),rt.useEffect(()=>{n.values&&!Al(n.values,t.current)?(s._reset(n.values,s._options.resetOptions),t.current=n.values,i(o=>({...o}))):s._resetDefaultValues()},[n.values,s]),rt.useEffect(()=>{n.errors&&s._setErrors(n.errors)},[n.errors,s]),rt.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),rt.useEffect(()=>{n.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[n.shouldUnregister,s]),rt.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[r]),e.current.formState=KZ(r,s),e.current}const UD=(n,e,t)=>{if(n&&"reportValidity"in n){const r=me(t,e);n.setCustomValidity(r&&r.message||""),n.reportValidity()}},cB=(n,e)=>{for(const t in e.fields){const r=e.fields[t];r&&r.ref&&"reportValidity"in r.ref?UD(r.ref,t,n):r.refs&&r.refs.forEach(i=>UD(i,t,n))}},bde=(n,e)=>{e.shouldUseNativeValidation&&cB(n,e);const t={};for(const r in n){const i=me(e.fields,r),s=Object.assign(n[r]||{},{ref:i&&i.ref});if(Sde(e.names||Object.keys(n),r)){const o=Object.assign({},me(t,r));bt(o,"root",s),bt(t,r,o)}else bt(t,r,s)}return t},Sde=(n,e)=>n.some(t=>t.startsWith(e+"."));var kde=function(n,e){for(var t={};n.length;){var r=n[0],i=r.code,s=r.message,o=r.path.join(".");if(!t[o])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];t[o]={message:a.message,type:a.code}}else t[o]={message:s,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(d){return n.push(d)})}),e){var l=t[o].types,c=l&&l[r.code];t[o]=nB(o,e,t,i,c?[].concat(c,r.message):r.message)}n.shift()}return t},hS=function(n,e,t){return t===void 0&&(t={}),function(r,i,s){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(n[t.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(c){return s.shouldUseNativeValidation&&cB({},s),{errors:{},values:t.raw?r:c}})}catch(c){return a(c)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:bde(kde(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}},Ot;(function(n){n.assertEqual=i=>i;function e(i){}n.assertIs=e;function t(i){throw new Error}n.assertNever=t,n.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},n.getValidEnumValues=i=>{const s=n.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return n.objectValues(o)},n.objectValues=i=>n.objectKeys(i).map(function(s){return i[s]}),n.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},n.find=(i,s)=>{for(const o of i)if(s(o))return o},n.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}n.joinValues=r,n.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Ot||(Ot={}));var PP;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(PP||(PP={}));const _e=Ot.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Rl=n=>{switch(typeof n){case"undefined":return _e.undefined;case"string":return _e.string;case"number":return isNaN(n)?_e.nan:_e.number;case"boolean":return _e.boolean;case"function":return _e.function;case"bigint":return _e.bigint;case"symbol":return _e.symbol;case"object":return Array.isArray(n)?_e.array:n===null?_e.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?_e.promise:typeof Map<"u"&&n instanceof Map?_e.map:typeof Set<"u"&&n instanceof Set?_e.set:typeof Date<"u"&&n instanceof Date?_e.date:_e.object;default:return _e.unknown}},ce=Ot.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),_de=n=>JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:");class qi extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(t(o));else{let a=r,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(t(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return i(this),r}static assert(e){if(!(e instanceof qi))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ot.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const i of this.issues)i.path.length>0?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}qi.create=n=>new qi(n);const ef=(n,e)=>{let t;switch(n.code){case ce.invalid_type:n.received===_e.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case ce.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,Ot.jsonStringifyReplacer)}`;break;case ce.unrecognized_keys:t=`Unrecognized key(s) in object: ${Ot.joinValues(n.keys,", ")}`;break;case ce.invalid_union:t="Invalid input";break;case ce.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Ot.joinValues(n.options)}`;break;case ce.invalid_enum_value:t=`Invalid enum value. Expected ${Ot.joinValues(n.options)}, received '${n.received}'`;break;case ce.invalid_arguments:t="Invalid function arguments";break;case ce.invalid_return_type:t="Invalid function return type";break;case ce.invalid_date:t="Invalid date";break;case ce.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:Ot.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case ce.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case ce.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case ce.custom:t="Invalid input";break;case ce.invalid_intersection_types:t="Intersection results could not be merged";break;case ce.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case ce.not_finite:t="Number must be finite";break;default:t=e.defaultError,Ot.assertNever(n)}return{message:t}};let uB=ef;function Tde(n){uB=n}function iw(){return uB}const sw=n=>{const{data:e,path:t,errorMaps:r,issueData:i}=n,s=[...t,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...i,path:s,message:a}},Pde=[];function xe(n,e){const t=iw(),r=sw({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===ef?void 0:ef].filter(i=>!!i)});n.common.issues.push(r)}class Ir{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const i of t){if(i.status==="aborted")return qe;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const i of t){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return Ir.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const i of t){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return qe;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const qe=Object.freeze({status:"aborted"}),Gh=n=>({status:"dirty",value:n}),Hr=n=>({status:"valid",value:n}),CP=n=>n.status==="aborted",EP=n=>n.status==="dirty",kg=n=>n.status==="valid",_g=n=>typeof Promise<"u"&&n instanceof Promise;function ow(n,e,t,r){if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(n)}function hB(n,e,t,r,i){if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,t),t}var Ne;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Ne||(Ne={}));var rm,im;class Do{constructor(e,t,r,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const zD=(n,e)=>{if(kg(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new qi(n.common.issues);return this._error=t,this._error}}};function Ye(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:r,description:i}=n;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>{var l,c;const{message:u}=n;return o.code==="invalid_enum_value"?{message:u??a.defaultError}:typeof a.data>"u"?{message:(l=u??r)!==null&&l!==void 0?l:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(c=u??t)!==null&&c!==void 0?c:a.defaultError}},description:i}}class nt{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Rl(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Rl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ir,ctx:{common:e.parent.common,data:e.data,parsedType:Rl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(_g(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;const i={common:{issues:[],async:(r=t==null?void 0:t.async)!==null&&r!==void 0?r:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Rl(e)},s=this._parseSync({data:e,path:i.path,parent:i});return zD(i,s)}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Rl(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(_g(i)?i:Promise.resolve(i));return zD(r,s)}refine(e,t){const r=i=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(i):t;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:ce.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,t){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof t=="function"?t(r,i):t),!1))}_refinement(e){return new Zs({schema:this,typeName:ze.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Eo.create(this,this._def)}nullable(){return Sc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return $s.create(this,this._def)}promise(){return nf.create(this,this._def)}or(e){return Eg.create([this,e],this._def)}and(e){return Ag.create(this,e,this._def)}transform(e){return new Zs({...Ye(this._def),schema:this,typeName:ze.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new $g({...Ye(this._def),innerType:this,defaultValue:t,typeName:ze.ZodDefault})}brand(){return new SQ({typeName:ze.ZodBranded,type:this,...Ye(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new jg({...Ye(this._def),innerType:this,catchValue:t,typeName:ze.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return ny.create(this,e)}readonly(){return Dg.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Cde=/^c[^\s-]{8,}$/i,Ede=/^[0-9a-z]+$/,Ade=/^[0-9A-HJKMNP-TV-Z]{26}$/,Rde=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Qde=/^[a-z0-9_-]{21}$/i,Nde=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Ide=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,$de="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let hk;const jde=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Dde=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Mde=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,dB="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Vde=new RegExp(`^${dB}$`);function fB(n){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Lde(n){return new RegExp(`^${fB(n)}$`)}function pB(n){let e=`${dB}T${fB(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function Ude(n,e){return!!((e==="v4"||!e)&&jde.test(n)||(e==="v6"||!e)&&Dde.test(n))}class Ts extends nt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==_e.string){const s=this._getOrReturnCtx(e);return xe(s,{code:ce.invalid_type,expected:_e.string,received:s.parsedType}),qe}const r=new Ir;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),xe(i,{code:ce.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),xe(i,{code:ce.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?xe(i,{code:ce.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&xe(i,{code:ce.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")Ide.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"email",code:ce.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")hk||(hk=new RegExp($de,"u")),hk.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"emoji",code:ce.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")Rde.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"uuid",code:ce.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")Qde.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"nanoid",code:ce.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")Cde.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"cuid",code:ce.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")Ede.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"cuid2",code:ce.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")Ade.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"ulid",code:ce.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),xe(i,{validation:"url",code:ce.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"regex",code:ce.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),xe(i,{code:ce.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),xe(i,{code:ce.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),xe(i,{code:ce.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?pB(s).test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{code:ce.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?Vde.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{code:ce.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?Lde(s).test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{code:ce.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?Nde.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"duration",code:ce.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?Ude(e.data,s.version)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"ip",code:ce.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?Mde.test(e.data)||(i=this._getOrReturnCtx(e,i),xe(i,{validation:"base64",code:ce.invalid_string,message:s.message}),r.dirty()):Ot.assertNever(s);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(i=>e.test(i),{validation:t,code:ce.invalid_string,...Ne.errToObj(r)})}_addCheck(e){return new Ts({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ne.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ne.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ne.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ne.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Ne.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ne.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ne.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ne.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Ne.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ne.errToObj(e)})}datetime(e){var t,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...Ne.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Ne.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Ne.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Ne.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...Ne.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Ne.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Ne.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Ne.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Ne.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Ne.errToObj(t)})}nonempty(e){return this.min(1,Ne.errToObj(e))}trim(){return new Ts({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ts({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ts({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Ts.create=n=>{var e;return new Ts({checks:[],typeName:ze.ZodString,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...Ye(n)})};function zde(n,e){const t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=t>r?t:r,s=parseInt(n.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class xc extends nt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==_e.number){const s=this._getOrReturnCtx(e);return xe(s,{code:ce.invalid_type,expected:_e.number,received:s.parsedType}),qe}let r;const i=new Ir;for(const s of this._def.checks)s.kind==="int"?Ot.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),xe(r,{code:ce.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),xe(r,{code:ce.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),xe(r,{code:ce.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?zde(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),xe(r,{code:ce.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),xe(r,{code:ce.not_finite,message:s.message}),i.dirty()):Ot.assertNever(s);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Ne.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Ne.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Ne.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Ne.toString(t))}setLimit(e,t,r,i){return new xc({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Ne.toString(i)}]})}_addCheck(e){return new xc({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ne.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ne.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ne.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ne.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ne.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Ne.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Ne.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ne.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ne.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ot.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}xc.create=n=>new xc({checks:[],typeName:ze.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...Ye(n)});class wc extends nt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==_e.bigint){const s=this._getOrReturnCtx(e);return xe(s,{code:ce.invalid_type,expected:_e.bigint,received:s.parsedType}),qe}let r;const i=new Ir;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),xe(r,{code:ce.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),xe(r,{code:ce.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),xe(r,{code:ce.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Ot.assertNever(s);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Ne.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Ne.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Ne.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Ne.toString(t))}setLimit(e,t,r,i){return new wc({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Ne.toString(i)}]})}_addCheck(e){return new wc({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ne.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ne.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ne.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ne.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Ne.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}wc.create=n=>{var e;return new wc({checks:[],typeName:ze.ZodBigInt,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...Ye(n)})};class Tg extends nt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==_e.boolean){const r=this._getOrReturnCtx(e);return xe(r,{code:ce.invalid_type,expected:_e.boolean,received:r.parsedType}),qe}return Hr(e.data)}}Tg.create=n=>new Tg({typeName:ze.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...Ye(n)});class Wu extends nt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==_e.date){const s=this._getOrReturnCtx(e);return xe(s,{code:ce.invalid_type,expected:_e.date,received:s.parsedType}),qe}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return xe(s,{code:ce.invalid_date}),qe}const r=new Ir;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),xe(i,{code:ce.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),xe(i,{code:ce.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Ot.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Wu({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Ne.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Ne.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}Wu.create=n=>new Wu({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:ze.ZodDate,...Ye(n)});class aw extends nt{_parse(e){if(this._getType(e)!==_e.symbol){const r=this._getOrReturnCtx(e);return xe(r,{code:ce.invalid_type,expected:_e.symbol,received:r.parsedType}),qe}return Hr(e.data)}}aw.create=n=>new aw({typeName:ze.ZodSymbol,...Ye(n)});class Pg extends nt{_parse(e){if(this._getType(e)!==_e.undefined){const r=this._getOrReturnCtx(e);return xe(r,{code:ce.invalid_type,expected:_e.undefined,received:r.parsedType}),qe}return Hr(e.data)}}Pg.create=n=>new Pg({typeName:ze.ZodUndefined,...Ye(n)});class Cg extends nt{_parse(e){if(this._getType(e)!==_e.null){const r=this._getOrReturnCtx(e);return xe(r,{code:ce.invalid_type,expected:_e.null,received:r.parsedType}),qe}return Hr(e.data)}}Cg.create=n=>new Cg({typeName:ze.ZodNull,...Ye(n)});class tf extends nt{constructor(){super(...arguments),this._any=!0}_parse(e){return Hr(e.data)}}tf.create=n=>new tf({typeName:ze.ZodAny,...Ye(n)});class Pu extends nt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Hr(e.data)}}Pu.create=n=>new Pu({typeName:ze.ZodUnknown,...Ye(n)});class Ya extends nt{_parse(e){const t=this._getOrReturnCtx(e);return xe(t,{code:ce.invalid_type,expected:_e.never,received:t.parsedType}),qe}}Ya.create=n=>new Ya({typeName:ze.ZodNever,...Ye(n)});class lw extends nt{_parse(e){if(this._getType(e)!==_e.undefined){const r=this._getOrReturnCtx(e);return xe(r,{code:ce.invalid_type,expected:_e.void,received:r.parsedType}),qe}return Hr(e.data)}}lw.create=n=>new lw({typeName:ze.ZodVoid,...Ye(n)});class $s extends nt{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),i=this._def;if(t.parsedType!==_e.array)return xe(t,{code:ce.invalid_type,expected:_e.array,received:t.parsedType}),qe;if(i.exactLength!==null){const o=t.data.length>i.exactLength.value,a=t.data.length<i.exactLength.value;(o||a)&&(xe(t,{code:o?ce.too_big:ce.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&t.data.length<i.minLength.value&&(xe(t,{code:ce.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&t.data.length>i.maxLength.value&&(xe(t,{code:ce.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((o,a)=>i.type._parseAsync(new Do(t,o,t.path,a)))).then(o=>Ir.mergeArray(r,o));const s=[...t.data].map((o,a)=>i.type._parseSync(new Do(t,o,t.path,a)));return Ir.mergeArray(r,s)}get element(){return this._def.type}min(e,t){return new $s({...this._def,minLength:{value:e,message:Ne.toString(t)}})}max(e,t){return new $s({...this._def,maxLength:{value:e,message:Ne.toString(t)}})}length(e,t){return new $s({...this._def,exactLength:{value:e,message:Ne.toString(t)}})}nonempty(e){return this.min(1,e)}}$s.create=(n,e)=>new $s({type:n,minLength:null,maxLength:null,exactLength:null,typeName:ze.ZodArray,...Ye(e)});function Nh(n){if(n instanceof rn){const e={};for(const t in n.shape){const r=n.shape[t];e[t]=Eo.create(Nh(r))}return new rn({...n._def,shape:()=>e})}else return n instanceof $s?new $s({...n._def,type:Nh(n.element)}):n instanceof Eo?Eo.create(Nh(n.unwrap())):n instanceof Sc?Sc.create(Nh(n.unwrap())):n instanceof Mo?Mo.create(n.items.map(e=>Nh(e))):n}class rn extends nt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=Ot.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==_e.object){const c=this._getOrReturnCtx(e);return xe(c,{code:ce.invalid_type,expected:_e.object,received:c.parsedType}),qe}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Ya&&this._def.unknownKeys==="strip"))for(const c in i.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const u=s[c],d=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new Do(i,d,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof Ya){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(c==="strict")a.length>0&&(xe(i,{code:ce.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const d=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new Do(i,d,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const d=await u.key,f=await u.value;c.push({key:d,value:f,alwaysSet:u.alwaysSet})}return c}).then(c=>Ir.mergeObjectSync(r,c)):Ir.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return Ne.errToObj,new rn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{var i,s,o,a;const l=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,t,r).message)!==null&&o!==void 0?o:r.defaultError;return t.code==="unrecognized_keys"?{message:(a=Ne.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new rn({...this._def,unknownKeys:"strip"})}passthrough(){return new rn({...this._def,unknownKeys:"passthrough"})}extend(e){return new rn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new rn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ze.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new rn({...this._def,catchall:e})}pick(e){const t={};return Ot.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new rn({...this._def,shape:()=>t})}omit(e){const t={};return Ot.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new rn({...this._def,shape:()=>t})}deepPartial(){return Nh(this)}partial(e){const t={};return Ot.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?t[r]=i:t[r]=i.optional()}),new rn({...this._def,shape:()=>t})}required(e){const t={};return Ot.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Eo;)s=s._def.innerType;t[r]=s}}),new rn({...this._def,shape:()=>t})}keyof(){return mB(Ot.objectKeys(this.shape))}}rn.create=(n,e)=>new rn({shape:()=>n,unknownKeys:"strip",catchall:Ya.create(),typeName:ze.ZodObject,...Ye(e)});rn.strictCreate=(n,e)=>new rn({shape:()=>n,unknownKeys:"strict",catchall:Ya.create(),typeName:ze.ZodObject,...Ye(e)});rn.lazycreate=(n,e)=>new rn({shape:n,unknownKeys:"strip",catchall:Ya.create(),typeName:ze.ZodObject,...Ye(e)});class Eg extends nt{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return t.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new qi(a.ctx.common.issues));return xe(t,{code:ce.invalid_union,unionErrors:o}),qe}if(t.common.async)return Promise.all(r.map(async s=>{const o={...t,common:{...t.common,issues:[]},parent:null};return{result:await s._parseAsync({data:t.data,path:t.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const l of r){const c={...t,common:{...t.common,issues:[]},parent:null},u=l._parseSync({data:t.data,path:t.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(s)return t.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(l=>new qi(l));return xe(t,{code:ce.invalid_union,unionErrors:a}),qe}}get options(){return this._def.options}}Eg.create=(n,e)=>new Eg({options:n,typeName:ze.ZodUnion,...Ye(e)});const ma=n=>n instanceof Qg?ma(n.schema):n instanceof Zs?ma(n.innerType()):n instanceof Ng?[n.value]:n instanceof bc?n.options:n instanceof Ig?Ot.objectValues(n.enum):n instanceof $g?ma(n._def.innerType):n instanceof Pg?[void 0]:n instanceof Cg?[null]:n instanceof Eo?[void 0,...ma(n.unwrap())]:n instanceof Sc?[null,...ma(n.unwrap())]:n instanceof SQ||n instanceof Dg?ma(n.unwrap()):n instanceof jg?ma(n._def.innerType):[];class dS extends nt{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==_e.object)return xe(t,{code:ce.invalid_type,expected:_e.object,received:t.parsedType}),qe;const r=this.discriminator,i=t.data[r],s=this.optionsMap.get(i);return s?t.common.async?s._parseAsync({data:t.data,path:t.path,parent:t}):s._parseSync({data:t.data,path:t.path,parent:t}):(xe(t,{code:ce.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),qe)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){const i=new Map;for(const s of t){const o=ma(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new dS({typeName:ze.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...Ye(r)})}}function AP(n,e){const t=Rl(n),r=Rl(e);if(n===e)return{valid:!0,data:n};if(t===_e.object&&r===_e.object){const i=Ot.objectKeys(e),s=Ot.objectKeys(n).filter(a=>i.indexOf(a)!==-1),o={...n,...e};for(const a of s){const l=AP(n[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(t===_e.array&&r===_e.array){if(n.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<n.length;s++){const o=n[s],a=e[s],l=AP(o,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return t===_e.date&&r===_e.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class Ag extends nt{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(CP(s)||CP(o))return qe;const a=AP(s.value,o.value);return a.valid?((EP(s)||EP(o))&&t.dirty(),{status:t.value,value:a.data}):(xe(r,{code:ce.invalid_intersection_types}),qe)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Ag.create=(n,e,t)=>new Ag({left:n,right:e,typeName:ze.ZodIntersection,...Ye(t)});class Mo extends nt{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==_e.array)return xe(r,{code:ce.invalid_type,expected:_e.array,received:r.parsedType}),qe;if(r.data.length<this._def.items.length)return xe(r,{code:ce.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),qe;!this._def.rest&&r.data.length>this._def.items.length&&(xe(r,{code:ce.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const s=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new Do(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>Ir.mergeArray(t,o)):Ir.mergeArray(t,s)}get items(){return this._def.items}rest(e){return new Mo({...this._def,rest:e})}}Mo.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Mo({items:n,typeName:ze.ZodTuple,rest:null,...Ye(e)})};class Rg extends nt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==_e.object)return xe(r,{code:ce.invalid_type,expected:_e.object,received:r.parsedType}),qe;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in r.data)i.push({key:s._parse(new Do(r,a,r.path,a)),value:o._parse(new Do(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?Ir.mergeObjectAsync(t,i):Ir.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,r){return t instanceof nt?new Rg({keyType:e,valueType:t,typeName:ze.ZodRecord,...Ye(r)}):new Rg({keyType:Ts.create(),valueType:e,typeName:ze.ZodRecord,...Ye(t)})}}class cw extends nt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==_e.map)return xe(r,{code:ce.invalid_type,expected:_e.map,received:r.parsedType}),qe;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,l],c)=>({key:i._parse(new Do(r,a,r.path,[c,"key"])),value:s._parse(new Do(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return qe;(c.status==="dirty"||u.status==="dirty")&&t.dirty(),a.set(c.value,u.value)}return{status:t.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return qe;(c.status==="dirty"||u.status==="dirty")&&t.dirty(),a.set(c.value,u.value)}return{status:t.value,value:a}}}}cw.create=(n,e,t)=>new cw({valueType:e,keyType:n,typeName:ze.ZodMap,...Ye(t)});class Xu extends nt{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==_e.set)return xe(r,{code:ce.invalid_type,expected:_e.set,received:r.parsedType}),qe;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(xe(r,{code:ce.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(xe(r,{code:ce.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());const s=this._def.valueType;function o(l){const c=new Set;for(const u of l){if(u.status==="aborted")return qe;u.status==="dirty"&&t.dirty(),c.add(u.value)}return{status:t.value,value:c}}const a=[...r.data.values()].map((l,c)=>s._parse(new Do(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,t){return new Xu({...this._def,minSize:{value:e,message:Ne.toString(t)}})}max(e,t){return new Xu({...this._def,maxSize:{value:e,message:Ne.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Xu.create=(n,e)=>new Xu({valueType:n,minSize:null,maxSize:null,typeName:ze.ZodSet,...Ye(e)});class gd extends nt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==_e.function)return xe(t,{code:ce.invalid_type,expected:_e.function,received:t.parsedType}),qe;function r(a,l){return sw({data:a,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,iw(),ef].filter(c=>!!c),issueData:{code:ce.invalid_arguments,argumentsError:l}})}function i(a,l){return sw({data:a,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,iw(),ef].filter(c=>!!c),issueData:{code:ce.invalid_return_type,returnTypeError:l}})}const s={errorMap:t.common.contextualErrorMap},o=t.data;if(this._def.returns instanceof nf){const a=this;return Hr(async function(...l){const c=new qi([]),u=await a._def.args.parseAsync(l,s).catch(m=>{throw c.addIssue(r(l,m)),c}),d=await Reflect.apply(o,this,u);return await a._def.returns._def.type.parseAsync(d,s).catch(m=>{throw c.addIssue(i(d,m)),c})})}else{const a=this;return Hr(function(...l){const c=a._def.args.safeParse(l,s);if(!c.success)throw new qi([r(l,c.error)]);const u=Reflect.apply(o,this,c.data),d=a._def.returns.safeParse(u,s);if(!d.success)throw new qi([i(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new gd({...this._def,args:Mo.create(e).rest(Pu.create())})}returns(e){return new gd({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new gd({args:e||Mo.create([]).rest(Pu.create()),returns:t||Pu.create(),typeName:ze.ZodFunction,...Ye(r)})}}class Qg extends nt{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Qg.create=(n,e)=>new Qg({getter:n,typeName:ze.ZodLazy,...Ye(e)});class Ng extends nt{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return xe(t,{received:t.data,code:ce.invalid_literal,expected:this._def.value}),qe}return{status:"valid",value:e.data}}get value(){return this._def.value}}Ng.create=(n,e)=>new Ng({value:n,typeName:ze.ZodLiteral,...Ye(e)});function mB(n,e){return new bc({values:n,typeName:ze.ZodEnum,...Ye(e)})}class bc extends nt{constructor(){super(...arguments),rm.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),r=this._def.values;return xe(t,{expected:Ot.joinValues(r),received:t.parsedType,code:ce.invalid_type}),qe}if(ow(this,rm)||hB(this,rm,new Set(this._def.values)),!ow(this,rm).has(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return xe(t,{received:t.data,code:ce.invalid_enum_value,options:r}),qe}return Hr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return bc.create(e,{...this._def,...t})}exclude(e,t=this._def){return bc.create(this.options.filter(r=>!e.includes(r)),{...this._def,...t})}}rm=new WeakMap;bc.create=mB;class Ig extends nt{constructor(){super(...arguments),im.set(this,void 0)}_parse(e){const t=Ot.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==_e.string&&r.parsedType!==_e.number){const i=Ot.objectValues(t);return xe(r,{expected:Ot.joinValues(i),received:r.parsedType,code:ce.invalid_type}),qe}if(ow(this,im)||hB(this,im,new Set(Ot.getValidEnumValues(this._def.values))),!ow(this,im).has(e.data)){const i=Ot.objectValues(t);return xe(r,{received:r.data,code:ce.invalid_enum_value,options:i}),qe}return Hr(e.data)}get enum(){return this._def.values}}im=new WeakMap;Ig.create=(n,e)=>new Ig({values:n,typeName:ze.ZodNativeEnum,...Ye(e)});class nf extends nt{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==_e.promise&&t.common.async===!1)return xe(t,{code:ce.invalid_type,expected:_e.promise,received:t.parsedType}),qe;const r=t.parsedType===_e.promise?t.data:Promise.resolve(t.data);return Hr(r.then(i=>this._def.type.parseAsync(i,{path:t.path,errorMap:t.common.contextualErrorMap})))}}nf.create=(n,e)=>new nf({type:n,typeName:ze.ZodPromise,...Ye(e)});class Zs extends nt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ze.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{xe(r,o),o.fatal?t.abort():t.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async a=>{if(t.value==="aborted")return qe;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?qe:l.status==="dirty"||t.value==="dirty"?Gh(l.value):l});{if(t.value==="aborted")return qe;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?qe:a.status==="dirty"||t.value==="dirty"?Gh(a.value):a}}if(i.type==="refinement"){const o=a=>{const l=i.refinement(a,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?qe:(a.status==="dirty"&&t.dirty(),o(a.value),{status:t.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?qe:(a.status==="dirty"&&t.dirty(),o(a.value).then(()=>({status:t.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!kg(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>kg(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:t.value,value:a})):o);Ot.assertNever(i)}}Zs.create=(n,e,t)=>new Zs({schema:n,typeName:ze.ZodEffects,effect:e,...Ye(t)});Zs.createWithPreprocess=(n,e,t)=>new Zs({schema:e,effect:{type:"preprocess",transform:n},typeName:ze.ZodEffects,...Ye(t)});class Eo extends nt{_parse(e){return this._getType(e)===_e.undefined?Hr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Eo.create=(n,e)=>new Eo({innerType:n,typeName:ze.ZodOptional,...Ye(e)});class Sc extends nt{_parse(e){return this._getType(e)===_e.null?Hr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Sc.create=(n,e)=>new Sc({innerType:n,typeName:ze.ZodNullable,...Ye(e)});class $g extends nt{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===_e.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}$g.create=(n,e)=>new $g({innerType:n,typeName:ze.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ye(e)});class jg extends nt{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return _g(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new qi(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new qi(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}jg.create=(n,e)=>new jg({innerType:n,typeName:ze.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ye(e)});class uw extends nt{_parse(e){if(this._getType(e)!==_e.nan){const r=this._getOrReturnCtx(e);return xe(r,{code:ce.invalid_type,expected:_e.nan,received:r.parsedType}),qe}return{status:"valid",value:e.data}}}uw.create=n=>new uw({typeName:ze.ZodNaN,...Ye(n)});const qde=Symbol("zod_brand");class SQ extends nt{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class ny extends nt{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?qe:s.status==="dirty"?(t.dirty(),Gh(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?qe:i.status==="dirty"?(t.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,t){return new ny({in:e,out:t,typeName:ze.ZodPipeline})}}class Dg extends nt{_parse(e){const t=this._def.innerType._parse(e),r=i=>(kg(i)&&(i.value=Object.freeze(i.value)),i);return _g(t)?t.then(i=>r(i)):r(t)}unwrap(){return this._def.innerType}}Dg.create=(n,e)=>new Dg({innerType:n,typeName:ze.ZodReadonly,...Ye(e)});function gB(n,e={},t){return n?tf.create().superRefine((r,i)=>{var s,o;if(!n(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,l=(o=(s=a.fatal)!==null&&s!==void 0?s:t)!==null&&o!==void 0?o:!0,c=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...c,fatal:l})}}):tf.create()}const Fde={object:rn.lazycreate};var ze;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(ze||(ze={}));const Zde=(n,e={message:`Input not instance of ${n.name}`})=>gB(t=>t instanceof n,e),OB=Ts.create,yB=xc.create,Bde=uw.create,Wde=wc.create,vB=Tg.create,Xde=Wu.create,Gde=aw.create,Yde=Pg.create,Hde=Cg.create,Kde=tf.create,Jde=Pu.create,efe=Ya.create,tfe=lw.create,nfe=$s.create,rfe=rn.create,ife=rn.strictCreate,sfe=Eg.create,ofe=dS.create,afe=Ag.create,lfe=Mo.create,cfe=Rg.create,ufe=cw.create,hfe=Xu.create,dfe=gd.create,ffe=Qg.create,pfe=Ng.create,mfe=bc.create,gfe=Ig.create,Ofe=nf.create,qD=Zs.create,yfe=Eo.create,vfe=Sc.create,xfe=Zs.createWithPreprocess,wfe=ny.create,bfe=()=>OB().optional(),Sfe=()=>yB().optional(),kfe=()=>vB().optional(),_fe={string:n=>Ts.create({...n,coerce:!0}),number:n=>xc.create({...n,coerce:!0}),boolean:n=>Tg.create({...n,coerce:!0}),bigint:n=>wc.create({...n,coerce:!0}),date:n=>Wu.create({...n,coerce:!0})},Tfe=qe;var lt=Object.freeze({__proto__:null,defaultErrorMap:ef,setErrorMap:Tde,getErrorMap:iw,makeIssue:sw,EMPTY_PATH:Pde,addIssueToContext:xe,ParseStatus:Ir,INVALID:qe,DIRTY:Gh,OK:Hr,isAborted:CP,isDirty:EP,isValid:kg,isAsync:_g,get util(){return Ot},get objectUtil(){return PP},ZodParsedType:_e,getParsedType:Rl,ZodType:nt,datetimeRegex:pB,ZodString:Ts,ZodNumber:xc,ZodBigInt:wc,ZodBoolean:Tg,ZodDate:Wu,ZodSymbol:aw,ZodUndefined:Pg,ZodNull:Cg,ZodAny:tf,ZodUnknown:Pu,ZodNever:Ya,ZodVoid:lw,ZodArray:$s,ZodObject:rn,ZodUnion:Eg,ZodDiscriminatedUnion:dS,ZodIntersection:Ag,ZodTuple:Mo,ZodRecord:Rg,ZodMap:cw,ZodSet:Xu,ZodFunction:gd,ZodLazy:Qg,ZodLiteral:Ng,ZodEnum:bc,ZodNativeEnum:Ig,ZodPromise:nf,ZodEffects:Zs,ZodTransformer:Zs,ZodOptional:Eo,ZodNullable:Sc,ZodDefault:$g,ZodCatch:jg,ZodNaN:uw,BRAND:qde,ZodBranded:SQ,ZodPipeline:ny,ZodReadonly:Dg,custom:gB,Schema:nt,ZodSchema:nt,late:Fde,get ZodFirstPartyTypeKind(){return ze},coerce:_fe,any:Kde,array:nfe,bigint:Wde,boolean:vB,date:Xde,discriminatedUnion:ofe,effect:qD,enum:mfe,function:dfe,instanceof:Zde,intersection:afe,lazy:ffe,literal:pfe,map:ufe,nan:Bde,nativeEnum:gfe,never:efe,null:Hde,nullable:vfe,number:yB,object:rfe,oboolean:kfe,onumber:Sfe,optional:yfe,ostring:bfe,pipeline:wfe,preprocess:xfe,promise:Ofe,record:cfe,set:hfe,strictObject:ife,string:OB,symbol:Gde,transformer:qD,tuple:lfe,undefined:Yde,union:sfe,unknown:Jde,void:tfe,NEVER:Tfe,ZodIssueCode:ce,quotelessJson:_de,ZodError:qi}),Pfe=x5.useId||(()=>{}),Cfe=0;function Ao(n){const[e,t]=b.useState(Pfe());return Wn(()=>{t(r=>r??String(Cfe++))},[n]),e?`radix-${e}`:""}var dk="focusScope.autoFocusOnMount",fk="focusScope.autoFocusOnUnmount",FD={bubbles:!1,cancelable:!0},Efe="FocusScope",fS=b.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=n,[a,l]=b.useState(null),c=Ht(i),u=Ht(s),d=b.useRef(null),f=Je(e,y=>l(y)),m=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let y=function(P){if(m.paused||!a)return;const Q=P.target;a.contains(Q)?d.current=Q:yl(d.current,{select:!0})},x=function(P){if(m.paused||!a)return;const Q=P.relatedTarget;Q!==null&&(a.contains(Q)||yl(d.current,{select:!0}))},w=function(P){if(document.activeElement===document.body)for(const C of P)C.removedNodes.length>0&&yl(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",x);const k=new MutationObserver(w);return a&&k.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",x),k.disconnect()}}},[r,a,m.paused]),b.useEffect(()=>{if(a){BD.add(m);const y=document.activeElement;if(!a.contains(y)){const w=new CustomEvent(dk,FD);a.addEventListener(dk,c),a.dispatchEvent(w),w.defaultPrevented||(Afe($fe(xB(a)),{select:!0}),document.activeElement===y&&yl(a))}return()=>{a.removeEventListener(dk,c),setTimeout(()=>{const w=new CustomEvent(fk,FD);a.addEventListener(fk,u),a.dispatchEvent(w),w.defaultPrevented||yl(y??document.body,{select:!0}),a.removeEventListener(fk,u),BD.remove(m)},0)}}},[a,c,u,m]);const g=b.useCallback(y=>{if(!t&&!r||m.paused)return;const x=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,w=document.activeElement;if(x&&w){const k=y.currentTarget,[P,Q]=Rfe(k);P&&Q?!y.shiftKey&&w===Q?(y.preventDefault(),t&&yl(P,{select:!0})):y.shiftKey&&w===P&&(y.preventDefault(),t&&yl(Q,{select:!0})):w===k&&y.preventDefault()}},[t,r,m.paused]);return h.jsx(Qe.div,{tabIndex:-1,...o,ref:f,onKeyDown:g})});fS.displayName=Efe;function Afe(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(yl(r,{select:e}),document.activeElement!==t)return}function Rfe(n){const e=xB(n),t=ZD(e,n),r=ZD(e.reverse(),n);return[t,r]}function xB(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function ZD(n,e){for(const t of n)if(!Qfe(t,{upTo:e}))return t}function Qfe(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function Nfe(n){return n instanceof HTMLInputElement&&"select"in n}function yl(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&Nfe(n)&&e&&n.select()}}var BD=Ife();function Ife(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=WD(n,e),n.unshift(e)},remove(e){var t;n=WD(n,e),(t=n[0])==null||t.resume()}}}function WD(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function $fe(n){return n.filter(e=>e.tagName!=="A")}var pk=0;function kQ(){b.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??XD()),document.body.insertAdjacentElement("beforeend",n[1]??XD()),pk++,()=>{pk===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),pk--}},[])}function XD(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var vv="right-scroll-bar-position",xv="width-before-scroll-bar",jfe="with-scroll-bars-hidden",Dfe="--removed-body-scroll-bar-size";function mk(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function Mfe(n,e){var t=b.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var i=t.value;i!==r&&(t.value=r,t.callback(r,i))}}}})[0];return t.callback=e,t.facade}var Vfe=typeof window<"u"?b.useLayoutEffect:b.useEffect,GD=new WeakMap;function Lfe(n,e){var t=Mfe(null,function(r){return n.forEach(function(i){return mk(i,r)})});return Vfe(function(){var r=GD.get(t);if(r){var i=new Set(r),s=new Set(n),o=t.current;i.forEach(function(a){s.has(a)||mk(a,null)}),s.forEach(function(a){i.has(a)||mk(a,o)})}GD.set(t,n)},[n]),t}function Ufe(n){return n}function zfe(n,e){e===void 0&&(e=Ufe);var t=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(s){var o=e(s,r);return t.push(o),function(){t=t.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;t.length;){var o=t;t=[],o.forEach(s)}t={push:function(a){return s(a)},filter:function(){return t}}},assignMedium:function(s){r=!0;var o=[];if(t.length){var a=t;t=[],a.forEach(s),o=t}var l=function(){var u=o;o=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),t={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),t}}}};return i}function qfe(n){n===void 0&&(n={});var e=zfe(null);return e.options=fo({async:!0,ssr:!1},n),e}var wB=function(n){var e=n.sideCar,t=BO(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,fo({},t))};wB.isSideCarExport=!0;function Ffe(n,e){return n.useMedium(e),wB}var bB=qfe(),gk=function(){},pS=b.forwardRef(function(n,e){var t=b.useRef(null),r=b.useState({onScrollCapture:gk,onWheelCapture:gk,onTouchMoveCapture:gk}),i=r[0],s=r[1],o=n.forwardProps,a=n.children,l=n.className,c=n.removeScrollBar,u=n.enabled,d=n.shards,f=n.sideCar,m=n.noIsolation,g=n.inert,y=n.allowPinchZoom,x=n.as,w=x===void 0?"div":x,k=n.gapMode,P=BO(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),Q=f,C=Lfe([t,e]),N=fo(fo({},P),i);return b.createElement(b.Fragment,null,u&&b.createElement(Q,{sideCar:bB,removeScrollBar:c,shards:d,noIsolation:m,inert:g,setCallbacks:s,allowPinchZoom:!!y,lockRef:t,gapMode:k}),o?b.cloneElement(b.Children.only(a),fo(fo({},N),{ref:C})):b.createElement(w,fo({},N,{className:l,ref:C}),a))});pS.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};pS.classNames={fullWidth:xv,zeroRight:vv};var Zfe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Bfe(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=Zfe();return e&&n.setAttribute("nonce",e),n}function Wfe(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function Xfe(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var Gfe=function(){var n=0,e=null;return{add:function(t){n==0&&(e=Bfe())&&(Wfe(e,t),Xfe(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Yfe=function(){var n=Gfe();return function(e,t){b.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},SB=function(){var n=Yfe(),e=function(t){var r=t.styles,i=t.dynamic;return n(r,i),null};return e},Hfe={left:0,top:0,right:0,gap:0},Ok=function(n){return parseInt(n||"",10)||0},Kfe=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[Ok(t),Ok(r),Ok(i)]},Jfe=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return Hfe;var e=Kfe(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},epe=SB(),Od="data-scroll-locked",tpe=function(n,e,t,r){var i=n.left,s=n.top,o=n.right,a=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(jfe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Od,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(vv,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(xv,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(vv," .").concat(vv,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(xv," .").concat(xv,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Od,`] {
    `).concat(Dfe,": ").concat(a,`px;
  }
`)},YD=function(){var n=parseInt(document.body.getAttribute(Od)||"0",10);return isFinite(n)?n:0},npe=function(){b.useEffect(function(){return document.body.setAttribute(Od,(YD()+1).toString()),function(){var n=YD()-1;n<=0?document.body.removeAttribute(Od):document.body.setAttribute(Od,n.toString())}},[])},rpe=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,i=r===void 0?"margin":r;npe();var s=b.useMemo(function(){return Jfe(i)},[i]);return b.createElement(epe,{styles:tpe(s,!e,i,t?"":"!important")})},RP=!1;if(typeof window<"u")try{var c0=Object.defineProperty({},"passive",{get:function(){return RP=!0,!0}});window.addEventListener("test",c0,c0),window.removeEventListener("test",c0,c0)}catch{RP=!1}var kh=RP?{passive:!1}:!1,ipe=function(n){return n.tagName==="TEXTAREA"},kB=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!ipe(n)&&t[e]==="visible")},spe=function(n){return kB(n,"overflowY")},ope=function(n){return kB(n,"overflowX")},HD=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=_B(n,r);if(i){var s=TB(n,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},ape=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},lpe=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},_B=function(n,e){return n==="v"?spe(e):ope(e)},TB=function(n,e){return n==="v"?ape(e):lpe(e)},cpe=function(n,e){return n==="h"&&e==="rtl"?-1:1},upe=function(n,e,t,r,i){var s=cpe(n,window.getComputedStyle(e).direction),o=s*r,a=t.target,l=e.contains(a),c=!1,u=o>0,d=0,f=0;do{var m=TB(n,a),g=m[0],y=m[1],x=m[2],w=y-x-s*g;(g||w)&&_B(n,a)&&(d+=w,f+=g),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(Math.abs(d)<1||!i)||!u&&(Math.abs(f)<1||!i))&&(c=!0),c},u0=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},KD=function(n){return[n.deltaX,n.deltaY]},JD=function(n){return n&&"current"in n?n.current:n},hpe=function(n,e){return n[0]===e[0]&&n[1]===e[1]},dpe=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},fpe=0,_h=[];function ppe(n){var e=b.useRef([]),t=b.useRef([0,0]),r=b.useRef(),i=b.useState(fpe++)[0],s=b.useState(SB)[0],o=b.useRef(n);b.useEffect(function(){o.current=n},[n]),b.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var y=toe([n.lockRef.current],(n.shards||[]).map(JD),!0).filter(Boolean);return y.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var a=b.useCallback(function(y,x){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var w=u0(y),k=t.current,P="deltaX"in y?y.deltaX:k[0]-w[0],Q="deltaY"in y?y.deltaY:k[1]-w[1],C,N=y.target,O=Math.abs(P)>Math.abs(Q)?"h":"v";if("touches"in y&&O==="h"&&N.type==="range")return!1;var T=HD(O,N);if(!T)return!0;if(T?C=O:(C=O==="v"?"h":"v",T=HD(O,N)),!T)return!1;if(!r.current&&"changedTouches"in y&&(P||Q)&&(r.current=C),!C)return!0;var S=r.current||C;return upe(S,x,y,S==="h"?P:Q,!0)},[]),l=b.useCallback(function(y){var x=y;if(!(!_h.length||_h[_h.length-1]!==s)){var w="deltaY"in x?KD(x):u0(x),k=e.current.filter(function(C){return C.name===x.type&&(C.target===x.target||x.target===C.shadowParent)&&hpe(C.delta,w)})[0];if(k&&k.should){x.cancelable&&x.preventDefault();return}if(!k){var P=(o.current.shards||[]).map(JD).filter(Boolean).filter(function(C){return C.contains(x.target)}),Q=P.length>0?a(x,P[0]):!o.current.noIsolation;Q&&x.cancelable&&x.preventDefault()}}},[]),c=b.useCallback(function(y,x,w,k){var P={name:y,delta:x,target:w,should:k,shadowParent:mpe(w)};e.current.push(P),setTimeout(function(){e.current=e.current.filter(function(Q){return Q!==P})},1)},[]),u=b.useCallback(function(y){t.current=u0(y),r.current=void 0},[]),d=b.useCallback(function(y){c(y.type,KD(y),y.target,a(y,n.lockRef.current))},[]),f=b.useCallback(function(y){c(y.type,u0(y),y.target,a(y,n.lockRef.current))},[]);b.useEffect(function(){return _h.push(s),n.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,kh),document.addEventListener("touchmove",l,kh),document.addEventListener("touchstart",u,kh),function(){_h=_h.filter(function(y){return y!==s}),document.removeEventListener("wheel",l,kh),document.removeEventListener("touchmove",l,kh),document.removeEventListener("touchstart",u,kh)}},[]);var m=n.removeScrollBar,g=n.inert;return b.createElement(b.Fragment,null,g?b.createElement(s,{styles:dpe(i)}):null,m?b.createElement(rpe,{gapMode:n.gapMode}):null)}function mpe(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const gpe=Ffe(bB,ppe);var mS=b.forwardRef(function(n,e){return b.createElement(pS,fo({},n,{ref:e,sideCar:gpe}))});mS.classNames=pS.classNames;var Ope=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Th=new WeakMap,h0=new WeakMap,d0={},yk=0,PB=function(n){return n&&(n.host||PB(n.parentNode))},ype=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=PB(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},vpe=function(n,e,t,r){var i=ype(e,Array.isArray(n)?n:[n]);d0[t]||(d0[t]=new WeakMap);var s=d0[t],o=[],a=new Set,l=new Set(i),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};i.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(f){if(a.has(f))u(f);else try{var m=f.getAttribute(r),g=m!==null&&m!=="false",y=(Th.get(f)||0)+1,x=(s.get(f)||0)+1;Th.set(f,y),s.set(f,x),o.push(f),y===1&&g&&h0.set(f,!0),x===1&&f.setAttribute(t,"true"),g||f.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",f,w)}})};return u(e),a.clear(),yk++,function(){o.forEach(function(d){var f=Th.get(d)-1,m=s.get(d)-1;Th.set(d,f),s.set(d,m),f||(h0.has(d)||d.removeAttribute(r),h0.delete(d)),m||d.removeAttribute(t)}),yk--,yk||(Th=new WeakMap,Th=new WeakMap,h0=new WeakMap,d0={})}},_Q=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=Ope(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),vpe(r,i,t,"aria-hidden")):function(){return null}},TQ="Dialog",[CB,CQe]=Jo(TQ),[xpe,Ys]=CB(TQ),EB=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=n,a=b.useRef(null),l=b.useRef(null),[c=!1,u]=Ga({prop:r,defaultProp:i,onChange:s});return h.jsx(xpe,{scope:e,triggerRef:a,contentRef:l,contentId:Ao(),titleId:Ao(),descriptionId:Ao(),open:c,onOpenChange:u,onOpenToggle:b.useCallback(()=>u(d=>!d),[u]),modal:o,children:t})};EB.displayName=TQ;var AB="DialogTrigger",RB=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Ys(AB,t),s=Je(e,i.triggerRef);return h.jsx(Qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":EQ(i.open),...r,ref:s,onClick:he(n.onClick,i.onOpenToggle)})});RB.displayName=AB;var PQ="DialogPortal",[wpe,QB]=CB(PQ,{forceMount:void 0}),NB=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:i}=n,s=Ys(PQ,e);return h.jsx(wpe,{scope:e,forceMount:t,children:b.Children.map(r,o=>h.jsx(ti,{present:t||s.open,children:h.jsx(ey,{asChild:!0,container:i,children:o})}))})};NB.displayName=PQ;var hw="DialogOverlay",IB=b.forwardRef((n,e)=>{const t=QB(hw,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,s=Ys(hw,n.__scopeDialog);return s.modal?h.jsx(ti,{present:r||s.open,children:h.jsx(bpe,{...i,ref:e})}):null});IB.displayName=hw;var bpe=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Ys(hw,t);return h.jsx(mS,{as:Xa,allowPinchZoom:!0,shards:[i.contentRef],children:h.jsx(Qe.div,{"data-state":EQ(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Gu="DialogContent",$B=b.forwardRef((n,e)=>{const t=QB(Gu,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,s=Ys(Gu,n.__scopeDialog);return h.jsx(ti,{present:r||s.open,children:s.modal?h.jsx(Spe,{...i,ref:e}):h.jsx(kpe,{...i,ref:e})})});$B.displayName=Gu;var Spe=b.forwardRef((n,e)=>{const t=Ys(Gu,n.__scopeDialog),r=b.useRef(null),i=Je(e,t.contentRef,r);return b.useEffect(()=>{const s=r.current;if(s)return _Q(s)},[]),h.jsx(jB,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:he(n.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=t.triggerRef.current)==null||o.focus()}),onPointerDownOutside:he(n.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:he(n.onFocusOutside,s=>s.preventDefault())})}),kpe=b.forwardRef((n,e)=>{const t=Ys(Gu,n.__scopeDialog),r=b.useRef(!1),i=b.useRef(!1);return h.jsx(jB,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=n.onCloseAutoFocus)==null||o.call(n,s),s.defaultPrevented||(r.current||(a=t.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,c;(l=n.onInteractOutside)==null||l.call(n,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((c=t.triggerRef.current)==null?void 0:c.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),jB=b.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=n,a=Ys(Gu,t),l=b.useRef(null),c=Je(e,l);return kQ(),h.jsxs(h.Fragment,{children:[h.jsx(fS,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:h.jsx(JO,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":EQ(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),h.jsxs(h.Fragment,{children:[h.jsx(_pe,{titleId:a.titleId}),h.jsx(Ppe,{contentRef:l,descriptionId:a.descriptionId})]})]})}),CQ="DialogTitle",DB=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Ys(CQ,t);return h.jsx(Qe.h2,{id:i.titleId,...r,ref:e})});DB.displayName=CQ;var MB="DialogDescription",VB=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Ys(MB,t);return h.jsx(Qe.p,{id:i.descriptionId,...r,ref:e})});VB.displayName=MB;var LB="DialogClose",UB=b.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Ys(LB,t);return h.jsx(Qe.button,{type:"button",...r,ref:e,onClick:he(n.onClick,()=>i.onOpenChange(!1))})});UB.displayName=LB;function EQ(n){return n?"open":"closed"}var zB="DialogTitleWarning",[EQe,qB]=Gce(zB,{contentName:Gu,titleName:CQ,docsSlug:"dialog"}),_pe=({titleId:n})=>{const e=qB(zB),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},Tpe="DialogDescriptionWarning",Ppe=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${qB(Tpe).contentName}}.`;return b.useEffect(()=>{var s;const i=(s=n.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},FB=EB,ZB=RB,BB=NB,gS=IB,OS=$B,yS=DB,vS=VB,WB=UB;const Ro=FB,AQ=ZB,Cpe=BB,XB=b.forwardRef(({className:n,...e},t)=>h.jsx(gS,{ref:t,className:we("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e}));XB.displayName=gS.displayName;const js=b.forwardRef(({className:n,children:e,...t},r)=>h.jsxs(Cpe,{children:[h.jsx(XB,{}),h.jsxs(OS,{ref:r,className:we("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...t,children:[e,h.jsxs(WB,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[h.jsx(Zf,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));js.displayName=OS.displayName;const Ds=({className:n,...e})=>h.jsx("div",{className:we("flex flex-col space-y-1.5 text-center sm:text-left",n),...e});Ds.displayName="DialogHeader";const ja=({className:n,...e})=>h.jsx("div",{className:we("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...e});ja.displayName="DialogFooter";const Ms=b.forwardRef(({className:n,...e},t)=>h.jsx(yS,{ref:t,className:we("text-lg font-semibold leading-none tracking-tight",n),...e}));Ms.displayName=yS.displayName;const Vs=b.forwardRef(({className:n,...e},t)=>h.jsx(vS,{ref:t,className:we("text-sm text-muted-foreground",n),...e}));Vs.displayName=vS.displayName;var Epe="Label",GB=b.forwardRef((n,e)=>h.jsx(Qe.label,{...n,ref:e,onMouseDown:t=>{var i;t.target.closest("button, input, select, textarea")||((i=n.onMouseDown)==null||i.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));GB.displayName=Epe;var YB=GB;const Ape=Uf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ft=b.forwardRef(({className:n,...e},t)=>h.jsx(YB,{ref:t,className:we(Ape(),n),...e}));Ft.displayName=YB.displayName;const Mg=ode,HB=b.createContext({}),Hn=({...n})=>h.jsx(HB.Provider,{value:{name:n.name},children:h.jsx(ude,{...n})}),xS=()=>{const n=b.useContext(HB),e=b.useContext(KB),{getFieldState:t,formState:r}=cS(),i=t(n.name,r);if(!n)throw new Error("useFormField should be used within <FormField>");const{id:s}=e;return{id:s,name:n.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},KB=b.createContext({}),Ln=b.forwardRef(({className:n,...e},t)=>{const r=b.useId();return h.jsx(KB.Provider,{value:{id:r},children:h.jsx("div",{ref:t,className:we("space-y-2",n),...e})})});Ln.displayName="FormItem";const vn=b.forwardRef(({className:n,...e},t)=>{const{error:r,formItemId:i}=xS();return h.jsx(Ft,{ref:t,className:we(r&&"text-destructive",n),htmlFor:i,...e})});vn.displayName="FormLabel";const xn=b.forwardRef(({...n},e)=>{const{error:t,formItemId:r,formDescriptionId:i,formMessageId:s}=xS();return h.jsx(Xa,{ref:e,id:r,"aria-describedby":t?`${i} ${s}`:`${i}`,"aria-invalid":!!t,...n})});xn.displayName="FormControl";const Rpe=b.forwardRef(({className:n,...e},t)=>{const{formDescriptionId:r}=xS();return h.jsx("p",{ref:t,id:r,className:we("text-sm text-muted-foreground",n),...e})});Rpe.displayName="FormDescription";const Un=b.forwardRef(({className:n,children:e,...t},r)=>{const{error:i,formMessageId:s}=xS(),o=i?String(i==null?void 0:i.message):e;return o?h.jsx("p",{ref:r,id:s,className:we("text-sm font-medium text-destructive",n),...t,children:o}):null});Un.displayName="FormMessage";const Yu=b.forwardRef(({className:n,...e},t)=>h.jsx("textarea",{className:we("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...e}));Yu.displayName="Textarea";let QP=[],JB=[];(()=>{let n="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,t=0;e<n.length;e++)(e%2?JB:QP).push(t=t+n[e])})();function Qpe(n){if(n<768)return!1;for(let e=0,t=QP.length;;){let r=e+t>>1;if(n<QP[r])t=r;else if(n>=JB[r])e=r+1;else return!0;if(e==t)return!1}}function eM(n){return n>=127462&&n<=127487}const tM=8205;function Npe(n,e,t=!0,r=!0){return(t?eW:Ipe)(n,e,r)}function eW(n,e,t){if(e==n.length)return e;e&&tW(n.charCodeAt(e))&&nW(n.charCodeAt(e-1))&&e--;let r=vk(n,e);for(e+=nM(r);e<n.length;){let i=vk(n,e);if(r==tM||i==tM||t&&Qpe(i))e+=nM(i),r=i;else if(eM(i)){let s=0,o=e-2;for(;o>=0&&eM(vk(n,o));)s++,o-=2;if(s%2==0)break;e+=2}else break}return e}function Ipe(n,e,t){for(;e>0;){let r=eW(n,e-2,t);if(r<e)return r;e--}return 0}function vk(n,e){let t=n.charCodeAt(e);if(!nW(t)||e+1==n.length)return t;let r=n.charCodeAt(e+1);return tW(r)?(t-55296<<10)+(r-56320)+65536:t}function tW(n){return n>=56320&&n<57344}function nW(n){return n>=55296&&n<56320}function nM(n){return n<65536?1:2}class pt{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,r){[e,t]=rf(this,e,t);let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(t,this.length,i,1),po.from(i,this.length-(t-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=rf(this,e,t);let r=[];return this.decompose(e,t,r,0),po.from(r,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new Um(this),s=new Um(e);for(let o=t,a=t;;){if(i.next(o),s.next(o),o=0,i.lineBreak!=s.lineBreak||i.done!=s.done||i.value!=s.value)return!1;if(a+=i.value.length,i.done||a>=r)return!0}}iter(e=1){return new Um(this,e)}iterRange(e,t=this.length){return new rW(this,e,t)}iterLines(e,t){let r;if(e==null)r=this.iter();else{t==null&&(t=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new iW(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?pt.empty:e.length<=32?new On(e):po.from(On.split(e,[]))}}class On extends pt{constructor(e,t=$pe(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,r,i){for(let s=0;;s++){let o=this.text[s],a=i+o.length;if((t?r:a)>=e)return new jpe(i,a,r,o);i=a+1,r++}}decompose(e,t,r,i){let s=e<=0&&t>=this.length?this:new On(rM(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(i&1){let o=r.pop(),a=wv(s.text,o.text.slice(),0,s.length);if(a.length<=32)r.push(new On(a,o.length+s.length));else{let l=a.length>>1;r.push(new On(a.slice(0,l)),new On(a.slice(l)))}}else r.push(s)}replace(e,t,r){if(!(r instanceof On))return super.replace(e,t,r);[e,t]=rf(this,e,t);let i=wv(this.text,wv(r.text,rM(this.text,0,e)),t),s=this.length+r.length-(t-e);return i.length<=32?new On(i,s):po.from(On.split(i,[]),s)}sliceString(e,t=this.length,r=`
`){[e,t]=rf(this,e,t);let i="";for(let s=0,o=0;s<=t&&o<this.text.length;o++){let a=this.text[o],l=s+a.length;s>e&&o&&(i+=r),e<l&&t>s&&(i+=a.slice(Math.max(0,e-s),t-s)),s=l+1}return i}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let r=[],i=-1;for(let s of e)r.push(s),i+=s.length+1,r.length==32&&(t.push(new On(r,i)),r=[],i=-1);return i>-1&&t.push(new On(r,i)),t}}class po extends pt{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,t,r,i){for(let s=0;;s++){let o=this.children[s],a=i+o.length,l=r+o.lines-1;if((t?l:a)>=e)return o.lineInner(e,t,r,i);i=a+1,r=l+1}}decompose(e,t,r,i){for(let s=0,o=0;o<=t&&s<this.children.length;s++){let a=this.children[s],l=o+a.length;if(e<=l&&t>=o){let c=i&((o<=e?1:0)|(l>=t?2:0));o>=e&&l<=t&&!c?r.push(a):a.decompose(e-o,t-o,r,c)}o=l+1}}replace(e,t,r){if([e,t]=rf(this,e,t),r.lines<this.lines)for(let i=0,s=0;i<this.children.length;i++){let o=this.children[i],a=s+o.length;if(e>=s&&t<=a){let l=o.replace(e-s,t-s,r),c=this.lines-o.lines+l.lines;if(l.lines<c>>4&&l.lines>c>>6){let u=this.children.slice();return u[i]=l,new po(u,this.length-(t-e)+r.length)}return super.replace(s,a,l)}s=a+1}return super.replace(e,t,r)}sliceString(e,t=this.length,r=`
`){[e,t]=rf(this,e,t);let i="";for(let s=0,o=0;s<this.children.length&&o<=t;s++){let a=this.children[s],l=o+a.length;o>e&&s&&(i+=r),e<l&&t>o&&(i+=a.sliceString(e-o,t-o,r)),o=l+1}return i}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof po))return 0;let r=0,[i,s,o,a]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=t,s+=t){if(i==o||s==a)return r;let l=this.children[i],c=e.children[s];if(l!=c)return r+l.scanIdentical(c,t);r+=l.length+1}}static from(e,t=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let m of e)r+=m.lines;if(r<32){let m=[];for(let g of e)g.flatten(m);return new On(m,t)}let i=Math.max(32,r>>5),s=i<<1,o=i>>1,a=[],l=0,c=-1,u=[];function d(m){let g;if(m.lines>s&&m instanceof po)for(let y of m.children)d(y);else m.lines>o&&(l>o||!l)?(f(),a.push(m)):m instanceof On&&l&&(g=u[u.length-1])instanceof On&&m.lines+g.lines<=32?(l+=m.lines,c+=m.length+1,u[u.length-1]=new On(g.text.concat(m.text),g.length+1+m.length)):(l+m.lines>i&&f(),l+=m.lines,c+=m.length+1,u.push(m))}function f(){l!=0&&(a.push(u.length==1?u[0]:po.from(u,c)),c=-1,l=u.length=0)}for(let m of e)d(m);return f(),a.length==1?a[0]:new po(a,t)}}pt.empty=new On([""],0);function $pe(n){let e=-1;for(let t of n)e+=t.length+1;return e}function wv(n,e,t=0,r=1e9){for(let i=0,s=0,o=!0;s<n.length&&i<=r;s++){let a=n[s],l=i+a.length;l>=t&&(l>r&&(a=a.slice(0,r-i)),i<t&&(a=a.slice(t-i)),o?(e[e.length-1]+=a,o=!1):e.push(a)),i=l+1}return e}function rM(n,e,t){return wv(n,[""],e,t)}class Um{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof On?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],s=this.offsets[r],o=s>>1,a=i instanceof On?i.text.length:i.children.length;if(o==(t>0?a:0)){if(r==0)return this.done=!0,this.value="",this;t>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(t>0?0:1)){if(this.offsets[r]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof On){let l=i.text[o+(t<0?-1:0)];if(this.offsets[r]+=t,l.length>Math.max(0,e))return this.value=e==0?l:t>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=i.children[o+(t<0?-1:0)];e>l.length?(e-=l.length,this.offsets[r]+=t):(t<0&&this.offsets[r]--,this.nodes.push(l),this.offsets.push(t>0?1:(l instanceof On?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class rW{constructor(e,t,r){this.value="",this.done=!1,this.cursor=new Um(e,t>r?-1:1),this.pos=t>r?e.length:0,this.from=Math.min(t,r),this.to=Math.max(t,r)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let r=t<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*t,this.value=i.length<=r?i:t<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class iW{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:r,value:i}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(pt.prototype[Symbol.iterator]=function(){return this.iter()},Um.prototype[Symbol.iterator]=rW.prototype[Symbol.iterator]=iW.prototype[Symbol.iterator]=function(){return this});class jpe{constructor(e,t,r,i){this.from=e,this.to=t,this.number=r,this.text=i}get length(){return this.to-this.from}}function rf(n,e,t){return e=Math.max(0,Math.min(n.length,e)),[e,Math.max(e,Math.min(n.length,t))]}function mr(n,e,t=!0,r=!0){return Npe(n,e,t,r)}function Dpe(n){return n>=56320&&n<57344}function Mpe(n){return n>=55296&&n<56320}function ui(n,e){let t=n.charCodeAt(e);if(!Mpe(t)||e+1==n.length)return t;let r=n.charCodeAt(e+1);return Dpe(r)?(t-55296<<10)+(r-56320)+65536:t}function RQ(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}function mo(n){return n<65536?1:2}const NP=/\r\n?|\n/;var qn=function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n}(qn||(qn={}));class Qo{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t+1];e+=r<0?this.sections[t]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,r=0,i=0;t<this.sections.length;){let s=this.sections[t++],o=this.sections[t++];o<0?(e(r,i,s),i+=s):i+=o,r+=s}}iterChangedRanges(e,t=!1){IP(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let r=this.sections[t++],i=this.sections[t++];i<0?e.push(r,i):e.push(i,r)}return new Qo(e)}composeDesc(e){return this.empty?e:e.empty?this:sW(this,e)}mapDesc(e,t=!1){return e.empty?this:$P(this,e,t)}mapPos(e,t=-1,r=qn.Simple){let i=0,s=0;for(let o=0;o<this.sections.length;){let a=this.sections[o++],l=this.sections[o++],c=i+a;if(l<0){if(c>e)return s+(e-i);s+=a}else{if(r!=qn.Simple&&c>=e&&(r==qn.TrackDel&&i<e&&c>e||r==qn.TrackBefore&&i<e||r==qn.TrackAfter&&c>e))return null;if(c>e||c==e&&t<0&&!a)return e==i||t<0?s:s+l;s+=l}i=c}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return s}touchesRange(e,t=e){for(let r=0,i=0;r<this.sections.length&&i<=t;){let s=this.sections[r++],o=this.sections[r++],a=i+s;if(o>=0&&i<=t&&a>=e)return i<e&&a>t?"cover":!0;i=a}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let r=this.sections[t++],i=this.sections[t++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Qo(e)}static create(e){return new Qo(e)}}class Mn extends Qo{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return IP(this,(t,r,i,s,o)=>e=e.replace(i,i+(r-t),o),!1),e}mapDesc(e,t=!1){return $P(this,e,t,!0)}invert(e){let t=this.sections.slice(),r=[];for(let i=0,s=0;i<t.length;i+=2){let o=t[i],a=t[i+1];if(a>=0){t[i]=a,t[i+1]=o;let l=i>>1;for(;r.length<l;)r.push(pt.empty);r.push(o?e.slice(s,s+o):pt.empty)}s+=o}return new Mn(t,r)}compose(e){return this.empty?e:e.empty?this:sW(this,e,!0)}map(e,t=!1){return e.empty?this:$P(this,e,t,!0)}iterChanges(e,t=!1){IP(this,e,t)}get desc(){return Qo.create(this.sections)}filter(e){let t=[],r=[],i=[],s=new Vg(this);e:for(let o=0,a=0;;){let l=o==e.length?1e9:e[o++];for(;a<l||a==l&&s.len==0;){if(s.done)break e;let u=Math.min(s.len,l-a);Pr(i,u,-1);let d=s.ins==-1?-1:s.off==0?s.ins:0;Pr(t,u,d),d>0&&Zl(r,t,s.text),s.forward(u),a+=u}let c=e[o++];for(;a<c;){if(s.done)break e;let u=Math.min(s.len,c-a);Pr(t,u,-1),Pr(i,u,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(u),a+=u}}return{changes:new Mn(t,r),filtered:Qo.create(i)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t],i=this.sections[t+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,r){let i=[],s=[],o=0,a=null;function l(u=!1){if(!u&&!i.length)return;o<t&&Pr(i,t-o,-1);let d=new Mn(i,s);a=a?a.compose(d.map(a)):d,i=[],s=[],o=0}function c(u){if(Array.isArray(u))for(let d of u)c(d);else if(u instanceof Mn){if(u.length!=t)throw new RangeError(`Mismatched change set length (got ${u.length}, expected ${t})`);l(),a=a?a.compose(u.map(a)):u}else{let{from:d,to:f=d,insert:m}=u;if(d>f||d<0||f>t)throw new RangeError(`Invalid change range ${d} to ${f} (in doc of length ${t})`);let g=m?typeof m=="string"?pt.of(m.split(r||NP)):m:pt.empty,y=g.length;if(d==f&&y==0)return;d<o&&l(),d>o&&Pr(i,d-o,-1),Pr(i,f-d,y),Zl(s,i,g),o=f}}return c(e),l(!a),a}static empty(e){return new Mn(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],r=[];for(let i=0;i<e.length;i++){let s=e[i];if(typeof s=="number")t.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((o,a)=>a&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)t.push(s[0],0);else{for(;r.length<i;)r.push(pt.empty);r[i]=pt.of(s.slice(1)),t.push(s[0],r[i].length)}}}return new Mn(t,r)}static createSet(e,t){return new Mn(e,t)}}function Pr(n,e,t,r=!1){if(e==0&&t<=0)return;let i=n.length-2;i>=0&&t<=0&&t==n[i+1]?n[i]+=e:i>=0&&e==0&&n[i]==0?n[i+1]+=t:r?(n[i]+=e,n[i+1]+=t):n.push(e,t)}function Zl(n,e,t){if(t.length==0)return;let r=e.length-2>>1;if(r<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<r;)n.push(pt.empty);n.push(t)}}function IP(n,e,t){let r=n.inserted;for(let i=0,s=0,o=0;o<n.sections.length;){let a=n.sections[o++],l=n.sections[o++];if(l<0)i+=a,s+=a;else{let c=i,u=s,d=pt.empty;for(;c+=a,u+=l,l&&r&&(d=d.append(r[o-2>>1])),!(t||o==n.sections.length||n.sections[o+1]<0);)a=n.sections[o++],l=n.sections[o++];e(i,c,s,u,d),i=c,s=u}}}function $P(n,e,t,r=!1){let i=[],s=r?[]:null,o=new Vg(n),a=new Vg(e);for(let l=-1;;){if(o.done&&a.len||a.done&&o.len)throw new Error("Mismatched change set lengths");if(o.ins==-1&&a.ins==-1){let c=Math.min(o.len,a.len);Pr(i,c,-1),o.forward(c),a.forward(c)}else if(a.ins>=0&&(o.ins<0||l==o.i||o.off==0&&(a.len<o.len||a.len==o.len&&!t))){let c=a.len;for(Pr(i,a.ins,-1);c;){let u=Math.min(o.len,c);o.ins>=0&&l<o.i&&o.len<=u&&(Pr(i,0,o.ins),s&&Zl(s,i,o.text),l=o.i),o.forward(u),c-=u}a.next()}else if(o.ins>=0){let c=0,u=o.len;for(;u;)if(a.ins==-1){let d=Math.min(u,a.len);c+=d,u-=d,a.forward(d)}else if(a.ins==0&&a.len<u)u-=a.len,a.next();else break;Pr(i,c,l<o.i?o.ins:0),s&&l<o.i&&Zl(s,i,o.text),l=o.i,o.forward(o.len-u)}else{if(o.done&&a.done)return s?Mn.createSet(i,s):Qo.create(i);throw new Error("Mismatched change set lengths")}}}function sW(n,e,t=!1){let r=[],i=t?[]:null,s=new Vg(n),o=new Vg(e);for(let a=!1;;){if(s.done&&o.done)return i?Mn.createSet(r,i):Qo.create(r);if(s.ins==0)Pr(r,s.len,0,a),s.next();else if(o.len==0&&!o.done)Pr(r,0,o.ins,a),i&&Zl(i,r,o.text),o.next();else{if(s.done||o.done)throw new Error("Mismatched change set lengths");{let l=Math.min(s.len2,o.len),c=r.length;if(s.ins==-1){let u=o.ins==-1?-1:o.off?0:o.ins;Pr(r,l,u,a),i&&u&&Zl(i,r,o.text)}else o.ins==-1?(Pr(r,s.off?0:s.len,l,a),i&&Zl(i,r,s.textBit(l))):(Pr(r,s.off?0:s.len,o.off?0:o.ins,a),i&&!o.off&&Zl(i,r,o.text));a=(s.ins>l||o.ins>=0&&o.len>l)&&(a||r.length>c),s.forward2(l),o.forward(l)}}}}class Vg{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?pt.empty:e[t]}textBit(e){let{inserted:t}=this.set,r=this.i-2>>1;return r>=t.length&&!e?pt.empty:t[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class mu{constructor(e,t,r){this.from=e,this.to=t,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,t):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new mu(r,i,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return te.range(e,t);let r=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return te.range(this.anchor,r)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return te.range(e.anchor,e.head)}static create(e,t,r){return new mu(e,t,r)}}class te{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:te.create(this.ranges.map(r=>r.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new te([this.main],0)}addRange(e,t=!0){return te.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let r=this.ranges.slice();return r[t]=e,te.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new te(e.ranges.map(t=>mu.fromJSON(t)),e.main)}static single(e,t=e){return new te([te.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let s=e[i];if(s.empty?s.from<=r:s.from<r)return te.normalized(e.slice(),t);r=s.to}return new te(e,t)}static cursor(e,t=0,r,i){return mu.create(e,e,(t==0?0:t<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(e,t,r,i){let s=(r??16777215)<<6|(i==null?7:Math.min(6,i));return t<e?mu.create(t,e,48|s):mu.create(e,t,(t>e?8:0)|s)}static normalized(e,t=0){let r=e[t];e.sort((i,s)=>i.from-s.from),t=e.indexOf(r);for(let i=1;i<e.length;i++){let s=e[i],o=e[i-1];if(s.empty?s.from<=o.to:s.from<o.to){let a=o.from,l=Math.max(s.to,o.to);i<=t&&t--,e.splice(--i,2,s.anchor>s.head?te.range(l,a):te.range(a,l))}}return new te(e,t)}}function oW(n,e){for(let t of n.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let QQ=0;class de{constructor(e,t,r,i,s){this.combine=e,this.compareInput=t,this.compare=r,this.isStatic=i,this.id=QQ++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(e={}){return new de(e.combine||(t=>t),e.compareInput||((t,r)=>t===r),e.compare||(e.combine?(t,r)=>t===r:NQ),!!e.static,e.enables)}of(e){return new bv([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new bv(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new bv(e,this,2,t)}from(e,t){return t||(t=r=>r),this.compute([e],r=>t(r.field(e)))}}function NQ(n,e){return n==e||n.length==e.length&&n.every((t,r)=>t===e[r])}class bv{constructor(e,t,r,i){this.dependencies=e,this.facet=t,this.type=r,this.value=i,this.id=QQ++}dynamicSlot(e){var t;let r=this.value,i=this.facet.compareInput,s=this.id,o=e[s]>>1,a=this.type==2,l=!1,c=!1,u=[];for(let d of this.dependencies)d=="doc"?l=!0:d=="selection"?c=!0:((t=e[d.id])!==null&&t!==void 0?t:1)&1||u.push(e[d.id]);return{create(d){return d.values[o]=r(d),1},update(d,f){if(l&&f.docChanged||c&&(f.docChanged||f.selection)||jP(d,u)){let m=r(d);if(a?!iM(m,d.values[o],i):!i(m,d.values[o]))return d.values[o]=m,1}return 0},reconfigure:(d,f)=>{let m,g=f.config.address[s];if(g!=null){let y=fw(f,g);if(this.dependencies.every(x=>x instanceof de?f.facet(x)===d.facet(x):x instanceof Xt?f.field(x,!1)==d.field(x,!1):!0)||(a?iM(m=r(d),y,i):i(m=r(d),y)))return d.values[o]=y,0}else m=r(d);return d.values[o]=m,1}}}}function iM(n,e,t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!t(n[r],e[r]))return!1;return!0}function jP(n,e){let t=!1;for(let r of e)zm(n,r)&1&&(t=!0);return t}function Vpe(n,e,t){let r=t.map(l=>n[l.id]),i=t.map(l=>l.type),s=r.filter(l=>!(l&1)),o=n[e.id]>>1;function a(l){let c=[];for(let u=0;u<r.length;u++){let d=fw(l,r[u]);if(i[u]==2)for(let f of d)c.push(f);else c.push(d)}return e.combine(c)}return{create(l){for(let c of r)zm(l,c);return l.values[o]=a(l),1},update(l,c){if(!jP(l,s))return 0;let u=a(l);return e.compare(u,l.values[o])?0:(l.values[o]=u,1)},reconfigure(l,c){let u=jP(l,r),d=c.config.facets[e.id],f=c.facet(e);if(d&&!u&&NQ(t,d))return l.values[o]=f,0;let m=a(l);return e.compare(m,f)?(l.values[o]=f,0):(l.values[o]=m,1)}}}const f0=de.define({static:!0});class Xt{constructor(e,t,r,i,s){this.id=e,this.createF=t,this.updateF=r,this.compareF=i,this.spec=s,this.provides=void 0}static define(e){let t=new Xt(QQ++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(f0).find(r=>r.field==this);return((t==null?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:r=>(r.values[t]=this.create(r),1),update:(r,i)=>{let s=r.values[t],o=this.updateF(s,i);return this.compareF(s,o)?0:(r.values[t]=o,1)},reconfigure:(r,i)=>{let s=r.facet(f0),o=i.facet(f0),a;return(a=s.find(l=>l.field==this))&&a!=o.find(l=>l.field==this)?(r.values[t]=a.create(r),1):i.config.address[this.id]!=null?(r.values[t]=i.field(this),0):(r.values[t]=this.create(r),1)}}}init(e){return[this,f0.of({field:this,create:e})]}get extension(){return this}}const au={lowest:4,low:3,default:2,high:1,highest:0};function Rp(n){return e=>new aW(e,n)}const ll={highest:Rp(au.highest),high:Rp(au.high),default:Rp(au.default),low:Rp(au.low),lowest:Rp(au.lowest)};class aW{constructor(e,t){this.inner=e,this.prec=t}}class wS{of(e){return new DP(this,e)}reconfigure(e){return wS.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class DP{constructor(e,t){this.compartment=e,this.inner=t}}class dw{constructor(e,t,r,i,s,o){for(this.base=e,this.compartments=t,this.dynamicSlots=r,this.address=i,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,r){let i=[],s=Object.create(null),o=new Map;for(let f of Lpe(e,t,o))f instanceof Xt?i.push(f):(s[f.facet.id]||(s[f.facet.id]=[])).push(f);let a=Object.create(null),l=[],c=[];for(let f of i)a[f.id]=c.length<<1,c.push(m=>f.slot(m));let u=r==null?void 0:r.config.facets;for(let f in s){let m=s[f],g=m[0].facet,y=u&&u[f]||[];if(m.every(x=>x.type==0))if(a[g.id]=l.length<<1|1,NQ(y,m))l.push(r.facet(g));else{let x=g.combine(m.map(w=>w.value));l.push(r&&g.compare(x,r.facet(g))?r.facet(g):x)}else{for(let x of m)x.type==0?(a[x.id]=l.length<<1|1,l.push(x.value)):(a[x.id]=c.length<<1,c.push(w=>x.dynamicSlot(w)));a[g.id]=c.length<<1,c.push(x=>Vpe(x,g,m))}}let d=c.map(f=>f(a));return new dw(e,o,d,a,l,s)}}function Lpe(n,e,t){let r=[[],[],[],[],[]],i=new Map;function s(o,a){let l=i.get(o);if(l!=null){if(l<=a)return;let c=r[l].indexOf(o);c>-1&&r[l].splice(c,1),o instanceof DP&&t.delete(o.compartment)}if(i.set(o,a),Array.isArray(o))for(let c of o)s(c,a);else if(o instanceof DP){if(t.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let c=e.get(o.compartment)||o.inner;t.set(o.compartment,c),s(c,a)}else if(o instanceof aW)s(o.inner,o.prec);else if(o instanceof Xt)r[a].push(o),o.provides&&s(o.provides,a);else if(o instanceof bv)r[a].push(o),o.facet.extensions&&s(o.facet.extensions,au.default);else{let c=o.extension;if(!c)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(c,a)}}return s(n,au.default),r.reduce((o,a)=>o.concat(a))}function zm(n,e){if(e&1)return 2;let t=e>>1,r=n.status[t];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;n.status[t]=4;let i=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|i}function fw(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const lW=de.define(),MP=de.define({combine:n=>n.some(e=>e),static:!0}),cW=de.define({combine:n=>n.length?n[0]:void 0,static:!0}),uW=de.define(),hW=de.define(),dW=de.define(),fW=de.define({combine:n=>n.length?n[0]:!1});class Hs{constructor(e,t){this.type=e,this.value=t}static define(){return new Upe}}class Upe{of(e){return new Hs(this,e)}}class zpe{constructor(e){this.map=e}of(e){return new Me(this,e)}}class Me{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new Me(this.type,t)}is(e){return this.type==e}static define(e={}){return new zpe(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let r=[];for(let i of e){let s=i.map(t);s&&r.push(s)}return r}}Me.reconfigure=Me.define();Me.appendConfig=Me.define();class bn{constructor(e,t,r,i,s,o){this.startState=e,this.changes=t,this.selection=r,this.effects=i,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,r&&oW(r,t.newLength),s.some(a=>a.type==bn.time)||(this.annotations=s.concat(bn.time.of(Date.now())))}static create(e,t,r,i,s,o){return new bn(e,t,r,i,s,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(bn.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}bn.time=Hs.define();bn.userEvent=Hs.define();bn.addToHistory=Hs.define();bn.remote=Hs.define();function qpe(n,e){let t=[];for(let r=0,i=0;;){let s,o;if(r<n.length&&(i==e.length||e[i]>=n[r]))s=n[r++],o=n[r++];else if(i<e.length)s=e[i++],o=e[i++];else return t;!t.length||t[t.length-1]<s?t.push(s,o):t[t.length-1]<o&&(t[t.length-1]=o)}}function pW(n,e,t){var r;let i,s,o;return t?(i=e.changes,s=Mn.empty(e.changes.length),o=n.changes.compose(e.changes)):(i=e.changes.map(n.changes),s=n.changes.mapDesc(e.changes,!0),o=n.changes.compose(i)),{changes:o,selection:e.selection?e.selection.map(s):(r=n.selection)===null||r===void 0?void 0:r.map(i),effects:Me.mapEffects(n.effects,i).concat(Me.mapEffects(e.effects,s)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function VP(n,e,t){let r=e.selection,i=yd(e.annotations);return e.userEvent&&(i=i.concat(bn.userEvent.of(e.userEvent))),{changes:e.changes instanceof Mn?e.changes:Mn.of(e.changes||[],t,n.facet(cW)),selection:r&&(r instanceof te?r:te.single(r.anchor,r.head)),effects:yd(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function mW(n,e,t){let r=VP(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(t=!1);let o=!!e[s].sequential;r=pW(r,VP(n,e[s],o?r.changes.newLength:n.doc.length),o)}let i=bn.create(n,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return Zpe(t?Fpe(i):i)}function Fpe(n){let e=n.startState,t=!0;for(let i of e.facet(uW)){let s=i(n);if(s===!1){t=!1;break}Array.isArray(s)&&(t=t===!0?s:qpe(t,s))}if(t!==!0){let i,s;if(t===!1)s=n.changes.invertedDesc,i=Mn.empty(e.doc.length);else{let o=n.changes.filter(t);i=o.changes,s=o.filtered.mapDesc(o.changes).invertedDesc}n=bn.create(e,i,n.selection&&n.selection.map(s),Me.mapEffects(n.effects,s),n.annotations,n.scrollIntoView)}let r=e.facet(hW);for(let i=r.length-1;i>=0;i--){let s=r[i](n);s instanceof bn?n=s:Array.isArray(s)&&s.length==1&&s[0]instanceof bn?n=s[0]:n=mW(e,yd(s),!1)}return n}function Zpe(n){let e=n.startState,t=e.facet(dW),r=n;for(let i=t.length-1;i>=0;i--){let s=t[i](n);s&&Object.keys(s).length&&(r=pW(r,VP(e,s,n.changes.newLength),!0))}return r==n?n:bn.create(e,n.changes,n.selection,r.effects,r.annotations,r.scrollIntoView)}const Bpe=[];function yd(n){return n==null?Bpe:Array.isArray(n)?n:[n]}var Kt=function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n}(Kt||(Kt={}));const Wpe=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let LP;try{LP=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function Xpe(n){if(LP)return LP.test(n);for(let e=0;e<n.length;e++){let t=n[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||Wpe.test(t)))return!0}return!1}function Gpe(n){return e=>{if(!/\S/.test(e))return Kt.Space;if(Xpe(e))return Kt.Word;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return Kt.Word;return Kt.Other}}class Ve{constructor(e,t,r,i,s,o){this.config=e,this.doc=t,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)zm(this,a<<1);this.computeSlot=null}field(e,t=!0){let r=this.config.address[e.id];if(r==null){if(t)throw new RangeError("Field is not present in this state");return}return zm(this,r),fw(this,r)}update(...e){return mW(this,e,!0)}applyTransaction(e){let t=this.config,{base:r,compartments:i}=t;for(let a of e.effects)a.is(wS.reconfigure)?(t&&(i=new Map,t.compartments.forEach((l,c)=>i.set(c,l)),t=null),i.set(a.value.compartment,a.value.extension)):a.is(Me.reconfigure)?(t=null,r=a.value):a.is(Me.appendConfig)&&(t=null,r=yd(r).concat(a.value));let s;t?s=e.startState.values.slice():(t=dw.resolve(r,i,this),s=new Ve(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(l,c)=>c.reconfigure(l,this),null).values);let o=e.startState.facet(MP)?e.newSelection:e.newSelection.asSingle();new Ve(t,e.newDoc,o,s,(a,l)=>l.update(a,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:te.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,r=e(t.ranges[0]),i=this.changes(r.changes),s=[r.range],o=yd(r.effects);for(let a=1;a<t.ranges.length;a++){let l=e(t.ranges[a]),c=this.changes(l.changes),u=c.map(i);for(let f=0;f<a;f++)s[f]=s[f].map(u);let d=i.mapDesc(c,!0);s.push(l.range.map(d)),i=i.compose(u),o=Me.mapEffects(o,u).concat(Me.mapEffects(yd(l.effects),d))}return{changes:i,selection:te.create(s,t.mainIndex),effects:o}}changes(e=[]){return e instanceof Mn?e:Mn.of(e,this.doc.length,this.facet(Ve.lineSeparator))}toText(e){return pt.of(e.split(this.facet(Ve.lineSeparator)||NP))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(zm(this,t),fw(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof Xt&&this.config.address[i.id]!=null&&(t[r]=i.spec.toJSON(this.field(e[r]),this))}return t}static fromJSON(e,t={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let s in r)if(Object.prototype.hasOwnProperty.call(e,s)){let o=r[s],a=e[s];i.push(o.init(l=>o.spec.fromJSON(a,l)))}}return Ve.create({doc:e.doc,selection:te.fromJSON(e.selection),extensions:t.extensions?i.concat([t.extensions]):i})}static create(e={}){let t=dw.resolve(e.extensions||[],new Map),r=e.doc instanceof pt?e.doc:pt.of((e.doc||"").split(t.staticFacet(Ve.lineSeparator)||NP)),i=e.selection?e.selection instanceof te?e.selection:te.single(e.selection.anchor,e.selection.head):te.single(0);return oW(i,r.length),t.staticFacet(MP)||(i=i.asSingle()),new Ve(t,r,i,t.dynamicSlots.map(()=>null),(s,o)=>o.create(s),null)}get tabSize(){return this.facet(Ve.tabSize)}get lineBreak(){return this.facet(Ve.lineSeparator)||`
`}get readOnly(){return this.facet(fW)}phrase(e,...t){for(let r of this.facet(Ve.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let s=+(i||1);return!s||s>t.length?r:t[s-1]})),e}languageDataAt(e,t,r=-1){let i=[];for(let s of this.facet(lW))for(let o of s(this,t,r))Object.prototype.hasOwnProperty.call(o,e)&&i.push(o[e]);return i}charCategorizer(e){return Gpe(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:r,length:i}=this.doc.lineAt(e),s=this.charCategorizer(e),o=e-r,a=e-r;for(;o>0;){let l=mr(t,o,!1);if(s(t.slice(l,o))!=Kt.Word)break;o=l}for(;a<i;){let l=mr(t,a);if(s(t.slice(a,l))!=Kt.Word)break;a=l}return o==a?null:te.range(o+r,a+r)}}Ve.allowMultipleSelections=MP;Ve.tabSize=de.define({combine:n=>n.length?n[0]:4});Ve.lineSeparator=cW;Ve.readOnly=fW;Ve.phrases=de.define({compare(n,e){let t=Object.keys(n),r=Object.keys(e);return t.length==r.length&&t.every(i=>n[i]==e[i])}});Ve.languageData=lW;Ve.changeFilter=uW;Ve.transactionFilter=hW;Ve.transactionExtender=dW;wS.reconfigure=Me.define();function ta(n,e,t={}){let r={};for(let i of n)for(let s of Object.keys(i)){let o=i[s],a=r[s];if(a===void 0)r[s]=o;else if(!(a===o||o===void 0))if(Object.hasOwnProperty.call(t,s))r[s]=t[s](a,o);else throw new Error("Config merge conflict for field "+s)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class Vo{eq(e){return this==e}range(e,t=e){return UP.create(e,t,this)}}Vo.prototype.startSide=Vo.prototype.endSide=0;Vo.prototype.point=!1;Vo.prototype.mapMode=qn.TrackDel;let UP=class gW{constructor(e,t,r){this.from=e,this.to=t,this.value=r}static create(e,t,r){return new gW(e,t,r)}};function zP(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class IQ{constructor(e,t,r,i){this.from=e,this.to=t,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,t,r,i=0){let s=r?this.to:this.from;for(let o=i,a=s.length;;){if(o==a)return o;let l=o+a>>1,c=s[l]-e||(r?this.value[l].endSide:this.value[l].startSide)-t;if(l==o)return c>=0?o:a;c>=0?a=l:o=l+1}}between(e,t,r,i){for(let s=this.findIndex(t,-1e9,!0),o=this.findIndex(r,1e9,!1,s);s<o;s++)if(i(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,t){let r=[],i=[],s=[],o=-1,a=-1;for(let l=0;l<this.value.length;l++){let c=this.value[l],u=this.from[l]+e,d=this.to[l]+e,f,m;if(u==d){let g=t.mapPos(u,c.startSide,c.mapMode);if(g==null||(f=m=g,c.startSide!=c.endSide&&(m=t.mapPos(u,c.endSide),m<f)))continue}else if(f=t.mapPos(u,c.startSide),m=t.mapPos(d,c.endSide),f>m||f==m&&c.startSide>0&&c.endSide<=0)continue;(m-f||c.endSide-c.startSide)<0||(o<0&&(o=f),c.point&&(a=Math.max(a,m-f)),r.push(c),i.push(f-o),s.push(m-o))}return{mapped:r.length?new IQ(i,s,r,a):null,pos:o}}}class yt{constructor(e,t,r,i){this.chunkPos=e,this.chunk=t,this.nextLayer=r,this.maxPoint=i}static create(e,t,r,i){return new yt(e,t,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:r=!1,filterFrom:i=0,filterTo:s=this.length}=e,o=e.filter;if(t.length==0&&!o)return this;if(r&&(t=t.slice().sort(zP)),this.isEmpty)return t.length?yt.of(t):this;let a=new OW(this,null,-1).goto(0),l=0,c=[],u=new Ha;for(;a.value||l<t.length;)if(l<t.length&&(a.from-t[l].from||a.startSide-t[l].value.startSide)>=0){let d=t[l++];u.addInner(d.from,d.to,d.value)||c.push(d)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==t.length||this.chunkEnd(a.chunkIndex)<t[l].from)&&(!o||i>this.chunkEnd(a.chunkIndex)||s<this.chunkPos[a.chunkIndex])&&u.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!o||i>a.to||s<a.from||o(a.from,a.to,a.value))&&(u.addInner(a.from,a.to,a.value)||c.push(UP.create(a.from,a.to,a.value))),a.next());return u.finishInner(this.nextLayer.isEmpty&&!c.length?yt.empty:this.nextLayer.update({add:c,filter:o,filterFrom:i,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],r=[],i=-1;for(let o=0;o<this.chunk.length;o++){let a=this.chunkPos[o],l=this.chunk[o],c=e.touchesRange(a,a+l.length);if(c===!1)i=Math.max(i,l.maxPoint),t.push(l),r.push(e.mapPos(a));else if(c===!0){let{mapped:u,pos:d}=l.map(a,e);u&&(i=Math.max(i,u.maxPoint),t.push(u),r.push(d))}}let s=this.nextLayer.map(e);return t.length==0?s:new yt(r,t,s||yt.empty,i)}between(e,t,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let s=this.chunkPos[i],o=this.chunk[i];if(t>=s&&e<=s+o.length&&o.between(s,e-s,t-s,r)===!1)return}this.nextLayer.between(e,t,r)}}iter(e=0){return Lg.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return Lg.from(e).goto(t)}static compare(e,t,r,i,s=-1){let o=e.filter(d=>d.maxPoint>0||!d.isEmpty&&d.maxPoint>=s),a=t.filter(d=>d.maxPoint>0||!d.isEmpty&&d.maxPoint>=s),l=sM(o,a,r),c=new Qp(o,l,s),u=new Qp(a,l,s);r.iterGaps((d,f,m)=>oM(c,d,u,f,m,i)),r.empty&&r.length==0&&oM(c,0,u,0,0,i)}static eq(e,t,r=0,i){i==null&&(i=999999999);let s=e.filter(u=>!u.isEmpty&&t.indexOf(u)<0),o=t.filter(u=>!u.isEmpty&&e.indexOf(u)<0);if(s.length!=o.length)return!1;if(!s.length)return!0;let a=sM(s,o),l=new Qp(s,a,0).goto(r),c=new Qp(o,a,0).goto(r);for(;;){if(l.to!=c.to||!qP(l.active,c.active)||l.point&&(!c.point||!l.point.eq(c.point)))return!1;if(l.to>i)return!0;l.next(),c.next()}}static spans(e,t,r,i,s=-1){let o=new Qp(e,null,s).goto(t),a=t,l=o.openStart;for(;;){let c=Math.min(o.to,r);if(o.point){let u=o.activeForPoint(o.to),d=o.pointFrom<t?u.length+1:o.point.startSide<0?u.length:Math.min(u.length,l);i.point(a,c,o.point,u,d,o.pointRank),l=Math.min(o.openEnd(c),u.length)}else c>a&&(i.span(a,c,o.active,l),l=o.openEnd(c));if(o.to>r)return l+(o.point&&o.to>r?1:0);a=o.to,o.next()}}static of(e,t=!1){let r=new Ha;for(let i of e instanceof UP?[e]:t?Ype(e):e)r.add(i.from,i.to,i.value);return r.finish()}static join(e){if(!e.length)return yt.empty;let t=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let i=e[r];i!=yt.empty;i=i.nextLayer)t=new yt(i.chunkPos,i.chunk,t,Math.max(i.maxPoint,t.maxPoint));return t}}yt.empty=new yt([],[],null,-1);function Ype(n){if(n.length>1)for(let e=n[0],t=1;t<n.length;t++){let r=n[t];if(zP(e,r)>0)return n.slice().sort(zP);e=r}return n}yt.empty.nextLayer=yt.empty;class Ha{finishChunk(e){this.chunks.push(new IQ(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,r){this.addInner(e,t,r)||(this.nextLayer||(this.nextLayer=new Ha)).add(e,t,r)}addInner(e,t,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=t,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let r=t.value.length-1;return this.last=t.value[r],this.lastFrom=t.from[r]+e,this.lastTo=t.to[r]+e,!0}finish(){return this.finishInner(yt.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=yt.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function sM(n,e,t){let r=new Map;for(let s of n)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&r.set(s.chunk[o],s.chunkPos[o]);let i=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let a=r.get(s.chunk[o]);a!=null&&(t?t.mapPos(a):a)==s.chunkPos[o]&&!(t!=null&&t.touchesRange(a,a+s.chunk[o].length))&&i.add(s.chunk[o])}return i}class OW{constructor(e,t,r,i=0){this.layer=e,this.skip=t,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],r=e+t.from[this.rangeIndex];if(this.from=r,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Lg{constructor(e){this.heap=e}static from(e,t=null,r=-1){let i=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=r&&i.push(new OW(o,t,r,s));return i.length==1?i[0]:new Lg(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let r of this.heap)r.goto(e,t);for(let r=this.heap.length>>1;r>=0;r--)xk(this.heap,r);return this.next(),this}forward(e,t){for(let r of this.heap)r.forward(e,t);for(let r=this.heap.length>>1;r>=0;r--)xk(this.heap,r);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),xk(this.heap,0)}}}function xk(n,e){for(let t=n[e];;){let r=(e<<1)+1;if(r>=n.length)break;let i=n[r];if(r+1<n.length&&i.compare(n[r+1])>=0&&(i=n[r+1],r++),t.compare(i)<0)break;n[r]=t,n[e]=i,e=r}}class Qp{constructor(e,t,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Lg.from(e,t,r)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){p0(this.active,e),p0(this.activeTo,e),p0(this.activeRank,e),this.minActive=aM(this.active,this.activeTo)}addActive(e){let t=0,{value:r,to:i,rank:s}=this.cursor;for(;t<this.activeRank.length&&(s-this.activeRank[t]||i-this.activeTo[t])>0;)t++;m0(this.active,t,r),m0(this.activeTo,t,i),m0(this.activeRank,t,s),e&&m0(e,t,this.cursor.from),this.minActive=aM(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&p0(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(r),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&t.push(this.active[r]);return t.reverse()}openEnd(e){let t=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)t++;return t}}function oM(n,e,t,r,i,s){n.goto(e),t.goto(r);let o=r+i,a=r,l=r-e;for(;;){let c=n.to+l-t.to,u=c||n.endSide-t.endSide,d=u<0?n.to+l:t.to,f=Math.min(d,o);if(n.point||t.point?n.point&&t.point&&(n.point==t.point||n.point.eq(t.point))&&qP(n.activeForPoint(n.to),t.activeForPoint(t.to))||s.comparePoint(a,f,n.point,t.point):f>a&&!qP(n.active,t.active)&&s.compareRange(a,f,n.active,t.active),d>o)break;(c||n.openEnd!=t.openEnd)&&s.boundChange&&s.boundChange(d),a=d,u<=0&&n.next(),u>=0&&t.next()}}function qP(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t]&&!n[t].eq(e[t]))return!1;return!0}function p0(n,e){for(let t=e,r=n.length-1;t<r;t++)n[t]=n[t+1];n.pop()}function m0(n,e,t){for(let r=n.length-1;r>=e;r--)n[r+1]=n[r];n[e]=t}function aM(n,e){let t=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||n[i].endSide-n[t].endSide)<0&&(t=i,r=e[i]);return t}function Xf(n,e,t=n.length){let r=0;for(let i=0;i<t&&i<n.length;)n.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=mr(n,i));return r}function FP(n,e,t,r){for(let i=0,s=0;;){if(s>=e)return i;if(i==n.length)break;s+=n.charCodeAt(i)==9?t-s%t:1,i=mr(n,i)}return r===!0?-1:n.length}const ZP="ͼ",lM=typeof Symbol>"u"?"__"+ZP:Symbol.for(ZP),BP=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),cM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Nn{constructor(e,t){this.rules=[];let{finish:r}=t||{};function i(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function s(o,a,l,c){let u=[],d=/^@(\w+)\b/.exec(o[0]),f=d&&d[1]=="keyframes";if(d&&a==null)return l.push(o[0]+";");for(let m in a){let g=a[m];if(/&/.test(m))s(m.split(/,\s*/).map(y=>o.map(x=>y.replace(/&/,x))).reduce((y,x)=>y.concat(x)),g,l);else if(g&&typeof g=="object"){if(!d)throw new RangeError("The value of a property ("+m+") should be a primitive value.");s(i(m),g,u,f)}else g!=null&&u.push(m.replace(/_.*/,"").replace(/[A-Z]/g,y=>"-"+y.toLowerCase())+": "+g+";")}(u.length||f)&&l.push((r&&!d&&!c?o.map(r):o).join(", ")+" {"+u.join(" ")+"}")}for(let o in e)s(i(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=cM[lM]||1;return cM[lM]=e+1,ZP+e.toString(36)}static mount(e,t,r){let i=e[BP],s=r&&r.nonce;i?s&&i.setNonce(s):i=new Hpe(e,s),i.mount(Array.isArray(t)?t:[t],e)}}let uM=new Map;class Hpe{constructor(e,t){let r=e.ownerDocument||e,i=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let s=uM.get(r);if(s)return e[BP]=s;this.sheet=new i.CSSStyleSheet,uM.set(r,this)}else this.styleTag=r.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[BP]=this}mount(e,t){let r=this.sheet,i=0,s=0;for(let o=0;o<e.length;o++){let a=e[o],l=this.modules.indexOf(a);if(l<s&&l>-1&&(this.modules.splice(l,1),s--,l=-1),l==-1){if(this.modules.splice(s++,0,a),r)for(let c=0;c<a.rules.length;c++)r.insertRule(a.rules[c],i++)}else{for(;s<l;)i+=this.modules[s++].rules.length;i+=a.rules.length,s++}}if(r)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let o="";for(let l=0;l<this.modules.length;l++)o+=this.modules[l].getRules()+`
`;this.styleTag.textContent=o;let a=t.head||t;this.styleTag.parentNode!=a&&a.insertBefore(this.styleTag,a.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var kc={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Ug={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Kpe=typeof navigator<"u"&&/Mac/.test(navigator.platform),Jpe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var lr=0;lr<10;lr++)kc[48+lr]=kc[96+lr]=String(lr);for(var lr=1;lr<=24;lr++)kc[lr+111]="F"+lr;for(var lr=65;lr<=90;lr++)kc[lr]=String.fromCharCode(lr+32),Ug[lr]=String.fromCharCode(lr);for(var wk in kc)Ug.hasOwnProperty(wk)||(Ug[wk]=kc[wk]);function eme(n){var e=Kpe&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||Jpe&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?Ug:kc)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function zg(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function WP(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function Sv(n,e){if(!e.anchorNode)return!1;try{return WP(n,e.anchorNode)}catch{return!1}}function qg(n){return n.nodeType==3?Ku(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function qm(n,e,t,r){return t?hM(n,e,t,r,-1)||hM(n,e,t,r,1):!1}function Hu(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function pw(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}function hM(n,e,t,r,i){for(;;){if(n==t&&e==r)return!0;if(e==(i<0?0:Lo(n))){if(n.nodeName=="DIV")return!1;let s=n.parentNode;if(!s||s.nodeType!=1)return!1;e=Hu(n)+(i<0?0:1),n=s}else if(n.nodeType==1){if(n=n.childNodes[e+(i<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=i<0?Lo(n):0}else return!1}}function Lo(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function bS(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function tme(n){let e=n.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function yW(n,e){let t=e.width/n.offsetWidth,r=e.height/n.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-n.offsetWidth)<1)&&(t=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-n.offsetHeight)<1)&&(r=1),{scaleX:t,scaleY:r}}function nme(n,e,t,r,i,s,o,a){let l=n.ownerDocument,c=l.defaultView||window;for(let u=n,d=!1;u&&!d;)if(u.nodeType==1){let f,m=u==l.body,g=1,y=1;if(m)f=tme(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(u).position)&&(d=!0),u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.assignedSlot||u.parentNode;continue}let k=u.getBoundingClientRect();({scaleX:g,scaleY:y}=yW(u,k)),f={left:k.left,right:k.left+u.clientWidth*g,top:k.top,bottom:k.top+u.clientHeight*y}}let x=0,w=0;if(i=="nearest")e.top<f.top?(w=e.top-(f.top+o),t>0&&e.bottom>f.bottom+w&&(w=e.bottom-f.bottom+o)):e.bottom>f.bottom&&(w=e.bottom-f.bottom+o,t<0&&e.top-w<f.top&&(w=e.top-(f.top+o)));else{let k=e.bottom-e.top,P=f.bottom-f.top;w=(i=="center"&&k<=P?e.top+k/2-P/2:i=="start"||i=="center"&&t<0?e.top-o:e.bottom-P+o)-f.top}if(r=="nearest"?e.left<f.left?(x=e.left-(f.left+s),t>0&&e.right>f.right+x&&(x=e.right-f.right+s)):e.right>f.right&&(x=e.right-f.right+s,t<0&&e.left<f.left+x&&(x=e.left-(f.left+s))):x=(r=="center"?e.left+(e.right-e.left)/2-(f.right-f.left)/2:r=="start"==a?e.left-s:e.right-(f.right-f.left)+s)-f.left,x||w)if(m)c.scrollBy(x,w);else{let k=0,P=0;if(w){let Q=u.scrollTop;u.scrollTop+=w/y,P=(u.scrollTop-Q)*y}if(x){let Q=u.scrollLeft;u.scrollLeft+=x/g,k=(u.scrollLeft-Q)*g}e={left:e.left-k,top:e.top-P,right:e.right-k,bottom:e.bottom-P},k&&Math.abs(k-x)<1&&(r="nearest"),P&&Math.abs(P-w)<1&&(i="nearest")}if(m)break;(e.top<f.top||e.bottom>f.bottom||e.left<f.left||e.right>f.right)&&(e={left:Math.max(e.left,f.left),right:Math.min(e.right,f.right),top:Math.max(e.top,f.top),bottom:Math.min(e.bottom,f.bottom)}),u=u.assignedSlot||u.parentNode}else if(u.nodeType==11)u=u.host;else break}function rme(n){let e=n.ownerDocument,t,r;for(let i=n.parentNode;i&&!(i==e.body||t&&r);)if(i.nodeType==1)!r&&i.scrollHeight>i.clientHeight&&(r=i),!t&&i.scrollWidth>i.clientWidth&&(t=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:t,y:r}}class ime{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:r}=e;this.set(t,Math.min(e.anchorOffset,t?Lo(t):0),r,Math.min(e.focusOffset,r?Lo(r):0))}set(e,t,r,i){this.anchorNode=e,this.anchorOffset=t,this.focusNode=r,this.focusOffset=i}}let Ph=null;function vW(n){if(n.setActive)return n.setActive();if(Ph)return n.focus(Ph);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(Ph==null?{get preventScroll(){return Ph={preventScroll:!0},!0}}:void 0),!Ph){Ph=!1;for(let t=0;t<e.length;){let r=e[t++],i=e[t++],s=e[t++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=s&&(r.scrollLeft=s)}}}let dM;function Ku(n,e,t=e){let r=dM||(dM=document.createRange());return r.setEnd(n,t),r.setStart(n,e),r}function vd(n,e,t,r){let i={key:e,code:e,keyCode:t,which:t,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let s=new KeyboardEvent("keydown",i);s.synthetic=!0,n.dispatchEvent(s);let o=new KeyboardEvent("keyup",i);return o.synthetic=!0,n.dispatchEvent(o),s.defaultPrevented||o.defaultPrevented}function sme(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function xW(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}function ome(n,e){let t=e.focusNode,r=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=r)return!1;for(r=Math.min(r,Lo(t));;)if(r){if(t.nodeType!=1)return!1;let i=t.childNodes[r-1];i.contentEditable=="false"?r--:(t=i,r=Lo(t))}else{if(t==n)return!0;r=Hu(t),t=t.parentNode}}function wW(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}function bW(n,e){for(let t=n,r=e;;){if(t.nodeType==3&&r>0)return{node:t,offset:r};if(t.nodeType==1&&r>0){if(t.contentEditable=="false")return null;t=t.childNodes[r-1],r=Lo(t)}else if(t.parentNode&&!pw(t))r=Hu(t),t=t.parentNode;else return null}}function SW(n,e){for(let t=n,r=e;;){if(t.nodeType==3&&r<t.nodeValue.length)return{node:t,offset:r};if(t.nodeType==1&&r<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[r],r=0}else if(t.parentNode&&!pw(t))r=Hu(t)+1,t=t.parentNode;else return null}}class Ar{constructor(e,t,r=!0){this.node=e,this.offset=t,this.precise=r}static before(e,t){return new Ar(e.parentNode,Hu(e),t)}static after(e,t){return new Ar(e.parentNode,Hu(e)+1,t)}}const $Q=[];class At{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let r of this.children){if(r==e)return t;t+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.flags&2){let r=this.dom,i=null,s;for(let o of this.children){if(o.flags&7){if(!o.dom&&(s=i?i.nextSibling:r.firstChild)){let a=At.get(s);(!a||!a.parent&&a.canReuseDOM(o))&&o.reuseDOM(s)}o.sync(e,t),o.flags&=-8}if(s=i?i.nextSibling:r.firstChild,t&&!t.written&&t.node==r&&s!=o.dom&&(t.written=!0),o.dom.parentNode==r)for(;s&&s!=o.dom;)s=fM(s);else r.insertBefore(o.dom,s);i=o.dom}for(s=i?i.nextSibling:r.firstChild,s&&t&&t.node==r&&(t.written=!0);s;)s=fM(s)}else if(this.flags&1)for(let r of this.children)r.flags&7&&(r.sync(e,t),r.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let r;if(e==this.dom)r=this.dom.childNodes[t];else{let i=Lo(e)==0?0:t==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;i==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?i=-1:i=1),e=s}i<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!At.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,s=0;;i++){let o=this.children[i];if(o.dom==r)return s;s+=o.length+o.breakAfter}}domBoundsAround(e,t,r=0){let i=-1,s=-1,o=-1,a=-1;for(let l=0,c=r,u=r;l<this.children.length;l++){let d=this.children[l],f=c+d.length;if(c<e&&f>t)return d.domBoundsAround(e,t,c);if(f>=e&&i==-1&&(i=l,s=c),c>t&&d.dom.parentNode==this.dom){o=l,a=u;break}u=f,c=f+d.breakAfter}return{from:s,to:a<0?r+this.length:a,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),t.flags&1)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,r=$Q){this.markDirty();for(let i=e;i<t;i++){let s=this.children[i];s.parent==this&&r.indexOf(s)<0&&s.destroy()}r.length<250?this.children.splice(e,t-e,...r):this.children=[].concat(this.children.slice(0,e),r,this.children.slice(t));for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new kW(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,r,i,s,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}At.prototype.breakAfter=0;function fM(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class kW{constructor(e,t,r){this.children=e,this.pos=t,this.i=r,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function _W(n,e,t,r,i,s,o,a,l){let{children:c}=n,u=c.length?c[e]:null,d=s.length?s[s.length-1]:null,f=d?d.breakAfter:o;if(!(e==r&&u&&!o&&!f&&s.length<2&&u.merge(t,i,s.length?d:null,t==0,a,l))){if(r<c.length){let m=c[r];m&&(i<m.length||m.breakAfter&&(d!=null&&d.breakAfter))?(e==r&&(m=m.split(i),i=0),!f&&d&&m.merge(0,i,d,!0,0,l)?s[s.length-1]=m:((i||m.children.length&&!m.children[0].length)&&m.merge(0,i,null,!1,0,l),s.push(m))):m!=null&&m.breakAfter&&(d?d.breakAfter=1:o=1),r++}for(u&&(u.breakAfter=o,t>0&&(!o&&s.length&&u.merge(t,u.length,s[0],!1,a,0)?u.breakAfter=s.shift().breakAfter:(t<u.length||u.children.length&&u.children[u.children.length-1].length==0)&&u.merge(t,u.length,null,!1,a,0),e++));e<r&&s.length;)if(c[r-1].become(s[s.length-1]))r--,s.pop(),l=s.length?0:a;else if(c[e].become(s[0]))e++,s.shift(),a=s.length?0:l;else break;!s.length&&e&&r<c.length&&!c[e-1].breakAfter&&c[r].merge(0,0,c[e-1],!1,a,l)&&e--,(e<r||s.length)&&n.replaceChildren(e,r,s)}}function TW(n,e,t,r,i,s){let o=n.childCursor(),{i:a,off:l}=o.findPos(t,1),{i:c,off:u}=o.findPos(e,-1),d=e-t;for(let f of r)d+=f.length;n.length+=d,_W(n,c,u,a,l,r,0,i,s)}let hi=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},XP=typeof document<"u"?document:{documentElement:{style:{}}};const GP=/Edge\/(\d+)/.exec(hi.userAgent),PW=/MSIE \d/.test(hi.userAgent),YP=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(hi.userAgent),SS=!!(PW||YP||GP),pM=!SS&&/gecko\/(\d+)/i.test(hi.userAgent),bk=!SS&&/Chrome\/(\d+)/.exec(hi.userAgent),mM="webkitFontSmoothing"in XP.documentElement.style,CW=!SS&&/Apple Computer/.test(hi.vendor),gM=CW&&(/Mobile\/\w+/.test(hi.userAgent)||hi.maxTouchPoints>2);var be={mac:gM||/Mac/.test(hi.platform),windows:/Win/.test(hi.platform),linux:/Linux|X11/.test(hi.platform),ie:SS,ie_version:PW?XP.documentMode||6:YP?+YP[1]:GP?+GP[1]:0,gecko:pM,gecko_version:pM?+(/Firefox\/(\d+)/.exec(hi.userAgent)||[0,0])[1]:0,chrome:!!bk,chrome_version:bk?+bk[1]:0,ios:gM,android:/Android\b/.test(hi.userAgent),webkit:mM,safari:CW,webkit_version:mM?+(/\bAppleWebKit\/(\d+)/.exec(hi.userAgent)||[0,0])[1]:0,tabSize:XP.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const ame=256;class Bs extends At{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,r){return this.flags&8||r&&(!(r instanceof Bs)||this.length-(t-e)+r.length>ame||r.flags&8)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new Bs(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=this.flags&8,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new Ar(this.dom,e)}domBoundsAround(e,t,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return lme(this.dom,e,t)}}class Ka extends At{constructor(e,t=[],r=0){super(),this.mark=e,this.children=t,this.length=r;for(let i of t)i.setParent(this)}setAttrs(e){if(xW(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,r,i,s,o){return r&&(!(r instanceof Ka&&r.mark.eq(this.mark))||e&&s<=0||t<this.length&&o<=0)?!1:(TW(this,e,t,r?r.children.slice():[],s-1,o-1),this.markDirty(),!0)}split(e){let t=[],r=0,i=-1,s=0;for(let a of this.children){let l=r+a.length;l>e&&t.push(r<e?a.split(e-r):a),i<0&&r>=e&&(i=s),r=l,s++}let o=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new Ka(this.mark,t,o)}domAtPos(e){return EW(this,e)}coordsAt(e,t){return RW(this,e,t)}}function lme(n,e,t){let r=n.nodeValue.length;e>r&&(e=r);let i=e,s=e,o=0;e==0&&t<0||e==r&&t>=0?be.chrome||be.gecko||(e?(i--,o=1):s<r&&(s++,o=-1)):t<0?i--:s<r&&s++;let a=Ku(n,i,s).getClientRects();if(!a.length)return null;let l=a[(o?o<0:t>=0)?0:a.length-1];return be.safari&&!o&&l.width==0&&(l=Array.prototype.find.call(a,c=>c.width)||l),o?bS(l,o<0):l||null}class Bl extends At{static create(e,t,r){return new Bl(e,t,r)}constructor(e,t,r){super(),this.widget=e,this.length=t,this.side=r,this.prevWidget=null}split(e){let t=Bl.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,t,r,i,s,o){return r&&(!(r instanceof Bl)||!this.widget.compare(r.widget)||e>0&&s<=0||t<this.length&&o<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-t),!0)}become(e){return e instanceof Bl&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return pt.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,r=t&&t.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):pt.empty}domAtPos(e){return(this.length?e==0:this.side>0)?Ar.before(this.dom):Ar.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let r=this.widget.coordsAt(this.dom,e,t);if(r)return r;let i=this.dom.getClientRects(),s=null;if(!i.length)return null;let o=this.side?this.side<0:e>0;for(let a=o?i.length-1:0;s=i[a],!(e>0?a==0:a==i.length-1||s.top<s.bottom);a+=o?-1:1);return bS(s,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class sf extends At{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof sf&&e.side==this.side}split(){return new sf(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Ar.before(this.dom):Ar.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return pt.empty}get isHidden(){return!0}}Bs.prototype.children=Bl.prototype.children=sf.prototype.children=$Q;function EW(n,e){let t=n.dom,{children:r}=n,i=0;for(let s=0;i<r.length;i++){let o=r[i],a=s+o.length;if(!(a==s&&o.getSide()<=0)){if(e>s&&e<a&&o.dom.parentNode==t)return o.domAtPos(e-s);if(e<=s)break;s=a}}for(let s=i;s>0;s--){let o=r[s-1];if(o.dom.parentNode==t)return o.domAtPos(o.length)}for(let s=i;s<r.length;s++){let o=r[s];if(o.dom.parentNode==t)return o.domAtPos(0)}return new Ar(t,0)}function AW(n,e,t){let r,{children:i}=n;t>0&&e instanceof Ka&&i.length&&(r=i[i.length-1])instanceof Ka&&r.mark.eq(e.mark)?AW(r,e.children[0],t-1):(i.push(e),e.setParent(n)),n.length+=e.length}function RW(n,e,t){let r=null,i=-1,s=null,o=-1;function a(c,u){for(let d=0,f=0;d<c.children.length&&f<=u;d++){let m=c.children[d],g=f+m.length;g>=u&&(m.children.length?a(m,u-f):(!s||s.isHidden&&t>0)&&(g>u||f==g&&m.getSide()>0)?(s=m,o=u-f):(f<u||f==g&&m.getSide()<0&&!m.isHidden)&&(r=m,i=u-f)),f=g}}a(n,e);let l=(t<0?r:s)||r||s;return l?l.coordsAt(Math.max(0,l==r?i:o),t):cme(n)}function cme(n){let e=n.dom.lastChild;if(!e)return n.dom.getBoundingClientRect();let t=qg(e);return t[t.length-1]||null}function HP(n,e){for(let t in n)t=="class"&&e.class?e.class+=" "+n.class:t=="style"&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}const OM=Object.create(null);function mw(n,e,t){if(n==e)return!0;n||(n=OM),e||(e=OM);let r=Object.keys(n),i=Object.keys(e);if(r.length-(t&&r.indexOf(t)>-1?1:0)!=i.length-(t&&i.indexOf(t)>-1?1:0))return!1;for(let s of r)if(s!=t&&(i.indexOf(s)==-1||n[s]!==e[s]))return!1;return!0}function KP(n,e,t){let r=!1;if(e)for(let i in e)t&&i in t||(r=!0,i=="style"?n.style.cssText="":n.removeAttribute(i));if(t)for(let i in t)e&&e[i]==t[i]||(r=!0,i=="style"?n.style.cssText=t[i]:n.setAttribute(i,t[i]));return r}function ume(n){let e=Object.create(null);for(let t=0;t<n.attributes.length;t++){let r=n.attributes[t];e[r.name]=r.value}return e}class na{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var Xr=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(Xr||(Xr={}));class ye extends Vo{constructor(e,t,r,i){super(),this.startSide=e,this.endSide=t,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new ry(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return t+=r&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new _c(e,t,t,r,e.widget||null,!1)}static replace(e){let t=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:s,end:o}=QW(e,t);r=(s?t?-3e8:-1:5e8)-1,i=(o?t?2e8:1:-6e8)+1}return new _c(e,r,i,t,e.widget||null,!0)}static line(e){return new iy(e)}static set(e,t=!1){return yt.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}ye.none=yt.empty;class ry extends ye{constructor(e){let{start:t,end:r}=QW(e);super(t?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,r;return this==e||e instanceof ry&&this.tagName==e.tagName&&(this.class||((t=this.attrs)===null||t===void 0?void 0:t.class))==(e.class||((r=e.attrs)===null||r===void 0?void 0:r.class))&&mw(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}ry.prototype.point=!1;class iy extends ye{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof iy&&this.spec.class==e.spec.class&&mw(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}iy.prototype.mapMode=qn.TrackBefore;iy.prototype.point=!0;class _c extends ye{constructor(e,t,r,i,s,o){super(t,r,s,e),this.block=i,this.isReplace=o,this.mapMode=i?t<=0?qn.TrackBefore:qn.TrackAfter:qn.TrackDel}get type(){return this.startSide!=this.endSide?Xr.WidgetRange:this.startSide<=0?Xr.WidgetBefore:Xr.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof _c&&hme(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}_c.prototype.point=!0;function QW(n,e=!1){let{inclusiveStart:t,inclusiveEnd:r}=n;return t==null&&(t=n.inclusive),r==null&&(r=n.inclusive),{start:t??e,end:r??e}}function hme(n,e){return n==e||!!(n&&e&&n.compare(e))}function kv(n,e,t,r=0){let i=t.length-1;i>=0&&t[i]+r>=n?t[i]=Math.max(t[i],e):t.push(n,e)}class Cn extends At{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,r,i,s,o){if(r){if(!(r instanceof Cn))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),TW(this,e,t,r?r.children.slice():[],s,o),!0}split(e){let t=new Cn;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i:r,off:i}=this.childPos(e);i&&(t.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let s=r;s<this.children.length;s++)t.append(this.children[s],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){mw(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){AW(this,e,t)}addLineDeco(e){let t=e.spec.attributes,r=e.spec.class;t&&(this.attrs=HP(t,this.attrs||{})),r&&(this.attrs=HP({class:r},this.attrs||{}))}domAtPos(e){return EW(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,t){var r;this.dom?this.flags&4&&(xW(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(KP(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let i=this.dom.lastChild;for(;i&&At.get(i)instanceof Ka;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((r=At.get(i))===null||r===void 0?void 0:r.isEditable)==!1&&(!be.ios||!this.children.some(s=>s instanceof Bs))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let r of this.children){if(!(r instanceof Bs)||/[^ -~]/.test(r.text))return null;let i=qg(r.dom);if(i.length!=1)return null;e+=i[0].width,t=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let r=RW(this,e,t);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,s=r.bottom-r.top;if(Math.abs(s-i.lineHeight)<2&&i.textHeight<s){let o=(s-i.textHeight)/2;return{top:r.top+o,bottom:r.bottom-o,left:r.left,right:r.left}}}return r}become(e){return e instanceof Cn&&this.children.length==0&&e.children.length==0&&mw(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,t){for(let r=0,i=0;r<e.children.length;r++){let s=e.children[r],o=i+s.length;if(o>=t){if(s instanceof Cn)return s;if(o>t)break}i=o+s.breakAfter}return null}}class Da extends At{constructor(e,t,r){super(),this.widget=e,this.length=t,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(e,t,r,i,s,o){return r&&(!(r instanceof Da)||!this.widget.compare(r.widget)||e>0&&s<=0||t<this.length&&o<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?Ar.before(this.dom):Ar.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let r=new Da(this.widget,t,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return $Q}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):pt.empty}domBoundsAround(){return null}become(e){return e instanceof Da&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){let r=this.widget.coordsAt(this.dom,e,t);return r||(this.widget instanceof JP?null:bS(this.dom.getBoundingClientRect(),this.length?e==0:t<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:r}=this.deco;return t==r?!1:e<0?t<0:r>0}}class JP extends na{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class Fm{constructor(e,t,r,i){this.doc=e,this.pos=t,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Da&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new Cn),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(g0(new sf(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof Da)&&this.getLine()}buildText(e,t,r){for(;e>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:o,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=s,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-r)),this.getLine().append(g0(new Bs(this.text.slice(this.textOff,this.textOff+i)),t),r),this.atCursorPos=!0,this.textOff+=i,e-=i,r=0}}span(e,t,r,i){this.buildText(t-e,r,i),this.pos=t,this.openStart<0&&(this.openStart=i)}point(e,t,r,i,s,o){if(this.disallowBlockEffectsFor[o]&&r instanceof _c){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=t-e;if(r instanceof _c)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Da(r.widget||of.block,a,r));else{let l=Bl.create(r.widget||of.inline,a,a?0:r.startSide),c=this.atCursorPos&&!l.isEditable&&s<=i.length&&(e<t||r.startSide>0),u=!l.isEditable&&(e<t||s>i.length||r.startSide<=0),d=this.getLine();this.pendingBuffer==2&&!c&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),c&&(d.append(g0(new sf(1),i),s),s=i.length+Math.max(0,s-i.length)),d.append(g0(l,i),s),this.atCursorPos=u,this.pendingBuffer=u?e<t||s>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=s)}static build(e,t,r,i,s){let o=new Fm(e,t,r,s);return o.openEnd=yt.spans(i,t,r,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function g0(n,e){for(let t of e)n=new Ka(t,[n],n.length);return n}class of extends na{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}of.inline=new of("span");of.block=new of("div");var it=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(it||(it={}));const Ju=it.LTR,jQ=it.RTL;function NW(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const dme=NW("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),fme=NW("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),eC=Object.create(null),to=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);eC[e]=t,eC[t]=-e}function IW(n){return n<=247?dme[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?fme[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8204?256:64336<=n&&n<=65023?4:1}const pme=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Wl{get dir(){return this.level%2?jQ:Ju}constructor(e,t,r){this.from=e,this.to=t,this.level=r}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,r,i){let s=-1;for(let o=0;o<e.length;o++){let a=e[o];if(a.from<=t&&a.to>=t){if(a.level==r)return o;(s<0||(i!=0?i<0?a.from<t:a.to>t:e[s].level>a.level))&&(s=o)}}if(s<0)throw new RangeError("Index out of range");return s}}function $W(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++){let r=n[t],i=e[t];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!$W(r.inner,i.inner))return!1}return!0}const Et=[];function mme(n,e,t,r,i){for(let s=0;s<=r.length;s++){let o=s?r[s-1].to:e,a=s<r.length?r[s].from:t,l=s?256:i;for(let c=o,u=l,d=l;c<a;c++){let f=IW(n.charCodeAt(c));f==512?f=u:f==8&&d==4&&(f=16),Et[c]=f==4?2:f,f&7&&(d=f),u=f}for(let c=o,u=l,d=l;c<a;c++){let f=Et[c];if(f==128)c<a-1&&u==Et[c+1]&&u&24?f=Et[c]=u:Et[c]=256;else if(f==64){let m=c+1;for(;m<a&&Et[m]==64;)m++;let g=c&&u==8||m<t&&Et[m]==8?d==1?1:8:256;for(let y=c;y<m;y++)Et[y]=g;c=m-1}else f==8&&d==1&&(Et[c]=1);u=f,f&7&&(d=f)}}}function gme(n,e,t,r,i){let s=i==1?2:1;for(let o=0,a=0,l=0;o<=r.length;o++){let c=o?r[o-1].to:e,u=o<r.length?r[o].from:t;for(let d=c,f,m,g;d<u;d++)if(m=eC[f=n.charCodeAt(d)])if(m<0){for(let y=a-3;y>=0;y-=3)if(to[y+1]==-m){let x=to[y+2],w=x&2?i:x&4?x&1?s:i:0;w&&(Et[d]=Et[to[y]]=w),a=y;break}}else{if(to.length==189)break;to[a++]=d,to[a++]=f,to[a++]=l}else if((g=Et[d])==2||g==1){let y=g==i;l=y?0:1;for(let x=a-3;x>=0;x-=3){let w=to[x+2];if(w&2)break;if(y)to[x+2]|=2;else{if(w&4)break;to[x+2]|=4}}}}}function Ome(n,e,t,r){for(let i=0,s=r;i<=t.length;i++){let o=i?t[i-1].to:n,a=i<t.length?t[i].from:e;for(let l=o;l<a;){let c=Et[l];if(c==256){let u=l+1;for(;;)if(u==a){if(i==t.length)break;u=t[i++].to,a=i<t.length?t[i].from:e}else if(Et[u]==256)u++;else break;let d=s==1,f=(u<e?Et[u]:r)==1,m=d==f?d?1:2:r;for(let g=u,y=i,x=y?t[y-1].to:n;g>l;)g==x&&(g=t[--y].from,x=y?t[y-1].to:n),Et[--g]=m;l=u}else s=c,l++}}}function tC(n,e,t,r,i,s,o){let a=r%2?2:1;if(r%2==i%2)for(let l=e,c=0;l<t;){let u=!0,d=!1;if(c==s.length||l<s[c].from){let y=Et[l];y!=a&&(u=!1,d=y==16)}let f=!u&&a==1?[]:null,m=u?r:r+1,g=l;e:for(;;)if(c<s.length&&g==s[c].from){if(d)break e;let y=s[c];if(!u)for(let x=y.to,w=c+1;;){if(x==t)break e;if(w<s.length&&s[w].from==x)x=s[w++].to;else{if(Et[x]==a)break e;break}}if(c++,f)f.push(y);else{y.from>l&&o.push(new Wl(l,y.from,m));let x=y.direction==Ju!=!(m%2);nC(n,x?r+1:r,i,y.inner,y.from,y.to,o),l=y.to}g=y.to}else{if(g==t||(u?Et[g]!=a:Et[g]==a))break;g++}f?tC(n,l,g,r+1,i,f,o):l<g&&o.push(new Wl(l,g,m)),l=g}else for(let l=t,c=s.length;l>e;){let u=!0,d=!1;if(!c||l>s[c-1].to){let y=Et[l-1];y!=a&&(u=!1,d=y==16)}let f=!u&&a==1?[]:null,m=u?r:r+1,g=l;e:for(;;)if(c&&g==s[c-1].to){if(d)break e;let y=s[--c];if(!u)for(let x=y.from,w=c;;){if(x==e)break e;if(w&&s[w-1].to==x)x=s[--w].from;else{if(Et[x-1]==a)break e;break}}if(f)f.push(y);else{y.to<l&&o.push(new Wl(y.to,l,m));let x=y.direction==Ju!=!(m%2);nC(n,x?r+1:r,i,y.inner,y.from,y.to,o),l=y.from}g=y.from}else{if(g==e||(u?Et[g-1]!=a:Et[g-1]==a))break;g--}f?tC(n,g,l,r+1,i,f,o):g<l&&o.push(new Wl(g,l,m)),l=g}}function nC(n,e,t,r,i,s,o){let a=e%2?2:1;mme(n,i,s,r,a),gme(n,i,s,r,a),Ome(i,s,r,a),tC(n,i,s,e,t,r,o)}function yme(n,e,t){if(!n)return[new Wl(0,0,e==jQ?1:0)];if(e==Ju&&!t.length&&!pme.test(n))return jW(n.length);if(t.length)for(;n.length>Et.length;)Et[Et.length]=256;let r=[],i=e==Ju?0:1;return nC(n,i,i,t,0,n.length,r),r}function jW(n){return[new Wl(0,n,0)]}let DW="";function vme(n,e,t,r,i){var s;let o=r.head-n.from,a=Wl.find(e,o,(s=r.bidiLevel)!==null&&s!==void 0?s:-1,r.assoc),l=e[a],c=l.side(i,t);if(o==c){let f=a+=i?1:-1;if(f<0||f>=e.length)return null;l=e[a=f],o=l.side(!i,t),c=l.side(i,t)}let u=mr(n.text,o,l.forward(i,t));(u<l.from||u>l.to)&&(u=c),DW=n.text.slice(Math.min(o,u),Math.max(o,u));let d=a==(i?e.length-1:0)?null:e[a+(i?1:-1)];return d&&u==c&&d.level+(i?0:1)<l.level?te.cursor(d.side(!i,t)+n.from,d.forward(i,t)?1:-1,d.level):te.cursor(u+n.from,l.forward(i,t)?-1:1,l.level)}function xme(n,e,t){for(let r=e;r<t;r++){let i=IW(n.charCodeAt(r));if(i==1)return Ju;if(i==2||i==4)return jQ}return Ju}const MW=de.define(),VW=de.define(),LW=de.define(),UW=de.define(),rC=de.define(),zW=de.define(),qW=de.define(),DQ=de.define(),MQ=de.define(),FW=de.define({combine:n=>n.some(e=>e)}),ZW=de.define({combine:n=>n.some(e=>e)}),BW=de.define();class xd{constructor(e,t="nearest",r="nearest",i=5,s=5,o=!1){this.range=e,this.y=t,this.x=r,this.yMargin=i,this.xMargin=s,this.isSnapshot=o}map(e){return e.empty?this:new xd(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new xd(te.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const O0=Me.define({map:(n,e)=>n.map(e)}),WW=Me.define();function Rn(n,e,t){let r=n.facet(UW);r.length?r[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}const _a=de.define({combine:n=>n.length?n[0]:!0});let wme=0;const sm=de.define();class Vt{constructor(e,t,r,i,s){this.id=e,this.create=t,this.domEventHandlers=r,this.domEventObservers=i,this.extension=s(this)}static define(e,t){const{eventHandlers:r,eventObservers:i,provide:s,decorations:o}=t||{};return new Vt(wme++,e,r,i,a=>{let l=[sm.of(a)];return o&&l.push(Fg.of(c=>{let u=c.plugin(a);return u?o(u):ye.none})),s&&l.push(s(a)),l})}static fromClass(e,t){return Vt.define(r=>new e(r),t)}}class Sk{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(r){if(Rn(t.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){Rn(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(r){Rn(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const XW=de.define(),VQ=de.define(),Fg=de.define(),GW=de.define(),LQ=de.define(),YW=de.define();function yM(n,e){let t=n.state.facet(YW);if(!t.length)return t;let r=t.map(s=>s instanceof Function?s(n):s),i=[];return yt.spans(r,e.from,e.to,{point(){},span(s,o,a,l){let c=s-e.from,u=o-e.from,d=i;for(let f=a.length-1;f>=0;f--,l--){let m=a[f].spec.bidiIsolate,g;if(m==null&&(m=xme(e.text,c,u)),l>0&&d.length&&(g=d[d.length-1]).to==c&&g.direction==m)g.to=u,d=g.inner;else{let y={from:c,to:u,direction:m,inner:[]};d.push(y),d=y.inner}}}}),i}const HW=de.define();function UQ(n){let e=0,t=0,r=0,i=0;for(let s of n.state.facet(HW)){let o=s(n);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(t=Math.max(t,o.right)),o.top!=null&&(r=Math.max(r,o.top)),o.bottom!=null&&(i=Math.max(i,o.bottom)))}return{left:e,right:t,top:r,bottom:i}}const om=de.define();class as{constructor(e,t,r,i){this.fromA=e,this.toA=t,this.fromB=r,this.toB=i}join(e){return new as(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,r=this;for(;t>0;t--){let i=e[t-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(t-1,1)}}return e.splice(t,0,r),e}static extendWithRanges(e,t){if(t.length==0)return e;let r=[];for(let i=0,s=0,o=0,a=0;;i++){let l=i==e.length?null:e[i],c=o-a,u=l?l.fromB:1e9;for(;s<t.length&&t[s]<u;){let d=t[s],f=t[s+1],m=Math.max(a,d),g=Math.min(u,f);if(m<=g&&new as(m+c,g+c,m,g).addToSet(r),f>u)break;s+=2}if(!l)return r;new as(l.fromA,l.toA,l.fromB,l.toB).addToSet(r),o=l.toA,a=l.toB}}}class gw{constructor(e,t,r){this.view=e,this.state=t,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=Mn.empty(this.startState.doc.length);for(let s of r)this.changes=this.changes.compose(s.changes);let i=[];this.changes.iterChangedRanges((s,o,a,l)=>i.push(new as(s,o,a,l))),this.changedRanges=i}static create(e,t,r){return new gw(e,t,r)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class vM extends At{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=ye.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Cn],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new as(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:c,toA:u})=>u<this.minWidthFrom||c>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?i=this.domChanged.newSel.head:!Cme(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let s=i>-1?Sme(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:c,to:u}=this.hasComposition;r=new as(c,u,e.changes.mapPos(c,-1),e.changes.mapPos(u,1)).addToSet(r.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(be.ie||be.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,a=this.updateDeco(),l=Tme(o,a,e.changes);return r=as.extendWithRanges(r,l),!(this.flags&7)&&r.length==0?!1:(this.updateInner(r,e.startState.doc.length,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,r);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=be.chrome||be.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,o),this.flags&=-8,o&&(o.written||i.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(o=>o.flags&=-9);let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof Da&&o.widget instanceof JP&&s.push(o.dom);i.updateGaps(s)}updateChildren(e,t,r){let i=r?r.range.addToSet(e.slice()):e,s=this.childCursor(t);for(let o=i.length-1;;o--){let a=o>=0?i[o]:null;if(!a)break;let{fromA:l,toA:c,fromB:u,toB:d}=a,f,m,g,y;if(r&&r.range.fromB<d&&r.range.toB>u){let Q=Fm.build(this.view.state.doc,u,r.range.fromB,this.decorations,this.dynamicDecorationMap),C=Fm.build(this.view.state.doc,r.range.toB,d,this.decorations,this.dynamicDecorationMap);m=Q.breakAtStart,g=Q.openStart,y=C.openEnd;let N=this.compositionView(r);C.breakAtStart?N.breakAfter=1:C.content.length&&N.merge(N.length,N.length,C.content[0],!1,C.openStart,0)&&(N.breakAfter=C.content[0].breakAfter,C.content.shift()),Q.content.length&&N.merge(0,0,Q.content[Q.content.length-1],!0,0,Q.openEnd)&&Q.content.pop(),f=Q.content.concat(N).concat(C.content)}else({content:f,breakAtStart:m,openStart:g,openEnd:y}=Fm.build(this.view.state.doc,u,d,this.decorations,this.dynamicDecorationMap));let{i:x,off:w}=s.findPos(c,1),{i:k,off:P}=s.findPos(l,-1);_W(this,k,P,x,w,f,m,g,y)}r&&this.fixCompositionDOM(r)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let r of t.effects)r.is(WW)&&(this.editContextFormatting=r.value)}compositionView(e){let t=new Bs(e.text.nodeValue);t.flags|=8;for(let{deco:i}of e.marks)t=new Ka(i,[t],t.length);let r=new Cn;return r.append(t,0),r}fixCompositionDOM(e){let t=(s,o)=>{o.flags|=8|(o.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(o);let a=At.get(s);a&&a!=o&&(a.dom=null),o.setDOM(s)},r=this.childPos(e.range.fromB,1),i=this.children[r.i];t(e.line,i);for(let s=e.marks.length-1;s>=-1;s--)r=i.childPos(r.off,1),i=i.children[r.i],t(s>=0?e.marks[s].node:e.text,i)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,i=r==this.dom,s=!i&&!(this.view.state.facet(_a)||this.dom.tabIndex>-1)&&Sv(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(i||t||s))return;let o=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(a.anchor)),c=a.empty?l:this.moveToLine(this.domAtPos(a.head));if(be.gecko&&a.empty&&!this.hasComposition&&bme(l)){let d=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(d,l.node.childNodes[l.offset]||null)),l=c=new Ar(d,0),o=!0}let u=this.view.observer.selectionRange;(o||!u.focusNode||(!qm(l.node,l.offset,u.anchorNode,u.anchorOffset)||!qm(c.node,c.offset,u.focusNode,u.focusOffset))&&!this.suppressWidgetCursorChange(u,a))&&(this.view.observer.ignore(()=>{be.android&&be.chrome&&this.dom.contains(u.focusNode)&&Pme(u.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let d=zg(this.view.root);if(d)if(a.empty){if(be.gecko){let f=kme(l.node,l.offset);if(f&&f!=3){let m=(f==1?bW:SW)(l.node,l.offset);m&&(l=new Ar(m.node,m.offset))}}d.collapse(l.node,l.offset),a.bidiLevel!=null&&d.caretBidiLevel!==void 0&&(d.caretBidiLevel=a.bidiLevel)}else if(d.extend){d.collapse(l.node,l.offset);try{d.extend(c.node,c.offset)}catch{}}else{let f=document.createRange();a.anchor>a.head&&([l,c]=[c,l]),f.setEnd(c.node,c.offset),f.setStart(l.node,l.offset),d.removeAllRanges(),d.addRange(f)}s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(l,c)),this.impreciseAnchor=l.precise?null:new Ar(u.anchorNode,u.anchorOffset),this.impreciseHead=c.precise?null:new Ar(u.focusNode,u.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&qm(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,r=zg(e.root),{anchorNode:i,anchorOffset:s}=e.observer.selectionRange;if(!r||!t.empty||!t.assoc||!r.modify)return;let o=Cn.find(this,t.head);if(!o)return;let a=o.posAtStart;if(t.head==a||t.head==a+o.length)return;let l=this.coordsAt(t.head,-1),c=this.coordsAt(t.head,1);if(!l||!c||l.bottom>c.top)return;let u=this.domAtPos(t.head+t.assoc);r.collapse(u.node,u.offset),r.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let d=e.observer.selectionRange;e.docView.posFromDOM(d.anchorNode,d.anchorOffset)!=t.from&&r.collapse(i,s)}moveToLine(e){let t=this.dom,r;if(e.node!=t)return e;for(let i=e.offset;!r&&i<t.childNodes.length;i++){let s=At.get(t.childNodes[i]);s instanceof Cn&&(r=s.domAtPos(0))}for(let i=e.offset-1;!r&&i>=0;i--){let s=At.get(t.childNodes[i]);s instanceof Cn&&(r=s.domAtPos(s.length))}return r?new Ar(r.node,r.offset,!0):e}nearest(e){for(let t=e;t;){let r=At.get(t);if(r&&r.rootView==this)return r;t=t.parentNode}return null}posFromDOM(e,t){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,t)+r.posAtStart}domAtPos(e){let{i:t,off:r}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let i=this.children[t];if(r<i.length||i instanceof Cn)break;t++,r=0}return this.children[t].domAtPos(r)}coordsAt(e,t){let r=null,i=0;for(let s=this.length,o=this.children.length-1;o>=0;o--){let a=this.children[o],l=s-a.breakAfter,c=l-a.length;if(l<e)break;if(c<=e&&(c<e||a.covers(-1))&&(l>e||a.covers(1))&&(!r||a instanceof Cn&&!(r instanceof Cn&&t>=0)))r=a,i=c;else if(r&&c==e&&l==e&&a instanceof Da&&Math.abs(t)<2){if(a.deco.startSide<0)break;o&&(r=null)}s=c}return r?r.coordsAt(e-i,t):null}coordsForChar(e){let{i:t,off:r}=this.childPos(e,1),i=this.children[t];if(!(i instanceof Cn))return null;for(;i.children.length;){let{i:a,off:l}=i.childPos(r,1);for(;;a++){if(a==i.children.length)return null;if((i=i.children[a]).length)break}r=l}if(!(i instanceof Bs))return null;let s=mr(i.text,r);if(s==r)return null;let o=Ku(i.dom,r,s).getClientRects();for(let a=0;a<o.length;a++){let l=o[a];if(a==o.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(e){let t=[],{from:r,to:i}=e,s=this.view.contentDOM.clientWidth,o=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==it.LTR;for(let c=0,u=0;u<this.children.length;u++){let d=this.children[u],f=c+d.length;if(f>i)break;if(c>=r){let m=d.dom.getBoundingClientRect();if(t.push(m.height),o){let g=d.dom.lastChild,y=g?qg(g):[];if(y.length){let x=y[y.length-1],w=l?x.right-m.left:m.right-x.left;w>a&&(a=w,this.minWidth=s,this.minWidthFrom=c,this.minWidthTo=f)}}}c=f+d.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?it.RTL:it.LTR}measureTextSize(){for(let s of this.children)if(s instanceof Cn){let o=s.measureTextSize();if(o)return o}let e=document.createElement("div"),t,r,i;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=qg(e.firstChild)[0];t=e.getBoundingClientRect().height,r=s?s.width/27:7,i=s?s.height:t,e.remove()}),{lineHeight:t,charWidth:r,textHeight:i}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new kW(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let r=0,i=0;;i++){let s=i==t.viewports.length?null:t.viewports[i],o=s?s.from-1:this.length;if(o>r){let a=(t.lineBlockAt(o).bottom-t.lineBlockAt(r).top)/this.view.scaleY;e.push(ye.replace({widget:new JP(a),block:!0,inclusive:!0,isBlockGap:!0}).range(r,o))}if(!s)break;r=s.to+1}return ye.set(e)}updateDeco(){let e=1,t=this.view.state.facet(Fg).map(s=>(this.dynamicDecorationMap[e++]=typeof s=="function")?s(this.view):s),r=!1,i=this.view.state.facet(GW).map((s,o)=>{let a=typeof s=="function";return a&&(r=!0),a?s(this.view):s});for(i.length&&(this.dynamicDecorationMap[e++]=r,t.push(yt.join(i))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let c=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=c.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let c of this.view.state.facet(BW))try{if(c(this.view,e.range,e))return!0}catch(u){Rn(this.view.state,u,"scroll handler")}let{range:t}=e,r=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),i;if(!r)return;!t.empty&&(i=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let s=UQ(this.view),o={left:r.left-s.left,top:r.top-s.top,right:r.right+s.right,bottom:r.bottom+s.bottom},{offsetWidth:a,offsetHeight:l}=this.view.scrollDOM;nme(this.view.scrollDOM,o,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,a),-a),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==it.LTR)}}function bme(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}function KW(n,e){let t=n.observer.selectionRange;if(!t.focusNode)return null;let r=bW(t.focusNode,t.focusOffset),i=SW(t.focusNode,t.focusOffset),s=r||i;if(i&&r&&i.node!=r.node){let a=At.get(i.node);if(!a||a instanceof Bs&&a.text!=i.node.nodeValue)s=i;else if(n.docView.lastCompositionAfterCursor){let l=At.get(r.node);!l||l instanceof Bs&&l.text!=r.node.nodeValue||(s=i)}}if(n.docView.lastCompositionAfterCursor=s!=r,!s)return null;let o=e-s.offset;return{from:o,to:o+s.node.nodeValue.length,node:s.node}}function Sme(n,e,t){let r=KW(n,t);if(!r)return null;let{node:i,from:s,to:o}=r,a=i.nodeValue;if(/[\n\r]/.test(a)||n.state.doc.sliceString(r.from,r.to)!=a)return null;let l=e.invertedDesc,c=new as(l.mapPos(s),l.mapPos(o),s,o),u=[];for(let d=i.parentNode;;d=d.parentNode){let f=At.get(d);if(f instanceof Ka)u.push({node:d,deco:f.mark});else{if(f instanceof Cn||d.nodeName=="DIV"&&d.parentNode==n.contentDOM)return{range:c,text:i,marks:u,line:d};if(d!=n.contentDOM)u.push({node:d,deco:new ry({inclusive:!0,attributes:ume(d),tagName:d.tagName.toLowerCase()})});else return null}}}function kme(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}let _me=class{constructor(){this.changes=[]}compareRange(e,t){kv(e,t,this.changes)}comparePoint(e,t){kv(e,t,this.changes)}boundChange(e){kv(e,e,this.changes)}};function Tme(n,e,t){let r=new _me;return yt.compare(n,e,t,r),r.changes}function Pme(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function Cme(n,e){let t=!1;return e&&n.iterChangedRanges((r,i)=>{r<e.to&&i>e.from&&(t=!0)}),t}function Eme(n,e,t=1){let r=n.charCategorizer(e),i=n.doc.lineAt(e),s=e-i.from;if(i.length==0)return te.cursor(e);s==0?t=1:s==i.length&&(t=-1);let o=s,a=s;t<0?o=mr(i.text,s,!1):a=mr(i.text,s);let l=r(i.text.slice(o,a));for(;o>0;){let c=mr(i.text,o,!1);if(r(i.text.slice(c,o))!=l)break;o=c}for(;a<i.length;){let c=mr(i.text,a);if(r(i.text.slice(a,c))!=l)break;a=c}return te.range(o+i.from,a+i.from)}function Ame(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function Rme(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function kk(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function xM(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function wM(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function iC(n,e,t){let r,i,s,o,a=!1,l,c,u,d;for(let g=n.firstChild;g;g=g.nextSibling){let y=qg(g);for(let x=0;x<y.length;x++){let w=y[x];i&&kk(i,w)&&(w=xM(wM(w,i.bottom),i.top));let k=Ame(e,w),P=Rme(t,w);if(k==0&&P==0)return g.nodeType==3?bM(g,e,t):iC(g,e,t);if(!r||o>P||o==P&&s>k){r=g,i=w,s=k,o=P;let Q=P?t<w.top?-1:1:k?e<w.left?-1:1:0;a=!Q||(Q>0?x<y.length-1:x>0)}k==0?t>w.bottom&&(!u||u.bottom<w.bottom)?(l=g,u=w):t<w.top&&(!d||d.top>w.top)&&(c=g,d=w):u&&kk(u,w)?u=wM(u,w.bottom):d&&kk(d,w)&&(d=xM(d,w.top))}}if(u&&u.bottom>=t?(r=l,i=u):d&&d.top<=t&&(r=c,i=d),!r)return{node:n,offset:0};let f=Math.max(i.left,Math.min(i.right,e));if(r.nodeType==3)return bM(r,f,t);if(a&&r.contentEditable!="false")return iC(r,f,t);let m=Array.prototype.indexOf.call(n.childNodes,r)+(e>=(i.left+i.right)/2?1:0);return{node:n,offset:m}}function bM(n,e,t){let r=n.nodeValue.length,i=-1,s=1e9,o=0;for(let a=0;a<r;a++){let l=Ku(n,a,a+1).getClientRects();for(let c=0;c<l.length;c++){let u=l[c];if(u.top==u.bottom)continue;o||(o=e-u.left);let d=(u.top>t?u.top-t:t-u.bottom)-1;if(u.left-1<=e&&u.right+1>=e&&d<s){let f=e>=(u.left+u.right)/2,m=f;if((be.chrome||be.gecko)&&Ku(n,a).getBoundingClientRect().left==u.right&&(m=!f),d<=0)return{node:n,offset:a+(m?1:0)};i=a+(m?1:0),s=d}}}return{node:n,offset:i>-1?i:o>0?n.nodeValue.length:0}}function JW(n,e,t,r=-1){var i,s;let o=n.contentDOM.getBoundingClientRect(),a=o.top+n.viewState.paddingTop,l,{docHeight:c}=n.viewState,{x:u,y:d}=e,f=d-a;if(f<0)return 0;if(f>c)return n.state.doc.length;for(let Q=n.viewState.heightOracle.textHeight/2,C=!1;l=n.elementAtHeight(f),l.type!=Xr.Text;)for(;f=r>0?l.bottom+Q:l.top-Q,!(f>=0&&f<=c);){if(C)return t?null:0;C=!0,r=-r}d=a+f;let m=l.from;if(m<n.viewport.from)return n.viewport.from==0?0:t?null:SM(n,o,l,u,d);if(m>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:t?null:SM(n,o,l,u,d);let g=n.dom.ownerDocument,y=n.root.elementFromPoint?n.root:g,x=y.elementFromPoint(u,d);x&&!n.contentDOM.contains(x)&&(x=null),x||(u=Math.max(o.left+1,Math.min(o.right-1,u)),x=y.elementFromPoint(u,d),x&&!n.contentDOM.contains(x)&&(x=null));let w,k=-1;if(x&&((i=n.docView.nearest(x))===null||i===void 0?void 0:i.isEditable)!=!1){if(g.caretPositionFromPoint){let Q=g.caretPositionFromPoint(u,d);Q&&({offsetNode:w,offset:k}=Q)}else if(g.caretRangeFromPoint){let Q=g.caretRangeFromPoint(u,d);Q&&({startContainer:w,startOffset:k}=Q,(!n.contentDOM.contains(w)||be.safari&&Qme(w,k,u)||be.chrome&&Nme(w,k,u))&&(w=void 0))}w&&(k=Math.min(Lo(w),k))}if(!w||!n.docView.dom.contains(w)){let Q=Cn.find(n.docView,m);if(!Q)return f>l.top+l.height/2?l.to:l.from;({node:w,offset:k}=iC(Q.dom,u,d))}let P=n.docView.nearest(w);if(!P)return null;if(P.isWidget&&((s=P.dom)===null||s===void 0?void 0:s.nodeType)==1){let Q=P.dom.getBoundingClientRect();return e.y<Q.top||e.y<=Q.bottom&&e.x<=(Q.left+Q.right)/2?P.posAtStart:P.posAtEnd}else return P.localPosFromDOM(w,k)+P.posAtStart}function SM(n,e,t,r,i){let s=Math.round((r-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&t.height>n.defaultLineHeight*1.5){let a=n.viewState.heightOracle.textHeight,l=Math.floor((i-t.top-(n.defaultLineHeight-a)*.5)/a);s+=l*n.viewState.heightOracle.lineLength}let o=n.state.sliceDoc(t.from,t.to);return t.from+FP(o,s,n.state.tabSize)}function Qme(n,e,t){let r;if(n.nodeType!=3||e!=(r=n.nodeValue.length))return!1;for(let i=n.nextSibling;i;i=i.nextSibling)if(i.nodeType!=1||i.nodeName!="BR")return!1;return Ku(n,r-1,r).getBoundingClientRect().left>t}function Nme(n,e,t){if(e!=0)return!1;for(let i=n;;){let s=i.parentNode;if(!s||s.nodeType!=1||s.firstChild!=i)return!1;if(s.classList.contains("cm-line"))break;i=s}let r=n.nodeType==1?n.getBoundingClientRect():Ku(n,0,Math.max(n.nodeValue.length,1)).getBoundingClientRect();return t-r.left>5}function sC(n,e){let t=n.lineBlockAt(e);if(Array.isArray(t.type)){for(let r of t.type)if(r.to>e||r.to==e&&(r.to==t.to||r.type==Xr.Text))return r}return t}function Ime(n,e,t,r){let i=sC(n,e.head),s=!r||i.type!=Xr.Text||!(n.lineWrapping||i.widgetLineBreaks)?null:n.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(s){let o=n.dom.getBoundingClientRect(),a=n.textDirectionAt(i.from),l=n.posAtCoords({x:t==(a==it.LTR)?o.right-1:o.left+1,y:(s.top+s.bottom)/2});if(l!=null)return te.cursor(l,t?-1:1)}return te.cursor(t?i.to:i.from,t?-1:1)}function kM(n,e,t,r){let i=n.state.doc.lineAt(e.head),s=n.bidiSpans(i),o=n.textDirectionAt(i.from);for(let a=e,l=null;;){let c=vme(i,s,o,a,t),u=DW;if(!c){if(i.number==(t?n.state.doc.lines:1))return a;u=`
`,i=n.state.doc.line(i.number+(t?1:-1)),s=n.bidiSpans(i),c=n.visualLineSide(i,!t)}if(l){if(!l(u))return a}else{if(!r)return c;l=r(u)}a=c}}function $me(n,e,t){let r=n.state.charCategorizer(e),i=r(t);return s=>{let o=r(s);return i==Kt.Space&&(i=o),i==o}}function jme(n,e,t,r){let i=e.head,s=t?1:-1;if(i==(t?n.state.doc.length:0))return te.cursor(i,e.assoc);let o=e.goalColumn,a,l=n.contentDOM.getBoundingClientRect(),c=n.coordsAtPos(i,e.assoc||-1),u=n.documentTop;if(c)o==null&&(o=c.left-l.left),a=s<0?c.top:c.bottom;else{let m=n.viewState.lineBlockAt(i);o==null&&(o=Math.min(l.right-l.left,n.defaultCharacterWidth*(i-m.from))),a=(s<0?m.top:m.bottom)+u}let d=l.left+o,f=r??n.viewState.heightOracle.textHeight>>1;for(let m=0;;m+=10){let g=a+(f+m)*s,y=JW(n,{x:d,y:g},!1,s);if(g<l.top||g>l.bottom||(s<0?y<i:y>i)){let x=n.docView.coordsForChar(y),w=!x||g<x.top?-1:1;return te.cursor(y,w,void 0,o)}}}function _v(n,e,t){for(;;){let r=0;for(let i of n)i.between(e-1,e+1,(s,o,a)=>{if(e>s&&e<o){let l=r||t||(e-s<o-e?-1:1);e=l<0?s:o,r=l}});if(!r)return e}}function _k(n,e,t){let r=_v(n.state.facet(LQ).map(i=>i(n)),t.from,e.head>t.from?-1:1);return r==t.from?t:te.cursor(r,r<t.from?1:-1)}const am="￿";class Dme{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(Ve.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=am}readRange(e,t){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let s=this.text.length;this.readNode(i);let o=i.nextSibling;if(o==t)break;let a=At.get(i),l=At.get(o);(a&&l?a.breakAfter:(a?a.breakAfter:pw(i))||pw(o)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>s)&&this.lineBreak(),i=o}return this.findPointBefore(r,t),this}readTextNode(e){let t=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,t.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,o=1,a;if(this.lineSeparator?(s=t.indexOf(this.lineSeparator,r),o=this.lineSeparator.length):(a=i.exec(t))&&(s=a.index,o=a[0].length),this.append(t.slice(r,s<0?t.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=o-1);r=s+o}}readNode(e){if(e.cmIgnore)return;let t=At.get(e),r=t&&t.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==t&&(r.pos=this.text.length)}findPointInside(e,t){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(Mme(e,r.node,r.offset)?t:0))}}function Mme(n,e,t){for(;;){if(!e||t<Lo(e))return!1;if(e==n)return!0;t=Hu(e)+1,e=e.parentNode}}class _M{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class Vme{constructor(e,t,r,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,r,0))){let a=s||o?[]:zme(e),l=new Dme(a,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=qme(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=s&&s.node==a.focusNode&&s.offset==a.focusOffset||!WP(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),c=o&&o.node==a.anchorNode&&o.offset==a.anchorOffset||!WP(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset),u=e.viewport;if((be.ios||be.chrome)&&e.state.selection.main.empty&&l!=c&&(u.from>0||u.to<e.state.doc.length)){let d=Math.min(l,c),f=Math.max(l,c),m=u.from-d,g=u.to-f;(m==0||m==1||d==0)&&(g==0||g==-1||f==e.state.doc.length)&&(l=0,c=e.state.doc.length)}this.newSel=te.single(c,l)}}}function eX(n,e){let t,{newSel:r}=e,i=n.state.selection.main,s=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:a}=e.bounds,l=i.from,c=null;(s===8||be.android&&e.text.length<a-o)&&(l=i.to,c="end");let u=Ume(n.state.doc.sliceString(o,a,am),e.text,l-o,c);u&&(be.chrome&&s==13&&u.toB==u.from+2&&e.text.slice(u.from,u.toB)==am+am&&u.toB--,t={from:o+u.from,to:o+u.toA,insert:pt.of(e.text.slice(u.from,u.toB).split(am))})}else r&&(!n.hasFocus&&n.state.facet(_a)||r.main.eq(i))&&(r=null);if(!t&&!r)return!1;if(!t&&e.typeOver&&!i.empty&&r&&r.main.empty?t={from:i.from,to:i.to,insert:n.state.doc.slice(i.from,i.to)}:(be.mac||be.android)&&t&&t.from==t.to&&t.from==i.head-1&&/^\. ?$/.test(t.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(r&&t.insert.length==2&&(r=te.single(r.main.anchor-1,r.main.head-1)),t={from:t.from,to:t.to,insert:pt.of([t.insert.toString().replace("."," ")])}):t&&t.from>=i.from&&t.to<=i.to&&(t.from!=i.from||t.to!=i.to)&&i.to-i.from-(t.to-t.from)<=4?t={from:i.from,to:i.to,insert:n.state.doc.slice(i.from,t.from).append(t.insert).append(n.state.doc.slice(t.to,i.to))}:be.chrome&&t&&t.from==t.to&&t.from==i.head&&t.insert.toString()==`
 `&&n.lineWrapping&&(r&&(r=te.single(r.main.anchor-1,r.main.head-1)),t={from:i.from,to:i.to,insert:pt.of([" "])}),t)return zQ(n,t,r,s);if(r&&!r.main.eq(i)){let o=!1,a="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(o=!0),a=n.inputState.lastSelectionOrigin),n.dispatch({selection:r,scrollIntoView:o,userEvent:a}),!0}else return!1}function zQ(n,e,t,r=-1){if(be.ios&&n.inputState.flushIOSKey(e))return!0;let i=n.state.selection.main;if(be.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&n.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&vd(n.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&vd(n.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&vd(n.contentDOM,"Delete",46)))return!0;let s=e.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let o,a=()=>o||(o=Lme(n,e,t));return n.state.facet(zW).some(l=>l(n,e.from,e.to,s,a))||n.dispatch(a()),!0}function Lme(n,e,t){let r,i=n.state,s=i.selection.main;if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&n.inputState.composing<0){let a=s.from<e.from?i.sliceDoc(s.from,e.from):"",l=s.to>e.to?i.sliceDoc(e.to,s.to):"";r=i.replaceSelection(n.state.toText(a+e.insert.sliceString(0,void 0,n.state.lineBreak)+l))}else{let a=i.changes(e),l=t&&t.main.to<=a.newLength?t.main:void 0;if(i.selection.ranges.length>1&&n.inputState.composing>=0&&e.to<=s.to&&e.to>=s.to-10){let c=n.state.sliceDoc(e.from,e.to),u,d=t&&KW(n,t.main.head);if(d){let g=e.insert.length-(e.to-e.from);u={from:d.from,to:d.to-g}}else u=n.state.doc.lineAt(s.head);let f=s.to-e.to,m=s.to-s.from;r=i.changeByRange(g=>{if(g.from==s.from&&g.to==s.to)return{changes:a,range:l||g.map(a)};let y=g.to-f,x=y-c.length;if(g.to-g.from!=m||n.state.sliceDoc(x,y)!=c||g.to>=u.from&&g.from<=u.to)return{range:g};let w=i.changes({from:x,to:y,insert:e.insert}),k=g.to-s.to;return{changes:w,range:l?te.range(Math.max(0,l.anchor+k),Math.max(0,l.head+k)):g.map(w)}})}else r={changes:a,selection:l&&i.selection.replaceRange(l)}}let o="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,o+=".compose",n.inputState.compositionFirstChange&&(o+=".start",n.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:o,scrollIntoView:!0})}function Ume(n,e,t,r){let i=Math.min(n.length,e.length),s=0;for(;s<i&&n.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==i&&n.length==e.length)return null;let o=n.length,a=e.length;for(;o>0&&a>0&&n.charCodeAt(o-1)==e.charCodeAt(a-1);)o--,a--;if(r=="end"){let l=Math.max(0,s-Math.min(o,a));t-=o+l-s}if(o<s&&n.length<e.length){let l=t<=s&&t>=o?s-t:0;s-=l,a=s+(a-o),o=s}else if(a<s){let l=t<=s&&t>=a?s-t:0;s-=l,o=s+(o-a),a=s}return{from:s,toA:o,toB:a}}function zme(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:s}=n.observer.selectionRange;return t&&(e.push(new _M(t,r)),(i!=t||s!=r)&&e.push(new _M(i,s))),e}function qme(n,e){if(n.length==0)return null;let t=n[0].pos,r=n.length==2?n[1].pos:t;return t>-1&&r>-1?te.single(t+e,r+e):null}class Fme{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,be.safari&&e.contentDOM.addEventListener("input",()=>null),be.gecko&&oge(e.contentDOM.ownerDocument)}handleEvent(e){!Kme(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,t){let r=this.handlers[e];if(r){for(let i of r.observers)i(this.view,t);for(let i of r.handlers){if(t.defaultPrevented)break;if(i(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=Zme(e),r=this.handlers,i=this.view.contentDOM;for(let s in t)if(s!="scroll"){let o=!t[s].handlers.length,a=r[s];a&&o!=!a.handlers.length&&(i.removeEventListener(s,this.handleEvent),a=null),a||i.addEventListener(s,this.handleEvent,{passive:o})}for(let s in r)s!="scroll"&&!t[s]&&i.removeEventListener(s,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&nX.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),be.android&&be.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return be.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=tX.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||Bme.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,vd(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:be.safari&&!be.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function TM(n,e){return(t,r)=>{try{return e.call(n,r,t)}catch(i){Rn(t.state,i)}}}function Zme(n){let e=Object.create(null);function t(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of n){let i=r.spec;if(i&&i.domEventHandlers)for(let s in i.domEventHandlers){let o=i.domEventHandlers[s];o&&t(s).handlers.push(TM(r.value,o))}if(i&&i.domEventObservers)for(let s in i.domEventObservers){let o=i.domEventObservers[s];o&&t(s).observers.push(TM(r.value,o))}}for(let r in Ws)t(r).handlers.push(Ws[r]);for(let r in fs)t(r).observers.push(fs[r]);return e}const tX=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Bme="dthko",nX=[16,17,18,20,91,92,224,225],y0=6;function v0(n){return Math.max(0,n)*.7+8}function Wme(n,e){return Math.max(Math.abs(n.clientX-e.clientX),Math.abs(n.clientY-e.clientY))}class Xme{constructor(e,t,r,i){this.view=e,this.startEvent=t,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=rme(e.contentDOM),this.atoms=e.state.facet(LQ).map(o=>o(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(Ve.allowMultipleSelections)&&Gme(e,t),this.dragging=Hme(e,t)&&sX(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&Wme(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,r=0,i=0,s=0,o=this.view.win.innerWidth,a=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:o}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:a}=this.scrollParents.y.getBoundingClientRect());let l=UQ(this.view);e.clientX-l.left<=i+y0?t=-v0(i-e.clientX):e.clientX+l.right>=o-y0&&(t=v0(e.clientX-o)),e.clientY-l.top<=s+y0?r=-v0(s-e.clientY):e.clientY+l.bottom>=a-y0&&(r=v0(e.clientY-a)),this.setScrollSpeed(t,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],s=null;if(i.empty){let o=_v(this.atoms,i.from,0);o!=i.from&&(s=te.cursor(o,-1))}else{let o=_v(this.atoms,i.from,-1),a=_v(this.atoms,i.to,1);(o!=i.from||a!=i.to)&&(s=te.range(i.from==i.anchor?o:a,i.from==i.head?o:a))}s&&(t||(t=e.ranges.slice()),t[r]=s)}return t?te.create(t,e.mainIndex):e}select(e){let{view:t}=this,r=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function Gme(n,e){let t=n.state.facet(MW);return t.length?t[0](e):be.mac?e.metaKey:e.ctrlKey}function Yme(n,e){let t=n.state.facet(VW);return t.length?t[0](e):be.mac?!e.altKey:!e.ctrlKey}function Hme(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let r=zg(n.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let s=0;s<i.length;s++){let o=i[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function Kme(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,r;t!=n.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(r=At.get(t))&&r.ignoreEvent(e))return!1;return!0}const Ws=Object.create(null),fs=Object.create(null),rX=be.ie&&be.ie_version<15||be.ios&&be.webkit_version<604;function Jme(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),iX(n,t.value)},50)}function kS(n,e,t){for(let r of n.facet(e))t=r(t,n);return t}function iX(n,e){e=kS(n.state,DQ,e);let{state:t}=n,r,i=1,s=t.toText(e),o=s.lines==t.selection.ranges.length;if(oC!=null&&t.selection.ranges.every(l=>l.empty)&&oC==s.toString()){let l=-1;r=t.changeByRange(c=>{let u=t.doc.lineAt(c.from);if(u.from==l)return{range:c};l=u.from;let d=t.toText((o?s.line(i++).text:e)+t.lineBreak);return{changes:{from:u.from,insert:d},range:te.cursor(c.from+d.length)}})}else o?r=t.changeByRange(l=>{let c=s.line(i++);return{changes:{from:l.from,to:l.to,insert:c.text},range:te.cursor(l.from+c.length)}}):r=t.replaceSelection(s);n.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}fs.scroll=n=>{n.inputState.lastScrollTop=n.scrollDOM.scrollTop,n.inputState.lastScrollLeft=n.scrollDOM.scrollLeft};Ws.keydown=(n,e)=>(n.inputState.setSelectionOrigin("select"),e.keyCode==27&&n.inputState.tabFocusMode!=0&&(n.inputState.tabFocusMode=Date.now()+2e3),!1);fs.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};fs.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};Ws.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let r of n.state.facet(LW))if(t=r(n,e),t)break;if(!t&&e.button==0&&(t=nge(n,e)),t){let r=!n.hasFocus;n.inputState.startMouseSelection(new Xme(n,e,t,r)),r&&n.observer.ignore(()=>{vW(n.contentDOM);let s=n.root.activeElement;s&&!s.contains(n.contentDOM)&&s.blur()});let i=n.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}return!1};function PM(n,e,t,r){if(r==1)return te.cursor(e,t);if(r==2)return Eme(n.state,e,t);{let i=Cn.find(n.docView,e),s=n.state.doc.lineAt(i?i.posAtEnd:e),o=i?i.posAtStart:s.from,a=i?i.posAtEnd:s.to;return a<n.state.doc.length&&a==s.to&&a++,te.range(o,a)}}let CM=(n,e,t)=>e>=t.top&&e<=t.bottom&&n>=t.left&&n<=t.right;function ege(n,e,t,r){let i=Cn.find(n.docView,e);if(!i)return 1;let s=e-i.posAtStart;if(s==0)return 1;if(s==i.length)return-1;let o=i.coordsAt(s,-1);if(o&&CM(t,r,o))return-1;let a=i.coordsAt(s,1);return a&&CM(t,r,a)?1:o&&o.bottom>=r?-1:1}function EM(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:ege(n,t,e.clientX,e.clientY)}}const tge=be.ie&&be.ie_version<=11;let AM=null,RM=0,QM=0;function sX(n){if(!tge)return n.detail;let e=AM,t=QM;return AM=n,QM=Date.now(),RM=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(RM+1)%3:1}function nge(n,e){let t=EM(n,e),r=sX(e),i=n.state.selection;return{update(s){s.docChanged&&(t.pos=s.changes.mapPos(t.pos),i=i.map(s.changes))},get(s,o,a){let l=EM(n,s),c,u=PM(n,l.pos,l.bias,r);if(t.pos!=l.pos&&!o){let d=PM(n,t.pos,t.bias,r),f=Math.min(d.from,u.from),m=Math.max(d.to,u.to);u=f<u.from?te.range(f,m):te.range(m,f)}return o?i.replaceRange(i.main.extend(u.from,u.to)):a&&r==1&&i.ranges.length>1&&(c=rge(i,l.pos))?c:a?i.addRange(u):te.create([u])}}}function rge(n,e){for(let t=0;t<n.ranges.length;t++){let{from:r,to:i}=n.ranges[t];if(r<=e&&i>=e)return te.create(n.ranges.slice(0,t).concat(n.ranges.slice(t+1)),n.mainIndex==t?0:n.mainIndex-(n.mainIndex>t?1:0))}return null}Ws.dragstart=(n,e)=>{let{selection:{main:t}}=n.state;if(e.target.draggable){let i=n.docView.nearest(e.target);if(i&&i.isWidget){let s=i.posAtStart,o=s+i.length;(s>=t.to||o<=t.from)&&(t=te.range(s,o))}}let{inputState:r}=n;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",kS(n.state,MQ,n.state.sliceDoc(t.from,t.to))),e.dataTransfer.effectAllowed="copyMove"),!1};Ws.dragend=n=>(n.inputState.draggedContent=null,!1);function NM(n,e,t,r){if(t=kS(n.state,DQ,t),!t)return;let i=n.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=n.inputState,o=r&&s&&Yme(n,e)?{from:s.from,to:s.to}:null,a={from:i,insert:t},l=n.state.changes(o?[o,a]:a);n.focus(),n.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:o?"move.drop":"input.drop"}),n.inputState.draggedContent=null}Ws.drop=(n,e)=>{if(!e.dataTransfer)return!1;if(n.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let r=Array(t.length),i=0,s=()=>{++i==t.length&&NM(n,e,r.filter(o=>o!=null).join(n.state.lineBreak),!1)};for(let o=0;o<t.length;o++){let a=new FileReader;a.onerror=s,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(r[o]=a.result),s()},a.readAsText(t[o])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return NM(n,e,r,!0),!0}return!1};Ws.paste=(n,e)=>{if(n.state.readOnly)return!0;n.observer.flush();let t=rX?null:e.clipboardData;return t?(iX(n,t.getData("text/plain")||t.getData("text/uri-list")),!0):(Jme(n),!1)};function ige(n,e){let t=n.dom.parentNode;if(!t)return;let r=t.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),n.focus()},50)}function sge(n){let e=[],t=[],r=!1;for(let i of n.selection.ranges)i.empty||(e.push(n.sliceDoc(i.from,i.to)),t.push(i));if(!e.length){let i=-1;for(let{from:s}of n.selection.ranges){let o=n.doc.lineAt(s);o.number>i&&(e.push(o.text),t.push({from:o.from,to:Math.min(n.doc.length,o.to+1)})),i=o.number}r=!0}return{text:kS(n,MQ,e.join(n.lineBreak)),ranges:t,linewise:r}}let oC=null;Ws.copy=Ws.cut=(n,e)=>{let{text:t,ranges:r,linewise:i}=sge(n.state);if(!t&&!i)return!1;oC=i?t:null,e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let s=rX?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",t),!0):(ige(n,t),!1)};const oX=Hs.define();function aX(n,e){let t=[];for(let r of n.facet(qW)){let i=r(n,e);i&&t.push(i)}return t?n.update({effects:t,annotations:oX.of(!0)}):null}function lX(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let t=aX(n.state,e);t?n.dispatch(t):n.update([])}},10)}fs.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),lX(n)};fs.blur=n=>{n.observer.clearSelectionRange(),lX(n)};fs.compositionstart=fs.compositionupdate=n=>{n.observer.editContext||(n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0))};fs.compositionend=n=>{n.observer.editContext||(n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,be.chrome&&be.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50))};fs.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};Ws.beforeinput=(n,e)=>{var t,r;if(e.inputType=="insertReplacementText"&&n.observer.editContext){let s=(t=e.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain"),o=e.getTargetRanges();if(s&&o.length){let a=o[0],l=n.posAtDOM(a.startContainer,a.startOffset),c=n.posAtDOM(a.endContainer,a.endOffset);return zQ(n,{from:l,to:c,insert:n.state.toText(s)},null),!0}}let i;if(be.chrome&&be.android&&(i=tX.find(s=>s.inputType==e.inputType))&&(n.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let s=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>s+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}return be.ios&&e.inputType=="deleteContentForward"&&n.observer.flushSoon(),be.safari&&e.inputType=="insertText"&&n.inputState.composing>=0&&setTimeout(()=>fs.compositionend(n,e),20),!1};const IM=new Set;function oge(n){IM.has(n)||(IM.add(n),n.addEventListener("copy",()=>{}),n.addEventListener("cut",()=>{}))}const $M=["pre-wrap","normal","pre-line","break-spaces"];let af=!1;function jM(){af=!1}class age{constructor(e){this.lineWrapping=e,this.doc=pt.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let r=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((t-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return $M.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(t=!0,this.heightSamples[Math.floor(i*10)]=!0)}return t}refresh(e,t,r,i,s,o){let a=$M.indexOf(e)>-1,l=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=t,this.charWidth=r,this.textHeight=i,this.lineLength=s,l){this.heightSamples={};for(let c=0;c<o.length;c++){let u=o[c];u<0?c++:this.heightSamples[Math.floor(u*10)]=!0}}return l}}class lge{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class go{constructor(e,t,r,i,s){this.from=e,this.length=t,this.top=r,this.height=i,this._content=s}get type(){return typeof this._content=="number"?Xr.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof _c?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new go(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var Zt=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(Zt||(Zt={}));const Tv=.001;class Gr{constructor(e,t,r=2){this.length=e,this.height=t,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Tv&&(af=!0),this.height=e)}replace(e,t,r){return Gr.of(r)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,r,i){let s=this,o=r.doc;for(let a=i.length-1;a>=0;a--){let{fromA:l,toA:c,fromB:u,toB:d}=i[a],f=s.lineAt(l,Zt.ByPosNoHeight,r.setDoc(t),0,0),m=f.to>=c?f:s.lineAt(c,Zt.ByPosNoHeight,r,0,0);for(d+=m.to-c,c=m.to;a>0&&f.from<=i[a-1].toA;)l=i[a-1].fromA,u=i[a-1].fromB,a--,l<f.from&&(f=s.lineAt(l,Zt.ByPosNoHeight,r,0,0));u+=f.from-l,l=f.from;let g=qQ.build(r.setDoc(o),e,u,d);s=Ow(s,s.replace(l,c,g))}return s.updateHeight(r,0)}static empty(){return new Ai(0,0)}static of(e){if(e.length==1)return e[0];let t=0,r=e.length,i=0,s=0;for(;;)if(t==r)if(i>s*2){let a=e[t-1];a.break?e.splice(--t,1,a.left,null,a.right):e.splice(--t,1,a.left,a.right),r+=1+a.break,i-=a.size}else if(s>i*2){let a=e[r];a.break?e.splice(r,1,a.left,null,a.right):e.splice(r,1,a.left,a.right),r+=2+a.break,s-=a.size}else break;else if(i<s){let a=e[t++];a&&(i+=a.size)}else{let a=e[--r];a&&(s+=a.size)}let o=0;return e[t-1]==null?(o=1,t--):e[t]==null&&(o=1,r++),new cge(Gr.of(e.slice(0,t)),o,Gr.of(e.slice(r)))}}function Ow(n,e){return n==e?n:(n.constructor!=e.constructor&&(af=!0),e)}Gr.prototype.size=1;class cX extends Gr{constructor(e,t,r){super(e,t),this.deco=r}blockAt(e,t,r,i){return new go(i,this.length,r,this.height,this.deco||0)}lineAt(e,t,r,i,s){return this.blockAt(0,r,i,s)}forEachLine(e,t,r,i,s,o){e<=s+this.length&&t>=s&&o(this.blockAt(0,r,i,s))}updateHeight(e,t=0,r=!1,i){return i&&i.from<=t&&i.more&&this.setHeight(i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Ai extends cX{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,r,i){return new go(i,this.length,r,this.height,this.breaks)}replace(e,t,r){let i=r[0];return r.length==1&&(i instanceof Ai||i instanceof or&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof or?i=new Ai(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):Gr.of(r)}updateHeight(e,t=0,r=!1,i){return i&&i.from<=t&&i.more?this.setHeight(i.heights[i.index++]):(r||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class or extends Gr{constructor(e){super(e,0)}heightMetrics(e,t){let r=e.doc.lineAt(t).number,i=e.doc.lineAt(t+this.length).number,s=i-r+1,o,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*s);o=l/s,this.length>s+1&&(a=(this.height-l)/(this.length-s-1))}else o=this.height/s;return{firstLine:r,lastLine:i,perLine:o,perChar:a}}blockAt(e,t,r,i){let{firstLine:s,lastLine:o,perLine:a,perChar:l}=this.heightMetrics(t,i);if(t.lineWrapping){let c=i+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),u=t.doc.lineAt(c),d=a+u.length*l,f=Math.max(r,e-d/2);return new go(u.from,u.length,f,d,0)}else{let c=Math.max(0,Math.min(o-s,Math.floor((e-r)/a))),{from:u,length:d}=t.doc.line(s+c);return new go(u,d,r+a*c,a,0)}}lineAt(e,t,r,i,s){if(t==Zt.ByHeight)return this.blockAt(e,r,i,s);if(t==Zt.ByPosNoHeight){let{from:m,to:g}=r.doc.lineAt(e);return new go(m,g-m,0,0,0)}let{firstLine:o,perLine:a,perChar:l}=this.heightMetrics(r,s),c=r.doc.lineAt(e),u=a+c.length*l,d=c.number-o,f=i+a*d+l*(c.from-s-d);return new go(c.from,c.length,Math.max(i,Math.min(f,i+this.height-u)),u,0)}forEachLine(e,t,r,i,s,o){e=Math.max(e,s),t=Math.min(t,s+this.length);let{firstLine:a,perLine:l,perChar:c}=this.heightMetrics(r,s);for(let u=e,d=i;u<=t;){let f=r.doc.lineAt(u);if(u==e){let g=f.number-a;d+=l*g+c*(e-s-g)}let m=l+c*f.length;o(new go(f.from,f.length,d,m,0)),d+=m,u=f.to+1}}replace(e,t,r){let i=this.length-t;if(i>0){let s=r[r.length-1];s instanceof or?r[r.length-1]=new or(s.length+i):r.push(null,new or(i-1))}if(e>0){let s=r[0];s instanceof or?r[0]=new or(e+s.length):r.unshift(new or(e-1),null)}return Gr.of(r)}decomposeLeft(e,t){t.push(new or(e-1),null)}decomposeRight(e,t){t.push(null,new or(this.length-e-1))}updateHeight(e,t=0,r=!1,i){let s=t+this.length;if(i&&i.from<=t+this.length&&i.more){let o=[],a=Math.max(t,i.from),l=-1;for(i.from>t&&o.push(new or(i.from-t-1).updateHeight(e,t));a<=s&&i.more;){let u=e.doc.lineAt(a).length;o.length&&o.push(null);let d=i.heights[i.index++];l==-1?l=d:Math.abs(d-l)>=Tv&&(l=-2);let f=new Ai(u,d);f.outdated=!1,o.push(f),a+=u+1}a<=s&&o.push(null,new or(s-a).updateHeight(e,a));let c=Gr.of(o);return(l<0||Math.abs(c.height-this.height)>=Tv||Math.abs(l-this.heightMetrics(e,t).perLine)>=Tv)&&(af=!0),Ow(this,c)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class cge extends Gr{constructor(e,t,r){super(e.length+t+r.length,e.height+r.height,t|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,t,r,i){let s=r+this.left.height;return e<s?this.left.blockAt(e,t,r,i):this.right.blockAt(e,t,s,i+this.left.length+this.break)}lineAt(e,t,r,i,s){let o=i+this.left.height,a=s+this.left.length+this.break,l=t==Zt.ByHeight?e<o:e<a,c=l?this.left.lineAt(e,t,r,i,s):this.right.lineAt(e,t,r,o,a);if(this.break||(l?c.to<a:c.from>a))return c;let u=t==Zt.ByPosNoHeight?Zt.ByPosNoHeight:Zt.ByPos;return l?c.join(this.right.lineAt(a,u,r,o,a)):this.left.lineAt(a,u,r,i,s).join(c)}forEachLine(e,t,r,i,s,o){let a=i+this.left.height,l=s+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,t,r,i,s,o),t>=l&&this.right.forEachLine(e,t,r,a,l,o);else{let c=this.lineAt(l,Zt.ByPos,r,i,s);e<c.from&&this.left.forEachLine(e,c.from-1,r,i,s,o),c.to>=e&&c.from<=t&&o(c),t>c.to&&this.right.forEachLine(c.to+1,t,r,a,l,o)}}replace(e,t,r){let i=this.left.length+this.break;if(t<i)return this.balanced(this.left.replace(e,t,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,t-i,r));let s=[];e>0&&this.decomposeLeft(e,s);let o=s.length;for(let a of r)s.push(a);if(e>0&&DM(s,o-1),t<this.length){let a=s.length;this.decomposeRight(t,s),DM(s,a)}return Gr.of(s)}decomposeLeft(e,t){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(r++,e>=r&&t.push(null)),e>r&&this.right.decomposeLeft(e-r,t)}decomposeRight(e,t){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,t);e<r&&this.left.decomposeRight(e,t),this.break&&e<i&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?Gr.of(this.break?[e,null,t]:[e,t]):(this.left=Ow(this.left,e),this.right=Ow(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,r=!1,i){let{left:s,right:o}=this,a=t+s.length+this.break,l=null;return i&&i.from<=t+s.length&&i.more?l=s=s.updateHeight(e,t,r,i):s.updateHeight(e,t,r),i&&i.from<=a+o.length&&i.more?l=o=o.updateHeight(e,a,r,i):o.updateHeight(e,a,r),l?this.balanced(s,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function DM(n,e){let t,r;n[e]==null&&(t=n[e-1])instanceof or&&(r=n[e+1])instanceof or&&n.splice(e-1,3,new or(t.length+1+r.length))}const uge=5;class qQ{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let r=Math.min(t,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof Ai?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new Ai(r-this.pos,-1)),this.writtenTo=r,t>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,r){if(e<t||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,s=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let o=t-e;r.block?this.addBlock(new cX(o,i,r)):(o||s||i>=uge)&&this.addLineDeco(i,s,o)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Ai(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let r=new or(t-e);return this.oracle.doc.lineAt(e).to==t&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Ai)return e;let t=new Ai(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=t,this.writtenTo=this.pos=this.pos+r}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof Ai)&&!this.isCovered?this.nodes.push(new Ai(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof Ai&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,t,r,i){let s=new qQ(r,e);return yt.spans(t,r,i,s,0),s.finish(r)}}function hge(n,e,t){let r=new dge;return yt.compare(n,e,t,r,0),r.changes}class dge{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,r,i){(e<t||r&&r.heightRelevant||i&&i.heightRelevant)&&kv(e,t,this.changes,5)}}function fge(n,e){let t=n.getBoundingClientRect(),r=n.ownerDocument,i=r.defaultView||window,s=Math.max(0,t.left),o=Math.min(i.innerWidth,t.right),a=Math.max(0,t.top),l=Math.min(i.innerHeight,t.bottom);for(let c=n.parentNode;c&&c!=r.body;)if(c.nodeType==1){let u=c,d=window.getComputedStyle(u);if((u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth)&&d.overflow!="visible"){let f=u.getBoundingClientRect();s=Math.max(s,f.left),o=Math.min(o,f.right),a=Math.max(a,f.top),l=Math.min(c==n.parentNode?i.innerHeight:l,f.bottom)}c=d.position=="absolute"||d.position=="fixed"?u.offsetParent:u.parentNode}else if(c.nodeType==11)c=c.host;else break;return{left:s-t.left,right:Math.max(s,o)-t.left,top:a-(t.top+e),bottom:Math.max(a,l)-(t.top+e)}}function pge(n){let e=n.getBoundingClientRect(),t=n.ownerDocument.defaultView||window;return e.left<t.innerWidth&&e.right>0&&e.top<t.innerHeight&&e.bottom>0}function mge(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class Tk{constructor(e,t,r,i){this.from=e,this.to=t,this.size=r,this.displaySize=i}static same(e,t){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=t[r];if(i.from!=s.from||i.to!=s.to||i.size!=s.size)return!1}return!0}draw(e,t){return ye.replace({widget:new gge(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class gge extends na{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class MM{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=VM,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=it.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(VQ).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new age(t),this.stateDeco=e.facet(Fg).filter(r=>typeof r!="function"),this.heightMap=Gr.empty().applyChanges(this.stateDeco,pt.empty,this.heightOracle.setDoc(e.doc),[new as(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=ye.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let r=0;r<=1;r++){let i=r?t.head:t.anchor;if(!e.some(({from:s,to:o})=>i>=s&&i<=o)){let{from:s,to:o}=this.lineBlockAt(i);e.push(new x0(s,o))}}return this.viewports=e.sort((r,i)=>r.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?VM:new FQ(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(lm(e,this.scaler))})}update(e,t=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(Fg).filter(u=>typeof u!="function");let i=e.changedRanges,s=as.extendWithRanges(i,hge(r,this.stateDeco,e?e.changes:Mn.empty(this.state.doc.length))),o=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);jM(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=o||af)&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<l.from||t.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,t));let c=l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,e.flags|=this.updateForViewport(),(c||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(ZW)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,r=window.getComputedStyle(t),i=this.heightOracle,s=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?it.RTL:it.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),a=t.getBoundingClientRect(),l=o||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let c=0,u=0;if(a.width&&a.height){let{scaleX:Q,scaleY:C}=yW(t,a);(Q>.005&&Math.abs(this.scaleX-Q)>.005||C>.005&&Math.abs(this.scaleY-C)>.005)&&(this.scaleX=Q,this.scaleY=C,c|=16,o=l=!0)}let d=(parseInt(r.paddingTop)||0)*this.scaleY,f=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=d||this.paddingBottom!=f)&&(this.paddingTop=d,this.paddingBottom=f,c|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,c|=16);let m=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=m&&(this.scrollAnchorHeight=-1,this.scrollTop=m),this.scrolledToBottom=wW(e.scrollDOM);let g=(this.printing?mge:fge)(t,this.paddingTop),y=g.top-this.pixelViewport.top,x=g.bottom-this.pixelViewport.bottom;this.pixelViewport=g;let w=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(w!=this.inView&&(this.inView=w,w&&(l=!0)),!this.inView&&!this.scrollTarget&&!pge(e.dom))return 0;let k=a.width;if((this.contentDOMWidth!=k||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,c|=16),l){let Q=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(Q)&&(o=!0),o||i.lineWrapping&&Math.abs(k-this.contentDOMWidth)>i.charWidth){let{lineHeight:C,charWidth:N,textHeight:O}=e.docView.measureTextSize();o=C>0&&i.refresh(s,C,N,O,k/N,Q),o&&(e.docView.minWidth=0,c|=16)}y>0&&x>0?u=Math.max(y,x):y<0&&x<0&&(u=Math.min(y,x)),jM();for(let C of this.viewports){let N=C.from==this.viewport.from?Q:e.docView.measureVisibleLineHeights(C);this.heightMap=(o?Gr.empty().applyChanges(this.stateDeco,pt.empty,this.heightOracle,[new as(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,o,new lge(C.from,N))}af&&(c|=2)}let P=!this.viewportIsAppropriate(this.viewport,u)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return P&&(c&2&&(c|=this.updateScaler()),this.viewport=this.getViewport(u,this.scrollTarget),c|=this.updateForViewport()),(c&2||P)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,s=this.heightOracle,{visibleTop:o,visibleBottom:a}=this,l=new x0(i.lineAt(o-r*1e3,Zt.ByHeight,s,0,0).from,i.lineAt(a+(1-r)*1e3,Zt.ByHeight,s,0,0).to);if(t){let{head:c}=t.range;if(c<l.from||c>l.to){let u=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),d=i.lineAt(c,Zt.ByPos,s,0,0),f;t.y=="center"?f=(d.top+d.bottom)/2-u/2:t.y=="start"||t.y=="nearest"&&c<l.from?f=d.top:f=d.bottom-u,l=new x0(i.lineAt(f-1e3/2,Zt.ByHeight,s,0,0).from,i.lineAt(f+u+1e3/2,Zt.ByHeight,s,0,0).to)}}return l}mapViewport(e,t){let r=t.mapPos(e.from,-1),i=t.mapPos(e.to,1);return new x0(this.heightMap.lineAt(r,Zt.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,Zt.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,Zt.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(t,Zt.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:a}=this;return(e==0||i<=o-Math.max(10,Math.min(-r,250)))&&(t==this.state.doc.length||s>=a+Math.max(10,Math.min(r,250)))&&i>o-2*1e3&&s<a+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let r=[];for(let i of e)t.touchesRange(i.from,i.to)||r.push(new Tk(t.mapPos(i.from),t.mapPos(i.to),i.size,i.displaySize));return r}ensureLineGaps(e,t){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,s=i>>1,o=i<<1;if(this.defaultTextDirection!=it.LTR&&!r)return[];let a=[],l=(u,d,f,m)=>{if(d-u<s)return;let g=this.state.selection.main,y=[g.from];g.empty||y.push(g.to);for(let w of y)if(w>u&&w<d){l(u,w-10,f,m),l(w+10,d,f,m);return}let x=yge(e,w=>w.from>=f.from&&w.to<=f.to&&Math.abs(w.from-u)<s&&Math.abs(w.to-d)<s&&!y.some(k=>w.from<k&&w.to>k));if(!x){if(d<f.to&&t&&r&&t.visibleRanges.some(P=>P.from<=d&&P.to>=d)){let P=t.moveToLineBoundary(te.cursor(d),!1,!0).head;P>u&&(d=P)}let w=this.gapSize(f,u,d,m),k=r||w<2e6?w:2e6;x=new Tk(u,d,w,k)}a.push(x)},c=u=>{if(u.length<o||u.type!=Xr.Text)return;let d=Oge(u.from,u.to,this.stateDeco);if(d.total<o)return;let f=this.scrollTarget?this.scrollTarget.range.head:null,m,g;if(r){let y=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,x,w;if(f!=null){let k=b0(d,f),P=((this.visibleBottom-this.visibleTop)/2+y)/u.height;x=k-P,w=k+P}else x=(this.visibleTop-u.top-y)/u.height,w=(this.visibleBottom-u.top+y)/u.height;m=w0(d,x),g=w0(d,w)}else{let y=d.total*this.heightOracle.charWidth,x=i*this.heightOracle.charWidth,w=0;if(y>2e6)for(let N of e)N.from>=u.from&&N.from<u.to&&N.size!=N.displaySize&&N.from*this.heightOracle.charWidth+w<this.pixelViewport.left&&(w=N.size-N.displaySize);let k=this.pixelViewport.left+w,P=this.pixelViewport.right+w,Q,C;if(f!=null){let N=b0(d,f),O=((P-k)/2+x)/y;Q=N-O,C=N+O}else Q=(k-x)/y,C=(P+x)/y;m=w0(d,Q),g=w0(d,C)}m>u.from&&l(u.from,m,u,d),g<u.to&&l(g,u.to,u,d)};for(let u of this.viewportLines)Array.isArray(u.type)?u.type.forEach(c):c(u);return a}gapSize(e,t,r,i){let s=b0(i,r)-b0(i,t);return this.heightOracle.lineWrapping?e.height*s:i.total*this.heightOracle.charWidth*s}updateLineGaps(e){Tk.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=ye.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let r=[];yt.spans(t,this.viewport.from,this.viewport.to,{span(s,o){r.push({from:s,to:o})},point(){}},20);let i=0;if(r.length!=this.visibleRanges.length)i=12;else for(let s=0;s<r.length&&!(i&8);s++){let o=this.visibleRanges[s],a=r[s];(o.from!=a.from||o.to!=a.to)&&(i|=4,e&&e.mapPos(o.from,-1)==a.from&&e.mapPos(o.to,1)==a.to||(i|=8))}return this.visibleRanges=r,i}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||lm(this.heightMap.lineAt(e,Zt.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||lm(this.heightMap.lineAt(this.scaler.fromDOM(e),Zt.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return lm(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}let x0=class{constructor(e,t){this.from=e,this.to=t}};function Oge(n,e,t){let r=[],i=n,s=0;return yt.spans(t,n,e,{span(){},point(o,a){o>i&&(r.push({from:i,to:o}),s+=o-i),i=a}},20),i<e&&(r.push({from:i,to:e}),s+=e-i),{total:s,ranges:r}}function w0({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let r=Math.floor(n*t);for(let i=0;;i++){let{from:s,to:o}=e[i],a=o-s;if(r<=a)return s+r;r-=a}}function b0(n,e){let t=0;for(let{from:r,to:i}of n.ranges){if(e<=i){t+=e-r;break}t+=i-r}return t/n.total}function yge(n,e){for(let t of n)if(e(t))return t}const VM={toDOM(n){return n},fromDOM(n){return n},scale:1,eq(n){return n==this}};class FQ{constructor(e,t,r){let i=0,s=0,o=0;this.viewports=r.map(({from:a,to:l})=>{let c=t.lineAt(a,Zt.ByPos,e,0,0).top,u=t.lineAt(l,Zt.ByPos,e,0,0).bottom;return i+=u-c,{from:a,to:l,top:c,bottom:u,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(t.height-i);for(let a of this.viewports)a.domTop=o+(a.top-s)*this.scale,o=a.domBottom=a.domTop+(a.bottom-a.top),s=a.bottom}toDOM(e){for(let t=0,r=0,i=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.top)return i+(e-r)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);r=s.bottom,i=s.domBottom}}fromDOM(e){for(let t=0,r=0,i=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.domTop)return r+(e-i)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);r=s.bottom,i=s.domBottom}}eq(e){return e instanceof FQ?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,r)=>t.from==e.viewports[r].from&&t.to==e.viewports[r].to):!1}}function lm(n,e){if(e.scale==1)return n;let t=e.toDOM(n.top),r=e.toDOM(n.bottom);return new go(n.from,n.length,t,r-t,Array.isArray(n._content)?n._content.map(i=>lm(i,e)):n._content)}const S0=de.define({combine:n=>n.join(" ")}),aC=de.define({combine:n=>n.indexOf(!0)>-1}),lC=Nn.newName(),uX=Nn.newName(),hX=Nn.newName(),dX={"&light":"."+uX,"&dark":"."+hX};function cC(n,e,t){return new Nn(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return n;if(!t||!t[i])throw new RangeError(`Unsupported selector: ${i}`);return t[i]}):n+" "+r}})}const vge=cC("."+lC,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},dX),xge={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Pk=be.ie&&be.ie_version<=11;class wge{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new ime,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let r of t)this.queue.push(r);(be.ie&&be.ie_version<=11||be.ios&&e.composing)&&t.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&e.constructor.EDIT_CONTEXT!==!1&&!(be.chrome&&be.chrome_version<126)&&(this.editContext=new Sge(e),e.state.facet(_a)&&(e.contentDOM.editContext=this.editContext.editContext)),Pk&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,r)=>t!=e[r]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(_a)?r.root.activeElement!=this.dom:!Sv(this.dom,i))return;let s=i.anchorNode&&r.docView.nearest(i.anchorNode);if(s&&s.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(be.ie&&be.ie_version<=11||be.android&&be.chrome)&&!r.state.selection.main.empty&&i.focusNode&&qm(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=zg(e.root);if(!t)return!1;let r=be.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&bge(this.view,t)||t;if(!r||this.selectionRange.eq(r))return!1;let i=Sv(this.dom,r);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&ome(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let r=this.dom;r;)if(r.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=t)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,xge),Pk&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Pk&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var r;if(!this.delayedAndroidKey){let i=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&vd(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,r=-1,i=!1;for(let s of e){let o=this.readMutation(s);o&&(o.typeOver&&(i=!0),t==-1?{from:t,to:r}=o:(t=Math.min(o.from,t),r=Math.max(o.to,r)))}return{from:t,to:r,typeOver:i}}readChange(){let{from:e,to:t,typeOver:r}=this.processRecords(),i=this.selectionChanged&&Sv(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new Vme(this.view,e,t,r);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let r=this.view.state,i=eX(this.view,t);return this.view.state==r&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.flags|=4),e.type=="childList"){let r=LM(t,e.previousSibling||e.target.previousSibling,-1),i=LM(t,e.nextSibling||e.target.nextSibling,1);return{from:r?t.posAfter(r):t.posAtStart,to:i?t.posBefore(i):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(_a)!=e.state.facet(_a)&&(e.view.contentDOM.editContext=e.state.facet(_a)?this.editContext.editContext:null))}destroy(){var e,t,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function LM(n,e,t){for(;e;){let r=At.get(e);if(r&&r.parent==n)return r;let i=e.parentNode;e=i!=n.dom?i:t>0?e.nextSibling:e.previousSibling}return null}function UM(n,e){let t=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=n.docView.domAtPos(n.state.selection.main.anchor);return qm(o.node,o.offset,i,s)&&([t,r,i,s]=[i,s,t,r]),{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:s}}function bge(n,e){if(e.getComposedRanges){let i=e.getComposedRanges(n.root)[0];if(i)return UM(n,i)}let t=null;function r(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return n.contentDOM.addEventListener("beforeinput",r,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",r,!0),t?UM(n,t):null}class Sge{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let i=e.state.selection.main,{anchor:s,head:o}=i,a=this.toEditorPos(r.updateRangeStart),l=this.toEditorPos(r.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:r.updateRangeStart,editorBase:a,drifted:!1});let c={from:a,to:l,insert:pt.of(r.text.split(`
`))};if(c.from==this.from&&s<this.from?c.from=s:c.to==this.to&&s>this.to&&(c.to=s),c.from==c.to&&!c.insert.length){let u=te.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd));u.main.eq(i)||e.dispatch({selection:u,userEvent:"select"});return}if((be.mac||be.android)&&c.from==o-1&&/^\. ?$/.test(r.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(c={from:a,to:l,insert:pt.of([r.text.replace("."," ")])}),this.pendingContextChange=c,!e.state.readOnly){let u=this.to-this.from+(c.to-c.from+c.insert.length);zQ(e,c,te.single(this.toEditorPos(r.selectionStart,u),this.toEditorPos(r.selectionEnd,u)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state))},this.handlers.characterboundsupdate=r=>{let i=[],s=null;for(let o=this.toEditorPos(r.rangeStart),a=this.toEditorPos(r.rangeEnd);o<a;o++){let l=e.coordsForChar(o);s=l&&new DOMRect(l.left,l.top,l.right-l.left,l.bottom-l.top)||s||new DOMRect,i.push(s)}t.updateCharacterBounds(r.rangeStart,i)},this.handlers.textformatupdate=r=>{let i=[];for(let s of r.getTextFormats()){let o=s.underlineStyle,a=s.underlineThickness;if(o!="None"&&a!="None"){let l=this.toEditorPos(s.rangeStart),c=this.toEditorPos(s.rangeEnd);if(l<c){let u=`text-decoration: underline ${o=="Dashed"?"dashed ":o=="Squiggle"?"wavy ":""}${a=="Thin"?1:2}px`;i.push(ye.mark({attributes:{style:u}}).range(l,c))}}}e.dispatch({effects:WW.of(ye.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:r}=this.composing;this.composing=null,r&&this.reset(e.state)}};for(let r in this.handlers)t.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let i=zg(r.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,r=!1,i=this.pendingContextChange;return e.changes.iterChanges((s,o,a,l,c)=>{if(r)return;let u=c.length-(o-s);if(i&&o>=i.to)if(i.from==s&&i.to==o&&i.insert.eq(c)){i=this.pendingContextChange=null,t+=u,this.to+=u;return}else i=null,this.revertPending(e.state);if(s+=t,o+=t,o<=this.from)this.from+=u,this.to+=u;else if(s<this.to){if(s<this.from||o>this.to||this.to-this.from+c.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(s),this.toContextPos(o),c.toString()),this.to+=u}t+=u}),i&&!r&&this.revertPending(e.state),!r}update(e){let t=this.pendingContextChange,r=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(r.from,r.to)&&e.transactions.some(i=>!i.isUserEvent("input.type")&&i.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),i=this.toContextPos(t.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(r,i)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>1e4*3)}toEditorPos(e,t=this.to-this.from){e=Math.min(e,t);let r=this.composing;return r&&r.drifted?r.editorBase+(e-r.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class fe{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(i=>i.forEach(s=>r(s,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||sme(e.parent)||document,this.viewState=new MM(e.state||Ve.create(e)),e.scrollTo&&e.scrollTo.is(O0)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(sm).map(i=>new Sk(i));for(let i of this.plugins)i.update(this);this.observer=new wge(this),this.inputState=new Fme(this),this.inputState.ensureHandlers(this.plugins),this.docView=new vM(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((t=document.fonts)===null||t===void 0)&&t.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let t=e.length==1&&e[0]instanceof bn?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,r=!1,i,s=this.state;for(let f of e){if(f.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=f.state}if(this.destroyed){this.viewState.state=s;return}let o=this.hasFocus,a=0,l=null;e.some(f=>f.annotation(oX))?(this.inputState.notifiedFocused=o,a=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,l=aX(s,o),l||(a=1));let c=this.observer.delayedAndroidKey,u=null;if(c?(this.observer.clearDelayedAndroidKey(),u=this.observer.readChange(),(u&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(u=null)):this.observer.clear(),s.facet(Ve.phrases)!=this.state.facet(Ve.phrases))return this.setState(s);i=gw.create(this,s,e),i.flags|=a;let d=this.viewState.scrollTarget;try{this.updateState=2;for(let f of e){if(d&&(d=d.map(f.changes)),f.scrollIntoView){let{main:m}=f.state.selection;d=new xd(m.empty?m:te.cursor(m.head,m.head>m.anchor?-1:1))}for(let m of f.effects)m.is(O0)&&(d=m.value.clip(this.state))}this.viewState.update(i,d),this.bidiCache=yw.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),t=this.docView.update(i),this.state.facet(om)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(f=>f.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(S0)!=i.state.facet(S0)&&(this.viewState.mustMeasureContent=!0),(t||r||d||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!i.empty)for(let f of this.state.facet(rC))try{f(i)}catch(m){Rn(this.state,m,"update listener")}(l||u)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),u&&!eX(this,u)&&c.force&&vd(this.contentDOM,c.key,c.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new MM(e),this.plugins=e.facet(sm).map(r=>new Sk(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new vM(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(sm),r=e.state.facet(sm);if(t!=r){let i=[];for(let s of r){let o=t.indexOf(s);if(o<0)i.push(new Sk(s));else{let a=this.plugins[o];a.mustUpdate=e,i.push(a)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);t!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(r){Rn(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:o}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let a=0;;a++){if(o<0)if(wW(r))s=-1,o=this.viewState.heightMap.height;else{let m=this.viewState.scrollAnchorAt(i);s=m.from,o=m.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let c=[];l&4||([this.measureRequests,c]=[c,this.measureRequests]);let u=c.map(m=>{try{return m.read(this)}catch(g){return Rn(this.state,g),zM}}),d=gw.create(this,this.state,[]),f=!1;d.flags|=l,t?t.flags|=l:t=d,this.updateState=2,d.empty||(this.updatePlugins(d),this.inputState.update(d),this.updateAttrs(),f=this.docView.update(d),f&&this.docViewUpdate());for(let m=0;m<c.length;m++)if(u[m]!=zM)try{let g=c[m];g.write&&g.write(u[m],this)}catch(g){Rn(this.state,g)}if(f&&this.docView.updateSelection(!0),!d.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,o=-1;continue}else{let g=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-o;if(g>1||g<-1){i=i+g,r.scrollTop=i/this.scaleY,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let a of this.state.facet(rC))a(t)}get themeClasses(){return lC+" "+(this.state.facet(aC)?hX:uX)+" "+this.state.facet(S0)}updateAttrs(){let e=qM(this,XW,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(_a)?"true":"false",class:"cm-content",style:`${be.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),qM(this,VQ,t);let r=this.observer.ignore(()=>{let i=KP(this.contentDOM,this.contentAttrs,t),s=KP(this.dom,this.editorAttrs,e);return i||s});return this.editorAttrs=e,this.contentAttrs=t,r}showAnnouncements(e){let t=!0;for(let r of e)for(let i of r.effects)if(i.is(fe.announce)){t&&(this.announceDOM.textContent=""),t=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(om);let e=this.state.facet(fe.cspNonce);Nn.mount(this.root,this.styleModules.concat(vge).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(r=>r.spec==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,r){return _k(this,e,kM(this,e,t,r))}moveByGroup(e,t){return _k(this,e,kM(this,e,t,r=>$me(this,e.head,r)))}visualLineSide(e,t){let r=this.bidiSpans(e),i=this.textDirectionAt(e.from),s=r[t?r.length-1:0];return te.cursor(s.side(t,i)+e.from,s.forward(!t,i)?1:-1)}moveToLineBoundary(e,t,r=!0){return Ime(this,e,t,r)}moveVertically(e,t,r){return _k(this,e,jme(this,e,t,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),JW(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let r=this.docView.coordsAt(e,t);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),s=this.bidiSpans(i),o=s[Wl.find(s,e-i.from,-1,t)];return bS(r,o.dir==it.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(FW)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>kge)return jW(e.length);let t=this.textDirectionAt(e.from),r;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==t&&(s.fresh||$W(s.isolates,r=yM(this,e))))return s.order;r||(r=yM(this,e));let i=yme(e.text,t,r);return this.bidiCache.push(new yw(e.from,e.to,t,r,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||be.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{vW(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return O0.of(new xd(typeof e=="number"?te.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return O0.of(new xd(te.cursor(r.from),"start","start",r.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return Vt.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Vt.define(()=>({}),{eventObservers:e})}static theme(e,t){let r=Nn.newName(),i=[S0.of(r),om.of(cC(`.${r}`,e))];return t&&t.dark&&i.push(aC.of(!0)),i}static baseTheme(e){return ll.lowest(om.of(cC("."+lC,e,dX)))}static findFromDOM(e){var t;let r=e.querySelector(".cm-content"),i=r&&At.get(r)||At.get(e);return((t=i==null?void 0:i.rootView)===null||t===void 0?void 0:t.view)||null}}fe.styleModule=om;fe.inputHandler=zW;fe.clipboardInputFilter=DQ;fe.clipboardOutputFilter=MQ;fe.scrollHandler=BW;fe.focusChangeEffect=qW;fe.perLineTextDirection=FW;fe.exceptionSink=UW;fe.updateListener=rC;fe.editable=_a;fe.mouseSelectionStyle=LW;fe.dragMovesSelection=VW;fe.clickAddsSelectionRange=MW;fe.decorations=Fg;fe.outerDecorations=GW;fe.atomicRanges=LQ;fe.bidiIsolatedRanges=YW;fe.scrollMargins=HW;fe.darkTheme=aC;fe.cspNonce=de.define({combine:n=>n.length?n[0]:""});fe.contentAttributes=VQ;fe.editorAttributes=XW;fe.lineWrapping=fe.contentAttributes.of({class:"cm-lineWrapping"});fe.announce=Me.define();const kge=4096,zM={};class yw{constructor(e,t,r,i,s,o){this.from=e,this.to=t,this.dir=r,this.isolates=i,this.fresh=s,this.order=o}static update(e,t){if(t.empty&&!e.some(s=>s.fresh))return e;let r=[],i=e.length?e[e.length-1].dir:it.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let o=e[s];o.dir==i&&!t.touchesRange(o.from,o.to)&&r.push(new yw(t.mapPos(o.from,1),t.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return r}}function qM(n,e,t){for(let r=n.state.facet(e),i=r.length-1;i>=0;i--){let s=r[i],o=typeof s=="function"?s(n):s;o&&HP(o,t)}return t}const _ge=be.mac?"mac":be.windows?"win":be.linux?"linux":"key";function Tge(n,e){const t=n.split(/-(?!$)/);let r=t[t.length-1];r=="Space"&&(r=" ");let i,s,o,a;for(let l=0;l<t.length-1;++l){const c=t[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))i=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))o=!0;else if(/^mod$/i.test(c))e=="mac"?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+c)}return i&&(r="Alt-"+r),s&&(r="Ctrl-"+r),a&&(r="Meta-"+r),o&&(r="Shift-"+r),r}function k0(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t!==!1&&e.shiftKey&&(n="Shift-"+n),n}const Pge=ll.default(fe.domEventHandlers({keydown(n,e){return pX(fX(e.state),n,e,"editor")}})),sy=de.define({enables:Pge}),FM=new WeakMap;function fX(n){let e=n.facet(sy),t=FM.get(e);return t||FM.set(e,t=Age(e.reduce((r,i)=>r.concat(i),[]))),t}function Cge(n,e,t){return pX(fX(n.state),e,n,t)}let Ql=null;const Ege=4e3;function Age(n,e=_ge){let t=Object.create(null),r=Object.create(null),i=(o,a)=>{let l=r[o];if(l==null)r[o]=a;else if(l!=a)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},s=(o,a,l,c,u)=>{var d,f;let m=t[o]||(t[o]=Object.create(null)),g=a.split(/ (?!$)/).map(w=>Tge(w,e));for(let w=1;w<g.length;w++){let k=g.slice(0,w).join(" ");i(k,!0),m[k]||(m[k]={preventDefault:!0,stopPropagation:!1,run:[P=>{let Q=Ql={view:P,prefix:k,scope:o};return setTimeout(()=>{Ql==Q&&(Ql=null)},Ege),!0}]})}let y=g.join(" ");i(y,!1);let x=m[y]||(m[y]={preventDefault:!1,stopPropagation:!1,run:((f=(d=m._any)===null||d===void 0?void 0:d.run)===null||f===void 0?void 0:f.slice())||[]});l&&x.run.push(l),c&&(x.preventDefault=!0),u&&(x.stopPropagation=!0)};for(let o of n){let a=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let c of a){let u=t[c]||(t[c]=Object.create(null));u._any||(u._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:d}=o;for(let f in u)u[f].run.push(m=>d(m,uC))}let l=o[e]||o.key;if(l)for(let c of a)s(c,l,o.run,o.preventDefault,o.stopPropagation),o.shift&&s(c,"Shift-"+l,o.shift,o.preventDefault,o.stopPropagation)}return t}let uC=null;function pX(n,e,t,r){uC=e;let i=eme(e),s=ui(i,0),o=mo(s)==i.length&&i!=" ",a="",l=!1,c=!1,u=!1;Ql&&Ql.view==t&&Ql.scope==r&&(a=Ql.prefix+" ",nX.indexOf(e.keyCode)<0&&(c=!0,Ql=null));let d=new Set,f=x=>{if(x){for(let w of x.run)if(!d.has(w)&&(d.add(w),w(t)))return x.stopPropagation&&(u=!0),!0;x.preventDefault&&(x.stopPropagation&&(u=!0),c=!0)}return!1},m=n[r],g,y;return m&&(f(m[a+k0(i,e,!o)])?l=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(be.windows&&e.ctrlKey&&e.altKey)&&(g=kc[e.keyCode])&&g!=i?(f(m[a+k0(g,e,!0)])||e.shiftKey&&(y=Ug[e.keyCode])!=i&&y!=g&&f(m[a+k0(y,e,!1)]))&&(l=!0):o&&e.shiftKey&&f(m[a+k0(i,e,!0)])&&(l=!0),!l&&f(m._any)&&(l=!0)),c&&(l=!0),l&&u&&e.stopPropagation(),uC=null,l}class oy{constructor(e,t,r,i,s){this.className=e,this.left=t,this.top=r,this.width=i,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,r){if(r.empty){let i=e.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let s=mX(e);return[new oy(t,i.left-s.left,i.top-s.top,null,i.bottom-i.top)]}else return Rge(e,t,r)}}function mX(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==it.LTR?e.left:e.right-n.scrollDOM.clientWidth*n.scaleX)-n.scrollDOM.scrollLeft*n.scaleX,top:e.top-n.scrollDOM.scrollTop*n.scaleY}}function ZM(n,e,t,r){let i=n.coordsAtPos(e,t*2);if(!i)return r;let s=n.dom.getBoundingClientRect(),o=(i.top+i.bottom)/2,a=n.posAtCoords({x:s.left+1,y:o}),l=n.posAtCoords({x:s.right-1,y:o});return a==null||l==null?r:{from:Math.max(r.from,Math.min(a,l)),to:Math.min(r.to,Math.max(a,l))}}function Rge(n,e,t){if(t.to<=n.viewport.from||t.from>=n.viewport.to)return[];let r=Math.max(t.from,n.viewport.from),i=Math.min(t.to,n.viewport.to),s=n.textDirection==it.LTR,o=n.contentDOM,a=o.getBoundingClientRect(),l=mX(n),c=o.querySelector(".cm-line"),u=c&&window.getComputedStyle(c),d=a.left+(u?parseInt(u.paddingLeft)+Math.min(0,parseInt(u.textIndent)):0),f=a.right-(u?parseInt(u.paddingRight):0),m=sC(n,r),g=sC(n,i),y=m.type==Xr.Text?m:null,x=g.type==Xr.Text?g:null;if(y&&(n.lineWrapping||m.widgetLineBreaks)&&(y=ZM(n,r,1,y)),x&&(n.lineWrapping||g.widgetLineBreaks)&&(x=ZM(n,i,-1,x)),y&&x&&y.from==x.from&&y.to==x.to)return k(P(t.from,t.to,y));{let C=y?P(t.from,null,y):Q(m,!1),N=x?P(null,t.to,x):Q(g,!0),O=[];return(y||m).to<(x||g).from-(y&&x?1:0)||m.widgetLineBreaks>1&&C.bottom+n.defaultLineHeight/2<N.top?O.push(w(d,C.bottom,f,N.top)):C.bottom<N.top&&n.elementAtHeight((C.bottom+N.top)/2).type==Xr.Text&&(C.bottom=N.top=(C.bottom+N.top)/2),k(C).concat(O).concat(k(N))}function w(C,N,O,T){return new oy(e,C-l.left,N-l.top,O-C,T-N)}function k({top:C,bottom:N,horizontal:O}){let T=[];for(let S=0;S<O.length;S+=2)T.push(w(O[S],C,O[S+1],N));return T}function P(C,N,O){let T=1e9,S=-1e9,A=[];function _(j,V,U,X,D){let L=n.coordsAtPos(j,j==O.to?-2:2),Y=n.coordsAtPos(U,U==O.from?2:-2);!L||!Y||(T=Math.min(L.top,Y.top,T),S=Math.max(L.bottom,Y.bottom,S),D==it.LTR?A.push(s&&V?d:L.left,s&&X?f:Y.right):A.push(!s&&X?d:Y.left,!s&&V?f:L.right))}let v=C??O.from,E=N??O.to;for(let j of n.visibleRanges)if(j.to>v&&j.from<E)for(let V=Math.max(j.from,v),U=Math.min(j.to,E);;){let X=n.state.doc.lineAt(V);for(let D of n.bidiSpans(X)){let L=D.from+X.from,Y=D.to+X.from;if(L>=U)break;Y>V&&_(Math.max(L,V),C==null&&L<=v,Math.min(Y,U),N==null&&Y>=E,D.dir)}if(V=X.to+1,V>=U)break}return A.length==0&&_(v,C==null,E,N==null,n.textDirection),{top:T,bottom:S,horizontal:A}}function Q(C,N){let O=a.top+(N?C.top:C.bottom);return{top:O,bottom:O,horizontal:[]}}}function Qge(n,e){return n.constructor==e.constructor&&n.eq(e)}class Nge{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(Pv)!=e.state.facet(Pv)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let t=0,r=e.facet(Pv);for(;t<r.length&&r[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;(e!=this.scaleX||t!=this.scaleY)&&(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((t,r)=>!Qge(t,this.drawn[r]))){let t=this.dom.firstChild,r=0;for(let i of e)i.update&&t&&i.constructor&&this.drawn[r].constructor&&i.update(t,this.drawn[r])?(t=t.nextSibling,r++):this.dom.insertBefore(i.draw(),t);for(;t;){let i=t.nextSibling;t.remove(),t=i}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Pv=de.define();function gX(n){return[Vt.define(e=>new Nge(e,n)),Pv.of(n)]}const OX=!(be.ios&&be.webkit&&be.webkit_version<534),Zg=de.define({combine(n){return ta(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function Ige(n={}){return[Zg.of(n),$ge,jge,Dge,ZW.of(!0)]}function yX(n){return n.startState.facet(Zg)!=n.state.facet(Zg)}const $ge=gX({above:!0,markers(n){let{state:e}=n,t=e.facet(Zg),r=[];for(let i of e.selection.ranges){let s=i==e.selection.main;if(i.empty?!s||OX:t.drawRangeCursor){let o=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",a=i.empty?i:te.cursor(i.head,i.head>i.anchor?-1:1);for(let l of oy.forRange(n,o,a))r.push(l)}}return r},update(n,e){n.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=yX(n);return t&&BM(n.state,e),n.docChanged||n.selectionSet||t},mount(n,e){BM(e.state,n)},class:"cm-cursorLayer"});function BM(n,e){e.style.animationDuration=n.facet(Zg).cursorBlinkRate+"ms"}const jge=gX({above:!1,markers(n){return n.state.selection.ranges.map(e=>e.empty?[]:oy.forRange(n,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(n,e){return n.docChanged||n.selectionSet||n.viewportChanged||yX(n)},class:"cm-selectionLayer"}),hC={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};OX&&(hC[".cm-line"].caretColor=hC[".cm-content"].caretColor="transparent !important");const Dge=ll.highest(fe.theme(hC)),vX=Me.define({map(n,e){return n==null?null:e.mapPos(n)}}),cm=Xt.define({create(){return null},update(n,e){return n!=null&&(n=e.changes.mapPos(n)),e.effects.reduce((t,r)=>r.is(vX)?r.value:t,n)}}),Mge=Vt.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var e;let t=n.state.field(cm);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(cm)!=t||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:n}=this,e=n.state.field(cm),t=e!=null&&n.coordsAtPos(e);if(!t)return null;let r=n.scrollDOM.getBoundingClientRect();return{left:t.left-r.left+n.scrollDOM.scrollLeft*n.scaleX,top:t.top-r.top+n.scrollDOM.scrollTop*n.scaleY,height:t.bottom-t.top}}drawCursor(n){if(this.cursor){let{scaleX:e,scaleY:t}=this.view;n?(this.cursor.style.left=n.left/e+"px",this.cursor.style.top=n.top/t+"px",this.cursor.style.height=n.height/t+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(cm)!=n&&this.view.dispatch({effects:vX.of(n)})}},{eventObservers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){(n.target==this.view.contentDOM||!this.view.contentDOM.contains(n.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function Vge(){return[cm,Mge]}function WM(n,e,t,r,i){e.lastIndex=0;for(let s=n.iterRange(t,r),o=t,a;!s.next().done;o+=s.value.length)if(!s.lineBreak)for(;a=e.exec(s.value);)i(o+a.index,a)}function Lge(n,e){let t=n.visibleRanges;if(t.length==1&&t[0].from==n.viewport.from&&t[0].to==n.viewport.to)return t;let r=[];for(let{from:i,to:s}of t)i=Math.max(n.state.doc.lineAt(i).from,i-e),s=Math.min(n.state.doc.lineAt(s).to,s+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=s:r.push({from:i,to:s});return r}class Uge{constructor(e){const{regexp:t,decoration:r,decorate:i,boundary:s,maxLength:o=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,i)this.addMatch=(a,l,c,u)=>i(u,c,c+a[0].length,a,l);else if(typeof r=="function")this.addMatch=(a,l,c,u)=>{let d=r(a,l,c);d&&u(c,c+a[0].length,d)};else if(r)this.addMatch=(a,l,c,u)=>u(c,c+a[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=o}createDeco(e){let t=new Ha,r=t.add.bind(t);for(let{from:i,to:s}of Lge(e,this.maxLength))WM(e.state.doc,this.regexp,i,s,(o,a)=>this.addMatch(a,e,o,r));return t.finish()}updateDeco(e,t){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((s,o,a,l)=>{l>=e.view.viewport.from&&a<=e.view.viewport.to&&(r=Math.min(a,r),i=Math.max(l,i))}),e.viewportMoved||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,t.map(e.changes),r,i):t}updateRange(e,t,r,i){for(let s of e.visibleRanges){let o=Math.max(s.from,r),a=Math.min(s.to,i);if(a>o){let l=e.state.doc.lineAt(o),c=l.to<a?e.state.doc.lineAt(a):l,u=Math.max(s.from,l.from),d=Math.min(s.to,c.to);if(this.boundary){for(;o>l.from;o--)if(this.boundary.test(l.text[o-1-l.from])){u=o;break}for(;a<c.to;a++)if(this.boundary.test(c.text[a-c.from])){d=a;break}}let f=[],m,g=(y,x,w)=>f.push(w.range(y,x));if(l==c)for(this.regexp.lastIndex=u-l.from;(m=this.regexp.exec(l.text))&&m.index<d-l.from;)this.addMatch(m,e,m.index+l.from,g);else WM(e.state.doc,this.regexp,u,d,(y,x)=>this.addMatch(x,e,y,g));t=t.update({filterFrom:u,filterTo:d,filter:(y,x)=>y<u||x>d,add:f})}}return t}}const dC=/x/.unicode!=null?"gu":"g",zge=new RegExp(`[\0-\b
--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\uFEFF￹-￼]`,dC),qge={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let Ck=null;function Fge(){var n;if(Ck==null&&typeof document<"u"&&document.body){let e=document.body.style;Ck=((n=e.tabSize)!==null&&n!==void 0?n:e.MozTabSize)!=null}return Ck||!1}const Cv=de.define({combine(n){let e=ta(n,{render:null,specialChars:zge,addSpecialChars:null});return(e.replaceTabs=!Fge())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,dC)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,dC)),e}});function Zge(n={}){return[Cv.of(n),Bge()]}let XM=null;function Bge(){return XM||(XM=Vt.fromClass(class{constructor(n){this.view=n,this.decorations=ye.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(n.state.facet(Cv)),this.decorations=this.decorator.createDeco(n)}makeDecorator(n){return new Uge({regexp:n.specialChars,decoration:(e,t,r)=>{let{doc:i}=t.state,s=ui(e[0],0);if(s==9){let o=i.lineAt(r),a=t.state.tabSize,l=Xf(o.text,a,r-o.from);return ye.replace({widget:new Yge((a-l%a)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=ye.replace({widget:new Gge(n,s)}))},boundary:n.replaceTabs?void 0:/[^]/})}update(n){let e=n.state.facet(Cv);n.startState.facet(Cv)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(n.view)):this.decorations=this.decorator.updateDeco(n,this.decorations)}},{decorations:n=>n.decorations}))}const Wge="•";function Xge(n){return n>=32?Wge:n==10?"␤":String.fromCharCode(9216+n)}class Gge extends na{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=Xge(this.code),r=e.state.phrase("Control character")+" "+(qge[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,t);if(i)return i;let s=document.createElement("span");return s.textContent=t,s.title=r,s.setAttribute("aria-label",r),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class Yge extends na{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function Hge(){return Jge}const Kge=ye.line({class:"cm-activeLine"}),Jge=Vt.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=-1,t=[];for(let r of n.state.selection.ranges){let i=n.lineBlockAt(r.head);i.from>e&&(t.push(Kge.range(i.from)),e=i.from)}return ye.set(t)}},{decorations:n=>n.decorations}),fC=2e3;function eOe(n,e,t){let r=Math.min(e.line,t.line),i=Math.max(e.line,t.line),s=[];if(e.off>fC||t.off>fC||e.col<0||t.col<0){let o=Math.min(e.off,t.off),a=Math.max(e.off,t.off);for(let l=r;l<=i;l++){let c=n.doc.line(l);c.length<=a&&s.push(te.range(c.from+o,c.to+a))}}else{let o=Math.min(e.col,t.col),a=Math.max(e.col,t.col);for(let l=r;l<=i;l++){let c=n.doc.line(l),u=FP(c.text,o,n.tabSize,!0);if(u<0)s.push(te.cursor(c.to));else{let d=FP(c.text,a,n.tabSize);s.push(te.range(c.from+u,c.from+d))}}}return s}function tOe(n,e){let t=n.coordsAtPos(n.viewport.from);return t?Math.round(Math.abs((t.left-e)/n.defaultCharacterWidth)):-1}function GM(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1),r=n.state.doc.lineAt(t),i=t-r.from,s=i>fC?-1:i==r.length?tOe(n,e.clientX):Xf(r.text,n.state.tabSize,t-r.from);return{line:r.number,col:s,off:i}}function nOe(n,e){let t=GM(n,e),r=n.state.selection;return t?{update(i){if(i.docChanged){let s=i.changes.mapPos(i.startState.doc.line(t.line).from),o=i.state.doc.lineAt(s);t={line:o.number,col:t.col,off:Math.min(t.off,o.length)},r=r.map(i.changes)}},get(i,s,o){let a=GM(n,i);if(!a)return r;let l=eOe(n.state,t,a);return l.length?o?te.create(l.concat(r.ranges)):te.create(l):r}}:null}function rOe(n){let e=t=>t.altKey&&t.button==0;return fe.mouseSelectionStyle.of((t,r)=>e(r)?nOe(t,r):null)}const iOe={Alt:[18,n=>!!n.altKey],Control:[17,n=>!!n.ctrlKey],Shift:[16,n=>!!n.shiftKey],Meta:[91,n=>!!n.metaKey]},sOe={style:"cursor: crosshair"};function oOe(n={}){let[e,t]=iOe[n.key||"Alt"],r=Vt.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||t(i))},keyup(i){(i.keyCode==e||!t(i))&&this.set(!1)},mousemove(i){this.set(t(i))}}});return[r,fe.contentAttributes.of(i=>{var s;return!((s=i.plugin(r))===null||s===void 0)&&s.isDown?sOe:null})]}const Np="-10000px";class xX{constructor(e,t,r,i){this.facet=t,this.createTooltipView=r,this.removeTooltipView=i,this.input=e.state.facet(t),this.tooltips=this.input.filter(o=>o);let s=null;this.tooltipViews=this.tooltips.map(o=>s=r(o,s))}update(e,t){var r;let i=e.state.facet(this.facet),s=i.filter(l=>l);if(i===this.input){for(let l of this.tooltipViews)l.update&&l.update(e);return!1}let o=[],a=t?[]:null;for(let l=0;l<s.length;l++){let c=s[l],u=-1;if(c){for(let d=0;d<this.tooltips.length;d++){let f=this.tooltips[d];f&&f.create==c.create&&(u=d)}if(u<0)o[l]=this.createTooltipView(c,l?o[l-1]:null),a&&(a[l]=!!c.above);else{let d=o[l]=this.tooltipViews[u];a&&(a[l]=t[u]),d.update&&d.update(e)}}}for(let l of this.tooltipViews)o.indexOf(l)<0&&(this.removeTooltipView(l),(r=l.destroy)===null||r===void 0||r.call(l));return t&&(a.forEach((l,c)=>t[c]=l),t.length=a.length),this.input=i,this.tooltips=s,this.tooltipViews=o,!0}}function aOe(n){let e=n.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const Ek=de.define({combine:n=>{var e,t,r;return{position:be.ios?"absolute":((e=n.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=n.find(i=>i.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((r=n.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||aOe}}}),YM=new WeakMap,ZQ=Vt.fromClass(class{constructor(n){this.view=n,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=n.state.facet(Ek);this.position=e.position,this.parent=e.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new xX(n,BQ,(t,r)=>this.createTooltip(t,r),t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()}),this.above=this.manager.tooltips.map(t=>!!t.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(n,this.above);e&&this.observeIntersection();let t=e||n.geometryChanged,r=n.state.facet(Ek);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;t=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(n,e){let t=n.create(this.view),r=e?e.dom:null;if(t.dom.classList.add("cm-tooltip"),n.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",t.dom.appendChild(i)}return t.dom.style.position=this.position,t.dom.style.top=Np,t.dom.style.left="0px",this.container.insertBefore(t.dom,r),t.mount&&t.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(t.dom),t}destroy(){var n,e,t;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(n=r.destroy)===null||n===void 0||n.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(t=this.intersectionObserver)===null||t===void 0||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=1,e=1,t=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:s}=this.manager.tooltipViews[0];if(be.gecko)t=s.offsetParent!=this.container.ownerDocument.body;else if(s.style.top==Np&&s.style.left=="0px"){let o=s.getBoundingClientRect();t=Math.abs(o.top+1e4)>1||Math.abs(o.left)>1}}if(t||this.position=="absolute")if(this.parent){let s=this.parent.getBoundingClientRect();s.width&&s.height&&(n=s.width/this.parent.offsetWidth,e=s.height/this.parent.offsetHeight)}else({scaleX:n,scaleY:e}=this.view.viewState);let r=this.view.scrollDOM.getBoundingClientRect(),i=UQ(this.view);return{visible:{left:r.left+i.left,top:r.top+i.top,right:r.right-i.right,bottom:r.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((s,o)=>{let a=this.manager.tooltipViews[o];return a.getCoords?a.getCoords(s.pos):this.view.coordsAtPos(s.pos)}),size:this.manager.tooltipViews.map(({dom:s})=>s.getBoundingClientRect()),space:this.view.state.facet(Ek).tooltipSpace(this.view),scaleX:n,scaleY:e,makeAbsolute:t}}writeMeasure(n){var e;if(n.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let a of this.manager.tooltipViews)a.dom.style.position="absolute"}let{visible:t,space:r,scaleX:i,scaleY:s}=n,o=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],c=this.manager.tooltipViews[a],{dom:u}=c,d=n.pos[a],f=n.size[a];if(!d||l.clip!==!1&&(d.bottom<=Math.max(t.top,r.top)||d.top>=Math.min(t.bottom,r.bottom)||d.right<Math.max(t.left,r.left)-.1||d.left>Math.min(t.right,r.right)+.1)){u.style.top=Np;continue}let m=l.arrow?c.dom.querySelector(".cm-tooltip-arrow"):null,g=m?7:0,y=f.right-f.left,x=(e=YM.get(c))!==null&&e!==void 0?e:f.bottom-f.top,w=c.offset||cOe,k=this.view.textDirection==it.LTR,P=f.width>r.right-r.left?k?r.left:r.right-f.width:k?Math.max(r.left,Math.min(d.left-(m?14:0)+w.x,r.right-y)):Math.min(Math.max(r.left,d.left-y+(m?14:0)-w.x),r.right-y),Q=this.above[a];!l.strictSide&&(Q?d.top-x-g-w.y<r.top:d.bottom+x+g+w.y>r.bottom)&&Q==r.bottom-d.bottom>d.top-r.top&&(Q=this.above[a]=!Q);let C=(Q?d.top-r.top:r.bottom-d.bottom)-g;if(C<x&&c.resize!==!1){if(C<this.view.defaultLineHeight){u.style.top=Np;continue}YM.set(c,x),u.style.height=(x=C)/s+"px"}else u.style.height&&(u.style.height="");let N=Q?d.top-x-g-w.y:d.bottom+g+w.y,O=P+y;if(c.overlap!==!0)for(let T of o)T.left<O&&T.right>P&&T.top<N+x&&T.bottom>N&&(N=Q?T.top-x-2-g:T.bottom+g+2);if(this.position=="absolute"?(u.style.top=(N-n.parent.top)/s+"px",HM(u,(P-n.parent.left)/i)):(u.style.top=N/s+"px",HM(u,P/i)),m){let T=d.left+(k?w.x:-w.x)-(P+14-7);m.style.left=T/i+"px"}c.overlap!==!0&&o.push({left:P,top:N,right:O,bottom:N+x}),u.classList.toggle("cm-tooltip-above",Q),u.classList.toggle("cm-tooltip-below",!Q),c.positioned&&c.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=Np}},{eventObservers:{scroll(){this.maybeMeasure()}}});function HM(n,e){let t=parseInt(n.style.left,10);(isNaN(t)||Math.abs(e-t)>1)&&(n.style.left=e+"px")}const lOe=fe.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),cOe={x:0,y:0},BQ=de.define({enables:[ZQ,lOe]}),vw=de.define({combine:n=>n.reduce((e,t)=>e.concat(t),[])});class _S{static create(e){return new _S(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new xX(e,vw,(t,r)=>this.createHostedView(t,r),t=>t.dom.remove())}createHostedView(e,t){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,t?t.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}passProp(e){let t;for(let r of this.manager.tooltipViews){let i=r[e];if(i!==void 0){if(t===void 0)t=i;else if(t!==i)return}}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const uOe=BQ.compute([vw],n=>{let e=n.facet(vw);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.map(t=>{var r;return(r=t.end)!==null&&r!==void 0?r:t.pos})),create:_S.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class hOe{constructor(e,t,r,i,s){this.view=e,this.source=t,this.field=r,this.setHover=i,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,r=e.docView.nearest(t.target);if(!r)return;let i,s=1;if(r instanceof Bl)i=r.posAtStart;else{if(i=e.posAtCoords(t),i==null)return;let a=e.coordsAtPos(i);if(!a||t.y<a.top||t.y>a.bottom||t.x<a.left-e.defaultCharacterWidth||t.x>a.right+e.defaultCharacterWidth)return;let l=e.bidiSpans(e.state.doc.lineAt(i)).find(u=>u.from<=i&&u.to>=i),c=l&&l.dir==it.RTL?-1:1;s=t.x<a.left?-c:c}let o=this.source(e,i,s);if(o!=null&&o.then){let a=this.pending={pos:i};o.then(l=>{this.pending==a&&(this.pending=null,l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])}))},l=>Rn(e.state,l,"hover tooltip"))}else o&&!(Array.isArray(o)&&!o.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(o)?o:[o])})}get tooltip(){let e=this.view.plugin(ZQ),t=e?e.manager.tooltips.findIndex(r=>r.create==_S.create):-1;return t>-1?e.manager.tooltipViews[t]:null}mousemove(e){var t,r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:s}=this;if(i.length&&s&&!dOe(s.dom,e)||this.pending){let{pos:o}=i[0]||this.pending,a=(r=(t=i[0])===null||t===void 0?void 0:t.end)!==null&&r!==void 0?r:o;(o==a?this.view.posAtCoords(this.lastMove)!=o:!fOe(this.view,o,a,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:t}=this;if(t.length){let{tooltip:r}=this;r&&r.dom.contains(e.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let t=r=>{e.removeEventListener("mouseleave",t),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",t)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const _0=4;function dOe(n,e){let{left:t,right:r,top:i,bottom:s}=n.getBoundingClientRect(),o;if(o=n.querySelector(".cm-tooltip-arrow")){let a=o.getBoundingClientRect();i=Math.min(a.top,i),s=Math.max(a.bottom,s)}return e.clientX>=t-_0&&e.clientX<=r+_0&&e.clientY>=i-_0&&e.clientY<=s+_0}function fOe(n,e,t,r,i,s){let o=n.scrollDOM.getBoundingClientRect(),a=n.documentTop+n.documentPadding.top+n.contentHeight;if(o.left>r||o.right<r||o.top>i||Math.min(o.bottom,a)<i)return!1;let l=n.posAtCoords({x:r,y:i},!1);return l>=e&&l<=t}function pOe(n,e={}){let t=Me.define(),r=Xt.define({create(){return[]},update(i,s){if(i.length&&(e.hideOnChange&&(s.docChanged||s.selection)?i=[]:e.hideOn&&(i=i.filter(o=>!e.hideOn(s,o))),s.docChanged)){let o=[];for(let a of i){let l=s.changes.mapPos(a.pos,-1,qn.TrackDel);if(l!=null){let c=Object.assign(Object.create(null),a);c.pos=l,c.end!=null&&(c.end=s.changes.mapPos(c.end)),o.push(c)}}i=o}for(let o of s.effects)o.is(t)&&(i=o.value),o.is(mOe)&&(i=[]);return i},provide:i=>vw.from(i)});return{active:r,extension:[r,Vt.define(i=>new hOe(i,n,r,t,e.hoverTime||300)),uOe]}}function wX(n,e){let t=n.plugin(ZQ);if(!t)return null;let r=t.manager.tooltips.indexOf(e);return r<0?null:t.manager.tooltipViews[r]}const mOe=Me.define(),KM=de.define({combine(n){let e,t;for(let r of n)e=e||r.topContainer,t=t||r.bottomContainer;return{topContainer:e,bottomContainer:t}}});function Bg(n,e){let t=n.plugin(bX),r=t?t.specs.indexOf(e):-1;return r>-1?t.panels[r]:null}const bX=Vt.fromClass(class{constructor(n){this.input=n.state.facet(Wg),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(n));let e=n.state.facet(KM);this.top=new T0(n,!0,e.topContainer),this.bottom=new T0(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(n){let e=n.state.facet(KM);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new T0(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new T0(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=n.state.facet(Wg);if(t!=this.input){let r=t.filter(l=>l),i=[],s=[],o=[],a=[];for(let l of r){let c=this.specs.indexOf(l),u;c<0?(u=l(n.view),a.push(u)):(u=this.panels[c],u.update&&u.update(n)),i.push(u),(u.top?s:o).push(u)}this.specs=r,this.panels=i,this.top.sync(s),this.bottom.sync(o);for(let l of a)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let r of this.panels)r.update&&r.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>fe.scrollMargins.of(e=>{let t=e.plugin(n);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class T0{constructor(e,t,r){this.view=e,this.top=t,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=JM(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=JM(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function JM(n){let e=n.nextSibling;return n.remove(),e}const Wg=de.define({enables:bX});class Ja extends Vo{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Ja.prototype.elementClass="";Ja.prototype.toDOM=void 0;Ja.prototype.mapMode=qn.TrackBefore;Ja.prototype.startSide=Ja.prototype.endSide=-1;Ja.prototype.point=!0;const Ev=de.define(),gOe=de.define(),OOe={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>yt.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Zm=de.define();function yOe(n){return[SX(),Zm.of(Object.assign(Object.assign({},OOe),n))]}const eV=de.define({combine:n=>n.some(e=>e)});function SX(n){return[vOe]}const vOe=Vt.fromClass(class{constructor(n){this.view=n,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=n.state.facet(Zm).map(e=>new nV(n,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!n.state.facet(eV),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}update(n){if(this.updateGutters(n)){let e=this.prevViewport,t=n.view.viewport,r=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(r<(t.to-t.from)*.8)}n.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(eV)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&this.dom.remove();let t=yt.iter(this.view.state.facet(Ev),this.view.viewport.from),r=[],i=this.gutters.map(s=>new xOe(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(s.type)){let o=!0;for(let a of s.type)if(a.type==Xr.Text&&o){pC(t,r,a.from);for(let l of i)l.line(this.view,a,r);o=!1}else if(a.widget)for(let l of i)l.widget(this.view,a)}else if(s.type==Xr.Text){pC(t,r,s.from);for(let o of i)o.line(this.view,s,r)}else if(s.widget)for(let o of i)o.widget(this.view,s);for(let s of i)s.finish();n&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(n){let e=n.startState.facet(Zm),t=n.state.facet(Zm),r=n.docChanged||n.heightChanged||n.viewportChanged||!yt.eq(n.startState.facet(Ev),n.state.facet(Ev),n.view.viewport.from,n.view.viewport.to);if(e==t)for(let i of this.gutters)i.update(n)&&(r=!0);else{r=!0;let i=[];for(let s of t){let o=e.indexOf(s);o<0?i.push(new nV(this.view,s)):(this.gutters[o].update(n),i.push(this.gutters[o]))}for(let s of this.gutters)s.dom.remove(),i.indexOf(s)<0&&s.destroy();for(let s of i)this.dom.appendChild(s.dom);this.gutters=i}return r}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove()}},{provide:n=>fe.scrollMargins.of(e=>{let t=e.plugin(n);return!t||t.gutters.length==0||!t.fixed?null:e.textDirection==it.LTR?{left:t.dom.offsetWidth*e.scaleX}:{right:t.dom.offsetWidth*e.scaleX}})});function tV(n){return Array.isArray(n)?n:[n]}function pC(n,e,t){for(;n.value&&n.from<=t;)n.from==t&&e.push(n.value),n.next()}class xOe{constructor(e,t,r){this.gutter=e,this.height=r,this.i=0,this.cursor=yt.iter(e.markers,t.from)}addElement(e,t,r){let{gutter:i}=this,s=(t.top-this.height)/e.scaleY,o=t.height/e.scaleY;if(this.i==i.elements.length){let a=new kX(e,o,s,r);i.elements.push(a),i.dom.appendChild(a.dom)}else i.elements[this.i].update(e,o,s,r);this.height=t.bottom,this.i++}line(e,t,r){let i=[];pC(this.cursor,i,t.from),r.length&&(i=i.concat(r));let s=this.gutter.config.lineMarker(e,t,i);s&&i.unshift(s);let o=this.gutter;i.length==0&&!o.config.renderEmptyElements||this.addElement(e,t,i)}widget(e,t){let r=this.gutter.config.widgetMarker(e,t.widget,t),i=r?[r]:null;for(let s of e.state.facet(gOe)){let o=s(e,t.widget,t);o&&(i||(i=[])).push(o)}i&&this.addElement(e,t,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class nV{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in t.domEventHandlers)this.dom.addEventListener(r,i=>{let s=i.target,o;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let l=s.getBoundingClientRect();o=(l.top+l.bottom)/2}else o=i.clientY;let a=e.lineBlockAtHeight(o-e.documentTop);t.domEventHandlers[r](e,a,i)&&i.preventDefault()});this.markers=tV(t.markers(e)),t.initialSpacer&&(this.spacer=new kX(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=tV(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!yt.eq(this.markers,t,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class kX{constructor(e,t,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,r,i)}update(e,t,r,i){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),wOe(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,t){let r="cm-gutterElement",i=this.dom.firstChild;for(let s=0,o=0;;){let a=o,l=s<t.length?t[s++]:null,c=!1;if(l){let u=l.elementClass;u&&(r+=" "+u);for(let d=o;d<this.markers.length;d++)if(this.markers[d].compare(l)){a=d,c=!0;break}}else a=this.markers.length;for(;o<a;){let u=this.markers[o++];if(u.toDOM){u.destroy(i);let d=i.nextSibling;i.remove(),i=d}}if(!l)break;l.toDOM&&(c?i=i.nextSibling:this.dom.insertBefore(l.toDOM(e),i)),c&&o++}this.dom.className=r,this.markers=t}destroy(){this.setMarkers(null,[])}}function wOe(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].compare(e[t]))return!1;return!0}const bOe=de.define(),SOe=de.define(),Yh=de.define({combine(n){return ta(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let r=Object.assign({},e);for(let i in t){let s=r[i],o=t[i];r[i]=s?(a,l,c)=>s(a,l,c)||o(a,l,c):o}return r}})}});class Ak extends Ja{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function Rk(n,e){return n.state.facet(Yh).formatNumber(e,n.state)}const kOe=Zm.compute([Yh],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(bOe)},lineMarker(e,t,r){return r.some(i=>i.toDOM)?null:new Ak(Rk(e,e.state.doc.lineAt(t.from).number))},widgetMarker:(e,t,r)=>{for(let i of e.state.facet(SOe)){let s=i(e,t,r);if(s)return s}return null},lineMarkerChange:e=>e.startState.facet(Yh)!=e.state.facet(Yh),initialSpacer(e){return new Ak(Rk(e,rV(e.state.doc.lines)))},updateSpacer(e,t){let r=Rk(t.view,rV(t.view.state.doc.lines));return r==e.number?e:new Ak(r)},domEventHandlers:n.facet(Yh).domEventHandlers}));function _Oe(n={}){return[Yh.of(n),SX(),kOe]}function rV(n){let e=9;for(;e<n;)e=e*10+9;return e}const TOe=new class extends Ja{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},POe=Ev.compute(["selection"],n=>{let e=[],t=-1;for(let r of n.selection.ranges){let i=n.doc.lineAt(r.head).from;i>t&&(t=i,e.push(TOe.range(i)))}return yt.of(e)});function COe(){return POe}const EOe=1024;let AOe=0,Qk=class{constructor(e,t){this.from=e,this.to=t}},xt=class{constructor(e={}){this.id=AOe++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Uo.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}};xt.closedBy=new xt({deserialize:n=>n.split(" ")});xt.openedBy=new xt({deserialize:n=>n.split(" ")});xt.group=new xt({deserialize:n=>n.split(" ")});xt.isolate=new xt({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});xt.contextHash=new xt({perNode:!0});xt.lookAhead=new xt({perNode:!0});xt.mounted=new xt({perNode:!0});let xw=class{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[xt.mounted.id]}};const ROe=Object.create(null);let Uo=class _X{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):ROe,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new _X(e.name||"",t,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(xt.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(xt.group),s=-1;s<(i?i.length:0);s++){let o=t[s<0?r.name:i[s]];if(o)return o}}}};Uo.none=new Uo("",Object.create(null),0,8);const P0=new WeakMap,iV=new WeakMap;var cr;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(cr||(cr={}));let $i=class mC{constructor(e,t,r,i,s){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=xw.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new yC(this.topNode,e)}cursorAt(e,t=0,r=0){let i=P0.get(this)||this.topNode,s=new yC(i);return s.moveTo(e,t),P0.set(this,s._tree),s}get topNode(){return new Tc(this,0,0,null)}resolve(e,t=0){let r=Xg(P0.get(this)||this.topNode,e,t,!1);return P0.set(this,r),r}resolveInner(e,t=0){let r=Xg(iV.get(this)||this.topNode,e,t,!0);return iV.set(this,r),r}resolveStack(e,t=0){return $Oe(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:s=this.length}=e,o=e.mode||0,a=(o&cr.IncludeAnonymous)>0;for(let l=this.cursor(o|cr.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=i&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:XQ(Uo.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new mC(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new mC(Uo.none,t,r,i)))}static build(e){return jOe(e)}};$i.empty=new $i(Uo.none,[],[],0);let QOe=class TX{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new TX(this.buffer,this.index)}},lf=class PX{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return Uo.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(CX(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,t,r){let i=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=i[a++],s[l++]=i[a++]-r;let c=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,c)}return new PX(s,o,this.set)}};function CX(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function Xg(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!r&&n instanceof Tc&&n.index<0?null:n.parent;if(!o)return n;n=o}let s=r?0:cr.IgnoreOverlays;if(r)for(let o=n,a=o.parent;a;o=a,a=o.parent)o instanceof Tc&&o.index<0&&((i=a.enter(e,t,s))===null||i===void 0?void 0:i.from)!=o.from&&(n=a);for(;;){let o=n.enter(e,t,s);if(!o)return n;n=o}}let EX=class{cursor(e=0){return new yC(this,e)}getChild(e,t=null,r=null){let i=sV(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return sV(this,e,t,r)}resolve(e,t=0){return Xg(this,e,t,!1)}resolveInner(e,t=0){return Xg(this,e,t,!0)}matchContext(e){return gC(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}},Tc=class Av extends EX{constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=t>0?a.length:-1;e!=c;e+=t){let u=a[e],d=l[e]+o.from;if(CX(i,r,d,d+u.length)){if(u instanceof lf){if(s&cr.ExcludeBuffers)continue;let f=u.findChild(0,u.buffer.length,t,r-d,i);if(f>-1)return new OC(new NOe(o,u,e,d),null,f)}else if(s&cr.IncludeAnonymous||!u.type.isAnonymous||WQ(u)){let f;if(!(s&cr.IgnoreMounts)&&(f=xw.get(u))&&!f.overlay)return new Av(f.tree,d,e,o);let m=new Av(u,d,e,o);return s&cr.IncludeAnonymous||!m.type.isAnonymous?m:m.nextChild(t<0?u.children.length-1:0,t,r,i)}}}if(s&cr.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&cr.IgnoreOverlays)&&(i=xw.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:o,to:a}of i.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new Av(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function sV(n,e,t,r){let i=n.cursor(),s=[];if(!i.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=i.type.is(t),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function gC(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}let NOe=class{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}},OC=class um extends EX{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return s<0?null:new um(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&cr.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new um(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new um(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new um(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),t.push(0)}return new $i(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function AX(n){if(!n.length)return null;let e=0,t=n[0];for(let s=1;s<n.length;s++){let o=n[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let r=t instanceof Tc&&t.index<0?null:t.parent,i=n.slice();return r?i[e]=r:i.splice(e,1),new IOe(i,t)}let IOe=class{constructor(e,t){this.heads=e,this.node=t}get next(){return AX(this.heads)}};function $Oe(n,e,t){let r=n.resolveInner(e,t),i=null;for(let s=r instanceof Tc?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[r])).push(o.resolve(e,t)),s=o}else{let o=xw.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new Tc(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(Xg(a,e,t,!1))}}return i?AX(i):r}let yC=class{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Tc)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof Tc?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&cr.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&cr.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&cr.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let s=t+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&cr.IncludeAnonymous||a instanceof lf||!a.type.isAnonymous||WQ(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;t=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)t=new OC(this.buffer,t,this.stack[i]);return this.bufferNode=new OC(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return gC(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return gC(this._tree,e,i);let o=r[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}};function WQ(n){return n.children.some(e=>e instanceof lf||!e.type.isAnonymous||WQ(e))}function jOe(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=EOe,reused:s=[],minRepeatType:o=r.types.length}=n,a=Array.isArray(t)?new QOe(t,t.length):t,l=r.types,c=0,u=0;function d(C,N,O,T,S,A){let{id:_,start:v,end:E,size:j}=a,V=u,U=c;for(;j<0;)if(a.next(),j==-1){let Z=s[_];O.push(Z),T.push(v-C);return}else if(j==-3){c=_;return}else if(j==-4){u=_;return}else throw new RangeError(`Unrecognized record size: ${j}`);let X=l[_],D,L,Y=v-C;if(E-v<=i&&(L=x(a.pos-N,S))){let Z=new Uint16Array(L.size-L.skip),F=a.pos-L.size,B=Z.length;for(;a.pos>F;)B=w(L.start,Z,B);D=new lf(Z,E-L.start,r),Y=L.start-C}else{let Z=a.pos-j;a.next();let F=[],B=[],J=_>=o?_:-1,ae=0,oe=E;for(;a.pos>Z;)J>=0&&a.id==J&&a.size>=0?(a.end<=oe-i&&(g(F,B,v,ae,a.end,oe,J,V,U),ae=F.length,oe=a.end),a.next()):A>2500?f(v,Z,F,B):d(v,Z,F,B,J,A+1);if(J>=0&&ae>0&&ae<F.length&&g(F,B,v,ae,v,oe,J,V,U),F.reverse(),B.reverse(),J>-1&&ae>0){let ie=m(X,U);D=XQ(X,F,B,0,F.length,0,E-v,ie,ie)}else D=y(X,F,B,E-v,V-E,U)}O.push(D),T.push(Y)}function f(C,N,O,T){let S=[],A=0,_=-1;for(;a.pos>N;){let{id:v,start:E,end:j,size:V}=a;if(V>4)a.next();else{if(_>-1&&E<_)break;_<0&&(_=j-i),S.push(v,E,j),A++,a.next()}}if(A){let v=new Uint16Array(A*4),E=S[S.length-2];for(let j=S.length-3,V=0;j>=0;j-=3)v[V++]=S[j],v[V++]=S[j+1]-E,v[V++]=S[j+2]-E,v[V++]=V;O.push(new lf(v,S[2]-E,r)),T.push(E-C)}}function m(C,N){return(O,T,S)=>{let A=0,_=O.length-1,v,E;if(_>=0&&(v=O[_])instanceof $i){if(!_&&v.type==C&&v.length==S)return v;(E=v.prop(xt.lookAhead))&&(A=T[_]+v.length+E)}return y(C,O,T,S,A,N)}}function g(C,N,O,T,S,A,_,v,E){let j=[],V=[];for(;C.length>T;)j.push(C.pop()),V.push(N.pop()+O-S);C.push(y(r.types[_],j,V,A-S,v-A,E)),N.push(S-O)}function y(C,N,O,T,S,A,_){if(A){let v=[xt.contextHash,A];_=_?[v].concat(_):[v]}if(S>25){let v=[xt.lookAhead,S];_=_?[v].concat(_):[v]}return new $i(C,N,O,T,_)}function x(C,N){let O=a.fork(),T=0,S=0,A=0,_=O.end-i,v={size:0,start:0,skip:0};e:for(let E=O.pos-C;O.pos>E;){let j=O.size;if(O.id==N&&j>=0){v.size=T,v.start=S,v.skip=A,A+=4,T+=4,O.next();continue}let V=O.pos-j;if(j<0||V<E||O.start<_)break;let U=O.id>=o?4:0,X=O.start;for(O.next();O.pos>V;){if(O.size<0)if(O.size==-3)U+=4;else break e;else O.id>=o&&(U+=4);O.next()}S=X,T+=j,A+=U}return(N<0||T==C)&&(v.size=T,v.start=S,v.skip=A),v.size>4?v:void 0}function w(C,N,O){let{id:T,start:S,end:A,size:_}=a;if(a.next(),_>=0&&T<o){let v=O;if(_>4){let E=a.pos-(_-4);for(;a.pos>E;)O=w(C,N,O)}N[--O]=v,N[--O]=A-C,N[--O]=S-C,N[--O]=T}else _==-3?c=T:_==-4&&(u=T);return O}let k=[],P=[];for(;a.pos>0;)d(n.start||0,n.bufferStart||0,k,P,-1,0);let Q=(e=n.length)!==null&&e!==void 0?e:k.length?P[0]+k[0].length:0;return new $i(l[n.topID],k.reverse(),P.reverse(),Q)}const oV=new WeakMap;function Rv(n,e){if(!n.isAnonymous||e instanceof lf||e.type!=n)return 1;let t=oV.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof $i)){t=1;break}t+=Rv(n,r)}oV.set(e,t)}return t}function XQ(n,e,t,r,i,s,o,a,l){let c=0;for(let g=r;g<i;g++)c+=Rv(n,e[g]);let u=Math.ceil(c*1.5/8),d=[],f=[];function m(g,y,x,w,k){for(let P=x;P<w;){let Q=P,C=y[P],N=Rv(n,g[P]);for(P++;P<w;P++){let O=Rv(n,g[P]);if(N+O>=u)break;N+=O}if(P==Q+1){if(N>u){let O=g[Q];m(O.children,O.positions,0,O.children.length,y[Q]+k);continue}d.push(g[Q])}else{let O=y[P-1]+g[P-1].length-C;d.push(XQ(n,g,y,Q,P,C,O,null,l))}f.push(C+k-s)}}return m(e,t,r,i,0),(a||l)(d,f,o)}let Qv=class vC{constructor(e,t,r,i,s=!1,o=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],r=!1){let i=[new vC(0,e.length,e,0,!1,r)];for(let s of t)s.to>e.length&&i.push(s);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let u=a<t.length?t[a]:null,d=u?u.fromA:1e9;if(d-l>=r)for(;o&&o.from<d;){let f=o;if(l>=f.from||d<=f.to||c){let m=Math.max(f.from,l)-c,g=Math.min(f.to,d)-c;f=m>=g?null:new vC(m,g,f.tree,f.offset+c,a>0,!!u)}if(f&&i.push(f),o.to>d)break;o=s<e.length?e[s++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return i}},DOe=class{startParse(e,t,r){return typeof e=="string"&&(e=new MOe(e)),r=r?r.length?r.map(i=>new Qk(i.from,i.to)):[new Qk(0,0)]:[new Qk(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let s=i.advance();if(s)return s}}},MOe=class{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}};new xt({perNode:!0});let VOe=0,Xn=class{constructor(e={}){this.id=VOe++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=xC.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}};Xn.closedBy=new Xn({deserialize:n=>n.split(" ")});Xn.openedBy=new Xn({deserialize:n=>n.split(" ")});Xn.group=new Xn({deserialize:n=>n.split(" ")});Xn.isolate=new Xn({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});Xn.contextHash=new Xn({perNode:!0});Xn.lookAhead=new Xn({perNode:!0});Xn.mounted=new Xn({perNode:!0});const LOe=Object.create(null);let xC=class RX{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):LOe,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new RX(e.name||"",t,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Xn.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(Xn.group),s=-1;s<(i?i.length:0);s++){let o=t[s<0?r.name:i[s]];if(o)return o}}}};xC.none=new xC("",Object.create(null),0,8);var aV;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(aV||(aV={}));new Xn({perNode:!0});let UOe=0;class ns{constructor(e,t,r,i){this.name=e,this.set=t,this.base=r,this.modified=i,this.id=UOe++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let r=typeof e=="string"?e:"?";if(e instanceof ns&&(t=e),t!=null&&t.base)throw new Error("Can not derive from a modified tag");let i=new ns(r,[],null,[]);if(i.set.push(i),t)for(let s of t.set)i.set.push(s);return i}static defineModifier(e){let t=new ww(e);return r=>r.modified.indexOf(t)>-1?r:ww.get(r.base||r,r.modified.concat(t).sort((i,s)=>i.id-s.id))}}let zOe=0;class ww{constructor(e){this.name=e,this.instances=[],this.id=zOe++}static get(e,t){if(!t.length)return e;let r=t[0].instances.find(a=>a.base==e&&qOe(t,a.modified));if(r)return r;let i=[],s=new ns(e.name,i,e,t);for(let a of t)a.instances.push(s);let o=FOe(t);for(let a of e.set)if(!a.modified.length)for(let l of o)i.push(ww.get(a,l));return s}}function qOe(n,e){return n.length==e.length&&n.every((t,r)=>t==e[r])}function FOe(n){let e=[[]];for(let t=0;t<n.length;t++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(n[t]));return e.sort((t,r)=>r.length-t.length)}function Gi(n){let e=Object.create(null);for(let t in n){let r=n[t];Array.isArray(r)||(r=[r]);for(let i of t.split(" "))if(i){let s=[],o=2,a=i;for(let d=0;;){if(a=="..."&&d>0&&d+3==i.length){o=1;break}let f=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!f)throw new RangeError("Invalid path: "+i);if(s.push(f[0]=="*"?"":f[0][0]=='"'?JSON.parse(f[0]):f[0]),d+=f[0].length,d==i.length)break;let m=i[d++];if(d==i.length&&m=="!"){o=0;break}if(m!="/")throw new RangeError("Invalid path: "+i);a=i.slice(d)}let l=s.length-1,c=s[l];if(!c)throw new RangeError("Invalid path: "+i);let u=new bw(r,o,l>0?s.slice(0,l):null);e[c]=u.sort(e[c])}}return QX.add(e)}const QX=new Xn;class bw{constructor(e,t,r,i){this.tags=e,this.mode=t,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}bw.empty=new bw([],2,null);function Zc(n,e){let t=Object.create(null);for(let s of n)if(!Array.isArray(s.tag))t[s.tag.id]=s.class;else for(let o of s.tag)t[o.id]=s.class;let{scope:r,all:i=null}=e||{};return{style:s=>{let o=i;for(let a of s)for(let l of a.set){let c=t[l.id];if(c){o=o?o+" "+c:c;break}}return o},scope:r}}function ZOe(n,e){let t=null;for(let r of n){let i=r.style(e);i&&(t=t?t+" "+i:i)}return t}function BOe(n,e,t,r=0,i=n.length){let s=new WOe(r,Array.isArray(e)?e:[e],t);s.highlightRange(n.cursor(),r,i,"",s.highlighters),s.flush(i)}class WOe{constructor(e,t,r){this.at=e,this.highlighters=t,this.span=r,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,r,i,s){let{type:o,from:a,to:l}=e;if(a>=r||l<=t)return;o.isTop&&(s=this.highlighters.filter(m=>!m.scope||m.scope(o)));let c=i,u=XOe(e)||bw.empty,d=ZOe(s,u.tags);if(d&&(c&&(c+=" "),c+=d,u.mode==1&&(i+=(i?" ":"")+d)),this.startSpan(Math.max(t,a),c),u.opaque)return;let f=e.tree&&e.tree.prop(Xn.mounted);if(f&&f.overlay){let m=e.node.enter(f.overlay[0].from+a,1),g=this.highlighters.filter(x=>!x.scope||x.scope(f.tree.type)),y=e.firstChild();for(let x=0,w=a;;x++){let k=x<f.overlay.length?f.overlay[x]:null,P=k?k.from+a:l,Q=Math.max(t,w),C=Math.min(r,P);if(Q<C&&y)for(;e.from<C&&(this.highlightRange(e,Q,C,i,s),this.startSpan(Math.min(C,e.to),c),!(e.to>=P||!e.nextSibling())););if(!k||P>r)break;w=k.to+a,w>t&&(this.highlightRange(m.cursor(),Math.max(t,k.from+a),Math.min(r,w),"",g),this.startSpan(Math.min(r,w),c))}y&&e.parent()}else if(e.firstChild()){f&&(i="");do if(!(e.to<=t)){if(e.from>=r)break;this.highlightRange(e,t,r,i,s),this.startSpan(Math.min(r,e.to),c)}while(e.nextSibling());e.parent()}}}function XOe(n){let e=n.type.prop(QX);for(;e&&e.context&&!n.matchContext(e.context);)e=e.next;return e||null}const Oe=ns.define,C0=Oe(),wl=Oe(),lV=Oe(wl),cV=Oe(wl),bl=Oe(),E0=Oe(bl),Nk=Oe(bl),io=Oe(),tu=Oe(io),no=Oe(),ro=Oe(),wC=Oe(),Ip=Oe(wC),A0=Oe(),$={comment:C0,lineComment:Oe(C0),blockComment:Oe(C0),docComment:Oe(C0),name:wl,variableName:Oe(wl),typeName:lV,tagName:Oe(lV),propertyName:cV,attributeName:Oe(cV),className:Oe(wl),labelName:Oe(wl),namespace:Oe(wl),macroName:Oe(wl),literal:bl,string:E0,docString:Oe(E0),character:Oe(E0),attributeValue:Oe(E0),number:Nk,integer:Oe(Nk),float:Oe(Nk),bool:Oe(bl),regexp:Oe(bl),escape:Oe(bl),color:Oe(bl),url:Oe(bl),keyword:no,self:Oe(no),null:Oe(no),atom:Oe(no),unit:Oe(no),modifier:Oe(no),operatorKeyword:Oe(no),controlKeyword:Oe(no),definitionKeyword:Oe(no),moduleKeyword:Oe(no),operator:ro,derefOperator:Oe(ro),arithmeticOperator:Oe(ro),logicOperator:Oe(ro),bitwiseOperator:Oe(ro),compareOperator:Oe(ro),updateOperator:Oe(ro),definitionOperator:Oe(ro),typeOperator:Oe(ro),controlOperator:Oe(ro),punctuation:wC,separator:Oe(wC),bracket:Ip,angleBracket:Oe(Ip),squareBracket:Oe(Ip),paren:Oe(Ip),brace:Oe(Ip),content:io,heading:tu,heading1:Oe(tu),heading2:Oe(tu),heading3:Oe(tu),heading4:Oe(tu),heading5:Oe(tu),heading6:Oe(tu),contentSeparator:Oe(io),list:Oe(io),quote:Oe(io),emphasis:Oe(io),strong:Oe(io),link:Oe(io),monospace:Oe(io),strikethrough:Oe(io),inserted:Oe(),deleted:Oe(),changed:Oe(),invalid:Oe(),meta:A0,documentMeta:Oe(A0),annotation:Oe(A0),processingInstruction:Oe(A0),definition:ns.defineModifier("definition"),constant:ns.defineModifier("constant"),function:ns.defineModifier("function"),standard:ns.defineModifier("standard"),local:ns.defineModifier("local"),special:ns.defineModifier("special")};for(let n in $){let e=$[n];e instanceof ns&&(e.name=n)}Zc([{tag:$.link,class:"tok-link"},{tag:$.heading,class:"tok-heading"},{tag:$.emphasis,class:"tok-emphasis"},{tag:$.strong,class:"tok-strong"},{tag:$.keyword,class:"tok-keyword"},{tag:$.atom,class:"tok-atom"},{tag:$.bool,class:"tok-bool"},{tag:$.url,class:"tok-url"},{tag:$.labelName,class:"tok-labelName"},{tag:$.inserted,class:"tok-inserted"},{tag:$.deleted,class:"tok-deleted"},{tag:$.literal,class:"tok-literal"},{tag:$.string,class:"tok-string"},{tag:$.number,class:"tok-number"},{tag:[$.regexp,$.escape,$.special($.string)],class:"tok-string2"},{tag:$.variableName,class:"tok-variableName"},{tag:$.local($.variableName),class:"tok-variableName tok-local"},{tag:$.definition($.variableName),class:"tok-variableName tok-definition"},{tag:$.special($.variableName),class:"tok-variableName2"},{tag:$.definition($.propertyName),class:"tok-propertyName tok-definition"},{tag:$.typeName,class:"tok-typeName"},{tag:$.namespace,class:"tok-namespace"},{tag:$.className,class:"tok-className"},{tag:$.macroName,class:"tok-macroName"},{tag:$.propertyName,class:"tok-propertyName"},{tag:$.operator,class:"tok-operator"},{tag:$.comment,class:"tok-comment"},{tag:$.meta,class:"tok-meta"},{tag:$.invalid,class:"tok-invalid"},{tag:$.punctuation,class:"tok-punctuation"}]);var Ik;const hm=new xt,GOe=new xt;let vo=class{constructor(e,t,r=[],i=""){this.data=e,this.name=i,Ve.prototype.hasOwnProperty("tree")||Object.defineProperty(Ve.prototype,"tree",{get(){return $r(this)}}),this.parser=t,this.extension=[Pc.of(this),Ve.languageData.of((s,o,a)=>{let l=uV(s,o,a),c=l.type.prop(hm);if(!c)return[];let u=s.facet(c),d=l.type.prop(GOe);if(d){let f=l.resolve(o-l.from,a);for(let m of d)if(m.test(f,s)){let g=s.facet(m.facet);return m.type=="replace"?g:g.concat(u)}}return u})].concat(r)}isActiveAt(e,t,r=-1){return uV(e,t,r).type.prop(hm)==this.data}findRegions(e){let t=e.facet(Pc);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let r=[],i=(s,o)=>{if(s.prop(hm)==this.data){r.push({from:o,to:o+s.length});return}let a=s.prop(xt.mounted);if(a){if(a.tree.prop(hm)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+o,to:l.to+o});else r.push({from:o,to:o+s.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+o),r.length>l)return}}for(let l=0;l<s.children.length;l++){let c=s.children[l];c instanceof $i&&i(c,s.positions[l]+o)}};return i($r(e),0),r}get allowsNesting(){return!0}};vo.setState=Me.define();function uV(n,e,t){let r=n.facet(Pc),i=$r(n).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,t,cr.ExcludeBuffers))s.type.isTop&&(i=s);return i}function $r(n){let e=n.field(vo.state,!1);return e?e.tree:$i.empty}let YOe=class{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}},$p=null,HOe=class bC{constructor(e,t,r=[],i,s,o,a,l){this.parser=e,this.state=t,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new bC(e,t,[],$i.empty,0,r,[],null)}startParse(){return this.parser.startParse(new YOe(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=$i.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(Qv.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Qv.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=$p;$p=this;try{return e()}finally{$p=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=hV(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:i,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,u,d,f)=>l.push({fromA:c,toA:u,fromB:d,toB:f})),r=Qv.applyChanges(r,l),i=$i.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),d=e.mapPos(c.to,-1);u<d&&a.push({from:u,to:d})}}}return new bC(this.parser,t,r,i,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=hV(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends DOe{createParse(t,r,i){let s=i[0].from,o=i[i.length-1].to;return{parsedPos:s,advance(){let l=$p;if(l){for(let c of i)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new $i(Uo.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return $p}};function hV(n,e,t){return Qv.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}let SC=class kC{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new kC(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=HOe.create(e.facet(Pc).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new kC(r)}};vo.state=Xt.define({create:SC.init,update(n,e){for(let t of e.effects)if(t.is(vo.setState))return t.value;return e.startState.facet(Pc)!=e.state.facet(Pc)?SC.init(e.state):n.apply(e)}});let NX=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(NX=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const $k=typeof navigator<"u"&&(!((Ik=navigator.scheduling)===null||Ik===void 0)&&Ik.isInputPending)?()=>navigator.scheduling.isInputPending():null,KOe=Vt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(vo.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(vo.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=NX(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(vo.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!$k?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<i&&r.doc.length>i+1e3,l=s.context.work(()=>$k&&$k()||Date.now()>o,i+(a?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:vo.setState.of(new SC(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>Rn(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Pc=de.define({combine(n){return n.length?n[0]:null},enables:n=>[vo.state,KOe,fe.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]}),JOe=de.define(),GQ=de.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}});function Sw(n){let e=n.facet(GQ);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function Gg(n,e){let t="",r=n.tabSize,i=n.facet(GQ)[0];if(i=="	"){for(;e>=r;)t+="	",e-=r;i=" "}for(let s=0;s<e;s++)t+=i;return t}function YQ(n,e){n instanceof Ve&&(n=new TS(n));for(let r of n.state.facet(JOe)){let i=r(n,e);if(i!==void 0)return i}let t=$r(n.state);return t.length>=e?tye(n,t,e):null}class TS{constructor(e,t={}){this.state=e,this.options=t,this.unit=Sw(e)}lineAt(e,t=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:s}=this.options;return i!=null&&i>=r.from&&i<=r.to?s&&i==e?{text:"",from:e}:(t<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,t);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,t=1){let{text:r,from:i}=this.lineAt(e,t),s=this.countColumn(r,e-i),o=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return o>-1&&(s+=o-this.countColumn(r,r.search(/\S|$/))),s}countColumn(e,t=e.length){return Xf(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:r,from:i}=this.lineAt(e,t),s=this.options.overrideIndentation;if(s){let o=s(i);if(o>-1)return o}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const eye=new xt;function tye(n,e,t){let r=e.resolveStack(t),i=e.resolveInner(t,-1).resolve(t,0).enterUnfinishedNodesBefore(t);if(i!=r.node){let s=[];for(let o=i;o&&!(o.from==r.node.from&&o.type==r.node.type);o=o.parent)s.push(o);for(let o=s.length-1;o>=0;o--)r={node:s[o],next:r}}return IX(r,n,t)}function IX(n,e,t){for(let r=n;r;r=r.next){let i=rye(r.node);if(i)return i(HQ.create(e,t,r))}return 0}function nye(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function rye(n){let e=n.type.prop(eye);if(e)return e;let t=n.firstChild,r;if(t&&(r=t.type.prop(xt.closedBy))){let i=n.lastChild,s=i&&r.indexOf(i.name)>-1;return o=>aye(o,!0,1,void 0,s&&!nye(o)?i.from:void 0)}return n.parent==null?iye:null}function iye(){return 0}class HQ extends TS{constructor(e,t,r){super(e.state,e.options),this.base=e,this.pos=t,this.context=r}get node(){return this.context.node}static create(e,t,r){return new HQ(e,t,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(t.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(sye(r,e))break;t=this.state.doc.lineAt(r.from)}return this.lineIndent(t.from)}continue(){return IX(this.context.next,this.base,this.pos)}}function sye(n,e){for(let t=e;t;t=t.parent)if(n==t)return!0;return!1}function oye(n){let e=n.node,t=e.childAfter(e.from),r=e.lastChild;if(!t)return null;let i=n.options.simulateBreak,s=n.state.doc.lineAt(t.from),o=i==null||i<=s.from?s.to:Math.min(s.to,i);for(let a=t.to;;){let l=e.childAfter(a);if(!l||l==r)return null;if(!l.type.isSkipped){if(l.from>=o)return null;let c=/^ */.exec(s.text.slice(t.to-s.from))[0].length;return{from:t.from,to:t.to+c}}a=l.to}}function aye(n,e,t,r,i){let s=n.textAfter,o=s.match(/^\s*/)[0].length,a=i==n.pos+o,l=oye(n);return l?a?n.column(l.from):n.column(l.to):n.baseIndent+(a?0:n.unit*t)}const lye=200;function cye(){return Ve.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let e=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!e.length)return n;let t=n.newDoc,{head:r}=n.newSelection.main,i=t.lineAt(r);if(r>i.from+lye)return n;let s=t.sliceString(i.from,r);if(!e.some(c=>c.test(s)))return n;let{state:o}=n,a=-1,l=[];for(let{head:c}of o.selection.ranges){let u=o.doc.lineAt(c);if(u.from==a)continue;a=u.from;let d=YQ(o,u.from);if(d==null)continue;let f=/^\s*/.exec(u.text)[0],m=Gg(o,d);f!=m&&l.push({from:u.from,to:u.from+f.length,insert:m})}return l.length?[n,{changes:l,sequential:!0}]:n})}const uye=de.define(),hye=new xt;function dye(n,e,t){let r=$r(n);if(r.length<t)return null;let i=r.resolveStack(t,1),s=null;for(let o=i;o;o=o.next){let a=o.node;if(a.to<=t||a.from>t)continue;if(s&&a.from<e)break;let l=a.type.prop(hye);if(l&&(a.to<r.length-50||r.length==n.doc.length||!fye(a))){let c=l(a,n);c&&c.from<=t&&c.from>=e&&c.to>t&&(s=c)}}return s}function fye(n){let e=n.lastChild;return e&&e.to==n.to&&e.type.isError}function kw(n,e,t){for(let r of n.facet(uye)){let i=r(n,e,t);if(i)return i}return dye(n,e,t)}function $X(n,e){let t=e.mapPos(n.from,1),r=e.mapPos(n.to,-1);return t>=r?void 0:{from:t,to:r}}const PS=Me.define({map:$X}),ay=Me.define({map:$X});function jX(n){let e=[];for(let{head:t}of n.state.selection.ranges)e.some(r=>r.from<=t&&r.to>=t)||e.push(n.lineBlockAt(t));return e}const eh=Xt.define({create(){return ye.none},update(n,e){n=n.map(e.changes);for(let t of e.effects)if(t.is(PS)&&!pye(n,t.value.from,t.value.to)){let{preparePlaceholder:r}=e.state.facet(VX),i=r?ye.replace({widget:new wye(r(e.state,t.value))}):dV;n=n.update({add:[i.range(t.value.from,t.value.to)]})}else t.is(ay)&&(n=n.update({filter:(r,i)=>t.value.from!=r||t.value.to!=i,filterFrom:t.value.from,filterTo:t.value.to}));if(e.selection){let t=!1,{head:r}=e.selection.main;n.between(r,r,(i,s)=>{i<r&&s>r&&(t=!0)}),t&&(n=n.update({filterFrom:r,filterTo:r,filter:(i,s)=>s<=r||i>=r}))}return n},provide:n=>fe.decorations.from(n),toJSON(n,e){let t=[];return n.between(0,e.doc.length,(r,i)=>{t.push(r,i)}),t},fromJSON(n){if(!Array.isArray(n)||n.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<n.length;){let r=n[t++],i=n[t++];if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(dV.range(r,i))}return ye.set(e,!0)}});function _w(n,e,t){var r;let i=null;return(r=n.field(eh,!1))===null||r===void 0||r.between(e,t,(s,o)=>{(!i||i.from>s)&&(i={from:s,to:o})}),i}function pye(n,e,t){let r=!1;return n.between(e,e,(i,s)=>{i==e&&s==t&&(r=!0)}),r}function DX(n,e){return n.field(eh,!1)?e:e.concat(Me.appendConfig.of(LX()))}const mye=n=>{for(let e of jX(n)){let t=kw(n.state,e.from,e.to);if(t)return n.dispatch({effects:DX(n.state,[PS.of(t),MX(n,t)])}),!0}return!1},gye=n=>{if(!n.state.field(eh,!1))return!1;let e=[];for(let t of jX(n)){let r=_w(n.state,t.from,t.to);r&&e.push(ay.of(r),MX(n,r,!1))}return e.length&&n.dispatch({effects:e}),e.length>0};function MX(n,e,t=!0){let r=n.state.doc.lineAt(e.from).number,i=n.state.doc.lineAt(e.to).number;return fe.announce.of(`${n.state.phrase(t?"Folded lines":"Unfolded lines")} ${r} ${n.state.phrase("to")} ${i}.`)}const Oye=n=>{let{state:e}=n,t=[];for(let r=0;r<e.doc.length;){let i=n.lineBlockAt(r),s=kw(e,i.from,i.to);s&&t.push(PS.of(s)),r=(s?n.lineBlockAt(s.to):i).to+1}return t.length&&n.dispatch({effects:DX(n.state,t)}),!!t.length},yye=n=>{let e=n.state.field(eh,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,n.state.doc.length,(r,i)=>{t.push(ay.of({from:r,to:i}))}),n.dispatch({effects:t}),!0},vye=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:mye},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:gye},{key:"Ctrl-Alt-[",run:Oye},{key:"Ctrl-Alt-]",run:yye}],xye={placeholderDOM:null,preparePlaceholder:null,placeholderText:"…"},VX=de.define({combine(n){return ta(n,xye)}});function LX(n){return[eh,kye]}function UX(n,e){let{state:t}=n,r=t.facet(VX),i=o=>{let a=n.lineBlockAt(n.posAtDOM(o.target)),l=_w(n.state,a.from,a.to);l&&n.dispatch({effects:ay.of(l)}),o.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(n,i,e);let s=document.createElement("span");return s.textContent=r.placeholderText,s.setAttribute("aria-label",t.phrase("folded code")),s.title=t.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=i,s}const dV=ye.replace({widget:new class extends na{toDOM(n){return UX(n,null)}}});class wye extends na{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return UX(e,this.value)}}const bye={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class jk extends Ja{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function Sye(n={}){let e=Object.assign(Object.assign({},bye),n),t=new jk(e,!0),r=new jk(e,!1),i=Vt.fromClass(class{constructor(o){this.from=o.viewport.from,this.markers=this.buildMarkers(o)}update(o){(o.docChanged||o.viewportChanged||o.startState.facet(Pc)!=o.state.facet(Pc)||o.startState.field(eh,!1)!=o.state.field(eh,!1)||$r(o.startState)!=$r(o.state)||e.foldingChanged(o))&&(this.markers=this.buildMarkers(o.view))}buildMarkers(o){let a=new Ha;for(let l of o.viewportLineBlocks){let c=_w(o.state,l.from,l.to)?r:kw(o.state,l.from,l.to)?t:null;c&&a.add(l.from,l.from,c)}return a.finish()}}),{domEventHandlers:s}=e;return[i,yOe({class:"cm-foldGutter",markers(o){var a;return((a=o.plugin(i))===null||a===void 0?void 0:a.markers)||yt.empty},initialSpacer(){return new jk(e,!1)},domEventHandlers:Object.assign(Object.assign({},s),{click:(o,a,l)=>{if(s.click&&s.click(o,a,l))return!0;let c=_w(o.state,a.from,a.to);if(c)return o.dispatch({effects:ay.of(c)}),!0;let u=kw(o.state,a.from,a.to);return u?(o.dispatch({effects:PS.of(u)}),!0):!1}})}),LX()]}const kye=fe.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});let zX=class qX{constructor(e,t){this.specs=e;let r;function i(a){let l=Nn.newName();return(r||(r=Object.create(null)))["."+l]=a,l}const s=typeof t.all=="string"?t.all:t.all?i(t.all):void 0,o=t.scope;this.scope=o instanceof vo?a=>a.prop(hm)==o.data:o?a=>a==o:void 0,this.style=Zc(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=r?new Nn(r):null,this.themeType=t.themeType}static define(e,t){return new qX(e,t||{})}};const _C=de.define(),FX=de.define({combine(n){return n.length?[n[0]]:null}});function Dk(n){let e=n.facet(_C);return e.length?e:n.facet(FX)}function _ye(n,e){let t=[Pye],r;return n instanceof zX&&(n.module&&t.push(fe.styleModule.of(n.module)),r=n.themeType),e!=null&&e.fallback?t.push(FX.of(n)):r?t.push(_C.computeN([fe.darkTheme],i=>i.facet(fe.darkTheme)==(r=="dark")?[n]:[])):t.push(_C.of(n)),t}class Tye{constructor(e){this.markCache=Object.create(null),this.tree=$r(e.state),this.decorations=this.buildDeco(e,Dk(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=$r(e.state),r=Dk(e.state),i=r!=Dk(e.startState),{viewport:s}=e.view,o=e.changes.mapPos(this.decoratedTo,1);t.length<s.to&&!i&&t.type==this.tree.type&&o>=s.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=o):(t!=this.tree||e.viewportChanged||i)&&(this.tree=t,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=s.to)}buildDeco(e,t){if(!t||!this.tree.length)return ye.none;let r=new Ha;for(let{from:i,to:s}of e.visibleRanges)BOe(this.tree,t,(o,a,l)=>{r.add(o,a,this.markCache[l]||(this.markCache[l]=ye.mark({class:l})))},i,s);return r.finish()}}const Pye=ll.high(Vt.fromClass(Tye,{decorations:n=>n.decorations})),Cye=zX.define([{tag:$.meta,color:"#404740"},{tag:$.link,textDecoration:"underline"},{tag:$.heading,textDecoration:"underline",fontWeight:"bold"},{tag:$.emphasis,fontStyle:"italic"},{tag:$.strong,fontWeight:"bold"},{tag:$.strikethrough,textDecoration:"line-through"},{tag:$.keyword,color:"#708"},{tag:[$.atom,$.bool,$.url,$.contentSeparator,$.labelName],color:"#219"},{tag:[$.literal,$.inserted],color:"#164"},{tag:[$.string,$.deleted],color:"#a11"},{tag:[$.regexp,$.escape,$.special($.string)],color:"#e40"},{tag:$.definition($.variableName),color:"#00f"},{tag:$.local($.variableName),color:"#30a"},{tag:[$.typeName,$.namespace],color:"#085"},{tag:$.className,color:"#167"},{tag:[$.special($.variableName),$.macroName],color:"#256"},{tag:$.definition($.propertyName),color:"#00c"},{tag:$.comment,color:"#940"},{tag:$.invalid,color:"#f00"}]),Eye=fe.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),ZX=1e4,BX="()[]{}",WX=de.define({combine(n){return ta(n,{afterCursor:!0,brackets:BX,maxScanDistance:ZX,renderMatch:Qye})}}),Aye=ye.mark({class:"cm-matchingBracket"}),Rye=ye.mark({class:"cm-nonmatchingBracket"});function Qye(n){let e=[],t=n.matched?Aye:Rye;return e.push(t.range(n.start.from,n.start.to)),n.end&&e.push(t.range(n.end.from,n.end.to)),e}const Nye=Xt.define({create(){return ye.none},update(n,e){if(!e.docChanged&&!e.selection)return n;let t=[],r=e.state.facet(WX);for(let i of e.state.selection.ranges){if(!i.empty)continue;let s=xo(e.state,i.head,-1,r)||i.head>0&&xo(e.state,i.head-1,1,r)||r.afterCursor&&(xo(e.state,i.head,1,r)||i.head<e.state.doc.length&&xo(e.state,i.head+1,-1,r));s&&(t=t.concat(r.renderMatch(s,e.state)))}return ye.set(t,!0)},provide:n=>fe.decorations.from(n)}),Iye=[Nye,Eye];function $ye(n={}){return[WX.of(n),Iye]}const jye=new xt;function TC(n,e,t){let r=n.prop(e<0?xt.openedBy:xt.closedBy);if(r)return r;if(n.name.length==1){let i=t.indexOf(n.name);if(i>-1&&i%2==(e<0?1:0))return[t[i+e]]}return null}function PC(n){let e=n.type.prop(jye);return e?e(n.node):n}function xo(n,e,t,r={}){let i=r.maxScanDistance||ZX,s=r.brackets||BX,o=$r(n),a=o.resolveInner(e,t);for(let l=a;l;l=l.parent){let c=TC(l.type,t,s);if(c&&l.from<l.to){let u=PC(l);if(u&&(t>0?e>=u.from&&e<u.to:e>u.from&&e<=u.to))return Dye(n,e,t,l,u,c,s)}}return Mye(n,e,t,o,a.type,i,s)}function Dye(n,e,t,r,i,s,o){let a=r.parent,l={from:i.from,to:i.to},c=0,u=a==null?void 0:a.cursor();if(u&&(t<0?u.childBefore(r.from):u.childAfter(r.to)))do if(t<0?u.to<=r.from:u.from>=r.to){if(c==0&&s.indexOf(u.type.name)>-1&&u.from<u.to){let d=PC(u);return{start:l,end:d?{from:d.from,to:d.to}:void 0,matched:!0}}else if(TC(u.type,t,o))c++;else if(TC(u.type,-t,o)){if(c==0){let d=PC(u);return{start:l,end:d&&d.from<d.to?{from:d.from,to:d.to}:void 0,matched:!1}}c--}}while(t<0?u.prevSibling():u.nextSibling());return{start:l,matched:!1}}function Mye(n,e,t,r,i,s,o){let a=t<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),l=o.indexOf(a);if(l<0||l%2==0!=t>0)return null;let c={from:t<0?e-1:e,to:t>0?e+1:e},u=n.doc.iterRange(e,t>0?n.doc.length:0),d=0;for(let f=0;!u.next().done&&f<=s;){let m=u.value;t<0&&(f+=m.length);let g=e+f*t;for(let y=t>0?0:m.length-1,x=t>0?m.length:-1;y!=x;y+=t){let w=o.indexOf(m[y]);if(!(w<0||r.resolveInner(g+y,1).type!=i))if(w%2==0==t>0)d++;else{if(d==1)return{start:c,end:{from:g+y,to:g+y+1},matched:w>>1==l>>1};d--}}t>0&&(f+=m.length)}return u.done?{start:c,matched:!1}:null}const Vye=Object.create(null),fV=[Uo.none],pV=[],mV=Object.create(null),Lye=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Lye[n]=Uye(Vye,e);function Mk(n,e){pV.indexOf(n)>-1||(pV.push(n),console.warn(e))}function Uye(n,e){let t=[];for(let a of e.split(" ")){let l=[];for(let c of a.split(".")){let u=n[c]||$[c];u?typeof u=="function"?l.length?l=l.map(u):Mk(c,`Modifier ${c} used at start of tag`):l.length?Mk(c,`Tag ${c} used as modifier`):l=Array.isArray(u)?u:[u]:Mk(c,`Unknown highlighting tag ${c}`)}for(let c of l)t.push(c)}if(!t.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+t.map(a=>a.id),s=mV[i];if(s)return s.id;let o=mV[i]=Uo.define({id:fV.length,name:r,props:[Gi({[r]:t})]});return fV.push(o),o.id}it.RTL,it.LTR;const zye=n=>{let{state:e}=n,t=e.doc.lineAt(e.selection.main.from),r=JQ(n.state,t.from);return r.line?qye(n):r.block?Zye(n):!1};function KQ(n,e){return({state:t,dispatch:r})=>{if(t.readOnly)return!1;let i=n(e,t);return i?(r(t.update(i)),!0):!1}}const qye=KQ(Xye,0),Fye=KQ(XX,0),Zye=KQ((n,e)=>XX(n,e,Wye(e)),0);function JQ(n,e){let t=n.languageDataAt("commentTokens",e);return t.length?t[0]:{}}const jp=50;function Bye(n,{open:e,close:t},r,i){let s=n.sliceDoc(r-jp,r),o=n.sliceDoc(i,i+jp),a=/\s*$/.exec(s)[0].length,l=/^\s*/.exec(o)[0].length,c=s.length-a;if(s.slice(c-e.length,c)==e&&o.slice(l,l+t.length)==t)return{open:{pos:r-a,margin:a&&1},close:{pos:i+l,margin:l&&1}};let u,d;i-r<=2*jp?u=d=n.sliceDoc(r,i):(u=n.sliceDoc(r,r+jp),d=n.sliceDoc(i-jp,i));let f=/^\s*/.exec(u)[0].length,m=/\s*$/.exec(d)[0].length,g=d.length-m-t.length;return u.slice(f,f+e.length)==e&&d.slice(g,g+t.length)==t?{open:{pos:r+f+e.length,margin:/\s/.test(u.charAt(f+e.length))?1:0},close:{pos:i-m-t.length,margin:/\s/.test(d.charAt(g-1))?1:0}}:null}function Wye(n){let e=[];for(let t of n.selection.ranges){let r=n.doc.lineAt(t.from),i=t.to<=r.to?r:n.doc.lineAt(t.to);i.from>r.from&&i.from==t.to&&(i=t.to==r.to+1?r:n.doc.lineAt(t.to-1));let s=e.length-1;s>=0&&e[s].to>r.from?e[s].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}function XX(n,e,t=e.selection.ranges){let r=t.map(s=>JQ(e,s.from).block);if(!r.every(s=>s))return null;let i=t.map((s,o)=>Bye(e,r[o],s.from,s.to));if(n!=2&&!i.every(s=>s))return{changes:e.changes(t.map((s,o)=>i[o]?[]:[{from:s.from,insert:r[o].open+" "},{from:s.to,insert:" "+r[o].close}]))};if(n!=1&&i.some(s=>s)){let s=[];for(let o=0,a;o<i.length;o++)if(a=i[o]){let l=r[o],{open:c,close:u}=a;s.push({from:c.pos-l.open.length,to:c.pos+c.margin},{from:u.pos-u.margin,to:u.pos+l.close.length})}return{changes:s}}return null}function Xye(n,e,t=e.selection.ranges){let r=[],i=-1;for(let{from:s,to:o}of t){let a=r.length,l=1e9,c=JQ(e,s).line;if(c){for(let u=s;u<=o;){let d=e.doc.lineAt(u);if(d.from>i&&(s==o||o>d.from)){i=d.from;let f=/^\s*/.exec(d.text)[0].length,m=f==d.length,g=d.text.slice(f,f+c.length)==c?f:-1;f<d.text.length&&f<l&&(l=f),r.push({line:d,comment:g,token:c,indent:f,empty:m,single:!1})}u=d.to+1}if(l<1e9)for(let u=a;u<r.length;u++)r[u].indent<r[u].line.text.length&&(r[u].indent=l);r.length==a+1&&(r[a].single=!0)}}if(n!=2&&r.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:a,token:l,indent:c,empty:u,single:d}of r)(d||!u)&&s.push({from:a.from+c,insert:l+" "});let o=e.changes(s);return{changes:o,selection:e.selection.map(o,1)}}else if(n!=1&&r.some(s=>s.comment>=0)){let s=[];for(let{line:o,comment:a,token:l}of r)if(a>=0){let c=o.from+a,u=c+l.length;o.text[u-o.from]==" "&&u++,s.push({from:c,to:u})}return{changes:s}}return null}const CC=Hs.define(),Gye=Hs.define(),Yye=de.define(),GX=de.define({combine(n){return ta(n,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(r,i)=>e(r,i)||t(r,i)})}}),YX=Xt.define({create(){return wo.empty},update(n,e){let t=e.state.facet(GX),r=e.annotation(CC);if(r){let l=gi.fromTransaction(e,r.selection),c=r.side,u=c==0?n.undone:n.done;return l?u=Tw(u,u.length,t.minDepth,l):u=JX(u,e.startState.selection),new wo(c==0?r.rest:u,c==0?u:r.rest)}let i=e.annotation(Gye);if((i=="full"||i=="before")&&(n=n.isolate()),e.annotation(bn.addToHistory)===!1)return e.changes.empty?n:n.addMapping(e.changes.desc);let s=gi.fromTransaction(e),o=e.annotation(bn.time),a=e.annotation(bn.userEvent);return s?n=n.addChanges(s,o,a,t,e):e.selection&&(n=n.addSelection(e.startState.selection,o,a,t.newGroupDelay)),(i=="full"||i=="after")&&(n=n.isolate()),n},toJSON(n){return{done:n.done.map(e=>e.toJSON()),undone:n.undone.map(e=>e.toJSON())}},fromJSON(n){return new wo(n.done.map(gi.fromJSON),n.undone.map(gi.fromJSON))}});function Hye(n={}){return[YX,GX.of(n),fe.domEventHandlers({beforeinput(e,t){let r=e.inputType=="historyUndo"?HX:e.inputType=="historyRedo"?EC:null;return r?(e.preventDefault(),r(t)):!1}})]}function CS(n,e){return function({state:t,dispatch:r}){if(!e&&t.readOnly)return!1;let i=t.field(YX,!1);if(!i)return!1;let s=i.pop(n,t,e);return s?(r(s),!0):!1}}const HX=CS(0,!1),EC=CS(1,!1),Kye=CS(0,!0),Jye=CS(1,!0);class gi{constructor(e,t,r,i,s){this.changes=e,this.effects=t,this.mapped=r,this.startSelection=i,this.selectionsAfter=s}setSelAfter(e){return new gi(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new gi(e.changes&&Mn.fromJSON(e.changes),[],e.mapped&&Qo.fromJSON(e.mapped),e.startSelection&&te.fromJSON(e.startSelection),e.selectionsAfter.map(te.fromJSON))}static fromTransaction(e,t){let r=is;for(let i of e.startState.facet(Yye)){let s=i(e);s.length&&(r=r.concat(s))}return!r.length&&e.changes.empty?null:new gi(e.changes.invert(e.startState.doc),r,void 0,t||e.startState.selection,is)}static selection(e){return new gi(void 0,is,void 0,void 0,e)}}function Tw(n,e,t,r){let i=e+1>t+20?e-t-1:0,s=n.slice(i,e);return s.push(r),s}function e0e(n,e){let t=[],r=!1;return n.iterChangedRanges((i,s)=>t.push(i,s)),e.iterChangedRanges((i,s,o,a)=>{for(let l=0;l<t.length;){let c=t[l++],u=t[l++];a>=c&&o<=u&&(r=!0)}}),r}function t0e(n,e){return n.ranges.length==e.ranges.length&&n.ranges.filter((t,r)=>t.empty!=e.ranges[r].empty).length===0}function KX(n,e){return n.length?e.length?n.concat(e):n:e}const is=[],n0e=200;function JX(n,e){if(n.length){let t=n[n.length-1],r=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-n0e));return r.length&&r[r.length-1].eq(e)?n:(r.push(e),Tw(n,n.length-1,1e9,t.setSelAfter(r)))}else return[gi.selection([e])]}function r0e(n){let e=n[n.length-1],t=n.slice();return t[n.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function Vk(n,e){if(!n.length)return n;let t=n.length,r=is;for(;t;){let i=i0e(n[t-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let s=n.slice(0,t);return s[t-1]=i,s}else e=i.mapped,t--,r=i.selectionsAfter}return r.length?[gi.selection(r)]:is}function i0e(n,e,t){let r=KX(n.selectionsAfter.length?n.selectionsAfter.map(a=>a.map(e)):is,t);if(!n.changes)return gi.selection(r);let i=n.changes.map(e),s=e.mapDesc(n.changes,!0),o=n.mapped?n.mapped.composeDesc(s):s;return new gi(i,Me.mapEffects(n.effects,e),o,n.startSelection.map(s),r)}const s0e=/^(input\.type|delete)($|\.)/;class wo{constructor(e,t,r=0,i=void 0){this.done=e,this.undone=t,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new wo(this.done,this.undone):this}addChanges(e,t,r,i,s){let o=this.done,a=o[o.length-1];return a&&a.changes&&!a.changes.empty&&e.changes&&(!r||s0e.test(r))&&(!a.selectionsAfter.length&&t-this.prevTime<i.newGroupDelay&&i.joinToEvent(s,e0e(a.changes,e.changes))||r=="input.type.compose")?o=Tw(o,o.length-1,i.minDepth,new gi(e.changes.compose(a.changes),KX(Me.mapEffects(e.effects,a.changes),a.effects),a.mapped,a.startSelection,is)):o=Tw(o,o.length,i.minDepth,e),new wo(o,is,t,r)}addSelection(e,t,r,i){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:is;return s.length>0&&t-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&t0e(s[s.length-1],e)?this:new wo(JX(this.done,e),this.undone,t,r)}addMapping(e){return new wo(Vk(this.done,e),Vk(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,r){let i=e==0?this.done:this.undone;if(i.length==0)return null;let s=i[i.length-1],o=s.selectionsAfter[0]||t.selection;if(r&&s.selectionsAfter.length)return t.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:CC.of({side:e,rest:r0e(i),selection:o}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let a=i.length==1?is:i.slice(0,i.length-1);return s.mapped&&(a=Vk(a,s.mapped)),t.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:CC.of({side:e,rest:a,selection:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}wo.empty=new wo(is,is);const o0e=[{key:"Mod-z",run:HX,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:EC,preventDefault:!0},{linux:"Ctrl-Shift-z",run:EC,preventDefault:!0},{key:"Mod-u",run:Kye,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:Jye,preventDefault:!0}];function Gf(n,e){return te.create(n.ranges.map(e),n.mainIndex)}function ra(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Ks({state:n,dispatch:e},t){let r=Gf(n.selection,t);return r.eq(n.selection,!0)?!1:(e(ra(n,r)),!0)}function ES(n,e){return te.cursor(e?n.to:n.from)}function e9(n,e){return Ks(n,t=>t.empty?n.moveByChar(t,e):ES(t,e))}function jr(n){return n.textDirectionAt(n.state.selection.main.head)==it.LTR}const t9=n=>e9(n,!jr(n)),n9=n=>e9(n,jr(n));function r9(n,e){return Ks(n,t=>t.empty?n.moveByGroup(t,e):ES(t,e))}const a0e=n=>r9(n,!jr(n)),l0e=n=>r9(n,jr(n));function c0e(n,e,t){if(e.type.prop(t))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function AS(n,e,t){let r=$r(n).resolveInner(e.head),i=t?xt.closedBy:xt.openedBy;for(let l=e.head;;){let c=t?r.childAfter(l):r.childBefore(l);if(!c)break;c0e(n,c,i)?r=c:l=t?c.to:c.from}let s=r.type.prop(i),o,a;return s&&(o=t?xo(n,r.from,1):xo(n,r.to,-1))&&o.matched?a=t?o.end.to:o.end.from:a=t?r.to:r.from,te.cursor(a,t?-1:1)}const u0e=n=>Ks(n,e=>AS(n.state,e,!jr(n))),h0e=n=>Ks(n,e=>AS(n.state,e,jr(n)));function i9(n,e){return Ks(n,t=>{if(!t.empty)return ES(t,e);let r=n.moveVertically(t,e);return r.head!=t.head?r:n.moveToLineBoundary(t,e)})}const s9=n=>i9(n,!1),o9=n=>i9(n,!0);function a9(n){let e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,t=0,r=0,i;if(e){for(let s of n.state.facet(fe.scrollMargins)){let o=s(n);o!=null&&o.top&&(t=Math.max(o==null?void 0:o.top,t)),o!=null&&o.bottom&&(r=Math.max(o==null?void 0:o.bottom,r))}i=n.scrollDOM.clientHeight-t-r}else i=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:r,selfScroll:e,height:Math.max(n.defaultLineHeight,i-5)}}function l9(n,e){let t=a9(n),{state:r}=n,i=Gf(r.selection,o=>o.empty?n.moveVertically(o,e,t.height):ES(o,e));if(i.eq(r.selection))return!1;let s;if(t.selfScroll){let o=n.coordsAtPos(r.selection.main.head),a=n.scrollDOM.getBoundingClientRect(),l=a.top+t.marginTop,c=a.bottom-t.marginBottom;o&&o.top>l&&o.bottom<c&&(s=fe.scrollIntoView(i.main.head,{y:"start",yMargin:o.top-l}))}return n.dispatch(ra(r,i),{effects:s}),!0}const gV=n=>l9(n,!1),AC=n=>l9(n,!0);function Bc(n,e,t){let r=n.lineBlockAt(e.head),i=n.moveToLineBoundary(e,t);if(i.head==e.head&&i.head!=(t?r.to:r.from)&&(i=n.moveToLineBoundary(e,t,!1)),!t&&i.head==r.from&&r.length){let s=/^\s*/.exec(n.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;s&&e.head!=r.from+s&&(i=te.cursor(r.from+s))}return i}const d0e=n=>Ks(n,e=>Bc(n,e,!0)),f0e=n=>Ks(n,e=>Bc(n,e,!1)),p0e=n=>Ks(n,e=>Bc(n,e,!jr(n))),m0e=n=>Ks(n,e=>Bc(n,e,jr(n))),g0e=n=>Ks(n,e=>te.cursor(n.lineBlockAt(e.head).from,1)),O0e=n=>Ks(n,e=>te.cursor(n.lineBlockAt(e.head).to,-1));function y0e(n,e,t){let r=!1,i=Gf(n.selection,s=>{let o=xo(n,s.head,-1)||xo(n,s.head,1)||s.head>0&&xo(n,s.head-1,1)||s.head<n.doc.length&&xo(n,s.head+1,-1);if(!o||!o.end)return s;r=!0;let a=o.start.from==s.head?o.end.to:o.end.from;return te.cursor(a)});return r?(e(ra(n,i)),!0):!1}const v0e=({state:n,dispatch:e})=>y0e(n,e);function gs(n,e){let t=Gf(n.state.selection,r=>{let i=e(r);return te.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return t.eq(n.state.selection)?!1:(n.dispatch(ra(n.state,t)),!0)}function c9(n,e){return gs(n,t=>n.moveByChar(t,e))}const u9=n=>c9(n,!jr(n)),h9=n=>c9(n,jr(n));function d9(n,e){return gs(n,t=>n.moveByGroup(t,e))}const x0e=n=>d9(n,!jr(n)),w0e=n=>d9(n,jr(n)),b0e=n=>gs(n,e=>AS(n.state,e,!jr(n))),S0e=n=>gs(n,e=>AS(n.state,e,jr(n)));function f9(n,e){return gs(n,t=>n.moveVertically(t,e))}const p9=n=>f9(n,!1),m9=n=>f9(n,!0);function g9(n,e){return gs(n,t=>n.moveVertically(t,e,a9(n).height))}const OV=n=>g9(n,!1),yV=n=>g9(n,!0),k0e=n=>gs(n,e=>Bc(n,e,!0)),_0e=n=>gs(n,e=>Bc(n,e,!1)),T0e=n=>gs(n,e=>Bc(n,e,!jr(n))),P0e=n=>gs(n,e=>Bc(n,e,jr(n))),C0e=n=>gs(n,e=>te.cursor(n.lineBlockAt(e.head).from)),E0e=n=>gs(n,e=>te.cursor(n.lineBlockAt(e.head).to)),vV=({state:n,dispatch:e})=>(e(ra(n,{anchor:0})),!0),xV=({state:n,dispatch:e})=>(e(ra(n,{anchor:n.doc.length})),!0),wV=({state:n,dispatch:e})=>(e(ra(n,{anchor:n.selection.main.anchor,head:0})),!0),bV=({state:n,dispatch:e})=>(e(ra(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),A0e=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),R0e=({state:n,dispatch:e})=>{let t=RS(n).map(({from:r,to:i})=>te.range(r,Math.min(i+1,n.doc.length)));return e(n.update({selection:te.create(t),userEvent:"select"})),!0},Q0e=({state:n,dispatch:e})=>{let t=Gf(n.selection,r=>{let i=$r(n),s=i.resolveStack(r.from,1);if(r.empty){let o=i.resolveStack(r.from,-1);o.node.from>=s.node.from&&o.node.to<=s.node.to&&(s=o)}for(let o=s;o;o=o.next){let{node:a}=o;if((a.from<r.from&&a.to>=r.to||a.to>r.to&&a.from<=r.from)&&o.next)return te.range(a.to,a.from)}return r});return t.eq(n.selection)?!1:(e(ra(n,t)),!0)},N0e=({state:n,dispatch:e})=>{let t=n.selection,r=null;return t.ranges.length>1?r=te.create([t.main]):t.main.empty||(r=te.create([te.cursor(t.main.head)])),r?(e(ra(n,r)),!0):!1};function ly(n,e){if(n.state.readOnly)return!1;let t="delete.selection",{state:r}=n,i=r.changeByRange(s=>{let{from:o,to:a}=s;if(o==a){let l=e(s);l<o?(t="delete.backward",l=R0(n,l,!1)):l>o&&(t="delete.forward",l=R0(n,l,!0)),o=Math.min(o,l),a=Math.max(a,l)}else o=R0(n,o,!1),a=R0(n,a,!0);return o==a?{range:s}:{changes:{from:o,to:a},range:te.cursor(o,o<s.head?-1:1)}});return i.changes.empty?!1:(n.dispatch(r.update(i,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?fe.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function R0(n,e,t){if(n instanceof fe)for(let r of n.state.facet(fe.atomicRanges).map(i=>i(n)))r.between(e,e,(i,s)=>{i<e&&s>e&&(e=t?s:i)});return e}const O9=(n,e,t)=>ly(n,r=>{let i=r.from,{state:s}=n,o=s.doc.lineAt(i),a,l;if(t&&!e&&i>o.from&&i<o.from+200&&!/[^ \t]/.test(a=o.text.slice(0,i-o.from))){if(a[a.length-1]=="	")return i-1;let c=Xf(a,s.tabSize),u=c%Sw(s)||Sw(s);for(let d=0;d<u&&a[a.length-1-d]==" ";d++)i--;l=i}else l=mr(o.text,i-o.from,e,e)+o.from,l==i&&o.number!=(e?s.doc.lines:1)?l+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(o.text.slice(l-o.from,i-o.from))&&(l=mr(o.text,l-o.from,!1,!1)+o.from);return l}),RC=n=>O9(n,!1,!0),y9=n=>O9(n,!0,!1),v9=(n,e)=>ly(n,t=>{let r=t.head,{state:i}=n,s=i.doc.lineAt(r),o=i.charCategorizer(r);for(let a=null;;){if(r==(e?s.to:s.from)){r==t.head&&s.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let l=mr(s.text,r-s.from,e)+s.from,c=s.text.slice(Math.min(r,l)-s.from,Math.max(r,l)-s.from),u=o(c);if(a!=null&&u!=a)break;(c!=" "||r!=t.head)&&(a=u),r=l}return r}),x9=n=>v9(n,!1),I0e=n=>v9(n,!0),$0e=n=>ly(n,e=>{let t=n.lineBlockAt(e.head).to;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),j0e=n=>ly(n,e=>{let t=n.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),D0e=n=>ly(n,e=>{let t=n.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),M0e=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:pt.of(["",""])},range:te.cursor(r.from)}));return e(n.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},V0e=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>{if(!r.empty||r.from==0||r.from==n.doc.length)return{range:r};let i=r.from,s=n.doc.lineAt(i),o=i==s.from?i-1:mr(s.text,i-s.from,!1)+s.from,a=i==s.to?i+1:mr(s.text,i-s.from,!0)+s.from;return{changes:{from:o,to:a,insert:n.doc.slice(i,a).append(n.doc.slice(o,i))},range:te.cursor(a)}});return t.changes.empty?!1:(e(n.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function RS(n){let e=[],t=-1;for(let r of n.selection.ranges){let i=n.doc.lineAt(r.from),s=n.doc.lineAt(r.to);if(!r.empty&&r.to==s.from&&(s=n.doc.lineAt(r.to-1)),t>=i.number){let o=e[e.length-1];o.to=s.to,o.ranges.push(r)}else e.push({from:i.from,to:s.to,ranges:[r]});t=s.number+1}return e}function w9(n,e,t){if(n.readOnly)return!1;let r=[],i=[];for(let s of RS(n)){if(t?s.to==n.doc.length:s.from==0)continue;let o=n.doc.lineAt(t?s.to+1:s.from-1),a=o.length+1;if(t){r.push({from:s.to,to:o.to},{from:s.from,insert:o.text+n.lineBreak});for(let l of s.ranges)i.push(te.range(Math.min(n.doc.length,l.anchor+a),Math.min(n.doc.length,l.head+a)))}else{r.push({from:o.from,to:s.from},{from:s.to,insert:n.lineBreak+o.text});for(let l of s.ranges)i.push(te.range(l.anchor-a,l.head-a))}}return r.length?(e(n.update({changes:r,scrollIntoView:!0,selection:te.create(i,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}const L0e=({state:n,dispatch:e})=>w9(n,e,!1),U0e=({state:n,dispatch:e})=>w9(n,e,!0);function b9(n,e,t){if(n.readOnly)return!1;let r=[];for(let i of RS(n))t?r.push({from:i.from,insert:n.doc.slice(i.from,i.to)+n.lineBreak}):r.push({from:i.to,insert:n.lineBreak+n.doc.slice(i.from,i.to)});return e(n.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const z0e=({state:n,dispatch:e})=>b9(n,e,!1),q0e=({state:n,dispatch:e})=>b9(n,e,!0),F0e=n=>{if(n.state.readOnly)return!1;let{state:e}=n,t=e.changes(RS(e).map(({from:i,to:s})=>(i>0?i--:s<e.doc.length&&s++,{from:i,to:s}))),r=Gf(e.selection,i=>{let s;if(n.lineWrapping){let o=n.lineBlockAt(i.head),a=n.coordsAtPos(i.head,i.assoc||1);a&&(s=o.bottom+n.documentTop-a.bottom+n.defaultLineHeight/2)}return n.moveVertically(i,!0,s)}).map(t);return n.dispatch({changes:t,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function Z0e(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=$r(n).resolveInner(e),r=t.childBefore(e),i=t.childAfter(e),s;return r&&i&&r.to<=e&&i.from>=e&&(s=r.type.prop(xt.closedBy))&&s.indexOf(i.name)>-1&&n.doc.lineAt(r.to).from==n.doc.lineAt(i.from).from&&!/\S/.test(n.sliceDoc(r.to,i.from))?{from:r.to,to:i.from}:null}const SV=S9(!1),B0e=S9(!0);function S9(n){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:s,to:o}=i,a=e.doc.lineAt(s),l=!n&&s==o&&Z0e(e,s);n&&(s=o=(o<=a.to?a:e.doc.lineAt(o)).to);let c=new TS(e,{simulateBreak:s,simulateDoubleBreak:!!l}),u=YQ(c,s);for(u==null&&(u=Xf(/^\s*/.exec(e.doc.lineAt(s).text)[0],e.tabSize));o<a.to&&/\s/.test(a.text[o-a.from]);)o++;l?{from:s,to:o}=l:s>a.from&&s<a.from+100&&!/\S/.test(a.text.slice(0,s))&&(s=a.from);let d=["",Gg(e,u)];return l&&d.push(Gg(e,c.lineIndent(a.from,-1))),{changes:{from:s,to:o,insert:pt.of(d)},range:te.cursor(s+1+d[1].length)}});return t(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function eN(n,e){let t=-1;return n.changeByRange(r=>{let i=[];for(let o=r.from;o<=r.to;){let a=n.doc.lineAt(o);a.number>t&&(r.empty||r.to>a.from)&&(e(a,i,r),t=a.number),o=a.to+1}let s=n.changes(i);return{changes:i,range:te.range(s.mapPos(r.anchor,1),s.mapPos(r.head,1))}})}const W0e=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=Object.create(null),r=new TS(n,{overrideIndentation:s=>{let o=t[s];return o??-1}}),i=eN(n,(s,o,a)=>{let l=YQ(r,s.from);if(l==null)return;/\S/.test(s.text)||(l=0);let c=/^\s*/.exec(s.text)[0],u=Gg(n,l);(c!=u||a.from<s.from+c.length)&&(t[s.from]=l,o.push({from:s.from,to:s.from+c.length,insert:u}))});return i.changes.empty||e(n.update(i,{userEvent:"indent"})),!0},X0e=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(eN(n,(t,r)=>{r.push({from:t.from,insert:n.facet(GQ)})}),{userEvent:"input.indent"})),!0),G0e=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(eN(n,(t,r)=>{let i=/^\s*/.exec(t.text)[0];if(!i)return;let s=Xf(i,n.tabSize),o=0,a=Gg(n,Math.max(0,s-Sw(n)));for(;o<i.length&&o<a.length&&i.charCodeAt(o)==a.charCodeAt(o);)o++;r.push({from:t.from+o,to:t.from+i.length,insert:a.slice(o)})}),{userEvent:"delete.dedent"})),!0),Y0e=n=>(n.setTabFocusMode(),!0),H0e=[{key:"Ctrl-b",run:t9,shift:u9,preventDefault:!0},{key:"Ctrl-f",run:n9,shift:h9},{key:"Ctrl-p",run:s9,shift:p9},{key:"Ctrl-n",run:o9,shift:m9},{key:"Ctrl-a",run:g0e,shift:C0e},{key:"Ctrl-e",run:O0e,shift:E0e},{key:"Ctrl-d",run:y9},{key:"Ctrl-h",run:RC},{key:"Ctrl-k",run:$0e},{key:"Ctrl-Alt-h",run:x9},{key:"Ctrl-o",run:M0e},{key:"Ctrl-t",run:V0e},{key:"Ctrl-v",run:AC}],K0e=[{key:"ArrowLeft",run:t9,shift:u9,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:a0e,shift:x0e,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:p0e,shift:T0e,preventDefault:!0},{key:"ArrowRight",run:n9,shift:h9,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:l0e,shift:w0e,preventDefault:!0},{mac:"Cmd-ArrowRight",run:m0e,shift:P0e,preventDefault:!0},{key:"ArrowUp",run:s9,shift:p9,preventDefault:!0},{mac:"Cmd-ArrowUp",run:vV,shift:wV},{mac:"Ctrl-ArrowUp",run:gV,shift:OV},{key:"ArrowDown",run:o9,shift:m9,preventDefault:!0},{mac:"Cmd-ArrowDown",run:xV,shift:bV},{mac:"Ctrl-ArrowDown",run:AC,shift:yV},{key:"PageUp",run:gV,shift:OV},{key:"PageDown",run:AC,shift:yV},{key:"Home",run:f0e,shift:_0e,preventDefault:!0},{key:"Mod-Home",run:vV,shift:wV},{key:"End",run:d0e,shift:k0e,preventDefault:!0},{key:"Mod-End",run:xV,shift:bV},{key:"Enter",run:SV,shift:SV},{key:"Mod-a",run:A0e},{key:"Backspace",run:RC,shift:RC},{key:"Delete",run:y9},{key:"Mod-Backspace",mac:"Alt-Backspace",run:x9},{key:"Mod-Delete",mac:"Alt-Delete",run:I0e},{mac:"Mod-Backspace",run:j0e},{mac:"Mod-Delete",run:D0e}].concat(H0e.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),J0e=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:u0e,shift:b0e},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:h0e,shift:S0e},{key:"Alt-ArrowUp",run:L0e},{key:"Shift-Alt-ArrowUp",run:z0e},{key:"Alt-ArrowDown",run:U0e},{key:"Shift-Alt-ArrowDown",run:q0e},{key:"Escape",run:N0e},{key:"Mod-Enter",run:B0e},{key:"Alt-l",mac:"Ctrl-l",run:R0e},{key:"Mod-i",run:Q0e,preventDefault:!0},{key:"Mod-[",run:G0e},{key:"Mod-]",run:X0e},{key:"Mod-Alt-\\",run:W0e},{key:"Shift-Mod-k",run:F0e},{key:"Shift-Mod-\\",run:v0e},{key:"Mod-/",run:zye},{key:"Alt-A",run:Fye},{key:"Ctrl-m",mac:"Shift-Alt-m",run:Y0e}].concat(K0e);function Ct(){var n=arguments[0];typeof n=="string"&&(n=document.createElement(n));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=t[r];typeof i=="string"?n.setAttribute(r,i):i!=null&&(n[r]=i)}e++}for(;e<arguments.length;e++)k9(n,arguments[e]);return n}function k9(n,e){if(typeof e=="string")n.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)n.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)k9(n,e[t]);else throw new RangeError("Unsupported child node: "+e)}const kV=typeof String.prototype.normalize=="function"?n=>n.normalize("NFKD"):n=>n;class cf{constructor(e,t,r=0,i=e.length,s,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=s?a=>s(kV(a)):kV,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return ui(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=RQ(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=mo(e);let i=this.normalize(t);if(i.length)for(let s=0,o=r;;s++){let a=i.charCodeAt(s),l=this.match(a,o,this.bufferPos+this.bufferStart);if(s==i.length-1){if(l)return this.value=l,this;break}o==r&&s<t.length&&t.charCodeAt(s)==a&&o++}}}match(e,t,r){let i=null;for(let s=0;s<this.matches.length;s+=2){let o=this.matches[s],a=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?i={from:this.matches[s+1],to:r}:(this.matches[s]++,a=!0)),a||(this.matches.splice(s,2),s-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:t,to:r}:this.matches.push(1,t)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(cf.prototype[Symbol.iterator]=function(){return this});const _9={from:-1,to:-1,match:/.*/.exec("")},tN="gm"+(/x/.unicode==null?"":"u");class T9{constructor(e,t,r,i=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=_9,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new P9(e,t,r,i,s);this.re=new RegExp(t,tN+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.iter=e.iter();let o=e.lineAt(i);this.curLineStart=o.from,this.matchPos=Pw(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let r=this.curLineStart+t.index,i=r+t[0].length;if(this.matchPos=Pw(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,t)))return this.value={from:r,to:i,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const Lk=new WeakMap;class wd{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,r){let i=Lk.get(e);if(!i||i.from>=r||i.to<=t){let a=new wd(t,e.sliceString(t,r));return Lk.set(e,a),a}if(i.from==t&&i.to==r)return i;let{text:s,from:o}=i;return o>t&&(s=e.sliceString(t,o)+s,o=t),i.to<r&&(s+=e.sliceString(i.to,r)),Lk.set(e,new wd(o,s)),new wd(t,s.slice(t-o,r-o))}}class P9{constructor(e,t,r,i,s){this.text=e,this.to=s,this.done=!1,this.value=_9,this.matchPos=Pw(e,i),this.re=new RegExp(t,tN+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.flat=wd.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let r=this.flat.from+t.index,i=r+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,t)))return this.value={from:r,to:i,match:t},this.matchPos=Pw(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=wd.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(T9.prototype[Symbol.iterator]=P9.prototype[Symbol.iterator]=function(){return this});function eve(n){try{return new RegExp(n,tN),!0}catch{return!1}}function Pw(n,e){if(e>=n.length)return e;let t=n.lineAt(e),r;for(;e<t.to&&(r=t.text.charCodeAt(e-t.from))>=56320&&r<57344;)e++;return e}function QC(n){let e=String(n.state.doc.lineAt(n.state.selection.main.head).number),t=Ct("input",{class:"cm-textfield",name:"line",value:e}),r=Ct("form",{class:"cm-gotoLine",onkeydown:s=>{s.keyCode==27?(s.preventDefault(),n.dispatch({effects:Bm.of(!1)}),n.focus()):s.keyCode==13&&(s.preventDefault(),i())},onsubmit:s=>{s.preventDefault(),i()}},Ct("label",n.state.phrase("Go to line"),": ",t)," ",Ct("button",{class:"cm-button",type:"submit"},n.state.phrase("go")),Ct("button",{name:"close",onclick:()=>{n.dispatch({effects:Bm.of(!1)}),n.focus()},"aria-label":n.state.phrase("close"),type:"button"},["×"]));function i(){let s=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!s)return;let{state:o}=n,a=o.doc.lineAt(o.selection.main.head),[,l,c,u,d]=s,f=u?+u.slice(1):0,m=c?+c:a.number;if(c&&d){let x=m/100;l&&(x=x*(l=="-"?-1:1)+a.number/o.doc.lines),m=Math.round(o.doc.lines*x)}else c&&l&&(m=m*(l=="-"?-1:1)+a.number);let g=o.doc.line(Math.max(1,Math.min(o.doc.lines,m))),y=te.cursor(g.from+Math.max(0,Math.min(f,g.length)));n.dispatch({effects:[Bm.of(!1),fe.scrollIntoView(y.from,{y:"center"})],selection:y}),n.focus()}return{dom:r}}const Bm=Me.define(),_V=Xt.define({create(){return!0},update(n,e){for(let t of e.effects)t.is(Bm)&&(n=t.value);return n},provide:n=>Wg.from(n,e=>e?QC:null)}),tve=n=>{let e=Bg(n,QC);if(!e){let t=[Bm.of(!0)];n.state.field(_V,!1)==null&&t.push(Me.appendConfig.of([_V,nve])),n.dispatch({effects:t}),e=Bg(n,QC)}return e&&e.dom.querySelector("input").select(),!0},nve=fe.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),rve={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},ive=de.define({combine(n){return ta(n,rve,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function sve(n){return[uve,cve]}const ove=ye.mark({class:"cm-selectionMatch"}),ave=ye.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function TV(n,e,t,r){return(t==0||n(e.sliceDoc(t-1,t))!=Kt.Word)&&(r==e.doc.length||n(e.sliceDoc(r,r+1))!=Kt.Word)}function lve(n,e,t,r){return n(e.sliceDoc(t,t+1))==Kt.Word&&n(e.sliceDoc(r-1,r))==Kt.Word}const cve=Vt.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=n.state.facet(ive),{state:t}=n,r=t.selection;if(r.ranges.length>1)return ye.none;let i=r.main,s,o=null;if(i.empty){if(!e.highlightWordAroundCursor)return ye.none;let l=t.wordAt(i.head);if(!l)return ye.none;o=t.charCategorizer(i.head),s=t.sliceDoc(l.from,l.to)}else{let l=i.to-i.from;if(l<e.minSelectionLength||l>200)return ye.none;if(e.wholeWords){if(s=t.sliceDoc(i.from,i.to),o=t.charCategorizer(i.head),!(TV(o,t,i.from,i.to)&&lve(o,t,i.from,i.to)))return ye.none}else if(s=t.sliceDoc(i.from,i.to),!s)return ye.none}let a=[];for(let l of n.visibleRanges){let c=new cf(t.doc,s,l.from,l.to);for(;!c.next().done;){let{from:u,to:d}=c.value;if((!o||TV(o,t,u,d))&&(i.empty&&u<=i.from&&d>=i.to?a.push(ave.range(u,d)):(u>=i.to||d<=i.from)&&a.push(ove.range(u,d)),a.length>e.maxMatches))return ye.none}}return ye.set(a)}},{decorations:n=>n.decorations}),uve=fe.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),hve=({state:n,dispatch:e})=>{let{selection:t}=n,r=te.create(t.ranges.map(i=>n.wordAt(i.head)||te.cursor(i.head)),t.mainIndex);return r.eq(t)?!1:(e(n.update({selection:r})),!0)};function dve(n,e){let{main:t,ranges:r}=n.selection,i=n.wordAt(t.head),s=i&&i.from==t.from&&i.to==t.to;for(let o=!1,a=new cf(n.doc,e,r[r.length-1].to);;)if(a.next(),a.done){if(o)return null;a=new cf(n.doc,e,0,Math.max(0,r[r.length-1].from-1)),o=!0}else{if(o&&r.some(l=>l.from==a.value.from))continue;if(s){let l=n.wordAt(a.value.from);if(!l||l.from!=a.value.from||l.to!=a.value.to)continue}return a.value}}const fve=({state:n,dispatch:e})=>{let{ranges:t}=n.selection;if(t.some(s=>s.from===s.to))return hve({state:n,dispatch:e});let r=n.sliceDoc(t[0].from,t[0].to);if(n.selection.ranges.some(s=>n.sliceDoc(s.from,s.to)!=r))return!1;let i=dve(n,r);return i?(e(n.update({selection:n.selection.addRange(te.range(i.from,i.to),!1),effects:fe.scrollIntoView(i.to)})),!0):!1},Yf=de.define({combine(n){return ta(n,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new _ve(e),scrollToMatch:e=>fe.scrollIntoView(e)})}});class C9{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||eve(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new Ove(this):new mve(this)}getCursor(e,t=0,r){let i=e.doc?e:Ve.create({doc:e});return r==null&&(r=i.doc.length),this.regexp?$h(this,i,t,r):Ih(this,i,t,r)}}class E9{constructor(e){this.spec=e}}function Ih(n,e,t,r){return new cf(e.doc,n.unquoted,t,r,n.caseSensitive?void 0:i=>i.toLowerCase(),n.wholeWord?pve(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function pve(n,e){return(t,r,i,s)=>((s>t||s+i.length<r)&&(s=Math.max(0,t-2),i=n.sliceString(s,Math.min(n.length,r+2))),(e(Cw(i,t-s))!=Kt.Word||e(Ew(i,t-s))!=Kt.Word)&&(e(Ew(i,r-s))!=Kt.Word||e(Cw(i,r-s))!=Kt.Word))}class mve extends E9{constructor(e){super(e)}nextMatch(e,t,r){let i=Ih(this.spec,e,r,e.doc.length).nextOverlapping();if(i.done){let s=Math.min(e.doc.length,t+this.spec.unquoted.length);i=Ih(this.spec,e,0,s).nextOverlapping()}return i.done||i.value.from==t&&i.value.to==r?null:i.value}prevMatchInRange(e,t,r){for(let i=r;;){let s=Math.max(t,i-1e4-this.spec.unquoted.length),o=Ih(this.spec,e,s,i),a=null;for(;!o.nextOverlapping().done;)a=o.value;if(a)return a;if(s==t)return null;i-=1e4}}prevMatch(e,t,r){let i=this.prevMatchInRange(e,0,t);return i||(i=this.prevMatchInRange(e,Math.max(0,r-this.spec.unquoted.length),e.doc.length)),i&&(i.from!=t||i.to!=r)?i:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let r=Ih(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=t)return null;i.push(r.value)}return i}highlight(e,t,r,i){let s=Ih(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}function $h(n,e,t,r){return new T9(e.doc,n.search,{ignoreCase:!n.caseSensitive,test:n.wholeWord?gve(e.charCategorizer(e.selection.main.head)):void 0},t,r)}function Cw(n,e){return n.slice(mr(n,e,!1),e)}function Ew(n,e){return n.slice(e,mr(n,e))}function gve(n){return(e,t,r)=>!r[0].length||(n(Cw(r.input,r.index))!=Kt.Word||n(Ew(r.input,r.index))!=Kt.Word)&&(n(Ew(r.input,r.index+r[0].length))!=Kt.Word||n(Cw(r.input,r.index+r[0].length))!=Kt.Word)}class Ove extends E9{nextMatch(e,t,r){let i=$h(this.spec,e,r,e.doc.length).next();return i.done&&(i=$h(this.spec,e,0,t).next()),i.done?null:i.value}prevMatchInRange(e,t,r){for(let i=1;;i++){let s=Math.max(t,r-i*1e4),o=$h(this.spec,e,s,r),a=null;for(;!o.next().done;)a=o.value;if(a&&(s==t||a.from>s+10))return a;if(s==t)return null}}prevMatch(e,t,r){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(t,r)=>{if(r=="&")return e.match[0];if(r=="$")return"$";for(let i=r.length;i>0;i--){let s=+r.slice(0,i);if(s>0&&s<e.match.length)return e.match[s]+r.slice(i)}return t})}matchAll(e,t){let r=$h(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=t)return null;i.push(r.value)}return i}highlight(e,t,r,i){let s=$h(this.spec,e,Math.max(0,t-250),Math.min(r+250,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}const Yg=Me.define(),nN=Me.define(),ac=Xt.define({create(n){return new Uk(NC(n).create(),null)},update(n,e){for(let t of e.effects)t.is(Yg)?n=new Uk(t.value.create(),n.panel):t.is(nN)&&(n=new Uk(n.query,t.value?rN:null));return n},provide:n=>Wg.from(n,e=>e.panel)});class Uk{constructor(e,t){this.query=e,this.panel=t}}const yve=ye.mark({class:"cm-searchMatch"}),vve=ye.mark({class:"cm-searchMatch cm-searchMatch-selected"}),xve=Vt.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(ac))}update(n){let e=n.state.field(ac);(e!=n.startState.field(ac)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:n,panel:e}){if(!e||!n.spec.valid)return ye.none;let{view:t}=this,r=new Ha;for(let i=0,s=t.visibleRanges,o=s.length;i<o;i++){let{from:a,to:l}=s[i];for(;i<o-1&&l>s[i+1].from-2*250;)l=s[++i].to;n.highlight(t.state,a,l,(c,u)=>{let d=t.state.selection.ranges.some(f=>f.from==c&&f.to==u);r.add(c,u,d?vve:yve)})}return r.finish()}},{decorations:n=>n.decorations});function cy(n){return e=>{let t=e.state.field(ac,!1);return t&&t.query.spec.valid?n(e,t):Q9(e)}}const Aw=cy((n,{query:e})=>{let{to:t}=n.state.selection.main,r=e.nextMatch(n.state,t,t);if(!r)return!1;let i=te.single(r.from,r.to),s=n.state.facet(Yf);return n.dispatch({selection:i,effects:[iN(n,r),s.scrollToMatch(i.main,n)],userEvent:"select.search"}),R9(n),!0}),Rw=cy((n,{query:e})=>{let{state:t}=n,{from:r}=t.selection.main,i=e.prevMatch(t,r,r);if(!i)return!1;let s=te.single(i.from,i.to),o=n.state.facet(Yf);return n.dispatch({selection:s,effects:[iN(n,i),o.scrollToMatch(s.main,n)],userEvent:"select.search"}),R9(n),!0}),wve=cy((n,{query:e})=>{let t=e.matchAll(n.state,1e3);return!t||!t.length?!1:(n.dispatch({selection:te.create(t.map(r=>te.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),bve=({state:n,dispatch:e})=>{let t=n.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:r,to:i}=t.main,s=[],o=0;for(let a=new cf(n.doc,n.sliceDoc(r,i));!a.next().done;){if(s.length>1e3)return!1;a.value.from==r&&(o=s.length),s.push(te.range(a.value.from,a.value.to))}return e(n.update({selection:te.create(s,o),userEvent:"select.search.matches"})),!0},PV=cy((n,{query:e})=>{let{state:t}=n,{from:r,to:i}=t.selection.main;if(t.readOnly)return!1;let s=e.nextMatch(t,r,r);if(!s)return!1;let o=s,a=[],l,c,u=[];if(o.from==r&&o.to==i&&(c=t.toText(e.getReplacement(o)),a.push({from:o.from,to:o.to,insert:c}),o=e.nextMatch(t,o.from,o.to),u.push(fe.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(r).number)+"."))),o){let d=a.length==0||a[0].from>=s.to?0:s.to-s.from-c.length;l=te.single(o.from-d,o.to-d),u.push(iN(n,o)),u.push(t.facet(Yf).scrollToMatch(l.main,n))}return n.dispatch({changes:a,selection:l,effects:u,userEvent:"input.replace"}),!0}),Sve=cy((n,{query:e})=>{if(n.state.readOnly)return!1;let t=e.matchAll(n.state,1e9).map(i=>{let{from:s,to:o}=i;return{from:s,to:o,insert:e.getReplacement(i)}});if(!t.length)return!1;let r=n.state.phrase("replaced $ matches",t.length)+".";return n.dispatch({changes:t,effects:fe.announce.of(r),userEvent:"input.replace.all"}),!0});function rN(n){return n.state.facet(Yf).createPanel(n)}function NC(n,e){var t,r,i,s,o;let a=n.selection.main,l=a.empty||a.to>a.from+100?"":n.sliceDoc(a.from,a.to);if(e&&!l)return e;let c=n.facet(Yf);return new C9({search:((t=e==null?void 0:e.literal)!==null&&t!==void 0?t:c.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:(r=e==null?void 0:e.caseSensitive)!==null&&r!==void 0?r:c.caseSensitive,literal:(i=e==null?void 0:e.literal)!==null&&i!==void 0?i:c.literal,regexp:(s=e==null?void 0:e.regexp)!==null&&s!==void 0?s:c.regexp,wholeWord:(o=e==null?void 0:e.wholeWord)!==null&&o!==void 0?o:c.wholeWord})}function A9(n){let e=Bg(n,rN);return e&&e.dom.querySelector("[main-field]")}function R9(n){let e=A9(n);e&&e==n.root.activeElement&&e.select()}const Q9=n=>{let e=n.state.field(ac,!1);if(e&&e.panel){let t=A9(n);if(t&&t!=n.root.activeElement){let r=NC(n.state,e.query.spec);r.valid&&n.dispatch({effects:Yg.of(r)}),t.focus(),t.select()}}else n.dispatch({effects:[nN.of(!0),e?Yg.of(NC(n.state,e.query.spec)):Me.appendConfig.of(Pve)]});return!0},N9=n=>{let e=n.state.field(ac,!1);if(!e||!e.panel)return!1;let t=Bg(n,rN);return t&&t.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:nN.of(!1)}),!0},kve=[{key:"Mod-f",run:Q9,scope:"editor search-panel"},{key:"F3",run:Aw,shift:Rw,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Aw,shift:Rw,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:N9,scope:"editor search-panel"},{key:"Mod-Shift-l",run:bve},{key:"Mod-Alt-g",run:tve},{key:"Mod-d",run:fve,preventDefault:!0}];class _ve{constructor(e){this.view=e;let t=this.query=e.state.field(ac).query.spec;this.commit=this.commit.bind(this),this.searchField=Ct("input",{value:t.search,placeholder:_i(e,"Find"),"aria-label":_i(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Ct("input",{value:t.replace,placeholder:_i(e,"Replace"),"aria-label":_i(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=Ct("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=Ct("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=Ct("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit});function r(i,s,o){return Ct("button",{class:"cm-button",name:i,onclick:s,type:"button"},o)}this.dom=Ct("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>Aw(e),[_i(e,"next")]),r("prev",()=>Rw(e),[_i(e,"previous")]),r("select",()=>wve(e),[_i(e,"all")]),Ct("label",null,[this.caseField,_i(e,"match case")]),Ct("label",null,[this.reField,_i(e,"regexp")]),Ct("label",null,[this.wordField,_i(e,"by word")]),...e.state.readOnly?[]:[Ct("br"),this.replaceField,r("replace",()=>PV(e),[_i(e,"replace")]),r("replaceAll",()=>Sve(e),[_i(e,"replace all")])],Ct("button",{name:"close",onclick:()=>N9(e),"aria-label":_i(e,"close"),type:"button"},["×"])])}commit(){let e=new C9({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Yg.of(e)}))}keydown(e){Cge(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?Rw:Aw)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),PV(this.view))}update(e){for(let t of e.transactions)for(let r of t.effects)r.is(Yg)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Yf).top}}function _i(n,e){return n.state.phrase(e)}const Q0=30,N0=/[\s\.,:;?!]/;function iN(n,{from:e,to:t}){let r=n.state.doc.lineAt(e),i=n.state.doc.lineAt(t).to,s=Math.max(r.from,e-Q0),o=Math.min(i,t+Q0),a=n.state.sliceDoc(s,o);if(s!=r.from){for(let l=0;l<Q0;l++)if(!N0.test(a[l+1])&&N0.test(a[l])){a=a.slice(l);break}}if(o!=i){for(let l=a.length-1;l>a.length-Q0;l--)if(!N0.test(a[l-1])&&N0.test(a[l])){a=a.slice(0,l);break}}return fe.announce.of(`${n.state.phrase("current match")}. ${a} ${n.state.phrase("on line")} ${r.number}.`)}const Tve=fe.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),Pve=[ac,ll.low(xve),Tve];class I9{constructor(e,t,r,i){this.state=e,this.pos=t,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let t=$r(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),r=Math.max(t.from,this.pos-250),i=t.text.slice(r-t.from,this.pos-t.from),s=i.search($9(e,!1));return s<0?null:{from:r+s,to:this.pos,text:i.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,t,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(t),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function CV(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function Cve(n){let e=Object.create(null),t=Object.create(null);for(let{label:i}of n){e[i[0]]=!0;for(let s=1;s<i.length;s++)t[i[s]]=!0}let r=CV(e)+CV(t)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function Eve(n){let e=n.map(i=>typeof i=="string"?{label:i}:i),[t,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:Cve(e);return i=>{let s=i.matchBefore(r);return s||i.explicit?{from:s?s.from:i.pos,options:e,validFor:t}:null}}class EV{constructor(e,t,r,i){this.completion=e,this.source=t,this.match=r,this.score=i}}function Cu(n){return n.selection.main.from}function $9(n,e){var t;let{source:r}=n,i=e&&r[0]!="^",s=r[r.length-1]!="$";return!i&&!s?n:new RegExp(`${i?"^":""}(?:${r})${s?"$":""}`,(t=n.flags)!==null&&t!==void 0?t:n.ignoreCase?"i":"")}const j9=Hs.define();function Ave(n,e,t,r){let{main:i}=n.selection,s=t-i.from,o=r-i.from;return Object.assign(Object.assign({},n.changeByRange(a=>{if(a!=i&&t!=r&&n.sliceDoc(a.from+s,a.from+o)!=n.sliceDoc(t,r))return{range:a};let l=n.toText(e);return{changes:{from:a.from+s,to:r==i.from?a.to:a.from+o,insert:l},range:te.cursor(a.from+s+l.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}const AV=new WeakMap;function Rve(n){if(!Array.isArray(n))return n;let e=AV.get(n);return e||AV.set(n,e=Eve(n)),e}const Qw=Me.define(),Hg=Me.define();class Qve{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let r=ui(e,t),i=mo(r);this.chars.push(r);let s=e.slice(t,t+i),o=s.toUpperCase();this.folded.push(ui(o==s?s.toLowerCase():o,0)),t+=i}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:t,folded:r,any:i,precise:s,byWord:o}=this;if(t.length==1){let k=ui(e,0),P=mo(k),Q=P==e.length?0:-100;if(k!=t[0])if(k==r[0])Q+=-200;else return null;return this.ret(Q,[0,P])}let a=e.indexOf(this.pattern);if(a==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=t.length,c=0;if(a<0){for(let k=0,P=Math.min(e.length,200);k<P&&c<l;){let Q=ui(e,k);(Q==t[c]||Q==r[c])&&(i[c++]=k),k+=mo(Q)}if(c<l)return null}let u=0,d=0,f=!1,m=0,g=-1,y=-1,x=/[a-z]/.test(e),w=!0;for(let k=0,P=Math.min(e.length,200),Q=0;k<P&&d<l;){let C=ui(e,k);a<0&&(u<l&&C==t[u]&&(s[u++]=k),m<l&&(C==t[m]||C==r[m]?(m==0&&(g=k),y=k+1,m++):m=0));let N,O=C<255?C>=48&&C<=57||C>=97&&C<=122?2:C>=65&&C<=90?1:0:(N=RQ(C))!=N.toLowerCase()?1:N!=N.toUpperCase()?2:0;(!k||O==1&&x||Q==0&&O!=0)&&(t[d]==C||r[d]==C&&(f=!0)?o[d++]=k:o.length&&(w=!1)),Q=O,k+=mo(C)}return d==l&&o[0]==0&&w?this.result(-100+(f?-200:0),o,e):m==l&&g==0?this.ret(-200-e.length+(y==e.length?0:-100),[0,y]):a>-1?this.ret(-700-e.length,[a,a+this.pattern.length]):m==l?this.ret(-900-e.length,[g,y]):d==l?this.result(-100+(f?-200:0)+-700+(w?0:-1100),o,e):t.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,t,r){let i=[],s=0;for(let o of t){let a=o+(this.astral?mo(ui(r,o)):1);s&&i[s-1]==o?i[s-1]=a:(i[s++]=o,i[s++]=a)}return this.ret(e-r.length,i)}}class Nve{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let t=e.slice(0,this.pattern.length),r=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,t.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const tr=de.define({combine(n){return ta(n,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:Ive,filterStrict:!1,compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>r=>RV(e(r),t(r)),optionClass:(e,t)=>r=>RV(e(r),t(r)),addToOptions:(e,t)=>e.concat(t),filterStrict:(e,t)=>e||t})}});function RV(n,e){return n?e?n+" "+e:n:e}function Ive(n,e,t,r,i,s){let o=n.textDirection==it.RTL,a=o,l=!1,c="top",u,d,f=e.left-i.left,m=i.right-e.right,g=r.right-r.left,y=r.bottom-r.top;if(a&&f<Math.min(g,m)?a=!1:!a&&m<Math.min(g,f)&&(a=!0),g<=(a?f:m))u=Math.max(i.top,Math.min(t.top,i.bottom-y))-e.top,d=Math.min(400,a?f:m);else{l=!0,d=Math.min(400,(o?e.right:i.right-e.left)-30);let k=i.bottom-e.bottom;k>=y||k>e.top?u=t.bottom-e.top:(c="bottom",u=e.bottom-t.top)}let x=(e.bottom-e.top)/s.offsetHeight,w=(e.right-e.left)/s.offsetWidth;return{style:`${c}: ${u/x}px; max-width: ${d/w}px`,class:"cm-completionInfo-"+(l?o?"left-narrow":"right-narrow":a?"left":"right")}}function $ve(n){let e=n.addToOptions.slice();return n.icons&&e.push({render(t){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),t.type&&r.classList.add(...t.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(t,r,i,s){let o=document.createElement("span");o.className="cm-completionLabel";let a=t.displayLabel||t.label,l=0;for(let c=0;c<s.length;){let u=s[c++],d=s[c++];u>l&&o.appendChild(document.createTextNode(a.slice(l,u)));let f=o.appendChild(document.createElement("span"));f.appendChild(document.createTextNode(a.slice(u,d))),f.className="cm-completionMatchedText",l=d}return l<a.length&&o.appendChild(document.createTextNode(a.slice(l))),o},position:50},{render(t){if(!t.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=t.detail,r},position:80}),e.sort((t,r)=>t.position-r.position).map(t=>t.render)}function zk(n,e,t){if(n<=t)return{from:0,to:n};if(e<0&&(e=0),e<=n>>1){let i=Math.floor(e/t);return{from:i*t,to:(i+1)*t}}let r=Math.floor((n-e)/t);return{from:n-(r+1)*t,to:n-r*t}}class jve{constructor(e,t,r){this.view=e,this.stateField=t,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let i=e.state.field(t),{options:s,selected:o}=i.open,a=e.state.facet(tr);this.optionContent=$ve(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=zk(s.length,o,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",l=>{let{options:c}=e.state.field(t).open;for(let u=l.target,d;u&&u!=this.dom;u=u.parentNode)if(u.nodeName=="LI"&&(d=/-(\d+)$/.exec(u.id))&&+d[1]<c.length){this.applyCompletion(e,c[+d[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let c=e.state.field(this.stateField,!1);c&&c.tooltip&&e.state.facet(tr).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:Hg.of(null)})}),this.showOptions(s,i.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var t;let r=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=i){let{options:s,selected:o,disabled:a}=r.open;(!i.open||i.open.options!=s)&&(this.range=zk(s.length,o,e.state.facet(tr).maxRenderedOptions),this.showOptions(s,r.id)),this.updateSel(),a!=((t=i.open)===null||t===void 0?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!a)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of t.split(" "))r&&this.dom.classList.add(r);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=zk(t.options.length,t.selected,this.view.state.facet(tr).maxRenderedOptions),this.showOptions(t.options,e.id)),this.updateSelectedOption(t.selected)){this.destroyInfo();let{completion:r}=t.options[t.selected],{info:i}=r;if(!i)return;let s=typeof i=="string"?document.createTextNode(i):i(r);if(!s)return;"then"in s?s.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o,r)}).catch(o=>Rn(this.view.state,o,"completion info")):this.addInfoPane(s,r)}}addInfoPane(e,t){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:s}=e;r.appendChild(i),this.infoDestroy=s||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),t=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected");return t&&Mve(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),s=this.space;if(!s){let o=this.dom.ownerDocument.documentElement;s={left:0,top:0,right:o.clientWidth,bottom:o.clientHeight}}return i.top>Math.min(s.bottom,t.bottom)-10||i.bottom<Math.max(s.top,t.top)+10?null:this.view.state.facet(tr).positionInfo(this.view,t,i,r,s,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,r){const i=document.createElement("ul");i.id=t,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions")),i.addEventListener("mousedown",o=>{o.target==i&&o.preventDefault()});let s=null;for(let o=r.from;o<r.to;o++){let{completion:a,match:l}=e[o],{section:c}=a;if(c){let f=typeof c=="string"?c:c.name;if(f!=s&&(o>r.from||r.from==0))if(s=f,typeof c!="string"&&c.header)i.appendChild(c.header(c));else{let m=i.appendChild(document.createElement("completion-section"));m.textContent=f}}const u=i.appendChild(document.createElement("li"));u.id=t+"-"+o,u.setAttribute("role","option");let d=this.optionClass(a);d&&(u.className=d);for(let f of this.optionContent){let m=f(a,this.view.state,this.view,l);m&&u.appendChild(m)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function Dve(n,e){return t=>new jve(t,n,e)}function Mve(n,e){let t=n.getBoundingClientRect(),r=e.getBoundingClientRect(),i=t.height/n.offsetHeight;r.top<t.top?n.scrollTop-=(t.top-r.top)/i:r.bottom>t.bottom&&(n.scrollTop+=(r.bottom-t.bottom)/i)}function QV(n){return(n.boost||0)*100+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}function Vve(n,e){let t=[],r=null,i=c=>{t.push(c);let{section:u}=c.completion;if(u){r||(r=[]);let d=typeof u=="string"?u:u.name;r.some(f=>f.name==d)||r.push(typeof u=="string"?{name:d}:u)}},s=e.facet(tr);for(let c of n)if(c.hasResult()){let u=c.result.getMatch;if(c.result.filter===!1)for(let d of c.result.options)i(new EV(d,c.source,u?u(d):[],1e9-t.length));else{let d=e.sliceDoc(c.from,c.to),f,m=s.filterStrict?new Nve(d):new Qve(d);for(let g of c.result.options)if(f=m.match(g.label)){let y=g.displayLabel?u?u(g,f.matched):[]:f.matched;i(new EV(g,c.source,y,f.score+(g.boost||0)))}}}if(r){let c=Object.create(null),u=0,d=(f,m)=>{var g,y;return((g=f.rank)!==null&&g!==void 0?g:1e9)-((y=m.rank)!==null&&y!==void 0?y:1e9)||(f.name<m.name?-1:1)};for(let f of r.sort(d))u-=1e5,c[f.name]=u;for(let f of t){let{section:m}=f.completion;m&&(f.score+=c[typeof m=="string"?m:m.name])}}let o=[],a=null,l=s.compareCompletions;for(let c of t.sort((u,d)=>d.score-u.score||l(u.completion,d.completion))){let u=c.completion;!a||a.label!=u.label||a.detail!=u.detail||a.type!=null&&u.type!=null&&a.type!=u.type||a.apply!=u.apply||a.boost!=u.boost?o.push(c):QV(c.completion)>QV(a)&&(o[o.length-1]=c),a=c.completion}return o}class Hh{constructor(e,t,r,i,s,o){this.options=e,this.attrs=t,this.tooltip=r,this.timestamp=i,this.selected=s,this.disabled=o}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new Hh(this.options,NV(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,r,i,s,o){if(i&&!o&&e.some(c=>c.isPending))return i.setDisabled();let a=Vve(e,t);if(!a.length)return i&&e.some(c=>c.isPending)?i.setDisabled():null;let l=t.facet(tr).selectOnOpen?0:-1;if(i&&i.selected!=l&&i.selected!=-1){let c=i.options[i.selected].completion;for(let u=0;u<a.length;u++)if(a[u].completion==c){l=u;break}}return new Hh(a,NV(r,l),{pos:e.reduce((c,u)=>u.hasResult()?Math.min(c,u.from):c,1e8),create:Zve,above:s.aboveCursor},i?i.timestamp:Date.now(),l,!1)}map(e){return new Hh(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new Hh(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class Nw{constructor(e,t,r){this.active=e,this.id=t,this.open=r}static start(){return new Nw(qve,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,r=t.facet(tr),s=(r.override||t.languageDataAt("autocomplete",Cu(t)).map(Rve)).map(l=>(this.active.find(u=>u.source==l)||new ss(l,this.active.some(u=>u.state!=0)?1:0)).update(e,r));s.length==this.active.length&&s.every((l,c)=>l==this.active[c])&&(s=this.active);let o=this.open,a=e.effects.some(l=>l.is(sN));o&&e.docChanged&&(o=o.map(e.changes)),e.selection||s.some(l=>l.hasResult()&&e.changes.touchesRange(l.from,l.to))||!Lve(s,this.active)||a?o=Hh.build(s,t,this.id,o,r,a):o&&o.disabled&&!s.some(l=>l.isPending)&&(o=null),!o&&s.every(l=>!l.isPending)&&s.some(l=>l.hasResult())&&(s=s.map(l=>l.hasResult()?new ss(l.source,0):l));for(let l of e.effects)l.is(M9)&&(o=o&&o.setSelected(l.value,this.id));return s==this.active&&o==this.open?this:new Nw(s,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?Uve:zve}}function Lve(n,e){if(n==e)return!0;for(let t=0,r=0;;){for(;t<n.length&&!n[t].hasResult();)t++;for(;r<e.length&&!e[r].hasResult();)r++;let i=t==n.length,s=r==e.length;if(i||s)return i==s;if(n[t++].result!=e[r++].result)return!1}}const Uve={"aria-autocomplete":"list"},zve={};function NV(n,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return e>-1&&(t["aria-activedescendant"]=n+"-"+e),t}const qve=[];function D9(n,e){if(n.isUserEvent("input.complete")){let r=n.annotation(j9);if(r&&e.activateOnCompletion(r))return 12}let t=n.isUserEvent("input.type");return t&&e.activateOnTyping?5:t?1:n.isUserEvent("delete.backward")?2:n.selection?8:n.docChanged?16:0}class ss{constructor(e,t,r=!1){this.source=e,this.state=t,this.explicit=r}hasResult(){return!1}get isPending(){return this.state==1}update(e,t){let r=D9(e,t),i=this;(r&8||r&16&&this.touches(e))&&(i=new ss(i.source,0)),r&4&&i.state==0&&(i=new ss(this.source,1)),i=i.updateFor(e,r);for(let s of e.effects)if(s.is(Qw))i=new ss(i.source,1,s.value);else if(s.is(Hg))i=new ss(i.source,0);else if(s.is(sN))for(let o of s.value)o.source==i.source&&(i=o);return i}updateFor(e,t){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(Cu(e.state))}}class bd extends ss{constructor(e,t,r,i,s,o){super(e,3,t),this.limit=r,this.result=i,this.from=s,this.to=o}hasResult(){return!0}updateFor(e,t){var r;if(!(t&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let s=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),a=Cu(e.state);if(a>o||!i||t&2&&(Cu(e.startState)==this.from||a<this.limit))return new ss(this.source,t&4?1:0);let l=e.changes.mapPos(this.limit);return Fve(i.validFor,e.state,s,o)?new bd(this.source,this.explicit,l,i,s,o):i.update&&(i=i.update(i,s,o,new I9(e.state,a,!1)))?new bd(this.source,this.explicit,l,i,i.from,(r=i.to)!==null&&r!==void 0?r:Cu(e.state)):new ss(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new bd(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new ss(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function Fve(n,e,t,r){if(!n)return!1;let i=e.sliceDoc(t,r);return typeof n=="function"?n(i,t,r,e):$9(n,!0).test(i)}const sN=Me.define({map(n,e){return n.map(t=>t.map(e))}}),M9=Me.define(),di=Xt.define({create(){return Nw.start()},update(n,e){return n.update(e)},provide:n=>[BQ.from(n,e=>e.tooltip),fe.contentAttributes.from(n,e=>e.attrs)]});function oN(n,e){const t=e.completion.apply||e.completion.label;let r=n.state.field(di).active.find(i=>i.source==e.source);return r instanceof bd?(typeof t=="string"?n.dispatch(Object.assign(Object.assign({},Ave(n.state,t,r.from,r.to)),{annotations:j9.of(e.completion)})):t(n,e.completion,r.from,r.to),!0):!1}const Zve=Dve(di,oN);function I0(n,e="option"){return t=>{let r=t.state.field(di,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<t.state.facet(tr).interactionDelay)return!1;let i=1,s;e=="page"&&(s=wX(t,r.open.tooltip))&&(i=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:o}=r.open.options,a=r.open.selected>-1?r.open.selected+i*(n?1:-1):n?0:o-1;return a<0?a=e=="page"?0:o-1:a>=o&&(a=e=="page"?o-1:0),t.dispatch({effects:M9.of(a)}),!0}}const Bve=n=>{let e=n.state.field(di,!1);return n.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<n.state.facet(tr).interactionDelay?!1:oN(n,e.open.options[e.open.selected])},IV=n=>n.state.field(di,!1)?(n.dispatch({effects:Qw.of(!0)}),!0):!1,Wve=n=>{let e=n.state.field(di,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(n.dispatch({effects:Hg.of(null)}),!0)};class Xve{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const Gve=50,Yve=1e3,Hve=Vt.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of n.state.field(di).active)e.isPending&&this.startQuery(e)}update(n){let e=n.state.field(di),t=n.state.facet(tr);if(!n.selectionSet&&!n.docChanged&&n.startState.field(di)==e)return;let r=n.transactions.some(s=>{let o=D9(s,t);return o&8||(s.selection||s.docChanged)&&!(o&3)});for(let s=0;s<this.running.length;s++){let o=this.running[s];if(r||o.context.abortOnDocChange&&n.docChanged||o.updates.length+n.transactions.length>Gve&&Date.now()-o.time>Yve){for(let a of o.context.abortListeners)try{a()}catch(l){Rn(this.view.state,l)}o.context.abortListeners=null,this.running.splice(s--,1)}else o.updates.push(...n.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),n.transactions.some(s=>s.effects.some(o=>o.is(Qw)))&&(this.pendingStart=!0);let i=this.pendingStart?50:t.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(s=>s.isPending&&!this.running.some(o=>o.active.source==s.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let s of n.transactions)s.isUserEvent("input.type")?this.composing=2:this.composing==2&&s.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:n}=this.view,e=n.field(di);for(let t of e.active)t.isPending&&!this.running.some(r=>r.active.source==t.source)&&this.startQuery(t);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(tr).updateSyncTime))}startQuery(n){let{state:e}=this.view,t=Cu(e),r=new I9(e,t,n.explicit,this.view),i=new Xve(n,r);this.running.push(i),Promise.resolve(n.source(r)).then(s=>{i.context.aborted||(i.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:Hg.of(null)}),Rn(this.view.state,s)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(tr).updateSyncTime))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(tr),r=this.view.state.field(di);for(let i=0;i<this.running.length;i++){let s=this.running[i];if(s.done===void 0)continue;if(this.running.splice(i--,1),s.done){let a=Cu(s.updates.length?s.updates[0].startState:this.view.state),l=Math.min(a,s.done.from+(s.active.explicit?0:1)),c=new bd(s.active.source,s.active.explicit,l,s.done,s.done.from,(n=s.done.to)!==null&&n!==void 0?n:a);for(let u of s.updates)c=c.update(u,t);if(c.hasResult()){e.push(c);continue}}let o=r.active.find(a=>a.source==s.active.source);if(o&&o.isPending)if(s.done==null){let a=new ss(s.active.source,0);for(let l of s.updates)a=a.update(l,t);a.isPending||e.push(a)}else this.startQuery(o)}(e.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:sN.of(e)})}},{eventHandlers:{blur(n){let e=this.view.state.field(di,!1);if(e&&e.tooltip&&this.view.state.facet(tr).closeOnBlur){let t=e.open&&wX(this.view,e.open.tooltip);(!t||!t.dom.contains(n.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:Hg.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Qw.of(!1)}),20),this.composing=0}}}),Kve=typeof navigator=="object"&&/Win/.test(navigator.platform),Jve=ll.highest(fe.domEventHandlers({keydown(n,e){let t=e.state.field(di,!1);if(!t||!t.open||t.open.disabled||t.open.selected<0||n.key.length>1||n.ctrlKey&&!(Kve&&n.altKey)||n.metaKey)return!1;let r=t.open.options[t.open.selected],i=t.active.find(o=>o.source==r.source),s=r.completion.commitCharacters||i.result.commitCharacters;return s&&s.indexOf(n.key)>-1&&oN(e,r),!1}})),exe=fe.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),Kg={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},gu=Me.define({map(n,e){let t=e.mapPos(n,-1,qn.TrackAfter);return t??void 0}}),aN=new class extends Vo{};aN.startSide=1;aN.endSide=-1;const V9=Xt.define({create(){return yt.empty},update(n,e){if(n=n.map(e.changes),e.selection){let t=e.state.doc.lineAt(e.selection.main.head);n=n.update({filter:r=>r>=t.from&&r<=t.to})}for(let t of e.effects)t.is(gu)&&(n=n.update({add:[aN.range(t.value,t.value+1)]}));return n}});function txe(){return[rxe,V9]}const qk="()[]{}<>«»»«［］｛｝";function L9(n){for(let e=0;e<qk.length;e+=2)if(qk.charCodeAt(e)==n)return qk.charAt(e+1);return RQ(n<128?n:n+1)}function U9(n,e){return n.languageDataAt("closeBrackets",e)[0]||Kg}const nxe=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),rxe=fe.inputHandler.of((n,e,t,r)=>{if((nxe?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let i=n.state.selection.main;if(r.length>2||r.length==2&&mo(ui(r,0))==1||e!=i.from||t!=i.to)return!1;let s=oxe(n.state,r);return s?(n.dispatch(s),!0):!1}),ixe=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let r=U9(n,n.selection.main.head).brackets||Kg.brackets,i=null,s=n.changeByRange(o=>{if(o.empty){let a=axe(n.doc,o.head);for(let l of r)if(l==a&&QS(n.doc,o.head)==L9(ui(l,0)))return{changes:{from:o.head-l.length,to:o.head+l.length},range:te.cursor(o.head-l.length)}}return{range:i=o}});return i||e(n.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},sxe=[{key:"Backspace",run:ixe}];function oxe(n,e){let t=U9(n,n.selection.main.head),r=t.brackets||Kg.brackets;for(let i of r){let s=L9(ui(i,0));if(e==i)return s==i?uxe(n,i,r.indexOf(i+i+i)>-1,t):lxe(n,i,s,t.before||Kg.before);if(e==s&&z9(n,n.selection.main.from))return cxe(n,i,s)}return null}function z9(n,e){let t=!1;return n.field(V9).between(0,n.doc.length,r=>{r==e&&(t=!0)}),t}function QS(n,e){let t=n.sliceString(e,e+2);return t.slice(0,mo(ui(t,0)))}function axe(n,e){let t=n.sliceString(e-2,e);return mo(ui(t,0))==t.length?t:t.slice(1)}function lxe(n,e,t,r){let i=null,s=n.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:t,from:o.to}],effects:gu.of(o.to+e.length),range:te.range(o.anchor+e.length,o.head+e.length)};let a=QS(n.doc,o.head);return!a||/\s/.test(a)||r.indexOf(a)>-1?{changes:{insert:e+t,from:o.head},effects:gu.of(o.head+e.length),range:te.cursor(o.head+e.length)}:{range:i=o}});return i?null:n.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function cxe(n,e,t){let r=null,i=n.changeByRange(s=>s.empty&&QS(n.doc,s.head)==t?{changes:{from:s.head,to:s.head+t.length,insert:t},range:te.cursor(s.head+t.length)}:r={range:s});return r?null:n.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function uxe(n,e,t,r){let i=r.stringPrefixes||Kg.stringPrefixes,s=null,o=n.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:e,from:a.to}],effects:gu.of(a.to+e.length),range:te.range(a.anchor+e.length,a.head+e.length)};let l=a.head,c=QS(n.doc,l),u;if(c==e){if($V(n,l))return{changes:{insert:e+e,from:l},effects:gu.of(l+e.length),range:te.cursor(l+e.length)};if(z9(n,l)){let f=t&&n.sliceDoc(l,l+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+f.length,insert:f},range:te.cursor(l+f.length)}}}else{if(t&&n.sliceDoc(l-2*e.length,l)==e+e&&(u=jV(n,l-2*e.length,i))>-1&&$V(n,u))return{changes:{insert:e+e+e+e,from:l},effects:gu.of(l+e.length),range:te.cursor(l+e.length)};if(n.charCategorizer(l)(c)!=Kt.Word&&jV(n,l,i)>-1&&!hxe(n,l,e,i))return{changes:{insert:e+e,from:l},effects:gu.of(l+e.length),range:te.cursor(l+e.length)}}return{range:s=a}});return s?null:n.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function $V(n,e){let t=$r(n).resolveInner(e+1);return t.parent&&t.from==e}function hxe(n,e,t,r){let i=$r(n).resolveInner(e,-1),s=r.reduce((o,a)=>Math.max(o,a.length),0);for(let o=0;o<5;o++){let a=n.sliceDoc(i.from,Math.min(i.to,i.from+t.length+s)),l=a.indexOf(t);if(!l||l>-1&&r.indexOf(a.slice(0,l))>-1){let u=i.firstChild;for(;u&&u.from==i.from&&u.to-u.from>t.length+l;){if(n.sliceDoc(u.to-t.length,u.to)==t)return!1;u=u.firstChild}return!0}let c=i.to==e&&i.parent;if(!c)break;i=c}return!1}function jV(n,e,t){let r=n.charCategorizer(e);if(r(n.sliceDoc(e-1,e))!=Kt.Word)return e;for(let i of t){let s=e-i.length;if(n.sliceDoc(s,e)==i&&r(n.sliceDoc(s-1,s))!=Kt.Word)return s}return-1}function dxe(n={}){return[Jve,di,tr.of(n),Hve,fxe,exe]}const q9=[{key:"Ctrl-Space",run:IV},{mac:"Alt-`",run:IV},{key:"Escape",run:Wve},{key:"ArrowDown",run:I0(!0)},{key:"ArrowUp",run:I0(!1)},{key:"PageDown",run:I0(!0,"page")},{key:"PageUp",run:I0(!1,"page")},{key:"Enter",run:Bve}],fxe=ll.highest(sy.computeN([tr],n=>n.facet(tr).defaultKeymap?[q9]:[]));class DV{constructor(e,t,r){this.from=e,this.to=t,this.diagnostic=r}}class lu{constructor(e,t,r){this.diagnostics=e,this.panel=t,this.selected=r}static init(e,t,r){let i=e,s=r.facet(Jg).markerFilter;s&&(i=s(i,r));let o=e.slice().sort((d,f)=>d.from-f.from||d.to-f.to),a=new Ha,l=[],c=0;for(let d=0;;){let f=d==o.length?null:o[d];if(!f&&!l.length)break;let m,g;for(l.length?(m=c,g=l.reduce((x,w)=>Math.min(x,w.to),f&&f.from>m?f.from:1e8)):(m=f.from,g=f.to,l.push(f),d++);d<o.length;){let x=o[d];if(x.from==m&&(x.to>x.from||x.to==m))l.push(x),d++,g=Math.min(x.to,g);else{g=Math.min(x.from,g);break}}let y=Txe(l);if(l.some(x=>x.from==x.to||x.from==x.to-1&&r.doc.lineAt(x.from).to==x.from))a.add(m,m,ye.widget({widget:new bxe(y),diagnostics:l.slice()}));else{let x=l.reduce((w,k)=>k.markClass?w+" "+k.markClass:w,"");a.add(m,g,ye.mark({class:"cm-lintRange cm-lintRange-"+y+x,diagnostics:l.slice(),inclusiveEnd:l.some(w=>w.to>g)}))}c=g;for(let x=0;x<l.length;x++)l[x].to<=c&&l.splice(x--,1)}let u=a.finish();return new lu(u,t,uf(u))}}function uf(n,e=null,t=0){let r=null;return n.between(t,1e9,(i,s,{spec:o})=>{if(!(e&&o.diagnostics.indexOf(e)<0))if(!r)r=new DV(i,s,e||o.diagnostics[0]);else{if(o.diagnostics.indexOf(r.diagnostic)<0)return!1;r=new DV(r.from,s,r.diagnostic)}}),r}function pxe(n,e){let t=e.pos,r=e.end||t,i=n.state.facet(Jg).hideOn(n,t,r);if(i!=null)return i;let s=n.startState.doc.lineAt(e.pos);return!!(n.effects.some(o=>o.is(F9))||n.changes.touchesRange(s.from,Math.max(s.to,r)))}function mxe(n,e){return n.field(ji,!1)?e:e.concat(Me.appendConfig.of(Pxe))}const F9=Me.define(),lN=Me.define(),Z9=Me.define(),ji=Xt.define({create(){return new lu(ye.none,null,null)},update(n,e){if(e.docChanged&&n.diagnostics.size){let t=n.diagnostics.map(e.changes),r=null,i=n.panel;if(n.selected){let s=e.changes.mapPos(n.selected.from,1);r=uf(t,n.selected.diagnostic,s)||uf(t,null,s)}!t.size&&i&&e.state.facet(Jg).autoPanel&&(i=null),n=new lu(t,i,r)}for(let t of e.effects)if(t.is(F9)){let r=e.state.facet(Jg).autoPanel?t.value.length?eO.open:null:n.panel;n=lu.init(t.value,r,e.state)}else t.is(lN)?n=new lu(n.diagnostics,t.value?eO.open:null,n.selected):t.is(Z9)&&(n=new lu(n.diagnostics,n.panel,t.value));return n},provide:n=>[Wg.from(n,e=>e.panel),fe.decorations.from(n,e=>e.diagnostics)]}),gxe=ye.mark({class:"cm-lintRange cm-lintRange-active"});function Oxe(n,e,t){let{diagnostics:r}=n.state.field(ji),i,s=-1,o=-1;r.between(e-(t<0?1:0),e+(t>0?1:0),(l,c,{spec:u})=>{if(e>=l&&e<=c&&(l==c||(e>l||t>0)&&(e<c||t<0)))return i=u.diagnostics,s=l,o=c,!1});let a=n.state.facet(Jg).tooltipFilter;return i&&a&&(i=a(i,n.state)),i?{pos:s,end:o,above:n.state.doc.lineAt(s).to<o,create(){return{dom:yxe(n,i)}}}:null}function yxe(n,e){return Ct("ul",{class:"cm-tooltip-lint"},e.map(t=>W9(n,t,!1)))}const vxe=n=>{let e=n.state.field(ji,!1);(!e||!e.panel)&&n.dispatch({effects:mxe(n.state,[lN.of(!0)])});let t=Bg(n,eO.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},MV=n=>{let e=n.state.field(ji,!1);return!e||!e.panel?!1:(n.dispatch({effects:lN.of(!1)}),!0)},xxe=n=>{let e=n.state.field(ji,!1);if(!e)return!1;let t=n.state.selection.main,r=e.diagnostics.iter(t.to+1);return!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==t.from&&r.to==t.to)?!1:(n.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},wxe=[{key:"Mod-Shift-m",run:vxe,preventDefault:!0},{key:"F8",run:xxe}],Jg=de.define({combine(n){return Object.assign({sources:n.map(e=>e.source).filter(e=>e!=null)},ta(n.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,t)=>e?t?r=>e(r)||t(r):e:t}))}});function B9(n){let e=[];if(n)e:for(let{name:t}of n){for(let r=0;r<t.length;r++){let i=t[r];if(/[a-zA-Z]/.test(i)&&!e.some(s=>s.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function W9(n,e,t){var r;let i=t?B9(e.actions):[];return Ct("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},Ct("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(n):e.message),(r=e.actions)===null||r===void 0?void 0:r.map((s,o)=>{let a=!1,l=f=>{if(f.preventDefault(),a)return;a=!0;let m=uf(n.state.field(ji).diagnostics,e);m&&s.apply(n,m.from,m.to)},{name:c}=s,u=i[o]?c.indexOf(i[o]):-1,d=u<0?c:[c.slice(0,u),Ct("u",c.slice(u,u+1)),c.slice(u+1)];return Ct("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":` Action: ${c}${u<0?"":` (access key "${i[o]})"`}.`},d)}),e.source&&Ct("div",{class:"cm-diagnosticSource"},e.source))}class bxe extends na{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return Ct("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class VV{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=W9(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class eO{constructor(e){this.view=e,this.items=[];let t=i=>{if(i.keyCode==27)MV(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],o=B9(s.actions);for(let a=0;a<o.length;a++)if(o[a].toUpperCase().charCodeAt(0)==i.keyCode){let l=uf(this.view.state.field(ji).diagnostics,s);l&&s.actions[a].apply(e,l.from,l.to)}}else return;i.preventDefault()},r=i=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(i.target)&&this.moveSelection(s)};this.list=Ct("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:r}),this.dom=Ct("div",{class:"cm-panel-lint"},this.list,Ct("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>MV(this.view)},"×")),this.update()}get selectedIndex(){let e=this.view.state.field(ji).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(ji),r=0,i=!1,s=null,o=new Set;for(e.between(0,this.view.state.doc.length,(a,l,{spec:c})=>{for(let u of c.diagnostics){if(o.has(u))continue;o.add(u);let d=-1,f;for(let m=r;m<this.items.length;m++)if(this.items[m].diagnostic==u){d=m;break}d<0?(f=new VV(this.view,u),this.items.splice(r,0,f),i=!0):(f=this.items[d],d>r&&(this.items.splice(r,d-r),i=!0)),t&&f.diagnostic==t.diagnostic?f.dom.hasAttribute("aria-selected")||(f.dom.setAttribute("aria-selected","true"),s=f):f.dom.hasAttribute("aria-selected")&&f.dom.removeAttribute("aria-selected"),r++}});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new VV(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:a,panel:l})=>{let c=l.height/this.list.offsetHeight;a.top<l.top?this.list.scrollTop-=(l.top-a.top)/c:a.bottom>l.bottom&&(this.list.scrollTop+=(a.bottom-l.bottom)/c)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function t(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)t();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(ji),r=uf(t.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:Z9.of(r)})}static open(e){return new eO(e)}}function Sxe(n,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(n)}</svg>')`}function $0(n){return Sxe(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const kxe=fe.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:$0("#d11")},".cm-lintRange-warning":{backgroundImage:$0("orange")},".cm-lintRange-info":{backgroundImage:$0("#999")},".cm-lintRange-hint":{backgroundImage:$0("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function _xe(n){return n=="error"?4:n=="warning"?3:n=="info"?2:1}function Txe(n){let e="hint",t=1;for(let r of n){let i=_xe(r.severity);i>t&&(t=i,e=r.severity)}return e}const Pxe=[ji,fe.decorations.compute([ji],n=>{let{selected:e,panel:t}=n.field(ji);return!e||!t||e.from==e.to?ye.none:ye.set([gxe.range(e.from,e.to)])}),pOe(Oxe,{hideOn:pxe}),kxe],Cxe=[_Oe(),COe(),Zge(),Hye(),Sye(),Ige(),Vge(),Ve.allowMultipleSelections.of(!0),cye(),_ye(Cye,{fallback:!0}),$ye(),txe(),dxe(),rOe(),oOe(),Hge(),sve(),sy.of([...sxe,...J0e,...kve,...o0e,...vye,...q9,...wxe])],X9=1024;let Exe=0,Fk=class{constructor(e,t){this.from=e,this.to=t}},Jt=class{constructor(e={}){this.id=Exe++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=el.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}};Jt.closedBy=new Jt({deserialize:n=>n.split(" ")});Jt.openedBy=new Jt({deserialize:n=>n.split(" ")});Jt.group=new Jt({deserialize:n=>n.split(" ")});Jt.isolate=new Jt({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});Jt.contextHash=new Jt({perNode:!0});Jt.lookAhead=new Jt({perNode:!0});Jt.mounted=new Jt({perNode:!0});let Iw=class{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[Jt.mounted.id]}};const Axe=Object.create(null);let el=class G9{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):Axe,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new G9(e.name||"",t,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Jt.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(Jt.group),s=-1;s<(i?i.length:0);s++){let o=t[s<0?r.name:i[s]];if(o)return o}}}};el.none=new el("",Object.create(null),0,8);class cN{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let r of this.types){let i=null;for(let s of e){let o=s(r);o&&(i||(i=Object.assign({},r.props)),i[o[0].id]=o[1])}t.push(i?new el(r.name,i,r.id,r.flags):r)}return new cN(t)}}const j0=new WeakMap,LV=new WeakMap;var ur;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(ur||(ur={}));let Ls=class IC{constructor(e,t,r,i,s){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=Iw.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new DC(this.topNode,e)}cursorAt(e,t=0,r=0){let i=j0.get(this)||this.topNode,s=new DC(i);return s.moveTo(e,t),j0.set(this,s._tree),s}get topNode(){return new Cc(this,0,0,null)}resolve(e,t=0){let r=tO(j0.get(this)||this.topNode,e,t,!1);return j0.set(this,r),r}resolveInner(e,t=0){let r=tO(LV.get(this)||this.topNode,e,t,!0);return LV.set(this,r),r}resolveStack(e,t=0){return Ixe(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:s=this.length}=e,o=e.mode||0,a=(o&ur.IncludeAnonymous)>0;for(let l=this.cursor(o|ur.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=i&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:hN(el.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new IC(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new IC(el.none,t,r,i)))}static build(e){return $xe(e)}};Ls.empty=new Ls(el.none,[],[],0);let Rxe=class Y9{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Y9(this.buffer,this.index)}},hf=class H9{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return el.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(K9(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,t,r){let i=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=i[a++],s[l++]=i[a++]-r;let c=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,c)}return new H9(s,o,this.set)}};function K9(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function tO(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!r&&n instanceof Cc&&n.index<0?null:n.parent;if(!o)return n;n=o}let s=r?0:ur.IgnoreOverlays;if(r)for(let o=n,a=o.parent;a;o=a,a=o.parent)o instanceof Cc&&o.index<0&&((i=a.enter(e,t,s))===null||i===void 0?void 0:i.from)!=o.from&&(n=a);for(;;){let o=n.enter(e,t,s);if(!o)return n;n=o}}let J9=class{cursor(e=0){return new DC(this,e)}getChild(e,t=null,r=null){let i=UV(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return UV(this,e,t,r)}resolve(e,t=0){return tO(this,e,t,!1)}resolveInner(e,t=0){return tO(this,e,t,!0)}matchContext(e){return $C(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}},Cc=class Nv extends J9{constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=t>0?a.length:-1;e!=c;e+=t){let u=a[e],d=l[e]+o.from;if(K9(i,r,d,d+u.length)){if(u instanceof hf){if(s&ur.ExcludeBuffers)continue;let f=u.findChild(0,u.buffer.length,t,r-d,i);if(f>-1)return new jC(new Qxe(o,u,e,d),null,f)}else if(s&ur.IncludeAnonymous||!u.type.isAnonymous||uN(u)){let f;if(!(s&ur.IgnoreMounts)&&(f=Iw.get(u))&&!f.overlay)return new Nv(f.tree,d,e,o);let m=new Nv(u,d,e,o);return s&ur.IncludeAnonymous||!m.type.isAnonymous?m:m.nextChild(t<0?u.children.length-1:0,t,r,i)}}}if(s&ur.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&ur.IgnoreOverlays)&&(i=Iw.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:o,to:a}of i.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new Nv(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function UV(n,e,t,r){let i=n.cursor(),s=[];if(!i.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=i.type.is(t),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function $C(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}let Qxe=class{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}},jC=class dm extends J9{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return s<0?null:new dm(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&ur.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new dm(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new dm(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new dm(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),t.push(0)}return new Ls(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function e6(n){if(!n.length)return null;let e=0,t=n[0];for(let s=1;s<n.length;s++){let o=n[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let r=t instanceof Cc&&t.index<0?null:t.parent,i=n.slice();return r?i[e]=r:i.splice(e,1),new Nxe(i,t)}let Nxe=class{constructor(e,t){this.heads=e,this.node=t}get next(){return e6(this.heads)}};function Ixe(n,e,t){let r=n.resolveInner(e,t),i=null;for(let s=r instanceof Cc?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[r])).push(o.resolve(e,t)),s=o}else{let o=Iw.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new Cc(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(tO(a,e,t,!1))}}return i?e6(i):r}let DC=class{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Cc)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof Cc?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&ur.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&ur.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&ur.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let s=t+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&ur.IncludeAnonymous||a instanceof hf||!a.type.isAnonymous||uN(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;t=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)t=new jC(this.buffer,t,this.stack[i]);return this.bufferNode=new jC(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return $C(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return $C(this._tree,e,i);let o=r[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}};function uN(n){return n.children.some(e=>e instanceof hf||!e.type.isAnonymous||uN(e))}function $xe(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=X9,reused:s=[],minRepeatType:o=r.types.length}=n,a=Array.isArray(t)?new Rxe(t,t.length):t,l=r.types,c=0,u=0;function d(C,N,O,T,S,A){let{id:_,start:v,end:E,size:j}=a,V=u,U=c;for(;j<0;)if(a.next(),j==-1){let Z=s[_];O.push(Z),T.push(v-C);return}else if(j==-3){c=_;return}else if(j==-4){u=_;return}else throw new RangeError(`Unrecognized record size: ${j}`);let X=l[_],D,L,Y=v-C;if(E-v<=i&&(L=x(a.pos-N,S))){let Z=new Uint16Array(L.size-L.skip),F=a.pos-L.size,B=Z.length;for(;a.pos>F;)B=w(L.start,Z,B);D=new hf(Z,E-L.start,r),Y=L.start-C}else{let Z=a.pos-j;a.next();let F=[],B=[],J=_>=o?_:-1,ae=0,oe=E;for(;a.pos>Z;)J>=0&&a.id==J&&a.size>=0?(a.end<=oe-i&&(g(F,B,v,ae,a.end,oe,J,V,U),ae=F.length,oe=a.end),a.next()):A>2500?f(v,Z,F,B):d(v,Z,F,B,J,A+1);if(J>=0&&ae>0&&ae<F.length&&g(F,B,v,ae,v,oe,J,V,U),F.reverse(),B.reverse(),J>-1&&ae>0){let ie=m(X,U);D=hN(X,F,B,0,F.length,0,E-v,ie,ie)}else D=y(X,F,B,E-v,V-E,U)}O.push(D),T.push(Y)}function f(C,N,O,T){let S=[],A=0,_=-1;for(;a.pos>N;){let{id:v,start:E,end:j,size:V}=a;if(V>4)a.next();else{if(_>-1&&E<_)break;_<0&&(_=j-i),S.push(v,E,j),A++,a.next()}}if(A){let v=new Uint16Array(A*4),E=S[S.length-2];for(let j=S.length-3,V=0;j>=0;j-=3)v[V++]=S[j],v[V++]=S[j+1]-E,v[V++]=S[j+2]-E,v[V++]=V;O.push(new hf(v,S[2]-E,r)),T.push(E-C)}}function m(C,N){return(O,T,S)=>{let A=0,_=O.length-1,v,E;if(_>=0&&(v=O[_])instanceof Ls){if(!_&&v.type==C&&v.length==S)return v;(E=v.prop(Jt.lookAhead))&&(A=T[_]+v.length+E)}return y(C,O,T,S,A,N)}}function g(C,N,O,T,S,A,_,v,E){let j=[],V=[];for(;C.length>T;)j.push(C.pop()),V.push(N.pop()+O-S);C.push(y(r.types[_],j,V,A-S,v-A,E)),N.push(S-O)}function y(C,N,O,T,S,A,_){if(A){let v=[Jt.contextHash,A];_=_?[v].concat(_):[v]}if(S>25){let v=[Jt.lookAhead,S];_=_?[v].concat(_):[v]}return new Ls(C,N,O,T,_)}function x(C,N){let O=a.fork(),T=0,S=0,A=0,_=O.end-i,v={size:0,start:0,skip:0};e:for(let E=O.pos-C;O.pos>E;){let j=O.size;if(O.id==N&&j>=0){v.size=T,v.start=S,v.skip=A,A+=4,T+=4,O.next();continue}let V=O.pos-j;if(j<0||V<E||O.start<_)break;let U=O.id>=o?4:0,X=O.start;for(O.next();O.pos>V;){if(O.size<0)if(O.size==-3)U+=4;else break e;else O.id>=o&&(U+=4);O.next()}S=X,T+=j,A+=U}return(N<0||T==C)&&(v.size=T,v.start=S,v.skip=A),v.size>4?v:void 0}function w(C,N,O){let{id:T,start:S,end:A,size:_}=a;if(a.next(),_>=0&&T<o){let v=O;if(_>4){let E=a.pos-(_-4);for(;a.pos>E;)O=w(C,N,O)}N[--O]=v,N[--O]=A-C,N[--O]=S-C,N[--O]=T}else _==-3?c=T:_==-4&&(u=T);return O}let k=[],P=[];for(;a.pos>0;)d(n.start||0,n.bufferStart||0,k,P,-1,0);let Q=(e=n.length)!==null&&e!==void 0?e:k.length?P[0]+k[0].length:0;return new Ls(l[n.topID],k.reverse(),P.reverse(),Q)}const zV=new WeakMap;function Iv(n,e){if(!n.isAnonymous||e instanceof hf||e.type!=n)return 1;let t=zV.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof Ls)){t=1;break}t+=Iv(n,r)}zV.set(e,t)}return t}function hN(n,e,t,r,i,s,o,a,l){let c=0;for(let g=r;g<i;g++)c+=Iv(n,e[g]);let u=Math.ceil(c*1.5/8),d=[],f=[];function m(g,y,x,w,k){for(let P=x;P<w;){let Q=P,C=y[P],N=Iv(n,g[P]);for(P++;P<w;P++){let O=Iv(n,g[P]);if(N+O>=u)break;N+=O}if(P==Q+1){if(N>u){let O=g[Q];m(O.children,O.positions,0,O.children.length,y[Q]+k);continue}d.push(g[Q])}else{let O=y[P-1]+g[P-1].length-C;d.push(hN(n,g,y,Q,P,C,O,null,l))}f.push(C+k-s)}}return m(e,t,r,i,0),(a||l)(d,f,o)}let jxe=class{startParse(e,t,r){return typeof e=="string"&&(e=new Dxe(e)),r=r?r.length?r.map(i=>new Fk(i.from,i.to)):[new Fk(0,0)]:[new Fk(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let s=i.advance();if(s)return s}}},Dxe=class{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}};new Jt({perNode:!0});var qV={};class $w{constructor(e,t,r,i,s,o,a,l,c,u=0,d){this.p=e,this.stack=t,this.state=r,this.reducePos=i,this.pos=s,this.score=o,this.buffer=a,this.bufferBase=l,this.curContext=c,this.lookAhead=u,this.parent=d}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,r=0){let i=e.parser.context;return new $w(e,[],t,r,r,0,[],0,i?new FV(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let r=e>>19,i=e&65535,{parser:s}=this.p,o=this.reducePos<this.pos-25;o&&this.setLookAhead(this.pos);let a=s.dynamicPrecedence(i);if(a&&(this.score+=a),r==0){this.pushState(s.getGoto(this.state,i,!0),this.reducePos),i<s.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,o?8:4,!0),this.reduceContext(i,this.reducePos);return}let l=this.stack.length-(r-1)*3-(e&262144?6:0),c=l?this.stack[l-2]:this.p.ranges[0].from,u=this.reducePos-c;u>=2e3&&!(!((t=this.p.parser.nodeSet.types[i])===null||t===void 0)&&t.isAnonymous)&&(c==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=u):this.p.lastBigReductionSize<u&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=c,this.p.lastBigReductionSize=u));let d=l?this.stack[l-1]:0,f=this.bufferBase+this.buffer.length-d;if(i<s.minRepeatTerm||e&131072){let m=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,c,m,f+4,!0)}if(e&262144)this.state=this.stack[l];else{let m=this.stack[l-3];this.state=s.getGoto(m,i,!0)}for(;this.stack.length>l;)this.stack.pop();this.reduceContext(i,c)}storeNode(e,t,r,i=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,a=this.buffer.length;if(a==0&&o.parent&&(a=o.bufferBase-o.parent.bufferBase,o=o.parent),a>0&&o.buffer[a-4]==0&&o.buffer[a-1]>-1){if(t==r)return;if(o.buffer[a-2]>=t){o.buffer[a-2]=r;return}}}if(!s||this.pos==r)this.buffer.push(e,t,r,i);else{let o=this.buffer.length;if(o>0&&this.buffer[o-4]!=0){let a=!1;for(let l=o;l>0&&this.buffer[l-2]>r;l-=4)if(this.buffer[l-1]>=0){a=!0;break}if(a)for(;o>0&&this.buffer[o-2]>r;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,i>4&&(i-=4)}this.buffer[o]=e,this.buffer[o+1]=t,this.buffer[o+2]=r,this.buffer[o+3]=i}}shift(e,t,r,i){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=i,this.shiftContext(t,r),t<=this.p.parser.maxNode&&this.buffer.push(t,r,i,4);else{let s=e,{parser:o}=this.p;(i>this.pos||t<=o.maxNode)&&(this.pos=i,o.stateFlag(s,1)||(this.reducePos=i)),this.pushState(s,r),this.shiftContext(t,r),t<=o.maxNode&&this.buffer.push(t,r,i,4)}}apply(e,t,r,i){e&65536?this.reduce(e):this.shift(e,t,r,i)}useNode(e,t){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(t,i),this.buffer.push(r,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let r=e.buffer.slice(t),i=e.bufferBase+t;for(;e&&i==e.bufferBase;)e=e.parent;return new $w(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,r?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new Mxe(this);;){let r=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(r==0)return!1;if(!(r&65536))return!0;t.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let i=[];for(let s=0,o;s<t.length;s+=2)(o=t[s+1])!=this.state&&this.p.parser.hasAction(o,e)&&i.push(t[s],o);if(this.stack.length<120)for(let s=0;i.length<8&&s<t.length;s+=2){let o=t[s+1];i.some((a,l)=>l&1&&a==o)||i.push(t[s],o)}t=i}let r=[];for(let i=0;i<t.length&&r.length<4;i+=2){let s=t[i+1];if(s==this.state)continue;let o=this.split();o.pushState(s,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(t[i],this.pos),o.reducePos=this.pos,o.score-=200,r.push(o)}return r}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if(!(t&65536))return!1;if(!e.validAction(this.state,t)){let r=t>>19,i=t&65535,s=this.stack.length-r*3;if(s<0||e.getGoto(this.stack[s],i,!1)<0){let o=this.findForcedReduction();if(o==null)return!1;t=o}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],r=(i,s)=>{if(!t.includes(i))return t.push(i),e.allActions(i,o=>{if(!(o&393216))if(o&65536){let a=(o>>19)-s;if(a>1){let l=o&65535,c=this.stack.length-a*3;if(c>=0&&e.getGoto(this.stack[c],l,!1)>=0)return a<<19|65536|l}}else{let a=r(o,s+1);if(a!=null)return a}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new FV(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class FV{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class Mxe{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=i}}class jw{constructor(e,t,r){this.stack=e,this.pos=t,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new jw(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new jw(this.stack,this.pos,this.index)}}function fm(n,e=Uint16Array){if(typeof n!="string")return n;let t=null;for(let r=0,i=0;r<n.length;){let s=0;for(;;){let o=n.charCodeAt(r++),a=!1;if(o==126){s=65535;break}o>=92&&o--,o>=34&&o--;let l=o-32;if(l>=46&&(l-=46,a=!0),s+=l,a)break;s*=46}t?t[i++]=s:t=new e(s)}return t}class $v{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const ZV=new $v;class Vxe{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=ZV,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let r=this.range,i=this.rangeIndex,s=this.pos+e;for(;s<r.from;){if(!i)return null;let o=this.ranges[--i];s-=r.from-o.to,r=o}for(;t<0?s>r.to:s>=r.to;){if(i==this.ranges.length-1)return null;let o=this.ranges[++i];s+=o.from-r.to,r=o}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,r,i;if(t>=0&&t<this.chunk.length)r=this.pos+e,i=this.chunk.charCodeAt(t);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(r=s,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let o=this.rangeIndex,a=this.range;for(;a.to<=r;)a=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-r)),i=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),i}acceptToken(e,t=0){let r=t?this.resolveOffset(t,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}acceptTokenTo(e,t){this.token.value=e,this.token.end=t}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=ZV,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let r="";for(let i of this.ranges){if(i.from>=t)break;i.to>e&&(r+=this.input.read(Math.max(i.from,e),Math.min(i.to,t)))}return r}}class Sd{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:r}=t.p;t6(this.data,e,t,this.id,r.data,r.tokenPrecTable)}}Sd.prototype.contextual=Sd.prototype.fallback=Sd.prototype.extend=!1;class Dw{constructor(e,t,r){this.precTable=t,this.elseToken=r,this.data=typeof e=="string"?fm(e):e}token(e,t){let r=e.pos,i=0;for(;;){let s=e.next<0,o=e.resolveOffset(1,1);if(t6(this.data,e,t,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(s||i++,o==null)break;e.reset(o,e.token)}i&&(e.reset(r,e.token),e.acceptToken(this.elseToken,i))}}Dw.prototype.contextual=Sd.prototype.fallback=Sd.prototype.extend=!1;class vr{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function t6(n,e,t,r,i,s){let o=0,a=1<<r,{dialect:l}=t.p.parser;e:for(;a&n[o];){let c=n[o+1];for(let m=o+3;m<c;m+=2)if((n[m+1]&a)>0){let g=n[m];if(l.allows(g)&&(e.token.value==-1||e.token.value==g||Lxe(g,e.token.value,i,s))){e.acceptToken(g);break}}let u=e.next,d=0,f=n[o+2];if(e.next<0&&f>d&&n[c+f*3-3]==65535){o=n[c+f*3-1];continue e}for(;d<f;){let m=d+f>>1,g=c+m+(m<<1),y=n[g],x=n[g+1]||65536;if(u<y)f=m;else if(u>=x)d=m+1;else{o=n[g+2],e.advance();continue e}}break}}function BV(n,e,t){for(let r=e,i;(i=n[r])!=65535;r++)if(i==t)return r-e;return-1}function Lxe(n,e,t,r){let i=BV(t,r,e);return i<0||BV(t,r,n)<i}const Ti=typeof process<"u"&&qV&&/\bparse\b/.test(qV.LOG);let Zk=null;function WV(n,e,t){let r=n.cursor(ur.IncludeAnonymous);for(r.moveTo(e);;)if(!(t<0?r.childBefore(e):r.childAfter(e)))for(;;){if((t<0?r.to<e:r.from>e)&&!r.type.isError)return t<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(n.length,Math.max(r.from+1,e+25));if(t<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return t<0?0:n.length}}let Uxe=class{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?WV(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?WV(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let r=this.trees[t],i=this.index[t];if(i==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=r.children[i],o=this.start[t]+r.positions[i];if(o>e)return this.nextStart=o,null;if(s instanceof Ls){if(o==e){if(o<this.safeFrom)return null;let a=o+s.length;if(a<=this.safeTo){let l=s.prop(Jt.lookAhead);if(!l||a+l<this.fragment.to)return s}}this.index[t]++,o+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(o),this.index.push(0))}else this.index[t]++,this.nextStart=o+s.length}}};class zxe{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new $v)}getActions(e){let t=0,r=null,{parser:i}=e.p,{tokenizers:s}=i,o=i.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,l=0;for(let c=0;c<s.length;c++){if(!(1<<c&o))continue;let u=s[c],d=this.tokens[c];if(!(r&&!u.fallback)&&((u.contextual||d.start!=e.pos||d.mask!=o||d.context!=a)&&(this.updateCachedToken(d,u,e),d.mask=o,d.context=a),d.lookAhead>d.end+25&&(l=Math.max(d.lookAhead,l)),d.value!=0)){let f=t;if(d.extended>-1&&(t=this.addActions(e,d.extended,d.end,t)),t=this.addActions(e,d.value,d.end,t),!u.extend&&(r=d,t>f))break}}for(;this.actions.length>t;)this.actions.pop();return l&&e.setLookAhead(l),!r&&e.pos==this.stream.end&&(r=new $v,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,t=this.addActions(e,r.value,r.end,t)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new $v,{pos:r,p:i}=e;return t.start=r,t.end=Math.min(r+1,i.stream.end),t.value=r==i.stream.end?i.parser.eofTerm:0,t}updateCachedToken(e,t,r){let i=this.stream.clipPos(r.pos);if(t.token(this.stream.reset(i,e),r),e.value>-1){let{parser:s}=r.p;for(let o=0;o<s.specialized.length;o++)if(s.specialized[o]==e.value){let a=s.specializers[o](this.stream.read(e.start,e.end),r);if(a>=0&&r.p.parser.dialect.allows(a>>1)){a&1?e.extended=a>>1:e.value=a>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,t,r,i){for(let s=0;s<i;s+=3)if(this.actions[s]==e)return i;return this.actions[i++]=e,this.actions[i++]=t,this.actions[i++]=r,i}addActions(e,t,r,i){let{state:s}=e,{parser:o}=e.p,{data:a}=o;for(let l=0;l<2;l++)for(let c=o.stateSlot(s,l?2:1);;c+=3){if(a[c]==65535)if(a[c+1]==1)c=ba(a,c+2);else{i==0&&a[c+1]==2&&(i=this.putAction(ba(a,c+2),t,r,i));break}a[c]==t&&(i=this.putAction(ba(a,c+1),t,r,i))}return i}}class qxe{constructor(e,t,r,i){this.parser=e,this.input=t,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new Vxe(t,i),this.tokens=new zxe(e,this.stream),this.topTerm=e.top[1];let{from:s}=i[0];this.stacks=[$w.start(this,e.top[0],s)],this.fragments=r.length&&this.stream.end-s>e.bufferLength*4?new Uxe(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,r=this.stacks=[],i,s;if(this.bigReductionCount>300&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let a=e[o];for(;;){if(this.tokens.mainToken=null,a.pos>t)r.push(a);else{if(this.advanceStack(a,r,e))continue;{i||(i=[],s=[]),i.push(a);let l=this.tokens.getMainToken(a);s.push(l.value,l.end)}}break}}if(!r.length){let o=i&&Zxe(i);if(o)return Ti&&console.log("Finish with "+this.stackID(o)),this.stackToTree(o);if(this.parser.strict)throw Ti&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&i){let o=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,s,r);if(o)return Ti&&console.log("Force-finish "+this.stackID(o)),this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(r.length>o)for(r.sort((a,l)=>l.score-a.score);r.length>o;)r.pop();r.some(a=>a.reducePos>t)&&this.recovering--}else if(r.length>1){e:for(let o=0;o<r.length-1;o++){let a=r[o];for(let l=o+1;l<r.length;l++){let c=r[l];if(a.sameState(c)||a.buffer.length>500&&c.buffer.length>500)if((a.score-c.score||a.buffer.length-c.buffer.length)>0)r.splice(l--,1);else{r.splice(o--,1);continue e}}}r.length>12&&r.splice(12,r.length-12)}this.minStackPos=r[0].pos;for(let o=1;o<r.length;o++)r[o].pos<this.minStackPos&&(this.minStackPos=r[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,r){let i=e.pos,{parser:s}=this,o=Ti?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let c=e.curContext&&e.curContext.tracker.strict,u=c?e.curContext.hash:0;for(let d=this.fragments.nodeAt(i);d;){let f=this.parser.nodeSet.types[d.type.id]==d.type?s.getGoto(e.state,d.type.id):-1;if(f>-1&&d.length&&(!c||(d.prop(Jt.contextHash)||0)==u))return e.useNode(d,f),Ti&&console.log(o+this.stackID(e)+` (via reuse of ${s.getName(d.type.id)})`),!0;if(!(d instanceof Ls)||d.children.length==0||d.positions[0]>0)break;let m=d.children[0];if(m instanceof Ls&&d.positions[0]==0)d=m;else break}}let a=s.stateSlot(e.state,4);if(a>0)return e.reduce(a),Ti&&console.log(o+this.stackID(e)+` (via always-reduce ${s.getName(a&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let c=0;c<l.length;){let u=l[c++],d=l[c++],f=l[c++],m=c==l.length||!r,g=m?e:e.split(),y=this.tokens.mainToken;if(g.apply(u,d,y?y.start:g.pos,f),Ti&&console.log(o+this.stackID(g)+` (via ${u&65536?`reduce of ${s.getName(u&65535)}`:"shift"} for ${s.getName(d)} @ ${i}${g==e?"":", split"})`),m)return!0;g.pos>i?t.push(g):r.push(g)}return!1}advanceFully(e,t){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return XV(e,t),!0}}runRecovery(e,t,r){let i=null,s=!1;for(let o=0;o<e.length;o++){let a=e[o],l=t[o<<1],c=t[(o<<1)+1],u=Ti?this.stackID(a)+" -> ":"";if(a.deadEnd&&(s||(s=!0,a.restart(),Ti&&console.log(u+this.stackID(a)+" (restarted)"),this.advanceFully(a,r))))continue;let d=a.split(),f=u;for(let m=0;d.forceReduce()&&m<10&&(Ti&&console.log(f+this.stackID(d)+" (via force-reduce)"),!this.advanceFully(d,r));m++)Ti&&(f=this.stackID(d)+" -> ");for(let m of a.recoverByInsert(l))Ti&&console.log(u+this.stackID(m)+" (via recover-insert)"),this.advanceFully(m,r);this.stream.end>a.pos?(c==a.pos&&(c++,l=0),a.recoverByDelete(l,c),Ti&&console.log(u+this.stackID(a)+` (via recover-delete ${this.parser.getName(l)})`),XV(a,r)):(!i||i.score<a.score)&&(i=a)}return i}stackToTree(e){return e.close(),Ls.build({buffer:jw.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(Zk||(Zk=new WeakMap)).get(e);return t||Zk.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function XV(n,e){for(let t=0;t<e.length;t++){let r=e[t];if(r.pos==n.pos&&r.sameState(n)){e[t].score<n.score&&(e[t]=n);return}}e.push(n)}class Fxe{constructor(e,t,r){this.source=e,this.flags=t,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}const Bk=n=>n;class dN{constructor(e){this.start=e.start,this.shift=e.shift||Bk,this.reduce=e.reduce||Bk,this.reuse=e.reuse||Bk,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class tl extends jxe{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let a=0;a<e.repeatNodeCount;a++)t.push("");let r=Object.keys(e.topRules).map(a=>e.topRules[a][1]),i=[];for(let a=0;a<t.length;a++)i.push([]);function s(a,l,c){i[a].push([l,l.deserialize(String(c))])}if(e.nodeProps)for(let a of e.nodeProps){let l=a[0];typeof l=="string"&&(l=Jt[l]);for(let c=1;c<a.length;){let u=a[c++];if(u>=0)s(u,l,a[c++]);else{let d=a[c+-u];for(let f=-u;f>0;f--)s(a[c++],l,d);c++}}}this.nodeSet=new cN(t.map((a,l)=>el.define({name:l>=this.minRepeatTerm?void 0:a,id:l,props:i[l],top:r.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=X9;let o=fm(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map(GV),this.states=fm(e.states,Uint32Array),this.data=fm(e.stateData),this.goto=fm(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(a=>typeof a=="number"?new Sd(o,a):a),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,r){let i=new qxe(this,e,t,r);for(let s of this.wrappers)i=s(i,e,t,r);return i}getGoto(e,t,r=!1){let i=this.goto;if(t>=i[0])return-1;for(let s=i[t+1];;){let o=i[s++],a=o&1,l=i[s++];if(a&&r)return l;for(let c=s+(o>>1);s<c;s++)if(i[s]==e)return l;if(a)return-1}}hasAction(e,t){let r=this.data;for(let i=0;i<2;i++)for(let s=this.stateSlot(e,i?2:1),o;;s+=3){if((o=r[s])==65535)if(r[s+1]==1)o=r[s=ba(r,s+2)];else{if(r[s+1]==2)return ba(r,s+2);break}if(o==t||o==0)return ba(r,s+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,r=>r==t?!0:null)}allActions(e,t){let r=this.stateSlot(e,4),i=r?t(r):void 0;for(let s=this.stateSlot(e,1);i==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=ba(this.data,s+2);else break;i=t(ba(this.data,s+1))}return i}nextStates(e){let t=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=ba(this.data,r+2);else break;if(!(this.data[r+2]&1)){let i=this.data[r+1];t.some((s,o)=>o&1&&s==i)||t.push(this.data[r],i)}}return t}configure(e){let t=Object.assign(Object.create(tl.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=r}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(r=>{let i=e.tokenizers.find(s=>s.from==r);return i?i.to:r})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((r,i)=>{let s=e.specializers.find(a=>a.from==r.external);if(!s)return r;let o=Object.assign(Object.assign({},r),{external:s.to});return t.specializers[i]=GV(o),o})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),r=t.map(()=>!1);if(e)for(let s of e.split(" ")){let o=t.indexOf(s);o>=0&&(r[o]=!0)}let i=null;for(let s=0;s<t.length;s++)if(!r[s])for(let o=this.dialects[t[s]],a;(a=this.data[o++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[a]=1;return new Fxe(e,r,i)}static deserialize(e){return new tl(e)}}function ba(n,e){return n[e]|n[e+1]<<16}function Zxe(n){let e=null;for(let t of n){let r=t.p.stoppedAt;(t.pos==t.p.stream.end||r!=null&&t.pos>r)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function GV(n){if(n.external){let e=n.extend?1:0;return(t,r)=>n.external(t,r)<<1|e}return n.get}const Bxe=314,Wxe=315,YV=1,Xxe=2,Gxe=3,Yxe=4,Hxe=316,Kxe=318,Jxe=319,ewe=5,twe=6,nwe=0,MC=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],n6=125,rwe=59,VC=47,iwe=42,swe=43,owe=45,awe=60,lwe=44,cwe=63,uwe=46,hwe=91,dwe=new dN({start:!1,shift(n,e){return e==ewe||e==twe||e==Kxe?n:e==Jxe},strict:!1}),fwe=new vr((n,e)=>{let{next:t}=n;(t==n6||t==-1||e.context)&&n.acceptToken(Hxe)},{contextual:!0,fallback:!0}),pwe=new vr((n,e)=>{let{next:t}=n,r;MC.indexOf(t)>-1||t==VC&&((r=n.peek(1))==VC||r==iwe)||t!=n6&&t!=rwe&&t!=-1&&!e.context&&n.acceptToken(Bxe)},{contextual:!0}),mwe=new vr((n,e)=>{n.next==hwe&&!e.context&&n.acceptToken(Wxe)},{contextual:!0}),gwe=new vr((n,e)=>{let{next:t}=n;if(t==swe||t==owe){if(n.advance(),t==n.next){n.advance();let r=!e.context&&e.canShift(YV);n.acceptToken(r?YV:Xxe)}}else t==cwe&&n.peek(1)==uwe&&(n.advance(),n.advance(),(n.next<48||n.next>57)&&n.acceptToken(Gxe))},{contextual:!0});function Wk(n,e){return n>=65&&n<=90||n>=97&&n<=122||n==95||n>=192||!e&&n>=48&&n<=57}const Owe=new vr((n,e)=>{if(n.next!=awe||!e.dialectEnabled(nwe)||(n.advance(),n.next==VC))return;let t=0;for(;MC.indexOf(n.next)>-1;)n.advance(),t++;if(Wk(n.next,!0)){for(n.advance(),t++;Wk(n.next,!1);)n.advance(),t++;for(;MC.indexOf(n.next)>-1;)n.advance(),t++;if(n.next==lwe)return;for(let r=0;;r++){if(r==7){if(!Wk(n.next,!0))return;break}if(n.next!="extends".charCodeAt(r))break;n.advance(),t++}}n.acceptToken(Yxe,-t)}),ywe=Gi({"get set async static":$.modifier,"for while do if else switch try catch finally return throw break continue default case":$.controlKeyword,"in of await yield void typeof delete instanceof":$.operatorKeyword,"let var const using function class extends":$.definitionKeyword,"import export from":$.moduleKeyword,"with debugger as new":$.keyword,TemplateString:$.special($.string),super:$.atom,BooleanLiteral:$.bool,this:$.self,null:$.null,Star:$.modifier,VariableName:$.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":$.function($.variableName),VariableDefinition:$.definition($.variableName),Label:$.labelName,PropertyName:$.propertyName,PrivatePropertyName:$.special($.propertyName),"CallExpression/MemberExpression/PropertyName":$.function($.propertyName),"FunctionDeclaration/VariableDefinition":$.function($.definition($.variableName)),"ClassDeclaration/VariableDefinition":$.definition($.className),"NewExpression/VariableName":$.className,PropertyDefinition:$.definition($.propertyName),PrivatePropertyDefinition:$.definition($.special($.propertyName)),UpdateOp:$.updateOperator,"LineComment Hashbang":$.lineComment,BlockComment:$.blockComment,Number:$.number,String:$.string,Escape:$.escape,ArithOp:$.arithmeticOperator,LogicOp:$.logicOperator,BitOp:$.bitwiseOperator,CompareOp:$.compareOperator,RegExp:$.regexp,Equals:$.definitionOperator,Arrow:$.function($.punctuation),": Spread":$.punctuation,"( )":$.paren,"[ ]":$.squareBracket,"{ }":$.brace,"InterpolationStart InterpolationEnd":$.special($.brace),".":$.derefOperator,", ;":$.separator,"@":$.meta,TypeName:$.typeName,TypeDefinition:$.definition($.typeName),"type enum interface implements namespace module declare":$.definitionKeyword,"abstract global Privacy readonly override":$.modifier,"is keyof unique infer asserts":$.operatorKeyword,JSXAttributeValue:$.attributeValue,JSXText:$.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":$.angleBracket,"JSXIdentifier JSXNameSpacedName":$.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":$.attributeName,"JSXBuiltin/JSXIdentifier":$.standard($.tagName)}),vwe={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,const:52,extends:56,this:60,true:68,false:68,null:80,void:84,typeof:88,super:104,new:138,delete:150,yield:159,await:163,class:168,public:231,private:231,protected:231,readonly:233,instanceof:252,satisfies:255,in:256,import:290,keyof:347,unique:351,infer:357,asserts:393,is:395,abstract:415,implements:417,type:419,let:422,var:424,using:427,interface:433,enum:437,namespace:443,module:445,declare:449,global:453,for:472,of:481,while:484,with:488,do:492,if:496,else:498,switch:502,case:508,try:514,catch:518,finally:522,return:526,throw:530,break:534,continue:538,debugger:542},xwe={__proto__:null,async:125,get:127,set:129,declare:191,public:193,private:193,protected:193,static:195,abstract:197,override:199,readonly:205,accessor:207,new:399},wwe={__proto__:null,"<":189},bwe=tl.deserialize({version:14,states:"$EOQ%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#D_O.QQlO'#DeO.bQlO'#DpO%[QlO'#DxO0fQlO'#EQOOQ!0Lf'#EY'#EYO1PQ`O'#EVOOQO'#En'#EnOOQO'#Ij'#IjO1XQ`O'#GrO1dQ`O'#EmO1iQ`O'#EmO3hQ!0MxO'#JpO6[Q!0MxO'#JqO6uQ`O'#F[O6zQ,UO'#FsOOQ!0Lf'#Fe'#FeO7VO7dO'#FeO7eQMhO'#F{O9UQ`O'#FzOOQ!0Lf'#Jq'#JqOOQ!0Lb'#Jp'#JpO9ZQ`O'#GvOOQ['#K]'#K]O9fQ`O'#IWO9kQ!0LrO'#IXOOQ['#J^'#J^OOQ['#I]'#I]Q`QlOOQ`QlOOO9sQ!L^O'#DtO9zQlO'#D|O:RQlO'#EOO9aQ`O'#GrO:YQMhO'#CoO:hQ`O'#ElO:sQ`O'#EwO:xQMhO'#FdO;gQ`O'#GrOOQO'#K^'#K^O;lQ`O'#K^O;zQ`O'#GzO;zQ`O'#G{O;zQ`O'#G}O9aQ`O'#HQO<qQ`O'#HTO>YQ`O'#CeO>jQ`O'#HaO>rQ`O'#HgO>rQ`O'#HiO`QlO'#HkO>rQ`O'#HmO>rQ`O'#HpO>wQ`O'#HvO>|Q!0LsO'#H|O%[QlO'#IOO?XQ!0LsO'#IQO?dQ!0LsO'#ISO9kQ!0LrO'#IUO?oQ!0MxO'#CiO@qQpO'#DjQOQ`OOO%[QlO'#EOOAXQ`O'#ERO:YQMhO'#ElOAdQ`O'#ElOAoQ!bO'#FdOOQ['#Cg'#CgOOQ!0Lb'#Do'#DoOOQ!0Lb'#Jt'#JtO%[QlO'#JtOOQO'#Jw'#JwOOQO'#If'#IfOBoQpO'#EeOOQ!0Lb'#Ed'#EdOOQ!0Lb'#J{'#J{OCkQ!0MSO'#EeOCuQpO'#EUOOQO'#Jv'#JvODZQpO'#JwOEhQpO'#EUOCuQpO'#EePEuO&2DjO'#CbPOOO)CD{)CD{OOOO'#I^'#I^OFQO#tO,59UOOQ!0Lh,59U,59UOOOO'#I_'#I_OF`O&jO,59UOFnQ!L^O'#DaOOOO'#Ia'#IaOFuO#@ItO,59yOOQ!0Lf,59y,59yOGTQlO'#IbOGhQ`O'#JrOIgQ!fO'#JrO+}QlO'#JrOInQ`O,5:POJUQ`O'#EnOJcQ`O'#KROJnQ`O'#KQOJnQ`O'#KQOJvQ`O,5;[OJ{Q`O'#KPOOQ!0Ln,5:[,5:[OKSQlO,5:[OMQQ!0MxO,5:dOMqQ`O,5:lON[Q!0LrO'#KOONcQ`O'#J}O9ZQ`O'#J}ONwQ`O'#J}O! PQ`O,5;ZO! UQ`O'#J}O!#ZQ!fO'#JqOOQ!0Lh'#Ci'#CiO%[QlO'#EQO!#yQ!fO,5:qOOQS'#Jx'#JxOOQO-E<h-E<hO9aQ`O,5=^O!$aQ`O,5=^O!$fQlO,5;XO!&iQMhO'#EiO!(SQ`O,5;XO!(XQlO'#DwO!(cQpO,5;bO!(kQpO,5;bO%[QlO,5;bOOQ['#FS'#FSOOQ['#FU'#FUO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cOOQ['#FY'#FYO!(yQlO,5;sOOQ!0Lf,5;x,5;xOOQ!0Lf,5;y,5;yOOQ!0Lf,5;{,5;{O%[QlO'#InO!*|Q!0LrO,5<hO%[QlO,5;cO!&iQMhO,5;cO!+kQMhO,5;cO!-]QMhO'#E[O%[QlO,5;vOOQ!0Lf,5;z,5;zO!-dQ,UO'#FiO!.aQ,UO'#KVO!-{Q,UO'#KVO!.hQ,UO'#KVOOQO'#KV'#KVO!.|Q,UO,5<ROOOW,5<_,5<_O!/_QlO'#FuOOOW'#Im'#ImO7VO7dO,5<PO!/fQ,UO'#FwOOQ!0Lf,5<P,5<PO!0VQ$IUO'#CwOOQ!0Lh'#C{'#C{O!0jO#@ItO'#DPO!1WQMjO,5<dO!1_Q`O,5<gO!2zQ(CWO'#GWO!3XQ`O'#GXO!3^Q`O'#GXO!4|Q(CWO'#G]O!6RQpO'#GaOOQO'#Gm'#GmO!+rQMhO'#GlOOQO'#Go'#GoO!+rQMhO'#GnO!6tQ$IUO'#JjOOQ!0Lh'#Jj'#JjO!7OQ`O'#JiO!7^Q`O'#JhO!7fQ`O'#CuOOQ!0Lh'#Cy'#CyO!7qQ`O'#C{OOQ!0Lh'#DT'#DTOOQ!0Lh'#DV'#DVO1SQ`O'#DXO!+rQMhO'#GOO!+rQMhO'#GQO!7vQ`O'#GSO!7{Q`O'#GTO!3^Q`O'#GZO!+rQMhO'#G`O;zQ`O'#JiO!8QQ`O'#EoO!8oQ`O,5<fOOQ!0Lb'#Cr'#CrO!8wQ`O'#EpO!9qQpO'#EqOOQ!0Lb'#KP'#KPO!9xQ!0LrO'#K_O9kQ!0LrO,5=bO`QlO,5>rOOQ['#Jf'#JfOOQ[,5>s,5>sOOQ[-E<Z-E<ZO!;wQ!0MxO,5:`O!9lQpO,5:^O!>bQ!0MxO,5:hO%[QlO,5:hO!@xQ!0MxO,5:jOOQO,5@x,5@xO!AiQMhO,5=^O!AwQ!0LrO'#JgO9UQ`O'#JgO!BYQ!0LrO,59ZO!BeQpO,59ZO!BmQMhO,59ZO:YQMhO,59ZO!BxQ`O,5;XO!CQQ`O'#H`O!CfQ`O'#KbO%[QlO,5;|O!9lQpO,5<OO!CnQ`O,5=yO!CsQ`O,5=yO!CxQ`O,5=yO9kQ!0LrO,5=yO;zQ`O,5=iOOQO'#Cw'#CwO!DWQpO,5=fO!D`QMhO,5=gO!DkQ`O,5=iO!DpQ!bO,5=lO!DxQ`O'#K^O>wQ`O'#HVO9aQ`O'#HXO!D}Q`O'#HXO:YQMhO'#HZO!ESQ`O'#HZOOQ[,5=o,5=oO!EXQ`O'#H[O!EjQ`O'#CoO!EoQ`O,59PO!EyQ`O,59PO!HOQlO,59POOQ[,59P,59PO!H`Q!0LrO,59PO%[QlO,59PO!JkQlO'#HcOOQ['#Hd'#HdOOQ['#He'#HeO`QlO,5={O!KRQ`O,5={O`QlO,5>RO`QlO,5>TO!KWQ`O,5>VO`QlO,5>XO!K]Q`O,5>[O!KbQlO,5>bOOQ[,5>h,5>hO%[QlO,5>hO9kQ!0LrO,5>jOOQ[,5>l,5>lO# lQ`O,5>lOOQ[,5>n,5>nO# lQ`O,5>nOOQ[,5>p,5>pO#!YQpO'#D]O%[QlO'#JtO#!{QpO'#JtO##VQpO'#DkO##hQpO'#DkO#%yQlO'#DkO#&QQ`O'#JsO#&YQ`O,5:UO#&_Q`O'#ErO#&mQ`O'#KSO#&uQ`O,5;]O#&zQpO'#DkO#'XQpO'#ETOOQ!0Lf,5:m,5:mO%[QlO,5:mO#'`Q`O,5:mO>wQ`O,5;WO!BeQpO,5;WO!BmQMhO,5;WO:YQMhO,5;WO#'hQ`O,5@`O#'mQ07dO,5:qOOQO-E<d-E<dO#(sQ!0MSO,5;POCuQpO,5:pO#(}QpO,5:pOCuQpO,5;PO!BYQ!0LrO,5:pOOQ!0Lb'#Eh'#EhOOQO,5;P,5;PO%[QlO,5;PO#)[Q!0LrO,5;PO#)gQ!0LrO,5;PO!BeQpO,5:pOOQO,5;V,5;VO#)uQ!0LrO,5;PPOOO'#I['#I[P#*ZO&2DjO,58|POOO,58|,58|OOOO-E<[-E<[OOQ!0Lh1G.p1G.pOOOO-E<]-E<]OOOO,59{,59{O#*fQ!bO,59{OOOO-E<_-E<_OOQ!0Lf1G/e1G/eO#*kQ!fO,5>|O+}QlO,5>|OOQO,5?S,5?SO#*uQlO'#IbOOQO-E<`-E<`O#+SQ`O,5@^O#+[Q!fO,5@^O#+cQ`O,5@lOOQ!0Lf1G/k1G/kO%[QlO,5@mO#+kQ`O'#IhOOQO-E<f-E<fO#+cQ`O,5@lOOQ!0Lb1G0v1G0vOOQ!0Ln1G/v1G/vOOQ!0Ln1G0W1G0WO%[QlO,5@jO#,PQ!0LrO,5@jO#,bQ!0LrO,5@jO#,iQ`O,5@iO9ZQ`O,5@iO#,qQ`O,5@iO#-PQ`O'#IkO#,iQ`O,5@iOOQ!0Lb1G0u1G0uO!(cQpO,5:sO!(nQpO,5:sOOQS,5:u,5:uO#-qQdO,5:uO#-yQMhO1G2xO9aQ`O1G2xOOQ!0Lf1G0s1G0sO#.XQ!0MxO1G0sO#/^Q!0MvO,5;TOOQ!0Lh'#GV'#GVO#/zQ!0MzO'#JjO!$fQlO1G0sO#2VQ!fO'#JuO%[QlO'#JuO#2aQ`O,5:cOOQ!0Lh'#D]'#D]OOQ!0Lf1G0|1G0|O%[QlO1G0|OOQ!0Lf1G1e1G1eO#2fQ`O1G0|O#4zQ!0MxO1G0}O#5RQ!0MxO1G0}O#7iQ!0MxO1G0}O#7pQ!0MxO1G0}O#:WQ!0MxO1G0}O#<nQ!0MxO1G0}O#<uQ!0MxO1G0}O#<|Q!0MxO1G0}O#?dQ!0MxO1G0}O#?kQ!0MxO1G0}O#AxQ?MtO'#CiO#CsQ?MtO1G1_O#CzQ?MtO'#JqO#D_Q!0MxO,5?YOOQ!0Lb-E<l-E<lO#FlQ!0MxO1G0}O#GiQ!0MzO1G0}OOQ!0Lf1G0}1G0}O#HlQMjO'#JzO#HvQ`O,5:vO#H{Q!0MxO1G1bO#IoQ,UO,5<VO#IwQ,UO,5<WO#JPQ,UO'#FnO#JhQ`O'#FmOOQO'#KW'#KWOOQO'#Il'#IlO#JmQ,UO1G1mOOQ!0Lf1G1m1G1mOOOW1G1x1G1xO#KOQ?MtO'#JpO#KYQ`O,5<aO!(yQlO,5<aOOOW-E<k-E<kOOQ!0Lf1G1k1G1kO#K_QpO'#KVOOQ!0Lf,5<c,5<cO#KgQpO,5<cO#KlQMhO'#DROOOO'#I`'#I`O#KsO#@ItO,59kOOQ!0Lh,59k,59kO%[QlO1G2OO!7{Q`O'#IpO#LOQ`O,5<yOOQ!0Lh,5<v,5<vO!+rQMhO'#IsO#LlQMjO,5=WO!+rQMhO'#IuO#M_QMjO,5=YO!&iQMhO,5=[OOQO1G2R1G2RO#MiQ!dO'#CrO#M|Q(CWO'#EpO$ RQpO'#GaO$ iQ!dO,5<rO$ pQ`O'#KYO9ZQ`O'#KYO$!OQ`O,5<tO!+rQMhO,5<sO$!TQ`O'#GYO$!fQ`O,5<sO$!kQ!dO'#GVO$!xQ!dO'#KZO$#SQ`O'#KZO!&iQMhO'#KZO$#XQ`O,5<wO$#^QlO'#JtO$#hQpO'#GbO##hQpO'#GbO$#yQ`O'#GfO!3^Q`O'#GjO$$OQ!0LrO'#IrO$$ZQpO,5<{OOQ!0Lp,5<{,5<{O$$bQpO'#GbO$$oQpO'#GcO$%QQpO'#GcO$%VQMjO,5=WO$%gQMjO,5=YOOQ!0Lh,5=],5=]O!+rQMhO,5@TO!+rQMhO,5@TO$%wQ`O'#IwO$&VQ`O,5@SO$&_Q`O,59aOOQ!0Lh,59g,59gO$'UQ$IYO,59sOOQ!0Lh'#Jn'#JnO$'wQMjO,5<jO$(jQMjO,5<lO@iQ`O,5<nOOQ!0Lh,5<o,5<oO$(tQ`O,5<uO$(yQMjO,5<zO$)ZQ`O,5@TO$)iQ`O'#J}O!$fQlO1G2QO$)nQ`O1G2QO9ZQ`O'#KQO9ZQ`O'#ErO%[QlO'#ErO9ZQ`O'#IyO$)sQ!0LrO,5@yOOQ[1G2|1G2|OOQ[1G4^1G4^OOQ!0Lf1G/z1G/zOOQ!0Lf1G/x1G/xO$+uQ!0MxO1G0SOOQ[1G2x1G2xO!&iQMhO1G2xO%[QlO1G2xO#-|Q`O1G2xO$-yQMhO'#EiOOQ!0Lb,5@R,5@RO$.WQ!0LrO,5@ROOQ[1G.u1G.uO!BYQ!0LrO1G.uO!BeQpO1G.uO!BmQMhO1G.uO$.iQ`O1G0sO$.nQ`O'#CiO$.yQ`O'#KcO$/RQ`O,5=zO$/WQ`O'#KcO$/]Q`O'#KcO$/kQ`O'#JPO$/yQ`O,5@|O$0RQ!fO1G1hOOQ!0Lf1G1j1G1jO9aQ`O1G3eO@iQ`O1G3eO$0YQ`O1G3eO$0_Q`O1G3eOOQ[1G3e1G3eO!DkQ`O1G3TO!&iQMhO1G3QO$0dQ`O1G3QOOQ[1G3R1G3RO!&iQMhO1G3RO$0iQ`O1G3RO$0qQpO'#HPOOQ[1G3T1G3TO!5|QpO'#I{O!DpQ!bO1G3WOOQ[1G3W1G3WOOQ[,5=q,5=qO$0yQMhO,5=sO9aQ`O,5=sO$#yQ`O,5=uO9UQ`O,5=uO!BeQpO,5=uO!BmQMhO,5=uO:YQMhO,5=uO$1XQ`O'#KaO$1dQ`O,5=vOOQ[1G.k1G.kO$1iQ!0LrO1G.kO@iQ`O1G.kO$1tQ`O1G.kO9kQ!0LrO1G.kO$3|Q!fO,5AOO$4ZQ`O,5AOO9ZQ`O,5AOO$4fQlO,5=}O$4mQ`O,5=}OOQ[1G3g1G3gO`QlO1G3gOOQ[1G3m1G3mOOQ[1G3o1G3oO>rQ`O1G3qO$4rQlO1G3sO$8vQlO'#HrOOQ[1G3v1G3vO$9TQ`O'#HxO>wQ`O'#HzOOQ[1G3|1G3|O$9]QlO1G3|O9kQ!0LrO1G4SOOQ[1G4U1G4UOOQ!0Lb'#G^'#G^O9kQ!0LrO1G4WO9kQ!0LrO1G4YO$=dQ`O,5@`O!(yQlO,5;^O9ZQ`O,5;^O>wQ`O,5:VO!(yQlO,5:VO!BeQpO,5:VO$=iQ?MtO,5:VOOQO,5;^,5;^O$=sQpO'#IcO$>ZQ`O,5@_OOQ!0Lf1G/p1G/pO$>cQpO'#IiO$>mQ`O,5@nOOQ!0Lb1G0w1G0wO##hQpO,5:VOOQO'#Ie'#IeO$>uQpO,5:oOOQ!0Ln,5:o,5:oO#'cQ`O1G0XOOQ!0Lf1G0X1G0XO%[QlO1G0XOOQ!0Lf1G0r1G0rO>wQ`O1G0rO!BeQpO1G0rO!BmQMhO1G0rOOQ!0Lb1G5z1G5zO!BYQ!0LrO1G0[OOQO1G0k1G0kO%[QlO1G0kO$>|Q!0LrO1G0kO$?XQ!0LrO1G0kO!BeQpO1G0[OCuQpO1G0[O$?gQ!0LrO1G0kOOQO1G0[1G0[O$?{Q!0MxO1G0kPOOO-E<Y-E<YPOOO1G.h1G.hOOOO1G/g1G/gO$@VQ!bO,5<hO$@_Q!fO1G4hOOQO1G4n1G4nO%[QlO,5>|O$@iQ`O1G5xO$@qQ`O1G6WO$@yQ!fO1G6XO9ZQ`O,5?SO$ATQ!0MxO1G6UO%[QlO1G6UO$AeQ!0LrO1G6UO$AvQ`O1G6TO$AvQ`O1G6TO9ZQ`O1G6TO$BOQ`O,5?VO9ZQ`O,5?VOOQO,5?V,5?VO$BdQ`O,5?VO$)iQ`O,5?VOOQO-E<i-E<iOOQS1G0_1G0_OOQS1G0a1G0aO#-tQ`O1G0aOOQ[7+(d7+(dO!&iQMhO7+(dO%[QlO7+(dO$BrQ`O7+(dO$B}QMhO7+(dO$C]Q!0MzO,5=WO$EhQ!0MzO,5=YO$GsQ!0MzO,5=WO$JUQ!0MzO,5=YO$LgQ!0MzO,59sO$NlQ!0MzO,5<jO%!wQ!0MzO,5<lO%%SQ!0MzO,5<zOOQ!0Lf7+&_7+&_O%'eQ!0MxO7+&_O%(XQlO'#IdO%(fQ`O,5@aO%(nQ!fO,5@aOOQ!0Lf1G/}1G/}O%(xQ`O7+&hOOQ!0Lf7+&h7+&hO%(}Q?MtO,5:dO%[QlO7+&yO%)XQ?MtO,5:`O%)fQ?MtO,5:hO%)pQ?MtO,5:jO%)zQMhO'#IgO%*UQ`O,5@fOOQ!0Lh1G0b1G0bOOQO1G1q1G1qOOQO1G1r1G1rO%*^Q!jO,5<YO!(yQlO,5<XOOQO-E<j-E<jOOQ!0Lf7+'X7+'XOOOW7+'d7+'dOOOW1G1{1G1{O%*iQ`O1G1{OOQ!0Lf1G1}1G1}OOOO,59m,59mO%*nQ!dO,59mOOOO-E<^-E<^OOQ!0Lh1G/V1G/VO%*uQ!0MxO7+'jOOQ!0Lh,5?[,5?[O%+iQMhO1G2eP%+pQ`O'#IpPOQ!0Lh-E<n-E<nO%,^QMjO,5?_OOQ!0Lh-E<q-E<qO%-PQMjO,5?aOOQ!0Lh-E<s-E<sO%-ZQ!dO1G2vO%-bQ!dO'#CrO%-xQMhO'#KQO$#^QlO'#JtOOQ!0Lh1G2^1G2^O%.PQ`O'#IoO%.eQ`O,5@tO%.eQ`O,5@tO%.mQ`O,5@tO%.xQ`O,5@tOOQO1G2`1G2`O%/WQMjO1G2_O!+rQMhO1G2_O%/hQ(CWO'#IqO%/uQ`O,5@uO!&iQMhO,5@uO%/}Q!dO,5@uOOQ!0Lh1G2c1G2cO%2_Q!fO'#CiO%2iQ`O,5=OOOQ!0Lb,5<|,5<|O%2qQpO,5<|OOQ!0Lb,5<},5<}OCfQ`O,5<|O%2|QpO,5<|OOQ!0Lb,5=Q,5=QO$)iQ`O,5=UOOQO,5?^,5?^OOQO-E<p-E<pOOQ!0Lp1G2g1G2gO##hQpO,5<|O$#^QlO,5=OO%3[Q`O,5<}O%3gQpO,5<}O!+rQMhO'#IsO%4aQMjO1G2rO!+rQMhO'#IuO%5SQMjO1G2tO%5^QMjO1G5oO%5hQMjO1G5oOOQO,5?c,5?cOOQO-E<u-E<uOOQO1G.{1G.{O!9lQpO,59uO%[QlO,59uOOQ!0Lh,5<i,5<iO%5uQ`O1G2YO!+rQMhO1G2aO!+rQMhO1G5oO!+rQMhO1G5oO%5zQ!0MxO7+'lOOQ!0Lf7+'l7+'lO!$fQlO7+'lO%6nQ`O,5;^OOQ!0Lb,5?e,5?eOOQ!0Lb-E<w-E<wO%6sQ!dO'#K[O#'cQ`O7+(dO4UQ!fO7+(dO$BuQ`O7+(dO%6}Q!0MvO'#CiO%7nQ!0LrO,5=RO%8PQ!0MvO,5=RO%8dQ`O,5=ROOQ!0Lb1G5m1G5mOOQ[7+$a7+$aO!BYQ!0LrO7+$aO!BeQpO7+$aO!$fQlO7+&_O%8lQ`O'#JOO%9TQ`O,5@}OOQO1G3f1G3fO9aQ`O,5@}O%9TQ`O,5@}O%9]Q`O,5@}OOQO,5?k,5?kOOQO-E<}-E<}OOQ!0Lf7+'S7+'SO%9bQ`O7+)PO9kQ!0LrO7+)PO9aQ`O7+)PO@iQ`O7+)POOQ[7+(o7+(oO%9gQ!0MvO7+(lO!&iQMhO7+(lO!DfQ`O7+(mOOQ[7+(m7+(mO!&iQMhO7+(mO%9qQ`O'#K`O%9|Q`O,5=kOOQO,5?g,5?gOOQO-E<y-E<yOOQ[7+(r7+(rO%;`QpO'#HYOOQ[1G3_1G3_O!&iQMhO1G3_O%[QlO1G3_O%;gQ`O1G3_O%;rQMhO1G3_O9kQ!0LrO1G3aO$#yQ`O1G3aO9UQ`O1G3aO!BeQpO1G3aO!BmQMhO1G3aO%<QQ`O'#I}O%<fQ`O,5@{O%<nQpO,5@{OOQ!0Lb1G3b1G3bOOQ[7+$V7+$VO@iQ`O7+$VO9kQ!0LrO7+$VO%<yQ`O7+$VO%[QlO1G6jO%[QlO1G6kO%=OQ!0LrO1G6jO%=YQlO1G3iO%=aQ`O1G3iO%=fQlO1G3iOOQ[7+)R7+)RO9kQ!0LrO7+)]O`QlO7+)_OOQ['#Kf'#KfOOQ['#JQ'#JQO%=mQlO,5>^OOQ[,5>^,5>^O%[QlO'#HsO%=zQ`O'#HuOOQ[,5>d,5>dO9ZQ`O,5>dOOQ[,5>f,5>fOOQ[7+)h7+)hOOQ[7+)n7+)nOOQ[7+)r7+)rOOQ[7+)t7+)tO%>PQpO1G5zO%>kQ?MtO1G0xO%>uQ`O1G0xOOQO1G/q1G/qO%?QQ?MtO1G/qO>wQ`O1G/qO!(yQlO'#DkOOQO,5>},5>}OOQO-E<a-E<aOOQO,5?T,5?TOOQO-E<g-E<gO!BeQpO1G/qOOQO-E<c-E<cOOQ!0Ln1G0Z1G0ZOOQ!0Lf7+%s7+%sO#'cQ`O7+%sOOQ!0Lf7+&^7+&^O>wQ`O7+&^O!BeQpO7+&^OOQO7+%v7+%vO$?{Q!0MxO7+&VOOQO7+&V7+&VO%[QlO7+&VO%?[Q!0LrO7+&VO!BYQ!0LrO7+%vO!BeQpO7+%vO%?gQ!0LrO7+&VO%?uQ!0MxO7++pO%[QlO7++pO%@VQ`O7++oO%@VQ`O7++oOOQO1G4q1G4qO9ZQ`O1G4qO%@_Q`O1G4qOOQS7+%{7+%{O#'cQ`O<<LOO4UQ!fO<<LOO%@mQ`O<<LOOOQ[<<LO<<LOO!&iQMhO<<LOO%[QlO<<LOO%@uQ`O<<LOO%AQQ!0MzO,5?_O%C]Q!0MzO,5?aO%EhQ!0MzO1G2_O%GyQ!0MzO1G2rO%JUQ!0MzO1G2tO%LaQ!fO,5?OO%[QlO,5?OOOQO-E<b-E<bO%LkQ`O1G5{OOQ!0Lf<<JS<<JSO%LsQ?MtO1G0sO%NzQ?MtO1G0}O& RQ?MtO1G0}O&#SQ?MtO1G0}O&#ZQ?MtO1G0}O&%[Q?MtO1G0}O&']Q?MtO1G0}O&'dQ?MtO1G0}O&'kQ?MtO1G0}O&)lQ?MtO1G0}O&)sQ?MtO1G0}O&)zQ!0MxO<<JeO&+rQ?MtO1G0}O&,oQ?MvO1G0}O&-rQ?MvO'#JjO&/xQ?MtO1G1bO&0VQ?MtO1G0SO&0aQMjO,5?ROOQO-E<e-E<eO!(yQlO'#FpOOQO'#KX'#KXOOQO1G1t1G1tO&0kQ`O1G1sO&0pQ?MtO,5?YOOOW7+'g7+'gOOOO1G/X1G/XO&0zQ!dO1G4vOOQ!0Lh7+(P7+(PP!&iQMhO,5?[O!+rQMhO7+(bO&1RQ`O,5?ZO9ZQ`O,5?ZOOQO-E<m-E<mO&1aQ`O1G6`O&1aQ`O1G6`O&1iQ`O1G6`O&1tQMjO7+'yO&2UQ!dO,5?]O&2`Q`O,5?]O!&iQMhO,5?]OOQO-E<o-E<oO&2eQ!dO1G6aO&2oQ`O1G6aO&2wQ`O1G2jO!&iQMhO1G2jOOQ!0Lb1G2h1G2hOOQ!0Lb1G2i1G2iO%2qQpO1G2hO!BeQpO1G2hOCfQ`O1G2hOOQ!0Lb1G2p1G2pO&2|QpO1G2hO&3[Q`O1G2jO$)iQ`O1G2iOCfQ`O1G2iO$#^QlO1G2jO&3dQ`O1G2iO&4WQMjO,5?_OOQ!0Lh-E<r-E<rO&4yQMjO,5?aOOQ!0Lh-E<t-E<tO!+rQMhO7++ZOOQ!0Lh1G/a1G/aO&5TQ`O1G/aOOQ!0Lh7+'t7+'tO&5YQMjO7+'{O&5jQMjO7++ZO&5tQMjO7++ZO&6RQ!0MxO<<KWOOQ!0Lf<<KW<<KWO&6uQ`O1G0xO!&iQMhO'#IxO&6zQ`O,5@vO&8|Q!fO<<LOO!&iQMhO1G2mO&9TQ!0LrO1G2mOOQ[<<G{<<G{O!BYQ!0LrO<<G{O&9fQ!0MxO<<IyOOQ!0Lf<<Iy<<IyOOQO,5?j,5?jO&:YQ`O,5?jO&:_Q`O,5?jOOQO-E<|-E<|O&:mQ`O1G6iO&:mQ`O1G6iO9aQ`O1G6iO@iQ`O<<LkOOQ[<<Lk<<LkO&:uQ`O<<LkO9kQ!0LrO<<LkOOQ[<<LW<<LWO%9gQ!0MvO<<LWOOQ[<<LX<<LXO!DfQ`O<<LXO&:zQpO'#IzO&;VQ`O,5@zO!(yQlO,5@zOOQ[1G3V1G3VOOQO'#I|'#I|O9kQ!0LrO'#I|O&;_QpO,5=tOOQ[,5=t,5=tO&;fQpO'#EeO&;mQpO'#GdO&;rQ`O7+(yO&;wQ`O7+(yOOQ[7+(y7+(yO!&iQMhO7+(yO%[QlO7+(yO&<PQ`O7+(yOOQ[7+({7+({O9kQ!0LrO7+({O$#yQ`O7+({O9UQ`O7+({O!BeQpO7+({O&<[Q`O,5?iOOQO-E<{-E<{OOQO'#H]'#H]O&<gQ`O1G6gO9kQ!0LrO<<GqOOQ[<<Gq<<GqO@iQ`O<<GqO&<oQ`O7+,UO&<tQ`O7+,VO%[QlO7+,UO%[QlO7+,VOOQ[7+)T7+)TO&<yQ`O7+)TO&=OQlO7+)TO&=VQ`O7+)TOOQ[<<Lw<<LwOOQ[<<Ly<<LyOOQ[-E=O-E=OOOQ[1G3x1G3xO&=[Q`O,5>_OOQ[,5>a,5>aO&=aQ`O1G4OO9ZQ`O7+&dO!(yQlO7+&dOOQO7+%]7+%]O&=fQ?MtO1G6XO>wQ`O7+%]OOQ!0Lf<<I_<<I_OOQ!0Lf<<Ix<<IxO>wQ`O<<IxOOQO<<Iq<<IqO$?{Q!0MxO<<IqO%[QlO<<IqOOQO<<Ib<<IbO!BYQ!0LrO<<IbO&=pQ!0LrO<<IqO&={Q!0MxO<= [O&>]Q`O<= ZOOQO7+*]7+*]O9ZQ`O7+*]OOQ[ANAjANAjO&>eQ!fOANAjO!&iQMhOANAjO#'cQ`OANAjO4UQ!fOANAjO&>lQ`OANAjO%[QlOANAjO&>tQ!0MzO7+'yO&AVQ!0MzO,5?_O&CbQ!0MzO,5?aO&EmQ!0MzO7+'{O&HOQ!fO1G4jO&HYQ?MtO7+&_O&J^Q?MvO,5=WO&LeQ?MvO,5=YO&LuQ?MvO,5=WO&MVQ?MvO,5=YO&MgQ?MvO,59sO' mQ?MvO,5<jO'#pQ?MvO,5<lO'&UQ?MvO,5<zO''zQ?MtO7+'jO'(XQ?MtO7+'lO'(fQ`O,5<[OOQO7+'_7+'_OOQ!0Lh7+*b7+*bO'(kQMjO<<K|OOQO1G4u1G4uO'(rQ`O1G4uO'(}Q`O1G4uO')]Q`O7++zO')]Q`O7++zO!&iQMhO1G4wO')eQ!dO1G4wO')oQ`O7++{O')wQ`O7+(UO'*SQ!dO7+(UOOQ!0Lb7+(S7+(SOOQ!0Lb7+(T7+(TO!BeQpO7+(SOCfQ`O7+(SO'*^Q`O7+(UO!&iQMhO7+(UO$)iQ`O7+(TO'*cQ`O7+(UOCfQ`O7+(TO'*kQMjO<<NuOOQ!0Lh7+${7+${O!+rQMhO<<NuO'*uQ!dO,5?dOOQO-E<v-E<vO'+PQ!0MvO7+(XO!&iQMhO7+(XOOQ[AN=gAN=gO9aQ`O1G5UOOQO1G5U1G5UO'+aQ`O1G5UO'+fQ`O7+,TO'+fQ`O7+,TO9kQ!0LrOANBVO@iQ`OANBVOOQ[ANBVANBVOOQ[ANArANArOOQ[ANAsANAsO'+nQ`O,5?fOOQO-E<x-E<xO'+yQ?MtO1G6fOOQO,5?h,5?hOOQO-E<z-E<zOOQ[1G3`1G3`O',TQ`O,5=OOOQ[<<Le<<LeO!&iQMhO<<LeO&;rQ`O<<LeO',YQ`O<<LeO%[QlO<<LeOOQ[<<Lg<<LgO9kQ!0LrO<<LgO$#yQ`O<<LgO9UQ`O<<LgO',bQpO1G5TO',mQ`O7+,ROOQ[AN=]AN=]O9kQ!0LrOAN=]OOQ[<= p<= pOOQ[<= q<= qO',uQ`O<= pO',zQ`O<= qOOQ[<<Lo<<LoO'-PQ`O<<LoO'-UQlO<<LoOOQ[1G3y1G3yO>wQ`O7+)jO'-]Q`O<<JOO'-hQ?MtO<<JOOOQO<<Hw<<HwOOQ!0LfAN?dAN?dOOQOAN?]AN?]O$?{Q!0MxOAN?]OOQOAN>|AN>|O%[QlOAN?]OOQO<<Mw<<MwOOQ[G27UG27UO!&iQMhOG27UO#'cQ`OG27UO'-rQ!fOG27UO4UQ!fOG27UO'-yQ`OG27UO'.RQ?MtO<<JeO'.`Q?MvO1G2_O'0UQ?MvO,5?_O'2XQ?MvO,5?aO'4[Q?MvO1G2rO'6_Q?MvO1G2tO'8bQ?MtO<<KWO'8oQ?MtO<<IyOOQO1G1v1G1vO!+rQMhOANAhOOQO7+*a7+*aO'8|Q`O7+*aO'9XQ`O<= fO'9aQ!dO7+*cOOQ!0Lb<<Kp<<KpO$)iQ`O<<KpOCfQ`O<<KpO'9kQ`O<<KpO!&iQMhO<<KpOOQ!0Lb<<Kn<<KnO!BeQpO<<KnO'9vQ!dO<<KpOOQ!0Lb<<Ko<<KoO':QQ`O<<KpO!&iQMhO<<KpO$)iQ`O<<KoO':VQMjOANDaO':aQ!0MvO<<KsOOQO7+*p7+*pO9aQ`O7+*pO':qQ`O<= oOOQ[G27qG27qO9kQ!0LrOG27qO!(yQlO1G5QO':yQ`O7+,QO';RQ`O1G2jO&;rQ`OANBPOOQ[ANBPANBPO!&iQMhOANBPO';WQ`OANBPOOQ[ANBRANBRO9kQ!0LrOANBRO$#yQ`OANBROOQO'#H^'#H^OOQO7+*o7+*oOOQ[G22wG22wOOQ[ANE[ANE[OOQ[ANE]ANE]OOQ[ANBZANBZO';`Q`OANBZOOQ[<<MU<<MUO!(yQlOAN?jOOQOG24wG24wO$?{Q!0MxOG24wO#'cQ`OLD,pOOQ[LD,pLD,pO!&iQMhOLD,pO';eQ!fOLD,pO';lQ?MvO7+'yO'=bQ?MvO,5?_O'?eQ?MvO,5?aO'AhQ?MvO7+'{O'C^QMjOG27SOOQO<<M{<<M{OOQ!0LbANA[ANA[O$)iQ`OANA[OCfQ`OANA[O'CnQ!dOANA[OOQ!0LbANAYANAYO'CuQ`OANA[O!&iQMhOANA[O'DQQ!dOANA[OOQ!0LbANAZANAZOOQO<<N[<<N[OOQ[LD-]LD-]O'D[Q?MtO7+*lOOQO'#Ge'#GeOOQ[G27kG27kO&;rQ`OG27kO!&iQMhOG27kOOQ[G27mG27mO9kQ!0LrOG27mOOQ[G27uG27uO'DfQ?MtOG25UOOQOLD*cLD*cOOQ[!$(![!$(![O#'cQ`O!$(![O!&iQMhO!$(![O'DpQ!0MzOG27SOOQ!0LbG26vG26vO$)iQ`OG26vO'GRQ`OG26vOCfQ`OG26vO'G^Q!dOG26vO!&iQMhOG26vOOQ[LD-VLD-VO&;rQ`OLD-VOOQ[LD-XLD-XOOQ[!)9Ev!)9EvO#'cQ`O!)9EvOOQ!0LbLD,bLD,bO$)iQ`OLD,bOCfQ`OLD,bO'GeQ`OLD,bO'GpQ!dOLD,bOOQ[!$(!q!$(!qOOQ[!.K;b!.K;bO'GwQ?MvOG27SOOQ!0Lb!$( |!$( |O$)iQ`O!$( |OCfQ`O!$( |O'ImQ`O!$( |OOQ!0Lb!)9Eh!)9EhO$)iQ`O!)9EhOCfQ`O!)9EhOOQ!0Lb!.K;S!.K;SO$)iQ`O!.K;SOOQ!0Lb!4/0n!4/0nO!(yQlO'#DxO1PQ`O'#EVO'IxQ!fO'#JpO'JPQ!L^O'#DtO'JWQlO'#D|O'J_Q!fO'#CiO'LuQ!fO'#CiO!(yQlO'#EOO'MVQlO,5;XO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO'#InO( YQ`O,5<hO!(yQlO,5;cO( bQMhO,5;cO(!{QMhO,5;cO!(yQlO,5;vO!&iQMhO'#GlO( bQMhO'#GlO!&iQMhO'#GnO( bQMhO'#GnO1SQ`O'#DXO1SQ`O'#DXO!&iQMhO'#GOO( bQMhO'#GOO!&iQMhO'#GQO( bQMhO'#GQO!&iQMhO'#G`O( bQMhO'#G`O!(yQlO,5:hO(#SQpO'#D]O(#^QpO'#JtO!(yQlO,5@mO'MVQlO1G0sO(#hQ?MtO'#CiO!(yQlO1G2OO!&iQMhO'#IsO( bQMhO'#IsO!&iQMhO'#IuO( bQMhO'#IuO(#rQ!dO'#CrO!&iQMhO,5<sO( bQMhO,5<sO'MVQlO1G2QO!(yQlO7+&yO!&iQMhO1G2_O( bQMhO1G2_O!&iQMhO'#IsO( bQMhO'#IsO!&iQMhO'#IuO( bQMhO'#IuO!&iQMhO1G2aO( bQMhO1G2aO'MVQlO7+'lO'MVQlO7+&_O!&iQMhOANAhO( bQMhOANAhO($VQ`O'#EmO($[Q`O'#EmO($dQ`O'#F[O($iQ`O'#EwO($nQ`O'#KRO($yQ`O'#KPO(%UQ`O,5;XO(%ZQMjO,5<dO(%bQ`O'#GXO(%gQ`O'#GXO(%lQ`O,5<fO(%tQ`O,5;XO(%|Q?MtO1G1_O(&TQ`O,5<sO(&YQ`O,5<sO(&_Q`O,5<uO(&dQ`O,5<uO(&iQ`O1G2QO(&nQ`O1G0sO(&sQMjO<<K|O(&zQMjO<<K|O7eQMhO'#F{O9UQ`O'#FzOAdQ`O'#ElO!(yQlO,5;sO!3^Q`O'#GXO!3^Q`O'#GXO!3^Q`O'#GZO!3^Q`O'#GZO!+rQMhO7+(bO!+rQMhO7+(bO%-ZQ!dO1G2vO%-ZQ!dO1G2vO!&iQMhO,5=[O!&iQMhO,5=[",stateData:"((P~O'zOS'{OSTOS'|RQ~OPYOQYOSfOY!VOaqOdzOeyOj!POnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]XO!guO!jZO!mYO!nYO!oYO!qvO!swO!vxO!z]O$V|O$miO%g}O%i!QO%k!OO%l!OO%m!OO%p!RO%r!SO%u!TO%v!TO%x!UO&U!WO&[!XO&^!YO&`!ZO&b![O&e!]O&k!^O&q!_O&s!`O&u!aO&w!bO&y!cO(RSO(TTO(WUO(_VO(m[O~OWtO~P`OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(R!dO(TTO(WUO(_VO(m[O~Oa!wOq!nO!Q!oO!`!yO!a!vO!b!vO!z;wO#R!pO#S!pO#T!xO#U!pO#V!pO#Y!zO#Z!zO(S!lO(TTO(WUO(c!mO(m!sO~O'|!{O~OP]XR]X[]Xa]Xp]X!O]X!Q]X!Z]X!j]X!n]X#P]X#Q]X#^]X#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X'x]X(_]X(p]X(w]X(x]X~O!e%QX~P(qO_!}O(T#PO(U!}O(V#PO~O_#QO(V#PO(W#PO(X#QO~Ov#SO!S#TO(`#TO(a#VO~OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(R;{O(TTO(WUO(_VO(m[O~O!Y#ZO!Z#WO!W(fP!W(tP~P+}O![#cO~P`OPYOQYOSfOd!jOe!iOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(TTO(WUO(_VO(m[O~On#mO!Y#iO!z]O#g#lO#h#iO(R;|O!i(qP~P.iO!j#oO(R#nO~O!v#sO!z]O%g#tO~O#i#uO~O!e#vO#i#uO~OP$[OR#zO[$cOp$aO!O#yO!Q#{O!Z$_O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO#y$WO#z$XO(_VO(p$YO(w#|O(x#}O~Oa(dX'x(dX'u(dX!i(dX!W(dX!](dX%h(dX!e(dX~P1qO#Q$dO#^$eO$P$eOP(eXR(eX[(eXp(eX!O(eX!Q(eX!Z(eX!j(eX!n(eX#P(eX#l(eX#m(eX#n(eX#o(eX#p(eX#q(eX#r(eX#s(eX#t(eX#u(eX#w(eX#y(eX#z(eX(_(eX(p(eX(w(eX(x(eX!](eX%h(eX~Oa(eX'x(eX'u(eX!W(eX!i(eXt(eX!e(eX~P4UO#^$eO~O$[$hO$^$gO$e$mO~OSfO!]$nO$h$oO$j$qO~Oh%VOj%cOn%WOp%XOq$tOr$tOx%YOz%ZO|%[O!Q${O!]$|O!g%aO!j$xO#h%bO$V%_O$s%]O$u%^O$x%`O(R$sO(TTO(WUO(_$uO(w$}O(x%POg([P~O!j%dO~O!Q%gO!]%hO(R%fO~O!e%lO~Oa%mO'x%mO~O!O%qO~P%[O(S!lO~P%[O%m%uO~P%[Oh%VO!j%dO(R%fO(S!lO~Oe%|O!j%dO(R%fO~O#t$RO~O!O&RO!]&OO!j&QO%i&UO(R%fO(S!lO(TTO(WUO`)UP~O!v#sO~O%r&WO!Q)QX!])QX(R)QX~O(R&XO~Oj!PO!s&^O%i!QO%k!OO%l!OO%m!OO%p!RO%r!SO%u!TO%v!TO~Od&cOe&bO!v&`O%g&aO%z&_O~P<POd&fOeyOj!PO!]&eO!s&^O!vxO!z]O%g}O%k!OO%l!OO%m!OO%p!RO%r!SO%u!TO%v!TO%x!UO~Ob&iO#^&lO%i&gO(S!lO~P=UO!j&mO!s&qO~O!j#oO~O!]XO~Oa%mO'v&yO'x%mO~Oa%mO'v&|O'x%mO~Oa%mO'v'OO'x%mO~O'u]X!W]Xt]X!i]X&Y]X!]]X%h]X!e]X~P(qO!`']O!a'UO!b'UO(S!lO(TTO(WUO~Oq'SO!Q'RO!Y'VO(c'QO![(gP![(vP~P@]Ol'`O!]'^O(R%fO~Oe'eO!j%dO(R%fO~O!O&RO!j&QO~Oq!nO!Q!oO!z;wO#R!pO#S!pO#U!pO#V!pO(S!lO(TTO(WUO(c!mO(m!sO~O!`'kO!a'jO!b'jO#T!pO#Y'lO#Z'lO~PAwOa%mOh%VO!e#vO!j%dO'x%mO(p'nO~O!n'rO#^'pO~PCVOq!nO!Q!oO(TTO(WUO(c!mO(m!sO~O!]XOq(kX!Q(kX!`(kX!a(kX!b(kX!z(kX#R(kX#S(kX#T(kX#U(kX#V(kX#Y(kX#Z(kX(S(kX(T(kX(W(kX(c(kX(m(kX~O!a'jO!b'jO(S!lO~PCuO'}'vO(O'vO(P'xO~O_!}O(T'zO(U!}O(V'zO~O_#QO(V'zO(W'zO(X#QO~Ot'|O~P%[Ov#SO!S#TO(`#TO(a(PO~O!Y(RO!W'UX!W'[X!Z'UX!Z'[X~P+}O!Z(TO!W(fX~OP$[OR#zO[$cOp$aO!O#yO!Q#{O!Z(TO!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO#y$WO#z$XO(_VO(p$YO(w#|O(x#}O~O!W(fX~PGpO!W(YO~O!W(sX!Z(sX!e(sX!i(sX(p(sX~O#^(sX#i#bX![(sX~PIsO#^(ZO!W(uX!Z(uX~O!Z([O!W(tX~O!W(_O~O#^$eO~PIsO![(`O~P`OR#zO!O#yO!Q#{O!j#xO(_VOP!la[!lap!la!Z!la!n!la#P!la#l!la#m!la#n!la#o!la#p!la#q!la#r!la#s!la#t!la#u!la#w!la#y!la#z!la(p!la(w!la(x!la~Oa!la'x!la'u!la!W!la!i!lat!la!]!la%h!la!e!la~PKZO!i(aO~O!e#vO#^(bO(p'nO!Z(rXa(rX'x(rX~O!i(rX~PMvO!Q%gO!]%hO!z]O#g(gO#h(fO(R%fO~O!Z(hO!i(qX~O!i(jO~O!Q%gO!]%hO#h(fO(R%fO~OP(eXR(eX[(eXp(eX!O(eX!Q(eX!Z(eX!j(eX!n(eX#P(eX#l(eX#m(eX#n(eX#o(eX#p(eX#q(eX#r(eX#s(eX#t(eX#u(eX#w(eX#y(eX#z(eX(_(eX(p(eX(w(eX(x(eX~O!e#vO!i(eX~P! dOR(lO!O(kO!j#xO#Q$dO!z!ya!Q!ya~O!v!ya%g!ya!]!ya#g!ya#h!ya(R!ya~P!#eO!v(pO~OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]XO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(R!dO(TTO(WUO(_VO(m[O~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<eO!Q${O!]$|O!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(R(tO(TTO(WUO(_$uO(w$}O(x%PO~O#i(vO~O!Y(xO!i(iP~P%[O(c(zO(m[O~O!Q(|O!j#xO(c(zO(m[O~OP;vOQ;vOSfOd=rOe!iOnkOp;vOqkOrkOxkOz;vO|;vO!QWO!UkO!VkO!]!eO!g;yO!jZO!m;vO!n;vO!o;vO!q;zO!s;}O!v!hO$V!kO$m=pO(R)ZO(TTO(WUO(_VO(m[O~O!Z$_Oa$pa'x$pa'u$pa!i$pa!W$pa!]$pa%h$pa!e$pa~Oj)bO~P!&iOh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|%[O!Q${O!]$|O!g%aO!j$xO#h%bO$V%_O$s%]O$u%^O$x%`O(R(tO(TTO(WUO(_$uO(w$}O(x%PO~Og(nP~P!+rO!O)gO!e)fO!]$]X$Y$]X$[$]X$^$]X$e$]X~O!e)fO!](yX$Y(yX$[(yX$^(yX$e(yX~O!O)gO~P!-{O!O)gO!](yX$Y(yX$[(yX$^(yX$e(yX~O!])iO$Y)mO$[)hO$^)hO$e)nO~O!Y)qO~P!(yO$[$hO$^$gO$e)uO~Ol$yX!O$yX#Q$yX'w$yX(w$yX(x$yX~OgkXg$yXlkX!ZkX#^kX~P!/qOv)wO(`)xO(a)zO~Ol*TO!O)|O'w)}O(w$}O(x%PO~Og){O~P!0uOg*UO~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<eO!Q*WO!]*XO!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(TTO(WUO(_$uO(w$}O(x%PO~O!Y*[O(R*VO!i(|P~P!1dO#i*^O~O!j*_O~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<eO!Q${O!]$|O!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(R*aO(TTO(WUO(_$uO(w$}O(x%PO~O!Y*dO!W(}P~P!3cOp*pOq!nO!Q*fO!`*nO!a*hO!b*hO!j*_O#Y*oO%_*jO(S!lO(TTO(WUO(c!mO~O![*mO~P!5WO#Q$dOl(^X!O(^X'w(^X(w(^X(x(^X!Z(^X#^(^X~Og(^X#}(^X~P!6YOl*uO#^*tOg(]X!Z(]X~O!Z*vOg([X~Oj%cO(R&XOg([P~Oq*yO~O!j+OO~O(R(tO~On+TO!Q%gO!Y#iO!]%hO!z]O#g#lO#h#iO(R%fO!i(qP~O!e#vO#i+UO~O!Q%gO!Y+WO!Z([O!]%hO(R%fO!W(tP~Oq'YO!Q+YO!Y+XO(TTO(WUO(c(zO~O![(vP~P!9]O!Z+ZOa)RX'x)RX~OP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO#y$WO#z$XO(_VO(p$YO(w#|O(x#}O~Oa!ha!Z!ha'x!ha'u!ha!W!ha!i!hat!ha!]!ha%h!ha!e!ha~P!:TOR#zO!O#yO!Q#{O!j#xO(_VOP!pa[!pap!pa!Z!pa!n!pa#P!pa#l!pa#m!pa#n!pa#o!pa#p!pa#q!pa#r!pa#s!pa#t!pa#u!pa#w!pa#y!pa#z!pa(p!pa(w!pa(x!pa~Oa!pa'x!pa'u!pa!W!pa!i!pat!pa!]!pa%h!pa!e!pa~P!<kOR#zO!O#yO!Q#{O!j#xO(_VOP!ra[!rap!ra!Z!ra!n!ra#P!ra#l!ra#m!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#w!ra#y!ra#z!ra(p!ra(w!ra(x!ra~Oa!ra'x!ra'u!ra!W!ra!i!rat!ra!]!ra%h!ra!e!ra~P!?ROh%VOl+dO!]'^O%h+cO~O!e+fOa(ZX!](ZX'x(ZX!Z(ZX~Oa%mO!]XO'x%mO~Oh%VO!j%dO~Oh%VO!j%dO(R%fO~O!e#vO#i(vO~Ob+qO%i+rO(R+nO(TTO(WUO![)VP~O!Z+sO`)UX~O[+wO~O`+xO~O!]&OO(R%fO(S!lO`)UP~Oh%VO#^+}O~Oh%VOl,QO!]$|O~O!],SO~O!O,UO!]XO~O%m%uO~O!v,ZO~Oe,`O~Ob,aO(R#nO(TTO(WUO![)TP~Oe%|O~O%i!QO(R&XO~P=UO[,fO`,eO~OPYOQYOSfOdzOeyOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!guO!jZO!mYO!nYO!oYO!qvO!vxO!z]O$miO%g}O(TTO(WUO(_VO(m[O~O!]!eO!s!gO$V!kO(R!dO~P!FRO`,eOa%mO'x%mO~OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!v!hO$V!kO$miO(R!dO(TTO(WUO(_VO(m[O~Oa,kOj!OO!swO%k!OO%l!OO%m!OO~P!HkO!j&mO~O&[,qO~O!],sO~O&m,uO&o,vOP&jaQ&jaS&jaY&jaa&jad&jae&jaj&jan&jap&jaq&jar&jax&jaz&ja|&ja!Q&ja!U&ja!V&ja!]&ja!g&ja!j&ja!m&ja!n&ja!o&ja!q&ja!s&ja!v&ja!z&ja$V&ja$m&ja%g&ja%i&ja%k&ja%l&ja%m&ja%p&ja%r&ja%u&ja%v&ja%x&ja&U&ja&[&ja&^&ja&`&ja&b&ja&e&ja&k&ja&q&ja&s&ja&u&ja&w&ja&y&ja'u&ja(R&ja(T&ja(W&ja(_&ja(m&ja![&ja&c&jab&ja&h&ja~O(R,{O~Oh!cX!Z!PX![!PX!e!PX!e!cX!j!cX#^!PX~O!Z!cX![!cX~P# qO!e-QO#^-POh(hX!Z#fX![#fX!e(hX!j(hX~O!Z(hX![(hX~P#!dOh%VO!e-SO!j%dO!Z!_X![!_X~Oq!nO!Q!oO(TTO(WUO(c!mO~OP;vOQ;vOSfOd=rOe!iOnkOp;vOqkOrkOxkOz;vO|;vO!QWO!UkO!VkO!]!eO!g;yO!jZO!m;vO!n;vO!o;vO!q;zO!s;}O!v!hO$V!kO$m=pO(TTO(WUO(_VO(m[O~O(R<rO~P##yO!Z-WO![(gX~O![-YO~O!e-QO#^-PO!Z#fX![#fX~O!Z-ZO![(vX~O![-]O~O!a-^O!b-^O(S!lO~P##hO![-aO~P'_Ol-dO!]'^O~O!W-iO~Oq!ya!`!ya!a!ya!b!ya#R!ya#S!ya#T!ya#U!ya#V!ya#Y!ya#Z!ya(S!ya(T!ya(W!ya(c!ya(m!ya~P!#eO!n-nO#^-lO~PCVO!a-pO!b-pO(S!lO~PCuOa%mO#^-lO'x%mO~Oa%mO!e#vO#^-lO'x%mO~Oa%mO!e#vO!n-nO#^-lO'x%mO(p'nO~O'}'vO(O'vO(P-uO~Ot-vO~O!W'Ua!Z'Ua~P!:TO!Y-zO!W'UX!Z'UX~P%[O!Z(TO!W(fa~O!W(fa~PGpO!Z([O!W(ta~O!Q%gO!Y.OO!]%hO(R%fO!W'[X!Z'[X~O#^.QO!Z(ra!i(raa(ra'x(ra~O!e#vO~P#,PO!Z(hO!i(qa~O!Q%gO!]%hO#h.UO(R%fO~On.ZO!Q%gO!Y.WO!]%hO!z]O#g.YO#h.WO(R%fO!Z'_X!i'_X~OR._O!j#xO~Oh%VOl.bO!]'^O%h.aO~Oa#ai!Z#ai'x#ai'u#ai!W#ai!i#ait#ai!]#ai%h#ai!e#ai~P!:TOl=|O!O)|O'w)}O(w$}O(x%PO~O#i#]aa#]a#^#]a'x#]a!Z#]a!i#]a!]#]a!W#]a~P#.{O#i(^XP(^XR(^X[(^Xa(^Xp(^X!Q(^X!j(^X!n(^X#P(^X#l(^X#m(^X#n(^X#o(^X#p(^X#q(^X#r(^X#s(^X#t(^X#u(^X#w(^X#y(^X#z(^X'x(^X(_(^X(p(^X!i(^X!W(^X'u(^Xt(^X!](^X%h(^X!e(^X~P!6YO!Z.oO!i(iX~P!:TO!i.rO~O!W.tO~OP$[OR#zO!O#yO!Q#{O!j#xO!n$[O(_VO[#kia#kip#ki!Z#ki#P#ki#m#ki#n#ki#o#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki'x#ki(p#ki(w#ki(x#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#l#ki~P#2kO#l$OO~P#2kOP$[OR#zOp$aO!O#yO!Q#{O!j#xO!n$[O#l$OO#m$PO#n$PO#o$PO(_VO[#kia#ki!Z#ki#P#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki'x#ki(p#ki(w#ki(x#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#p#ki~P#5YO#p$QO~P#5YOP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO(_VOa#ki!Z#ki#w#ki#y#ki#z#ki'x#ki(p#ki(w#ki(x#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#u#ki~P#7wOP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO(_VO(x#}Oa#ki!Z#ki#y#ki#z#ki'x#ki(p#ki(w#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#w$UO~P#:_O#w#ki~P#:_O#u$SO~P#7wOP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO(_VO(w#|O(x#}Oa#ki!Z#ki#z#ki'x#ki(p#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#y#ki~P#=TO#y$WO~P#=TOP]XR]X[]Xp]X!O]X!Q]X!j]X!n]X#P]X#Q]X#^]X#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X(_]X(p]X(w]X(x]X!Z]X![]X~O#}]X~P#?rOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO#u<TO#w<VO#y<XO#z<YO(_VO(p$YO(w#|O(x#}O~O#}.vO~P#BPO#Q$dO#^<`O$P<`O#}(eX![(eX~P! dOa'ba!Z'ba'x'ba'u'ba!i'ba!W'bat'ba!]'ba%h'ba!e'ba~P!:TO[#kia#kip#ki!Z#ki#P#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki'x#ki(p#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~OP$[OR#zO!O#yO!Q#{O!j#xO!n$[O#l$OO#m$PO#n$PO#o$PO(_VO(w#ki(x#ki~P#EROl=|O!O)|O'w)}O(w$}O(x%POP#kiR#ki!Q#ki!j#ki!n#ki#l#ki#m#ki#n#ki#o#ki(_#ki~P#ERO!Z.zOg(nX~P!0uOg.|O~Oa$Oi!Z$Oi'x$Oi'u$Oi!W$Oi!i$Oit$Oi!]$Oi%h$Oi!e$Oi~P!:TO$[.}O$^.}O~O$[/OO$^/OO~O!e)fO#^/PO!]$bX$Y$bX$[$bX$^$bX$e$bX~O!Y/QO~O!])iO$Y/SO$[)hO$^)hO$e/TO~O!Z<ZO![(dX~P#BPO![/UO~O!e)fO$e(yX~O$e/WO~Ot/XO~P!&iOv)wO(`)xO(a/[O~O!Q/_O~O(w$}Ol%`a!O%`a'w%`a(x%`a!Z%`a#^%`a~Og%`a#}%`a~P#LTO(x%POl%ba!O%ba'w%ba(w%ba!Z%ba#^%ba~Og%ba#}%ba~P#LvO!ZfX!efX!ifX!i$yX(pfX~P!/qO!Y/hO!Z([O(R/gO!W(tP!W(}P~P!1dOp*pO!`*nO!a*hO!b*hO!j*_O#Y*oO%_*jO(S!lO(TTO(WUO~Oq<oO!Q/iO!Y+XO![*mO(c<nO![(vP~P#NaO!i/jO~P#.{O!Z/kO!e#vO(p'nO!i(|X~O!i/pO~O!Q%gO!Y*[O!]%hO(R%fO!i(|P~O#i/rO~O!W$yX!Z$yX!e%QX~P!/qO!Z/sO!W(}X~P#.{O!e/uO~O!W/wO~OnkO(R/xO~P.iOh%VOp/}O!e#vO!j%dO(p'nO~O!e+fO~Oa%mO!Z0RO'x%mO~O![0TO~P!5WO!a0UO!b0UO(S!lO~P##hOq!nO!Q0VO(TTO(WUO(c!mO~O#Y0XO~Og%`a!Z%`a#^%`a#}%`a~P!0uOg%ba!Z%ba#^%ba#}%ba~P!0uOj%cO(R&XOg'kX!Z'kX~O!Z*vOg([a~Og0bO~OR0cO!O0cO!Q0dO#Q$dOl{a'w{a(w{a(x{a!Z{a#^{a~Og{a#}{a~P$&dO!O)|O'w)}Ol$ra(w$ra(x$ra!Z$ra#^$ra~Og$ra#}$ra~P$'`O!O)|O'w)}Ol$ta(w$ta(x$ta!Z$ta#^$ta~Og$ta#}$ta~P$(RO#i0gO~Og%Sa!Z%Sa#^%Sa#}%Sa~P!0uOl0iO#^0hOg(]a!Z(]a~O!e#vO~O#i0lO~O!Z+ZOa)Ra'x)Ra~OR#zO!O#yO!Q#{O!j#xO(_VOP!pi[!pip!pi!Z!pi!n!pi#P!pi#l!pi#m!pi#n!pi#o!pi#p!pi#q!pi#r!pi#s!pi#t!pi#u!pi#w!pi#y!pi#z!pi(p!pi(w!pi(x!pi~Oa!pi'x!pi'u!pi!W!pi!i!pit!pi!]!pi%h!pi!e!pi~P$*OOh%VOp%XOq$tOr$tOx%YOz%ZO|<eO!Q${O!]$|O!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(TTO(WUO(_$uO(w$}O(x%PO~On0vO%[0wO(R0tO~P$,fO!e+fOa(Za!](Za'x(Za!Z(Za~O#i0|O~O[]X!ZfX![fX~O!Z0}O![)VX~O![1PO~O[1QO~Ob1SO(R+nO(TTO(WUO~O!]&OO(R%fO`'sX!Z'sX~O!Z+sO`)Ua~O!i1VO~P!:TO[1YO~O`1ZO~O#^1^O~Ol1aO!]$|O~O(c(zO![)SP~Oh%VOl1jO!]1gO%h1iO~O[1tO!Z1rO![)TX~O![1uO~O`1wOa%mO'x%mO~O(R#nO(TTO(WUO~O#Q$dO#^$eO$P$eOP(eXR(eX[(eXp(eX!O(eX!Q(eX!Z(eX!j(eX!n(eX#P(eX#l(eX#m(eX#n(eX#o(eX#p(eX#q(eX#r(eX#s(eX#u(eX#w(eX#y(eX#z(eX(_(eX(p(eX(w(eX(x(eX~O#t1zO&Y1{Oa(eX~P$2PO#^$eO#t1zO&Y1{O~Oa1}O~P%[Oa2PO~O&c2SOP&aiQ&aiS&aiY&aia&aid&aie&aij&ain&aip&aiq&air&aix&aiz&ai|&ai!Q&ai!U&ai!V&ai!]&ai!g&ai!j&ai!m&ai!n&ai!o&ai!q&ai!s&ai!v&ai!z&ai$V&ai$m&ai%g&ai%i&ai%k&ai%l&ai%m&ai%p&ai%r&ai%u&ai%v&ai%x&ai&U&ai&[&ai&^&ai&`&ai&b&ai&e&ai&k&ai&q&ai&s&ai&u&ai&w&ai&y&ai'u&ai(R&ai(T&ai(W&ai(_&ai(m&ai![&aib&ai&h&ai~Ob2YO![2WO&h2XO~P`O!]XO!j2[O~O&o,vOP&jiQ&jiS&jiY&jia&jid&jie&jij&jin&jip&jiq&jir&jix&jiz&ji|&ji!Q&ji!U&ji!V&ji!]&ji!g&ji!j&ji!m&ji!n&ji!o&ji!q&ji!s&ji!v&ji!z&ji$V&ji$m&ji%g&ji%i&ji%k&ji%l&ji%m&ji%p&ji%r&ji%u&ji%v&ji%x&ji&U&ji&[&ji&^&ji&`&ji&b&ji&e&ji&k&ji&q&ji&s&ji&u&ji&w&ji&y&ji'u&ji(R&ji(T&ji(W&ji(_&ji(m&ji![&ji&c&jib&ji&h&ji~O!W2bO~O!Z!_a![!_a~P#BPOq!nO!Q!oO!Y2hO(c!mO!Z'VX!['VX~P@]O!Z-WO![(ga~O!Z']X![']X~P!9]O!Z-ZO![(va~O![2oO~P'_Oa%mO#^2xO'x%mO~Oa%mO!e#vO#^2xO'x%mO~Oa%mO!e#vO!n2|O#^2xO'x%mO(p'nO~Oa%mO'x%mO~P!:TO!Z$_Ot$pa~O!W'Ui!Z'Ui~P!:TO!Z(TO!W(fi~O!Z([O!W(ti~O!W(ui!Z(ui~P!:TO!Z(ri!i(ria(ri'x(ri~P!:TO#^3OO!Z(ri!i(ria(ri'x(ri~O!Z(hO!i(qi~O!Q%gO!]%hO!z]O#g3TO#h3SO(R%fO~O!Q%gO!]%hO#h3SO(R%fO~Ol3[O!]'^O%h3ZO~Oh%VOl3[O!]'^O%h3ZO~O#i%`aP%`aR%`a[%`aa%`ap%`a!Q%`a!j%`a!n%`a#P%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#t%`a#u%`a#w%`a#y%`a#z%`a'x%`a(_%`a(p%`a!i%`a!W%`a'u%`at%`a!]%`a%h%`a!e%`a~P#LTO#i%baP%baR%ba[%baa%bap%ba!Q%ba!j%ba!n%ba#P%ba#l%ba#m%ba#n%ba#o%ba#p%ba#q%ba#r%ba#s%ba#t%ba#u%ba#w%ba#y%ba#z%ba'x%ba(_%ba(p%ba!i%ba!W%ba'u%bat%ba!]%ba%h%ba!e%ba~P#LvO#i%`aP%`aR%`a[%`aa%`ap%`a!Q%`a!Z%`a!j%`a!n%`a#P%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#t%`a#u%`a#w%`a#y%`a#z%`a'x%`a(_%`a(p%`a!i%`a!W%`a'u%`a#^%`at%`a!]%`a%h%`a!e%`a~P#.{O#i%baP%baR%ba[%baa%bap%ba!Q%ba!Z%ba!j%ba!n%ba#P%ba#l%ba#m%ba#n%ba#o%ba#p%ba#q%ba#r%ba#s%ba#t%ba#u%ba#w%ba#y%ba#z%ba'x%ba(_%ba(p%ba!i%ba!W%ba'u%ba#^%bat%ba!]%ba%h%ba!e%ba~P#.{O#i{aP{a[{aa{ap{a!j{a!n{a#P{a#l{a#m{a#n{a#o{a#p{a#q{a#r{a#s{a#t{a#u{a#w{a#y{a#z{a'x{a(_{a(p{a!i{a!W{a'u{at{a!]{a%h{a!e{a~P$&dO#i$raP$raR$ra[$raa$rap$ra!Q$ra!j$ra!n$ra#P$ra#l$ra#m$ra#n$ra#o$ra#p$ra#q$ra#r$ra#s$ra#t$ra#u$ra#w$ra#y$ra#z$ra'x$ra(_$ra(p$ra!i$ra!W$ra'u$rat$ra!]$ra%h$ra!e$ra~P$'`O#i$taP$taR$ta[$taa$tap$ta!Q$ta!j$ta!n$ta#P$ta#l$ta#m$ta#n$ta#o$ta#p$ta#q$ta#r$ta#s$ta#t$ta#u$ta#w$ta#y$ta#z$ta'x$ta(_$ta(p$ta!i$ta!W$ta'u$tat$ta!]$ta%h$ta!e$ta~P$(RO#i%SaP%SaR%Sa[%Saa%Sap%Sa!Q%Sa!Z%Sa!j%Sa!n%Sa#P%Sa#l%Sa#m%Sa#n%Sa#o%Sa#p%Sa#q%Sa#r%Sa#s%Sa#t%Sa#u%Sa#w%Sa#y%Sa#z%Sa'x%Sa(_%Sa(p%Sa!i%Sa!W%Sa'u%Sa#^%Sat%Sa!]%Sa%h%Sa!e%Sa~P#.{Oa#aq!Z#aq'x#aq'u#aq!W#aq!i#aqt#aq!]#aq%h#aq!e#aq~P!:TO!Y3dO!Z'WX!i'WX~P%[O!Z.oO!i(ia~O!Z.oO!i(ia~P!:TO!W3gO~O#}!la![!la~PKZO#}!ha!Z!ha![!ha~P#BPO#}!pa![!pa~P!<kO#}!ra![!ra~P!?ROg'ZX!Z'ZX~P!+rO!Z.zOg(na~OSfO!]3{O$c3|O~O![4QO~Ot4RO~P#.{Oa$lq!Z$lq'x$lq'u$lq!W$lq!i$lqt$lq!]$lq%h$lq!e$lq~P!:TO!W4TO~P!&iO!Q4UO~O!O)|O'w)}O(x%POl'ga(w'ga!Z'ga#^'ga~Og'ga#}'ga~P%+uO!O)|O'w)}Ol'ia(w'ia(x'ia!Z'ia#^'ia~Og'ia#}'ia~P%,hO(p$YO~P#.{O!WfX!W$yX!ZfX!Z$yX!e%QX#^fX~P!/qO(R<xO~P!1dO!Q%gO!Y4XO!]%hO(R%fO!Z'cX!i'cX~O!Z/kO!i(|a~O!Z/kO!e#vO!i(|a~O!Z/kO!e#vO(p'nO!i(|a~Og${i!Z${i#^${i#}${i~P!0uO!Y4aO!W'eX!Z'eX~P!3cO!Z/sO!W(}a~O!Z/sO!W(}a~P#.{OP]XR]X[]Xp]X!O]X!Q]X!W]X!Z]X!j]X!n]X#P]X#Q]X#^]X#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X(_]X(p]X(w]X(x]X~O!e%XX#t%XX~P%0XO!e#vO#t4fO~Oh%VO!e#vO!j%dO~Oh%VOp4kO!j%dO(p'nO~Op4pO!e#vO(p'nO~Oq!nO!Q4qO(TTO(WUO(c!mO~O(w$}Ol%`i!O%`i'w%`i(x%`i!Z%`i#^%`i~Og%`i#}%`i~P%3xO(x%POl%bi!O%bi'w%bi(w%bi!Z%bi#^%bi~Og%bi#}%bi~P%4kOg(]i!Z(]i~P!0uO#^4wOg(]i!Z(]i~P!0uO!i4zO~Oa$nq!Z$nq'x$nq'u$nq!W$nq!i$nqt$nq!]$nq%h$nq!e$nq~P!:TO!W5QO~O!Z5RO!])OX~P#.{Oa]Xa$yX!]]X!]$yX%]]X'x]X'x$yX!Z]X!Z$yX~P!/qO%]5UOa%Za!]%Za'x%Za!Z%Za~OlmX!OmX'wmX(wmX(xmX~P%7nOn5VO(R#nO~Ob5]O%i5^O(R+nO(TTO(WUO!Z'rX!['rX~O!Z0}O![)Va~O[5bO~O`5cO~Oa%mO'x%mO~P#.{O!Z5kO#^5mO![)SX~O![5nO~Op5tOq!nO!Q*fO!`!yO!a!vO!b!vO!z;wO#R!pO#S!pO#T!pO#U!pO#V!pO#Y5sO#Z!zO(S!lO(TTO(WUO(c!mO(m!sO~O![5rO~P%:ROl5yO!]1gO%h5xO~Oh%VOl5yO!]1gO%h5xO~Ob6QO(R#nO(TTO(WUO!Z'qX!['qX~O!Z1rO![)Ta~O(TTO(WUO(c6SO~O`6WO~O#t6ZO&Y6[O~PMvO!i6]O~P%[Oa6_O~Oa6_O~P%[Ob2YO![6dO&h2XO~P`O!e6fO~O!e6hOh(hi!Z(hi![(hi!e(hi!j(hip(hi(p(hi~O!Z#fi![#fi~P#BPO#^6iO!Z#fi![#fi~O!Z!_i![!_i~P#BPOa%mO#^6rO'x%mO~Oa%mO!e#vO#^6rO'x%mO~O!Z(rq!i(rqa(rq'x(rq~P!:TO!Z(hO!i(qq~O!Q%gO!]%hO#h6yO(R%fO~O!]'^O%h6|O~Ol7QO!]'^O%h6|O~O#i'gaP'gaR'ga['gaa'gap'ga!Q'ga!j'ga!n'ga#P'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#t'ga#u'ga#w'ga#y'ga#z'ga'x'ga(_'ga(p'ga!i'ga!W'ga'u'gat'ga!]'ga%h'ga!e'ga~P%+uO#i'iaP'iaR'ia['iaa'iap'ia!Q'ia!j'ia!n'ia#P'ia#l'ia#m'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#w'ia#y'ia#z'ia'x'ia(_'ia(p'ia!i'ia!W'ia'u'iat'ia!]'ia%h'ia!e'ia~P%,hO#i${iP${iR${i[${ia${ip${i!Q${i!Z${i!j${i!n${i#P${i#l${i#m${i#n${i#o${i#p${i#q${i#r${i#s${i#t${i#u${i#w${i#y${i#z${i'x${i(_${i(p${i!i${i!W${i'u${i#^${it${i!]${i%h${i!e${i~P#.{O#i%`iP%`iR%`i[%`ia%`ip%`i!Q%`i!j%`i!n%`i#P%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#t%`i#u%`i#w%`i#y%`i#z%`i'x%`i(_%`i(p%`i!i%`i!W%`i'u%`it%`i!]%`i%h%`i!e%`i~P%3xO#i%biP%biR%bi[%bia%bip%bi!Q%bi!j%bi!n%bi#P%bi#l%bi#m%bi#n%bi#o%bi#p%bi#q%bi#r%bi#s%bi#t%bi#u%bi#w%bi#y%bi#z%bi'x%bi(_%bi(p%bi!i%bi!W%bi'u%bit%bi!]%bi%h%bi!e%bi~P%4kO!Z'Wa!i'Wa~P!:TO!Z.oO!i(ii~O#}#ai!Z#ai![#ai~P#BPOP$[OR#zO!O#yO!Q#{O!j#xO!n$[O(_VO[#kip#ki#P#ki#m#ki#n#ki#o#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki#}#ki(p#ki(w#ki(x#ki!Z#ki![#ki~O#l#ki~P%MQO#l<PO~P%MQOP$[OR#zOp<]O!O#yO!Q#{O!j#xO!n$[O#l<PO#m<QO#n<QO#o<QO(_VO[#ki#P#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki#}#ki(p#ki(w#ki(x#ki!Z#ki![#ki~O#p#ki~P& YO#p<RO~P& YOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO(_VO#w#ki#y#ki#z#ki#}#ki(p#ki(w#ki(x#ki!Z#ki![#ki~O#u#ki~P&#bOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO#u<TO(_VO(x#}O#y#ki#z#ki#}#ki(p#ki(w#ki!Z#ki![#ki~O#w<VO~P&%cO#w#ki~P&%cO#u<TO~P&#bOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO#u<TO#w<VO(_VO(w#|O(x#}O#z#ki#}#ki(p#ki!Z#ki![#ki~O#y#ki~P&'rO#y<XO~P&'rOa#{y!Z#{y'x#{y'u#{y!W#{y!i#{yt#{y!]#{y%h#{y!e#{y~P!:TO[#kip#ki#P#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki#}#ki(p#ki!Z#ki![#ki~OP$[OR#zO!O#yO!Q#{O!j#xO!n$[O#l<PO#m<QO#n<QO#o<QO(_VO(w#ki(x#ki~P&*nOl=}O!O)|O'w)}O(w$}O(x%POP#kiR#ki!Q#ki!j#ki!n#ki#l#ki#m#ki#n#ki#o#ki(_#ki~P&*nO#Q$dOP(^XR(^X[(^Xl(^Xp(^X!O(^X!Q(^X!j(^X!n(^X#P(^X#l(^X#m(^X#n(^X#o(^X#p(^X#q(^X#r(^X#s(^X#t(^X#u(^X#w(^X#y(^X#z(^X#}(^X'w(^X(_(^X(p(^X(w(^X(x(^X!Z(^X![(^X~O#}$Oi!Z$Oi![$Oi~P#BPO#}!pi![!pi~P$*OOg'Za!Z'Za~P!0uO![7dO~O!Z'ba!['ba~P#BPO!W7eO~P#.{O!e#vO(p'nO!Z'ca!i'ca~O!Z/kO!i(|i~O!Z/kO!e#vO!i(|i~Og${q!Z${q#^${q#}${q~P!0uO!W'ea!Z'ea~P#.{O!e7lO~O!Z/sO!W(}i~P#.{O!Z/sO!W(}i~O!W7oO~Oh%VOp7tO!j%dO(p'nO~O!e#vO#t7vO~Op7yO!e#vO(p'nO~O!O)|O'w)}O(x%POl'ha(w'ha!Z'ha#^'ha~Og'ha#}'ha~P&3oO!O)|O'w)}Ol'ja(w'ja(x'ja!Z'ja#^'ja~Og'ja#}'ja~P&4bO!W7{O~Og$}q!Z$}q#^$}q#}$}q~P!0uOg(]q!Z(]q~P!0uO#^7|Og(]q!Z(]q~P!0uOa$ny!Z$ny'x$ny'u$ny!W$ny!i$nyt$ny!]$ny%h$ny!e$ny~P!:TO!e6hO~O!Z5RO!])Oa~O!]'^OP$SaR$Sa[$Sap$Sa!O$Sa!Q$Sa!Z$Sa!j$Sa!n$Sa#P$Sa#l$Sa#m$Sa#n$Sa#o$Sa#p$Sa#q$Sa#r$Sa#s$Sa#t$Sa#u$Sa#w$Sa#y$Sa#z$Sa(_$Sa(p$Sa(w$Sa(x$Sa~O%h6|O~P&7SO%]8QOa%Zi!]%Zi'x%Zi!Z%Zi~Oa#ay!Z#ay'x#ay'u#ay!W#ay!i#ayt#ay!]#ay%h#ay!e#ay~P!:TO[8SO~Ob8UO(R+nO(TTO(WUO~O!Z0}O![)Vi~O`8YO~O(c(zO!Z'nX!['nX~O!Z5kO![)Sa~O![8cO~P%:RO(m!sO~P$$oO#Y8dO~O!]1gO~O!]1gO%h8fO~Ol8iO!]1gO%h8fO~O[8nO!Z'qa!['qa~O!Z1rO![)Ti~O!i8rO~O!i8sO~O!i8vO~O!i8vO~P%[Oa8xO~O!e8yO~O!i8zO~O!Z(ui![(ui~P#BPOa%mO#^9SO'x%mO~O!Z(ry!i(rya(ry'x(ry~P!:TO!Z(hO!i(qy~O%h9VO~P&7SO!]'^O%h9VO~O#i${qP${qR${q[${qa${qp${q!Q${q!Z${q!j${q!n${q#P${q#l${q#m${q#n${q#o${q#p${q#q${q#r${q#s${q#t${q#u${q#w${q#y${q#z${q'x${q(_${q(p${q!i${q!W${q'u${q#^${qt${q!]${q%h${q!e${q~P#.{O#i'haP'haR'ha['haa'hap'ha!Q'ha!j'ha!n'ha#P'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#w'ha#y'ha#z'ha'x'ha(_'ha(p'ha!i'ha!W'ha'u'hat'ha!]'ha%h'ha!e'ha~P&3oO#i'jaP'jaR'ja['jaa'jap'ja!Q'ja!j'ja!n'ja#P'ja#l'ja#m'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#w'ja#y'ja#z'ja'x'ja(_'ja(p'ja!i'ja!W'ja'u'jat'ja!]'ja%h'ja!e'ja~P&4bO#i$}qP$}qR$}q[$}qa$}qp$}q!Q$}q!Z$}q!j$}q!n$}q#P$}q#l$}q#m$}q#n$}q#o$}q#p$}q#q$}q#r$}q#s$}q#t$}q#u$}q#w$}q#y$}q#z$}q'x$}q(_$}q(p$}q!i$}q!W$}q'u$}q#^$}qt$}q!]$}q%h$}q!e$}q~P#.{O!Z'Wi!i'Wi~P!:TO#}#aq!Z#aq![#aq~P#BPO(w$}OP%`aR%`a[%`ap%`a!Q%`a!j%`a!n%`a#P%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#t%`a#u%`a#w%`a#y%`a#z%`a#}%`a(_%`a(p%`a!Z%`a![%`a~Ol%`a!O%`a'w%`a(x%`a~P&HgO(x%POP%baR%ba[%bap%ba!Q%ba!j%ba!n%ba#P%ba#l%ba#m%ba#n%ba#o%ba#p%ba#q%ba#r%ba#s%ba#t%ba#u%ba#w%ba#y%ba#z%ba#}%ba(_%ba(p%ba!Z%ba![%ba~Ol%ba!O%ba'w%ba(w%ba~P&JnOl=}O!O)|O'w)}O(x%PO~P&HgOl=}O!O)|O'w)}O(w$}O~P&JnOR0cO!O0cO!Q0dO#Q$dOP{a[{al{ap{a!j{a!n{a#P{a#l{a#m{a#n{a#o{a#p{a#q{a#r{a#s{a#t{a#u{a#w{a#y{a#z{a#}{a'w{a(_{a(p{a(w{a(x{a!Z{a![{a~O!O)|O'w)}OP$raR$ra[$ral$rap$ra!Q$ra!j$ra!n$ra#P$ra#l$ra#m$ra#n$ra#o$ra#p$ra#q$ra#r$ra#s$ra#t$ra#u$ra#w$ra#y$ra#z$ra#}$ra(_$ra(p$ra(w$ra(x$ra!Z$ra![$ra~O!O)|O'w)}OP$taR$ta[$tal$tap$ta!Q$ta!j$ta!n$ta#P$ta#l$ta#m$ta#n$ta#o$ta#p$ta#q$ta#r$ta#s$ta#t$ta#u$ta#w$ta#y$ta#z$ta#}$ta(_$ta(p$ta(w$ta(x$ta!Z$ta![$ta~Ol=}O!O)|O'w)}O(w$}O(x%PO~OP%SaR%Sa[%Sap%Sa!Q%Sa!j%Sa!n%Sa#P%Sa#l%Sa#m%Sa#n%Sa#o%Sa#p%Sa#q%Sa#r%Sa#s%Sa#t%Sa#u%Sa#w%Sa#y%Sa#z%Sa#}%Sa(_%Sa(p%Sa!Z%Sa![%Sa~P'%sO#}$lq!Z$lq![$lq~P#BPO#}$nq!Z$nq![$nq~P#BPO![9dO~O#}9eO~P!0uO!e#vO!Z'ci!i'ci~O!e#vO(p'nO!Z'ci!i'ci~O!Z/kO!i(|q~O!W'ei!Z'ei~P#.{O!Z/sO!W(}q~Op9lO!e#vO(p'nO~O[9nO!W9mO~P#.{O!W9mO~O!e#vO#t9tO~Og(]y!Z(]y~P!0uO!Z'la!]'la~P#.{Oa%Zq!]%Zq'x%Zq!Z%Zq~P#.{O[9yO~O!Z0}O![)Vq~O#^9}O!Z'na!['na~O!Z5kO![)Si~P#BPO!Q:PO~O!]1gO%h:SO~O(TTO(WUO(c:XO~O!Z1rO![)Tq~O!i:[O~O!i:]O~O!i:^O~O!i:^O~P%[O#^:aO!Z#fy![#fy~O!Z#fy![#fy~P#BPO%h:fO~P&7SO!]'^O%h:fO~O#}#{y!Z#{y![#{y~P#BPOP${iR${i[${ip${i!Q${i!j${i!n${i#P${i#l${i#m${i#n${i#o${i#p${i#q${i#r${i#s${i#t${i#u${i#w${i#y${i#z${i#}${i(_${i(p${i!Z${i![${i~P'%sO!O)|O'w)}O(x%POP'gaR'ga['gal'gap'ga!Q'ga!j'ga!n'ga#P'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#t'ga#u'ga#w'ga#y'ga#z'ga#}'ga(_'ga(p'ga(w'ga!Z'ga!['ga~O!O)|O'w)}OP'iaR'ia['ial'iap'ia!Q'ia!j'ia!n'ia#P'ia#l'ia#m'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#w'ia#y'ia#z'ia#}'ia(_'ia(p'ia(w'ia(x'ia!Z'ia!['ia~O(w$}OP%`iR%`i[%`il%`ip%`i!O%`i!Q%`i!j%`i!n%`i#P%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#t%`i#u%`i#w%`i#y%`i#z%`i#}%`i'w%`i(_%`i(p%`i(x%`i!Z%`i![%`i~O(x%POP%biR%bi[%bil%bip%bi!O%bi!Q%bi!j%bi!n%bi#P%bi#l%bi#m%bi#n%bi#o%bi#p%bi#q%bi#r%bi#s%bi#t%bi#u%bi#w%bi#y%bi#z%bi#}%bi'w%bi(_%bi(p%bi(w%bi!Z%bi![%bi~O#}$ny!Z$ny![$ny~P#BPO#}#ay!Z#ay![#ay~P#BPO!e#vO!Z'cq!i'cq~O!Z/kO!i(|y~O!W'eq!Z'eq~P#.{Op:pO!e#vO(p'nO~O[:tO!W:sO~P#.{O!W:sO~Og(]!R!Z(]!R~P!0uOa%Zy!]%Zy'x%Zy!Z%Zy~P#.{O!Z0}O![)Vy~O!Z5kO![)Sq~O(R:zO~O!]1gO%h:}O~O!i;QO~O%h;VO~P&7SOP${qR${q[${qp${q!Q${q!j${q!n${q#P${q#l${q#m${q#n${q#o${q#p${q#q${q#r${q#s${q#t${q#u${q#w${q#y${q#z${q#}${q(_${q(p${q!Z${q![${q~P'%sO!O)|O'w)}O(x%POP'haR'ha['hal'hap'ha!Q'ha!j'ha!n'ha#P'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#w'ha#y'ha#z'ha#}'ha(_'ha(p'ha(w'ha!Z'ha!['ha~O!O)|O'w)}OP'jaR'ja['jal'jap'ja!Q'ja!j'ja!n'ja#P'ja#l'ja#m'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#w'ja#y'ja#z'ja#}'ja(_'ja(p'ja(w'ja(x'ja!Z'ja!['ja~OP$}qR$}q[$}qp$}q!Q$}q!j$}q!n$}q#P$}q#l$}q#m$}q#n$}q#o$}q#p$}q#q$}q#r$}q#s$}q#t$}q#u$}q#w$}q#y$}q#z$}q#}$}q(_$}q(p$}q!Z$}q![$}q~P'%sOg%d!Z!Z%d!Z#^%d!Z#}%d!Z~P!0uO!W;ZO~P#.{Op;[O!e#vO(p'nO~O[;^O!W;ZO~P#.{O!Z'nq!['nq~P#BPO!Z#f!Z![#f!Z~P#BPO#i%d!ZP%d!ZR%d!Z[%d!Za%d!Zp%d!Z!Q%d!Z!Z%d!Z!j%d!Z!n%d!Z#P%d!Z#l%d!Z#m%d!Z#n%d!Z#o%d!Z#p%d!Z#q%d!Z#r%d!Z#s%d!Z#t%d!Z#u%d!Z#w%d!Z#y%d!Z#z%d!Z'x%d!Z(_%d!Z(p%d!Z!i%d!Z!W%d!Z'u%d!Z#^%d!Zt%d!Z!]%d!Z%h%d!Z!e%d!Z~P#.{Op;fO!e#vO(p'nO~O!W;gO~P#.{Op;nO!e#vO(p'nO~O!W;oO~P#.{OP%d!ZR%d!Z[%d!Zp%d!Z!Q%d!Z!j%d!Z!n%d!Z#P%d!Z#l%d!Z#m%d!Z#n%d!Z#o%d!Z#p%d!Z#q%d!Z#r%d!Z#s%d!Z#t%d!Z#u%d!Z#w%d!Z#y%d!Z#z%d!Z#}%d!Z(_%d!Z(p%d!Z!Z%d!Z![%d!Z~P'%sOp;rO!e#vO(p'nO~Ot(dX~P1qO!O%qO~P!(yO(S!lO~P!(yO!WfX!ZfX#^fX~P%0XOP]XR]X[]Xp]X!O]X!Q]X!Z]X!ZfX!j]X!n]X#P]X#Q]X#^]X#^fX#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X(_]X(p]X(w]X(x]X~O!efX!i]X!ifX(pfX~P'JlOP;vOQ;vOSfOd=rOe!iOnkOp;vOqkOrkOxkOz;vO|;vO!QWO!UkO!VkO!]XO!g;yO!jZO!m;vO!n;vO!o;vO!q;zO!s;}O!v!hO$V!kO$m=pO(R)ZO(TTO(WUO(_VO(m[O~O!Z<ZO![$pa~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<fO!Q${O!]$|O!g=wO!j$xO#h<lO$V%_O$s<hO$u<jO$x%`O(R(tO(TTO(WUO(_$uO(w$}O(x%PO~Oj)bO~P( bOp!cX(p!cX~P# qOp(hX(p(hX~P#!dO![]X![fX~P'JlO!WfX!W$yX!ZfX!Z$yX#^fX~P!/qO#i<OO~O!e#vO#i<OO~O#^<`O~O#t<SO~O#^<pO!Z(uX![(uX~O#^<`O!Z(sX![(sX~O#i<qO~Og<sO~P!0uO#i<yO~O#i<zO~O!e#vO#i<{O~O!e#vO#i<qO~O#}<|O~P#BPO#i<}O~O#i=OO~O#i=TO~O#i=UO~O#i=VO~O#i=WO~O#}=XO~P!0uO#}=YO~P!0uO#Q#R#S#U#V#Y#g#h#s$m$s$u$x%[%]%g%h%i%p%r%u%v%x%z~'|T#m!V'z(S#nq#l#op!O'{$['{(R$^(c~",goto:"$8f)ZPPPPPP)[PP)_P)pP+Q/VPPPP6aPP6wPP<oP@cP@yP@yPPP@yPCRP@yP@yP@yPCVPC[PCyPHsPPPHwPPPPHwKzPPPLQLrPHwPHwPP! QHwPPPHwPHwP!#XHwP!&o!'t!'}P!(q!(u!(q!,SPPPPPPP!,s!'tPP!-T!.uP!2RHwHw!2W!5d!:Q!:Q!>PPPP!>XHwPPPPPPPPPP!AhP!BuPPHw!DWPHwPHwHwHwHwHwPHw!EjP!HtP!KzP!LO!LY!L^!L^P!HqP!Lb!LbP# hP# lHwPHw# r#$wCV@yP@yP@y@yP#&U@y@y#(h@y#+`@y#-l@y@y#.[#0p#0p#0u#1O#0p#1ZPP#0pP@y#1s@y#5r@y@y6aPPP#9wPPP#:b#:bP#:bP#:x#:bPP#;OP#:uP#:u#;c#:u#;}#<T#<W)_#<Z)_P#<b#<b#<bP)_P)_P)_P)_PP)_P#<h#<kP#<k)_P#<oP#<rP)_P)_P)_P)_P)_P)_)_PP#<x#=O#=Z#=a#=g#=m#=s#>R#>X#>c#>i#>s#>y#?Z#?a#@R#@e#@k#@q#AP#Af#CZ#Ci#Cp#E[#Ej#G[#Gj#Gp#Gv#G|#HW#H^#Hd#Hn#IQ#IWPPPPPPPPPPP#I^PPPPPPP#JR#MY#Nr#Ny$ RPPP$&mP$&v$)o$0Y$0]$0`$1_$1b$1i$1qP$1w$1zP$2h$2l$3d$4r$4w$5_PP$5d$5j$5n$5q$5u$5y$6u$7^$7u$7y$7|$8P$8V$8Y$8^$8bR!|RoqOXst!Z#d%l&p&r&s&u,n,s2S2VY!vQ'^-`1g5qQ%svQ%{yQ&S|Q&h!VS'U!e-WQ'd!iS'j!r!yU*h$|*X*lQ+l%|Q+y&UQ,_&bQ-^']Q-h'eQ-p'kQ0U*nQ1q,`R<m;z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9SS#q];w!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU*{%[<e<fQ+q&OQ,a&eQ,h&mQ0r+dQ0u+fQ1S+rQ1y,fQ3W.bQ5V0wQ5]0}Q6Q1rQ7O3[Q8U5^R9Y7Q'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s!S!nQ!r!v!y!z$|'U']'^'j'k'l*h*l*n*o-W-^-`-p0U0X1g5q5s%[$ti#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q&V|Q'S!eS'Y%h-ZQ+q&OQ,a&eQ0f+OQ1S+rQ1X+xQ1x,eQ1y,fQ5]0}Q5f1ZQ6Q1rQ6T1tQ6U1wQ8U5^Q8X5cQ8q6WQ9|8YQ:Y8nR<o*XrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR,c&i&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=r=s[#]WZ#W#Z'V(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ%vxQ%zyS&P|&UQ&]!TQ'a!hQ'c!iQ(o#sS+k%{%|Q+o&OQ,Y&`Q,^&bS-g'd'eQ.d(pQ0{+lQ1R+rQ1T+sQ1W+wQ1l,ZS1p,_,`Q2t-hQ5[0}Q5`1QQ5e1YQ6P1qQ8T5^Q8W5bQ9x8SR:w9y!U$zi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y!^%xy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pQ+e%vQ,O&YQ,R&ZQ,]&bQ.c(oQ1k,YU1o,^,_,`Q3].dQ5z1lS6O1p1qQ8m6P#f=t#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o=u<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YW%Ti%V*v=pS&Y!Q&gQ&Z!RQ&[!SQ+S%cR+|&W%]%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}T)x$u)yV*{%[<e<fW'Y!e%h*X-ZS({#y#zQ+`%qQ+v&RS.](k(lQ1b,SQ4x0cR8^5k'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s$i$^c#Y#e%p%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.w.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ'W!eR2i-W!W!nQ!e!r!v!y!z$|'U']'^'j'k'l*X*h*l*n*o-W-^-`-p0U0X1g5q5sR1d,UnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&w!^Q't!xS(q#u<OQ+i%yQ,W&]Q,X&_Q-e'bQ-r'mS.m(v<qS0k+U<{Q0y+jQ1f,VQ2Z,uQ2],vQ2e-RQ2r-fQ2u-jS5P0l=VQ5W0zS5Z0|=WQ6j2gQ6n2sQ6s2zQ8R5XQ8}6lQ9O6oQ9R6tR:`8z$d$]c#Y#e%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gS(m#p'gQ(}#zS+_%p.wS.^(l(nR3U._'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS#q];wQ&r!XQ&s!YQ&u![Q&v!]R2R,qQ'_!hQ+b%vQ-c'aS.`(o+eQ2p-bW3Y.c.d0q0sQ6m2qW6z3V3X3]5TU9U6{6}7PU:e9W9X9ZS;T:d:gQ;b;UR;j;cU!wQ'^-`T5o1g5q!Q_OXZ`st!V!Z#d#h%d%l&g&i&p&r&s&u(h,n,s.V2S2V]!pQ!r'^-`1g5qT#q];w%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS({#y#zS.](k(l!s=^$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU$fd)],hS(n#p'gU*s%R(u3vU0e*z.i7]Q5T0rQ6{3WQ9X7OR:g9Ym!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sQ'r!uS(d#g1|S-n'i'uQ/n*ZQ/{*gQ2|-qQ4]/oQ4i/}Q4j0OQ4o0WQ7h4WS7s4k4mS7w4p4rQ9g7iQ9k7oQ9p7tQ9u7yS:o9l9mS;Y:p:sS;e;Z;[S;m;f;gS;q;n;oR;t;rQ#wbQ'q!uS(c#g1|S(e#m+TQ+V%eQ+g%wQ+m%}U-m'i'r'uQ.R(dQ/m*ZQ/|*gQ0P*iQ0x+hQ1m,[S2y-n-qQ3R.ZS4[/n/oQ4e/yS4h/{0WQ4l0QQ5|1nQ6u2|Q7g4WQ7k4]U7r4i4o4rQ7u4nQ8k5}S9f7h7iQ9j7oQ9r7wQ9s7xQ:V8lQ:m9gS:n9k9mQ:v9uQ;P:WS;X:o:sS;d;Y;ZS;l;e;gS;p;m;oQ;s;qQ;u;tQ=a=[Q=l=eR=m=fV!wQ'^-`%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS#wz!j!r=Z$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=a=r%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SQ%ej!^%wy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pS%}z!jQ+h%xQ,[&bW1n,],^,_,`U5}1o1p1qS8l6O6PQ:W8m!r=[$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ=e=qR=f=r%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SY#bWZ#W#Z(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ,i&m!p=]$Z$n)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=`'VU'Z!e%h*XR2k-Z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9S!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ,h&mQ0r+dQ3W.bQ7O3[R9Y7Q!b$Tc#Y%p(Q(W(r(w)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!P<U)[)o-U.w2c2f3h3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!f$Vc#Y%p(Q(W(r(w)U)V)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!T<W)[)o-U.w2c2f3h3n3o3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!^$Zc#Y%p(Q(W(r(w)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;xQ4V/fz=s)[)o-U.w2c2f3h3w4P6k7W7a7b8`8|9[9b9c:y;R=gQ=x=zR=y={'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS$oh$pR3|/P'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$kf$qQ$ifS)h$l)lR)t$qT$jf$qT)j$l)l'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$oh$pQ$rhR)s$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9S!s=q$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s#glOPXZst!Z!`!o#S#d#o#{$n%l&i&l&m&p&r&s&u&y'R'`(|)q*f+Y+d,k,n,s-d.b/Q/i0V0d1j1z1{1}2P2S2V2X3[3{4q5y6Z6[6_7Q8i8x!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}Q+P%`Q/^)|o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!U$yi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yQ*`$zU*i$|*X*lQ+Q%aQ0Q*j#f=c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n=d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YQ=h=tQ=i=uQ=j=vR=k=w!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YnoOXst!Z#d%l&p&r&s&u,n,s2S2VS*c${*WQ,|&|Q,}'OR4`/s%[%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q,P&ZQ1`,RQ5i1_R8]5jV*k$|*X*lU*k$|*X*lT5p1g5qS/y*f/iQ4n0VT7x4q:PQ+g%wQ0P*iQ0x+hQ1m,[Q5|1nQ8k5}Q:V8lR;P:W!U%Oi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yx*P$v)c*Q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=oS0Y*q0Z#f<a#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<b<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!d<t(s)a*Y*b.e.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={`<u3u7X7[7`9]:h:k;kS=P.g3aT=Q7Z9`!U%Qi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y|*R$v)c*S*q+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=oS0[*r0]#f<c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!h<v(s)a*Y*b.f.g.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={d<w3u7Y7Z7`9]9^:h:i:k;kS=R.h3bT=S7[9arnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ&d!UR,k&mrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR&d!UQ,T&[R1[+|snOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ1h,YS5w1k1lU8e5u5v5zS:R8g8hS:{:Q:TQ;_:|R;i;`Q&k!VR,d&gR6T1tR:Y8nS&P|&UR1T+sQ&p!WR,n&qR,t&vT2T,s2VR,x&wQ,w&wR2^,xQ'w!{R-t'wSsOtQ#dXT%os#dQ#OTR'y#OQ#RUR'{#RQ)y$uR/Z)yQ#UVR(O#UQ#XWU(U#X(V-{Q(V#YR-{(WQ-X'WR2j-XQ.p(wS3e.p3fR3f.qQ-`'^R2n-`Y!rQ'^-`1g5qR'h!rQ.{)cR3z.{U#_W%g*WU(]#_(^-|Q(^#`R-|(XQ-['ZR2l-[t`OXst!V!Z#d%l&g&i&p&r&s&u,n,s2S2VS#hZ%dU#r`#h.VR.V(hQ(i#jQ.S(eW.[(i.S3P6wQ3P.TR6w3QQ)l$lR/R)lQ$phR)r$pQ$`cU)_$`-w<[Q-w;xR<[)oQ/l*ZW4Y/l4Z7j9hU4Z/m/n/oS7j4[4]R9h7k$e*O$v(s)a)c*Y*b*q*r*|*}+R.g.h.j.k.l/Y/b/d/f/q/v0^0_0p1]3^3_3`3u3y4S4^4_4c4s4u4{4|4}5h7R7S7T7U7Z7[7^7_7`7f7m7p7z7}8P9]9^9_9i9q9v9w:h:i:j:k:l:q:u;W;];h;k=b=n=o=z={Q/t*bU4b/t4d7nQ4d/vR7n4cS*l$|*XR0S*lx*Q$v)c*q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=o!d.e(s)a*Y*b.g.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/c*Q.e7Xa7X3u7Z7[7`9]:h:k;kQ0Z*qQ3a.gU4t0Z3a9`R9`7Z|*S$v)c*q*r+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=o!h.f(s)a*Y*b.g.h.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/e*S.f7Ye7Y3u7Z7[7`9]9^:h:i:k;kQ0]*rQ3b.hU4v0]3b9aR9a7[Q*w%UR0a*wQ5S0pR8O5SQ+[%jR0o+[Q5l1bS8_5l:OR:O8`Q,V&]R1e,VQ5q1gR8b5qQ1s,aS6R1s8oR8o6TQ1O+oW5_1O5a8V9zQ5a1RQ8V5`R9z8WQ+t&PR1U+tQ2V,sR6c2VYrOXst#dQ&t!ZQ+^%lQ,m&pQ,o&rQ,p&sQ,r&uQ2Q,nS2T,s2VR6b2SQ%npQ&x!_Q&{!aQ&}!bQ'P!cQ'o!uQ+]%kQ+i%yQ+{&VQ,c&kQ,z&zW-k'i'q'r'uQ-r'mQ0R*kQ0y+jS1v,d,gQ2_,yQ2`,|Q2a,}Q2u-jW2w-m-n-q-sQ5W0zQ5d1XQ5g1]Q5{1mQ6V1xQ6a2RU6p2v2y2|Q6s2zQ8R5XQ8Z5fQ8[5hQ8a5pQ8j5|Q8p6US9P6q6uQ9R6tQ9{8XQ:U8kQ:Z8qQ:b9QQ:x9|Q;O:VQ;S:cR;a;PQ%yyQ'b!iQ'm!uU+j%z%{%|Q-R'TU-f'c'd'eS-j'i'sQ/z*gS0z+k+lQ2g-TS2s-g-hQ2z-oS4g/{0OQ5X0{Q6l2mQ6o2tQ6t2{U7q4i4j4mQ9o7sR:r9pS$wi=pR*x%VU%Ui%V=pR0`*vQ$viS(s#v+fS)a$b$cQ)c$dQ*Y$xS*b${*WQ*q%OQ*r%QQ*|%]Q*}%^Q+R%bQ.g<aQ.h<cQ.j<gQ.k<iQ.l<kQ/Y)wQ/b*PQ/d*RQ/f*TQ/q*^S/v*d/hQ0^*tQ0_*ul0p+c,Q.a1a1i3Z5x6|8f9V:S:f:};VQ1]+}Q3^<tQ3_<vQ3`<yS3u<^<_Q3y.zS4S/_4UQ4^/rQ4_/sQ4c/uQ4s0YQ4u0[Q4{0gQ4|0hQ4}0iQ5h1^Q7R<}Q7S=PQ7T=RQ7U=TQ7Z<bQ7[<dQ7^<hQ7_<jQ7`<lQ7f4VQ7m4aQ7p4fQ7z4wQ7}5RQ8P5UQ9]<zQ9^<uQ9_<wQ9i7lQ9q7vQ9v7|Q9w8QQ:h=OQ:i=QQ:j=SQ:k=UQ:l9eQ:q9nQ:u9tQ;W=XQ;]:tQ;h;^Q;k=YQ=b=pQ=n=xQ=o=yQ=z=|R={=}Q*z%[Q.i<eR7]<fnpOXst!Z#d%l&p&r&s&u,n,s2S2VQ!fPS#fZ#oQ&z!`W'f!o*f0V4qQ'}#SQ)O#{Q)p$nS,g&i&lQ,l&mQ,y&yS-O'R/iQ-b'`Q.s(|Q/V)qQ0m+YQ0s+dQ2O,kQ2q-dQ3X.bQ4O/QQ4y0dQ5v1jQ6X1zQ6Y1{Q6^1}Q6`2PQ6e2XQ7P3[Q7c3{Q8h5yQ8t6ZQ8u6[Q8w6_Q9Z7QQ:T8iR:_8x#[cOPXZst!Z!`!o#d#o#{%l&i&l&m&p&r&s&u&y'R'`(|*f+Y+d,k,n,s-d.b/i0V0d1j1z1{1}2P2S2V2X3[4q5y6Z6[6_7Q8i8xQ#YWQ#eYQ%puQ%rvS%tw!gS(Q#W(TQ(W#ZQ(r#uQ(w#xQ)P$OQ)Q$PQ)R$QQ)S$RQ)T$SQ)U$TQ)V$UQ)W$VQ)X$WQ)Y$XQ)[$ZQ)^$_Q)`$aQ)e$eW)o$n)q/Q3{Q+a%sQ+u&QS-U'V2hQ-s'pS-x(R-zQ-}(ZQ.P(bQ.n(vQ.q(xQ.u;vQ.w;yQ.x;zQ.y;}Q/]){Q0j+UQ2c-PQ2f-SQ2v-lQ2}.QQ3c.oQ3h<OQ3i<PQ3j<QQ3k<RQ3l<SQ3m<TQ3n<UQ3o<VQ3p<WQ3q<XQ3r<YQ3s.vQ3t<]Q3w<`Q3x<mQ4P<ZQ5O0lQ5Y0|Q6k<pQ6q2xQ6v3OQ7V3dQ7W<qQ7a<sQ7b<{Q8`5mQ8|6iQ9Q6rQ9[<|Q9b=VQ9c=WQ:c9SQ:y9}Q;R:aQ;x#SR=g=sR#[WR'X!el!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sS'T!e-WU*g$|*X*lS-T'U']S0O*h*nQ0W*oQ2m-^Q4m0UR4r0XR(y#xQ!fQT-_'^-`]!qQ!r'^-`1g5qQ#p]R'g;wR)d$dY!uQ'^-`1g5qQ'i!rS's!v!yS'u!z5sS-o'j'kQ-q'lR2{-pT#kZ%dS#jZ%dS%jm,jU(e#h#i#lS.T(f(gQ.X(hQ0n+ZQ3Q.UU3R.V.W.YS6x3S3TR9T6yd#^W#W#Z%g(R([*W+W.O/hr#gZm#h#i#l%d(f(g(h+Z.U.V.W.Y3S3T6yS*Z$x*_Q/o*[Q1|,jQ2d-QQ4W/kQ6g2[Q7i4XQ8{6hT=_'V+XV#aW%g*WU#`W%g*WS(S#W([U(X#Z+W/hS-V'V+XT-y(R.OV'[!e%h*XQ$lfR)v$qT)k$l)lR3}/PT*]$x*_T*e${*WQ0q+cQ1_,QQ3V.aQ5j1aQ5u1iQ6}3ZQ8g5xQ9W6|Q:Q8fQ:d9VQ:|:SQ;U:fQ;`:}R;c;VnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&j!VR,c&gtmOXst!U!V!Z#d%l&g&p&r&s&u,n,s2S2VR,j&mT%km,jR1c,SR,b&eQ&T|R+z&UR+p&OT&n!W&qT&o!W&qT2U,s2V",nodeNames:"⚠ ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:378,context:dwe,nodeProps:[["isolate",-8,5,6,14,35,37,49,51,53,""],["group",-26,9,17,19,66,206,210,214,215,217,220,223,233,235,241,243,245,247,250,256,262,264,266,268,270,272,273,"Statement",-34,13,14,30,33,34,40,49,52,53,55,60,68,70,74,78,80,82,83,108,109,118,119,135,138,140,141,142,143,144,146,147,166,168,170,"Expression",-23,29,31,35,39,41,43,172,174,176,177,179,180,181,183,184,185,187,188,189,200,202,204,205,"Type",-3,86,101,107,"ClassItem"],["openedBy",23,"<",36,"InterpolationStart",54,"[",58,"{",71,"(",159,"JSXStartCloseTag"],["closedBy",-2,24,167,">",38,"InterpolationEnd",48,"]",59,"}",72,")",164,"JSXEndTag"]],propSources:[ywe],skippedNodes:[0,5,6,276],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$h&j(X!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(X!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$h&j(UpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(UpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$h&j(Up(X!b'z0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(V#S$h&j'{0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$h&j(Up(X!b'{0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$h&j!n),Q(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#u(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#u(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(T':f$h&j(X!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$h&j(X!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$h&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$c`$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$c``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$c`$h&j(X!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(X!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$c`(X!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$h&j(Up(X!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$h&j(Up(X!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$h&j(X!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$h&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(X!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$h&j(UpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(UpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Up(X!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$h&j(m%1l(Up(X!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$h&j(Up(X!b$[#t(R,2j(c$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$h&j(Up(X!b$[#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$h&j(Up(X!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$h&j$P(Ch(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(x+JY$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$h&j#y(Ch(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(W';W$h&j(UpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$h&j(UpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$h&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$c`$h&j(UpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(UpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$c`(UpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!j/.^$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!i!Lf$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$h&j(Up(X!b(S%&f#o(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$h&j(Up(X!b#l(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$h&j(Up(X!bp+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!Z+Jf$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$h&j(Up(X!b!O.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_!Y!L^$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$h&j(Up(X!b#m(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$h&j(Up(X!b!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$h&j(X!b!V7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$h&j!V7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$h&j!V7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!V7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!V7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$h&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$h&j(X!b!V7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(X!b!V7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(X!b!V7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(X!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$h&j(X!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$h&j(Up!V7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$h&j(Up!V7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Up!V7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Up!V7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(UpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$h&j(UpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$h&j(Up(X!b!V7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Up(X!b!V7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Up(X!b!V7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Up(X!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$h&j(Up(X!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$h&j(Up(X!b'|0/l!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$h&j(Up(X!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$h&j(X!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$h&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(X!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$h&j(UpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(UpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Up(X!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$h&j$P(Ch(Up(X!b!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Y#t$h&j(Up(X!b!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!e$b$h&j#})Lv(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#P-<U(Up(X!b$m7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$j&j(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#p(Ch(Up(X!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$P(Ch(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#q(Ch(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#^*!Y$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#i(Cl$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#q(Ch$e#|$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#q(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#p(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#p(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(p(Ct$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$h&j#z(Ch(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!z$Ip$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!Q0,v$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$h&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$h&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$h&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$h&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$h&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!W#)l$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#w(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$h&j(Up(X!b(_+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$h&j(Up(X!b(R,2j$^#t(c$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$h&j(Up(X!b$^#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!]#Hb(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(w+JY$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_![(CdtBr$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!o7`$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$h&j(Up(X!b'z0/l$[#t(R,2j(c$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$h&j(Up(X!b'{0/l$[#t(R,2j(c$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[pwe,mwe,gwe,Owe,2,3,4,5,6,7,8,9,10,11,12,13,14,fwe,new Dw("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOv~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!S~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(a~~",141,338),new Dw("j~RQYZXz{^~^O(O~~aP!P!Qd~iO(P~~",25,321)],topRules:{Script:[0,7],SingleExpression:[1,274],SingleClassItem:[2,275]},dialects:{jsx:0,ts:15091},dynamicPrecedences:{78:1,80:1,92:1,168:1,198:1},specialized:[{term:325,get:n=>vwe[n]||-1},{term:341,get:n=>xwe[n]||-1},{term:93,get:n=>wwe[n]||-1}],tokenPrec:15116}),Swe=1024;let kwe=0,Xk=class{constructor(e,t){this.from=e,this.to=t}},It=class{constructor(e={}){this.id=kwe++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=zo.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}};It.closedBy=new It({deserialize:n=>n.split(" ")});It.openedBy=new It({deserialize:n=>n.split(" ")});It.group=new It({deserialize:n=>n.split(" ")});It.isolate=new It({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});It.contextHash=new It({perNode:!0});It.lookAhead=new It({perNode:!0});It.mounted=new It({perNode:!0});let Mw=class{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[It.mounted.id]}};const _we=Object.create(null);let zo=class r6{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):_we,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new r6(e.name||"",t,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(It.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(It.group),s=-1;s<(i?i.length:0);s++){let o=t[s<0?r.name:i[s]];if(o)return o}}}};zo.none=new zo("",Object.create(null),0,8);const D0=new WeakMap,HV=new WeakMap;var Kn;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(Kn||(Kn={}));let Di=class LC{constructor(e,t,r,i,s){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=Mw.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new zC(this.topNode,e)}cursorAt(e,t=0,r=0){let i=D0.get(this)||this.topNode,s=new zC(i);return s.moveTo(e,t),D0.set(this,s._tree),s}get topNode(){return new qo(this,0,0,null)}resolve(e,t=0){let r=nO(D0.get(this)||this.topNode,e,t,!1);return D0.set(this,r),r}resolveInner(e,t=0){let r=nO(HV.get(this)||this.topNode,e,t,!0);return HV.set(this,r),r}resolveStack(e,t=0){return Ewe(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:s=this.length}=e,o=e.mode||0,a=(o&Kn.IncludeAnonymous)>0;for(let l=this.cursor(o|Kn.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=i&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:pN(zo.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new LC(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new LC(zo.none,t,r,i)))}static build(e){return Awe(e)}};Di.empty=new Di(zo.none,[],[],0);let Twe=class i6{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new i6(this.buffer,this.index)}},df=class s6{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return zo.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(o6(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,t,r){let i=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=i[a++],s[l++]=i[a++]-r;let c=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,c)}return new s6(s,o,this.set)}};function o6(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function nO(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!r&&n instanceof qo&&n.index<0?null:n.parent;if(!o)return n;n=o}let s=r?0:Kn.IgnoreOverlays;if(r)for(let o=n,a=o.parent;a;o=a,a=o.parent)o instanceof qo&&o.index<0&&((i=a.enter(e,t,s))===null||i===void 0?void 0:i.from)!=o.from&&(n=a);for(;;){let o=n.enter(e,t,s);if(!o)return n;n=o}}let a6=class{cursor(e=0){return new zC(this,e)}getChild(e,t=null,r=null){let i=KV(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return KV(this,e,t,r)}resolve(e,t=0){return nO(this,e,t,!1)}resolveInner(e,t=0){return nO(this,e,t,!0)}matchContext(e){return UC(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}},qo=class jv extends a6{constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=t>0?a.length:-1;e!=c;e+=t){let u=a[e],d=l[e]+o.from;if(o6(i,r,d,d+u.length)){if(u instanceof df){if(s&Kn.ExcludeBuffers)continue;let f=u.findChild(0,u.buffer.length,t,r-d,i);if(f>-1)return new rO(new Pwe(o,u,e,d),null,f)}else if(s&Kn.IncludeAnonymous||!u.type.isAnonymous||fN(u)){let f;if(!(s&Kn.IgnoreMounts)&&(f=Mw.get(u))&&!f.overlay)return new jv(f.tree,d,e,o);let m=new jv(u,d,e,o);return s&Kn.IncludeAnonymous||!m.type.isAnonymous?m:m.nextChild(t<0?u.children.length-1:0,t,r,i)}}}if(s&Kn.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&Kn.IgnoreOverlays)&&(i=Mw.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:o,to:a}of i.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new jv(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function KV(n,e,t,r){let i=n.cursor(),s=[];if(!i.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=i.type.is(t),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function UC(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}let Pwe=class{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}},rO=class pm extends a6{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return s<0?null:new pm(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&Kn.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new pm(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new pm(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new pm(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),t.push(0)}return new Di(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function l6(n){if(!n.length)return null;let e=0,t=n[0];for(let s=1;s<n.length;s++){let o=n[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let r=t instanceof qo&&t.index<0?null:t.parent,i=n.slice();return r?i[e]=r:i.splice(e,1),new Cwe(i,t)}let Cwe=class{constructor(e,t){this.heads=e,this.node=t}get next(){return l6(this.heads)}};function Ewe(n,e,t){let r=n.resolveInner(e,t),i=null;for(let s=r instanceof qo?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[r])).push(o.resolve(e,t)),s=o}else{let o=Mw.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new qo(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(nO(a,e,t,!1))}}return i?l6(i):r}let zC=class{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof qo)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof qo?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&Kn.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Kn.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Kn.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let s=t+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&Kn.IncludeAnonymous||a instanceof df||!a.type.isAnonymous||fN(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;t=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)t=new rO(this.buffer,t,this.stack[i]);return this.bufferNode=new rO(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return UC(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return UC(this._tree,e,i);let o=r[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}};function fN(n){return n.children.some(e=>e instanceof df||!e.type.isAnonymous||fN(e))}function Awe(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=Swe,reused:s=[],minRepeatType:o=r.types.length}=n,a=Array.isArray(t)?new Twe(t,t.length):t,l=r.types,c=0,u=0;function d(C,N,O,T,S,A){let{id:_,start:v,end:E,size:j}=a,V=u,U=c;for(;j<0;)if(a.next(),j==-1){let Z=s[_];O.push(Z),T.push(v-C);return}else if(j==-3){c=_;return}else if(j==-4){u=_;return}else throw new RangeError(`Unrecognized record size: ${j}`);let X=l[_],D,L,Y=v-C;if(E-v<=i&&(L=x(a.pos-N,S))){let Z=new Uint16Array(L.size-L.skip),F=a.pos-L.size,B=Z.length;for(;a.pos>F;)B=w(L.start,Z,B);D=new df(Z,E-L.start,r),Y=L.start-C}else{let Z=a.pos-j;a.next();let F=[],B=[],J=_>=o?_:-1,ae=0,oe=E;for(;a.pos>Z;)J>=0&&a.id==J&&a.size>=0?(a.end<=oe-i&&(g(F,B,v,ae,a.end,oe,J,V,U),ae=F.length,oe=a.end),a.next()):A>2500?f(v,Z,F,B):d(v,Z,F,B,J,A+1);if(J>=0&&ae>0&&ae<F.length&&g(F,B,v,ae,v,oe,J,V,U),F.reverse(),B.reverse(),J>-1&&ae>0){let ie=m(X,U);D=pN(X,F,B,0,F.length,0,E-v,ie,ie)}else D=y(X,F,B,E-v,V-E,U)}O.push(D),T.push(Y)}function f(C,N,O,T){let S=[],A=0,_=-1;for(;a.pos>N;){let{id:v,start:E,end:j,size:V}=a;if(V>4)a.next();else{if(_>-1&&E<_)break;_<0&&(_=j-i),S.push(v,E,j),A++,a.next()}}if(A){let v=new Uint16Array(A*4),E=S[S.length-2];for(let j=S.length-3,V=0;j>=0;j-=3)v[V++]=S[j],v[V++]=S[j+1]-E,v[V++]=S[j+2]-E,v[V++]=V;O.push(new df(v,S[2]-E,r)),T.push(E-C)}}function m(C,N){return(O,T,S)=>{let A=0,_=O.length-1,v,E;if(_>=0&&(v=O[_])instanceof Di){if(!_&&v.type==C&&v.length==S)return v;(E=v.prop(It.lookAhead))&&(A=T[_]+v.length+E)}return y(C,O,T,S,A,N)}}function g(C,N,O,T,S,A,_,v,E){let j=[],V=[];for(;C.length>T;)j.push(C.pop()),V.push(N.pop()+O-S);C.push(y(r.types[_],j,V,A-S,v-A,E)),N.push(S-O)}function y(C,N,O,T,S,A,_){if(A){let v=[It.contextHash,A];_=_?[v].concat(_):[v]}if(S>25){let v=[It.lookAhead,S];_=_?[v].concat(_):[v]}return new Di(C,N,O,T,_)}function x(C,N){let O=a.fork(),T=0,S=0,A=0,_=O.end-i,v={size:0,start:0,skip:0};e:for(let E=O.pos-C;O.pos>E;){let j=O.size;if(O.id==N&&j>=0){v.size=T,v.start=S,v.skip=A,A+=4,T+=4,O.next();continue}let V=O.pos-j;if(j<0||V<E||O.start<_)break;let U=O.id>=o?4:0,X=O.start;for(O.next();O.pos>V;){if(O.size<0)if(O.size==-3)U+=4;else break e;else O.id>=o&&(U+=4);O.next()}S=X,T+=j,A+=U}return(N<0||T==C)&&(v.size=T,v.start=S,v.skip=A),v.size>4?v:void 0}function w(C,N,O){let{id:T,start:S,end:A,size:_}=a;if(a.next(),_>=0&&T<o){let v=O;if(_>4){let E=a.pos-(_-4);for(;a.pos>E;)O=w(C,N,O)}N[--O]=v,N[--O]=A-C,N[--O]=S-C,N[--O]=T}else _==-3?c=T:_==-4&&(u=T);return O}let k=[],P=[];for(;a.pos>0;)d(n.start||0,n.bufferStart||0,k,P,-1,0);let Q=(e=n.length)!==null&&e!==void 0?e:k.length?P[0]+k[0].length:0;return new Di(l[n.topID],k.reverse(),P.reverse(),Q)}const JV=new WeakMap;function Dv(n,e){if(!n.isAnonymous||e instanceof df||e.type!=n)return 1;let t=JV.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof Di)){t=1;break}t+=Dv(n,r)}JV.set(e,t)}return t}function pN(n,e,t,r,i,s,o,a,l){let c=0;for(let g=r;g<i;g++)c+=Dv(n,e[g]);let u=Math.ceil(c*1.5/8),d=[],f=[];function m(g,y,x,w,k){for(let P=x;P<w;){let Q=P,C=y[P],N=Dv(n,g[P]);for(P++;P<w;P++){let O=Dv(n,g[P]);if(N+O>=u)break;N+=O}if(P==Q+1){if(N>u){let O=g[Q];m(O.children,O.positions,0,O.children.length,y[Q]+k);continue}d.push(g[Q])}else{let O=y[P-1]+g[P-1].length-C;d.push(pN(n,g,y,Q,P,C,O,null,l))}f.push(C+k-s)}}return m(e,t,r,i,0),(a||l)(d,f,o)}let Rwe=class{constructor(){this.map=new WeakMap}setBuffer(e,t,r){let i=this.map.get(e);i||this.map.set(e,i=new Map),i.set(t,r)}getBuffer(e,t){let r=this.map.get(e);return r&&r.get(t)}set(e,t){e instanceof rO?this.setBuffer(e.context.buffer,e.index,t):e instanceof qo&&this.map.set(e.tree,t)}get(e){return e instanceof rO?this.getBuffer(e.context.buffer,e.index):e instanceof qo?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}},Mv=class qC{constructor(e,t,r,i,s=!1,o=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],r=!1){let i=[new qC(0,e.length,e,0,!1,r)];for(let s of t)s.to>e.length&&i.push(s);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let u=a<t.length?t[a]:null,d=u?u.fromA:1e9;if(d-l>=r)for(;o&&o.from<d;){let f=o;if(l>=f.from||d<=f.to||c){let m=Math.max(f.from,l)-c,g=Math.min(f.to,d)-c;f=m>=g?null:new qC(m,g,f.tree,f.offset+c,a>0,!!u)}if(f&&i.push(f),o.to>d)break;o=s<e.length?e[s++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return i}},Qwe=class{startParse(e,t,r){return typeof e=="string"&&(e=new Nwe(e)),r=r?r.length?r.map(i=>new Xk(i.from,i.to)):[new Xk(0,0)]:[new Xk(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let s=i.advance();if(s)return s}}},Nwe=class{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}};new It({perNode:!0});var Gk;const Kh=new It;function c6(n){return de.define({combine:n?e=>e.concat(n):void 0})}const mN=new It;let Ps=class{constructor(e,t,r=[],i=""){this.data=e,this.name=i,Ve.prototype.hasOwnProperty("tree")||Object.defineProperty(Ve.prototype,"tree",{get(){return ff(this)}}),this.parser=t,this.extension=[pf.of(this),Ve.languageData.of((s,o,a)=>{let l=e4(s,o,a),c=l.type.prop(Kh);if(!c)return[];let u=s.facet(c),d=l.type.prop(mN);if(d){let f=l.resolve(o-l.from,a);for(let m of d)if(m.test(f,s)){let g=s.facet(m.facet);return m.type=="replace"?g:g.concat(u)}}return u})].concat(r)}isActiveAt(e,t,r=-1){return e4(e,t,r).type.prop(Kh)==this.data}findRegions(e){let t=e.facet(pf);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let r=[],i=(s,o)=>{if(s.prop(Kh)==this.data){r.push({from:o,to:o+s.length});return}let a=s.prop(It.mounted);if(a){if(a.tree.prop(Kh)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+o,to:l.to+o});else r.push({from:o,to:o+s.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+o),r.length>l)return}}for(let l=0;l<s.children.length;l++){let c=s.children[l];c instanceof Di&&i(c,s.positions[l]+o)}};return i(ff(e),0),r}get allowsNesting(){return!0}};Ps.setState=Me.define();function e4(n,e,t){let r=n.facet(pf),i=ff(n).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,t,Kn.ExcludeBuffers))s.type.isTop&&(i=s);return i}let Iwe=class FC extends Ps{constructor(e,t,r){super(e,t,[],r),this.parser=t}static define(e){let t=c6(e.languageData);return new FC(t,e.parser.configure({props:[Kh.add(r=>r.isTop?t:void 0)]}),e.name)}configure(e,t){return new FC(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}};function ff(n){let e=n.field(Ps.state,!1);return e?e.tree:Di.empty}let $we=class{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}},Dp=null,jwe=class ZC{constructor(e,t,r=[],i,s,o,a,l){this.parser=e,this.state=t,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new ZC(e,t,[],Di.empty,0,r,[],null)}startParse(){return this.parser.startParse(new $we(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=Di.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(Mv.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Mv.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=Dp;Dp=this;try{return e()}finally{Dp=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=t4(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:i,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,u,d,f)=>l.push({fromA:c,toA:u,fromB:d,toB:f})),r=Mv.applyChanges(r,l),i=Di.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),d=e.mapPos(c.to,-1);u<d&&a.push({from:u,to:d})}}}return new ZC(this.parser,t,r,i,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=t4(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends Qwe{createParse(t,r,i){let s=i[0].from,o=i[i.length-1].to;return{parsedPos:s,advance(){let l=Dp;if(l){for(let c of i)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new Di(zo.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return Dp}};function t4(n,e,t){return Mv.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}let BC=class WC{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new WC(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=jwe.create(e.facet(pf).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new WC(r)}};Ps.state=Xt.define({create:BC.init,update(n,e){for(let t of e.effects)if(t.is(Ps.setState))return t.value;return e.startState.facet(pf)!=e.state.facet(pf)?BC.init(e.state):n.apply(e)}});let u6=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(u6=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const Yk=typeof navigator<"u"&&(!((Gk=navigator.scheduling)===null||Gk===void 0)&&Gk.isInputPending)?()=>navigator.scheduling.isInputPending():null,Dwe=Vt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Ps.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Ps.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=u6(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(Ps.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!Yk?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<i&&r.doc.length>i+1e3,l=s.context.work(()=>Yk&&Yk()||Date.now()>o,i+(a?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Ps.setState.of(new BC(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>Rn(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),pf=de.define({combine(n){return n.length?n[0]:null},enables:n=>[Ps.state,Dwe,fe.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});let Mwe=class{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}};const Vwe=de.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}}),Lwe=new It;function Uwe(n){let e=n.node,t=e.childAfter(e.from),r=e.lastChild;if(!t)return null;let i=n.options.simulateBreak,s=n.state.doc.lineAt(t.from),o=i==null||i<=s.from?s.to:Math.min(s.to,i);for(let a=t.to;;){let l=e.childAfter(a);if(!l||l==r)return null;if(!l.type.isSkipped){if(l.from>=o)return null;let c=/^ */.exec(s.text.slice(t.to-s.from))[0].length;return{from:t.from,to:t.to+c}}a=l.to}}function zwe({closing:n,align:e=!0,units:t=1}){return r=>qwe(r,e,t,n)}function qwe(n,e,t,r,i){let s=n.textAfter,o=s.match(/^\s*/)[0].length,a=r&&s.slice(o,o+r.length)==r||i==n.pos+o,l=e?Uwe(n):null;return l?a?n.column(l.from):n.column(l.to):n.baseIndent+(a?0:n.unit*t)}const Fwe=n=>n.baseIndent;function Hk({except:n,units:e=1}={}){return t=>{let r=n&&n.test(t.textAfter);return t.baseIndent+(r?0:e*t.unit)}}const Zwe=new It;function Bwe(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}let Wwe=class h6{constructor(e,t){this.specs=e;let r;function i(a){let l=Nn.newName();return(r||(r=Object.create(null)))["."+l]=a,l}const s=typeof t.all=="string"?t.all:t.all?i(t.all):void 0,o=t.scope;this.scope=o instanceof Ps?a=>a.prop(Kh)==o.data:o?a=>a==o:void 0,this.style=Zc(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=r?new Nn(r):null,this.themeType=t.themeType}static define(e,t){return new h6(e,t||{})}};$.meta,$.link,$.heading,$.emphasis,$.strong,$.strikethrough,$.keyword,$.atom,$.bool,$.url,$.contentSeparator,$.labelName,$.literal,$.inserted,$.string,$.deleted,$.regexp,$.escape,$.string,$.variableName,$.variableName,$.typeName,$.namespace,$.className,$.variableName,$.macroName,$.propertyName,$.comment,$.invalid;const Xwe=Object.create(null),n4=[zo.none],r4=[],i4=Object.create(null),Gwe=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Gwe[n]=Ywe(Xwe,e);function Kk(n,e){r4.indexOf(n)>-1||(r4.push(n),console.warn(e))}function Ywe(n,e){let t=[];for(let a of e.split(" ")){let l=[];for(let c of a.split(".")){let u=n[c]||$[c];u?typeof u=="function"?l.length?l=l.map(u):Kk(c,`Modifier ${c} used at start of tag`):l.length?Kk(c,`Tag ${c} used as modifier`):l=Array.isArray(u)?u:[u]:Kk(c,`Unknown highlighting tag ${c}`)}for(let c of l)t.push(c)}if(!t.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+t.map(a=>a.id),s=i4[i];if(s)return s.id;let o=i4[i]=zo.define({id:n4.length,name:r,props:[Gi({[r]:t})]});return n4.push(o),o.id}it.RTL,it.LTR;function s4(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function Hwe(n){let e=Object.create(null),t=Object.create(null);for(let{label:i}of n){e[i[0]]=!0;for(let s=1;s<i.length;s++)t[i[s]]=!0}let r=s4(e)+s4(t)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function Kwe(n){let e=n.map(i=>typeof i=="string"?{label:i}:i),[t,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:Hwe(e);return i=>{let s=i.matchBefore(r);return s||i.explicit?{from:s?s.from:i.pos,options:e,validFor:t}:null}}function Jwe(n,e){return t=>{for(let r=ff(t.state).resolveInner(t.pos,-1);r;r=r.parent){if(n.indexOf(r.name)>-1)return null;if(r.type.isTop)break}return e(t)}}const ebe=Hs.define(),tbe=fe.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});let nbe=class{constructor(e,t,r,i){this.field=e,this.line=t,this.from=r,this.to=i}},rbe=class d6{constructor(e,t,r){this.field=e,this.from=t,this.to=r}map(e){let t=e.mapPos(this.from,-1,qn.TrackDel),r=e.mapPos(this.to,1,qn.TrackDel);return t==null||r==null?null:new d6(this.field,t,r)}},ibe=class f6{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let r=[],i=[t],s=e.doc.lineAt(t),o=/^\s*/.exec(s.text)[0];for(let l of this.lines){if(r.length){let c=o,u=/^\t*/.exec(l)[0].length;for(let d=0;d<u;d++)c+=e.facet(Vwe);i.push(t+c.length-u),l=c+l.slice(u)}r.push(l),t+=l.length+1}let a=this.fieldPositions.map(l=>new rbe(l.field,i[l.line]+l.from,i[l.line]+l.to));return{text:r,ranges:a}}static parse(e){let t=[],r=[],i=[],s;for(let o of e.split(/\r\n?|\n/)){for(;s=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(o);){let a=s[1]?+s[1]:null,l=s[2]||s[3]||"",c=-1,u=l.replace(/\\[{}]/g,d=>d[1]);for(let d=0;d<t.length;d++)(a!=null?t[d].seq==a:u&&t[d].name==u)&&(c=d);if(c<0){let d=0;for(;d<t.length&&(a==null||t[d].seq!=null&&t[d].seq<a);)d++;t.splice(d,0,{seq:a,name:u}),c=d;for(let f of i)f.field>=c&&f.field++}i.push(new nbe(c,r.length,s.index,s.index+u.length)),o=o.slice(0,s.index)+l+o.slice(s.index+s[0].length)}o=o.replace(/\\([{}])/g,(a,l,c)=>{for(let u of i)u.line==r.length&&u.from>c&&(u.from--,u.to--);return l}),r.push(o)}return new f6(r,i)}},sbe=ye.widget({widget:new class extends na{toDOM(){let n=document.createElement("span");return n.className="cm-snippetFieldPosition",n}ignoreEvent(){return!1}}}),obe=ye.mark({class:"cm-snippetField"}),NS=class p6{constructor(e,t){this.ranges=e,this.active=t,this.deco=ye.set(e.map(r=>(r.from==r.to?sbe:obe).range(r.from,r.to)))}map(e){let t=[];for(let r of this.ranges){let i=r.map(e);if(!i)return null;t.push(i)}return new p6(t,this.active)}selectionInsideField(e){return e.ranges.every(t=>this.ranges.some(r=>r.field==this.active&&r.from<=t.from&&r.to>=t.to))}};const uy=Me.define({map(n,e){return n&&n.map(e)}}),abe=Me.define(),iO=Xt.define({create(){return null},update(n,e){for(let t of e.effects){if(t.is(uy))return t.value;if(t.is(abe)&&n)return new NS(n.ranges,t.value)}return n&&e.docChanged&&(n=n.map(e.changes)),n&&e.selection&&!n.selectionInsideField(e.selection)&&(n=null),n},provide:n=>fe.decorations.from(n,e=>e?e.deco:ye.none)});function gN(n,e){return te.create(n.filter(t=>t.field==e).map(t=>te.range(t.from,t.to)))}function lbe(n){let e=ibe.parse(n);return(t,r,i,s)=>{let{text:o,ranges:a}=e.instantiate(t.state,i),{main:l}=t.state.selection,c={changes:{from:i,to:s==l.from?l.to:s,insert:pt.of(o)},scrollIntoView:!0,annotations:r?[ebe.of(r),bn.userEvent.of("input.complete")]:void 0};if(a.length&&(c.selection=gN(a,0)),a.some(u=>u.field>0)){let u=new NS(a,0),d=c.effects=[uy.of(u)];t.state.field(iO,!1)===void 0&&d.push(Me.appendConfig.of([iO,fbe,pbe,tbe]))}t.dispatch(t.state.update(c))}}function m6(n){return({state:e,dispatch:t})=>{let r=e.field(iO,!1);if(!r||n<0&&r.active==0)return!1;let i=r.active+n,s=n>0&&!r.ranges.some(o=>o.field==i+n);return t(e.update({selection:gN(r.ranges,i),effects:uy.of(s?null:new NS(r.ranges,i)),scrollIntoView:!0})),!0}}const cbe=({state:n,dispatch:e})=>n.field(iO,!1)?(e(n.update({effects:uy.of(null)})),!0):!1,ube=m6(1),hbe=m6(-1),dbe=[{key:"Tab",run:ube,shift:hbe},{key:"Escape",run:cbe}],o4=de.define({combine(n){return n.length?n[0]:dbe}}),fbe=ll.highest(sy.compute([o4],n=>n.facet(o4)));function ii(n,e){return Object.assign(Object.assign({},e),{apply:lbe(n)})}const pbe=fe.domEventHandlers({mousedown(n,e){let t=e.state.field(iO,!1),r;if(!t||(r=e.posAtCoords({x:n.clientX,y:n.clientY}))==null)return!1;let i=t.ranges.find(s=>s.from<=r&&s.to>=r);return!i||i.field==t.active?!1:(e.dispatch({selection:gN(t.ranges,i.field),effects:uy.of(t.ranges.some(s=>s.field>i.field)?new NS(t.ranges,i.field):null),scrollIntoView:!0}),!0)}}),g6=new class extends Vo{};g6.startSide=1;g6.endSide=-1;const O6=[ii("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),ii("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),ii("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),ii("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),ii("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),ii(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),ii("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),ii(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),ii(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),ii('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),ii('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],mbe=O6.concat([ii("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),ii("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),ii("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),a4=new Rwe,y6=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function Mp(n){return(e,t)=>{let r=e.node.getChild("VariableDefinition");return r&&t(r,n),!0}}const gbe=["FunctionDeclaration"],Obe={FunctionDeclaration:Mp("function"),ClassDeclaration:Mp("class"),ClassExpression:()=>!0,EnumDeclaration:Mp("constant"),TypeAliasDeclaration:Mp("type"),NamespaceDeclaration:Mp("namespace"),VariableDefinition(n,e){n.matchContext(gbe)||e(n,"variable")},TypeDefinition(n,e){e(n,"type")},__proto__:null};function v6(n,e){let t=a4.get(e);if(t)return t;let r=[],i=!0;function s(o,a){let l=n.sliceString(o.from,o.to);r.push({label:l,type:a})}return e.cursor(Kn.IncludeAnonymous).iterate(o=>{if(i)i=!1;else if(o.name){let a=Obe[o.name];if(a&&a(o,s)||y6.has(o.name))return!1}else if(o.to-o.from>8192){for(let a of v6(n,o.node))r.push(a);return!1}}),a4.set(e,r),r}const l4=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,x6=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function ybe(n){let e=ff(n.state).resolveInner(n.pos,-1);if(x6.indexOf(e.name)>-1)return null;let t=e.name=="VariableName"||e.to-e.from<20&&l4.test(n.state.sliceDoc(e.from,e.to));if(!t&&!n.explicit)return null;let r=[];for(let i=e;i;i=i.parent)y6.has(i.name)&&(r=r.concat(v6(n.state.doc,i)));return{options:r,from:t?e.from:n.pos,validFor:l4}}const No=Iwe.define({name:"javascript",parser:bwe.configure({props:[Lwe.add({IfStatement:Hk({except:/^\s*({|else\b)/}),TryStatement:Hk({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:Fwe,SwitchBody:n=>{let e=n.textAfter,t=/^\s*\}/.test(e),r=/^\s*(case|default)\b/.test(e);return n.baseIndent+(t?0:r?1:2)*n.unit},Block:zwe({closing:"}"}),ArrowFunction:n=>n.baseIndent+n.unit,"TemplateString BlockComment":()=>null,"Statement Property":Hk({except:/^{/}),JSXElement(n){let e=/^\s*<\//.test(n.textAfter);return n.lineIndent(n.node.from)+(e?0:n.unit)},JSXEscape(n){let e=/\s*\}/.test(n.textAfter);return n.lineIndent(n.node.from)+(e?0:n.unit)},"JSXOpenTag JSXSelfClosingTag"(n){return n.column(n.node.from)+n.unit}}),Zwe.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":Bwe,BlockComment(n){return{from:n.from+2,to:n.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),w6={test:n=>/^JSX/.test(n.name),facet:c6({commentTokens:{block:{open:"{/*",close:"*/}"}}})},b6=No.configure({dialect:"ts"},"typescript"),S6=No.configure({dialect:"jsx",props:[mN.add(n=>n.isTop?[w6]:void 0)]}),k6=No.configure({dialect:"jsx ts",props:[mN.add(n=>n.isTop?[w6]:void 0)]},"typescript");let _6=n=>({label:n,type:"keyword"});const T6="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(_6),vbe=T6.concat(["declare","implements","private","protected","public"].map(_6));function ON(n={}){let e=n.jsx?n.typescript?k6:S6:n.typescript?b6:No,t=n.typescript?mbe.concat(vbe):O6.concat(T6);return new Mwe(e,[No.data.of({autocomplete:Jwe(x6,Kwe(t))}),No.data.of({autocomplete:ybe}),n.jsx?bbe:[]])}function xbe(n){for(;;){if(n.name=="JSXOpenTag"||n.name=="JSXSelfClosingTag"||n.name=="JSXFragmentTag")return n;if(n.name=="JSXEscape"||!n.parent)return null;n=n.parent}}function c4(n,e,t=n.length){for(let r=e==null?void 0:e.firstChild;r;r=r.nextSibling)if(r.name=="JSXIdentifier"||r.name=="JSXBuiltin"||r.name=="JSXNamespacedName"||r.name=="JSXMemberExpression")return n.sliceString(r.from,Math.min(r.to,t));return""}const wbe=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),bbe=fe.inputHandler.of((n,e,t,r,i)=>{if((wbe?n.composing:n.compositionStarted)||n.state.readOnly||e!=t||r!=">"&&r!="/"||!No.isActiveAt(n.state,e,-1))return!1;let s=i(),{state:o}=s,a=o.changeByRange(l=>{var c;let{head:u}=l,d=ff(o).resolveInner(u-1,-1),f;if(d.name=="JSXStartTag"&&(d=d.parent),!(o.doc.sliceString(u-1,u)!=r||d.name=="JSXAttributeValue"&&d.to>u)){if(r==">"&&d.name=="JSXFragmentTag")return{range:l,changes:{from:u,insert:"</>"}};if(r=="/"&&d.name=="JSXStartCloseTag"){let m=d.parent,g=m.parent;if(g&&m.from==u-2&&((f=c4(o.doc,g.firstChild,u))||((c=g.firstChild)===null||c===void 0?void 0:c.name)=="JSXFragmentTag")){let y=`${f}>`;return{range:te.cursor(u+y.length,-1),changes:{from:u,insert:y}}}}else if(r==">"){let m=xbe(d);if(m&&m.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(o.doc.sliceString(u,u+2))&&(f=c4(o.doc,m,u)))return{range:l,changes:{from:u,insert:`</${f}>`}}}}return{range:l}});return a.changes.empty?!1:(n.dispatch([s,o.update(a,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),Sbe=1,P6=194,C6=195,kbe=196,u4=197,_be=198,Tbe=199,Pbe=200,Cbe=2,E6=3,h4=201,Ebe=24,Abe=25,Rbe=49,Qbe=50,Nbe=55,Ibe=56,$be=57,jbe=59,Dbe=60,Mbe=61,Vbe=62,Lbe=63,Ube=65,zbe=238,qbe=71,Fbe=241,Zbe=242,Bbe=243,Wbe=244,Xbe=245,Gbe=246,Ybe=247,Hbe=248,A6=72,Kbe=249,Jbe=250,eSe=251,tSe=252,nSe=253,rSe=254,iSe=255,sSe=256,oSe=73,aSe=77,lSe=263,cSe=112,uSe=130,hSe=151,dSe=152,fSe=155,th=10,sO=13,yN=32,IS=9,vN=35,pSe=40,mSe=46,XC=123,d4=125,R6=39,Q6=34,gSe=92,OSe=111,ySe=120,vSe=78,xSe=117,wSe=85,bSe=new Set([Abe,Rbe,Qbe,lSe,Ube,uSe,Ibe,$be,zbe,Vbe,Lbe,A6,oSe,aSe,Dbe,Mbe,hSe,dSe,fSe,cSe]);function Jk(n){return n==th||n==sO}function e_(n){return n>=48&&n<=57||n>=65&&n<=70||n>=97&&n<=102}const SSe=new vr((n,e)=>{let t;if(n.next<0)n.acceptToken(Tbe);else if(e.context.flags&Vv)Jk(n.next)&&n.acceptToken(_be,1);else if(((t=n.peek(-1))<0||Jk(t))&&e.canShift(u4)){let r=0;for(;n.next==yN||n.next==IS;)n.advance(),r++;(n.next==th||n.next==sO||n.next==vN)&&n.acceptToken(u4,-r)}else Jk(n.next)&&n.acceptToken(kbe,1)},{contextual:!0}),kSe=new vr((n,e)=>{let t=e.context;if(t.flags)return;let r=n.peek(-1);if(r==th||r==sO){let i=0,s=0;for(;;){if(n.next==yN)i++;else if(n.next==IS)i+=8-i%8;else break;n.advance(),s++}i!=t.indent&&n.next!=th&&n.next!=sO&&n.next!=vN&&(i<t.indent?n.acceptToken(C6,-s):n.acceptToken(P6))}}),Vv=1,N6=2,ga=4,Oa=8,ya=16,va=32;function Lv(n,e,t){this.parent=n,this.indent=e,this.flags=t,this.hash=(n?n.hash+n.hash<<8:0)+e+(e<<4)+t+(t<<6)}const _Se=new Lv(null,0,0);function TSe(n){let e=0;for(let t=0;t<n.length;t++)e+=n.charCodeAt(t)==IS?8-e%8:1;return e}const f4=new Map([[Fbe,0],[Zbe,ga],[Bbe,Oa],[Wbe,Oa|ga],[Xbe,ya],[Gbe,ya|ga],[Ybe,ya|Oa],[Hbe,ya|Oa|ga],[Kbe,va],[Jbe,va|ga],[eSe,va|Oa],[tSe,va|Oa|ga],[nSe,va|ya],[rSe,va|ya|ga],[iSe,va|ya|Oa],[sSe,va|ya|Oa|ga]].map(([n,e])=>[n,e|N6])),PSe=new dN({start:_Se,reduce(n,e,t,r){return n.flags&Vv&&bSe.has(e)||(e==qbe||e==A6)&&n.flags&N6?n.parent:n},shift(n,e,t,r){return e==P6?new Lv(n,TSe(r.read(r.pos,t.pos)),0):e==C6?n.parent:e==Ebe||e==Nbe||e==jbe||e==E6?new Lv(n,0,Vv):f4.has(e)?new Lv(n,0,f4.get(e)|n.flags&Vv):n},hash(n){return n.hash}}),CSe=new vr(n=>{for(let e=0;e<5;e++){if(n.next!="print".charCodeAt(e))return;n.advance()}if(!/\w/.test(String.fromCharCode(n.next)))for(let e=0;;e++){let t=n.peek(e);if(!(t==yN||t==IS)){t!=pSe&&t!=mSe&&t!=th&&t!=sO&&t!=vN&&n.acceptToken(Sbe);return}}}),ESe=new vr((n,e)=>{let{flags:t}=e.context,r=t&ga?Q6:R6,i=(t&Oa)>0,s=!(t&ya),o=(t&va)>0,a=n.pos;for(;!(n.next<0);)if(o&&n.next==XC)if(n.peek(1)==XC)n.advance(2);else{if(n.pos==a){n.acceptToken(E6,1);return}break}else if(s&&n.next==gSe){if(n.pos==a){n.advance();let l=n.next;l>=0&&(n.advance(),ASe(n,l)),n.acceptToken(Cbe);return}break}else if(n.next==r&&(!i||n.peek(1)==r&&n.peek(2)==r)){if(n.pos==a){n.acceptToken(h4,i?3:1);return}break}else if(n.next==th){if(i)n.advance();else if(n.pos==a){n.acceptToken(h4);return}break}else n.advance();n.pos>a&&n.acceptToken(Pbe)});function ASe(n,e){if(e==OSe)for(let t=0;t<2&&n.next>=48&&n.next<=55;t++)n.advance();else if(e==ySe)for(let t=0;t<2&&e_(n.next);t++)n.advance();else if(e==xSe)for(let t=0;t<4&&e_(n.next);t++)n.advance();else if(e==wSe)for(let t=0;t<8&&e_(n.next);t++)n.advance();else if(e==vSe&&n.next==XC){for(n.advance();n.next>=0&&n.next!=d4&&n.next!=R6&&n.next!=Q6&&n.next!=th;)n.advance();n.next==d4&&n.advance()}}const RSe=Gi({'async "*" "**" FormatConversion FormatSpec':$.modifier,"for while if elif else try except finally return raise break continue with pass assert await yield match case":$.controlKeyword,"in not and or is del":$.operatorKeyword,"from def class global nonlocal lambda":$.definitionKeyword,import:$.moduleKeyword,"with as print":$.keyword,Boolean:$.bool,None:$.null,VariableName:$.variableName,"CallExpression/VariableName":$.function($.variableName),"FunctionDefinition/VariableName":$.function($.definition($.variableName)),"ClassDefinition/VariableName":$.definition($.className),PropertyName:$.propertyName,"CallExpression/MemberExpression/PropertyName":$.function($.propertyName),Comment:$.lineComment,Number:$.number,String:$.string,FormatString:$.special($.string),Escape:$.escape,UpdateOp:$.updateOperator,"ArithOp!":$.arithmeticOperator,BitOp:$.bitwiseOperator,CompareOp:$.compareOperator,AssignOp:$.definitionOperator,Ellipsis:$.punctuation,At:$.meta,"( )":$.paren,"[ ]":$.squareBracket,"{ }":$.brace,".":$.derefOperator,", ;":$.separator}),QSe={__proto__:null,await:44,or:54,and:56,in:60,not:62,is:64,if:70,else:72,lambda:76,yield:94,from:96,async:102,for:104,None:162,True:164,False:164,del:178,pass:182,break:186,continue:190,return:194,raise:202,import:206,as:208,global:212,nonlocal:214,assert:218,type:223,elif:236,while:240,try:246,except:248,finally:250,with:254,def:258,class:268,match:279,case:285},NSe=tl.deserialize({version:14,states:"##jO`QeOOP$}OSOOO&WQtO'#HUOOQS'#Co'#CoOOQS'#Cp'#CpO'vQdO'#CnO*UQtO'#HTOOQS'#HU'#HUOOQS'#DU'#DUOOQS'#HT'#HTO*rQdO'#D_O+VQdO'#DfO+gQdO'#DjO+zOWO'#DuO,VOWO'#DvO.[QtO'#GuOOQS'#Gu'#GuO'vQdO'#GtO0ZQtO'#GtOOQS'#Eb'#EbO0rQdO'#EcOOQS'#Gs'#GsO0|QdO'#GrOOQV'#Gr'#GrO1XQdO'#FYOOQS'#G^'#G^O1^QdO'#FXOOQV'#IS'#ISOOQV'#Gq'#GqOOQV'#Fq'#FqQ`QeOOO'vQdO'#CqO1lQdO'#C}O1sQdO'#DRO2RQdO'#HYO2cQtO'#EVO'vQdO'#EWOOQS'#EY'#EYOOQS'#E['#E[OOQS'#E^'#E^O2wQdO'#E`O3_QdO'#EdO3rQdO'#EfO3zQtO'#EfO1XQdO'#EiO0rQdO'#ElO1XQdO'#EnO0rQdO'#EtO0rQdO'#EwO4VQdO'#EyO4^QdO'#FOO4iQdO'#EzO0rQdO'#FOO1XQdO'#FQO1XQdO'#FVO4nQdO'#F[P4uOdO'#GpPOOO)CBd)CBdOOQS'#Ce'#CeOOQS'#Cf'#CfOOQS'#Cg'#CgOOQS'#Ch'#ChOOQS'#Ci'#CiOOQS'#Cj'#CjOOQS'#Cl'#ClO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO5TQdO'#DoOOQS,5:Y,5:YO5hQdO'#HdOOQS,5:],5:]O5uQ!fO,5:]O5zQtO,59YO1lQdO,59bO1lQdO,59bO1lQdO,59bO8jQdO,59bO8oQdO,59bO8vQdO,59jO8}QdO'#HTO:TQdO'#HSOOQS'#HS'#HSOOQS'#D['#D[O:lQdO,59aO'vQdO,59aO:zQdO,59aOOQS,59y,59yO;PQdO,5:RO'vQdO,5:ROOQS,5:Q,5:QO;_QdO,5:QO;dQdO,5:XO'vQdO,5:XO'vQdO,5:VOOQS,5:U,5:UO;uQdO,5:UO;zQdO,5:WOOOW'#Fy'#FyO<POWO,5:aOOQS,5:a,5:aO<[QdO'#HwOOOW'#Dw'#DwOOOW'#Fz'#FzO<lOWO,5:bOOQS,5:b,5:bOOQS'#F}'#F}O<zQtO,5:iO?lQtO,5=`O@VQ#xO,5=`O@vQtO,5=`OOQS,5:},5:}OA_QeO'#GWOBqQdO,5;^OOQV,5=^,5=^OB|QtO'#IPOCkQdO,5;tOOQS-E:[-E:[OOQV,5;s,5;sO4dQdO'#FQOOQV-E9o-E9oOCsQtO,59]OEzQtO,59iOFeQdO'#HVOFpQdO'#HVO1XQdO'#HVOF{QdO'#DTOGTQdO,59mOGYQdO'#HZO'vQdO'#HZO0rQdO,5=tOOQS,5=t,5=tO0rQdO'#EROOQS'#ES'#ESOGwQdO'#GPOHXQdO,58|OHXQdO,58|O*xQdO,5:oOHgQtO'#H]OOQS,5:r,5:rOOQS,5:z,5:zOHzQdO,5;OOI]QdO'#IOO1XQdO'#H}OOQS,5;Q,5;QOOQS'#GT'#GTOIqQtO,5;QOJPQdO,5;QOJUQdO'#IQOOQS,5;T,5;TOJdQdO'#H|OOQS,5;W,5;WOJuQdO,5;YO4iQdO,5;`O4iQdO,5;cOJ}QtO'#ITO'vQdO'#ITOKXQdO,5;eO4VQdO,5;eO0rQdO,5;jO1XQdO,5;lOK^QeO'#EuOLjQgO,5;fO!!kQdO'#IUO4iQdO,5;jO!!vQdO,5;lO!#OQdO,5;qO!#ZQtO,5;vO'vQdO,5;vPOOO,5=[,5=[P!#bOSO,5=[P!#jOdO,5=[O!&bQtO1G.jO!&iQtO1G.jO!)YQtO1G.jO!)dQtO1G.jO!+}QtO1G.jO!,bQtO1G.jO!,uQdO'#HcO!-TQtO'#GuO0rQdO'#HcO!-_QdO'#HbOOQS,5:Z,5:ZO!-gQdO,5:ZO!-lQdO'#HeO!-wQdO'#HeO!.[QdO,5>OOOQS'#Ds'#DsOOQS1G/w1G/wOOQS1G.|1G.|O!/[QtO1G.|O!/cQtO1G.|O1lQdO1G.|O!0OQdO1G/UOOQS'#DZ'#DZO0rQdO,59tOOQS1G.{1G.{O!0VQdO1G/eO!0gQdO1G/eO!0oQdO1G/fO'vQdO'#H[O!0tQdO'#H[O!0yQtO1G.{O!1ZQdO,59iO!2aQdO,5=zO!2qQdO,5=zO!2yQdO1G/mO!3OQtO1G/mOOQS1G/l1G/lO!3`QdO,5=uO!4VQdO,5=uO0rQdO1G/qO!4tQdO1G/sO!4yQtO1G/sO!5ZQtO1G/qOOQS1G/p1G/pOOQS1G/r1G/rOOOW-E9w-E9wOOQS1G/{1G/{O!5kQdO'#HxO0rQdO'#HxO!5|QdO,5>cOOOW-E9x-E9xOOQS1G/|1G/|OOQS-E9{-E9{O!6[Q#xO1G2zO!6{QtO1G2zO'vQdO,5<jOOQS,5<j,5<jOOQS-E9|-E9|OOQS,5<r,5<rOOQS-E:U-E:UOOQV1G0x1G0xO1XQdO'#GRO!7dQtO,5>kOOQS1G1`1G1`O!8RQdO1G1`OOQS'#DV'#DVO0rQdO,5=qOOQS,5=q,5=qO!8WQdO'#FrO!8cQdO,59oO!8kQdO1G/XO!8uQtO,5=uOOQS1G3`1G3`OOQS,5:m,5:mO!9fQdO'#GtOOQS,5<k,5<kOOQS-E9}-E9}O!9wQdO1G.hOOQS1G0Z1G0ZO!:VQdO,5=wO!:gQdO,5=wO0rQdO1G0jO0rQdO1G0jO!:xQdO,5>jO!;ZQdO,5>jO1XQdO,5>jO!;lQdO,5>iOOQS-E:R-E:RO!;qQdO1G0lO!;|QdO1G0lO!<RQdO,5>lO!<aQdO,5>lO!<oQdO,5>hO!=VQdO,5>hO!=hQdO'#EpO0rQdO1G0tO!=sQdO1G0tO!=xQgO1G0zO!AvQgO1G0}O!EqQdO,5>oO!E{QdO,5>oO!FTQtO,5>oO0rQdO1G1PO!F_QdO1G1PO4iQdO1G1UO!!vQdO1G1WOOQV,5;a,5;aO!FdQfO,5;aO!FiQgO1G1QO!JjQdO'#GZO4iQdO1G1QO4iQdO1G1QO!JzQdO,5>pO!KXQdO,5>pO1XQdO,5>pOOQV1G1U1G1UO!KaQdO'#FSO!KrQ!fO1G1WO!KzQdO1G1WOOQV1G1]1G1]O4iQdO1G1]O!LPQdO1G1]O!LXQdO'#F^OOQV1G1b1G1bO!#ZQtO1G1bPOOO1G2v1G2vP!L^OSO1G2vOOQS,5=},5=}OOQS'#Dp'#DpO0rQdO,5=}O!LfQdO,5=|O!LyQdO,5=|OOQS1G/u1G/uO!MRQdO,5>PO!McQdO,5>PO!MkQdO,5>PO!NOQdO,5>PO!N`QdO,5>POOQS1G3j1G3jOOQS7+$h7+$hO!8kQdO7+$pO#!RQdO1G.|O#!YQdO1G.|OOQS1G/`1G/`OOQS,5<`,5<`O'vQdO,5<`OOQS7+%P7+%PO#!aQdO7+%POOQS-E9r-E9rOOQS7+%Q7+%QO#!qQdO,5=vO'vQdO,5=vOOQS7+$g7+$gO#!vQdO7+%PO##OQdO7+%QO##TQdO1G3fOOQS7+%X7+%XO##eQdO1G3fO##mQdO7+%XOOQS,5<_,5<_O'vQdO,5<_O##rQdO1G3aOOQS-E9q-E9qO#$iQdO7+%]OOQS7+%_7+%_O#$wQdO1G3aO#%fQdO7+%_O#%kQdO1G3gO#%{QdO1G3gO#&TQdO7+%]O#&YQdO,5>dO#&sQdO,5>dO#&sQdO,5>dOOQS'#Dx'#DxO#'UO&jO'#DzO#'aO`O'#HyOOOW1G3}1G3}O#'fQdO1G3}O#'nQdO1G3}O#'yQ#xO7+(fO#(jQtO1G2UP#)TQdO'#GOOOQS,5<m,5<mOOQS-E:P-E:POOQS7+&z7+&zOOQS1G3]1G3]OOQS,5<^,5<^OOQS-E9p-E9pOOQS7+$s7+$sO#)bQdO,5=`O#){QdO,5=`O#*^QtO,5<aO#*qQdO1G3cOOQS-E9s-E9sOOQS7+&U7+&UO#+RQdO7+&UO#+aQdO,5<nO#+uQdO1G4UOOQS-E:Q-E:QO#,WQdO1G4UOOQS1G4T1G4TOOQS7+&W7+&WO#,iQdO7+&WOOQS,5<p,5<pO#,tQdO1G4WOOQS-E:S-E:SOOQS,5<l,5<lO#-SQdO1G4SOOQS-E:O-E:OO1XQdO'#EqO#-jQdO'#EqO#-uQdO'#IRO#-}QdO,5;[OOQS7+&`7+&`O0rQdO7+&`O#.SQgO7+&fO!JmQdO'#GXO4iQdO7+&fO4iQdO7+&iO#2QQtO,5<tO'vQdO,5<tO#2[QdO1G4ZOOQS-E:W-E:WO#2fQdO1G4ZO4iQdO7+&kO0rQdO7+&kOOQV7+&p7+&pO!KrQ!fO7+&rO!KzQdO7+&rO`QeO1G0{OOQV-E:X-E:XO4iQdO7+&lO4iQdO7+&lOOQV,5<u,5<uO#2nQdO,5<uO!JmQdO,5<uOOQV7+&l7+&lO#2yQgO7+&lO#6tQdO,5<vO#7PQdO1G4[OOQS-E:Y-E:YO#7^QdO1G4[O#7fQdO'#IWO#7tQdO'#IWO1XQdO'#IWOOQS'#IW'#IWO#8PQdO'#IVOOQS,5;n,5;nO#8XQdO,5;nO0rQdO'#FUOOQV7+&r7+&rO4iQdO7+&rOOQV7+&w7+&wO4iQdO7+&wO#8^QfO,5;xOOQV7+&|7+&|POOO7+(b7+(bO#8cQdO1G3iOOQS,5<c,5<cO#8qQdO1G3hOOQS-E9u-E9uO#9UQdO,5<dO#9aQdO,5<dO#9tQdO1G3kOOQS-E9v-E9vO#:UQdO1G3kO#:^QdO1G3kO#:nQdO1G3kO#:UQdO1G3kOOQS<<H[<<H[O#:yQtO1G1zOOQS<<Hk<<HkP#;WQdO'#FtO8vQdO1G3bO#;eQdO1G3bO#;jQdO<<HkOOQS<<Hl<<HlO#;zQdO7+)QOOQS<<Hs<<HsO#<[QtO1G1yP#<{QdO'#FsO#=YQdO7+)RO#=jQdO7+)RO#=rQdO<<HwO#=wQdO7+({OOQS<<Hy<<HyO#>nQdO,5<bO'vQdO,5<bOOQS-E9t-E9tOOQS<<Hw<<HwOOQS,5<g,5<gO0rQdO,5<gO#>sQdO1G4OOOQS-E9y-E9yO#?^QdO1G4OO<[QdO'#H{OOOO'#D{'#D{OOOO'#F|'#F|O#?oO&jO,5:fOOOW,5>e,5>eOOOW7+)i7+)iO#?zQdO7+)iO#@SQdO1G2zO#@mQdO1G2zP'vQdO'#FuO0rQdO<<IpO1XQdO1G2YP1XQdO'#GSO#AOQdO7+)pO#AaQdO7+)pOOQS<<Ir<<IrP1XQdO'#GUP0rQdO'#GQOOQS,5;],5;]O#ArQdO,5>mO#BQQdO,5>mOOQS1G0v1G0vOOQS<<Iz<<IzOOQV-E:V-E:VO4iQdO<<JQOOQV,5<s,5<sO4iQdO,5<sOOQV<<JQ<<JQOOQV<<JT<<JTO#BYQtO1G2`P#BdQdO'#GYO#BkQdO7+)uO#BuQgO<<JVO4iQdO<<JVOOQV<<J^<<J^O4iQdO<<J^O!KrQ!fO<<J^O#FpQgO7+&gOOQV<<JW<<JWO#FzQgO<<JWOOQV1G2a1G2aO1XQdO1G2aO#JuQdO1G2aO4iQdO<<JWO1XQdO1G2bP0rQdO'#G[O#KQQdO7+)vO#K_QdO7+)vOOQS'#FT'#FTO0rQdO,5>rO#KgQdO,5>rO#KrQdO,5>rO#K}QdO,5>qO#L`QdO,5>qOOQS1G1Y1G1YOOQS,5;p,5;pOOQV<<Jc<<JcO#LhQdO1G1dOOQS7+)T7+)TP#LmQdO'#FwO#L}QdO1G2OO#MbQdO1G2OO#MrQdO1G2OP#M}QdO'#FxO#N[QdO7+)VO#NlQdO7+)VO#NlQdO7+)VO#NtQdO7+)VO$ UQdO7+(|O8vQdO7+(|OOQSAN>VAN>VO$ oQdO<<LmOOQSAN>cAN>cO0rQdO1G1|O$!PQtO1G1|P$!ZQdO'#FvOOQS1G2R1G2RP$!hQdO'#F{O$!uQdO7+)jO$#`QdO,5>gOOOO-E9z-E9zOOOW<<MT<<MTO$#nQdO7+(fOOQSAN?[AN?[OOQS7+'t7+'tO$$XQdO<<M[OOQS,5<q,5<qO$$jQdO1G4XOOQS-E:T-E:TOOQVAN?lAN?lOOQV1G2_1G2_O4iQdOAN?qO$$xQgOAN?qOOQVAN?xAN?xO4iQdOAN?xOOQV<<JR<<JRO4iQdOAN?rO4iQdO7+'{OOQV7+'{7+'{O1XQdO7+'{OOQVAN?rAN?rOOQS7+'|7+'|O$(sQdO<<MbOOQS1G4^1G4^O0rQdO1G4^OOQS,5<w,5<wO$)QQdO1G4]OOQS-E:Z-E:ZOOQU'#G_'#G_O$)cQfO7+'OO$)nQdO'#F_O$*uQdO7+'jO$+VQdO7+'jOOQS7+'j7+'jO$+bQdO<<LqO$+rQdO<<LqO$+rQdO<<LqO$+zQdO'#H^OOQS<<Lh<<LhO$,UQdO<<LhOOQS7+'h7+'hOOQS'#D|'#D|OOOO1G4R1G4RO$,oQdO1G4RO$,wQdO1G4RP!=hQdO'#GVOOQVG25]G25]O4iQdOG25]OOQVG25dG25dOOQVG25^G25^OOQV<<Kg<<KgO4iQdO<<KgOOQS7+)x7+)xP$-SQdO'#G]OOQU-E:]-E:]OOQV<<Jj<<JjO$-vQtO'#FaOOQS'#Fc'#FcO$.WQdO'#FbO$.xQdO'#FbOOQS'#Fb'#FbO$.}QdO'#IYO$)nQdO'#FiO$)nQdO'#FiO$/fQdO'#FjO$)nQdO'#FkO$/mQdO'#IZOOQS'#IZ'#IZO$0[QdO,5;yOOQS<<KU<<KUO$0dQdO<<KUO$0tQdOANB]O$1UQdOANB]O$1^QdO'#H_OOQS'#H_'#H_O1sQdO'#DcO$1wQdO,5=xOOQSANBSANBSOOOO7+)m7+)mO$2`QdO7+)mOOQVLD*wLD*wOOQVANARANARO5uQ!fO'#GaO$2hQtO,5<SO$)nQdO'#FmOOQS,5<W,5<WOOQS'#Fd'#FdO$3YQdO,5;|O$3_QdO,5;|OOQS'#Fg'#FgO$)nQdO'#G`O$4PQdO,5<QO$4kQdO,5>tO$4{QdO,5>tO1XQdO,5<PO$5^QdO,5<TO$5cQdO,5<TO$)nQdO'#I[O$5hQdO'#I[O$5mQdO,5<UOOQS,5<V,5<VO'vQdO'#FpOOQU1G1e1G1eO4iQdO1G1eOOQSAN@pAN@pO$5rQdOG27wO$6SQdO,59}OOQS1G3d1G3dOOOO<<MX<<MXOOQS,5<{,5<{OOQS-E:_-E:_O$6XQtO'#FaO$6`QdO'#I]O$6nQdO'#I]O$6vQdO,5<XOOQS1G1h1G1hO$6{QdO1G1hO$7QQdO,5<zOOQS-E:^-E:^O$7lQdO,5=OO$8TQdO1G4`OOQS-E:b-E:bOOQS1G1k1G1kOOQS1G1o1G1oO$8eQdO,5>vO$)nQdO,5>vOOQS1G1p1G1pO$8sQtO,5<[OOQU7+'P7+'PO$+zQdO1G/iO$)nQdO,5<YO$8zQdO,5>wO$9RQdO,5>wOOQS1G1s1G1sOOQS7+'S7+'SP$)nQdO'#GdO$9ZQdO1G4bO$9eQdO1G4bO$9mQdO1G4bOOQS7+%T7+%TO$9{QdO1G1tO$:ZQtO'#FaO$:bQdO,5<}OOQS,5<},5<}O$:pQdO1G4cOOQS-E:a-E:aO$)nQdO,5<|O$:wQdO,5<|O$:|QdO7+)|OOQS-E:`-E:`O$;WQdO7+)|O$)nQdO,5<ZP$)nQdO'#GcO$;`QdO1G2hO$)nQdO1G2hP$;nQdO'#GbO$;uQdO<<MhO$<PQdO1G1uO$<_QdO7+(SO8vQdO'#C}O8vQdO,59bO8vQdO,59bO8vQdO,59bO$<mQtO,5=`O8vQdO1G.|O0rQdO1G/XO0rQdO7+$pP$=QQdO'#GOO'vQdO'#GtO$=_QdO,59bO$=dQdO,59bO$=kQdO,59mO$=pQdO1G/UO1sQdO'#DRO8vQdO,59j",stateData:"$>Z~O%cOS%^OSSOS%]PQ~OPdOVaOfoOhYOopOs!POvqO!PrO!Q{O!T!SO!U!RO!XZO!][O!h`O!r`O!s`O!t`O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO#l!QO#o!TO#s!UO#u!VO#z!WO#}hO$P!XO%oRO%pRO%tSO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O~O%]!YO~OV!aO_!aOa!bOh!iO!X!kO!f!mO%j![O%k!]O%l!^O%m!_O%n!_O%o!`O%p!`O%q!aO%r!aO%s!aO~Ok%xXl%xXm%xXn%xXo%xXp%xXs%xXz%xX{%xX!x%xX#g%xX%[%xX%_%xX%z%xXg%xX!T%xX!U%xX%{%xX!W%xX![%xX!Q%xX#[%xXt%xX!m%xX~P%SOfoOhYO!XZO!][O!h`O!r`O!s`O!t`O%oRO%pRO%tSO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O~Oz%wX{%wX#g%wX%[%wX%_%wX%z%wX~Ok!pOl!qOm!oOn!oOo!rOp!sOs!tO!x%wX~P)pOV!zOg!|Oo0cOv0qO!PrO~P'vOV#OOo0cOv0qO!W#PO~P'vOV#SOa#TOo0cOv0qO![#UO~P'vOQ#XO%`#XO%a#ZO~OQ#^OR#[O%`#^O%a#`O~OV%iX_%iXa%iXh%iXk%iXl%iXm%iXn%iXo%iXp%iXs%iXz%iX!X%iX!f%iX%j%iX%k%iX%l%iX%m%iX%n%iX%o%iX%p%iX%q%iX%r%iX%s%iXg%iX!T%iX!U%iX~O&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O{%iX!x%iX#g%iX%[%iX%_%iX%z%iX%{%iX!W%iX![%iX!Q%iX#[%iXt%iX!m%iX~P,eOz#dO{%hX!x%hX#g%hX%[%hX%_%hX%z%hX~Oo0cOv0qO~P'vO#g#gO%[#iO%_#iO~O%uWO~O!T#nO#u!VO#z!WO#}hO~OopO~P'vOV#sOa#tO%uWO{wP~OV#xOo0cOv0qO!Q#yO~P'vO{#{O!x$QO%z#|O#g!yX%[!yX%_!yX~OV#xOo0cOv0qO#g#SX%[#SX%_#SX~P'vOo0cOv0qO#g#WX%[#WX%_#WX~P'vOh$WO%uWO~O!f$YO!r$YO%uWO~OV$eO~P'vO!U$gO#s$hO#u$iO~O{$jO~OV$qO~P'vOS$sO%[$rO%_$rO%c$tO~OV$}Oa$}Og%POo0cOv0qO~P'vOo0cOv0qO{%SO~P'vO&Y%UO~Oa!bOh!iO!X!kO!f!mOVba_bakbalbambanbaobapbasbazba{ba!xba#gba%[ba%_ba%jba%kba%lba%mba%nba%oba%pba%qba%rba%sba%zbagba!Tba!Uba%{ba!Wba![ba!Qba#[batba!mba~On%ZO~Oo%ZO~P'vOo0cO~P'vOk0eOl0fOm0dOn0dOo0mOp0nOs0rOg%wX!T%wX!U%wX%{%wX!W%wX![%wX!Q%wX#[%wX!m%wX~P)pO%{%]Og%vXz%vX!T%vX!U%vX!W%vX{%vX~Og%_Oz%`O!T%dO!U%cO~Og%_O~Oz%gO!T%dO!U%cO!W&SX~O!W%kO~Oz%lO{%nO!T%dO!U%cO![%}X~O![%rO~O![%sO~OQ#XO%`#XO%a%uO~OV%wOo0cOv0qO!PrO~P'vOQ#^OR#[O%`#^O%a%zO~OV!qa_!qaa!qah!qak!qal!qam!qan!qao!qap!qas!qaz!qa{!qa!X!qa!f!qa!x!qa#g!qa%[!qa%_!qa%j!qa%k!qa%l!qa%m!qa%n!qa%o!qa%p!qa%q!qa%r!qa%s!qa%z!qag!qa!T!qa!U!qa%{!qa!W!qa![!qa!Q!qa#[!qat!qa!m!qa~P#yOz%|O{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~P%SOV&OOopOvqO{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~P'vOz%|O{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~OPdOVaOopOvqO!PrO!Q{O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO#g$zX%[$zX%_$zX~P'vO#g#gO%[&TO%_&TO~O!f&UOh&sX%[&sXz&sX#[&sX#g&sX%_&sX#Z&sXg&sX~Oh!iO%[&WO~Okealeameaneaoeapeaseazea{ea!xea#gea%[ea%_ea%zeagea!Tea!Uea%{ea!Wea![ea!Qea#[eatea!mea~P%SOsqazqa{qa#gqa%[qa%_qa%zqa~Ok!pOl!qOm!oOn!oOo!rOp!sO!xqa~PEcO%z&YOz%yX{%yX~O%uWOz%yX{%yX~Oz&]O{wX~O{&_O~Oz%lO#g%}X%[%}X%_%}Xg%}X{%}X![%}X!m%}X%z%}X~OV0lOo0cOv0qO!PrO~P'vO%z#|O#gUa%[Ua%_Ua~Oz&hO#g&PX%[&PX%_&PXn&PX~P%SOz&kO!Q&jO#g#Wa%[#Wa%_#Wa~Oz&lO#[&nO#g&rX%[&rX%_&rXg&rX~O!f$YO!r$YO#Z&qO%uWO~O#Z&qO~Oz&sO#g&tX%[&tX%_&tX~Oz&uO#g&pX%[&pX%_&pX{&pX~O!X&wO%z&xO~Oz&|On&wX~P%SOn'PO~OPdOVaOopOvqO!PrO!Q{O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO%['UO~P'vOt'YO#p'WO#q'XOP#naV#naf#nah#nao#nas#nav#na!P#na!Q#na!T#na!U#na!X#na!]#na!h#na!r#na!s#na!t#na!{#na!}#na#P#na#R#na#T#na#X#na#Z#na#^#na#_#na#a#na#c#na#l#na#o#na#s#na#u#na#z#na#}#na$P#na%X#na%o#na%p#na%t#na%u#na&Z#na&[#na&]#na&^#na&_#na&`#na&a#na&b#na&c#na&d#na&e#na&f#na&g#na&h#na&i#na&j#na%Z#na%_#na~Oz'ZO#[']O{&xX~Oh'_O!X&wO~Oh!iO{$jO!X&wO~O{'eO~P%SO%['hO%_'hO~OS'iO%['hO%_'hO~OV!aO_!aOa!bOh!iO!X!kO!f!mO%l!^O%m!_O%n!_O%o!`O%p!`O%q!aO%r!aO%s!aOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~O%k!]O~P!#uO%kWi~P!#uOV!aO_!aOa!bOh!iO!X!kO!f!mO%o!`O%p!`O%q!aO%r!aO%s!aOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%kWi%lWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~O%m!_O%n!_O~P!&pO%mWi%nWi~P!&pOa!bOh!iO!X!kO!f!mOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%kWi%lWi%mWi%nWi%oWi%pWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~OV!aO_!aO%q!aO%r!aO%s!aO~P!)nOVWi_Wi%qWi%rWi%sWi~P!)nO!T%dO!U%cOg&VXz&VX~O%z'kO%{'kO~P,eOz'mOg&UX~Og'oO~Oz'pO{'rO!W&XX~Oo0cOv0qOz'pO{'sO!W&XX~P'vO!W'uO~Om!oOn!oOo!rOp!sOkjisjizji{ji!xji#gji%[ji%_ji%zji~Ol!qO~P!.aOlji~P!.aOk0eOl0fOm0dOn0dOo0mOp0nO~Ot'wO~P!/jOV'|Og'}Oo0cOv0qO~P'vOg'}Oz(OO~Og(QO~O!U(SO~Og(TOz(OO!T%dO!U%cO~P%SOk0eOl0fOm0dOn0dOo0mOp0nOgqa!Tqa!Uqa%{qa!Wqa![qa!Qqa#[qatqa!mqa~PEcOV'|Oo0cOv0qO!W&Sa~P'vOz(WO!W&Sa~O!W(XO~Oz(WO!T%dO!U%cO!W&Sa~P%SOV(]Oo0cOv0qO![%}a#g%}a%[%}a%_%}ag%}a{%}a!m%}a%z%}a~P'vOz(^O![%}a#g%}a%[%}a%_%}ag%}a{%}a!m%}a%z%}a~O![(aO~Oz(^O!T%dO!U%cO![%}a~P%SOz(dO!T%dO!U%cO![&Ta~P%SOz(gO{&lX![&lX!m&lX%z&lX~O{(kO![(mO!m(nO%z(jO~OV&OOopOvqO{%hi!x%hi#g%hi%[%hi%_%hi%z%hi~P'vOz(pO{%hi!x%hi#g%hi%[%hi%_%hi%z%hi~O!f&UOh&sa%[&saz&sa#[&sa#g&sa%_&sa#Z&sag&sa~O%[(uO~OV#sOa#tO%uWO~Oz&]O{wa~OopOvqO~P'vOz(^O#g%}a%[%}a%_%}ag%}a{%}a![%}a!m%}a%z%}a~P%SOz(zO#g%hX%[%hX%_%hX%z%hX~O%z#|O#gUi%[Ui%_Ui~O#g&Pa%[&Pa%_&Pan&Pa~P'vOz(}O#g&Pa%[&Pa%_&Pan&Pa~O%uWO#g&ra%[&ra%_&rag&ra~Oz)SO#g&ra%[&ra%_&rag&ra~Og)VO~OV)WOh$WO%uWO~O#Z)XO~O%uWO#g&ta%[&ta%_&ta~Oz)ZO#g&ta%[&ta%_&ta~Oo0cOv0qO#g&pa%[&pa%_&pa{&pa~P'vOz)^O#g&pa%[&pa%_&pa{&pa~OV)`Oa)`O%uWO~O%z)eO~Ot)hO#j)gOP#hiV#hif#hih#hio#his#hiv#hi!P#hi!Q#hi!T#hi!U#hi!X#hi!]#hi!h#hi!r#hi!s#hi!t#hi!{#hi!}#hi#P#hi#R#hi#T#hi#X#hi#Z#hi#^#hi#_#hi#a#hi#c#hi#l#hi#o#hi#s#hi#u#hi#z#hi#}#hi$P#hi%X#hi%o#hi%p#hi%t#hi%u#hi&Z#hi&[#hi&]#hi&^#hi&_#hi&`#hi&a#hi&b#hi&c#hi&d#hi&e#hi&f#hi&g#hi&h#hi&i#hi&j#hi%Z#hi%_#hi~Ot)iOP#kiV#kif#kih#kio#kis#kiv#ki!P#ki!Q#ki!T#ki!U#ki!X#ki!]#ki!h#ki!r#ki!s#ki!t#ki!{#ki!}#ki#P#ki#R#ki#T#ki#X#ki#Z#ki#^#ki#_#ki#a#ki#c#ki#l#ki#o#ki#s#ki#u#ki#z#ki#}#ki$P#ki%X#ki%o#ki%p#ki%t#ki%u#ki&Z#ki&[#ki&]#ki&^#ki&_#ki&`#ki&a#ki&b#ki&c#ki&d#ki&e#ki&f#ki&g#ki&h#ki&i#ki&j#ki%Z#ki%_#ki~OV)kOn&wa~P'vOz)lOn&wa~Oz)lOn&wa~P%SOn)pO~O%Y)tO~Ot)wO#p'WO#q)vOP#niV#nif#nih#nio#nis#niv#ni!P#ni!Q#ni!T#ni!U#ni!X#ni!]#ni!h#ni!r#ni!s#ni!t#ni!{#ni!}#ni#P#ni#R#ni#T#ni#X#ni#Z#ni#^#ni#_#ni#a#ni#c#ni#l#ni#o#ni#s#ni#u#ni#z#ni#}#ni$P#ni%X#ni%o#ni%p#ni%t#ni%u#ni&Z#ni&[#ni&]#ni&^#ni&_#ni&`#ni&a#ni&b#ni&c#ni&d#ni&e#ni&f#ni&g#ni&h#ni&i#ni&j#ni%Z#ni%_#ni~OV)zOo0cOv0qO{$jO~P'vOo0cOv0qO{&xa~P'vOz*OO{&xa~OV*SOa*TOg*WO%q*UO%uWO~O{$jO&{*YO~Oh'_O~Oh!iO{$jO~O%[*_O~O%[*aO%_*aO~OV$}Oa$}Oo0cOv0qOg&Ua~P'vOz*dOg&Ua~Oo0cOv0qO{*gO!W&Xa~P'vOz*hO!W&Xa~Oo0cOv0qOz*hO{*kO!W&Xa~P'vOo0cOv0qOz*hO!W&Xa~P'vOz*hO{*kO!W&Xa~Om0dOn0dOo0mOp0nOgjikjisjizji!Tji!Uji%{ji!Wji{ji![ji#gji%[ji%_ji!Qji#[jitji!mji%zji~Ol0fO~P!NkOlji~P!NkOV'|Og*pOo0cOv0qO~P'vOn*rO~Og*pOz*tO~Og*uO~OV'|Oo0cOv0qO!W&Si~P'vOz*vO!W&Si~O!W*wO~OV(]Oo0cOv0qO![%}i#g%}i%[%}i%_%}ig%}i{%}i!m%}i%z%}i~P'vOz*zO!T%dO!U%cO![&Ti~Oz*}O![%}i#g%}i%[%}i%_%}ig%}i{%}i!m%}i%z%}i~O![+OO~Oa+QOo0cOv0qO![&Ti~P'vOz*zO![&Ti~O![+SO~OV+UOo0cOv0qO{&la![&la!m&la%z&la~P'vOz+VO{&la![&la!m&la%z&la~O!]+YO&n+[O![!nX~O![+^O~O{(kO![+_O~O{(kO![+_O!m+`O~OV&OOopOvqO{%hq!x%hq#g%hq%[%hq%_%hq%z%hq~P'vOz$ri{$ri!x$ri#g$ri%[$ri%_$ri%z$ri~P%SOV&OOopOvqO~P'vOV&OOo0cOv0qO#g%ha%[%ha%_%ha%z%ha~P'vOz+aO#g%ha%[%ha%_%ha%z%ha~Oz$ia#g$ia%[$ia%_$ian$ia~P%SO#g&Pi%[&Pi%_&Pin&Pi~P'vOz+dO#g#Wq%[#Wq%_#Wq~O#[+eOz$va#g$va%[$va%_$vag$va~O%uWO#g&ri%[&ri%_&rig&ri~Oz+gO#g&ri%[&ri%_&rig&ri~OV+iOh$WO%uWO~O%uWO#g&ti%[&ti%_&ti~Oo0cOv0qO#g&pi%[&pi%_&pi{&pi~P'vO{#{Oz#eX!W#eX~Oz+mO!W&uX~O!W+oO~Ot+rO#j)gOP#hqV#hqf#hqh#hqo#hqs#hqv#hq!P#hq!Q#hq!T#hq!U#hq!X#hq!]#hq!h#hq!r#hq!s#hq!t#hq!{#hq!}#hq#P#hq#R#hq#T#hq#X#hq#Z#hq#^#hq#_#hq#a#hq#c#hq#l#hq#o#hq#s#hq#u#hq#z#hq#}#hq$P#hq%X#hq%o#hq%p#hq%t#hq%u#hq&Z#hq&[#hq&]#hq&^#hq&_#hq&`#hq&a#hq&b#hq&c#hq&d#hq&e#hq&f#hq&g#hq&h#hq&i#hq&j#hq%Z#hq%_#hq~On$|az$|a~P%SOV)kOn&wi~P'vOz+yOn&wi~Oz,TO{$jO#[,TO~O#q,VOP#nqV#nqf#nqh#nqo#nqs#nqv#nq!P#nq!Q#nq!T#nq!U#nq!X#nq!]#nq!h#nq!r#nq!s#nq!t#nq!{#nq!}#nq#P#nq#R#nq#T#nq#X#nq#Z#nq#^#nq#_#nq#a#nq#c#nq#l#nq#o#nq#s#nq#u#nq#z#nq#}#nq$P#nq%X#nq%o#nq%p#nq%t#nq%u#nq&Z#nq&[#nq&]#nq&^#nq&_#nq&`#nq&a#nq&b#nq&c#nq&d#nq&e#nq&f#nq&g#nq&h#nq&i#nq&j#nq%Z#nq%_#nq~O#[,WOz%Oa{%Oa~Oo0cOv0qO{&xi~P'vOz,YO{&xi~O{#{O%z,[Og&zXz&zX~O%uWOg&zXz&zX~Oz,`Og&yX~Og,bO~O%Y,eO~O!T%dO!U%cOg&Viz&Vi~OV$}Oa$}Oo0cOv0qOg&Ui~P'vO{,hOz$la!W$la~Oo0cOv0qO{,iOz$la!W$la~P'vOo0cOv0qO{*gO!W&Xi~P'vOz,lO!W&Xi~Oo0cOv0qOz,lO!W&Xi~P'vOz,lO{,oO!W&Xi~Og$hiz$hi!W$hi~P%SOV'|Oo0cOv0qO~P'vOn,qO~OV'|Og,rOo0cOv0qO~P'vOV'|Oo0cOv0qO!W&Sq~P'vOz$gi![$gi#g$gi%[$gi%_$gig$gi{$gi!m$gi%z$gi~P%SOV(]Oo0cOv0qO~P'vOa+QOo0cOv0qO![&Tq~P'vOz,sO![&Tq~O![,tO~OV(]Oo0cOv0qO![%}q#g%}q%[%}q%_%}qg%}q{%}q!m%}q%z%}q~P'vO{,uO~OV+UOo0cOv0qO{&li![&li!m&li%z&li~P'vOz,zO{&li![&li!m&li%z&li~O!]+YO&n+[O![!na~O{(kO![,}O~OV&OOo0cOv0qO#g%hi%[%hi%_%hi%z%hi~P'vOz-OO#g%hi%[%hi%_%hi%z%hi~O%uWO#g&rq%[&rq%_&rqg&rq~Oz-RO#g&rq%[&rq%_&rqg&rq~OV)`Oa)`O%uWO!W&ua~Oz-TO!W&ua~On$|iz$|i~P%SOV)kO~P'vOV)kOn&wq~P'vOt-XOP#myV#myf#myh#myo#mys#myv#my!P#my!Q#my!T#my!U#my!X#my!]#my!h#my!r#my!s#my!t#my!{#my!}#my#P#my#R#my#T#my#X#my#Z#my#^#my#_#my#a#my#c#my#l#my#o#my#s#my#u#my#z#my#}#my$P#my%X#my%o#my%p#my%t#my%u#my&Z#my&[#my&]#my&^#my&_#my&`#my&a#my&b#my&c#my&d#my&e#my&f#my&g#my&h#my&i#my&j#my%Z#my%_#my~O%Z-]O%_-]O~P`O#q-^OP#nyV#nyf#nyh#nyo#nys#nyv#ny!P#ny!Q#ny!T#ny!U#ny!X#ny!]#ny!h#ny!r#ny!s#ny!t#ny!{#ny!}#ny#P#ny#R#ny#T#ny#X#ny#Z#ny#^#ny#_#ny#a#ny#c#ny#l#ny#o#ny#s#ny#u#ny#z#ny#}#ny$P#ny%X#ny%o#ny%p#ny%t#ny%u#ny&Z#ny&[#ny&]#ny&^#ny&_#ny&`#ny&a#ny&b#ny&c#ny&d#ny&e#ny&f#ny&g#ny&h#ny&i#ny&j#ny%Z#ny%_#ny~Oz-aO{$jO#[-aO~Oo0cOv0qO{&xq~P'vOz-dO{&xq~O%z,[Og&zaz&za~O{#{Og&zaz&za~OV*SOa*TO%q*UO%uWOg&ya~Oz-hOg&ya~O$S-lO~OV$}Oa$}Oo0cOv0qO~P'vOo0cOv0qO{-mOz$li!W$li~P'vOo0cOv0qOz$li!W$li~P'vO{-mOz$li!W$li~Oo0cOv0qO{*gO~P'vOo0cOv0qO{*gO!W&Xq~P'vOz-pO!W&Xq~Oo0cOv0qOz-pO!W&Xq~P'vOs-sO!T%dO!U%cOg&Oq!W&Oq![&Oqz&Oq~P!/jOa+QOo0cOv0qO![&Ty~P'vOz$ji![$ji~P%SOa+QOo0cOv0qO~P'vOV+UOo0cOv0qO~P'vOV+UOo0cOv0qO{&lq![&lq!m&lq%z&lq~P'vO{(kO![-xO!m-yO%z-wO~OV&OOo0cOv0qO#g%hq%[%hq%_%hq%z%hq~P'vO%uWO#g&ry%[&ry%_&ryg&ry~OV)`Oa)`O%uWO!W&ui~Ot-}OP#m!RV#m!Rf#m!Rh#m!Ro#m!Rs#m!Rv#m!R!P#m!R!Q#m!R!T#m!R!U#m!R!X#m!R!]#m!R!h#m!R!r#m!R!s#m!R!t#m!R!{#m!R!}#m!R#P#m!R#R#m!R#T#m!R#X#m!R#Z#m!R#^#m!R#_#m!R#a#m!R#c#m!R#l#m!R#o#m!R#s#m!R#u#m!R#z#m!R#}#m!R$P#m!R%X#m!R%o#m!R%p#m!R%t#m!R%u#m!R&Z#m!R&[#m!R&]#m!R&^#m!R&_#m!R&`#m!R&a#m!R&b#m!R&c#m!R&d#m!R&e#m!R&f#m!R&g#m!R&h#m!R&i#m!R&j#m!R%Z#m!R%_#m!R~Oo0cOv0qO{&xy~P'vOV*SOa*TO%q*UO%uWOg&yi~O$S-lO%Z.VO%_.VO~OV.aOh._O!X.^O!].`O!h.YO!s.[O!t.[O%p.XO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O~Oo0cOv0qOz$lq!W$lq~P'vO{.fOz$lq!W$lq~Oo0cOv0qO{*gO!W&Xy~P'vOz.gO!W&Xy~Oo0cOv.kO~P'vOs-sO!T%dO!U%cOg&Oy!W&Oy![&Oyz&Oy~P!/jO{(kO![.nO~O{(kO![.nO!m.oO~OV*SOa*TO%q*UO%uWO~Oh.tO!f.rOz$TX#[$TX%j$TXg$TX~Os$TX{$TX!W$TX![$TX~P$-bO%o.vO%p.vOs$UXz$UX{$UX#[$UX%j$UX!W$UXg$UX![$UX~O!h.xO~Oz.|O#[/OO%j.yOs&|X{&|X!W&|Xg&|X~Oa/RO~P$)zOh.tOs&}Xz&}X{&}X#[&}X%j&}X!W&}Xg&}X![&}X~Os/VO{$jO~Oo0cOv0qOz$ly!W$ly~P'vOo0cOv0qO{*gO!W&X!R~P'vOz/ZO!W&X!R~Og&RXs&RX!T&RX!U&RX!W&RX![&RXz&RX~P!/jOs-sO!T%dO!U%cOg&Qa!W&Qa![&Qaz&Qa~O{(kO![/^O~O!f.rOh$[as$[az$[a{$[a#[$[a%j$[a!W$[ag$[a![$[a~O!h/eO~O%o.vO%p.vOs$Uaz$Ua{$Ua#[$Ua%j$Ua!W$Uag$Ua![$Ua~O%j.yOs$Yaz$Ya{$Ya#[$Ya!W$Yag$Ya![$Ya~Os&|a{&|a!W&|ag&|a~P$)nOz/jOs&|a{&|a!W&|ag&|a~O!W/mO~Og/mO~O{/oO~O![/pO~Oo0cOv0qO{*gO!W&X!Z~P'vO{/sO~O%z/tO~P$-bOz/uO#[/OO%j.yOg'PX~Oz/uOg'PX~Og/wO~O!h/xO~O#[/OOs%Saz%Sa{%Sa%j%Sa!W%Sag%Sa![%Sa~O#[/OO%j.yOs%Waz%Wa{%Wa!W%Wag%Wa~Os&|i{&|i!W&|ig&|i~P$)nOz/zO#[/OO%j.yO!['Oa~O{$da~P%SOg'Pa~P$)nOz0SOg'Pa~Oa0UO!['Oi~P$)zOz0WO!['Oi~Oz0WO#[/OO%j.yO!['Oi~O#[/OO%j.yOg$biz$bi~O%z0ZO~P$-bO#[/OO%j.yOg%Vaz%Va~Og'Pi~P$)nO{0^O~Oa0UO!['Oq~P$)zOz0`O!['Oq~O#[/OO%j.yOz%Ui![%Ui~Oa0UO~P$)zOa0UO!['Oy~P$)zO#[/OO%j.yOg$ciz$ci~O#[/OO%j.yOz%Uq![%Uq~Oz+aO#g%ha%[%ha%_%ha%z%ha~P%SOV&OOo0cOv0qO~P'vOn0hO~Oo0hO~P'vO{0iO~Ot0jO~P!/jO&]&Z&j&h&i&g&f&d&e&c&b&`&a&_&^&[%u~",goto:"!=o'QPPPPPP'RP'Z*s+]+v,b,}-kP.YP'Z.y.y'ZPPP'Z2cPPPPPP2c5VPP5VP7g7p=xPP={>m>pPP'Z'ZPP?PPP'Z'ZPP'Z'Z'Z'Z'Z?T?}'ZP@QP@WD_G{HPPHSH^Hb'ZPPPHeHq'RP'R'RP'RP'RP'RP'RP'R'R'RP'RPP'RPP'RP'RPHwITI]PIdIjPIdPIdIdPPPIdPKxPLRL]LcKxPIdLlPIdPLsLyPL}McNQNkL}L}Nq! OL}L}L}L}! d! j! m! r! u!!P!!V!!c!!u!!{!#V!#]!#y!$P!$V!$a!$g!$m!%P!%Z!%a!%g!%q!%w!%}!&T!&Z!&a!&k!&q!&{!'R!'[!'b!'q!'y!(T!([PPPPPPPPPPP!(b!(e!(k!(t!)O!)ZPPPPPPPPPPPP!-}!/c!3c!6sPP!6{!7[!7e!8^!8T!8g!8m!8p!8s!8v!9O!9oPPPPPPPPPPPPPPPPP!9r!9v!9|P!:b!:f!:r!:{!;X!;o!;r!;u!;{!<R!<X!<[P!<d!<m!=i!=l]eOn#g$j)t,P'}`OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0r}!cQ#c#p$R$d$p%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0g!P!dQ#c#p$R$d$p$u%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0g!R!eQ#c#p$R$d$p$u$v%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0g!T!fQ#c#p$R$d$p$u$v$w%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0g!V!gQ#c#p$R$d$p$u$v$w$x%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0g!X!hQ#c#p$R$d$p$u$v$w$x$y%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0g!]!hQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0g'}TOTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0r&cVOYZ[dnprxy}!P!Q!U!i!k!o!p!q!s!t#[#d#g#y#{#}$Q$h$j$}%S%Z%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/Z/s0c0d0e0f0h0i0j0k0n0r%mXOYZ[dnrxy}!P!Q!U!i!k#[#d#g#y#{#}$Q$h$j$}%S%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,s,u,w,y,z-O-d-f-m-p.f.g/Z0i0j0kQ#vqQ/[.kR0o0q't`OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rh#jhz{$W$Z&l&q)S)X+f+g-RW#rq&].k0qQ$]|Q$a!OQ$n!VQ$o!WW$|!i'm*d,gS&[#s#tQ'S$iQ(s&UQ)U&nU)Y&s)Z+jW)a&w+m-T-{Q*Q']W*R'_,`-h.TQ+l)`S,_*S*TQ-Q+eQ-_,TQ-c,WQ.R-al.W-l.^._.a.z.|/R/j/o/t/y0U0Z0^Q/S.`Q/a.tQ/l/OU0P/u0S0[X0V/z0W0_0`R&Z#r!_!wYZ!P!Q!k%S%`%g'p'r's(O(W)g*g*h*k*q*t*v,h,i,k,l,o-m-p.f.g/ZR%^!vQ!{YQ%x#[Q&d#}Q&g$QR,{+YT.j-s/s![!jQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0gQ&X#kQ'c$oR*^'dR'l$|Q%V!mR/_.r'|_OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rS#a_#b!P.[-l.^._.`.a.t.z.|/R/j/o/t/u/y/z0S0U0W0Z0[0^0_0`'|_OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rT#a_#bT#^^#_R(o%xa(l%x(n(o+`,{-y-z.oT+[(k+]R-z,{Q$PsQ+l)aQ,^*RR-e,_X#}s$O$P&fQ&y$aQ'a$nQ'd$oR)s'SQ)b&wV-S+m-T-{ZgOn$j)t,PXkOn)t,PQ$k!TQ&z$bQ&{$cQ'^$mQ'b$oQ)q'RQ)x'WQ){'XQ)|'YQ*Z'`S*]'c'dQ+s)gQ+u)hQ+v)iQ+z)oS+|)r*[Q,Q)vQ,R)wS,S)y)zQ,d*^Q-V+rQ-W+tQ-Y+{S-Z+},OQ-`,UQ-b,VQ-|-XQ.O-[Q.P-^Q.Q-_Q.p-}Q.q.RQ/W.dR/r/XWkOn)t,PR#mjQ'`$nS)r'S'aR,O)sQ,]*RR-f,^Q*['`Q+})rR-[,OZiOjn)t,PQ'f$pR*`'gT-j,e-ku.c-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^t.c-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^Q/S.`X0V/z0W0_0`!P.Z-l.^._.`.a.t.z.|/R/j/o/t/u/y/z0S0U0W0Z0[0^0_0`Q.w.YR/f.xg.z.].{/b/i/n/|0O0Q0]0a0bu.b-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^X.u.W.b/a0PR/c.tV0R/u0S0[R/X.dQnOS#on,PR,P)tQ&^#uR(x&^S%m#R#wS(_%m(bT(b%p&`Q%a!yQ%h!}W(P%a%h(U(YQ(U%eR(Y%jQ&i$RR)O&iQ(e%qQ*{(`T+R(e*{Q'n%OR*e'nS'q%R%SY*i'q*j,m-q.hU*j'r's'tU,m*k*l*mS-q,n,oR.h-rQ#Y]R%t#YQ#_^R%y#_Q(h%vS+W(h+XR+X(iQ+](kR,|+]Q#b_R%{#bQ#ebQ%}#cW&Q#e%}({+bQ({&cR+b0gQ$OsS&e$O&fR&f$PQ&v$_R)_&vQ&V#jR(t&VQ&m$VS)T&m+hR+h)UQ$Z{R&p$ZQ&t$]R)[&tQ+n)bR-U+nQ#hfR&S#hQ)f&zR+q)fQ&}$dS)m&})nR)n'OQ'V$kR)u'VQ'[$lS*P'[,ZR,Z*QQ,a*VR-i,aWjOn)t,PR#ljQ-k,eR.U-kd.{.]/b/i/n/|0O0Q0]0a0bR/h.{U.s.W/a0PR/`.sQ/{/nS0X/{0YR0Y/|S/v/b/cR0T/vQ.}.]R/k.}R!ZPXmOn)t,PWlOn)t,PR'T$jYfOn$j)t,PR&R#g[sOn#g$j)t,PR&d#}&bQOYZ[dnprxy}!P!Q!U!i!k!o!p!q!s!t#[#d#g#y#{#}$Q$h$j$}%S%Z%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/Z/s0c0d0e0f0h0i0j0k0n0rQ!nTQ#caQ#poU$Rt%c(SS$d!R$gQ$p!XQ$u!cQ$v!dQ$w!eQ$x!fQ$y!gQ$z!hQ%e!zQ%j#OQ%p#SQ%q#TQ&`#xQ'O$eQ'g$qQ(q&OU(|&h(}+cW)j&|)l+x+yQ*o'|Q*x(]Q+w)kQ,v+QQ/q/VR0g0lQ!yYQ!}ZQ$b!PQ$c!QQ%R!kQ't%S^'{%`%g(O(W*q*t*v^*f'p*h,k,l-p.g/ZQ*l'rQ*m'sQ+t)gQ,j*gQ,n*kQ-n,hQ-o,iQ-r,oQ.e-mR/Y.f[bOn#g$j)t,P!^!vYZ!P!Q!k%S%`%g'p'r's(O(W)g*g*h*k*q*t*v,h,i,k,l,o-m-p.f.g/ZQ#R[Q#fdS#wrxQ$UyW$_}$Q'P)pS$l!U$hW${!i'm*d,gS%v#[+Y`&P#d%|(p(r(z+a-O0kQ&a#yQ&b#{Q&c#}Q'j$}Q'z%^W([%l(^*y*}Q(`%nQ(i%wQ(v&ZS(y&_0iQ)P&jQ)Q&kU)]&u)^+kQ)d&xQ)y'WY)}'Z*O,X,Y-dQ*b'lS*n'w0jW+P(d*z,s,wW+T(g+V,y,zQ+p)eQ,U)zQ,c*YQ,x+UQ-P+dQ-e,]Q-v,uR.S-fhUOn#d#g$j%|&_'w(p(r)t,P%S!uYZ[drxy}!P!Q!U!i!k#[#y#{#}$Q$h$}%S%^%`%g%l%n%w&Z&j&k&u&x'P'W'Z'l'm'p'r's(O(W(^(d(g(z)^)e)g)p)z*O*Y*d*g*h*k*q*t*v*y*z*}+U+V+Y+a+d+k,X,Y,],g,h,i,k,l,o,s,u,w,y,z-O-d-f-m-p.f.g/Z0i0j0kQ#qpW%W!o!s0d0nQ%X!pQ%Y!qQ%[!tQ%f0cS'v%Z0hQ'x0eQ'y0fQ,p*rQ-u,qS.i-s/sR0p0rU#uq.k0qR(w&][cOn#g$j)t,PZ!xY#[#}$Q+YQ#W[Q#zrR$TxQ%b!yQ%i!}Q%o#RQ'j${Q(V%eQ(Z%jQ(c%pQ(f%qQ*|(`Q,f*bQ-t,pQ.m-uR/].lQ$StQ(R%cR*s(SQ.l-sR/}/sR#QZR#V[R%Q!iQ%O!iV*c'm*d,g!]!lQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0gR%T!kT#]^#_Q%x#[R,{+YQ(m%xS+_(n(oQ,}+`Q-x,{S.n-y-zR/^.oT+Z(k+]Q$`}Q&g$QQ)o'PR+{)pQ$XzQ)W&qR+i)XQ$XzQ&o$WQ)W&qR+i)XQ#khW$Vz$W&q)XQ$[{Q&r$ZZ)R&l)S+f+g-RR$^|R)c&wXlOn)t,PQ$f!RR'Q$gQ$m!UR'R$hR*X'_Q*V'_V-g,`-h.TQ.d-lQ/P.^R/Q._U.]-l.^._Q/U.aQ/b.tQ/g.zU/i.|/j/yQ/n/RQ/|/oQ0O/tU0Q/u0S0[Q0]0UQ0a0ZR0b0^R/T.`R/d.t",nodeNames:"⚠ print Escape { Comment Script AssignStatement * BinaryExpression BitOp BitOp BitOp BitOp ArithOp ArithOp @ ArithOp ** UnaryExpression ArithOp BitOp AwaitExpression await ) ( ParenthesizedExpression BinaryExpression or and CompareOp in not is UnaryExpression ConditionalExpression if else LambdaExpression lambda ParamList VariableName AssignOp , : NamedExpression AssignOp YieldExpression yield from TupleExpression ComprehensionExpression async for LambdaExpression ] [ ArrayExpression ArrayComprehensionExpression } { DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression CallExpression ArgList AssignOp MemberExpression . PropertyName Number String FormatString FormatReplacement FormatSelfDoc FormatConversion FormatSpec FormatReplacement FormatSelfDoc ContinuedString Ellipsis None Boolean TypeDef AssignOp UpdateStatement UpdateOp ExpressionStatement DeleteStatement del PassStatement pass BreakStatement break ContinueStatement continue ReturnStatement return YieldStatement PrintStatement RaiseStatement raise ImportStatement import as ScopeStatement global nonlocal AssertStatement assert TypeDefinition type TypeParamList TypeParam StatementGroup ; IfStatement Body elif WhileStatement while ForStatement TryStatement try except finally WithStatement with FunctionDefinition def ParamList AssignOp TypeDef ClassDefinition class DecoratedStatement Decorator At MatchStatement match MatchBody MatchClause case CapturePattern LiteralPattern ArithOp ArithOp AsPattern OrPattern LogicOp AttributePattern SequencePattern MappingPattern StarPattern ClassPattern PatternArgList KeywordPattern KeywordPattern Guard",maxTerm:277,context:PSe,nodeProps:[["isolate",-5,4,71,72,73,77,""],["group",-15,6,85,87,88,90,92,94,96,98,99,100,102,105,108,110,"Statement Statement",-22,8,18,21,25,40,49,50,56,57,60,61,62,63,64,67,70,71,72,79,80,81,82,"Expression",-10,114,116,119,121,122,126,128,133,135,138,"Statement",-9,143,144,147,148,150,151,152,153,154,"Pattern"],["openedBy",23,"(",54,"[",58,"{"],["closedBy",24,")",55,"]",59,"}"]],propSources:[RSe],skippedNodes:[0,4],repeatNodeCount:34,tokenData:"!2|~R!`OX%TXY%oY[%T[]%o]p%Tpq%oqr'ars)Yst*xtu%Tuv,dvw-hwx.Uxy/tyz0[z{0r{|2S|}2p}!O3W!O!P4_!P!Q:Z!Q!R;k!R![>_![!]Do!]!^Es!^!_FZ!_!`Gk!`!aHX!a!b%T!b!cIf!c!dJU!d!eK^!e!hJU!h!i!#f!i!tJU!t!u!,|!u!wJU!w!x!.t!x!}JU!}#O!0S#O#P&o#P#Q!0j#Q#R!1Q#R#SJU#S#T%T#T#UJU#U#VK^#V#YJU#Y#Z!#f#Z#fJU#f#g!,|#g#iJU#i#j!.t#j#oJU#o#p!1n#p#q!1s#q#r!2a#r#s!2f#s$g%T$g;'SJU;'S;=`KW<%lOJU`%YT&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T`%lP;=`<%l%To%v]&n`%c_OX%TXY%oY[%T[]%o]p%Tpq%oq#O%T#O#P&o#P#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To&tX&n`OY%TYZ%oZ]%T]^%o^#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc'f[&n`O!_%T!_!`([!`#T%T#T#U(r#U#f%T#f#g(r#g#h(r#h#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc(cTmR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc(yT!mR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk)aV&n`&[ZOr%Trs)vs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk){V&n`Or%Trs*bs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk*iT&n`&^ZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To+PZS_&n`OY*xYZ%TZ]*x]^%T^#o*x#o#p+r#p#q*x#q#r+r#r;'S*x;'S;=`,^<%lO*x_+wTS_OY+rZ]+r^;'S+r;'S;=`,W<%lO+r_,ZP;=`<%l+ro,aP;=`<%l*xj,kV%rQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj-XT!xY&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj-oV%lQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk.]V&n`&ZZOw%Twx.rx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk.wV&n`Ow%Twx/^x#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk/eT&n`&]ZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk/{ThZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc0cTgR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk0yXVZ&n`Oz%Tz{1f{!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk1mVaR&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk2ZV%oZ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc2wTzR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To3_W%pZ&n`O!_%T!_!`-Q!`!a3w!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Td4OT&{S&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk4fX!fQ&n`O!O%T!O!P5R!P!Q%T!Q![6T![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk5WV&n`O!O%T!O!P5m!P#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk5tT!rZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti6[a!hX&n`O!Q%T!Q![6T![!g%T!g!h7a!h!l%T!l!m9s!m#R%T#R#S6T#S#X%T#X#Y7a#Y#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti7fZ&n`O{%T{|8X|}%T}!O8X!O!Q%T!Q![8s![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti8^V&n`O!Q%T!Q![8s![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti8z]!hX&n`O!Q%T!Q![8s![!l%T!l!m9s!m#R%T#R#S8s#S#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti9zT!hX&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk:bX%qR&n`O!P%T!P!Q:}!Q!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj;UV%sQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti;ro!hX&n`O!O%T!O!P=s!P!Q%T!Q![>_![!d%T!d!e?q!e!g%T!g!h7a!h!l%T!l!m9s!m!q%T!q!rA]!r!z%T!z!{Bq!{#R%T#R#S>_#S#U%T#U#V?q#V#X%T#X#Y7a#Y#^%T#^#_9s#_#c%T#c#dA]#d#l%T#l#mBq#m#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti=xV&n`O!Q%T!Q![6T![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti>fc!hX&n`O!O%T!O!P=s!P!Q%T!Q![>_![!g%T!g!h7a!h!l%T!l!m9s!m#R%T#R#S>_#S#X%T#X#Y7a#Y#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti?vY&n`O!Q%T!Q!R@f!R!S@f!S#R%T#R#S@f#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti@mY!hX&n`O!Q%T!Q!R@f!R!S@f!S#R%T#R#S@f#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiAbX&n`O!Q%T!Q!YA}!Y#R%T#R#SA}#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiBUX!hX&n`O!Q%T!Q!YA}!Y#R%T#R#SA}#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiBv]&n`O!Q%T!Q![Co![!c%T!c!iCo!i#R%T#R#SCo#S#T%T#T#ZCo#Z#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiCv]!hX&n`O!Q%T!Q![Co![!c%T!c!iCo!i#R%T#R#SCo#S#T%T#T#ZCo#Z#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%ToDvV{_&n`O!_%T!_!`E]!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TcEdT%{R&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkEzT#gZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkFbXmR&n`O!^%T!^!_F}!_!`([!`!a([!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TjGUV%mQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkGrV%zZ&n`O!_%T!_!`([!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkH`WmR&n`O!_%T!_!`([!`!aHx!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TjIPV%nQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkIoV_Q#}P&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%ToJ_]&n`&YS%uZO!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUoKZP;=`<%lJUoKge&n`&YS%uZOr%Trs)Ysw%Twx.Ux!Q%T!Q![JU![!c%T!c!tJU!t!uLx!u!}JU!}#R%T#R#SJU#S#T%T#T#fJU#f#gLx#g#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUoMRa&n`&YS%uZOr%TrsNWsw%Twx! vx!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUkN_V&n`&`ZOr%TrsNts#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkNyV&n`Or%Trs! `s#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk! gT&n`&bZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk! }V&n`&_ZOw%Twx!!dx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!!iV&n`Ow%Twx!#Ox#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!#VT&n`&aZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!#oe&n`&YS%uZOr%Trs!%Qsw%Twx!&px!Q%T!Q![JU![!c%T!c!tJU!t!u!(`!u!}JU!}#R%T#R#SJU#S#T%T#T#fJU#f#g!(`#g#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!%XV&n`&dZOr%Trs!%ns#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!%sV&n`Or%Trs!&Ys#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!&aT&n`&fZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!&wV&n`&cZOw%Twx!'^x#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!'cV&n`Ow%Twx!'xx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!(PT&n`&eZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!(ia&n`&YS%uZOr%Trs!)nsw%Twx!+^x!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!)uV&n`&hZOr%Trs!*[s#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!*aV&n`Or%Trs!*vs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!*}T&n`&jZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!+eV&n`&gZOw%Twx!+zx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!,PV&n`Ow%Twx!,fx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!,mT&n`&iZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!-Vi&n`&YS%uZOr%TrsNWsw%Twx! vx!Q%T!Q![JU![!c%T!c!dJU!d!eLx!e!hJU!h!i!(`!i!}JU!}#R%T#R#SJU#S#T%T#T#UJU#U#VLx#V#YJU#Y#Z!(`#Z#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUo!.}a&n`&YS%uZOr%Trs)Ysw%Twx.Ux!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!0ZT!XZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc!0qT!WR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj!1XV%kQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T~!1sO!]~k!1zV%jR&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T~!2fO![~i!2mT%tX&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T",tokenizers:[CSe,kSe,SSe,ESe,0,1,2,3,4],topRules:{Script:[0,5]},specialized:[{term:221,get:n=>QSe[n]||-1}],tokenPrec:7675}),ISe=1024;let $Se=0,t_=class{constructor(e,t){this.from=e,this.to=t}},$t=class{constructor(e={}){this.id=$Se++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Fo.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}};$t.closedBy=new $t({deserialize:n=>n.split(" ")});$t.openedBy=new $t({deserialize:n=>n.split(" ")});$t.group=new $t({deserialize:n=>n.split(" ")});$t.isolate=new $t({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});$t.contextHash=new $t({perNode:!0});$t.lookAhead=new $t({perNode:!0});$t.mounted=new $t({perNode:!0});let Vw=class{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[$t.mounted.id]}};const jSe=Object.create(null);let Fo=class I6{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):jSe,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new I6(e.name||"",t,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop($t.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop($t.group),s=-1;s<(i?i.length:0);s++){let o=t[s<0?r.name:i[s]];if(o)return o}}}};Fo.none=new Fo("",Object.create(null),0,8);const M0=new WeakMap,p4=new WeakMap;var Jn;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(Jn||(Jn={}));let Mi=class GC{constructor(e,t,r,i,s){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=Vw.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new HC(this.topNode,e)}cursorAt(e,t=0,r=0){let i=M0.get(this)||this.topNode,s=new HC(i);return s.moveTo(e,t),M0.set(this,s._tree),s}get topNode(){return new Zo(this,0,0,null)}resolve(e,t=0){let r=oO(M0.get(this)||this.topNode,e,t,!1);return M0.set(this,r),r}resolveInner(e,t=0){let r=oO(p4.get(this)||this.topNode,e,t,!0);return p4.set(this,r),r}resolveStack(e,t=0){return LSe(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:s=this.length}=e,o=e.mode||0,a=(o&Jn.IncludeAnonymous)>0;for(let l=this.cursor(o|Jn.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=i&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:wN(Fo.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new GC(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new GC(Fo.none,t,r,i)))}static build(e){return USe(e)}};Mi.empty=new Mi(Fo.none,[],[],0);let DSe=class $6{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new $6(this.buffer,this.index)}},mf=class j6{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return Fo.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(D6(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,t,r){let i=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=i[a++],s[l++]=i[a++]-r;let c=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,c)}return new j6(s,o,this.set)}};function D6(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function oO(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!r&&n instanceof Zo&&n.index<0?null:n.parent;if(!o)return n;n=o}let s=r?0:Jn.IgnoreOverlays;if(r)for(let o=n,a=o.parent;a;o=a,a=o.parent)o instanceof Zo&&o.index<0&&((i=a.enter(e,t,s))===null||i===void 0?void 0:i.from)!=o.from&&(n=a);for(;;){let o=n.enter(e,t,s);if(!o)return n;n=o}}let M6=class{cursor(e=0){return new HC(this,e)}getChild(e,t=null,r=null){let i=m4(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return m4(this,e,t,r)}resolve(e,t=0){return oO(this,e,t,!1)}resolveInner(e,t=0){return oO(this,e,t,!0)}matchContext(e){return YC(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}},Zo=class Uv extends M6{constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=t>0?a.length:-1;e!=c;e+=t){let u=a[e],d=l[e]+o.from;if(D6(i,r,d,d+u.length)){if(u instanceof mf){if(s&Jn.ExcludeBuffers)continue;let f=u.findChild(0,u.buffer.length,t,r-d,i);if(f>-1)return new aO(new MSe(o,u,e,d),null,f)}else if(s&Jn.IncludeAnonymous||!u.type.isAnonymous||xN(u)){let f;if(!(s&Jn.IgnoreMounts)&&(f=Vw.get(u))&&!f.overlay)return new Uv(f.tree,d,e,o);let m=new Uv(u,d,e,o);return s&Jn.IncludeAnonymous||!m.type.isAnonymous?m:m.nextChild(t<0?u.children.length-1:0,t,r,i)}}}if(s&Jn.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&Jn.IgnoreOverlays)&&(i=Vw.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:o,to:a}of i.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new Uv(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function m4(n,e,t,r){let i=n.cursor(),s=[];if(!i.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=i.type.is(t),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function YC(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}let MSe=class{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}},aO=class mm extends M6{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return s<0?null:new mm(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&Jn.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new mm(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new mm(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new mm(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),t.push(0)}return new Mi(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function V6(n){if(!n.length)return null;let e=0,t=n[0];for(let s=1;s<n.length;s++){let o=n[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let r=t instanceof Zo&&t.index<0?null:t.parent,i=n.slice();return r?i[e]=r:i.splice(e,1),new VSe(i,t)}let VSe=class{constructor(e,t){this.heads=e,this.node=t}get next(){return V6(this.heads)}};function LSe(n,e,t){let r=n.resolveInner(e,t),i=null;for(let s=r instanceof Zo?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[r])).push(o.resolve(e,t)),s=o}else{let o=Vw.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new Zo(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(oO(a,e,t,!1))}}return i?V6(i):r}let HC=class{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Zo)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof Zo?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&Jn.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Jn.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Jn.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let s=t+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&Jn.IncludeAnonymous||a instanceof mf||!a.type.isAnonymous||xN(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;t=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)t=new aO(this.buffer,t,this.stack[i]);return this.bufferNode=new aO(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return YC(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return YC(this._tree,e,i);let o=r[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}};function xN(n){return n.children.some(e=>e instanceof mf||!e.type.isAnonymous||xN(e))}function USe(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=ISe,reused:s=[],minRepeatType:o=r.types.length}=n,a=Array.isArray(t)?new DSe(t,t.length):t,l=r.types,c=0,u=0;function d(C,N,O,T,S,A){let{id:_,start:v,end:E,size:j}=a,V=u,U=c;for(;j<0;)if(a.next(),j==-1){let Z=s[_];O.push(Z),T.push(v-C);return}else if(j==-3){c=_;return}else if(j==-4){u=_;return}else throw new RangeError(`Unrecognized record size: ${j}`);let X=l[_],D,L,Y=v-C;if(E-v<=i&&(L=x(a.pos-N,S))){let Z=new Uint16Array(L.size-L.skip),F=a.pos-L.size,B=Z.length;for(;a.pos>F;)B=w(L.start,Z,B);D=new mf(Z,E-L.start,r),Y=L.start-C}else{let Z=a.pos-j;a.next();let F=[],B=[],J=_>=o?_:-1,ae=0,oe=E;for(;a.pos>Z;)J>=0&&a.id==J&&a.size>=0?(a.end<=oe-i&&(g(F,B,v,ae,a.end,oe,J,V,U),ae=F.length,oe=a.end),a.next()):A>2500?f(v,Z,F,B):d(v,Z,F,B,J,A+1);if(J>=0&&ae>0&&ae<F.length&&g(F,B,v,ae,v,oe,J,V,U),F.reverse(),B.reverse(),J>-1&&ae>0){let ie=m(X,U);D=wN(X,F,B,0,F.length,0,E-v,ie,ie)}else D=y(X,F,B,E-v,V-E,U)}O.push(D),T.push(Y)}function f(C,N,O,T){let S=[],A=0,_=-1;for(;a.pos>N;){let{id:v,start:E,end:j,size:V}=a;if(V>4)a.next();else{if(_>-1&&E<_)break;_<0&&(_=j-i),S.push(v,E,j),A++,a.next()}}if(A){let v=new Uint16Array(A*4),E=S[S.length-2];for(let j=S.length-3,V=0;j>=0;j-=3)v[V++]=S[j],v[V++]=S[j+1]-E,v[V++]=S[j+2]-E,v[V++]=V;O.push(new mf(v,S[2]-E,r)),T.push(E-C)}}function m(C,N){return(O,T,S)=>{let A=0,_=O.length-1,v,E;if(_>=0&&(v=O[_])instanceof Mi){if(!_&&v.type==C&&v.length==S)return v;(E=v.prop($t.lookAhead))&&(A=T[_]+v.length+E)}return y(C,O,T,S,A,N)}}function g(C,N,O,T,S,A,_,v,E){let j=[],V=[];for(;C.length>T;)j.push(C.pop()),V.push(N.pop()+O-S);C.push(y(r.types[_],j,V,A-S,v-A,E)),N.push(S-O)}function y(C,N,O,T,S,A,_){if(A){let v=[$t.contextHash,A];_=_?[v].concat(_):[v]}if(S>25){let v=[$t.lookAhead,S];_=_?[v].concat(_):[v]}return new Mi(C,N,O,T,_)}function x(C,N){let O=a.fork(),T=0,S=0,A=0,_=O.end-i,v={size:0,start:0,skip:0};e:for(let E=O.pos-C;O.pos>E;){let j=O.size;if(O.id==N&&j>=0){v.size=T,v.start=S,v.skip=A,A+=4,T+=4,O.next();continue}let V=O.pos-j;if(j<0||V<E||O.start<_)break;let U=O.id>=o?4:0,X=O.start;for(O.next();O.pos>V;){if(O.size<0)if(O.size==-3)U+=4;else break e;else O.id>=o&&(U+=4);O.next()}S=X,T+=j,A+=U}return(N<0||T==C)&&(v.size=T,v.start=S,v.skip=A),v.size>4?v:void 0}function w(C,N,O){let{id:T,start:S,end:A,size:_}=a;if(a.next(),_>=0&&T<o){let v=O;if(_>4){let E=a.pos-(_-4);for(;a.pos>E;)O=w(C,N,O)}N[--O]=v,N[--O]=A-C,N[--O]=S-C,N[--O]=T}else _==-3?c=T:_==-4&&(u=T);return O}let k=[],P=[];for(;a.pos>0;)d(n.start||0,n.bufferStart||0,k,P,-1,0);let Q=(e=n.length)!==null&&e!==void 0?e:k.length?P[0]+k[0].length:0;return new Mi(l[n.topID],k.reverse(),P.reverse(),Q)}const g4=new WeakMap;function zv(n,e){if(!n.isAnonymous||e instanceof mf||e.type!=n)return 1;let t=g4.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof Mi)){t=1;break}t+=zv(n,r)}g4.set(e,t)}return t}function wN(n,e,t,r,i,s,o,a,l){let c=0;for(let g=r;g<i;g++)c+=zv(n,e[g]);let u=Math.ceil(c*1.5/8),d=[],f=[];function m(g,y,x,w,k){for(let P=x;P<w;){let Q=P,C=y[P],N=zv(n,g[P]);for(P++;P<w;P++){let O=zv(n,g[P]);if(N+O>=u)break;N+=O}if(P==Q+1){if(N>u){let O=g[Q];m(O.children,O.positions,0,O.children.length,y[Q]+k);continue}d.push(g[Q])}else{let O=y[P-1]+g[P-1].length-C;d.push(wN(n,g,y,Q,P,C,O,null,l))}f.push(C+k-s)}}return m(e,t,r,i,0),(a||l)(d,f,o)}let zSe=class{constructor(){this.map=new WeakMap}setBuffer(e,t,r){let i=this.map.get(e);i||this.map.set(e,i=new Map),i.set(t,r)}getBuffer(e,t){let r=this.map.get(e);return r&&r.get(t)}set(e,t){e instanceof aO?this.setBuffer(e.context.buffer,e.index,t):e instanceof Zo&&this.map.set(e.tree,t)}get(e){return e instanceof aO?this.getBuffer(e.context.buffer,e.index):e instanceof Zo?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}},qv=class KC{constructor(e,t,r,i,s=!1,o=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],r=!1){let i=[new KC(0,e.length,e,0,!1,r)];for(let s of t)s.to>e.length&&i.push(s);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let u=a<t.length?t[a]:null,d=u?u.fromA:1e9;if(d-l>=r)for(;o&&o.from<d;){let f=o;if(l>=f.from||d<=f.to||c){let m=Math.max(f.from,l)-c,g=Math.min(f.to,d)-c;f=m>=g?null:new KC(m,g,f.tree,f.offset+c,a>0,!!u)}if(f&&i.push(f),o.to>d)break;o=s<e.length?e[s++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return i}},qSe=class{startParse(e,t,r){return typeof e=="string"&&(e=new FSe(e)),r=r?r.length?r.map(i=>new t_(i.from,i.to)):[new t_(0,0)]:[new t_(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let s=i.advance();if(s)return s}}},FSe=class{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}};new $t({perNode:!0});var n_;const Jh=new $t;function ZSe(n){return de.define({combine:n?e=>e.concat(n):void 0})}const BSe=new $t;let Cs=class{constructor(e,t,r=[],i=""){this.data=e,this.name=i,Ve.prototype.hasOwnProperty("tree")||Object.defineProperty(Ve.prototype,"tree",{get(){return lO(this)}}),this.parser=t,this.extension=[gf.of(this),Ve.languageData.of((s,o,a)=>{let l=O4(s,o,a),c=l.type.prop(Jh);if(!c)return[];let u=s.facet(c),d=l.type.prop(BSe);if(d){let f=l.resolve(o-l.from,a);for(let m of d)if(m.test(f,s)){let g=s.facet(m.facet);return m.type=="replace"?g:g.concat(u)}}return u})].concat(r)}isActiveAt(e,t,r=-1){return O4(e,t,r).type.prop(Jh)==this.data}findRegions(e){let t=e.facet(gf);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let r=[],i=(s,o)=>{if(s.prop(Jh)==this.data){r.push({from:o,to:o+s.length});return}let a=s.prop($t.mounted);if(a){if(a.tree.prop(Jh)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+o,to:l.to+o});else r.push({from:o,to:o+s.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+o),r.length>l)return}}for(let l=0;l<s.children.length;l++){let c=s.children[l];c instanceof Mi&&i(c,s.positions[l]+o)}};return i(lO(e),0),r}get allowsNesting(){return!0}};Cs.setState=Me.define();function O4(n,e,t){let r=n.facet(gf),i=lO(n).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,t,Jn.ExcludeBuffers))s.type.isTop&&(i=s);return i}let WSe=class JC extends Cs{constructor(e,t,r){super(e,t,[],r),this.parser=t}static define(e){let t=ZSe(e.languageData);return new JC(t,e.parser.configure({props:[Jh.add(r=>r.isTop?t:void 0)]}),e.name)}configure(e,t){return new JC(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}};function lO(n){let e=n.field(Cs.state,!1);return e?e.tree:Mi.empty}let XSe=class{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}},Vp=null,GSe=class eE{constructor(e,t,r=[],i,s,o,a,l){this.parser=e,this.state=t,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new eE(e,t,[],Mi.empty,0,r,[],null)}startParse(){return this.parser.startParse(new XSe(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=Mi.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(qv.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(qv.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=Vp;Vp=this;try{return e()}finally{Vp=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=y4(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:i,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,u,d,f)=>l.push({fromA:c,toA:u,fromB:d,toB:f})),r=qv.applyChanges(r,l),i=Mi.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),d=e.mapPos(c.to,-1);u<d&&a.push({from:u,to:d})}}}return new eE(this.parser,t,r,i,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=y4(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends qSe{createParse(t,r,i){let s=i[0].from,o=i[i.length-1].to;return{parsedPos:s,advance(){let l=Vp;if(l){for(let c of i)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new Mi(Fo.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return Vp}};function y4(n,e,t){return qv.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}let tE=class nE{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new nE(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=GSe.create(e.facet(gf).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new nE(r)}};Cs.state=Xt.define({create:tE.init,update(n,e){for(let t of e.effects)if(t.is(Cs.setState))return t.value;return e.startState.facet(gf)!=e.state.facet(gf)?tE.init(e.state):n.apply(e)}});let L6=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(L6=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const r_=typeof navigator<"u"&&(!((n_=navigator.scheduling)===null||n_===void 0)&&n_.isInputPending)?()=>navigator.scheduling.isInputPending():null,YSe=Vt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Cs.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Cs.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=L6(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(Cs.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!r_?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<i&&r.doc.length>i+1e3,l=s.context.work(()=>r_&&r_()||Date.now()>o,i+(a?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Cs.setState.of(new tE(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>Rn(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),gf=de.define({combine(n){return n.length?n[0]:null},enables:n=>[Cs.state,YSe,fe.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});let HSe=class{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}};const KSe=de.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}}),JSe=new $t;function e1e(n){let e=n.node,t=e.childAfter(e.from),r=e.lastChild;if(!t)return null;let i=n.options.simulateBreak,s=n.state.doc.lineAt(t.from),o=i==null||i<=s.from?s.to:Math.min(s.to,i);for(let a=t.to;;){let l=e.childAfter(a);if(!l||l==r)return null;if(!l.type.isSkipped){if(l.from>=o)return null;let c=/^ */.exec(s.text.slice(t.to-s.from))[0].length;return{from:t.from,to:t.to+c}}a=l.to}}function i_({closing:n,align:e=!0,units:t=1}){return r=>t1e(r,e,t,n)}function t1e(n,e,t,r,i){let s=n.textAfter,o=s.match(/^\s*/)[0].length,a=r&&s.slice(o,o+r.length)==r||i==n.pos+o,l=e?e1e(n):null;return l?a?n.column(l.from):n.column(l.to):n.baseIndent+(a?0:n.unit*t)}const n1e=new $t;function r1e(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}let i1e=class U6{constructor(e,t){this.specs=e;let r;function i(a){let l=Nn.newName();return(r||(r=Object.create(null)))["."+l]=a,l}const s=typeof t.all=="string"?t.all:t.all?i(t.all):void 0,o=t.scope;this.scope=o instanceof Cs?a=>a.prop(Jh)==o.data:o?a=>a==o:void 0,this.style=Zc(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=r?new Nn(r):null,this.themeType=t.themeType}static define(e,t){return new U6(e,t||{})}};$.meta,$.link,$.heading,$.emphasis,$.strong,$.strikethrough,$.keyword,$.atom,$.bool,$.url,$.contentSeparator,$.labelName,$.literal,$.inserted,$.string,$.deleted,$.regexp,$.escape,$.string,$.variableName,$.variableName,$.typeName,$.namespace,$.className,$.variableName,$.macroName,$.propertyName,$.comment,$.invalid;const s1e=Object.create(null),v4=[Fo.none],x4=[],w4=Object.create(null),o1e=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])o1e[n]=a1e(s1e,e);function s_(n,e){x4.indexOf(n)>-1||(x4.push(n),console.warn(e))}function a1e(n,e){let t=[];for(let a of e.split(" ")){let l=[];for(let c of a.split(".")){let u=n[c]||$[c];u?typeof u=="function"?l.length?l=l.map(u):s_(c,`Modifier ${c} used at start of tag`):l.length?s_(c,`Tag ${c} used as modifier`):l=Array.isArray(u)?u:[u]:s_(c,`Unknown highlighting tag ${c}`)}for(let c of l)t.push(c)}if(!t.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+t.map(a=>a.id),s=w4[i];if(s)return s.id;let o=w4[i]=Fo.define({id:v4.length,name:r,props:[Gi({[r]:t})]});return v4.push(o),o.id}it.RTL,it.LTR;function b4(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function l1e(n){let e=Object.create(null),t=Object.create(null);for(let{label:i}of n){e[i[0]]=!0;for(let s=1;s<i.length;s++)t[i[s]]=!0}let r=b4(e)+b4(t)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function c1e(n){let e=n.map(i=>typeof i=="string"?{label:i}:i),[t,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:l1e(e);return i=>{let s=i.matchBefore(r);return s||i.explicit?{from:s?s.from:i.pos,options:e,validFor:t}:null}}function u1e(n,e){return t=>{for(let r=lO(t.state).resolveInner(t.pos,-1);r;r=r.parent){if(n.indexOf(r.name)>-1)return null;if(r.type.isTop)break}return e(t)}}const h1e=Hs.define(),d1e=fe.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class f1e{constructor(e,t,r,i){this.field=e,this.line=t,this.from=r,this.to=i}}class bN{constructor(e,t,r){this.field=e,this.from=t,this.to=r}map(e){let t=e.mapPos(this.from,-1,qn.TrackDel),r=e.mapPos(this.to,1,qn.TrackDel);return t==null||r==null?null:new bN(this.field,t,r)}}class SN{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let r=[],i=[t],s=e.doc.lineAt(t),o=/^\s*/.exec(s.text)[0];for(let l of this.lines){if(r.length){let c=o,u=/^\t*/.exec(l)[0].length;for(let d=0;d<u;d++)c+=e.facet(KSe);i.push(t+c.length-u),l=c+l.slice(u)}r.push(l),t+=l.length+1}let a=this.fieldPositions.map(l=>new bN(l.field,i[l.line]+l.from,i[l.line]+l.to));return{text:r,ranges:a}}static parse(e){let t=[],r=[],i=[],s;for(let o of e.split(/\r\n?|\n/)){for(;s=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(o);){let a=s[1]?+s[1]:null,l=s[2]||s[3]||"",c=-1,u=l.replace(/\\[{}]/g,d=>d[1]);for(let d=0;d<t.length;d++)(a!=null?t[d].seq==a:u&&t[d].name==u)&&(c=d);if(c<0){let d=0;for(;d<t.length&&(a==null||t[d].seq!=null&&t[d].seq<a);)d++;t.splice(d,0,{seq:a,name:u}),c=d;for(let f of i)f.field>=c&&f.field++}i.push(new f1e(c,r.length,s.index,s.index+u.length)),o=o.slice(0,s.index)+l+o.slice(s.index+s[0].length)}o=o.replace(/\\([{}])/g,(a,l,c)=>{for(let u of i)u.line==r.length&&u.from>c&&(u.from--,u.to--);return l}),r.push(o)}return new SN(r,i)}}let p1e=ye.widget({widget:new class extends na{toDOM(){let n=document.createElement("span");return n.className="cm-snippetFieldPosition",n}ignoreEvent(){return!1}}}),m1e=ye.mark({class:"cm-snippetField"});class Hf{constructor(e,t){this.ranges=e,this.active=t,this.deco=ye.set(e.map(r=>(r.from==r.to?p1e:m1e).range(r.from,r.to)))}map(e){let t=[];for(let r of this.ranges){let i=r.map(e);if(!i)return null;t.push(i)}return new Hf(t,this.active)}selectionInsideField(e){return e.ranges.every(t=>this.ranges.some(r=>r.field==this.active&&r.from<=t.from&&r.to>=t.to))}}const hy=Me.define({map(n,e){return n&&n.map(e)}}),g1e=Me.define(),cO=Xt.define({create(){return null},update(n,e){for(let t of e.effects){if(t.is(hy))return t.value;if(t.is(g1e)&&n)return new Hf(n.ranges,t.value)}return n&&e.docChanged&&(n=n.map(e.changes)),n&&e.selection&&!n.selectionInsideField(e.selection)&&(n=null),n},provide:n=>fe.decorations.from(n,e=>e?e.deco:ye.none)});function kN(n,e){return te.create(n.filter(t=>t.field==e).map(t=>te.range(t.from,t.to)))}function O1e(n){let e=SN.parse(n);return(t,r,i,s)=>{let{text:o,ranges:a}=e.instantiate(t.state,i),{main:l}=t.state.selection,c={changes:{from:i,to:s==l.from?l.to:s,insert:pt.of(o)},scrollIntoView:!0,annotations:r?[h1e.of(r),bn.userEvent.of("input.complete")]:void 0};if(a.length&&(c.selection=kN(a,0)),a.some(u=>u.field>0)){let u=new Hf(a,0),d=c.effects=[hy.of(u)];t.state.field(cO,!1)===void 0&&d.push(Me.appendConfig.of([cO,b1e,S1e,d1e]))}t.dispatch(t.state.update(c))}}function z6(n){return({state:e,dispatch:t})=>{let r=e.field(cO,!1);if(!r||n<0&&r.active==0)return!1;let i=r.active+n,s=n>0&&!r.ranges.some(o=>o.field==i+n);return t(e.update({selection:kN(r.ranges,i),effects:hy.of(s?null:new Hf(r.ranges,i)),scrollIntoView:!0})),!0}}const y1e=({state:n,dispatch:e})=>n.field(cO,!1)?(e(n.update({effects:hy.of(null)})),!0):!1,v1e=z6(1),x1e=z6(-1),w1e=[{key:"Tab",run:v1e,shift:x1e},{key:"Escape",run:y1e}],S4=de.define({combine(n){return n.length?n[0]:w1e}}),b1e=ll.highest(sy.compute([S4],n=>n.facet(S4)));function ua(n,e){return Object.assign(Object.assign({},e),{apply:O1e(n)})}const S1e=fe.domEventHandlers({mousedown(n,e){let t=e.state.field(cO,!1),r;if(!t||(r=e.posAtCoords({x:n.clientX,y:n.clientY}))==null)return!1;let i=t.ranges.find(s=>s.from<=r&&s.to>=r);return!i||i.field==t.active?!1:(e.dispatch({selection:kN(t.ranges,i.field),effects:hy.of(t.ranges.some(s=>s.field>i.field)?new Hf(t.ranges,i.field):null),scrollIntoView:!0}),!0)}}),q6=new class extends Vo{};q6.startSide=1;q6.endSide=-1;const k4=new zSe,F6=new Set(["Script","Body","FunctionDefinition","ClassDefinition","LambdaExpression","ForStatement","MatchClause"]);function V0(n){return(e,t,r)=>{if(r)return!1;let i=e.node.getChild("VariableName");return i&&t(i,n),!0}}const k1e={FunctionDefinition:V0("function"),ClassDefinition:V0("class"),ForStatement(n,e,t){if(t){for(let r=n.node.firstChild;r;r=r.nextSibling)if(r.name=="VariableName")e(r,"variable");else if(r.name=="in")break}},ImportStatement(n,e){var t,r;let{node:i}=n,s=((t=i.firstChild)===null||t===void 0?void 0:t.name)=="from";for(let o=i.getChild("import");o;o=o.nextSibling)o.name=="VariableName"&&((r=o.nextSibling)===null||r===void 0?void 0:r.name)!="as"&&e(o,s?"variable":"namespace")},AssignStatement(n,e){for(let t=n.node.firstChild;t;t=t.nextSibling)if(t.name=="VariableName")e(t,"variable");else if(t.name==":"||t.name=="AssignOp")break},ParamList(n,e){for(let t=null,r=n.node.firstChild;r;r=r.nextSibling)r.name=="VariableName"&&(!t||!/\*|AssignOp/.test(t.name))&&e(r,"variable"),t=r},CapturePattern:V0("variable"),AsPattern:V0("variable"),__proto__:null};function Z6(n,e){let t=k4.get(e);if(t)return t;let r=[],i=!0;function s(o,a){let l=n.sliceString(o.from,o.to);r.push({label:l,type:a})}return e.cursor(Jn.IncludeAnonymous).iterate(o=>{if(o.name){let a=k1e[o.name];if(a&&a(o,s,i)||!i&&F6.has(o.name))return!1;i=!1}else if(o.to-o.from>8192){for(let a of Z6(n,o.node))r.push(a);return!1}}),k4.set(e,r),r}const _4=/^[\w\xa1-\uffff][\w\d\xa1-\uffff]*$/,B6=["String","FormatString","Comment","PropertyName"];function _1e(n){let e=lO(n.state).resolveInner(n.pos,-1);if(B6.indexOf(e.name)>-1)return null;let t=e.name=="VariableName"||e.to-e.from<20&&_4.test(n.state.sliceDoc(e.from,e.to));if(!t&&!n.explicit)return null;let r=[];for(let i=e;i;i=i.parent)F6.has(i.name)&&(r=r.concat(Z6(n.state.doc,i)));return{options:r,from:t?e.from:n.pos,validFor:_4}}const T1e=["__annotations__","__builtins__","__debug__","__doc__","__import__","__name__","__loader__","__package__","__spec__","False","None","True"].map(n=>({label:n,type:"constant"})).concat(["ArithmeticError","AssertionError","AttributeError","BaseException","BlockingIOError","BrokenPipeError","BufferError","BytesWarning","ChildProcessError","ConnectionAbortedError","ConnectionError","ConnectionRefusedError","ConnectionResetError","DeprecationWarning","EOFError","Ellipsis","EncodingWarning","EnvironmentError","Exception","FileExistsError","FileNotFoundError","FloatingPointError","FutureWarning","GeneratorExit","IOError","ImportError","ImportWarning","IndentationError","IndexError","InterruptedError","IsADirectoryError","KeyError","KeyboardInterrupt","LookupError","MemoryError","ModuleNotFoundError","NameError","NotADirectoryError","NotImplemented","NotImplementedError","OSError","OverflowError","PendingDeprecationWarning","PermissionError","ProcessLookupError","RecursionError","ReferenceError","ResourceWarning","RuntimeError","RuntimeWarning","StopAsyncIteration","StopIteration","SyntaxError","SyntaxWarning","SystemError","SystemExit","TabError","TimeoutError","TypeError","UnboundLocalError","UnicodeDecodeError","UnicodeEncodeError","UnicodeError","UnicodeTranslateError","UnicodeWarning","UserWarning","ValueError","Warning","ZeroDivisionError"].map(n=>({label:n,type:"type"}))).concat(["bool","bytearray","bytes","classmethod","complex","float","frozenset","int","list","map","memoryview","object","range","set","staticmethod","str","super","tuple","type"].map(n=>({label:n,type:"class"}))).concat(["abs","aiter","all","anext","any","ascii","bin","breakpoint","callable","chr","compile","delattr","dict","dir","divmod","enumerate","eval","exec","exit","filter","format","getattr","globals","hasattr","hash","help","hex","id","input","isinstance","issubclass","iter","len","license","locals","max","min","next","oct","open","ord","pow","print","property","quit","repr","reversed","round","setattr","slice","sorted","sum","vars","zip"].map(n=>({label:n,type:"function"}))),P1e=[ua("def ${name}(${params}):\n	${}",{label:"def",detail:"function",type:"keyword"}),ua("for ${name} in ${collection}:\n	${}",{label:"for",detail:"loop",type:"keyword"}),ua("while ${}:\n	${}",{label:"while",detail:"loop",type:"keyword"}),ua("try:\n	${}\nexcept ${error}:\n	${}",{label:"try",detail:"/ except block",type:"keyword"}),ua(`if \${}:
	
`,{label:"if",detail:"block",type:"keyword"}),ua("if ${}:\n	${}\nelse:\n	${}",{label:"if",detail:"/ else block",type:"keyword"}),ua("class ${name}:\n	def __init__(self, ${params}):\n			${}",{label:"class",detail:"definition",type:"keyword"}),ua("import ${module}",{label:"import",detail:"statement",type:"keyword"}),ua("from ${module} import ${names}",{label:"from",detail:"import",type:"keyword"})],C1e=u1e(B6,c1e(T1e.concat(P1e)));function o_(n){let{node:e,pos:t}=n,r=n.lineIndent(t,-1),i=null;for(;;){let s=e.childBefore(t);if(s)if(s.name=="Comment")t=s.from;else if(s.name=="Body"||s.name=="MatchBody")n.baseIndentFor(s)+n.unit<=r&&(i=s),e=s;else if(s.name=="MatchClause")e=s;else if(s.type.is("Statement"))e=s;else break;else break}return i}function a_(n,e){let t=n.baseIndentFor(e),r=n.lineAt(n.pos,-1),i=r.from+r.text.length;return/^\s*($|#)/.test(r.text)&&n.node.to<i+100&&!/\S/.test(n.state.sliceDoc(i,n.node.to))&&n.lineIndent(n.pos,-1)<=t||/^\s*(else:|elif |except |finally:|case\s+[^=:]+:)/.test(n.textAfter)&&n.lineIndent(n.pos,-1)>t?null:t+n.unit}const l_=WSe.define({name:"python",parser:NSe.configure({props:[JSe.add({Body:n=>{var e;let t=o_(n);return(e=a_(n,t||n.node))!==null&&e!==void 0?e:n.continue()},MatchBody:n=>{var e;let t=o_(n);return(e=a_(n,t||n.node))!==null&&e!==void 0?e:n.continue()},IfStatement:n=>/^\s*(else:|elif )/.test(n.textAfter)?n.baseIndent:n.continue(),"ForStatement WhileStatement":n=>/^\s*else:/.test(n.textAfter)?n.baseIndent:n.continue(),TryStatement:n=>/^\s*(except |finally:|else:)/.test(n.textAfter)?n.baseIndent:n.continue(),MatchStatement:n=>/^\s*case /.test(n.textAfter)?n.baseIndent+n.unit:n.continue(),"TupleExpression ComprehensionExpression ParamList ArgList ParenthesizedExpression":i_({closing:")"}),"DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression":i_({closing:"}"}),"ArrayExpression ArrayComprehensionExpression":i_({closing:"]"}),"String FormatString":()=>null,Script:n=>{var e;let t=o_(n);return(e=t&&a_(n,t))!==null&&e!==void 0?e:n.continue()}}),n1e.add({"ArrayExpression DictionaryExpression SetExpression TupleExpression":r1e,Body:(n,e)=>({from:n.from+1,to:n.to-(n.to==e.doc.length?0:1)})})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"'''",'"""'],stringPrefixes:["f","fr","rf","r","u","b","br","rb","F","FR","RF","R","U","B","BR","RB"]},commentTokens:{line:"#"},indentOnInput:/^\s*([\}\]\)]|else:|elif |except |finally:|case\s+[^:]*:?)$/}});function E1e(){return new HSe(l_,[l_.data.of({autocomplete:_1e}),l_.data.of({autocomplete:C1e})])}const A1e=1024;let R1e=0,Qa=class{constructor(e,t){this.from=e,this.to=t}},an=class{constructor(e={}){this.id=R1e++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Ec.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}};an.closedBy=new an({deserialize:n=>n.split(" ")});an.openedBy=new an({deserialize:n=>n.split(" ")});an.group=new an({deserialize:n=>n.split(" ")});an.isolate=new an({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});an.contextHash=new an({perNode:!0});an.lookAhead=new an({perNode:!0});an.mounted=new an({perNode:!0});let uO=class{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[an.mounted.id]}};const Q1e=Object.create(null);let Ec=class W6{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):Q1e,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new W6(e.name||"",t,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(an.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(an.group),s=-1;s<(i?i.length:0);s++){let o=t[s<0?r.name:i[s]];if(o)return o}}}};Ec.none=new Ec("",Object.create(null),0,8);const L0=new WeakMap,T4=new WeakMap;var pn;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(pn||(pn={}));let Io=class rE{constructor(e,t,r,i,s){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=uO.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new Lw(this.topNode,e)}cursorAt(e,t=0,r=0){let i=L0.get(this)||this.topNode,s=new Lw(i);return s.moveTo(e,t),L0.set(this,s._tree),s}get topNode(){return new Bo(this,0,0,null)}resolve(e,t=0){let r=hO(L0.get(this)||this.topNode,e,t,!1);return L0.set(this,r),r}resolveInner(e,t=0){let r=hO(T4.get(this)||this.topNode,e,t,!0);return T4.set(this,r),r}resolveStack(e,t=0){return j1e(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:s=this.length}=e,o=e.mode||0,a=(o&pn.IncludeAnonymous)>0;for(let l=this.cursor(o|pn.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=i&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:TN(Ec.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new rE(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new rE(Ec.none,t,r,i)))}static build(e){return D1e(e)}};Io.empty=new Io(Ec.none,[],[],0);let N1e=class X6{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new X6(this.buffer,this.index)}},Of=class G6{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return Ec.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(Y6(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,t,r){let i=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=i[a++],s[l++]=i[a++]-r;let c=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,c)}return new G6(s,o,this.set)}};function Y6(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function hO(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!r&&n instanceof Bo&&n.index<0?null:n.parent;if(!o)return n;n=o}let s=r?0:pn.IgnoreOverlays;if(r)for(let o=n,a=o.parent;a;o=a,a=o.parent)o instanceof Bo&&o.index<0&&((i=a.enter(e,t,s))===null||i===void 0?void 0:i.from)!=o.from&&(n=a);for(;;){let o=n.enter(e,t,s);if(!o)return n;n=o}}let H6=class{cursor(e=0){return new Lw(this,e)}getChild(e,t=null,r=null){let i=P4(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return P4(this,e,t,r)}resolve(e,t=0){return hO(this,e,t,!1)}resolveInner(e,t=0){return hO(this,e,t,!0)}matchContext(e){return iE(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}},Bo=class Fv extends H6{constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=t>0?a.length:-1;e!=c;e+=t){let u=a[e],d=l[e]+o.from;if(Y6(i,r,d,d+u.length)){if(u instanceof Of){if(s&pn.ExcludeBuffers)continue;let f=u.findChild(0,u.buffer.length,t,r-d,i);if(f>-1)return new sE(new I1e(o,u,e,d),null,f)}else if(s&pn.IncludeAnonymous||!u.type.isAnonymous||_N(u)){let f;if(!(s&pn.IgnoreMounts)&&(f=uO.get(u))&&!f.overlay)return new Fv(f.tree,d,e,o);let m=new Fv(u,d,e,o);return s&pn.IncludeAnonymous||!m.type.isAnonymous?m:m.nextChild(t<0?u.children.length-1:0,t,r,i)}}}if(s&pn.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&pn.IgnoreOverlays)&&(i=uO.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:o,to:a}of i.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new Fv(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function P4(n,e,t,r){let i=n.cursor(),s=[];if(!i.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=i.type.is(t),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function iE(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}let I1e=class{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}},sE=class gm extends H6{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return s<0?null:new gm(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&pn.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new gm(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new gm(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new gm(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),t.push(0)}return new Io(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function K6(n){if(!n.length)return null;let e=0,t=n[0];for(let s=1;s<n.length;s++){let o=n[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let r=t instanceof Bo&&t.index<0?null:t.parent,i=n.slice();return r?i[e]=r:i.splice(e,1),new $1e(i,t)}let $1e=class{constructor(e,t){this.heads=e,this.node=t}get next(){return K6(this.heads)}};function j1e(n,e,t){let r=n.resolveInner(e,t),i=null;for(let s=r instanceof Bo?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[r])).push(o.resolve(e,t)),s=o}else{let o=uO.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new Bo(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(hO(a,e,t,!1))}}return i?K6(i):r}let Lw=class{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Bo)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof Bo?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&pn.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&pn.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&pn.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let s=t+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&pn.IncludeAnonymous||a instanceof Of||!a.type.isAnonymous||_N(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;t=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)t=new sE(this.buffer,t,this.stack[i]);return this.bufferNode=new sE(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return iE(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return iE(this._tree,e,i);let o=r[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}};function _N(n){return n.children.some(e=>e instanceof Of||!e.type.isAnonymous||_N(e))}function D1e(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=A1e,reused:s=[],minRepeatType:o=r.types.length}=n,a=Array.isArray(t)?new N1e(t,t.length):t,l=r.types,c=0,u=0;function d(C,N,O,T,S,A){let{id:_,start:v,end:E,size:j}=a,V=u,U=c;for(;j<0;)if(a.next(),j==-1){let Z=s[_];O.push(Z),T.push(v-C);return}else if(j==-3){c=_;return}else if(j==-4){u=_;return}else throw new RangeError(`Unrecognized record size: ${j}`);let X=l[_],D,L,Y=v-C;if(E-v<=i&&(L=x(a.pos-N,S))){let Z=new Uint16Array(L.size-L.skip),F=a.pos-L.size,B=Z.length;for(;a.pos>F;)B=w(L.start,Z,B);D=new Of(Z,E-L.start,r),Y=L.start-C}else{let Z=a.pos-j;a.next();let F=[],B=[],J=_>=o?_:-1,ae=0,oe=E;for(;a.pos>Z;)J>=0&&a.id==J&&a.size>=0?(a.end<=oe-i&&(g(F,B,v,ae,a.end,oe,J,V,U),ae=F.length,oe=a.end),a.next()):A>2500?f(v,Z,F,B):d(v,Z,F,B,J,A+1);if(J>=0&&ae>0&&ae<F.length&&g(F,B,v,ae,v,oe,J,V,U),F.reverse(),B.reverse(),J>-1&&ae>0){let ie=m(X,U);D=TN(X,F,B,0,F.length,0,E-v,ie,ie)}else D=y(X,F,B,E-v,V-E,U)}O.push(D),T.push(Y)}function f(C,N,O,T){let S=[],A=0,_=-1;for(;a.pos>N;){let{id:v,start:E,end:j,size:V}=a;if(V>4)a.next();else{if(_>-1&&E<_)break;_<0&&(_=j-i),S.push(v,E,j),A++,a.next()}}if(A){let v=new Uint16Array(A*4),E=S[S.length-2];for(let j=S.length-3,V=0;j>=0;j-=3)v[V++]=S[j],v[V++]=S[j+1]-E,v[V++]=S[j+2]-E,v[V++]=V;O.push(new Of(v,S[2]-E,r)),T.push(E-C)}}function m(C,N){return(O,T,S)=>{let A=0,_=O.length-1,v,E;if(_>=0&&(v=O[_])instanceof Io){if(!_&&v.type==C&&v.length==S)return v;(E=v.prop(an.lookAhead))&&(A=T[_]+v.length+E)}return y(C,O,T,S,A,N)}}function g(C,N,O,T,S,A,_,v,E){let j=[],V=[];for(;C.length>T;)j.push(C.pop()),V.push(N.pop()+O-S);C.push(y(r.types[_],j,V,A-S,v-A,E)),N.push(S-O)}function y(C,N,O,T,S,A,_){if(A){let v=[an.contextHash,A];_=_?[v].concat(_):[v]}if(S>25){let v=[an.lookAhead,S];_=_?[v].concat(_):[v]}return new Io(C,N,O,T,_)}function x(C,N){let O=a.fork(),T=0,S=0,A=0,_=O.end-i,v={size:0,start:0,skip:0};e:for(let E=O.pos-C;O.pos>E;){let j=O.size;if(O.id==N&&j>=0){v.size=T,v.start=S,v.skip=A,A+=4,T+=4,O.next();continue}let V=O.pos-j;if(j<0||V<E||O.start<_)break;let U=O.id>=o?4:0,X=O.start;for(O.next();O.pos>V;){if(O.size<0)if(O.size==-3)U+=4;else break e;else O.id>=o&&(U+=4);O.next()}S=X,T+=j,A+=U}return(N<0||T==C)&&(v.size=T,v.start=S,v.skip=A),v.size>4?v:void 0}function w(C,N,O){let{id:T,start:S,end:A,size:_}=a;if(a.next(),_>=0&&T<o){let v=O;if(_>4){let E=a.pos-(_-4);for(;a.pos>E;)O=w(C,N,O)}N[--O]=v,N[--O]=A-C,N[--O]=S-C,N[--O]=T}else _==-3?c=T:_==-4&&(u=T);return O}let k=[],P=[];for(;a.pos>0;)d(n.start||0,n.bufferStart||0,k,P,-1,0);let Q=(e=n.length)!==null&&e!==void 0?e:k.length?P[0]+k[0].length:0;return new Io(l[n.topID],k.reverse(),P.reverse(),Q)}const C4=new WeakMap;function Zv(n,e){if(!n.isAnonymous||e instanceof Of||e.type!=n)return 1;let t=C4.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof Io)){t=1;break}t+=Zv(n,r)}C4.set(e,t)}return t}function TN(n,e,t,r,i,s,o,a,l){let c=0;for(let g=r;g<i;g++)c+=Zv(n,e[g]);let u=Math.ceil(c*1.5/8),d=[],f=[];function m(g,y,x,w,k){for(let P=x;P<w;){let Q=P,C=y[P],N=Zv(n,g[P]);for(P++;P<w;P++){let O=Zv(n,g[P]);if(N+O>=u)break;N+=O}if(P==Q+1){if(N>u){let O=g[Q];m(O.children,O.positions,0,O.children.length,y[Q]+k);continue}d.push(g[Q])}else{let O=y[P-1]+g[P-1].length-C;d.push(TN(n,g,y,Q,P,C,O,null,l))}f.push(C+k-s)}}return m(e,t,r,i,0),(a||l)(d,f,o)}let E4=class oE{constructor(e,t,r,i,s=!1,o=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],r=!1){let i=[new oE(0,e.length,e,0,!1,r)];for(let s of t)s.to>e.length&&i.push(s);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let u=a<t.length?t[a]:null,d=u?u.fromA:1e9;if(d-l>=r)for(;o&&o.from<d;){let f=o;if(l>=f.from||d<=f.to||c){let m=Math.max(f.from,l)-c,g=Math.min(f.to,d)-c;f=m>=g?null:new oE(m,g,f.tree,f.offset+c,a>0,!!u)}if(f&&i.push(f),o.to>d)break;o=s<e.length?e[s++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return i}};function M1e(n){return(e,t,r,i)=>new L1e(e,n,t,r,i)}class A4{constructor(e,t,r,i,s){this.parser=e,this.parse=t,this.overlay=r,this.target=i,this.from=s}}function R4(n){if(!n.length||n.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(n))}class V1e{constructor(e,t,r,i,s,o,a){this.parser=e,this.predicate=t,this.mounts=r,this.index=i,this.start=s,this.target=o,this.prev=a,this.depth=0,this.ranges=[]}}const aE=new an({perNode:!0});class L1e{constructor(e,t,r,i,s){this.nest=t,this.input=r,this.fragments=i,this.ranges=s,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let r=this.baseParse.advance();if(!r)return null;if(this.baseParse=null,this.baseTree=r,this.startInner(),this.stoppedAt!=null)for(let i of this.inner)i.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let r=this.baseTree;return this.stoppedAt!=null&&(r=new Io(r.type,r.children,r.positions,r.length,r.propValues.concat([[aE,this.stoppedAt]]))),r}let e=this.inner[this.innerDone],t=e.parse.advance();if(t){this.innerDone++;let r=Object.assign(Object.create(null),e.target.props);r[an.mounted.id]=new uO(t,e.overlay,e.parser),e.target.props=r}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].from<e&&(e=Math.min(e,this.inner[t].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].parse.stopAt(e)}startInner(){let e=new q1e(this.fragments),t=null,r=null,i=new Lw(new Bo(this.baseTree,this.ranges[0].from,0,null),pn.IncludeAnonymous|pn.IgnoreMounts);e:for(let s,o;;){let a=!0,l;if(this.stoppedAt!=null&&i.from>=this.stoppedAt)a=!1;else if(e.hasNode(i)){if(t){let c=t.mounts.find(u=>u.frag.from<=i.from&&u.frag.to>=i.to&&u.mount.overlay);if(c)for(let u of c.mount.overlay){let d=u.from+c.pos,f=u.to+c.pos;d>=i.from&&f<=i.to&&!t.ranges.some(m=>m.from<f&&m.to>d)&&t.ranges.push({from:d,to:f})}}a=!1}else if(r&&(o=U1e(r.ranges,i.from,i.to)))a=o!=2;else if(!i.type.isAnonymous&&(s=this.nest(i,this.input))&&(i.from<i.to||!s.overlay)){i.tree||z1e(i);let c=e.findMounts(i.from,s.parser);if(typeof s.overlay=="function")t=new V1e(s.parser,s.overlay,c,this.inner.length,i.from,i.tree,t);else{let u=I4(this.ranges,s.overlay||(i.from<i.to?[new Qa(i.from,i.to)]:[]));u.length&&R4(u),(u.length||!s.overlay)&&this.inner.push(new A4(s.parser,u.length?s.parser.startParse(this.input,$4(c,u),u):s.parser.startParse(""),s.overlay?s.overlay.map(d=>new Qa(d.from-i.from,d.to-i.from)):null,i.tree,u.length?u[0].from:i.from)),s.overlay?u.length&&(r={ranges:u,depth:0,prev:r}):a=!1}}else if(t&&(l=t.predicate(i))&&(l===!0&&(l=new Qa(i.from,i.to)),l.from<l.to)){let c=t.ranges.length-1;c>=0&&t.ranges[c].to==l.from?t.ranges[c]={from:t.ranges[c].from,to:l.to}:t.ranges.push(l)}if(a&&i.firstChild())t&&t.depth++,r&&r.depth++;else for(;!i.nextSibling();){if(!i.parent())break e;if(t&&!--t.depth){let c=I4(this.ranges,t.ranges);c.length&&(R4(c),this.inner.splice(t.index,0,new A4(t.parser,t.parser.startParse(this.input,$4(t.mounts,c),c),t.ranges.map(u=>new Qa(u.from-t.start,u.to-t.start)),t.target,c[0].from))),t=t.prev}r&&!--r.depth&&(r=r.prev)}}}}function U1e(n,e,t){for(let r of n){if(r.from>=t)break;if(r.to>e)return r.from<=e&&r.to>=t?2:1}return 0}function Q4(n,e,t,r,i,s){if(e<t){let o=n.buffer[e+1];r.push(n.slice(e,t,o)),i.push(o-s)}}function z1e(n){let{node:e}=n,t=[],r=e.context.buffer;do t.push(n.index),n.parent();while(!n.tree);let i=n.tree,s=i.children.indexOf(r),o=i.children[s],a=o.buffer,l=[s];function c(u,d,f,m,g,y){let x=t[y],w=[],k=[];Q4(o,u,x,w,k,m);let P=a[x+1],Q=a[x+2];l.push(w.length);let C=y?c(x+4,a[x+3],o.set.types[a[x]],P,Q-P,y-1):e.toTree();return w.push(C),k.push(P-m),Q4(o,a[x+3],d,w,k,m),new Io(f,w,k,g)}i.children[s]=c(0,a.length,Ec.none,0,o.length,t.length-1);for(let u of l){let d=n.tree.children[u],f=n.tree.positions[u];n.yield(new Bo(d,f+n.from,u,n._tree))}}class N4{constructor(e,t){this.offset=t,this.done=!1,this.cursor=e.cursor(pn.IncludeAnonymous|pn.IgnoreMounts)}moveTo(e){let{cursor:t}=this,r=e-this.offset;for(;!this.done&&t.from<r;)t.to>=e&&t.enter(r,1,pn.IgnoreOverlays|pn.ExcludeBuffers)||t.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let t=this.cursor.tree;;){if(t==e.tree)return!0;if(t.children.length&&t.positions[0]==0&&t.children[0]instanceof Io)t=t.children[0];else break}return!1}}class q1e{constructor(e){var t;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let r=this.curFrag=e[0];this.curTo=(t=r.tree.prop(aE))!==null&&t!==void 0?t:r.to,this.inner=new N4(r.tree,-r.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let t=this.curFrag=this.fragments[this.fragI];this.curTo=(e=t.tree.prop(aE))!==null&&e!==void 0?e:t.to,this.inner=new N4(t.tree,-t.offset)}}findMounts(e,t){var r;let i=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let s=this.inner.cursor.node;s;s=s.parent){let o=(r=s.tree)===null||r===void 0?void 0:r.prop(an.mounted);if(o&&o.parser==t)for(let a=this.fragI;a<this.fragments.length;a++){let l=this.fragments[a];if(l.from>=s.to)break;l.tree==this.curFrag.tree&&i.push({frag:l,pos:s.from-l.offset,mount:o})}}}return i}}function I4(n,e){let t=null,r=e;for(let i=1,s=0;i<n.length;i++){let o=n[i-1].to,a=n[i].from;for(;s<r.length;s++){let l=r[s];if(l.from>=a)break;l.to<=o||(t||(r=t=e.slice()),l.from<o?(t[s]=new Qa(l.from,o),l.to>a&&t.splice(s+1,0,new Qa(a,l.to))):l.to>a?t[s--]=new Qa(a,l.to):t.splice(s--,1))}}return r}function F1e(n,e,t,r){let i=0,s=0,o=!1,a=!1,l=-1e9,c=[];for(;;){let u=i==n.length?1e9:o?n[i].to:n[i].from,d=s==e.length?1e9:a?e[s].to:e[s].from;if(o!=a){let f=Math.max(l,t),m=Math.min(u,d,r);f<m&&c.push(new Qa(f,m))}if(l=Math.min(u,d),l==1e9)break;u==l&&(o?(o=!1,i++):o=!0),d==l&&(a?(a=!1,s++):a=!0)}return c}function $4(n,e){let t=[];for(let{pos:r,mount:i,frag:s}of n){let o=r+(i.overlay?i.overlay[0].from:0),a=o+i.tree.length,l=Math.max(s.from,o),c=Math.min(s.to,a);if(i.overlay){let u=i.overlay.map(f=>new Qa(f.from+r,f.to+r)),d=F1e(e,u,l,c);for(let f=0,m=l;;f++){let g=f==d.length,y=g?c:d[f].from;if(y>m&&t.push(new E4(m,y,i.tree,-o,s.from>=m||s.openStart,s.to<=y||s.openEnd)),g)break;m=d[f].to}}else t.push(new E4(l,c,i.tree,-o,s.from>=o||s.openStart,s.to<=a||s.openEnd))}return t}const Z1e=54,B1e=1,W1e=55,X1e=2,G1e=56,Y1e=3,j4=4,H1e=5,Uw=6,J6=7,e7=8,t7=9,n7=10,K1e=11,J1e=12,eke=13,c_=57,tke=14,D4=58,r7=20,nke=22,i7=23,rke=24,lE=26,s7=27,ike=28,ske=31,oke=34,ake=36,lke=37,cke=0,uke=1,hke={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},dke={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},M4={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function fke(n){return n==45||n==46||n==58||n>=65&&n<=90||n==95||n>=97&&n<=122||n>=161}function o7(n){return n==9||n==10||n==13||n==32}let V4=null,L4=null,U4=0;function cE(n,e){let t=n.pos+e;if(U4==t&&L4==n)return V4;let r=n.peek(e);for(;o7(r);)r=n.peek(++e);let i="";for(;fke(r);)i+=String.fromCharCode(r),r=n.peek(++e);return L4=n,U4=t,V4=i?i.toLowerCase():r==pke||r==mke?void 0:null}const a7=60,zw=62,PN=47,pke=63,mke=33,gke=45;function z4(n,e){this.name=n,this.parent=e}const Oke=[Uw,n7,J6,e7,t7],yke=new dN({start:null,shift(n,e,t,r){return Oke.indexOf(e)>-1?new z4(cE(r,1)||"",n):n},reduce(n,e){return e==r7&&n?n.parent:n},reuse(n,e,t,r){let i=e.type.id;return i==Uw||i==ake?new z4(cE(r,1)||"",n):n},strict:!1}),vke=new vr((n,e)=>{if(n.next!=a7){n.next<0&&e.context&&n.acceptToken(c_);return}n.advance();let t=n.next==PN;t&&n.advance();let r=cE(n,0);if(r===void 0)return;if(!r)return n.acceptToken(t?tke:Uw);let i=e.context?e.context.name:null;if(t){if(r==i)return n.acceptToken(K1e);if(i&&dke[i])return n.acceptToken(c_,-2);if(e.dialectEnabled(cke))return n.acceptToken(J1e);for(let s=e.context;s;s=s.parent)if(s.name==r)return;n.acceptToken(eke)}else{if(r=="script")return n.acceptToken(J6);if(r=="style")return n.acceptToken(e7);if(r=="textarea")return n.acceptToken(t7);if(hke.hasOwnProperty(r))return n.acceptToken(n7);i&&M4[i]&&M4[i][r]?n.acceptToken(c_,-1):n.acceptToken(Uw)}},{contextual:!0}),xke=new vr(n=>{for(let e=0,t=0;;t++){if(n.next<0){t&&n.acceptToken(D4);break}if(n.next==gke)e++;else if(n.next==zw&&e>=2){t>=3&&n.acceptToken(D4,-2);break}else e=0;n.advance()}});function wke(n){for(;n;n=n.parent)if(n.name=="svg"||n.name=="math")return!0;return!1}const bke=new vr((n,e)=>{if(n.next==PN&&n.peek(1)==zw){let t=e.dialectEnabled(uke)||wke(e.context);n.acceptToken(t?H1e:j4,2)}else n.next==zw&&n.acceptToken(j4,1)});function CN(n,e,t){let r=2+n.length;return new vr(i=>{for(let s=0,o=0,a=0;;a++){if(i.next<0){a&&i.acceptToken(e);break}if(s==0&&i.next==a7||s==1&&i.next==PN||s>=2&&s<r&&i.next==n.charCodeAt(s-2))s++,o++;else if((s==2||s==r)&&o7(i.next))o++;else if(s==r&&i.next==zw){a>o?i.acceptToken(e,-o):i.acceptToken(t,-(o-2));break}else if((i.next==10||i.next==13)&&a){i.acceptToken(e,1);break}else s=o=0;i.advance()}})}const Ske=CN("script",Z1e,B1e),kke=CN("style",W1e,X1e),_ke=CN("textarea",G1e,Y1e),Tke=Gi({"Text RawText":$.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":$.angleBracket,TagName:$.tagName,"MismatchedCloseTag/TagName":[$.tagName,$.invalid],AttributeName:$.attributeName,"AttributeValue UnquotedAttributeValue":$.attributeValue,Is:$.definitionOperator,"EntityReference CharacterReference":$.character,Comment:$.blockComment,ProcessingInst:$.processingInstruction,DoctypeDecl:$.documentMeta}),Pke=tl.deserialize({version:14,states:",xOVO!rOOO!WQ#tO'#CqO!]Q#tO'#CzO!bQ#tO'#C}O!gQ#tO'#DQO!lQ#tO'#DSO!qOaO'#CpO!|ObO'#CpO#XOdO'#CpO$eO!rO'#CpOOO`'#Cp'#CpO$lO$fO'#DTO$tQ#tO'#DVO$yQ#tO'#DWOOO`'#Dk'#DkOOO`'#DY'#DYQVO!rOOO%OQ&rO,59]O%ZQ&rO,59fO%fQ&rO,59iO%qQ&rO,59lO%|Q&rO,59nOOOa'#D^'#D^O&XOaO'#CxO&dOaO,59[OOOb'#D_'#D_O&lObO'#C{O&wObO,59[OOOd'#D`'#D`O'POdO'#DOO'[OdO,59[OOO`'#Da'#DaO'dO!rO,59[O'kQ#tO'#DROOO`,59[,59[OOOp'#Db'#DbO'pO$fO,59oOOO`,59o,59oO'xQ#|O,59qO'}Q#|O,59rOOO`-E7W-E7WO(SQ&rO'#CsOOQW'#DZ'#DZO(bQ&rO1G.wOOOa1G.w1G.wOOO`1G/Y1G/YO(mQ&rO1G/QOOOb1G/Q1G/QO(xQ&rO1G/TOOOd1G/T1G/TO)TQ&rO1G/WOOO`1G/W1G/WO)`Q&rO1G/YOOOa-E7[-E7[O)kQ#tO'#CyOOO`1G.v1G.vOOOb-E7]-E7]O)pQ#tO'#C|OOOd-E7^-E7^O)uQ#tO'#DPOOO`-E7_-E7_O)zQ#|O,59mOOOp-E7`-E7`OOO`1G/Z1G/ZOOO`1G/]1G/]OOO`1G/^1G/^O*PQ,UO,59_OOQW-E7X-E7XOOOa7+$c7+$cOOO`7+$t7+$tOOOb7+$l7+$lOOOd7+$o7+$oOOO`7+$r7+$rO*[Q#|O,59eO*aQ#|O,59hO*fQ#|O,59kOOO`1G/X1G/XO*kO7[O'#CvO*|OMhO'#CvOOQW1G.y1G.yOOO`1G/P1G/POOO`1G/S1G/SOOO`1G/V1G/VOOOO'#D['#D[O+_O7[O,59bOOQW,59b,59bOOOO'#D]'#D]O+pOMhO,59bOOOO-E7Y-E7YOOQW1G.|1G.|OOOO-E7Z-E7Z",stateData:",]~O!^OS~OUSOVPOWQOXROYTO[]O][O^^O`^Oa^Ob^Oc^Ox^O{_O!dZO~OfaO~OfbO~OfcO~OfdO~OfeO~O!WfOPlP!ZlP~O!XiOQoP!ZoP~O!YlORrP!ZrP~OUSOVPOWQOXROYTOZqO[]O][O^^O`^Oa^Ob^Oc^Ox^O!dZO~O!ZrO~P#dO![sO!euO~OfvO~OfwO~OS|OT}OhyO~OS!POT}OhyO~OS!ROT}OhyO~OS!TOT}OhyO~OS}OT}OhyO~O!WfOPlX!ZlX~OP!WO!Z!XO~O!XiOQoX!ZoX~OQ!ZO!Z!XO~O!YlORrX!ZrX~OR!]O!Z!XO~O!Z!XO~P#dOf!_O~O![sO!e!aO~OS!bO~OS!cO~Oi!dOSgXTgXhgX~OS!fOT!gOhyO~OS!hOT!gOhyO~OS!iOT!gOhyO~OS!jOT!gOhyO~OS!gOT!gOhyO~Of!kO~Of!lO~Of!mO~OS!nO~Ok!qO!`!oO!b!pO~OS!rO~OS!sO~OS!tO~Oa!uOb!uOc!uO!`!wO!a!uO~Oa!xOb!xOc!xO!b!wO!c!xO~Oa!uOb!uOc!uO!`!{O!a!uO~Oa!xOb!xOc!xO!b!{O!c!xO~OT~bac!dx{!d~",goto:"%p!`PPPPPPPPPPPPPPPPPPPP!a!gP!mPP!yP!|#P#S#Y#]#`#f#i#l#r#x!aP!a!aP$O$U$l$r$x%O%U%[%bPPPPPPPP%hX^OX`pXUOX`pezabcde{!O!Q!S!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ!ObQ!QcQ!SdQ!UeZ!e{!O!Q!S!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:"⚠ StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:67,context:yke,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,21,30,33,36,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,29,32,35,37,"OpenTag"],["group",-9,14,17,18,19,20,39,40,41,42,"Entity",16,"Entity TextContent",-3,28,31,34,"TextContent Entity"],["isolate",-11,21,29,30,32,33,35,36,37,38,41,42,"ltr",-3,26,27,39,""]],propSources:[Tke],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|c`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bX`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UV`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pT`POv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!cpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({W`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!a`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!a`!cpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYkWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]``P!a`!cp!^^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebhSkWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXhSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vchS`P!a`!cpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!`h`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WihSkWc!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zbkWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOa!R!R7tP;=`<%l7S!Z8OYkWa!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{ihSkWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbhSkWa!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QchSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXhSa!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TakWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOb!R!RAwP;=`<%lAY!ZBRYkWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbhSkWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbhSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXhSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!bx`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYlhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_khS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_X`P!a`!cp!eQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZhSfQ`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!a`!cpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!a`!cp!dPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!a`!cpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!a`!cpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!a`!cpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!a`!cpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!a`!cpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!a`!cpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!a`!cpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!cpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO{PP!-nP;=`<%l!-Sq!-xS!cp{POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!a`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!a`{POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!a`!cp{POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!a`!cpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!a`!cpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!a`!cpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!a`!cpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!a`!cpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!a`!cpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!cpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOxPP!7TP;=`<%l!6Vq!7]V!cpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!cpxPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!a`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!a`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!a`xPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!a`!cpxPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXiS`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[Ske,kke,_ke,bke,vke,xke,0,1,2,3,4,5],topRules:{Document:[0,15]},dialects:{noMatch:0,selfClosing:509},tokenPrec:511});function l7(n,e){let t=Object.create(null);for(let r of n.getChildren(i7)){let i=r.getChild(rke),s=r.getChild(lE)||r.getChild(s7);i&&(t[e.read(i.from,i.to)]=s?s.type.id==lE?e.read(s.from+1,s.to-1):e.read(s.from,s.to):"")}return t}function q4(n,e){let t=n.getChild(nke);return t?e.read(t.from,t.to):" "}function u_(n,e,t){let r;for(let i of t)if(!i.attrs||i.attrs(r||(r=l7(n.node.parent.firstChild,e))))return{parser:i.parser};return null}function c7(n=[],e=[]){let t=[],r=[],i=[],s=[];for(let a of n)(a.tag=="script"?t:a.tag=="style"?r:a.tag=="textarea"?i:s).push(a);let o=e.length?Object.create(null):null;for(let a of e)(o[a.name]||(o[a.name]=[])).push(a);return M1e((a,l)=>{let c=a.type.id;if(c==ike)return u_(a,l,t);if(c==ske)return u_(a,l,r);if(c==oke)return u_(a,l,i);if(c==r7&&s.length){let u=a.node,d=u.firstChild,f=d&&q4(d,l),m;if(f){for(let g of s)if(g.tag==f&&(!g.attrs||g.attrs(m||(m=l7(d,l))))){let y=u.lastChild,x=y.type.id==lke?y.from:u.to;if(x>d.to)return{parser:g.parser,overlay:[{from:d.to,to:x}]}}}}if(o&&c==i7){let u=a.node,d;if(d=u.firstChild){let f=o[l.read(d.from,d.to)];if(f)for(let m of f){if(m.tagName&&m.tagName!=q4(u.parent,l))continue;let g=u.lastChild;if(g.type.id==lE){let y=g.from+1,x=g.lastChild,w=g.to-(x&&x.isError?0:1);if(w>y)return{parser:m.parser,overlay:[{from:y,to:w}]}}else if(g.type.id==s7)return{parser:m.parser,overlay:[{from:g.from,to:g.to}]}}}}return null})}const Cke=100,F4=1,Eke=101,Ake=102,Z4=2,u7=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],Rke=58,Qke=40,h7=95,Nke=91,Bv=45,Ike=46,$ke=35,jke=37,Dke=38,Mke=92,Vke=10;function dO(n){return n>=65&&n<=90||n>=97&&n<=122||n>=161}function d7(n){return n>=48&&n<=57}const Lke=new vr((n,e)=>{for(let t=!1,r=0,i=0;;i++){let{next:s}=n;if(dO(s)||s==Bv||s==h7||t&&d7(s))!t&&(s!=Bv||i>0)&&(t=!0),r===i&&s==Bv&&r++,n.advance();else if(s==Mke&&n.peek(1)!=Vke)n.advance(),n.next>-1&&n.advance(),t=!0;else{t&&n.acceptToken(s==Qke?Eke:r==2&&e.canShift(Z4)?Z4:Ake);break}}}),Uke=new vr(n=>{if(u7.includes(n.peek(-1))){let{next:e}=n;(dO(e)||e==h7||e==$ke||e==Ike||e==Nke||e==Rke&&dO(n.peek(1))||e==Bv||e==Dke)&&n.acceptToken(Cke)}}),zke=new vr(n=>{if(!u7.includes(n.peek(-1))){let{next:e}=n;if(e==jke&&(n.advance(),n.acceptToken(F4)),dO(e)){do n.advance();while(dO(n.next)||d7(n.next));n.acceptToken(F4)}}}),qke=Gi({"AtKeyword import charset namespace keyframes media supports":$.definitionKeyword,"from to selector":$.keyword,NamespaceName:$.namespace,KeyframeName:$.labelName,KeyframeRangeName:$.operatorKeyword,TagName:$.tagName,ClassName:$.className,PseudoClassName:$.constant($.className),IdName:$.labelName,"FeatureName PropertyName":$.propertyName,AttributeName:$.attributeName,NumberLiteral:$.number,KeywordQuery:$.keyword,UnaryQueryOp:$.operatorKeyword,"CallTag ValueName":$.atom,VariableName:$.variableName,Callee:$.operatorKeyword,Unit:$.unit,"UniversalSelector NestingSelector":$.definitionOperator,MatchOp:$.compareOperator,"ChildOp SiblingOp, LogicOp":$.logicOperator,BinOp:$.arithmeticOperator,Important:$.modifier,Comment:$.blockComment,ColorLiteral:$.color,"ParenthesizedContent StringLiteral":$.string,":":$.punctuation,"PseudoOp #":$.derefOperator,"; ,":$.separator,"( )":$.paren,"[ ]":$.squareBracket,"{ }":$.brace}),Fke={__proto__:null,lang:34,"nth-child":34,"nth-last-child":34,"nth-of-type":34,"nth-last-of-type":34,dir:34,"host-context":34,url:62,"url-prefix":62,domain:62,regexp:62,selector:140},Zke={__proto__:null,"@import":120,"@media":144,"@charset":148,"@namespace":152,"@keyframes":158,"@supports":170},Bke={__proto__:null,not:134,only:134},Wke=tl.deserialize({version:14,states:":jQYQ[OOO#_Q[OOP#fOWOOOOQP'#Cd'#CdOOQP'#Cc'#CcO#kQ[O'#CfO$_QXO'#CaO$fQ[O'#CiO$qQ[O'#DUO$vQ[O'#DXOOQP'#En'#EnO${QdO'#DhO%jQ[O'#DuO${QdO'#DwO%{Q[O'#DyO&WQ[O'#D|O&`Q[O'#ESO&nQ[O'#EUOOQS'#Em'#EmOOQS'#EX'#EXQYQ[OOO&uQXO'#CdO'jQWO'#DdO'oQWO'#EsO'zQ[O'#EsQOQWOOP(UO#tO'#C_POOO)C@])C@]OOQP'#Ch'#ChOOQP,59Q,59QO#kQ[O,59QO(aQ[O'#E]O({QWO,58{O)TQ[O,59TO$qQ[O,59pO$vQ[O,59sO(aQ[O,59vO(aQ[O,59xO(aQ[O,59yO)`Q[O'#DcOOQS,58{,58{OOQP'#Cl'#ClOOQO'#DS'#DSOOQP,59T,59TO)gQWO,59TO)lQWO,59TOOQP'#DW'#DWOOQP,59p,59pOOQO'#DY'#DYO)qQ`O,59sOOQS'#Cq'#CqO${QdO'#CrO)yQvO'#CtO+ZQtO,5:SOOQO'#Cy'#CyO)lQWO'#CxO+oQWO'#CzO+tQ[O'#DPOOQS'#Ep'#EpOOQO'#Dk'#DkO+|Q[O'#DrO,[QWO'#EtO&`Q[O'#DpO,jQWO'#DsOOQO'#Eu'#EuO)OQWO,5:aO,oQpO,5:cOOQS'#D{'#D{O,wQWO,5:eO,|Q[O,5:eOOQO'#EO'#EOO-UQWO,5:hO-ZQWO,5:nO-cQWO,5:pOOQS-E8V-E8VO-kQdO,5:OO-{Q[O'#E_O.YQWO,5;_O.YQWO,5;_POOO'#EW'#EWP.eO#tO,58yPOOO,58y,58yOOQP1G.l1G.lO/[QXO,5:wOOQO-E8Z-E8ZOOQS1G.g1G.gOOQP1G.o1G.oO)gQWO1G.oO)lQWO1G.oOOQP1G/[1G/[O/iQ`O1G/_O0SQXO1G/bO0jQXO1G/dO1QQXO1G/eO1hQWO,59}O1mQ[O'#DTO1tQdO'#CpOOQP1G/_1G/_O${QdO1G/_O1{QpO,59^OOQS,59`,59`O${QdO,59bO2TQWO1G/nOOQS,59d,59dO2YQ!bO,59fOOQS'#DQ'#DQOOQS'#EZ'#EZO2eQ[O,59kOOQS,59k,59kO2mQWO'#DkO2xQWO,5:WO2}QWO,5:^O&`Q[O,5:YO&`Q[O'#E`O3VQWO,5;`O3bQWO,5:[O(aQ[O,5:_OOQS1G/{1G/{OOQS1G/}1G/}OOQS1G0P1G0PO3sQWO1G0PO3xQdO'#EPOOQS1G0S1G0SOOQS1G0Y1G0YOOQS1G0[1G0[O4TQtO1G/jOOQO1G/j1G/jOOQO,5:y,5:yO4kQ[O,5:yOOQO-E8]-E8]O4xQWO1G0yPOOO-E8U-E8UPOOO1G.e1G.eOOQP7+$Z7+$ZOOQP7+$y7+$yO${QdO7+$yOOQS1G/i1G/iO5TQXO'#ErO5[QWO,59oO5aQtO'#EYO6XQdO'#EoO6cQWO,59[O6hQpO7+$yOOQS1G.x1G.xOOQS1G.|1G.|OOQS7+%Y7+%YOOQS1G/Q1G/QO6pQWO1G/QOOQS-E8X-E8XOOQS1G/V1G/VO${QdO1G/rOOQO1G/x1G/xOOQO1G/t1G/tO6uQWO,5:zOOQO-E8^-E8^O7TQXO1G/yOOQS7+%k7+%kO7[QYO'#CtOOQO'#ER'#ERO7gQ`O'#EQOOQO'#EQ'#EQO7rQWO'#EaO7zQdO,5:kOOQS,5:k,5:kO8VQtO'#E^O${QdO'#E^O9WQdO7+%UOOQO7+%U7+%UOOQO1G0e1G0eO9kQpO<<HeO9sQWO,5;^OOQP1G/Z1G/ZOOQS-E8W-E8WO${QdO'#E[O9{QWO,5;ZOOQT1G.v1G.vOOQP<<He<<HeOOQS7+$l7+$lO:TQdO7+%^OOQO7+%e7+%eOOQO,5:l,5:lO3{QdO'#EbO7rQWO,5:{OOQS,5:{,5:{OOQS-E8_-E8_OOQS1G0V1G0VO:[QtO,5:xOOQS-E8[-E8[OOQO<<Hp<<HpOOQPAN>PAN>PO;]QdO,5:vOOQO-E8Y-E8YOOQO<<Hx<<HxOOQO,5:|,5:|OOQO-E8`-E8`OOQS1G0g1G0g",stateData:";o~O#[OS#]QQ~OUYOXYOZTO^VO_VOrXOyWO!]aO!^ZO!j[O!l]O!n^O!q_O!w`O#YRO~OQfOUYOXYOZTO^VO_VOrXOyWO!]aO!^ZO!j[O!l]O!n^O!q_O!w`O#YeO~O#V#gP~P!ZO#]jO~O#YlO~OZnO^qO_qOrsOuoOyrO!PtO!SvO#WuO~O!UwO~P#pOa}O#XzO#YyO~O#Y!OO~O#Y!QO~OQ![Oc!TOg![Oi![Oo!YOr!ZO#X!WO#Y!SO#e!UO~Oc!^O!e!`O!h!aO#Y!]O!U#hP~Oi!fOo!YO#Y!eO~Oi!hO#Y!hO~Oc!^O!e!`O!h!aO#Y!]O~O!Z#hP~P%jOZWX^WX^!XX_WXrWXuWXyWX!PWX!SWX!UWX#WWX~O^!mO~O!Z!nO#V#gX!T#gX~O#V#gX!T#gX~P!ZO#^!qO#_!qO#`!sO~OUYOXYOZTO^VO_VOrXOyWO#YRO~OuoO!UwO~Oa!zO#XzO#YyO~O!T#gP~P!ZOc#RO~Oc#SO~Oq#TO}#UO~OP#WOchXkhX!ZhX!ehX!hhX#YhXbhXQhXghXihXohXrhXuhX!YhX#VhX#XhX#ehXqhX!ThX~Oc!^Ok#XO!e!`O!h!aO#Y!]O!Z#hP~Oc#[O~Oq#`O#Y#]O~Oc!^O!e!`O!h!aO#Y#aO~Ou#eO!c#dO!U#hX!Z#hX~Oc#hO~Ok#XO!Z#jO~O!Z#kO~Oi#lOo!YO~O!U#mO~O!UwO!c#dO~O!UwO!Z#pO~O!Y#rO!Z!Wa#V!Wa!T!Wa~P${O!Z#RX#V#RX!T#RX~P!ZO!Z!nO#V#ga!T#ga~O#^!qO#_!qO#`#xO~OZnO^qO_qOrsOyrO!PtO!SvO#WuO~Ou#Pa!U#Pab#Pa~P.pOq#zO}#{O~OZnO^qO_qOrsOyrO~Ou!Oi!P!Oi!S!Oi!U!Oi#W!Oib!Oi~P/qOu!Qi!P!Qi!S!Qi!U!Qi#W!Qib!Qi~P/qOu!Ri!P!Ri!S!Ri!U!Ri#W!Rib!Ri~P/qO!T#|O~Ob#fP~P(aOb#cP~P${Ob$TOk#XO~O!Z$VO~Ob$WOi$XOp$XO~Oq$ZO#Y#]O~O^!aXb!_X!c!_X~O^$[O~Ob$]O!c#dO~Ou#eO!U#ha!Z#ha~O!c#dOu!da!U!da!Z!dab!da~O!Z$bO~O!T$iO#Y$dO#e$cO~Ok#XOu$kO!Y$mO!Z!Wi#V!Wi!T!Wi~P${O!Z#Ra#V#Ra!T#Ra~P!ZO!Z!nO#V#gi!T#gi~Ob#fX~P#pOb$qO~Ok#XOQ!|Xb!|Xc!|Xg!|Xi!|Xo!|Xr!|Xu!|X#X!|X#Y!|X#e!|X~Ou$sOb#cX~P${Ob$uO~Ok#XOq$vO~Ob$wO~O!c#dOu#Sa!U#Sa!Z#Sa~Ob$yO~P.pOP#WOuhX!UhX~O#e$cOu!tX!U!tX~Ou${O!UwO~O!T%PO#Y$dO#e$cO~Ok#XOQ#QXc#QXg#QXi#QXo#QXr#QXu#QX!Y#QX!Z#QX#V#QX#X#QX#Y#QX#e#QX!T#QX~Ou$kO!Y%SO!Z!Wq#V!Wq!T!Wq~P${Ok#XOq%TO~OuoOb#fa~Ou$sOb#ca~Ob%WO~P${Ok#XOQ#Qac#Qag#Qai#Qao#Qar#Qau#Qa!Y#Qa!Z#Qa#V#Qa#X#Qa#Y#Qa#e#Qa!T#Qa~Ob#Oau#Oa~P${O#[p#]#ek!S#e~",goto:"-g#jPPP#kP#nP#w$WP#wP$g#wPP$mPPP$s$|$|P%`P$|P$|%z&^PPPP$|&vP&z'Q#wP'W#w'^P#wP#w#wPPP'd'y(WPP#nPP(_(_(i(_P(_P(_(_P#nP#nP#nP(l#nP(o(r(u(|#nP#nP)R)X)h)v)|*S*^*d*n*t*zPPPPPPPPPP+Q+Z+v+yP,o,r,x-RRkQ_bOPdhw!n#tkYOPdhotuvw!n#R#h#tkSOPdhotuvw!n#R#h#tQmTR!tnQ{VR!xqQ!x}Q#Z!XR#y!zq![Z]!T!m#S#U#X#q#{$Q$[$k$l$s$x%Up![Z]!T!m#S#U#X#q#{$Q$[$k$l$s$x%UU$f#m$h${R$z$eq!XZ]!T!m#S#U#X#q#{$Q$[$k$l$s$x%Up![Z]!T!m#S#U#X#q#{$Q$[$k$l$s$x%UQ!f^R#l!gT#^!Z#_Q|VR!yqQ!x|R#y!yQ!PWR!{rQ!RXR!|sQxUQ!wpQ#i!cQ#o!jQ#p!kQ$}$gR%Z$|SgPwQ!phQ#s!nR$n#tZfPhw!n#ta!b[`a!V!^!`#d#eR#b!^R!g^R!i_R#n!iS$g#m$hR%X${V$e#m$h${Q!rjR#w!rQdOShPwU!ldh#tR#t!nQ$Q#SU$r$Q$x%UQ$x$[R%U$sQ#_!ZR$Y#_Q$t$QR%V$tQpUS!vp$pR$p#}Q$l#qR%R$lQ!ogS#u!o#vR#v!pQ#f!_R$`#fQ$h#mR%O$hQ$|$gR%Y$|_cOPdhw!n#t^UOPdhw!n#tQ!uoQ!}tQ#OuQ#PvQ#}#RR$a#hR$R#SQ!VZQ!d]Q#V!TQ#q!m[$P#S$Q$[$s$x%UQ$S#UQ$U#XS$j#q$lQ$o#{R%Q$kR$O#RQiPR#QwQ!c[Q!kaR#Y!VU!_[a!VQ!j`Q#c!^Q#g!`Q$^#dR$_#e",nodeNames:"⚠ Unit VariableName Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector . ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee CallLiteral CallTag ParenthesizedContent ] [ LineNames LineName , PseudoClassName ArgList IdSelector # IdName AttributeSelector AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp } { Block Declaration PropertyName Important ; ImportStatement AtKeyword import KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports AtRule Styles",maxTerm:117,nodeProps:[["isolate",-2,3,25,""],["openedBy",18,"(",33,"[",51,"{"],["closedBy",19,")",34,"]",52,"}"]],propSources:[qke],skippedNodes:[0,3,88],repeatNodeCount:11,tokenData:"J^~R!^OX$}X^%u^p$}pq%uqr)Xrs.Rst/utu6duv$}vw7^wx7oxy9^yz9oz{9t{|:_|}?Q}!O?c!O!P@Q!P!Q@i!Q![Ab![!]B]!]!^CX!^!_$}!_!`Cj!`!aC{!a!b$}!b!cDw!c!}$}!}#OFa#O#P$}#P#QFr#Q#R6d#R#T$}#T#UGT#U#c$}#c#dHf#d#o$}#o#pH{#p#q6d#q#rI^#r#sIo#s#y$}#y#z%u#z$f$}$f$g%u$g#BY$}#BY#BZ%u#BZ$IS$}$IS$I_%u$I_$I|$}$I|$JO%u$JO$JT$}$JT$JU%u$JU$KV$}$KV$KW%u$KW&FU$}&FU&FV%u&FV;'S$};'S;=`JW<%lO$}`%QSOy%^z;'S%^;'S;=`%o<%lO%^`%cSp`Oy%^z;'S%^;'S;=`%o<%lO%^`%rP;=`<%l%^~%zh#[~OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^~'mh#[~p`OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^l)[UOy%^z#]%^#]#^)n#^;'S%^;'S;=`%o<%lO%^l)sUp`Oy%^z#a%^#a#b*V#b;'S%^;'S;=`%o<%lO%^l*[Up`Oy%^z#d%^#d#e*n#e;'S%^;'S;=`%o<%lO%^l*sUp`Oy%^z#c%^#c#d+V#d;'S%^;'S;=`%o<%lO%^l+[Up`Oy%^z#f%^#f#g+n#g;'S%^;'S;=`%o<%lO%^l+sUp`Oy%^z#h%^#h#i,V#i;'S%^;'S;=`%o<%lO%^l,[Up`Oy%^z#T%^#T#U,n#U;'S%^;'S;=`%o<%lO%^l,sUp`Oy%^z#b%^#b#c-V#c;'S%^;'S;=`%o<%lO%^l-[Up`Oy%^z#h%^#h#i-n#i;'S%^;'S;=`%o<%lO%^l-uS!Y[p`Oy%^z;'S%^;'S;=`%o<%lO%^~.UWOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o<%lO.R~.sOi~~.vRO;'S.R;'S;=`/P;=`O.R~/SXOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o;=`<%l.R<%lO.R~/rP;=`<%l.Rn/zYyQOy%^z!Q%^!Q![0j![!c%^!c!i0j!i#T%^#T#Z0j#Z;'S%^;'S;=`%o<%lO%^l0oYp`Oy%^z!Q%^!Q![1_![!c%^!c!i1_!i#T%^#T#Z1_#Z;'S%^;'S;=`%o<%lO%^l1dYp`Oy%^z!Q%^!Q![2S![!c%^!c!i2S!i#T%^#T#Z2S#Z;'S%^;'S;=`%o<%lO%^l2ZYg[p`Oy%^z!Q%^!Q![2y![!c%^!c!i2y!i#T%^#T#Z2y#Z;'S%^;'S;=`%o<%lO%^l3QYg[p`Oy%^z!Q%^!Q![3p![!c%^!c!i3p!i#T%^#T#Z3p#Z;'S%^;'S;=`%o<%lO%^l3uYp`Oy%^z!Q%^!Q![4e![!c%^!c!i4e!i#T%^#T#Z4e#Z;'S%^;'S;=`%o<%lO%^l4lYg[p`Oy%^z!Q%^!Q![5[![!c%^!c!i5[!i#T%^#T#Z5[#Z;'S%^;'S;=`%o<%lO%^l5aYp`Oy%^z!Q%^!Q![6P![!c%^!c!i6P!i#T%^#T#Z6P#Z;'S%^;'S;=`%o<%lO%^l6WSg[p`Oy%^z;'S%^;'S;=`%o<%lO%^d6gUOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^d7QS}Sp`Oy%^z;'S%^;'S;=`%o<%lO%^b7cSXQOy%^z;'S%^;'S;=`%o<%lO%^~7rWOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W<%lO7o~8_RO;'S7o;'S;=`8h;=`O7o~8kXOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W;=`<%l7o<%lO7o~9ZP;=`<%l7on9cSc^Oy%^z;'S%^;'S;=`%o<%lO%^~9tOb~n9{UUQkWOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^n:fWkW!SQOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^l;TUp`Oy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^l;nYp`#e[Oy%^z!Q%^!Q![;g![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^l<cYp`Oy%^z{%^{|=R|}%^}!O=R!O!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=WUp`Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=qUp`#e[Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l>[[p`#e[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^n?VSu^Oy%^z;'S%^;'S;=`%o<%lO%^l?hWkWOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^n@VUZQOy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^~@nTkWOy%^z{@}{;'S%^;'S;=`%o<%lO%^~AUSp`#]~Oy%^z;'S%^;'S;=`%o<%lO%^lAg[#e[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^bBbU^QOy%^z![%^![!]Bt!];'S%^;'S;=`%o<%lO%^bB{S_Qp`Oy%^z;'S%^;'S;=`%o<%lO%^nC^S!Z^Oy%^z;'S%^;'S;=`%o<%lO%^dCoS}SOy%^z;'S%^;'S;=`%o<%lO%^bDQU!PQOy%^z!`%^!`!aDd!a;'S%^;'S;=`%o<%lO%^bDkS!PQp`Oy%^z;'S%^;'S;=`%o<%lO%^bDzWOy%^z!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^bEk[!]Qp`Oy%^z}%^}!OEd!O!Q%^!Q![Ed![!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^nFfSr^Oy%^z;'S%^;'S;=`%o<%lO%^nFwSq^Oy%^z;'S%^;'S;=`%o<%lO%^bGWUOy%^z#b%^#b#cGj#c;'S%^;'S;=`%o<%lO%^bGoUp`Oy%^z#W%^#W#XHR#X;'S%^;'S;=`%o<%lO%^bHYS!cQp`Oy%^z;'S%^;'S;=`%o<%lO%^bHiUOy%^z#f%^#f#gHR#g;'S%^;'S;=`%o<%lO%^fIQS!UUOy%^z;'S%^;'S;=`%o<%lO%^nIcS!T^Oy%^z;'S%^;'S;=`%o<%lO%^fItU!SQOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^`JZP;=`<%l$}",tokenizers:[Uke,zke,Lke,1,2,3,4,new Dw("m~RRYZ[z{a~~g~aO#_~~dP!P!Qg~lO#`~~",28,106)],topRules:{StyleSheet:[0,4],Styles:[1,87]},specialized:[{term:101,get:n=>Fke[n]||-1},{term:59,get:n=>Zke[n]||-1},{term:102,get:n=>Bke[n]||-1}],tokenPrec:1219}),Xke=1024;let Gke=0,h_=class{constructor(e,t){this.from=e,this.to=t}},jt=class{constructor(e={}){this.id=Gke++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Wo.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}};jt.closedBy=new jt({deserialize:n=>n.split(" ")});jt.openedBy=new jt({deserialize:n=>n.split(" ")});jt.group=new jt({deserialize:n=>n.split(" ")});jt.isolate=new jt({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});jt.contextHash=new jt({perNode:!0});jt.lookAhead=new jt({perNode:!0});jt.mounted=new jt({perNode:!0});let qw=class{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[jt.mounted.id]}};const Yke=Object.create(null);let Wo=class f7{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):Yke,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new f7(e.name||"",t,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(jt.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(jt.group),s=-1;s<(i?i.length:0);s++){let o=t[s<0?r.name:i[s]];if(o)return o}}}};Wo.none=new Wo("",Object.create(null),0,8);const U0=new WeakMap,B4=new WeakMap;var er;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(er||(er={}));let Vi=class uE{constructor(e,t,r,i,s){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=qw.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new dE(this.topNode,e)}cursorAt(e,t=0,r=0){let i=U0.get(this)||this.topNode,s=new dE(i);return s.moveTo(e,t),U0.set(this,s._tree),s}get topNode(){return new Xo(this,0,0,null)}resolve(e,t=0){let r=fO(U0.get(this)||this.topNode,e,t,!1);return U0.set(this,r),r}resolveInner(e,t=0){let r=fO(B4.get(this)||this.topNode,e,t,!0);return B4.set(this,r),r}resolveStack(e,t=0){return e_e(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:s=this.length}=e,o=e.mode||0,a=(o&er.IncludeAnonymous)>0;for(let l=this.cursor(o|er.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=i&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:AN(Wo.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new uE(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new uE(Wo.none,t,r,i)))}static build(e){return t_e(e)}};Vi.empty=new Vi(Wo.none,[],[],0);let Hke=class p7{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new p7(this.buffer,this.index)}},yf=class m7{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return Wo.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(g7(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,t,r){let i=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=i[a++],s[l++]=i[a++]-r;let c=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,c)}return new m7(s,o,this.set)}};function g7(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function fO(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!r&&n instanceof Xo&&n.index<0?null:n.parent;if(!o)return n;n=o}let s=r?0:er.IgnoreOverlays;if(r)for(let o=n,a=o.parent;a;o=a,a=o.parent)o instanceof Xo&&o.index<0&&((i=a.enter(e,t,s))===null||i===void 0?void 0:i.from)!=o.from&&(n=a);for(;;){let o=n.enter(e,t,s);if(!o)return n;n=o}}let O7=class{cursor(e=0){return new dE(this,e)}getChild(e,t=null,r=null){let i=W4(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return W4(this,e,t,r)}resolve(e,t=0){return fO(this,e,t,!1)}resolveInner(e,t=0){return fO(this,e,t,!0)}matchContext(e){return hE(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}},Xo=class Wv extends O7{constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=t>0?a.length:-1;e!=c;e+=t){let u=a[e],d=l[e]+o.from;if(g7(i,r,d,d+u.length)){if(u instanceof yf){if(s&er.ExcludeBuffers)continue;let f=u.findChild(0,u.buffer.length,t,r-d,i);if(f>-1)return new pO(new Kke(o,u,e,d),null,f)}else if(s&er.IncludeAnonymous||!u.type.isAnonymous||EN(u)){let f;if(!(s&er.IgnoreMounts)&&(f=qw.get(u))&&!f.overlay)return new Wv(f.tree,d,e,o);let m=new Wv(u,d,e,o);return s&er.IncludeAnonymous||!m.type.isAnonymous?m:m.nextChild(t<0?u.children.length-1:0,t,r,i)}}}if(s&er.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&er.IgnoreOverlays)&&(i=qw.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:o,to:a}of i.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new Wv(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function W4(n,e,t,r){let i=n.cursor(),s=[];if(!i.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=i.type.is(t),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function hE(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}let Kke=class{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}},pO=class Om extends O7{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return s<0?null:new Om(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&er.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new Om(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Om(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Om(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),t.push(0)}return new Vi(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function y7(n){if(!n.length)return null;let e=0,t=n[0];for(let s=1;s<n.length;s++){let o=n[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let r=t instanceof Xo&&t.index<0?null:t.parent,i=n.slice();return r?i[e]=r:i.splice(e,1),new Jke(i,t)}let Jke=class{constructor(e,t){this.heads=e,this.node=t}get next(){return y7(this.heads)}};function e_e(n,e,t){let r=n.resolveInner(e,t),i=null;for(let s=r instanceof Xo?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[r])).push(o.resolve(e,t)),s=o}else{let o=qw.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new Xo(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(fO(a,e,t,!1))}}return i?y7(i):r}let dE=class{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Xo)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof Xo?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&er.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&er.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&er.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let s=t+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&er.IncludeAnonymous||a instanceof yf||!a.type.isAnonymous||EN(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;t=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)t=new pO(this.buffer,t,this.stack[i]);return this.bufferNode=new pO(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return hE(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return hE(this._tree,e,i);let o=r[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}};function EN(n){return n.children.some(e=>e instanceof yf||!e.type.isAnonymous||EN(e))}function t_e(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=Xke,reused:s=[],minRepeatType:o=r.types.length}=n,a=Array.isArray(t)?new Hke(t,t.length):t,l=r.types,c=0,u=0;function d(C,N,O,T,S,A){let{id:_,start:v,end:E,size:j}=a,V=u,U=c;for(;j<0;)if(a.next(),j==-1){let Z=s[_];O.push(Z),T.push(v-C);return}else if(j==-3){c=_;return}else if(j==-4){u=_;return}else throw new RangeError(`Unrecognized record size: ${j}`);let X=l[_],D,L,Y=v-C;if(E-v<=i&&(L=x(a.pos-N,S))){let Z=new Uint16Array(L.size-L.skip),F=a.pos-L.size,B=Z.length;for(;a.pos>F;)B=w(L.start,Z,B);D=new yf(Z,E-L.start,r),Y=L.start-C}else{let Z=a.pos-j;a.next();let F=[],B=[],J=_>=o?_:-1,ae=0,oe=E;for(;a.pos>Z;)J>=0&&a.id==J&&a.size>=0?(a.end<=oe-i&&(g(F,B,v,ae,a.end,oe,J,V,U),ae=F.length,oe=a.end),a.next()):A>2500?f(v,Z,F,B):d(v,Z,F,B,J,A+1);if(J>=0&&ae>0&&ae<F.length&&g(F,B,v,ae,v,oe,J,V,U),F.reverse(),B.reverse(),J>-1&&ae>0){let ie=m(X,U);D=AN(X,F,B,0,F.length,0,E-v,ie,ie)}else D=y(X,F,B,E-v,V-E,U)}O.push(D),T.push(Y)}function f(C,N,O,T){let S=[],A=0,_=-1;for(;a.pos>N;){let{id:v,start:E,end:j,size:V}=a;if(V>4)a.next();else{if(_>-1&&E<_)break;_<0&&(_=j-i),S.push(v,E,j),A++,a.next()}}if(A){let v=new Uint16Array(A*4),E=S[S.length-2];for(let j=S.length-3,V=0;j>=0;j-=3)v[V++]=S[j],v[V++]=S[j+1]-E,v[V++]=S[j+2]-E,v[V++]=V;O.push(new yf(v,S[2]-E,r)),T.push(E-C)}}function m(C,N){return(O,T,S)=>{let A=0,_=O.length-1,v,E;if(_>=0&&(v=O[_])instanceof Vi){if(!_&&v.type==C&&v.length==S)return v;(E=v.prop(jt.lookAhead))&&(A=T[_]+v.length+E)}return y(C,O,T,S,A,N)}}function g(C,N,O,T,S,A,_,v,E){let j=[],V=[];for(;C.length>T;)j.push(C.pop()),V.push(N.pop()+O-S);C.push(y(r.types[_],j,V,A-S,v-A,E)),N.push(S-O)}function y(C,N,O,T,S,A,_){if(A){let v=[jt.contextHash,A];_=_?[v].concat(_):[v]}if(S>25){let v=[jt.lookAhead,S];_=_?[v].concat(_):[v]}return new Vi(C,N,O,T,_)}function x(C,N){let O=a.fork(),T=0,S=0,A=0,_=O.end-i,v={size:0,start:0,skip:0};e:for(let E=O.pos-C;O.pos>E;){let j=O.size;if(O.id==N&&j>=0){v.size=T,v.start=S,v.skip=A,A+=4,T+=4,O.next();continue}let V=O.pos-j;if(j<0||V<E||O.start<_)break;let U=O.id>=o?4:0,X=O.start;for(O.next();O.pos>V;){if(O.size<0)if(O.size==-3)U+=4;else break e;else O.id>=o&&(U+=4);O.next()}S=X,T+=j,A+=U}return(N<0||T==C)&&(v.size=T,v.start=S,v.skip=A),v.size>4?v:void 0}function w(C,N,O){let{id:T,start:S,end:A,size:_}=a;if(a.next(),_>=0&&T<o){let v=O;if(_>4){let E=a.pos-(_-4);for(;a.pos>E;)O=w(C,N,O)}N[--O]=v,N[--O]=A-C,N[--O]=S-C,N[--O]=T}else _==-3?c=T:_==-4&&(u=T);return O}let k=[],P=[];for(;a.pos>0;)d(n.start||0,n.bufferStart||0,k,P,-1,0);let Q=(e=n.length)!==null&&e!==void 0?e:k.length?P[0]+k[0].length:0;return new Vi(l[n.topID],k.reverse(),P.reverse(),Q)}const X4=new WeakMap;function Xv(n,e){if(!n.isAnonymous||e instanceof yf||e.type!=n)return 1;let t=X4.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof Vi)){t=1;break}t+=Xv(n,r)}X4.set(e,t)}return t}function AN(n,e,t,r,i,s,o,a,l){let c=0;for(let g=r;g<i;g++)c+=Xv(n,e[g]);let u=Math.ceil(c*1.5/8),d=[],f=[];function m(g,y,x,w,k){for(let P=x;P<w;){let Q=P,C=y[P],N=Xv(n,g[P]);for(P++;P<w;P++){let O=Xv(n,g[P]);if(N+O>=u)break;N+=O}if(P==Q+1){if(N>u){let O=g[Q];m(O.children,O.positions,0,O.children.length,y[Q]+k);continue}d.push(g[Q])}else{let O=y[P-1]+g[P-1].length-C;d.push(AN(n,g,y,Q,P,C,O,null,l))}f.push(C+k-s)}}return m(e,t,r,i,0),(a||l)(d,f,o)}class n_e{constructor(){this.map=new WeakMap}setBuffer(e,t,r){let i=this.map.get(e);i||this.map.set(e,i=new Map),i.set(t,r)}getBuffer(e,t){let r=this.map.get(e);return r&&r.get(t)}set(e,t){e instanceof pO?this.setBuffer(e.context.buffer,e.index,t):e instanceof Xo&&this.map.set(e.tree,t)}get(e){return e instanceof pO?this.getBuffer(e.context.buffer,e.index):e instanceof Xo?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}let Gv=class fE{constructor(e,t,r,i,s=!1,o=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],r=!1){let i=[new fE(0,e.length,e,0,!1,r)];for(let s of t)s.to>e.length&&i.push(s);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let u=a<t.length?t[a]:null,d=u?u.fromA:1e9;if(d-l>=r)for(;o&&o.from<d;){let f=o;if(l>=f.from||d<=f.to||c){let m=Math.max(f.from,l)-c,g=Math.min(f.to,d)-c;f=m>=g?null:new fE(m,g,f.tree,f.offset+c,a>0,!!u)}if(f&&i.push(f),o.to>d)break;o=s<e.length?e[s++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return i}},r_e=class{startParse(e,t,r){return typeof e=="string"&&(e=new i_e(e)),r=r?r.length?r.map(i=>new h_(i.from,i.to)):[new h_(0,0)]:[new h_(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let s=i.advance();if(s)return s}}},i_e=class{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}};new jt({perNode:!0});var d_;const ed=new jt;function s_e(n){return de.define({combine:n?e=>e.concat(n):void 0})}const o_e=new jt;let Es=class{constructor(e,t,r=[],i=""){this.data=e,this.name=i,Ve.prototype.hasOwnProperty("tree")||Object.defineProperty(Ve.prototype,"tree",{get(){return Fw(this)}}),this.parser=t,this.extension=[vf.of(this),Ve.languageData.of((s,o,a)=>{let l=G4(s,o,a),c=l.type.prop(ed);if(!c)return[];let u=s.facet(c),d=l.type.prop(o_e);if(d){let f=l.resolve(o-l.from,a);for(let m of d)if(m.test(f,s)){let g=s.facet(m.facet);return m.type=="replace"?g:g.concat(u)}}return u})].concat(r)}isActiveAt(e,t,r=-1){return G4(e,t,r).type.prop(ed)==this.data}findRegions(e){let t=e.facet(vf);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let r=[],i=(s,o)=>{if(s.prop(ed)==this.data){r.push({from:o,to:o+s.length});return}let a=s.prop(jt.mounted);if(a){if(a.tree.prop(ed)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+o,to:l.to+o});else r.push({from:o,to:o+s.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+o),r.length>l)return}}for(let l=0;l<s.children.length;l++){let c=s.children[l];c instanceof Vi&&i(c,s.positions[l]+o)}};return i(Fw(e),0),r}get allowsNesting(){return!0}};Es.setState=Me.define();function G4(n,e,t){let r=n.facet(vf),i=Fw(n).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,t,er.ExcludeBuffers))s.type.isTop&&(i=s);return i}let a_e=class pE extends Es{constructor(e,t,r){super(e,t,[],r),this.parser=t}static define(e){let t=s_e(e.languageData);return new pE(t,e.parser.configure({props:[ed.add(r=>r.isTop?t:void 0)]}),e.name)}configure(e,t){return new pE(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}};function Fw(n){let e=n.field(Es.state,!1);return e?e.tree:Vi.empty}let l_e=class{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}},Lp=null,c_e=class mE{constructor(e,t,r=[],i,s,o,a,l){this.parser=e,this.state=t,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new mE(e,t,[],Vi.empty,0,r,[],null)}startParse(){return this.parser.startParse(new l_e(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=Vi.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(Gv.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Gv.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=Lp;Lp=this;try{return e()}finally{Lp=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=Y4(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:i,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,u,d,f)=>l.push({fromA:c,toA:u,fromB:d,toB:f})),r=Gv.applyChanges(r,l),i=Vi.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),d=e.mapPos(c.to,-1);u<d&&a.push({from:u,to:d})}}}return new mE(this.parser,t,r,i,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=Y4(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends r_e{createParse(t,r,i){let s=i[0].from,o=i[i.length-1].to;return{parsedPos:s,advance(){let l=Lp;if(l){for(let c of i)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new Vi(Wo.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return Lp}};function Y4(n,e,t){return Gv.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}let gE=class OE{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new OE(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=c_e.create(e.facet(vf).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new OE(r)}};Es.state=Xt.define({create:gE.init,update(n,e){for(let t of e.effects)if(t.is(Es.setState))return t.value;return e.startState.facet(vf)!=e.state.facet(vf)?gE.init(e.state):n.apply(e)}});let v7=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(v7=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const f_=typeof navigator<"u"&&(!((d_=navigator.scheduling)===null||d_===void 0)&&d_.isInputPending)?()=>navigator.scheduling.isInputPending():null,u_e=Vt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Es.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Es.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=v7(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(Es.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!f_?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<i&&r.doc.length>i+1e3,l=s.context.work(()=>f_&&f_()||Date.now()>o,i+(a?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Es.setState.of(new gE(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>Rn(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),vf=de.define({combine(n){return n.length?n[0]:null},enables:n=>[Es.state,u_e,fe.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});let h_e=class{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}};const d_e=new jt;function f_e({except:n,units:e=1}={}){return t=>{let r=n&&n.test(t.textAfter);return t.baseIndent+(r?0:e*t.unit)}}const p_e=new jt;function m_e(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}let g_e=class x7{constructor(e,t){this.specs=e;let r;function i(a){let l=Nn.newName();return(r||(r=Object.create(null)))["."+l]=a,l}const s=typeof t.all=="string"?t.all:t.all?i(t.all):void 0,o=t.scope;this.scope=o instanceof Es?a=>a.prop(ed)==o.data:o?a=>a==o:void 0,this.style=Zc(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=r?new Nn(r):null,this.themeType=t.themeType}static define(e,t){return new x7(e,t||{})}};$.meta,$.link,$.heading,$.emphasis,$.strong,$.strikethrough,$.keyword,$.atom,$.bool,$.url,$.contentSeparator,$.labelName,$.literal,$.inserted,$.string,$.deleted,$.regexp,$.escape,$.string,$.variableName,$.variableName,$.typeName,$.namespace,$.className,$.variableName,$.macroName,$.propertyName,$.comment,$.invalid;const O_e=Object.create(null),H4=[Wo.none],K4=[],J4=Object.create(null),y_e=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])y_e[n]=v_e(O_e,e);function p_(n,e){K4.indexOf(n)>-1||(K4.push(n),console.warn(e))}function v_e(n,e){let t=[];for(let a of e.split(" ")){let l=[];for(let c of a.split(".")){let u=n[c]||$[c];u?typeof u=="function"?l.length?l=l.map(u):p_(c,`Modifier ${c} used at start of tag`):l.length?p_(c,`Tag ${c} used as modifier`):l=Array.isArray(u)?u:[u]:p_(c,`Unknown highlighting tag ${c}`)}for(let c of l)t.push(c)}if(!t.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+t.map(a=>a.id),s=J4[i];if(s)return s.id;let o=J4[i]=Wo.define({id:H4.length,name:r,props:[Gi({[r]:t})]});return H4.push(o),o.id}it.RTL,it.LTR;let m_=null;function g_(){if(!m_&&typeof document=="object"&&document.body){let{style:n}=document.body,e=[],t=new Set;for(let r in n)r!="cssText"&&r!="cssFloat"&&typeof n[r]=="string"&&(/[A-Z]/.test(r)&&(r=r.replace(/[A-Z]/g,i=>"-"+i.toLowerCase())),t.has(r)||(e.push(r),t.add(r)));m_=e.sort().map(r=>({type:"property",label:r,apply:r+": "}))}return m_||[]}const eL=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(n=>({type:"class",label:n})),tL=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(n=>({type:"keyword",label:n})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(n=>({type:"constant",label:n}))),x_e=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(n=>({type:"type",label:n})),w_e=["@charset","@color-profile","@container","@counter-style","@font-face","@font-feature-values","@font-palette-values","@import","@keyframes","@layer","@media","@namespace","@page","@position-try","@property","@scope","@starting-style","@supports","@view-transition"].map(n=>({type:"keyword",label:n})),ha=/^(\w[\w-]*|-\w[\w-]*|)$/,b_e=/^-(-[\w-]*)?$/;function S_e(n,e){var t;if((n.name=="("||n.type.isError)&&(n=n.parent||n),n.name!="ArgList")return!1;let r=(t=n.parent)===null||t===void 0?void 0:t.firstChild;return(r==null?void 0:r.name)!="Callee"?!1:e.sliceString(r.from,r.to)=="var"}const nL=new n_e,k_e=["Declaration"];function __e(n){for(let e=n;;){if(e.type.isTop)return e;if(!(e=e.parent))return n}}function w7(n,e,t){if(e.to-e.from>4096){let r=nL.get(e);if(r)return r;let i=[],s=new Set,o=e.cursor(er.IncludeAnonymous);if(o.firstChild())do for(let a of w7(n,o.node,t))s.has(a.label)||(s.add(a.label),i.push(a));while(o.nextSibling());return nL.set(e,i),i}else{let r=[],i=new Set;return e.cursor().iterate(s=>{var o;if(t(s)&&s.matchContext(k_e)&&((o=s.node.nextSibling)===null||o===void 0?void 0:o.name)==":"){let a=n.sliceString(s.from,s.to);i.has(a)||(i.add(a),r.push({label:a,type:"variable"}))}}),r}}const T_e=n=>e=>{let{state:t,pos:r}=e,i=Fw(t).resolveInner(r,-1),s=i.type.isError&&i.from==i.to-1&&t.doc.sliceString(i.from,i.to)=="-";if(i.name=="PropertyName"||(s||i.name=="TagName")&&/^(Block|Styles)$/.test(i.resolve(i.to).name))return{from:i.from,options:g_(),validFor:ha};if(i.name=="ValueName")return{from:i.from,options:tL,validFor:ha};if(i.name=="PseudoClassName")return{from:i.from,options:eL,validFor:ha};if(n(i)||(e.explicit||s)&&S_e(i,t.doc))return{from:n(i)||s?i.from:r,options:w7(t.doc,__e(i),n),validFor:b_e};if(i.name=="TagName"){for(let{parent:l}=i;l;l=l.parent)if(l.name=="Block")return{from:i.from,options:g_(),validFor:ha};return{from:i.from,options:x_e,validFor:ha}}if(i.name=="AtKeyword")return{from:i.from,options:w_e,validFor:ha};if(!e.explicit)return null;let o=i.resolve(r),a=o.childBefore(r);return a&&a.name==":"&&o.name=="PseudoClassSelector"?{from:r,options:eL,validFor:ha}:a&&a.name==":"&&o.name=="Declaration"||o.name=="ArgList"?{from:r,options:tL,validFor:ha}:o.name=="Block"||o.name=="Styles"?{from:r,options:g_(),validFor:ha}:null},P_e=T_e(n=>n.name=="VariableName"),Zw=a_e.define({name:"css",parser:Wke.configure({props:[d_e.add({Declaration:f_e()}),p_e.add({"Block KeyframeList":m_e})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function b7(){return new h_e(Zw,Zw.data.of({autocomplete:P_e}))}const C_e=1024;let E_e=0,O_=class{constructor(e,t){this.from=e,this.to=t}},Rt=class{constructor(e={}){this.id=E_e++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Go.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}};Rt.closedBy=new Rt({deserialize:n=>n.split(" ")});Rt.openedBy=new Rt({deserialize:n=>n.split(" ")});Rt.group=new Rt({deserialize:n=>n.split(" ")});Rt.isolate=new Rt({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});Rt.contextHash=new Rt({perNode:!0});Rt.lookAhead=new Rt({perNode:!0});Rt.mounted=new Rt({perNode:!0});let Bw=class{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[Rt.mounted.id]}};const A_e=Object.create(null);let Go=class S7{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):A_e,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new S7(e.name||"",t,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Rt.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(Rt.group),s=-1;s<(i?i.length:0);s++){let o=t[s<0?r.name:i[s]];if(o)return o}}}};Go.none=new Go("",Object.create(null),0,8);const z0=new WeakMap,rL=new WeakMap;var hr;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(hr||(hr={}));let Li=class yE{constructor(e,t,r,i,s){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=Bw.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new wE(this.topNode,e)}cursorAt(e,t=0,r=0){let i=z0.get(this)||this.topNode,s=new wE(i);return s.moveTo(e,t),z0.set(this,s._tree),s}get topNode(){return new Ac(this,0,0,null)}resolve(e,t=0){let r=mO(z0.get(this)||this.topNode,e,t,!1);return z0.set(this,r),r}resolveInner(e,t=0){let r=mO(rL.get(this)||this.topNode,e,t,!0);return rL.set(this,r),r}resolveStack(e,t=0){return I_e(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:s=this.length}=e,o=e.mode||0,a=(o&hr.IncludeAnonymous)>0;for(let l=this.cursor(o|hr.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=i&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:QN(Go.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new yE(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new yE(Go.none,t,r,i)))}static build(e){return $_e(e)}};Li.empty=new Li(Go.none,[],[],0);let R_e=class k7{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new k7(this.buffer,this.index)}},xf=class _7{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return Go.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(T7(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,t,r){let i=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=i[a++],s[l++]=i[a++]-r;let c=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,c)}return new _7(s,o,this.set)}};function T7(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function mO(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!r&&n instanceof Ac&&n.index<0?null:n.parent;if(!o)return n;n=o}let s=r?0:hr.IgnoreOverlays;if(r)for(let o=n,a=o.parent;a;o=a,a=o.parent)o instanceof Ac&&o.index<0&&((i=a.enter(e,t,s))===null||i===void 0?void 0:i.from)!=o.from&&(n=a);for(;;){let o=n.enter(e,t,s);if(!o)return n;n=o}}let P7=class{cursor(e=0){return new wE(this,e)}getChild(e,t=null,r=null){let i=iL(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return iL(this,e,t,r)}resolve(e,t=0){return mO(this,e,t,!1)}resolveInner(e,t=0){return mO(this,e,t,!0)}matchContext(e){return vE(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}},Ac=class Yv extends P7{constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=t>0?a.length:-1;e!=c;e+=t){let u=a[e],d=l[e]+o.from;if(T7(i,r,d,d+u.length)){if(u instanceof xf){if(s&hr.ExcludeBuffers)continue;let f=u.findChild(0,u.buffer.length,t,r-d,i);if(f>-1)return new xE(new Q_e(o,u,e,d),null,f)}else if(s&hr.IncludeAnonymous||!u.type.isAnonymous||RN(u)){let f;if(!(s&hr.IgnoreMounts)&&(f=Bw.get(u))&&!f.overlay)return new Yv(f.tree,d,e,o);let m=new Yv(u,d,e,o);return s&hr.IncludeAnonymous||!m.type.isAnonymous?m:m.nextChild(t<0?u.children.length-1:0,t,r,i)}}}if(s&hr.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&hr.IgnoreOverlays)&&(i=Bw.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:o,to:a}of i.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new Yv(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function iL(n,e,t,r){let i=n.cursor(),s=[];if(!i.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=i.type.is(t),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function vE(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}let Q_e=class{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}},xE=class ym extends P7{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return s<0?null:new ym(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&hr.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new ym(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new ym(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new ym(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),t.push(0)}return new Li(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function C7(n){if(!n.length)return null;let e=0,t=n[0];for(let s=1;s<n.length;s++){let o=n[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let r=t instanceof Ac&&t.index<0?null:t.parent,i=n.slice();return r?i[e]=r:i.splice(e,1),new N_e(i,t)}let N_e=class{constructor(e,t){this.heads=e,this.node=t}get next(){return C7(this.heads)}};function I_e(n,e,t){let r=n.resolveInner(e,t),i=null;for(let s=r instanceof Ac?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[r])).push(o.resolve(e,t)),s=o}else{let o=Bw.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new Ac(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(mO(a,e,t,!1))}}return i?C7(i):r}let wE=class{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Ac)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof Ac?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&hr.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&hr.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&hr.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let s=t+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&hr.IncludeAnonymous||a instanceof xf||!a.type.isAnonymous||RN(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;t=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)t=new xE(this.buffer,t,this.stack[i]);return this.bufferNode=new xE(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return vE(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return vE(this._tree,e,i);let o=r[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}};function RN(n){return n.children.some(e=>e instanceof xf||!e.type.isAnonymous||RN(e))}function $_e(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=C_e,reused:s=[],minRepeatType:o=r.types.length}=n,a=Array.isArray(t)?new R_e(t,t.length):t,l=r.types,c=0,u=0;function d(C,N,O,T,S,A){let{id:_,start:v,end:E,size:j}=a,V=u,U=c;for(;j<0;)if(a.next(),j==-1){let Z=s[_];O.push(Z),T.push(v-C);return}else if(j==-3){c=_;return}else if(j==-4){u=_;return}else throw new RangeError(`Unrecognized record size: ${j}`);let X=l[_],D,L,Y=v-C;if(E-v<=i&&(L=x(a.pos-N,S))){let Z=new Uint16Array(L.size-L.skip),F=a.pos-L.size,B=Z.length;for(;a.pos>F;)B=w(L.start,Z,B);D=new xf(Z,E-L.start,r),Y=L.start-C}else{let Z=a.pos-j;a.next();let F=[],B=[],J=_>=o?_:-1,ae=0,oe=E;for(;a.pos>Z;)J>=0&&a.id==J&&a.size>=0?(a.end<=oe-i&&(g(F,B,v,ae,a.end,oe,J,V,U),ae=F.length,oe=a.end),a.next()):A>2500?f(v,Z,F,B):d(v,Z,F,B,J,A+1);if(J>=0&&ae>0&&ae<F.length&&g(F,B,v,ae,v,oe,J,V,U),F.reverse(),B.reverse(),J>-1&&ae>0){let ie=m(X,U);D=QN(X,F,B,0,F.length,0,E-v,ie,ie)}else D=y(X,F,B,E-v,V-E,U)}O.push(D),T.push(Y)}function f(C,N,O,T){let S=[],A=0,_=-1;for(;a.pos>N;){let{id:v,start:E,end:j,size:V}=a;if(V>4)a.next();else{if(_>-1&&E<_)break;_<0&&(_=j-i),S.push(v,E,j),A++,a.next()}}if(A){let v=new Uint16Array(A*4),E=S[S.length-2];for(let j=S.length-3,V=0;j>=0;j-=3)v[V++]=S[j],v[V++]=S[j+1]-E,v[V++]=S[j+2]-E,v[V++]=V;O.push(new xf(v,S[2]-E,r)),T.push(E-C)}}function m(C,N){return(O,T,S)=>{let A=0,_=O.length-1,v,E;if(_>=0&&(v=O[_])instanceof Li){if(!_&&v.type==C&&v.length==S)return v;(E=v.prop(Rt.lookAhead))&&(A=T[_]+v.length+E)}return y(C,O,T,S,A,N)}}function g(C,N,O,T,S,A,_,v,E){let j=[],V=[];for(;C.length>T;)j.push(C.pop()),V.push(N.pop()+O-S);C.push(y(r.types[_],j,V,A-S,v-A,E)),N.push(S-O)}function y(C,N,O,T,S,A,_){if(A){let v=[Rt.contextHash,A];_=_?[v].concat(_):[v]}if(S>25){let v=[Rt.lookAhead,S];_=_?[v].concat(_):[v]}return new Li(C,N,O,T,_)}function x(C,N){let O=a.fork(),T=0,S=0,A=0,_=O.end-i,v={size:0,start:0,skip:0};e:for(let E=O.pos-C;O.pos>E;){let j=O.size;if(O.id==N&&j>=0){v.size=T,v.start=S,v.skip=A,A+=4,T+=4,O.next();continue}let V=O.pos-j;if(j<0||V<E||O.start<_)break;let U=O.id>=o?4:0,X=O.start;for(O.next();O.pos>V;){if(O.size<0)if(O.size==-3)U+=4;else break e;else O.id>=o&&(U+=4);O.next()}S=X,T+=j,A+=U}return(N<0||T==C)&&(v.size=T,v.start=S,v.skip=A),v.size>4?v:void 0}function w(C,N,O){let{id:T,start:S,end:A,size:_}=a;if(a.next(),_>=0&&T<o){let v=O;if(_>4){let E=a.pos-(_-4);for(;a.pos>E;)O=w(C,N,O)}N[--O]=v,N[--O]=A-C,N[--O]=S-C,N[--O]=T}else _==-3?c=T:_==-4&&(u=T);return O}let k=[],P=[];for(;a.pos>0;)d(n.start||0,n.bufferStart||0,k,P,-1,0);let Q=(e=n.length)!==null&&e!==void 0?e:k.length?P[0]+k[0].length:0;return new Li(l[n.topID],k.reverse(),P.reverse(),Q)}const sL=new WeakMap;function Hv(n,e){if(!n.isAnonymous||e instanceof xf||e.type!=n)return 1;let t=sL.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof Li)){t=1;break}t+=Hv(n,r)}sL.set(e,t)}return t}function QN(n,e,t,r,i,s,o,a,l){let c=0;for(let g=r;g<i;g++)c+=Hv(n,e[g]);let u=Math.ceil(c*1.5/8),d=[],f=[];function m(g,y,x,w,k){for(let P=x;P<w;){let Q=P,C=y[P],N=Hv(n,g[P]);for(P++;P<w;P++){let O=Hv(n,g[P]);if(N+O>=u)break;N+=O}if(P==Q+1){if(N>u){let O=g[Q];m(O.children,O.positions,0,O.children.length,y[Q]+k);continue}d.push(g[Q])}else{let O=y[P-1]+g[P-1].length-C;d.push(QN(n,g,y,Q,P,C,O,null,l))}f.push(C+k-s)}}return m(e,t,r,i,0),(a||l)(d,f,o)}let Kv=class bE{constructor(e,t,r,i,s=!1,o=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],r=!1){let i=[new bE(0,e.length,e,0,!1,r)];for(let s of t)s.to>e.length&&i.push(s);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let u=a<t.length?t[a]:null,d=u?u.fromA:1e9;if(d-l>=r)for(;o&&o.from<d;){let f=o;if(l>=f.from||d<=f.to||c){let m=Math.max(f.from,l)-c,g=Math.min(f.to,d)-c;f=m>=g?null:new bE(m,g,f.tree,f.offset+c,a>0,!!u)}if(f&&i.push(f),o.to>d)break;o=s<e.length?e[s++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return i}},j_e=class{startParse(e,t,r){return typeof e=="string"&&(e=new D_e(e)),r=r?r.length?r.map(i=>new O_(i.from,i.to)):[new O_(0,0)]:[new O_(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let s=i.advance();if(s)return s}}},D_e=class{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}};new Rt({perNode:!0});var y_;const td=new Rt;function M_e(n){return de.define({combine:n?e=>e.concat(n):void 0})}const V_e=new Rt;let As=class{constructor(e,t,r=[],i=""){this.data=e,this.name=i,Ve.prototype.hasOwnProperty("tree")||Object.defineProperty(Ve.prototype,"tree",{get(){return gO(this)}}),this.parser=t,this.extension=[wf.of(this),Ve.languageData.of((s,o,a)=>{let l=oL(s,o,a),c=l.type.prop(td);if(!c)return[];let u=s.facet(c),d=l.type.prop(V_e);if(d){let f=l.resolve(o-l.from,a);for(let m of d)if(m.test(f,s)){let g=s.facet(m.facet);return m.type=="replace"?g:g.concat(u)}}return u})].concat(r)}isActiveAt(e,t,r=-1){return oL(e,t,r).type.prop(td)==this.data}findRegions(e){let t=e.facet(wf);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let r=[],i=(s,o)=>{if(s.prop(td)==this.data){r.push({from:o,to:o+s.length});return}let a=s.prop(Rt.mounted);if(a){if(a.tree.prop(td)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+o,to:l.to+o});else r.push({from:o,to:o+s.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+o),r.length>l)return}}for(let l=0;l<s.children.length;l++){let c=s.children[l];c instanceof Li&&i(c,s.positions[l]+o)}};return i(gO(e),0),r}get allowsNesting(){return!0}};As.setState=Me.define();function oL(n,e,t){let r=n.facet(wf),i=gO(n).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,t,hr.ExcludeBuffers))s.type.isTop&&(i=s);return i}let L_e=class SE extends As{constructor(e,t,r){super(e,t,[],r),this.parser=t}static define(e){let t=M_e(e.languageData);return new SE(t,e.parser.configure({props:[td.add(r=>r.isTop?t:void 0)]}),e.name)}configure(e,t){return new SE(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}};function gO(n){let e=n.field(As.state,!1);return e?e.tree:Li.empty}let U_e=class{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}},Up=null,z_e=class kE{constructor(e,t,r=[],i,s,o,a,l){this.parser=e,this.state=t,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new kE(e,t,[],Li.empty,0,r,[],null)}startParse(){return this.parser.startParse(new U_e(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=Li.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(Kv.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Kv.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=Up;Up=this;try{return e()}finally{Up=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=aL(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:i,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,u,d,f)=>l.push({fromA:c,toA:u,fromB:d,toB:f})),r=Kv.applyChanges(r,l),i=Li.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),d=e.mapPos(c.to,-1);u<d&&a.push({from:u,to:d})}}}return new kE(this.parser,t,r,i,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=aL(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends j_e{createParse(t,r,i){let s=i[0].from,o=i[i.length-1].to;return{parsedPos:s,advance(){let l=Up;if(l){for(let c of i)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new Li(Go.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return Up}};function aL(n,e,t){return Kv.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}let _E=class TE{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new TE(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=z_e.create(e.facet(wf).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new TE(r)}};As.state=Xt.define({create:_E.init,update(n,e){for(let t of e.effects)if(t.is(As.setState))return t.value;return e.startState.facet(wf)!=e.state.facet(wf)?_E.init(e.state):n.apply(e)}});let E7=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(E7=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const v_=typeof navigator<"u"&&(!((y_=navigator.scheduling)===null||y_===void 0)&&y_.isInputPending)?()=>navigator.scheduling.isInputPending():null,q_e=Vt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(As.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(As.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=E7(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(As.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!v_?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<i&&r.doc.length>i+1e3,l=s.context.work(()=>v_&&v_()||Date.now()>o,i+(a?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:As.setState.of(new _E(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>Rn(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),wf=de.define({combine(n){return n.length?n[0]:null},enables:n=>[As.state,q_e,fe.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});let F_e=class{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}};const Z_e=new Rt,B_e=new Rt;let W_e=class A7{constructor(e,t){this.specs=e;let r;function i(a){let l=Nn.newName();return(r||(r=Object.create(null)))["."+l]=a,l}const s=typeof t.all=="string"?t.all:t.all?i(t.all):void 0,o=t.scope;this.scope=o instanceof As?a=>a.prop(td)==o.data:o?a=>a==o:void 0,this.style=Zc(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=r?new Nn(r):null,this.themeType=t.themeType}static define(e,t){return new A7(e,t||{})}};$.meta,$.link,$.heading,$.emphasis,$.strong,$.strikethrough,$.keyword,$.atom,$.bool,$.url,$.contentSeparator,$.labelName,$.literal,$.inserted,$.string,$.deleted,$.regexp,$.escape,$.string,$.variableName,$.variableName,$.typeName,$.namespace,$.className,$.variableName,$.macroName,$.propertyName,$.comment,$.invalid;const X_e=new Rt,G_e=Object.create(null),lL=[Go.none],cL=[],uL=Object.create(null),Y_e=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Y_e[n]=H_e(G_e,e);function x_(n,e){cL.indexOf(n)>-1||(cL.push(n),console.warn(e))}function H_e(n,e){let t=[];for(let a of e.split(" ")){let l=[];for(let c of a.split(".")){let u=n[c]||$[c];u?typeof u=="function"?l.length?l=l.map(u):x_(c,`Modifier ${c} used at start of tag`):l.length?x_(c,`Tag ${c} used as modifier`):l=Array.isArray(u)?u:[u]:x_(c,`Unknown highlighting tag ${c}`)}for(let c of l)t.push(c)}if(!t.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+t.map(a=>a.id),s=uL[i];if(s)return s.id;let o=uL[i]=Go.define({id:lL.length,name:r,props:[Gi({[r]:t})]});return lL.push(o),o.id}it.RTL,it.LTR;const zp=["_blank","_self","_top","_parent"],w_=["ascii","utf-8","utf-16","latin1","latin1"],b_=["get","post","put","delete"],S_=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],Pi=["true","false"],Re={},K_e={a:{attrs:{href:null,ping:null,type:null,media:null,target:zp,hreflang:null}},abbr:Re,address:Re,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:Re,aside:Re,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:Re,base:{attrs:{href:null,target:zp}},bdi:Re,bdo:Re,blockquote:{attrs:{cite:null}},body:Re,br:Re,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:S_,formmethod:b_,formnovalidate:["novalidate"],formtarget:zp,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:Re,center:Re,cite:Re,code:Re,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:Re,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:Re,div:Re,dl:Re,dt:Re,em:Re,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:Re,figure:Re,footer:Re,form:{attrs:{action:null,name:null,"accept-charset":w_,autocomplete:["on","off"],enctype:S_,method:b_,novalidate:["novalidate"],target:zp}},h1:Re,h2:Re,h3:Re,h4:Re,h5:Re,h6:Re,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:Re,hgroup:Re,hr:Re,html:{attrs:{manifest:null}},i:Re,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:S_,formmethod:b_,formnovalidate:["novalidate"],formtarget:zp,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:Re,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:Re,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:Re,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:w_,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:Re,noscript:Re,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:Re,param:{attrs:{name:null,value:null}},pre:Re,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:Re,rt:Re,ruby:Re,samp:Re,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:w_}},section:Re,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:Re,source:{attrs:{src:null,type:null,media:null}},span:Re,strong:Re,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:Re,summary:Re,sup:Re,table:Re,tbody:Re,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:Re,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:Re,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:Re,time:{attrs:{datetime:null}},title:Re,tr:Re,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:Re,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:Re},R7={accesskey:null,class:null,contenteditable:Pi,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:Pi,autocorrect:Pi,autocapitalize:Pi,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":Pi,"aria-autocomplete":["inline","list","both","none"],"aria-busy":Pi,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":Pi,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":Pi,"aria-hidden":Pi,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":Pi,"aria-multiselectable":Pi,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":Pi,"aria-relevant":null,"aria-required":Pi,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},Q7="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map(n=>"on"+n);for(let n of Q7)R7[n]=null;class Ww{constructor(e,t){this.tags=Object.assign(Object.assign({},K_e),e),this.globalAttrs=Object.assign(Object.assign({},R7),t),this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}}Ww.default=new Ww;function bf(n,e,t=n.length){if(!e)return"";let r=e.firstChild,i=r&&r.getChild("TagName");return i?n.sliceString(i.from,Math.min(i.to,t)):""}function Sf(n,e=!1){for(;n;n=n.parent)if(n.name=="Element")if(e)e=!1;else return n;return null}function N7(n,e,t){let r=t.tags[bf(n,Sf(e))];return(r==null?void 0:r.children)||t.allTags}function NN(n,e){let t=[];for(let r=Sf(e);r&&!r.type.isTop;r=Sf(r.parent)){let i=bf(n,r);if(i&&r.lastChild.name=="CloseTag")break;i&&t.indexOf(i)<0&&(e.name=="EndTag"||e.from>=r.firstChild.to)&&t.push(i)}return t}const I7=/^[:\-\.\w\u00b7-\uffff]*$/;function hL(n,e,t,r,i){let s=/\s*>/.test(n.sliceDoc(i,i+5))?"":">",o=Sf(t,!0);return{from:r,to:i,options:N7(n.doc,o,e).map(a=>({label:a,type:"type"})).concat(NN(n.doc,t).map((a,l)=>({label:"/"+a,apply:"/"+a+s,type:"type",boost:99-l}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function dL(n,e,t,r){let i=/\s*>/.test(n.sliceDoc(r,r+5))?"":">";return{from:t,to:r,options:NN(n.doc,e).map((s,o)=>({label:s,apply:s+i,type:"type",boost:99-o})),validFor:I7}}function J_e(n,e,t,r){let i=[],s=0;for(let o of N7(n.doc,t,e))i.push({label:"<"+o,type:"type"});for(let o of NN(n.doc,t))i.push({label:"</"+o+">",type:"type",boost:99-s++});return{from:r,to:r,options:i,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function eTe(n,e,t,r,i){let s=Sf(t),o=s?e.tags[bf(n.doc,s)]:null,a=o&&o.attrs?Object.keys(o.attrs):[],l=o&&o.globalAttrs===!1?a:a.length?a.concat(e.globalAttrNames):e.globalAttrNames;return{from:r,to:i,options:l.map(c=>({label:c,type:"property"})),validFor:I7}}function tTe(n,e,t,r,i){var s;let o=(s=t.parent)===null||s===void 0?void 0:s.getChild("AttributeName"),a=[],l;if(o){let c=n.sliceDoc(o.from,o.to),u=e.globalAttrs[c];if(!u){let d=Sf(t),f=d?e.tags[bf(n.doc,d)]:null;u=(f==null?void 0:f.attrs)&&f.attrs[c]}if(u){let d=n.sliceDoc(r,i).toLowerCase(),f='"',m='"';/^['"]/.test(d)?(l=d[0]=='"'?/^[^"]*$/:/^[^']*$/,f="",m=n.sliceDoc(i,i+1)==d[0]?"":d[0],d=d.slice(1),r++):l=/^[^\s<>='"]*$/;for(let g of u)a.push({label:g,apply:f+g+m,type:"constant"})}}return{from:r,to:i,options:a,validFor:l}}function nTe(n,e){let{state:t,pos:r}=e,i=gO(t).resolveInner(r,-1),s=i.resolve(r);for(let o=r,a;s==i&&(a=i.childBefore(o));){let l=a.lastChild;if(!l||!l.type.isError||l.from<l.to)break;s=i=a,o=l.from}return i.name=="TagName"?i.parent&&/CloseTag$/.test(i.parent.name)?dL(t,i,i.from,r):hL(t,n,i,i.from,r):i.name=="StartTag"?hL(t,n,i,r,r):i.name=="StartCloseTag"||i.name=="IncompleteCloseTag"?dL(t,i,r,r):i.name=="OpenTag"||i.name=="SelfClosingTag"||i.name=="AttributeName"?eTe(t,n,i,i.name=="AttributeName"?i.from:r,r):i.name=="Is"||i.name=="AttributeValue"||i.name=="UnquotedAttributeValue"?tTe(t,n,i,i.name=="Is"?r:i.from,r):e.explicit&&(s.name=="Element"||s.name=="Text"||s.name=="Document")?J_e(t,n,i,r):null}function rTe(n){let{extraTags:e,extraGlobalAttributes:t}=n,r=t||e?new Ww(e,t):Ww.default;return i=>nTe(r,i)}const iTe=No.parser.configure({top:"SingleExpression"}),$7=[{tag:"script",attrs:n=>n.type=="text/typescript"||n.lang=="ts",parser:b6.parser},{tag:"script",attrs:n=>n.type=="text/babel"||n.type=="text/jsx",parser:S6.parser},{tag:"script",attrs:n=>n.type=="text/typescript-jsx",parser:k6.parser},{tag:"script",attrs(n){return/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(n.type)},parser:iTe},{tag:"script",attrs(n){return!n.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(n.type)},parser:No.parser},{tag:"style",attrs(n){return(!n.lang||n.lang=="css")&&(!n.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(n.type))},parser:Zw.parser}],j7=[{name:"style",parser:Zw.parser.configure({top:"Styles"})}].concat(Q7.map(n=>({name:n,parser:No.parser}))),D7=L_e.define({name:"html",parser:Pke.configure({props:[Z_e.add({Element(n){let e=/^(\s*)(<\/)?/.exec(n.textAfter);return n.node.to<=n.pos+e[0].length?n.continue():n.lineIndent(n.node.from)+(e[2]?0:n.unit)},"OpenTag CloseTag SelfClosingTag"(n){return n.column(n.node.from)+n.unit},Document(n){if(n.pos+/\s*/.exec(n.textAfter)[0].length<n.node.to)return n.continue();let e=null,t;for(let r=n.node;;){let i=r.lastChild;if(!i||i.name!="Element"||i.to!=r.to)break;e=r=i}return e&&!((t=e.lastChild)&&(t.name=="CloseTag"||t.name=="SelfClosingTag"))?n.lineIndent(e.from)+n.unit:null}}),B_e.add({Element(n){let e=n.firstChild,t=n.lastChild;return!e||e.name!="OpenTag"?null:{from:e.to,to:t.name=="CloseTag"?t.from:n.to}}}),X_e.add({"OpenTag CloseTag":n=>n.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-._"}}),Jv=D7.configure({wrap:c7($7,j7)});function sTe(n={}){let e="",t;n.matchClosingTags===!1&&(e="noMatch"),n.selfClosingTags===!0&&(e=(e?e+" ":"")+"selfClosing"),(n.nestedLanguages&&n.nestedLanguages.length||n.nestedAttributes&&n.nestedAttributes.length)&&(t=c7((n.nestedLanguages||[]).concat($7),(n.nestedAttributes||[]).concat(j7)));let r=t?D7.configure({wrap:t,dialect:e}):e?Jv.configure({dialect:e}):Jv;return new F_e(r,[Jv.data.of({autocomplete:rTe(n)}),n.autoCloseTags!==!1?oTe:[],ON().support,b7().support])}const fL=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),oTe=fe.inputHandler.of((n,e,t,r,i)=>{if(n.composing||n.state.readOnly||e!=t||r!=">"&&r!="/"||!Jv.isActiveAt(n.state,e,-1))return!1;let s=i(),{state:o}=s,a=o.changeByRange(l=>{var c,u,d;let f=o.doc.sliceString(l.from-1,l.to)==r,{head:m}=l,g=gO(o).resolveInner(m,-1),y;if(f&&r==">"&&g.name=="EndTag"){let x=g.parent;if(((u=(c=x.parent)===null||c===void 0?void 0:c.lastChild)===null||u===void 0?void 0:u.name)!="CloseTag"&&(y=bf(o.doc,x.parent,m))&&!fL.has(y)){let w=m+(o.doc.sliceString(m,m+1)===">"?1:0),k=`</${y}>`;return{range:l,changes:{from:m,to:w,insert:k}}}}else if(f&&r=="/"&&g.name=="IncompleteCloseTag"){let x=g.parent;if(g.from==m-2&&((d=x.lastChild)===null||d===void 0?void 0:d.name)!="CloseTag"&&(y=bf(o.doc,x,m))&&!fL.has(y)){let w=m+(o.doc.sliceString(m,m+1)===">"?1:0),k=`${y}>`;return{range:te.cursor(m+k.length,-1),changes:{from:m,to:w,insert:k}}}}return{range:l}});return a.changes.empty?!1:(n.dispatch([s,o.update(a,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),aTe=Gi({String:$.string,Number:$.number,"True False":$.bool,PropertyName:$.propertyName,Null:$.null,", :":$.separator,"[ ]":$.squareBracket,"{ }":$.brace}),lTe=tl.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#ClOOQO'#Cr'#CrQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CtOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59W,59WO!iQPO,59WOVQPO,59QOqQPO'#CmO!nQPO,59`OOQO1G.k1G.kOVQPO'#CnO!vQPO,59aOOQO1G.r1G.rOOQO1G.l1G.lOOQO,59X,59XOOQO-E6k-E6kOOQO,59Y,59YOOQO-E6l-E6l",stateData:"#O~OeOS~OQSORSOSSOTSOWQO_ROgPO~OVXOgUO~O^[O~PVO[^O~O]_OVhX~OVaO~O]bO^iX~O^dO~O]_OVha~O]bO^ia~O",goto:"!kjPPPPPPkPPkqwPPPPk{!RPPP!XP!e!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:"⚠ JsonText True False Null Number String } { Object Property PropertyName : , ] [ Array",maxTerm:25,nodeProps:[["isolate",-2,6,11,""],["openedBy",7,"{",14,"["],["closedBy",8,"}",15,"]"]],propSources:[aTe],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oe~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Og~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zO]~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yO[~~'OO_~~'TO^~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),cTe=1024;let uTe=0,k_=class{constructor(e,t){this.from=e,this.to=t}},Dt=class{constructor(e={}){this.id=uTe++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Yo.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}};Dt.closedBy=new Dt({deserialize:n=>n.split(" ")});Dt.openedBy=new Dt({deserialize:n=>n.split(" ")});Dt.group=new Dt({deserialize:n=>n.split(" ")});Dt.isolate=new Dt({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});Dt.contextHash=new Dt({perNode:!0});Dt.lookAhead=new Dt({perNode:!0});Dt.mounted=new Dt({perNode:!0});let Xw=class{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[Dt.mounted.id]}};const hTe=Object.create(null);let Yo=class M7{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):hTe,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new M7(e.name||"",t,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Dt.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(Dt.group),s=-1;s<(i?i.length:0);s++){let o=t[s<0?r.name:i[s]];if(o)return o}}}};Yo.none=new Yo("",Object.create(null),0,8);const q0=new WeakMap,pL=new WeakMap;var dr;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(dr||(dr={}));let Ui=class PE{constructor(e,t,r,i,s){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=Xw.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new AE(this.topNode,e)}cursorAt(e,t=0,r=0){let i=q0.get(this)||this.topNode,s=new AE(i);return s.moveTo(e,t),q0.set(this,s._tree),s}get topNode(){return new Rc(this,0,0,null)}resolve(e,t=0){let r=OO(q0.get(this)||this.topNode,e,t,!1);return q0.set(this,r),r}resolveInner(e,t=0){let r=OO(pL.get(this)||this.topNode,e,t,!0);return pL.set(this,r),r}resolveStack(e,t=0){return mTe(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:s=this.length}=e,o=e.mode||0,a=(o&dr.IncludeAnonymous)>0;for(let l=this.cursor(o|dr.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=i&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:$N(Yo.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new PE(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new PE(Yo.none,t,r,i)))}static build(e){return gTe(e)}};Ui.empty=new Ui(Yo.none,[],[],0);let dTe=class V7{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new V7(this.buffer,this.index)}},kf=class L7{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return Yo.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(U7(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,t,r){let i=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=i[a++],s[l++]=i[a++]-r;let c=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,c)}return new L7(s,o,this.set)}};function U7(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function OO(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!r&&n instanceof Rc&&n.index<0?null:n.parent;if(!o)return n;n=o}let s=r?0:dr.IgnoreOverlays;if(r)for(let o=n,a=o.parent;a;o=a,a=o.parent)o instanceof Rc&&o.index<0&&((i=a.enter(e,t,s))===null||i===void 0?void 0:i.from)!=o.from&&(n=a);for(;;){let o=n.enter(e,t,s);if(!o)return n;n=o}}let z7=class{cursor(e=0){return new AE(this,e)}getChild(e,t=null,r=null){let i=mL(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return mL(this,e,t,r)}resolve(e,t=0){return OO(this,e,t,!1)}resolveInner(e,t=0){return OO(this,e,t,!0)}matchContext(e){return CE(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}},Rc=class ex extends z7{constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=t>0?a.length:-1;e!=c;e+=t){let u=a[e],d=l[e]+o.from;if(U7(i,r,d,d+u.length)){if(u instanceof kf){if(s&dr.ExcludeBuffers)continue;let f=u.findChild(0,u.buffer.length,t,r-d,i);if(f>-1)return new EE(new fTe(o,u,e,d),null,f)}else if(s&dr.IncludeAnonymous||!u.type.isAnonymous||IN(u)){let f;if(!(s&dr.IgnoreMounts)&&(f=Xw.get(u))&&!f.overlay)return new ex(f.tree,d,e,o);let m=new ex(u,d,e,o);return s&dr.IncludeAnonymous||!m.type.isAnonymous?m:m.nextChild(t<0?u.children.length-1:0,t,r,i)}}}if(s&dr.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&dr.IgnoreOverlays)&&(i=Xw.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:o,to:a}of i.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new ex(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function mL(n,e,t,r){let i=n.cursor(),s=[];if(!i.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=i.type.is(t),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function CE(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}let fTe=class{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}},EE=class vm extends z7{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return s<0?null:new vm(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&dr.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new vm(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new vm(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new vm(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),t.push(0)}return new Ui(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function q7(n){if(!n.length)return null;let e=0,t=n[0];for(let s=1;s<n.length;s++){let o=n[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let r=t instanceof Rc&&t.index<0?null:t.parent,i=n.slice();return r?i[e]=r:i.splice(e,1),new pTe(i,t)}let pTe=class{constructor(e,t){this.heads=e,this.node=t}get next(){return q7(this.heads)}};function mTe(n,e,t){let r=n.resolveInner(e,t),i=null;for(let s=r instanceof Rc?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[r])).push(o.resolve(e,t)),s=o}else{let o=Xw.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new Rc(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(OO(a,e,t,!1))}}return i?q7(i):r}let AE=class{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Rc)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof Rc?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&dr.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&dr.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&dr.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let s=t+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&dr.IncludeAnonymous||a instanceof kf||!a.type.isAnonymous||IN(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;t=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)t=new EE(this.buffer,t,this.stack[i]);return this.bufferNode=new EE(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return CE(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return CE(this._tree,e,i);let o=r[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}};function IN(n){return n.children.some(e=>e instanceof kf||!e.type.isAnonymous||IN(e))}function gTe(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=cTe,reused:s=[],minRepeatType:o=r.types.length}=n,a=Array.isArray(t)?new dTe(t,t.length):t,l=r.types,c=0,u=0;function d(C,N,O,T,S,A){let{id:_,start:v,end:E,size:j}=a,V=u,U=c;for(;j<0;)if(a.next(),j==-1){let Z=s[_];O.push(Z),T.push(v-C);return}else if(j==-3){c=_;return}else if(j==-4){u=_;return}else throw new RangeError(`Unrecognized record size: ${j}`);let X=l[_],D,L,Y=v-C;if(E-v<=i&&(L=x(a.pos-N,S))){let Z=new Uint16Array(L.size-L.skip),F=a.pos-L.size,B=Z.length;for(;a.pos>F;)B=w(L.start,Z,B);D=new kf(Z,E-L.start,r),Y=L.start-C}else{let Z=a.pos-j;a.next();let F=[],B=[],J=_>=o?_:-1,ae=0,oe=E;for(;a.pos>Z;)J>=0&&a.id==J&&a.size>=0?(a.end<=oe-i&&(g(F,B,v,ae,a.end,oe,J,V,U),ae=F.length,oe=a.end),a.next()):A>2500?f(v,Z,F,B):d(v,Z,F,B,J,A+1);if(J>=0&&ae>0&&ae<F.length&&g(F,B,v,ae,v,oe,J,V,U),F.reverse(),B.reverse(),J>-1&&ae>0){let ie=m(X,U);D=$N(X,F,B,0,F.length,0,E-v,ie,ie)}else D=y(X,F,B,E-v,V-E,U)}O.push(D),T.push(Y)}function f(C,N,O,T){let S=[],A=0,_=-1;for(;a.pos>N;){let{id:v,start:E,end:j,size:V}=a;if(V>4)a.next();else{if(_>-1&&E<_)break;_<0&&(_=j-i),S.push(v,E,j),A++,a.next()}}if(A){let v=new Uint16Array(A*4),E=S[S.length-2];for(let j=S.length-3,V=0;j>=0;j-=3)v[V++]=S[j],v[V++]=S[j+1]-E,v[V++]=S[j+2]-E,v[V++]=V;O.push(new kf(v,S[2]-E,r)),T.push(E-C)}}function m(C,N){return(O,T,S)=>{let A=0,_=O.length-1,v,E;if(_>=0&&(v=O[_])instanceof Ui){if(!_&&v.type==C&&v.length==S)return v;(E=v.prop(Dt.lookAhead))&&(A=T[_]+v.length+E)}return y(C,O,T,S,A,N)}}function g(C,N,O,T,S,A,_,v,E){let j=[],V=[];for(;C.length>T;)j.push(C.pop()),V.push(N.pop()+O-S);C.push(y(r.types[_],j,V,A-S,v-A,E)),N.push(S-O)}function y(C,N,O,T,S,A,_){if(A){let v=[Dt.contextHash,A];_=_?[v].concat(_):[v]}if(S>25){let v=[Dt.lookAhead,S];_=_?[v].concat(_):[v]}return new Ui(C,N,O,T,_)}function x(C,N){let O=a.fork(),T=0,S=0,A=0,_=O.end-i,v={size:0,start:0,skip:0};e:for(let E=O.pos-C;O.pos>E;){let j=O.size;if(O.id==N&&j>=0){v.size=T,v.start=S,v.skip=A,A+=4,T+=4,O.next();continue}let V=O.pos-j;if(j<0||V<E||O.start<_)break;let U=O.id>=o?4:0,X=O.start;for(O.next();O.pos>V;){if(O.size<0)if(O.size==-3)U+=4;else break e;else O.id>=o&&(U+=4);O.next()}S=X,T+=j,A+=U}return(N<0||T==C)&&(v.size=T,v.start=S,v.skip=A),v.size>4?v:void 0}function w(C,N,O){let{id:T,start:S,end:A,size:_}=a;if(a.next(),_>=0&&T<o){let v=O;if(_>4){let E=a.pos-(_-4);for(;a.pos>E;)O=w(C,N,O)}N[--O]=v,N[--O]=A-C,N[--O]=S-C,N[--O]=T}else _==-3?c=T:_==-4&&(u=T);return O}let k=[],P=[];for(;a.pos>0;)d(n.start||0,n.bufferStart||0,k,P,-1,0);let Q=(e=n.length)!==null&&e!==void 0?e:k.length?P[0]+k[0].length:0;return new Ui(l[n.topID],k.reverse(),P.reverse(),Q)}const gL=new WeakMap;function tx(n,e){if(!n.isAnonymous||e instanceof kf||e.type!=n)return 1;let t=gL.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof Ui)){t=1;break}t+=tx(n,r)}gL.set(e,t)}return t}function $N(n,e,t,r,i,s,o,a,l){let c=0;for(let g=r;g<i;g++)c+=tx(n,e[g]);let u=Math.ceil(c*1.5/8),d=[],f=[];function m(g,y,x,w,k){for(let P=x;P<w;){let Q=P,C=y[P],N=tx(n,g[P]);for(P++;P<w;P++){let O=tx(n,g[P]);if(N+O>=u)break;N+=O}if(P==Q+1){if(N>u){let O=g[Q];m(O.children,O.positions,0,O.children.length,y[Q]+k);continue}d.push(g[Q])}else{let O=y[P-1]+g[P-1].length-C;d.push($N(n,g,y,Q,P,C,O,null,l))}f.push(C+k-s)}}return m(e,t,r,i,0),(a||l)(d,f,o)}let nx=class RE{constructor(e,t,r,i,s=!1,o=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],r=!1){let i=[new RE(0,e.length,e,0,!1,r)];for(let s of t)s.to>e.length&&i.push(s);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let u=a<t.length?t[a]:null,d=u?u.fromA:1e9;if(d-l>=r)for(;o&&o.from<d;){let f=o;if(l>=f.from||d<=f.to||c){let m=Math.max(f.from,l)-c,g=Math.min(f.to,d)-c;f=m>=g?null:new RE(m,g,f.tree,f.offset+c,a>0,!!u)}if(f&&i.push(f),o.to>d)break;o=s<e.length?e[s++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return i}},OTe=class{startParse(e,t,r){return typeof e=="string"&&(e=new yTe(e)),r=r?r.length?r.map(i=>new k_(i.from,i.to)):[new k_(0,0)]:[new k_(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let s=i.advance();if(s)return s}}},yTe=class{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}};new Dt({perNode:!0});var __;const nd=new Dt;function vTe(n){return de.define({combine:n?e=>e.concat(n):void 0})}const xTe=new Dt;let Rs=class{constructor(e,t,r=[],i=""){this.data=e,this.name=i,Ve.prototype.hasOwnProperty("tree")||Object.defineProperty(Ve.prototype,"tree",{get(){return NE(this)}}),this.parser=t,this.extension=[_f.of(this),Ve.languageData.of((s,o,a)=>{let l=OL(s,o,a),c=l.type.prop(nd);if(!c)return[];let u=s.facet(c),d=l.type.prop(xTe);if(d){let f=l.resolve(o-l.from,a);for(let m of d)if(m.test(f,s)){let g=s.facet(m.facet);return m.type=="replace"?g:g.concat(u)}}return u})].concat(r)}isActiveAt(e,t,r=-1){return OL(e,t,r).type.prop(nd)==this.data}findRegions(e){let t=e.facet(_f);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let r=[],i=(s,o)=>{if(s.prop(nd)==this.data){r.push({from:o,to:o+s.length});return}let a=s.prop(Dt.mounted);if(a){if(a.tree.prop(nd)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+o,to:l.to+o});else r.push({from:o,to:o+s.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+o),r.length>l)return}}for(let l=0;l<s.children.length;l++){let c=s.children[l];c instanceof Ui&&i(c,s.positions[l]+o)}};return i(NE(e),0),r}get allowsNesting(){return!0}};Rs.setState=Me.define();function OL(n,e,t){let r=n.facet(_f),i=NE(n).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,t,dr.ExcludeBuffers))s.type.isTop&&(i=s);return i}let wTe=class QE extends Rs{constructor(e,t,r){super(e,t,[],r),this.parser=t}static define(e){let t=vTe(e.languageData);return new QE(t,e.parser.configure({props:[nd.add(r=>r.isTop?t:void 0)]}),e.name)}configure(e,t){return new QE(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}};function NE(n){let e=n.field(Rs.state,!1);return e?e.tree:Ui.empty}let bTe=class{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}},qp=null,STe=class IE{constructor(e,t,r=[],i,s,o,a,l){this.parser=e,this.state=t,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new IE(e,t,[],Ui.empty,0,r,[],null)}startParse(){return this.parser.startParse(new bTe(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=Ui.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(nx.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(nx.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=qp;qp=this;try{return e()}finally{qp=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=yL(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:i,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,u,d,f)=>l.push({fromA:c,toA:u,fromB:d,toB:f})),r=nx.applyChanges(r,l),i=Ui.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),d=e.mapPos(c.to,-1);u<d&&a.push({from:u,to:d})}}}return new IE(this.parser,t,r,i,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=yL(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends OTe{createParse(t,r,i){let s=i[0].from,o=i[i.length-1].to;return{parsedPos:s,advance(){let l=qp;if(l){for(let c of i)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new Ui(Yo.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return qp}};function yL(n,e,t){return nx.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}let $E=class jE{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new jE(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=STe.create(e.facet(_f).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new jE(r)}};Rs.state=Xt.define({create:$E.init,update(n,e){for(let t of e.effects)if(t.is(Rs.setState))return t.value;return e.startState.facet(_f)!=e.state.facet(_f)?$E.init(e.state):n.apply(e)}});let F7=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(F7=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const T_=typeof navigator<"u"&&(!((__=navigator.scheduling)===null||__===void 0)&&__.isInputPending)?()=>navigator.scheduling.isInputPending():null,kTe=Vt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Rs.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Rs.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=F7(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(Rs.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!T_?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<i&&r.doc.length>i+1e3,l=s.context.work(()=>T_&&T_()||Date.now()>o,i+(a?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Rs.setState.of(new $E(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>Rn(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),_f=de.define({combine(n){return n.length?n[0]:null},enables:n=>[Rs.state,kTe,fe.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});let _Te=class{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}};const TTe=new Dt;function vL({except:n,units:e=1}={}){return t=>{let r=n&&n.test(t.textAfter);return t.baseIndent+(r?0:e*t.unit)}}const PTe=new Dt;function CTe(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}let ETe=class Z7{constructor(e,t){this.specs=e;let r;function i(a){let l=Nn.newName();return(r||(r=Object.create(null)))["."+l]=a,l}const s=typeof t.all=="string"?t.all:t.all?i(t.all):void 0,o=t.scope;this.scope=o instanceof Rs?a=>a.prop(nd)==o.data:o?a=>a==o:void 0,this.style=Zc(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=r?new Nn(r):null,this.themeType=t.themeType}static define(e,t){return new Z7(e,t||{})}};$.meta,$.link,$.heading,$.emphasis,$.strong,$.strikethrough,$.keyword,$.atom,$.bool,$.url,$.contentSeparator,$.labelName,$.literal,$.inserted,$.string,$.deleted,$.regexp,$.escape,$.string,$.variableName,$.variableName,$.typeName,$.namespace,$.className,$.variableName,$.macroName,$.propertyName,$.comment,$.invalid;const ATe=Object.create(null),xL=[Yo.none],wL=[],bL=Object.create(null),RTe=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])RTe[n]=QTe(ATe,e);function P_(n,e){wL.indexOf(n)>-1||(wL.push(n),console.warn(e))}function QTe(n,e){let t=[];for(let a of e.split(" ")){let l=[];for(let c of a.split(".")){let u=n[c]||$[c];u?typeof u=="function"?l.length?l=l.map(u):P_(c,`Modifier ${c} used at start of tag`):l.length?P_(c,`Tag ${c} used as modifier`):l=Array.isArray(u)?u:[u]:P_(c,`Unknown highlighting tag ${c}`)}for(let c of l)t.push(c)}if(!t.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+t.map(a=>a.id),s=bL[i];if(s)return s.id;let o=bL[i]=Yo.define({id:xL.length,name:r,props:[Gi({[r]:t})]});return xL.push(o),o.id}it.RTL,it.LTR;const NTe=wTe.define({name:"json",parser:lTe.configure({props:[TTe.add({Object:vL({except:/^\s*\}/}),Array:vL({except:/^\s*\]/})}),PTe.add({"Object Array":CTe})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function ITe(){return new _Te(NTe)}const $Te=1024;let jTe=0,C_=class{constructor(e,t){this.from=e,this.to=t}};class Mt{constructor(e={}){this.id=jTe++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=ps.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}}Mt.closedBy=new Mt({deserialize:n=>n.split(" ")});Mt.openedBy=new Mt({deserialize:n=>n.split(" ")});Mt.group=new Mt({deserialize:n=>n.split(" ")});Mt.isolate=new Mt({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});Mt.contextHash=new Mt({perNode:!0});Mt.lookAhead=new Mt({perNode:!0});Mt.mounted=new Mt({perNode:!0});class Gw{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[Mt.mounted.id]}}const DTe=Object.create(null);class ps{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):DTe,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new ps(e.name||"",t,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Mt.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(Mt.group),s=-1;s<(i?i.length:0);s++){let o=t[s<0?r.name:i[s]];if(o)return o}}}}ps.none=new ps("",Object.create(null),0,8);const F0=new WeakMap,SL=new WeakMap;var fr;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(fr||(fr={}));class Rr{constructor(e,t,r,i,s){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=Gw.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new ME(this.topNode,e)}cursorAt(e,t=0,r=0){let i=F0.get(this)||this.topNode,s=new ME(i);return s.moveTo(e,t),F0.set(this,s._tree),s}get topNode(){return new ls(this,0,0,null)}resolve(e,t=0){let r=yO(F0.get(this)||this.topNode,e,t,!1);return F0.set(this,r),r}resolveInner(e,t=0){let r=yO(SL.get(this)||this.topNode,e,t,!0);return SL.set(this,r),r}resolveStack(e,t=0){return LTe(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:s=this.length}=e,o=e.mode||0,a=(o&fr.IncludeAnonymous)>0;for(let l=this.cursor(o|fr.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=i&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:MN(ps.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new Rr(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new Rr(ps.none,t,r,i)))}static build(e){return UTe(e)}}Rr.empty=new Rr(ps.none,[],[],0);class jN{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new jN(this.buffer,this.index)}}class Qc{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return ps.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(B7(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,t,r){let i=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=i[a++],s[l++]=i[a++]-r;let c=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,c)}return new Qc(s,o,this.set)}}function B7(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function yO(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!r&&n instanceof ls&&n.index<0?null:n.parent;if(!o)return n;n=o}let s=r?0:fr.IgnoreOverlays;if(r)for(let o=n,a=o.parent;a;o=a,a=o.parent)o instanceof ls&&o.index<0&&((i=a.enter(e,t,s))===null||i===void 0?void 0:i.from)!=o.from&&(n=a);for(;;){let o=n.enter(e,t,s);if(!o)return n;n=o}}class W7{cursor(e=0){return new ME(this,e)}getChild(e,t=null,r=null){let i=kL(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return kL(this,e,t,r)}resolve(e,t=0){return yO(this,e,t,!1)}resolveInner(e,t=0){return yO(this,e,t,!0)}matchContext(e){return DE(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}}class ls extends W7{constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=t>0?a.length:-1;e!=c;e+=t){let u=a[e],d=l[e]+o.from;if(B7(i,r,d,d+u.length)){if(u instanceof Qc){if(s&fr.ExcludeBuffers)continue;let f=u.findChild(0,u.buffer.length,t,r-d,i);if(f>-1)return new Xl(new MTe(o,u,e,d),null,f)}else if(s&fr.IncludeAnonymous||!u.type.isAnonymous||DN(u)){let f;if(!(s&fr.IgnoreMounts)&&(f=Gw.get(u))&&!f.overlay)return new ls(f.tree,d,e,o);let m=new ls(u,d,e,o);return s&fr.IncludeAnonymous||!m.type.isAnonymous?m:m.nextChild(t<0?u.children.length-1:0,t,r,i)}}}if(s&fr.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&fr.IgnoreOverlays)&&(i=Gw.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:o,to:a}of i.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new ls(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function kL(n,e,t,r){let i=n.cursor(),s=[];if(!i.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=i.type.is(t),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function DE(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}class MTe{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}}class Xl extends W7{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return s<0?null:new Xl(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&fr.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new Xl(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Xl(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Xl(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),t.push(0)}return new Rr(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function X7(n){if(!n.length)return null;let e=0,t=n[0];for(let s=1;s<n.length;s++){let o=n[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let r=t instanceof ls&&t.index<0?null:t.parent,i=n.slice();return r?i[e]=r:i.splice(e,1),new VTe(i,t)}class VTe{constructor(e,t){this.heads=e,this.node=t}get next(){return X7(this.heads)}}function LTe(n,e,t){let r=n.resolveInner(e,t),i=null;for(let s=r instanceof ls?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[r])).push(o.resolve(e,t)),s=o}else{let o=Gw.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new ls(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(yO(a,e,t,!1))}}return i?X7(i):r}class ME{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof ls)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof ls?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&fr.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&fr.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&fr.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let s=t+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&fr.IncludeAnonymous||a instanceof Qc||!a.type.isAnonymous||DN(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;t=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)t=new Xl(this.buffer,t,this.stack[i]);return this.bufferNode=new Xl(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return DE(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return DE(this._tree,e,i);let o=r[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}}function DN(n){return n.children.some(e=>e instanceof Qc||!e.type.isAnonymous||DN(e))}function UTe(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=$Te,reused:s=[],minRepeatType:o=r.types.length}=n,a=Array.isArray(t)?new jN(t,t.length):t,l=r.types,c=0,u=0;function d(C,N,O,T,S,A){let{id:_,start:v,end:E,size:j}=a,V=u,U=c;for(;j<0;)if(a.next(),j==-1){let Z=s[_];O.push(Z),T.push(v-C);return}else if(j==-3){c=_;return}else if(j==-4){u=_;return}else throw new RangeError(`Unrecognized record size: ${j}`);let X=l[_],D,L,Y=v-C;if(E-v<=i&&(L=x(a.pos-N,S))){let Z=new Uint16Array(L.size-L.skip),F=a.pos-L.size,B=Z.length;for(;a.pos>F;)B=w(L.start,Z,B);D=new Qc(Z,E-L.start,r),Y=L.start-C}else{let Z=a.pos-j;a.next();let F=[],B=[],J=_>=o?_:-1,ae=0,oe=E;for(;a.pos>Z;)J>=0&&a.id==J&&a.size>=0?(a.end<=oe-i&&(g(F,B,v,ae,a.end,oe,J,V,U),ae=F.length,oe=a.end),a.next()):A>2500?f(v,Z,F,B):d(v,Z,F,B,J,A+1);if(J>=0&&ae>0&&ae<F.length&&g(F,B,v,ae,v,oe,J,V,U),F.reverse(),B.reverse(),J>-1&&ae>0){let ie=m(X,U);D=MN(X,F,B,0,F.length,0,E-v,ie,ie)}else D=y(X,F,B,E-v,V-E,U)}O.push(D),T.push(Y)}function f(C,N,O,T){let S=[],A=0,_=-1;for(;a.pos>N;){let{id:v,start:E,end:j,size:V}=a;if(V>4)a.next();else{if(_>-1&&E<_)break;_<0&&(_=j-i),S.push(v,E,j),A++,a.next()}}if(A){let v=new Uint16Array(A*4),E=S[S.length-2];for(let j=S.length-3,V=0;j>=0;j-=3)v[V++]=S[j],v[V++]=S[j+1]-E,v[V++]=S[j+2]-E,v[V++]=V;O.push(new Qc(v,S[2]-E,r)),T.push(E-C)}}function m(C,N){return(O,T,S)=>{let A=0,_=O.length-1,v,E;if(_>=0&&(v=O[_])instanceof Rr){if(!_&&v.type==C&&v.length==S)return v;(E=v.prop(Mt.lookAhead))&&(A=T[_]+v.length+E)}return y(C,O,T,S,A,N)}}function g(C,N,O,T,S,A,_,v,E){let j=[],V=[];for(;C.length>T;)j.push(C.pop()),V.push(N.pop()+O-S);C.push(y(r.types[_],j,V,A-S,v-A,E)),N.push(S-O)}function y(C,N,O,T,S,A,_){if(A){let v=[Mt.contextHash,A];_=_?[v].concat(_):[v]}if(S>25){let v=[Mt.lookAhead,S];_=_?[v].concat(_):[v]}return new Rr(C,N,O,T,_)}function x(C,N){let O=a.fork(),T=0,S=0,A=0,_=O.end-i,v={size:0,start:0,skip:0};e:for(let E=O.pos-C;O.pos>E;){let j=O.size;if(O.id==N&&j>=0){v.size=T,v.start=S,v.skip=A,A+=4,T+=4,O.next();continue}let V=O.pos-j;if(j<0||V<E||O.start<_)break;let U=O.id>=o?4:0,X=O.start;for(O.next();O.pos>V;){if(O.size<0)if(O.size==-3)U+=4;else break e;else O.id>=o&&(U+=4);O.next()}S=X,T+=j,A+=U}return(N<0||T==C)&&(v.size=T,v.start=S,v.skip=A),v.size>4?v:void 0}function w(C,N,O){let{id:T,start:S,end:A,size:_}=a;if(a.next(),_>=0&&T<o){let v=O;if(_>4){let E=a.pos-(_-4);for(;a.pos>E;)O=w(C,N,O)}N[--O]=v,N[--O]=A-C,N[--O]=S-C,N[--O]=T}else _==-3?c=T:_==-4&&(u=T);return O}let k=[],P=[];for(;a.pos>0;)d(n.start||0,n.bufferStart||0,k,P,-1,0);let Q=(e=n.length)!==null&&e!==void 0?e:k.length?P[0]+k[0].length:0;return new Rr(l[n.topID],k.reverse(),P.reverse(),Q)}const _L=new WeakMap;function rx(n,e){if(!n.isAnonymous||e instanceof Qc||e.type!=n)return 1;let t=_L.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof Rr)){t=1;break}t+=rx(n,r)}_L.set(e,t)}return t}function MN(n,e,t,r,i,s,o,a,l){let c=0;for(let g=r;g<i;g++)c+=rx(n,e[g]);let u=Math.ceil(c*1.5/8),d=[],f=[];function m(g,y,x,w,k){for(let P=x;P<w;){let Q=P,C=y[P],N=rx(n,g[P]);for(P++;P<w;P++){let O=rx(n,g[P]);if(N+O>=u)break;N+=O}if(P==Q+1){if(N>u){let O=g[Q];m(O.children,O.positions,0,O.children.length,y[Q]+k);continue}d.push(g[Q])}else{let O=y[P-1]+g[P-1].length-C;d.push(MN(n,g,y,Q,P,C,O,null,l))}f.push(C+k-s)}}return m(e,t,r,i,0),(a||l)(d,f,o)}class Eu{constructor(e,t,r,i,s=!1,o=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],r=!1){let i=[new Eu(0,e.length,e,0,!1,r)];for(let s of t)s.to>e.length&&i.push(s);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let u=a<t.length?t[a]:null,d=u?u.fromA:1e9;if(d-l>=r)for(;o&&o.from<d;){let f=o;if(l>=f.from||d<=f.to||c){let m=Math.max(f.from,l)-c,g=Math.min(f.to,d)-c;f=m>=g?null:new Eu(m,g,f.tree,f.offset+c,a>0,!!u)}if(f&&i.push(f),o.to>d)break;o=s<e.length?e[s++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return i}}class zTe{startParse(e,t,r){return typeof e=="string"&&(e=new qTe(e)),r=r?r.length?r.map(i=>new C_(i.from,i.to)):[new C_(0,0)]:[new C_(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let s=i.advance();if(s)return s}}}class qTe{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new Mt({perNode:!0});var E_;const rd=new Mt;function FTe(n){return de.define({combine:n?e=>e.concat(n):void 0})}const ZTe=new Mt;class Qs{constructor(e,t,r=[],i=""){this.data=e,this.name=i,Ve.prototype.hasOwnProperty("tree")||Object.defineProperty(Ve.prototype,"tree",{get(){return vO(this)}}),this.parser=t,this.extension=[Pf.of(this),Ve.languageData.of((s,o,a)=>{let l=TL(s,o,a),c=l.type.prop(rd);if(!c)return[];let u=s.facet(c),d=l.type.prop(ZTe);if(d){let f=l.resolve(o-l.from,a);for(let m of d)if(m.test(f,s)){let g=s.facet(m.facet);return m.type=="replace"?g:g.concat(u)}}return u})].concat(r)}isActiveAt(e,t,r=-1){return TL(e,t,r).type.prop(rd)==this.data}findRegions(e){let t=e.facet(Pf);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let r=[],i=(s,o)=>{if(s.prop(rd)==this.data){r.push({from:o,to:o+s.length});return}let a=s.prop(Mt.mounted);if(a){if(a.tree.prop(rd)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+o,to:l.to+o});else r.push({from:o,to:o+s.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+o),r.length>l)return}}for(let l=0;l<s.children.length;l++){let c=s.children[l];c instanceof Rr&&i(c,s.positions[l]+o)}};return i(vO(e),0),r}get allowsNesting(){return!0}}Qs.setState=Me.define();function TL(n,e,t){let r=n.facet(Pf),i=vO(n).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,t,fr.ExcludeBuffers))s.type.isTop&&(i=s);return i}class Yw extends Qs{constructor(e,t,r){super(e,t,[],r),this.parser=t}static define(e){let t=FTe(e.languageData);return new Yw(t,e.parser.configure({props:[rd.add(r=>r.isTop?t:void 0)]}),e.name)}configure(e,t){return new Yw(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function vO(n){let e=n.field(Qs.state,!1);return e?e.tree:Rr.empty}class BTe{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}}let Fp=null;class Hw{constructor(e,t,r=[],i,s,o,a,l){this.parser=e,this.state=t,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new Hw(e,t,[],Rr.empty,0,r,[],null)}startParse(){return this.parser.startParse(new BTe(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=Rr.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(Eu.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Eu.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=Fp;Fp=this;try{return e()}finally{Fp=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=PL(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:i,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,u,d,f)=>l.push({fromA:c,toA:u,fromB:d,toB:f})),r=Eu.applyChanges(r,l),i=Rr.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),d=e.mapPos(c.to,-1);u<d&&a.push({from:u,to:d})}}}return new Hw(this.parser,t,r,i,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=PL(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends zTe{createParse(t,r,i){let s=i[0].from,o=i[i.length-1].to;return{parsedPos:s,advance(){let l=Fp;if(l){for(let c of i)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new Rr(ps.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return Fp}}function PL(n,e,t){return Eu.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}class Tf{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new Tf(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=Hw.create(e.facet(Pf).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new Tf(r)}}Qs.state=Xt.define({create:Tf.init,update(n,e){for(let t of e.effects)if(t.is(Qs.setState))return t.value;return e.startState.facet(Pf)!=e.state.facet(Pf)?Tf.init(e.state):n.apply(e)}});let G7=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(G7=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const A_=typeof navigator<"u"&&(!((E_=navigator.scheduling)===null||E_===void 0)&&E_.isInputPending)?()=>navigator.scheduling.isInputPending():null,WTe=Vt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Qs.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Qs.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=G7(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(Qs.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!A_?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<i&&r.doc.length>i+1e3,l=s.context.work(()=>A_&&A_()||Date.now()>o,i+(a?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Qs.setState.of(new Tf(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>Rn(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Pf=de.define({combine(n){return n.length?n[0]:null},enables:n=>[Qs.state,WTe,fe.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});class XTe{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const GTe=new Mt;function YTe({except:n,units:e=1}={}){return t=>{let r=n&&n.test(t.textAfter);return t.baseIndent+(r?0:e*t.unit)}}const HTe=new Mt;class VN{constructor(e,t){this.specs=e;let r;function i(a){let l=Nn.newName();return(r||(r=Object.create(null)))["."+l]=a,l}const s=typeof t.all=="string"?t.all:t.all?i(t.all):void 0,o=t.scope;this.scope=o instanceof Qs?a=>a.prop(rd)==o.data:o?a=>a==o:void 0,this.style=Zc(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=r?new Nn(r):null,this.themeType=t.themeType}static define(e,t){return new VN(e,t||{})}}$.meta,$.link,$.heading,$.emphasis,$.strong,$.strikethrough,$.keyword,$.atom,$.bool,$.url,$.contentSeparator,$.labelName,$.literal,$.inserted,$.string,$.deleted,$.regexp,$.escape,$.string,$.variableName,$.variableName,$.typeName,$.namespace,$.className,$.variableName,$.macroName,$.propertyName,$.comment,$.invalid;const KTe=Object.create(null),CL=[ps.none],EL=[],AL=Object.create(null),JTe=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])JTe[n]=ePe(KTe,e);function R_(n,e){EL.indexOf(n)>-1||(EL.push(n),console.warn(e))}function ePe(n,e){let t=[];for(let a of e.split(" ")){let l=[];for(let c of a.split(".")){let u=n[c]||$[c];u?typeof u=="function"?l.length?l=l.map(u):R_(c,`Modifier ${c} used at start of tag`):l.length?R_(c,`Tag ${c} used as modifier`):l=Array.isArray(u)?u:[u]:R_(c,`Unknown highlighting tag ${c}`)}for(let c of l)t.push(c)}if(!t.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+t.map(a=>a.id),s=AL[i];if(s)return s.id;let o=AL[i]=ps.define({id:CL.length,name:r,props:[Gi({[r]:t})]});return CL.push(o),o.id}it.RTL,it.LTR;function RL(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function tPe(n){let e=Object.create(null),t=Object.create(null);for(let{label:i}of n){e[i[0]]=!0;for(let s=1;s<i.length;s++)t[i[s]]=!0}let r=RL(e)+RL(t)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function nPe(n){let e=n.map(i=>typeof i=="string"?{label:i}:i),[t,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:tPe(e);return i=>{let s=i.matchBefore(r);return s||i.explicit?{from:s?s.from:i.pos,options:e,validFor:t}:null}}function rPe(n,e){return t=>{for(let r=vO(t.state).resolveInner(t.pos,-1);r;r=r.parent){if(n.indexOf(r.name)>-1)return null;if(r.type.isTop)break}return e(t)}}const Y7=new class extends Vo{};Y7.startSide=1;Y7.endSide=-1;const iPe=36,QL=1,sPe=2,Ch=3,Q_=4,oPe=5,aPe=6,lPe=7,cPe=8,uPe=9,hPe=10,dPe=11,fPe=12,pPe=13,mPe=14,gPe=15,OPe=16,yPe=17,NL=18,vPe=19,H7=20,K7=21,IL=22,xPe=23,wPe=24;function VE(n){return n>=65&&n<=90||n>=97&&n<=122||n>=48&&n<=57}function bPe(n){return n>=48&&n<=57||n>=97&&n<=102||n>=65&&n<=70}function ou(n,e,t){for(let r=!1;;){if(n.next<0)return;if(n.next==e&&!r){n.advance();return}r=t&&!r&&n.next==92,n.advance()}}function SPe(n,e){e:for(;;){if(n.next<0)return;if(n.next==36){n.advance();for(let t=0;t<e.length;t++){if(n.next!=e.charCodeAt(t))continue e;n.advance()}if(n.next==36){n.advance();return}}else n.advance()}}function kPe(n,e){let t="[{<(".indexOf(String.fromCharCode(e)),r=t<0?e:"]}>)".charCodeAt(t);for(;;){if(n.next<0)return;if(n.next==r&&n.peek(1)==39){n.advance(2);return}n.advance()}}function LE(n,e){for(;!(n.next!=95&&!VE(n.next));)e!=null&&(e+=String.fromCharCode(n.next)),n.advance();return e}function _Pe(n){if(n.next==39||n.next==34||n.next==96){let e=n.next;n.advance(),ou(n,e,!1)}else LE(n)}function $L(n,e){for(;n.next==48||n.next==49;)n.advance();e&&n.next==e&&n.advance()}function jL(n,e){for(;;){if(n.next==46){if(e)break;e=!0}else if(n.next<48||n.next>57)break;n.advance()}if(n.next==69||n.next==101)for(n.advance(),(n.next==43||n.next==45)&&n.advance();n.next>=48&&n.next<=57;)n.advance()}function DL(n){for(;!(n.next<0||n.next==10);)n.advance()}function nu(n,e){for(let t=0;t<e.length;t++)if(e.charCodeAt(t)==n)return!0;return!1}const N_=` 	\r
`;function J7(n,e,t){let r=Object.create(null);r.true=r.false=oPe,r.null=r.unknown=aPe;for(let i of n.split(" "))i&&(r[i]=H7);for(let i of e.split(" "))i&&(r[i]=K7);for(let i of(t||"").split(" "))i&&(r[i]=wPe);return r}const TPe="array binary bit boolean char character clob date decimal double float int integer interval large national nchar nclob numeric object precision real smallint time timestamp varchar varying ",PPe="absolute action add after all allocate alter and any are as asc assertion at authorization before begin between both breadth by call cascade cascaded case cast catalog check close collate collation column commit condition connect connection constraint constraints constructor continue corresponding count create cross cube current current_date current_default_transform_group current_transform_group_for_type current_path current_role current_time current_timestamp current_user cursor cycle data day deallocate declare default deferrable deferred delete depth deref desc describe descriptor deterministic diagnostics disconnect distinct do domain drop dynamic each else elseif end end-exec equals escape except exception exec execute exists exit external fetch first for foreign found from free full function general get global go goto grant group grouping handle having hold hour identity if immediate in indicator initially inner inout input insert intersect into is isolation join key language last lateral leading leave left level like limit local localtime localtimestamp locator loop map match method minute modifies module month names natural nesting new next no none not of old on only open option or order ordinality out outer output overlaps pad parameter partial path prepare preserve primary prior privileges procedure public read reads recursive redo ref references referencing relative release repeat resignal restrict result return returns revoke right role rollback rollup routine row rows savepoint schema scroll search second section select session session_user set sets signal similar size some space specific specifictype sql sqlexception sqlstate sqlwarning start state static system_user table temporary then timezone_hour timezone_minute to trailing transaction translation treat trigger under undo union unique unnest until update usage user using value values view when whenever where while with without work write year zone ",UE={backslashEscapes:!1,hashComments:!1,spaceAfterDashes:!1,slashComments:!1,doubleQuotedStrings:!1,doubleDollarQuotedStrings:!1,unquotedBitLiterals:!1,treatBitsAsBytes:!1,charSetCasts:!1,plsqlQuotingMechanism:!1,operatorChars:"*+-%<>!=&|~^/",specialVar:"?",identifierQuotes:'"',caseInsensitiveIdentifiers:!1,words:J7(PPe,TPe)};function CPe(n,e,t,r){let i={};for(let s in UE)i[s]=(n.hasOwnProperty(s)?n:UE)[s];return e&&(i.words=J7(e,t||"",r)),i}function e8(n){return new vr(e=>{var t;let{next:r}=e;if(e.advance(),nu(r,N_)){for(;nu(e.next,N_);)e.advance();e.acceptToken(iPe)}else if(r==36&&n.doubleDollarQuotedStrings){let i=LE(e,"");e.next==36&&(e.advance(),SPe(e,i),e.acceptToken(Ch))}else if(r==39||r==34&&n.doubleQuotedStrings)ou(e,r,n.backslashEscapes),e.acceptToken(Ch);else if(r==35&&n.hashComments||r==47&&e.next==47&&n.slashComments)DL(e),e.acceptToken(QL);else if(r==45&&e.next==45&&(!n.spaceAfterDashes||e.peek(1)==32))DL(e),e.acceptToken(QL);else if(r==47&&e.next==42){e.advance();for(let i=1;;){let s=e.next;if(e.next<0)break;if(e.advance(),s==42&&e.next==47){if(i--,e.advance(),!i)break}else s==47&&e.next==42&&(i++,e.advance())}e.acceptToken(sPe)}else if((r==101||r==69)&&e.next==39)e.advance(),ou(e,39,!0),e.acceptToken(Ch);else if((r==110||r==78)&&e.next==39&&n.charSetCasts)e.advance(),ou(e,39,n.backslashEscapes),e.acceptToken(Ch);else if(r==95&&n.charSetCasts)for(let i=0;;i++){if(e.next==39&&i>1){e.advance(),ou(e,39,n.backslashEscapes),e.acceptToken(Ch);break}if(!VE(e.next))break;e.advance()}else if(n.plsqlQuotingMechanism&&(r==113||r==81)&&e.next==39&&e.peek(1)>0&&!nu(e.peek(1),N_)){let i=e.peek(1);e.advance(2),kPe(e,i),e.acceptToken(Ch)}else if(r==40)e.acceptToken(lPe);else if(r==41)e.acceptToken(cPe);else if(r==123)e.acceptToken(uPe);else if(r==125)e.acceptToken(hPe);else if(r==91)e.acceptToken(dPe);else if(r==93)e.acceptToken(fPe);else if(r==59)e.acceptToken(pPe);else if(n.unquotedBitLiterals&&r==48&&e.next==98)e.advance(),$L(e),e.acceptToken(IL);else if((r==98||r==66)&&(e.next==39||e.next==34)){const i=e.next;e.advance(),n.treatBitsAsBytes?(ou(e,i,n.backslashEscapes),e.acceptToken(xPe)):($L(e,i),e.acceptToken(IL))}else if(r==48&&(e.next==120||e.next==88)||(r==120||r==88)&&e.next==39){let i=e.next==39;for(e.advance();bPe(e.next);)e.advance();i&&e.next==39&&e.advance(),e.acceptToken(Q_)}else if(r==46&&e.next>=48&&e.next<=57)jL(e,!0),e.acceptToken(Q_);else if(r==46)e.acceptToken(mPe);else if(r>=48&&r<=57)jL(e,!1),e.acceptToken(Q_);else if(nu(r,n.operatorChars)){for(;nu(e.next,n.operatorChars);)e.advance();e.acceptToken(gPe)}else if(nu(r,n.specialVar))e.next==r&&e.advance(),_Pe(e),e.acceptToken(yPe);else if(nu(r,n.identifierQuotes))ou(e,r,!1),e.acceptToken(vPe);else if(r==58||r==44)e.acceptToken(OPe);else if(VE(r)){let i=LE(e,String.fromCharCode(r));e.acceptToken(e.next==46||e.peek(-i.length-1)==46?NL:(t=n.words[i.toLowerCase()])!==null&&t!==void 0?t:NL)}})}const t8=e8(UE),EPe=tl.deserialize({version:14,states:"%vQ]QQOOO#wQRO'#DSO$OQQO'#CwO%eQQO'#CxO%lQQO'#CyO%sQQO'#CzOOQQ'#DS'#DSOOQQ'#C}'#C}O'UQRO'#C{OOQQ'#Cv'#CvOOQQ'#C|'#C|Q]QQOOQOQQOOO'`QQO'#DOO(xQRO,59cO)PQQO,59cO)UQQO'#DSOOQQ,59d,59dO)cQQO,59dOOQQ,59e,59eO)jQQO,59eOOQQ,59f,59fO)qQQO,59fOOQQ-E6{-E6{OOQQ,59b,59bOOQQ-E6z-E6zOOQQ,59j,59jOOQQ-E6|-E6|O+VQRO1G.}O+^QQO,59cOOQQ1G/O1G/OOOQQ1G/P1G/POOQQ1G/Q1G/QP+kQQO'#C}O+rQQO1G.}O)PQQO,59cO,PQQO'#Cw",stateData:",[~OtOSPOSQOS~ORUOSUOTUOUUOVROXSOZTO]XO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O^]ORvXSvXTvXUvXVvXXvXZvX]vX_vX`vXavXbvXcvXdvXevXfvXgvXhvX~OsvX~P!jOa_Ob_Oc_O~ORUOSUOTUOUUOVROXSOZTO^tO_UO`UOa`Ob`Oc`OdUOeUOfUOgUOhUO~OWaO~P$ZOYcO~P$ZO[eO~P$ZORUOSUOTUOUUOVROXSOZTO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O]hOsoX~P%zOajObjOcjO~O^]ORkaSkaTkaUkaVkaXkaZka]ka_ka`kaakabkackadkaekafkagkahka~Oska~P'kO^]O~OWvXYvX[vX~P!jOWnO~P$ZOYoO~P$ZO[pO~P$ZO^]ORkiSkiTkiUkiVkiXkiZki]ki_ki`kiakibkickidkiekifkigkihki~Oski~P)xOWkaYka[ka~P'kO]hO~P$ZOWkiYki[ki~P)xOasObsOcsO~O",goto:"#hwPPPPPPPPPPPPPPPPPPPPPPPPPPx||||!Y!^!d!xPPP#[TYOZeUORSTWZbdfqT[OZQZORiZSWOZQbRQdSQfTZgWbdfqQ^PWk^lmrQl_Qm`RrseVORSTWZbdfq",nodeNames:"⚠ LineComment BlockComment String Number Bool Null ( ) { } [ ] ; . Operator Punctuation SpecialVar Identifier QuotedIdentifier Keyword Type Bits Bytes Builtin Script Statement CompositeIdentifier Parens Braces Brackets Statement",maxTerm:38,nodeProps:[["isolate",-4,1,2,3,19,""]],skippedNodes:[0,1,2],repeatNodeCount:3,tokenData:"RORO",tokenizers:[0,t8],topRules:{Script:[0,25]},tokenPrec:0});function zE(n){let e=n.cursor().moveTo(n.from,-1);for(;/Comment/.test(e.name);)e.moveTo(e.from,-1);return e.node}function xO(n,e){let t=n.sliceString(e.from,e.to),r=/^([`'"])(.*)\1$/.exec(t);return r?r[2]:t}function Kw(n){return n&&(n.name=="Identifier"||n.name=="QuotedIdentifier")}function APe(n,e){if(e.name=="CompositeIdentifier"){let t=[];for(let r=e.firstChild;r;r=r.nextSibling)Kw(r)&&t.push(xO(n,r));return t}return[xO(n,e)]}function ML(n,e){for(let t=[];;){if(!e||e.name!=".")return t;let r=zE(e);if(!Kw(r))return t;t.unshift(xO(n,r)),e=zE(r)}}function RPe(n,e){let t=vO(n).resolveInner(e,-1),r=NPe(n.doc,t);return t.name=="Identifier"||t.name=="QuotedIdentifier"||t.name=="Keyword"?{from:t.from,quoted:t.name=="QuotedIdentifier"?n.doc.sliceString(t.from,t.from+1):null,parents:ML(n.doc,zE(t)),aliases:r}:t.name=="."?{from:e,quoted:null,parents:ML(n.doc,t),aliases:r}:{from:e,quoted:null,parents:[],empty:!0,aliases:r}}const QPe=new Set("where group having order union intersect except all distinct limit offset fetch for".split(" "));function NPe(n,e){let t;for(let i=e;!t;i=i.parent){if(!i)return null;i.name=="Statement"&&(t=i)}let r=null;for(let i=t.firstChild,s=!1,o=null;i;i=i.nextSibling){let a=i.name=="Keyword"?n.sliceString(i.from,i.to).toLowerCase():null,l=null;if(!s)s=a=="from";else if(a=="as"&&o&&Kw(i.nextSibling))l=xO(n,i.nextSibling);else{if(a&&QPe.has(a))break;o&&Kw(i)&&(l=xO(n,i))}l&&(r||(r=Object.create(null)),r[l]=APe(n,o)),o=/Identifier$/.test(i.name)?i:null}return r}function IPe(n,e){return n?e.map(t=>Object.assign(Object.assign({},t),{label:t.label[0]==n?t.label:n+t.label+n,apply:void 0})):e}const $Pe=/^\w*$/,jPe=/^[`'"]?\w*[`'"]?$/;function VL(n){return n.self&&typeof n.self.label=="string"}class LN{constructor(e,t){this.idQuote=e,this.idCaseInsensitive=t,this.list=[],this.children=void 0}child(e){let t=this.children||(this.children=Object.create(null)),r=t[e];return r||(e&&!this.list.some(i=>i.label==e)&&this.list.push(LL(e,"type",this.idQuote,this.idCaseInsensitive)),t[e]=new LN(this.idQuote,this.idCaseInsensitive))}maybeChild(e){return this.children?this.children[e]:null}addCompletion(e){let t=this.list.findIndex(r=>r.label==e.label);t>-1?this.list[t]=e:this.list.push(e)}addCompletions(e){for(let t of e)this.addCompletion(typeof t=="string"?LL(t,"property",this.idQuote,this.idCaseInsensitive):t)}addNamespace(e){Array.isArray(e)?this.addCompletions(e):VL(e)?this.addNamespace(e.children):this.addNamespaceObject(e)}addNamespaceObject(e){for(let t of Object.keys(e)){let r=e[t],i=null,s=t.replace(/\\?\./g,a=>a=="."?"\0":a).split("\0"),o=this;VL(r)&&(i=r.self,r=r.children);for(let a=0;a<s.length;a++)i&&a==s.length-1&&o.addCompletion(i),o=o.child(s[a].replace(/\\\./g,"."));o.addNamespace(r)}}}function LL(n,e,t,r){return new RegExp("^[a-z_][a-z_\\d]*$",r?"i":"").test(n)?{label:n,type:e}:{label:n,type:e,apply:t+n+t}}function DPe(n,e,t,r,i,s){var o;let a=((o=s==null?void 0:s.spec.identifierQuotes)===null||o===void 0?void 0:o[0])||'"',l=new LN(a,!!(s!=null&&s.spec.caseInsensitiveIdentifiers)),c=i?l.child(i):null;return l.addNamespace(n),e&&(c||l).addCompletions(e),t&&l.addCompletions(t),c&&l.addCompletions(c.list),r&&l.addCompletions((c||l).child(r).list),u=>{let{parents:d,from:f,quoted:m,empty:g,aliases:y}=RPe(u.state,u.pos);if(g&&!u.explicit)return null;y&&d.length==1&&(d=y[d[0]]||d);let x=l;for(let P of d){for(;!x.children||!x.children[P];)if(x==l&&c)x=c;else if(x==c&&r)x=x.child(r);else return null;let Q=x.maybeChild(P);if(!Q)return null;x=Q}let w=m&&u.state.sliceDoc(u.pos,u.pos+1)==m,k=x.list;return x==l&&y&&(k=k.concat(Object.keys(y).map(P=>({label:P,type:"constant"})))),{from:f,to:w?u.pos+1:void 0,options:IPe(m,k),validFor:m?jPe:$Pe}}}function MPe(n){return n==K7?"type":n==H7?"keyword":"variable"}function VPe(n,e,t){let r=Object.keys(n).map(i=>t(e?i.toUpperCase():i,MPe(n[i])));return rPe(["QuotedIdentifier","SpecialVar","String","LineComment","BlockComment","."],nPe(r))}let LPe=EPe.configure({props:[GTe.add({Statement:YTe()}),HTe.add({Statement(n,e){return{from:Math.min(n.from+100,e.doc.lineAt(n.from).to),to:n.to}},BlockComment(n){return{from:n.from+2,to:n.to-2}}}),Gi({Keyword:$.keyword,Type:$.typeName,Builtin:$.standard($.name),Bits:$.number,Bytes:$.string,Bool:$.bool,Null:$.null,Number:$.number,String:$.string,Identifier:$.name,QuotedIdentifier:$.special($.string),SpecialVar:$.special($.name),LineComment:$.lineComment,BlockComment:$.blockComment,Operator:$.operator,"Semi Punctuation":$.punctuation,"( )":$.paren,"{ }":$.brace,"[ ]":$.squareBracket})]});class UN{constructor(e,t,r){this.dialect=e,this.language=t,this.spec=r}get extension(){return this.language.extension}static define(e){let t=CPe(e,e.keywords,e.types,e.builtin),r=Yw.define({name:"sql",parser:LPe.configure({tokenizers:[{from:t8,to:e8(t)}]}),languageData:{commentTokens:{line:"--",block:{open:"/*",close:"*/"}},closeBrackets:{brackets:["(","[","{","'",'"',"`"]}}});return new UN(t,r,e)}}function UPe(n,e){return{label:n,type:e,boost:-1}}function zPe(n,e=!1,t){return VPe(n.dialect.words,e,t||UPe)}function qPe(n){return n.schema?DPe(n.schema,n.tables,n.schemas,n.defaultTable,n.defaultSchema,n.dialect||zN):()=>null}function FPe(n){return n.schema?(n.dialect||zN).language.data.of({autocomplete:qPe(n)}):[]}function ZPe(n={}){let e=n.dialect||zN;return new XTe(e.language,[FPe(n),e.language.data.of({autocomplete:zPe(e,n.upperCaseKeywords,n.keywordCompletion)})])}const zN=UN.define({}),BPe={javascript:ON(),python:E1e(),html:sTe(),css:b7(),json:ITe(),sql:ZPe()},$S=({value:n,language:e,onChange:t,readOnly:r=!1})=>{const i=b.useRef(null),s=b.useRef();return b.useEffect(()=>{if(!i.current)return;const o=n||"",a=Ve.create({doc:o,extensions:[Cxe,BPe[e]||ON(),Ve.readOnly.of(r),fe.lineWrapping,fe.updateListener.of(c=>{c.docChanged&&t(c.state.doc.toString())})]}),l=new fe({state:a,parent:i.current});return s.current=l,()=>{l.destroy()}},[e,r]),b.useEffect(()=>{s.current&&n!==s.current.state.doc.toString()&&s.current.dispatch({changes:{from:0,to:s.current.state.doc.length,insert:n}})},[n]),h.jsx("div",{ref:i,className:"h-full w-full"})};function n8({value:n=[],onChange:e,placeholder:t="Add tags...",className:r,maxTags:i=10}){const[s,o]=b.useState(""),a=d=>{o(d.target.value)},l=d=>{(d.key==="Enter"||d.key===",")&&s.trim()&&(d.preventDefault(),c(s.trim()))},c=d=>{if(d=d.replace(/,/g,"").trim(),!d||n.includes(d)||n.length>=i)return;const f=[...n,d];e(f),o("")},u=d=>{const f=n.filter(m=>m!==d);e(f)};return h.jsxs("div",{className:we("flex flex-wrap gap-2 p-1 border rounded-md",r),children:[n.map(d=>h.jsxs(zn,{variant:"secondary",className:"flex items-center gap-1",children:[d,h.jsx(Zf,{className:"h-3 w-3 cursor-pointer hover:text-destructive",onClick:()=>u(d)})]},d)),h.jsx(Tt,{type:"text",value:s,onChange:a,onKeyDown:l,placeholder:n.length===0?t:"",className:"flex-1 border-0 p-0 text-sm focus-visible:ring-0 min-w-[120px] h-7"})]})}const WPe=["top","right","bottom","left"],Nc=Math.min,Ri=Math.max,Jw=Math.round,Z0=Math.floor,$o=n=>({x:n,y:n}),XPe={left:"right",right:"left",bottom:"top",top:"bottom"},GPe={start:"end",end:"start"};function qE(n,e,t){return Ri(n,Nc(e,t))}function nl(n,e){return typeof n=="function"?n(e):n}function rl(n){return n.split("-")[0]}function Kf(n){return n.split("-")[1]}function qN(n){return n==="x"?"y":"x"}function FN(n){return n==="y"?"height":"width"}function Ic(n){return["top","bottom"].includes(rl(n))?"y":"x"}function ZN(n){return qN(Ic(n))}function YPe(n,e,t){t===void 0&&(t=!1);const r=Kf(n),i=ZN(n),s=FN(i);let o=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=eb(o)),[o,eb(o)]}function HPe(n){const e=eb(n);return[FE(n),e,FE(e)]}function FE(n){return n.replace(/start|end/g,e=>GPe[e])}function KPe(n,e,t){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(n){case"top":case"bottom":return t?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function JPe(n,e,t,r){const i=Kf(n);let s=KPe(rl(n),t==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(FE)))),s}function eb(n){return n.replace(/left|right|bottom|top/g,e=>XPe[e])}function eCe(n){return{top:0,right:0,bottom:0,left:0,...n}}function r8(n){return typeof n!="number"?eCe(n):{top:n,right:n,bottom:n,left:n}}function tb(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function UL(n,e,t){let{reference:r,floating:i}=n;const s=Ic(e),o=ZN(e),a=FN(o),l=rl(e),c=s==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:u,y:r.y-i.height};break;case"bottom":m={x:u,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:d};break;case"left":m={x:r.x-i.width,y:d};break;default:m={x:r.x,y:r.y}}switch(Kf(e)){case"start":m[o]-=f*(t&&c?-1:1);break;case"end":m[o]+=f*(t&&c?-1:1);break}return m}const tCe=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:n,floating:e,strategy:i}),{x:u,y:d}=UL(c,r,l),f=r,m={},g=0;for(let y=0;y<a.length;y++){const{name:x,fn:w}=a[y],{x:k,y:P,data:Q,reset:C}=await w({x:u,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:m,rects:c,platform:o,elements:{reference:n,floating:e}});u=k??u,d=P??d,m={...m,[x]:{...m[x],...Q}},C&&g<=50&&(g++,typeof C=="object"&&(C.placement&&(f=C.placement),C.rects&&(c=C.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:i}):C.rects),{x:u,y:d}=UL(c,f,l)),y=-1)}return{x:u,y:d,placement:f,strategy:i,middlewareData:m}};async function wO(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:m=0}=nl(e,n),g=r8(m),x=a[f?d==="floating"?"reference":"floating":d],w=tb(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(x)))==null||t?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),k=d==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,P=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),Q=await(s.isElement==null?void 0:s.isElement(P))?await(s.getScale==null?void 0:s.getScale(P))||{x:1,y:1}:{x:1,y:1},C=tb(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:k,offsetParent:P,strategy:l}):k);return{top:(w.top-C.top+g.top)/Q.y,bottom:(C.bottom-w.bottom+g.bottom)/Q.y,left:(w.left-C.left+g.left)/Q.x,right:(C.right-w.right+g.right)/Q.x}}const nCe=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=nl(n,e)||{};if(c==null)return{};const d=r8(u),f={x:t,y:r},m=ZN(i),g=FN(m),y=await o.getDimensions(c),x=m==="y",w=x?"top":"left",k=x?"bottom":"right",P=x?"clientHeight":"clientWidth",Q=s.reference[g]+s.reference[m]-f[m]-s.floating[g],C=f[m]-s.reference[m],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let O=N?N[P]:0;(!O||!await(o.isElement==null?void 0:o.isElement(N)))&&(O=a.floating[P]||s.floating[g]);const T=Q/2-C/2,S=O/2-y[g]/2-1,A=Nc(d[w],S),_=Nc(d[k],S),v=A,E=O-y[g]-_,j=O/2-y[g]/2+T,V=qE(v,j,E),U=!l.arrow&&Kf(i)!=null&&j!==V&&s.reference[g]/2-(j<v?A:_)-y[g]/2<0,X=U?j<v?j-v:j-E:0;return{[m]:f[m]+X,data:{[m]:V,centerOffset:j-V-X,...U&&{alignmentOffset:X}},reset:U}}}),rCe=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:y=!0,...x}=nl(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const w=rl(i),k=Ic(a),P=rl(a)===a,Q=await(l.isRTL==null?void 0:l.isRTL(c.floating)),C=f||(P||!y?[eb(a)]:HPe(a)),N=g!=="none";!f&&N&&C.push(...JPe(a,y,g,Q));const O=[a,...C],T=await wO(e,x),S=[];let A=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&S.push(T[w]),d){const j=YPe(i,o,Q);S.push(T[j[0]],T[j[1]])}if(A=[...A,{placement:i,overflows:S}],!S.every(j=>j<=0)){var _,v;const j=(((_=s.flip)==null?void 0:_.index)||0)+1,V=O[j];if(V)return{data:{index:j,overflows:A},reset:{placement:V}};let U=(v=A.filter(X=>X.overflows[0]<=0).sort((X,D)=>X.overflows[1]-D.overflows[1])[0])==null?void 0:v.placement;if(!U)switch(m){case"bestFit":{var E;const X=(E=A.filter(D=>{if(N){const L=Ic(D.placement);return L===k||L==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(L=>L>0).reduce((L,Y)=>L+Y,0)]).sort((D,L)=>D[1]-L[1])[0])==null?void 0:E[0];X&&(U=X);break}case"initialPlacement":U=a;break}if(i!==U)return{reset:{placement:U}}}return{}}}};function zL(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function qL(n){return WPe.some(e=>n[e]>=0)}const iCe=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=nl(n,e);switch(r){case"referenceHidden":{const s=await wO(e,{...i,elementContext:"reference"}),o=zL(s,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:qL(o)}}}case"escaped":{const s=await wO(e,{...i,altBoundary:!0}),o=zL(s,t.floating);return{data:{escapedOffsets:o,escaped:qL(o)}}}default:return{}}}}};async function sCe(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=rl(t),a=Kf(t),l=Ic(t)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,d=nl(e,n);let{mainAxis:f,crossAxis:m,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof g=="number"&&(m=a==="end"?g*-1:g),l?{x:m*u,y:f*c}:{x:f*c,y:m*u}}const oCe=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await sCe(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},aCe=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:w,y:k}=x;return{x:w,y:k}}},...l}=nl(n,e),c={x:t,y:r},u=await wO(e,l),d=Ic(rl(i)),f=qN(d);let m=c[f],g=c[d];if(s){const x=f==="y"?"top":"left",w=f==="y"?"bottom":"right",k=m+u[x],P=m-u[w];m=qE(k,m,P)}if(o){const x=d==="y"?"top":"left",w=d==="y"?"bottom":"right",k=g+u[x],P=g-u[w];g=qE(k,g,P)}const y=a.fn({...e,[f]:m,[d]:g});return{...y,data:{x:y.x-t,y:y.y-r,enabled:{[f]:s,[d]:o}}}}}},lCe=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=nl(n,e),u={x:t,y:r},d=Ic(i),f=qN(d);let m=u[f],g=u[d];const y=nl(a,e),x=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const P=f==="y"?"height":"width",Q=s.reference[f]-s.floating[P]+x.mainAxis,C=s.reference[f]+s.reference[P]-x.mainAxis;m<Q?m=Q:m>C&&(m=C)}if(c){var w,k;const P=f==="y"?"width":"height",Q=["top","left"].includes(rl(i)),C=s.reference[d]-s.floating[P]+(Q&&((w=o.offset)==null?void 0:w[d])||0)+(Q?0:x.crossAxis),N=s.reference[d]+s.reference[P]+(Q?0:((k=o.offset)==null?void 0:k[d])||0)-(Q?x.crossAxis:0);g<C?g=C:g>N&&(g=N)}return{[f]:m,[d]:g}}}},cCe=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=nl(n,e),u=await wO(e,c),d=rl(i),f=Kf(i),m=Ic(i)==="y",{width:g,height:y}=s.floating;let x,w;d==="top"||d==="bottom"?(x=d,w=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=d,x=f==="end"?"top":"bottom");const k=y-u.top-u.bottom,P=g-u.left-u.right,Q=Nc(y-u[x],k),C=Nc(g-u[w],P),N=!e.middlewareData.shift;let O=Q,T=C;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(T=P),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(O=k),N&&!f){const A=Ri(u.left,0),_=Ri(u.right,0),v=Ri(u.top,0),E=Ri(u.bottom,0);m?T=g-2*(A!==0||_!==0?A+_:Ri(u.left,u.right)):O=y-2*(v!==0||E!==0?v+E:Ri(u.top,u.bottom))}await l({...e,availableWidth:T,availableHeight:O});const S=await o.getDimensions(a.floating);return g!==S.width||y!==S.height?{reset:{rects:!0}}:{}}}};function jS(){return typeof window<"u"}function Jf(n){return i8(n)?(n.nodeName||"").toLowerCase():"#document"}function Fi(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function ia(n){var e;return(e=(i8(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function i8(n){return jS()?n instanceof Node||n instanceof Fi(n).Node:!1}function Xs(n){return jS()?n instanceof Element||n instanceof Fi(n).Element:!1}function Ho(n){return jS()?n instanceof HTMLElement||n instanceof Fi(n).HTMLElement:!1}function FL(n){return!jS()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Fi(n).ShadowRoot}function dy(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=Gs(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function uCe(n){return["table","td","th"].includes(Jf(n))}function DS(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function BN(n){const e=WN(),t=Xs(n)?Gs(n):n;return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function hCe(n){let e=$c(n);for(;Ho(e)&&!Cf(e);){if(BN(e))return e;if(DS(e))return null;e=$c(e)}return null}function WN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Cf(n){return["html","body","#document"].includes(Jf(n))}function Gs(n){return Fi(n).getComputedStyle(n)}function MS(n){return Xs(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function $c(n){if(Jf(n)==="html")return n;const e=n.assignedSlot||n.parentNode||FL(n)&&n.host||ia(n);return FL(e)?e.host:e}function s8(n){const e=$c(n);return Cf(e)?n.ownerDocument?n.ownerDocument.body:n.body:Ho(e)&&dy(e)?e:s8(e)}function bO(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=s8(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),o=Fi(i);if(s){const a=ZE(o);return e.concat(o,o.visualViewport||[],dy(i)?i:[],a&&t?bO(a):[])}return e.concat(i,bO(i,[],t))}function ZE(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function o8(n){const e=Gs(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Ho(n),s=i?n.offsetWidth:t,o=i?n.offsetHeight:r,a=Jw(t)!==s||Jw(r)!==o;return a&&(t=s,r=o),{width:t,height:r,$:a}}function XN(n){return Xs(n)?n:n.contextElement}function kd(n){const e=XN(n);if(!Ho(e))return $o(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=o8(e);let o=(s?Jw(t.width):t.width)/r,a=(s?Jw(t.height):t.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const dCe=$o(0);function a8(n){const e=Fi(n);return!WN()||!e.visualViewport?dCe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function fCe(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Fi(n)?!1:e}function nh(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=XN(n);let o=$o(1);e&&(r?Xs(r)&&(o=kd(r)):o=kd(n));const a=fCe(s,t,r)?a8(s):$o(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(s){const f=Fi(s),m=r&&Xs(r)?Fi(r):r;let g=f,y=ZE(g);for(;y&&r&&m!==g;){const x=kd(y),w=y.getBoundingClientRect(),k=Gs(y),P=w.left+(y.clientLeft+parseFloat(k.paddingLeft))*x.x,Q=w.top+(y.clientTop+parseFloat(k.paddingTop))*x.y;l*=x.x,c*=x.y,u*=x.x,d*=x.y,l+=P,c+=Q,g=Fi(y),y=ZE(g)}}return tb({width:u,height:d,x:l,y:c})}function GN(n,e){const t=MS(n).scrollLeft;return e?e.left+t:nh(ia(n)).left+t}function l8(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=r.left+e.scrollLeft-(t?0:GN(n,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function pCe(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i==="fixed",o=ia(r),a=e?DS(e.floating):!1;if(r===o||a&&s)return t;let l={scrollLeft:0,scrollTop:0},c=$o(1);const u=$o(0),d=Ho(r);if((d||!d&&!s)&&((Jf(r)!=="body"||dy(o))&&(l=MS(r)),Ho(r))){const m=nh(r);c=kd(r),u.x=m.x+r.clientLeft,u.y=m.y+r.clientTop}const f=o&&!d&&!s?l8(o,l,!0):$o(0);return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:t.y*c.y-l.scrollTop*c.y+u.y+f.y}}function mCe(n){return Array.from(n.getClientRects())}function gCe(n){const e=ia(n),t=MS(n),r=n.ownerDocument.body,i=Ri(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Ri(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+GN(n);const a=-t.scrollTop;return Gs(r).direction==="rtl"&&(o+=Ri(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function OCe(n,e){const t=Fi(n),r=ia(n),i=t.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=WN();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function yCe(n,e){const t=nh(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=Ho(n)?kd(n):$o(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function ZL(n,e,t){let r;if(e==="viewport")r=OCe(n,t);else if(e==="document")r=gCe(ia(n));else if(Xs(e))r=yCe(e,t);else{const i=a8(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return tb(r)}function c8(n,e){const t=$c(n);return t===e||!Xs(t)||Cf(t)?!1:Gs(t).position==="fixed"||c8(t,e)}function vCe(n,e){const t=e.get(n);if(t)return t;let r=bO(n,[],!1).filter(a=>Xs(a)&&Jf(a)!=="body"),i=null;const s=Gs(n).position==="fixed";let o=s?$c(n):n;for(;Xs(o)&&!Cf(o);){const a=Gs(o),l=BN(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||dy(o)&&!l&&c8(n,o))?r=r.filter(u=>u!==o):i=a,o=$c(o)}return e.set(n,r),r}function xCe(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const o=[...t==="clippingAncestors"?DS(e)?[]:vCe(e,this._c):[].concat(t),r],a=o[0],l=o.reduce((c,u)=>{const d=ZL(e,u,i);return c.top=Ri(d.top,c.top),c.right=Nc(d.right,c.right),c.bottom=Nc(d.bottom,c.bottom),c.left=Ri(d.left,c.left),c},ZL(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function wCe(n){const{width:e,height:t}=o8(n);return{width:e,height:t}}function bCe(n,e,t){const r=Ho(e),i=ia(e),s=t==="fixed",o=nh(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=$o(0);if(r||!r&&!s)if((Jf(e)!=="body"||dy(i))&&(a=MS(e)),r){const f=nh(e,!0,s,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else i&&(l.x=GN(i));const c=i&&!r&&!s?l8(i,a):$o(0),u=o.left+a.scrollLeft-l.x-c.x,d=o.top+a.scrollTop-l.y-c.y;return{x:u,y:d,width:o.width,height:o.height}}function I_(n){return Gs(n).position==="static"}function BL(n,e){if(!Ho(n)||Gs(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return ia(n)===t&&(t=t.ownerDocument.body),t}function u8(n,e){const t=Fi(n);if(DS(n))return t;if(!Ho(n)){let i=$c(n);for(;i&&!Cf(i);){if(Xs(i)&&!I_(i))return i;i=$c(i)}return t}let r=BL(n,e);for(;r&&uCe(r)&&I_(r);)r=BL(r,e);return r&&Cf(r)&&I_(r)&&!BN(r)?t:r||hCe(n)||t}const SCe=async function(n){const e=this.getOffsetParent||u8,t=this.getDimensions,r=await t(n.floating);return{reference:bCe(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function kCe(n){return Gs(n).direction==="rtl"}const _Ce={convertOffsetParentRelativeRectToViewportRelativeRect:pCe,getDocumentElement:ia,getClippingRect:xCe,getOffsetParent:u8,getElementRects:SCe,getClientRects:mCe,getDimensions:wCe,getScale:kd,isElement:Xs,isRTL:kCe};function TCe(n,e){let t=null,r;const i=ia(n);function s(){var a;clearTimeout(r),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:u,width:d,height:f}=n.getBoundingClientRect();if(a||e(),!d||!f)return;const m=Z0(u),g=Z0(i.clientWidth-(c+d)),y=Z0(i.clientHeight-(u+f)),x=Z0(c),k={rootMargin:-m+"px "+-g+"px "+-y+"px "+-x+"px",threshold:Ri(0,Nc(1,l))||1};let P=!0;function Q(C){const N=C[0].intersectionRatio;if(N!==l){if(!P)return o();N?o(!1,N):r=setTimeout(()=>{o(!1,1e-7)},1e3)}P=!1}try{t=new IntersectionObserver(Q,{...k,root:i.ownerDocument})}catch{t=new IntersectionObserver(Q,k)}t.observe(n)}return o(!0),s}function PCe(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=XN(n),u=i||s?[...c?bO(c):[],...bO(e)]:[];u.forEach(w=>{i&&w.addEventListener("scroll",t,{passive:!0}),s&&w.addEventListener("resize",t)});const d=c&&a?TCe(c,t):null;let f=-1,m=null;o&&(m=new ResizeObserver(w=>{let[k]=w;k&&k.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var P;(P=m)==null||P.observe(e)})),t()}),c&&!l&&m.observe(c),m.observe(e));let g,y=l?nh(n):null;l&&x();function x(){const w=nh(n);y&&(w.x!==y.x||w.y!==y.y||w.width!==y.width||w.height!==y.height)&&t(),y=w,g=requestAnimationFrame(x)}return t(),()=>{var w;u.forEach(k=>{i&&k.removeEventListener("scroll",t),s&&k.removeEventListener("resize",t)}),d==null||d(),(w=m)==null||w.disconnect(),m=null,l&&cancelAnimationFrame(g)}}const CCe=oCe,ECe=aCe,ACe=rCe,RCe=cCe,QCe=iCe,WL=nCe,NCe=lCe,ICe=(n,e,t)=>{const r=new Map,i={platform:_Ce,...t},s={...i.platform,_c:r};return tCe(n,e,{...i,platform:s})};var ix=typeof document<"u"?b.useLayoutEffect:b.useEffect;function nb(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!nb(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!nb(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function h8(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function XL(n,e){const t=h8(n);return Math.round(e*t)/t}function $_(n){const e=b.useRef(n);return ix(()=>{e.current=n}),e}function $Ce(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=n,[u,d]=b.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[f,m]=b.useState(r);nb(f,r)||m(r);const[g,y]=b.useState(null),[x,w]=b.useState(null),k=b.useCallback(D=>{D!==N.current&&(N.current=D,y(D))},[]),P=b.useCallback(D=>{D!==O.current&&(O.current=D,w(D))},[]),Q=s||g,C=o||x,N=b.useRef(null),O=b.useRef(null),T=b.useRef(u),S=l!=null,A=$_(l),_=$_(i),v=$_(c),E=b.useCallback(()=>{if(!N.current||!O.current)return;const D={placement:e,strategy:t,middleware:f};_.current&&(D.platform=_.current),ICe(N.current,O.current,D).then(L=>{const Y={...L,isPositioned:v.current!==!1};j.current&&!nb(T.current,Y)&&(T.current=Y,oh.flushSync(()=>{d(Y)}))})},[f,e,t,_,v]);ix(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,d(D=>({...D,isPositioned:!1})))},[c]);const j=b.useRef(!1);ix(()=>(j.current=!0,()=>{j.current=!1}),[]),ix(()=>{if(Q&&(N.current=Q),C&&(O.current=C),Q&&C){if(A.current)return A.current(Q,C,E);E()}},[Q,C,E,A,S]);const V=b.useMemo(()=>({reference:N,floating:O,setReference:k,setFloating:P}),[k,P]),U=b.useMemo(()=>({reference:Q,floating:C}),[Q,C]),X=b.useMemo(()=>{const D={position:t,left:0,top:0};if(!U.floating)return D;const L=XL(U.floating,u.x),Y=XL(U.floating,u.y);return a?{...D,transform:"translate("+L+"px, "+Y+"px)",...h8(U.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:L,top:Y}},[t,a,U.floating,u.x,u.y]);return b.useMemo(()=>({...u,update:E,refs:V,elements:U,floatingStyles:X}),[u,E,V,U,X])}const jCe=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?WL({element:r.current,padding:i}).fn(t):{}:r?WL({element:r,padding:i}).fn(t):{}}}},DCe=(n,e)=>({...CCe(n),options:[n,e]}),MCe=(n,e)=>({...ECe(n),options:[n,e]}),VCe=(n,e)=>({...NCe(n),options:[n,e]}),LCe=(n,e)=>({...ACe(n),options:[n,e]}),UCe=(n,e)=>({...RCe(n),options:[n,e]}),zCe=(n,e)=>({...QCe(n),options:[n,e]}),qCe=(n,e)=>({...jCe(n),options:[n,e]});var FCe="Arrow",d8=b.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...s}=n;return h.jsx(Qe.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});d8.displayName=FCe;var ZCe=d8;function BCe(n,e=[]){let t=[];function r(s,o){const a=b.createContext(o),l=t.length;t=[...t,o];function c(d){const{scope:f,children:m,...g}=d,y=(f==null?void 0:f[n][l])||a,x=b.useMemo(()=>g,Object.values(g));return h.jsx(y.Provider,{value:x,children:m})}function u(d,f){const m=(f==null?void 0:f[n][l])||a,g=b.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,u]}const i=()=>{const s=t.map(o=>b.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return b.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return i.scopeName=n,[r,WCe(i,...e)]}function WCe(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function YN(n){const[e,t]=b.useState(void 0);return Wn(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=n.offsetWidth,a=n.offsetHeight;t({width:o,height:a})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var HN="Popper",[f8,VS]=BCe(HN),[XCe,p8]=f8(HN),m8=n=>{const{__scopePopper:e,children:t}=n,[r,i]=b.useState(null);return h.jsx(XCe,{scope:e,anchor:r,onAnchorChange:i,children:t})};m8.displayName=HN;var g8="PopperAnchor",O8=b.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,s=p8(g8,t),o=b.useRef(null),a=Je(e,o);return b.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:h.jsx(Qe.div,{...i,ref:a})});O8.displayName=g8;var KN="PopperContent",[GCe,YCe]=f8(KN),y8=b.forwardRef((n,e)=>{var ie,ct,ut,Ce,Be,Ge;const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:g,...y}=n,x=p8(KN,t),[w,k]=b.useState(null),P=Je(e,Lt=>k(Lt)),[Q,C]=b.useState(null),N=YN(Q),O=(N==null?void 0:N.width)??0,T=(N==null?void 0:N.height)??0,S=r+(s!=="center"?"-"+s:""),A=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},_=Array.isArray(c)?c:[c],v=_.length>0,E={padding:A,boundary:_.filter(KCe),altBoundary:v},{refs:j,floatingStyles:V,placement:U,isPositioned:X,middlewareData:D}=$Ce({strategy:"fixed",placement:S,whileElementsMounted:(...Lt)=>PCe(...Lt,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[DCe({mainAxis:i+T,alignmentAxis:o}),l&&MCe({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?VCe():void 0,...E}),l&&LCe({...E}),UCe({...E,apply:({elements:Lt,rects:_n,availableWidth:Js,availableHeight:sa})=>{const{width:cl,height:z}=_n.reference,G=Lt.floating.style;G.setProperty("--radix-popper-available-width",`${Js}px`),G.setProperty("--radix-popper-available-height",`${sa}px`),G.setProperty("--radix-popper-anchor-width",`${cl}px`),G.setProperty("--radix-popper-anchor-height",`${z}px`)}}),Q&&qCe({element:Q,padding:a}),JCe({arrowWidth:O,arrowHeight:T}),f&&zCe({strategy:"referenceHidden",...E})]}),[L,Y]=w8(U),Z=Ht(g);Wn(()=>{X&&(Z==null||Z())},[X,Z]);const F=(ie=D.arrow)==null?void 0:ie.x,B=(ct=D.arrow)==null?void 0:ct.y,J=((ut=D.arrow)==null?void 0:ut.centerOffset)!==0,[ae,oe]=b.useState();return Wn(()=>{w&&oe(window.getComputedStyle(w).zIndex)},[w]),h.jsx("div",{ref:j.setFloating,"data-radix-popper-content-wrapper":"",style:{...V,transform:X?V.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ae,"--radix-popper-transform-origin":[(Ce=D.transformOrigin)==null?void 0:Ce.x,(Be=D.transformOrigin)==null?void 0:Be.y].join(" "),...((Ge=D.hide)==null?void 0:Ge.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:h.jsx(GCe,{scope:t,placedSide:L,onArrowChange:C,arrowX:F,arrowY:B,shouldHideArrow:J,children:h.jsx(Qe.div,{"data-side":L,"data-align":Y,...y,ref:P,style:{...y.style,animation:X?void 0:"none"}})})})});y8.displayName=KN;var v8="PopperArrow",HCe={top:"bottom",right:"left",bottom:"top",left:"right"},x8=b.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,s=YCe(v8,r),o=HCe[s.placedSide];return h.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:h.jsx(ZCe,{...i,ref:t,style:{...i.style,display:"block"}})})});x8.displayName=v8;function KCe(n){return n!==null}var JCe=n=>({name:"transformOrigin",options:n,fn(e){var x,w,k;const{placement:t,rects:r,middlewareData:i}=e,o=((x=i.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:n.arrowWidth,l=o?0:n.arrowHeight,[c,u]=w8(t),d={start:"0%",center:"50%",end:"100%"}[u],f=(((w=i.arrow)==null?void 0:w.x)??0)+a/2,m=(((k=i.arrow)==null?void 0:k.y)??0)+l/2;let g="",y="";return c==="bottom"?(g=o?d:`${f}px`,y=`${-l}px`):c==="top"?(g=o?d:`${f}px`,y=`${r.floating.height+l}px`):c==="right"?(g=`${-l}px`,y=o?d:`${m}px`):c==="left"&&(g=`${r.floating.width+l}px`,y=o?d:`${m}px`),{data:{x:g,y}}}});function w8(n){const[e,t="center"]=n.split("-");return[e,t]}var b8=m8,S8=O8,k8=y8,_8=x8;function JN(n){const e=b.useRef({value:n,previous:n});return b.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var eEe=[" ","Enter","ArrowUp","ArrowDown"],tEe=[" ","Enter"],fy="Select",[LS,US,nEe]=KO(fy),[ep,kIe]=Jo(fy,[nEe,VS]),zS=VS(),[rEe,Wc]=ep(fy),[iEe,sEe]=ep(fy),T8=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:f,required:m,form:g}=n,y=zS(e),[x,w]=b.useState(null),[k,P]=b.useState(null),[Q,C]=b.useState(!1),N=Wf(c),[O=!1,T]=Ga({prop:r,defaultProp:i,onChange:s}),[S,A]=Ga({prop:o,defaultProp:a,onChange:l}),_=b.useRef(null),v=x?g||!!x.closest("form"):!0,[E,j]=b.useState(new Set),V=Array.from(E).map(U=>U.props.value).join(";");return h.jsx(b8,{...y,children:h.jsxs(rEe,{required:m,scope:e,trigger:x,onTriggerChange:w,valueNode:k,onValueNodeChange:P,valueNodeHasChildren:Q,onValueNodeHasChildrenChange:C,contentId:Ao(),value:S,onValueChange:A,open:O,onOpenChange:T,dir:N,triggerPointerDownPosRef:_,disabled:f,children:[h.jsx(LS.Provider,{scope:e,children:h.jsx(iEe,{scope:n.__scopeSelect,onNativeOptionAdd:b.useCallback(U=>{j(X=>new Set(X).add(U))},[]),onNativeOptionRemove:b.useCallback(U=>{j(X=>{const D=new Set(X);return D.delete(U),D})},[]),children:t})}),v?h.jsxs(H8,{"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:d,value:S,onChange:U=>A(U.target.value),disabled:f,form:g,children:[S===void 0?h.jsx("option",{value:""}):null,Array.from(E)]},V):null]})})};T8.displayName=fy;var P8="SelectTrigger",C8=b.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...i}=n,s=zS(t),o=Wc(P8,t),a=o.disabled||r,l=Je(e,o.onTriggerChange),c=US(t),u=b.useRef("touch"),[d,f,m]=K8(y=>{const x=c().filter(P=>!P.disabled),w=x.find(P=>P.value===o.value),k=J8(x,y,w);k!==void 0&&o.onValueChange(k.value)}),g=y=>{a||(o.onOpenChange(!0),m()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return h.jsx(S8,{asChild:!0,...s,children:h.jsx(Qe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":Y8(o.value)?"":void 0,...i,ref:l,onClick:he(i.onClick,y=>{y.currentTarget.focus(),u.current!=="mouse"&&g(y)}),onPointerDown:he(i.onPointerDown,y=>{u.current=y.pointerType;const x=y.target;x.hasPointerCapture(y.pointerId)&&x.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(g(y),y.preventDefault())}),onKeyDown:he(i.onKeyDown,y=>{const x=d.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&f(y.key),!(x&&y.key===" ")&&eEe.includes(y.key)&&(g(),y.preventDefault())})})})});C8.displayName=P8;var E8="SelectValue",A8=b.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,children:s,placeholder:o="",...a}=n,l=Wc(E8,t),{onValueNodeHasChildrenChange:c}=l,u=s!==void 0,d=Je(e,l.onValueNodeChange);return Wn(()=>{c(u)},[c,u]),h.jsx(Qe.span,{...a,ref:d,style:{pointerEvents:"none"},children:Y8(l.value)?h.jsx(h.Fragment,{children:o}):s})});A8.displayName=E8;var oEe="SelectIcon",R8=b.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...i}=n;return h.jsx(Qe.span,{"aria-hidden":!0,...i,ref:e,children:r||"▼"})});R8.displayName=oEe;var aEe="SelectPortal",Q8=n=>h.jsx(ey,{asChild:!0,...n});Q8.displayName=aEe;var rh="SelectContent",N8=b.forwardRef((n,e)=>{const t=Wc(rh,n.__scopeSelect),[r,i]=b.useState();if(Wn(()=>{i(new DocumentFragment)},[]),!t.open){const s=r;return s?oh.createPortal(h.jsx(I8,{scope:n.__scopeSelect,children:h.jsx(LS.Slot,{scope:n.__scopeSelect,children:h.jsx("div",{children:n.children})})}),s):null}return h.jsx($8,{...n,ref:e})});N8.displayName=rh;var vs=10,[I8,Xc]=ep(rh),lEe="SelectContentImpl",$8=b.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:f,collisionPadding:m,sticky:g,hideWhenDetached:y,avoidCollisions:x,...w}=n,k=Wc(rh,t),[P,Q]=b.useState(null),[C,N]=b.useState(null),O=Je(e,ie=>Q(ie)),[T,S]=b.useState(null),[A,_]=b.useState(null),v=US(t),[E,j]=b.useState(!1),V=b.useRef(!1);b.useEffect(()=>{if(P)return _Q(P)},[P]),kQ();const U=b.useCallback(ie=>{const[ct,...ut]=v().map(Ge=>Ge.ref.current),[Ce]=ut.slice(-1),Be=document.activeElement;for(const Ge of ie)if(Ge===Be||(Ge==null||Ge.scrollIntoView({block:"nearest"}),Ge===ct&&C&&(C.scrollTop=0),Ge===Ce&&C&&(C.scrollTop=C.scrollHeight),Ge==null||Ge.focus(),document.activeElement!==Be))return},[v,C]),X=b.useCallback(()=>U([T,P]),[U,T,P]);b.useEffect(()=>{E&&X()},[E,X]);const{onOpenChange:D,triggerPointerDownPosRef:L}=k;b.useEffect(()=>{if(P){let ie={x:0,y:0};const ct=Ce=>{var Be,Ge;ie={x:Math.abs(Math.round(Ce.pageX)-(((Be=L.current)==null?void 0:Be.x)??0)),y:Math.abs(Math.round(Ce.pageY)-(((Ge=L.current)==null?void 0:Ge.y)??0))}},ut=Ce=>{ie.x<=10&&ie.y<=10?Ce.preventDefault():P.contains(Ce.target)||D(!1),document.removeEventListener("pointermove",ct),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",ct),document.addEventListener("pointerup",ut,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ct),document.removeEventListener("pointerup",ut,{capture:!0})}}},[P,D,L]),b.useEffect(()=>{const ie=()=>D(!1);return window.addEventListener("blur",ie),window.addEventListener("resize",ie),()=>{window.removeEventListener("blur",ie),window.removeEventListener("resize",ie)}},[D]);const[Y,Z]=K8(ie=>{const ct=v().filter(Be=>!Be.disabled),ut=ct.find(Be=>Be.ref.current===document.activeElement),Ce=J8(ct,ie,ut);Ce&&setTimeout(()=>Ce.ref.current.focus())}),F=b.useCallback((ie,ct,ut)=>{const Ce=!V.current&&!ut;(k.value!==void 0&&k.value===ct||Ce)&&(S(ie),Ce&&(V.current=!0))},[k.value]),B=b.useCallback(()=>P==null?void 0:P.focus(),[P]),J=b.useCallback((ie,ct,ut)=>{const Ce=!V.current&&!ut;(k.value!==void 0&&k.value===ct||Ce)&&_(ie)},[k.value]),ae=r==="popper"?BE:j8,oe=ae===BE?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:f,collisionPadding:m,sticky:g,hideWhenDetached:y,avoidCollisions:x}:{};return h.jsx(I8,{scope:t,content:P,viewport:C,onViewportChange:N,itemRefCallback:F,selectedItem:T,onItemLeave:B,itemTextRefCallback:J,focusSelectedItem:X,selectedItemText:A,position:r,isPositioned:E,searchRef:Y,children:h.jsx(mS,{as:Xa,allowPinchZoom:!0,children:h.jsx(fS,{asChild:!0,trapped:k.open,onMountAutoFocus:ie=>{ie.preventDefault()},onUnmountAutoFocus:he(i,ie=>{var ct;(ct=k.trigger)==null||ct.focus({preventScroll:!0}),ie.preventDefault()}),children:h.jsx(JO,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:ie=>ie.preventDefault(),onDismiss:()=>k.onOpenChange(!1),children:h.jsx(ae,{role:"listbox",id:k.contentId,"data-state":k.open?"open":"closed",dir:k.dir,onContextMenu:ie=>ie.preventDefault(),...w,...oe,onPlaced:()=>j(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:he(w.onKeyDown,ie=>{const ct=ie.ctrlKey||ie.altKey||ie.metaKey;if(ie.key==="Tab"&&ie.preventDefault(),!ct&&ie.key.length===1&&Z(ie.key),["ArrowUp","ArrowDown","Home","End"].includes(ie.key)){let Ce=v().filter(Be=>!Be.disabled).map(Be=>Be.ref.current);if(["ArrowUp","End"].includes(ie.key)&&(Ce=Ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(ie.key)){const Be=ie.target,Ge=Ce.indexOf(Be);Ce=Ce.slice(Ge+1)}setTimeout(()=>U(Ce)),ie.preventDefault()}})})})})})})});$8.displayName=lEe;var cEe="SelectItemAlignedPosition",j8=b.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...i}=n,s=Wc(rh,t),o=Xc(rh,t),[a,l]=b.useState(null),[c,u]=b.useState(null),d=Je(e,O=>u(O)),f=US(t),m=b.useRef(!1),g=b.useRef(!0),{viewport:y,selectedItem:x,selectedItemText:w,focusSelectedItem:k}=o,P=b.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&y&&x&&w){const O=s.trigger.getBoundingClientRect(),T=c.getBoundingClientRect(),S=s.valueNode.getBoundingClientRect(),A=w.getBoundingClientRect();if(s.dir!=="rtl"){const Be=A.left-T.left,Ge=S.left-Be,Lt=O.left-Ge,_n=O.width+Lt,Js=Math.max(_n,T.width),sa=window.innerWidth-vs,cl=Sg(Ge,[vs,Math.max(vs,sa-Js)]);a.style.minWidth=_n+"px",a.style.left=cl+"px"}else{const Be=T.right-A.right,Ge=window.innerWidth-S.right-Be,Lt=window.innerWidth-O.right-Ge,_n=O.width+Lt,Js=Math.max(_n,T.width),sa=window.innerWidth-vs,cl=Sg(Ge,[vs,Math.max(vs,sa-Js)]);a.style.minWidth=_n+"px",a.style.right=cl+"px"}const _=f(),v=window.innerHeight-vs*2,E=y.scrollHeight,j=window.getComputedStyle(c),V=parseInt(j.borderTopWidth,10),U=parseInt(j.paddingTop,10),X=parseInt(j.borderBottomWidth,10),D=parseInt(j.paddingBottom,10),L=V+U+E+D+X,Y=Math.min(x.offsetHeight*5,L),Z=window.getComputedStyle(y),F=parseInt(Z.paddingTop,10),B=parseInt(Z.paddingBottom,10),J=O.top+O.height/2-vs,ae=v-J,oe=x.offsetHeight/2,ie=x.offsetTop+oe,ct=V+U+ie,ut=L-ct;if(ct<=J){const Be=_.length>0&&x===_[_.length-1].ref.current;a.style.bottom="0px";const Ge=c.clientHeight-y.offsetTop-y.offsetHeight,Lt=Math.max(ae,oe+(Be?B:0)+Ge+X),_n=ct+Lt;a.style.height=_n+"px"}else{const Be=_.length>0&&x===_[0].ref.current;a.style.top="0px";const Lt=Math.max(J,V+y.offsetTop+(Be?F:0)+oe)+ut;a.style.height=Lt+"px",y.scrollTop=ct-J+y.offsetTop}a.style.margin=`${vs}px 0`,a.style.minHeight=Y+"px",a.style.maxHeight=v+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[f,s.trigger,s.valueNode,a,c,y,x,w,s.dir,r]);Wn(()=>P(),[P]);const[Q,C]=b.useState();Wn(()=>{c&&C(window.getComputedStyle(c).zIndex)},[c]);const N=b.useCallback(O=>{O&&g.current===!0&&(P(),k==null||k(),g.current=!1)},[P,k]);return h.jsx(hEe,{scope:t,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:N,children:h.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:Q},children:h.jsx(Qe.div,{...i,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});j8.displayName=cEe;var uEe="SelectPopperPosition",BE=b.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:i=vs,...s}=n,o=zS(t);return h.jsx(k8,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});BE.displayName=uEe;var[hEe,eI]=ep(rh,{}),WE="SelectViewport",D8=b.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...i}=n,s=Xc(WE,t),o=eI(WE,t),a=Je(e,s.onViewportChange),l=b.useRef(0);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),h.jsx(LS.Slot,{scope:t,children:h.jsx(Qe.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:he(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&d){const m=Math.abs(l.current-u.scrollTop);if(m>0){const g=window.innerHeight-vs*2,y=parseFloat(d.style.minHeight),x=parseFloat(d.style.height),w=Math.max(y,x);if(w<g){const k=w+m,P=Math.min(g,k),Q=k-P;d.style.height=P+"px",d.style.bottom==="0px"&&(u.scrollTop=Q>0?Q:0,d.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});D8.displayName=WE;var M8="SelectGroup",[dEe,fEe]=ep(M8),pEe=b.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=Ao();return h.jsx(dEe,{scope:t,id:i,children:h.jsx(Qe.div,{role:"group","aria-labelledby":i,...r,ref:e})})});pEe.displayName=M8;var V8="SelectLabel",L8=b.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=fEe(V8,t);return h.jsx(Qe.div,{id:i.id,...r,ref:e})});L8.displayName=V8;var rb="SelectItem",[mEe,U8]=ep(rb),z8=b.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:i=!1,textValue:s,...o}=n,a=Wc(rb,t),l=Xc(rb,t),c=a.value===r,[u,d]=b.useState(s??""),[f,m]=b.useState(!1),g=Je(e,k=>{var P;return(P=l.itemRefCallback)==null?void 0:P.call(l,k,r,i)}),y=Ao(),x=b.useRef("touch"),w=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return h.jsx(mEe,{scope:t,value:r,disabled:i,textId:y,isSelected:c,onItemTextChange:b.useCallback(k=>{d(P=>P||((k==null?void 0:k.textContent)??"").trim())},[]),children:h.jsx(LS.ItemSlot,{scope:t,value:r,disabled:i,textValue:u,children:h.jsx(Qe.div,{role:"option","aria-labelledby":y,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:g,onFocus:he(o.onFocus,()=>m(!0)),onBlur:he(o.onBlur,()=>m(!1)),onClick:he(o.onClick,()=>{x.current!=="mouse"&&w()}),onPointerUp:he(o.onPointerUp,()=>{x.current==="mouse"&&w()}),onPointerDown:he(o.onPointerDown,k=>{x.current=k.pointerType}),onPointerMove:he(o.onPointerMove,k=>{var P;x.current=k.pointerType,i?(P=l.onItemLeave)==null||P.call(l):x.current==="mouse"&&k.currentTarget.focus({preventScroll:!0})}),onPointerLeave:he(o.onPointerLeave,k=>{var P;k.currentTarget===document.activeElement&&((P=l.onItemLeave)==null||P.call(l))}),onKeyDown:he(o.onKeyDown,k=>{var Q;((Q=l.searchRef)==null?void 0:Q.current)!==""&&k.key===" "||(tEe.includes(k.key)&&w(),k.key===" "&&k.preventDefault())})})})})});z8.displayName=rb;var xm="SelectItemText",q8=b.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,...s}=n,o=Wc(xm,t),a=Xc(xm,t),l=U8(xm,t),c=sEe(xm,t),[u,d]=b.useState(null),f=Je(e,w=>d(w),l.onItemTextChange,w=>{var k;return(k=a.itemTextRefCallback)==null?void 0:k.call(a,w,l.value,l.disabled)}),m=u==null?void 0:u.textContent,g=b.useMemo(()=>h.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:y,onNativeOptionRemove:x}=c;return Wn(()=>(y(g),()=>x(g)),[y,x,g]),h.jsxs(h.Fragment,{children:[h.jsx(Qe.span,{id:l.textId,...s,ref:f}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?oh.createPortal(s.children,o.valueNode):null]})});q8.displayName=xm;var F8="SelectItemIndicator",Z8=b.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return U8(F8,t).isSelected?h.jsx(Qe.span,{"aria-hidden":!0,...r,ref:e}):null});Z8.displayName=F8;var XE="SelectScrollUpButton",B8=b.forwardRef((n,e)=>{const t=Xc(XE,n.__scopeSelect),r=eI(XE,n.__scopeSelect),[i,s]=b.useState(!1),o=Je(e,r.onScrollButtonChange);return Wn(()=>{if(t.viewport&&t.isPositioned){let a=function(){const c=l.scrollTop>0;s(c)};const l=t.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[t.viewport,t.isPositioned]),i?h.jsx(X8,{...n,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=t;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});B8.displayName=XE;var GE="SelectScrollDownButton",W8=b.forwardRef((n,e)=>{const t=Xc(GE,n.__scopeSelect),r=eI(GE,n.__scopeSelect),[i,s]=b.useState(!1),o=Je(e,r.onScrollButtonChange);return Wn(()=>{if(t.viewport&&t.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;s(u)};const l=t.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[t.viewport,t.isPositioned]),i?h.jsx(X8,{...n,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=t;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});W8.displayName=GE;var X8=b.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...i}=n,s=Xc("SelectScrollButton",t),o=b.useRef(null),a=US(t),l=b.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return b.useEffect(()=>()=>l(),[l]),Wn(()=>{var u;const c=a().find(d=>d.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),h.jsx(Qe.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:he(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:he(i.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:he(i.onPointerLeave,()=>{l()})})}),gEe="SelectSeparator",G8=b.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return h.jsx(Qe.div,{"aria-hidden":!0,...r,ref:e})});G8.displayName=gEe;var YE="SelectArrow",OEe=b.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=zS(t),s=Wc(YE,t),o=Xc(YE,t);return s.open&&o.position==="popper"?h.jsx(_8,{...i,...r,ref:e}):null});OEe.displayName=YE;function Y8(n){return n===""||n===void 0}var H8=b.forwardRef((n,e)=>{const{value:t,...r}=n,i=b.useRef(null),s=Je(e,i),o=JN(t);return b.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==t&&u){const d=new Event("change",{bubbles:!0});u.call(a,t),a.dispatchEvent(d)}},[o,t]),h.jsx(tS,{asChild:!0,children:h.jsx("select",{...r,ref:s,defaultValue:t})})});H8.displayName="BubbleSelect";function K8(n){const e=Ht(n),t=b.useRef(""),r=b.useRef(0),i=b.useCallback(o=>{const a=t.current+o;e(a),function l(c){t.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),s=b.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,i,s]}function J8(n,e,t){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=t?n.indexOf(t):-1;let o=yEe(n,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==t));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==t?l:void 0}function yEe(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var vEe=T8,eG=C8,xEe=A8,wEe=R8,bEe=Q8,tG=N8,SEe=D8,nG=L8,rG=z8,kEe=q8,_Ee=Z8,iG=B8,sG=W8,oG=G8;const tI=vEe,nI=xEe,qS=b.forwardRef(({className:n,children:e,...t},r)=>h.jsxs(eG,{ref:r,className:we("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...t,children:[e,h.jsx(wEe,{asChild:!0,children:h.jsx(Tn,{className:"h-4 w-4 opacity-50"})})]}));qS.displayName=eG.displayName;const aG=b.forwardRef(({className:n,...e},t)=>h.jsx(iG,{ref:t,className:we("flex cursor-default items-center justify-center py-1",n),...e,children:h.jsx($n,{className:"h-4 w-4"})}));aG.displayName=iG.displayName;const lG=b.forwardRef(({className:n,...e},t)=>h.jsx(sG,{ref:t,className:we("flex cursor-default items-center justify-center py-1",n),...e,children:h.jsx(Tn,{className:"h-4 w-4"})}));lG.displayName=sG.displayName;const FS=b.forwardRef(({className:n,children:e,position:t="popper",...r},i)=>h.jsx(bEe,{children:h.jsxs(tG,{ref:i,className:we("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...r,children:[h.jsx(aG,{}),h.jsx(SEe,{className:we("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),h.jsx(lG,{})]})}));FS.displayName=tG.displayName;const TEe=b.forwardRef(({className:n,...e},t)=>h.jsx(nG,{ref:t,className:we("py-1.5 pl-8 pr-2 text-sm font-semibold",n),...e}));TEe.displayName=nG.displayName;const lc=b.forwardRef(({className:n,children:e,...t},r)=>h.jsxs(rG,{ref:r,className:we("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(_Ee,{children:h.jsx(iS,{className:"h-4 w-4"})})}),h.jsx(kEe,{children:e})]}));lc.displayName=rG.displayName;const PEe=b.forwardRef(({className:n,...e},t)=>h.jsx(oG,{ref:t,className:we("-mx-1 my-1 h-px bg-muted",n),...e}));PEe.displayName=oG.displayName;const rI={title:lt.string().min(1,"Title is required"),description:lt.string().optional(),tags:lt.array(lt.string()).default([]),projectId:lt.string().optional()},CEe=lt.object({...rI,content:lt.string().min(1,"Content is required"),language:lt.string().default("javascript")}),EEe=lt.object({...rI,content:lt.string().min(1,"Content is required")}),AEe=lt.object({...rI,items:lt.array(lt.object({text:lt.string(),checked:lt.boolean()})).default([{text:"",checked:!1}])});function Sa({type:n,trigger:e,onCreated:t}){const[r,i]=b.useState(!1),{user:s}=nn(),{toast:o}=In(),[a,l]=b.useState([{text:"",checked:!1}]),c=Xi(),[u,d]=b.useState([]),[f,m]=b.useState(!1),[g,y]=b.useState("");b.useEffect(()=>{(async()=>{if(s)try{const N=Ie(Ee(re,"projects"),Ae("userId","==",s.uid)),T=(await je(N)).docs.map(S=>({id:S.id,name:S.data().name}));d(T)}catch(N){console.error("Error fetching projects:",N)}})()},[s]);const x=uS({resolver:hS(n==="snippet"?CEe:n==="note"?EEe:AEe),defaultValues:{title:"",description:"",content:"",language:"javascript",tags:[],projectId:"uncategorized"}}),w=async()=>{if(!(!s||!g.trim()))try{const C=Date.now(),N=await Ba(Ee(re,"projects"),{name:g.trim(),userId:s.uid,createdAt:C,updatedAt:C}),O={id:N.id,name:g.trim()};d([...u,O]),x.setValue("projectId",N.id),y(""),m(!1)}catch(C){console.error("Error creating project:",C),o({variant:"destructive",title:"Error",description:C.message||"Failed to create project. Please try again."})}},k=async C=>{try{if(!s){o({variant:"destructive",title:"Error",description:"You must be logged in to create items"});return}const N=n==="snippet"?"snippets":n==="note"?"notes":"checklists",O=n==="checklist"?JSON.stringify(a.filter(_=>_.text.trim())):C.content,T={...C};n!=="snippet"&&"language"in T&&delete T.language;const A={id:(await Ba(Ee(re,N),{...T,content:O,userId:s.uid,createdAt:qu(),updatedAt:qu()})).id,...T,content:O,userId:s.uid,createdAt:new Date().getTime(),updatedAt:new Date().getTime()};c.setQueryData(["items",s.uid,N],_=>_?[A,..._]:[A]),c.setQueryData(["folder-items",s.uid,N],_=>_?[A,..._]:[A]),c.invalidateQueries({queryKey:["items"]}),c.invalidateQueries({queryKey:["folder-items"]}),c.invalidateQueries({queryKey:["project-items",s.uid,C.projectId||""]}),(C.projectId==="uncategorized"||C.projectId===""||!C.projectId)&&(c.invalidateQueries({queryKey:["project-items",s.uid,""]}),c.invalidateQueries({queryKey:["project-items",s.uid,"uncategorized"]})),o({title:"Success",description:`${n} created successfully`}),i(!1),x.reset(),t==null||t()}catch(N){console.error("Creation error:",N),o({variant:"destructive",title:"Error",description:N.message||"Failed to create item. Please try again."})}},P=()=>{l([...a,{text:"",checked:!1}])},Q=(C,N)=>{const O=[...a];O[C].text=N,l(O)};return h.jsxs(Ro,{open:r,onOpenChange:i,children:[h.jsx(AQ,{asChild:!0,children:e}),h.jsxs(js,{className:"max-w-full h-[90vh] flex flex-col p-0",children:[h.jsxs(Ds,{className:"px-6 py-4 border-b",children:[h.jsxs(Ms,{children:["Create New ",n.charAt(0).toUpperCase()+n.slice(1)]}),h.jsxs(Vs,{children:["Add a new ",n," to your collection. All fields marked with * are required."]})]}),h.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:h.jsx(Mg,{...x,children:h.jsxs("form",{onSubmit:x.handleSubmit(k),className:"space-y-4 max-w-2xl mx-auto",children:[h.jsx(Hn,{control:x.control,name:"title",render:({field:C})=>h.jsxs(Ln,{children:[h.jsx(vn,{children:"Title *"}),h.jsx(xn,{children:h.jsx(Tt,{...C,placeholder:`Enter ${n} title`})}),h.jsx(Un,{})]})}),h.jsx(Hn,{control:x.control,name:"description",render:({field:C})=>h.jsxs(Ln,{children:[h.jsx(vn,{children:"Description"}),h.jsx(xn,{children:h.jsx(Tt,{...C,placeholder:"Add a description (optional)"})}),h.jsx(Un,{})]})}),n==="snippet"&&h.jsx(Hn,{control:x.control,name:"language",render:({field:C})=>h.jsxs(Ln,{children:[h.jsx(vn,{children:"Language *"}),h.jsx(xn,{children:h.jsx(Tt,{...C,placeholder:"javascript"})}),h.jsx(Un,{})]})}),h.jsx(Hn,{control:x.control,name:"tags",render:({field:C})=>h.jsxs(Ln,{children:[h.jsx(vn,{children:"Tags"}),h.jsx(xn,{children:h.jsx(n8,{value:C.value,onChange:C.onChange,placeholder:"Add tags (press Enter or comma to add)"})}),h.jsx(Un,{})]})}),h.jsx(Hn,{control:x.control,name:"projectId",render:({field:C})=>h.jsxs(Ln,{children:[h.jsx(vn,{children:"Project"}),f?h.jsxs("div",{className:"flex gap-2",children:[h.jsx(xn,{children:h.jsx(Tt,{value:g,onChange:N=>y(N.target.value),placeholder:"Enter new project name"})}),h.jsx(K,{type:"button",variant:"outline",onClick:w,disabled:!g.trim(),children:"Create"}),h.jsx(K,{type:"button",variant:"ghost",onClick:()=>m(!1),children:"Cancel"})]}):h.jsxs("div",{className:"flex gap-2",children:[h.jsx(xn,{children:h.jsxs(tI,{value:C.value,onValueChange:C.onChange,children:[h.jsx(qS,{className:"w-full",children:h.jsx(nI,{placeholder:"Select a project or leave empty"})}),h.jsxs(FS,{children:[h.jsx(lc,{value:"uncategorized",children:"Uncategorized"}),u.map(N=>h.jsx(lc,{value:N.id,children:N.name},N.id))]})]})}),h.jsx(K,{type:"button",variant:"outline",onClick:()=>m(!0),children:"New Project"})]}),h.jsx(Un,{})]})}),n!=="checklist"?h.jsx(Hn,{control:x.control,name:"content",render:({field:C})=>h.jsxs(Ln,{children:[h.jsx(vn,{children:"Content *"}),h.jsx(xn,{children:n==="snippet"?h.jsx("div",{className:"h-[400px] rounded-md border",children:h.jsx($S,{value:C.value,language:x.getValues("language"),onChange:C.onChange})}):h.jsx(Yu,{...C,placeholder:"Enter your note content",className:"min-h-[200px]"})}),h.jsx(Un,{})]})}):h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx(vn,{children:"Checklist Items *"}),h.jsx(K,{type:"button",variant:"outline",size:"sm",onClick:P,children:"Add Item"})]}),a.map((C,N)=>h.jsx("div",{className:"flex items-center gap-2",children:h.jsx(Tt,{value:C.text,onChange:O=>Q(N,O.target.value),placeholder:"Enter checklist item"})},N))]})]})})}),h.jsx("div",{className:"bg-background py-4 px-6 border-t",children:h.jsx(K,{type:"submit",className:"w-full",onClick:x.handleSubmit(k),children:"Create"})})]})]})}function j_({type:n,userId:e}){const{data:t,isLoading:r,error:i}=Mu({queryKey:["folder-items",e,n],queryFn:async()=>{if(!e)return[];try{console.log(`Fetching ${n} for user:`,e);try{const o=Ie(Ee(re,n),Ae("userId","==",e),Fx("updatedAt","desc")),a=await je(o);console.log(`${n} query snapshot:`,a.size,"documents");const l=a.docs.map(c=>({id:c.id,...c.data()}));return console.log(`${n} processed results:`,l),l}catch(o){if(o.message&&o.message.includes("index")){console.warn(`Index error for ${n}, falling back to simpler query:`,o.message);const a=Ie(Ee(re,n),Ae("userId","==",e),tm(10)),c=(await je(a)).docs.map(u=>({id:u.id,...u.data()}));return console.log(`${n} fallback results:`,c),c}else throw o}}catch(o){throw console.error(`Error fetching ${n}:`,o),o}},enabled:!!e,staleTime:6e4,retry:2});if(i&&console.error(`Error in FolderContent (${n}):`,i),r)return h.jsxs("div",{className:"pl-6 py-1",children:[h.jsx("div",{className:"h-4 w-3/4 bg-muted animate-pulse rounded my-1"}),h.jsx("div",{className:"h-4 w-1/2 bg-muted animate-pulse rounded my-1"})]});const s=Array.isArray(t)?t:[];return console.log(`FolderContent ${n} items:`,s,"userId:",e),s.length===0?h.jsx("div",{className:"pl-6 py-1 text-xs text-muted-foreground",children:"No items found"}):h.jsxs("div",{className:"pl-6 py-1",children:[s.slice(0,5).map(o=>h.jsx(Gt,{href:`/${n}/${o.id}`,children:h.jsx(K,{variant:"ghost",className:"w-full justify-start h-auto py-1 px-2 text-xs",children:o.title||"Untitled"})},o.id)),s.length>5&&h.jsxs("div",{className:"text-xs text-muted-foreground pl-2 pt-1",children:["+",s.length-5," more items"]})]})}function da({projectId:n,type:e,userId:t}){const r=n===""||n==="uncategorized",{data:i,isLoading:s,error:o}=Mu({queryKey:["project-items",t,n,e],queryFn:async()=>{if(!t)return console.log(`No userId provided for ${e} in project ${n}`),[];try{console.log(`Fetching ${e} for project ${n} and user ${t}`);try{let l;r?l=Ie(Ee(re,e),Ae("userId","==",t),Ae("projectId","in",[null,"","uncategorized"]),Fx("updatedAt","desc")):l=Ie(Ee(re,e),Ae("userId","==",t),Ae("projectId","==",n),Fx("updatedAt","desc"));const c=await je(l);console.log(`${e} query snapshot for project ${n}:`,c.size,"documents");const u=c.docs.map(d=>{const f=d.data();return{id:d.id,...f}});return console.log(`${e} results for project ${n}:`,u),u}catch(l){if(l.message&&l.message.includes("index")){console.warn(`Index error for ${e} in project ${n}, falling back to simpler query:`,l.message);let c;if(r){c=Ie(Ee(re,e),Ae("userId","==",t),Ae("projectId","==",""),tm(10));let d=(await je(c)).docs.map(y=>({id:y.id,...y.data()}));const f=Ie(Ee(re,e),Ae("userId","==",t),Ae("projectId","==","uncategorized"),tm(10)),m=await je(f);d=[...d,...m.docs.map(y=>({id:y.id,...y.data()}))];const g=Ie(Ee(re,e),Ae("userId","==",t),Ae("projectId","==",null),tm(10));try{const y=await je(g);d=[...d,...y.docs.map(x=>({id:x.id,...x.data()}))]}catch(y){console.warn("Error querying for null projectId:",y)}return console.log(`${e} fallback results for uncategorized:`,d),d}else{c=Ie(Ee(re,e),Ae("userId","==",t),Ae("projectId","==",n),tm(10));const d=(await je(c)).docs.map(f=>({id:f.id,...f.data()}));return console.log(`${e} fallback results for project ${n}:`,d),d}}else throw l}}catch(l){throw console.error(`Error fetching ${e} for project ${n}:`,l),l}},enabled:!!t&&(!!n||r),staleTime:5e3,refetchOnMount:!0,refetchOnWindowFocus:!0,retry:2});if(o&&console.error(`Error in ProjectContent (${e}):`,o),s)return h.jsxs("div",{className:"pl-6 py-1",children:[h.jsx("div",{className:"h-4 w-3/4 bg-muted animate-pulse rounded my-1"}),h.jsx("div",{className:"h-4 w-1/2 bg-muted animate-pulse rounded my-1"})]});const a=Array.isArray(i)?i:[];return a.length===0?h.jsx("div",{className:"pl-6 py-1 text-xs text-muted-foreground",children:"No items found"}):h.jsxs("div",{className:"pl-6 py-1",children:[a.slice(0,5).map(l=>h.jsx(Gt,{href:`/${e}/${l.id}`,children:h.jsx(K,{variant:"ghost",className:"w-full justify-start h-auto py-1 px-2 text-xs",children:l.title||"Untitled"})},l.id)),a.length>5&&h.jsxs("div",{className:"text-xs text-muted-foreground pl-2 pt-1",children:["+",a.length-5," more items"]})]})}function REe(){const[n]=ei(),{user:e}=nn(),t=Xi(),[r,i]=b.useState(!1),[s,o]=b.useState(""),[a,l]=b.useState(!0),[c,u]=b.useState({snippets:!0,notes:!0,checklists:!0}),[d,f]=b.useState(!0),[m,g]=b.useState(!0),[y,x]=b.useState({}),[w,k]=b.useState(!1),[P,Q]=b.useState(""),[C,N]=b.useState(!0),[O,T]=b.useState({snippets:!0,notes:!0,checklists:!0}),[S,A]=b.useState(!1),[_,v]=b.useState({projects:[],tags:[],snippets:[],notes:[],checklists:[]}),E=async()=>{if(!e||!s.trim()){v({projects:[],tags:[],snippets:[],notes:[],checklists:[]});return}const D=s.toLowerCase();try{const L=(j==null?void 0:j.filter(Ce=>Ce.name.toLowerCase().includes(D)))||[],Y=(U==null?void 0:U.filter(Ce=>Ce.toLowerCase().includes(D)))||[],Z=Ie(Ee(re,"snippets"),Ae("userId","==",e.uid)),B=(await je(Z)).docs.map(Ce=>({id:Ce.id,...Ce.data()})).filter(Ce=>{var Be,Ge,Lt;return((Be=Ce.title)==null?void 0:Be.toLowerCase().includes(D))||((Ge=Ce.content)==null?void 0:Ge.toLowerCase().includes(D))||((Lt=Ce.language)==null?void 0:Lt.toLowerCase().includes(D))}),J=Ie(Ee(re,"notes"),Ae("userId","==",e.uid)),oe=(await je(J)).docs.map(Ce=>({id:Ce.id,...Ce.data()})).filter(Ce=>{var Be,Ge;return((Be=Ce.title)==null?void 0:Be.toLowerCase().includes(D))||((Ge=Ce.content)==null?void 0:Ge.toLowerCase().includes(D))}),ie=Ie(Ee(re,"checklists"),Ae("userId","==",e.uid)),ut=(await je(ie)).docs.map(Ce=>({id:Ce.id,...Ce.data()})).filter(Ce=>{var Be,Ge;return((Be=Ce.title)==null?void 0:Be.toLowerCase().includes(D))||((Ge=Ce.items)==null?void 0:Ge.some(Lt=>{var _n;return(_n=Lt.text)==null?void 0:_n.toLowerCase().includes(D)}))});v({projects:L,tags:Y,snippets:B,notes:oe,checklists:ut}),L.length>0&&g(!0),Y.length>0&&f(!0),(B.length>0||oe.length>0||ut.length>0)&&(l(!0),B.length>0&&u(Ce=>({...Ce,snippets:!0})),oe.length>0&&u(Ce=>({...Ce,notes:!0})),ut.length>0&&u(Ce=>({...Ce,checklists:!0})))}catch(L){console.error("Error searching items:",L)}};b.useEffect(()=>{const D=setTimeout(()=>{E()},300);return()=>clearTimeout(D)},[s,e]);const{data:j,isLoading:V}=Mu({queryKey:["projects",e==null?void 0:e.uid],queryFn:async()=>{if(!e)return[];try{const D=Ie(Ee(re,"projects"),Ae("userId","==",e.uid));return(await je(D)).docs.map(Z=>({id:Z.id,name:Z.data().name}))}catch(D){return console.error("Error fetching projects:",D),[]}},enabled:!!e}),{data:U,isLoading:X}=Mu({queryKey:["tags",e==null?void 0:e.uid],queryFn:async()=>{if(!e)return[];const D=new Set,L=Ie(Ee(re,"snippets"),Ae("userId","==",e.uid));(await je(L)).docs.forEach(ae=>{const oe=ae.data();oe.tags&&Array.isArray(oe.tags)&&oe.tags.forEach(ie=>D.add(ie))});const Z=Ie(Ee(re,"notes"),Ae("userId","==",e.uid));(await je(Z)).docs.forEach(ae=>{const oe=ae.data();oe.tags&&Array.isArray(oe.tags)&&oe.tags.forEach(ie=>D.add(ie))});const B=Ie(Ee(re,"checklists"),Ae("userId","==",e.uid));return(await je(B)).docs.forEach(ae=>{const oe=ae.data();oe.tags&&Array.isArray(oe.tags)&&oe.tags.forEach(ie=>D.add(ie))}),Array.from(D).sort()},enabled:!!e});return b.useEffect(()=>{(async()=>{if(e)try{const L=await bi(Ze(re,"users",e.uid));if(L.exists()){const Y=L.data();A(!!Y.isAdmin)}}catch(L){console.error("Error checking admin status:",L)}})()},[e]),e?h.jsx("div",{className:`border-r ${r?"w-16":"w-64"} transition-all duration-200 fixed top-0 bottom-0 left-0 z-30`,children:h.jsxs("div",{className:"flex h-full flex-col",children:[h.jsxs("div",{className:"p-4",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[!r&&h.jsx("h2",{className:"text-lg font-semibold",children:"Code Snippets"}),h.jsx(K,{variant:"ghost",size:"icon",onClick:()=>i(!r),children:r?h.jsx(hZ,{}):h.jsx(Fs,{})})]}),!r&&h.jsxs("div",{className:"mt-4 space-y-4",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(Tt,{placeholder:"Search snippets, notes, tags...",className:"h-9",value:s,onChange:D=>o(D.target.value)}),h.jsx(K,{size:"icon",variant:"ghost",onClick:E,children:h.jsx(qf,{className:"h-4 w-4"})})]}),h.jsx("div",{className:"space-y-1",children:w?h.jsxs("div",{className:"flex gap-2",children:[h.jsx(Tt,{value:P,onChange:D=>Q(D.target.value),placeholder:"Project name",className:"h-9"}),h.jsx(K,{size:"sm",onClick:async()=>{if(!(!e||!P.trim()))try{const D=Date.now(),Y={id:(await Ba(Ee(re,"projects"),{name:P.trim(),userId:e.uid,createdAt:D,updatedAt:D})).id,name:P.trim(),userId:e.uid,createdAt:D,updatedAt:D};t.setQueryData(["projects",e.uid],Z=>Z?[...Z,Y]:[Y]),t.invalidateQueries({queryKey:["projects"]}),Q(""),k(!1)}catch(D){console.error("Error creating project:",D)}},disabled:!P.trim(),children:"Create"}),h.jsx(K,{size:"sm",variant:"ghost",onClick:()=>k(!1),children:"Cancel"})]}):h.jsxs(K,{variant:"outline",className:"w-full justify-start",onClick:()=>k(!0),children:[h.jsx(Mm,{className:"mr-2 h-4 w-4"}),"Create New Project"]})})]})]}),h.jsx(OQ,{className:"flex-1 px-4",children:h.jsx("div",{className:"space-y-4",children:r?h.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[h.jsx(Gt,{href:"/",children:h.jsx(K,{variant:n==="/"?"secondary":"ghost",size:"icon",title:"Home",children:h.jsx(SP,{className:"h-4 w-4"})})}),h.jsx(Gt,{href:"/projects",children:h.jsx(K,{variant:n==="/projects"?"secondary":"ghost",size:"icon",title:"Projects",children:h.jsx(l0,{className:"h-4 w-4"})})})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx(Gt,{href:"/",children:h.jsxs(K,{variant:n==="/"?"secondary":"ghost",className:"w-full justify-start",children:[h.jsx(SP,{className:"mr-2 h-4 w-4"}),"Home"]})}),h.jsx(Gt,{href:"/projects",children:h.jsxs(K,{variant:n==="/projects"?"secondary":"ghost",className:"w-full justify-start",children:[h.jsx(l0,{className:"mr-2 h-4 w-4"}),"Projects"]})})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h3",{className:"text-sm font-medium",children:"Projects"}),h.jsx(K,{size:"icon",variant:"ghost",onClick:()=>g(!m),children:m?h.jsx($n,{className:"h-4 w-4"}):h.jsx(Tn,{className:"h-4 w-4"})})]}),m&&h.jsx("div",{className:"mt-2 space-y-1",children:V?h.jsx("div",{className:"pl-2 py-1 text-xs text-muted-foreground",children:"Loading projects..."}):s.trim()?_.projects.length>0?h.jsx("div",{className:"space-y-1",children:_.projects.map(D=>h.jsxs("div",{children:[h.jsxs(K,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto",onClick:()=>x(L=>({...L,[D.id]:!L[D.id]})),children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(l0,{className:"mr-2 h-4 w-4"}),h.jsx("span",{className:"text-sm",children:D.name})]}),y[D.id]?h.jsx($n,{className:"h-3 w-3"}):h.jsx(Tn,{className:"h-3 w-3"})]}),y[D.id]&&h.jsxs("div",{className:"pl-2 space-y-1",children:[h.jsx(Sa,{type:"snippet",trigger:h.jsxs(K,{variant:"ghost",className:"w-full justify-start py-1 px-2 h-auto text-xs",children:[h.jsx(xh,{className:"mr-2 h-3 w-3"}),"New Snippet"]})}),h.jsx(Sa,{type:"note",trigger:h.jsxs(K,{variant:"ghost",className:"w-full justify-start py-1 px-2 h-auto text-xs",children:[h.jsx(wh,{className:"mr-2 h-3 w-3"}),"New Note"]})}),h.jsx(Sa,{type:"checklist",trigger:h.jsxs(K,{variant:"ghost",className:"w-full justify-start py-1 px-2 h-auto text-xs",children:[h.jsx(bh,{className:"mr-2 h-3 w-3"}),"New Checklist"]})}),h.jsxs("div",{className:"space-y-1",children:[h.jsxs("div",{children:[h.jsxs(K,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto text-xs",onClick:()=>{const L={...y};L[`${D.id}-snippets`]=!L[`${D.id}-snippets`],x(L)},children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(xh,{className:"mr-2 h-3 w-3"}),h.jsx("span",{className:"text-xs",children:"Snippets"})]}),y[`${D.id}-snippets`]?h.jsx($n,{className:"h-2 w-2"}):h.jsx(Tn,{className:"h-2 w-2"})]}),y[`${D.id}-snippets`]&&h.jsx(da,{type:"snippets",projectId:D.id,userId:e==null?void 0:e.uid})]}),h.jsxs("div",{children:[h.jsxs(K,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto text-xs",onClick:()=>{const L={...y};L[`${D.id}-notes`]=!L[`${D.id}-notes`],x(L)},children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(wh,{className:"mr-2 h-3 w-3"}),h.jsx("span",{className:"text-xs",children:"Notes"})]}),y[`${D.id}-notes`]?h.jsx($n,{className:"h-2 w-2"}):h.jsx(Tn,{className:"h-2 w-2"})]}),y[`${D.id}-notes`]&&h.jsx(da,{type:"notes",projectId:D.id,userId:e==null?void 0:e.uid})]}),h.jsxs("div",{children:[h.jsxs(K,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto text-xs",onClick:()=>{const L={...y};L[`${D.id}-checklists`]=!L[`${D.id}-checklists`],x(L)},children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(bh,{className:"mr-2 h-3 w-3"}),h.jsx("span",{className:"text-xs",children:"Checklists"})]}),y[`${D.id}-checklists`]?h.jsx($n,{className:"h-2 w-2"}):h.jsx(Tn,{className:"h-2 w-2"})]}),y[`${D.id}-checklists`]&&h.jsx(da,{type:"checklists",projectId:D.id,userId:e==null?void 0:e.uid})]})]})]})]},D.id))}):h.jsx("div",{className:"pl-2 py-1 text-xs text-muted-foreground",children:"No matching projects found"}):j&&j.length>0?h.jsx("div",{className:"space-y-1",children:j.map(D=>h.jsxs("div",{children:[h.jsxs(K,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto",onClick:()=>x(L=>({...L,[D.id]:!L[D.id]})),children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(l0,{className:"mr-2 h-4 w-4"}),h.jsx("span",{className:"text-sm",children:D.name})]}),y[D.id]?h.jsx($n,{className:"h-3 w-3"}):h.jsx(Tn,{className:"h-3 w-3"})]}),y[D.id]&&h.jsxs("div",{className:"pl-2 space-y-1",children:[h.jsx(Sa,{type:"snippet",trigger:h.jsxs(K,{variant:"ghost",className:"w-full justify-start py-1 px-2 h-auto text-xs",children:[h.jsx(xh,{className:"mr-2 h-3 w-3"}),"New Snippet"]})}),h.jsx(Sa,{type:"note",trigger:h.jsxs(K,{variant:"ghost",className:"w-full justify-start py-1 px-2 h-auto text-xs",children:[h.jsx(wh,{className:"mr-2 h-3 w-3"}),"New Note"]})}),h.jsx(Sa,{type:"checklist",trigger:h.jsxs(K,{variant:"ghost",className:"w-full justify-start py-1 px-2 h-auto text-xs",children:[h.jsx(bh,{className:"mr-2 h-3 w-3"}),"New Checklist"]})}),h.jsxs("div",{className:"space-y-1",children:[h.jsxs("div",{children:[h.jsxs(K,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto text-xs",onClick:()=>{const L={...y};L[`${D.id}-snippets`]=!L[`${D.id}-snippets`],x(L)},children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(xh,{className:"mr-2 h-3 w-3"}),h.jsx("span",{className:"text-xs",children:"Snippets"})]}),y[`${D.id}-snippets`]?h.jsx($n,{className:"h-2 w-2"}):h.jsx(Tn,{className:"h-2 w-2"})]}),y[`${D.id}-snippets`]&&h.jsx(da,{type:"snippets",projectId:D.id,userId:e==null?void 0:e.uid})]}),h.jsxs("div",{children:[h.jsxs(K,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto text-xs",onClick:()=>{const L={...y};L[`${D.id}-notes`]=!L[`${D.id}-notes`],x(L)},children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(wh,{className:"mr-2 h-3 w-3"}),h.jsx("span",{className:"text-xs",children:"Notes"})]}),y[`${D.id}-notes`]?h.jsx($n,{className:"h-2 w-2"}):h.jsx(Tn,{className:"h-2 w-2"})]}),y[`${D.id}-notes`]&&h.jsx(da,{type:"notes",projectId:D.id,userId:e==null?void 0:e.uid})]}),h.jsxs("div",{children:[h.jsxs(K,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto text-xs",onClick:()=>{const L={...y};L[`${D.id}-checklists`]=!L[`${D.id}-checklists`],x(L)},children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(bh,{className:"mr-2 h-3 w-3"}),h.jsx("span",{className:"text-xs",children:"Checklists"})]}),y[`${D.id}-checklists`]?h.jsx($n,{className:"h-2 w-2"}):h.jsx(Tn,{className:"h-2 w-2"})]}),y[`${D.id}-checklists`]&&h.jsx(da,{type:"checklists",projectId:D.id,userId:e==null?void 0:e.uid})]})]})]})]},D.id))}):h.jsx("div",{className:"pl-2 py-1 text-xs text-muted-foreground",children:"No projects found. Create one to get started."})})]}),h.jsx(Ov,{}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h3",{className:"text-sm font-medium",children:"All Folders"}),h.jsx(K,{size:"icon",variant:"ghost",onClick:()=>l(!a),children:a?h.jsx($n,{className:"h-4 w-4"}):h.jsx(Tn,{className:"h-4 w-4"})})]}),a&&h.jsxs("div",{className:"mt-2 space-y-1",children:[h.jsxs("div",{children:[h.jsxs(K,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto",onClick:()=>u(D=>({...D,snippets:!D.snippets})),children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(xh,{className:"mr-2 h-4 w-4"}),h.jsx("span",{className:"text-sm",children:"All Snippets"}),s.trim()&&_.snippets.length>0&&h.jsx(zn,{variant:"outline",className:"ml-2",children:_.snippets.length})]}),c.snippets?h.jsx($n,{className:"h-3 w-3"}):h.jsx(Tn,{className:"h-3 w-3"})]}),c.snippets&&(s.trim()?_.snippets.length>0?h.jsxs("div",{className:"pl-6 py-1",children:[_.snippets.slice(0,5).map(D=>h.jsx(Gt,{href:`/snippets/${D.id}`,children:h.jsx(K,{variant:"ghost",className:"w-full justify-start h-auto py-1 px-2 text-xs",children:D.title||"Untitled"})},D.id)),_.snippets.length>5&&h.jsxs("div",{className:"text-xs text-muted-foreground pl-2 pt-1",children:["+",_.snippets.length-5," more items"]})]}):h.jsx("div",{className:"pl-6 py-1 text-xs text-muted-foreground",children:"No matching snippets found"}):h.jsx(j_,{type:"snippets",userId:e==null?void 0:e.uid}))]}),h.jsxs("div",{children:[h.jsxs(K,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto",onClick:()=>u(D=>({...D,notes:!D.notes})),children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(wh,{className:"mr-2 h-4 w-4"}),h.jsx("span",{className:"text-sm",children:"All Notes"}),s.trim()&&_.notes.length>0&&h.jsx(zn,{variant:"outline",className:"ml-2",children:_.notes.length})]}),c.notes?h.jsx($n,{className:"h-3 w-3"}):h.jsx(Tn,{className:"h-3 w-3"})]}),c.notes&&(s.trim()?_.notes.length>0?h.jsxs("div",{className:"pl-6 py-1",children:[_.notes.slice(0,5).map(D=>h.jsx(Gt,{href:`/notes/${D.id}`,children:h.jsx(K,{variant:"ghost",className:"w-full justify-start h-auto py-1 px-2 text-xs",children:D.title||"Untitled"})},D.id)),_.notes.length>5&&h.jsxs("div",{className:"text-xs text-muted-foreground pl-2 pt-1",children:["+",_.notes.length-5," more items"]})]}):h.jsx("div",{className:"pl-6 py-1 text-xs text-muted-foreground",children:"No matching notes found"}):h.jsx(j_,{type:"notes",userId:e==null?void 0:e.uid}))]}),h.jsxs("div",{children:[h.jsxs(K,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto",onClick:()=>u(D=>({...D,checklists:!D.checklists})),children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(bh,{className:"mr-2 h-4 w-4"}),h.jsx("span",{className:"text-sm",children:"All Checklists"}),s.trim()&&_.checklists.length>0&&h.jsx(zn,{variant:"outline",className:"ml-2",children:_.checklists.length})]}),c.checklists?h.jsx($n,{className:"h-3 w-3"}):h.jsx(Tn,{className:"h-3 w-3"})]}),c.checklists&&(s.trim()?_.checklists.length>0?h.jsxs("div",{className:"pl-6 py-1",children:[_.checklists.slice(0,5).map(D=>h.jsx(Gt,{href:`/checklists/${D.id}`,children:h.jsx(K,{variant:"ghost",className:"w-full justify-start h-auto py-1 px-2 text-xs",children:D.title||"Untitled"})},D.id)),_.checklists.length>5&&h.jsxs("div",{className:"text-xs text-muted-foreground pl-2 pt-1",children:["+",_.checklists.length-5," more items"]})]}):h.jsx("div",{className:"pl-6 py-1 text-xs text-muted-foreground",children:"No matching checklists found"}):h.jsx(j_,{type:"checklists",userId:e==null?void 0:e.uid}))]})]})]}),h.jsx(Ov,{}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h3",{className:"text-sm font-medium",children:"Uncategorized"}),h.jsx(K,{size:"icon",variant:"ghost",onClick:()=>N(!C),children:C?h.jsx($n,{className:"h-4 w-4"}):h.jsx(Tn,{className:"h-4 w-4"})})]}),C&&h.jsxs("div",{className:"mt-2 space-y-1",children:[h.jsxs("div",{children:[h.jsxs(K,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto",onClick:()=>T(D=>({...D,snippets:!D.snippets})),children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(xh,{className:"mr-2 h-4 w-4"}),h.jsx("span",{className:"text-sm",children:"Snippets"})]}),O.snippets?h.jsx($n,{className:"h-3 w-3"}):h.jsx(Tn,{className:"h-3 w-3"})]}),O.snippets&&h.jsx(da,{type:"snippets",projectId:"",userId:e==null?void 0:e.uid})]}),h.jsxs("div",{children:[h.jsxs(K,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto",onClick:()=>T(D=>({...D,notes:!D.notes})),children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(wh,{className:"mr-2 h-4 w-4"}),h.jsx("span",{className:"text-sm",children:"Notes"})]}),O.notes?h.jsx($n,{className:"h-3 w-3"}):h.jsx(Tn,{className:"h-3 w-3"})]}),O.notes&&h.jsx(da,{type:"notes",projectId:"",userId:e==null?void 0:e.uid})]}),h.jsxs("div",{children:[h.jsxs(K,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto",onClick:()=>T(D=>({...D,checklists:!D.checklists})),children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(bh,{className:"mr-2 h-4 w-4"}),h.jsx("span",{className:"text-sm",children:"Checklists"})]}),O.checklists?h.jsx($n,{className:"h-3 w-3"}):h.jsx(Tn,{className:"h-3 w-3"})]}),O.checklists&&h.jsx(da,{type:"checklists",projectId:"",userId:e==null?void 0:e.uid})]})]})]}),h.jsx(Ov,{}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h3",{className:"text-sm font-medium",children:"Tags"}),h.jsx(K,{size:"icon",variant:"ghost",onClick:()=>f(!d),children:d?h.jsx($n,{className:"h-4 w-4"}):h.jsx(Tn,{className:"h-4 w-4"})})]}),d&&h.jsx("div",{className:"mt-2 space-y-1",children:X?h.jsx("div",{className:"pl-2 py-1 text-xs text-muted-foreground",children:"Loading tags..."}):s.trim()?_.tags.length>0?h.jsx("div",{className:"flex flex-wrap gap-2 pl-2 py-1",children:_.tags.map(D=>h.jsx(Gt,{href:`/tags/${encodeURIComponent(D)}`,children:h.jsx(zn,{variant:"secondary",className:"cursor-pointer hover:bg-secondary/70",children:D})},D))}):h.jsx("div",{className:"pl-2 py-1 text-xs text-muted-foreground",children:"No matching tags found"}):U&&U.length>0?h.jsx("div",{className:"flex flex-wrap gap-2 pl-2 py-1",children:U.map(D=>h.jsx(Gt,{href:`/tags/${encodeURIComponent(D)}`,children:h.jsx(zn,{variant:"secondary",className:"cursor-pointer hover:bg-secondary/70",children:D})},D))}):h.jsx("div",{className:"pl-2 py-1 text-xs text-muted-foreground",children:"No tags found"})})]})]})})}),h.jsx("div",{className:"mt-auto p-4",children:h.jsxs("nav",{className:"space-y-2",children:[h.jsx(Gt,{href:"/profile",children:h.jsxs(K,{variant:"ghost",className:`${r?"justify-center":"w-full justify-start"} ${n==="/profile"?"bg-accent":""}`,title:"Profile",children:[h.jsx(dZ,{className:r?"h-4 w-4":"mr-2 h-4 w-4"}),!r&&"Profile"]})}),S&&h.jsx(Gt,{href:"/admin",children:h.jsxs(K,{variant:"ghost",className:`${r?"justify-center":"w-full justify-start"} ${n==="/admin"?"bg-accent":""}`,title:"Admin Dashboard",children:[h.jsx(mZ,{className:r?"h-4 w-4":"mr-2 h-4 w-4"}),!r&&"Admin Dashboard"]})}),h.jsx(Gt,{href:"/settings",children:h.jsxs(K,{variant:"ghost",className:`${r?"justify-center":"w-full justify-start"} ${n==="/settings"?"bg-accent":""}`,title:"Settings",children:[h.jsx(fZ,{className:r?"h-4 w-4":"mr-2 h-4 w-4"}),!r&&"Settings"]})})]})})]})}):null}function SO(){const{user:n}=nn(),[e,t]=b.useState(null),[r,i]=b.useState(!0);b.useEffect(()=>{(async()=>{if(!n){t(null),i(!1);return}try{i(!0);const c=await bi(Ze(re,"users",n.uid));if(c.exists()){const u=c.data();if(u.temporaryPremiumAccess&&u.temporaryPremiumExpiry&&Date.now()<u.temporaryPremiumExpiry){t("paid");return}t(u.role||"free")}else t("free")}catch(c){console.error("Error fetching user role:",c),t("free")}finally{i(!1)}})()},[n]);const s=e==="paid"||e==="admin",o=e==="admin";return{role:e,isLoading:r,isPaid:s,isAdmin:o,isFree:e==="free",hasAccess:l=>l==="free"?!0:l==="paid"?s:l==="admin"?o:!1}}function QEe(){const[n]=ei(),{user:e}=nn();SO();const t=[{href:"/",icon:SP,label:"Home"},{href:"/projects",icon:zue,label:"Projects"},{href:"/search",icon:qf,label:"Search"},{href:"/profile",icon:dZ,label:"Profile"},{href:"/settings",icon:fZ,label:"Settings"}];return e?h.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-background border-t border-border z-50",children:h.jsx("nav",{className:"flex justify-around items-center h-16",children:t.map(r=>{const i=n===r.href;return h.jsx(Gt,{href:r.href,className:"flex flex-col items-center justify-center w-full h-full",children:h.jsxs("div",{className:we("flex flex-col items-center justify-center w-full",i?"text-primary":"text-muted-foreground"),children:[h.jsx(r.icon,{size:20}),h.jsx("span",{className:"text-xs mt-1",children:r.label})]})},r.href)})})}):null}const GL=["ulLB54MVo3lV2qHO5eXIMIe1625NmTP599Kmqbux","PO1PHKGnxqzwp81mK91U4Nha0XCqJSqoyExOGdE9"];let D_=0;const NEe=()=>{const n=GL[D_];return D_=(D_+1)%GL.length,n},iI=async(n,e={})=>{const{maxTokens:t=300,temperature:r=.7,model:i="command"}=e,s=NEe();try{const o=await fetch("https://api.cohere.ai/v1/generate",{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify({model:i,prompt:n,max_tokens:t,temperature:r,k:0,stop_sequences:[],return_likelihoods:"NONE"})});if(!o.ok){const l=await o.json();throw new Error(l.message||"Failed to generate content")}return(await o.json()).generations[0].text.trim()}catch(o){throw console.error("Cohere API error:",o),new Error(o.message||"Failed to generate content")}},IEe=async n=>{const e=`Write a detailed note about: ${n}. Make it informative and well-structured.`;return iI(e,{maxTokens:400})},$Ee=async n=>{const e=`Create a code snippet for: ${n}. Only return the code, no explanations.`,t=await iI(e,{maxTokens:500,temperature:.5});let r="javascript";const i={javascript:["const","let","var","function","async","await","import","export","console.log"],typescript:["interface","type","enum","<T>","as const","readonly"],python:["def","import","from","class","if __name__","print("],java:["public class","private","protected","void","String[]","System.out"],html:["<!DOCTYPE","<html>","<div>","<body>","<head>"],css:["{","margin:","padding:","color:","background:"],sql:["SELECT","FROM","WHERE","JOIN","GROUP BY","ORDER BY"],bash:["#!/bin/bash","echo","chmod","mkdir","ls","cd"]};for(const[s,o]of Object.entries(i))if(o.some(a=>t.includes(a))){r=s;break}return{code:t,language:r}},jEe=async n=>{const e=`Create a checklist for: ${n}. Format as a list with each item on a new line. Only include the items, no explanations or numbering.`;return(await iI(e,{maxTokens:350,temperature:.7})).split(`
`).filter(r=>r.trim().length>0).map(r=>({text:r.trim().replace(/^[-*•]\s*/,""),checked:!1}))};function sI(){const[n,e]=b.useState(!1);return b.useEffect(()=>{const t=()=>{e(window.innerWidth<768)};return t(),window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[]),n}function DEe({onClose:n}){const[e,t]=b.useState(""),[r,i]=b.useState(!1),[s,o]=b.useState(!1),[a,l]=b.useState(0),c=b.useRef(null),{user:u}=nn(),{toast:d}=In(),f=Xi(),m=sI();b.useEffect(()=>{s&&c.current&&c.current.focus()},[s]),b.useEffect(()=>{if(!m)return;const w=()=>{if(window.visualViewport){const k=window.visualViewport.height,P=window.innerHeight;if(k<P){const Q=P-k;l(Q)}else l(0)}};return window.visualViewport?(window.visualViewport.addEventListener("resize",w),window.visualViewport.addEventListener("scroll",w)):window.addEventListener("resize",w),w(),()=>{window.visualViewport?(window.visualViewport.removeEventListener("resize",w),window.visualViewport.removeEventListener("scroll",w)):window.removeEventListener("resize",w)}},[m,s]);const g=()=>{o(!s),s||t("")},y=()=>{o(!1),t(""),n&&n()},x=async()=>{if(!(!e.trim()||!u))try{i(!0);const w=e.toLowerCase();let k="";w.includes("snippet")||w.includes("code")?k="snippet":w.includes("note")?k="note":w.includes("checklist")||w.includes("todo")?k="checklist":w.includes("project")?k="project":k="note";let P=e.split(".")[0].trim();P.length>50&&(P=P.substring(0,50)+"...");let Q=e.includes(".")?e.substring(e.indexOf(".")+1).trim():e;const C=[],N=/#(\w+)/g;let O;for(;(O=N.exec(w))!==null;)C.push(O[1]);const T=w.indexOf("tags:");if(T!==-1){const v=e.substring(T+5).trim().split(",").map(E=>E.trim());C.push(...v.filter(E=>E!==""))}Q=Q.replace(/#\w+/g,"").replace(/tags:.*$/i,"").trim();let S="",A="javascript";if(k==="project")S=Q;else if(k==="snippet"){const _=await $Ee(Q);S=_.code,A=_.language}else if(k==="note")S=await IEe(Q);else if(k==="checklist"){const _=await jEe(Q);S=JSON.stringify(_)}if(k==="project"){const _=Date.now();await Ba(Ee(re,"projects"),{name:P,description:S,userId:u.uid,createdAt:_,updatedAt:_}),f.invalidateQueries({queryKey:["projects"]}),d({title:"Project Created",description:`Successfully created project: ${P}`})}else{const _=k==="snippet"?"snippets":k==="note"?"notes":"checklists",v={title:P,description:"",content:S,tags:C,userId:u.uid,projectId:"uncategorized",createdAt:qu(),updatedAt:qu()};k==="snippet"&&(v.language=A);const j={id:(await Ba(Ee(re,_),v)).id,title:P,description:"",content:S,tags:C,userId:u.uid,projectId:"uncategorized",createdAt:new Date().getTime(),updatedAt:new Date().getTime()};k==="snippet"&&(j.language=A),f.setQueryData(["items",u.uid,_],V=>V?[j,...V]:[j]),f.setQueryData(["folder-items",u.uid,_],V=>V?[j,...V]:[j]),f.invalidateQueries({queryKey:["items"]}),f.invalidateQueries({queryKey:["folder-items"]}),f.invalidateQueries({queryKey:["project-items",u.uid,"uncategorized"]}),d({title:`${k.charAt(0).toUpperCase()+k.slice(1)} Created`,description:`Successfully created ${k}: ${P}`})}t(""),o(!1)}catch(w){console.error("AI processing error:",w),d({variant:"destructive",title:"Error",description:w.message||"Failed to process your request. Please try again."})}finally{i(!1)}};return h.jsx("div",{className:`fixed left-1/2 transform -translate-x-1/2 z-50 transition-all duration-300 ${s?"w-[600px] max-w-[90vw]":"w-auto"}`,style:{bottom:m&&a>0?`${a+16}px`:"1.5rem"},children:s?h.jsxs("div",{className:"bg-card border shadow-lg rounded-full overflow-hidden flex items-center p-1 pl-6 ring-2 ring-primary/20 animate-in fade-in slide-in-from-bottom-4",children:[h.jsx(Tt,{ref:c,value:e,onChange:w=>t(w.target.value),placeholder:"Describe what you want to create...",className:"border-0 focus-visible:ring-0 focus-visible:ring-offset-0 bg-transparent",onKeyDown:w=>{w.key==="Enter"&&!w.shiftKey&&(w.preventDefault(),x())},disabled:r}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(K,{variant:"ghost",size:"icon",onClick:y,className:"rounded-full",disabled:r,children:h.jsx(Zf,{className:"h-4 w-4"})}),h.jsxs(K,{onClick:x,className:"rounded-full ml-1",disabled:!e.trim()||r,children:[r?h.jsx("div",{className:"h-4 w-4 border-2 border-background border-t-transparent rounded-full animate-spin"}):h.jsx(Wue,{className:"h-4 w-4"}),h.jsx("span",{className:"ml-2",children:"Send"})]})]})]}):h.jsxs(K,{onClick:g,variant:"outline",className:"rounded-full shadow-lg bg-card hover:bg-card/90 border-primary/20 hover:border-primary/30 flex items-center gap-2 px-4 py-2 my-12 ring-2 ring-primary/20 border-glow",children:[h.jsx(Hx,{className:"h-4 w-4 text-primary"}),h.jsx("span",{children:"AI Assistant"})]})})}const rr=({children:n})=>{const{isPaid:e}=SO();return h.jsxs("div",{className:"flex h-screen bg-background",children:[h.jsx("div",{className:"hidden md:block",children:h.jsx(REe,{})}),h.jsx("main",{className:"flex-1 overflow-auto p-4 md:p-6 pb-20 md:pb-6 md:ml-64 transition-all duration-200",children:n}),h.jsx(QEe,{}),e&&h.jsx(DEe,{})]})},en=b.forwardRef(({className:n,...e},t)=>h.jsx("div",{ref:t,className:we("rounded-lg border bg-card text-card-foreground shadow-sm",n),...e}));en.displayName="Card";const kn=b.forwardRef(({className:n,...e},t)=>h.jsx("div",{ref:t,className:we("flex flex-col space-y-1.5 p-6",n),...e}));kn.displayName="CardHeader";const Yr=b.forwardRef(({className:n,...e},t)=>h.jsx("h3",{ref:t,className:we("text-2xl font-semibold leading-none tracking-tight",n),...e}));Yr.displayName="CardTitle";const il=b.forwardRef(({className:n,...e},t)=>h.jsx("p",{ref:t,className:we("text-sm text-muted-foreground",n),...e}));il.displayName="CardDescription";const tn=b.forwardRef(({className:n,...e},t)=>h.jsx("div",{ref:t,className:we("p-6 pt-0",n),...e}));tn.displayName="CardContent";const Gc=b.forwardRef(({className:n,...e},t)=>h.jsx("div",{ref:t,className:we("flex items-center p-6 pt-0",n),...e}));Gc.displayName="CardFooter";const oI={title:lt.string().min(1,"Title is required"),description:lt.string().optional(),tags:lt.array(lt.string()).default([]),projectId:lt.string().optional()},MEe=lt.object({...oI,content:lt.string().min(1,"Content is required"),language:lt.string().default("javascript")}),VEe=lt.object({...oI,content:lt.string().min(1,"Content is required")}),LEe=lt.object({...oI,items:lt.array(lt.object({text:lt.string(),checked:lt.boolean()})).default([{text:"",checked:!1}])});function tp({type:n,itemId:e,defaultValues:t,trigger:r,onEdited:i}){const[s,o]=b.useState(!1),{user:a}=nn(),{toast:l}=In(),c=Xi(),[u]=b.useState(t),[d,f]=b.useState(n==="checklist"?JSON.parse(t.content||"[]"):[{text:"",checked:!1}]),[m,g]=b.useState([]),[y,x]=b.useState(!1),[w,k]=b.useState("");b.useEffect(()=>{(async()=>{if(a)try{const A=Ie(Ee(re,"projects"),Ae("userId","==",a.uid)),v=(await je(A)).docs.map(E=>({id:E.id,name:E.data().name}));g(v)}catch(A){console.error("Error fetching projects:",A)}})()},[a]);const P=async()=>{if(!(!a||!w.trim()))try{const S=Date.now(),A=await Ba(Ee(re,"projects"),{name:w.trim(),userId:a.uid,createdAt:S,updatedAt:S}),_={id:A.id,name:w.trim()};g([...m,_]),Q.setValue("projectId",A.id),k(""),x(!1)}catch(S){console.error("Error creating project:",S),l({variant:"destructive",title:"Error",description:S.message||"Failed to create project. Please try again."})}},Q=uS({resolver:hS(n==="snippet"?MEe:n==="note"?VEe:LEe),defaultValues:{...t,content:n==="checklist"?"":t.content}}),C=async S=>{try{if(!a){l({variant:"destructive",title:"Error",description:"You must be logged in to edit items"});return}const A=n==="snippet"?"snippets":n==="note"?"notes":"checklists",_=n==="checklist"?JSON.stringify(d.filter(j=>j.text.trim())):S.content,v={...S};n!=="snippet"&&"language"in v&&delete v.language,await wi(Ze(re,A,e),{...v,content:_,updatedAt:qu()});const E={id:e,...v,content:_,userId:a.uid,updatedAt:new Date().getTime()};c.setQueryData(["items",a.uid,A],j=>j?j.map(V=>V.id===e?E:V):[E]),c.setQueryData(["folder-items",a.uid,A],j=>j?j.map(V=>V.id===e?E:V):[E]),c.invalidateQueries({queryKey:["items"]}),c.invalidateQueries({queryKey:["folder-items"]}),c.invalidateQueries({queryKey:["project-items",a.uid,S.projectId||""]}),(S.projectId==="uncategorized"||S.projectId===""||!S.projectId)&&(c.invalidateQueries({queryKey:["project-items",a.uid,""]}),c.invalidateQueries({queryKey:["project-items",a.uid,"uncategorized"]})),u.projectId&&u.projectId!==S.projectId&&c.invalidateQueries({queryKey:["project-items",a.uid,u.projectId]}),l({title:"Success",description:`${n} updated successfully`}),o(!1),i==null||i()}catch(A){console.error("Update error:",A),l({variant:"destructive",title:"Error",description:A.message||"Failed to update item. Please try again."})}},N=()=>{f([...d,{text:"",checked:!1}])},O=(S,A)=>{const _=[...d];_[S].text=A,f(_)},T=S=>{const A=[...d];A[S].checked=!A[S].checked,f(A)};return h.jsxs(Ro,{open:s,onOpenChange:o,children:[h.jsx(AQ,{asChild:!0,children:r}),h.jsxs(js,{className:"max-w-full h-[90vh] flex flex-col p-0",children:[h.jsxs(Ds,{className:"px-6 py-4 border-b",children:[h.jsxs(Ms,{children:["Edit ",n.charAt(0).toUpperCase()+n.slice(1)]}),h.jsxs(Vs,{children:["Make changes to your ",n,". All fields marked with * are required."]})]}),h.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:h.jsx(Mg,{...Q,children:h.jsxs("form",{onSubmit:Q.handleSubmit(C),className:"space-y-4 max-w-2xl mx-auto",children:[h.jsx(Hn,{control:Q.control,name:"title",render:({field:S})=>h.jsxs(Ln,{children:[h.jsx(vn,{children:"Title *"}),h.jsx(xn,{children:h.jsx(Tt,{...S,placeholder:`Enter ${n} title`})}),h.jsx(Un,{})]})}),h.jsx(Hn,{control:Q.control,name:"description",render:({field:S})=>h.jsxs(Ln,{children:[h.jsx(vn,{children:"Description"}),h.jsx(xn,{children:h.jsx(Tt,{...S,placeholder:"Add a description (optional)"})}),h.jsx(Un,{})]})}),n==="snippet"&&h.jsx(Hn,{control:Q.control,name:"language",render:({field:S})=>h.jsxs(Ln,{children:[h.jsx(vn,{children:"Language *"}),h.jsx(xn,{children:h.jsx(Tt,{...S,placeholder:"javascript"})}),h.jsx(Un,{})]})}),h.jsx(Hn,{control:Q.control,name:"tags",render:({field:S})=>h.jsxs(Ln,{children:[h.jsx(vn,{children:"Tags"}),h.jsx(xn,{children:h.jsx(n8,{value:S.value,onChange:S.onChange,placeholder:"Add tags (press Enter or comma to add)"})}),h.jsx(Un,{})]})}),h.jsx(Hn,{control:Q.control,name:"projectId",render:({field:S})=>h.jsxs(Ln,{children:[h.jsx(vn,{children:"Project"}),y?h.jsxs("div",{className:"flex gap-2",children:[h.jsx(xn,{children:h.jsx(Tt,{value:w,onChange:A=>k(A.target.value),placeholder:"Enter new project name"})}),h.jsx(K,{type:"button",variant:"outline",onClick:P,disabled:!w.trim(),children:"Create"}),h.jsx(K,{type:"button",variant:"ghost",onClick:()=>x(!1),children:"Cancel"})]}):h.jsxs("div",{className:"flex gap-2",children:[h.jsx(xn,{children:h.jsxs(tI,{value:S.value,onValueChange:S.onChange,children:[h.jsx(qS,{className:"w-full",children:h.jsx(nI,{placeholder:"Select a project or leave empty"})}),h.jsxs(FS,{children:[h.jsx(lc,{value:"uncategorized",children:"Uncategorized"}),m.map(A=>h.jsx(lc,{value:A.id,children:A.name},A.id))]})]})}),h.jsx(K,{type:"button",variant:"outline",onClick:()=>x(!0),children:"New Project"})]}),h.jsx(Un,{})]})}),n!=="checklist"?h.jsx(Hn,{control:Q.control,name:"content",render:({field:S})=>h.jsxs(Ln,{children:[h.jsx(vn,{children:"Content *"}),h.jsx(xn,{children:n==="snippet"?h.jsx("div",{className:"h-[400px] rounded-md border",children:h.jsx($S,{value:S.value,language:Q.getValues("language"),onChange:S.onChange})}):h.jsx(Yu,{...S,placeholder:"Enter your note content",className:"min-h-[200px]"})}),h.jsx(Un,{})]})}):h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx(vn,{children:"Checklist Items *"}),h.jsx(K,{type:"button",variant:"outline",size:"sm",onClick:N,children:"Add Item"})]}),d.map((S,A)=>h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Tt,{value:S.text,onChange:_=>O(A,_.target.value),placeholder:"Enter checklist item"}),h.jsx(K,{type:"button",variant:"ghost",size:"icon",onClick:()=>T(A),children:S.checked?"✓":"○"})]},A))]})]})})}),h.jsx("div",{className:"bg-background py-4 px-6 border-t",children:h.jsx(K,{type:"submit",className:"w-full",onClick:Q.handleSubmit(C),children:"Save Changes"})})]})]})}const ib=({snippet:n,showActions:e=!0})=>{const t=Xi(),{toast:r}=In(),i=async()=>{try{await qc(Ze(re,"snippets",n.id)),t.invalidateQueries({queryKey:["items"]}),r({title:"Success",description:"Snippet deleted successfully"})}catch(s){r({variant:"destructive",title:"Error",description:s.message||"Failed to delete snippet"})}};return h.jsx(Gt,{href:`/snippets/${n.id}`,children:h.jsx("div",{className:"cursor-pointer",children:h.jsxs(en,{className:"w-full enhanced-card card-hover-effect snippet-card",children:[h.jsxs(kn,{className:"space-y-1 card-header-accent",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h3",{className:"text-xl font-semibold",children:n.title}),h.jsx("div",{className:"flex space-x-2",onClick:s=>s.stopPropagation(),children:e&&h.jsxs(h.Fragment,{children:[h.jsx(tp,{type:"snippet",itemId:n.id,defaultValues:n,trigger:h.jsx(K,{variant:"ghost",size:"icon",title:"Edit snippet",className:"hover:bg-accent/10 transition-colors",children:h.jsx(zf,{className:"h-4 w-4"})}),onEdited:()=>t.invalidateQueries({queryKey:["items"]})}),h.jsx(K,{variant:"ghost",size:"icon",onClick:i,title:"Delete snippet",className:"hover:bg-destructive/10 hover:text-destructive transition-colors",children:h.jsx(Ff,{className:"h-4 w-4"})})]})})]}),n.description&&h.jsx("p",{className:"text-sm text-muted-foreground",children:n.description}),h.jsx("div",{className:"flex flex-wrap gap-2",children:n.tags.map(s=>h.jsx(Gt,{href:`/tags/${encodeURIComponent(s)}`,onClick:o=>o.stopPropagation(),children:h.jsx(zn,{variant:"secondary",className:"cursor-pointer hover:bg-secondary/70 enhanced-tag",children:s})},s))})]}),h.jsx(tn,{className:"fade-in-content",children:h.jsx("div",{className:"h-[250px] rounded-md border overflow-auto enhanced-code-editor",children:h.jsx($S,{value:n.content,language:n.language,onChange:()=>{},readOnly:!0})})}),h.jsx(Gc,{className:"text-sm text-muted-foreground card-footer-border",children:h.jsxs("div",{className:"timestamp-badge",children:[h.jsx("span",{children:"Last updated:"}),h.jsx("span",{children:n.updatedAt?new Date(typeof n.updatedAt=="object"&&n.updatedAt.seconds?n.updatedAt.seconds*1e3:n.updatedAt).toLocaleDateString():"Unknown"})]})})]})})})},sb=({note:n,showActions:e=!0})=>{const t=Xi(),{toast:r}=In(),i=n.tags||[],s=async()=>{try{await qc(Ze(re,"notes",n.id)),t.invalidateQueries({queryKey:["items"]}),r({title:"Success",description:"Note deleted successfully"})}catch(o){r({variant:"destructive",title:"Error",description:o.message||"Failed to delete note"})}};return h.jsx(Gt,{href:`/notes/${n.id}`,children:h.jsx("div",{className:"cursor-pointer",children:h.jsxs(en,{className:"h-full flex flex-col enhanced-card card-hover-effect note-card",children:[h.jsxs(kn,{className:"space-y-1 card-header-accent",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h3",{className:"text-xl font-semibold",children:n.title}),h.jsx("div",{className:"flex space-x-2",onClick:o=>o.stopPropagation(),children:e&&h.jsxs(h.Fragment,{children:[h.jsx(tp,{type:"note",itemId:n.id,defaultValues:{...n,tags:i},trigger:h.jsx(K,{variant:"ghost",size:"icon",title:"Edit note",className:"hover:bg-accent/10 transition-colors",children:h.jsx(zf,{className:"h-4 w-4"})}),onEdited:()=>t.invalidateQueries({queryKey:["items"]})}),h.jsx(K,{variant:"ghost",size:"icon",onClick:s,title:"Delete note",className:"hover:bg-destructive/10 hover:text-destructive transition-colors",children:h.jsx(Ff,{className:"h-4 w-4"})})]})})]}),n.description&&h.jsx("p",{className:"text-sm text-muted-foreground",children:n.description}),h.jsx("div",{className:"flex flex-wrap gap-2",children:i.map(o=>h.jsx(Gt,{href:`/tags/${encodeURIComponent(o)}`,onClick:a=>a.stopPropagation(),children:h.jsx(zn,{variant:"secondary",className:"cursor-pointer hover:bg-secondary/70 enhanced-tag",children:o})},o))})]}),h.jsx(tn,{className:"flex-1 fade-in-content",children:h.jsx("div",{className:"whitespace-pre-wrap content-fade-bottom",children:n.content})}),h.jsx(Gc,{className:"text-sm text-muted-foreground card-footer-border",children:h.jsxs("div",{className:"timestamp-badge",children:[h.jsx("span",{children:"Last updated:"}),h.jsx("span",{children:n.updatedAt?new Date(typeof n.updatedAt=="object"&&n.updatedAt.seconds?n.updatedAt.seconds*1e3:n.updatedAt).toLocaleDateString():"Unknown"})]})})]})})})};var aI="Checkbox",[UEe,_Ie]=Jo(aI),[zEe,qEe]=UEe(aI),cG=b.forwardRef((n,e)=>{const{__scopeCheckbox:t,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:l="on",onCheckedChange:c,form:u,...d}=n,[f,m]=b.useState(null),g=Je(e,Q=>m(Q)),y=b.useRef(!1),x=f?u||!!f.closest("form"):!0,[w=!1,k]=Ga({prop:i,defaultProp:s,onChange:c}),P=b.useRef(w);return b.useEffect(()=>{const Q=f==null?void 0:f.form;if(Q){const C=()=>k(P.current);return Q.addEventListener("reset",C),()=>Q.removeEventListener("reset",C)}},[f,k]),h.jsxs(zEe,{scope:t,state:w,disabled:a,children:[h.jsx(Qe.button,{type:"button",role:"checkbox","aria-checked":cc(w)?"mixed":w,"aria-required":o,"data-state":dG(w),"data-disabled":a?"":void 0,disabled:a,value:l,...d,ref:g,onKeyDown:he(n.onKeyDown,Q=>{Q.key==="Enter"&&Q.preventDefault()}),onClick:he(n.onClick,Q=>{k(C=>cc(C)?!0:!C),x&&(y.current=Q.isPropagationStopped(),y.current||Q.stopPropagation())})}),x&&h.jsx(FEe,{control:f,bubbles:!y.current,name:r,value:l,checked:w,required:o,disabled:a,form:u,style:{transform:"translateX(-100%)"},defaultChecked:cc(s)?!1:s})]})});cG.displayName=aI;var uG="CheckboxIndicator",hG=b.forwardRef((n,e)=>{const{__scopeCheckbox:t,forceMount:r,...i}=n,s=qEe(uG,t);return h.jsx(ti,{present:r||cc(s.state)||s.state===!0,children:h.jsx(Qe.span,{"data-state":dG(s.state),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...n.style}})})});hG.displayName=uG;var FEe=n=>{const{control:e,checked:t,bubbles:r=!0,defaultChecked:i,...s}=n,o=b.useRef(null),a=JN(t),l=YN(e);b.useEffect(()=>{const u=o.current,d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"checked").set;if(a!==t&&m){const g=new Event("click",{bubbles:r});u.indeterminate=cc(t),m.call(u,cc(t)?!1:t),u.dispatchEvent(g)}},[a,t,r]);const c=b.useRef(cc(t)?!1:t);return h.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??c.current,...s,tabIndex:-1,ref:o,style:{...n.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function cc(n){return n==="indeterminate"}function dG(n){return cc(n)?"indeterminate":n?"checked":"unchecked"}var fG=cG,ZEe=hG;const lI=b.forwardRef(({className:n,...e},t)=>h.jsx(fG,{ref:t,className:we("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",n),...e,children:h.jsx(ZEe,{className:we("flex items-center justify-center text-current"),children:h.jsx(iS,{className:"h-4 w-4"})})}));lI.displayName=fG.displayName;const ob=({checklist:n,showActions:e=!0})=>{var a;const t=Xi(),{toast:r}=In(),i=n.content?JSON.parse(n.content):[],s=async()=>{try{await qc(Ze(re,"checklists",n.id)),t.invalidateQueries({queryKey:["items"]}),r({title:"Success",description:"Checklist deleted successfully"})}catch(l){r({variant:"destructive",title:"Error",description:l.message||"Failed to delete checklist"})}},o=async l=>{try{const c=[...i];c[l].checked=!c[l].checked,await wi(Ze(re,"checklists",n.id),{content:JSON.stringify(c)}),t.invalidateQueries({queryKey:["items"]})}catch(c){r({variant:"destructive",title:"Error",description:c.message||"Failed to update item"})}};return h.jsx(Gt,{href:`/checklists/${n.id}`,children:h.jsx("div",{className:"cursor-pointer",children:h.jsxs(en,{className:"h-full flex flex-col enhanced-card card-hover-effect checklist-card",children:[h.jsxs(kn,{className:"space-y-1 card-header-accent",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h3",{className:"text-xl font-semibold",children:n.title}),h.jsx("div",{className:"flex space-x-2",onClick:l=>l.stopPropagation(),children:e&&h.jsxs(h.Fragment,{children:[h.jsx(tp,{type:"checklist",itemId:n.id,defaultValues:n,trigger:h.jsx(K,{variant:"ghost",size:"icon",title:"Edit checklist",className:"hover:bg-accent/10 transition-colors",children:h.jsx(zf,{className:"h-4 w-4"})}),onEdited:()=>t.invalidateQueries({queryKey:["items"]})}),h.jsx(K,{variant:"ghost",size:"icon",onClick:s,title:"Delete checklist",className:"hover:bg-destructive/10 hover:text-destructive transition-colors",children:h.jsx(Ff,{className:"h-4 w-4"})})]})})]}),n.description&&h.jsx("p",{className:"text-sm text-muted-foreground",children:n.description}),h.jsx("div",{className:"flex flex-wrap gap-2",children:(a=n.tags)==null?void 0:a.map(l=>h.jsx(Gt,{href:`/tags/${encodeURIComponent(l)}`,onClick:c=>c.stopPropagation(),children:h.jsx(zn,{variant:"secondary",className:"cursor-pointer hover:bg-secondary/70 enhanced-tag",children:l})},l))})]}),h.jsx(tn,{className:"flex-1 fade-in-content",children:h.jsx("ul",{className:"space-y-2",children:i.map((l,c)=>h.jsxs("li",{className:"flex items-center space-x-2",onClick:u=>u.stopPropagation(),children:[h.jsx(lI,{id:`item-${c}`,checked:l.checked,onCheckedChange:()=>o(c),className:"checkbox-animation"}),h.jsx("label",{htmlFor:`item-${c}`,className:`text-sm ${l.checked?"line-through text-muted-foreground":""} transition-all duration-200`,children:l.text})]},c))})}),h.jsx(Gc,{className:"text-sm text-muted-foreground card-footer-border",children:h.jsxs("div",{className:"timestamp-badge",children:[h.jsx("span",{children:"Last updated:"}),h.jsx("span",{children:n.updatedAt?new Date(typeof n.updatedAt=="object"&&n.updatedAt.seconds?n.updatedAt.seconds*1e3:n.updatedAt).toLocaleDateString():"Unknown"})]})})]})})})};function BEe(n,e=[]){let t=[];function r(s,o){const a=b.createContext(o),l=t.length;t=[...t,o];function c(d){const{scope:f,children:m,...g}=d,y=(f==null?void 0:f[n][l])||a,x=b.useMemo(()=>g,Object.values(g));return h.jsx(y.Provider,{value:x,children:m})}function u(d,f){const m=(f==null?void 0:f[n][l])||a,g=b.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,u]}const i=()=>{const s=t.map(o=>b.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return b.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return i.scopeName=n,[r,WEe(i,...e)]}function WEe(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}var M_="rovingFocusGroup.onEntryFocus",XEe={bubbles:!1,cancelable:!0},ZS="RovingFocusGroup",[HE,pG,GEe]=KO(ZS),[YEe,BS]=BEe(ZS,[GEe]),[HEe,KEe]=YEe(ZS),mG=b.forwardRef((n,e)=>h.jsx(HE.Provider,{scope:n.__scopeRovingFocusGroup,children:h.jsx(HE.Slot,{scope:n.__scopeRovingFocusGroup,children:h.jsx(JEe,{...n,ref:e})})}));mG.displayName=ZS;var JEe=b.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=n,f=b.useRef(null),m=Je(e,f),g=Wf(s),[y=null,x]=Ga({prop:o,defaultProp:a,onChange:l}),[w,k]=b.useState(!1),P=Ht(c),Q=pG(t),C=b.useRef(!1),[N,O]=b.useState(0);return b.useEffect(()=>{const T=f.current;if(T)return T.addEventListener(M_,P),()=>T.removeEventListener(M_,P)},[P]),h.jsx(HEe,{scope:t,orientation:r,dir:g,loop:i,currentTabStopId:y,onItemFocus:b.useCallback(T=>x(T),[x]),onItemShiftTab:b.useCallback(()=>k(!0),[]),onFocusableItemAdd:b.useCallback(()=>O(T=>T+1),[]),onFocusableItemRemove:b.useCallback(()=>O(T=>T-1),[]),children:h.jsx(Qe.div,{tabIndex:w||N===0?-1:0,"data-orientation":r,...d,ref:m,style:{outline:"none",...n.style},onMouseDown:he(n.onMouseDown,()=>{C.current=!0}),onFocus:he(n.onFocus,T=>{const S=!C.current;if(T.target===T.currentTarget&&S&&!w){const A=new CustomEvent(M_,XEe);if(T.currentTarget.dispatchEvent(A),!A.defaultPrevented){const _=Q().filter(U=>U.focusable),v=_.find(U=>U.active),E=_.find(U=>U.id===y),V=[v,E,..._].filter(Boolean).map(U=>U.ref.current);yG(V,u)}}C.current=!1}),onBlur:he(n.onBlur,()=>k(!1))})})}),gG="RovingFocusGroupItem",OG=b.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:i=!1,tabStopId:s,...o}=n,a=Ao(),l=s||a,c=KEe(gG,t),u=c.currentTabStopId===l,d=pG(t),{onFocusableItemAdd:f,onFocusableItemRemove:m}=c;return b.useEffect(()=>{if(r)return f(),()=>m()},[r,f,m]),h.jsx(HE.ItemSlot,{scope:t,id:l,focusable:r,active:i,children:h.jsx(Qe.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:he(n.onMouseDown,g=>{r?c.onItemFocus(l):g.preventDefault()}),onFocus:he(n.onFocus,()=>c.onItemFocus(l)),onKeyDown:he(n.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){c.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const y=nAe(g,c.orientation,c.dir);if(y!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let w=d().filter(k=>k.focusable).map(k=>k.ref.current);if(y==="last")w.reverse();else if(y==="prev"||y==="next"){y==="prev"&&w.reverse();const k=w.indexOf(g.currentTarget);w=c.loop?rAe(w,k+1):w.slice(k+1)}setTimeout(()=>yG(w))}})})})});OG.displayName=gG;var eAe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function tAe(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function nAe(n,e,t){const r=tAe(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return eAe[r]}function yG(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function rAe(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var vG=mG,xG=OG,cI="Tabs",[iAe,TIe]=Jo(cI,[BS]),wG=BS(),[sAe,uI]=iAe(cI),bG=b.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=n,u=Wf(a),[d,f]=Ga({prop:r,onChange:i,defaultProp:s});return h.jsx(sAe,{scope:t,baseId:Ao(),value:d,onValueChange:f,orientation:o,dir:u,activationMode:l,children:h.jsx(Qe.div,{dir:u,"data-orientation":o,...c,ref:e})})});bG.displayName=cI;var SG="TabsList",kG=b.forwardRef((n,e)=>{const{__scopeTabs:t,loop:r=!0,...i}=n,s=uI(SG,t),o=wG(t);return h.jsx(vG,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:h.jsx(Qe.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});kG.displayName=SG;var _G="TabsTrigger",TG=b.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,disabled:i=!1,...s}=n,o=uI(_G,t),a=wG(t),l=EG(o.baseId,r),c=AG(o.baseId,r),u=r===o.value;return h.jsx(xG,{asChild:!0,...a,focusable:!i,active:u,children:h.jsx(Qe.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:e,onMouseDown:he(n.onMouseDown,d=>{!i&&d.button===0&&d.ctrlKey===!1?o.onValueChange(r):d.preventDefault()}),onKeyDown:he(n.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(r)}),onFocus:he(n.onFocus,()=>{const d=o.activationMode!=="manual";!u&&!i&&d&&o.onValueChange(r)})})})});TG.displayName=_G;var PG="TabsContent",CG=b.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,forceMount:i,children:s,...o}=n,a=uI(PG,t),l=EG(a.baseId,r),c=AG(a.baseId,r),u=r===a.value,d=b.useRef(u);return b.useEffect(()=>{const f=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(f)},[]),h.jsx(ti,{present:i||u,children:({present:f})=>h.jsx(Qe.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:c,tabIndex:0,...o,ref:e,style:{...n.style,animationDuration:d.current?"0s":void 0},children:f&&s})})});CG.displayName=PG;function EG(n,e){return`${n}-trigger-${e}`}function AG(n,e){return`${n}-content-${e}`}var oAe=bG,RG=kG,QG=TG,NG=CG;const np=oAe,uh=b.forwardRef(({className:n,...e},t)=>h.jsx(RG,{ref:t,className:we("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",n),...e}));uh.displayName=RG.displayName;const Qn=b.forwardRef(({className:n,...e},t)=>h.jsx(QG,{ref:t,className:we("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",n),...e}));Qn.displayName=QG.displayName;const Oi=b.forwardRef(({className:n,...e},t)=>h.jsx(NG,{ref:t,className:we("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...e}));Oi.displayName=NG.displayName;const aAe=Uf("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),hI=b.forwardRef(({className:n,variant:e,...t},r)=>h.jsx("div",{ref:r,role:"alert",className:we(aAe({variant:e}),n),...t}));hI.displayName="Alert";const dI=b.forwardRef(({className:n,...e},t)=>h.jsx("h5",{ref:t,className:we("mb-1 font-medium leading-none tracking-tight",n),...e}));dI.displayName="AlertTitle";const fI=b.forwardRef(({className:n,...e},t)=>h.jsx("div",{ref:t,className:we("text-sm [&_p]:leading-relaxed",n),...e}));fI.displayName="AlertDescription";function lAe({trigger:n}){const{user:e}=nn(),{toast:t}=In(),[r,i]=b.useState(!1),[s,o]=b.useState(!1),[a,l]=b.useState(""),[c,u]=b.useState(""),d=async f=>{if(f.preventDefault(),!!e)try{o(!0),await Ba(Ee(re,"premiumRequests"),{userId:e.uid,userEmail:e.email,userName:e.displayName||"",requestedFeature:a,requestMessage:c,status:"pending",createdAt:Date.now()}),t({title:"Request Submitted",description:"Your premium feature request has been submitted. An admin will review it soon."}),l(""),u(""),i(!1)}catch(m){console.error("Error submitting premium request:",m),t({variant:"destructive",title:"Error",description:"Failed to submit your request. Please try again."})}finally{o(!1)}};return h.jsxs(Ro,{open:r,onOpenChange:i,children:[n&&h.jsx(AQ,{asChild:!0,children:n}),h.jsxs(js,{className:"sm:max-w-[425px]",children:[h.jsxs(Ds,{children:[h.jsxs(Ms,{className:"flex items-center gap-2",children:[h.jsx(Hx,{className:"h-5 w-5 text-amber-500"}),"Request Premium Feature"]}),h.jsx(Vs,{children:"Tell us which premium feature you'd like to try, and our admin team will review your request."})]}),h.jsxs("form",{onSubmit:d,className:"space-y-4 py-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Ft,{htmlFor:"feature",children:"Feature Name"}),h.jsx(Tt,{id:"feature",placeholder:"Which premium feature would you like?",value:a,onChange:f=>l(f.target.value),required:!0})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Ft,{htmlFor:"message",children:"Message (Optional)"}),h.jsx(Yu,{id:"message",placeholder:"Tell us why you need this feature...",value:c,onChange:f=>u(f.target.value),className:"min-h-[100px]"})]}),h.jsxs(ja,{children:[h.jsx(K,{type:"button",variant:"outline",onClick:()=>i(!1),disabled:s,children:"Cancel"}),h.jsx(K,{type:"submit",disabled:s||!a,children:s?"Submitting...":"Submit Request"})]})]})]})]})}function cAe(){const{isFree:n}=SO();return n?h.jsxs(hI,{className:"mb-6 border-amber-300 bg-amber-50 text-amber-800",children:[h.jsx(Hx,{className:"h-5 w-5 text-amber-500"}),h.jsx(dI,{className:"text-amber-800 flex items-center gap-2",children:"Try Premium Features"}),h.jsxs(fI,{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[h.jsx("div",{children:"Unlock advanced features like unlimited snippets, AI-powered suggestions, and more. Request access to any premium feature you'd like to try!"}),h.jsx(lAe,{trigger:h.jsxs(K,{size:"sm",className:"bg-amber-500 hover:bg-amber-600 text-white whitespace-nowrap",children:[h.jsx(Hx,{className:"h-4 w-4 mr-1"}),"Request Feature"]})})]})]}):null}function uAe(){const{user:n}=nn(),[e,t]=b.useState("snippets"),{data:r,isLoading:i}=Mu({queryKey:["items",n==null?void 0:n.uid,e],queryFn:async()=>{if(!n)return[];const o=Ie(Ee(re,e),Ae("userId","==",n.uid));return(await je(o)).docs.map(l=>({id:l.id,...l.data()}))},enabled:!!n,refetchOnMount:!0,staleTime:5e3}),s=()=>i?h.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(o=>h.jsx("div",{className:"h-[300px] rounded-lg bg-card animate-pulse"},o))}):r!=null&&r.length?h.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:r.map(o=>e==="snippets"?h.jsx(ib,{snippet:o,showActions:!1},o.id):e==="notes"?h.jsx(sb,{note:o,showActions:!1},o.id):h.jsx(ob,{checklist:o,showActions:!1},o.id))}):h.jsx("div",{className:"text-center py-12",children:h.jsxs("p",{className:"text-muted-foreground",children:["No ",e," found. Create your first one using the buttons on the left."]})});return h.jsx(rr,{children:h.jsxs("div",{className:"space-y-4 relative",children:[h.jsx(cAe,{}),h.jsxs(np,{defaultValue:"snippets",onValueChange:t,children:[h.jsxs(uh,{children:[h.jsx(Qn,{value:"snippets",children:"Snippets"}),h.jsx(Qn,{value:"notes",children:"Notes"}),h.jsx(Qn,{value:"checklists",children:"Checklists"})]}),h.jsxs(Oi,{value:"snippets",className:"mt-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h2",{className:"text-xl font-semibold",children:"Your Snippets"}),h.jsx(Sa,{type:"snippet",trigger:h.jsxs(K,{className:"flex items-center gap-1",children:[h.jsx(Mm,{className:"h-4 w-4"})," New Snippet"]})})]}),s()]}),h.jsxs(Oi,{value:"notes",className:"mt-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h2",{className:"text-xl font-semibold",children:"Your Notes"}),h.jsx(Sa,{type:"note",trigger:h.jsxs(K,{className:"flex items-center gap-1",children:[h.jsx(Mm,{className:"h-4 w-4"})," New Note"]})})]}),s()]}),h.jsxs(Oi,{value:"checklists",className:"mt-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h2",{className:"text-xl font-semibold",children:"Your Checklists"}),h.jsx(Sa,{type:"checklist",trigger:h.jsxs(K,{className:"flex items-center gap-1",children:[h.jsx(Mm,{className:"h-4 w-4"})," New Checklist"]})})]}),s()]})]})]})})}const hAe=lt.object({email:lt.string().email(),password:lt.string().min(6)});function dAe(){const[n,e]=b.useState("login"),[,t]=ei(),{toast:r}=In(),i=uS({resolver:hS(hAe),defaultValues:{email:"",password:""}}),s=async o=>{try{n==="login"?(await Nhe(o.email,o.password),t("/")):n==="register"?(await Ihe(o.email,o.password),t("/")):n==="reset"&&(await jhe(o.email),r({title:"Password reset email sent",description:"Check your email for further instructions"}),e("login"))}catch(a){const l=a.message.replace("Firebase:","Authentication");console.log(l),r({variant:"destructive",title:"Error",description:l})}};return h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:h.jsxs(en,{className:"w-full max-w-md",children:[h.jsx(kn,{children:h.jsx(Yr,{children:n==="login"?"Sign In":n==="register"?"Create Account":"Reset Password"})}),h.jsxs(tn,{children:[h.jsx(Mg,{...i,children:h.jsxs("form",{onSubmit:i.handleSubmit(s),className:"space-y-4",children:[h.jsx(Hn,{control:i.control,name:"email",render:({field:o})=>h.jsxs(Ln,{children:[h.jsx(vn,{children:"Email"}),h.jsx(xn,{children:h.jsx(Tt,{placeholder:"Email",...o})}),h.jsx(Un,{})]})}),n!=="reset"&&h.jsx(Hn,{control:i.control,name:"password",render:({field:o})=>h.jsxs(Ln,{children:[h.jsx(vn,{children:"Password"}),h.jsx(xn,{children:h.jsx(Tt,{type:"password",placeholder:"Password",...o})}),h.jsx(Un,{})]})}),h.jsx(K,{type:"submit",className:"w-full",children:n==="login"?"Sign In":n==="register"?"Create Account":"Reset Password"})]})}),h.jsx("div",{className:"mt-4 text-center text-sm",children:n==="login"?h.jsxs(h.Fragment,{children:[h.jsx(K,{variant:"link",onClick:()=>e("register"),children:"Need an account? Sign up"}),h.jsx(K,{variant:"link",onClick:()=>e("reset"),children:"Forgot password?"})]}):h.jsx(K,{variant:"link",onClick:()=>e("login"),children:"Already have an account? Sign in"})})]})]})})}var IG=["PageUp","PageDown"],$G=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],jG={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},rp="Slider",[KE,fAe,pAe]=KO(rp),[DG,PIe]=Jo(rp,[pAe]),[mAe,WS]=DG(rp),MG=b.forwardRef((n,e)=>{const{name:t,min:r=0,max:i=100,step:s=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:u,onValueChange:d=()=>{},onValueCommit:f=()=>{},inverted:m=!1,form:g,...y}=n,x=b.useRef(new Set),w=b.useRef(0),P=o==="horizontal"?gAe:OAe,[Q=[],C]=Ga({prop:u,defaultProp:c,onChange:_=>{var E;(E=[...x.current][w.current])==null||E.focus(),d(_)}}),N=b.useRef(Q);function O(_){const v=bAe(Q,_);A(_,v)}function T(_){A(_,w.current)}function S(){const _=N.current[w.current];Q[w.current]!==_&&f(Q)}function A(_,v,{commit:E}={commit:!1}){const j=TAe(s),V=PAe(Math.round((_-r)/s)*s+r,j),U=Sg(V,[r,i]);C((X=[])=>{const D=xAe(X,U,v);if(_Ae(D,l*s)){w.current=D.indexOf(U);const L=String(D)!==String(X);return L&&E&&f(D),L?D:X}else return X})}return h.jsx(mAe,{scope:n.__scopeSlider,name:t,disabled:a,min:r,max:i,valueIndexToChangeRef:w,thumbs:x.current,values:Q,orientation:o,form:g,children:h.jsx(KE.Provider,{scope:n.__scopeSlider,children:h.jsx(KE.Slot,{scope:n.__scopeSlider,children:h.jsx(P,{"aria-disabled":a,"data-disabled":a?"":void 0,...y,ref:e,onPointerDown:he(y.onPointerDown,()=>{a||(N.current=Q)}),min:r,max:i,inverted:m,onSlideStart:a?void 0:O,onSlideMove:a?void 0:T,onSlideEnd:a?void 0:S,onHomeKeyDown:()=>!a&&A(r,0,{commit:!0}),onEndKeyDown:()=>!a&&A(i,Q.length-1,{commit:!0}),onStepKeyDown:({event:_,direction:v})=>{if(!a){const V=IG.includes(_.key)||_.shiftKey&&$G.includes(_.key)?10:1,U=w.current,X=Q[U],D=s*V*v;A(X+D,U,{commit:!0})}}})})})})});MG.displayName=rp;var[VG,LG]=DG(rp,{startEdge:"left",endEdge:"right",size:"width",direction:1}),gAe=b.forwardRef((n,e)=>{const{min:t,max:r,dir:i,inverted:s,onSlideStart:o,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...u}=n,[d,f]=b.useState(null),m=Je(e,P=>f(P)),g=b.useRef(),y=Wf(i),x=y==="ltr",w=x&&!s||!x&&s;function k(P){const Q=g.current||d.getBoundingClientRect(),C=[0,Q.width],O=pI(C,w?[t,r]:[r,t]);return g.current=Q,O(P-Q.left)}return h.jsx(VG,{scope:n.__scopeSlider,startEdge:w?"left":"right",endEdge:w?"right":"left",direction:w?1:-1,size:"width",children:h.jsx(UG,{dir:y,"data-orientation":"horizontal",...u,ref:m,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:P=>{const Q=k(P.clientX);o==null||o(Q)},onSlideMove:P=>{const Q=k(P.clientX);a==null||a(Q)},onSlideEnd:()=>{g.current=void 0,l==null||l()},onStepKeyDown:P=>{const C=jG[w?"from-left":"from-right"].includes(P.key);c==null||c({event:P,direction:C?-1:1})}})})}),OAe=b.forwardRef((n,e)=>{const{min:t,max:r,inverted:i,onSlideStart:s,onSlideMove:o,onSlideEnd:a,onStepKeyDown:l,...c}=n,u=b.useRef(null),d=Je(e,u),f=b.useRef(),m=!i;function g(y){const x=f.current||u.current.getBoundingClientRect(),w=[0,x.height],P=pI(w,m?[r,t]:[t,r]);return f.current=x,P(y-x.top)}return h.jsx(VG,{scope:n.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:h.jsx(UG,{"data-orientation":"vertical",...c,ref:d,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:y=>{const x=g(y.clientY);s==null||s(x)},onSlideMove:y=>{const x=g(y.clientY);o==null||o(x)},onSlideEnd:()=>{f.current=void 0,a==null||a()},onStepKeyDown:y=>{const w=jG[m?"from-bottom":"from-top"].includes(y.key);l==null||l({event:y,direction:w?-1:1})}})})}),UG=b.forwardRef((n,e)=>{const{__scopeSlider:t,onSlideStart:r,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:l,...c}=n,u=WS(rp,t);return h.jsx(Qe.span,{...c,ref:e,onKeyDown:he(n.onKeyDown,d=>{d.key==="Home"?(o(d),d.preventDefault()):d.key==="End"?(a(d),d.preventDefault()):IG.concat($G).includes(d.key)&&(l(d),d.preventDefault())}),onPointerDown:he(n.onPointerDown,d=>{const f=d.target;f.setPointerCapture(d.pointerId),d.preventDefault(),u.thumbs.has(f)?f.focus():r(d)}),onPointerMove:he(n.onPointerMove,d=>{d.target.hasPointerCapture(d.pointerId)&&i(d)}),onPointerUp:he(n.onPointerUp,d=>{const f=d.target;f.hasPointerCapture(d.pointerId)&&(f.releasePointerCapture(d.pointerId),s(d))})})}),zG="SliderTrack",qG=b.forwardRef((n,e)=>{const{__scopeSlider:t,...r}=n,i=WS(zG,t);return h.jsx(Qe.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});qG.displayName=zG;var JE="SliderRange",FG=b.forwardRef((n,e)=>{const{__scopeSlider:t,...r}=n,i=WS(JE,t),s=LG(JE,t),o=b.useRef(null),a=Je(e,o),l=i.values.length,c=i.values.map(f=>BG(f,i.min,i.max)),u=l>1?Math.min(...c):0,d=100-Math.max(...c);return h.jsx(Qe.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:a,style:{...n.style,[s.startEdge]:u+"%",[s.endEdge]:d+"%"}})});FG.displayName=JE;var eA="SliderThumb",ZG=b.forwardRef((n,e)=>{const t=fAe(n.__scopeSlider),[r,i]=b.useState(null),s=Je(e,a=>i(a)),o=b.useMemo(()=>r?t().findIndex(a=>a.ref.current===r):-1,[t,r]);return h.jsx(yAe,{...n,ref:s,index:o})}),yAe=b.forwardRef((n,e)=>{const{__scopeSlider:t,index:r,name:i,...s}=n,o=WS(eA,t),a=LG(eA,t),[l,c]=b.useState(null),u=Je(e,k=>c(k)),d=l?o.form||!!l.closest("form"):!0,f=YN(l),m=o.values[r],g=m===void 0?0:BG(m,o.min,o.max),y=wAe(r,o.values.length),x=f==null?void 0:f[a.size],w=x?SAe(x,g,a.direction):0;return b.useEffect(()=>{if(l)return o.thumbs.add(l),()=>{o.thumbs.delete(l)}},[l,o.thumbs]),h.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${g}% + ${w}px)`},children:[h.jsx(KE.ItemSlot,{scope:n.__scopeSlider,children:h.jsx(Qe.span,{role:"slider","aria-label":n["aria-label"]||y,"aria-valuemin":o.min,"aria-valuenow":m,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...s,ref:u,style:m===void 0?{display:"none"}:n.style,onFocus:he(n.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),d&&h.jsx(vAe,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:m},r)]})});ZG.displayName=eA;var vAe=n=>{const{value:e,...t}=n,r=b.useRef(null),i=JN(e);return b.useEffect(()=>{const s=r.current,o=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(o,"value").set;if(i!==e&&l){const c=new Event("input",{bubbles:!0});l.call(s,e),s.dispatchEvent(c)}},[i,e]),h.jsx("input",{style:{display:"none"},...t,ref:r,defaultValue:e})};function xAe(n=[],e,t){const r=[...n];return r[t]=e,r.sort((i,s)=>i-s)}function BG(n,e,t){const s=100/(t-e)*(n-e);return Sg(s,[0,100])}function wAe(n,e){return e>2?`Value ${n+1} of ${e}`:e===2?["Minimum","Maximum"][n]:void 0}function bAe(n,e){if(n.length===1)return 0;const t=n.map(i=>Math.abs(i-e)),r=Math.min(...t);return t.indexOf(r)}function SAe(n,e,t){const r=n/2,s=pI([0,50],[0,r]);return(r-s(e)*t)*t}function kAe(n){return n.slice(0,-1).map((e,t)=>n[t+1]-e)}function _Ae(n,e){if(e>0){const t=kAe(n);return Math.min(...t)>=e}return!0}function pI(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(n[1]-n[0]);return e[0]+r*(t-n[0])}}function TAe(n){return(String(n).split(".")[1]||"").length}function PAe(n,e){const t=Math.pow(10,e);return Math.round(n*t)/t}var WG=MG,CAe=qG,EAe=FG,AAe=ZG;const XG=b.forwardRef(({className:n,...e},t)=>h.jsxs(WG,{ref:t,className:we("relative flex w-full touch-none select-none items-center",n),...e,children:[h.jsx(CAe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:h.jsx(EAe,{className:"absolute h-full bg-primary"})}),h.jsx(AAe,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));XG.displayName=WG.displayName;function RAe(){const{theme:n,setTheme:e}=dQ(),[t,r]=b.useState("colors");return h.jsx("div",{className:"space-y-4",children:h.jsxs(np,{defaultValue:"colors",className:"w-full",onValueChange:i=>r(i),children:[h.jsxs(uh,{className:"grid w-full grid-cols-2",children:[h.jsx(Qn,{value:"colors",children:"Color Themes"}),h.jsx(Qn,{value:"gradients",children:"Gradient Themes"})]}),h.jsx(Oi,{value:"colors",className:"mt-4",children:h.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:PZ.map(i=>h.jsx(YL,{themeOption:i,isSelected:n===i.id,onClick:()=>e(i.id)},i.id))})}),h.jsx(Oi,{value:"gradients",className:"mt-4",children:h.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:CZ.map(i=>h.jsx(YL,{themeOption:i,isSelected:n===i.id,onClick:()=>e(i.id)},i.id))})})]})})}function YL({themeOption:n,isSelected:e,onClick:t}){const{theme:r}=n;return h.jsxs(en,{className:`overflow-hidden cursor-pointer transition-all hover:scale-105 ${e?"ring-2 ring-primary":""}`,onClick:t,children:[h.jsxs("div",{className:"h-24 w-full relative",style:{background:(n.type==="gradient",r.preview.background)},children:[e&&h.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20",children:h.jsx(iS,{className:"h-8 w-8 text-white"})}),h.jsxs("div",{className:"absolute bottom-2 left-2 right-2 flex space-x-2",children:[h.jsx("div",{className:"h-6 w-6 rounded-full",style:{backgroundColor:r.preview.primary}}),h.jsx("div",{className:"h-6 w-6 rounded-full",style:{backgroundColor:r.preview.secondary}}),h.jsx("div",{className:"h-6 w-6 rounded-full",style:{backgroundColor:r.preview.accent}})]})]}),h.jsxs(tn,{className:"p-3",children:[h.jsx("div",{className:"font-medium",children:n.name}),h.jsx("div",{className:"text-xs text-muted-foreground",children:n.description})]})]})}const XS=b.forwardRef(({className:n,...e},t)=>h.jsx("div",{className:"relative w-full overflow-auto",children:h.jsx("table",{ref:t,className:we("w-full caption-bottom text-sm",n),...e})}));XS.displayName="Table";const GS=b.forwardRef(({className:n,...e},t)=>h.jsx("thead",{ref:t,className:we("[&_tr]:border-b",n),...e}));GS.displayName="TableHeader";const YS=b.forwardRef(({className:n,...e},t)=>h.jsx("tbody",{ref:t,className:we("[&_tr:last-child]:border-0",n),...e}));YS.displayName="TableBody";const QAe=b.forwardRef(({className:n,...e},t)=>h.jsx("tfoot",{ref:t,className:we("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",n),...e}));QAe.displayName="TableFooter";const uc=b.forwardRef(({className:n,...e},t)=>h.jsx("tr",{ref:t,className:we("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",n),...e}));uc.displayName="TableRow";const pi=b.forwardRef(({className:n,...e},t)=>h.jsx("th",{ref:t,className:we("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",n),...e}));pi.displayName="TableHead";const qr=b.forwardRef(({className:n,...e},t)=>h.jsx("td",{ref:t,className:we("p-4 align-middle [&:has([role=checkbox])]:pr-0",n),...e}));qr.displayName="TableCell";const NAe=b.forwardRef(({className:n,...e},t)=>h.jsx("caption",{ref:t,className:we("mt-4 text-sm text-muted-foreground",n),...e}));NAe.displayName="TableCaption";function IAe(){dQ();const{fontSize:n,setFontSize:e}=AZ(),[,t]=ei(),{user:r}=nn(),{toast:i}=In(),[s,o]=b.useState(!1),[a,l]=b.useState(!1),[c,u]=b.useState([]),[d,f]=b.useState(!1),m=b.useRef(null);b.useEffect(()=>{r&&g()},[r]);const g=async()=>{if(r)try{f(!0);const T=Ie(Ee(re,"backups"),Ae("userId","==",r.uid)),A=(await je(T)).docs.map(_=>({id:_.id,..._.data()}));u(A)}catch(T){console.error("Error fetching backup files:",T),i({variant:"destructive",title:"Error",description:"Failed to load backup files."})}finally{f(!1)}},y=T=>{try{e(T[0])}catch{i({variant:"destructive",title:"Error",description:"Failed to update font size. Please try again."})}},x=async()=>{if(r)try{o(!0);const T={snippets:[],notes:[],checklists:[],projects:[],profile:{}},S=await je(Ie(Ee(re,"users"),Ae("__name__","==",r.uid)));S.empty||(T.profile=S.docs[0].data());const A=Ie(Ee(re,"snippets"),Ae("userId","==",r.uid)),_=await je(A);T.snippets=_.docs.map(ie=>({id:ie.id,...ie.data()}));const v=Ie(Ee(re,"notes"),Ae("userId","==",r.uid)),E=await je(v);T.notes=E.docs.map(ie=>({id:ie.id,...ie.data()}));const j=Ie(Ee(re,"checklists"),Ae("userId","==",r.uid)),V=await je(j);T.checklists=V.docs.map(ie=>({id:ie.id,...ie.data()}));const U=Ie(Ee(re,"projects"),Ae("userId","==",r.uid)),X=await je(U);T.projects=X.docs.map(ie=>({id:ie.id,...ie.data()}));const D=new Date,L=`snippets-backup-${D.toISOString().split("T")[0]}.json`,Y=JSON.stringify(T,null,2),Z=new Blob([Y],{type:"application/json"}),F=Kd(bg,`backups/${r.uid}/${L}`);await MF(F,Z);const B=await VF(F),J=await Ba(Ee(re,"backups"),{userId:r.uid,fileName:L,timestamp:D.getTime(),downloadUrl:B,createdAt:D.getTime()});u([...c,{id:J.id,fileName:L,timestamp:D.getTime(),downloadUrl:B}]);const ae=URL.createObjectURL(Z),oe=document.createElement("a");oe.href=ae,oe.download=L,document.body.appendChild(oe),oe.click(),document.body.removeChild(oe),i({title:"Export Successful",description:"Your data has been exported and saved to your account."})}catch(T){console.error("Export error:",T),i({variant:"destructive",title:"Export Failed",description:T.message||"Failed to export your data. Please try again."})}finally{o(!1)}},w=async T=>{try{const S=document.createElement("a");S.href=T.downloadUrl,S.download=T.fileName,document.body.appendChild(S),S.click(),document.body.removeChild(S),i({title:"Download Started",description:"Your backup file download has started."})}catch(S){console.error("Download error:",S),i({variant:"destructive",title:"Download Failed",description:S.message||"Failed to download backup file."})}},k=async T=>{if(r)try{const S=Kd(bg,`backups/${r.uid}/${T.fileName}`);await Jb(S),await qc(Ze(re,"backups",T.id)),u(c.filter(A=>A.id!==T.id)),i({title:"Backup Deleted",description:"Your backup file has been deleted."})}catch(S){console.error("Delete error:",S),i({variant:"destructive",title:"Delete Failed",description:S.message||"Failed to delete backup file."})}},P=()=>{m.current&&m.current.click()},Q=async T=>{if(!(!r||!T.target.files||T.target.files.length===0))try{l(!0);const S=T.target.files[0],A=new FileReader;A.onload=async _=>{var v;try{if(!((v=_.target)!=null&&v.result))throw new Error("Failed to read file");const E=JSON.parse(_.target.result);if(!E.snippets||!E.notes||!E.checklists)throw new Error("Invalid backup file format. The file is missing required data structures.");const j=Wb(re);let V=0;for(const U of E.snippets)if(U.userId===r.uid){const X=Ze(re,"snippets",U.id);j.set(X,{...U,updatedAt:new Date().getTime()}),V++}for(const U of E.notes)if(U.userId===r.uid){const X=Ze(re,"notes",U.id);j.set(X,{...U,updatedAt:new Date().getTime()}),V++}for(const U of E.checklists)if(U.userId===r.uid){const X=Ze(re,"checklists",U.id);j.set(X,{...U,updatedAt:new Date().getTime()}),V++}if(E.projects&&Array.isArray(E.projects)){for(const U of E.projects)if(U.userId===r.uid){const X=Ze(re,"projects",U.id);j.set(X,{...U,updatedAt:new Date().getTime()}),V++}}await j.commit(),i({title:"Import Successful",description:`Successfully imported ${V} items to your account.`})}catch(E){console.error("Import parsing error:",E),i({variant:"destructive",title:"Import Failed",description:E.message||"Failed to import your data. Please check the file format."})}finally{l(!1),m.current&&(m.current.value="")}},A.onerror=()=>{i({variant:"destructive",title:"Import Failed",description:"Failed to read the file. Please try again."}),l(!1)},A.readAsText(S)}catch(S){console.error("Import error:",S),i({variant:"destructive",title:"Import Failed",description:S.message||"Failed to import your data. Please try again."}),l(!1)}},C=T=>new Date(T).toLocaleString(),N=()=>{const{isPaid:T}=SO();return T?null:h.jsxs("div",{className:"flex items-center text-xs text-muted-foreground bg-muted px-2 py-1 rounded",children:[h.jsx(PD,{className:"h-3 w-3 mr-1"}),"Premium"]})},O=()=>{const{isPaid:T}=SO();return T?null:h.jsx("div",{className:"absolute inset-0 bg-background/50 backdrop-blur-[1px] flex items-center justify-center z-10 cursor-not-allowed",children:h.jsxs("div",{className:"flex flex-col items-center justify-center p-4 rounded-lg",children:[h.jsx(PD,{className:"h-6 w-6 text-muted-foreground mb-2"}),h.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Available with paid subscription"})]})})};return h.jsx(rr,{children:h.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[h.jsxs("div",{className:"flex items-center mb-6",children:[h.jsxs(K,{variant:"ghost",onClick:()=>t("/"),className:"mr-4",children:[h.jsx(Fs,{className:"h-4 w-4 mr-2"}),"Back"]}),h.jsx("h1",{className:"text-2xl font-bold",children:"Settings"})]}),h.jsxs(en,{children:[h.jsxs(kn,{className:"flex flex-row items-center justify-between",children:[h.jsx(Yr,{children:"Appearance"}),h.jsx(N,{})]}),h.jsxs(tn,{className:"space-y-6",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsx(Ft,{children:"Theme"}),h.jsxs("div",{className:"relative",children:[h.jsx(RAe,{}),h.jsx(O,{})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Ft,{children:"Font Size"}),h.jsxs("div",{className:"relative",children:[h.jsx(XG,{value:[n],max:20,min:12,step:1,className:"w-full",onValueChange:y}),h.jsx(O,{})]})]})]})]}),h.jsxs(en,{children:[h.jsxs(kn,{className:"flex flex-row items-center justify-between",children:[h.jsx(Yr,{children:"Backup & Restore"}),h.jsx(N,{})]}),h.jsxs(tn,{className:"space-y-6 relative",children:[h.jsxs(hI,{children:[h.jsx(dI,{children:"Important"}),h.jsx(fI,{children:"Export your data to create a backup file that you can use to restore your snippets, notes, and checklists. When importing, make sure the file has the correct format."})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[h.jsxs(K,{onClick:x,disabled:s||!r,className:"flex items-center gap-2",children:[h.jsx(Lue,{className:"h-4 w-4"}),s?"Exporting...":"Export Data"]}),h.jsxs(K,{variant:"outline",onClick:P,disabled:a||!r,className:"flex items-center gap-2",children:[h.jsx(pZ,{className:"h-4 w-4"}),a?"Importing...":"Import Data"]}),h.jsx(O,{}),h.jsx("input",{type:"file",ref:m,className:"hidden",accept:"application/json",onChange:Q})]}),h.jsxs("div",{className:"mt-6",children:[h.jsx("h3",{className:"text-lg font-medium mb-2",children:"Your Backups"}),d?h.jsx("div",{className:"text-center py-4",children:h.jsx("p",{className:"text-muted-foreground",children:"Loading your backups..."})}):c.length>0?h.jsxs(XS,{children:[h.jsx(GS,{children:h.jsxs(uc,{children:[h.jsx(pi,{children:"Filename"}),h.jsx(pi,{children:"Date"}),h.jsx(pi,{className:"text-right",children:"Actions"})]})}),h.jsx(YS,{children:c.map(T=>h.jsxs(uc,{children:[h.jsx(qr,{children:T.fileName}),h.jsx(qr,{children:C(T.timestamp)}),h.jsx(qr,{className:"text-right",children:h.jsxs("div",{className:"flex justify-end gap-2",children:[h.jsx(K,{variant:"outline",size:"sm",onClick:()=>w(T),title:"Download",children:h.jsx(Uue,{className:"h-4 w-4"})}),h.jsx(K,{variant:"outline",size:"sm",onClick:()=>k(T),title:"Delete",children:h.jsx(sS,{className:"h-4 w-4"})})]})})]},T.id))})]}):h.jsx("div",{className:"text-center py-4 border rounded-md",children:h.jsx("p",{className:"text-muted-foreground",children:"No backups found. Export your data to create a backup."})})]})]})]})]})})}function $Ae(){return h.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:h.jsx(en,{className:"w-full max-w-md mx-4",children:h.jsxs(tn,{className:"pt-6",children:[h.jsxs("div",{className:"flex mb-4 gap-2",children:[h.jsx(jue,{className:"h-8 w-8 text-red-500"}),h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),h.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function jAe(){const{id:n}=$O(),[,e]=ei(),{user:t}=nn(),[r,i]=b.useState(null),[s,o]=b.useState(!0),a=Xi(),{toast:l}=In();b.useEffect(()=>{(async()=>{if(!(!n||!t))try{o(!0);const f=await bi(Ze(re,"snippets",n));if(f.exists()){const m={id:f.id,...f.data()};m.userId===t.uid?i(m):(l({variant:"destructive",title:"Access denied",description:"You do not have permission to view this snippet."}),e("/"))}else l({variant:"destructive",title:"Not found",description:"The requested snippet could not be found."}),e("/")}catch(f){l({variant:"destructive",title:"Error",description:f.message||"Failed to load snippet"})}finally{o(!1)}})()},[n,t,e,l]);const c=async()=>{if(r)try{if(navigator.clipboard)await navigator.clipboard.writeText(r.content),l({title:"Copied!",description:"Snippet copied to clipboard"});else{const d=document.createElement("textarea");d.value=r.content,d.style.position="fixed",d.style.left="-999999px",d.style.top="-999999px",document.body.appendChild(d),d.focus(),d.select();const f=document.execCommand("copy");if(document.body.removeChild(d),f)l({title:"Copied!",description:"Snippet copied to clipboard"});else throw new Error("Fallback copy method failed")}}catch(d){console.error("Copy to clipboard failed:",d),l({variant:"destructive",title:"Error",description:d.message||"Failed to copy to clipboard. This may be due to permission restrictions in your browser."})}},u=async()=>{if(r)try{await qc(Ze(re,"snippets",r.id)),a.invalidateQueries({queryKey:["items"]}),a.invalidateQueries({queryKey:["folder-items"]}),l({title:"Success",description:"Snippet deleted successfully"}),e("/")}catch(d){l({variant:"destructive",title:"Error",description:d.message||"Failed to delete snippet"})}};return s?h.jsx(rr,{children:h.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[h.jsx("div",{className:"h-8 w-24 bg-muted animate-pulse rounded mb-4"}),h.jsx("div",{className:"h-12 w-3/4 bg-muted animate-pulse rounded mb-6"}),h.jsx("div",{className:"h-[400px] bg-muted animate-pulse rounded"})]})}):r?h.jsx(rr,{children:h.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[h.jsxs("div",{className:"flex items-center mb-6",children:[h.jsxs(K,{variant:"ghost",onClick:()=>e("/"),className:"mr-4",children:[h.jsx(Fs,{className:"h-4 w-4 mr-2"}),"Back"]}),h.jsx("h1",{className:"text-2xl font-bold",children:"Snippet Details"})]}),h.jsxs(en,{className:"w-full",children:[h.jsxs(kn,{className:"space-y-1",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h3",{className:"text-xl font-semibold",children:r.title}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(K,{variant:"ghost",size:"icon",onClick:c,title:"Copy snippet to clipboard",children:h.jsx(Vue,{className:"h-4 w-4"})}),h.jsx(tp,{type:"snippet",itemId:r.id,defaultValues:r,trigger:h.jsx(K,{variant:"ghost",size:"icon",title:"Edit snippet",children:h.jsx(zf,{className:"h-4 w-4"})}),onEdited:()=>{a.invalidateQueries({queryKey:["items"]}),a.invalidateQueries({queryKey:["folder-items"]}),bi(Ze(re,"snippets",r.id)).then(d=>{d.exists()&&i({id:d.id,...d.data()})})}}),h.jsx(K,{variant:"ghost",size:"icon",onClick:u,title:"Delete snippet",children:h.jsx(Ff,{className:"h-4 w-4"})})]})]}),r.description&&h.jsx("p",{className:"text-sm text-muted-foreground",children:r.description}),h.jsx("div",{className:"flex flex-wrap gap-2",children:r.tags.map(d=>h.jsx(Gt,{href:`/tags/${encodeURIComponent(d)}`,children:h.jsx(zn,{variant:"secondary",className:"cursor-pointer hover:bg-secondary/70",children:d})},d))})]}),h.jsx(tn,{children:h.jsx("div",{className:"rounded-md border overflow-auto",children:h.jsx($S,{value:r.content,language:r.language,readOnly:!0})})}),h.jsxs(Gc,{className:"text-sm text-muted-foreground",children:["Last updated: ",new Date(r.updatedAt).toLocaleDateString()]})]})]})}):h.jsx(rr,{children:h.jsxs("div",{className:"max-w-4xl mx-auto p-4 text-center",children:[h.jsx("p",{children:"Snippet not found"}),h.jsx(K,{onClick:()=>e("/"),className:"mt-4",children:"Go back home"})]})})}function DAe(){const{id:n}=$O(),[,e]=ei(),{user:t}=nn(),[r,i]=b.useState(null),[s,o]=b.useState(!0),a=Xi(),{toast:l}=In();b.useEffect(()=>{(async()=>{if(!(!n||!t))try{o(!0);const f=await bi(Ze(re,"notes",n));if(f.exists()){const m={id:f.id,...f.data()};m.userId===t.uid?(m.tags=m.tags||[],i(m)):(l({variant:"destructive",title:"Access denied",description:"You do not have permission to view this note."}),e("/"))}else l({variant:"destructive",title:"Not found",description:"The requested note could not be found."}),e("/")}catch(f){l({variant:"destructive",title:"Error",description:f.message||"Failed to load note"})}finally{o(!1)}})()},[n,t,e,l]);const c=async()=>{if(r)try{await qc(Ze(re,"notes",r.id)),a.invalidateQueries({queryKey:["items"]}),a.invalidateQueries({queryKey:["folder-items"]}),l({title:"Success",description:"Note deleted successfully"}),e("/")}catch(d){l({variant:"destructive",title:"Error",description:d.message||"Failed to delete note"})}};if(s)return h.jsx(rr,{children:h.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[h.jsx("div",{className:"h-8 w-24 bg-muted animate-pulse rounded mb-4"}),h.jsx("div",{className:"h-12 w-3/4 bg-muted animate-pulse rounded mb-6"}),h.jsx("div",{className:"h-[400px] bg-muted animate-pulse rounded"})]})});if(!r)return h.jsx(rr,{children:h.jsxs("div",{className:"max-w-4xl mx-auto p-4 text-center",children:[h.jsx("p",{children:"Note not found"}),h.jsx(K,{onClick:()=>e("/"),className:"mt-4",children:"Go back home"})]})});const u=r.tags||[];return h.jsx(rr,{children:h.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[h.jsxs("div",{className:"flex items-center mb-6",children:[h.jsxs(K,{variant:"ghost",onClick:()=>e("/"),className:"mr-4",children:[h.jsx(Fs,{className:"h-4 w-4 mr-2"}),"Back"]}),h.jsx("h1",{className:"text-2xl font-bold",children:"Note Details"})]}),h.jsxs(en,{className:"w-full",children:[h.jsxs(kn,{className:"space-y-1",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h3",{className:"text-xl font-semibold",children:r.title}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(tp,{type:"note",itemId:r.id,defaultValues:{...r,tags:u},trigger:h.jsx(K,{variant:"ghost",size:"icon",title:"Edit note",children:h.jsx(zf,{className:"h-4 w-4"})}),onEdited:()=>{a.invalidateQueries({queryKey:["items"]}),a.invalidateQueries({queryKey:["folder-items"]}),bi(Ze(re,"notes",r.id)).then(d=>{if(d.exists()){const f={id:d.id,...d.data()};f.tags=f.tags||[],i(f)}})}}),h.jsx(K,{variant:"ghost",size:"icon",onClick:c,title:"Delete note",children:h.jsx(Ff,{className:"h-4 w-4"})})]})]}),r.description&&h.jsx("p",{className:"text-sm text-muted-foreground",children:r.description}),h.jsx("div",{className:"flex flex-wrap gap-2",children:u.map(d=>h.jsx(Gt,{href:`/tags/${encodeURIComponent(d)}`,children:h.jsx(zn,{variant:"secondary",className:"cursor-pointer hover:bg-secondary/70",children:d})},d))})]}),h.jsx(tn,{children:h.jsx("div",{className:"whitespace-pre-wrap rounded-md p-4 border",children:r.content})}),h.jsxs(Gc,{className:"text-sm text-muted-foreground",children:["Last updated: ",new Date(r.updatedAt).toLocaleDateString()]})]})]})})}function MAe(){const{id:n}=$O(),[,e]=ei(),{user:t}=nn(),[r,i]=b.useState(null),[s,o]=b.useState([]),[a,l]=b.useState(!0),c=Xi(),{toast:u}=In();b.useEffect(()=>{(async()=>{if(!(!n||!t))try{l(!0);const g=await bi(Ze(re,"checklists",n));if(g.exists()){const y={id:g.id,...g.data()};y.userId===t.uid?(i(y),y.content&&o(JSON.parse(y.content))):(u({variant:"destructive",title:"Access denied",description:"You do not have permission to view this checklist."}),e("/"))}else u({variant:"destructive",title:"Not found",description:"The requested checklist could not be found."}),e("/")}catch(g){u({variant:"destructive",title:"Error",description:g.message||"Failed to load checklist"})}finally{l(!1)}})()},[n,t,e,u]);const d=async()=>{if(r)try{await qc(Ze(re,"checklists",r.id)),c.invalidateQueries({queryKey:["items"]}),c.invalidateQueries({queryKey:["folder-items"]}),u({title:"Success",description:"Checklist deleted successfully"}),e("/")}catch(m){u({variant:"destructive",title:"Error",description:m.message||"Failed to delete checklist"})}},f=async m=>{if(r)try{const g=[...s];g[m].checked=!g[m].checked,o(g),await wi(Ze(re,"checklists",r.id),{content:JSON.stringify(g),updatedAt:new Date().getTime()});const y={...r,content:JSON.stringify(g),updatedAt:new Date().getTime()};c.setQueryData(["items",t==null?void 0:t.uid,"checklists"],x=>x?x.map(w=>w.id===r.id?y:w):[y]),c.setQueryData(["folder-items",t==null?void 0:t.uid,"checklists"],x=>x?x.map(w=>w.id===r.id?y:w):[y]),c.invalidateQueries({queryKey:["items"]}),c.invalidateQueries({queryKey:["folder-items"]})}catch(g){u({variant:"destructive",title:"Error",description:g.message||"Failed to update item"})}};return a?h.jsx(rr,{children:h.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[h.jsx("div",{className:"h-8 w-24 bg-muted animate-pulse rounded mb-4"}),h.jsx("div",{className:"h-12 w-3/4 bg-muted animate-pulse rounded mb-6"}),h.jsx("div",{className:"h-[400px] bg-muted animate-pulse rounded"})]})}):r?h.jsx(rr,{children:h.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[h.jsxs("div",{className:"flex items-center mb-6",children:[h.jsxs(K,{variant:"ghost",onClick:()=>e("/"),className:"mr-4",children:[h.jsx(Fs,{className:"h-4 w-4 mr-2"}),"Back"]}),h.jsx("h1",{className:"text-2xl font-bold",children:"Checklist Details"})]}),h.jsxs(en,{className:"w-full",children:[h.jsxs(kn,{className:"space-y-1",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h3",{className:"text-xl font-semibold",children:r.title}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(tp,{type:"checklist",itemId:r.id,defaultValues:r,trigger:h.jsx(K,{variant:"ghost",size:"icon",title:"Edit checklist",children:h.jsx(zf,{className:"h-4 w-4"})}),onEdited:()=>{c.invalidateQueries({queryKey:["items"]}),c.invalidateQueries({queryKey:["folder-items"]}),bi(Ze(re,"checklists",r.id)).then(m=>{if(m.exists()){const g={id:m.id,...m.data()};i(g),g.content&&o(JSON.parse(g.content))}})}}),h.jsx(K,{variant:"ghost",size:"icon",onClick:d,title:"Delete checklist",children:h.jsx(Ff,{className:"h-4 w-4"})})]})]}),r.description&&h.jsx("p",{className:"text-sm text-muted-foreground",children:r.description}),h.jsx("div",{className:"flex flex-wrap gap-2",children:r.tags.map(m=>h.jsx(Gt,{href:`/tags/${encodeURIComponent(m)}`,children:h.jsx(zn,{variant:"secondary",className:"cursor-pointer hover:bg-secondary/70",children:m})},m))})]}),h.jsx(tn,{children:h.jsx("div",{className:"rounded-md border p-4",children:s.length===0?h.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No items in this checklist"}):h.jsx("div",{className:"space-y-2",children:s.map((m,g)=>h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(lI,{id:`item-${g}`,checked:m.checked,onCheckedChange:()=>f(g)}),h.jsx("label",{htmlFor:`item-${g}`,className:`text-sm ${m.checked?"line-through text-muted-foreground":""}`,children:m.text})]},g))})})}),h.jsxs(Gc,{className:"text-sm text-muted-foreground",children:["Last updated: ",new Date(r.updatedAt).toLocaleDateString()]})]})]})}):h.jsx(rr,{children:h.jsxs("div",{className:"max-w-4xl mx-auto p-4 text-center",children:[h.jsx("p",{children:"Checklist not found"}),h.jsx(K,{onClick:()=>e("/"),className:"mt-4",children:"Go back home"})]})})}function VAe(){const{tag:n}=$O(),[,e]=ei(),{user:t}=nn(),{toast:r}=In(),[i,s]=b.useState(!0),[o,a]=b.useState([]),[l,c]=b.useState([]),[u,d]=b.useState([]),[f,m]=b.useState("all");b.useEffect(()=>{(async()=>{if(!(!t||!n))try{s(!0);const x=decodeURIComponent(n),w=Ie(Ee(re,"snippets"),Ae("userId","==",t.uid),Ae("tags","array-contains",x)),P=(await je(w)).docs.map(A=>({id:A.id,...A.data()}));a(P);const Q=Ie(Ee(re,"notes"),Ae("userId","==",t.uid),Ae("tags","array-contains",x)),N=(await je(Q)).docs.map(A=>({id:A.id,...A.data()}));c(N);const O=Ie(Ee(re,"checklists"),Ae("userId","==",t.uid),Ae("tags","array-contains",x)),S=(await je(O)).docs.map(A=>({id:A.id,...A.data()}));d(S)}catch(x){console.error("Error fetching items by tag:",x),r({variant:"destructive",title:"Error",description:x.message||"Failed to load items"})}finally{s(!1)}})()},[t,n,r]);const g=()=>{if(i)return h.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(x=>h.jsx("div",{className:"h-[300px] rounded-lg bg-card animate-pulse"},x))});const y=[];return(f==="all"||f==="snippets")&&y.push(...o),(f==="all"||f==="notes")&&y.push(...l),(f==="all"||f==="checklists")&&y.push(...u),y.length===0?h.jsx("div",{className:"text-center py-12",children:h.jsxs("p",{className:"text-muted-foreground",children:['No items found with tag "',decodeURIComponent(n||""),'".']})}):h.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:y.map(x=>x.language?h.jsx(ib,{snippet:x},x.id):x.content&&typeof x.content=="string"&&!x.content.startsWith("[{")?h.jsx(sb,{note:x},x.id):h.jsx(ob,{checklist:x},x.id))})};return h.jsx(rr,{children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center mb-6",children:[h.jsxs(K,{variant:"ghost",onClick:()=>e("/"),className:"mr-4",children:[h.jsx(Fs,{className:"h-4 w-4 mr-2"}),"Back"]}),h.jsxs("h1",{className:"text-2xl font-bold",children:["Tag: ",decodeURIComponent(n||"")]})]}),h.jsxs(np,{defaultValue:"all",onValueChange:m,children:[h.jsxs(uh,{children:[h.jsx(Qn,{value:"all",children:"All Items"}),h.jsxs(Qn,{value:"snippets",children:["Snippets (",o.length,")"]}),h.jsxs(Qn,{value:"notes",children:["Notes (",l.length,")"]}),h.jsxs(Qn,{value:"checklists",children:["Checklists (",u.length,")"]})]}),h.jsx(Oi,{value:"all",className:"mt-6",children:g()}),h.jsx(Oi,{value:"snippets",className:"mt-6",children:g()}),h.jsx(Oi,{value:"notes",className:"mt-6",children:g()}),h.jsx(Oi,{value:"checklists",className:"mt-6",children:g()})]})]})})}const LAe=lt.object({name:lt.string().min(1,"Project name is required"),description:lt.string().optional()});function UAe(){const{user:n}=nn(),{toast:e}=In(),t=Xi(),[r,i]=b.useState(!1),[s,o]=b.useState(!1),[a,l]=b.useState(!1),[c,u]=b.useState(null),d=uS({resolver:hS(LAe),defaultValues:{name:"",description:""}}),{data:f,isLoading:m}=Mu({queryKey:["projects",n==null?void 0:n.uid],queryFn:async()=>{if(!n)return[];const O=Ie(Ee(re,"projects"),Ae("userId","==",n.uid));return(await je(O)).docs.map(S=>({id:S.id,...S.data()}))},enabled:!!n}),g=z1({mutationFn:async O=>{if(!n)throw new Error("You must be logged in to create a project");const T=Date.now(),S={...O,userId:n.uid,createdAt:T,updatedAt:T};return{id:(await Ba(Ee(re,"projects"),S)).id,...S}},onSuccess:O=>{t.invalidateQueries({queryKey:["projects"]}),e({title:"Success",description:"Project created successfully"}),i(!1),d.reset()},onError:O=>{e({variant:"destructive",title:"Error",description:O.message||"Failed to create project"})}}),y=z1({mutationFn:async O=>{if(!n)throw new Error("You must be logged in to update a project");const{id:T,...S}=O,A=Ze(re,"projects",T);return await wi(A,{...S,updatedAt:Date.now()}),{id:T,...S}},onSuccess:()=>{t.invalidateQueries({queryKey:["projects"]}),e({title:"Success",description:"Project updated successfully"}),o(!1),u(null),d.reset()},onError:O=>{e({variant:"destructive",title:"Error",description:O.message||"Failed to update project"})}}),x=z1({mutationFn:async O=>{if(!n)throw new Error("You must be logged in to delete a project");const T=Ze(re,"projects",O);return await qc(T),O},onSuccess:()=>{t.invalidateQueries({queryKey:["projects"]}),e({title:"Success",description:"Project deleted successfully"}),l(!1),u(null)},onError:O=>{e({variant:"destructive",title:"Error",description:O.message||"Failed to delete project"})}}),w=O=>{g.mutate(O)},k=O=>{c&&y.mutate({...O,id:c.id})},P=()=>{c&&x.mutate(c.id)},Q=O=>{u(O),d.reset({name:O.name,description:O.description||""}),o(!0)},C=O=>{u(O),l(!0)},N=()=>m?h.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(O=>h.jsx("div",{className:"h-[200px] rounded-lg bg-card animate-pulse"},O))}):f!=null&&f.length?h.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:f.map(O=>h.jsxs(en,{children:[h.jsxs(kn,{children:[h.jsx(Yr,{children:O.name}),O.description&&h.jsx(il,{children:O.description})]}),h.jsx(tn,{children:h.jsxs("p",{className:"text-sm text-muted-foreground",children:["Created: ",O.createdAt?new Date(typeof O.createdAt=="object"&&O.createdAt.seconds?O.createdAt.seconds*1e3:O.createdAt).toLocaleDateString():"N/A"]})}),h.jsxs(Gc,{className:"flex justify-end space-x-2",children:[h.jsxs(K,{variant:"outline",size:"sm",onClick:()=>Q(O),children:[h.jsx(Xue,{className:"h-4 w-4 mr-2"}),"Edit"]}),h.jsxs(K,{variant:"destructive",size:"sm",onClick:()=>C(O),children:[h.jsx(sS,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]},O.id))}):h.jsx("div",{className:"text-center py-12",children:h.jsx("p",{className:"text-muted-foreground",children:"No projects found. Create your first project using the button below."})});return h.jsx(rr,{children:h.jsxs("div",{className:"space-y-4 relative",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h1",{className:"text-2xl font-bold",children:"Projects"}),h.jsxs(K,{onClick:()=>{d.reset(),i(!0)},children:[h.jsx(Mm,{className:"h-4 w-4 mr-2"}),"New Project"]})]}),N(),h.jsx(Ro,{open:r,onOpenChange:i,children:h.jsxs(js,{children:[h.jsxs(Ds,{children:[h.jsx(Ms,{children:"Create New Project"}),h.jsx(Vs,{children:"Add a new project to organize your snippets, notes, and checklists."})]}),h.jsx(Mg,{...d,children:h.jsxs("form",{onSubmit:d.handleSubmit(w),className:"space-y-4",children:[h.jsx(Hn,{control:d.control,name:"name",render:({field:O})=>h.jsxs(Ln,{children:[h.jsx(vn,{children:"Name *"}),h.jsx(xn,{children:h.jsx(Tt,{placeholder:"Project name",...O})}),h.jsx(Un,{})]})}),h.jsx(Hn,{control:d.control,name:"description",render:({field:O})=>h.jsxs(Ln,{children:[h.jsx(vn,{children:"Description"}),h.jsx(xn,{children:h.jsx(Yu,{placeholder:"Project description",...O})}),h.jsx(Un,{})]})}),h.jsx(ja,{children:h.jsx(K,{type:"submit",disabled:g.isPending,children:g.isPending?"Creating...":"Create Project"})})]})})]})}),h.jsx(Ro,{open:s,onOpenChange:o,children:h.jsxs(js,{children:[h.jsxs(Ds,{children:[h.jsx(Ms,{children:"Edit Project"}),h.jsx(Vs,{children:"Update your project details."})]}),h.jsx(Mg,{...d,children:h.jsxs("form",{onSubmit:d.handleSubmit(k),className:"space-y-4",children:[h.jsx(Hn,{control:d.control,name:"name",render:({field:O})=>h.jsxs(Ln,{children:[h.jsx(vn,{children:"Name *"}),h.jsx(xn,{children:h.jsx(Tt,{placeholder:"Project name",...O})}),h.jsx(Un,{})]})}),h.jsx(Hn,{control:d.control,name:"description",render:({field:O})=>h.jsxs(Ln,{children:[h.jsx(vn,{children:"Description"}),h.jsx(xn,{children:h.jsx(Yu,{placeholder:"Project description",...O})}),h.jsx(Un,{})]})}),h.jsx(ja,{children:h.jsx(K,{type:"submit",disabled:y.isPending,children:y.isPending?"Updating...":"Update Project"})})]})})]})}),h.jsx(Ro,{open:a,onOpenChange:l,children:h.jsxs(js,{children:[h.jsxs(Ds,{children:[h.jsx(Ms,{children:"Delete Project"}),h.jsx(Vs,{children:"Are you sure you want to delete this project? This action cannot be undone."})]}),h.jsxs(ja,{children:[h.jsx(K,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),h.jsx(K,{variant:"destructive",onClick:P,disabled:x.isPending,children:x.isPending?"Deleting...":"Delete Project"})]})]})})]})})}var mI="Avatar",[zAe,CIe]=Jo(mI),[qAe,GG]=zAe(mI),YG=b.forwardRef((n,e)=>{const{__scopeAvatar:t,...r}=n,[i,s]=b.useState("idle");return h.jsx(qAe,{scope:t,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:h.jsx(Qe.span,{...r,ref:e})})});YG.displayName=mI;var HG="AvatarImage",KG=b.forwardRef((n,e)=>{const{__scopeAvatar:t,src:r,onLoadingStatusChange:i=()=>{},...s}=n,o=GG(HG,t),a=FAe(r,s.referrerPolicy),l=Ht(c=>{i(c),o.onImageLoadingStatusChange(c)});return Wn(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?h.jsx(Qe.img,{...s,ref:e,src:r}):null});KG.displayName=HG;var JG="AvatarFallback",eY=b.forwardRef((n,e)=>{const{__scopeAvatar:t,delayMs:r,...i}=n,s=GG(JG,t),[o,a]=b.useState(r===void 0);return b.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&s.imageLoadingStatus!=="loaded"?h.jsx(Qe.span,{...i,ref:e}):null});eY.displayName=JG;function FAe(n,e){const[t,r]=b.useState("idle");return Wn(()=>{if(!n){r("error");return}let i=!0;const s=new window.Image,o=a=>()=>{i&&r(a)};return r("loading"),s.onload=o("loaded"),s.onerror=o("error"),s.src=n,e&&(s.referrerPolicy=e),()=>{i=!1}},[n,e]),t}var tY=YG,nY=KG,rY=eY;const iY=b.forwardRef(({className:n,...e},t)=>h.jsx(tY,{ref:t,className:we("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",n),...e}));iY.displayName=tY.displayName;const sY=b.forwardRef(({className:n,...e},t)=>h.jsx(nY,{ref:t,className:we("aspect-square h-full w-full",n),...e}));sY.displayName=nY.displayName;const oY=b.forwardRef(({className:n,...e},t)=>h.jsx(rY,{ref:t,className:we("flex h-full w-full items-center justify-center rounded-full bg-muted",n),...e}));oY.displayName=rY.displayName;function ZAe(){const[,n]=ei(),{user:e}=nn(),{toast:t}=In(),[r,i]=b.useState(""),[s,o]=b.useState(""),[a,l]=b.useState(null),[c,u]=b.useState(!1),[d,f]=b.useState(!1),[m,g]=b.useState(!1),[y,x]=b.useState(null),w=b.useRef(null);b.useEffect(()=>{(async()=>{if(e)try{const O=await bi(Ze(re,"users",e.uid));if(O.exists()){const T=O.data();o(T.email||""),i(T.displayName||""),l(T.profileUrl||null),g(!!T.isAdmin),x(T.role||null)}}catch(O){console.error("Error fetching user profile:",O),t({variant:"destructive",title:"Error",description:"Failed to load profile information."})}})()},[e,t]);const k=async N=>{if(!e||!N.target.files||N.target.files.length===0)return;const O=N.target.files[0],T=LF(),S=Kd(T,`profile-pics/${e.uid}`);try{u(!0),await MF(S,O);const A=await VF(S);await wi(Ze(re,"users",e.uid),{profileUrl:A}),l(A),t({title:"Success",description:"Profile picture updated successfully."})}catch(A){console.error("Error uploading profile picture:",A),t({variant:"destructive",title:"Error",description:"Failed to upload profile picture."})}finally{u(!1)}},P=async()=>{if(e)try{await wi(Ze(re,"users",e.uid),{displayName:r}),f(!1),t({title:"Success",description:"Display name updated successfully."})}catch(N){console.error("Error updating display name:",N),t({variant:"destructive",title:"Error",description:"Failed to update display name."})}},Q=async()=>{if(!(!e||!s))try{await fetch(`/api/reset-password?email=${encodeURIComponent(s)}`,{method:"POST"}),t({title:"Password Reset Email Sent",description:"Check your email for instructions to reset your password."})}catch(N){console.error("Error sending password reset:",N),t({variant:"destructive",title:"Error",description:"Failed to send password reset email."})}},C=async()=>{try{await $he(),t({title:"Signed Out",description:"You have been successfully signed out."}),n("/auth")}catch(N){console.error("Error signing out:",N),t({variant:"destructive",title:"Error",description:"Failed to sign out."})}};return h.jsx(rr,{children:h.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[h.jsxs("div",{className:"flex items-center mb-6",children:[h.jsxs(K,{variant:"ghost",onClick:()=>n("/"),className:"mr-4",children:[h.jsx(Fs,{className:"h-4 w-4 mr-2"}),"Back"]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("h1",{className:"text-2xl font-bold",children:"Profile"}),y==="admin"&&h.jsxs(zn,{className:"ml-2 bg-amber-100 text-amber-800 border border-amber-300 flex items-center gap-1",children:[h.jsx(fu,{className:"h-3 w-3"}),"Admin User"]}),y==="paid"&&h.jsxs(zn,{className:"ml-2 bg-amber-100 text-amber-800 border border-amber-300 flex items-center gap-1",children:[h.jsx(fu,{className:"h-3 w-3"}),"Paid User"]}),y==="free"&&h.jsxs(zn,{className:"ml-2 bg-blue-100 text-blue-800 border border-blue-300 flex items-center gap-1",children:[h.jsx(fu,{className:"h-3 w-3"}),"Free User"]}),!y&&h.jsxs(zn,{className:"ml-2 bg-gray-100 text-gray-800 border border-gray-300 flex items-center gap-1",children:[h.jsx(fu,{className:"h-3 w-3"}),"No Role Assigned"]})]})]}),h.jsxs(en,{className:"overflow-hidden",children:[h.jsx(kn,{className:"pb-0",children:h.jsx(Yr,{children:"Profile Picture"})}),h.jsx(tn,{className:"pt-6",children:h.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[h.jsxs("div",{className:"relative group",children:[h.jsxs(iY,{className:"h-24 w-24 border-2 border-primary/20",children:[a?h.jsx(sY,{src:a,alt:"Profile"}):h.jsx(oY,{className:"bg-primary/10 text-primary text-xl",children:r?r.charAt(0).toUpperCase():h.jsx(Gue,{})}),h.jsx("div",{className:"absolute inset-0 bg-black/30 rounded-full opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center cursor-pointer",onClick:()=>{var N;return(N=w.current)==null?void 0:N.click()},children:h.jsx($ue,{className:"h-8 w-8 text-white"})})]}),h.jsx("input",{type:"file",ref:w,className:"hidden",accept:"image/*",onChange:k})]}),h.jsxs(K,{variant:"outline",size:"sm",onClick:()=>{var N;return(N=w.current)==null?void 0:N.click()},disabled:c,className:"flex items-center gap-2",children:[h.jsx(pZ,{className:"h-4 w-4"}),c?"Uploading...":"Upload New Picture"]})]})})]}),h.jsxs(en,{children:[h.jsx(kn,{children:h.jsx(Yr,{children:"Account Information"})}),h.jsxs(tn,{className:"space-y-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Ft,{htmlFor:"display-name",children:"Display Name"}),h.jsx("div",{className:"flex items-center gap-2",children:d?h.jsxs(h.Fragment,{children:[h.jsx(Tt,{id:"display-name",value:r,onChange:N=>i(N.target.value),className:"flex-1"}),h.jsx(K,{onClick:P,size:"sm",children:"Save"}),h.jsx(K,{variant:"outline",size:"sm",onClick:()=>f(!1),children:"Cancel"})]}):h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"flex-1 py-2 px-3 border rounded-md bg-muted/30",children:r||"No display name set"}),h.jsx(K,{variant:"ghost",size:"icon",onClick:()=>f(!0),children:h.jsx(Zue,{className:"h-4 w-4"})})]})})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Ft,{htmlFor:"email",children:"Email"}),h.jsx("div",{className:"py-2 px-3 border rounded-md bg-muted/30",children:s})]}),h.jsxs("div",{className:"pt-2",children:[h.jsx(K,{variant:"outline",onClick:Q,className:"w-full sm:w-auto",children:"Reset Password"}),h.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"A password reset link will be sent to your email address."})]})]})]}),h.jsxs(en,{className:"border-destructive/20",children:[h.jsx(kn,{children:h.jsx(Yr,{children:"Sign Out"})}),h.jsxs(tn,{children:[h.jsxs(K,{variant:"destructive",onClick:C,className:"w-full sm:w-auto flex items-center gap-2",children:[h.jsx(que,{className:"h-4 w-4"}),"Sign Out"]}),h.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"You will be redirected to the login page after signing out."})]})]})]})})}function BAe(){const{user:n}=nn(),[e,t]=b.useState(""),[r,i]=b.useState("all"),[s,o]=b.useState(!1),[a,l]=b.useState({snippets:[],notes:[],checklists:[],tags:[]}),c=async()=>{if(!n||!e.trim()){l({snippets:[],notes:[],checklists:[],tags:[]});return}o(!0);const g=e.toLowerCase();try{const y=Ie(Ee(re,"snippets"),Ae("userId","==",n.uid)),w=(await je(y)).docs.map(S=>({id:S.id,...S.data()})).filter(S=>{var A,_,v,E;return((A=S.title)==null?void 0:A.toLowerCase().includes(g))||((_=S.content)==null?void 0:_.toLowerCase().includes(g))||((v=S.language)==null?void 0:v.toLowerCase().includes(g))||((E=S.tags)==null?void 0:E.some(j=>j.toLowerCase().includes(g)))}),k=Ie(Ee(re,"notes"),Ae("userId","==",n.uid)),Q=(await je(k)).docs.map(S=>({id:S.id,...S.data()})).filter(S=>{var A,_,v;return((A=S.title)==null?void 0:A.toLowerCase().includes(g))||((_=S.content)==null?void 0:_.toLowerCase().includes(g))||((v=S.tags)==null?void 0:v.some(E=>E.toLowerCase().includes(g)))}),C=Ie(Ee(re,"checklists"),Ae("userId","==",n.uid)),O=(await je(C)).docs.map(S=>({id:S.id,...S.data()})).filter(S=>{var A,_,v;return((A=S.title)==null?void 0:A.toLowerCase().includes(g))||((_=S.items)==null?void 0:_.some(E=>{var j;return(j=E.text)==null?void 0:j.toLowerCase().includes(g)}))||((v=S.tags)==null?void 0:v.some(E=>E.toLowerCase().includes(g)))}),T=new Set;[...w,...Q,...O].forEach(S=>{S.tags&&Array.isArray(S.tags)&&S.tags.forEach(A=>{A.toLowerCase().includes(g)&&T.add(A)})}),l({snippets:w,notes:Q,checklists:O,tags:Array.from(T)})}catch(y){console.error("Error searching:",y)}finally{o(!1)}},u=g=>{g.key==="Enter"&&c()},f=r==="all"?{snippets:a.snippets,notes:a.notes,checklists:a.checklists,tags:a.tags}:{snippets:r==="snippets"?a.snippets:[],notes:r==="notes"?a.notes:[],checklists:r==="checklists"?a.checklists:[],tags:r==="tags"?a.tags:[]},m=f.snippets.length>0||f.notes.length>0||f.checklists.length>0||f.tags.length>0;return h.jsx(rr,{children:h.jsxs("div",{className:"space-y-6",children:[h.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Search"}),h.jsxs("div",{className:"flex gap-2 items-center",children:[h.jsxs("div",{className:"relative flex-1",children:[h.jsx(qf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),h.jsx(Tt,{placeholder:"Search snippets, notes, checklists, and tags...",value:e,onChange:g=>t(g.target.value),onKeyDown:u,className:"pl-9"})]}),h.jsx(K,{onClick:c,disabled:s,children:s?"Searching...":"Search"})]}),e&&h.jsxs(np,{defaultValue:"all",value:r,onValueChange:i,children:[h.jsxs(uh,{className:"grid grid-cols-4 mb-4",children:[h.jsx(Qn,{value:"all",children:"All"}),h.jsx(Qn,{value:"snippets",children:"Snippets"}),h.jsx(Qn,{value:"notes",children:"Notes"}),h.jsx(Qn,{value:"checklists",children:"Checklists"})]}),h.jsxs(Oi,{value:"all",className:"space-y-6",children:[!m&&h.jsx("p",{className:"text-center text-muted-foreground",children:"No results found"}),f.snippets.length>0&&h.jsxs("div",{className:"space-y-4",children:[h.jsx("h2",{className:"text-lg font-semibold",children:"Snippets"}),h.jsx("div",{className:"grid gap-4 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:f.snippets.map(g=>h.jsx(ib,{snippet:g,showActions:!1},g.id))})]}),f.notes.length>0&&h.jsxs("div",{className:"space-y-4",children:[h.jsx("h2",{className:"text-lg font-semibold",children:"Notes"}),h.jsx("div",{className:"grid gap-4 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:f.notes.map(g=>h.jsx(sb,{note:g,showActions:!1},g.id))})]}),f.checklists.length>0&&h.jsxs("div",{className:"space-y-4",children:[h.jsx("h2",{className:"text-lg font-semibold",children:"Checklists"}),h.jsx("div",{className:"grid gap-4 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:f.checklists.map(g=>h.jsx(ob,{checklist:g,showActions:!1},g.id))})]})]}),h.jsx(Oi,{value:"snippets",children:f.snippets.length===0?h.jsx("p",{className:"text-center text-muted-foreground",children:"No snippets found"}):h.jsx("div",{className:"grid gap-4 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:f.snippets.map(g=>h.jsx(ib,{snippet:g,showActions:!1},g.id))})}),h.jsx(Oi,{value:"notes",children:f.notes.length===0?h.jsx("p",{className:"text-center text-muted-foreground",children:"No notes found"}):h.jsx("div",{className:"grid gap-4 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:f.notes.map(g=>h.jsx(sb,{note:g,showActions:!1},g.id))})}),h.jsx(Oi,{value:"checklists",children:f.checklists.length===0?h.jsx("p",{className:"text-center text-muted-foreground",children:"No checklists found"}):h.jsx("div",{className:"grid gap-4 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:f.checklists.map(g=>h.jsx(ob,{checklist:g,showActions:!1},g.id))})})]})]})})}var tA=["Enter"," "],WAe=["ArrowDown","PageUp","Home"],aY=["ArrowUp","PageDown","End"],XAe=[...WAe,...aY],GAe={ltr:[...tA,"ArrowRight"],rtl:[...tA,"ArrowLeft"]},YAe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},py="Menu",[kO,HAe,KAe]=KO(py),[hh,lY]=Jo(py,[KAe,VS,BS]),HS=VS(),cY=BS(),[JAe,dh]=hh(py),[eRe,my]=hh(py),uY=n=>{const{__scopeMenu:e,open:t=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=n,a=HS(e),[l,c]=b.useState(null),u=b.useRef(!1),d=Ht(s),f=Wf(i);return b.useEffect(()=>{const m=()=>{u.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>u.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),h.jsx(b8,{...a,children:h.jsx(JAe,{scope:e,open:t,onOpenChange:d,content:l,onContentChange:c,children:h.jsx(eRe,{scope:e,onClose:b.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:u,dir:f,modal:o,children:r})})})};uY.displayName=py;var tRe="MenuAnchor",gI=b.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,i=HS(t);return h.jsx(S8,{...i,...r,ref:e})});gI.displayName=tRe;var OI="MenuPortal",[nRe,hY]=hh(OI,{forceMount:void 0}),dY=n=>{const{__scopeMenu:e,forceMount:t,children:r,container:i}=n,s=dh(OI,e);return h.jsx(nRe,{scope:e,forceMount:t,children:h.jsx(ti,{present:t||s.open,children:h.jsx(ey,{asChild:!0,container:i,children:r})})})};dY.displayName=OI;var cs="MenuContent",[rRe,yI]=hh(cs),fY=b.forwardRef((n,e)=>{const t=hY(cs,n.__scopeMenu),{forceMount:r=t.forceMount,...i}=n,s=dh(cs,n.__scopeMenu),o=my(cs,n.__scopeMenu);return h.jsx(kO.Provider,{scope:n.__scopeMenu,children:h.jsx(ti,{present:r||s.open,children:h.jsx(kO.Slot,{scope:n.__scopeMenu,children:o.modal?h.jsx(iRe,{...i,ref:e}):h.jsx(sRe,{...i,ref:e})})})})}),iRe=b.forwardRef((n,e)=>{const t=dh(cs,n.__scopeMenu),r=b.useRef(null),i=Je(e,r);return b.useEffect(()=>{const s=r.current;if(s)return _Q(s)},[]),h.jsx(vI,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:he(n.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),sRe=b.forwardRef((n,e)=>{const t=dh(cs,n.__scopeMenu);return h.jsx(vI,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),vI=b.forwardRef((n,e)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,onDismiss:m,disableOutsideScroll:g,...y}=n,x=dh(cs,t),w=my(cs,t),k=HS(t),P=cY(t),Q=HAe(t),[C,N]=b.useState(null),O=b.useRef(null),T=Je(e,O,x.onContentChange),S=b.useRef(0),A=b.useRef(""),_=b.useRef(0),v=b.useRef(null),E=b.useRef("right"),j=b.useRef(0),V=g?mS:b.Fragment,U=g?{as:Xa,allowPinchZoom:!0}:void 0,X=L=>{var ie,ct;const Y=A.current+L,Z=Q().filter(ut=>!ut.disabled),F=document.activeElement,B=(ie=Z.find(ut=>ut.ref.current===F))==null?void 0:ie.textValue,J=Z.map(ut=>ut.textValue),ae=ORe(J,Y,B),oe=(ct=Z.find(ut=>ut.textValue===ae))==null?void 0:ct.ref.current;(function ut(Ce){A.current=Ce,window.clearTimeout(S.current),Ce!==""&&(S.current=window.setTimeout(()=>ut(""),1e3))})(Y),oe&&setTimeout(()=>oe.focus())};b.useEffect(()=>()=>window.clearTimeout(S.current),[]),kQ();const D=b.useCallback(L=>{var Z,F;return E.current===((Z=v.current)==null?void 0:Z.side)&&vRe(L,(F=v.current)==null?void 0:F.area)},[]);return h.jsx(rRe,{scope:t,searchRef:A,onItemEnter:b.useCallback(L=>{D(L)&&L.preventDefault()},[D]),onItemLeave:b.useCallback(L=>{var Y;D(L)||((Y=O.current)==null||Y.focus(),N(null))},[D]),onTriggerLeave:b.useCallback(L=>{D(L)&&L.preventDefault()},[D]),pointerGraceTimerRef:_,onPointerGraceIntentChange:b.useCallback(L=>{v.current=L},[]),children:h.jsx(V,{...U,children:h.jsx(fS,{asChild:!0,trapped:i,onMountAutoFocus:he(s,L=>{var Y;L.preventDefault(),(Y=O.current)==null||Y.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:h.jsx(JO,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,onDismiss:m,children:h.jsx(vG,{asChild:!0,...P,dir:w.dir,orientation:"vertical",loop:r,currentTabStopId:C,onCurrentTabStopIdChange:N,onEntryFocus:he(l,L=>{w.isUsingKeyboardRef.current||L.preventDefault()}),preventScrollOnEntryFocus:!0,children:h.jsx(k8,{role:"menu","aria-orientation":"vertical","data-state":EY(x.open),"data-radix-menu-content":"",dir:w.dir,...k,...y,ref:T,style:{outline:"none",...y.style},onKeyDown:he(y.onKeyDown,L=>{const Z=L.target.closest("[data-radix-menu-content]")===L.currentTarget,F=L.ctrlKey||L.altKey||L.metaKey,B=L.key.length===1;Z&&(L.key==="Tab"&&L.preventDefault(),!F&&B&&X(L.key));const J=O.current;if(L.target!==J||!XAe.includes(L.key))return;L.preventDefault();const oe=Q().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);aY.includes(L.key)&&oe.reverse(),mRe(oe)}),onBlur:he(n.onBlur,L=>{L.currentTarget.contains(L.target)||(window.clearTimeout(S.current),A.current="")}),onPointerMove:he(n.onPointerMove,_O(L=>{const Y=L.target,Z=j.current!==L.clientX;if(L.currentTarget.contains(Y)&&Z){const F=L.clientX>j.current?"right":"left";E.current=F,j.current=L.clientX}}))})})})})})})});fY.displayName=cs;var oRe="MenuGroup",xI=b.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return h.jsx(Qe.div,{role:"group",...r,ref:e})});xI.displayName=oRe;var aRe="MenuLabel",pY=b.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return h.jsx(Qe.div,{...r,ref:e})});pY.displayName=aRe;var ab="MenuItem",HL="menu.itemSelect",KS=b.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:r,...i}=n,s=b.useRef(null),o=my(ab,n.__scopeMenu),a=yI(ab,n.__scopeMenu),l=Je(e,s),c=b.useRef(!1),u=()=>{const d=s.current;if(!t&&d){const f=new CustomEvent(HL,{bubbles:!0,cancelable:!0});d.addEventListener(HL,m=>r==null?void 0:r(m),{once:!0}),aQ(d,f),f.defaultPrevented?c.current=!1:o.onClose()}};return h.jsx(mY,{...i,ref:l,disabled:t,onClick:he(n.onClick,u),onPointerDown:d=>{var f;(f=n.onPointerDown)==null||f.call(n,d),c.current=!0},onPointerUp:he(n.onPointerUp,d=>{var f;c.current||(f=d.currentTarget)==null||f.click()}),onKeyDown:he(n.onKeyDown,d=>{const f=a.searchRef.current!=="";t||f&&d.key===" "||tA.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});KS.displayName=ab;var mY=b.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:r=!1,textValue:i,...s}=n,o=yI(ab,t),a=cY(t),l=b.useRef(null),c=Je(e,l),[u,d]=b.useState(!1),[f,m]=b.useState("");return b.useEffect(()=>{const g=l.current;g&&m((g.textContent??"").trim())},[s.children]),h.jsx(kO.ItemSlot,{scope:t,disabled:r,textValue:i??f,children:h.jsx(xG,{asChild:!0,...a,focusable:!r,children:h.jsx(Qe.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:c,onPointerMove:he(n.onPointerMove,_O(g=>{r?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:he(n.onPointerLeave,_O(g=>o.onItemLeave(g))),onFocus:he(n.onFocus,()=>d(!0)),onBlur:he(n.onBlur,()=>d(!1))})})})}),lRe="MenuCheckboxItem",gY=b.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:r,...i}=n;return h.jsx(wY,{scope:n.__scopeMenu,checked:t,children:h.jsx(KS,{role:"menuitemcheckbox","aria-checked":lb(t)?"mixed":t,...i,ref:e,"data-state":bI(t),onSelect:he(i.onSelect,()=>r==null?void 0:r(lb(t)?!0:!t),{checkForDefaultPrevented:!1})})})});gY.displayName=lRe;var OY="MenuRadioGroup",[cRe,uRe]=hh(OY,{value:void 0,onValueChange:()=>{}}),yY=b.forwardRef((n,e)=>{const{value:t,onValueChange:r,...i}=n,s=Ht(r);return h.jsx(cRe,{scope:n.__scopeMenu,value:t,onValueChange:s,children:h.jsx(xI,{...i,ref:e})})});yY.displayName=OY;var vY="MenuRadioItem",xY=b.forwardRef((n,e)=>{const{value:t,...r}=n,i=uRe(vY,n.__scopeMenu),s=t===i.value;return h.jsx(wY,{scope:n.__scopeMenu,checked:s,children:h.jsx(KS,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":bI(s),onSelect:he(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,t)},{checkForDefaultPrevented:!1})})})});xY.displayName=vY;var wI="MenuItemIndicator",[wY,hRe]=hh(wI,{checked:!1}),bY=b.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:r,...i}=n,s=hRe(wI,t);return h.jsx(ti,{present:r||lb(s.checked)||s.checked===!0,children:h.jsx(Qe.span,{...i,ref:e,"data-state":bI(s.checked)})})});bY.displayName=wI;var dRe="MenuSeparator",SY=b.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return h.jsx(Qe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});SY.displayName=dRe;var fRe="MenuArrow",kY=b.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,i=HS(t);return h.jsx(_8,{...i,...r,ref:e})});kY.displayName=fRe;var pRe="MenuSub",[EIe,_Y]=hh(pRe),wm="MenuSubTrigger",TY=b.forwardRef((n,e)=>{const t=dh(wm,n.__scopeMenu),r=my(wm,n.__scopeMenu),i=_Y(wm,n.__scopeMenu),s=yI(wm,n.__scopeMenu),o=b.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,c={__scopeMenu:n.__scopeMenu},u=b.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return b.useEffect(()=>u,[u]),b.useEffect(()=>{const d=a.current;return()=>{window.clearTimeout(d),l(null)}},[a,l]),h.jsx(gI,{asChild:!0,...c,children:h.jsx(mY,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":i.contentId,"data-state":EY(t.open),...n,ref:eS(e,i.onTriggerChange),onClick:d=>{var f;(f=n.onClick)==null||f.call(n,d),!(n.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:he(n.onPointerMove,_O(d=>{s.onItemEnter(d),!d.defaultPrevented&&!n.disabled&&!t.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{t.onOpenChange(!0),u()},100))})),onPointerLeave:he(n.onPointerLeave,_O(d=>{var m,g;u();const f=(m=t.content)==null?void 0:m.getBoundingClientRect();if(f){const y=(g=t.content)==null?void 0:g.dataset.side,x=y==="right",w=x?-5:5,k=f[x?"left":"right"],P=f[x?"right":"left"];s.onPointerGraceIntentChange({area:[{x:d.clientX+w,y:d.clientY},{x:k,y:f.top},{x:P,y:f.top},{x:P,y:f.bottom},{x:k,y:f.bottom}],side:y}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(d),d.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:he(n.onKeyDown,d=>{var m;const f=s.searchRef.current!=="";n.disabled||f&&d.key===" "||GAe[r.dir].includes(d.key)&&(t.onOpenChange(!0),(m=t.content)==null||m.focus(),d.preventDefault())})})})});TY.displayName=wm;var PY="MenuSubContent",CY=b.forwardRef((n,e)=>{const t=hY(cs,n.__scopeMenu),{forceMount:r=t.forceMount,...i}=n,s=dh(cs,n.__scopeMenu),o=my(cs,n.__scopeMenu),a=_Y(PY,n.__scopeMenu),l=b.useRef(null),c=Je(e,l);return h.jsx(kO.Provider,{scope:n.__scopeMenu,children:h.jsx(ti,{present:r||s.open,children:h.jsx(kO.Slot,{scope:n.__scopeMenu,children:h.jsx(vI,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var d;o.isUsingKeyboardRef.current&&((d=l.current)==null||d.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:he(n.onFocusOutside,u=>{u.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:he(n.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:he(n.onKeyDown,u=>{var m;const d=u.currentTarget.contains(u.target),f=YAe[o.dir].includes(u.key);d&&f&&(s.onOpenChange(!1),(m=a.trigger)==null||m.focus(),u.preventDefault())})})})})})});CY.displayName=PY;function EY(n){return n?"open":"closed"}function lb(n){return n==="indeterminate"}function bI(n){return lb(n)?"indeterminate":n?"checked":"unchecked"}function mRe(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function gRe(n,e){return n.map((t,r)=>n[(e+r)%n.length])}function ORe(n,e,t){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=t?n.indexOf(t):-1;let o=gRe(n,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==t));const l=o.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==t?l:void 0}function yRe(n,e){const{x:t,y:r}=n;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,u=e[o].y;l>r!=u>r&&t<(c-a)*(r-l)/(u-l)+a&&(i=!i)}return i}function vRe(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return yRe(t,e)}function _O(n){return e=>e.pointerType==="mouse"?n(e):void 0}var xRe=uY,wRe=gI,bRe=dY,SRe=fY,kRe=xI,_Re=pY,TRe=KS,PRe=gY,CRe=yY,ERe=xY,ARe=bY,RRe=SY,QRe=kY,NRe=TY,IRe=CY,SI="DropdownMenu",[$Re,AIe]=Jo(SI,[lY]),ni=lY(),[jRe,AY]=$Re(SI),RY=n=>{const{__scopeDropdownMenu:e,children:t,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=n,l=ni(e),c=b.useRef(null),[u=!1,d]=Ga({prop:i,defaultProp:s,onChange:o});return h.jsx(jRe,{scope:e,triggerId:Ao(),triggerRef:c,contentId:Ao(),open:u,onOpenChange:d,onOpenToggle:b.useCallback(()=>d(f=>!f),[d]),modal:a,children:h.jsx(xRe,{...l,open:u,onOpenChange:d,dir:r,modal:a,children:t})})};RY.displayName=SI;var QY="DropdownMenuTrigger",NY=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:r=!1,...i}=n,s=AY(QY,t),o=ni(t);return h.jsx(wRe,{asChild:!0,...o,children:h.jsx(Qe.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:eS(e,s.triggerRef),onPointerDown:he(n.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:he(n.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});NY.displayName=QY;var DRe="DropdownMenuPortal",IY=n=>{const{__scopeDropdownMenu:e,...t}=n,r=ni(e);return h.jsx(bRe,{...r,...t})};IY.displayName=DRe;var $Y="DropdownMenuContent",jY=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=AY($Y,t),s=ni(t),o=b.useRef(!1);return h.jsx(SRe,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:he(n.onCloseAutoFocus,a=>{var l;o.current||(l=i.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:he(n.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!i.modal||u)&&(o.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});jY.displayName=$Y;var MRe="DropdownMenuGroup",VRe=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=ni(t);return h.jsx(kRe,{...i,...r,ref:e})});VRe.displayName=MRe;var LRe="DropdownMenuLabel",DY=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=ni(t);return h.jsx(_Re,{...i,...r,ref:e})});DY.displayName=LRe;var URe="DropdownMenuItem",MY=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=ni(t);return h.jsx(TRe,{...i,...r,ref:e})});MY.displayName=URe;var zRe="DropdownMenuCheckboxItem",VY=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=ni(t);return h.jsx(PRe,{...i,...r,ref:e})});VY.displayName=zRe;var qRe="DropdownMenuRadioGroup",FRe=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=ni(t);return h.jsx(CRe,{...i,...r,ref:e})});FRe.displayName=qRe;var ZRe="DropdownMenuRadioItem",LY=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=ni(t);return h.jsx(ERe,{...i,...r,ref:e})});LY.displayName=ZRe;var BRe="DropdownMenuItemIndicator",UY=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=ni(t);return h.jsx(ARe,{...i,...r,ref:e})});UY.displayName=BRe;var WRe="DropdownMenuSeparator",zY=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=ni(t);return h.jsx(RRe,{...i,...r,ref:e})});zY.displayName=WRe;var XRe="DropdownMenuArrow",GRe=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=ni(t);return h.jsx(QRe,{...i,...r,ref:e})});GRe.displayName=XRe;var YRe="DropdownMenuSubTrigger",qY=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=ni(t);return h.jsx(NRe,{...i,...r,ref:e})});qY.displayName=YRe;var HRe="DropdownMenuSubContent",FY=b.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=ni(t);return h.jsx(IRe,{...i,...r,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});FY.displayName=HRe;var KRe=RY,JRe=NY,eQe=IY,ZY=jY,BY=DY,WY=MY,XY=VY,GY=LY,YY=UY,HY=zY,KY=qY,JY=FY;const eH=KRe,tH=JRe,tQe=b.forwardRef(({className:n,inset:e,children:t,...r},i)=>h.jsxs(KY,{ref:i,className:we("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",n),...r,children:[t,h.jsx(hZ,{className:"ml-auto h-4 w-4"})]}));tQe.displayName=KY.displayName;const nQe=b.forwardRef(({className:n,...e},t)=>h.jsx(JY,{ref:t,className:we("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...e}));nQe.displayName=JY.displayName;const kI=b.forwardRef(({className:n,sideOffset:e=4,...t},r)=>h.jsx(eQe,{children:h.jsx(ZY,{ref:r,sideOffset:e,className:we("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t})}));kI.displayName=ZY.displayName;const Au=b.forwardRef(({className:n,inset:e,...t},r)=>h.jsx(WY,{ref:r,className:we("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",n),...t}));Au.displayName=WY.displayName;const rQe=b.forwardRef(({className:n,children:e,checked:t,...r},i)=>h.jsxs(XY,{ref:i,className:we("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:t,...r,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(YY,{children:h.jsx(iS,{className:"h-4 w-4"})})}),e]}));rQe.displayName=XY.displayName;const iQe=b.forwardRef(({className:n,children:e,...t},r)=>h.jsxs(GY,{ref:r,className:we("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(YY,{children:h.jsx(Due,{className:"h-2 w-2 fill-current"})})}),e]}));iQe.displayName=GY.displayName;const sQe=b.forwardRef(({className:n,inset:e,...t},r)=>h.jsx(BY,{ref:r,className:we("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",n),...t}));sQe.displayName=BY.displayName;const oQe=b.forwardRef(({className:n,...e},t)=>h.jsx(HY,{ref:t,className:we("-mx-1 my-1 h-px bg-muted",n),...e}));oQe.displayName=HY.displayName;function nH(){const{user:n}=nn(),{toast:e}=In(),[t,r]=b.useState([]),[i,s]=b.useState([]),[o,a]=b.useState(!0),[l,c]=b.useState(""),[u,d]=b.useState("pending"),[f,m]=b.useState(null),[g,y]=b.useState(!1),[x,w]=b.useState(""),[k,P]=b.useState(7),[Q,C]=b.useState(!1);b.useEffect(()=>{(async()=>{if(n)try{a(!0);const E=Ie(Ee(re,"premiumRequests"),Fx("createdAt","desc")),V=(await je(E)).docs.map(U=>({id:U.id,...U.data()}));r(V),N(V,u,l)}catch(E){console.error("Error fetching premium requests:",E),e({variant:"destructive",title:"Error",description:"Failed to load premium feature requests."})}finally{a(!1)}})()},[n,e]);const N=(v,E,j)=>{let V=v;if(E!=="all"&&(V=V.filter(U=>U.status===E)),j.trim()!==""){const U=j.toLowerCase();V=V.filter(X=>{var D,L,Y;return((D=X.userEmail)==null?void 0:D.toLowerCase().includes(U))||((L=X.userName)==null?void 0:L.toLowerCase().includes(U))||((Y=X.requestedFeature)==null?void 0:Y.toLowerCase().includes(U))})}s(V)};b.useEffect(()=>{N(t,u,l)},[u,l,t]);const O=v=>new Date(v).toLocaleString(),T=v=>{m(v),w(""),P(7),y(!0)},S=async()=>{if(!(!f||!n))try{C(!0);const v=Date.now(),E=v+k*24*60*60*1e3;await wi(Ze(re,"premiumRequests",f.id),{status:"approved",reviewedBy:n.uid,reviewNotes:x,updatedAt:v,approvalStartDate:v,approvalEndDate:E,approvalDuration:k}),await wi(Ze(re,"users",f.userId),{temporaryPremiumAccess:!0,temporaryPremiumExpiry:E});const j=t.map(V=>V.id===f.id?{...V,status:"approved",reviewedBy:n.uid,reviewNotes:x,updatedAt:v,approvalStartDate:v,approvalEndDate:E,approvalDuration:k}:V);r(j),N(j,u,l),e({title:"Request Approved",description:`Premium access granted to user for ${k} days.`}),y(!1)}catch(v){console.error("Error approving request:",v),e({variant:"destructive",title:"Error",description:"Failed to approve the request."})}finally{C(!1)}},A=async()=>{if(!(!f||!n))try{C(!0);const v=Date.now();await wi(Ze(re,"premiumRequests",f.id),{status:"rejected",reviewedBy:n.uid,reviewNotes:x,updatedAt:v});const E=t.map(j=>j.id===f.id?{...j,status:"rejected",reviewedBy:n.uid,reviewNotes:x,updatedAt:v}:j);r(E),N(E,u,l),e({title:"Request Rejected",description:"Premium access request has been rejected."}),y(!1)}catch(v){console.error("Error rejecting request:",v),e({variant:"destructive",title:"Error",description:"Failed to reject the request."})}finally{C(!1)}},_=v=>{switch(v){case"approved":return h.jsxs(zn,{className:"bg-green-500",children:[h.jsx(_D,{className:"w-3 h-3 mr-1"})," Approved"]});case"rejected":return h.jsxs(zn,{variant:"destructive",children:[h.jsx(TD,{className:"w-3 h-3 mr-1"})," Rejected"]});case"pending":default:return h.jsxs(zn,{variant:"outline",children:[h.jsx(Mue,{className:"w-3 h-3 mr-1"})," Pending"]})}};return h.jsxs(en,{className:"w-full",children:[h.jsxs(kn,{children:[h.jsx(Yr,{children:"Premium Access Requests"}),h.jsx(il,{children:"Manage requests from users who want to try premium features"})]}),h.jsx(tn,{children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"relative w-full max-w-sm",children:[h.jsx(qf,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),h.jsx(Tt,{type:"search",placeholder:"Search by name, email or feature...",className:"pl-8",value:l,onChange:v=>c(v.target.value)})]}),h.jsx(np,{defaultValue:u,onValueChange:d,className:"w-[400px]",children:h.jsxs(uh,{className:"grid w-full grid-cols-3",children:[h.jsx(Qn,{value:"pending",children:"Pending"}),h.jsx(Qn,{value:"approved",children:"Approved"}),h.jsx(Qn,{value:"rejected",children:"Rejected"})]})})]}),o?h.jsx("div",{className:"text-center py-4",children:"Loading requests..."}):i.length===0?h.jsxs("div",{className:"text-center py-4 text-muted-foreground",children:["No ",u," requests found"]}):h.jsxs(XS,{children:[h.jsx(GS,{children:h.jsxs(uc,{children:[h.jsx(pi,{children:"User"}),h.jsx(pi,{children:"Feature"}),h.jsx(pi,{children:"Date"}),h.jsx(pi,{children:"Status"}),h.jsx(pi,{className:"text-right",children:"Actions"})]})}),h.jsx(YS,{children:i.map(v=>h.jsxs(uc,{children:[h.jsxs(qr,{children:[h.jsx("div",{className:"font-medium",children:v.userName||"Unknown"}),h.jsx("div",{className:"text-sm text-muted-foreground",children:v.userEmail})]}),h.jsx(qr,{children:v.requestedFeature}),h.jsx(qr,{children:O(v.createdAt)}),h.jsx(qr,{children:_(v.status)}),h.jsx(qr,{className:"text-right",children:h.jsx(K,{variant:"outline",size:"sm",onClick:()=>T(v),children:v.status==="pending"?"Review":"Details"})})]},v.id))})]})]})}),h.jsx(Ro,{open:g,onOpenChange:y,children:h.jsxs(js,{className:"max-w-2xl",children:[h.jsxs(Ds,{children:[h.jsx(Ms,{children:(f==null?void 0:f.status)==="pending"?"Review Premium Access Request":"Premium Access Request Details"}),h.jsx(Vs,{children:(f==null?void 0:f.status)==="pending"?"Review this request and decide whether to grant temporary premium access.":"View details of this premium access request."})]}),f&&h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[h.jsxs("div",{className:"col-span-2",children:[h.jsx(Ft,{className:"text-muted-foreground",children:"User Name"}),h.jsx("div",{children:f.userName||"Unknown"})]}),h.jsxs("div",{className:"col-span-2",children:[h.jsx(Ft,{className:"text-muted-foreground",children:"User Email"}),h.jsx("div",{children:f.userEmail})]}),h.jsxs("div",{className:"col-span-2",children:[h.jsx(Ft,{className:"text-muted-foreground",children:"User ID"}),h.jsx("div",{className:"font-mono text-xs",children:f.userId})]}),h.jsxs("div",{className:"col-span-2",children:[h.jsx(Ft,{className:"text-muted-foreground",children:"Requested Feature"}),h.jsx("div",{children:f.requestedFeature})]}),h.jsxs("div",{className:"col-span-4",children:[h.jsx(Ft,{className:"text-muted-foreground",children:"Request Message"}),h.jsx("div",{children:f.requestMessage||"No message provided"})]}),h.jsxs("div",{className:"col-span-2",children:[h.jsx(Ft,{className:"text-muted-foreground",children:"Date Requested"}),h.jsx("div",{children:O(f.createdAt)})]}),h.jsxs("div",{className:"col-span-2",children:[h.jsx(Ft,{className:"text-muted-foreground",children:"Status"}),h.jsx("div",{children:_(f.status)})]}),f.status!=="pending"&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"col-span-2",children:[h.jsx(Ft,{className:"text-muted-foreground",children:"Reviewed By"}),h.jsx("div",{children:f.reviewedBy||"Unknown"})]}),h.jsxs("div",{className:"col-span-2",children:[h.jsx(Ft,{className:"text-muted-foreground",children:"Review Date"}),h.jsx("div",{children:f.updatedAt?O(f.updatedAt):"Unknown"})]}),f.status==="approved"&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"col-span-2",children:[h.jsx(Ft,{className:"text-muted-foreground",children:"Access Duration"}),h.jsxs("div",{children:[f.approvalDuration||0," days"]})]}),h.jsxs("div",{className:"col-span-2",children:[h.jsx(Ft,{className:"text-muted-foreground",children:"Expiry Date"}),h.jsx("div",{children:f.approvalEndDate?O(f.approvalEndDate):"Unknown"})]})]})]}),h.jsxs("div",{className:"col-span-4",children:[h.jsx(Ft,{className:"text-muted-foreground",children:"Review Notes"}),f.status==="pending"?h.jsx(Yu,{placeholder:"Add notes about this request...",value:x,onChange:v=>w(v.target.value),className:"mt-2"}):h.jsx("div",{children:f.reviewNotes||"No review notes"})]})]}),f.status==="pending"&&h.jsx("div",{className:"space-y-4 mt-4",children:h.jsxs("div",{children:[h.jsx(Ft,{htmlFor:"approvalDuration",children:"Approval Duration (days)"}),h.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[h.jsx(Tt,{id:"approvalDuration",type:"number",min:1,max:365,value:k,onChange:v=>P(parseInt(v.target.value)||7),className:"w-24"}),h.jsx("span",{children:"days"})]})]})})]}),(f==null?void 0:f.status)==="pending"&&h.jsxs(ja,{children:[h.jsx(K,{variant:"outline",onClick:()=>y(!1),disabled:Q,children:"Cancel"}),h.jsxs(K,{variant:"destructive",onClick:A,disabled:Q,children:[h.jsx(TD,{className:"w-4 h-4 mr-2"}),"Reject"]}),h.jsxs(K,{onClick:S,disabled:Q,children:[h.jsx(_D,{className:"w-4 h-4 mr-2"}),"Approve"]})]})]})})]})}function aQe(){const[,n]=ei(),{user:e}=nn(),{toast:t}=In(),[r,i]=b.useState([]),[s,o]=b.useState(!0),[a,l]=b.useState(""),[c,u]=b.useState([]),[d,f]=b.useState(null),[m,g]=b.useState(!1),[y,x]=b.useState(!1);b.useEffect(()=>{(async()=>{if(e)try{o(!0);const C=Ie(Ee(re,"users")),O=(await je(C)).docs.map(T=>({id:T.id,...T.data()}));i(O),u(O)}catch(C){console.error("Error fetching users:",C),t({variant:"destructive",title:"Error",description:"Failed to load users."})}finally{o(!1)}})()},[e,t]),b.useEffect(()=>{if(a.trim()===""){u(r);return}const Q=a.toLowerCase(),C=r.filter(N=>{var O,T;return((O=N.email)==null?void 0:O.toLowerCase().includes(Q))||((T=N.displayName)==null?void 0:T.toLowerCase().includes(Q))});u(C)},[a,r]);const w={FREE:"free",PAID:"paid",ADMIN:"admin"},k=async(Q,C)=>{try{const N={role:C,isAdmin:C===w.ADMIN};await wi(Ze(re,"users",Q),N),i(O=>O.map(T=>T.id===Q?{...T,role:C,isAdmin:C===w.ADMIN}:T)),u(O=>O.map(T=>T.id===Q?{...T,role:C,isAdmin:C===w.ADMIN}:T)),t({title:"Success",description:`User role updated to ${C} successfully.`})}catch(N){console.error("Error updating user role:",N),t({variant:"destructive",title:"Error",description:"Failed to update user role."})}},P=async Q=>{if(Q)try{g(!0);const C=Wb(re),N=Ie(Ee(re,"snippets"),Ae("userId","==",Q));(await je(N)).docs.forEach(U=>{C.delete(U.ref)});const T=Ie(Ee(re,"notes"),Ae("userId","==",Q));(await je(T)).docs.forEach(U=>{C.delete(U.ref)});const A=Ie(Ee(re,"checklists"),Ae("userId","==",Q));(await je(A)).docs.forEach(U=>{C.delete(U.ref)});const v=Ie(Ee(re,"projects"),Ae("userId","==",Q));(await je(v)).docs.forEach(U=>{C.delete(U.ref)});const j=Ie(Ee(re,"backups"),Ae("userId","==",Q));(await je(j)).docs.forEach(U=>{C.delete(U.ref)});try{const U=Kd(bg,`backups/${Q}`),D=(await sQ(U)).items.map(L=>Jb(L));await Promise.all(D)}catch(U){console.error("Error deleting storage files:",U)}C.delete(Ze(re,"users",Q)),await C.commit(),i(U=>U.filter(X=>X.id!==Q)),u(U=>U.filter(X=>X.id!==Q)),t({title:"Success",description:"User and all associated data deleted successfully."})}catch(C){console.error("Error deleting user:",C),t({variant:"destructive",title:"Error",description:"Failed to delete user and their data."})}finally{g(!1),x(!1),f(null)}};return h.jsxs(rr,{children:[h.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsxs(K,{variant:"ghost",onClick:()=>n("/"),className:"mr-4",children:[h.jsx(Fs,{className:"h-4 w-4 mr-2"}),"Back"]}),h.jsx("h1",{className:"text-2xl font-bold",children:"Admin Dashboard"})]}),h.jsxs(K,{onClick:()=>{o(!0),(async()=>{try{const C=Ie(Ee(re,"users")),O=(await je(C)).docs.map(T=>({id:T.id,...T.data()}));i(O),u(O),t({title:"Success",description:"User list refreshed."})}catch(C){console.error("Error refreshing users:",C),t({variant:"destructive",title:"Error",description:"Failed to refresh users."})}finally{o(!1)}})()},variant:"outline",size:"sm",className:"flex items-center gap-2",children:[h.jsx(kP,{className:"h-4 w-4"}),"Refresh"]})]}),h.jsxs(en,{children:[h.jsxs(kn,{children:[h.jsx(Yr,{children:"User Management"}),h.jsx(il,{children:"Manage user accounts and admin privileges"})]}),h.jsxs(tn,{children:[h.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[h.jsx(Tt,{placeholder:"Search users by email or name...",value:a,onChange:Q=>l(Q.target.value),className:"max-w-sm"}),h.jsx(K,{size:"icon",variant:"ghost",children:h.jsx(qf,{className:"h-4 w-4"})})]}),s?h.jsx("div",{className:"text-center py-4",children:"Loading users..."}):h.jsx("div",{className:"border rounded-md",children:h.jsxs(XS,{children:[h.jsx(GS,{children:h.jsxs(uc,{children:[h.jsx(pi,{children:"Email"}),h.jsx(pi,{children:"Display Name"}),h.jsx(pi,{children:"Created At"}),h.jsx(pi,{children:"User Role"}),h.jsx(pi,{children:"Actions"})]})}),h.jsx(YS,{children:c.length===0?h.jsx(uc,{children:h.jsx(qr,{colSpan:5,className:"text-center py-4",children:"No users found"})}):c.map(Q=>{var C;return h.jsxs(uc,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>n(`/admin/users/${Q.id}`),children:[h.jsx(qr,{children:Q.email}),h.jsx(qr,{children:Q.displayName||"Not set"}),h.jsx(qr,{children:(C=Q.createdAt)!=null&&C.toDate?Q.createdAt.toDate().toLocaleDateString():"Unknown"}),h.jsx(qr,{children:h.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${Q.role==="admin"||Q.role==="paid"?"bg-amber-100 text-amber-800 border border-amber-300":"bg-blue-100 text-blue-800 border border-blue-300"}`,children:Q.role==="admin"?"Admin":Q.role==="paid"?"Paid":Q.role==="free"?"Free":"No Role"})}),h.jsxs(qr,{onClick:N=>N.stopPropagation(),children:[" ",h.jsx("div",{className:"flex items-center gap-2",children:h.jsxs(eH,{children:[h.jsx(tH,{asChild:!0,children:h.jsxs(K,{variant:"ghost",size:"sm",className:"flex items-center gap-1",children:[h.jsx(fu,{className:"h-4 w-4"}),"Change Role"]})}),h.jsxs(kI,{children:[h.jsx(Au,{onClick:()=>k(Q.id,w.FREE),children:"Set as Free User"}),h.jsx(Au,{onClick:()=>k(Q.id,w.PAID),children:"Set as Paid User"}),h.jsx(Au,{onClick:()=>k(Q.id,w.ADMIN),children:"Set as Admin User"})]})]})})]})]},Q.id)})})]})})]})]}),h.jsxs(en,{children:[h.jsxs(kn,{children:[h.jsx(Yr,{children:"System Statistics"}),h.jsx(il,{children:"Overview of system usage and content"})]}),h.jsx(tn,{children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{className:"bg-primary/10 p-4 rounded-lg",children:[h.jsx("h3",{className:"text-sm font-medium",children:"Total Users"}),h.jsx("p",{className:"text-2xl font-bold",children:r.length})]}),h.jsxs("div",{className:"bg-amber-100 p-4 rounded-lg border border-amber-300",children:[h.jsx("h3",{className:"text-sm font-medium text-amber-800",children:"Admin Users"}),h.jsx("p",{className:"text-2xl font-bold text-amber-800",children:r.filter(Q=>Q.role==="admin").length})]}),h.jsxs("div",{className:"bg-amber-100 p-4 rounded-lg border border-amber-300",children:[h.jsx("h3",{className:"text-sm font-medium text-amber-800",children:"Paid Users"}),h.jsx("p",{className:"text-2xl font-bold text-amber-800",children:r.filter(Q=>Q.role==="paid").length})]}),h.jsxs("div",{className:"bg-blue-100 p-4 rounded-lg border border-blue-300",children:[h.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Free Users"}),h.jsx("p",{className:"text-2xl font-bold text-blue-800",children:r.filter(Q=>Q.role==="free").length})]})]})})]}),h.jsx(nH,{})]}),h.jsx(Ro,{open:y,onOpenChange:x,children:h.jsxs(js,{children:[h.jsxs(Ds,{children:[h.jsx(Ms,{children:"Delete User"}),h.jsx(Vs,{children:"Are you sure you want to delete this user? This will permanently remove the user and all their data including snippets, notes, checklists, projects, and backups."})]}),h.jsx("div",{className:"py-4",children:d&&h.jsxs("div",{className:"space-y-2",children:[h.jsxs("p",{children:[h.jsx("strong",{children:"Email:"})," ",d.email]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Display Name:"})," ",d.displayName||"Not set"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Role:"})," ",d.role||"No Role"]})]})}),h.jsxs(ja,{children:[h.jsx(K,{variant:"outline",onClick:()=>{x(!1),f(null)},disabled:m,children:"Cancel"}),h.jsx(K,{variant:"destructive",onClick:()=>d&&P(d.id),disabled:m,children:m?"Deleting...":"Delete User"})]})]})})]})}const lQe=FB,cQe=ZB,uQe=BB,rH=b.forwardRef(({className:n,...e},t)=>h.jsx(gS,{className:we("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e,ref:t}));rH.displayName=gS.displayName;const hQe=Uf("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),iH=b.forwardRef(({side:n="right",className:e,children:t,...r},i)=>h.jsxs(uQe,{children:[h.jsx(rH,{}),h.jsxs(OS,{ref:i,className:we(hQe({side:n}),e),...r,children:[t,h.jsxs(WB,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[h.jsx(Zf,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));iH.displayName=OS.displayName;const dQe=b.forwardRef(({className:n,...e},t)=>h.jsx(yS,{ref:t,className:we("text-lg font-semibold text-foreground",n),...e}));dQe.displayName=yS.displayName;const fQe=b.forwardRef(({className:n,...e},t)=>h.jsx(vS,{ref:t,className:we("text-sm text-muted-foreground",n),...e}));fQe.displayName=vS.displayName;function pQe(){const[,n]=ei(),{user:e}=nn(),{toast:t}=In(),[r,i]=b.useState([]),[s,o]=b.useState(!0),[a,l]=b.useState(""),[c,u]=b.useState([]),[d,f]=b.useState(null),[m,g]=b.useState(!1),[y,x]=b.useState(!1),[w,k]=b.useState("users"),[P,Q]=b.useState(!1);sI(),b.useEffect(()=>{(async()=>{if(e)try{o(!0);const v=Ie(Ee(re,"users")),j=(await je(v)).docs.map(V=>({id:V.id,...V.data()}));i(j),u(j)}catch(v){console.error("Error fetching users:",v),t({variant:"destructive",title:"Error",description:"Failed to load users."})}finally{o(!1)}})()},[e,t]),b.useEffect(()=>{if(a.trim()===""){u(r);return}const _=a.toLowerCase(),v=r.filter(E=>{var j,V;return((j=E.email)==null?void 0:j.toLowerCase().includes(_))||((V=E.displayName)==null?void 0:V.toLowerCase().includes(_))});u(v)},[a,r]);const C={FREE:"free",PAID:"paid",ADMIN:"admin"},N=async(_,v)=>{try{const E={role:v,isAdmin:v===C.ADMIN};await wi(Ze(re,"users",_),E),i(j=>j.map(V=>V.id===_?{...V,role:v,isAdmin:v===C.ADMIN}:V)),u(j=>j.map(V=>V.id===_?{...V,role:v,isAdmin:v===C.ADMIN}:V)),t({title:"Success",description:`User role updated to ${v} successfully.`})}catch(E){console.error("Error updating user role:",E),t({variant:"destructive",title:"Error",description:"Failed to update user role."})}},O=async _=>{if(_)try{g(!0);const v=Wb(re),E=Ie(Ee(re,"snippets"),Ae("userId","==",_));(await je(E)).docs.forEach(B=>{v.delete(B.ref)});const V=Ie(Ee(re,"notes"),Ae("userId","==",_));(await je(V)).docs.forEach(B=>{v.delete(B.ref)});const X=Ie(Ee(re,"checklists"),Ae("userId","==",_));(await je(X)).docs.forEach(B=>{v.delete(B.ref)});const L=Ie(Ee(re,"projects"),Ae("userId","==",_));(await je(L)).docs.forEach(B=>{v.delete(B.ref)});const Z=Ie(Ee(re,"backups"),Ae("userId","==",_));(await je(Z)).docs.forEach(B=>{v.delete(B.ref)});try{const B=Kd(bg,`backups/${_}`),ae=(await sQ(B)).items.map(oe=>Jb(oe));await Promise.all(ae)}catch(B){console.error("Error deleting storage files:",B)}v.delete(Ze(re,"users",_)),await v.commit(),i(B=>B.filter(J=>J.id!==_)),u(B=>B.filter(J=>J.id!==_)),t({title:"Success",description:"User and all associated data deleted successfully."})}catch(v){console.error("Error deleting user:",v),t({variant:"destructive",title:"Error",description:"Failed to delete user and their data."})}finally{g(!1),x(!1),f(null)}},T=()=>h.jsxs(lQe,{open:P,onOpenChange:Q,children:[h.jsx(cQe,{asChild:!0,children:h.jsx(K,{variant:"ghost",size:"icon",className:"md:hidden",children:h.jsx(Fue,{className:"h-5 w-5"})})}),h.jsx(iH,{side:"left",className:"w-[240px] sm:w-[300px]",children:h.jsxs("div",{className:"flex flex-col h-full",children:[h.jsxs("div",{className:"flex items-center justify-between py-2",children:[h.jsx("h2",{className:"text-lg font-semibold",children:"Admin Dashboard"}),h.jsx(K,{variant:"ghost",size:"icon",onClick:()=>Q(!1),children:h.jsx(Zf,{className:"h-4 w-4"})})]}),h.jsx(OQ,{className:"flex-1",children:h.jsxs("div",{className:"space-y-2 py-4",children:[h.jsxs(K,{variant:w==="users"?"default":"ghost",className:"w-full justify-start",onClick:()=>{k("users"),Q(!1)},children:[h.jsx(mZ,{className:"mr-2 h-4 w-4"}),"User Management"]}),h.jsxs(K,{variant:w==="stats"?"default":"ghost",className:"w-full justify-start",onClick:()=>{k("stats"),Q(!1)},children:[h.jsx(kP,{className:"mr-2 h-4 w-4"}),"System Statistics"]}),h.jsxs(K,{variant:w==="requests"?"default":"ghost",className:"w-full justify-start",onClick:()=>{k("requests"),Q(!1)},children:[h.jsx(fu,{className:"mr-2 h-4 w-4"}),"Premium Requests"]})]})}),h.jsx("div",{className:"border-t pt-4",children:h.jsxs(K,{variant:"outline",className:"w-full justify-start",onClick:()=>n("/"),children:[h.jsx(Fs,{className:"mr-2 h-4 w-4"}),"Back to App"]})})]})})]}),S=_=>{var v;return h.jsx(en,{className:"mb-4",children:h.jsx(tn,{className:"pt-6",children:h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{children:[h.jsx("span",{className:"text-sm text-muted-foreground",children:"Email:"}),h.jsx("div",{className:"font-medium",children:_.email})]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-sm text-muted-foreground",children:"Name:"}),h.jsx("div",{children:_.displayName||"Not set"})]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-sm text-muted-foreground",children:"Created:"}),h.jsx("div",{children:(v=_.createdAt)!=null&&v.toDate?_.createdAt.toDate().toLocaleDateString():"Unknown"})]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-sm text-muted-foreground",children:"Role:"}),h.jsx("div",{children:h.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${_.role==="admin"||_.role==="paid"?"bg-amber-100 text-amber-800 border border-amber-300":"bg-blue-100 text-blue-800 border border-blue-300"}`,children:_.role==="admin"?"Admin":_.role==="paid"?"Paid":_.role==="free"?"Free":"No Role"})})]}),h.jsxs("div",{className:"pt-2 flex flex-wrap gap-2",children:[h.jsxs(eH,{children:[h.jsx(tH,{asChild:!0,children:h.jsxs(K,{variant:"outline",size:"sm",className:"flex items-center gap-1",children:[h.jsx(fu,{className:"h-4 w-4"}),"Change Role"]})}),h.jsxs(kI,{children:[h.jsx(Au,{onClick:()=>N(_.id,C.FREE),children:"Set as Free User"}),h.jsx(Au,{onClick:()=>N(_.id,C.PAID),children:"Set as Paid User"}),h.jsx(Au,{onClick:()=>N(_.id,C.ADMIN),children:"Set as Admin User"})]})]}),h.jsxs(K,{variant:"destructive",size:"sm",onClick:()=>{f(_),x(!0)},children:[h.jsx(sS,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]})})},_.id)},A=()=>h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"bg-primary/10 p-4 rounded-lg",children:[h.jsx("h3",{className:"text-sm font-medium",children:"Total Users"}),h.jsx("p",{className:"text-2xl font-bold",children:r.length})]}),h.jsxs("div",{className:"bg-amber-100 p-4 rounded-lg border border-amber-300",children:[h.jsx("h3",{className:"text-sm font-medium text-amber-800",children:"Admin Users"}),h.jsx("p",{className:"text-2xl font-bold text-amber-800",children:r.filter(_=>_.role==="admin").length})]}),h.jsxs("div",{className:"bg-amber-100 p-4 rounded-lg border border-amber-300",children:[h.jsx("h3",{className:"text-sm font-medium text-amber-800",children:"Paid Users"}),h.jsx("p",{className:"text-2xl font-bold text-amber-800",children:r.filter(_=>_.role==="paid").length})]}),h.jsxs("div",{className:"bg-blue-100 p-4 rounded-lg border border-blue-300",children:[h.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Free Users"}),h.jsx("p",{className:"text-2xl font-bold text-blue-800",children:r.filter(_=>_.role==="free").length})]})]});return h.jsxs(rr,{children:[h.jsxs("div",{className:"p-4 space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(K,{variant:"ghost",onClick:()=>n("/"),size:"sm",className:"md:hidden",children:h.jsx(Fs,{className:"h-4 w-4"})}),h.jsx("h1",{className:"text-xl font-bold",children:"Admin Dashboard"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(T,{}),h.jsx(K,{onClick:()=>{o(!0),(async()=>{try{const v=Ie(Ee(re,"users")),j=(await je(v)).docs.map(V=>({id:V.id,...V.data()}));i(j),u(j),t({title:"Success",description:"User list refreshed."})}catch(v){console.error("Error refreshing users:",v),t({variant:"destructive",title:"Error",description:"Failed to refresh users."})}finally{o(!1)}})()},variant:"outline",size:"icon",children:h.jsx(kP,{className:"h-4 w-4"})})]})]}),h.jsx(np,{value:w,onValueChange:k,className:"w-full",children:h.jsxs(uh,{className:"grid w-full grid-cols-3",children:[h.jsx(Qn,{value:"users",children:"Users"}),h.jsx(Qn,{value:"stats",children:"Stats"}),h.jsx(Qn,{value:"requests",children:"Requests"})]})}),w==="users"&&h.jsx("div",{className:"space-y-4",children:h.jsxs(en,{children:[h.jsxs(kn,{className:"pb-2",children:[h.jsx(Yr,{className:"text-lg",children:"User Management"}),h.jsx(il,{children:"Manage user accounts and admin privileges"})]}),h.jsxs(tn,{children:[h.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[h.jsx(Tt,{placeholder:"Search users...",value:a,onChange:_=>l(_.target.value),className:"w-full"}),h.jsx(K,{size:"icon",variant:"ghost",children:h.jsx(qf,{className:"h-4 w-4"})})]}),s?h.jsx("div",{className:"text-center py-4",children:"Loading users..."}):c.length===0?h.jsx("div",{className:"text-center py-4",children:"No users found"}):h.jsx("div",{className:"space-y-4",children:c.map(_=>S(_))})]})]})}),w==="stats"&&h.jsxs(en,{children:[h.jsxs(kn,{children:[h.jsx(Yr,{className:"text-lg",children:"System Statistics"}),h.jsx(il,{children:"Overview of system usage and content"})]}),h.jsx(tn,{children:A()})]}),w==="requests"&&h.jsx("div",{className:"space-y-4",children:h.jsx(nH,{})})]}),h.jsx(Ro,{open:y,onOpenChange:x,children:h.jsxs(js,{children:[h.jsxs(Ds,{children:[h.jsx(Ms,{children:"Delete User"}),h.jsx(Vs,{children:"Are you sure you want to delete this user? This will permanently remove the user and all their data including snippets, notes, checklists, projects, and backups."})]}),h.jsx("div",{className:"py-4",children:d&&h.jsxs("div",{className:"space-y-2",children:[h.jsxs("p",{children:[h.jsx("strong",{children:"Email:"})," ",d.email]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Display Name:"})," ",d.displayName||"Not set"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Role:"})," ",d.role||"No Role"]})]})}),h.jsxs(ja,{children:[h.jsx(K,{variant:"outline",onClick:()=>{x(!1),f(null)},disabled:m,children:"Cancel"}),h.jsx(K,{variant:"destructive",onClick:()=>d&&O(d.id),disabled:m,children:m?"Deleting...":"Delete User"})]})]})})]})}function mQe(){const[,n]=ei(),[,e]=lte("/admin/users/:id"),t=e==null?void 0:e.id,{user:r}=nn(),{toast:i}=In(),[s,o]=b.useState(null),[a,l]=b.useState(!0),[c,u]=b.useState(!1),[d,f]=b.useState(""),[m,g]=b.useState(""),[y,x]=b.useState("free"),[w,k]=b.useState(""),[P,Q]=b.useState(!1),[C,N]=b.useState(!1),[O,T]=b.useState({snippets:0,notes:0,checklists:0,projects:0,backups:0}),S={FREE:"free",PAID:"paid",ADMIN:"admin"};b.useEffect(()=>{(async()=>{if(!(!r||!t))try{l(!0);const j=Ze(re,"users",t),V=await bi(j);if(V.exists()){const U=V.data();if(o({id:t,...U}),f(U.email||""),g(U.displayName||""),x(U.role||"free"),U.createdAt){const X=U.createdAt.toDate?U.createdAt.toDate():new Date(U.createdAt);k(X.toLocaleString())}else k("Unknown");await A(t)}else i({variant:"destructive",title:"Error",description:"User not found."}),n("/admin")}catch(j){console.error("Error fetching user data:",j),i({variant:"destructive",title:"Error",description:"Failed to load user data."})}finally{l(!1)}})()},[r,t,i,n]);const A=async E=>{try{const j={snippets:0,notes:0,checklists:0,projects:0,backups:0},V=Ie(Ee(re,"snippets"),Ae("userId","==",E)),U=await je(V);j.snippets=U.size;const X=Ie(Ee(re,"notes"),Ae("userId","==",E)),D=await je(X);j.notes=D.size;const L=Ie(Ee(re,"checklists"),Ae("userId","==",E)),Y=await je(L);j.checklists=Y.size;const Z=Ie(Ee(re,"projects"),Ae("userId","==",E)),F=await je(Z);j.projects=F.size;const B=Ie(Ee(re,"backups"),Ae("userId","==",E)),J=await je(B);j.backups=J.size,T(j)}catch(j){console.error("Error fetching user stats:",j)}},_=async()=>{if(t)try{u(!0);const E={displayName:m,email:d,role:y,isAdmin:y===S.ADMIN};await wi(Ze(re,"users",t),E),o(j=>({...j,...E})),i({title:"Success",description:"User information updated successfully."})}catch(E){console.error("Error updating user:",E),i({variant:"destructive",title:"Error",description:"Failed to update user information."})}finally{u(!1)}},v=async()=>{if(t)try{N(!0);const E=Wb(re),j=Ie(Ee(re,"snippets"),Ae("userId","==",t));(await je(j)).docs.forEach(J=>{E.delete(J.ref)});const U=Ie(Ee(re,"notes"),Ae("userId","==",t));(await je(U)).docs.forEach(J=>{E.delete(J.ref)});const D=Ie(Ee(re,"checklists"),Ae("userId","==",t));(await je(D)).docs.forEach(J=>{E.delete(J.ref)});const Y=Ie(Ee(re,"projects"),Ae("userId","==",t));(await je(Y)).docs.forEach(J=>{E.delete(J.ref)});const F=Ie(Ee(re,"backups"),Ae("userId","==",t));(await je(F)).docs.forEach(J=>{E.delete(J.ref)});try{const J=Kd(bg,`backups/${t}`),oe=(await sQ(J)).items.map(ie=>Jb(ie));await Promise.all(oe)}catch(J){console.error("Error deleting storage files:",J)}E.delete(Ze(re,"users",t)),await E.commit(),i({title:"Success",description:"User and all associated data deleted successfully."}),n("/admin")}catch(E){console.error("Error deleting user:",E),i({variant:"destructive",title:"Error",description:"Failed to delete user and their data."})}finally{N(!1),Q(!1)}};return h.jsx(rr,{children:h.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[h.jsx("div",{className:"flex items-center justify-between mb-6",children:h.jsxs("div",{className:"flex items-center",children:[h.jsxs(K,{variant:"ghost",onClick:()=>n("/admin"),className:"mr-4",children:[h.jsx(Fs,{className:"h-4 w-4 mr-2"}),"Back to Admin Dashboard"]}),h.jsx("h1",{className:"text-2xl font-bold",children:"User Details"})]})}),a?h.jsx("div",{className:"text-center py-8",children:"Loading user data..."}):h.jsxs(h.Fragment,{children:[h.jsxs(en,{children:[h.jsxs(kn,{children:[h.jsx(Yr,{children:"User Information"}),h.jsx(il,{children:"View and edit user details"})]}),h.jsx(tn,{children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Ft,{htmlFor:"email",children:"Email"}),h.jsx(Tt,{id:"email",value:d,onChange:E=>f(E.target.value),placeholder:"User email"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Ft,{htmlFor:"displayName",children:"Display Name"}),h.jsx(Tt,{id:"displayName",value:m,onChange:E=>g(E.target.value),placeholder:"User display name"})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Ft,{htmlFor:"role",children:"User Role"}),h.jsxs(tI,{value:y,onValueChange:x,children:[h.jsx(qS,{id:"role",children:h.jsx(nI,{placeholder:"Select role"})}),h.jsxs(FS,{children:[h.jsx(lc,{value:S.FREE,children:"Free User"}),h.jsx(lc,{value:S.PAID,children:"Paid User"}),h.jsx(lc,{value:S.ADMIN,children:"Admin User"})]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Ft,{children:"Created At"}),h.jsx("div",{className:"h-10 px-3 py-2 rounded-md border border-input bg-background text-sm",children:w})]})]}),h.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[h.jsxs(K,{variant:"destructive",onClick:()=>Q(!0),disabled:t===(r==null?void 0:r.uid),children:[h.jsx(sS,{className:"h-4 w-4 mr-2"}),"Delete User"]}),h.jsxs(K,{onClick:_,disabled:c,children:[h.jsx(Bue,{className:"h-4 w-4 mr-2"}),c?"Saving...":"Save Changes"]})]})]})})]}),h.jsxs(en,{children:[h.jsxs(kn,{children:[h.jsx(Yr,{children:"User Statistics"}),h.jsx(il,{children:"Overview of user content and activity"})]}),h.jsx(tn,{children:h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[h.jsxs("div",{className:"bg-primary/10 p-4 rounded-lg",children:[h.jsx("h3",{className:"text-sm font-medium",children:"Snippets"}),h.jsx("p",{className:"text-2xl font-bold",children:O.snippets})]}),h.jsxs("div",{className:"bg-primary/10 p-4 rounded-lg",children:[h.jsx("h3",{className:"text-sm font-medium",children:"Notes"}),h.jsx("p",{className:"text-2xl font-bold",children:O.notes})]}),h.jsxs("div",{className:"bg-primary/10 p-4 rounded-lg",children:[h.jsx("h3",{className:"text-sm font-medium",children:"Checklists"}),h.jsx("p",{className:"text-2xl font-bold",children:O.checklists})]}),h.jsxs("div",{className:"bg-primary/10 p-4 rounded-lg",children:[h.jsx("h3",{className:"text-sm font-medium",children:"Projects"}),h.jsx("p",{className:"text-2xl font-bold",children:O.projects})]}),h.jsxs("div",{className:"bg-primary/10 p-4 rounded-lg",children:[h.jsx("h3",{className:"text-sm font-medium",children:"Backups"}),h.jsx("p",{className:"text-2xl font-bold",children:O.backups})]})]})})]})]}),h.jsx(Ro,{open:P,onOpenChange:Q,children:h.jsxs(js,{children:[h.jsxs(Ds,{children:[h.jsx(Ms,{children:"Delete User"}),h.jsx(Vs,{children:"Are you sure you want to delete this user? This will permanently remove the user and all their data including snippets, notes, checklists, projects, and backups."})]}),h.jsx("div",{className:"py-4",children:s&&h.jsxs("div",{className:"space-y-2",children:[h.jsxs("p",{children:[h.jsx("strong",{children:"Email:"})," ",s.email]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Display Name:"})," ",s.displayName||"Not set"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Role:"})," ",s.role||"No Role"]})]})}),h.jsxs(ja,{children:[h.jsx(K,{variant:"outline",onClick:()=>{Q(!1)},disabled:C,children:"Cancel"}),h.jsx(K,{variant:"destructive",onClick:v,disabled:C,children:C?"Deleting...":"Delete User"})]})]})})]})})}function fa({component:n}){const{user:e,isLoading:t}=nn(),[,r]=ei();return b.useEffect(()=>{!t&&!e&&r("/auth")},[e,t,r]),t?h.jsx("div",{children:"Loading..."}):e?h.jsx(n,{}):null}function KL({component:n}){const{user:e,isLoading:t}=nn(),[,r]=ei(),[i,s]=b.useState(!1);return b.useEffect(()=>{t||(async()=>{if(!e){r("/auth");return}try{const a=await bi(Ze(re,"users",e.uid));if(a.exists()){const l=a.data();s(!!l.isAdmin),l.isAdmin||r("/")}else r("/")}catch(a){console.error("Error checking admin status:",a),r("/")}})()},[e,t,r]),t?h.jsx("div",{children:"Loading..."}):e&&i?h.jsx(n,{}):null}function gQe(){return h.jsxs(hte,{children:[h.jsx(ki,{path:"/auth",component:dAe}),h.jsx(ki,{path:"/",component:()=>h.jsx(fa,{component:uAe})}),h.jsx(ki,{path:"/settings",component:()=>h.jsx(fa,{component:IAe})}),h.jsx(ki,{path:"/projects",component:()=>h.jsx(fa,{component:UAe})}),h.jsx(ki,{path:"/profile",component:()=>h.jsx(fa,{component:ZAe})}),h.jsx(ki,{path:"/search",component:()=>h.jsx(fa,{component:BAe})}),h.jsx(ki,{path:"/admin",component:()=>{const n=sI();return h.jsx(KL,{component:n?pQe:aQe})}}),h.jsx(ki,{path:"/admin/users/:id",component:()=>h.jsx(KL,{component:mQe})}),h.jsx(ki,{path:"/snippets/:id",component:()=>h.jsx(fa,{component:jAe})}),h.jsx(ki,{path:"/notes/:id",component:()=>h.jsx(fa,{component:DAe})}),h.jsx(ki,{path:"/checklists/:id",component:()=>h.jsx(fa,{component:MAe})}),h.jsx(ki,{path:"/tags/:tag",component:()=>h.jsx(fa,{component:VAe})}),h.jsx(ki,{component:$Ae})]})}function OQe(){return dQ(),AZ(),h.jsxs(h.Fragment,{children:[h.jsx(gQe,{}),h.jsx(Qhe,{})]})}Sz(document.getElementById("root")).render(h.jsx(bee,{client:Dz,children:h.jsx(OQe,{})}));
