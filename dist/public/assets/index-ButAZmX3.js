var rI=n=>{throw TypeError(n)};var wS=(n,e,t)=>e.has(n)||rI("Cannot "+t);var z=(n,e,t)=>(wS(n,e,"read from private field"),t?t.call(n):e.get(n)),je=(n,e,t)=>e.has(n)?rI("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),we=(n,e,t,r)=>(wS(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),Xe=(n,e,t)=>(wS(n,e,"access private method"),t);var oy=(n,e,t,r)=>({set _(i){we(n,e,i,t)},get _(){return z(n,e,r)}});function CG(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function BL(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var FL={exports:{}},Qx={},WL={exports:{}},et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oO=Symbol.for("react.element"),EG=Symbol.for("react.portal"),AG=Symbol.for("react.fragment"),RG=Symbol.for("react.strict_mode"),QG=Symbol.for("react.profiler"),$G=Symbol.for("react.provider"),IG=Symbol.for("react.context"),NG=Symbol.for("react.forward_ref"),jG=Symbol.for("react.suspense"),DG=Symbol.for("react.memo"),MG=Symbol.for("react.lazy"),iI=Symbol.iterator;function VG(n){return n===null||typeof n!="object"?null:(n=iI&&n[iI]||n["@@iterator"],typeof n=="function"?n:null)}var XL={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},GL=Object.assign,YL={};function df(n,e,t){this.props=n,this.context=e,this.refs=YL,this.updater=t||XL}df.prototype.isReactComponent={};df.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};df.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function HL(){}HL.prototype=df.prototype;function oE(n,e,t){this.props=n,this.context=e,this.refs=YL,this.updater=t||XL}var aE=oE.prototype=new HL;aE.constructor=oE;GL(aE,df.prototype);aE.isPureReactComponent=!0;var sI=Array.isArray,KL=Object.prototype.hasOwnProperty,lE={current:null},JL={key:!0,ref:!0,__self:!0,__source:!0};function e4(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)KL.call(e,r)&&!JL.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:oO,type:n,key:s,ref:o,props:i,_owner:lE.current}}function LG(n,e){return{$$typeof:oO,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function cE(n){return typeof n=="object"&&n!==null&&n.$$typeof===oO}function zG(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var oI=/\/+/g;function xS(n,e){return typeof n=="object"&&n!==null&&n.key!=null?zG(""+n.key):e.toString(36)}function v0(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case oO:case EG:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+xS(o,0):r,sI(i)?(t="",n!=null&&(t=n.replace(oI,"$&/")+"/"),v0(i,e,t,"",function(c){return c})):i!=null&&(cE(i)&&(i=LG(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(oI,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",sI(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+xS(s,a);o+=v0(s,e,t,l,i)}else if(l=VG(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+xS(s,a++),o+=v0(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ay(n,e,t){if(n==null)return n;var r=[],i=0;return v0(n,r,"","",function(s){return e.call(t,s,i++)}),r}function UG(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Ur={current:null},w0={transition:null},qG={ReactCurrentDispatcher:Ur,ReactCurrentBatchConfig:w0,ReactCurrentOwner:lE};function t4(){throw Error("act(...) is not supported in production builds of React.")}et.Children={map:ay,forEach:function(n,e,t){ay(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return ay(n,function(){e++}),e},toArray:function(n){return ay(n,function(e){return e})||[]},only:function(n){if(!cE(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};et.Component=df;et.Fragment=AG;et.Profiler=QG;et.PureComponent=oE;et.StrictMode=RG;et.Suspense=jG;et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qG;et.act=t4;et.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=GL({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=lE.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)KL.call(e,l)&&!JL.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:oO,type:n.type,key:i,ref:s,props:r,_owner:o}};et.createContext=function(n){return n={$$typeof:IG,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:$G,_context:n},n.Consumer=n};et.createElement=e4;et.createFactory=function(n){var e=e4.bind(null,n);return e.type=n,e};et.createRef=function(){return{current:null}};et.forwardRef=function(n){return{$$typeof:NG,render:n}};et.isValidElement=cE;et.lazy=function(n){return{$$typeof:MG,_payload:{_status:-1,_result:n},_init:UG}};et.memo=function(n,e){return{$$typeof:DG,type:n,compare:e===void 0?null:e}};et.startTransition=function(n){var e=w0.transition;w0.transition={};try{n()}finally{w0.transition=e}};et.unstable_act=t4;et.useCallback=function(n,e){return Ur.current.useCallback(n,e)};et.useContext=function(n){return Ur.current.useContext(n)};et.useDebugValue=function(){};et.useDeferredValue=function(n){return Ur.current.useDeferredValue(n)};et.useEffect=function(n,e){return Ur.current.useEffect(n,e)};et.useId=function(){return Ur.current.useId()};et.useImperativeHandle=function(n,e,t){return Ur.current.useImperativeHandle(n,e,t)};et.useInsertionEffect=function(n,e){return Ur.current.useInsertionEffect(n,e)};et.useLayoutEffect=function(n,e){return Ur.current.useLayoutEffect(n,e)};et.useMemo=function(n,e){return Ur.current.useMemo(n,e)};et.useReducer=function(n,e,t){return Ur.current.useReducer(n,e,t)};et.useRef=function(n){return Ur.current.useRef(n)};et.useState=function(n){return Ur.current.useState(n)};et.useSyncExternalStore=function(n,e,t){return Ur.current.useSyncExternalStore(n,e,t)};et.useTransition=function(){return Ur.current.useTransition()};et.version="18.3.1";WL.exports=et;var E=WL.exports;const Ke=BL(E),n4=CG({__proto__:null,default:Ke},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZG=E,BG=Symbol.for("react.element"),FG=Symbol.for("react.fragment"),WG=Object.prototype.hasOwnProperty,XG=ZG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,GG={key:!0,ref:!0,__self:!0,__source:!0};function r4(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)WG.call(e,r)&&!GG.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:BG,type:n,key:s,ref:o,props:i,_owner:XG.current}}Qx.Fragment=FG;Qx.jsx=r4;Qx.jsxs=r4;FL.exports=Qx;var f=FL.exports,i4={exports:{}},$i={},s4={exports:{}},o4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(U,q){var ne=U.length;U.push(q);e:for(;0<ne;){var X=ne-1>>>1,F=U[X];if(0<i(F,q))U[X]=q,U[ne]=F,ne=X;else break e}}function t(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var q=U[0],ne=U.pop();if(ne!==q){U[0]=ne;e:for(var X=0,F=U.length,G=F>>>1;X<G;){var K=2*(X+1)-1,re=U[K],Se=K+1,le=U[Se];if(0>i(re,ne))Se<F&&0>i(le,re)?(U[X]=le,U[Se]=ne,X=Se):(U[X]=re,U[K]=ne,X=K);else if(Se<F&&0>i(le,ne))U[X]=le,U[Se]=ne,X=Se;else break e}}return q}function i(U,q){var ne=U.sortIndex-q.sortIndex;return ne!==0?ne:U.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,d=3,m=!1,g=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(U){for(var q=t(c);q!==null;){if(q.callback===null)r(c);else if(q.startTime<=U)r(c),q.sortIndex=q.expirationTime,e(l,q);else break;q=t(c)}}function $(U){if(y=!1,k(U),!g)if(t(l)!==null)g=!0,M(C);else{var q=t(c);q!==null&&Z($,q.startTime-U)}}function C(U,q){g=!1,y&&(y=!1,S(_),_=-1),m=!0;var ne=d;try{for(k(q),h=t(l);h!==null&&(!(h.expirationTime>q)||U&&!T());){var X=h.callback;if(typeof X=="function"){h.callback=null,d=h.priorityLevel;var F=X(h.expirationTime<=q);q=n.unstable_now(),typeof F=="function"?h.callback=F:h===t(l)&&r(l),k(q)}else r(l);h=t(l)}if(h!==null)var G=!0;else{var K=t(c);K!==null&&Z($,K.startTime-q),G=!1}return G}finally{h=null,d=ne,m=!1}}var Q=!1,O=null,_=-1,x=5,A=-1;function T(){return!(n.unstable_now()-A<x)}function w(){if(O!==null){var U=n.unstable_now();A=U;var q=!0;try{q=O(!0,U)}finally{q?R():(Q=!1,O=null)}}else Q=!1}var R;if(typeof b=="function")R=function(){b(w)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,V=j.port2;j.port1.onmessage=w,R=function(){V.postMessage(null)}}else R=function(){v(w,0)};function M(U){O=U,Q||(Q=!0,R())}function Z(U,q){_=v(function(){U(n.unstable_now())},q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(U){U.callback=null},n.unstable_continueExecution=function(){g||m||(g=!0,M(C))},n.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<U?Math.floor(1e3/U):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(U){switch(d){case 1:case 2:case 3:var q=3;break;default:q=d}var ne=d;d=q;try{return U()}finally{d=ne}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(U,q){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ne=d;d=U;try{return q()}finally{d=ne}},n.unstable_scheduleCallback=function(U,q,ne){var X=n.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?X+ne:X):ne=X,U){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=ne+F,U={id:u++,callback:q,priorityLevel:U,startTime:ne,expirationTime:F,sortIndex:-1},ne>X?(U.sortIndex=ne,e(c,U),t(l)===null&&U===t(c)&&(y?(S(_),_=-1):y=!0,Z($,ne-X))):(U.sortIndex=F,e(l,U),g||m||(g=!0,M(C))),U},n.unstable_shouldYield=T,n.unstable_wrapCallback=function(U){var q=d;return function(){var ne=d;d=q;try{return U.apply(this,arguments)}finally{d=ne}}}})(o4);s4.exports=o4;var YG=s4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HG=E,Qi=YG;function se(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a4=new Set,km={};function Mu(n,e){wd(n,e),wd(n+"Capture",e)}function wd(n,e){for(km[n]=e,n=0;n<e.length;n++)a4.add(e[n])}var xa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zk=Object.prototype.hasOwnProperty,KG=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,aI={},lI={};function JG(n){return Zk.call(lI,n)?!0:Zk.call(aI,n)?!1:KG.test(n)?lI[n]=!0:(aI[n]=!0,!1)}function eY(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function tY(n,e,t,r){if(e===null||typeof e>"u"||eY(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function qr(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var lr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){lr[n]=new qr(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];lr[e]=new qr(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){lr[n]=new qr(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){lr[n]=new qr(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){lr[n]=new qr(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){lr[n]=new qr(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){lr[n]=new qr(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){lr[n]=new qr(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){lr[n]=new qr(n,5,!1,n.toLowerCase(),null,!1,!1)});var uE=/[\-:]([a-z])/g;function hE(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(uE,hE);lr[e]=new qr(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(uE,hE);lr[e]=new qr(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(uE,hE);lr[e]=new qr(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){lr[n]=new qr(n,1,!1,n.toLowerCase(),null,!1,!1)});lr.xlinkHref=new qr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){lr[n]=new qr(n,1,!1,n.toLowerCase(),null,!0,!0)});function dE(n,e,t,r){var i=lr.hasOwnProperty(e)?lr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(tY(e,t,i,r)&&(t=null),r||i===null?JG(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Da=HG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ly=Symbol.for("react.element"),ph=Symbol.for("react.portal"),mh=Symbol.for("react.fragment"),fE=Symbol.for("react.strict_mode"),Bk=Symbol.for("react.profiler"),l4=Symbol.for("react.provider"),c4=Symbol.for("react.context"),pE=Symbol.for("react.forward_ref"),Fk=Symbol.for("react.suspense"),Wk=Symbol.for("react.suspense_list"),mE=Symbol.for("react.memo"),Ja=Symbol.for("react.lazy"),u4=Symbol.for("react.offscreen"),cI=Symbol.iterator;function Gf(n){return n===null||typeof n!="object"?null:(n=cI&&n[cI]||n["@@iterator"],typeof n=="function"?n:null)}var Jt=Object.assign,bS;function bp(n){if(bS===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);bS=e&&e[1]||""}return`
`+bS+n}var SS=!1;function kS(n,e){if(!n||SS)return"";SS=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{SS=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?bp(n):""}function nY(n){switch(n.tag){case 5:return bp(n.type);case 16:return bp("Lazy");case 13:return bp("Suspense");case 19:return bp("SuspenseList");case 0:case 2:case 15:return n=kS(n.type,!1),n;case 11:return n=kS(n.type.render,!1),n;case 1:return n=kS(n.type,!0),n;default:return""}}function Xk(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case mh:return"Fragment";case ph:return"Portal";case Bk:return"Profiler";case fE:return"StrictMode";case Fk:return"Suspense";case Wk:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case c4:return(n.displayName||"Context")+".Consumer";case l4:return(n._context.displayName||"Context")+".Provider";case pE:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case mE:return e=n.displayName||null,e!==null?e:Xk(n.type)||"Memo";case Ja:e=n._payload,n=n._init;try{return Xk(n(e))}catch{}}return null}function rY(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xk(e);case 8:return e===fE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Bl(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function h4(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function iY(n){var e=h4(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function cy(n){n._valueTracker||(n._valueTracker=iY(n))}function d4(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=h4(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function Nv(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Gk(n,e){var t=e.checked;return Jt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function uI(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Bl(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function f4(n,e){e=e.checked,e!=null&&dE(n,"checked",e,!1)}function Yk(n,e){f4(n,e);var t=Bl(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Hk(n,e.type,t):e.hasOwnProperty("defaultValue")&&Hk(n,e.type,Bl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function hI(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Hk(n,e,t){(e!=="number"||Nv(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Sp=Array.isArray;function jh(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Bl(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function Kk(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(se(91));return Jt({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function dI(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(se(92));if(Sp(t)){if(1<t.length)throw Error(se(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Bl(t)}}function p4(n,e){var t=Bl(e.value),r=Bl(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function fI(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function m4(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jk(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?m4(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var uy,g4=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(uy=uy||document.createElement("div"),uy.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=uy.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function _m(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Kp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sY=["Webkit","ms","Moz","O"];Object.keys(Kp).forEach(function(n){sY.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Kp[e]=Kp[n]})});function O4(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Kp.hasOwnProperty(n)&&Kp[n]?(""+e).trim():e+"px"}function y4(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=O4(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var oY=Jt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function e_(n,e){if(e){if(oY[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(se(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(se(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(se(61))}if(e.style!=null&&typeof e.style!="object")throw Error(se(62))}}function t_(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var n_=null;function gE(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var r_=null,Dh=null,Mh=null;function pI(n){if(n=cO(n)){if(typeof r_!="function")throw Error(se(280));var e=n.stateNode;e&&(e=Dx(e),r_(n.stateNode,n.type,e))}}function v4(n){Dh?Mh?Mh.push(n):Mh=[n]:Dh=n}function w4(){if(Dh){var n=Dh,e=Mh;if(Mh=Dh=null,pI(n),e)for(n=0;n<e.length;n++)pI(e[n])}}function x4(n,e){return n(e)}function b4(){}var _S=!1;function S4(n,e,t){if(_S)return n(e,t);_S=!0;try{return x4(n,e,t)}finally{_S=!1,(Dh!==null||Mh!==null)&&(b4(),w4())}}function Tm(n,e){var t=n.stateNode;if(t===null)return null;var r=Dx(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(se(231,e,typeof t));return t}var i_=!1;if(xa)try{var Yf={};Object.defineProperty(Yf,"passive",{get:function(){i_=!0}}),window.addEventListener("test",Yf,Yf),window.removeEventListener("test",Yf,Yf)}catch{i_=!1}function aY(n,e,t,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var Jp=!1,jv=null,Dv=!1,s_=null,lY={onError:function(n){Jp=!0,jv=n}};function cY(n,e,t,r,i,s,o,a,l){Jp=!1,jv=null,aY.apply(lY,arguments)}function uY(n,e,t,r,i,s,o,a,l){if(cY.apply(this,arguments),Jp){if(Jp){var c=jv;Jp=!1,jv=null}else throw Error(se(198));Dv||(Dv=!0,s_=c)}}function Vu(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function k4(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function mI(n){if(Vu(n)!==n)throw Error(se(188))}function hY(n){var e=n.alternate;if(!e){if(e=Vu(n),e===null)throw Error(se(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return mI(i),n;if(s===r)return mI(i),e;s=s.sibling}throw Error(se(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(se(189))}}if(t.alternate!==r)throw Error(se(190))}if(t.tag!==3)throw Error(se(188));return t.stateNode.current===t?n:e}function _4(n){return n=hY(n),n!==null?T4(n):null}function T4(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=T4(n);if(e!==null)return e;n=n.sibling}return null}var P4=Qi.unstable_scheduleCallback,gI=Qi.unstable_cancelCallback,dY=Qi.unstable_shouldYield,fY=Qi.unstable_requestPaint,mn=Qi.unstable_now,pY=Qi.unstable_getCurrentPriorityLevel,OE=Qi.unstable_ImmediatePriority,C4=Qi.unstable_UserBlockingPriority,Mv=Qi.unstable_NormalPriority,mY=Qi.unstable_LowPriority,E4=Qi.unstable_IdlePriority,$x=null,ao=null;function gY(n){if(ao&&typeof ao.onCommitFiberRoot=="function")try{ao.onCommitFiberRoot($x,n,void 0,(n.current.flags&128)===128)}catch{}}var ws=Math.clz32?Math.clz32:vY,OY=Math.log,yY=Math.LN2;function vY(n){return n>>>=0,n===0?32:31-(OY(n)/yY|0)|0}var hy=64,dy=4194304;function kp(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Vv(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=kp(a):(s&=o,s!==0&&(r=kp(s)))}else o=t&~i,o!==0?r=kp(o):s!==0&&(r=kp(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-ws(e),i=1<<t,r|=n[t],e&=~i;return r}function wY(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xY(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-ws(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=wY(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function o_(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function A4(){var n=hy;return hy<<=1,!(hy&4194240)&&(hy=64),n}function TS(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function aO(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-ws(e),n[e]=t}function bY(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-ws(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function yE(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-ws(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var bt=0;function R4(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var Q4,vE,$4,I4,N4,a_=!1,fy=[],El=null,Al=null,Rl=null,Pm=new Map,Cm=new Map,rl=[],SY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function OI(n,e){switch(n){case"focusin":case"focusout":El=null;break;case"dragenter":case"dragleave":Al=null;break;case"mouseover":case"mouseout":Rl=null;break;case"pointerover":case"pointerout":Pm.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cm.delete(e.pointerId)}}function Hf(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=cO(e),e!==null&&vE(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function kY(n,e,t,r,i){switch(e){case"focusin":return El=Hf(El,n,e,t,r,i),!0;case"dragenter":return Al=Hf(Al,n,e,t,r,i),!0;case"mouseover":return Rl=Hf(Rl,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return Pm.set(s,Hf(Pm.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Cm.set(s,Hf(Cm.get(s)||null,n,e,t,r,i)),!0}return!1}function j4(n){var e=Wc(n.target);if(e!==null){var t=Vu(e);if(t!==null){if(e=t.tag,e===13){if(e=k4(t),e!==null){n.blockedOn=e,N4(n.priority,function(){$4(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function x0(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=l_(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);n_=r,t.target.dispatchEvent(r),n_=null}else return e=cO(t),e!==null&&vE(e),n.blockedOn=t,!1;e.shift()}return!0}function yI(n,e,t){x0(n)&&t.delete(e)}function _Y(){a_=!1,El!==null&&x0(El)&&(El=null),Al!==null&&x0(Al)&&(Al=null),Rl!==null&&x0(Rl)&&(Rl=null),Pm.forEach(yI),Cm.forEach(yI)}function Kf(n,e){n.blockedOn===e&&(n.blockedOn=null,a_||(a_=!0,Qi.unstable_scheduleCallback(Qi.unstable_NormalPriority,_Y)))}function Em(n){function e(i){return Kf(i,n)}if(0<fy.length){Kf(fy[0],n);for(var t=1;t<fy.length;t++){var r=fy[t];r.blockedOn===n&&(r.blockedOn=null)}}for(El!==null&&Kf(El,n),Al!==null&&Kf(Al,n),Rl!==null&&Kf(Rl,n),Pm.forEach(e),Cm.forEach(e),t=0;t<rl.length;t++)r=rl[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<rl.length&&(t=rl[0],t.blockedOn===null);)j4(t),t.blockedOn===null&&rl.shift()}var Vh=Da.ReactCurrentBatchConfig,Lv=!0;function TY(n,e,t,r){var i=bt,s=Vh.transition;Vh.transition=null;try{bt=1,wE(n,e,t,r)}finally{bt=i,Vh.transition=s}}function PY(n,e,t,r){var i=bt,s=Vh.transition;Vh.transition=null;try{bt=4,wE(n,e,t,r)}finally{bt=i,Vh.transition=s}}function wE(n,e,t,r){if(Lv){var i=l_(n,e,t,r);if(i===null)jS(n,e,r,zv,t),OI(n,r);else if(kY(i,n,e,t,r))r.stopPropagation();else if(OI(n,r),e&4&&-1<SY.indexOf(n)){for(;i!==null;){var s=cO(i);if(s!==null&&Q4(s),s=l_(n,e,t,r),s===null&&jS(n,e,r,zv,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else jS(n,e,r,null,t)}}var zv=null;function l_(n,e,t,r){if(zv=null,n=gE(r),n=Wc(n),n!==null)if(e=Vu(n),e===null)n=null;else if(t=e.tag,t===13){if(n=k4(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return zv=n,null}function D4(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pY()){case OE:return 1;case C4:return 4;case Mv:case mY:return 16;case E4:return 536870912;default:return 16}default:return 16}}var bl=null,xE=null,b0=null;function M4(){if(b0)return b0;var n,e=xE,t=e.length,r,i="value"in bl?bl.value:bl.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return b0=i.slice(n,1<r?1-r:void 0)}function S0(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function py(){return!0}function vI(){return!1}function Ii(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?py:vI,this.isPropagationStopped=vI,this}return Jt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=py)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=py)},persist:function(){},isPersistent:py}),e}var ff={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bE=Ii(ff),lO=Jt({},ff,{view:0,detail:0}),CY=Ii(lO),PS,CS,Jf,Ix=Jt({},lO,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:SE,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Jf&&(Jf&&n.type==="mousemove"?(PS=n.screenX-Jf.screenX,CS=n.screenY-Jf.screenY):CS=PS=0,Jf=n),PS)},movementY:function(n){return"movementY"in n?n.movementY:CS}}),wI=Ii(Ix),EY=Jt({},Ix,{dataTransfer:0}),AY=Ii(EY),RY=Jt({},lO,{relatedTarget:0}),ES=Ii(RY),QY=Jt({},ff,{animationName:0,elapsedTime:0,pseudoElement:0}),$Y=Ii(QY),IY=Jt({},ff,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),NY=Ii(IY),jY=Jt({},ff,{data:0}),xI=Ii(jY),DY={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},MY={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VY={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LY(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=VY[n])?!!e[n]:!1}function SE(){return LY}var zY=Jt({},lO,{key:function(n){if(n.key){var e=DY[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=S0(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?MY[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:SE,charCode:function(n){return n.type==="keypress"?S0(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?S0(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),UY=Ii(zY),qY=Jt({},Ix,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bI=Ii(qY),ZY=Jt({},lO,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:SE}),BY=Ii(ZY),FY=Jt({},ff,{propertyName:0,elapsedTime:0,pseudoElement:0}),WY=Ii(FY),XY=Jt({},Ix,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),GY=Ii(XY),YY=[9,13,27,32],kE=xa&&"CompositionEvent"in window,em=null;xa&&"documentMode"in document&&(em=document.documentMode);var HY=xa&&"TextEvent"in window&&!em,V4=xa&&(!kE||em&&8<em&&11>=em),SI=" ",kI=!1;function L4(n,e){switch(n){case"keyup":return YY.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function z4(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var gh=!1;function KY(n,e){switch(n){case"compositionend":return z4(e);case"keypress":return e.which!==32?null:(kI=!0,SI);case"textInput":return n=e.data,n===SI&&kI?null:n;default:return null}}function JY(n,e){if(gh)return n==="compositionend"||!kE&&L4(n,e)?(n=M4(),b0=xE=bl=null,gh=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return V4&&e.locale!=="ko"?null:e.data;default:return null}}var eH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _I(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!eH[n.type]:e==="textarea"}function U4(n,e,t,r){v4(r),e=Uv(e,"onChange"),0<e.length&&(t=new bE("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var tm=null,Am=null;function tH(n){J4(n,0)}function Nx(n){var e=vh(n);if(d4(e))return n}function nH(n,e){if(n==="change")return e}var q4=!1;if(xa){var AS;if(xa){var RS="oninput"in document;if(!RS){var TI=document.createElement("div");TI.setAttribute("oninput","return;"),RS=typeof TI.oninput=="function"}AS=RS}else AS=!1;q4=AS&&(!document.documentMode||9<document.documentMode)}function PI(){tm&&(tm.detachEvent("onpropertychange",Z4),Am=tm=null)}function Z4(n){if(n.propertyName==="value"&&Nx(Am)){var e=[];U4(e,Am,n,gE(n)),S4(tH,e)}}function rH(n,e,t){n==="focusin"?(PI(),tm=e,Am=t,tm.attachEvent("onpropertychange",Z4)):n==="focusout"&&PI()}function iH(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Nx(Am)}function sH(n,e){if(n==="click")return Nx(e)}function oH(n,e){if(n==="input"||n==="change")return Nx(e)}function aH(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var ks=typeof Object.is=="function"?Object.is:aH;function Rm(n,e){if(ks(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!Zk.call(e,i)||!ks(n[i],e[i]))return!1}return!0}function CI(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function EI(n,e){var t=CI(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=CI(t)}}function B4(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?B4(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function F4(){for(var n=window,e=Nv();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Nv(n.document)}return e}function _E(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function lH(n){var e=F4(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&B4(t.ownerDocument.documentElement,t)){if(r!==null&&_E(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=EI(t,s);var o=EI(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var cH=xa&&"documentMode"in document&&11>=document.documentMode,Oh=null,c_=null,nm=null,u_=!1;function AI(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;u_||Oh==null||Oh!==Nv(r)||(r=Oh,"selectionStart"in r&&_E(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),nm&&Rm(nm,r)||(nm=r,r=Uv(c_,"onSelect"),0<r.length&&(e=new bE("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Oh)))}function my(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var yh={animationend:my("Animation","AnimationEnd"),animationiteration:my("Animation","AnimationIteration"),animationstart:my("Animation","AnimationStart"),transitionend:my("Transition","TransitionEnd")},QS={},W4={};xa&&(W4=document.createElement("div").style,"AnimationEvent"in window||(delete yh.animationend.animation,delete yh.animationiteration.animation,delete yh.animationstart.animation),"TransitionEvent"in window||delete yh.transitionend.transition);function jx(n){if(QS[n])return QS[n];if(!yh[n])return n;var e=yh[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in W4)return QS[n]=e[t];return n}var X4=jx("animationend"),G4=jx("animationiteration"),Y4=jx("animationstart"),H4=jx("transitionend"),K4=new Map,RI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vc(n,e){K4.set(n,e),Mu(e,[n])}for(var $S=0;$S<RI.length;$S++){var IS=RI[$S],uH=IS.toLowerCase(),hH=IS[0].toUpperCase()+IS.slice(1);vc(uH,"on"+hH)}vc(X4,"onAnimationEnd");vc(G4,"onAnimationIteration");vc(Y4,"onAnimationStart");vc("dblclick","onDoubleClick");vc("focusin","onFocus");vc("focusout","onBlur");vc(H4,"onTransitionEnd");wd("onMouseEnter",["mouseout","mouseover"]);wd("onMouseLeave",["mouseout","mouseover"]);wd("onPointerEnter",["pointerout","pointerover"]);wd("onPointerLeave",["pointerout","pointerover"]);Mu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _p="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dH=new Set("cancel close invalid load scroll toggle".split(" ").concat(_p));function QI(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,uY(r,e,void 0,n),n.currentTarget=null}function J4(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;QI(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;QI(i,a,c),s=l}}}if(Dv)throw n=s_,Dv=!1,s_=null,n}function zt(n,e){var t=e[m_];t===void 0&&(t=e[m_]=new Set);var r=n+"__bubble";t.has(r)||(e5(e,n,2,!1),t.add(r))}function NS(n,e,t){var r=0;e&&(r|=4),e5(t,n,r,e)}var gy="_reactListening"+Math.random().toString(36).slice(2);function Qm(n){if(!n[gy]){n[gy]=!0,a4.forEach(function(t){t!=="selectionchange"&&(dH.has(t)||NS(t,!1,n),NS(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[gy]||(e[gy]=!0,NS("selectionchange",!1,e))}}function e5(n,e,t,r){switch(D4(e)){case 1:var i=TY;break;case 4:i=PY;break;default:i=wE}t=i.bind(null,e,t,n),i=void 0,!i_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function jS(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Wc(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}S4(function(){var c=s,u=gE(t),h=[];e:{var d=K4.get(n);if(d!==void 0){var m=bE,g=n;switch(n){case"keypress":if(S0(t)===0)break e;case"keydown":case"keyup":m=UY;break;case"focusin":g="focus",m=ES;break;case"focusout":g="blur",m=ES;break;case"beforeblur":case"afterblur":m=ES;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=wI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=AY;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=BY;break;case X4:case G4:case Y4:m=$Y;break;case H4:m=WY;break;case"scroll":m=CY;break;case"wheel":m=GY;break;case"copy":case"cut":case"paste":m=NY;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=bI}var y=(e&4)!==0,v=!y&&n==="scroll",S=y?d!==null?d+"Capture":null:d;y=[];for(var b=c,k;b!==null;){k=b;var $=k.stateNode;if(k.tag===5&&$!==null&&(k=$,S!==null&&($=Tm(b,S),$!=null&&y.push($m(b,$,k)))),v)break;b=b.return}0<y.length&&(d=new m(d,g,null,t,u),h.push({event:d,listeners:y}))}}if(!(e&7)){e:{if(d=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",d&&t!==n_&&(g=t.relatedTarget||t.fromElement)&&(Wc(g)||g[ba]))break e;if((m||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,m?(g=t.relatedTarget||t.toElement,m=c,g=g?Wc(g):null,g!==null&&(v=Vu(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=c),m!==g)){if(y=wI,$="onMouseLeave",S="onMouseEnter",b="mouse",(n==="pointerout"||n==="pointerover")&&(y=bI,$="onPointerLeave",S="onPointerEnter",b="pointer"),v=m==null?d:vh(m),k=g==null?d:vh(g),d=new y($,b+"leave",m,t,u),d.target=v,d.relatedTarget=k,$=null,Wc(u)===c&&(y=new y(S,b+"enter",g,t,u),y.target=k,y.relatedTarget=v,$=y),v=$,m&&g)t:{for(y=m,S=g,b=0,k=y;k;k=Hu(k))b++;for(k=0,$=S;$;$=Hu($))k++;for(;0<b-k;)y=Hu(y),b--;for(;0<k-b;)S=Hu(S),k--;for(;b--;){if(y===S||S!==null&&y===S.alternate)break t;y=Hu(y),S=Hu(S)}y=null}else y=null;m!==null&&$I(h,d,m,y,!1),g!==null&&v!==null&&$I(h,v,g,y,!0)}}e:{if(d=c?vh(c):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var C=nH;else if(_I(d))if(q4)C=oH;else{C=iH;var Q=rH}else(m=d.nodeName)&&m.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(C=sH);if(C&&(C=C(n,c))){U4(h,C,t,u);break e}Q&&Q(n,d,c),n==="focusout"&&(Q=d._wrapperState)&&Q.controlled&&d.type==="number"&&Hk(d,"number",d.value)}switch(Q=c?vh(c):window,n){case"focusin":(_I(Q)||Q.contentEditable==="true")&&(Oh=Q,c_=c,nm=null);break;case"focusout":nm=c_=Oh=null;break;case"mousedown":u_=!0;break;case"contextmenu":case"mouseup":case"dragend":u_=!1,AI(h,t,u);break;case"selectionchange":if(cH)break;case"keydown":case"keyup":AI(h,t,u)}var O;if(kE)e:{switch(n){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else gh?L4(n,t)&&(_="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(_="onCompositionStart");_&&(V4&&t.locale!=="ko"&&(gh||_!=="onCompositionStart"?_==="onCompositionEnd"&&gh&&(O=M4()):(bl=u,xE="value"in bl?bl.value:bl.textContent,gh=!0)),Q=Uv(c,_),0<Q.length&&(_=new xI(_,n,null,t,u),h.push({event:_,listeners:Q}),O?_.data=O:(O=z4(t),O!==null&&(_.data=O)))),(O=HY?KY(n,t):JY(n,t))&&(c=Uv(c,"onBeforeInput"),0<c.length&&(u=new xI("onBeforeInput","beforeinput",null,t,u),h.push({event:u,listeners:c}),u.data=O))}J4(h,e)})}function $m(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Uv(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Tm(n,t),s!=null&&r.unshift($m(n,s,i)),s=Tm(n,e),s!=null&&r.push($m(n,s,i))),n=n.return}return r}function Hu(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function $I(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Tm(t,s),l!=null&&o.unshift($m(t,l,a))):i||(l=Tm(t,s),l!=null&&o.push($m(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var fH=/\r\n?/g,pH=/\u0000|\uFFFD/g;function II(n){return(typeof n=="string"?n:""+n).replace(fH,`
`).replace(pH,"")}function Oy(n,e,t){if(e=II(e),II(n)!==e&&t)throw Error(se(425))}function qv(){}var h_=null,d_=null;function f_(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var p_=typeof setTimeout=="function"?setTimeout:void 0,mH=typeof clearTimeout=="function"?clearTimeout:void 0,NI=typeof Promise=="function"?Promise:void 0,gH=typeof queueMicrotask=="function"?queueMicrotask:typeof NI<"u"?function(n){return NI.resolve(null).then(n).catch(OH)}:p_;function OH(n){setTimeout(function(){throw n})}function DS(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),Em(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);Em(e)}function Ql(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function jI(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var pf=Math.random().toString(36).slice(2),Gs="__reactFiber$"+pf,Im="__reactProps$"+pf,ba="__reactContainer$"+pf,m_="__reactEvents$"+pf,yH="__reactListeners$"+pf,vH="__reactHandles$"+pf;function Wc(n){var e=n[Gs];if(e)return e;for(var t=n.parentNode;t;){if(e=t[ba]||t[Gs]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=jI(n);n!==null;){if(t=n[Gs])return t;n=jI(n)}return e}n=t,t=n.parentNode}return null}function cO(n){return n=n[Gs]||n[ba],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function vh(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(se(33))}function Dx(n){return n[Im]||null}var g_=[],wh=-1;function wc(n){return{current:n}}function Zt(n){0>wh||(n.current=g_[wh],g_[wh]=null,wh--)}function Rt(n,e){wh++,g_[wh]=n.current,n.current=e}var Fl={},_r=wc(Fl),ri=wc(!1),fu=Fl;function xd(n,e){var t=n.type.contextTypes;if(!t)return Fl;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function ii(n){return n=n.childContextTypes,n!=null}function Zv(){Zt(ri),Zt(_r)}function DI(n,e,t){if(_r.current!==Fl)throw Error(se(168));Rt(_r,e),Rt(ri,t)}function t5(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(se(108,rY(n)||"Unknown",i));return Jt({},t,r)}function Bv(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Fl,fu=_r.current,Rt(_r,n),Rt(ri,ri.current),!0}function MI(n,e,t){var r=n.stateNode;if(!r)throw Error(se(169));t?(n=t5(n,e,fu),r.__reactInternalMemoizedMergedChildContext=n,Zt(ri),Zt(_r),Rt(_r,n)):Zt(ri),Rt(ri,t)}var ia=null,Mx=!1,MS=!1;function n5(n){ia===null?ia=[n]:ia.push(n)}function wH(n){Mx=!0,n5(n)}function xc(){if(!MS&&ia!==null){MS=!0;var n=0,e=bt;try{var t=ia;for(bt=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}ia=null,Mx=!1}catch(i){throw ia!==null&&(ia=ia.slice(n+1)),P4(OE,xc),i}finally{bt=e,MS=!1}}return null}var xh=[],bh=0,Fv=null,Wv=0,Li=[],zi=0,pu=null,ca=1,ua="";function zc(n,e){xh[bh++]=Wv,xh[bh++]=Fv,Fv=n,Wv=e}function r5(n,e,t){Li[zi++]=ca,Li[zi++]=ua,Li[zi++]=pu,pu=n;var r=ca;n=ua;var i=32-ws(r)-1;r&=~(1<<i),t+=1;var s=32-ws(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ca=1<<32-ws(e)+i|t<<i|r,ua=s+n}else ca=1<<s|t<<i|r,ua=n}function TE(n){n.return!==null&&(zc(n,1),r5(n,1,0))}function PE(n){for(;n===Fv;)Fv=xh[--bh],xh[bh]=null,Wv=xh[--bh],xh[bh]=null;for(;n===pu;)pu=Li[--zi],Li[zi]=null,ua=Li[--zi],Li[zi]=null,ca=Li[--zi],Li[zi]=null}var Ei=null,vi=null,Ft=!1,us=null;function i5(n,e){var t=Zi(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function VI(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Ei=n,vi=Ql(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Ei=n,vi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=pu!==null?{id:ca,overflow:ua}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Zi(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Ei=n,vi=null,!0):!1;default:return!1}}function O_(n){return(n.mode&1)!==0&&(n.flags&128)===0}function y_(n){if(Ft){var e=vi;if(e){var t=e;if(!VI(n,e)){if(O_(n))throw Error(se(418));e=Ql(t.nextSibling);var r=Ei;e&&VI(n,e)?i5(r,t):(n.flags=n.flags&-4097|2,Ft=!1,Ei=n)}}else{if(O_(n))throw Error(se(418));n.flags=n.flags&-4097|2,Ft=!1,Ei=n}}}function LI(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Ei=n}function yy(n){if(n!==Ei)return!1;if(!Ft)return LI(n),Ft=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!f_(n.type,n.memoizedProps)),e&&(e=vi)){if(O_(n))throw s5(),Error(se(418));for(;e;)i5(n,e),e=Ql(e.nextSibling)}if(LI(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(se(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){vi=Ql(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}vi=null}}else vi=Ei?Ql(n.stateNode.nextSibling):null;return!0}function s5(){for(var n=vi;n;)n=Ql(n.nextSibling)}function bd(){vi=Ei=null,Ft=!1}function CE(n){us===null?us=[n]:us.push(n)}var xH=Da.ReactCurrentBatchConfig;function ep(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(se(309));var r=t.stateNode}if(!r)throw Error(se(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(se(284));if(!t._owner)throw Error(se(290,n))}return n}function vy(n,e){throw n=Object.prototype.toString.call(e),Error(se(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function zI(n){var e=n._init;return e(n._payload)}function o5(n){function e(S,b){if(n){var k=S.deletions;k===null?(S.deletions=[b],S.flags|=16):k.push(b)}}function t(S,b){if(!n)return null;for(;b!==null;)e(S,b),b=b.sibling;return null}function r(S,b){for(S=new Map;b!==null;)b.key!==null?S.set(b.key,b):S.set(b.index,b),b=b.sibling;return S}function i(S,b){return S=jl(S,b),S.index=0,S.sibling=null,S}function s(S,b,k){return S.index=k,n?(k=S.alternate,k!==null?(k=k.index,k<b?(S.flags|=2,b):k):(S.flags|=2,b)):(S.flags|=1048576,b)}function o(S){return n&&S.alternate===null&&(S.flags|=2),S}function a(S,b,k,$){return b===null||b.tag!==6?(b=BS(k,S.mode,$),b.return=S,b):(b=i(b,k),b.return=S,b)}function l(S,b,k,$){var C=k.type;return C===mh?u(S,b,k.props.children,$,k.key):b!==null&&(b.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ja&&zI(C)===b.type)?($=i(b,k.props),$.ref=ep(S,b,k),$.return=S,$):($=A0(k.type,k.key,k.props,null,S.mode,$),$.ref=ep(S,b,k),$.return=S,$)}function c(S,b,k,$){return b===null||b.tag!==4||b.stateNode.containerInfo!==k.containerInfo||b.stateNode.implementation!==k.implementation?(b=FS(k,S.mode,$),b.return=S,b):(b=i(b,k.children||[]),b.return=S,b)}function u(S,b,k,$,C){return b===null||b.tag!==7?(b=lu(k,S.mode,$,C),b.return=S,b):(b=i(b,k),b.return=S,b)}function h(S,b,k){if(typeof b=="string"&&b!==""||typeof b=="number")return b=BS(""+b,S.mode,k),b.return=S,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ly:return k=A0(b.type,b.key,b.props,null,S.mode,k),k.ref=ep(S,null,b),k.return=S,k;case ph:return b=FS(b,S.mode,k),b.return=S,b;case Ja:var $=b._init;return h(S,$(b._payload),k)}if(Sp(b)||Gf(b))return b=lu(b,S.mode,k,null),b.return=S,b;vy(S,b)}return null}function d(S,b,k,$){var C=b!==null?b.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return C!==null?null:a(S,b,""+k,$);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ly:return k.key===C?l(S,b,k,$):null;case ph:return k.key===C?c(S,b,k,$):null;case Ja:return C=k._init,d(S,b,C(k._payload),$)}if(Sp(k)||Gf(k))return C!==null?null:u(S,b,k,$,null);vy(S,k)}return null}function m(S,b,k,$,C){if(typeof $=="string"&&$!==""||typeof $=="number")return S=S.get(k)||null,a(b,S,""+$,C);if(typeof $=="object"&&$!==null){switch($.$$typeof){case ly:return S=S.get($.key===null?k:$.key)||null,l(b,S,$,C);case ph:return S=S.get($.key===null?k:$.key)||null,c(b,S,$,C);case Ja:var Q=$._init;return m(S,b,k,Q($._payload),C)}if(Sp($)||Gf($))return S=S.get(k)||null,u(b,S,$,C,null);vy(b,$)}return null}function g(S,b,k,$){for(var C=null,Q=null,O=b,_=b=0,x=null;O!==null&&_<k.length;_++){O.index>_?(x=O,O=null):x=O.sibling;var A=d(S,O,k[_],$);if(A===null){O===null&&(O=x);break}n&&O&&A.alternate===null&&e(S,O),b=s(A,b,_),Q===null?C=A:Q.sibling=A,Q=A,O=x}if(_===k.length)return t(S,O),Ft&&zc(S,_),C;if(O===null){for(;_<k.length;_++)O=h(S,k[_],$),O!==null&&(b=s(O,b,_),Q===null?C=O:Q.sibling=O,Q=O);return Ft&&zc(S,_),C}for(O=r(S,O);_<k.length;_++)x=m(O,S,_,k[_],$),x!==null&&(n&&x.alternate!==null&&O.delete(x.key===null?_:x.key),b=s(x,b,_),Q===null?C=x:Q.sibling=x,Q=x);return n&&O.forEach(function(T){return e(S,T)}),Ft&&zc(S,_),C}function y(S,b,k,$){var C=Gf(k);if(typeof C!="function")throw Error(se(150));if(k=C.call(k),k==null)throw Error(se(151));for(var Q=C=null,O=b,_=b=0,x=null,A=k.next();O!==null&&!A.done;_++,A=k.next()){O.index>_?(x=O,O=null):x=O.sibling;var T=d(S,O,A.value,$);if(T===null){O===null&&(O=x);break}n&&O&&T.alternate===null&&e(S,O),b=s(T,b,_),Q===null?C=T:Q.sibling=T,Q=T,O=x}if(A.done)return t(S,O),Ft&&zc(S,_),C;if(O===null){for(;!A.done;_++,A=k.next())A=h(S,A.value,$),A!==null&&(b=s(A,b,_),Q===null?C=A:Q.sibling=A,Q=A);return Ft&&zc(S,_),C}for(O=r(S,O);!A.done;_++,A=k.next())A=m(O,S,_,A.value,$),A!==null&&(n&&A.alternate!==null&&O.delete(A.key===null?_:A.key),b=s(A,b,_),Q===null?C=A:Q.sibling=A,Q=A);return n&&O.forEach(function(w){return e(S,w)}),Ft&&zc(S,_),C}function v(S,b,k,$){if(typeof k=="object"&&k!==null&&k.type===mh&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case ly:e:{for(var C=k.key,Q=b;Q!==null;){if(Q.key===C){if(C=k.type,C===mh){if(Q.tag===7){t(S,Q.sibling),b=i(Q,k.props.children),b.return=S,S=b;break e}}else if(Q.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ja&&zI(C)===Q.type){t(S,Q.sibling),b=i(Q,k.props),b.ref=ep(S,Q,k),b.return=S,S=b;break e}t(S,Q);break}else e(S,Q);Q=Q.sibling}k.type===mh?(b=lu(k.props.children,S.mode,$,k.key),b.return=S,S=b):($=A0(k.type,k.key,k.props,null,S.mode,$),$.ref=ep(S,b,k),$.return=S,S=$)}return o(S);case ph:e:{for(Q=k.key;b!==null;){if(b.key===Q)if(b.tag===4&&b.stateNode.containerInfo===k.containerInfo&&b.stateNode.implementation===k.implementation){t(S,b.sibling),b=i(b,k.children||[]),b.return=S,S=b;break e}else{t(S,b);break}else e(S,b);b=b.sibling}b=FS(k,S.mode,$),b.return=S,S=b}return o(S);case Ja:return Q=k._init,v(S,b,Q(k._payload),$)}if(Sp(k))return g(S,b,k,$);if(Gf(k))return y(S,b,k,$);vy(S,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,b!==null&&b.tag===6?(t(S,b.sibling),b=i(b,k),b.return=S,S=b):(t(S,b),b=BS(k,S.mode,$),b.return=S,S=b),o(S)):t(S,b)}return v}var Sd=o5(!0),a5=o5(!1),Xv=wc(null),Gv=null,Sh=null,EE=null;function AE(){EE=Sh=Gv=null}function RE(n){var e=Xv.current;Zt(Xv),n._currentValue=e}function v_(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function Lh(n,e){Gv=n,EE=Sh=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(ti=!0),n.firstContext=null)}function Yi(n){var e=n._currentValue;if(EE!==n)if(n={context:n,memoizedValue:e,next:null},Sh===null){if(Gv===null)throw Error(se(308));Sh=n,Gv.dependencies={lanes:0,firstContext:n}}else Sh=Sh.next=n;return e}var Xc=null;function QE(n){Xc===null?Xc=[n]:Xc.push(n)}function l5(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,QE(e)):(t.next=i.next,i.next=t),e.interleaved=t,Sa(n,r)}function Sa(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var el=!1;function $E(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function c5(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function ga(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function $l(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,pt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Sa(n,t)}return i=r.interleaved,i===null?(e.next=e,QE(r)):(e.next=i.next,i.next=e),r.interleaved=e,Sa(n,t)}function k0(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,yE(n,t)}}function UI(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Yv(n,e,t,r){var i=n.updateQueue;el=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=n.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,u=c=l=null,a=s;do{var d=a.lane,m=a.eventTime;if((r&d)===d){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=n,y=a;switch(d=e,m=t,y.tag){case 1:if(g=y.payload,typeof g=="function"){h=g.call(m,h,d);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,d=typeof g=="function"?g.call(m,h,d):g,d==null)break e;h=Jt({},h,d);break e;case 2:el=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else m={eventTime:m,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=h):u=u.next=m,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);gu|=o,n.lanes=o,n.memoizedState=h}}function qI(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(se(191,i));i.call(r)}}}var uO={},lo=wc(uO),Nm=wc(uO),jm=wc(uO);function Gc(n){if(n===uO)throw Error(se(174));return n}function IE(n,e){switch(Rt(jm,e),Rt(Nm,n),Rt(lo,uO),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Jk(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Jk(e,n)}Zt(lo),Rt(lo,e)}function kd(){Zt(lo),Zt(Nm),Zt(jm)}function u5(n){Gc(jm.current);var e=Gc(lo.current),t=Jk(e,n.type);e!==t&&(Rt(Nm,n),Rt(lo,t))}function NE(n){Nm.current===n&&(Zt(lo),Zt(Nm))}var Yt=wc(0);function Hv(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var VS=[];function jE(){for(var n=0;n<VS.length;n++)VS[n]._workInProgressVersionPrimary=null;VS.length=0}var _0=Da.ReactCurrentDispatcher,LS=Da.ReactCurrentBatchConfig,mu=0,Ht=null,Cn=null,zn=null,Kv=!1,rm=!1,Dm=0,bH=0;function fr(){throw Error(se(321))}function DE(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!ks(n[t],e[t]))return!1;return!0}function ME(n,e,t,r,i,s){if(mu=s,Ht=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,_0.current=n===null||n.memoizedState===null?TH:PH,n=t(r,i),rm){s=0;do{if(rm=!1,Dm=0,25<=s)throw Error(se(301));s+=1,zn=Cn=null,e.updateQueue=null,_0.current=CH,n=t(r,i)}while(rm)}if(_0.current=Jv,e=Cn!==null&&Cn.next!==null,mu=0,zn=Cn=Ht=null,Kv=!1,e)throw Error(se(300));return n}function VE(){var n=Dm!==0;return Dm=0,n}function qs(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zn===null?Ht.memoizedState=zn=n:zn=zn.next=n,zn}function Hi(){if(Cn===null){var n=Ht.alternate;n=n!==null?n.memoizedState:null}else n=Cn.next;var e=zn===null?Ht.memoizedState:zn.next;if(e!==null)zn=e,Cn=n;else{if(n===null)throw Error(se(310));Cn=n,n={memoizedState:Cn.memoizedState,baseState:Cn.baseState,baseQueue:Cn.baseQueue,queue:Cn.queue,next:null},zn===null?Ht.memoizedState=zn=n:zn=zn.next=n}return zn}function Mm(n,e){return typeof e=="function"?e(n):e}function zS(n){var e=Hi(),t=e.queue;if(t===null)throw Error(se(311));t.lastRenderedReducer=n;var r=Cn,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((mu&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Ht.lanes|=u,gu|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,ks(r,e.memoizedState)||(ti=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,Ht.lanes|=s,gu|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function US(n){var e=Hi(),t=e.queue;if(t===null)throw Error(se(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);ks(s,e.memoizedState)||(ti=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function h5(){}function d5(n,e){var t=Ht,r=Hi(),i=e(),s=!ks(r.memoizedState,i);if(s&&(r.memoizedState=i,ti=!0),r=r.queue,LE(m5.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||zn!==null&&zn.memoizedState.tag&1){if(t.flags|=2048,Vm(9,p5.bind(null,t,r,i,e),void 0,null),Wn===null)throw Error(se(349));mu&30||f5(t,e,i)}return i}function f5(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Ht.updateQueue,e===null?(e={lastEffect:null,stores:null},Ht.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function p5(n,e,t,r){e.value=t,e.getSnapshot=r,g5(e)&&O5(n)}function m5(n,e,t){return t(function(){g5(e)&&O5(n)})}function g5(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!ks(n,t)}catch{return!0}}function O5(n){var e=Sa(n,1);e!==null&&xs(e,n,1,-1)}function ZI(n){var e=qs();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mm,lastRenderedState:n},e.queue=n,n=n.dispatch=_H.bind(null,Ht,n),[e.memoizedState,n]}function Vm(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Ht.updateQueue,e===null?(e={lastEffect:null,stores:null},Ht.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function y5(){return Hi().memoizedState}function T0(n,e,t,r){var i=qs();Ht.flags|=n,i.memoizedState=Vm(1|e,t,void 0,r===void 0?null:r)}function Vx(n,e,t,r){var i=Hi();r=r===void 0?null:r;var s=void 0;if(Cn!==null){var o=Cn.memoizedState;if(s=o.destroy,r!==null&&DE(r,o.deps)){i.memoizedState=Vm(e,t,s,r);return}}Ht.flags|=n,i.memoizedState=Vm(1|e,t,s,r)}function BI(n,e){return T0(8390656,8,n,e)}function LE(n,e){return Vx(2048,8,n,e)}function v5(n,e){return Vx(4,2,n,e)}function w5(n,e){return Vx(4,4,n,e)}function x5(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function b5(n,e,t){return t=t!=null?t.concat([n]):null,Vx(4,4,x5.bind(null,e,n),t)}function zE(){}function S5(n,e){var t=Hi();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&DE(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function k5(n,e){var t=Hi();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&DE(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function _5(n,e,t){return mu&21?(ks(t,e)||(t=A4(),Ht.lanes|=t,gu|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,ti=!0),n.memoizedState=t)}function SH(n,e){var t=bt;bt=t!==0&&4>t?t:4,n(!0);var r=LS.transition;LS.transition={};try{n(!1),e()}finally{bt=t,LS.transition=r}}function T5(){return Hi().memoizedState}function kH(n,e,t){var r=Nl(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},P5(n))C5(e,t);else if(t=l5(n,e,t,r),t!==null){var i=jr();xs(t,n,r,i),E5(t,e,r)}}function _H(n,e,t){var r=Nl(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(P5(n))C5(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,ks(a,o)){var l=e.interleaved;l===null?(i.next=i,QE(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=l5(n,e,i,r),t!==null&&(i=jr(),xs(t,n,r,i),E5(t,e,r))}}function P5(n){var e=n.alternate;return n===Ht||e!==null&&e===Ht}function C5(n,e){rm=Kv=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function E5(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,yE(n,t)}}var Jv={readContext:Yi,useCallback:fr,useContext:fr,useEffect:fr,useImperativeHandle:fr,useInsertionEffect:fr,useLayoutEffect:fr,useMemo:fr,useReducer:fr,useRef:fr,useState:fr,useDebugValue:fr,useDeferredValue:fr,useTransition:fr,useMutableSource:fr,useSyncExternalStore:fr,useId:fr,unstable_isNewReconciler:!1},TH={readContext:Yi,useCallback:function(n,e){return qs().memoizedState=[n,e===void 0?null:e],n},useContext:Yi,useEffect:BI,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,T0(4194308,4,x5.bind(null,e,n),t)},useLayoutEffect:function(n,e){return T0(4194308,4,n,e)},useInsertionEffect:function(n,e){return T0(4,2,n,e)},useMemo:function(n,e){var t=qs();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=qs();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=kH.bind(null,Ht,n),[r.memoizedState,n]},useRef:function(n){var e=qs();return n={current:n},e.memoizedState=n},useState:ZI,useDebugValue:zE,useDeferredValue:function(n){return qs().memoizedState=n},useTransition:function(){var n=ZI(!1),e=n[0];return n=SH.bind(null,n[1]),qs().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Ht,i=qs();if(Ft){if(t===void 0)throw Error(se(407));t=t()}else{if(t=e(),Wn===null)throw Error(se(349));mu&30||f5(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,BI(m5.bind(null,r,s,n),[n]),r.flags|=2048,Vm(9,p5.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=qs(),e=Wn.identifierPrefix;if(Ft){var t=ua,r=ca;t=(r&~(1<<32-ws(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=Dm++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=bH++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},PH={readContext:Yi,useCallback:S5,useContext:Yi,useEffect:LE,useImperativeHandle:b5,useInsertionEffect:v5,useLayoutEffect:w5,useMemo:k5,useReducer:zS,useRef:y5,useState:function(){return zS(Mm)},useDebugValue:zE,useDeferredValue:function(n){var e=Hi();return _5(e,Cn.memoizedState,n)},useTransition:function(){var n=zS(Mm)[0],e=Hi().memoizedState;return[n,e]},useMutableSource:h5,useSyncExternalStore:d5,useId:T5,unstable_isNewReconciler:!1},CH={readContext:Yi,useCallback:S5,useContext:Yi,useEffect:LE,useImperativeHandle:b5,useInsertionEffect:v5,useLayoutEffect:w5,useMemo:k5,useReducer:US,useRef:y5,useState:function(){return US(Mm)},useDebugValue:zE,useDeferredValue:function(n){var e=Hi();return Cn===null?e.memoizedState=n:_5(e,Cn.memoizedState,n)},useTransition:function(){var n=US(Mm)[0],e=Hi().memoizedState;return[n,e]},useMutableSource:h5,useSyncExternalStore:d5,useId:T5,unstable_isNewReconciler:!1};function as(n,e){if(n&&n.defaultProps){e=Jt({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function w_(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Jt({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Lx={isMounted:function(n){return(n=n._reactInternals)?Vu(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=jr(),i=Nl(n),s=ga(r,i);s.payload=e,t!=null&&(s.callback=t),e=$l(n,s,i),e!==null&&(xs(e,n,i,r),k0(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=jr(),i=Nl(n),s=ga(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=$l(n,s,i),e!==null&&(xs(e,n,i,r),k0(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=jr(),r=Nl(n),i=ga(t,r);i.tag=2,e!=null&&(i.callback=e),e=$l(n,i,r),e!==null&&(xs(e,n,r,t),k0(e,n,r))}};function FI(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Rm(t,r)||!Rm(i,s):!0}function A5(n,e,t){var r=!1,i=Fl,s=e.contextType;return typeof s=="object"&&s!==null?s=Yi(s):(i=ii(e)?fu:_r.current,r=e.contextTypes,s=(r=r!=null)?xd(n,i):Fl),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Lx,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function WI(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&Lx.enqueueReplaceState(e,e.state,null)}function x_(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},$E(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Yi(s):(s=ii(e)?fu:_r.current,i.context=xd(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(w_(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Lx.enqueueReplaceState(i,i.state,null),Yv(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function _d(n,e){try{var t="",r=e;do t+=nY(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function qS(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function b_(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var EH=typeof WeakMap=="function"?WeakMap:Map;function R5(n,e,t){t=ga(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){tw||(tw=!0,Q_=r),b_(n,e)},t}function Q5(n,e,t){t=ga(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){b_(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){b_(n,e),typeof r!="function"&&(Il===null?Il=new Set([this]):Il.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function XI(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new EH;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=qH.bind(null,n,e,t),e.then(n,n))}function GI(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function YI(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=ga(-1,1),e.tag=2,$l(t,e,1))),t.lanes|=1),n)}var AH=Da.ReactCurrentOwner,ti=!1;function Ir(n,e,t,r){e.child=n===null?a5(e,null,t,r):Sd(e,n.child,t,r)}function HI(n,e,t,r,i){t=t.render;var s=e.ref;return Lh(e,i),r=ME(n,e,t,r,s,i),t=VE(),n!==null&&!ti?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,ka(n,e,i)):(Ft&&t&&TE(e),e.flags|=1,Ir(n,e,r,i),e.child)}function KI(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!GE(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,$5(n,e,s,r,i)):(n=A0(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Rm,t(o,r)&&n.ref===e.ref)return ka(n,e,i)}return e.flags|=1,n=jl(s,r),n.ref=e.ref,n.return=e,e.child=n}function $5(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(Rm(s,r)&&n.ref===e.ref)if(ti=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(ti=!0);else return e.lanes=n.lanes,ka(n,e,i)}return S_(n,e,t,r,i)}function I5(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rt(_h,mi),mi|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Rt(_h,mi),mi|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,Rt(_h,mi),mi|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,Rt(_h,mi),mi|=r;return Ir(n,e,i,t),e.child}function N5(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function S_(n,e,t,r,i){var s=ii(t)?fu:_r.current;return s=xd(e,s),Lh(e,i),t=ME(n,e,t,r,s,i),r=VE(),n!==null&&!ti?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,ka(n,e,i)):(Ft&&r&&TE(e),e.flags|=1,Ir(n,e,t,i),e.child)}function JI(n,e,t,r,i){if(ii(t)){var s=!0;Bv(e)}else s=!1;if(Lh(e,i),e.stateNode===null)P0(n,e),A5(e,t,r),x_(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=Yi(c):(c=ii(t)?fu:_r.current,c=xd(e,c));var u=t.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&WI(e,o,r,c),el=!1;var d=e.memoizedState;o.state=d,Yv(e,r,o,i),l=e.memoizedState,a!==r||d!==l||ri.current||el?(typeof u=="function"&&(w_(e,t,u,r),l=e.memoizedState),(a=el||FI(e,t,a,r,d,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,c5(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:as(e.type,a),o.props=c,h=e.pendingProps,d=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Yi(l):(l=ii(t)?fu:_r.current,l=xd(e,l));var m=t.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&WI(e,o,r,l),el=!1,d=e.memoizedState,o.state=d,Yv(e,r,o,i);var g=e.memoizedState;a!==h||d!==g||ri.current||el?(typeof m=="function"&&(w_(e,t,m,r),g=e.memoizedState),(c=el||FI(e,t,c,r,d,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=1024),r=!1)}return k_(n,e,t,r,s,i)}function k_(n,e,t,r,i,s){N5(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&MI(e,t,!1),ka(n,e,s);r=e.stateNode,AH.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=Sd(e,n.child,null,s),e.child=Sd(e,null,a,s)):Ir(n,e,a,s),e.memoizedState=r.state,i&&MI(e,t,!0),e.child}function j5(n){var e=n.stateNode;e.pendingContext?DI(n,e.pendingContext,e.pendingContext!==e.context):e.context&&DI(n,e.context,!1),IE(n,e.containerInfo)}function e2(n,e,t,r,i){return bd(),CE(i),e.flags|=256,Ir(n,e,t,r),e.child}var __={dehydrated:null,treeContext:null,retryLane:0};function T_(n){return{baseLanes:n,cachePool:null,transitions:null}}function D5(n,e,t){var r=e.pendingProps,i=Yt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),Rt(Yt,i&1),n===null)return y_(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=qx(o,r,0,null),n=lu(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=T_(t),e.memoizedState=__,n):UE(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return RH(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=jl(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=jl(a,s):(s=lu(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?T_(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=__,r}return s=n.child,n=s.sibling,r=jl(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function UE(n,e){return e=qx({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function wy(n,e,t,r){return r!==null&&CE(r),Sd(e,n.child,null,t),n=UE(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function RH(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=qS(Error(se(422))),wy(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=qx({mode:"visible",children:r.children},i,0,null),s=lu(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Sd(e,n.child,null,o),e.child.memoizedState=T_(o),e.memoizedState=__,s);if(!(e.mode&1))return wy(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(se(419)),r=qS(s,r,void 0),wy(n,e,o,r)}if(a=(o&n.childLanes)!==0,ti||a){if(r=Wn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Sa(n,i),xs(r,n,i,-1))}return XE(),r=qS(Error(se(421))),wy(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=ZH.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,vi=Ql(i.nextSibling),Ei=e,Ft=!0,us=null,n!==null&&(Li[zi++]=ca,Li[zi++]=ua,Li[zi++]=pu,ca=n.id,ua=n.overflow,pu=e),e=UE(e,r.children),e.flags|=4096,e)}function t2(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),v_(n.return,e,t)}function ZS(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function M5(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ir(n,e,r.children,t),r=Yt.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&t2(n,t,e);else if(n.tag===19)t2(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Rt(Yt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&Hv(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),ZS(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&Hv(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}ZS(e,!0,t,null,s);break;case"together":ZS(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function P0(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function ka(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),gu|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(se(153));if(e.child!==null){for(n=e.child,t=jl(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=jl(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function QH(n,e,t){switch(e.tag){case 3:j5(e),bd();break;case 5:u5(e);break;case 1:ii(e.type)&&Bv(e);break;case 4:IE(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Rt(Xv,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Rt(Yt,Yt.current&1),e.flags|=128,null):t&e.child.childLanes?D5(n,e,t):(Rt(Yt,Yt.current&1),n=ka(n,e,t),n!==null?n.sibling:null);Rt(Yt,Yt.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return M5(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Rt(Yt,Yt.current),r)break;return null;case 22:case 23:return e.lanes=0,I5(n,e,t)}return ka(n,e,t)}var V5,P_,L5,z5;V5=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};P_=function(){};L5=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,Gc(lo.current);var s=null;switch(t){case"input":i=Gk(n,i),r=Gk(n,r),s=[];break;case"select":i=Jt({},i,{value:void 0}),r=Jt({},r,{value:void 0}),s=[];break;case"textarea":i=Kk(n,i),r=Kk(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=qv)}e_(t,r);var o;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(km.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(km.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&zt("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};z5=function(n,e,t,r){t!==r&&(e.flags|=4)};function tp(n,e){if(!Ft)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function pr(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function $H(n,e,t){var r=e.pendingProps;switch(PE(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pr(e),null;case 1:return ii(e.type)&&Zv(),pr(e),null;case 3:return r=e.stateNode,kd(),Zt(ri),Zt(_r),jE(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(yy(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,us!==null&&(N_(us),us=null))),P_(n,e),pr(e),null;case 5:NE(e);var i=Gc(jm.current);if(t=e.type,n!==null&&e.stateNode!=null)L5(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(se(166));return pr(e),null}if(n=Gc(lo.current),yy(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[Gs]=e,r[Im]=s,n=(e.mode&1)!==0,t){case"dialog":zt("cancel",r),zt("close",r);break;case"iframe":case"object":case"embed":zt("load",r);break;case"video":case"audio":for(i=0;i<_p.length;i++)zt(_p[i],r);break;case"source":zt("error",r);break;case"img":case"image":case"link":zt("error",r),zt("load",r);break;case"details":zt("toggle",r);break;case"input":uI(r,s),zt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},zt("invalid",r);break;case"textarea":dI(r,s),zt("invalid",r)}e_(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Oy(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Oy(r.textContent,a,n),i=["children",""+a]):km.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&zt("scroll",r)}switch(t){case"input":cy(r),hI(r,s,!0);break;case"textarea":cy(r),fI(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=qv)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=m4(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[Gs]=e,n[Im]=r,V5(n,e,!1,!1),e.stateNode=n;e:{switch(o=t_(t,r),t){case"dialog":zt("cancel",n),zt("close",n),i=r;break;case"iframe":case"object":case"embed":zt("load",n),i=r;break;case"video":case"audio":for(i=0;i<_p.length;i++)zt(_p[i],n);i=r;break;case"source":zt("error",n),i=r;break;case"img":case"image":case"link":zt("error",n),zt("load",n),i=r;break;case"details":zt("toggle",n),i=r;break;case"input":uI(n,r),i=Gk(n,r),zt("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Jt({},r,{value:void 0}),zt("invalid",n);break;case"textarea":dI(n,r),i=Kk(n,r),zt("invalid",n);break;default:i=r}e_(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?y4(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&g4(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&_m(n,l):typeof l=="number"&&_m(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(km.hasOwnProperty(s)?l!=null&&s==="onScroll"&&zt("scroll",n):l!=null&&dE(n,s,l,o))}switch(t){case"input":cy(n),hI(n,r,!1);break;case"textarea":cy(n),fI(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Bl(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?jh(n,!!r.multiple,s,!1):r.defaultValue!=null&&jh(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=qv)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return pr(e),null;case 6:if(n&&e.stateNode!=null)z5(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(se(166));if(t=Gc(jm.current),Gc(lo.current),yy(e)){if(r=e.stateNode,t=e.memoizedProps,r[Gs]=e,(s=r.nodeValue!==t)&&(n=Ei,n!==null))switch(n.tag){case 3:Oy(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Oy(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Gs]=e,e.stateNode=r}return pr(e),null;case 13:if(Zt(Yt),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ft&&vi!==null&&e.mode&1&&!(e.flags&128))s5(),bd(),e.flags|=98560,s=!1;else if(s=yy(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(se(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(se(317));s[Gs]=e}else bd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;pr(e),s=!1}else us!==null&&(N_(us),us=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||Yt.current&1?Nn===0&&(Nn=3):XE())),e.updateQueue!==null&&(e.flags|=4),pr(e),null);case 4:return kd(),P_(n,e),n===null&&Qm(e.stateNode.containerInfo),pr(e),null;case 10:return RE(e.type._context),pr(e),null;case 17:return ii(e.type)&&Zv(),pr(e),null;case 19:if(Zt(Yt),s=e.memoizedState,s===null)return pr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)tp(s,!1);else{if(Nn!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Hv(n),o!==null){for(e.flags|=128,tp(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Rt(Yt,Yt.current&1|2),e.child}n=n.sibling}s.tail!==null&&mn()>Td&&(e.flags|=128,r=!0,tp(s,!1),e.lanes=4194304)}else{if(!r)if(n=Hv(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),tp(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ft)return pr(e),null}else 2*mn()-s.renderingStartTime>Td&&t!==1073741824&&(e.flags|=128,r=!0,tp(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=mn(),e.sibling=null,t=Yt.current,Rt(Yt,r?t&1|2:t&1),e):(pr(e),null);case 22:case 23:return WE(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?mi&1073741824&&(pr(e),e.subtreeFlags&6&&(e.flags|=8192)):pr(e),null;case 24:return null;case 25:return null}throw Error(se(156,e.tag))}function IH(n,e){switch(PE(e),e.tag){case 1:return ii(e.type)&&Zv(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return kd(),Zt(ri),Zt(_r),jE(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return NE(e),null;case 13:if(Zt(Yt),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(se(340));bd()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Zt(Yt),null;case 4:return kd(),null;case 10:return RE(e.type._context),null;case 22:case 23:return WE(),null;case 24:return null;default:return null}}var xy=!1,vr=!1,NH=typeof WeakSet=="function"?WeakSet:Set,_e=null;function kh(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){sn(n,e,r)}else t.current=null}function C_(n,e,t){try{t()}catch(r){sn(n,e,r)}}var n2=!1;function jH(n,e){if(h_=Lv,n=F4(),_E(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=n,d=null;t:for(;;){for(var m;h!==t||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)d=h,h=m;for(;;){if(h===n)break t;if(d===t&&++c===i&&(a=o),d===s&&++u===r&&(l=o),(m=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(d_={focusedElem:n,selectionRange:t},Lv=!1,_e=e;_e!==null;)if(e=_e,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,_e=n;else for(;_e!==null;){e=_e;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,v=g.memoizedState,S=e.stateNode,b=S.getSnapshotBeforeUpdate(e.elementType===e.type?y:as(e.type,y),v);S.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(se(163))}}catch($){sn(e,e.return,$)}if(n=e.sibling,n!==null){n.return=e.return,_e=n;break}_e=e.return}return g=n2,n2=!1,g}function im(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&C_(e,t,s)}i=i.next}while(i!==r)}}function zx(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function E_(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function U5(n){var e=n.alternate;e!==null&&(n.alternate=null,U5(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Gs],delete e[Im],delete e[m_],delete e[yH],delete e[vH])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function q5(n){return n.tag===5||n.tag===3||n.tag===4}function r2(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||q5(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function A_(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=qv));else if(r!==4&&(n=n.child,n!==null))for(A_(n,e,t),n=n.sibling;n!==null;)A_(n,e,t),n=n.sibling}function R_(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(R_(n,e,t),n=n.sibling;n!==null;)R_(n,e,t),n=n.sibling}var Yn=null,cs=!1;function Fa(n,e,t){for(t=t.child;t!==null;)Z5(n,e,t),t=t.sibling}function Z5(n,e,t){if(ao&&typeof ao.onCommitFiberUnmount=="function")try{ao.onCommitFiberUnmount($x,t)}catch{}switch(t.tag){case 5:vr||kh(t,e);case 6:var r=Yn,i=cs;Yn=null,Fa(n,e,t),Yn=r,cs=i,Yn!==null&&(cs?(n=Yn,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Yn.removeChild(t.stateNode));break;case 18:Yn!==null&&(cs?(n=Yn,t=t.stateNode,n.nodeType===8?DS(n.parentNode,t):n.nodeType===1&&DS(n,t),Em(n)):DS(Yn,t.stateNode));break;case 4:r=Yn,i=cs,Yn=t.stateNode.containerInfo,cs=!0,Fa(n,e,t),Yn=r,cs=i;break;case 0:case 11:case 14:case 15:if(!vr&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&C_(t,e,o),i=i.next}while(i!==r)}Fa(n,e,t);break;case 1:if(!vr&&(kh(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){sn(t,e,a)}Fa(n,e,t);break;case 21:Fa(n,e,t);break;case 22:t.mode&1?(vr=(r=vr)||t.memoizedState!==null,Fa(n,e,t),vr=r):Fa(n,e,t);break;default:Fa(n,e,t)}}function i2(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new NH),e.forEach(function(r){var i=BH.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function ss(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Yn=a.stateNode,cs=!1;break e;case 3:Yn=a.stateNode.containerInfo,cs=!0;break e;case 4:Yn=a.stateNode.containerInfo,cs=!0;break e}a=a.return}if(Yn===null)throw Error(se(160));Z5(s,o,i),Yn=null,cs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){sn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)B5(e,n),e=e.sibling}function B5(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(ss(e,n),Ds(n),r&4){try{im(3,n,n.return),zx(3,n)}catch(y){sn(n,n.return,y)}try{im(5,n,n.return)}catch(y){sn(n,n.return,y)}}break;case 1:ss(e,n),Ds(n),r&512&&t!==null&&kh(t,t.return);break;case 5:if(ss(e,n),Ds(n),r&512&&t!==null&&kh(t,t.return),n.flags&32){var i=n.stateNode;try{_m(i,"")}catch(y){sn(n,n.return,y)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&f4(i,s),t_(a,o);var c=t_(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?y4(i,h):u==="dangerouslySetInnerHTML"?g4(i,h):u==="children"?_m(i,h):dE(i,u,h,c)}switch(a){case"input":Yk(i,s);break;case"textarea":p4(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?jh(i,!!s.multiple,m,!1):d!==!!s.multiple&&(s.defaultValue!=null?jh(i,!!s.multiple,s.defaultValue,!0):jh(i,!!s.multiple,s.multiple?[]:"",!1))}i[Im]=s}catch(y){sn(n,n.return,y)}}break;case 6:if(ss(e,n),Ds(n),r&4){if(n.stateNode===null)throw Error(se(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(y){sn(n,n.return,y)}}break;case 3:if(ss(e,n),Ds(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{Em(e.containerInfo)}catch(y){sn(n,n.return,y)}break;case 4:ss(e,n),Ds(n);break;case 13:ss(e,n),Ds(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(BE=mn())),r&4&&i2(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(vr=(c=vr)||u,ss(e,n),vr=c):ss(e,n),Ds(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(_e=n,u=n.child;u!==null;){for(h=_e=u;_e!==null;){switch(d=_e,m=d.child,d.tag){case 0:case 11:case 14:case 15:im(4,d,d.return);break;case 1:kh(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){r=d,t=d.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){sn(r,t,y)}}break;case 5:kh(d,d.return);break;case 22:if(d.memoizedState!==null){o2(h);continue}}m!==null?(m.return=d,_e=m):o2(h)}u=u.sibling}e:for(u=null,h=n;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=O4("display",o))}catch(y){sn(n,n.return,y)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){sn(n,n.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ss(e,n),Ds(n),r&4&&i2(n);break;case 21:break;default:ss(e,n),Ds(n)}}function Ds(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(q5(t)){var r=t;break e}t=t.return}throw Error(se(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(_m(i,""),r.flags&=-33);var s=r2(n);R_(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=r2(n);A_(n,a,o);break;default:throw Error(se(161))}}catch(l){sn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function DH(n,e,t){_e=n,F5(n)}function F5(n,e,t){for(var r=(n.mode&1)!==0;_e!==null;){var i=_e,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||xy;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||vr;a=xy;var c=vr;if(xy=o,(vr=l)&&!c)for(_e=i;_e!==null;)o=_e,l=o.child,o.tag===22&&o.memoizedState!==null?a2(i):l!==null?(l.return=o,_e=l):a2(i);for(;s!==null;)_e=s,F5(s),s=s.sibling;_e=i,xy=a,vr=c}s2(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,_e=s):s2(n)}}function s2(n){for(;_e!==null;){var e=_e;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:vr||zx(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!vr)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:as(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&qI(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}qI(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Em(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(se(163))}vr||e.flags&512&&E_(e)}catch(d){sn(e,e.return,d)}}if(e===n){_e=null;break}if(t=e.sibling,t!==null){t.return=e.return,_e=t;break}_e=e.return}}function o2(n){for(;_e!==null;){var e=_e;if(e===n){_e=null;break}var t=e.sibling;if(t!==null){t.return=e.return,_e=t;break}_e=e.return}}function a2(n){for(;_e!==null;){var e=_e;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{zx(4,e)}catch(l){sn(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){sn(e,i,l)}}var s=e.return;try{E_(e)}catch(l){sn(e,s,l)}break;case 5:var o=e.return;try{E_(e)}catch(l){sn(e,o,l)}}}catch(l){sn(e,e.return,l)}if(e===n){_e=null;break}var a=e.sibling;if(a!==null){a.return=e.return,_e=a;break}_e=e.return}}var MH=Math.ceil,ew=Da.ReactCurrentDispatcher,qE=Da.ReactCurrentOwner,Wi=Da.ReactCurrentBatchConfig,pt=0,Wn=null,bn=null,ar=0,mi=0,_h=wc(0),Nn=0,Lm=null,gu=0,Ux=0,ZE=0,sm=null,Yr=null,BE=0,Td=1/0,ra=null,tw=!1,Q_=null,Il=null,by=!1,Sl=null,nw=0,om=0,$_=null,C0=-1,E0=0;function jr(){return pt&6?mn():C0!==-1?C0:C0=mn()}function Nl(n){return n.mode&1?pt&2&&ar!==0?ar&-ar:xH.transition!==null?(E0===0&&(E0=A4()),E0):(n=bt,n!==0||(n=window.event,n=n===void 0?16:D4(n.type)),n):1}function xs(n,e,t,r){if(50<om)throw om=0,$_=null,Error(se(185));aO(n,t,r),(!(pt&2)||n!==Wn)&&(n===Wn&&(!(pt&2)&&(Ux|=t),Nn===4&&il(n,ar)),si(n,r),t===1&&pt===0&&!(e.mode&1)&&(Td=mn()+500,Mx&&xc()))}function si(n,e){var t=n.callbackNode;xY(n,e);var r=Vv(n,n===Wn?ar:0);if(r===0)t!==null&&gI(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&gI(t),e===1)n.tag===0?wH(l2.bind(null,n)):n5(l2.bind(null,n)),gH(function(){!(pt&6)&&xc()}),t=null;else{switch(R4(r)){case 1:t=OE;break;case 4:t=C4;break;case 16:t=Mv;break;case 536870912:t=E4;break;default:t=Mv}t=ez(t,W5.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function W5(n,e){if(C0=-1,E0=0,pt&6)throw Error(se(327));var t=n.callbackNode;if(zh()&&n.callbackNode!==t)return null;var r=Vv(n,n===Wn?ar:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=rw(n,r);else{e=r;var i=pt;pt|=2;var s=G5();(Wn!==n||ar!==e)&&(ra=null,Td=mn()+500,au(n,e));do try{zH();break}catch(a){X5(n,a)}while(!0);AE(),ew.current=s,pt=i,bn!==null?e=0:(Wn=null,ar=0,e=Nn)}if(e!==0){if(e===2&&(i=o_(n),i!==0&&(r=i,e=I_(n,i))),e===1)throw t=Lm,au(n,0),il(n,r),si(n,mn()),t;if(e===6)il(n,r);else{if(i=n.current.alternate,!(r&30)&&!VH(i)&&(e=rw(n,r),e===2&&(s=o_(n),s!==0&&(r=s,e=I_(n,s))),e===1))throw t=Lm,au(n,0),il(n,r),si(n,mn()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(se(345));case 2:Uc(n,Yr,ra);break;case 3:if(il(n,r),(r&130023424)===r&&(e=BE+500-mn(),10<e)){if(Vv(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){jr(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=p_(Uc.bind(null,n,Yr,ra),e);break}Uc(n,Yr,ra);break;case 4:if(il(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-ws(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=mn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*MH(r/1960))-r,10<r){n.timeoutHandle=p_(Uc.bind(null,n,Yr,ra),r);break}Uc(n,Yr,ra);break;case 5:Uc(n,Yr,ra);break;default:throw Error(se(329))}}}return si(n,mn()),n.callbackNode===t?W5.bind(null,n):null}function I_(n,e){var t=sm;return n.current.memoizedState.isDehydrated&&(au(n,e).flags|=256),n=rw(n,e),n!==2&&(e=Yr,Yr=t,e!==null&&N_(e)),n}function N_(n){Yr===null?Yr=n:Yr.push.apply(Yr,n)}function VH(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!ks(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function il(n,e){for(e&=~ZE,e&=~Ux,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-ws(e),r=1<<t;n[t]=-1,e&=~r}}function l2(n){if(pt&6)throw Error(se(327));zh();var e=Vv(n,0);if(!(e&1))return si(n,mn()),null;var t=rw(n,e);if(n.tag!==0&&t===2){var r=o_(n);r!==0&&(e=r,t=I_(n,r))}if(t===1)throw t=Lm,au(n,0),il(n,e),si(n,mn()),t;if(t===6)throw Error(se(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Uc(n,Yr,ra),si(n,mn()),null}function FE(n,e){var t=pt;pt|=1;try{return n(e)}finally{pt=t,pt===0&&(Td=mn()+500,Mx&&xc())}}function Ou(n){Sl!==null&&Sl.tag===0&&!(pt&6)&&zh();var e=pt;pt|=1;var t=Wi.transition,r=bt;try{if(Wi.transition=null,bt=1,n)return n()}finally{bt=r,Wi.transition=t,pt=e,!(pt&6)&&xc()}}function WE(){mi=_h.current,Zt(_h)}function au(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,mH(t)),bn!==null)for(t=bn.return;t!==null;){var r=t;switch(PE(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zv();break;case 3:kd(),Zt(ri),Zt(_r),jE();break;case 5:NE(r);break;case 4:kd();break;case 13:Zt(Yt);break;case 19:Zt(Yt);break;case 10:RE(r.type._context);break;case 22:case 23:WE()}t=t.return}if(Wn=n,bn=n=jl(n.current,null),ar=mi=e,Nn=0,Lm=null,ZE=Ux=gu=0,Yr=sm=null,Xc!==null){for(e=0;e<Xc.length;e++)if(t=Xc[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}Xc=null}return n}function X5(n,e){do{var t=bn;try{if(AE(),_0.current=Jv,Kv){for(var r=Ht.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Kv=!1}if(mu=0,zn=Cn=Ht=null,rm=!1,Dm=0,qE.current=null,t===null||t.return===null){Nn=1,Lm=e,bn=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=ar,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=GI(o);if(m!==null){m.flags&=-257,YI(m,o,a,s,e),m.mode&1&&XI(s,c,e),e=m,l=c;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){XI(s,c,e),XE();break e}l=Error(se(426))}}else if(Ft&&a.mode&1){var v=GI(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),YI(v,o,a,s,e),CE(_d(l,a));break e}}s=l=_d(l,a),Nn!==4&&(Nn=2),sm===null?sm=[s]:sm.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var S=R5(s,l,e);UI(s,S);break e;case 1:a=l;var b=s.type,k=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Il===null||!Il.has(k)))){s.flags|=65536,e&=-e,s.lanes|=e;var $=Q5(s,a,e);UI(s,$);break e}}s=s.return}while(s!==null)}H5(t)}catch(C){e=C,bn===t&&t!==null&&(bn=t=t.return);continue}break}while(!0)}function G5(){var n=ew.current;return ew.current=Jv,n===null?Jv:n}function XE(){(Nn===0||Nn===3||Nn===2)&&(Nn=4),Wn===null||!(gu&268435455)&&!(Ux&268435455)||il(Wn,ar)}function rw(n,e){var t=pt;pt|=2;var r=G5();(Wn!==n||ar!==e)&&(ra=null,au(n,e));do try{LH();break}catch(i){X5(n,i)}while(!0);if(AE(),pt=t,ew.current=r,bn!==null)throw Error(se(261));return Wn=null,ar=0,Nn}function LH(){for(;bn!==null;)Y5(bn)}function zH(){for(;bn!==null&&!dY();)Y5(bn)}function Y5(n){var e=J5(n.alternate,n,mi);n.memoizedProps=n.pendingProps,e===null?H5(n):bn=e,qE.current=null}function H5(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=IH(t,e),t!==null){t.flags&=32767,bn=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Nn=6,bn=null;return}}else if(t=$H(t,e,mi),t!==null){bn=t;return}if(e=e.sibling,e!==null){bn=e;return}bn=e=n}while(e!==null);Nn===0&&(Nn=5)}function Uc(n,e,t){var r=bt,i=Wi.transition;try{Wi.transition=null,bt=1,UH(n,e,t,r)}finally{Wi.transition=i,bt=r}return null}function UH(n,e,t,r){do zh();while(Sl!==null);if(pt&6)throw Error(se(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(se(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(bY(n,s),n===Wn&&(bn=Wn=null,ar=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||by||(by=!0,ez(Mv,function(){return zh(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Wi.transition,Wi.transition=null;var o=bt;bt=1;var a=pt;pt|=4,qE.current=null,jH(n,t),B5(t,n),lH(d_),Lv=!!h_,d_=h_=null,n.current=t,DH(t),fY(),pt=a,bt=o,Wi.transition=s}else n.current=t;if(by&&(by=!1,Sl=n,nw=i),s=n.pendingLanes,s===0&&(Il=null),gY(t.stateNode),si(n,mn()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(tw)throw tw=!1,n=Q_,Q_=null,n;return nw&1&&n.tag!==0&&zh(),s=n.pendingLanes,s&1?n===$_?om++:(om=0,$_=n):om=0,xc(),null}function zh(){if(Sl!==null){var n=R4(nw),e=Wi.transition,t=bt;try{if(Wi.transition=null,bt=16>n?16:n,Sl===null)var r=!1;else{if(n=Sl,Sl=null,nw=0,pt&6)throw Error(se(331));var i=pt;for(pt|=4,_e=n.current;_e!==null;){var s=_e,o=s.child;if(_e.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(_e=c;_e!==null;){var u=_e;switch(u.tag){case 0:case 11:case 15:im(8,u,s)}var h=u.child;if(h!==null)h.return=u,_e=h;else for(;_e!==null;){u=_e;var d=u.sibling,m=u.return;if(U5(u),u===c){_e=null;break}if(d!==null){d.return=m,_e=d;break}_e=m}}}var g=s.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}_e=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,_e=o;else e:for(;_e!==null;){if(s=_e,s.flags&2048)switch(s.tag){case 0:case 11:case 15:im(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,_e=S;break e}_e=s.return}}var b=n.current;for(_e=b;_e!==null;){o=_e;var k=o.child;if(o.subtreeFlags&2064&&k!==null)k.return=o,_e=k;else e:for(o=b;_e!==null;){if(a=_e,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:zx(9,a)}}catch(C){sn(a,a.return,C)}if(a===o){_e=null;break e}var $=a.sibling;if($!==null){$.return=a.return,_e=$;break e}_e=a.return}}if(pt=i,xc(),ao&&typeof ao.onPostCommitFiberRoot=="function")try{ao.onPostCommitFiberRoot($x,n)}catch{}r=!0}return r}finally{bt=t,Wi.transition=e}}return!1}function c2(n,e,t){e=_d(t,e),e=R5(n,e,1),n=$l(n,e,1),e=jr(),n!==null&&(aO(n,1,e),si(n,e))}function sn(n,e,t){if(n.tag===3)c2(n,n,t);else for(;e!==null;){if(e.tag===3){c2(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Il===null||!Il.has(r))){n=_d(t,n),n=Q5(e,n,1),e=$l(e,n,1),n=jr(),e!==null&&(aO(e,1,n),si(e,n));break}}e=e.return}}function qH(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=jr(),n.pingedLanes|=n.suspendedLanes&t,Wn===n&&(ar&t)===t&&(Nn===4||Nn===3&&(ar&130023424)===ar&&500>mn()-BE?au(n,0):ZE|=t),si(n,e)}function K5(n,e){e===0&&(n.mode&1?(e=dy,dy<<=1,!(dy&130023424)&&(dy=4194304)):e=1);var t=jr();n=Sa(n,e),n!==null&&(aO(n,e,t),si(n,t))}function ZH(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),K5(n,t)}function BH(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(se(314))}r!==null&&r.delete(e),K5(n,t)}var J5;J5=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||ri.current)ti=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return ti=!1,QH(n,e,t);ti=!!(n.flags&131072)}else ti=!1,Ft&&e.flags&1048576&&r5(e,Wv,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;P0(n,e),n=e.pendingProps;var i=xd(e,_r.current);Lh(e,t),i=ME(null,e,r,n,i,t);var s=VE();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ii(r)?(s=!0,Bv(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,$E(e),i.updater=Lx,e.stateNode=i,i._reactInternals=e,x_(e,r,n,t),e=k_(null,e,r,!0,s,t)):(e.tag=0,Ft&&s&&TE(e),Ir(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(P0(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=WH(r),n=as(r,n),i){case 0:e=S_(null,e,r,n,t);break e;case 1:e=JI(null,e,r,n,t);break e;case 11:e=HI(null,e,r,n,t);break e;case 14:e=KI(null,e,r,as(r.type,n),t);break e}throw Error(se(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:as(r,i),S_(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:as(r,i),JI(n,e,r,i,t);case 3:e:{if(j5(e),n===null)throw Error(se(387));r=e.pendingProps,s=e.memoizedState,i=s.element,c5(n,e),Yv(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=_d(Error(se(423)),e),e=e2(n,e,r,t,i);break e}else if(r!==i){i=_d(Error(se(424)),e),e=e2(n,e,r,t,i);break e}else for(vi=Ql(e.stateNode.containerInfo.firstChild),Ei=e,Ft=!0,us=null,t=a5(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(bd(),r===i){e=ka(n,e,t);break e}Ir(n,e,r,t)}e=e.child}return e;case 5:return u5(e),n===null&&y_(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,f_(r,i)?o=null:s!==null&&f_(r,s)&&(e.flags|=32),N5(n,e),Ir(n,e,o,t),e.child;case 6:return n===null&&y_(e),null;case 13:return D5(n,e,t);case 4:return IE(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Sd(e,null,r,t):Ir(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:as(r,i),HI(n,e,r,i,t);case 7:return Ir(n,e,e.pendingProps,t),e.child;case 8:return Ir(n,e,e.pendingProps.children,t),e.child;case 12:return Ir(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Rt(Xv,r._currentValue),r._currentValue=o,s!==null)if(ks(s.value,o)){if(s.children===i.children&&!ri.current){e=ka(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ga(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),v_(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(se(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),v_(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ir(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Lh(e,t),i=Yi(i),r=r(i),e.flags|=1,Ir(n,e,r,t),e.child;case 14:return r=e.type,i=as(r,e.pendingProps),i=as(r.type,i),KI(n,e,r,i,t);case 15:return $5(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:as(r,i),P0(n,e),e.tag=1,ii(r)?(n=!0,Bv(e)):n=!1,Lh(e,t),A5(e,r,i),x_(e,r,i,t),k_(null,e,r,!0,n,t);case 19:return M5(n,e,t);case 22:return I5(n,e,t)}throw Error(se(156,e.tag))};function ez(n,e){return P4(n,e)}function FH(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zi(n,e,t,r){return new FH(n,e,t,r)}function GE(n){return n=n.prototype,!(!n||!n.isReactComponent)}function WH(n){if(typeof n=="function")return GE(n)?1:0;if(n!=null){if(n=n.$$typeof,n===pE)return 11;if(n===mE)return 14}return 2}function jl(n,e){var t=n.alternate;return t===null?(t=Zi(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function A0(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")GE(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case mh:return lu(t.children,i,s,e);case fE:o=8,i|=8;break;case Bk:return n=Zi(12,t,e,i|2),n.elementType=Bk,n.lanes=s,n;case Fk:return n=Zi(13,t,e,i),n.elementType=Fk,n.lanes=s,n;case Wk:return n=Zi(19,t,e,i),n.elementType=Wk,n.lanes=s,n;case u4:return qx(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case l4:o=10;break e;case c4:o=9;break e;case pE:o=11;break e;case mE:o=14;break e;case Ja:o=16,r=null;break e}throw Error(se(130,n==null?n:typeof n,""))}return e=Zi(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function lu(n,e,t,r){return n=Zi(7,n,r,e),n.lanes=t,n}function qx(n,e,t,r){return n=Zi(22,n,r,e),n.elementType=u4,n.lanes=t,n.stateNode={isHidden:!1},n}function BS(n,e,t){return n=Zi(6,n,null,e),n.lanes=t,n}function FS(n,e,t){return e=Zi(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function XH(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=TS(0),this.expirationTimes=TS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=TS(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function YE(n,e,t,r,i,s,o,a,l){return n=new XH(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Zi(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},$E(s),n}function GH(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ph,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function tz(n){if(!n)return Fl;n=n._reactInternals;e:{if(Vu(n)!==n||n.tag!==1)throw Error(se(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ii(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(se(171))}if(n.tag===1){var t=n.type;if(ii(t))return t5(n,t,e)}return e}function nz(n,e,t,r,i,s,o,a,l){return n=YE(t,r,!0,n,i,s,o,a,l),n.context=tz(null),t=n.current,r=jr(),i=Nl(t),s=ga(r,i),s.callback=e??null,$l(t,s,i),n.current.lanes=i,aO(n,i,r),si(n,r),n}function Zx(n,e,t,r){var i=e.current,s=jr(),o=Nl(i);return t=tz(t),e.context===null?e.context=t:e.pendingContext=t,e=ga(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=$l(i,e,o),n!==null&&(xs(n,i,o,s),k0(n,i,o)),o}function iw(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function u2(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function HE(n,e){u2(n,e),(n=n.alternate)&&u2(n,e)}function YH(){return null}var rz=typeof reportError=="function"?reportError:function(n){console.error(n)};function KE(n){this._internalRoot=n}Bx.prototype.render=KE.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(se(409));Zx(n,e,null,null)};Bx.prototype.unmount=KE.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Ou(function(){Zx(null,n,null,null)}),e[ba]=null}};function Bx(n){this._internalRoot=n}Bx.prototype.unstable_scheduleHydration=function(n){if(n){var e=I4();n={blockedOn:null,target:n,priority:e};for(var t=0;t<rl.length&&e!==0&&e<rl[t].priority;t++);rl.splice(t,0,n),t===0&&j4(n)}};function JE(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Fx(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function h2(){}function HH(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=iw(o);s.call(c)}}var o=nz(e,r,n,0,null,!1,!1,"",h2);return n._reactRootContainer=o,n[ba]=o.current,Qm(n.nodeType===8?n.parentNode:n),Ou(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=iw(l);a.call(c)}}var l=YE(n,0,!1,null,null,!1,!1,"",h2);return n._reactRootContainer=l,n[ba]=l.current,Qm(n.nodeType===8?n.parentNode:n),Ou(function(){Zx(e,l,t,r)}),l}function Wx(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=iw(o);a.call(l)}}Zx(e,o,n,i)}else o=HH(t,e,n,i,r);return iw(o)}Q4=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=kp(e.pendingLanes);t!==0&&(yE(e,t|1),si(e,mn()),!(pt&6)&&(Td=mn()+500,xc()))}break;case 13:Ou(function(){var r=Sa(n,1);if(r!==null){var i=jr();xs(r,n,1,i)}}),HE(n,1)}};vE=function(n){if(n.tag===13){var e=Sa(n,134217728);if(e!==null){var t=jr();xs(e,n,134217728,t)}HE(n,134217728)}};$4=function(n){if(n.tag===13){var e=Nl(n),t=Sa(n,e);if(t!==null){var r=jr();xs(t,n,e,r)}HE(n,e)}};I4=function(){return bt};N4=function(n,e){var t=bt;try{return bt=n,e()}finally{bt=t}};r_=function(n,e,t){switch(e){case"input":if(Yk(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=Dx(r);if(!i)throw Error(se(90));d4(r),Yk(r,i)}}}break;case"textarea":p4(n,t);break;case"select":e=t.value,e!=null&&jh(n,!!t.multiple,e,!1)}};x4=FE;b4=Ou;var KH={usingClientEntryPoint:!1,Events:[cO,vh,Dx,v4,w4,FE]},np={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JH={bundleType:np.bundleType,version:np.version,rendererPackageName:np.rendererPackageName,rendererConfig:np.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Da.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=_4(n),n===null?null:n.stateNode},findFiberByHostInstance:np.findFiberByHostInstance||YH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sy.isDisabled&&Sy.supportsFiber)try{$x=Sy.inject(JH),ao=Sy}catch{}}$i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KH;$i.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!JE(e))throw Error(se(200));return GH(n,e,null,t)};$i.createRoot=function(n,e){if(!JE(n))throw Error(se(299));var t=!1,r="",i=rz;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=YE(n,1,!1,null,null,t,!1,r,i),n[ba]=e.current,Qm(n.nodeType===8?n.parentNode:n),new KE(e)};$i.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(se(188)):(n=Object.keys(n).join(","),Error(se(268,n)));return n=_4(e),n=n===null?null:n.stateNode,n};$i.flushSync=function(n){return Ou(n)};$i.hydrate=function(n,e,t){if(!Fx(e))throw Error(se(200));return Wx(null,n,e,!0,t)};$i.hydrateRoot=function(n,e,t){if(!JE(n))throw Error(se(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=rz;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=nz(e,null,n,1,t??null,i,!1,s,o),n[ba]=e.current,Qm(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new Bx(e)};$i.render=function(n,e,t){if(!Fx(e))throw Error(se(200));return Wx(null,n,e,!1,t)};$i.unmountComponentAtNode=function(n){if(!Fx(n))throw Error(se(40));return n._reactRootContainer?(Ou(function(){Wx(null,null,n,!1,function(){n._reactRootContainer=null,n[ba]=null})}),!0):!1};$i.unstable_batchedUpdates=FE;$i.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!Fx(t))throw Error(se(200));if(n==null||n._reactInternals===void 0)throw Error(se(38));return Wx(n,e,t,!1,r)};$i.version="18.3.1-next-f1338f8080-20240426";function iz(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iz)}catch(n){console.error(n)}}iz(),i4.exports=$i;var Lu=i4.exports;const eK=BL(Lu);var sz,d2=Lu;sz=d2.createRoot,d2.hydrateRoot;var mf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},yu=typeof window>"u"||"Deno"in globalThis;function Mi(){}function tK(n,e){return typeof n=="function"?n(e):n}function j_(n){return typeof n=="number"&&n>=0&&n!==1/0}function oz(n,e){return Math.max(n+(e||0)-Date.now(),0)}function Uh(n,e){return typeof n=="function"?n(e):n}function hs(n,e){return typeof n=="function"?n(e):n}function f2(n,e){const{type:t="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=n;if(o){if(r){if(e.queryHash!==eA(o,e.options))return!1}else if(!zm(e.queryKey,o))return!1}if(t!=="all"){const l=e.isActive();if(t==="active"&&!l||t==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function p2(n,e){const{exact:t,status:r,predicate:i,mutationKey:s}=n;if(s){if(!e.options.mutationKey)return!1;if(t){if(vu(e.options.mutationKey)!==vu(s))return!1}else if(!zm(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function eA(n,e){return((e==null?void 0:e.queryKeyHashFn)||vu)(n)}function vu(n){return JSON.stringify(n,(e,t)=>D_(t)?Object.keys(t).sort().reduce((r,i)=>(r[i]=t[i],r),{}):t)}function zm(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?!Object.keys(e).some(t=>!zm(n[t],e[t])):!1}function az(n,e){if(n===e)return n;const t=m2(n)&&m2(e);if(t||D_(n)&&D_(e)){const r=t?n:Object.keys(n),i=r.length,s=t?e:Object.keys(e),o=s.length,a=t?[]:{};let l=0;for(let c=0;c<o;c++){const u=t?c:s[c];(!t&&r.includes(u)||t)&&n[u]===void 0&&e[u]===void 0?(a[u]=void 0,l++):(a[u]=az(n[u],e[u]),a[u]===n[u]&&n[u]!==void 0&&l++)}return i===o&&l===i?n:a}return e}function sw(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function m2(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function D_(n){if(!g2(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!g2(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function g2(n){return Object.prototype.toString.call(n)==="[object Object]"}function nK(n){return new Promise(e=>{setTimeout(e,n)})}function M_(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?az(n,e):e}function rK(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function iK(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var tA=Symbol();function lz(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===tA?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var eu,fl,ad,NL,sK=(NL=class extends mf{constructor(){super();je(this,eu);je(this,fl);je(this,ad);we(this,ad,e=>{if(!yu&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){z(this,fl)||this.setEventListener(z(this,ad))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,fl))==null||e.call(this),we(this,fl,void 0))}setEventListener(e){var t;we(this,ad,e),(t=z(this,fl))==null||t.call(this),we(this,fl,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){z(this,eu)!==e&&(we(this,eu,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof z(this,eu)=="boolean"?z(this,eu):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},eu=new WeakMap,fl=new WeakMap,ad=new WeakMap,NL),nA=new sK,ld,pl,cd,jL,oK=(jL=class extends mf{constructor(){super();je(this,ld,!0);je(this,pl);je(this,cd);we(this,cd,e=>{if(!yu&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){z(this,pl)||this.setEventListener(z(this,cd))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,pl))==null||e.call(this),we(this,pl,void 0))}setEventListener(e){var t;we(this,cd,e),(t=z(this,pl))==null||t.call(this),we(this,pl,e(this.setOnline.bind(this)))}setOnline(e){z(this,ld)!==e&&(we(this,ld,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return z(this,ld)}},ld=new WeakMap,pl=new WeakMap,cd=new WeakMap,jL),ow=new oK;function V_(){let n,e;const t=new Promise((i,s)=>{n=i,e=s});t.status="pending",t.catch(()=>{});function r(i){Object.assign(t,i),delete t.resolve,delete t.reject}return t.resolve=i=>{r({status:"fulfilled",value:i}),n(i)},t.reject=i=>{r({status:"rejected",reason:i}),e(i)},t}function aK(n){return Math.min(1e3*2**n,3e4)}function cz(n){return(n??"online")==="online"?ow.isOnline():!0}var uz=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function WS(n){return n instanceof uz}function hz(n){let e=!1,t=0,r=!1,i;const s=V_(),o=y=>{var v;r||(d(new uz(y)),(v=n.abort)==null||v.call(n))},a=()=>{e=!0},l=()=>{e=!1},c=()=>nA.isFocused()&&(n.networkMode==="always"||ow.isOnline())&&n.canRun(),u=()=>cz(n.networkMode)&&n.canRun(),h=y=>{var v;r||(r=!0,(v=n.onSuccess)==null||v.call(n,y),i==null||i(),s.resolve(y))},d=y=>{var v;r||(r=!0,(v=n.onError)==null||v.call(n,y),i==null||i(),s.reject(y))},m=()=>new Promise(y=>{var v;i=S=>{(r||c())&&y(S)},(v=n.onPause)==null||v.call(n)}).then(()=>{var y;i=void 0,r||(y=n.onContinue)==null||y.call(n)}),g=()=>{if(r)return;let y;const v=t===0?n.initialPromise:void 0;try{y=v??n.fn()}catch(S){y=Promise.reject(S)}Promise.resolve(y).then(h).catch(S=>{var Q;if(r)return;const b=n.retry??(yu?0:3),k=n.retryDelay??aK,$=typeof k=="function"?k(t,S):k,C=b===!0||typeof b=="number"&&t<b||typeof b=="function"&&b(t,S);if(e||!C){d(S);return}t++,(Q=n.onFail)==null||Q.call(n,t,S),nK($).then(()=>c()?void 0:m()).then(()=>{e?d(S):g()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?g():m().then(g),s)}}function lK(){let n=[],e=0,t=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const s=a=>{e?n.push(a):i(()=>{t(a)})},o=()=>{const a=n;n=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{t(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{t=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var An=lK(),tu,DL,dz=(DL=class{constructor(){je(this,tu)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),j_(this.gcTime)&&we(this,tu,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(yu?1/0:5*60*1e3))}clearGcTimeout(){z(this,tu)&&(clearTimeout(z(this,tu)),we(this,tu,void 0))}},tu=new WeakMap,DL),ud,hd,Di,gr,nO,nu,ls,Ho,ML,cK=(ML=class extends dz{constructor(t){super();je(this,ls);je(this,ud);je(this,hd);je(this,Di);je(this,gr);je(this,nO);je(this,nu);we(this,nu,!1),we(this,nO,t.defaultOptions),this.setOptions(t.options),this.observers=[],we(this,Di,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,we(this,ud,uK(this.options)),this.state=t.state??z(this,ud),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=z(this,gr))==null?void 0:t.promise}setOptions(t){this.options={...z(this,nO),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,Di).remove(this)}setData(t,r){const i=M_(this.state.data,t,this.options);return Xe(this,ls,Ho).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(t,r){Xe(this,ls,Ho).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var i,s;const r=(i=z(this,gr))==null?void 0:i.promise;return(s=z(this,gr))==null||s.cancel(t),r?r.then(Mi).catch(Mi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,ud))}isActive(){return this.observers.some(t=>hs(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===tA||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!oz(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(i=>i.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=z(this,gr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(i=>i.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=z(this,gr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),z(this,Di).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(z(this,gr)&&(z(this,nu)?z(this,gr).cancel({revert:!0}):z(this,gr).cancelRetry()),this.scheduleGc()),z(this,Di).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Xe(this,ls,Ho).call(this,{type:"invalidate"})}fetch(t,r){var c,u,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(z(this,gr))return z(this,gr).continueRetry(),z(this,gr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const d=this.observers.find(m=>m.options.queryFn);d&&this.setOptions(d.options)}const i=new AbortController,s=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(we(this,nu,!0),i.signal)})},o=()=>{const d=lz(this.options,r),m={queryKey:this.queryKey,meta:this.meta};return s(m),we(this,nu,!1),this.options.persister?this.options.persister(d,m,this):d(m)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(a),(c=this.options.behavior)==null||c.onFetch(a,this),we(this,hd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&Xe(this,ls,Ho).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta});const l=d=>{var m,g,y,v;WS(d)&&d.silent||Xe(this,ls,Ho).call(this,{type:"error",error:d}),WS(d)||((g=(m=z(this,Di).config).onError)==null||g.call(m,d,this),(v=(y=z(this,Di).config).onSettled)==null||v.call(y,this.state.data,d,this)),this.scheduleGc()};return we(this,gr,hz({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:d=>{var m,g,y,v;if(d===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(S){l(S);return}(g=(m=z(this,Di).config).onSuccess)==null||g.call(m,d,this),(v=(y=z(this,Di).config).onSettled)==null||v.call(y,d,this.state.error,this),this.scheduleGc()},onError:l,onFail:(d,m)=>{Xe(this,ls,Ho).call(this,{type:"failed",failureCount:d,error:m})},onPause:()=>{Xe(this,ls,Ho).call(this,{type:"pause"})},onContinue:()=>{Xe(this,ls,Ho).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),z(this,gr).start()}},ud=new WeakMap,hd=new WeakMap,Di=new WeakMap,gr=new WeakMap,nO=new WeakMap,nu=new WeakMap,ls=new WeakSet,Ho=function(t){const r=i=>{switch(t.type){case"failed":return{...i,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...fz(i.data,this.options),fetchMeta:t.meta??null};case"success":return{...i,data:t.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return WS(s)&&s.revert&&z(this,hd)?{...z(this,hd),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...t.state}}};this.state=r(this.state),An.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),z(this,Di).notify({query:this,type:"updated",action:t})})},ML);function fz(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:cz(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function uK(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var Bs,VL,hK=(VL=class extends mf{constructor(e={}){super();je(this,Bs);this.config=e,we(this,Bs,new Map)}build(e,t,r){const i=t.queryKey,s=t.queryHash??eA(i,t);let o=this.get(s);return o||(o=new cK({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){z(this,Bs).has(e.queryHash)||(z(this,Bs).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=z(this,Bs).get(e.queryHash);t&&(e.destroy(),t===e&&z(this,Bs).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){An.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return z(this,Bs).get(e)}getAll(){return[...z(this,Bs).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>f2(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>f2(e,r)):t}notify(e){An.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){An.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){An.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Bs=new WeakMap,VL),Fs,Qr,ru,Ws,Ha,LL,dK=(LL=class extends dz{constructor(t){super();je(this,Ws);je(this,Fs);je(this,Qr);je(this,ru);this.mutationId=t.mutationId,we(this,Qr,t.mutationCache),we(this,Fs,[]),this.state=t.state||pz(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){z(this,Fs).includes(t)||(z(this,Fs).push(t),this.clearGcTimeout(),z(this,Qr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){we(this,Fs,z(this,Fs).filter(r=>r!==t)),this.scheduleGc(),z(this,Qr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){z(this,Fs).length||(this.state.status==="pending"?this.scheduleGc():z(this,Qr).remove(this))}continue(){var t;return((t=z(this,ru))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,o,a,l,c,u,h,d,m,g,y,v,S,b,k,$,C,Q,O,_;we(this,ru,hz({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(x,A)=>{Xe(this,Ws,Ha).call(this,{type:"failed",failureCount:x,error:A})},onPause:()=>{Xe(this,Ws,Ha).call(this,{type:"pause"})},onContinue:()=>{Xe(this,Ws,Ha).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,Qr).canRun(this)}));const r=this.state.status==="pending",i=!z(this,ru).canStart();try{if(!r){Xe(this,Ws,Ha).call(this,{type:"pending",variables:t,isPaused:i}),await((o=(s=z(this,Qr).config).onMutate)==null?void 0:o.call(s,t,this));const A=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,t));A!==this.state.context&&Xe(this,Ws,Ha).call(this,{type:"pending",context:A,variables:t,isPaused:i})}const x=await z(this,ru).start();return await((u=(c=z(this,Qr).config).onSuccess)==null?void 0:u.call(c,x,t,this.state.context,this)),await((d=(h=this.options).onSuccess)==null?void 0:d.call(h,x,t,this.state.context)),await((g=(m=z(this,Qr).config).onSettled)==null?void 0:g.call(m,x,null,this.state.variables,this.state.context,this)),await((v=(y=this.options).onSettled)==null?void 0:v.call(y,x,null,t,this.state.context)),Xe(this,Ws,Ha).call(this,{type:"success",data:x}),x}catch(x){try{throw await((b=(S=z(this,Qr).config).onError)==null?void 0:b.call(S,x,t,this.state.context,this)),await(($=(k=this.options).onError)==null?void 0:$.call(k,x,t,this.state.context)),await((Q=(C=z(this,Qr).config).onSettled)==null?void 0:Q.call(C,void 0,x,this.state.variables,this.state.context,this)),await((_=(O=this.options).onSettled)==null?void 0:_.call(O,void 0,x,t,this.state.context)),x}finally{Xe(this,Ws,Ha).call(this,{type:"error",error:x})}}finally{z(this,Qr).runNext(this)}}},Fs=new WeakMap,Qr=new WeakMap,ru=new WeakMap,Ws=new WeakSet,Ha=function(t){const r=i=>{switch(t.type){case"failed":return{...i,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...i,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:t.error,failureCount:i.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),An.batch(()=>{z(this,Fs).forEach(i=>{i.onMutationUpdate(t)}),z(this,Qr).notify({mutation:this,type:"updated",action:t})})},LL);function pz(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var pi,rO,zL,fK=(zL=class extends mf{constructor(e={}){super();je(this,pi);je(this,rO);this.config=e,we(this,pi,new Map),we(this,rO,Date.now())}build(e,t,r){const i=new dK({mutationCache:this,mutationId:++oy(this,rO)._,options:e.defaultMutationOptions(t),state:r});return this.add(i),i}add(e){const t=ky(e),r=z(this,pi).get(t)??[];r.push(e),z(this,pi).set(t,r),this.notify({type:"added",mutation:e})}remove(e){var r;const t=ky(e);if(z(this,pi).has(t)){const i=(r=z(this,pi).get(t))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?z(this,pi).delete(t):z(this,pi).set(t,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const t=(r=z(this,pi).get(ky(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!t||t===e}runNext(e){var r;const t=(r=z(this,pi).get(ky(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(t==null?void 0:t.continue())??Promise.resolve()}clear(){An.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...z(this,pi).values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(r=>p2(t,r))}findAll(e={}){return this.getAll().filter(t=>p2(e,t))}notify(e){An.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return An.batch(()=>Promise.all(e.map(t=>t.continue().catch(Mi))))}},pi=new WeakMap,rO=new WeakMap,zL);function ky(n){var e;return((e=n.options.scope)==null?void 0:e.id)??String(n.mutationId)}function O2(n){return{onFetch:(e,t)=>{var u,h,d,m,g;const r=e.options,i=(d=(h=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:d.direction,s=((m=e.state.data)==null?void 0:m.pages)||[],o=((g=e.state.data)==null?void 0:g.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let y=!1;const v=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},S=lz(e.options,e.fetchOptions),b=async(k,$,C)=>{if(y)return Promise.reject();if($==null&&k.pages.length)return Promise.resolve(k);const Q={queryKey:e.queryKey,pageParam:$,direction:C?"backward":"forward",meta:e.options.meta};v(Q);const O=await S(Q),{maxPages:_}=e.options,x=C?iK:rK;return{pages:x(k.pages,O,_),pageParams:x(k.pageParams,$,_)}};if(i&&s.length){const k=i==="backward",$=k?pK:y2,C={pages:s,pageParams:o},Q=$(r,C);a=await b(C,Q,k)}else{const k=n??s.length;do{const $=l===0?o[0]??r.initialPageParam:y2(r,a);if(l>0&&$==null)break;a=await b(a,$),l++}while(l<k)}return a};e.options.persister?e.fetchFn=()=>{var y,v;return(v=(y=e.options).persister)==null?void 0:v.call(y,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=c}}}function y2(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function pK(n,{pages:e,pageParams:t}){var r;return e.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t):void 0}var nn,ml,gl,dd,fd,Ol,pd,md,UL,mK=(UL=class{constructor(n={}){je(this,nn);je(this,ml);je(this,gl);je(this,dd);je(this,fd);je(this,Ol);je(this,pd);je(this,md);we(this,nn,n.queryCache||new hK),we(this,ml,n.mutationCache||new fK),we(this,gl,n.defaultOptions||{}),we(this,dd,new Map),we(this,fd,new Map),we(this,Ol,0)}mount(){oy(this,Ol)._++,z(this,Ol)===1&&(we(this,pd,nA.subscribe(async n=>{n&&(await this.resumePausedMutations(),z(this,nn).onFocus())})),we(this,md,ow.subscribe(async n=>{n&&(await this.resumePausedMutations(),z(this,nn).onOnline())})))}unmount(){var n,e;oy(this,Ol)._--,z(this,Ol)===0&&((n=z(this,pd))==null||n.call(this),we(this,pd,void 0),(e=z(this,md))==null||e.call(this),we(this,md,void 0))}isFetching(n){return z(this,nn).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return z(this,ml).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=z(this,nn).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.getQueryData(n.queryKey);if(e===void 0)return this.fetchQuery(n);{const t=this.defaultQueryOptions(n),r=z(this,nn).build(this,t);return n.revalidateIfStale&&r.isStaleByTime(Uh(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(e)}}getQueriesData(n){return z(this,nn).findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),i=z(this,nn).get(r.queryHash),s=i==null?void 0:i.state.data,o=tK(e,s);if(o!==void 0)return z(this,nn).build(this,r).setData(o,{...t,manual:!0})}setQueriesData(n,e,t){return An.batch(()=>z(this,nn).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=z(this,nn).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=z(this,nn);An.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=z(this,nn),r={type:"active",...n};return An.batch(()=>(t.findAll(n).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(n={},e={}){const t={revert:!0,...e},r=An.batch(()=>z(this,nn).findAll(n).map(i=>i.cancel(t)));return Promise.all(r).then(Mi).catch(Mi)}invalidateQueries(n={},e={}){return An.batch(()=>{if(z(this,nn).findAll(n).forEach(r=>{r.invalidate()}),n.refetchType==="none")return Promise.resolve();const t={...n,type:n.refetchType??n.type??"active"};return this.refetchQueries(t,e)})}refetchQueries(n={},e){const t={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=An.batch(()=>z(this,nn).findAll(n).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,t);return t.throwOnError||(s=s.catch(Mi)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Mi)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=z(this,nn).build(this,e);return t.isStaleByTime(Uh(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(Mi).catch(Mi)}fetchInfiniteQuery(n){return n.behavior=O2(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(Mi).catch(Mi)}ensureInfiniteQueryData(n){return n.behavior=O2(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return ow.isOnline()?z(this,ml).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,nn)}getMutationCache(){return z(this,ml)}getDefaultOptions(){return z(this,gl)}setDefaultOptions(n){we(this,gl,n)}setQueryDefaults(n,e){z(this,dd).set(vu(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...z(this,dd).values()];let t={};return e.forEach(r=>{zm(n,r.queryKey)&&(t={...t,...r.defaultOptions})}),t}setMutationDefaults(n,e){z(this,fd).set(vu(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...z(this,fd).values()];let t={};return e.forEach(r=>{zm(n,r.mutationKey)&&(t={...t,...r.defaultOptions})}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...z(this,gl).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=eA(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===tA&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...z(this,gl).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){z(this,nn).clear(),z(this,ml).clear()}},nn=new WeakMap,ml=new WeakMap,gl=new WeakMap,dd=new WeakMap,fd=new WeakMap,Ol=new WeakMap,pd=new WeakMap,md=new WeakMap,UL),Fr,ot,iO,$r,iu,gd,yl,Xs,sO,Od,yd,su,ou,vl,vd,wt,Tp,L_,z_,U_,q_,Z_,B_,F_,mz,qL,gK=(qL=class extends mf{constructor(e,t){super();je(this,wt);je(this,Fr);je(this,ot);je(this,iO);je(this,$r);je(this,iu);je(this,gd);je(this,yl);je(this,Xs);je(this,sO);je(this,Od);je(this,yd);je(this,su);je(this,ou);je(this,vl);je(this,vd,new Set);this.options=t,we(this,Fr,e),we(this,Xs,null),we(this,yl,V_()),this.options.experimental_prefetchInRender||z(this,yl).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(z(this,ot).addObserver(this),v2(z(this,ot),this.options)?Xe(this,wt,Tp).call(this):this.updateResult(),Xe(this,wt,q_).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return W_(z(this,ot),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return W_(z(this,ot),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Xe(this,wt,Z_).call(this),Xe(this,wt,B_).call(this),z(this,ot).removeObserver(this)}setOptions(e,t){const r=this.options,i=z(this,ot);if(this.options=z(this,Fr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof hs(this.options.enabled,z(this,ot))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Xe(this,wt,F_).call(this),z(this,ot).setOptions(this.options),r._defaulted&&!sw(this.options,r)&&z(this,Fr).getQueryCache().notify({type:"observerOptionsUpdated",query:z(this,ot),observer:this});const s=this.hasListeners();s&&w2(z(this,ot),i,this.options,r)&&Xe(this,wt,Tp).call(this),this.updateResult(t),s&&(z(this,ot)!==i||hs(this.options.enabled,z(this,ot))!==hs(r.enabled,z(this,ot))||Uh(this.options.staleTime,z(this,ot))!==Uh(r.staleTime,z(this,ot)))&&Xe(this,wt,L_).call(this);const o=Xe(this,wt,z_).call(this);s&&(z(this,ot)!==i||hs(this.options.enabled,z(this,ot))!==hs(r.enabled,z(this,ot))||o!==z(this,vl))&&Xe(this,wt,U_).call(this,o)}getOptimisticResult(e){const t=z(this,Fr).getQueryCache().build(z(this,Fr),e),r=this.createResult(t,e);return yK(this,r)&&(we(this,$r,r),we(this,gd,this.options),we(this,iu,z(this,ot).state)),r}getCurrentResult(){return z(this,$r)}trackResult(e,t){const r={};return Object.keys(e).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),t==null||t(i),e[i])})}),r}trackProp(e){z(this,vd).add(e)}getCurrentQuery(){return z(this,ot)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=z(this,Fr).defaultQueryOptions(e),r=z(this,Fr).getQueryCache().build(z(this,Fr),t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return Xe(this,wt,Tp).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),z(this,$r)))}createResult(e,t){var _;const r=z(this,ot),i=this.options,s=z(this,$r),o=z(this,iu),a=z(this,gd),c=e!==r?e.state:z(this,iO),{state:u}=e;let h={...u},d=!1,m;if(t._optimisticResults){const x=this.hasListeners(),A=!x&&v2(e,t),T=x&&w2(e,r,t,i);(A||T)&&(h={...h,...fz(u.data,e.options)}),t._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:g,errorUpdatedAt:y,status:v}=h;if(t.select&&h.data!==void 0)if(s&&h.data===(o==null?void 0:o.data)&&t.select===z(this,sO))m=z(this,Od);else try{we(this,sO,t.select),m=t.select(h.data),m=M_(s==null?void 0:s.data,m,t),we(this,Od,m),we(this,Xs,null)}catch(x){we(this,Xs,x)}else m=h.data;if(t.placeholderData!==void 0&&m===void 0&&v==="pending"){let x;if(s!=null&&s.isPlaceholderData&&t.placeholderData===(a==null?void 0:a.placeholderData))x=s.data;else if(x=typeof t.placeholderData=="function"?t.placeholderData((_=z(this,yd))==null?void 0:_.state.data,z(this,yd)):t.placeholderData,t.select&&x!==void 0)try{x=t.select(x),we(this,Xs,null)}catch(A){we(this,Xs,A)}x!==void 0&&(v="success",m=M_(s==null?void 0:s.data,x,t),d=!0)}z(this,Xs)&&(g=z(this,Xs),m=z(this,Od),y=Date.now(),v="error");const S=h.fetchStatus==="fetching",b=v==="pending",k=v==="error",$=b&&S,C=m!==void 0,O={status:v,fetchStatus:h.fetchStatus,isPending:b,isSuccess:v==="success",isError:k,isInitialLoading:$,isLoading:$,data:m,dataUpdatedAt:h.dataUpdatedAt,error:g,errorUpdatedAt:y,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:S,isRefetching:S&&!b,isLoadingError:k&&!C,isPaused:h.fetchStatus==="paused",isPlaceholderData:d,isRefetchError:k&&C,isStale:rA(e,t),refetch:this.refetch,promise:z(this,yl)};if(this.options.experimental_prefetchInRender){const x=w=>{O.status==="error"?w.reject(O.error):O.data!==void 0&&w.resolve(O.data)},A=()=>{const w=we(this,yl,O.promise=V_());x(w)},T=z(this,yl);switch(T.status){case"pending":e.queryHash===r.queryHash&&x(T);break;case"fulfilled":(O.status==="error"||O.data!==T.value)&&A();break;case"rejected":(O.status!=="error"||O.error!==T.reason)&&A();break}}return O}updateResult(e){const t=z(this,$r),r=this.createResult(z(this,ot),this.options);if(we(this,iu,z(this,ot).state),we(this,gd,this.options),z(this,iu).data!==void 0&&we(this,yd,z(this,ot)),sw(r,t))return;we(this,$r,r);const i={},s=()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!z(this,vd).size)return!0;const l=new Set(a??z(this,vd));return this.options.throwOnError&&l.add("error"),Object.keys(z(this,$r)).some(c=>{const u=c;return z(this,$r)[u]!==t[u]&&l.has(u)})};(e==null?void 0:e.listeners)!==!1&&s()&&(i.listeners=!0),Xe(this,wt,mz).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Xe(this,wt,q_).call(this)}},Fr=new WeakMap,ot=new WeakMap,iO=new WeakMap,$r=new WeakMap,iu=new WeakMap,gd=new WeakMap,yl=new WeakMap,Xs=new WeakMap,sO=new WeakMap,Od=new WeakMap,yd=new WeakMap,su=new WeakMap,ou=new WeakMap,vl=new WeakMap,vd=new WeakMap,wt=new WeakSet,Tp=function(e){Xe(this,wt,F_).call(this);let t=z(this,ot).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(Mi)),t},L_=function(){Xe(this,wt,Z_).call(this);const e=Uh(this.options.staleTime,z(this,ot));if(yu||z(this,$r).isStale||!j_(e))return;const r=oz(z(this,$r).dataUpdatedAt,e)+1;we(this,su,setTimeout(()=>{z(this,$r).isStale||this.updateResult()},r))},z_=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(z(this,ot)):this.options.refetchInterval)??!1},U_=function(e){Xe(this,wt,B_).call(this),we(this,vl,e),!(yu||hs(this.options.enabled,z(this,ot))===!1||!j_(z(this,vl))||z(this,vl)===0)&&we(this,ou,setInterval(()=>{(this.options.refetchIntervalInBackground||nA.isFocused())&&Xe(this,wt,Tp).call(this)},z(this,vl)))},q_=function(){Xe(this,wt,L_).call(this),Xe(this,wt,U_).call(this,Xe(this,wt,z_).call(this))},Z_=function(){z(this,su)&&(clearTimeout(z(this,su)),we(this,su,void 0))},B_=function(){z(this,ou)&&(clearInterval(z(this,ou)),we(this,ou,void 0))},F_=function(){const e=z(this,Fr).getQueryCache().build(z(this,Fr),this.options);if(e===z(this,ot))return;const t=z(this,ot);we(this,ot,e),we(this,iO,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},mz=function(e){An.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(z(this,$r))}),z(this,Fr).getQueryCache().notify({query:z(this,ot),type:"observerResultsUpdated"})})},qL);function OK(n,e){return hs(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function v2(n,e){return OK(n,e)||n.state.data!==void 0&&W_(n,e,e.refetchOnMount)}function W_(n,e,t){if(hs(e.enabled,n)!==!1){const r=typeof t=="function"?t(n):t;return r==="always"||r!==!1&&rA(n,e)}return!1}function w2(n,e,t,r){return(n!==e||hs(r.enabled,n)===!1)&&(!t.suspense||n.state.status!=="error")&&rA(n,t)}function rA(n,e){return hs(e.enabled,n)!==!1&&n.isStaleByTime(Uh(e.staleTime,n))}function yK(n,e){return!sw(n.getCurrentResult(),e)}var wl,xl,Wr,aa,wa,R0,X_,ZL,vK=(ZL=class extends mf{constructor(t,r){super();je(this,wa);je(this,wl);je(this,xl);je(this,Wr);je(this,aa);we(this,wl,t),this.setOptions(r),this.bindMethods(),Xe(this,wa,R0).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var i;const r=this.options;this.options=z(this,wl).defaultMutationOptions(t),sw(this.options,r)||z(this,wl).getMutationCache().notify({type:"observerOptionsUpdated",mutation:z(this,Wr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&vu(r.mutationKey)!==vu(this.options.mutationKey)?this.reset():((i=z(this,Wr))==null?void 0:i.state.status)==="pending"&&z(this,Wr).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=z(this,Wr))==null||t.removeObserver(this)}onMutationUpdate(t){Xe(this,wa,R0).call(this),Xe(this,wa,X_).call(this,t)}getCurrentResult(){return z(this,xl)}reset(){var t;(t=z(this,Wr))==null||t.removeObserver(this),we(this,Wr,void 0),Xe(this,wa,R0).call(this),Xe(this,wa,X_).call(this)}mutate(t,r){var i;return we(this,aa,r),(i=z(this,Wr))==null||i.removeObserver(this),we(this,Wr,z(this,wl).getMutationCache().build(z(this,wl),this.options)),z(this,Wr).addObserver(this),z(this,Wr).execute(t)}},wl=new WeakMap,xl=new WeakMap,Wr=new WeakMap,aa=new WeakMap,wa=new WeakSet,R0=function(){var r;const t=((r=z(this,Wr))==null?void 0:r.state)??pz();we(this,xl,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},X_=function(t){An.batch(()=>{var r,i,s,o,a,l,c,u;if(z(this,aa)&&this.hasListeners()){const h=z(this,xl).variables,d=z(this,xl).context;(t==null?void 0:t.type)==="success"?((i=(r=z(this,aa)).onSuccess)==null||i.call(r,t.data,h,d),(o=(s=z(this,aa)).onSettled)==null||o.call(s,t.data,null,h,d)):(t==null?void 0:t.type)==="error"&&((l=(a=z(this,aa)).onError)==null||l.call(a,t.error,h,d),(u=(c=z(this,aa)).onSettled)==null||u.call(c,void 0,t.error,h,d))}this.listeners.forEach(h=>{h(z(this,xl))})})},ZL),gz=E.createContext(void 0),ts=n=>{const e=E.useContext(gz);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},wK=({client:n,children:e})=>(E.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),f.jsx(gz.Provider,{value:n,children:e})),Oz=E.createContext(!1),xK=()=>E.useContext(Oz);Oz.Provider;function bK(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var SK=E.createContext(bK()),kK=()=>E.useContext(SK);function yz(n,e){return typeof n=="function"?n(...e):!!n}function G_(){}var _K=(n,e)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(e.isReset()||(n.retryOnMount=!1))},TK=n=>{E.useEffect(()=>{n.clearReset()},[n])},PK=({result:n,errorResetBoundary:e,throwOnError:t,query:r})=>n.isError&&!e.isReset()&&!n.isFetching&&r&&yz(t,[n.error,r]),CK=n=>{n.suspense&&(n.staleTime===void 0&&(n.staleTime=1e3),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3)))},EK=(n,e)=>n.isLoading&&n.isFetching&&!e,AK=(n,e)=>(n==null?void 0:n.suspense)&&e.isPending,x2=(n,e,t)=>e.fetchOptimistic(n).catch(()=>{t.clearReset()});function RK(n,e,t){var u,h,d,m,g;const r=ts(),i=xK(),s=kK(),o=r.defaultQueryOptions(n);(h=(u=r.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||h.call(u,o),o._optimisticResults=i?"isRestoring":"optimistic",CK(o),_K(o,s),TK(s);const a=!r.getQueryCache().get(o.queryHash),[l]=E.useState(()=>new e(r,o)),c=l.getOptimisticResult(o);if(E.useSyncExternalStore(E.useCallback(y=>{const v=i?G_:l.subscribe(An.batchCalls(y));return l.updateResult(),v},[l,i]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),E.useEffect(()=>{l.setOptions(o,{listeners:!1})},[o,l]),AK(o,c))throw x2(o,l,s);if(PK({result:c,errorResetBoundary:s,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw c.error;if((m=(d=r.getDefaultOptions().queries)==null?void 0:d._experimental_afterQuery)==null||m.call(d,o,c),o.experimental_prefetchInRender&&!yu&&EK(c,i)){const y=a?x2(o,l,s):(g=r.getQueryCache().get(o.queryHash))==null?void 0:g.promise;y==null||y.catch(G_).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?c:l.trackResult(c)}function wu(n,e){return RK(n,gK)}function XS(n,e){const t=ts(),[r]=E.useState(()=>new vK(t,n));E.useEffect(()=>{r.setOptions(n)},[r,n]);const i=E.useSyncExternalStore(E.useCallback(o=>r.subscribe(An.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=E.useCallback((o,a)=>{r.mutate(o,a).catch(G_)},[r]);if(i.error&&yz(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}async function QK(n){if(!n.ok){const e=await n.text()||n.statusText;throw new Error(`${n.status}: ${e}`)}}const $K=({on401:n})=>async({queryKey:e})=>{const t=await fetch(e[0],{credentials:"include"});return n==="returnNull"&&t.status===401?null:(await QK(t),await t.json())},vz=new mK({defaultOptions:{queries:{queryFn:$K({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!0,staleTime:3e4,retry:!1},mutations:{retry:!1,onSuccess:()=>{vz.invalidateQueries()}}}});function IK(n,e){if(n instanceof RegExp)return{keys:!1,pattern:n};var t,r,i,s,o=[],a="",l=n.split("/");for(l[0]||l.shift();i=l.shift();)t=i[0],t==="*"?(o.push(t),a+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):t===":"?(r=i.indexOf("?",1),s=i.indexOf(".",1),o.push(i.substring(1,~r?r:~s?s:i.length)),a+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(a+=(~r?"?":"")+"\\"+i.substring(s))):a+="/"+i;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var wz={exports:{}},xz={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pd=E;function NK(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var jK=typeof Object.is=="function"?Object.is:NK,DK=Pd.useState,MK=Pd.useEffect,VK=Pd.useLayoutEffect,LK=Pd.useDebugValue;function zK(n,e){var t=e(),r=DK({inst:{value:t,getSnapshot:e}}),i=r[0].inst,s=r[1];return VK(function(){i.value=t,i.getSnapshot=e,GS(i)&&s({inst:i})},[n,t,e]),MK(function(){return GS(i)&&s({inst:i}),n(function(){GS(i)&&s({inst:i})})},[n]),LK(t),t}function GS(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!jK(n,t)}catch{return!0}}function UK(n,e){return e()}var qK=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?UK:zK;xz.useSyncExternalStore=Pd.useSyncExternalStore!==void 0?Pd.useSyncExternalStore:qK;wz.exports=xz;var ZK=wz.exports;const BK=n4.useInsertionEffect,FK=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",WK=FK?E.useLayoutEffect:E.useEffect,XK=BK||WK,bz=n=>{const e=E.useRef([n,(...t)=>e[0](...t)]).current;return XK(()=>{e[0]=n}),e[1]},GK="popstate",iA="pushState",sA="replaceState",YK="hashchange",b2=[GK,iA,sA,YK],HK=n=>{for(const e of b2)addEventListener(e,n);return()=>{for(const e of b2)removeEventListener(e,n)}},Sz=(n,e)=>ZK.useSyncExternalStore(HK,n,e),KK=()=>location.search,JK=({ssrSearch:n=""}={})=>Sz(KK,()=>n),S2=()=>location.pathname,eJ=({ssrPath:n}={})=>Sz(S2,n?()=>n:S2),tJ=(n,{replace:e=!1,state:t=null}={})=>history[e?sA:iA](t,"",n),nJ=(n={})=>[eJ(n),tJ],k2=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[k2]>"u"){for(const n of[iA,sA]){const e=history[n];history[n]=function(){const t=e.apply(this,arguments),r=new Event(n);return r.arguments=arguments,dispatchEvent(r),t}}Object.defineProperty(window,k2,{value:!0})}const rJ=(n,e)=>e.toLowerCase().indexOf(n.toLowerCase())?"~"+e:e.slice(n.length)||"/",kz=(n="")=>n==="/"?"":n,iJ=(n,e)=>n[0]==="~"?n.slice(1):kz(e)+n,sJ=(n="",e)=>rJ(_2(kz(n)),_2(e)),_2=n=>{try{return decodeURI(n)}catch{return n}},_z={hook:nJ,searchHook:JK,parser:IK,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:n=>n},Tz=E.createContext(_z),hO=()=>E.useContext(Tz),Pz={},Cz=E.createContext(Pz),dO=()=>E.useContext(Cz),Xx=n=>{const[e,t]=n.hook(n);return[sJ(n.base,e),bz((r,i)=>t(iJ(r,n.base),i))]},Ma=()=>Xx(hO()),Ez=(n,e,t,r)=>{const{pattern:i,keys:s}=e instanceof RegExp?{keys:!1,pattern:e}:n(e||"*",r),o=i.exec(t)||[],[a,...l]=o;return a!==void 0?[!0,(()=>{const c=s!==!1?Object.fromEntries(s.map((h,d)=>[h,l[d]])):o.groups;let u={...l};return c&&Object.assign(u,c),u})(),...r?[a]:[]]:[!1,null]},oJ=({children:n,...e})=>{var u,h;const t=hO(),r=e.hook?_z:t;let i=r;const[s,o]=((u=e.ssrPath)==null?void 0:u.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=s),e.hrefs=e.hrefs??((h=e.hook)==null?void 0:h.hrefs);let a=E.useRef({}),l=a.current,c=l;for(let d in r){const m=d==="base"?r[d]+(e[d]||""):e[d]||r[d];l===c&&m!==c[d]&&(a.current=c={...c}),c[d]=m,m!==r[d]&&(i=c)}return E.createElement(Tz.Provider,{value:i,children:n})},T2=({children:n,component:e},t)=>e?E.createElement(e,{params:t}):typeof n=="function"?n(t):n,aJ=n=>{let e=E.useRef(Pz),t=e.current;for(const r in n)n[r]!==t[r]&&(t=n);return Object.keys(n).length===0&&(t=n),e.current=t},Ms=({path:n,nest:e,match:t,...r})=>{const i=hO(),[s]=Xx(i),[o,a,l]=t??Ez(i.parser,n,s,e),c=aJ({...dO(),...a});if(!o)return null;const u=l?E.createElement(oJ,{base:l},T2(r,c)):T2(r,c);return E.createElement(Cz.Provider,{value:c,children:u})},rn=E.forwardRef((n,e)=>{const t=hO(),[r,i]=Xx(t),{to:s="",href:o=s,onClick:a,asChild:l,children:c,className:u,replace:h,state:d,...m}=n,g=bz(v=>{v.ctrlKey||v.metaKey||v.altKey||v.shiftKey||v.button!==0||(a==null||a(v),v.defaultPrevented||(v.preventDefault(),i(o,n)))}),y=t.hrefs(o[0]==="~"?o.slice(1):t.base+o,t);return l&&E.isValidElement(c)?E.cloneElement(c,{onClick:g,href:y}):E.createElement("a",{...m,onClick:g,href:y,className:u!=null&&u.call?u(r===o):u,children:c,ref:e})}),Az=n=>Array.isArray(n)?n.flatMap(e=>Az(e&&e.type===E.Fragment?e.props.children:e)):[n],lJ=({children:n,location:e})=>{const t=hO(),[r]=Xx(t);for(const i of Az(n)){let s=0;if(E.isValidElement(i)&&(s=Ez(t.parser,i.props.path,e||r,i.props.nest))[0])return E.cloneElement(i,{match:s})}return null},cJ=1,uJ=1e6;let YS=0;function hJ(){return YS=(YS+1)%Number.MAX_SAFE_INTEGER,YS.toString()}const HS=new Map,P2=n=>{if(HS.has(n))return;const e=setTimeout(()=>{HS.delete(n),am({type:"REMOVE_TOAST",toastId:n})},uJ);HS.set(n,e)},dJ=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,cJ)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?P2(t):n.toasts.forEach(r=>{P2(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},Q0=[];let $0={toasts:[]};function am(n){$0=dJ($0,n),Q0.forEach(e=>{e($0)})}function fJ({...n}){const e=hJ(),t=i=>am({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>am({type:"DISMISS_TOAST",toastId:e});return am({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:t}}function li(){const[n,e]=E.useState($0);return E.useEffect(()=>(Q0.push(e),()=>{const t=Q0.indexOf(e);t>-1&&Q0.splice(t,1)}),[n]),{...n,toast:fJ,dismiss:t=>am({type:"DISMISS_TOAST",toastId:t})}}function Ce(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function pJ(n,e){typeof n=="function"?n(e):n!=null&&(n.current=e)}function Rz(...n){return e=>n.forEach(t=>pJ(t,e))}function it(...n){return E.useCallback(Rz(...n),n)}function mJ(n,e=[]){let t=[];function r(s,o){const a=E.createContext(o),l=t.length;t=[...t,o];function c(h){const{scope:d,children:m,...g}=h,y=(d==null?void 0:d[n][l])||a,v=E.useMemo(()=>g,Object.values(g));return f.jsx(y.Provider,{value:v,children:m})}function u(h,d){const m=(d==null?void 0:d[n][l])||a,g=E.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,u]}const i=()=>{const s=t.map(o=>E.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return E.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return i.scopeName=n,[r,gJ(i,...e)]}function gJ(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}var Wl=E.forwardRef((n,e)=>{const{children:t,...r}=n,i=E.Children.toArray(t),s=i.find(yJ);if(s){const o=s.props.children,a=i.map(l=>l===s?E.Children.count(o)>1?E.Children.only(null):E.isValidElement(o)?o.props.children:null:l);return f.jsx(Y_,{...r,ref:e,children:E.isValidElement(o)?E.cloneElement(o,void 0,a):null})}return f.jsx(Y_,{...r,ref:e,children:t})});Wl.displayName="Slot";var Y_=E.forwardRef((n,e)=>{const{children:t,...r}=n;if(E.isValidElement(t)){const i=wJ(t);return E.cloneElement(t,{...vJ(r,t.props),ref:e?Rz(e,i):i})}return E.Children.count(t)>1?E.Children.only(null):null});Y_.displayName="SlotClone";var OJ=({children:n})=>f.jsx(f.Fragment,{children:n});function yJ(n){return E.isValidElement(n)&&n.type===OJ}function vJ(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?t[r]=(...a)=>{s(...a),i(...a)}:i&&(t[r]=i):r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}function wJ(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function Gx(n){const e=n+"CollectionProvider",[t,r]=mJ(e),[i,s]=t(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:g,children:y}=m,v=Ke.useRef(null),S=Ke.useRef(new Map).current;return f.jsx(i,{scope:g,itemMap:S,collectionRef:v,children:y})};o.displayName=e;const a=n+"CollectionSlot",l=Ke.forwardRef((m,g)=>{const{scope:y,children:v}=m,S=s(a,y),b=it(g,S.collectionRef);return f.jsx(Wl,{ref:b,children:v})});l.displayName=a;const c=n+"CollectionItemSlot",u="data-radix-collection-item",h=Ke.forwardRef((m,g)=>{const{scope:y,children:v,...S}=m,b=Ke.useRef(null),k=it(g,b),$=s(c,y);return Ke.useEffect(()=>($.itemMap.set(b,{ref:b,...S}),()=>void $.itemMap.delete(b))),f.jsx(Wl,{[u]:"",ref:k,children:v})});h.displayName=c;function d(m){const g=s(n+"CollectionConsumer",m);return Ke.useCallback(()=>{const v=g.collectionRef.current;if(!v)return[];const S=Array.from(v.querySelectorAll(`[${u}]`));return Array.from(g.itemMap.values()).sort(($,C)=>S.indexOf($.ref.current)-S.indexOf(C.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:l,ItemSlot:h},d,r]}function xJ(n,e){const t=E.createContext(e),r=s=>{const{children:o,...a}=s,l=E.useMemo(()=>a,Object.values(a));return f.jsx(t.Provider,{value:l,children:o})};r.displayName=n+"Provider";function i(s){const o=E.useContext(t);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${n}\``)}return[r,i]}function bc(n,e=[]){let t=[];function r(s,o){const a=E.createContext(o),l=t.length;t=[...t,o];const c=h=>{var S;const{scope:d,children:m,...g}=h,y=((S=d==null?void 0:d[n])==null?void 0:S[l])||a,v=E.useMemo(()=>g,Object.values(g));return f.jsx(y.Provider,{value:v,children:m})};c.displayName=s+"Provider";function u(h,d){var y;const m=((y=d==null?void 0:d[n])==null?void 0:y[l])||a,g=E.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=t.map(o=>E.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return E.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return i.scopeName=n,[r,bJ(i,...e)]}function bJ(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}var SJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ie=SJ.reduce((n,e)=>{const t=E.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?Wl:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(a,{...o,ref:i})});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function Qz(n,e){n&&Lu.flushSync(()=>n.dispatchEvent(e))}function ln(n){const e=E.useRef(n);return E.useEffect(()=>{e.current=n}),E.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function kJ(n,e=globalThis==null?void 0:globalThis.document){const t=ln(n);E.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var _J="DismissableLayer",H_="dismissableLayer.update",TJ="dismissableLayer.pointerDownOutside",PJ="dismissableLayer.focusOutside",C2,$z=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Yx=E.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=n,c=E.useContext($z),[u,h]=E.useState(null),d=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=E.useState({}),g=it(e,O=>h(O)),y=Array.from(c.layers),[v]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),S=y.indexOf(v),b=u?y.indexOf(u):-1,k=c.layersWithOutsidePointerEventsDisabled.size>0,$=b>=S,C=EJ(O=>{const _=O.target,x=[...c.branches].some(A=>A.contains(_));!$||x||(i==null||i(O),o==null||o(O),O.defaultPrevented||a==null||a())},d),Q=AJ(O=>{const _=O.target;[...c.branches].some(A=>A.contains(_))||(s==null||s(O),o==null||o(O),O.defaultPrevented||a==null||a())},d);return kJ(O=>{b===c.layers.size-1&&(r==null||r(O),!O.defaultPrevented&&a&&(O.preventDefault(),a()))},d),E.useEffect(()=>{if(u)return t&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(C2=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),E2(),()=>{t&&c.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=C2)}},[u,d,t,c]),E.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),E2())},[u,c]),E.useEffect(()=>{const O=()=>m({});return document.addEventListener(H_,O),()=>document.removeEventListener(H_,O)},[]),f.jsx(Ie.div,{...l,ref:g,style:{pointerEvents:k?$?"auto":"none":void 0,...n.style},onFocusCapture:Ce(n.onFocusCapture,Q.onFocusCapture),onBlurCapture:Ce(n.onBlurCapture,Q.onBlurCapture),onPointerDownCapture:Ce(n.onPointerDownCapture,C.onPointerDownCapture)})});Yx.displayName=_J;var CJ="DismissableLayerBranch",Iz=E.forwardRef((n,e)=>{const t=E.useContext($z),r=E.useRef(null),i=it(e,r);return E.useEffect(()=>{const s=r.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),f.jsx(Ie.div,{...n,ref:i})});Iz.displayName=CJ;function EJ(n,e=globalThis==null?void 0:globalThis.document){const t=ln(n),r=E.useRef(!1),i=E.useRef(()=>{});return E.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){Nz(TJ,t,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function AJ(n,e=globalThis==null?void 0:globalThis.document){const t=ln(n),r=E.useRef(!1);return E.useEffect(()=>{const i=s=>{s.target&&!r.current&&Nz(PJ,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function E2(){const n=new CustomEvent(H_);document.dispatchEvent(n)}function Nz(n,e,t,{discrete:r}){const i=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?Qz(i,s):i.dispatchEvent(s)}var RJ=Yx,QJ=Iz,Mn=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},$J="Portal",Hx=E.forwardRef((n,e)=>{var a;const{container:t,...r}=n,[i,s]=E.useState(!1);Mn(()=>s(!0),[]);const o=t||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?eK.createPortal(f.jsx(Ie.div,{...r,ref:e}),o):null});Hx.displayName=$J;function IJ(n,e){return E.useReducer((t,r)=>e[t][r]??t,n)}var Qs=n=>{const{present:e,children:t}=n,r=NJ(e),i=typeof t=="function"?t({present:r.isPresent}):E.Children.only(t),s=it(r.ref,jJ(i));return typeof t=="function"||r.isPresent?E.cloneElement(i,{ref:s}):null};Qs.displayName="Presence";function NJ(n){const[e,t]=E.useState(),r=E.useRef({}),i=E.useRef(n),s=E.useRef("none"),o=n?"mounted":"unmounted",[a,l]=IJ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const c=_y(r.current);s.current=a==="mounted"?c:"none"},[a]),Mn(()=>{const c=r.current,u=i.current;if(u!==n){const d=s.current,m=_y(c);n?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&d!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,l]),Mn(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,h=m=>{const y=_y(r.current).includes(m.animationName);if(m.target===e&&y&&(l("ANIMATION_END"),!i.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},d=m=>{m.target===e&&(s.current=_y(r.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:E.useCallback(c=>{c&&(r.current=getComputedStyle(c)),t(c)},[])}}function _y(n){return(n==null?void 0:n.animationName)||"none"}function jJ(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function Xl({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,i]=DJ({defaultProp:e,onChange:t}),s=n!==void 0,o=s?n:r,a=ln(t),l=E.useCallback(c=>{if(s){const h=typeof c=="function"?c(n):c;h!==n&&a(h)}else i(c)},[s,n,i,a]);return[o,l]}function DJ({defaultProp:n,onChange:e}){const t=E.useState(n),[r]=t,i=E.useRef(r),s=ln(e);return E.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),t}var MJ="VisuallyHidden",Kx=E.forwardRef((n,e)=>f.jsx(Ie.span,{...n,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}));Kx.displayName=MJ;var oA="ToastProvider",[aA,VJ,LJ]=Gx("Toast"),[jz,BCe]=bc("Toast",[LJ]),[zJ,Jx]=jz(oA),Dz=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=n,[a,l]=E.useState(null),[c,u]=E.useState(0),h=E.useRef(!1),d=E.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${oA}\`. Expected non-empty \`string\`.`),f.jsx(aA.Provider,{scope:e,children:f.jsx(zJ,{scope:e,label:t,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:E.useCallback(()=>u(m=>m+1),[]),onToastRemove:E.useCallback(()=>u(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:d,children:o})})};Dz.displayName=oA;var Mz="ToastViewport",UJ=["F8"],K_="toast.viewportPause",J_="toast.viewportResume",Vz=E.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=UJ,label:i="Notifications ({hotkey})",...s}=n,o=Jx(Mz,t),a=VJ(t),l=E.useRef(null),c=E.useRef(null),u=E.useRef(null),h=E.useRef(null),d=it(e,h,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;E.useEffect(()=>{const v=S=>{var k;r.length!==0&&r.every($=>S[$]||S.code===$)&&((k=h.current)==null||k.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[r]),E.useEffect(()=>{const v=l.current,S=h.current;if(g&&v&&S){const b=()=>{if(!o.isClosePausedRef.current){const Q=new CustomEvent(K_);S.dispatchEvent(Q),o.isClosePausedRef.current=!0}},k=()=>{if(o.isClosePausedRef.current){const Q=new CustomEvent(J_);S.dispatchEvent(Q),o.isClosePausedRef.current=!1}},$=Q=>{!v.contains(Q.relatedTarget)&&k()},C=()=>{v.contains(document.activeElement)||k()};return v.addEventListener("focusin",b),v.addEventListener("focusout",$),v.addEventListener("pointermove",b),v.addEventListener("pointerleave",C),window.addEventListener("blur",b),window.addEventListener("focus",k),()=>{v.removeEventListener("focusin",b),v.removeEventListener("focusout",$),v.removeEventListener("pointermove",b),v.removeEventListener("pointerleave",C),window.removeEventListener("blur",b),window.removeEventListener("focus",k)}}},[g,o.isClosePausedRef]);const y=E.useCallback(({tabbingDirection:v})=>{const b=a().map(k=>{const $=k.ref.current,C=[$,...tee($)];return v==="forwards"?C:C.reverse()});return(v==="forwards"?b.reverse():b).flat()},[a]);return E.useEffect(()=>{const v=h.current;if(v){const S=b=>{var C,Q,O;const k=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!k){const _=document.activeElement,x=b.shiftKey;if(b.target===v&&x){(C=c.current)==null||C.focus();return}const w=y({tabbingDirection:x?"backwards":"forwards"}),R=w.findIndex(j=>j===_);KS(w.slice(R+1))?b.preventDefault():x?(Q=c.current)==null||Q.focus():(O=u.current)==null||O.focus()}};return v.addEventListener("keydown",S),()=>v.removeEventListener("keydown",S)}},[a,y]),f.jsxs(QJ,{ref:l,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&f.jsx(eT,{ref:c,onFocusFromOutsideViewport:()=>{const v=y({tabbingDirection:"forwards"});KS(v)}}),f.jsx(aA.Slot,{scope:t,children:f.jsx(Ie.ol,{tabIndex:-1,...s,ref:d})}),g&&f.jsx(eT,{ref:u,onFocusFromOutsideViewport:()=>{const v=y({tabbingDirection:"backwards"});KS(v)}})]})});Vz.displayName=Mz;var Lz="ToastFocusProxy",eT=E.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...i}=n,s=Jx(Lz,t);return f.jsx(Kx,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});eT.displayName=Lz;var eb="Toast",qJ="toast.swipeStart",ZJ="toast.swipeMove",BJ="toast.swipeCancel",FJ="toast.swipeEnd",zz=E.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:i,onOpenChange:s,...o}=n,[a=!0,l]=Xl({prop:r,defaultProp:i,onChange:s});return f.jsx(Qs,{present:t||a,children:f.jsx(GJ,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:ln(n.onPause),onResume:ln(n.onResume),onSwipeStart:Ce(n.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ce(n.onSwipeMove,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Ce(n.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ce(n.onSwipeEnd,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});zz.displayName=eb;var[WJ,XJ]=jz(eb,{onClose(){}}),GJ=E.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:d,onSwipeEnd:m,...g}=n,y=Jx(eb,t),[v,S]=E.useState(null),b=it(e,j=>S(j)),k=E.useRef(null),$=E.useRef(null),C=i||y.duration,Q=E.useRef(0),O=E.useRef(C),_=E.useRef(0),{onToastAdd:x,onToastRemove:A}=y,T=ln(()=>{var V;(v==null?void 0:v.contains(document.activeElement))&&((V=y.viewport)==null||V.focus()),o()}),w=E.useCallback(j=>{!j||j===1/0||(window.clearTimeout(_.current),Q.current=new Date().getTime(),_.current=window.setTimeout(T,j))},[T]);E.useEffect(()=>{const j=y.viewport;if(j){const V=()=>{w(O.current),c==null||c()},M=()=>{const Z=new Date().getTime()-Q.current;O.current=O.current-Z,window.clearTimeout(_.current),l==null||l()};return j.addEventListener(K_,M),j.addEventListener(J_,V),()=>{j.removeEventListener(K_,M),j.removeEventListener(J_,V)}}},[y.viewport,C,l,c,w]),E.useEffect(()=>{s&&!y.isClosePausedRef.current&&w(C)},[s,C,y.isClosePausedRef,w]),E.useEffect(()=>(x(),()=>A()),[x,A]);const R=E.useMemo(()=>v?Xz(v):null,[v]);return y.viewport?f.jsxs(f.Fragment,{children:[R&&f.jsx(YJ,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),f.jsx(WJ,{scope:t,onClose:T,children:Lu.createPortal(f.jsx(aA.ItemSlot,{scope:t,children:f.jsx(RJ,{asChild:!0,onEscapeKeyDown:Ce(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||T(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:f.jsx(Ie.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":y.swipeDirection,...g,ref:b,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:Ce(n.onKeyDown,j=>{j.key==="Escape"&&(a==null||a(j.nativeEvent),j.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,T()))}),onPointerDown:Ce(n.onPointerDown,j=>{j.button===0&&(k.current={x:j.clientX,y:j.clientY})}),onPointerMove:Ce(n.onPointerMove,j=>{if(!k.current)return;const V=j.clientX-k.current.x,M=j.clientY-k.current.y,Z=!!$.current,U=["left","right"].includes(y.swipeDirection),q=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,ne=U?q(0,V):0,X=U?0:q(0,M),F=j.pointerType==="touch"?10:2,G={x:ne,y:X},K={originalEvent:j,delta:G};Z?($.current=G,Ty(ZJ,h,K,{discrete:!1})):A2(G,y.swipeDirection,F)?($.current=G,Ty(qJ,u,K,{discrete:!1}),j.target.setPointerCapture(j.pointerId)):(Math.abs(V)>F||Math.abs(M)>F)&&(k.current=null)}),onPointerUp:Ce(n.onPointerUp,j=>{const V=$.current,M=j.target;if(M.hasPointerCapture(j.pointerId)&&M.releasePointerCapture(j.pointerId),$.current=null,k.current=null,V){const Z=j.currentTarget,U={originalEvent:j,delta:V};A2(V,y.swipeDirection,y.swipeThreshold)?Ty(FJ,m,U,{discrete:!0}):Ty(BJ,d,U,{discrete:!0}),Z.addEventListener("click",q=>q.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),YJ=n=>{const{__scopeToast:e,children:t,...r}=n,i=Jx(eb,e),[s,o]=E.useState(!1),[a,l]=E.useState(!1);return JJ(()=>o(!0)),E.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:f.jsx(Hx,{asChild:!0,children:f.jsx(Kx,{...r,children:s&&f.jsxs(f.Fragment,{children:[i.label," ",t]})})})},HJ="ToastTitle",Uz=E.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return f.jsx(Ie.div,{...r,ref:e})});Uz.displayName=HJ;var KJ="ToastDescription",qz=E.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return f.jsx(Ie.div,{...r,ref:e})});qz.displayName=KJ;var Zz="ToastAction",Bz=E.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?f.jsx(Wz,{altText:t,asChild:!0,children:f.jsx(lA,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Zz}\`. Expected non-empty \`string\`.`),null)});Bz.displayName=Zz;var Fz="ToastClose",lA=E.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,i=XJ(Fz,t);return f.jsx(Wz,{asChild:!0,children:f.jsx(Ie.button,{type:"button",...r,ref:e,onClick:Ce(n.onClick,i.onClose)})})});lA.displayName=Fz;var Wz=E.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...i}=n;return f.jsx(Ie.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function Xz(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),eee(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Xz(r))}}),e}function Ty(n,e,t,{discrete:r}){const i=t.originalEvent.currentTarget,s=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?Qz(i,s):i.dispatchEvent(s)}var A2=(n,e,t=0)=>{const r=Math.abs(n.x),i=Math.abs(n.y),s=r>i;return e==="left"||e==="right"?s&&r>t:!s&&i>t};function JJ(n=()=>{}){const e=ln(n);Mn(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function eee(n){return n.nodeType===n.ELEMENT_NODE}function tee(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function KS(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var nee=Dz,Gz=Vz,Yz=zz,Hz=Uz,Kz=qz,Jz=Bz,eU=lA;function tU(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=tU(n[e]))&&(r&&(r+=" "),r+=t);else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function ree(){for(var n,e,t=0,r="";t<arguments.length;)(n=arguments[t++])&&(e=tU(n))&&(r&&(r+=" "),r+=e);return r}const R2=n=>typeof n=="boolean"?"".concat(n):n===0?"0":n,Q2=ree,fO=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return Q2(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const u=t==null?void 0:t[c],h=s==null?void 0:s[c];if(u===null)return null;const d=R2(u)||R2(h);return i[c][d]}),a=t&&Object.entries(t).reduce((c,u)=>{let[h,d]=u;return d===void 0||(c[h]=d),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:h,className:d,...m}=u;return Object.entries(m).every(g=>{let[y,v]=g;return Array.isArray(v)?v.includes({...s,...a}[y]):{...s,...a}[y]===v})?[...c,h,d]:c},[]);return Q2(n,o,l,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iee=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nU=(...n)=>n.filter((e,t,r)=>!!e&&r.indexOf(e)===t).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var see={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oee=E.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>E.createElement("svg",{ref:l,...see,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:nU("lucide",i),...a},[...o.map(([c,u])=>E.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=(n,e)=>{const t=E.forwardRef(({className:r,...i},s)=>E.createElement(oee,{ref:s,iconNode:e,className:nU(`lucide-${iee(n)}`,r),...i}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aee=kt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=kt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=kt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=kt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lee=kt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=kt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cee=kt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uee=kt("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=kt("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hee=kt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dee=kt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fee=kt("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=kt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=kt("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=kt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pee=kt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mee=kt("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gf=kt("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=kt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gee=kt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oee=kt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=kt("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yee=kt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=kt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=kt("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=kt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vee=kt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=kt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function sU(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=sU(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function wee(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=sU(n))&&(r&&(r+=" "),r+=e);return r}const hA="-",xee=n=>{const e=See(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:o=>{const a=o.split(hA);return a[0]===""&&a.length!==1&&a.shift(),oU(a,e)||bee(o)},getConflictingClassGroupIds:(o,a)=>{const l=t[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},oU=(n,e)=>{var o;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?oU(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=n.join(hA);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},I2=/^\[(.+)\]$/,bee=n=>{if(I2.test(n)){const e=I2.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},See=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return _ee(Object.entries(n.classGroups),t).forEach(([s,o])=>{tT(o,r,s,e)}),r},tT=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const s=i===""?e:N2(e,i);s.classGroupId=t;return}if(typeof i=="function"){if(kee(i)){tT(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([s,o])=>{tT(o,N2(e,s),t,r)})})},N2=(n,e)=>{let t=n;return e.split(hA).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},kee=n=>n.isThemeGetter,_ee=(n,e)=>e?n.map(([t,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[t,i]}):n,Tee=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(s,o)=>{t.set(s,o),e++,e>n&&(e=0,r=t,t=new Map)};return{get(s){let o=t.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){t.has(s)?t.set(s,o):i(s,o)}}},aU="!",Pee=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,u=0,h;for(let v=0;v<a.length;v++){let S=a[v];if(c===0){if(S===i&&(r||a.slice(v,v+s)===e)){l.push(a.slice(u,v)),u=v+s;continue}if(S==="/"){h=v;continue}}S==="["?c++:S==="]"&&c--}const d=l.length===0?a:a.substring(u),m=d.startsWith(aU),g=m?d.substring(1):d,y=h&&h>u?h-u:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:y}};return t?a=>t({className:a,parseClassName:o}):o},Cee=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},Eee=n=>({cache:Tee(n.cacheSize),parseClassName:Pee(n),...xee(n)}),Aee=/\s+/,Ree=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=n.trim().split(Aee);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:h,baseClassName:d,maybePostfixModifierPosition:m}=t(c);let g=!!m,y=r(g?d.substring(0,m):d);if(!y){if(!g){a=c+(a.length>0?" "+a:a);continue}if(y=r(d),!y){a=c+(a.length>0?" "+a:a);continue}g=!1}const v=Cee(u).join(":"),S=h?v+aU:v,b=S+y;if(s.includes(b))continue;s.push(b);const k=i(y,g);for(let $=0;$<k.length;++$){const C=k[$];s.push(S+C)}a=c+(a.length>0?" "+a:a)}return a};function Qee(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=lU(e))&&(r&&(r+=" "),r+=t);return r}const lU=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=lU(n[r]))&&(t&&(t+=" "),t+=e);return t};function $ee(n,...e){let t,r,i,s=o;function o(l){const c=e.reduce((u,h)=>h(u),n());return t=Eee(c),r=t.cache.get,i=t.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=Ree(l,t);return i(l,u),u}return function(){return s(Qee.apply(null,arguments))}}const Lt=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},cU=/^\[(?:([a-z-]+):)?(.+)\]$/i,Iee=/^\d+\/\d+$/,Nee=new Set(["px","full","screen"]),jee=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Dee=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Mee=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Vee=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Lee=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Fo=n=>qh(n)||Nee.has(n)||Iee.test(n),Wa=n=>yf(n,"length",Xee),qh=n=>!!n&&!Number.isNaN(Number(n)),JS=n=>yf(n,"number",qh),rp=n=>!!n&&Number.isInteger(Number(n)),zee=n=>n.endsWith("%")&&qh(n.slice(0,-1)),We=n=>cU.test(n),Xa=n=>jee.test(n),Uee=new Set(["length","size","percentage"]),qee=n=>yf(n,Uee,uU),Zee=n=>yf(n,"position",uU),Bee=new Set(["image","url"]),Fee=n=>yf(n,Bee,Yee),Wee=n=>yf(n,"",Gee),ip=()=>!0,yf=(n,e,t)=>{const r=cU.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},Xee=n=>Dee.test(n)&&!Mee.test(n),uU=()=>!1,Gee=n=>Vee.test(n),Yee=n=>Lee.test(n),Hee=()=>{const n=Lt("colors"),e=Lt("spacing"),t=Lt("blur"),r=Lt("brightness"),i=Lt("borderColor"),s=Lt("borderRadius"),o=Lt("borderSpacing"),a=Lt("borderWidth"),l=Lt("contrast"),c=Lt("grayscale"),u=Lt("hueRotate"),h=Lt("invert"),d=Lt("gap"),m=Lt("gradientColorStops"),g=Lt("gradientColorStopPositions"),y=Lt("inset"),v=Lt("margin"),S=Lt("opacity"),b=Lt("padding"),k=Lt("saturate"),$=Lt("scale"),C=Lt("sepia"),Q=Lt("skew"),O=Lt("space"),_=Lt("translate"),x=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",We,e],w=()=>[We,e],R=()=>["",Fo,Wa],j=()=>["auto",qh,We],V=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["solid","dashed","dotted","double","none"],Z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>["start","end","center","between","around","evenly","stretch"],q=()=>["","0",We],ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],X=()=>[qh,We];return{cacheSize:500,separator:":",theme:{colors:[ip],spacing:[Fo,Wa],blur:["none","",Xa,We],brightness:X(),borderColor:[n],borderRadius:["none","","full",Xa,We],borderSpacing:w(),borderWidth:R(),contrast:X(),grayscale:q(),hueRotate:X(),invert:q(),gap:w(),gradientColorStops:[n],gradientColorStopPositions:[zee,Wa],inset:T(),margin:T(),opacity:X(),padding:w(),saturate:X(),scale:X(),sepia:q(),skew:X(),space:w(),translate:w()},classGroups:{aspect:[{aspect:["auto","square","video",We]}],container:["container"],columns:[{columns:[Xa]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...V(),We]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:x()}],"overscroll-x":[{"overscroll-x":x()}],"overscroll-y":[{"overscroll-y":x()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",rp,We]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",We]}],grow:[{grow:q()}],shrink:[{shrink:q()}],order:[{order:["first","last","none",rp,We]}],"grid-cols":[{"grid-cols":[ip]}],"col-start-end":[{col:["auto",{span:["full",rp,We]},We]}],"col-start":[{"col-start":j()}],"col-end":[{"col-end":j()}],"grid-rows":[{"grid-rows":[ip]}],"row-start-end":[{row:["auto",{span:[rp,We]},We]}],"row-start":[{"row-start":j()}],"row-end":[{"row-end":j()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",We]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",We]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...U()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...U(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...U(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[O]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[O]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",We,e]}],"min-w":[{"min-w":[We,e,"min","max","fit"]}],"max-w":[{"max-w":[We,e,"none","full","min","max","fit","prose",{screen:[Xa]},Xa]}],h:[{h:[We,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[We,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[We,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[We,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Xa,Wa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",JS]}],"font-family":[{font:[ip]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",We]}],"line-clamp":[{"line-clamp":["none",qh,JS]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Fo,We]}],"list-image":[{"list-image":["none",We]}],"list-style-type":[{list:["none","disc","decimal",We]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[S]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[S]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Fo,Wa]}],"underline-offset":[{"underline-offset":["auto",Fo,We]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:w()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",We]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",We]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[S]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...V(),Zee]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",qee]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Fee]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[S]}],"border-style":[{border:[...M(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[S]}],"divide-style":[{divide:M()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...M()]}],"outline-offset":[{"outline-offset":[Fo,We]}],"outline-w":[{outline:[Fo,Wa]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[S]}],"ring-offset-w":[{"ring-offset":[Fo,Wa]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",Xa,Wee]}],"shadow-color":[{shadow:[ip]}],opacity:[{opacity:[S]}],"mix-blend":[{"mix-blend":[...Z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Z()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Xa,We]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[k]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[S]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",We]}],duration:[{duration:X()}],ease:[{ease:["linear","in","out","in-out",We]}],delay:[{delay:X()}],animate:[{animate:["none","spin","ping","pulse","bounce",We]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[$]}],"scale-x":[{"scale-x":[$]}],"scale-y":[{"scale-y":[$]}],rotate:[{rotate:[rp,We]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[Q]}],"skew-y":[{"skew-y":[Q]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",We]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",We]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":w()}],"scroll-mx":[{"scroll-mx":w()}],"scroll-my":[{"scroll-my":w()}],"scroll-ms":[{"scroll-ms":w()}],"scroll-me":[{"scroll-me":w()}],"scroll-mt":[{"scroll-mt":w()}],"scroll-mr":[{"scroll-mr":w()}],"scroll-mb":[{"scroll-mb":w()}],"scroll-ml":[{"scroll-ml":w()}],"scroll-p":[{"scroll-p":w()}],"scroll-px":[{"scroll-px":w()}],"scroll-py":[{"scroll-py":w()}],"scroll-ps":[{"scroll-ps":w()}],"scroll-pe":[{"scroll-pe":w()}],"scroll-pt":[{"scroll-pt":w()}],"scroll-pr":[{"scroll-pr":w()}],"scroll-pb":[{"scroll-pb":w()}],"scroll-pl":[{"scroll-pl":w()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",We]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Fo,Wa,JS]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Kee=$ee(Hee);function Ee(...n){return Kee(wee(n))}const Jee=nee,hU=E.forwardRef(({className:n,...e},t)=>f.jsx(Gz,{ref:t,className:Ee("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));hU.displayName=Gz.displayName;const ete=fO("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),dU=E.forwardRef(({className:n,variant:e,...t},r)=>f.jsx(Yz,{ref:r,className:Ee(ete({variant:e}),n),...t}));dU.displayName=Yz.displayName;const tte=E.forwardRef(({className:n,...e},t)=>f.jsx(Jz,{ref:t,className:Ee("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));tte.displayName=Jz.displayName;const fU=E.forwardRef(({className:n,...e},t)=>f.jsx(eU,{ref:t,className:Ee("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:f.jsx(uA,{className:"h-4 w-4"})}));fU.displayName=eU.displayName;const pU=E.forwardRef(({className:n,...e},t)=>f.jsx(Hz,{ref:t,className:Ee("text-sm font-semibold",n),...e}));pU.displayName=Hz.displayName;const mU=E.forwardRef(({className:n,...e},t)=>f.jsx(Kz,{ref:t,className:Ee("text-sm opacity-90",n),...e}));mU.displayName=Kz.displayName;function nte(){const{toasts:n}=li();return f.jsxs(Jee,{children:[n.map(function({id:e,title:t,description:r,action:i,...s}){return f.jsxs(dU,{...s,children:[f.jsxs("div",{className:"grid gap-1",children:[t&&f.jsx(pU,{children:t}),r&&f.jsx(mU,{children:r})]}),i,f.jsx(fU,{})]},e)}),f.jsx(hU,{})]})}const rte=()=>{};var j2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},ite=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],o=n[t++],a=n[t++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},OU={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0,u=s>>2,h=(s&3)<<4|a>>4;let d=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(d=64)),r.push(t[u],t[h],t[d],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(gU(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):ite(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const h=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new ste;const d=s<<2|a>>4;if(r.push(d),c!==64){const m=a<<4&240|c>>2;if(r.push(m),h!==64){const g=c<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ste extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ote=function(n){const e=gU(n);return OU.encodeByteArray(e,!0)},aw=function(n){return ote(n).replace(/\./g,"")},yU=function(n){try{return OU.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ate(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lte=()=>ate().__FIREBASE_DEFAULTS__,cte=()=>{if(typeof process>"u"||typeof j2>"u")return;const n=j2.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},ute=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&yU(n[1]);return e&&JSON.parse(e)},tb=()=>{try{return rte()||lte()||cte()||ute()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},vU=n=>{var e,t;return(t=(e=tb())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},wU=n=>{const e=vU(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},xU=()=>{var n;return(n=tb())===null||n===void 0?void 0:n.config},bU=n=>{var e;return(e=tb())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hte{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SU(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[aw(JSON.stringify(t)),aw(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dte(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tr())}function fte(){var n;const e=(n=tb())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pte(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mte(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function gte(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ote(){const n=Tr();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function yte(){return!fte()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vte(){try{return typeof indexedDB=="object"}catch{return!1}}function wte(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xte="FirebaseError";class Do extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=xte,Object.setPrototypeOf(this,Do.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pO.prototype.create)}}class pO{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?bte(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Do(i,a,r)}}function bte(n,e){return n.replace(Ste,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Ste=/\{\$([^}]+)}/g;function kte(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function xu(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(D2(s)&&D2(o)){if(!xu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function D2(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mO(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Pp(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Cp(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function _te(n,e){const t=new Tte(n,e);return t.subscribe.bind(t)}class Tte{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Pte(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=e1),i.error===void 0&&(i.error=e1),i.complete===void 0&&(i.complete=e1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Pte(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function e1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(n){return n&&n._delegate?n._delegate:n}class Gl{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cte{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new hte;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ate(e))try{this.getOrInitializeService({instanceIdentifier:qc})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=qc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qc){return this.instances.has(e)}getOptions(e=qc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Ete(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qc){return this.component?this.component.multipleInstances?e:qc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ete(n){return n===qc?void 0:n}function Ate(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rte{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Cte(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(tt||(tt={}));const Qte={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},$te=tt.INFO,Ite={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},Nte=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=Ite[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class dA{constructor(e){this.name=e,this._logLevel=$te,this._logHandler=Nte,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Qte[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...e),this._logHandler(this,tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...e),this._logHandler(this,tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tt.INFO,...e),this._logHandler(this,tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tt.WARN,...e),this._logHandler(this,tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...e),this._logHandler(this,tt.ERROR,...e)}}const jte=(n,e)=>e.some(t=>n instanceof t);let M2,V2;function Dte(){return M2||(M2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Mte(){return V2||(V2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kU=new WeakMap,nT=new WeakMap,_U=new WeakMap,t1=new WeakMap,fA=new WeakMap;function Vte(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Dl(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&kU.set(t,n)}).catch(()=>{}),fA.set(e,n),e}function Lte(n){if(nT.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});nT.set(n,e)}let rT={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return nT.get(n);if(e==="objectStoreNames")return n.objectStoreNames||_U.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Dl(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function zte(n){rT=n(rT)}function Ute(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(n1(this),e,...t);return _U.set(r,e.sort?e.sort():[e]),Dl(r)}:Mte().includes(n)?function(...e){return n.apply(n1(this),e),Dl(kU.get(this))}:function(...e){return Dl(n.apply(n1(this),e))}}function qte(n){return typeof n=="function"?Ute(n):(n instanceof IDBTransaction&&Lte(n),jte(n,Dte())?new Proxy(n,rT):n)}function Dl(n){if(n instanceof IDBRequest)return Vte(n);if(t1.has(n))return t1.get(n);const e=qte(n);return e!==n&&(t1.set(n,e),fA.set(e,n)),e}const n1=n=>fA.get(n);function Zte(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Dl(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Dl(o.result),l.oldVersion,l.newVersion,Dl(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Bte=["get","getKey","getAll","getAllKeys","count"],Fte=["put","add","delete","clear"],r1=new Map;function L2(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(r1.get(e))return r1.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=Fte.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Bte.includes(t)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[t](...a),i&&l.done]))[0]};return r1.set(e,s),s}zte(n=>({...n,get:(e,t,r)=>L2(e,t)||n.get(e,t,r),has:(e,t)=>!!L2(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wte{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Xte(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function Xte(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const iT="@firebase/app",z2="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=new dA("@firebase/app"),Gte="@firebase/app-compat",Yte="@firebase/analytics-compat",Hte="@firebase/analytics",Kte="@firebase/app-check-compat",Jte="@firebase/app-check",ene="@firebase/auth",tne="@firebase/auth-compat",nne="@firebase/database",rne="@firebase/data-connect",ine="@firebase/database-compat",sne="@firebase/functions",one="@firebase/functions-compat",ane="@firebase/installations",lne="@firebase/installations-compat",cne="@firebase/messaging",une="@firebase/messaging-compat",hne="@firebase/performance",dne="@firebase/performance-compat",fne="@firebase/remote-config",pne="@firebase/remote-config-compat",mne="@firebase/storage",gne="@firebase/storage-compat",One="@firebase/firestore",yne="@firebase/vertexai",vne="@firebase/firestore-compat",wne="firebase",xne="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="[DEFAULT]",bne={[iT]:"fire-core",[Gte]:"fire-core-compat",[Hte]:"fire-analytics",[Yte]:"fire-analytics-compat",[Jte]:"fire-app-check",[Kte]:"fire-app-check-compat",[ene]:"fire-auth",[tne]:"fire-auth-compat",[nne]:"fire-rtdb",[rne]:"fire-data-connect",[ine]:"fire-rtdb-compat",[sne]:"fire-fn",[one]:"fire-fn-compat",[ane]:"fire-iid",[lne]:"fire-iid-compat",[cne]:"fire-fcm",[une]:"fire-fcm-compat",[hne]:"fire-perf",[dne]:"fire-perf-compat",[fne]:"fire-rc",[pne]:"fire-rc-compat",[mne]:"fire-gcs",[gne]:"fire-gcs-compat",[One]:"fire-fst",[vne]:"fire-fst-compat",[yne]:"fire-vertex","fire-js":"fire-js",[wne]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw=new Map,Sne=new Map,oT=new Map;function U2(n,e){try{n.container.addComponent(e)}catch(t){_a.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function bu(n){const e=n.name;if(oT.has(e))return _a.debug(`There were multiple attempts to register component ${e}.`),!1;oT.set(e,n);for(const t of lw.values())U2(t,n);for(const t of Sne.values())U2(t,n);return!0}function nb(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function yi(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kne={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ml=new pO("app","Firebase",kne);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ne{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ml.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu=xne;function TU(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:sT,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ml.create("bad-app-name",{appName:String(i)});if(t||(t=xU()),!t)throw Ml.create("no-options");const s=lw.get(i);if(s){if(xu(t,s.options)&&xu(r,s.config))return s;throw Ml.create("duplicate-app",{appName:i})}const o=new Rte(i);for(const l of oT.values())o.addComponent(l);const a=new _ne(t,r,o);return lw.set(i,a),a}function pA(n=sT){const e=lw.get(n);if(!e&&n===sT&&xU())return TU();if(!e)throw Ml.create("no-app",{appName:n});return e}function co(n,e,t){var r;let i=(r=bne[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_a.warn(a.join(" "));return}bu(new Gl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tne="firebase-heartbeat-database",Pne=1,Um="firebase-heartbeat-store";let i1=null;function PU(){return i1||(i1=Zte(Tne,Pne,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Um)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ml.create("idb-open",{originalErrorMessage:n.message})})),i1}async function Cne(n){try{const t=(await PU()).transaction(Um),r=await t.objectStore(Um).get(CU(n));return await t.done,r}catch(e){if(e instanceof Do)_a.warn(e.message);else{const t=Ml.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_a.warn(t.message)}}}async function q2(n,e){try{const r=(await PU()).transaction(Um,"readwrite");await r.objectStore(Um).put(e,CU(n)),await r.done}catch(t){if(t instanceof Do)_a.warn(t.message);else{const r=Ml.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});_a.warn(r.message)}}}function CU(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ene=1024,Ane=30;class Rne{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new $ne(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Z2();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Ane){const o=Ine(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){_a.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Z2(),{heartbeatsToSend:r,unsentEntries:i}=Qne(this._heartbeatsCache.heartbeats),s=aw(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return _a.warn(t),""}}}function Z2(){return new Date().toISOString().substring(0,10)}function Qne(n,e=Ene){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),B2(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),B2(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class $ne{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vte()?wte().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Cne(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return q2(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return q2(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function B2(n){return aw(JSON.stringify({version:2,heartbeats:n})).length}function Ine(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nne(n){bu(new Gl("platform-logger",e=>new Wte(e),"PRIVATE")),bu(new Gl("heartbeat",e=>new Rne(e),"PRIVATE")),co(iT,z2,n),co(iT,z2,"esm2017"),co("fire-js","")}Nne("");var jne="firebase",Dne="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */co(jne,Dne,"app");var Ys=function(){return Ys=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Ys.apply(this,arguments)};function gO(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Mne(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}function EU(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Vne=EU,AU=new pO("auth","Firebase",EU());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw=new dA("@firebase/auth");function Lne(n,...e){cw.logLevel<=tt.WARN&&cw.warn(`Auth (${Uu}): ${n}`,...e)}function I0(n,...e){cw.logLevel<=tt.ERROR&&cw.error(`Auth (${Uu}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(n,...e){throw mA(n,...e)}function uo(n,...e){return mA(n,...e)}function RU(n,e,t){const r=Object.assign(Object.assign({},Vne()),{[e]:t});return new pO("auth","Firebase",r).create(e,{appName:n.name})}function Oa(n){return RU(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mA(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return AU.create(n,...e)}function De(n,e,...t){if(!n)throw mA(e,...t)}function ha(n){const e="INTERNAL ASSERTION FAILED: "+n;throw I0(e),new Error(e)}function Ta(n,e){n||ha(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function zne(){return F2()==="http:"||F2()==="https:"}function F2(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Une(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zne()||mte()||"connection"in navigator)?navigator.onLine:!0}function qne(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ta(t>e,"Short delay should be less than long delay!"),this.isMobile=dte()||gte()}get(){return Une()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(n,e){Ta(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ha("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ha("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ha("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zne={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bne=new OO(3e4,6e4);function Va(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function La(n,e,t,r,i={}){return $U(n,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=mO(Object.assign({key:n.config.apiKey},o)).slice(1),l=await n._getAdditionalHeaders();l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode);const c=Object.assign({method:e,headers:l},s);return pte()||(c.referrerPolicy="no-referrer"),QU.fetch()(IU(n,n.config.apiHost,t,a),c)})}async function $U(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Zne),e);try{const i=new Wne(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Cy(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cy(n,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Cy(n,"email-already-in-use",o);if(l==="USER_DISABLED")throw Cy(n,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw RU(n,u,c);_s(n,u)}}catch(i){if(i instanceof Do)throw i;_s(n,"network-request-failed",{message:String(i)})}}async function yO(n,e,t,r,i={}){const s=await La(n,e,t,r,i);return"mfaPendingCredential"in s&&_s(n,"multi-factor-auth-required",{_serverResponse:s}),s}function IU(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?gA(n.config,i):`${n.config.apiScheme}://${i}`}function Fne(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Wne{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(uo(this.auth,"network-request-failed")),Bne.get())})}}function Cy(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=uo(n,e,r);return i.customData._tokenResponse=t,i}function W2(n){return n!==void 0&&n.enterprise!==void 0}class Xne{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Fne(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Gne(n,e){return La(n,"GET","/v2/recaptchaConfig",Va(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yne(n,e){return La(n,"POST","/v1/accounts:delete",e)}async function NU(n,e){return La(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Hne(n,e=!1){const t=Dt(n),r=await t.getIdToken(e),i=OA(r);De(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:cm(s1(i.auth_time)),issuedAtTime:cm(s1(i.iat)),expirationTime:cm(s1(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function s1(n){return Number(n)*1e3}function OA(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return I0("JWT malformed, contained fewer than 3 sections"),null;try{const i=yU(t);return i?JSON.parse(i):(I0("Failed to decode base64 JWT payload"),null)}catch(i){return I0("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function X2(n){const e=OA(n);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qm(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Do&&Kne(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Kne({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jne{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=cm(this.lastLoginAt),this.creationTime=cm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uw(n){var e;const t=n.auth,r=await n.getIdToken(),i=await qm(n,NU(t,{idToken:r}));De(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?jU(s.providerUserInfo):[],a=tre(n.providerData,o),l=n.isAnonymous,c=!(n.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new lT(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,h)}async function ere(n){const e=Dt(n);await uw(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tre(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function jU(n){return n.map(e=>{var{providerId:t}=e,r=gO(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nre(n,e){const t=await $U(n,{},async()=>{const r=mO({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=IU(n,i,"/v1/token",`key=${s}`),a=await n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",QU.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function rre(n,e){return La(n,"POST","/v2/accounts:revokeToken",Va(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):X2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){De(e.length!==0,"internal-error");const t=X2(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await nre(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new Zh;return r&&(De(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(De(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(De(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zh,this.toJSON())}_performRefresh(){return ha("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ga(n,e){De(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class da{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=gO(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Jne(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new lT(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await qm(this,this.stsTokenManager.getToken(this.auth,e));return De(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Hne(this,e)}reload(){return ere(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new da(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await uw(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yi(this.auth.app))return Promise.reject(Oa(this.auth));const e=await this.getIdToken();return await qm(this,Yne(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,l,c,u;const h=(r=t.displayName)!==null&&r!==void 0?r:void 0,d=(i=t.email)!==null&&i!==void 0?i:void 0,m=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=t.photoURL)!==null&&o!==void 0?o:void 0,y=(a=t.tenantId)!==null&&a!==void 0?a:void 0,v=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,S=(c=t.createdAt)!==null&&c!==void 0?c:void 0,b=(u=t.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:k,emailVerified:$,isAnonymous:C,providerData:Q,stsTokenManager:O}=t;De(k&&O,e,"internal-error");const _=Zh.fromJSON(this.name,O);De(typeof k=="string",e,"internal-error"),Ga(h,e.name),Ga(d,e.name),De(typeof $=="boolean",e,"internal-error"),De(typeof C=="boolean",e,"internal-error"),Ga(m,e.name),Ga(g,e.name),Ga(y,e.name),Ga(v,e.name),Ga(S,e.name),Ga(b,e.name);const x=new da({uid:k,auth:e,email:d,emailVerified:$,displayName:h,isAnonymous:C,photoURL:g,phoneNumber:m,tenantId:y,stsTokenManager:_,createdAt:S,lastLoginAt:b});return Q&&Array.isArray(Q)&&(x.providerData=Q.map(A=>Object.assign({},A))),v&&(x._redirectEventId=v),x}static async _fromIdTokenResponse(e,t,r=!1){const i=new Zh;i.updateFromServerResponse(t);const s=new da({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await uw(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];De(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?jU(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Zh;a.updateFromIdToken(r);const l=new da({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new lT(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2=new Map;function fa(n){Ta(n instanceof Function,"Expected a class definition");let e=G2.get(n);return e?(Ta(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,G2.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}DU.type="NONE";const Y2=DU;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(n,e,t){return`firebase:${n}:${e}:${t}`}class Bh{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=N0(this.userKey,i.apiKey,s),this.fullPersistenceKey=N0("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?da._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Bh(fa(Y2),e,r);const i=(await Promise.all(t.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||fa(Y2);const o=N0(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const u=await c._get(o);if(u){const h=da._fromJSON(e,u);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Bh(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(t.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Bh(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zU(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(MU(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qU(e))return"Blackberry";if(ZU(e))return"Webos";if(VU(e))return"Safari";if((e.includes("chrome/")||LU(e))&&!e.includes("edge/"))return"Chrome";if(UU(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function MU(n=Tr()){return/firefox\//i.test(n)}function VU(n=Tr()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LU(n=Tr()){return/crios\//i.test(n)}function zU(n=Tr()){return/iemobile/i.test(n)}function UU(n=Tr()){return/android/i.test(n)}function qU(n=Tr()){return/blackberry/i.test(n)}function ZU(n=Tr()){return/webos/i.test(n)}function yA(n=Tr()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function ire(n=Tr()){var e;return yA(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function sre(){return Ote()&&document.documentMode===10}function BU(n=Tr()){return yA(n)||UU(n)||ZU(n)||qU(n)||/windows phone/i.test(n)||zU(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FU(n,e=[]){let t;switch(n){case"Browser":t=H2(Tr());break;case"Worker":t=`${H2(Tr())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Uu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ore{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function are(n,e={}){return La(n,"GET","/v2/passwordPolicy",Va(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lre=6;class cre{constructor(e){var t,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:lre,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ure{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new K2(this),this.idTokenSubscription=new K2(this),this.beforeStateQueue=new ore(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AU,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=fa(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Bh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await NU(this,{idToken:e}),r=await da._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(yi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await uw(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qne()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yi(this.app))return Promise.reject(Oa(this));const t=e?Dt(e):null;return t&&De(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yi(this.app)?Promise.reject(Oa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yi(this.app)?Promise.reject(Oa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await are(this),t=new cre(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new pO("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await rre(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&fa(e)||this._popupRedirectResolver;De(t,this,"argument-error"),this.redirectPersistenceManager=await Bh.create(this,[fa(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){const l=e.addObserver(t,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(t);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=FU(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(yi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Lne(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Sc(n){return Dt(n)}class K2{constructor(e){this.auth=e,this.observer=null,this.addObserver=_te(t=>this.observer=t)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hre(n){rb=n}function WU(n){return rb.loadJS(n)}function dre(){return rb.recaptchaEnterpriseScript}function fre(){return rb.gapiScript}function pre(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class mre{constructor(){this.enterprise=new gre}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class gre{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Ore="recaptcha-enterprise",XU="NO_RECAPTCHA";class yre{constructor(e){this.type=Ore,this.auth=Sc(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{Gne(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new Xne(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;W2(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(XU)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new mre().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!t&&W2(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=dre();l.length!==0&&(l+=a),WU(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function J2(n,e,t,r=!1,i=!1){const s=new yre(n);let o;if(i)o=XU;else try{o=await s.verify(t)}catch{o=await s.verify(t,!0)}const a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function hw(n,e,t,r,i){var s;if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await J2(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await J2(n,e,t,t==="getOobCode");return r(n,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vre(n,e){const t=nb(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(xu(s,e??{}))return i;_s(i,"already-initialized")}return t.initialize({options:e})}function wre(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(fa);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function xre(n,e,t){const r=Sc(n);De(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=GU(e),{host:o,port:a}=bre(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},u=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){De(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),De(xu(c,r.config.emulator)&&xu(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Sre()}function GU(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function bre(n){const e=GU(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:eN(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:eN(o)}}}function eN(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Sre(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ha("not implemented")}_getIdTokenResponse(e){return ha("not implemented")}_linkToIdToken(e,t){return ha("not implemented")}_getReauthenticationResolver(e){return ha("not implemented")}}async function kre(n,e){return La(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _re(n,e){return yO(n,"POST","/v1/accounts:signInWithPassword",Va(n,e))}async function Tre(n,e){return La(n,"POST","/v1/accounts:sendOobCode",Va(n,e))}async function Pre(n,e){return Tre(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cre(n,e){return yO(n,"POST","/v1/accounts:signInWithEmailLink",Va(n,e))}async function Ere(n,e){return yO(n,"POST","/v1/accounts:signInWithEmailLink",Va(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm extends vA{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Zm(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Zm(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hw(e,t,"signInWithPassword",_re);case"emailLink":return Cre(e,{email:this._email,oobCode:this._password});default:_s(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hw(e,r,"signUpPassword",kre);case"emailLink":return Ere(e,{idToken:t,email:this._email,oobCode:this._password});default:_s(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fh(n,e){return yO(n,"POST","/v1/accounts:signInWithIdp",Va(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Are="http://localhost";class Su extends vA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Su(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):_s("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=gO(t,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Su(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return Fh(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Fh(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Fh(e,t)}buildRequest(){const e={requestUri:Are,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=mO(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rre(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Qre(n){const e=Pp(Cp(n)).link,t=e?Pp(Cp(e)).deep_link_id:null,r=Pp(Cp(n)).deep_link_id;return(r?Pp(Cp(r)).link:null)||r||t||e||n}class wA{constructor(e){var t,r,i,s,o,a;const l=Pp(Cp(e)),c=(t=l.apiKey)!==null&&t!==void 0?t:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,h=Rre((i=l.mode)!==null&&i!==void 0?i:null);De(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const t=Qre(e);try{return new wA(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(){this.providerId=vf.PROVIDER_ID}static credential(e,t){return Zm._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=wA.parseLink(t);return De(r,"argument-error"),Zm._fromEmailAndCode(e,r.code,r.tenantId)}}vf.PROVIDER_ID="password";vf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO extends YU{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl extends vO{constructor(){super("facebook.com")}static credential(e){return Su._fromParams({providerId:sl.PROVIDER_ID,signInMethod:sl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sl.credentialFromTaggedObject(e)}static credentialFromError(e){return sl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sl.credential(e.oauthAccessToken)}catch{return null}}}sl.FACEBOOK_SIGN_IN_METHOD="facebook.com";sl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol extends vO{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Su._fromParams({providerId:ol.PROVIDER_ID,signInMethod:ol.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ol.credentialFromTaggedObject(e)}static credentialFromError(e){return ol.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ol.credential(t,r)}catch{return null}}}ol.GOOGLE_SIGN_IN_METHOD="google.com";ol.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al extends vO{constructor(){super("github.com")}static credential(e){return Su._fromParams({providerId:al.PROVIDER_ID,signInMethod:al.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return al.credentialFromTaggedObject(e)}static credentialFromError(e){return al.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return al.credential(e.oauthAccessToken)}catch{return null}}}al.GITHUB_SIGN_IN_METHOD="github.com";al.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll extends vO{constructor(){super("twitter.com")}static credential(e,t){return Su._fromParams({providerId:ll.PROVIDER_ID,signInMethod:ll.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ll.credentialFromTaggedObject(e)}static credentialFromError(e){return ll.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ll.credential(t,r)}catch{return null}}}ll.TWITTER_SIGN_IN_METHOD="twitter.com";ll.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $re(n,e){return yO(n,"POST","/v1/accounts:signUp",Va(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await da._fromIdTokenResponse(e,r,i),o=tN(r);return new ku({user:s,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=tN(r);return new ku({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function tN(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw extends Do{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,dw.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new dw(e,t,r,i)}}function HU(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?dw._fromErrorAndOperation(n,s,e,r):s})}async function Ire(n,e,t=!1){const r=await qm(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ku._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nre(n,e,t=!1){const{auth:r}=n;if(yi(r.app))return Promise.reject(Oa(r));const i="reauthenticate";try{const s=await qm(n,HU(r,i,e,n),t);De(s.idToken,r,"internal-error");const o=OA(s.idToken);De(o,r,"internal-error");const{sub:a}=o;return De(n.uid===a,r,"user-mismatch"),ku._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&_s(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KU(n,e,t=!1){if(yi(n.app))return Promise.reject(Oa(n));const r="signIn",i=await HU(n,r,e),s=await ku._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function jre(n,e){return KU(Sc(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JU(n){const e=Sc(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Dre(n,e,t){const r=Sc(n);await hw(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Pre)}async function Mre(n,e,t){if(yi(n.app))return Promise.reject(Oa(n));const r=Sc(n),o=await hw(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$re).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&JU(n),l}),a=await ku._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function Vre(n,e,t){return yi(n.app)?Promise.reject(Oa(n)):jre(Dt(n),vf.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&JU(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lre(n,e){return Dt(n).setPersistence(e)}function zre(n,e,t,r){return Dt(n).onIdTokenChanged(e,t,r)}function Ure(n,e,t){return Dt(n).beforeAuthStateChanged(e,t)}function qre(n,e,t,r){return Dt(n).onAuthStateChanged(e,t,r)}function Zre(n){return Dt(n).signOut()}const fw="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eq{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(fw,"1"),this.storage.removeItem(fw),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bre=1e3,Fre=10;class tq extends eq{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=BU(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!t&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);sre()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Fre):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},Bre)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}tq.type="LOCAL";const nq=tq;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rq extends eq{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}rq.type="SESSION";const iq=rq;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wre(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new ib(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(t.origin,s)),l=await Wre(a);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ib.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xre{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=xA("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const d=h;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(){return window}function Gre(n){ho().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sq(){return typeof ho().WorkerGlobalScope<"u"&&typeof ho().importScripts=="function"}async function Yre(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Hre(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Kre(){return sq()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oq="firebaseLocalStorageDb",Jre=1,pw="firebaseLocalStorage",aq="fbase_key";class wO{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function sb(n,e){return n.transaction([pw],e?"readwrite":"readonly").objectStore(pw)}function eie(){const n=indexedDB.deleteDatabase(oq);return new wO(n).toPromise()}function cT(){const n=indexedDB.open(oq,Jre);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(pw,{keyPath:aq})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(pw)?e(r):(r.close(),await eie(),e(await cT()))})})}async function nN(n,e,t){const r=sb(n,!0).put({[aq]:e,value:t});return new wO(r).toPromise()}async function tie(n,e){const t=sb(n,!1).get(e),r=await new wO(t).toPromise();return r===void 0?null:r.value}function rN(n,e){const t=sb(n,!0).delete(e);return new wO(t).toPromise()}const nie=800,rie=3;class lq{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cT(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>rie)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sq()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ib._getInstance(Kre()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Yre(),!this.activeServiceWorker)return;this.sender=new Xre(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Hre()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cT();return await nN(e,fw,"1"),await rN(e,fw),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>nN(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>tie(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>rN(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=sb(i,!1).getAll();return new wO(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nie)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lq.type="LOCAL";const iie=lq;new OO(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sie(n,e){return e?fa(e):(De(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA extends vA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fh(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Fh(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Fh(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function oie(n){return KU(n.auth,new bA(n),n.bypassAuthState)}function aie(n){const{auth:e,user:t}=n;return De(t,e,"internal-error"),Nre(t,new bA(n),n.bypassAuthState)}async function lie(n){const{auth:e,user:t}=n;return De(t,e,"internal-error"),Ire(t,new bA(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cq{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oie;case"linkViaPopup":case"linkViaRedirect":return lie;case"reauthViaPopup":case"reauthViaRedirect":return aie;default:_s(this.auth,"internal-error")}}resolve(e){Ta(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ta(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cie=new OO(2e3,1e4);class Th extends cq{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Th.currentPopupAction&&Th.currentPopupAction.cancel(),Th.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){Ta(this.filter.length===1,"Popup operations only handle one event");const e=xA();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(uo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(uo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Th.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(uo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,cie.get())};e()}}Th.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uie="pendingRedirect",j0=new Map;class hie extends cq{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=j0.get(this.auth._key());if(!e){try{const r=await die(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}j0.set(this.auth._key(),e)}return this.bypassAuthState||j0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function die(n,e){const t=mie(e),r=pie(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function fie(n,e){j0.set(n._key(),e)}function pie(n){return fa(n._redirectPersistence)}function mie(n){return N0(uie,n.config.apiKey,n.name)}async function gie(n,e,t=!1){if(yi(n.app))return Promise.reject(Oa(n));const r=Sc(n),i=sie(r,e),o=await new hie(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oie=10*60*1e3;class yie{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vie(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!uq(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(uo(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Oie&&this.cachedEventUids.clear(),this.cachedEventUids.has(iN(e))}saveEventToCache(e){this.cachedEventUids.add(iN(e)),this.lastProcessedEventTime=Date.now()}}function iN(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function uq({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function vie(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uq(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wie(n,e={}){return La(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xie=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bie=/^https?/;async function Sie(n){if(n.config.emulator)return;const{authorizedDomains:e}=await wie(n);for(const t of e)try{if(kie(t))return}catch{}_s(n,"unauthorized-domain")}function kie(n){const e=aT(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!bie.test(t))return!1;if(xie.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ie=new OO(3e4,6e4);function sN(){const n=ho().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Tie(n){return new Promise((e,t)=>{var r,i,s;function o(){sN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sN(),t(uo(n,"network-request-failed"))},timeout:_ie.get()})}if(!((i=(r=ho().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ho().gapi)===null||s===void 0)&&s.load)o();else{const a=pre("iframefcb");return ho()[a]=()=>{gapi.load?o():t(uo(n,"network-request-failed"))},WU(`${fre()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw D0=null,e})}let D0=null;function Pie(n){return D0=D0||Tie(n),D0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cie=new OO(5e3,15e3),Eie="__/auth/iframe",Aie="emulator/auth/iframe",Rie={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Qie=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $ie(n){const e=n.config;De(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?gA(e,Aie):`https://${n.config.authDomain}/${Eie}`,r={apiKey:e.apiKey,appName:n.name,v:Uu},i=Qie.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${mO(r).slice(1)}`}async function Iie(n){const e=await Pie(n),t=ho().gapi;return De(t,n,"internal-error"),e.open({where:document.body,url:$ie(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Rie,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=uo(n,"network-request-failed"),a=ho().setTimeout(()=>{s(o)},Cie.get());function l(){ho().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nie={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jie=500,Die=600,Mie="_blank",Vie="http://localhost";class oN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Lie(n,e,t,r=jie,i=Die){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Nie),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Tr().toLowerCase();t&&(a=LU(c)?Mie:t),MU(c)&&(e=e||Vie,l.scrollbars="yes");const u=Object.entries(l).reduce((d,[m,g])=>`${d}${m}=${g},`,"");if(ire(c)&&a!=="_self")return zie(e||"",a),new oN(null);const h=window.open(e||"",a,u);De(h,n,"popup-blocked");try{h.focus()}catch{}return new oN(h)}function zie(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uie="__/auth/handler",qie="emulator/auth/handler",Zie=encodeURIComponent("fac");async function aN(n,e,t,r,i,s){De(n.config.authDomain,n,"auth-domain-config-required"),De(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Uu,eventId:i};if(e instanceof YU){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",kte(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries({}))o[u]=h}if(e instanceof vO){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await n._getAppCheckToken(),c=l?`#${Zie}=${encodeURIComponent(l)}`:"";return`${Bie(n)}?${mO(a).slice(1)}${c}`}function Bie({config:n}){return n.emulator?gA(n,qie):`https://${n.authDomain}/${Uie}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="webStorageSupport";class Fie{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iq,this._completeRedirectFn=gie,this._overrideRedirectResult=fie}async _openPopup(e,t,r,i){var s;Ta((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await aN(e,t,r,aT(),i);return Lie(e,o,xA())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await aN(e,t,r,aT(),i);return Gre(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Ta(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await Iie(e),r=new yie(e);return t.register("authEvent",i=>(De(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(o1,{type:o1},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[o1];o!==void 0&&t(!!o),_s(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Sie(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return BU()||VU()||yA()}}const Wie=Fie;var lN="@firebase/auth",cN="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xie{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gie(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Yie(n){bu(new Gl("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;De(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FU(n)},c=new ure(r,i,s,l);return wre(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),bu(new Gl("auth-internal",e=>{const t=Sc(e.getProvider("auth").getImmediate());return(r=>new Xie(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),co(lN,cN,Gie(n)),co(lN,cN,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hie=5*60,Kie=bU("authIdTokenMaxAge")||Hie;let uN=null;const Jie=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Kie)return;const i=t==null?void 0:t.token;uN!==i&&(uN=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function ese(n=pA()){const e=nb(n,"auth");if(e.isInitialized())return e.getImmediate();const t=vre(n,{popupRedirectResolver:Wie,persistence:[iie,nq,iq]}),r=bU("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=Jie(s.toString());Ure(t,o,()=>o(t.currentUser)),zre(t,a=>o(a))}}const i=vU("auth");return i&&xre(t,`http://${i}`),t}function tse(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}hre({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=uo("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",tse().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Yie("Browser");var hN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vl,hq;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,_){function x(){}x.prototype=_.prototype,O.D=_.prototype,O.prototype=new x,O.prototype.constructor=O,O.C=function(A,T,w){for(var R=Array(arguments.length-2),j=2;j<arguments.length;j++)R[j-2]=arguments[j];return _.prototype[T].apply(A,R)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(O,_,x){x||(x=0);var A=Array(16);if(typeof _=="string")for(var T=0;16>T;++T)A[T]=_.charCodeAt(x++)|_.charCodeAt(x++)<<8|_.charCodeAt(x++)<<16|_.charCodeAt(x++)<<24;else for(T=0;16>T;++T)A[T]=_[x++]|_[x++]<<8|_[x++]<<16|_[x++]<<24;_=O.g[0],x=O.g[1],T=O.g[2];var w=O.g[3],R=_+(w^x&(T^w))+A[0]+3614090360&4294967295;_=x+(R<<7&4294967295|R>>>25),R=w+(T^_&(x^T))+A[1]+3905402710&4294967295,w=_+(R<<12&4294967295|R>>>20),R=T+(x^w&(_^x))+A[2]+606105819&4294967295,T=w+(R<<17&4294967295|R>>>15),R=x+(_^T&(w^_))+A[3]+3250441966&4294967295,x=T+(R<<22&4294967295|R>>>10),R=_+(w^x&(T^w))+A[4]+4118548399&4294967295,_=x+(R<<7&4294967295|R>>>25),R=w+(T^_&(x^T))+A[5]+1200080426&4294967295,w=_+(R<<12&4294967295|R>>>20),R=T+(x^w&(_^x))+A[6]+2821735955&4294967295,T=w+(R<<17&4294967295|R>>>15),R=x+(_^T&(w^_))+A[7]+4249261313&4294967295,x=T+(R<<22&4294967295|R>>>10),R=_+(w^x&(T^w))+A[8]+1770035416&4294967295,_=x+(R<<7&4294967295|R>>>25),R=w+(T^_&(x^T))+A[9]+2336552879&4294967295,w=_+(R<<12&4294967295|R>>>20),R=T+(x^w&(_^x))+A[10]+4294925233&4294967295,T=w+(R<<17&4294967295|R>>>15),R=x+(_^T&(w^_))+A[11]+2304563134&4294967295,x=T+(R<<22&4294967295|R>>>10),R=_+(w^x&(T^w))+A[12]+1804603682&4294967295,_=x+(R<<7&4294967295|R>>>25),R=w+(T^_&(x^T))+A[13]+4254626195&4294967295,w=_+(R<<12&4294967295|R>>>20),R=T+(x^w&(_^x))+A[14]+2792965006&4294967295,T=w+(R<<17&4294967295|R>>>15),R=x+(_^T&(w^_))+A[15]+1236535329&4294967295,x=T+(R<<22&4294967295|R>>>10),R=_+(T^w&(x^T))+A[1]+4129170786&4294967295,_=x+(R<<5&4294967295|R>>>27),R=w+(x^T&(_^x))+A[6]+3225465664&4294967295,w=_+(R<<9&4294967295|R>>>23),R=T+(_^x&(w^_))+A[11]+643717713&4294967295,T=w+(R<<14&4294967295|R>>>18),R=x+(w^_&(T^w))+A[0]+3921069994&4294967295,x=T+(R<<20&4294967295|R>>>12),R=_+(T^w&(x^T))+A[5]+3593408605&4294967295,_=x+(R<<5&4294967295|R>>>27),R=w+(x^T&(_^x))+A[10]+38016083&4294967295,w=_+(R<<9&4294967295|R>>>23),R=T+(_^x&(w^_))+A[15]+3634488961&4294967295,T=w+(R<<14&4294967295|R>>>18),R=x+(w^_&(T^w))+A[4]+3889429448&4294967295,x=T+(R<<20&4294967295|R>>>12),R=_+(T^w&(x^T))+A[9]+568446438&4294967295,_=x+(R<<5&4294967295|R>>>27),R=w+(x^T&(_^x))+A[14]+3275163606&4294967295,w=_+(R<<9&4294967295|R>>>23),R=T+(_^x&(w^_))+A[3]+4107603335&4294967295,T=w+(R<<14&4294967295|R>>>18),R=x+(w^_&(T^w))+A[8]+1163531501&4294967295,x=T+(R<<20&4294967295|R>>>12),R=_+(T^w&(x^T))+A[13]+2850285829&4294967295,_=x+(R<<5&4294967295|R>>>27),R=w+(x^T&(_^x))+A[2]+4243563512&4294967295,w=_+(R<<9&4294967295|R>>>23),R=T+(_^x&(w^_))+A[7]+1735328473&4294967295,T=w+(R<<14&4294967295|R>>>18),R=x+(w^_&(T^w))+A[12]+2368359562&4294967295,x=T+(R<<20&4294967295|R>>>12),R=_+(x^T^w)+A[5]+4294588738&4294967295,_=x+(R<<4&4294967295|R>>>28),R=w+(_^x^T)+A[8]+2272392833&4294967295,w=_+(R<<11&4294967295|R>>>21),R=T+(w^_^x)+A[11]+1839030562&4294967295,T=w+(R<<16&4294967295|R>>>16),R=x+(T^w^_)+A[14]+4259657740&4294967295,x=T+(R<<23&4294967295|R>>>9),R=_+(x^T^w)+A[1]+2763975236&4294967295,_=x+(R<<4&4294967295|R>>>28),R=w+(_^x^T)+A[4]+1272893353&4294967295,w=_+(R<<11&4294967295|R>>>21),R=T+(w^_^x)+A[7]+4139469664&4294967295,T=w+(R<<16&4294967295|R>>>16),R=x+(T^w^_)+A[10]+3200236656&4294967295,x=T+(R<<23&4294967295|R>>>9),R=_+(x^T^w)+A[13]+681279174&4294967295,_=x+(R<<4&4294967295|R>>>28),R=w+(_^x^T)+A[0]+3936430074&4294967295,w=_+(R<<11&4294967295|R>>>21),R=T+(w^_^x)+A[3]+3572445317&4294967295,T=w+(R<<16&4294967295|R>>>16),R=x+(T^w^_)+A[6]+76029189&4294967295,x=T+(R<<23&4294967295|R>>>9),R=_+(x^T^w)+A[9]+3654602809&4294967295,_=x+(R<<4&4294967295|R>>>28),R=w+(_^x^T)+A[12]+3873151461&4294967295,w=_+(R<<11&4294967295|R>>>21),R=T+(w^_^x)+A[15]+530742520&4294967295,T=w+(R<<16&4294967295|R>>>16),R=x+(T^w^_)+A[2]+3299628645&4294967295,x=T+(R<<23&4294967295|R>>>9),R=_+(T^(x|~w))+A[0]+4096336452&4294967295,_=x+(R<<6&4294967295|R>>>26),R=w+(x^(_|~T))+A[7]+1126891415&4294967295,w=_+(R<<10&4294967295|R>>>22),R=T+(_^(w|~x))+A[14]+2878612391&4294967295,T=w+(R<<15&4294967295|R>>>17),R=x+(w^(T|~_))+A[5]+4237533241&4294967295,x=T+(R<<21&4294967295|R>>>11),R=_+(T^(x|~w))+A[12]+1700485571&4294967295,_=x+(R<<6&4294967295|R>>>26),R=w+(x^(_|~T))+A[3]+2399980690&4294967295,w=_+(R<<10&4294967295|R>>>22),R=T+(_^(w|~x))+A[10]+4293915773&4294967295,T=w+(R<<15&4294967295|R>>>17),R=x+(w^(T|~_))+A[1]+2240044497&4294967295,x=T+(R<<21&4294967295|R>>>11),R=_+(T^(x|~w))+A[8]+1873313359&4294967295,_=x+(R<<6&4294967295|R>>>26),R=w+(x^(_|~T))+A[15]+4264355552&4294967295,w=_+(R<<10&4294967295|R>>>22),R=T+(_^(w|~x))+A[6]+2734768916&4294967295,T=w+(R<<15&4294967295|R>>>17),R=x+(w^(T|~_))+A[13]+1309151649&4294967295,x=T+(R<<21&4294967295|R>>>11),R=_+(T^(x|~w))+A[4]+4149444226&4294967295,_=x+(R<<6&4294967295|R>>>26),R=w+(x^(_|~T))+A[11]+3174756917&4294967295,w=_+(R<<10&4294967295|R>>>22),R=T+(_^(w|~x))+A[2]+718787259&4294967295,T=w+(R<<15&4294967295|R>>>17),R=x+(w^(T|~_))+A[9]+3951481745&4294967295,O.g[0]=O.g[0]+_&4294967295,O.g[1]=O.g[1]+(T+(R<<21&4294967295|R>>>11))&4294967295,O.g[2]=O.g[2]+T&4294967295,O.g[3]=O.g[3]+w&4294967295}r.prototype.u=function(O,_){_===void 0&&(_=O.length);for(var x=_-this.blockSize,A=this.B,T=this.h,w=0;w<_;){if(T==0)for(;w<=x;)i(this,O,w),w+=this.blockSize;if(typeof O=="string"){for(;w<_;)if(A[T++]=O.charCodeAt(w++),T==this.blockSize){i(this,A),T=0;break}}else for(;w<_;)if(A[T++]=O[w++],T==this.blockSize){i(this,A),T=0;break}}this.h=T,this.o+=_},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var _=1;_<O.length-8;++_)O[_]=0;var x=8*this.o;for(_=O.length-8;_<O.length;++_)O[_]=x&255,x/=256;for(this.u(O),O=Array(16),_=x=0;4>_;++_)for(var A=0;32>A;A+=8)O[x++]=this.g[_]>>>A&255;return O};function s(O,_){var x=a;return Object.prototype.hasOwnProperty.call(x,O)?x[O]:x[O]=_(O)}function o(O,_){this.h=_;for(var x=[],A=!0,T=O.length-1;0<=T;T--){var w=O[T]|0;A&&w==_||(x[T]=w,A=!1)}this.g=x}var a={};function l(O){return-128<=O&&128>O?s(O,function(_){return new o([_|0],0>_?-1:0)}):new o([O|0],0>O?-1:0)}function c(O){if(isNaN(O)||!isFinite(O))return h;if(0>O)return v(c(-O));for(var _=[],x=1,A=0;O>=x;A++)_[A]=O/x|0,x*=4294967296;return new o(_,0)}function u(O,_){if(O.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(O.charAt(0)=="-")return v(u(O.substring(1),_));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=c(Math.pow(_,8)),A=h,T=0;T<O.length;T+=8){var w=Math.min(8,O.length-T),R=parseInt(O.substring(T,T+w),_);8>w?(w=c(Math.pow(_,w)),A=A.j(w).add(c(R))):(A=A.j(x),A=A.add(c(R)))}return A}var h=l(0),d=l(1),m=l(16777216);n=o.prototype,n.m=function(){if(y(this))return-v(this).m();for(var O=0,_=1,x=0;x<this.g.length;x++){var A=this.i(x);O+=(0<=A?A:4294967296+A)*_,_*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(g(this))return"0";if(y(this))return"-"+v(this).toString(O);for(var _=c(Math.pow(O,6)),x=this,A="";;){var T=$(x,_).g;x=S(x,T.j(_));var w=((0<x.g.length?x.g[0]:x.h)>>>0).toString(O);if(x=T,g(x))return w+A;for(;6>w.length;)w="0"+w;A=w+A}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function g(O){if(O.h!=0)return!1;for(var _=0;_<O.g.length;_++)if(O.g[_]!=0)return!1;return!0}function y(O){return O.h==-1}n.l=function(O){return O=S(this,O),y(O)?-1:g(O)?0:1};function v(O){for(var _=O.g.length,x=[],A=0;A<_;A++)x[A]=~O.g[A];return new o(x,~O.h).add(d)}n.abs=function(){return y(this)?v(this):this},n.add=function(O){for(var _=Math.max(this.g.length,O.g.length),x=[],A=0,T=0;T<=_;T++){var w=A+(this.i(T)&65535)+(O.i(T)&65535),R=(w>>>16)+(this.i(T)>>>16)+(O.i(T)>>>16);A=R>>>16,w&=65535,R&=65535,x[T]=R<<16|w}return new o(x,x[x.length-1]&-2147483648?-1:0)};function S(O,_){return O.add(v(_))}n.j=function(O){if(g(this)||g(O))return h;if(y(this))return y(O)?v(this).j(v(O)):v(v(this).j(O));if(y(O))return v(this.j(v(O)));if(0>this.l(m)&&0>O.l(m))return c(this.m()*O.m());for(var _=this.g.length+O.g.length,x=[],A=0;A<2*_;A++)x[A]=0;for(A=0;A<this.g.length;A++)for(var T=0;T<O.g.length;T++){var w=this.i(A)>>>16,R=this.i(A)&65535,j=O.i(T)>>>16,V=O.i(T)&65535;x[2*A+2*T]+=R*V,b(x,2*A+2*T),x[2*A+2*T+1]+=w*V,b(x,2*A+2*T+1),x[2*A+2*T+1]+=R*j,b(x,2*A+2*T+1),x[2*A+2*T+2]+=w*j,b(x,2*A+2*T+2)}for(A=0;A<_;A++)x[A]=x[2*A+1]<<16|x[2*A];for(A=_;A<2*_;A++)x[A]=0;return new o(x,0)};function b(O,_){for(;(O[_]&65535)!=O[_];)O[_+1]+=O[_]>>>16,O[_]&=65535,_++}function k(O,_){this.g=O,this.h=_}function $(O,_){if(g(_))throw Error("division by zero");if(g(O))return new k(h,h);if(y(O))return _=$(v(O),_),new k(v(_.g),v(_.h));if(y(_))return _=$(O,v(_)),new k(v(_.g),_.h);if(30<O.g.length){if(y(O)||y(_))throw Error("slowDivide_ only works with positive integers.");for(var x=d,A=_;0>=A.l(O);)x=C(x),A=C(A);var T=Q(x,1),w=Q(A,1);for(A=Q(A,2),x=Q(x,2);!g(A);){var R=w.add(A);0>=R.l(O)&&(T=T.add(x),w=R),A=Q(A,1),x=Q(x,1)}return _=S(O,T.j(_)),new k(T,_)}for(T=h;0<=O.l(_);){for(x=Math.max(1,Math.floor(O.m()/_.m())),A=Math.ceil(Math.log(x)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),w=c(x),R=w.j(_);y(R)||0<R.l(O);)x-=A,w=c(x),R=w.j(_);g(w)&&(w=d),T=T.add(w),O=S(O,R)}return new k(T,O)}n.A=function(O){return $(this,O).h},n.and=function(O){for(var _=Math.max(this.g.length,O.g.length),x=[],A=0;A<_;A++)x[A]=this.i(A)&O.i(A);return new o(x,this.h&O.h)},n.or=function(O){for(var _=Math.max(this.g.length,O.g.length),x=[],A=0;A<_;A++)x[A]=this.i(A)|O.i(A);return new o(x,this.h|O.h)},n.xor=function(O){for(var _=Math.max(this.g.length,O.g.length),x=[],A=0;A<_;A++)x[A]=this.i(A)^O.i(A);return new o(x,this.h^O.h)};function C(O){for(var _=O.g.length+1,x=[],A=0;A<_;A++)x[A]=O.i(A)<<1|O.i(A-1)>>>31;return new o(x,O.h)}function Q(O,_){var x=_>>5;_%=32;for(var A=O.g.length-x,T=[],w=0;w<A;w++)T[w]=0<_?O.i(w+x)>>>_|O.i(w+x+1)<<32-_:O.i(w+x);return new o(T,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,hq=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,Vl=o}).apply(typeof hN<"u"?hN:typeof self<"u"?self:typeof window<"u"?window:{});var Ey=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dq,Ep,fq,M0,uT,pq,mq,gq;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,P,I){return p==Array.prototype||p==Object.prototype||(p[P]=I.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ey=="object"&&Ey];for(var P=0;P<p.length;++P){var I=p[P];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=t(this);function i(p,P){if(P)e:{var I=r;p=p.split(".");for(var D=0;D<p.length-1;D++){var B=p[D];if(!(B in I))break e;I=I[B]}p=p[p.length-1],D=I[p],P=P(D),P!=D&&P!=null&&e(I,p,{configurable:!0,writable:!0,value:P})}}function s(p,P){p instanceof String&&(p+="");var I=0,D=!1,B={next:function(){if(!D&&I<p.length){var Y=I++;return{value:P(Y,p[Y]),done:!1}}return D=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}i("Array.prototype.values",function(p){return p||function(){return s(this,function(P,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(p){var P=typeof p;return P=P!="object"?P:p?Array.isArray(p)?"array":P:"null",P=="array"||P=="object"&&typeof p.length=="number"}function c(p){var P=typeof p;return P=="object"&&p!=null||P=="function"}function u(p,P,I){return p.call.apply(p.bind,arguments)}function h(p,P,I){if(!p)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,D),p.apply(P,B)}}return function(){return p.apply(P,arguments)}}function d(p,P,I){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,d.apply(null,arguments)}function m(p,P){var I=Array.prototype.slice.call(arguments,1);return function(){var D=I.slice();return D.push.apply(D,arguments),p.apply(this,D)}}function g(p,P){function I(){}I.prototype=P.prototype,p.aa=P.prototype,p.prototype=new I,p.prototype.constructor=p,p.Qb=function(D,B,Y){for(var he=Array(arguments.length-2),_t=2;_t<arguments.length;_t++)he[_t-2]=arguments[_t];return P.prototype[B].apply(D,he)}}function y(p){const P=p.length;if(0<P){const I=Array(P);for(let D=0;D<P;D++)I[D]=p[D];return I}return[]}function v(p,P){for(let I=1;I<arguments.length;I++){const D=arguments[I];if(l(D)){const B=p.length||0,Y=D.length||0;p.length=B+Y;for(let he=0;he<Y;he++)p[B+he]=D[he]}else p.push(D)}}class S{constructor(P,I){this.i=P,this.j=I,this.h=0,this.g=null}get(){let P;return 0<this.h?(this.h--,P=this.g,this.g=P.next,P.next=null):P=this.i(),P}}function b(p){return/^[\s\xa0]*$/.test(p)}function k(){var p=a.navigator;return p&&(p=p.userAgent)?p:""}function $(p){return $[" "](p),p}$[" "]=function(){};var C=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function Q(p,P,I){for(const D in p)P.call(I,p[D],D,p)}function O(p,P){for(const I in p)P.call(void 0,p[I],I,p)}function _(p){const P={};for(const I in p)P[I]=p[I];return P}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(p,P){let I,D;for(let B=1;B<arguments.length;B++){D=arguments[B];for(I in D)p[I]=D[I];for(let Y=0;Y<x.length;Y++)I=x[Y],Object.prototype.hasOwnProperty.call(D,I)&&(p[I]=D[I])}}function T(p){var P=1;p=p.split(":");const I=[];for(;0<P&&p.length;)I.push(p.shift()),P--;return p.length&&I.push(p.join(":")),I}function w(p){a.setTimeout(()=>{throw p},0)}function R(){var p=q;let P=null;return p.g&&(P=p.g,p.g=p.g.next,p.g||(p.h=null),P.next=null),P}class j{constructor(){this.h=this.g=null}add(P,I){const D=V.get();D.set(P,I),this.h?this.h.next=D:this.g=D,this.h=D}}var V=new S(()=>new M,p=>p.reset());class M{constructor(){this.next=this.g=this.h=null}set(P,I){this.h=P,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,U=!1,q=new j,ne=()=>{const p=a.Promise.resolve(void 0);Z=()=>{p.then(X)}};var X=()=>{for(var p;p=R();){try{p.h.call(p.g)}catch(I){w(I)}var P=V;P.j(p),100>P.h&&(P.h++,p.next=P.g,P.g=p)}U=!1};function F(){this.s=this.s,this.C=this.C}F.prototype.s=!1,F.prototype.ma=function(){this.s||(this.s=!0,this.N())},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G(p,P){this.type=p,this.g=this.target=P,this.defaultPrevented=!1}G.prototype.h=function(){this.defaultPrevented=!0};var K=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var p=!1,P=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const I=()=>{};a.addEventListener("test",I,P),a.removeEventListener("test",I,P)}catch{}return p}();function re(p,P){if(G.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var I=this.type=p.type,D=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=P,P=p.relatedTarget){if(C){e:{try{$(P.nodeName);var B=!0;break e}catch{}B=!1}B||(P=null)}}else I=="mouseover"?P=p.fromElement:I=="mouseout"&&(P=p.toElement);this.relatedTarget=P,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:Se[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&re.aa.h.call(this)}}g(re,G);var Se={2:"touch",3:"pen",4:"mouse"};re.prototype.h=function(){re.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var le="closure_listenable_"+(1e6*Math.random()|0),Te=0;function yt(p,P,I,D,B){this.listener=p,this.proxy=null,this.src=P,this.type=I,this.capture=!!D,this.ha=B,this.key=++Te,this.da=this.fa=!1}function qe(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Be(p){this.src=p,this.g={},this.h=0}Be.prototype.add=function(p,P,I,D,B){var Y=p.toString();p=this.g[Y],p||(p=this.g[Y]=[],this.h++);var he=yn(p,P,D,B);return-1<he?(P=p[he],I||(P.fa=!1)):(P=new yt(P,this.src,Y,!!D,B),P.fa=I,p.push(P)),P};function Ye(p,P){var I=P.type;if(I in p.g){var D=p.g[I],B=Array.prototype.indexOf.call(D,P,void 0),Y;(Y=0<=B)&&Array.prototype.splice.call(D,B,1),Y&&(qe(P),p.g[I].length==0&&(delete p.g[I],p.h--))}}function yn(p,P,I,D){for(var B=0;B<p.length;++B){var Y=p[B];if(!Y.da&&Y.listener==P&&Y.capture==!!I&&Y.ha==D)return B}return-1}var Xn="closure_lm_"+(1e6*Math.random()|0),js={};function qo(p,P,I,D,B){if(Array.isArray(P)){for(var Y=0;Y<P.length;Y++)qo(p,P[Y],I,D,B);return null}return I=Fe(I),p&&p[le]?p.K(P,I,c(D)?!!D.capture:!!D,B):Ua(p,P,I,!1,D,B)}function Ua(p,P,I,D,B,Y){if(!P)throw Error("Invalid event type");var he=c(B)?!!B.capture:!!B,_t=ae(p);if(_t||(p[Xn]=_t=new Be(p)),I=_t.add(P,I,D,he,Y),I.proxy)return I;if(D=L(),I.proxy=D,D.src=p,D.listener=I,p.addEventListener)K||(B=he),B===void 0&&(B=!1),p.addEventListener(P.toString(),D,B);else if(p.attachEvent)p.attachEvent(ge(P.toString()),D);else if(p.addListener&&p.removeListener)p.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return I}function L(){function p(I){return P.call(p.src,p.listener,I)}const P=fe;return p}function W(p,P,I,D,B){if(Array.isArray(P))for(var Y=0;Y<P.length;Y++)W(p,P[Y],I,D,B);else D=c(D)?!!D.capture:!!D,I=Fe(I),p&&p[le]?(p=p.i,P=String(P).toString(),P in p.g&&(Y=p.g[P],I=yn(Y,I,D,B),-1<I&&(qe(Y[I]),Array.prototype.splice.call(Y,I,1),Y.length==0&&(delete p.g[P],p.h--)))):p&&(p=ae(p))&&(P=p.g[P.toString()],p=-1,P&&(p=yn(P,I,D,B)),(I=-1<p?P[p]:null)&&H(I))}function H(p){if(typeof p!="number"&&p&&!p.da){var P=p.src;if(P&&P[le])Ye(P.i,p);else{var I=p.type,D=p.proxy;P.removeEventListener?P.removeEventListener(I,D,p.capture):P.detachEvent?P.detachEvent(ge(I),D):P.addListener&&P.removeListener&&P.removeListener(D),(I=ae(P))?(Ye(I,p),I.h==0&&(I.src=null,P[Xn]=null)):qe(p)}}}function ge(p){return p in js?js[p]:js[p]="on"+p}function fe(p,P){if(p.da)p=!0;else{P=new re(P,this);var I=p.listener,D=p.ha||p.src;p.fa&&H(p),p=I.call(D,P)}return p}function ae(p){return p=p[Xn],p instanceof Be?p:null}var Re="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fe(p){return typeof p=="function"?p:(p[Re]||(p[Re]=function(P){return p.handleEvent(P)}),p[Re])}function st(){F.call(this),this.i=new Be(this),this.M=this,this.F=null}g(st,F),st.prototype[le]=!0,st.prototype.removeEventListener=function(p,P,I,D){W(this,p,P,I,D)};function ct(p,P){var I,D=p.F;if(D)for(I=[];D;D=D.F)I.push(D);if(p=p.M,D=P.type||P,typeof P=="string")P=new G(P,p);else if(P instanceof G)P.target=P.target||p;else{var B=P;P=new G(D,p),A(P,B)}if(B=!0,I)for(var Y=I.length-1;0<=Y;Y--){var he=P.g=I[Y];B=ji(he,D,!0,P)&&B}if(he=P.g=p,B=ji(he,D,!0,P)&&B,B=ji(he,D,!1,P)&&B,I)for(Y=0;Y<I.length;Y++)he=P.g=I[Y],B=ji(he,D,!1,P)&&B}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var p=this.i,P;for(P in p.g){for(var I=p.g[P],D=0;D<I.length;D++)qe(I[D]);delete p.g[P],p.h--}}this.F=null},st.prototype.K=function(p,P,I,D){return this.i.add(String(p),P,!1,I,D)},st.prototype.L=function(p,P,I,D){return this.i.add(String(p),P,!0,I,D)};function ji(p,P,I,D){if(P=p.i.g[String(P)],!P)return!0;P=P.concat();for(var B=!0,Y=0;Y<P.length;++Y){var he=P[Y];if(he&&!he.da&&he.capture==I){var _t=he.listener,Gn=he.ha||he.src;he.fa&&Ye(p.i,he),B=_t.call(Gn,D)!==!1&&B}}return B&&!D.defaultPrevented}function qO(p,P,I){if(typeof p=="function")I&&(p=d(p,I));else if(p&&typeof p.handleEvent=="function")p=d(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(P)?-1:a.setTimeout(p,P||0)}function Bu(p){p.g=qO(()=>{p.g=null,p.i&&(p.i=!1,Bu(p))},p.l);const P=p.h;p.h=null,p.m.apply(null,P)}class Nf extends F{constructor(P,I){super(),this.m=P,this.l=I,this.h=null,this.i=!1,this.g=null}j(P){this.h=arguments,this.g?this.i=!0:Bu(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ic(p){F.call(this),this.h=p,this.g={}}g(Ic,F);var jf=[];function ZO(p){Q(p.g,function(P,I){this.g.hasOwnProperty(I)&&H(P)},p),p.g={}}Ic.prototype.N=function(){Ic.aa.N.call(this),ZO(this)},Ic.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fu=a.JSON.stringify,rG=a.JSON.parse,iG=class{stringify(p){return a.JSON.stringify(p,void 0)}parse(p){return a.JSON.parse(p,void 0)}};function sS(){}sS.prototype.h=null;function d$(p){return p.h||(p.h=p.i())}function f$(){}var Df={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function oS(){G.call(this,"d")}g(oS,G);function aS(){G.call(this,"c")}g(aS,G);var Nc={},p$=null;function BO(){return p$=p$||new st}Nc.La="serverreachability";function m$(p){G.call(this,Nc.La,p)}g(m$,G);function Mf(p){const P=BO();ct(P,new m$(P))}Nc.STAT_EVENT="statevent";function g$(p,P){G.call(this,Nc.STAT_EVENT,p),this.stat=P}g(g$,G);function Ar(p){const P=BO();ct(P,new g$(P,p))}Nc.Ma="timingevent";function O$(p,P){G.call(this,Nc.Ma,p),this.size=P}g(O$,G);function Vf(p,P){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){p()},P)}function Lf(){this.g=!0}Lf.prototype.xa=function(){this.g=!1};function sG(p,P,I,D,B,Y){p.info(function(){if(p.g)if(Y)for(var he="",_t=Y.split("&"),Gn=0;Gn<_t.length;Gn++){var Ot=_t[Gn].split("=");if(1<Ot.length){var hr=Ot[0];Ot=Ot[1];var dr=hr.split("_");he=2<=dr.length&&dr[1]=="type"?he+(hr+"="+Ot+"&"):he+(hr+"=redacted&")}}else he=null;else he=Y;return"XMLHTTP REQ ("+D+") [attempt "+B+"]: "+P+`
`+I+`
`+he})}function oG(p,P,I,D,B,Y,he){p.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+B+"]: "+P+`
`+I+`
`+Y+" "+he})}function Wu(p,P,I,D){p.info(function(){return"XMLHTTP TEXT ("+P+"): "+lG(p,I)+(D?" "+D:"")})}function aG(p,P){p.info(function(){return"TIMEOUT: "+P})}Lf.prototype.info=function(){};function lG(p,P){if(!p.g)return P;if(!P)return null;try{var I=JSON.parse(P);if(I){for(p=0;p<I.length;p++)if(Array.isArray(I[p])){var D=I[p];if(!(2>D.length)){var B=D[1];if(Array.isArray(B)&&!(1>B.length)){var Y=B[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var he=1;he<B.length;he++)B[he]=""}}}}return Fu(I)}catch{return P}}var FO={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},y$={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},lS;function WO(){}g(WO,sS),WO.prototype.g=function(){return new XMLHttpRequest},WO.prototype.i=function(){return{}},lS=new WO;function qa(p,P,I,D){this.j=p,this.i=P,this.l=I,this.R=D||1,this.U=new Ic(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new v$}function v$(){this.i=null,this.g="",this.h=!1}var w$={},cS={};function uS(p,P,I){p.L=1,p.v=HO(Zo(P)),p.m=I,p.P=!0,x$(p,null)}function x$(p,P){p.F=Date.now(),XO(p),p.A=Zo(p.v);var I=p.A,D=p.R;Array.isArray(D)||(D=[String(D)]),N$(I.i,"t",D),p.C=0,I=p.j.J,p.h=new v$,p.g=J$(p.j,I?P:null,!p.m),0<p.O&&(p.M=new Nf(d(p.Y,p,p.g),p.O)),P=p.U,I=p.g,D=p.ca;var B="readystatechange";Array.isArray(B)||(B&&(jf[0]=B.toString()),B=jf);for(var Y=0;Y<B.length;Y++){var he=qo(I,B[Y],D||P.handleEvent,!1,P.h||P);if(!he)break;P.g[he.key]=he}P=p.H?_(p.H):{},p.m?(p.u||(p.u="POST"),P["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,P)):(p.u="GET",p.g.ea(p.A,p.u,null,P)),Mf(),sG(p.i,p.u,p.A,p.l,p.R,p.m)}qa.prototype.ca=function(p){p=p.target;const P=this.M;P&&Bo(p)==3?P.j():this.Y(p)},qa.prototype.Y=function(p){try{if(p==this.g)e:{const dr=Bo(this.g);var P=this.g.Ba();const Yu=this.g.Z();if(!(3>dr)&&(dr!=3||this.g&&(this.h.h||this.g.oa()||U$(this.g)))){this.J||dr!=4||P==7||(P==8||0>=Yu?Mf(3):Mf(2)),hS(this);var I=this.g.Z();this.X=I;t:if(b$(this)){var D=U$(this.g);p="";var B=D.length,Y=Bo(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){jc(this),zf(this);var he="";break t}this.h.i=new a.TextDecoder}for(P=0;P<B;P++)this.h.h=!0,p+=this.h.i.decode(D[P],{stream:!(Y&&P==B-1)});D.length=0,this.h.g+=p,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=I==200,oG(this.i,this.u,this.A,this.l,this.R,dr,I),this.o){if(this.T&&!this.K){t:{if(this.g){var _t,Gn=this.g;if((_t=Gn.g?Gn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(_t)){var Ot=_t;break t}}Ot=null}if(I=Ot)Wu(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dS(this,I);else{this.o=!1,this.s=3,Ar(12),jc(this),zf(this);break e}}if(this.P){I=!0;let is;for(;!this.J&&this.C<he.length;)if(is=cG(this,he),is==cS){dr==4&&(this.s=4,Ar(14),I=!1),Wu(this.i,this.l,null,"[Incomplete Response]");break}else if(is==w$){this.s=4,Ar(15),Wu(this.i,this.l,he,"[Invalid Chunk]"),I=!1;break}else Wu(this.i,this.l,is,null),dS(this,is);if(b$(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dr!=4||he.length!=0||this.h.h||(this.s=1,Ar(16),I=!1),this.o=this.o&&I,!I)Wu(this.i,this.l,he,"[Invalid Chunked Response]"),jc(this),zf(this);else if(0<he.length&&!this.W){this.W=!0;var hr=this.j;hr.g==this&&hr.ba&&!hr.M&&(hr.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),yS(hr),hr.M=!0,Ar(11))}}else Wu(this.i,this.l,he,null),dS(this,he);dr==4&&jc(this),this.o&&!this.J&&(dr==4?G$(this.j,this):(this.o=!1,XO(this)))}else TG(this.g),I==400&&0<he.indexOf("Unknown SID")?(this.s=3,Ar(12)):(this.s=0,Ar(13)),jc(this),zf(this)}}}catch{}finally{}};function b$(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function cG(p,P){var I=p.C,D=P.indexOf(`
`,I);return D==-1?cS:(I=Number(P.substring(I,D)),isNaN(I)?w$:(D+=1,D+I>P.length?cS:(P=P.slice(D,D+I),p.C=D+I,P)))}qa.prototype.cancel=function(){this.J=!0,jc(this)};function XO(p){p.S=Date.now()+p.I,S$(p,p.I)}function S$(p,P){if(p.B!=null)throw Error("WatchDog timer not null");p.B=Vf(d(p.ba,p),P)}function hS(p){p.B&&(a.clearTimeout(p.B),p.B=null)}qa.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(aG(this.i,this.A),this.L!=2&&(Mf(),Ar(17)),jc(this),this.s=2,zf(this)):S$(this,this.S-p)};function zf(p){p.j.G==0||p.J||G$(p.j,p)}function jc(p){hS(p);var P=p.M;P&&typeof P.ma=="function"&&P.ma(),p.M=null,ZO(p.U),p.g&&(P=p.g,p.g=null,P.abort(),P.ma())}function dS(p,P){try{var I=p.j;if(I.G!=0&&(I.g==p||fS(I.h,p))){if(!p.K&&fS(I.h,p)&&I.G==3){try{var D=I.Da.g.parse(P)}catch{D=null}if(Array.isArray(D)&&D.length==3){var B=D;if(B[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<p.F)ry(I),ty(I);else break e;OS(I),Ar(18)}}else I.za=B[1],0<I.za-I.T&&37500>B[2]&&I.F&&I.v==0&&!I.C&&(I.C=Vf(d(I.Za,I),6e3));if(1>=T$(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else Mc(I,11)}else if((p.K||I.g==p)&&ry(I),!b(P))for(B=I.Da.g.parse(P),P=0;P<B.length;P++){let Ot=B[P];if(I.T=Ot[0],Ot=Ot[1],I.G==2)if(Ot[0]=="c"){I.K=Ot[1],I.ia=Ot[2];const hr=Ot[3];hr!=null&&(I.la=hr,I.j.info("VER="+I.la));const dr=Ot[4];dr!=null&&(I.Aa=dr,I.j.info("SVER="+I.Aa));const Yu=Ot[5];Yu!=null&&typeof Yu=="number"&&0<Yu&&(D=1.5*Yu,I.L=D,I.j.info("backChannelRequestTimeoutMs_="+D)),D=I;const is=p.g;if(is){const sy=is.g?is.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sy){var Y=D.h;Y.g||sy.indexOf("spdy")==-1&&sy.indexOf("quic")==-1&&sy.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(pS(Y,Y.h),Y.h=null))}if(D.D){const vS=is.g?is.g.getResponseHeader("X-HTTP-Session-Id"):null;vS&&(D.ya=vS,Vt(D.I,D.D,vS))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-p.F,I.j.info("Handshake RTT: "+I.R+"ms")),D=I;var he=p;if(D.qa=K$(D,D.J?D.ia:null,D.W),he.K){P$(D.h,he);var _t=he,Gn=D.L;Gn&&(_t.I=Gn),_t.B&&(hS(_t),XO(_t)),D.g=he}else W$(D);0<I.i.length&&ny(I)}else Ot[0]!="stop"&&Ot[0]!="close"||Mc(I,7);else I.G==3&&(Ot[0]=="stop"||Ot[0]=="close"?Ot[0]=="stop"?Mc(I,7):gS(I):Ot[0]!="noop"&&I.l&&I.l.ta(Ot),I.v=0)}}Mf(4)}catch{}}var uG=class{constructor(p,P){this.g=p,this.map=P}};function k$(p){this.l=p||10,a.PerformanceNavigationTiming?(p=a.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _$(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function T$(p){return p.h?1:p.g?p.g.size:0}function fS(p,P){return p.h?p.h==P:p.g?p.g.has(P):!1}function pS(p,P){p.g?p.g.add(P):p.h=P}function P$(p,P){p.h&&p.h==P?p.h=null:p.g&&p.g.has(P)&&p.g.delete(P)}k$.prototype.cancel=function(){if(this.i=C$(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function C$(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let P=p.i;for(const I of p.g.values())P=P.concat(I.D);return P}return y(p.i)}function hG(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(l(p)){for(var P=[],I=p.length,D=0;D<I;D++)P.push(p[D]);return P}P=[],I=0;for(D in p)P[I++]=p[D];return P}function dG(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(l(p)||typeof p=="string"){var P=[];p=p.length;for(var I=0;I<p;I++)P.push(I);return P}P=[],I=0;for(const D in p)P[I++]=D;return P}}}function E$(p,P){if(p.forEach&&typeof p.forEach=="function")p.forEach(P,void 0);else if(l(p)||typeof p=="string")Array.prototype.forEach.call(p,P,void 0);else for(var I=dG(p),D=hG(p),B=D.length,Y=0;Y<B;Y++)P.call(void 0,D[Y],I&&I[Y],p)}var A$=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fG(p,P){if(p){p=p.split("&");for(var I=0;I<p.length;I++){var D=p[I].indexOf("="),B=null;if(0<=D){var Y=p[I].substring(0,D);B=p[I].substring(D+1)}else Y=p[I];P(Y,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Dc(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Dc){this.h=p.h,GO(this,p.j),this.o=p.o,this.g=p.g,YO(this,p.s),this.l=p.l;var P=p.i,I=new Zf;I.i=P.i,P.g&&(I.g=new Map(P.g),I.h=P.h),R$(this,I),this.m=p.m}else p&&(P=String(p).match(A$))?(this.h=!1,GO(this,P[1]||"",!0),this.o=Uf(P[2]||""),this.g=Uf(P[3]||"",!0),YO(this,P[4]),this.l=Uf(P[5]||"",!0),R$(this,P[6]||"",!0),this.m=Uf(P[7]||"")):(this.h=!1,this.i=new Zf(null,this.h))}Dc.prototype.toString=function(){var p=[],P=this.j;P&&p.push(qf(P,Q$,!0),":");var I=this.g;return(I||P=="file")&&(p.push("//"),(P=this.o)&&p.push(qf(P,Q$,!0),"@"),p.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&p.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&p.push("/"),p.push(qf(I,I.charAt(0)=="/"?gG:mG,!0))),(I=this.i.toString())&&p.push("?",I),(I=this.m)&&p.push("#",qf(I,yG)),p.join("")};function Zo(p){return new Dc(p)}function GO(p,P,I){p.j=I?Uf(P,!0):P,p.j&&(p.j=p.j.replace(/:$/,""))}function YO(p,P){if(P){if(P=Number(P),isNaN(P)||0>P)throw Error("Bad port number "+P);p.s=P}else p.s=null}function R$(p,P,I){P instanceof Zf?(p.i=P,vG(p.i,p.h)):(I||(P=qf(P,OG)),p.i=new Zf(P,p.h))}function Vt(p,P,I){p.i.set(P,I)}function HO(p){return Vt(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function Uf(p,P){return p?P?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function qf(p,P,I){return typeof p=="string"?(p=encodeURI(p).replace(P,pG),I&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function pG(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Q$=/[#\/\?@]/g,mG=/[#\?:]/g,gG=/[#\?]/g,OG=/[#\?@]/g,yG=/#/g;function Zf(p,P){this.h=this.g=null,this.i=p||null,this.j=!!P}function Za(p){p.g||(p.g=new Map,p.h=0,p.i&&fG(p.i,function(P,I){p.add(decodeURIComponent(P.replace(/\+/g," ")),I)}))}n=Zf.prototype,n.add=function(p,P){Za(this),this.i=null,p=Xu(this,p);var I=this.g.get(p);return I||this.g.set(p,I=[]),I.push(P),this.h+=1,this};function $$(p,P){Za(p),P=Xu(p,P),p.g.has(P)&&(p.i=null,p.h-=p.g.get(P).length,p.g.delete(P))}function I$(p,P){return Za(p),P=Xu(p,P),p.g.has(P)}n.forEach=function(p,P){Za(this),this.g.forEach(function(I,D){I.forEach(function(B){p.call(P,B,D,this)},this)},this)},n.na=function(){Za(this);const p=Array.from(this.g.values()),P=Array.from(this.g.keys()),I=[];for(let D=0;D<P.length;D++){const B=p[D];for(let Y=0;Y<B.length;Y++)I.push(P[D])}return I},n.V=function(p){Za(this);let P=[];if(typeof p=="string")I$(this,p)&&(P=P.concat(this.g.get(Xu(this,p))));else{p=Array.from(this.g.values());for(let I=0;I<p.length;I++)P=P.concat(p[I])}return P},n.set=function(p,P){return Za(this),this.i=null,p=Xu(this,p),I$(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[P]),this.h+=1,this},n.get=function(p,P){return p?(p=this.V(p),0<p.length?String(p[0]):P):P};function N$(p,P,I){$$(p,P),0<I.length&&(p.i=null,p.g.set(Xu(p,P),y(I)),p.h+=I.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],P=Array.from(this.g.keys());for(var I=0;I<P.length;I++){var D=P[I];const Y=encodeURIComponent(String(D)),he=this.V(D);for(D=0;D<he.length;D++){var B=Y;he[D]!==""&&(B+="="+encodeURIComponent(String(he[D]))),p.push(B)}}return this.i=p.join("&")};function Xu(p,P){return P=String(P),p.j&&(P=P.toLowerCase()),P}function vG(p,P){P&&!p.j&&(Za(p),p.i=null,p.g.forEach(function(I,D){var B=D.toLowerCase();D!=B&&($$(this,D),N$(this,B,I))},p)),p.j=P}function wG(p,P){const I=new Lf;if(a.Image){const D=new Image;D.onload=m(Ba,I,"TestLoadImage: loaded",!0,P,D),D.onerror=m(Ba,I,"TestLoadImage: error",!1,P,D),D.onabort=m(Ba,I,"TestLoadImage: abort",!1,P,D),D.ontimeout=m(Ba,I,"TestLoadImage: timeout",!1,P,D),a.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=p}else P(!1)}function xG(p,P){const I=new Lf,D=new AbortController,B=setTimeout(()=>{D.abort(),Ba(I,"TestPingServer: timeout",!1,P)},1e4);fetch(p,{signal:D.signal}).then(Y=>{clearTimeout(B),Y.ok?Ba(I,"TestPingServer: ok",!0,P):Ba(I,"TestPingServer: server error",!1,P)}).catch(()=>{clearTimeout(B),Ba(I,"TestPingServer: error",!1,P)})}function Ba(p,P,I,D,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),D(I)}catch{}}function bG(){this.g=new iG}function SG(p,P,I){const D=I||"";try{E$(p,function(B,Y){let he=B;c(B)&&(he=Fu(B)),P.push(D+Y+"="+encodeURIComponent(he))})}catch(B){throw P.push(D+"type="+encodeURIComponent("_badmap")),B}}function KO(p){this.l=p.Ub||null,this.j=p.eb||!1}g(KO,sS),KO.prototype.g=function(){return new JO(this.l,this.j)},KO.prototype.i=function(p){return function(){return p}}({});function JO(p,P){st.call(this),this.D=p,this.o=P,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(JO,st),n=JO.prototype,n.open=function(p,P){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=P,this.readyState=1,Ff(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const P={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(P.body=p),(this.D||a).fetch(new Request(this.A,P)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bf(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Ff(this)),this.g&&(this.readyState=3,Ff(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;j$(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function j$(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var P=p.value?p.value:new Uint8Array(0);(P=this.v.decode(P,{stream:!p.done}))&&(this.response=this.responseText+=P)}p.done?Bf(this):Ff(this),this.readyState==3&&j$(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,Bf(this))},n.Qa=function(p){this.g&&(this.response=p,Bf(this))},n.ga=function(){this.g&&Bf(this)};function Bf(p){p.readyState=4,p.l=null,p.j=null,p.v=null,Ff(p)}n.setRequestHeader=function(p,P){this.u.append(p,P)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],P=this.h.entries();for(var I=P.next();!I.done;)I=I.value,p.push(I[0]+": "+I[1]),I=P.next();return p.join(`\r
`)};function Ff(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(JO.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function D$(p){let P="";return Q(p,function(I,D){P+=D,P+=":",P+=I,P+=`\r
`}),P}function mS(p,P,I){e:{for(D in I){var D=!1;break e}D=!0}D||(I=D$(I),typeof p=="string"?I!=null&&encodeURIComponent(String(I)):Vt(p,P,I))}function tn(p){st.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(tn,st);var kG=/^https?$/i,_G=["POST","PUT"];n=tn.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,P,I,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);P=P?P.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():lS.g(),this.v=this.o?d$(this.o):d$(lS),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(P,String(p),!0),this.B=!1}catch(Y){M$(this,Y);return}if(p=I||"",I=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var B in D)I.set(B,D[B]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const Y of D.keys())I.set(Y,D.get(Y));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(I.keys()).find(Y=>Y.toLowerCase()=="content-type"),B=a.FormData&&p instanceof a.FormData,!(0<=Array.prototype.indexOf.call(_G,P,void 0))||D||B||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,he]of I)this.g.setRequestHeader(Y,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{z$(this),this.u=!0,this.g.send(p),this.u=!1}catch(Y){M$(this,Y)}};function M$(p,P){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=P,p.m=5,V$(p),ey(p)}function V$(p){p.A||(p.A=!0,ct(p,"complete"),ct(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,ct(this,"complete"),ct(this,"abort"),ey(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ey(this,!0)),tn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?L$(this):this.bb())},n.bb=function(){L$(this)};function L$(p){if(p.h&&typeof o<"u"&&(!p.v[1]||Bo(p)!=4||p.Z()!=2)){if(p.u&&Bo(p)==4)qO(p.Ea,0,p);else if(ct(p,"readystatechange"),Bo(p)==4){p.h=!1;try{const he=p.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var P=!0;break e;default:P=!1}var I;if(!(I=P)){var D;if(D=he===0){var B=String(p.D).match(A$)[1]||null;!B&&a.self&&a.self.location&&(B=a.self.location.protocol.slice(0,-1)),D=!kG.test(B?B.toLowerCase():"")}I=D}if(I)ct(p,"complete"),ct(p,"success");else{p.m=6;try{var Y=2<Bo(p)?p.g.statusText:""}catch{Y=""}p.l=Y+" ["+p.Z()+"]",V$(p)}}finally{ey(p)}}}}function ey(p,P){if(p.g){z$(p);const I=p.g,D=p.v[0]?()=>{}:null;p.g=null,p.v=null,P||ct(p,"ready");try{I.onreadystatechange=D}catch{}}}function z$(p){p.I&&(a.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function Bo(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<Bo(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var P=this.g.responseText;return p&&P.indexOf(p)==0&&(P=P.substring(p.length)),rG(P)}};function U$(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function TG(p){const P={};p=(p.g&&2<=Bo(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<p.length;D++){if(b(p[D]))continue;var I=T(p[D]);const B=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const Y=P[B]||[];P[B]=Y,Y.push(I)}O(P,function(D){return D.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wf(p,P,I){return I&&I.internalChannelParams&&I.internalChannelParams[p]||P}function q$(p){this.Aa=0,this.i=[],this.j=new Lf,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wf("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wf("baseRetryDelayMs",5e3,p),this.cb=Wf("retryDelaySeedMs",1e4,p),this.Wa=Wf("forwardChannelMaxRetries",2,p),this.wa=Wf("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new k$(p&&p.concurrentRequestLimit),this.Da=new bG,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=q$.prototype,n.la=8,n.G=1,n.connect=function(p,P,I,D){Ar(0),this.W=p,this.H=P||{},I&&D!==void 0&&(this.H.OSID=I,this.H.OAID=D),this.F=this.X,this.I=K$(this,null,this.W),ny(this)};function gS(p){if(Z$(p),p.G==3){var P=p.U++,I=Zo(p.I);if(Vt(I,"SID",p.K),Vt(I,"RID",P),Vt(I,"TYPE","terminate"),Xf(p,I),P=new qa(p,p.j,P),P.L=2,P.v=HO(Zo(I)),I=!1,a.navigator&&a.navigator.sendBeacon)try{I=a.navigator.sendBeacon(P.v.toString(),"")}catch{}!I&&a.Image&&(new Image().src=P.v,I=!0),I||(P.g=J$(P.j,null),P.g.ea(P.v)),P.F=Date.now(),XO(P)}H$(p)}function ty(p){p.g&&(yS(p),p.g.cancel(),p.g=null)}function Z$(p){ty(p),p.u&&(a.clearTimeout(p.u),p.u=null),ry(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&a.clearTimeout(p.s),p.s=null)}function ny(p){if(!_$(p.h)&&!p.s){p.s=!0;var P=p.Ga;Z||ne(),U||(Z(),U=!0),q.add(P,p),p.B=0}}function PG(p,P){return T$(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=P.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=Vf(d(p.Ga,p,P),Y$(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const B=new qa(this,this.j,p);let Y=this.o;if(this.S&&(Y?(Y=_(Y),A(Y,this.S)):Y=this.S),this.m!==null||this.O||(B.H=Y,Y=null),this.P)e:{for(var P=0,I=0;I<this.i.length;I++){t:{var D=this.i[I];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(P+=D,4096<P){P=I;break e}if(P===4096||I===this.i.length-1){P=I+1;break e}}P=1e3}else P=1e3;P=F$(this,B,P),I=Zo(this.I),Vt(I,"RID",p),Vt(I,"CVER",22),this.D&&Vt(I,"X-HTTP-Session-Id",this.D),Xf(this,I),Y&&(this.O?P="headers="+encodeURIComponent(String(D$(Y)))+"&"+P:this.m&&mS(I,this.m,Y)),pS(this.h,B),this.Ua&&Vt(I,"TYPE","init"),this.P?(Vt(I,"$req",P),Vt(I,"SID","null"),B.T=!0,uS(B,I,null)):uS(B,I,P),this.G=2}}else this.G==3&&(p?B$(this,p):this.i.length==0||_$(this.h)||B$(this))};function B$(p,P){var I;P?I=P.l:I=p.U++;const D=Zo(p.I);Vt(D,"SID",p.K),Vt(D,"RID",I),Vt(D,"AID",p.T),Xf(p,D),p.m&&p.o&&mS(D,p.m,p.o),I=new qa(p,p.j,I,p.B+1),p.m===null&&(I.H=p.o),P&&(p.i=P.D.concat(p.i)),P=F$(p,I,1e3),I.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),pS(p.h,I),uS(I,D,P)}function Xf(p,P){p.H&&Q(p.H,function(I,D){Vt(P,D,I)}),p.l&&E$({},function(I,D){Vt(P,D,I)})}function F$(p,P,I){I=Math.min(p.i.length,I);var D=p.l?d(p.l.Na,p.l,p):null;e:{var B=p.i;let Y=-1;for(;;){const he=["count="+I];Y==-1?0<I?(Y=B[0].g,he.push("ofs="+Y)):Y=0:he.push("ofs="+Y);let _t=!0;for(let Gn=0;Gn<I;Gn++){let Ot=B[Gn].g;const hr=B[Gn].map;if(Ot-=Y,0>Ot)Y=Math.max(0,B[Gn].g-100),_t=!1;else try{SG(hr,he,"req"+Ot+"_")}catch{D&&D(hr)}}if(_t){D=he.join("&");break e}}}return p=p.i.splice(0,I),P.D=p,D}function W$(p){if(!p.g&&!p.u){p.Y=1;var P=p.Fa;Z||ne(),U||(Z(),U=!0),q.add(P,p),p.v=0}}function OS(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=Vf(d(p.Fa,p),Y$(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,X$(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Vf(d(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ar(10),ty(this),X$(this))};function yS(p){p.A!=null&&(a.clearTimeout(p.A),p.A=null)}function X$(p){p.g=new qa(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var P=Zo(p.qa);Vt(P,"RID","rpc"),Vt(P,"SID",p.K),Vt(P,"AID",p.T),Vt(P,"CI",p.F?"0":"1"),!p.F&&p.ja&&Vt(P,"TO",p.ja),Vt(P,"TYPE","xmlhttp"),Xf(p,P),p.m&&p.o&&mS(P,p.m,p.o),p.L&&(p.g.I=p.L);var I=p.g;p=p.ia,I.L=1,I.v=HO(Zo(P)),I.m=null,I.P=!0,x$(I,p)}n.Za=function(){this.C!=null&&(this.C=null,ty(this),OS(this),Ar(19))};function ry(p){p.C!=null&&(a.clearTimeout(p.C),p.C=null)}function G$(p,P){var I=null;if(p.g==P){ry(p),yS(p),p.g=null;var D=2}else if(fS(p.h,P))I=P.D,P$(p.h,P),D=1;else return;if(p.G!=0){if(P.o)if(D==1){I=P.m?P.m.length:0,P=Date.now()-P.F;var B=p.B;D=BO(),ct(D,new O$(D,I)),ny(p)}else W$(p);else if(B=P.s,B==3||B==0&&0<P.X||!(D==1&&PG(p,P)||D==2&&OS(p)))switch(I&&0<I.length&&(P=p.h,P.i=P.i.concat(I)),B){case 1:Mc(p,5);break;case 4:Mc(p,10);break;case 3:Mc(p,6);break;default:Mc(p,2)}}}function Y$(p,P){let I=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(I*=2),I*P}function Mc(p,P){if(p.j.info("Error code "+P),P==2){var I=d(p.fb,p),D=p.Xa;const B=!D;D=new Dc(D||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||GO(D,"https"),HO(D),B?wG(D.toString(),I):xG(D.toString(),I)}else Ar(2);p.G=0,p.l&&p.l.sa(P),H$(p),Z$(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Ar(2)):(this.j.info("Failed to ping google.com"),Ar(1))};function H$(p){if(p.G=0,p.ka=[],p.l){const P=C$(p.h);(P.length!=0||p.i.length!=0)&&(v(p.ka,P),v(p.ka,p.i),p.h.i.length=0,y(p.i),p.i.length=0),p.l.ra()}}function K$(p,P,I){var D=I instanceof Dc?Zo(I):new Dc(I);if(D.g!="")P&&(D.g=P+"."+D.g),YO(D,D.s);else{var B=a.location;D=B.protocol,P=P?P+"."+B.hostname:B.hostname,B=+B.port;var Y=new Dc(null);D&&GO(Y,D),P&&(Y.g=P),B&&YO(Y,B),I&&(Y.l=I),D=Y}return I=p.D,P=p.ya,I&&P&&Vt(D,I,P),Vt(D,"VER",p.la),Xf(p,D),D}function J$(p,P,I){if(P&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return P=p.Ca&&!p.pa?new tn(new KO({eb:I})):new tn(p.pa),P.Ha(p.J),P}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function eI(){}n=eI.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function iy(){}iy.prototype.g=function(p,P){return new ui(p,P)};function ui(p,P){st.call(this),this.g=new q$(P),this.l=p,this.h=P&&P.messageUrlParams||null,p=P&&P.messageHeaders||null,P&&P.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=P&&P.initMessageHeaders||null,P&&P.messageContentType&&(p?p["X-WebChannel-Content-Type"]=P.messageContentType:p={"X-WebChannel-Content-Type":P.messageContentType}),P&&P.va&&(p?p["X-WebChannel-Client-Profile"]=P.va:p={"X-WebChannel-Client-Profile":P.va}),this.g.S=p,(p=P&&P.Sb)&&!b(p)&&(this.g.m=p),this.v=P&&P.supportsCrossDomainXhr||!1,this.u=P&&P.sendRawJson||!1,(P=P&&P.httpSessionIdParam)&&!b(P)&&(this.g.D=P,p=this.h,p!==null&&P in p&&(p=this.h,P in p&&delete p[P])),this.j=new Gu(this)}g(ui,st),ui.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ui.prototype.close=function(){gS(this.g)},ui.prototype.o=function(p){var P=this.g;if(typeof p=="string"){var I={};I.__data__=p,p=I}else this.u&&(I={},I.__data__=Fu(p),p=I);P.i.push(new uG(P.Ya++,p)),P.G==3&&ny(P)},ui.prototype.N=function(){this.g.l=null,delete this.j,gS(this.g),delete this.g,ui.aa.N.call(this)};function tI(p){oS.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var P=p.__sm__;if(P){e:{for(const I in P){p=I;break e}p=void 0}(this.i=p)&&(p=this.i,P=P!==null&&p in P?P[p]:void 0),this.data=P}else this.data=p}g(tI,oS);function nI(){aS.call(this),this.status=1}g(nI,aS);function Gu(p){this.g=p}g(Gu,eI),Gu.prototype.ua=function(){ct(this.g,"a")},Gu.prototype.ta=function(p){ct(this.g,new tI(p))},Gu.prototype.sa=function(p){ct(this.g,new nI)},Gu.prototype.ra=function(){ct(this.g,"b")},iy.prototype.createWebChannel=iy.prototype.g,ui.prototype.send=ui.prototype.o,ui.prototype.open=ui.prototype.m,ui.prototype.close=ui.prototype.close,gq=function(){return new iy},mq=function(){return BO()},pq=Nc,uT={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},FO.NO_ERROR=0,FO.TIMEOUT=8,FO.HTTP_ERROR=6,M0=FO,y$.COMPLETE="complete",fq=y$,f$.EventType=Df,Df.OPEN="a",Df.CLOSE="b",Df.ERROR="c",Df.MESSAGE="d",st.prototype.listen=st.prototype.K,Ep=f$,tn.prototype.listenOnce=tn.prototype.L,tn.prototype.getLastError=tn.prototype.Ka,tn.prototype.getLastErrorCode=tn.prototype.Ba,tn.prototype.getStatus=tn.prototype.Z,tn.prototype.getResponseJson=tn.prototype.Oa,tn.prototype.getResponseText=tn.prototype.oa,tn.prototype.send=tn.prototype.ea,tn.prototype.setWithCredentials=tn.prototype.Ha,dq=tn}).apply(typeof Ey<"u"?Ey:typeof self<"u"?self:typeof window<"u"?window:{});const dN="@firebase/firestore",fN="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Or.UNAUTHENTICATED=new Or(null),Or.GOOGLE_CREDENTIALS=new Or("google-credentials-uid"),Or.FIRST_PARTY=new Or("first-party-uid"),Or.MOCK_USER=new Or("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wf="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u=new dA("@firebase/firestore");function ah(){return _u.logLevel}function be(n,...e){if(_u.logLevel<=tt.DEBUG){const t=e.map(SA);_u.debug(`Firestore (${wf}): ${n}`,...t)}}function Pa(n,...e){if(_u.logLevel<=tt.ERROR){const t=e.map(SA);_u.error(`Firestore (${wf}): ${n}`,...t)}}function Cd(n,...e){if(_u.logLevel<=tt.WARN){const t=e.map(SA);_u.warn(`Firestore (${wf}): ${n}`,...t)}}function SA(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(n="Unexpected state"){const e=`FIRESTORE (${wf}) INTERNAL ASSERTION FAILED: `+n;throw Pa(e),new Error(e)}function xt(n,e){n||Le()}function Ue(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Do{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oq{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nse{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Or.UNAUTHENTICATED))}shutdown(){}}class rse{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ise{constructor(e){this.t=e,this.currentUser=Or.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){xt(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve();let s=new ya;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ya,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ya)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xt(typeof r.accessToken=="string"),new Oq(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xt(e===null||typeof e=="string"),new Or(e)}}class sse{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Or.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class ose{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new sse(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Or.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ase{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,yi(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){xt(this.o===void 0);const r=s=>{s.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,be("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new pN(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(xt(typeof t.token=="string"),this.R=t.token,new pN(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lse(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yq{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=lse(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}}function at(n,e){return n<e?-1:n>e?1:0}function Ed(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=-62135596800,gN=1e6;class jn{static now(){return jn.fromMillis(Date.now())}static fromDate(e){return jn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*gN);return new jn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ve(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ve(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<mN)throw new ve(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gN}_compareTo(e){return this.seconds===e.seconds?at(this.nanoseconds,e.nanoseconds):at(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-mN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new jn(0,0))}static max(){return new ze(new jn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON="__name__";class Zs{constructor(e,t,r){t===void 0?t=0:t>e.length&&Le(),r===void 0?r=e.length-t:r>e.length-t&&Le(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Zs.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Zs?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=Zs.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=Zs.isNumericId(e),i=Zs.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Zs.extractNumericId(e).compare(Zs.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Vl.fromString(e.substring(4,e.length-2))}}class qt extends Zs{construct(e,t,r){return new qt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ve(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new qt(t)}static emptyPath(){return new qt([])}}const cse=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sr extends Zs{construct(e,t,r){return new sr(e,t,r)}static isValidIdentifier(e){return cse.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ON}static keyField(){return new sr([ON])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ve(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ve(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ve(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ve(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sr(t)}static emptyPath(){return new sr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.path=e}static fromPath(e){return new Qe(qt.fromString(e))}static fromName(e){return new Qe(qt.fromString(e).popFirst(5))}static empty(){return new Qe(qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return qt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Qe(new qt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm=-1;function use(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ze.fromTimestamp(r===1e9?new jn(t+1,0):new jn(t,r));return new Yl(i,Qe.empty(),e)}function hse(n){return new Yl(n.readTime,n.key,Bm)}class Yl{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Yl(ze.min(),Qe.empty(),Bm)}static max(){return new Yl(ze.max(),Qe.empty(),Bm)}}function dse(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Qe.comparator(n.documentKey,e.documentKey),t!==0?t:at(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fse="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pse{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xf(n){if(n.code!==ee.FAILED_PRECONDITION||n.message!==fse)throw n;be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):te.reject(t)}static resolve(e){return new te((t,r)=>{t(e)})}static reject(e){return new te((t,r)=>{r(e)})}static waitFor(e){return new te((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},l=>r(l))}),o=!0,s===i&&t()})}static or(e){let t=te.resolve(!1);for(const r of e)t=t.next(i=>i?te.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new te((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;t(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,t){return new te((r,i)=>{const s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}}function mse(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function bf(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}ob.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA=-1;function ab(n){return n==null}function mw(n){return n===0&&1/n==-1/0}function gse(n){return typeof n=="number"&&Number.isInteger(n)&&!mw(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vq="";function Ose(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=yN(e)),e=yse(n.get(t),e);return yN(e)}function yse(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="";break;case vq:t+="";break;default:t+=s}}return t}function yN(n){return n+vq+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function kc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function wq(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,t){this.comparator=e,this.root=t||Kn.EMPTY}insert(e,t){return new en(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Kn.BLACK,null,null))}remove(e){return new en(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ay(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ay(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ay(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ay(this.root,e,this.comparator,!0)}}class Ay{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kn{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Kn.RED,this.left=i??Kn.EMPTY,this.right=s??Kn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Kn(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Kn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Kn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Le();const e=this.left.check();if(e!==this.right.check())throw Le();return e+(this.isRed()?0:1)}}Kn.EMPTY=null,Kn.RED=!0,Kn.BLACK=!1;Kn.EMPTY=new class{constructor(){this.size=0}get key(){throw Le()}get value(){throw Le()}get color(){throw Le()}get left(){throw Le()}get right(){throw Le()}copy(e,t,r,i,s){return this}insert(e,t,r){return new Kn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.comparator=e,this.data=new en(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new wN(this.data.getIterator())}getIteratorFrom(e){return new wN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Dn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Dn(this.comparator);return t.data=e,t}}class wN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e){this.fields=e,e.sort(sr.comparator)}static empty(){return new wi([])}unionWith(e){let t=new Dn(sr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new wi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ed(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xq extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new xq("Invalid base64 string: "+s):s}}(e);return new cr(t)}static fromUint8Array(e){const t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new cr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return at(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cr.EMPTY_BYTE_STRING=new cr("");const vse=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hl(n){if(xt(!!n),typeof n=="string"){let e=0;const t=vse.exec(n);if(xt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dn(n.seconds),nanos:dn(n.nanos)}}function dn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Kl(n){return typeof n=="string"?cr.fromBase64String(n):cr.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bq="server_timestamp",Sq="__type__",kq="__previous_value__",_q="__local_write_time__";function _A(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Sq])===null||t===void 0?void 0:t.stringValue)===bq}function lb(n){const e=n.mapValue.fields[kq];return _A(e)?lb(e):e}function Fm(n){const e=Hl(n.mapValue.fields[_q].timestampValue);return new jn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wse{constructor(e,t,r,i,s,o,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}const gw="(default)";class Wm{constructor(e,t){this.projectId=e,this.database=t||gw}static empty(){return new Wm("","")}get isDefaultDatabase(){return this.database===gw}isEqual(e){return e instanceof Wm&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tq="__type__",Pq="__max__",Ry={mapValue:{fields:{__type__:{stringValue:Pq}}}},Cq="__vector__",Ow="value";function Jl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?_A(n)?4:bse(n)?9007199254740991:xse(n)?10:11:Le()}function wo(n,e){if(n===e)return!0;const t=Jl(n);if(t!==Jl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Fm(n).isEqual(Fm(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Hl(i.timestampValue),a=Hl(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return Kl(i.bytesValue).isEqual(Kl(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return dn(i.geoPointValue.latitude)===dn(s.geoPointValue.latitude)&&dn(i.geoPointValue.longitude)===dn(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return dn(i.integerValue)===dn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=dn(i.doubleValue),a=dn(s.doubleValue);return o===a?mw(o)===mw(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return Ed(n.arrayValue.values||[],e.arrayValue.values||[],wo);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(vN(o)!==vN(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!wo(o[l],a[l])))return!1;return!0}(n,e);default:return Le()}}function Xm(n,e){return(n.values||[]).find(t=>wo(t,e))!==void 0}function Ad(n,e){if(n===e)return 0;const t=Jl(n),r=Jl(e);if(t!==r)return at(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return at(n.booleanValue,e.booleanValue);case 2:return function(s,o){const a=dn(s.integerValue||s.doubleValue),l=dn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return xN(n.timestampValue,e.timestampValue);case 4:return xN(Fm(n),Fm(e));case 5:return at(n.stringValue,e.stringValue);case 6:return function(s,o){const a=Kl(s),l=Kl(o);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=at(a[c],l[c]);if(u!==0)return u}return at(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){const a=at(dn(s.latitude),dn(o.latitude));return a!==0?a:at(dn(s.longitude),dn(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return bN(n.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,u;const h=s.fields||{},d=o.fields||{},m=(a=h[Ow])===null||a===void 0?void 0:a.arrayValue,g=(l=d[Ow])===null||l===void 0?void 0:l.arrayValue,y=at(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0);return y!==0?y:bN(m,g)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===Ry.mapValue&&o===Ry.mapValue)return 0;if(s===Ry.mapValue)return 1;if(o===Ry.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const d=at(l[h],u[h]);if(d!==0)return d;const m=Ad(a[l[h]],c[u[h]]);if(m!==0)return m}return at(l.length,u.length)}(n.mapValue,e.mapValue);default:throw Le()}}function xN(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return at(n,e);const t=Hl(n),r=Hl(e),i=at(t.seconds,r.seconds);return i!==0?i:at(t.nanos,r.nanos)}function bN(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=Ad(t[i],r[i]);if(s)return s}return at(t.length,r.length)}function Rd(n){return hT(n)}function hT(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Hl(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Kl(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Qe.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=hT(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${hT(t.fields[o])}`;return i+"}"}(n.mapValue):Le()}function V0(n){switch(Jl(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lb(n);return e?16+V0(e):16;case 5:return 2*n.stringValue.length;case 6:return Kl(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+V0(s),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return kc(r.fields,(s,o)=>{i+=s.length+V0(o)}),i}(n.mapValue);default:throw Le()}}function SN(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function dT(n){return!!n&&"integerValue"in n}function TA(n){return!!n&&"arrayValue"in n}function kN(n){return!!n&&"nullValue"in n}function _N(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function L0(n){return!!n&&"mapValue"in n}function xse(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Tq])===null||t===void 0?void 0:t.stringValue)===Cq}function um(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return kc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=um(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=um(n.arrayValue.values[t]);return e}return Object.assign({},n)}function bse(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Pq}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this.value=e}static empty(){return new ei({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!L0(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=um(t)}setAll(e){let t=sr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=um(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());L0(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return wo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];L0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){kc(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new ei(um(this.value))}}function Eq(n){const e=[];return kc(n.fields,(t,r)=>{const i=new sr([t]);if(L0(r)){const s=Eq(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new wi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new wr(e,0,ze.min(),ze.min(),ze.min(),ei.empty(),0)}static newFoundDocument(e,t,r,i){return new wr(e,1,t,ze.min(),r,i,0)}static newNoDocument(e,t){return new wr(e,2,t,ze.min(),ze.min(),ei.empty(),0)}static newUnknownDocument(e,t){return new wr(e,3,t,ze.min(),ze.min(),ei.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ei.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ei.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,t){this.position=e,this.inclusive=t}}function TN(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(s.field.isKeyField()?r=Qe.comparator(Qe.fromName(o.referenceValue),t.key):r=Ad(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function PN(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!wo(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,t="asc"){this.field=e,this.dir=t}}function Sse(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aq{}class Sn extends Aq{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new _se(e,t,r):t==="array-contains"?new Cse(e,r):t==="in"?new Ese(e,r):t==="not-in"?new Ase(e,r):t==="array-contains-any"?new Rse(e,r):new Sn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Tse(e,r):new Pse(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ad(t,this.value)):t!==null&&Jl(this.value)===Jl(t)&&this.matchesComparison(Ad(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ts extends Aq{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Ts(e,t)}matches(e){return Rq(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Rq(n){return n.op==="and"}function Qq(n){return kse(n)&&Rq(n)}function kse(n){for(const e of n.filters)if(e instanceof Ts)return!1;return!0}function fT(n){if(n instanceof Sn)return n.field.canonicalString()+n.op.toString()+Rd(n.value);if(Qq(n))return n.filters.map(e=>fT(e)).join(",");{const e=n.filters.map(t=>fT(t)).join(",");return`${n.op}(${e})`}}function $q(n,e){return n instanceof Sn?function(r,i){return i instanceof Sn&&r.op===i.op&&r.field.isEqual(i.field)&&wo(r.value,i.value)}(n,e):n instanceof Ts?function(r,i){return i instanceof Ts&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&$q(o,i.filters[a]),!0):!1}(n,e):void Le()}function Iq(n){return n instanceof Sn?function(t){return`${t.field.canonicalString()} ${t.op} ${Rd(t.value)}`}(n):n instanceof Ts?function(t){return t.op.toString()+" {"+t.getFilters().map(Iq).join(" ,")+"}"}(n):"Filter"}class _se extends Sn{constructor(e,t,r){super(e,t,r),this.key=Qe.fromName(r.referenceValue)}matches(e){const t=Qe.comparator(e.key,this.key);return this.matchesComparison(t)}}class Tse extends Sn{constructor(e,t){super(e,"in",t),this.keys=Nq("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Pse extends Sn{constructor(e,t){super(e,"not-in",t),this.keys=Nq("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Nq(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Qe.fromName(r.referenceValue))}class Cse extends Sn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return TA(t)&&Xm(t.arrayValue,this.value)}}class Ese extends Sn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Xm(this.value.arrayValue,t)}}class Ase extends Sn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Xm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Xm(this.value.arrayValue,t)}}class Rse extends Sn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!TA(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Xm(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qse{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.le=null}}function CN(n,e=null,t=[],r=[],i=null,s=null,o=null){return new Qse(n,e,t,r,i,s,o)}function PA(n){const e=Ue(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>fT(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ab(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Rd(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Rd(r)).join(",")),e.le=t}return e.le}function CA(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Sse(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!$q(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!PN(n.startAt,e.startAt)&&PN(n.endAt,e.endAt)}function pT(n){return Qe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function $se(n,e,t,r,i,s,o,a){return new Sf(n,e,t,r,i,s,o,a)}function EA(n){return new Sf(n)}function EN(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function jq(n){return n.collectionGroup!==null}function hm(n){const e=Ue(n);if(e.he===null){e.he=[];const t=new Set;for(const s of e.explicitOrderBy)e.he.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Dn(sr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.he.push(new Gm(s,r))}),t.has(sr.keyField().canonicalString())||e.he.push(new Gm(sr.keyField(),r))}return e.he}function fo(n){const e=Ue(n);return e.Pe||(e.Pe=Ise(e,hm(n))),e.Pe}function Ise(n,e){if(n.limitType==="F")return CN(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Gm(i.field,s)});const t=n.endAt?new yw(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new yw(n.startAt.position,n.startAt.inclusive):null;return CN(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function mT(n,e){const t=n.filters.concat([e]);return new Sf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function vw(n,e,t){return new Sf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function cb(n,e){return CA(fo(n),fo(e))&&n.limitType===e.limitType}function Dq(n){return`${PA(fo(n))}|lt:${n.limitType}`}function lh(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>Iq(i)).join(", ")}]`),ab(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Rd(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Rd(i)).join(",")),`Target(${r})`}(fo(n))}; limitType=${n.limitType})`}function ub(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Qe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of hm(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=TN(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,hm(r),i)||r.endAt&&!function(o,a,l){const c=TN(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,hm(r),i))}(n,e)}function Nse(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Mq(n){return(e,t)=>{let r=!1;for(const i of hm(n)){const s=jse(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function jse(n,e,t){const r=n.field.isKeyField()?Qe.comparator(e.key,t.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Ad(l,c):Le()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Le()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){kc(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return wq(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dse=new en(Qe.comparator);function Ca(){return Dse}const Vq=new en(Qe.comparator);function Ap(...n){let e=Vq;for(const t of n)e=e.insert(t.key,t);return e}function Lq(n){let e=Vq;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Yc(){return dm()}function zq(){return dm()}function dm(){return new qu(n=>n.toString(),(n,e)=>n.isEqual(e))}const Mse=new en(Qe.comparator),Vse=new Dn(Qe.comparator);function nt(...n){let e=Vse;for(const t of n)e=e.add(t);return e}const Lse=new Dn(at);function zse(){return Lse}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mw(e)?"-0":e}}function Uq(n){return{integerValue:""+n}}function Use(n,e){return gse(e)?Uq(e):AA(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(){this._=void 0}}function qse(n,e,t){return n instanceof Ym?function(i,s){const o={fields:{[Sq]:{stringValue:bq},[_q]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&_A(s)&&(s=lb(s)),s&&(o.fields[kq]=s),{mapValue:o}}(t,e):n instanceof Hm?Zq(n,e):n instanceof Km?Bq(n,e):function(i,s){const o=qq(i,s),a=AN(o)+AN(i.Ie);return dT(o)&&dT(i.Ie)?Uq(a):AA(i.serializer,a)}(n,e)}function Zse(n,e,t){return n instanceof Hm?Zq(n,e):n instanceof Km?Bq(n,e):t}function qq(n,e){return n instanceof ww?function(r){return dT(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Ym extends hb{}class Hm extends hb{constructor(e){super(),this.elements=e}}function Zq(n,e){const t=Fq(e);for(const r of n.elements)t.some(i=>wo(i,r))||t.push(r);return{arrayValue:{values:t}}}class Km extends hb{constructor(e){super(),this.elements=e}}function Bq(n,e){let t=Fq(e);for(const r of n.elements)t=t.filter(i=>!wo(i,r));return{arrayValue:{values:t}}}class ww extends hb{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function AN(n){return dn(n.integerValue||n.doubleValue)}function Fq(n){return TA(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bse{constructor(e,t){this.field=e,this.transform=t}}function Fse(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Hm&&i instanceof Hm||r instanceof Km&&i instanceof Km?Ed(r.elements,i.elements,wo):r instanceof ww&&i instanceof ww?wo(r.Ie,i.Ie):r instanceof Ym&&i instanceof Ym}(n.transform,e.transform)}class Wse{constructor(e,t){this.version=e,this.transformResults=t}}class Dr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Dr}static exists(e){return new Dr(void 0,e)}static updateTime(e){return new Dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function z0(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class db{}function Wq(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new fb(n.key,Dr.none()):new xO(n.key,n.data,Dr.none());{const t=n.data,r=ei.empty();let i=new Dn(sr.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new _c(n.key,r,new wi(i.toArray()),Dr.none())}}function Xse(n,e,t){n instanceof xO?function(i,s,o){const a=i.value.clone(),l=QN(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof _c?function(i,s,o){if(!z0(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=QN(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(Xq(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function fm(n,e,t,r){return n instanceof xO?function(s,o,a,l){if(!z0(s.precondition,o))return a;const c=s.value.clone(),u=$N(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof _c?function(s,o,a,l){if(!z0(s.precondition,o))return a;const c=$N(s.fieldTransforms,l,o),u=o.data;return u.setAll(Xq(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(n,e,t,r):function(s,o,a){return z0(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function Gse(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=qq(r.transform,i||null);s!=null&&(t===null&&(t=ei.empty()),t.set(r.field,s))}return t||null}function RN(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ed(r,i,(s,o)=>Fse(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class xO extends db{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class _c extends db{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Xq(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function QN(n,e,t){const r=new Map;xt(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Zse(o,a,t[i]))}return r}function $N(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,qse(s,o,e))}return r}class fb extends db{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Yse extends db{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hse{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Xse(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=fm(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=fm(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=zq();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const l=Wq(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ze.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),nt())}isEqual(e){return this.batchId===e.batchId&&Ed(this.mutations,e.mutations,(t,r)=>RN(t,r))&&Ed(this.baseMutations,e.baseMutations,(t,r)=>RN(t,r))}}class RA{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){xt(e.mutations.length===r.length);let i=function(){return Mse}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new RA(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kse=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jse{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wn,ut;function eoe(n){switch(n){case ee.OK:return Le();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Le()}}function Gq(n){if(n===void 0)return Pa("GRPC error has no .code"),ee.UNKNOWN;switch(n){case wn.OK:return ee.OK;case wn.CANCELLED:return ee.CANCELLED;case wn.UNKNOWN:return ee.UNKNOWN;case wn.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case wn.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case wn.INTERNAL:return ee.INTERNAL;case wn.UNAVAILABLE:return ee.UNAVAILABLE;case wn.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case wn.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case wn.NOT_FOUND:return ee.NOT_FOUND;case wn.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case wn.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case wn.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case wn.ABORTED:return ee.ABORTED;case wn.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case wn.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case wn.DATA_LOSS:return ee.DATA_LOSS;default:return Le()}}(ut=wn||(wn={}))[ut.OK=0]="OK",ut[ut.CANCELLED=1]="CANCELLED",ut[ut.UNKNOWN=2]="UNKNOWN",ut[ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ut[ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ut[ut.NOT_FOUND=5]="NOT_FOUND",ut[ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",ut[ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",ut[ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",ut[ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ut[ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ut[ut.ABORTED=10]="ABORTED",ut[ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",ut[ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",ut[ut.INTERNAL=13]="INTERNAL",ut[ut.UNAVAILABLE=14]="UNAVAILABLE",ut[ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function toe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const noe=new Vl([4294967295,4294967295],0);function IN(n){const e=toe().encode(n),t=new hq;return t.update(e),new Uint8Array(t.digest())}function NN(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Vl([t,r],0),new Vl([i,s],0)]}class QA{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Rp(`Invalid padding: ${t}`);if(r<0)throw new Rp(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Rp(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Rp(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Vl.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(Vl.fromNumber(r)));return i.compare(noe)===1&&(i=new Vl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=IN(e),[r,i]=NN(t);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);if(!this.Re(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new QA(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;const t=IN(e),[r,i]=NN(t);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);this.Ve(o)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Rp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,bO.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new pb(ze.min(),i,new en(at),Ca(),nt())}}class bO{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new bO(r,t,nt(),nt(),nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}}class Yq{constructor(e,t){this.targetId=e,this.ge=t}}class Hq{constructor(e,t,r=cr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class jN{constructor(){this.pe=0,this.ye=DN(),this.we=cr.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=nt(),t=nt(),r=nt();return this.ye.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Le()}}),new bO(this.we,this.be,e,t,r)}Me(){this.Se=!1,this.ye=DN()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,xt(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class roe{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ca(),this.$e=Qy(),this.Ke=Qy(),this.Ue=new en(at)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Le()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){const t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){const s=i.target;if(pT(s))if(r===0){const o=new Qe(s.path);this.ze(t,o,wr.newNoDocument(o,ze.min()))}else xt(r===1);else{const o=this.et(t);if(o!==r){const a=this.tt(e),l=a?this.nt(a,e,o):1;if(l!==0){this.Ye(t);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,c)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let o,a;try{o=Kl(r).toUint8Array()}catch(l){if(l instanceof xq)return Cd("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new QA(o,i,s)}catch(l){return Cd(l instanceof Rp?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const o=this.ke.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.ze(t,s,null),i++)}),i}ot(e){const t=new Map;this.qe.forEach((s,o)=>{const a=this.Xe(o);if(a){if(s.current&&pT(a.target)){const l=new Qe(a.target.path);this._t(l).has(o)||this.ut(o,l)||this.ze(o,l,wr.newNoDocument(l,e))}s.ve&&(t.set(o,s.Fe()),s.Me())}});let r=nt();this.Ke.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Xe(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(e));const i=new pb(e,t,this.Ue,this.Qe,r);return this.Qe=Ca(),this.$e=Qy(),this.Ke=Qy(),this.Ue=new en(at),i}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new jN,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Dn(at),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Dn(at),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||be("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new jN),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Qy(){return new en(Qe.comparator)}function DN(){return new en(Qe.comparator)}const ioe={asc:"ASCENDING",desc:"DESCENDING"},soe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ooe={and:"AND",or:"OR"};class aoe{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function gT(n,e){return n.useProto3Json||ab(e)?e:{value:e}}function xw(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Kq(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function loe(n,e){return xw(n,e.toTimestamp())}function po(n){return xt(!!n),ze.fromTimestamp(function(t){const r=Hl(t);return new jn(r.seconds,r.nanos)}(n))}function $A(n,e){return OT(n,e).canonicalString()}function OT(n,e){const t=function(i){return new qt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Jq(n){const e=qt.fromString(n);return xt(iZ(e)),e}function yT(n,e){return $A(n.databaseId,e.path)}function a1(n,e){const t=Jq(e);if(t.get(1)!==n.databaseId.projectId)throw new ve(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ve(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Qe(tZ(t))}function eZ(n,e){return $A(n.databaseId,e)}function coe(n){const e=Jq(n);return e.length===4?qt.emptyPath():tZ(e)}function vT(n){return new qt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function tZ(n){return xt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function MN(n,e,t){return{name:yT(n,e),fields:t.value.mapValue.fields}}function uoe(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Le()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(xt(u===void 0||typeof u=="string"),cr.fromBase64String(u||"")):(xt(u===void 0||u instanceof Buffer||u instanceof Uint8Array),cr.fromUint8Array(u||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?ee.UNKNOWN:Gq(c.code);return new ve(u,c.message||"")}(o);t=new Hq(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=a1(n,r.document.name),s=po(r.document.updateTime),o=r.document.createTime?po(r.document.createTime):ze.min(),a=new ei({mapValue:{fields:r.document.fields}}),l=wr.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];t=new U0(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=a1(n,r.document),s=r.readTime?po(r.readTime):ze.min(),o=wr.newNoDocument(i,s),a=r.removedTargetIds||[];t=new U0([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=a1(n,r.document),s=r.removedTargetIds||[];t=new U0([],s,i,null)}else{if(!("filter"in e))return Le();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Jse(i,s),a=r.targetId;t=new Yq(a,o)}}return t}function hoe(n,e){let t;if(e instanceof xO)t={update:MN(n,e.key,e.value)};else if(e instanceof fb)t={delete:yT(n,e.key)};else if(e instanceof _c)t={update:MN(n,e.key,e.data),updateMask:woe(e.fieldMask)};else{if(!(e instanceof Yse))return Le();t={verify:yT(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Ym)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Hm)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Km)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ww)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Le()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:loe(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Le()}(n,e.precondition)),t}function doe(n,e){return n&&n.length>0?(xt(e!==void 0),n.map(t=>function(i,s){let o=i.updateTime?po(i.updateTime):po(s);return o.isEqual(ze.min())&&(o=po(s)),new Wse(o,i.transformResults||[])}(t,e))):[]}function foe(n,e){return{documents:[eZ(n,e.path)]}}function poe(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=eZ(n,i);const s=function(c){if(c.length!==0)return rZ(Ts.create(c,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(u=>function(d){return{field:ch(d.field),direction:Ooe(d.dir)}}(u))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const a=gT(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ht:t,parent:i}}function moe(n){let e=coe(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){xt(r===1);const u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];t.where&&(s=function(h){const d=nZ(h);return d instanceof Ts&&Qq(d)?d.getFilters():[d]}(t.where));let o=[];t.orderBy&&(o=function(h){return h.map(d=>function(g){return new Gm(uh(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(d))}(t.orderBy));let a=null;t.limit&&(a=function(h){let d;return d=typeof h=="object"?h.value:h,ab(d)?null:d}(t.limit));let l=null;t.startAt&&(l=function(h){const d=!!h.before,m=h.values||[];return new yw(m,d)}(t.startAt));let c=null;return t.endAt&&(c=function(h){const d=!h.before,m=h.values||[];return new yw(m,d)}(t.endAt)),$se(e,i,o,s,a,"F",l,c)}function goe(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function nZ(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=uh(t.unaryFilter.field);return Sn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=uh(t.unaryFilter.field);return Sn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=uh(t.unaryFilter.field);return Sn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=uh(t.unaryFilter.field);return Sn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Le()}}(n):n.fieldFilter!==void 0?function(t){return Sn.create(uh(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Le()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Ts.create(t.compositeFilter.filters.map(r=>nZ(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Le()}}(t.compositeFilter.op))}(n):Le()}function Ooe(n){return ioe[n]}function yoe(n){return soe[n]}function voe(n){return ooe[n]}function ch(n){return{fieldPath:n.canonicalString()}}function uh(n){return sr.fromServerFormat(n.fieldPath)}function rZ(n){return n instanceof Sn?function(t){if(t.op==="=="){if(_N(t.value))return{unaryFilter:{field:ch(t.field),op:"IS_NAN"}};if(kN(t.value))return{unaryFilter:{field:ch(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(_N(t.value))return{unaryFilter:{field:ch(t.field),op:"IS_NOT_NAN"}};if(kN(t.value))return{unaryFilter:{field:ch(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ch(t.field),op:yoe(t.op),value:t.value}}}(n):n instanceof Ts?function(t){const r=t.getFilters().map(i=>rZ(i));return r.length===1?r[0]:{compositeFilter:{op:voe(t.op),filters:r}}}(n):Le()}function woe(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function iZ(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,t,r,i,s=ze.min(),o=ze.min(),a=cr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new kl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new kl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new kl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new kl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xoe{constructor(e){this.Tt=e}}function boe(n){const e=moe({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?vw(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Soe{constructor(){this.Tn=new koe}addToCollectionParentIndex(e,t){return this.Tn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(Yl.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(Yl.min())}updateCollectionGroup(e,t,r){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class koe{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Dn(qt.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Dn(qt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sZ=41943040;class Gr{static withCacheSize(e){return new Gr(e,Gr.DEFAULT_COLLECTION_PERCENTILE,Gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gr.DEFAULT_COLLECTION_PERCENTILE=10,Gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gr.DEFAULT=new Gr(sZ,Gr.DEFAULT_COLLECTION_PERCENTILE,Gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gr.DISABLED=new Gr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Qd(0)}static Un(){return new Qd(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN="LruGarbageCollector",_oe=1048576;function zN([n,e],[t,r]){const i=at(n,t);return i===0?at(e,r):i}class Toe{constructor(e){this.Hn=e,this.buffer=new Dn(zN),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();zN(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Poe{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){be(LN,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){bf(t)?be(LN,"Ignoring IndexedDB error during garbage collection: ",t):await xf(t)}await this.er(3e5)})}}class Coe{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return te.resolve(ob.ae);const r=new Toe(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(be("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(VN)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),VN):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,s,o,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,t))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),ah()<=tt.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function Eoe(n,e){return new Coe(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aoe{constructor(){this.changes=new qu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,wr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?te.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Roe{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qoe{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&fm(r.mutation,i,wi.empty(),jn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,nt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=nt()){const i=Yc();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Ap();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=Yc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,nt()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Ca();const o=dm(),a=function(){return dm()}();return t.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof _c)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),fm(u.mutation,c,u.mutation.getFieldMask(),jn.now())):o.set(c.key,wi.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),t.forEach((c,u)=>{var h;return a.set(c,new Roe(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,t){const r=dm();let i=new en((o,a)=>o-a),s=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=t.get(l);if(c===null)return;let u=r.get(l)||wi.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(i.get(a.batchId)||nt()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=zq();u.forEach(d=>{if(!s.has(d)){const m=Wq(t.get(d),r.get(d));m!==null&&h.set(d,m),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return te.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(o){return Qe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):jq(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):te.resolve(Yc());let a=Bm,l=s;return o.next(c=>te.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(u)?te.resolve():this.remoteDocumentCache.getEntry(e,u).next(d=>{l=l.insert(u,d)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,nt())).next(u=>({batchId:a,changes:Lq(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Qe(t)).next(r=>{let i=Ap();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let o=Ap();return this.indexManager.getCollectionParents(e,s).next(a=>te.forEach(a,l=>{const c=function(h,d){return new Sf(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(t,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((h,d)=>{o=o.insert(h,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,wr.newInvalidDocument(u)))});let a=Ap();return o.forEach((l,c)=>{const u=s.get(l);u!==void 0&&fm(u.mutation,c,wi.empty(),jn.now()),ub(t,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $oe{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return te.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:po(i.createTime)}}(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:boe(i.bundledQuery),readTime:po(i.readTime)}}(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ioe{constructor(){this.overlays=new en(Qe.comparator),this.Rr=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Yc();return te.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.Et(e,t,s)}),te.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(r)),te.resolve()}getOverlaysForCollection(e,t,r){const i=Yc(),s=t.length+1,o=new Qe(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return te.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new en((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=Yc(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Yc(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return te.resolve(a)}Et(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Kse(t,r));let s=this.Rr.get(t);s===void 0&&(s=nt(),this.Rr.set(t,s)),this.Rr.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Noe{constructor(){this.sessionToken=cr.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(){this.Vr=new Dn(Ln.mr),this.gr=new Dn(Ln.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new Ln(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Ln(e,t))}br(e,t){e.forEach(r=>this.removeReference(r,t))}Sr(e){const t=new Qe(new qt([])),r=new Ln(t,e),i=new Ln(t,e+1),s=[];return this.gr.forEachInRange([r,i],o=>{this.wr(o),s.push(o.key)}),s}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Qe(new qt([])),r=new Ln(t,e),i=new Ln(t,e+1);let s=nt();return this.gr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Ln(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Ln{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Qe.comparator(e.key,t.key)||at(e.Cr,t.Cr)}static pr(e,t){return at(e.Cr,t.Cr)||Qe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class joe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Dn(Ln.mr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Hse(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.Mr=this.Mr.add(new Ln(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return te.resolve(o)}lookupMutationBatch(e,t){return te.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Nr(r),s=i<0?0:i;return te.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?kA:this.Fr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ln(t,0),i=new Ln(t,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([r,i],o=>{const a=this.Or(o.Cr);s.push(a)}),te.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Dn(at);return t.forEach(i=>{const s=new Ln(i,0),o=new Ln(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,o],a=>{r=r.add(a.Cr)})}),te.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;Qe.isDocumentKey(s)||(s=s.child(""));const o=new Ln(new Qe(s),0);let a=new Dn(at);return this.Mr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Cr)),!0)},o),te.resolve(this.Br(a))}Br(e){const t=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){xt(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return te.forEach(t.mutations,i=>{const s=new Ln(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new Ln(t,0),i=this.Mr.firstAfterOrEqual(r);return te.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Doe{constructor(e){this.kr=e,this.docs=function(){return new en(Qe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return te.resolve(r?r.document.mutableCopy():wr.newInvalidDocument(t))}getEntries(e,t){let r=Ca();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():wr.newInvalidDocument(i))}),te.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Ca();const o=t.path,a=new Qe(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||dse(hse(u),r)<=0||(i.has(u.key)||ub(t,u))&&(s=s.insert(u.key,u.mutableCopy()))}return te.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Le()}qr(e,t){return te.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Moe(this)}getSize(e){return te.resolve(this.size)}}class Moe extends Aoe{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),te.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Voe{constructor(e){this.persistence=e,this.Qr=new qu(t=>PA(t),CA),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.$r=0,this.Kr=new IA,this.targetCount=0,this.Ur=Qd.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),te.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Qd(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.zn(t),te.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Qr.forEach((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Qr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),te.waitFor(s).next(()=>i)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return te.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),te.resolve()}removeMatchingKeys(e,t,r){this.Kr.br(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),te.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),te.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return te.resolve(r)}containsKey(e,t){return te.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oZ{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new ob(0),this.zr=!1,this.zr=!0,this.jr=new Noe,this.referenceDelegate=e(this),this.Hr=new Voe(this),this.indexManager=new Soe,this.remoteDocumentCache=function(i){return new Doe(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new xoe(t),this.Yr=new $oe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ioe,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new joe(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){be("MemoryPersistence","Starting transaction:",e);const i=new Loe(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(s=>this.referenceDelegate.Xr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}ei(e,t){return te.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class Loe extends pse{constructor(e){super(),this.currentSequenceNumber=e}}class NA{constructor(e){this.persistence=e,this.ti=new IA,this.ni=null}static ri(e){return new NA(e)}get ii(){if(this.ni)return this.ni;throw Le()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),te.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),te.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.ii.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.ii,r=>{const i=Qe.fromPath(r);return this.si(e,i).next(s=>{s||t.removeEntry(i,ze.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return te.or([()=>te.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class bw{constructor(e,t){this.persistence=e,this.oi=new qu(r=>Ose(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Eoe(this,t)}static ri(e,t){return new bw(e,t)}Zr(){}Xr(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return te.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(s=>s?te.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.qr(e,o=>this.ar(e,o,t).next(a=>{a||(r++,s.removeEntry(o,ze.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),te.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=V0(e.data.value)),t}ar(e,t,r){return te.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.oi.get(t);return te.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=nt(),i=nt();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new jA(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zoe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uoe{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return yte()?8:mse(Tr())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.rs(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ss(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new zoe;return this._s(e,t,o).next(a=>{if(s.result=a,this.Xi)return this.us(e,t,o,a.size)})}).next(()=>s.result)}us(e,t,r,i){return r.documentReadCount<this.es?(ah()<=tt.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",lh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),te.resolve()):(ah()<=tt.DEBUG&&be("QueryEngine","Query:",lh(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(ah()<=tt.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",lh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fo(t))):te.resolve())}rs(e,t){if(EN(t))return te.resolve(null);let r=fo(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=vw(t,null,"F"),r=fo(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=nt(...s);return this.ns.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.cs(t,a);return this.ls(t,c,o,l.readTime)?this.rs(e,vw(t,null,"F")):this.hs(e,c,t,l)}))})))}ss(e,t,r,i){return EN(t)||i.isEqual(ze.min())?te.resolve(null):this.ns.getDocuments(e,r).next(s=>{const o=this.cs(t,s);return this.ls(t,o,r,i)?te.resolve(null):(ah()<=tt.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),lh(t)),this.hs(e,o,t,use(i,Bm)).next(a=>a))})}cs(e,t){let r=new Dn(Mq(e));return t.forEach((i,s)=>{ub(e,s)&&(r=r.add(s))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}_s(e,t,r){return ah()<=tt.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",lh(t)),this.ns.getDocumentsMatchingQuery(e,t,Yl.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA="LocalStore",qoe=3e8;class Zoe{constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new en(at),this.Is=new qu(s=>PA(s),CA),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Qoe(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function Boe(n,e,t,r){return new Zoe(n,e,t,r)}async function aZ(n,e){const t=Ue(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=nt();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(r,l).next(c=>({Rs:c,removedBatchIds:o,addedBatchIds:a}))})})}function Foe(n,e){const t=Ue(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.ds.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,d=h.keys();let m=te.resolve();return d.forEach(g=>{m=m.next(()=>u.getEntry(l,g)).next(y=>{const v=c.docVersions.get(g);xt(v!==null),y.version.compareTo(v)<0&&(h.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),u.addEntry(y)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=nt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function lZ(n){const e=Ue(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function Woe(n,e){const t=Ue(n),r=e.snapshotVersion;let i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;const a=[];e.targetChanges.forEach((u,h)=>{const d=i.get(h);if(!d)return;a.push(t.Hr.removeMatchingKeys(s,u.removedDocuments,h).next(()=>t.Hr.addMatchingKeys(s,u.addedDocuments,h)));let m=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(cr.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,r)),i=i.insert(h,m),function(y,v,S){return y.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=qoe?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(d,m,u)&&a.push(t.Hr.updateTargetData(s,m))});let l=Ca(),c=nt();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(Xoe(s,o,e.documentUpdates).next(u=>{l=u.Vs,c=u.fs})),!r.isEqual(ze.min())){const u=t.Hr.getLastRemoteSnapshotVersion(s).next(h=>t.Hr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return te.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(t.Ts=i,s))}function Xoe(n,e,t){let r=nt(),i=nt();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Ca();return t.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ze.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):be(DA,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Vs:o,fs:i}})}function Goe(n,e){const t=Ue(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=kA),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Yoe(n,e){const t=Ue(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(s=>s?(i=s,te.resolve(i)):t.Hr.allocateTargetId(r).next(o=>(i=new kl(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function wT(n,e,t){const r=Ue(n),i=r.Ts.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!bf(o))throw o;be(DA,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function UN(n,e,t){const r=Ue(n);let i=ze.min(),s=nt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const h=Ue(l),d=h.Is.get(u);return d!==void 0?te.resolve(h.Ts.get(d)):h.Hr.getTargetData(c,u)}(r,o,fo(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Ps.getDocumentsMatchingQuery(o,e,t?i:ze.min(),t?s:nt())).next(a=>(Hoe(r,Nse(e),a),{documents:a,gs:s})))}function Hoe(n,e,t){let r=n.Es.get(e)||ze.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Es.set(e,r)}class qN{constructor(){this.activeTargetIds=zse()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Koe{constructor(){this.ho=new qN,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new qN,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Joe{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN="ConnectivityMonitor";class BN{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){be(ZN,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){be(ZN,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $y=null;function xT(){return $y===null?$y=function(){return 268435456+Math.round(2147483648*Math.random())}():$y++,"0x"+$y.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="RestConnection",eae={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tae{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===gw?`project_id=${r}`:`project_id=${r}&database_id=${i}`}bo(e,t,r,i,s){const o=xT(),a=this.So(e,t.toUriEncodedString());be(l1,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,i,s),this.vo(e,a,l,r).then(c=>(be(l1,`Received RPC '${e}' ${o}: `,c),c),c=>{throw Cd(l1,`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}Co(e,t,r,i,s,o){return this.bo(e,t,r,i,s)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wf}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}So(e,t){const r=eae[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nae{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr="WebChannelConnection";class rae extends tae{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){const s=xT();return new Promise((o,a)=>{const l=new dq;l.setWithCredentials(!0),l.listenOnce(fq.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case M0.NO_ERROR:const u=l.getResponseJson();be(mr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case M0.TIMEOUT:be(mr,`RPC '${e}' ${s} timed out`),a(new ve(ee.DEADLINE_EXCEEDED,"Request time out"));break;case M0.HTTP_ERROR:const h=l.getStatus();if(be(mr,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const m=d==null?void 0:d.error;if(m&&m.status&&m.message){const g=function(v){const S=v.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(S)>=0?S:ee.UNKNOWN}(m.status);a(new ve(g,m.message))}else a(new ve(ee.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ve(ee.UNAVAILABLE,"Connection failed."));break;default:Le()}}finally{be(mr,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);be(mr,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",c,r,15)})}Wo(e,t,r){const i=xT(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=gq(),a=mq(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const u=s.join("");be(mr,`Creating RPC '${e}' stream ${i}: ${u}`,l);const h=o.createWebChannel(u,l);let d=!1,m=!1;const g=new nae({Fo:v=>{m?be(mr,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(d||(be(mr,`Opening RPC '${e}' stream ${i} transport.`),h.open(),d=!0),be(mr,`RPC '${e}' stream ${i} sending:`,v),h.send(v))},Mo:()=>h.close()}),y=(v,S,b)=>{v.listen(S,k=>{try{b(k)}catch($){setTimeout(()=>{throw $},0)}})};return y(h,Ep.EventType.OPEN,()=>{m||(be(mr,`RPC '${e}' stream ${i} transport opened.`),g.Qo())}),y(h,Ep.EventType.CLOSE,()=>{m||(m=!0,be(mr,`RPC '${e}' stream ${i} transport closed`),g.Ko())}),y(h,Ep.EventType.ERROR,v=>{m||(m=!0,Cd(mr,`RPC '${e}' stream ${i} transport errored:`,v),g.Ko(new ve(ee.UNAVAILABLE,"The operation could not be completed")))}),y(h,Ep.EventType.MESSAGE,v=>{var S;if(!m){const b=v.data[0];xt(!!b);const k=b,$=(k==null?void 0:k.error)||((S=k[0])===null||S===void 0?void 0:S.error);if($){be(mr,`RPC '${e}' stream ${i} received error:`,$);const C=$.status;let Q=function(x){const A=wn[x];if(A!==void 0)return Gq(A)}(C),O=$.message;Q===void 0&&(Q=ee.INTERNAL,O="Unknown error status: "+C+" with message "+$.message),m=!0,g.Ko(new ve(Q,O)),h.close()}else be(mr,`RPC '${e}' stream ${i} received:`,b),g.Uo(b)}}),y(a,pq.STAT_EVENT,v=>{v.stat===uT.PROXY?be(mr,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===uT.NOPROXY&&be(mr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.$o()},0),g}}function c1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(n){return new aoe(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cZ{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&be("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN="PersistentStream";class uZ{constructor(e,t,r,i,s,o,a,l){this.Ti=e,this.n_=r,this.r_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new cZ(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(Pa(t.toString()),Pa("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{const i=new ve(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return be(FN,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(be(FN,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iae extends uZ{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=uoe(this.serializer,e),r=function(s){if(!("targetChange"in s))return ze.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ze.min():o.readTime?po(o.readTime):ze.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=vT(this.serializer),t.addTarget=function(s,o){let a;const l=o.target;if(a=pT(l)?{documents:foe(s,l)}:{query:poe(s,l).ht},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Kq(s,o.resumeToken);const c=gT(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ze.min())>0){a.readTime=xw(s,o.snapshotVersion.toTimestamp());const c=gT(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=goe(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=vT(this.serializer),t.removeTarget=e,this.I_(t)}}class sae extends uZ{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return xt(!!e.streamToken),this.lastStreamToken=e.streamToken,xt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){xt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=doe(e.writeResults,e.commitTime),r=po(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=vT(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>hoe(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oae{}class aae extends oae{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new ve(ee.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.bo(e,OT(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ve(ee.UNKNOWN,s.toString())})}Co(e,t,r,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Co(e,OT(t,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ve(ee.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class lae{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Pa(t),this.N_=!1):be("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu="RemoteStore";class cae{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(o=>{r.enqueueAndForget(async()=>{Zu(this)&&(be(Tu,"Restarting streams for network reachability change."),await async function(l){const c=Ue(l);c.W_.add(4),await SO(c),c.j_.set("Unknown"),c.W_.delete(4),await gb(c)}(this))})}),this.j_=new lae(r,i)}}async function gb(n){if(Zu(n))for(const e of n.G_)await e(!0)}async function SO(n){for(const e of n.G_)await e(!1)}function hZ(n,e){const t=Ue(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),zA(t)?LA(t):kf(t).c_()&&VA(t,e))}function MA(n,e){const t=Ue(n),r=kf(t);t.U_.delete(e),r.c_()&&dZ(t,e),t.U_.size===0&&(r.c_()?r.P_():Zu(t)&&t.j_.set("Unknown"))}function VA(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}kf(n).y_(e)}function dZ(n,e){n.H_.Ne(e),kf(n).w_(e)}function LA(n){n.H_=new roe({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),kf(n).start(),n.j_.B_()}function zA(n){return Zu(n)&&!kf(n).u_()&&n.U_.size>0}function Zu(n){return Ue(n).W_.size===0}function fZ(n){n.H_=void 0}async function uae(n){n.j_.set("Online")}async function hae(n){n.U_.forEach((e,t)=>{VA(n,e)})}async function dae(n,e){fZ(n),zA(n)?(n.j_.q_(e),LA(n)):n.j_.set("Unknown")}async function fae(n,e,t){if(n.j_.set("Online"),e instanceof Hq&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.U_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.U_.delete(a),i.H_.removeTarget(a))}(n,e)}catch(r){be(Tu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Sw(n,r)}else if(e instanceof U0?n.H_.We(e):e instanceof Yq?n.H_.Ze(e):n.H_.je(e),!t.isEqual(ze.min()))try{const r=await lZ(n.localStore);t.compareTo(r)>=0&&await function(s,o){const a=s.H_.ot(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.U_.get(c);u&&s.U_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.U_.get(l);if(!u)return;s.U_.set(l,u.withResumeToken(cr.EMPTY_BYTE_STRING,u.snapshotVersion)),dZ(s,l);const h=new kl(u.target,l,c,u.sequenceNumber);VA(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t)}catch(r){be(Tu,"Failed to raise snapshot:",r),await Sw(n,r)}}async function Sw(n,e,t){if(!bf(e))throw e;n.W_.add(1),await SO(n),n.j_.set("Offline"),t||(t=()=>lZ(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{be(Tu,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await gb(n)})}function pZ(n,e){return e().catch(t=>Sw(n,t,e))}async function Ob(n){const e=Ue(n),t=ec(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:kA;for(;pae(e);)try{const i=await Goe(e.localStore,r);if(i===null){e.K_.length===0&&t.P_();break}r=i.batchId,mae(e,i)}catch(i){await Sw(e,i)}mZ(e)&&gZ(e)}function pae(n){return Zu(n)&&n.K_.length<10}function mae(n,e){n.K_.push(e);const t=ec(n);t.c_()&&t.b_&&t.S_(e.mutations)}function mZ(n){return Zu(n)&&!ec(n).u_()&&n.K_.length>0}function gZ(n){ec(n).start()}async function gae(n){ec(n).C_()}async function Oae(n){const e=ec(n);for(const t of n.K_)e.S_(t.mutations)}async function yae(n,e,t){const r=n.K_.shift(),i=RA.from(r,e,t);await pZ(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Ob(n)}async function vae(n,e){e&&ec(n).b_&&await async function(r,i){if(function(o){return eoe(o)&&o!==ee.ABORTED}(i.code)){const s=r.K_.shift();ec(r).h_(),await pZ(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Ob(r)}}(n,e),mZ(n)&&gZ(n)}async function WN(n,e){const t=Ue(n);t.asyncQueue.verifyOperationInProgress(),be(Tu,"RemoteStore received new credentials");const r=Zu(t);t.W_.add(3),await SO(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await gb(t)}async function wae(n,e){const t=Ue(n);e?(t.W_.delete(2),await gb(t)):e||(t.W_.add(2),await SO(t),t.j_.set("Unknown"))}function kf(n){return n.J_||(n.J_=function(t,r,i){const s=Ue(t);return s.M_(),new iae(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{xo:uae.bind(null,n),No:hae.bind(null,n),Lo:dae.bind(null,n),p_:fae.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),zA(n)?LA(n):n.j_.set("Unknown")):(await n.J_.stop(),fZ(n))})),n.J_}function ec(n){return n.Y_||(n.Y_=function(t,r,i){const s=Ue(t);return s.M_(),new sae(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:gae.bind(null,n),Lo:vae.bind(null,n),D_:Oae.bind(null,n),v_:yae.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Ob(n)):(await n.Y_.stop(),n.K_.length>0&&(be(Tu,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ya,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new UA(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qA(n,e){if(Pa("AsyncQueue",`${e}: ${n}`),bf(n))return new ve(ee.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{static emptySet(e){return new Wh(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Qe.comparator(t.key,r.key):(t,r)=>Qe.comparator(t.key,r.key),this.keyedMap=Ap(),this.sortedSet=new en(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Wh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Wh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(){this.Z_=new en(Qe.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Le():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class $d{constructor(e,t,r,i,s,o,a,l,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new $d(e,t,Wh.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xae{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class bae{constructor(){this.queries=GN(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const i=Ue(t),s=i.queries;i.queries=GN(),s.forEach((o,a)=>{for(const l of a.ta)l.onError(r)})})(this,new ve(ee.ABORTED,"Firestore shutting down"))}}function GN(){return new qu(n=>Dq(n),cb)}async function OZ(n,e){const t=Ue(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.na()&&e.ra()&&(r=2):(s=new xae,r=e.ra()?0:1);try{switch(r){case 0:s.ea=await t.onListen(i,!0);break;case 1:s.ea=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(o){const a=qA(o,`Initialization of query '${lh(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.ta.push(e),e.sa(t.onlineState),s.ea&&e.oa(s.ea)&&ZA(t)}async function yZ(n,e){const t=Ue(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const o=s.ta.indexOf(e);o>=0&&(s.ta.splice(o,1),s.ta.length===0?i=e.ra()?0:1:!s.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function Sae(n,e){const t=Ue(n);let r=!1;for(const i of e){const s=i.query,o=t.queries.get(s);if(o){for(const a of o.ta)a.oa(i)&&(r=!0);o.ea=i}}r&&ZA(t)}function kae(n,e,t){const r=Ue(n),i=r.queries.get(e);if(i)for(const s of i.ta)s.onError(t);r.queries.delete(e)}function ZA(n){n.ia.forEach(e=>{e.next()})}var bT,YN;(YN=bT||(bT={}))._a="default",YN.Cache="cache";class vZ{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new $d(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=$d.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==bT.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wZ{constructor(e){this.key=e}}class xZ{constructor(e){this.key=e}}class _ae{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=nt(),this.mutatedKeys=nt(),this.ya=Mq(e),this.wa=new Wh(this.ya)}get ba(){return this.fa}Sa(e,t){const r=t?t.Da:new XN,i=t?t.wa:this.wa;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,h)=>{const d=i.get(u),m=ub(this.query,h)?h:null,g=!!d&&this.mutatedKeys.has(d.key),y=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let v=!1;d&&m?d.data.isEqual(m.data)?g!==y&&(r.track({type:3,doc:m}),v=!0):this.va(d,m)||(r.track({type:2,doc:m}),v=!0,(l&&this.ya(m,l)>0||c&&this.ya(m,c)<0)&&(a=!0)):!d&&m?(r.track({type:0,doc:m}),v=!0):d&&!m&&(r.track({type:1,doc:d}),v=!0,(l||c)&&(a=!0)),v&&(m?(o=o.add(m),s=y?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{wa:o,Da:r,ls:a,mutatedKeys:s}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((u,h)=>function(m,g){const y=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le()}};return y(m)-y(g)}(u.type,h.type)||this.ya(u.doc,h.doc)),this.Ca(r),i=i!=null&&i;const a=t&&!i?this.Fa():[],l=this.pa.size===0&&this.current&&!i?1:0,c=l!==this.ga;return this.ga=l,o.length!==0||c?{snapshot:new $d(this.query,e.wa,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new XN,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=nt(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new xZ(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new wZ(r))}),t}Oa(e){this.fa=e.gs,this.pa=nt();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return $d.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const BA="SyncEngine";class Tae{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Pae{constructor(e){this.key=e,this.Ba=!1}}class Cae{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new qu(a=>Dq(a),cb),this.qa=new Map,this.Qa=new Set,this.$a=new en(Qe.comparator),this.Ka=new Map,this.Ua=new IA,this.Wa={},this.Ga=new Map,this.za=Qd.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Eae(n,e,t=!0){const r=PZ(n);let i;const s=r.ka.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=await bZ(r,e,t,!0),i}async function Aae(n,e){const t=PZ(n);await bZ(t,e,!0,!1)}async function bZ(n,e,t,r){const i=await Yoe(n.localStore,fo(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t);let a;return r&&(a=await Rae(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&hZ(n.remoteStore,i),a}async function Rae(n,e,t,r,i){n.Ha=(h,d,m)=>async function(y,v,S,b){let k=v.view.Sa(S);k.ls&&(k=await UN(y.localStore,v.query,!1).then(({documents:O})=>v.view.Sa(O,k)));const $=b&&b.targetChanges.get(v.targetId),C=b&&b.targetMismatches.get(v.targetId)!=null,Q=v.view.applyChanges(k,y.isPrimaryClient,$,C);return KN(y,v.targetId,Q.Ma),Q.snapshot}(n,h,d,m);const s=await UN(n.localStore,e,!0),o=new _ae(e,s.gs),a=o.Sa(s.documents),l=bO.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),c=o.applyChanges(a,n.isPrimaryClient,l);KN(n,t,c.Ma);const u=new Tae(e,t,o);return n.ka.set(e,u),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),c.snapshot}async function Qae(n,e,t){const r=Ue(n),i=r.ka.get(e),s=r.qa.get(i.targetId);if(s.length>1)return r.qa.set(i.targetId,s.filter(o=>!cb(o,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await wT(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&MA(r.remoteStore,i.targetId),ST(r,i.targetId)}).catch(xf)):(ST(r,i.targetId),await wT(r.localStore,i.targetId,!0))}async function $ae(n,e){const t=Ue(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),MA(t.remoteStore,r.targetId))}async function Iae(n,e,t){const r=zae(n);try{const i=await function(o,a){const l=Ue(o),c=jn.now(),u=a.reduce((m,g)=>m.add(g.key),nt());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let g=Ca(),y=nt();return l.ds.getEntries(m,u).next(v=>{g=v,g.forEach((S,b)=>{b.isValidDocument()||(y=y.add(S))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,g)).next(v=>{h=v;const S=[];for(const b of a){const k=Gse(b,h.get(b.key).overlayedDocument);k!=null&&S.push(new _c(b.key,k,Eq(k.value.mapValue),Dr.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,S,a)}).next(v=>{d=v;const S=v.applyToLocalDocumentSet(h,y);return l.documentOverlayCache.saveOverlays(m,v.batchId,S)})}).then(()=>({batchId:d.batchId,changes:Lq(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Wa[o.currentUser.toKey()];c||(c=new en(at)),c=c.insert(a,l),o.Wa[o.currentUser.toKey()]=c}(r,i.batchId,t),await kO(r,i.changes),await Ob(r.remoteStore)}catch(i){const s=qA(i,"Failed to persist write");t.reject(s)}}async function SZ(n,e){const t=Ue(n);try{const r=await Woe(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.Ka.get(s);o&&(xt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ba=!0:i.modifiedDocuments.size>0?xt(o.Ba):i.removedDocuments.size>0&&(xt(o.Ba),o.Ba=!1))}),await kO(t,r,e)}catch(r){await xf(r)}}function HN(n,e,t){const r=Ue(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ka.forEach((s,o)=>{const a=o.view.sa(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Ue(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const d of h.ta)d.sa(a)&&(c=!0)}),c&&ZA(l)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Nae(n,e,t){const r=Ue(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ka.get(e),s=i&&i.key;if(s){let o=new en(Qe.comparator);o=o.insert(s,wr.newNoDocument(s,ze.min()));const a=nt().add(s),l=new pb(ze.min(),new Map,new en(at),o,a);await SZ(r,l),r.$a=r.$a.remove(s),r.Ka.delete(e),FA(r)}else await wT(r.localStore,e,!1).then(()=>ST(r,e,t)).catch(xf)}async function jae(n,e){const t=Ue(n),r=e.batch.batchId;try{const i=await Foe(t.localStore,e);_Z(t,r,null),kZ(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await kO(t,i)}catch(i){await xf(i)}}async function Dae(n,e,t){const r=Ue(n);try{const i=await function(o,a){const l=Ue(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(xt(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);_Z(r,e,t),kZ(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await kO(r,i)}catch(i){await xf(i)}}function kZ(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function _Z(n,e,t){const r=Ue(n);let i=r.Wa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function ST(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.Sr(e).forEach(r=>{n.Ua.containsKey(r)||TZ(n,r)})}function TZ(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(MA(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),FA(n))}function KN(n,e,t){for(const r of t)r instanceof wZ?(n.Ua.addReference(r.key,e),Mae(n,r)):r instanceof xZ?(be(BA,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||TZ(n,r.key)):Le()}function Mae(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(be(BA,"New document in limbo: "+t),n.Qa.add(r),FA(n))}function FA(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Qe(qt.fromString(e)),r=n.za.next();n.Ka.set(r,new Pae(t)),n.$a=n.$a.insert(t,r),hZ(n.remoteStore,new kl(fo(EA(t.path)),r,"TargetPurposeLimboResolution",ob.ae))}}async function kO(n,e,t){const r=Ue(n),i=[],s=[],o=[];r.ka.isEmpty()||(r.ka.forEach((a,l)=>{o.push(r.Ha(l,e,t).then(c=>{var u;if((c||t)&&r.isPrimaryClient){const h=c?!c.fromCache:(u=t==null?void 0:t.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=jA.Yi(l.targetId,c);s.push(h)}}))}),await Promise.all(o),r.La.p_(i),await async function(l,c){const u=Ue(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>te.forEach(c,d=>te.forEach(d.Hi,m=>u.persistence.referenceDelegate.addReference(h,d.targetId,m)).next(()=>te.forEach(d.Ji,m=>u.persistence.referenceDelegate.removeReference(h,d.targetId,m)))))}catch(h){if(!bf(h))throw h;be(DA,"Failed to update sequence numbers: "+h)}for(const h of c){const d=h.targetId;if(!h.fromCache){const m=u.Ts.get(d),g=m.snapshotVersion,y=m.withLastLimboFreeSnapshotVersion(g);u.Ts=u.Ts.insert(d,y)}}}(r.localStore,s))}async function Vae(n,e){const t=Ue(n);if(!t.currentUser.isEqual(e)){be(BA,"User change. New user:",e.toKey());const r=await aZ(t.localStore,e);t.currentUser=e,function(s,o){s.Ga.forEach(a=>{a.forEach(l=>{l.reject(new ve(ee.CANCELLED,o))})}),s.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await kO(t,r.Rs)}}function Lae(n,e){const t=Ue(n),r=t.Ka.get(e);if(r&&r.Ba)return nt().add(r.key);{let i=nt();const s=t.qa.get(e);if(!s)return i;for(const o of s){const a=t.ka.get(o);i=i.unionWith(a.view.ba)}return i}}function PZ(n){const e=Ue(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=SZ.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Lae.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Nae.bind(null,e),e.La.p_=Sae.bind(null,e.eventManager),e.La.Ja=kae.bind(null,e.eventManager),e}function zae(n){const e=Ue(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jae.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Dae.bind(null,e),e}class kw{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mb(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return Boe(this.persistence,new Uoe,e.initialUser,this.serializer)}Xa(e){return new oZ(NA.ri,this.serializer)}Za(e){return new Koe}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kw.provider={build:()=>new kw};class Uae extends kw{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){xt(this.persistence.referenceDelegate instanceof bw);const r=this.persistence.referenceDelegate.garbageCollector;return new Poe(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Gr.withCacheSize(this.cacheSizeBytes):Gr.DEFAULT;return new oZ(r=>bw.ri(r,t),this.serializer)}}class kT{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>HN(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Vae.bind(null,this.syncEngine),await wae(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new bae}()}createDatastore(e){const t=mb(e.databaseInfo.databaseId),r=function(s){return new rae(s)}(e.databaseInfo);return function(s,o,a,l){return new aae(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,s,o,a){return new cae(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,t=>HN(this.syncEngine,t,0),function(){return BN.D()?new BN:new Joe}())}createSyncEngine(e,t){return function(i,s,o,a,l,c,u){const h=new Cae(i,s,o,a,l,c);return u&&(h.ja=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const s=Ue(i);be(Tu,"RemoteStore shutting down."),s.W_.add(5),await SO(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}kT.provider={build:()=>new kT};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CZ{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Pa("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc="FirestoreClient";class qae{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Or.UNAUTHENTICATED,this.clientId=yq.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{be(tc,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(be(tc,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ya;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=qA(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function u1(n,e){n.asyncQueue.verifyOperationInProgress(),be(tc,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await aZ(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function JN(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Zae(n);be(tc,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>WN(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>WN(e.remoteStore,i)),n._onlineComponents=e}async function Zae(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){be(tc,"Using user provided OfflineComponentProvider");try{await u1(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===ee.FAILED_PRECONDITION||i.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Cd("Error using user provided cache. Falling back to memory cache: "+t),await u1(n,new kw)}}else be(tc,"Using default OfflineComponentProvider"),await u1(n,new Uae(void 0));return n._offlineComponents}async function EZ(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(be(tc,"Using user provided OnlineComponentProvider"),await JN(n,n._uninitializedComponentsProvider._online)):(be(tc,"Using default OnlineComponentProvider"),await JN(n,new kT))),n._onlineComponents}function Bae(n){return EZ(n).then(e=>e.syncEngine)}async function AZ(n){const e=await EZ(n),t=e.eventManager;return t.onListen=Eae.bind(null,e.syncEngine),t.onUnlisten=Qae.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Aae.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=$ae.bind(null,e.syncEngine),t}function Fae(n,e,t={}){const r=new ya;return n.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new CZ({next:d=>{u.su(),o.enqueueAndForget(()=>yZ(s,h));const m=d.docs.has(a);!m&&d.fromCache?c.reject(new ve(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&d.fromCache&&l&&l.source==="server"?c.reject(new ve(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(d)},error:d=>c.reject(d)}),h=new vZ(EA(a.path),u,{includeMetadataChanges:!0,Ta:!0});return OZ(s,h)}(await AZ(n),n.asyncQueue,e,t,r)),r.promise}function Wae(n,e,t={}){const r=new ya;return n.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new CZ({next:d=>{u.su(),o.enqueueAndForget(()=>yZ(s,h)),d.fromCache&&l.source==="server"?c.reject(new ve(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),h=new vZ(a,u,{includeMetadataChanges:!0,Ta:!0});return OZ(s,h)}(await AZ(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RZ(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ej=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QZ(n,e,t){if(!t)throw new ve(ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Xae(n,e,t,r){if(e===!0&&r===!0)throw new ve(ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function tj(n){if(!Qe.isDocumentKey(n))throw new ve(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function nj(n){if(Qe.isDocumentKey(n))throw new ve(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function yb(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Le()}function Ki(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ve(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=yb(n);throw new ve(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $Z="firestore.googleapis.com",rj=!0;class ij{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$Z,this.ssl=rj}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:rj;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sZ;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_oe)throw new ve(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Xae("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RZ((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ve(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ve(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ve(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vb{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ij({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ij(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new nse;switch(r.type){case"firstParty":return new ose(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ve(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=ej.get(t);r&&(be("ComponentProvider","Removing Datastore"),ej.delete(t),r.terminate())}(this),Promise.resolve()}}function Gae(n,e,t,r={}){var i;const s=(n=Ki(n,vb))._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),a=`${e}:${t}`;s.host!==$Z&&s.host!==a&&Cd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},s),{host:a,ssl:!1,emulatorOptions:r});if(!xu(l,o)&&(n._setSettings(l),r.mockUserToken)){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=Or.MOCK_USER;else{c=SU(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new ve(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Or(h)}n._authCredentials=new rse(new Oq(c,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Tc(this.firestore,e,this._query)}}class Mr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ll(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mr(this.firestore,e,this._key)}}class Ll extends Tc{constructor(e,t,r){super(e,t,EA(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mr(this.firestore,null,new Qe(e))}withConverter(e){return new Ll(this.firestore,e,this._path)}}function ht(n,e,...t){if(n=Dt(n),QZ("collection","path",e),n instanceof vb){const r=qt.fromString(e,...t);return nj(r),new Ll(n,null,r)}{if(!(n instanceof Mr||n instanceof Ll))throw new ve(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(qt.fromString(e,...t));return nj(r),new Ll(n.firestore,null,r)}}function mt(n,e,...t){if(n=Dt(n),arguments.length===1&&(e=yq.newId()),QZ("doc","path",e),n instanceof vb){const r=qt.fromString(e,...t);return tj(r),new Mr(n,null,new Qe(r))}{if(!(n instanceof Mr||n instanceof Ll))throw new ve(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(qt.fromString(e,...t));return tj(r),new Mr(n.firestore,n instanceof Ll?n.converter:null,new Qe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj="AsyncQueue";class oj{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new cZ(this,"async_queue_retry"),this.bu=()=>{const r=c1();r&&be(sj,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;const t=c1();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=c1();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new ya;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!bf(e))throw e;be(sj,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Pa("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.Su=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const i=UA.createAndSchedule(this,e,t,r,s=>this.Fu(s));return this.fu.push(i),i}Du(){this.gu&&Le()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Pc extends vb{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new oj,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new oj(e),this._firestoreClient=void 0,await e}}}function Yae(n,e){const t=typeof n=="object"?n:pA(),r=typeof n=="string"?n:gw,i=nb(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=wU("firestore");s&&Gae(i,...s)}return i}function wb(n){if(n._terminated)throw new ve(ee.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Hae(n),n._firestoreClient}function Hae(n){var e,t,r;const i=n._freezeSettings(),s=function(a,l,c,u){return new wse(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,RZ(u.experimentalLongPollingOptions),u.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new qae(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WA=class _T{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _T(cr.fromBase64String(e))}catch(t){throw new ve(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new _T(cr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ve(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ve(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ve(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return at(this._lat,e._lat)||at(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kae=/^__.*__$/;class Jae{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new _c(e,this.data,this.fieldMask,t,this.fieldTransforms):new xO(e,this.data,t,this.fieldTransforms)}}class IZ{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new _c(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function NZ(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le()}}class YA{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new YA(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return _w(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(NZ(this.Lu)&&Kae.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class ele{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||mb(e)}ju(e,t,r,i=!1){return new YA({Lu:e,methodName:t,zu:r,path:sr.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function TO(n){const e=n._freezeSettings(),t=mb(n._databaseId);return new ele(n._databaseId,!!e.ignoreUndefinedProperties,t)}function HA(n,e,t,r,i,s={}){const o=n.ju(s.merge||s.mergeFields?2:0,e,t,i);JA("Data must be an object, but it was:",o,r);const a=MZ(r,o);let l,c;if(s.merge)l=new wi(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const h of s.mergeFields){const d=TT(e,h,t);if(!o.contains(d))throw new ve(ee.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);LZ(u,d)||u.push(d)}l=new wi(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new Jae(new ei(a),l,c)}class bb extends xb{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bb}}class KA extends xb{_toFieldTransform(e){return new Bse(e.path,new Ym)}isEqual(e){return e instanceof KA}}function jZ(n,e,t,r){const i=n.ju(1,e,t);JA("Data must be an object, but it was:",i,r);const s=[],o=ei.empty();kc(r,(l,c)=>{const u=eR(e,l,t);c=Dt(c);const h=i.Ku(u);if(c instanceof bb)s.push(u);else{const d=PO(c,h);d!=null&&(s.push(u),o.set(u,d))}});const a=new wi(s);return new IZ(o,a,i.fieldTransforms)}function DZ(n,e,t,r,i,s){const o=n.ju(1,e,t),a=[TT(e,r,t)],l=[i];if(s.length%2!=0)throw new ve(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(TT(e,s[d])),l.push(s[d+1]);const c=[],u=ei.empty();for(let d=a.length-1;d>=0;--d)if(!LZ(c,a[d])){const m=a[d];let g=l[d];g=Dt(g);const y=o.Ku(m);if(g instanceof bb)c.push(m);else{const v=PO(g,y);v!=null&&(c.push(m),u.set(m,v))}}const h=new wi(c);return new IZ(u,h,o.fieldTransforms)}function tle(n,e,t,r=!1){return PO(t,n.ju(r?4:3,e))}function PO(n,e){if(VZ(n=Dt(n)))return JA("Unsupported field value:",e,n),MZ(n,e);if(n instanceof xb)return function(r,i){if(!NZ(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=PO(a,i.Uu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=Dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Use(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=jn.fromDate(r);return{timestampValue:xw(i.serializer,s)}}if(r instanceof jn){const s=new jn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xw(i.serializer,s)}}if(r instanceof XA)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof WA)return{bytesValue:Kq(i.serializer,r._byteString)};if(r instanceof Mr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:$A(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof GA)return function(o,a){return{mapValue:{fields:{[Tq]:{stringValue:Cq},[Ow]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Wu("VectorValues must only contain numeric values.");return AA(a.serializer,c)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${yb(r)}`)}(n,e)}function MZ(n,e){const t={};return wq(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):kc(n,(r,i)=>{const s=PO(i,e.qu(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function VZ(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof jn||n instanceof XA||n instanceof WA||n instanceof Mr||n instanceof xb||n instanceof GA)}function JA(n,e,t){if(!VZ(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=yb(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function TT(n,e,t){if((e=Dt(e))instanceof _O)return e._internalPath;if(typeof e=="string")return eR(n,e);throw _w("Field path arguments must be of type string or ",n,!1,void 0,t)}const nle=new RegExp("[~\\*/\\[\\]]");function eR(n,e,t){if(e.search(nle)>=0)throw _w(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new _O(...e.split("."))._internalPath}catch{throw _w(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function _w(n,e,t,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ve(ee.INVALID_ARGUMENT,a+n+l)}function LZ(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zZ{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Mr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rle(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Sb("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class rle extends zZ{data(){return super.data()}}function Sb(n,e){return typeof e=="string"?eR(n,e):e instanceof _O?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ile(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ve(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tR{}class nR extends tR{}function St(n,e,...t){let r=[];e instanceof tR&&r.push(e),r=r.concat(t),function(s){const o=s.filter(l=>l instanceof rR).length,a=s.filter(l=>l instanceof kb).length;if(o>1||o>0&&a>0)throw new ve(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class kb extends nR{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new kb(e,t,r)}_apply(e){const t=this._parse(e);return UZ(e._query,t),new Tc(e.firestore,e.converter,mT(e._query,t))}_parse(e){const t=TO(e.firestore);return function(s,o,a,l,c,u,h){let d;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new ve(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){lj(h,u);const g=[];for(const y of h)g.push(aj(l,s,y));d={arrayValue:{values:g}}}else d=aj(l,s,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||lj(h,u),d=tle(a,o,h,u==="in"||u==="not-in");return Sn.create(c,u,d)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function He(n,e,t){const r=e,i=Sb("where",n);return kb._create(i,r,t)}class rR extends tR{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new rR(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Ts.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)UZ(o,l),o=mT(o,l)}(e._query,t),new Tc(e.firestore,e.converter,mT(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class iR extends nR{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new iR(e,t)}_apply(e){const t=function(i,s,o){if(i.startAt!==null)throw new ve(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ve(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gm(s,o)}(e._query,this._field,this._direction);return new Tc(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Sf(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function PT(n,e="asc"){const t=e,r=Sb("orderBy",n);return iR._create(r,t)}class sR extends nR{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new sR(e,t,r)}_apply(e){return new Tc(e.firestore,e.converter,vw(e._query,this._limit,this._limitType))}}function Qp(n){return sR._create("limit",n,"F")}function aj(n,e,t){if(typeof(t=Dt(t))=="string"){if(t==="")throw new ve(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jq(e)&&t.indexOf("/")!==-1)throw new ve(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(qt.fromString(t));if(!Qe.isDocumentKey(r))throw new ve(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return SN(n,new Qe(r))}if(t instanceof Mr)return SN(n,t._key);throw new ve(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yb(t)}.`)}function lj(n,e){if(!Array.isArray(n)||n.length===0)throw new ve(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function UZ(n,e){const t=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ve(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class sle{convertValue(e,t="none"){switch(Jl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Kl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Le()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return kc(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;const s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Ow].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>dn(o.doubleValue));return new GA(s)}convertGeoPoint(e){return new XA(dn(e.latitude),dn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=lb(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Fm(e));default:return null}}convertTimestamp(e){const t=Hl(e);return new jn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=qt.fromString(e);xt(iZ(r));const i=new Wm(r.get(1),r.get(3)),s=new Qe(r.popFirst(5));return i.isEqual(t)||Pa(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qZ extends zZ{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new q0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Sb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class q0 extends qZ{data(e={}){return super.data(e)}}class ole{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new $p(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new q0(this._firestore,this._userDataWriter,r.key,r,new $p(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ve(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new q0(i._firestore,i._userDataWriter,a.doc.key,a.doc,new $p(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new q0(i._firestore,i._userDataWriter,a.doc.key,a.doc,new $p(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:ale(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ale(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(n){n=Ki(n,Mr);const e=Ki(n.firestore,Pc);return Fae(wb(e),n._key).then(t=>lle(e,n,t))}class ZZ extends sle{constructor(e){super(),this.firestore=e}convertBytes(e){return new WA(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mr(this.firestore,null,t)}}function Ct(n){n=Ki(n,Tc);const e=Ki(n.firestore,Pc),t=wb(e),r=new ZZ(e);return ile(n._query),Wae(t,n._query).then(i=>new ole(e,r,n,i))}function BZ(n,e,t){n=Ki(n,Mr);const r=Ki(n.firestore,Pc),i=oR(n.converter,e,t);return CO(r,[HA(TO(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Dr.none())])}function nc(n,e,t,...r){n=Ki(n,Mr);const i=Ki(n.firestore,Pc),s=TO(i);let o;return o=typeof(e=Dt(e))=="string"||e instanceof _O?DZ(s,"updateDoc",n._key,e,t,r):jZ(s,"updateDoc",n._key,e),CO(i,[o.toMutation(n._key,Dr.exists(!0))])}function Cc(n){return CO(Ki(n.firestore,Pc),[new fb(n._key,Dr.none())])}function Id(n,e){const t=Ki(n.firestore,Pc),r=mt(n),i=oR(n.converter,e);return CO(t,[HA(TO(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Dr.exists(!1))]).then(()=>r)}function CO(n,e){return function(r,i){const s=new ya;return r.asyncQueue.enqueueAndForget(async()=>Iae(await Bae(r),i,s)),s.promise}(wb(n),e)}function lle(n,e,t){const r=t.docs.get(e._key),i=new ZZ(n);return new qZ(n,i,e._key,r,new $p(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cle{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=TO(e)}set(e,t,r){this._verifyNotCommitted();const i=h1(e,this._firestore),s=oR(i.converter,t,r),o=HA(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Dr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=h1(e,this._firestore);let o;return o=typeof(t=Dt(t))=="string"||t instanceof _O?DZ(this._dataReader,"WriteBatch.update",s._key,t,r,i):jZ(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(o.toMutation(s._key,Dr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=h1(e,this._firestore);return this._mutations=this._mutations.concat(new fb(t._key,Dr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ve(ee.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function h1(n,e){if((n=Dt(n)).firestore!==e)throw new ve(ee.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function Jm(){return new KA("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ule(n){return wb(n=Ki(n,Pc)),new cle(n,e=>CO(n,e))}(function(e,t=!0){(function(i){wf=i})(Uu),bu(new Gl("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Pc(new ise(r.getProvider("auth-internal")),new ase(o,r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ve(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wm(c.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),co(dN,fN,e),co(dN,fN,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FZ="firebasestorage.googleapis.com",WZ="storageBucket",hle=2*60*1e3,dle=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un extends Do{constructor(e,t,r=0){super(d1(e),`Firebase Storage: ${t} (${d1(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,un.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return d1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var cn;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(cn||(cn={}));function d1(n){return"storage/"+n}function aR(){const n="An unknown error occurred, please check the error payload for server response.";return new un(cn.UNKNOWN,n)}function fle(n){return new un(cn.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function ple(n){return new un(cn.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function mle(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new un(cn.UNAUTHENTICATED,n)}function gle(){return new un(cn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Ole(n){return new un(cn.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function yle(){return new un(cn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function vle(){return new un(cn.CANCELED,"User canceled the upload/download.")}function wle(n){return new un(cn.INVALID_URL,"Invalid URL '"+n+"'.")}function xle(n){return new un(cn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function ble(){return new un(cn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+WZ+"' property when initializing the app?")}function Sle(){return new un(cn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function kle(){return new un(cn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function _le(n){return new un(cn.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function CT(n){return new un(cn.INVALID_ARGUMENT,n)}function XZ(){return new un(cn.APP_DELETED,"The Firebase app was deleted.")}function Tle(n){return new un(cn.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function pm(n,e){return new un(cn.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function sp(n){throw new un(cn.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=xi.makeFromUrl(e,t)}catch{return new xi(e,"")}if(r.path==="")return r;throw xle(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s($){$.path.charAt($.path.length-1)==="/"&&($.path_=$.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c($){$.path_=decodeURIComponent($.path)}const u="v[A-Za-z0-9_]+",h=t.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",m=new RegExp(`^https?://${h}/${u}/b/${i}/o${d}`,"i"),g={bucket:1,path:3},y=t===FZ?"(?:storage.googleapis.com|storage.cloud.google.com)":t,v="([^?#]*)",S=new RegExp(`^https?://${y}/${i}/${v}`,"i"),k=[{regex:a,indices:l,postModify:s},{regex:m,indices:g,postModify:c},{regex:S,indices:{bucket:1,path:2},postModify:c}];for(let $=0;$<k.length;$++){const C=k[$],Q=C.regex.exec(e);if(Q){const O=Q[C.indices.bucket];let _=Q[C.indices.path];_||(_=""),r=new xi(O,_),C.postModify(r);break}}if(r==null)throw wle(e);return r}}class Ple{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cle(n,e,t){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...v){c||(c=!0,e.apply(null,v))}function h(v){i=setTimeout(()=>{i=null,n(m,l())},v)}function d(){s&&clearTimeout(s)}function m(v,...S){if(c){d();return}if(v){d(),u.call(null,v,...S);return}if(l()||o){d(),u.call(null,v,...S);return}r<64&&(r*=2);let k;a===1?(a=2,k=0):k=(r+Math.random())*1e3,h(k)}let g=!1;function y(v){g||(g=!0,d(),!c&&(i!==null?(v||(a=2),clearTimeout(i),h(0)):v||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,y(!0)},t),y}function Ele(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ale(n){return n!==void 0}function Rle(n){return typeof n=="object"&&!Array.isArray(n)}function lR(n){return typeof n=="string"||n instanceof String}function cj(n){return cR()&&n instanceof Blob}function cR(){return typeof Blob<"u"}function uj(n,e,t,r){if(r<e)throw CT(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw CT(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function GZ(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var cu;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(cu||(cu={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qle(n,e){const t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,s=e.indexOf(n)!==-1;return t||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $le{constructor(e,t,r,i,s,o,a,l,c,u,h,d=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=h,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,g)=>{this.resolve_=m,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Iy(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===cu.NO_ERROR,l=s.getStatus();if(!a||Qle(l,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===cu.ABORT;r(!1,new Iy(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Iy(c,s))})},t=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Ale(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=aR();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?XZ():vle();o(l)}else{const l=yle();o(l)}};this.canceled_?t(!1,new Iy(!1,null,!0)):this.backoffId_=Cle(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Ele(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Iy{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function Ile(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function Nle(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function jle(n,e){e&&(n["X-Firebase-GMPID"]=e)}function Dle(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function Mle(n,e,t,r,i,s,o=!0){const a=GZ(n.urlParams),l=n.url+a,c=Object.assign({},n.headers);return jle(c,e),Ile(c,t),Nle(c,s),Dle(c,r),new $le(l,n.method,c,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vle(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Lle(...n){const e=Vle();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(cR())return new Blob(n);throw new un(cn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function zle(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ule(n){if(typeof atob>"u")throw _le("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class f1{constructor(e,t){this.data=e,this.contentType=t||null}}function qle(n,e){switch(n){case eo.RAW:return new f1(YZ(e));case eo.BASE64:case eo.BASE64URL:return new f1(HZ(n,e));case eo.DATA_URL:return new f1(Ble(e),Fle(e))}throw aR()}function YZ(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=n.charCodeAt(++t);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Zle(n){let e;try{e=decodeURIComponent(n)}catch{throw pm(eo.DATA_URL,"Malformed data URL.")}return YZ(e)}function HZ(n,e){switch(n){case eo.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw pm(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case eo.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw pm(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=Ule(e)}catch(i){throw i.message.includes("polyfill")?i:pm(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class KZ{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw pm(eo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=Wle(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Ble(n){const e=new KZ(n);return e.base64?HZ(eo.BASE64,e.rest):Zle(e.rest)}function Fle(n){return new KZ(n).contentType}function Wle(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,t){let r=0,i="";cj(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(cj(this.data_)){const r=this.data_,i=zle(r,e,t);return i===null?null:new cl(i)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new cl(r,!0)}}static getBlob(...e){if(cR()){const t=e.map(r=>r instanceof cl?r.data_:r);return new cl(Lle.apply(null,t))}else{const t=e.map(o=>lR(o)?qle(eo.RAW,o).data:o.data_);let r=0;t.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return t.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new cl(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JZ(n){let e;try{e=JSON.parse(n)}catch{return null}return Rle(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xle(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function Gle(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function e3(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yle(n,e){return e}class Rr{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||Yle}}let Ny=null;function Hle(n){return!lR(n)||n.length<2?n:e3(n)}function t3(){if(Ny)return Ny;const n=[];n.push(new Rr("bucket")),n.push(new Rr("generation")),n.push(new Rr("metageneration")),n.push(new Rr("name","fullPath",!0));function e(s,o){return Hle(o)}const t=new Rr("name");t.xform=e,n.push(t);function r(s,o){return o!==void 0?Number(o):o}const i=new Rr("size");return i.xform=r,n.push(i),n.push(new Rr("timeCreated")),n.push(new Rr("updated")),n.push(new Rr("md5Hash",null,!0)),n.push(new Rr("cacheControl",null,!0)),n.push(new Rr("contentDisposition",null,!0)),n.push(new Rr("contentEncoding",null,!0)),n.push(new Rr("contentLanguage",null,!0)),n.push(new Rr("contentType",null,!0)),n.push(new Rr("metadata","customMetadata",!0)),Ny=n,Ny}function Kle(n,e){function t(){const r=n.bucket,i=n.fullPath,s=new xi(r,i);return e._makeStorageReference(s)}Object.defineProperty(n,"ref",{get:t})}function Jle(n,e,t){const r={};r.type="file";const i=t.length;for(let s=0;s<i;s++){const o=t[s];r[o.local]=o.xform(r,e[o.server])}return Kle(r,n),r}function n3(n,e,t){const r=JZ(e);return r===null?null:Jle(n,r,t)}function ece(n,e,t,r){const i=JZ(e);if(i===null||!lR(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const u=n.bucket,h=n.fullPath,d="/b/"+o(u)+"/o/"+o(h),m=_b(d,t,r),g=GZ({alt:"media",token:c});return m+g})[0]}function tce(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}class uR{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(n){if(!n)throw aR()}function nce(n,e){function t(r,i){const s=n3(n,i,e);return r3(s!==null),s}return t}function rce(n,e){function t(r,i){const s=n3(n,i,e);return r3(s!==null),ece(s,i,n.host,n._protocol)}return t}function i3(n){function e(t,r){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=gle():i=mle():t.getStatus()===402?i=ple(n.bucket):t.getStatus()===403?i=Ole(n.path):i=r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}return e}function s3(n){const e=i3(n);function t(r,i){let s=e(r,i);return r.getStatus()===404&&(s=fle(n.path)),s.serverResponse=i.serverResponse,s}return t}function ice(n,e,t){const r=e.fullServerUrl(),i=_b(r,n.host,n._protocol),s="GET",o=n.maxOperationRetryTime,a=new uR(i,s,rce(n,t),o);return a.errorHandler=s3(e),a}function sce(n,e){const t=e.fullServerUrl(),r=_b(t,n.host,n._protocol),i="DELETE",s=n.maxOperationRetryTime;function o(l,c){}const a=new uR(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=s3(e),a}function oce(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function ace(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=oce(null,e)),r}function lce(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let k="";for(let $=0;$<2;$++)k=k+Math.random().toString().slice(2);return k}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=ace(e,r,i),u=tce(c,t),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,d=`\r
--`+l+"--",m=cl.getBlob(h,r,d);if(m===null)throw Sle();const g={name:c.fullPath},y=_b(s,n.host,n._protocol),v="POST",S=n.maxUploadRetryTime,b=new uR(y,v,nce(n,t),S);return b.urlParams=g,b.headers=o,b.body=m.uploadData(),b.errorHandler=i3(e),b}class cce{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=cu.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=cu.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=cu.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw sp("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw sp("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw sp("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw sp("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw sp("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class uce extends cce{initXhr(){this.xhr_.responseType="text"}}function hR(){return new uce}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,t){this._service=e,t instanceof xi?this._location=t:this._location=xi.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Pu(e,t)}get root(){const e=new xi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return e3(this._location.path)}get storage(){return this._service}get parent(){const e=Xle(this._location.path);if(e===null)return null;const t=new xi(this._location.bucket,e);return new Pu(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw Tle(e)}}function hce(n,e,t){n._throwIfRoot("uploadBytes");const r=lce(n.storage,n._location,t3(),new cl(e,!0),t);return n.storage.makeRequestWithTokens(r,hR).then(i=>({metadata:i,ref:n}))}function dce(n){n._throwIfRoot("getDownloadURL");const e=ice(n.storage,n._location,t3());return n.storage.makeRequestWithTokens(e,hR).then(t=>{if(t===null)throw kle();return t})}function fce(n){n._throwIfRoot("deleteObject");const e=sce(n.storage,n._location);return n.storage.makeRequestWithTokens(e,hR)}function pce(n,e){const t=Gle(n._location.path,e),r=new xi(n._location.bucket,t);return new Pu(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mce(n){return/^[A-Za-z]+:\/\//.test(n)}function gce(n,e){return new Pu(n,e)}function o3(n,e){if(n instanceof dR){const t=n;if(t._bucket==null)throw ble();const r=new Pu(t,t._bucket);return e!=null?o3(r,e):r}else return e!==void 0?pce(n,e):n}function Oce(n,e){if(e&&mce(e)){if(n instanceof dR)return gce(n,e);throw CT("To use ref(service, url), the first argument must be a Storage instance.")}else return o3(n,e)}function hj(n,e){const t=e==null?void 0:e[WZ];return t==null?null:xi.makeFromBucketSpec(t,n)}function yce(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken=typeof i=="string"?i:SU(i,n.app.options.projectId))}class dR{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=FZ,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=hle,this._maxUploadRetryTime=dle,this._requests=new Set,i!=null?this._bucket=xi.makeFromBucketSpec(i,this._host):this._bucket=hj(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=xi.makeFromBucketSpec(this._url,e):this._bucket=hj(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){uj("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){uj("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(yi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Pu(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new Ple(XZ());{const o=Mle(e,this._appId,r,i,t,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,t){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()}}const dj="@firebase/storage",fj="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3="storage";function l3(n,e,t){return n=Dt(n),hce(n,e,t)}function c3(n){return n=Dt(n),dce(n)}function vce(n){return n=Dt(n),fce(n)}function ET(n,e){return n=Dt(n),Oce(n,e)}function u3(n=pA(),e){n=Dt(n);const r=nb(n,a3).getImmediate({identifier:e}),i=wU("storage");return i&&wce(r,...i),r}function wce(n,e,t,r={}){yce(n,e,t,r)}function xce(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new dR(t,r,i,e,Uu)}function bce(){bu(new Gl(a3,xce,"PUBLIC").setMultipleInstances(!0)),co(dj,fj,""),co(dj,fj,"esm2017")}bce();const Sce={apiKey:"AIzaSyC-w9THFsmPDUI08mN2EZ4OhgtzFJi0x8Y",authDomain:"snippets-app-3c69d.firebaseapp.com",projectId:"snippets-app-3c69d",storageBucket:"snippets-app-3c69d.firebasestorage.app",messagingSenderId:"1092584260018",appId:"1:1092584260018:web:4d6fdca615fc31d592e4ab",measurementId:"G-RSCCGRP7YN"},fR=TU(Sce),_f=ese(fR),ke=Yae(fR),pj=u3(fR);Lre(_f,nq);async function kce(n,e){try{console.log("Attempting to sign in:",n);const t=await Vre(_f,n,e);console.log("Sign in successful:",t.user.uid);const r=await xo(mt(ke,"users",t.user.uid));return console.log("User document exists:",r.exists()),r.exists()||(await BZ(mt(ke,"users",t.user.uid),{email:t.user.email,createdAt:Jm(),settings:{theme:"light",fontSize:14}}),console.log("Created new user document")),window.location.href="/",t.user}catch(t){throw console.error("Sign in error:",t),new Error(t.message)}}async function _ce(n,e){try{const t=await Mre(_f,n,e);return await BZ(mt(ke,"users",t.user.uid),{email:t.user.email,createdAt:Jm(),settings:{theme:"light",fontSize:14}}),t.user}catch(t){throw new Error(t.message)}}async function Tce(){await Zre(_f)}async function Pce(n){await Dre(_f,n)}function ci(){const{data:n,isLoading:e}=wu({queryKey:["auth"],queryFn:()=>new Promise(t=>{const r=qre(_f,i=>{r(),t(i)})}),staleTime:1/0});return{user:n,isLoading:e,isAuthenticated:!!n}}const h3=[{id:"default",name:"Default",description:"The default light theme",type:"color",theme:{name:"Default",description:"Clean, minimal light theme",preview:{primary:"#0f172a",secondary:"#64748b",accent:"#2563eb",background:"#ffffff"},variables:{"--background":"0 0% 100%","--foreground":"222.2 47.4% 11.2%","--card":"0 0% 100%","--card-foreground":"222.2 47.4% 11.2%","--popover":"0 0% 100%","--popover-foreground":"222.2 47.4% 11.2%","--primary":"222.2 47.4% 11.2%","--primary-foreground":"210 40% 98%","--secondary":"210 40% 96.1%","--secondary-foreground":"222.2 47.4% 11.2%","--muted":"210 40% 96.1%","--muted-foreground":"215.4 16.3% 46.9%","--accent":"210 40% 96.1%","--accent-foreground":"222.2 47.4% 11.2%","--destructive":"0 84.2% 60.2%","--destructive-foreground":"210 40% 98%","--border":"214.3 31.8% 91.4%","--input":"214.3 31.8% 91.4%","--ring":"222.2 47.4% 11.2%","--radius":"0.5rem"}}},{id:"dark",name:"Dark",description:"Dark mode theme",type:"color",theme:{name:"Dark",description:"Sleek dark theme",preview:{primary:"#f8fafc",secondary:"#94a3b8",accent:"#3b82f6",background:"#020617"},variables:{"--background":"222.2 84% 4.9%","--foreground":"210 40% 98%","--card":"222.2 84% 4.9%","--card-foreground":"210 40% 98%","--popover":"222.2 84% 4.9%","--popover-foreground":"210 40% 98%","--primary":"210 40% 98%","--primary-foreground":"222.2 47.4% 11.2%","--secondary":"217.2 32.6% 17.5%","--secondary-foreground":"210 40% 98%","--muted":"217.2 32.6% 17.5%","--muted-foreground":"215 20.2% 65.1%","--accent":"217.2 32.6% 17.5%","--accent-foreground":"210 40% 98%","--destructive":"0 62.8% 30.6%","--destructive-foreground":"210 40% 98%","--border":"217.2 32.6% 17.5%","--input":"217.2 32.6% 17.5%","--ring":"212.7 26.8% 83.9%","--radius":"0.5rem"}}},{id:"blue",name:"Blue",description:"Calming blue theme",type:"color",theme:{name:"Blue",description:"Soothing blue color scheme",preview:{primary:"#1e40af",secondary:"#60a5fa",accent:"#3b82f6",background:"#eff6ff"},variables:{"--background":"213.8 100% 96.9%","--foreground":"224 71.4% 4.1%","--card":"0 0% 100%","--card-foreground":"224 71.4% 4.1%","--popover":"0 0% 100%","--popover-foreground":"224 71.4% 4.1%","--primary":"221.2 83.2% 53.3%","--primary-foreground":"210 40% 98%","--secondary":"214.3 94.6% 92.7%","--secondary-foreground":"222.2 47.4% 11.2%","--muted":"214.3 94.6% 92.7%","--muted-foreground":"215.4 16.3% 46.9%","--accent":"214.3 94.6% 92.7%","--accent-foreground":"222.2 47.4% 11.2%","--destructive":"0 84.2% 60.2%","--destructive-foreground":"210 40% 98%","--border":"214.3 31.8% 91.4%","--input":"214.3 31.8% 91.4%","--ring":"221.2 83.2% 53.3%","--radius":"0.5rem"}}},{id:"green",name:"Green",description:"Fresh green theme",type:"color",theme:{name:"Green",description:"Refreshing green color scheme",preview:{primary:"#166534",secondary:"#4ade80",accent:"#22c55e",background:"#f0fdf4"},variables:{"--background":"142.1 76.2% 96.7%","--foreground":"142.1 76.2% 11.2%","--card":"0 0% 100%","--card-foreground":"142.1 76.2% 11.2%","--popover":"0 0% 100%","--popover-foreground":"142.1 76.2% 11.2%","--primary":"142.1 76.2% 36.3%","--primary-foreground":"355.7 100% 97.3%","--secondary":"142.1 76.2% 96.7%","--secondary-foreground":"142.1 76.2% 11.2%","--muted":"142.1 76.2% 96.7%","--muted-foreground":"142.1 76.2% 36.3%","--accent":"142.1 76.2% 96.7%","--accent-foreground":"142.1 76.2% 11.2%","--destructive":"0 84.2% 60.2%","--destructive-foreground":"210 40% 98%","--border":"142.1 76.2% 86.7%","--input":"142.1 76.2% 86.7%","--ring":"142.1 76.2% 36.3%","--radius":"0.5rem"}}},{id:"purple",name:"Purple",description:"Rich purple theme",type:"color",theme:{name:"Purple",description:"Elegant purple color scheme",preview:{primary:"#6b21a8",secondary:"#c084fc",accent:"#a855f7",background:"#faf5ff"},variables:{"--background":"270 100% 98%","--foreground":"272.9 73.5% 28.8%","--card":"0 0% 100%","--card-foreground":"272.9 73.5% 28.8%","--popover":"0 0% 100%","--popover-foreground":"272.9 73.5% 28.8%","--primary":"272.9 73.5% 28.8%","--primary-foreground":"0 0% 100%","--secondary":"270 100% 98%","--secondary-foreground":"272.9 73.5% 28.8%","--muted":"270 100% 98%","--muted-foreground":"272.9 73.5% 52.4%","--accent":"270 100% 98%","--accent-foreground":"272.9 73.5% 28.8%","--destructive":"0 84.2% 60.2%","--destructive-foreground":"210 40% 98%","--border":"270 100% 88%","--input":"270 100% 88%","--ring":"272.9 73.5% 28.8%","--radius":"0.5rem"}}}],d3=[{id:"sunset",name:"Sunset",description:"Warm sunset gradient",type:"gradient",theme:{name:"Sunset",description:"Warm orange to purple gradient",preview:{primary:"#f97316",secondary:"#c026d3",accent:"#f59e0b",background:"linear-gradient(to right, #f97316, #c026d3)"},variables:{"--background":"0 0% 100%","--foreground":"20 14.3% 4.1%","--card":"0 0% 100%","--card-foreground":"20 14.3% 4.1%","--popover":"0 0% 100%","--popover-foreground":"20 14.3% 4.1%","--primary":"24.6 95% 53.1%","--primary-foreground":"60 9.1% 97.8%","--secondary":"60 4.8% 95.9%","--secondary-foreground":"24 9.8% 10%","--muted":"60 4.8% 95.9%","--muted-foreground":"25 5.3% 44.7%","--accent":"60 4.8% 95.9%","--accent-foreground":"24 9.8% 10%","--destructive":"0 84.2% 60.2%","--destructive-foreground":"60 9.1% 97.8%","--border":"20 5.9% 90%","--input":"20 5.9% 90%","--ring":"24.6 95% 53.1%","--radius":"0.5rem"}}},{id:"ocean",name:"Ocean",description:"Cool ocean gradient",type:"gradient",theme:{name:"Ocean",description:"Calming blue to teal gradient",preview:{primary:"#0ea5e9",secondary:"#14b8a6",accent:"#06b6d4",background:"linear-gradient(to right, #0ea5e9, #14b8a6)"},variables:{"--background":"0 0% 100%","--foreground":"222.2 84% 4.9%","--card":"0 0% 100%","--card-foreground":"222.2 84% 4.9%","--popover":"0 0% 100%","--popover-foreground":"222.2 84% 4.9%","--primary":"199 89% 48%","--primary-foreground":"0 0% 100%","--secondary":"0 0% 96.1%","--secondary-foreground":"222.2 47.4% 11.2%","--muted":"0 0% 96.1%","--muted-foreground":"215.4 16.3% 46.9%","--accent":"0 0% 96.1%","--accent-foreground":"222.2 47.4% 11.2%","--destructive":"0 84.2% 60.2%","--destructive-foreground":"210 40% 98%","--border":"214.3 31.8% 91.4%","--input":"214.3 31.8% 91.4%","--ring":"199 89% 48%","--radius":"0.5rem"}}},{id:"forest",name:"Forest",description:"Natural forest gradient",type:"gradient",theme:{name:"Forest",description:"Earthy green to brown gradient",preview:{primary:"#166534",secondary:"#854d0e",accent:"#4d7c0f",background:"linear-gradient(to right, #166534, #854d0e)"},variables:{"--background":"0 0% 100%","--foreground":"123 11% 9%","--card":"0 0% 100%","--card-foreground":"123 11% 9%","--popover":"0 0% 100%","--popover-foreground":"123 11% 9%","--primary":"123 41% 24%","--primary-foreground":"0 0% 100%","--secondary":"80 4.8% 95.9%","--secondary-foreground":"123 11% 9%","--muted":"80 4.8% 95.9%","--muted-foreground":"123 11% 40%","--accent":"80 4.8% 95.9%","--accent-foreground":"123 11% 9%","--destructive":"0 84.2% 60.2%","--destructive-foreground":"0 0% 100%","--border":"123 11% 90%","--input":"123 11% 90%","--ring":"123 41% 24%","--radius":"0.5rem"}}}],f3=[...h3,...d3];function Cce(n){return f3.find(e=>e.id===n)}function pR(){const{user:n}=ci(),[e,t]=E.useState(()=>typeof window<"u"&&localStorage.getItem("theme")||"default"),r=s=>{const o=window.document.documentElement;o.classList.remove("light","dark"),f3.forEach(c=>o.classList.remove(c.id));const a=s==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"default":s;o.classList.add(a);const l=Cce(a);l&&(l.type==="gradient"&&o.style.setProperty("--gradient-background",l.theme.preview.background),Object.entries(l.theme.variables).forEach(([c,u])=>{o.style.setProperty(c,u)}))};return E.useEffect(()=>{(async()=>{var o;if(n){const a=await xo(mt(ke,"users",n.uid));if(a.exists()){const l=a.data();(o=l.settings)!=null&&o.theme&&(t(l.settings.theme),r(l.settings.theme))}}})()},[n]),E.useEffect(()=>{r(e)},[e]),{theme:e,setTheme:async s=>{t(s),localStorage.setItem("theme",s),r(s),n&&await nc(mt(ke,"users",n.uid),{"settings.theme":s})}}}function p3(){const{user:n}=ci(),[e,t]=E.useState(()=>typeof window<"u"?parseInt(localStorage.getItem("fontSize")||"14",10):14),r=s=>{window.document.documentElement.style.setProperty("--font-size",`${s}px`)};return E.useEffect(()=>{(async()=>{var o;if(n){const a=await xo(mt(ke,"users",n.uid));if(a.exists()){const l=a.data();(o=l.settings)!=null&&o.fontSize&&(t(l.settings.fontSize),r(l.settings.fontSize))}}})()},[n]),E.useEffect(()=>{r(e)},[e]),{fontSize:e,setFontSize:async s=>{t(s),localStorage.setItem("fontSize",s.toString()),r(s),n&&await nc(mt(ke,"users",n.uid),{"settings.fontSize":s})}}}const Ece=fO("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ie=E.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...i},s)=>{const o=r?Wl:"button";return f.jsx(o,{className:Ee(Ece({variant:e,size:t,className:n})),ref:s,...i})});ie.displayName="Button";const $n=E.forwardRef(({className:n,type:e,...t},r)=>f.jsx("input",{type:e,className:Ee("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:r,...t}));$n.displayName="Input";var Ace=E.createContext(void 0);function EO(n){const e=E.useContext(Ace);return n||e||"ltr"}function eg(n,[e,t]){return Math.min(t,Math.max(e,n))}function Rce(n,e){return E.useReducer((t,r)=>e[t][r]??t,n)}var mR="ScrollArea",[m3,XCe]=bc(mR),[Qce,ns]=m3(mR),g3=E.forwardRef((n,e)=>{const{__scopeScrollArea:t,type:r="hover",dir:i,scrollHideDelay:s=600,...o}=n,[a,l]=E.useState(null),[c,u]=E.useState(null),[h,d]=E.useState(null),[m,g]=E.useState(null),[y,v]=E.useState(null),[S,b]=E.useState(0),[k,$]=E.useState(0),[C,Q]=E.useState(!1),[O,_]=E.useState(!1),x=it(e,T=>l(T)),A=EO(i);return f.jsx(Qce,{scope:t,type:r,dir:A,scrollHideDelay:s,scrollArea:a,viewport:c,onViewportChange:u,content:h,onContentChange:d,scrollbarX:m,onScrollbarXChange:g,scrollbarXEnabled:C,onScrollbarXEnabledChange:Q,scrollbarY:y,onScrollbarYChange:v,scrollbarYEnabled:O,onScrollbarYEnabledChange:_,onCornerWidthChange:b,onCornerHeightChange:$,children:f.jsx(Ie.div,{dir:A,...o,ref:x,style:{position:"relative","--radix-scroll-area-corner-width":S+"px","--radix-scroll-area-corner-height":k+"px",...n.style}})})});g3.displayName=mR;var O3="ScrollAreaViewport",y3=E.forwardRef((n,e)=>{const{__scopeScrollArea:t,children:r,asChild:i,nonce:s,...o}=n,a=ns(O3,t),l=E.useRef(null),c=it(e,l,a.onViewportChange);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:s}),f.jsx(Ie.div,{"data-radix-scroll-area-viewport":"",...o,asChild:i,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...n.style},children:Uce({asChild:i,children:r},u=>f.jsx("div",{"data-radix-scroll-area-content":"",ref:a.onContentChange,style:{minWidth:a.scrollbarXEnabled?"fit-content":void 0},children:u}))})]})});y3.displayName=O3;var Mo="ScrollAreaScrollbar",gR=E.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=ns(Mo,n.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,a=n.orientation==="horizontal";return E.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),i.type==="hover"?f.jsx($ce,{...r,ref:e,forceMount:t}):i.type==="scroll"?f.jsx(Ice,{...r,ref:e,forceMount:t}):i.type==="auto"?f.jsx(v3,{...r,ref:e,forceMount:t}):i.type==="always"?f.jsx(OR,{...r,ref:e}):null});gR.displayName=Mo;var $ce=E.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=ns(Mo,n.__scopeScrollArea),[s,o]=E.useState(!1);return E.useEffect(()=>{const a=i.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),o(!0)},u=()=>{l=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),f.jsx(Qs,{present:t||s,children:f.jsx(v3,{"data-state":s?"visible":"hidden",...r,ref:e})})}),Ice=E.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=ns(Mo,n.__scopeScrollArea),s=n.orientation==="horizontal",o=Pb(()=>l("SCROLL_END"),100),[a,l]=Rce("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return E.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,i.scrollHideDelay,l]),E.useEffect(()=>{const c=i.viewport,u=s?"scrollLeft":"scrollTop";if(c){let h=c[u];const d=()=>{const m=c[u];h!==m&&(l("SCROLL"),o()),h=m};return c.addEventListener("scroll",d),()=>c.removeEventListener("scroll",d)}},[i.viewport,s,l,o]),f.jsx(Qs,{present:t||a!=="hidden",children:f.jsx(OR,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Ce(n.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Ce(n.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),v3=E.forwardRef((n,e)=>{const t=ns(Mo,n.__scopeScrollArea),{forceMount:r,...i}=n,[s,o]=E.useState(!1),a=n.orientation==="horizontal",l=Pb(()=>{if(t.viewport){const c=t.viewport.offsetWidth<t.viewport.scrollWidth,u=t.viewport.offsetHeight<t.viewport.scrollHeight;o(a?c:u)}},10);return Nd(t.viewport,l),Nd(t.content,l),f.jsx(Qs,{present:r||s,children:f.jsx(OR,{"data-state":s?"visible":"hidden",...i,ref:e})})}),OR=E.forwardRef((n,e)=>{const{orientation:t="vertical",...r}=n,i=ns(Mo,n.__scopeScrollArea),s=E.useRef(null),o=E.useRef(0),[a,l]=E.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=k3(a.viewport,a.content),u={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:d=>s.current=d,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:d=>o.current=d};function h(d,m){return Lce(d,o.current,a,m)}return t==="horizontal"?f.jsx(Nce,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const d=i.viewport.scrollLeft,m=mj(d,a,i.dir);s.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:d=>{i.viewport&&(i.viewport.scrollLeft=d)},onDragScroll:d=>{i.viewport&&(i.viewport.scrollLeft=h(d,i.dir))}}):t==="vertical"?f.jsx(jce,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const d=i.viewport.scrollTop,m=mj(d,a);s.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:d=>{i.viewport&&(i.viewport.scrollTop=d)},onDragScroll:d=>{i.viewport&&(i.viewport.scrollTop=h(d))}}):null}),Nce=E.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...i}=n,s=ns(Mo,n.__scopeScrollArea),[o,a]=E.useState(),l=E.useRef(null),c=it(e,l,s.onScrollbarXChange);return E.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),f.jsx(x3,{"data-orientation":"horizontal",...i,ref:c,sizes:t,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Tb(t)+"px",...n.style},onThumbPointerDown:u=>n.onThumbPointerDown(u.x),onDragScroll:u=>n.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(s.viewport){const d=s.viewport.scrollLeft+u.deltaX;n.onWheelScroll(d),T3(d,h)&&u.preventDefault()}},onResize:()=>{l.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Pw(o.paddingLeft),paddingEnd:Pw(o.paddingRight)}})}})}),jce=E.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...i}=n,s=ns(Mo,n.__scopeScrollArea),[o,a]=E.useState(),l=E.useRef(null),c=it(e,l,s.onScrollbarYChange);return E.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),f.jsx(x3,{"data-orientation":"vertical",...i,ref:c,sizes:t,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Tb(t)+"px",...n.style},onThumbPointerDown:u=>n.onThumbPointerDown(u.y),onDragScroll:u=>n.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(s.viewport){const d=s.viewport.scrollTop+u.deltaY;n.onWheelScroll(d),T3(d,h)&&u.preventDefault()}},onResize:()=>{l.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Pw(o.paddingTop),paddingEnd:Pw(o.paddingBottom)}})}})}),[Dce,w3]=m3(Mo),x3=E.forwardRef((n,e)=>{const{__scopeScrollArea:t,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:h,...d}=n,m=ns(Mo,t),[g,y]=E.useState(null),v=it(e,x=>y(x)),S=E.useRef(null),b=E.useRef(""),k=m.viewport,$=r.content-r.viewport,C=ln(u),Q=ln(l),O=Pb(h,10);function _(x){if(S.current){const A=x.clientX-S.current.left,T=x.clientY-S.current.top;c({x:A,y:T})}}return E.useEffect(()=>{const x=A=>{const T=A.target;(g==null?void 0:g.contains(T))&&C(A,$)};return document.addEventListener("wheel",x,{passive:!1}),()=>document.removeEventListener("wheel",x,{passive:!1})},[k,g,$,C]),E.useEffect(Q,[r,Q]),Nd(g,O),Nd(m.content,O),f.jsx(Dce,{scope:t,scrollbar:g,hasThumb:i,onThumbChange:ln(s),onThumbPointerUp:ln(o),onThumbPositionChange:Q,onThumbPointerDown:ln(a),children:f.jsx(Ie.div,{...d,ref:v,style:{position:"absolute",...d.style},onPointerDown:Ce(n.onPointerDown,x=>{x.button===0&&(x.target.setPointerCapture(x.pointerId),S.current=g.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),_(x))}),onPointerMove:Ce(n.onPointerMove,_),onPointerUp:Ce(n.onPointerUp,x=>{const A=x.target;A.hasPointerCapture(x.pointerId)&&A.releasePointerCapture(x.pointerId),document.body.style.webkitUserSelect=b.current,m.viewport&&(m.viewport.style.scrollBehavior=""),S.current=null})})})}),Tw="ScrollAreaThumb",b3=E.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=w3(Tw,n.__scopeScrollArea);return f.jsx(Qs,{present:t||i.hasThumb,children:f.jsx(Mce,{ref:e,...r})})}),Mce=E.forwardRef((n,e)=>{const{__scopeScrollArea:t,style:r,...i}=n,s=ns(Tw,t),o=w3(Tw,t),{onThumbPositionChange:a}=o,l=it(e,h=>o.onThumbChange(h)),c=E.useRef(),u=Pb(()=>{c.current&&(c.current(),c.current=void 0)},100);return E.useEffect(()=>{const h=s.viewport;if(h){const d=()=>{if(u(),!c.current){const m=zce(h,a);c.current=m,a()}};return a(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[s.viewport,u,a]),f.jsx(Ie.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ce(n.onPointerDownCapture,h=>{const m=h.target.getBoundingClientRect(),g=h.clientX-m.left,y=h.clientY-m.top;o.onThumbPointerDown({x:g,y})}),onPointerUp:Ce(n.onPointerUp,o.onThumbPointerUp)})});b3.displayName=Tw;var yR="ScrollAreaCorner",S3=E.forwardRef((n,e)=>{const t=ns(yR,n.__scopeScrollArea),r=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&r?f.jsx(Vce,{...n,ref:e}):null});S3.displayName=yR;var Vce=E.forwardRef((n,e)=>{const{__scopeScrollArea:t,...r}=n,i=ns(yR,t),[s,o]=E.useState(0),[a,l]=E.useState(0),c=!!(s&&a);return Nd(i.scrollbarX,()=>{var h;const u=((h=i.scrollbarX)==null?void 0:h.offsetHeight)||0;i.onCornerHeightChange(u),l(u)}),Nd(i.scrollbarY,()=>{var h;const u=((h=i.scrollbarY)==null?void 0:h.offsetWidth)||0;i.onCornerWidthChange(u),o(u)}),c?f.jsx(Ie.div,{...r,ref:e,style:{width:s,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...n.style}}):null});function Pw(n){return n?parseInt(n,10):0}function k3(n,e){const t=n/e;return isNaN(t)?0:t}function Tb(n){const e=k3(n.viewport,n.content),t=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,r=(n.scrollbar.size-t)*e;return Math.max(r,18)}function Lce(n,e,t,r="ltr"){const i=Tb(t),s=i/2,o=e||s,a=i-o,l=t.scrollbar.paddingStart+o,c=t.scrollbar.size-t.scrollbar.paddingEnd-a,u=t.content-t.viewport,h=r==="ltr"?[0,u]:[u*-1,0];return _3([l,c],h)(n)}function mj(n,e,t="ltr"){const r=Tb(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,o=e.content-e.viewport,a=s-r,l=t==="ltr"?[0,o]:[o*-1,0],c=eg(n,l);return _3([0,o],[0,a])(c)}function _3(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(n[1]-n[0]);return e[0]+r*(t-n[0])}}function T3(n,e){return n>0&&n<e}var zce=(n,e=()=>{})=>{let t={left:n.scrollLeft,top:n.scrollTop},r=0;return function i(){const s={left:n.scrollLeft,top:n.scrollTop},o=t.left!==s.left,a=t.top!==s.top;(o||a)&&e(),t=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Pb(n,e){const t=ln(n),r=E.useRef(0);return E.useEffect(()=>()=>window.clearTimeout(r.current),[]),E.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(t,e)},[t,e])}function Nd(n,e){const t=ln(e);Mn(()=>{let r=0;if(n){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(t)});return i.observe(n),()=>{window.cancelAnimationFrame(r),i.unobserve(n)}}},[n,t])}function Uce(n,e){const{asChild:t,children:r}=n;if(!t)return typeof e=="function"?e(r):e;const i=E.Children.only(r);return E.cloneElement(i,{children:typeof e=="function"?e(i.props.children):e})}var P3=g3,qce=y3,Zce=S3;const C3=E.forwardRef(({className:n,children:e,...t},r)=>f.jsxs(P3,{ref:r,className:Ee("relative overflow-hidden",n),...t,children:[f.jsx(qce,{className:"h-full w-full rounded-[inherit]",children:e}),f.jsx(E3,{}),f.jsx(Zce,{})]}));C3.displayName=P3.displayName;const E3=E.forwardRef(({className:n,orientation:e="vertical",...t},r)=>f.jsx(gR,{ref:r,orientation:e,className:Ee("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",n),...t,children:f.jsx(b3,{className:"relative flex-1 rounded-full bg-border"})}));E3.displayName=gR.displayName;var Bce="Separator",gj="horizontal",Fce=["horizontal","vertical"],A3=E.forwardRef((n,e)=>{const{decorative:t,orientation:r=gj,...i}=n,s=Wce(r)?r:gj,a=t?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return f.jsx(Ie.div,{"data-orientation":s,...a,...i,ref:e})});A3.displayName=Bce;function Wce(n){return Fce.includes(n)}var R3=A3;const Z0=E.forwardRef(({className:n,orientation:e="horizontal",decorative:t=!0,...r},i)=>f.jsx(R3,{ref:i,decorative:t,orientation:e,className:Ee("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",n),...r}));Z0.displayName=R3.displayName;const Xce=fO("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function qi({className:n,variant:e,...t}){return f.jsx("div",{className:Ee(Xce({variant:e}),n),...t})}var AO=n=>n.type==="checkbox",Hc=n=>n instanceof Date,Nr=n=>n==null;const Q3=n=>typeof n=="object";var On=n=>!Nr(n)&&!Array.isArray(n)&&Q3(n)&&!Hc(n),$3=n=>On(n)&&n.target?AO(n.target)?n.target.checked:n.target.value:n,Gce=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,I3=(n,e)=>n.has(Gce(e)),Yce=n=>{const e=n.constructor&&n.constructor.prototype;return On(e)&&e.hasOwnProperty("isPrototypeOf")},vR=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Zr(n){let e;const t=Array.isArray(n);if(n instanceof Date)e=new Date(n);else if(n instanceof Set)e=new Set(n);else if(!(vR&&(n instanceof Blob||n instanceof FileList))&&(t||On(n)))if(e=t?[]:{},!t&&!Yce(n))e=n;else for(const r in n)n.hasOwnProperty(r)&&(e[r]=Zr(n[r]));else return n;return e}var Cb=n=>Array.isArray(n)?n.filter(Boolean):[],on=n=>n===void 0,de=(n,e,t)=>{if(!e||!On(n))return t;const r=Cb(e.split(/[,[\].]+?/)).reduce((i,s)=>Nr(i)?i:i[s],n);return on(r)||r===n?on(n[e])?t:n[e]:r},Vi=n=>typeof n=="boolean",wR=n=>/^\w*$/.test(n),N3=n=>Cb(n.replace(/["|']|\]/g,"").split(/\.|\[/)),vt=(n,e,t)=>{let r=-1;const i=wR(e)?[e]:N3(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=t;if(r!==o){const c=n[a];l=On(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}if(a==="__proto__")return;n[a]=l,n=n[a]}return n};const Cw={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ds={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Wo={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},j3=Ke.createContext(null),Eb=()=>Ke.useContext(j3),Hce=n=>{const{children:e,...t}=n;return Ke.createElement(j3.Provider,{value:t},e)};var D3=(n,e,t,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in n)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==ds.all&&(e._proxyFormState[o]=!r||ds.all),t&&(t[o]=!0),n[o]}});return i},Xr=n=>On(n)&&!Object.keys(n).length,M3=(n,e,t,r)=>{t(n);const{name:i,...s}=n;return Xr(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||ds.all))},mm=n=>Array.isArray(n)?n:[n],V3=(n,e,t)=>!n||!e||n===e||mm(n).some(r=>r&&(t?r===e:r.startsWith(e)||e.startsWith(r)));function xR(n){const e=Ke.useRef(n);e.current=n,Ke.useEffect(()=>{const t=!n.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{t&&t.unsubscribe()}},[n.disabled])}function Kce(n){const e=Eb(),{control:t=e.control,disabled:r,name:i,exact:s}=n||{},[o,a]=Ke.useState(t._formState),l=Ke.useRef(!0),c=Ke.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=Ke.useRef(i);return u.current=i,xR({disabled:r,next:h=>l.current&&V3(u.current,h.name,s)&&M3(h,c.current,t._updateFormState)&&a({...t._formState,...h}),subject:t._subjects.state}),Ke.useEffect(()=>(l.current=!0,c.current.isValid&&t._updateValid(!0),()=>{l.current=!1}),[t]),D3(o,t,c.current,!1)}var to=n=>typeof n=="string",L3=(n,e,t,r,i)=>to(n)?(r&&e.watch.add(n),de(t,n,i)):Array.isArray(n)?n.map(s=>(r&&e.watch.add(s),de(t,s))):(r&&(e.watchAll=!0),t);function Jce(n){const e=Eb(),{control:t=e.control,name:r,defaultValue:i,disabled:s,exact:o}=n||{},a=Ke.useRef(r);a.current=r,xR({disabled:s,subject:t._subjects.values,next:u=>{V3(a.current,u.name,o)&&c(Zr(L3(a.current,t._names,u.values||t._formValues,!1,i)))}});const[l,c]=Ke.useState(t._getWatch(r,i));return Ke.useEffect(()=>t._removeUnmounted()),l}function eue(n){const e=Eb(),{name:t,disabled:r,control:i=e.control,shouldUnregister:s}=n,o=I3(i._names.array,t),a=Jce({control:i,name:t,defaultValue:de(i._formValues,t,de(i._defaultValues,t,n.defaultValue)),exact:!0}),l=Kce({control:i,name:t,exact:!0}),c=Ke.useRef(i.register(t,{...n.rules,value:a,...Vi(n.disabled)?{disabled:n.disabled}:{}}));return Ke.useEffect(()=>{const u=i._options.shouldUnregister||s,h=(d,m)=>{const g=de(i._fields,d);g&&g._f&&(g._f.mount=m)};if(h(t,!0),u){const d=Zr(de(i._options.defaultValues,t));vt(i._defaultValues,t,d),on(de(i._formValues,t))&&vt(i._formValues,t,d)}return()=>{(o?u&&!i._state.action:u)?i.unregister(t):h(t,!1)}},[t,i,o,s]),Ke.useEffect(()=>{de(i._fields,t)&&i._updateDisabledField({disabled:r,fields:i._fields,name:t,value:de(i._fields,t)._f.value})},[r,t,i]),{field:{name:t,value:a,...Vi(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:Ke.useCallback(u=>c.current.onChange({target:{value:$3(u),name:t},type:Cw.CHANGE}),[t]),onBlur:Ke.useCallback(()=>c.current.onBlur({target:{value:de(i._formValues,t),name:t},type:Cw.BLUR}),[t,i]),ref:Ke.useCallback(u=>{const h=de(i._fields,t);h&&u&&(h._f.ref={focus:()=>u.focus(),select:()=>u.select(),setCustomValidity:d=>u.setCustomValidity(d),reportValidity:()=>u.reportValidity()})},[i._fields,t])},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!de(l.errors,t)},isDirty:{enumerable:!0,get:()=>!!de(l.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!de(l.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!de(l.validatingFields,t)},error:{enumerable:!0,get:()=>de(l.errors,t)}})}}const tue=n=>n.render(eue(n));var z3=(n,e,t,r,i)=>e?{...t[n],types:{...t[n]&&t[n].types?t[n].types:{},[r]:i||!0}}:{},Oj=n=>({isOnSubmit:!n||n===ds.onSubmit,isOnBlur:n===ds.onBlur,isOnChange:n===ds.onChange,isOnAll:n===ds.all,isOnTouch:n===ds.onTouched}),yj=(n,e,t)=>!t&&(e.watchAll||e.watch.has(n)||[...e.watch].some(r=>n.startsWith(r)&&/^\.\w+/.test(n.slice(r.length))));const gm=(n,e,t,r)=>{for(const i of t||Object.keys(n)){const s=de(n,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(gm(a,e))break}else if(On(a)&&gm(a,e))break}}};var nue=(n,e,t)=>{const r=mm(de(n,t));return vt(r,"root",e[t]),vt(n,t,r),n},bR=n=>n.type==="file",pa=n=>typeof n=="function",Ew=n=>{if(!vR)return!1;const e=n?n.ownerDocument:0;return n instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},B0=n=>to(n),SR=n=>n.type==="radio",Aw=n=>n instanceof RegExp;const vj={value:!1,isValid:!1},wj={value:!0,isValid:!0};var U3=n=>{if(Array.isArray(n)){if(n.length>1){const e=n.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!on(n[0].attributes.value)?on(n[0].value)||n[0].value===""?wj:{value:n[0].value,isValid:!0}:wj:vj}return vj};const xj={isValid:!1,value:null};var q3=n=>Array.isArray(n)?n.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,xj):xj;function bj(n,e,t="validate"){if(B0(n)||Array.isArray(n)&&n.every(B0)||Vi(n)&&!n)return{type:t,message:B0(n)?n:"",ref:e}}var th=n=>On(n)&&!Aw(n)?n:{value:n,message:""},Sj=async(n,e,t,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:c,min:u,max:h,pattern:d,validate:m,name:g,valueAsNumber:y,mount:v,disabled:S}=n._f,b=de(e,g);if(!v||S)return{};const k=o?o[0]:s,$=w=>{r&&k.reportValidity&&(k.setCustomValidity(Vi(w)?"":w||""),k.reportValidity())},C={},Q=SR(s),O=AO(s),_=Q||O,x=(y||bR(s))&&on(s.value)&&on(b)||Ew(s)&&s.value===""||b===""||Array.isArray(b)&&!b.length,A=z3.bind(null,g,t,C),T=(w,R,j,V=Wo.maxLength,M=Wo.minLength)=>{const Z=w?R:j;C[g]={type:w?V:M,message:Z,ref:s,...A(w?V:M,Z)}};if(i?!Array.isArray(b)||!b.length:a&&(!_&&(x||Nr(b))||Vi(b)&&!b||O&&!U3(o).isValid||Q&&!q3(o).isValid)){const{value:w,message:R}=B0(a)?{value:!!a,message:a}:th(a);if(w&&(C[g]={type:Wo.required,message:R,ref:k,...A(Wo.required,R)},!t))return $(R),C}if(!x&&(!Nr(u)||!Nr(h))){let w,R;const j=th(h),V=th(u);if(!Nr(b)&&!isNaN(b)){const M=s.valueAsNumber||b&&+b;Nr(j.value)||(w=M>j.value),Nr(V.value)||(R=M<V.value)}else{const M=s.valueAsDate||new Date(b),Z=ne=>new Date(new Date().toDateString()+" "+ne),U=s.type=="time",q=s.type=="week";to(j.value)&&b&&(w=U?Z(b)>Z(j.value):q?b>j.value:M>new Date(j.value)),to(V.value)&&b&&(R=U?Z(b)<Z(V.value):q?b<V.value:M<new Date(V.value))}if((w||R)&&(T(!!w,j.message,V.message,Wo.max,Wo.min),!t))return $(C[g].message),C}if((l||c)&&!x&&(to(b)||i&&Array.isArray(b))){const w=th(l),R=th(c),j=!Nr(w.value)&&b.length>+w.value,V=!Nr(R.value)&&b.length<+R.value;if((j||V)&&(T(j,w.message,R.message),!t))return $(C[g].message),C}if(d&&!x&&to(b)){const{value:w,message:R}=th(d);if(Aw(w)&&!b.match(w)&&(C[g]={type:Wo.pattern,message:R,ref:s,...A(Wo.pattern,R)},!t))return $(R),C}if(m){if(pa(m)){const w=await m(b,e),R=bj(w,k);if(R&&(C[g]={...R,...A(Wo.validate,R.message)},!t))return $(R.message),C}else if(On(m)){let w={};for(const R in m){if(!Xr(w)&&!t)break;const j=bj(await m[R](b,e),k,R);j&&(w={...j,...A(R,j.message)},$(j.message),t&&(C[g]=w))}if(!Xr(w)&&(C[g]={ref:k,...w},!t))return C}}return $(!0),C};function rue(n,e){const t=e.slice(0,-1).length;let r=0;for(;r<t;)n=on(n)?r++:n[e[r++]];return n}function iue(n){for(const e in n)if(n.hasOwnProperty(e)&&!on(n[e]))return!1;return!0}function Pn(n,e){const t=Array.isArray(e)?e:wR(e)?[e]:N3(e),r=t.length===1?n:rue(n,t),i=t.length-1,s=t[i];return r&&delete r[s],i!==0&&(On(r)&&Xr(r)||Array.isArray(r)&&iue(r))&&Pn(n,t.slice(0,-1)),n}var p1=()=>{let n=[];return{get observers(){return n},next:i=>{for(const s of n)s.next&&s.next(i)},subscribe:i=>(n.push(i),{unsubscribe:()=>{n=n.filter(s=>s!==i)}}),unsubscribe:()=>{n=[]}}},AT=n=>Nr(n)||!Q3(n);function ul(n,e){if(AT(n)||AT(e))return n===e;if(Hc(n)&&Hc(e))return n.getTime()===e.getTime();const t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(const i of t){const s=n[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Hc(s)&&Hc(o)||On(s)&&On(o)||Array.isArray(s)&&Array.isArray(o)?!ul(s,o):s!==o)return!1}}return!0}var Z3=n=>n.type==="select-multiple",sue=n=>SR(n)||AO(n),m1=n=>Ew(n)&&n.isConnected,B3=n=>{for(const e in n)if(pa(n[e]))return!0;return!1};function Rw(n,e={}){const t=Array.isArray(n);if(On(n)||t)for(const r in n)Array.isArray(n[r])||On(n[r])&&!B3(n[r])?(e[r]=Array.isArray(n[r])?[]:{},Rw(n[r],e[r])):Nr(n[r])||(e[r]=!0);return e}function F3(n,e,t){const r=Array.isArray(n);if(On(n)||r)for(const i in n)Array.isArray(n[i])||On(n[i])&&!B3(n[i])?on(e)||AT(t[i])?t[i]=Array.isArray(n[i])?Rw(n[i],[]):{...Rw(n[i])}:F3(n[i],Nr(e)?{}:e[i],t[i]):t[i]=!ul(n[i],e[i]);return t}var op=(n,e)=>F3(n,e,Rw(e)),W3=(n,{valueAsNumber:e,valueAsDate:t,setValueAs:r})=>on(n)?n:e?n===""?NaN:n&&+n:t&&to(n)?new Date(n):r?r(n):n;function g1(n){const e=n.ref;if(!(n.refs?n.refs.every(t=>t.disabled):e.disabled))return bR(e)?e.files:SR(e)?q3(n.refs).value:Z3(e)?[...e.selectedOptions].map(({value:t})=>t):AO(e)?U3(n.refs).value:W3(on(e.value)?n.ref.value:e.value,n)}var oue=(n,e,t,r)=>{const i={};for(const s of n){const o=de(e,s);o&&vt(i,s,o._f)}return{criteriaMode:t,names:[...n],fields:i,shouldUseNativeValidation:r}},ap=n=>on(n)?n:Aw(n)?n.source:On(n)?Aw(n.value)?n.value.source:n.value:n;const kj="AsyncFunction";var aue=n=>(!n||!n.validate)&&!!(pa(n.validate)&&n.validate.constructor.name===kj||On(n.validate)&&Object.values(n.validate).find(e=>e.constructor.name===kj)),lue=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate);function _j(n,e,t){const r=de(n,t);if(r||wR(t))return{error:r,name:t};const i=t.split(".");for(;i.length;){const s=i.join("."),o=de(e,s),a=de(n,s);if(o&&!Array.isArray(o)&&t!==s)return{name:t};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:t}}var cue=(n,e,t,r,i)=>i.isOnAll?!1:!t&&i.isOnTouch?!(e||n):(t?r.isOnBlur:i.isOnBlur)?!n:(t?r.isOnChange:i.isOnChange)?n:!0,uue=(n,e)=>!Cb(de(n,e)).length&&Pn(n,e);const hue={mode:ds.onSubmit,reValidateMode:ds.onChange,shouldFocusError:!0};function due(n={}){let e={...hue,...n},t={submitCount:0,isDirty:!1,isLoading:pa(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=On(e.defaultValues)||On(e.values)?Zr(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Zr(i),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:p1(),array:p1(),state:p1()},d=Oj(e.mode),m=Oj(e.reValidateMode),g=e.criteriaMode===ds.all,y=L=>W=>{clearTimeout(c),c=setTimeout(L,W)},v=async L=>{if(!n.disabled&&(u.isValid||L)){const W=e.resolver?Xr((await _()).errors):await A(r,!0);W!==t.isValid&&h.state.next({isValid:W})}},S=(L,W)=>{!n.disabled&&(u.isValidating||u.validatingFields)&&((L||Array.from(a.mount)).forEach(H=>{H&&(W?vt(t.validatingFields,H,W):Pn(t.validatingFields,H))}),h.state.next({validatingFields:t.validatingFields,isValidating:!Xr(t.validatingFields)}))},b=(L,W=[],H,ge,fe=!0,ae=!0)=>{if(ge&&H&&!n.disabled){if(o.action=!0,ae&&Array.isArray(de(r,L))){const Re=H(de(r,L),ge.argA,ge.argB);fe&&vt(r,L,Re)}if(ae&&Array.isArray(de(t.errors,L))){const Re=H(de(t.errors,L),ge.argA,ge.argB);fe&&vt(t.errors,L,Re),uue(t.errors,L)}if(u.touchedFields&&ae&&Array.isArray(de(t.touchedFields,L))){const Re=H(de(t.touchedFields,L),ge.argA,ge.argB);fe&&vt(t.touchedFields,L,Re)}u.dirtyFields&&(t.dirtyFields=op(i,s)),h.state.next({name:L,isDirty:w(L,W),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else vt(s,L,W)},k=(L,W)=>{vt(t.errors,L,W),h.state.next({errors:t.errors})},$=L=>{t.errors=L,h.state.next({errors:t.errors,isValid:!1})},C=(L,W,H,ge)=>{const fe=de(r,L);if(fe){const ae=de(s,L,on(H)?de(i,L):H);on(ae)||ge&&ge.defaultChecked||W?vt(s,L,W?ae:g1(fe._f)):V(L,ae),o.mount&&v()}},Q=(L,W,H,ge,fe)=>{let ae=!1,Re=!1;const Fe={name:L};if(!n.disabled){const st=!!(de(r,L)&&de(r,L)._f&&de(r,L)._f.disabled);if(!H||ge){u.isDirty&&(Re=t.isDirty,t.isDirty=Fe.isDirty=w(),ae=Re!==Fe.isDirty);const ct=st||ul(de(i,L),W);Re=!!(!st&&de(t.dirtyFields,L)),ct||st?Pn(t.dirtyFields,L):vt(t.dirtyFields,L,!0),Fe.dirtyFields=t.dirtyFields,ae=ae||u.dirtyFields&&Re!==!ct}if(H){const ct=de(t.touchedFields,L);ct||(vt(t.touchedFields,L,H),Fe.touchedFields=t.touchedFields,ae=ae||u.touchedFields&&ct!==H)}ae&&fe&&h.state.next(Fe)}return ae?Fe:{}},O=(L,W,H,ge)=>{const fe=de(t.errors,L),ae=u.isValid&&Vi(W)&&t.isValid!==W;if(n.delayError&&H?(l=y(()=>k(L,H)),l(n.delayError)):(clearTimeout(c),l=null,H?vt(t.errors,L,H):Pn(t.errors,L)),(H?!ul(fe,H):fe)||!Xr(ge)||ae){const Re={...ge,...ae&&Vi(W)?{isValid:W}:{},errors:t.errors,name:L};t={...t,...Re},h.state.next(Re)}},_=async L=>{S(L,!0);const W=await e.resolver(s,e.context,oue(L||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return S(L),W},x=async L=>{const{errors:W}=await _(L);if(L)for(const H of L){const ge=de(W,H);ge?vt(t.errors,H,ge):Pn(t.errors,H)}else t.errors=W;return W},A=async(L,W,H={valid:!0})=>{for(const ge in L){const fe=L[ge];if(fe){const{_f:ae,...Re}=fe;if(ae){const Fe=a.array.has(ae.name),st=fe._f&&aue(fe._f);st&&u.validatingFields&&S([ge],!0);const ct=await Sj(fe,s,g,e.shouldUseNativeValidation&&!W,Fe);if(st&&u.validatingFields&&S([ge]),ct[ae.name]&&(H.valid=!1,W))break;!W&&(de(ct,ae.name)?Fe?nue(t.errors,ct,ae.name):vt(t.errors,ae.name,ct[ae.name]):Pn(t.errors,ae.name))}!Xr(Re)&&await A(Re,W,H)}}return H.valid},T=()=>{for(const L of a.unMount){const W=de(r,L);W&&(W._f.refs?W._f.refs.every(H=>!m1(H)):!m1(W._f.ref))&&Se(L)}a.unMount=new Set},w=(L,W)=>!n.disabled&&(L&&W&&vt(s,L,W),!ul(X(),i)),R=(L,W,H)=>L3(L,a,{...o.mount?s:on(W)?i:to(L)?{[L]:W}:W},H,W),j=L=>Cb(de(o.mount?s:i,L,n.shouldUnregister?de(i,L,[]):[])),V=(L,W,H={})=>{const ge=de(r,L);let fe=W;if(ge){const ae=ge._f;ae&&(!ae.disabled&&vt(s,L,W3(W,ae)),fe=Ew(ae.ref)&&Nr(W)?"":W,Z3(ae.ref)?[...ae.ref.options].forEach(Re=>Re.selected=fe.includes(Re.value)):ae.refs?AO(ae.ref)?ae.refs.length>1?ae.refs.forEach(Re=>(!Re.defaultChecked||!Re.disabled)&&(Re.checked=Array.isArray(fe)?!!fe.find(Fe=>Fe===Re.value):fe===Re.value)):ae.refs[0]&&(ae.refs[0].checked=!!fe):ae.refs.forEach(Re=>Re.checked=Re.value===fe):bR(ae.ref)?ae.ref.value="":(ae.ref.value=fe,ae.ref.type||h.values.next({name:L,values:{...s}})))}(H.shouldDirty||H.shouldTouch)&&Q(L,fe,H.shouldTouch,H.shouldDirty,!0),H.shouldValidate&&ne(L)},M=(L,W,H)=>{for(const ge in W){const fe=W[ge],ae=`${L}.${ge}`,Re=de(r,ae);(a.array.has(L)||On(fe)||Re&&!Re._f)&&!Hc(fe)?M(ae,fe,H):V(ae,fe,H)}},Z=(L,W,H={})=>{const ge=de(r,L),fe=a.array.has(L),ae=Zr(W);vt(s,L,ae),fe?(h.array.next({name:L,values:{...s}}),(u.isDirty||u.dirtyFields)&&H.shouldDirty&&h.state.next({name:L,dirtyFields:op(i,s),isDirty:w(L,ae)})):ge&&!ge._f&&!Nr(ae)?M(L,ae,H):V(L,ae,H),yj(L,a)&&h.state.next({...t}),h.values.next({name:o.mount?L:void 0,values:{...s}})},U=async L=>{o.mount=!0;const W=L.target;let H=W.name,ge=!0;const fe=de(r,H),ae=()=>W.type?g1(fe._f):$3(L),Re=Fe=>{ge=Number.isNaN(Fe)||Hc(Fe)&&isNaN(Fe.getTime())||ul(Fe,de(s,H,Fe))};if(fe){let Fe,st;const ct=ae(),ji=L.type===Cw.BLUR||L.type===Cw.FOCUS_OUT,qO=!lue(fe._f)&&!e.resolver&&!de(t.errors,H)&&!fe._f.deps||cue(ji,de(t.touchedFields,H),t.isSubmitted,m,d),Bu=yj(H,a,ji);vt(s,H,ct),ji?(fe._f.onBlur&&fe._f.onBlur(L),l&&l(0)):fe._f.onChange&&fe._f.onChange(L);const Nf=Q(H,ct,ji,!1),Ic=!Xr(Nf)||Bu;if(!ji&&h.values.next({name:H,type:L.type,values:{...s}}),qO)return u.isValid&&(n.mode==="onBlur"?ji&&v():v()),Ic&&h.state.next({name:H,...Bu?{}:Nf});if(!ji&&Bu&&h.state.next({...t}),e.resolver){const{errors:jf}=await _([H]);if(Re(ct),ge){const ZO=_j(t.errors,r,H),Fu=_j(jf,r,ZO.name||H);Fe=Fu.error,H=Fu.name,st=Xr(jf)}}else S([H],!0),Fe=(await Sj(fe,s,g,e.shouldUseNativeValidation))[H],S([H]),Re(ct),ge&&(Fe?st=!1:u.isValid&&(st=await A(r,!0)));ge&&(fe._f.deps&&ne(fe._f.deps),O(H,st,Fe,Nf))}},q=(L,W)=>{if(de(t.errors,W)&&L.focus)return L.focus(),1},ne=async(L,W={})=>{let H,ge;const fe=mm(L);if(e.resolver){const ae=await x(on(L)?L:fe);H=Xr(ae),ge=L?!fe.some(Re=>de(ae,Re)):H}else L?(ge=(await Promise.all(fe.map(async ae=>{const Re=de(r,ae);return await A(Re&&Re._f?{[ae]:Re}:Re)}))).every(Boolean),!(!ge&&!t.isValid)&&v()):ge=H=await A(r);return h.state.next({...!to(L)||u.isValid&&H!==t.isValid?{}:{name:L},...e.resolver||!L?{isValid:H}:{},errors:t.errors}),W.shouldFocus&&!ge&&gm(r,q,L?fe:a.mount),ge},X=L=>{const W={...o.mount?s:i};return on(L)?W:to(L)?de(W,L):L.map(H=>de(W,H))},F=(L,W)=>({invalid:!!de((W||t).errors,L),isDirty:!!de((W||t).dirtyFields,L),error:de((W||t).errors,L),isValidating:!!de(t.validatingFields,L),isTouched:!!de((W||t).touchedFields,L)}),G=L=>{L&&mm(L).forEach(W=>Pn(t.errors,W)),h.state.next({errors:L?t.errors:{}})},K=(L,W,H)=>{const ge=(de(r,L,{_f:{}})._f||{}).ref,fe=de(t.errors,L)||{},{ref:ae,message:Re,type:Fe,...st}=fe;vt(t.errors,L,{...st,...W,ref:ge}),h.state.next({name:L,errors:t.errors,isValid:!1}),H&&H.shouldFocus&&ge&&ge.focus&&ge.focus()},re=(L,W)=>pa(L)?h.values.subscribe({next:H=>L(R(void 0,W),H)}):R(L,W,!0),Se=(L,W={})=>{for(const H of L?mm(L):a.mount)a.mount.delete(H),a.array.delete(H),W.keepValue||(Pn(r,H),Pn(s,H)),!W.keepError&&Pn(t.errors,H),!W.keepDirty&&Pn(t.dirtyFields,H),!W.keepTouched&&Pn(t.touchedFields,H),!W.keepIsValidating&&Pn(t.validatingFields,H),!e.shouldUnregister&&!W.keepDefaultValue&&Pn(i,H);h.values.next({values:{...s}}),h.state.next({...t,...W.keepDirty?{isDirty:w()}:{}}),!W.keepIsValid&&v()},le=({disabled:L,name:W,field:H,fields:ge,value:fe})=>{if(Vi(L)&&o.mount||L){const ae=L?void 0:on(fe)?g1(H?H._f:de(ge,W)._f):fe;vt(s,W,ae),Q(W,ae,!1,!1,!0)}},Te=(L,W={})=>{let H=de(r,L);const ge=Vi(W.disabled)||Vi(n.disabled);return vt(r,L,{...H||{},_f:{...H&&H._f?H._f:{ref:{name:L}},name:L,mount:!0,...W}}),a.mount.add(L),H?le({field:H,disabled:Vi(W.disabled)?W.disabled:n.disabled,name:L,value:W.value}):C(L,!0,W.value),{...ge?{disabled:W.disabled||n.disabled}:{},...e.progressive?{required:!!W.required,min:ap(W.min),max:ap(W.max),minLength:ap(W.minLength),maxLength:ap(W.maxLength),pattern:ap(W.pattern)}:{},name:L,onChange:U,onBlur:U,ref:fe=>{if(fe){Te(L,W),H=de(r,L);const ae=on(fe.value)&&fe.querySelectorAll&&fe.querySelectorAll("input,select,textarea")[0]||fe,Re=sue(ae),Fe=H._f.refs||[];if(Re?Fe.find(st=>st===ae):ae===H._f.ref)return;vt(r,L,{_f:{...H._f,...Re?{refs:[...Fe.filter(m1),ae,...Array.isArray(de(i,L))?[{}]:[]],ref:{type:ae.type,name:L}}:{ref:ae}}}),C(L,!1,void 0,ae)}else H=de(r,L,{}),H._f&&(H._f.mount=!1),(e.shouldUnregister||W.shouldUnregister)&&!(I3(a.array,L)&&o.action)&&a.unMount.add(L)}}},yt=()=>e.shouldFocusError&&gm(r,q,a.mount),qe=L=>{Vi(L)&&(h.state.next({disabled:L}),gm(r,(W,H)=>{const ge=de(r,H);ge&&(W.disabled=ge._f.disabled||L,Array.isArray(ge._f.refs)&&ge._f.refs.forEach(fe=>{fe.disabled=ge._f.disabled||L}))},0,!1))},Be=(L,W)=>async H=>{let ge;H&&(H.preventDefault&&H.preventDefault(),H.persist&&H.persist());let fe=Zr(s);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:ae,values:Re}=await _();t.errors=ae,fe=Re}else await A(r);if(Pn(t.errors,"root"),Xr(t.errors)){h.state.next({errors:{}});try{await L(fe,H)}catch(ae){ge=ae}}else W&&await W({...t.errors},H),yt(),setTimeout(yt);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Xr(t.errors)&&!ge,submitCount:t.submitCount+1,errors:t.errors}),ge)throw ge},Ye=(L,W={})=>{de(r,L)&&(on(W.defaultValue)?Z(L,Zr(de(i,L))):(Z(L,W.defaultValue),vt(i,L,Zr(W.defaultValue))),W.keepTouched||Pn(t.touchedFields,L),W.keepDirty||(Pn(t.dirtyFields,L),t.isDirty=W.defaultValue?w(L,Zr(de(i,L))):w()),W.keepError||(Pn(t.errors,L),u.isValid&&v()),h.state.next({...t}))},yn=(L,W={})=>{const H=L?Zr(L):i,ge=Zr(H),fe=Xr(L),ae=fe?i:ge;if(W.keepDefaultValues||(i=H),!W.keepValues){if(W.keepDirtyValues){const Re=new Set([...a.mount,...Object.keys(op(i,s))]);for(const Fe of Array.from(Re))de(t.dirtyFields,Fe)?vt(ae,Fe,de(s,Fe)):Z(Fe,de(ae,Fe))}else{if(vR&&on(L))for(const Re of a.mount){const Fe=de(r,Re);if(Fe&&Fe._f){const st=Array.isArray(Fe._f.refs)?Fe._f.refs[0]:Fe._f.ref;if(Ew(st)){const ct=st.closest("form");if(ct){ct.reset();break}}}}r={}}s=n.shouldUnregister?W.keepDefaultValues?Zr(i):{}:Zr(ae),h.array.next({values:{...ae}}),h.values.next({values:{...ae}})}a={mount:W.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!W.keepIsValid||!!W.keepDirtyValues,o.watch=!!n.shouldUnregister,h.state.next({submitCount:W.keepSubmitCount?t.submitCount:0,isDirty:fe?!1:W.keepDirty?t.isDirty:!!(W.keepDefaultValues&&!ul(L,i)),isSubmitted:W.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:fe?{}:W.keepDirtyValues?W.keepDefaultValues&&s?op(i,s):t.dirtyFields:W.keepDefaultValues&&L?op(i,L):W.keepDirty?t.dirtyFields:{},touchedFields:W.keepTouched?t.touchedFields:{},errors:W.keepErrors?t.errors:{},isSubmitSuccessful:W.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Xn=(L,W)=>yn(pa(L)?L(s):L,W);return{control:{register:Te,unregister:Se,getFieldState:F,handleSubmit:Be,setError:K,_executeSchema:_,_getWatch:R,_getDirty:w,_updateValid:v,_removeUnmounted:T,_updateFieldArray:b,_updateDisabledField:le,_getFieldArray:j,_reset:yn,_resetDefaultValues:()=>pa(e.defaultValues)&&e.defaultValues().then(L=>{Xn(L,e.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:L=>{t={...t,...L}},_disableForm:qe,_subjects:h,_proxyFormState:u,_setErrors:$,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(L){o=L},get _defaultValues(){return i},get _names(){return a},set _names(L){a=L},get _formState(){return t},set _formState(L){t=L},get _options(){return e},set _options(L){e={...e,...L}}},trigger:ne,register:Te,handleSubmit:Be,watch:re,setValue:Z,getValues:X,reset:Xn,resetField:Ye,clearErrors:G,unregister:Se,setError:K,setFocus:(L,W={})=>{const H=de(r,L),ge=H&&H._f;if(ge){const fe=ge.refs?ge.refs[0]:ge.ref;fe.focus&&(fe.focus(),W.shouldSelect&&fe.select())}},getFieldState:F}}function Ab(n={}){const e=Ke.useRef(),t=Ke.useRef(),[r,i]=Ke.useState({isDirty:!1,isValidating:!1,isLoading:pa(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,defaultValues:pa(n.defaultValues)?void 0:n.defaultValues});e.current||(e.current={...due(n),formState:r});const s=e.current.control;return s._options=n,xR({subject:s._subjects.state,next:o=>{M3(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),Ke.useEffect(()=>s._disableForm(n.disabled),[s,n.disabled]),Ke.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),Ke.useEffect(()=>{n.values&&!ul(n.values,t.current)?(s._reset(n.values,s._options.resetOptions),t.current=n.values,i(o=>({...o}))):s._resetDefaultValues()},[n.values,s]),Ke.useEffect(()=>{n.errors&&s._setErrors(n.errors)},[n.errors,s]),Ke.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),Ke.useEffect(()=>{n.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[n.shouldUnregister,s]),Ke.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[r]),e.current.formState=D3(r,s),e.current}const Tj=(n,e,t)=>{if(n&&"reportValidity"in n){const r=de(t,e);n.setCustomValidity(r&&r.message||""),n.reportValidity()}},X3=(n,e)=>{for(const t in e.fields){const r=e.fields[t];r&&r.ref&&"reportValidity"in r.ref?Tj(r.ref,t,n):r.refs&&r.refs.forEach(i=>Tj(i,t,n))}},fue=(n,e)=>{e.shouldUseNativeValidation&&X3(n,e);const t={};for(const r in n){const i=de(e.fields,r),s=Object.assign(n[r]||{},{ref:i&&i.ref});if(pue(e.names||Object.keys(n),r)){const o=Object.assign({},de(t,r));vt(o,"root",s),vt(t,r,o)}else vt(t,r,s)}return t},pue=(n,e)=>n.some(t=>t.startsWith(e+"."));var mue=function(n,e){for(var t={};n.length;){var r=n[0],i=r.code,s=r.message,o=r.path.join(".");if(!t[o])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];t[o]={message:a.message,type:a.code}}else t[o]={message:s,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(h){return n.push(h)})}),e){var l=t[o].types,c=l&&l[r.code];t[o]=z3(o,e,t,i,c?[].concat(c,r.message):r.message)}n.shift()}return t},Rb=function(n,e,t){return t===void 0&&(t={}),function(r,i,s){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(n[t.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(c){return s.shouldUseNativeValidation&&X3({},s),{errors:{},values:t.raw?r:c}})}catch(c){return a(c)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:fue(mue(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}},dt;(function(n){n.assertEqual=i=>i;function e(i){}n.assertIs=e;function t(i){throw new Error}n.assertNever=t,n.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},n.getValidEnumValues=i=>{const s=n.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return n.objectValues(o)},n.objectValues=i=>n.objectKeys(i).map(function(s){return i[s]}),n.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},n.find=(i,s)=>{for(const o of i)if(s(o))return o},n.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}n.joinValues=r,n.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(dt||(dt={}));var RT;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(RT||(RT={}));const xe=dt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),hl=n=>{switch(typeof n){case"undefined":return xe.undefined;case"string":return xe.string;case"number":return isNaN(n)?xe.nan:xe.number;case"boolean":return xe.boolean;case"function":return xe.function;case"bigint":return xe.bigint;case"symbol":return xe.symbol;case"object":return Array.isArray(n)?xe.array:n===null?xe.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?xe.promise:typeof Map<"u"&&n instanceof Map?xe.map:typeof Set<"u"&&n instanceof Set?xe.set:typeof Date<"u"&&n instanceof Date?xe.date:xe.object;default:return xe.unknown}},oe=dt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),gue=n=>JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:");class Ai extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(t(o));else{let a=r,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(t(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return i(this),r}static assert(e){if(!(e instanceof Ai))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,dt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const i of this.issues)i.path.length>0?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}Ai.create=n=>new Ai(n);const jd=(n,e)=>{let t;switch(n.code){case oe.invalid_type:n.received===xe.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case oe.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,dt.jsonStringifyReplacer)}`;break;case oe.unrecognized_keys:t=`Unrecognized key(s) in object: ${dt.joinValues(n.keys,", ")}`;break;case oe.invalid_union:t="Invalid input";break;case oe.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${dt.joinValues(n.options)}`;break;case oe.invalid_enum_value:t=`Invalid enum value. Expected ${dt.joinValues(n.options)}, received '${n.received}'`;break;case oe.invalid_arguments:t="Invalid function arguments";break;case oe.invalid_return_type:t="Invalid function return type";break;case oe.invalid_date:t="Invalid date";break;case oe.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:dt.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case oe.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case oe.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case oe.custom:t="Invalid input";break;case oe.invalid_intersection_types:t="Intersection results could not be merged";break;case oe.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case oe.not_finite:t="Number must be finite";break;default:t=e.defaultError,dt.assertNever(n)}return{message:t}};let G3=jd;function Oue(n){G3=n}function Qw(){return G3}const $w=n=>{const{data:e,path:t,errorMaps:r,issueData:i}=n,s=[...t,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...i,path:s,message:a}},yue=[];function Oe(n,e){const t=Qw(),r=$w({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===jd?void 0:jd].filter(i=>!!i)});n.common.issues.push(r)}class Pr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const i of t){if(i.status==="aborted")return Ve;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const i of t){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return Pr.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const i of t){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return Ve;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const Ve=Object.freeze({status:"aborted"}),Ph=n=>({status:"dirty",value:n}),zr=n=>({status:"valid",value:n}),QT=n=>n.status==="aborted",$T=n=>n.status==="dirty",tg=n=>n.status==="valid",ng=n=>typeof Promise<"u"&&n instanceof Promise;function Iw(n,e,t,r){if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(n)}function Y3(n,e,t,r,i){if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,t),t}var Ae;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Ae||(Ae={}));var Ip,Np;class bo{constructor(e,t,r,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Pj=(n,e)=>{if(tg(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Ai(n.common.issues);return this._error=t,this._error}}};function Ze(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:r,description:i}=n;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>{var l,c;const{message:u}=n;return o.code==="invalid_enum_value"?{message:u??a.defaultError}:typeof a.data>"u"?{message:(l=u??r)!==null&&l!==void 0?l:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(c=u??t)!==null&&c!==void 0?c:a.defaultError}},description:i}}class Ge{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return hl(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:hl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Pr,ctx:{common:e.parent.common,data:e.data,parsedType:hl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(ng(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;const i={common:{issues:[],async:(r=t==null?void 0:t.async)!==null&&r!==void 0?r:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:hl(e)},s=this._parseSync({data:e,path:i.path,parent:i});return Pj(i,s)}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:hl(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(ng(i)?i:Promise.resolve(i));return Pj(r,s)}refine(e,t){const r=i=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(i):t;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:oe.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,t){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof t=="function"?t(r,i):t),!1))}_refinement(e){return new Ps({schema:this,typeName:Me.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return mo.create(this,this._def)}nullable(){return oc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return bs.create(this,this._def)}promise(){return Md.create(this,this._def)}or(e){return og.create([this,e],this._def)}and(e){return ag.create(this,e,this._def)}transform(e){return new Ps({...Ze(this._def),schema:this,typeName:Me.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new dg({...Ze(this._def),innerType:this,defaultValue:t,typeName:Me.ZodDefault})}brand(){return new kR({typeName:Me.ZodBranded,type:this,...Ze(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new fg({...Ze(this._def),innerType:this,catchValue:t,typeName:Me.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return RO.create(this,e)}readonly(){return pg.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const vue=/^c[^\s-]{8,}$/i,wue=/^[0-9a-z]+$/,xue=/^[0-9A-HJKMNP-TV-Z]{26}$/,bue=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Sue=/^[a-z0-9_-]{21}$/i,kue=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,_ue=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Tue="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let O1;const Pue=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Cue=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Eue=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,H3="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Aue=new RegExp(`^${H3}$`);function K3(n){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Rue(n){return new RegExp(`^${K3(n)}$`)}function J3(n){let e=`${H3}T${K3(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function Que(n,e){return!!((e==="v4"||!e)&&Pue.test(n)||(e==="v6"||!e)&&Cue.test(n))}class fs extends Ge{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==xe.string){const s=this._getOrReturnCtx(e);return Oe(s,{code:oe.invalid_type,expected:xe.string,received:s.parsedType}),Ve}const r=new Pr;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),Oe(i,{code:oe.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),Oe(i,{code:oe.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?Oe(i,{code:oe.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&Oe(i,{code:oe.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")_ue.test(e.data)||(i=this._getOrReturnCtx(e,i),Oe(i,{validation:"email",code:oe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")O1||(O1=new RegExp(Tue,"u")),O1.test(e.data)||(i=this._getOrReturnCtx(e,i),Oe(i,{validation:"emoji",code:oe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")bue.test(e.data)||(i=this._getOrReturnCtx(e,i),Oe(i,{validation:"uuid",code:oe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")Sue.test(e.data)||(i=this._getOrReturnCtx(e,i),Oe(i,{validation:"nanoid",code:oe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")vue.test(e.data)||(i=this._getOrReturnCtx(e,i),Oe(i,{validation:"cuid",code:oe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")wue.test(e.data)||(i=this._getOrReturnCtx(e,i),Oe(i,{validation:"cuid2",code:oe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")xue.test(e.data)||(i=this._getOrReturnCtx(e,i),Oe(i,{validation:"ulid",code:oe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Oe(i,{validation:"url",code:oe.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Oe(i,{validation:"regex",code:oe.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),Oe(i,{code:oe.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),Oe(i,{code:oe.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),Oe(i,{code:oe.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?J3(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Oe(i,{code:oe.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?Aue.test(e.data)||(i=this._getOrReturnCtx(e,i),Oe(i,{code:oe.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?Rue(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Oe(i,{code:oe.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?kue.test(e.data)||(i=this._getOrReturnCtx(e,i),Oe(i,{validation:"duration",code:oe.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?Que(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Oe(i,{validation:"ip",code:oe.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?Eue.test(e.data)||(i=this._getOrReturnCtx(e,i),Oe(i,{validation:"base64",code:oe.invalid_string,message:s.message}),r.dirty()):dt.assertNever(s);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(i=>e.test(i),{validation:t,code:oe.invalid_string,...Ae.errToObj(r)})}_addCheck(e){return new fs({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ae.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ae.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ae.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ae.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Ae.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ae.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ae.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ae.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Ae.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ae.errToObj(e)})}datetime(e){var t,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...Ae.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Ae.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Ae.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Ae.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...Ae.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Ae.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Ae.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Ae.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Ae.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Ae.errToObj(t)})}nonempty(e){return this.min(1,Ae.errToObj(e))}trim(){return new fs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new fs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new fs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}fs.create=n=>{var e;return new fs({checks:[],typeName:Me.ZodString,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...Ze(n)})};function $ue(n,e){const t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=t>r?t:r,s=parseInt(n.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class rc extends Ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==xe.number){const s=this._getOrReturnCtx(e);return Oe(s,{code:oe.invalid_type,expected:xe.number,received:s.parsedType}),Ve}let r;const i=new Pr;for(const s of this._def.checks)s.kind==="int"?dt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Oe(r,{code:oe.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Oe(r,{code:oe.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Oe(r,{code:oe.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?$ue(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),Oe(r,{code:oe.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Oe(r,{code:oe.not_finite,message:s.message}),i.dirty()):dt.assertNever(s);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Ae.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Ae.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Ae.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Ae.toString(t))}setLimit(e,t,r,i){return new rc({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Ae.toString(i)}]})}_addCheck(e){return new rc({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ae.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ae.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ae.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ae.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ae.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Ae.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Ae.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ae.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ae.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&dt.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}rc.create=n=>new rc({checks:[],typeName:Me.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...Ze(n)});class ic extends Ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==xe.bigint){const s=this._getOrReturnCtx(e);return Oe(s,{code:oe.invalid_type,expected:xe.bigint,received:s.parsedType}),Ve}let r;const i=new Pr;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Oe(r,{code:oe.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Oe(r,{code:oe.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Oe(r,{code:oe.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):dt.assertNever(s);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Ae.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Ae.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Ae.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Ae.toString(t))}setLimit(e,t,r,i){return new ic({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Ae.toString(i)}]})}_addCheck(e){return new ic({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ae.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ae.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ae.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ae.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Ae.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}ic.create=n=>{var e;return new ic({checks:[],typeName:Me.ZodBigInt,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...Ze(n)})};class rg extends Ge{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==xe.boolean){const r=this._getOrReturnCtx(e);return Oe(r,{code:oe.invalid_type,expected:xe.boolean,received:r.parsedType}),Ve}return zr(e.data)}}rg.create=n=>new rg({typeName:Me.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...Ze(n)});class Cu extends Ge{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==xe.date){const s=this._getOrReturnCtx(e);return Oe(s,{code:oe.invalid_type,expected:xe.date,received:s.parsedType}),Ve}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return Oe(s,{code:oe.invalid_date}),Ve}const r=new Pr;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),Oe(i,{code:oe.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),Oe(i,{code:oe.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):dt.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Cu({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Ae.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Ae.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}Cu.create=n=>new Cu({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:Me.ZodDate,...Ze(n)});class Nw extends Ge{_parse(e){if(this._getType(e)!==xe.symbol){const r=this._getOrReturnCtx(e);return Oe(r,{code:oe.invalid_type,expected:xe.symbol,received:r.parsedType}),Ve}return zr(e.data)}}Nw.create=n=>new Nw({typeName:Me.ZodSymbol,...Ze(n)});class ig extends Ge{_parse(e){if(this._getType(e)!==xe.undefined){const r=this._getOrReturnCtx(e);return Oe(r,{code:oe.invalid_type,expected:xe.undefined,received:r.parsedType}),Ve}return zr(e.data)}}ig.create=n=>new ig({typeName:Me.ZodUndefined,...Ze(n)});class sg extends Ge{_parse(e){if(this._getType(e)!==xe.null){const r=this._getOrReturnCtx(e);return Oe(r,{code:oe.invalid_type,expected:xe.null,received:r.parsedType}),Ve}return zr(e.data)}}sg.create=n=>new sg({typeName:Me.ZodNull,...Ze(n)});class Dd extends Ge{constructor(){super(...arguments),this._any=!0}_parse(e){return zr(e.data)}}Dd.create=n=>new Dd({typeName:Me.ZodAny,...Ze(n)});class uu extends Ge{constructor(){super(...arguments),this._unknown=!0}_parse(e){return zr(e.data)}}uu.create=n=>new uu({typeName:Me.ZodUnknown,...Ze(n)});class Ea extends Ge{_parse(e){const t=this._getOrReturnCtx(e);return Oe(t,{code:oe.invalid_type,expected:xe.never,received:t.parsedType}),Ve}}Ea.create=n=>new Ea({typeName:Me.ZodNever,...Ze(n)});class jw extends Ge{_parse(e){if(this._getType(e)!==xe.undefined){const r=this._getOrReturnCtx(e);return Oe(r,{code:oe.invalid_type,expected:xe.void,received:r.parsedType}),Ve}return zr(e.data)}}jw.create=n=>new jw({typeName:Me.ZodVoid,...Ze(n)});class bs extends Ge{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),i=this._def;if(t.parsedType!==xe.array)return Oe(t,{code:oe.invalid_type,expected:xe.array,received:t.parsedType}),Ve;if(i.exactLength!==null){const o=t.data.length>i.exactLength.value,a=t.data.length<i.exactLength.value;(o||a)&&(Oe(t,{code:o?oe.too_big:oe.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&t.data.length<i.minLength.value&&(Oe(t,{code:oe.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&t.data.length>i.maxLength.value&&(Oe(t,{code:oe.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((o,a)=>i.type._parseAsync(new bo(t,o,t.path,a)))).then(o=>Pr.mergeArray(r,o));const s=[...t.data].map((o,a)=>i.type._parseSync(new bo(t,o,t.path,a)));return Pr.mergeArray(r,s)}get element(){return this._def.type}min(e,t){return new bs({...this._def,minLength:{value:e,message:Ae.toString(t)}})}max(e,t){return new bs({...this._def,maxLength:{value:e,message:Ae.toString(t)}})}length(e,t){return new bs({...this._def,exactLength:{value:e,message:Ae.toString(t)}})}nonempty(e){return this.min(1,e)}}bs.create=(n,e)=>new bs({type:n,minLength:null,maxLength:null,exactLength:null,typeName:Me.ZodArray,...Ze(e)});function hh(n){if(n instanceof Gt){const e={};for(const t in n.shape){const r=n.shape[t];e[t]=mo.create(hh(r))}return new Gt({...n._def,shape:()=>e})}else return n instanceof bs?new bs({...n._def,type:hh(n.element)}):n instanceof mo?mo.create(hh(n.unwrap())):n instanceof oc?oc.create(hh(n.unwrap())):n instanceof So?So.create(n.items.map(e=>hh(e))):n}class Gt extends Ge{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=dt.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==xe.object){const c=this._getOrReturnCtx(e);return Oe(c,{code:oe.invalid_type,expected:xe.object,received:c.parsedType}),Ve}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Ea&&this._def.unknownKeys==="strip"))for(const c in i.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const u=s[c],h=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new bo(i,h,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof Ea){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(c==="strict")a.length>0&&(Oe(i,{code:oe.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const h=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new bo(i,h,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const h=await u.key,d=await u.value;c.push({key:h,value:d,alwaysSet:u.alwaysSet})}return c}).then(c=>Pr.mergeObjectSync(r,c)):Pr.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return Ae.errToObj,new Gt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{var i,s,o,a;const l=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,t,r).message)!==null&&o!==void 0?o:r.defaultError;return t.code==="unrecognized_keys"?{message:(a=Ae.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new Gt({...this._def,unknownKeys:"strip"})}passthrough(){return new Gt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Gt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Gt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Me.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Gt({...this._def,catchall:e})}pick(e){const t={};return dt.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new Gt({...this._def,shape:()=>t})}omit(e){const t={};return dt.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new Gt({...this._def,shape:()=>t})}deepPartial(){return hh(this)}partial(e){const t={};return dt.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?t[r]=i:t[r]=i.optional()}),new Gt({...this._def,shape:()=>t})}required(e){const t={};return dt.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof mo;)s=s._def.innerType;t[r]=s}}),new Gt({...this._def,shape:()=>t})}keyof(){return eB(dt.objectKeys(this.shape))}}Gt.create=(n,e)=>new Gt({shape:()=>n,unknownKeys:"strip",catchall:Ea.create(),typeName:Me.ZodObject,...Ze(e)});Gt.strictCreate=(n,e)=>new Gt({shape:()=>n,unknownKeys:"strict",catchall:Ea.create(),typeName:Me.ZodObject,...Ze(e)});Gt.lazycreate=(n,e)=>new Gt({shape:n,unknownKeys:"strip",catchall:Ea.create(),typeName:Me.ZodObject,...Ze(e)});class og extends Ge{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return t.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new Ai(a.ctx.common.issues));return Oe(t,{code:oe.invalid_union,unionErrors:o}),Ve}if(t.common.async)return Promise.all(r.map(async s=>{const o={...t,common:{...t.common,issues:[]},parent:null};return{result:await s._parseAsync({data:t.data,path:t.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const l of r){const c={...t,common:{...t.common,issues:[]},parent:null},u=l._parseSync({data:t.data,path:t.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(s)return t.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(l=>new Ai(l));return Oe(t,{code:oe.invalid_union,unionErrors:a}),Ve}}get options(){return this._def.options}}og.create=(n,e)=>new og({options:n,typeName:Me.ZodUnion,...Ze(e)});const Ko=n=>n instanceof cg?Ko(n.schema):n instanceof Ps?Ko(n.innerType()):n instanceof ug?[n.value]:n instanceof sc?n.options:n instanceof hg?dt.objectValues(n.enum):n instanceof dg?Ko(n._def.innerType):n instanceof ig?[void 0]:n instanceof sg?[null]:n instanceof mo?[void 0,...Ko(n.unwrap())]:n instanceof oc?[null,...Ko(n.unwrap())]:n instanceof kR||n instanceof pg?Ko(n.unwrap()):n instanceof fg?Ko(n._def.innerType):[];class Qb extends Ge{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==xe.object)return Oe(t,{code:oe.invalid_type,expected:xe.object,received:t.parsedType}),Ve;const r=this.discriminator,i=t.data[r],s=this.optionsMap.get(i);return s?t.common.async?s._parseAsync({data:t.data,path:t.path,parent:t}):s._parseSync({data:t.data,path:t.path,parent:t}):(Oe(t,{code:oe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Ve)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){const i=new Map;for(const s of t){const o=Ko(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new Qb({typeName:Me.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...Ze(r)})}}function IT(n,e){const t=hl(n),r=hl(e);if(n===e)return{valid:!0,data:n};if(t===xe.object&&r===xe.object){const i=dt.objectKeys(e),s=dt.objectKeys(n).filter(a=>i.indexOf(a)!==-1),o={...n,...e};for(const a of s){const l=IT(n[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(t===xe.array&&r===xe.array){if(n.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<n.length;s++){const o=n[s],a=e[s],l=IT(o,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return t===xe.date&&r===xe.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class ag extends Ge{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(QT(s)||QT(o))return Ve;const a=IT(s.value,o.value);return a.valid?(($T(s)||$T(o))&&t.dirty(),{status:t.value,value:a.data}):(Oe(r,{code:oe.invalid_intersection_types}),Ve)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}ag.create=(n,e,t)=>new ag({left:n,right:e,typeName:Me.ZodIntersection,...Ze(t)});class So extends Ge{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==xe.array)return Oe(r,{code:oe.invalid_type,expected:xe.array,received:r.parsedType}),Ve;if(r.data.length<this._def.items.length)return Oe(r,{code:oe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ve;!this._def.rest&&r.data.length>this._def.items.length&&(Oe(r,{code:oe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const s=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new bo(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>Pr.mergeArray(t,o)):Pr.mergeArray(t,s)}get items(){return this._def.items}rest(e){return new So({...this._def,rest:e})}}So.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new So({items:n,typeName:Me.ZodTuple,rest:null,...Ze(e)})};class lg extends Ge{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==xe.object)return Oe(r,{code:oe.invalid_type,expected:xe.object,received:r.parsedType}),Ve;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in r.data)i.push({key:s._parse(new bo(r,a,r.path,a)),value:o._parse(new bo(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?Pr.mergeObjectAsync(t,i):Pr.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,r){return t instanceof Ge?new lg({keyType:e,valueType:t,typeName:Me.ZodRecord,...Ze(r)}):new lg({keyType:fs.create(),valueType:e,typeName:Me.ZodRecord,...Ze(t)})}}class Dw extends Ge{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==xe.map)return Oe(r,{code:oe.invalid_type,expected:xe.map,received:r.parsedType}),Ve;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,l],c)=>({key:i._parse(new bo(r,a,r.path,[c,"key"])),value:s._parse(new bo(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return Ve;(c.status==="dirty"||u.status==="dirty")&&t.dirty(),a.set(c.value,u.value)}return{status:t.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return Ve;(c.status==="dirty"||u.status==="dirty")&&t.dirty(),a.set(c.value,u.value)}return{status:t.value,value:a}}}}Dw.create=(n,e,t)=>new Dw({valueType:e,keyType:n,typeName:Me.ZodMap,...Ze(t)});class Eu extends Ge{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==xe.set)return Oe(r,{code:oe.invalid_type,expected:xe.set,received:r.parsedType}),Ve;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Oe(r,{code:oe.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Oe(r,{code:oe.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());const s=this._def.valueType;function o(l){const c=new Set;for(const u of l){if(u.status==="aborted")return Ve;u.status==="dirty"&&t.dirty(),c.add(u.value)}return{status:t.value,value:c}}const a=[...r.data.values()].map((l,c)=>s._parse(new bo(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,t){return new Eu({...this._def,minSize:{value:e,message:Ae.toString(t)}})}max(e,t){return new Eu({...this._def,maxSize:{value:e,message:Ae.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Eu.create=(n,e)=>new Eu({valueType:n,minSize:null,maxSize:null,typeName:Me.ZodSet,...Ze(e)});class Xh extends Ge{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==xe.function)return Oe(t,{code:oe.invalid_type,expected:xe.function,received:t.parsedType}),Ve;function r(a,l){return $w({data:a,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Qw(),jd].filter(c=>!!c),issueData:{code:oe.invalid_arguments,argumentsError:l}})}function i(a,l){return $w({data:a,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Qw(),jd].filter(c=>!!c),issueData:{code:oe.invalid_return_type,returnTypeError:l}})}const s={errorMap:t.common.contextualErrorMap},o=t.data;if(this._def.returns instanceof Md){const a=this;return zr(async function(...l){const c=new Ai([]),u=await a._def.args.parseAsync(l,s).catch(m=>{throw c.addIssue(r(l,m)),c}),h=await Reflect.apply(o,this,u);return await a._def.returns._def.type.parseAsync(h,s).catch(m=>{throw c.addIssue(i(h,m)),c})})}else{const a=this;return zr(function(...l){const c=a._def.args.safeParse(l,s);if(!c.success)throw new Ai([r(l,c.error)]);const u=Reflect.apply(o,this,c.data),h=a._def.returns.safeParse(u,s);if(!h.success)throw new Ai([i(u,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Xh({...this._def,args:So.create(e).rest(uu.create())})}returns(e){return new Xh({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new Xh({args:e||So.create([]).rest(uu.create()),returns:t||uu.create(),typeName:Me.ZodFunction,...Ze(r)})}}class cg extends Ge{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}cg.create=(n,e)=>new cg({getter:n,typeName:Me.ZodLazy,...Ze(e)});class ug extends Ge{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Oe(t,{received:t.data,code:oe.invalid_literal,expected:this._def.value}),Ve}return{status:"valid",value:e.data}}get value(){return this._def.value}}ug.create=(n,e)=>new ug({value:n,typeName:Me.ZodLiteral,...Ze(e)});function eB(n,e){return new sc({values:n,typeName:Me.ZodEnum,...Ze(e)})}class sc extends Ge{constructor(){super(...arguments),Ip.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),r=this._def.values;return Oe(t,{expected:dt.joinValues(r),received:t.parsedType,code:oe.invalid_type}),Ve}if(Iw(this,Ip)||Y3(this,Ip,new Set(this._def.values)),!Iw(this,Ip).has(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return Oe(t,{received:t.data,code:oe.invalid_enum_value,options:r}),Ve}return zr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return sc.create(e,{...this._def,...t})}exclude(e,t=this._def){return sc.create(this.options.filter(r=>!e.includes(r)),{...this._def,...t})}}Ip=new WeakMap;sc.create=eB;class hg extends Ge{constructor(){super(...arguments),Np.set(this,void 0)}_parse(e){const t=dt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==xe.string&&r.parsedType!==xe.number){const i=dt.objectValues(t);return Oe(r,{expected:dt.joinValues(i),received:r.parsedType,code:oe.invalid_type}),Ve}if(Iw(this,Np)||Y3(this,Np,new Set(dt.getValidEnumValues(this._def.values))),!Iw(this,Np).has(e.data)){const i=dt.objectValues(t);return Oe(r,{received:r.data,code:oe.invalid_enum_value,options:i}),Ve}return zr(e.data)}get enum(){return this._def.values}}Np=new WeakMap;hg.create=(n,e)=>new hg({values:n,typeName:Me.ZodNativeEnum,...Ze(e)});class Md extends Ge{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==xe.promise&&t.common.async===!1)return Oe(t,{code:oe.invalid_type,expected:xe.promise,received:t.parsedType}),Ve;const r=t.parsedType===xe.promise?t.data:Promise.resolve(t.data);return zr(r.then(i=>this._def.type.parseAsync(i,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Md.create=(n,e)=>new Md({type:n,typeName:Me.ZodPromise,...Ze(e)});class Ps extends Ge{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Me.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{Oe(r,o),o.fatal?t.abort():t.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async a=>{if(t.value==="aborted")return Ve;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?Ve:l.status==="dirty"||t.value==="dirty"?Ph(l.value):l});{if(t.value==="aborted")return Ve;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?Ve:a.status==="dirty"||t.value==="dirty"?Ph(a.value):a}}if(i.type==="refinement"){const o=a=>{const l=i.refinement(a,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Ve:(a.status==="dirty"&&t.dirty(),o(a.value),{status:t.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Ve:(a.status==="dirty"&&t.dirty(),o(a.value).then(()=>({status:t.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!tg(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>tg(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:t.value,value:a})):o);dt.assertNever(i)}}Ps.create=(n,e,t)=>new Ps({schema:n,typeName:Me.ZodEffects,effect:e,...Ze(t)});Ps.createWithPreprocess=(n,e,t)=>new Ps({schema:e,effect:{type:"preprocess",transform:n},typeName:Me.ZodEffects,...Ze(t)});class mo extends Ge{_parse(e){return this._getType(e)===xe.undefined?zr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}mo.create=(n,e)=>new mo({innerType:n,typeName:Me.ZodOptional,...Ze(e)});class oc extends Ge{_parse(e){return this._getType(e)===xe.null?zr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}oc.create=(n,e)=>new oc({innerType:n,typeName:Me.ZodNullable,...Ze(e)});class dg extends Ge{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===xe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}dg.create=(n,e)=>new dg({innerType:n,typeName:Me.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ze(e)});class fg extends Ge{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return ng(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ai(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ai(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}fg.create=(n,e)=>new fg({innerType:n,typeName:Me.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ze(e)});class Mw extends Ge{_parse(e){if(this._getType(e)!==xe.nan){const r=this._getOrReturnCtx(e);return Oe(r,{code:oe.invalid_type,expected:xe.nan,received:r.parsedType}),Ve}return{status:"valid",value:e.data}}}Mw.create=n=>new Mw({typeName:Me.ZodNaN,...Ze(n)});const Iue=Symbol("zod_brand");class kR extends Ge{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class RO extends Ge{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Ve:s.status==="dirty"?(t.dirty(),Ph(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Ve:i.status==="dirty"?(t.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,t){return new RO({in:e,out:t,typeName:Me.ZodPipeline})}}class pg extends Ge{_parse(e){const t=this._def.innerType._parse(e),r=i=>(tg(i)&&(i.value=Object.freeze(i.value)),i);return ng(t)?t.then(i=>r(i)):r(t)}unwrap(){return this._def.innerType}}pg.create=(n,e)=>new pg({innerType:n,typeName:Me.ZodReadonly,...Ze(e)});function tB(n,e={},t){return n?Dd.create().superRefine((r,i)=>{var s,o;if(!n(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,l=(o=(s=a.fatal)!==null&&s!==void 0?s:t)!==null&&o!==void 0?o:!0,c=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...c,fatal:l})}}):Dd.create()}const Nue={object:Gt.lazycreate};var Me;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(Me||(Me={}));const jue=(n,e={message:`Input not instance of ${n.name}`})=>tB(t=>t instanceof n,e),nB=fs.create,rB=rc.create,Due=Mw.create,Mue=ic.create,iB=rg.create,Vue=Cu.create,Lue=Nw.create,zue=ig.create,Uue=sg.create,que=Dd.create,Zue=uu.create,Bue=Ea.create,Fue=jw.create,Wue=bs.create,Xue=Gt.create,Gue=Gt.strictCreate,Yue=og.create,Hue=Qb.create,Kue=ag.create,Jue=So.create,ehe=lg.create,the=Dw.create,nhe=Eu.create,rhe=Xh.create,ihe=cg.create,she=ug.create,ohe=sc.create,ahe=hg.create,lhe=Md.create,Cj=Ps.create,che=mo.create,uhe=oc.create,hhe=Ps.createWithPreprocess,dhe=RO.create,fhe=()=>nB().optional(),phe=()=>rB().optional(),mhe=()=>iB().optional(),ghe={string:n=>fs.create({...n,coerce:!0}),number:n=>rc.create({...n,coerce:!0}),boolean:n=>rg.create({...n,coerce:!0}),bigint:n=>ic.create({...n,coerce:!0}),date:n=>Cu.create({...n,coerce:!0})},Ohe=Ve;var rt=Object.freeze({__proto__:null,defaultErrorMap:jd,setErrorMap:Oue,getErrorMap:Qw,makeIssue:$w,EMPTY_PATH:yue,addIssueToContext:Oe,ParseStatus:Pr,INVALID:Ve,DIRTY:Ph,OK:zr,isAborted:QT,isDirty:$T,isValid:tg,isAsync:ng,get util(){return dt},get objectUtil(){return RT},ZodParsedType:xe,getParsedType:hl,ZodType:Ge,datetimeRegex:J3,ZodString:fs,ZodNumber:rc,ZodBigInt:ic,ZodBoolean:rg,ZodDate:Cu,ZodSymbol:Nw,ZodUndefined:ig,ZodNull:sg,ZodAny:Dd,ZodUnknown:uu,ZodNever:Ea,ZodVoid:jw,ZodArray:bs,ZodObject:Gt,ZodUnion:og,ZodDiscriminatedUnion:Qb,ZodIntersection:ag,ZodTuple:So,ZodRecord:lg,ZodMap:Dw,ZodSet:Eu,ZodFunction:Xh,ZodLazy:cg,ZodLiteral:ug,ZodEnum:sc,ZodNativeEnum:hg,ZodPromise:Md,ZodEffects:Ps,ZodTransformer:Ps,ZodOptional:mo,ZodNullable:oc,ZodDefault:dg,ZodCatch:fg,ZodNaN:Mw,BRAND:Iue,ZodBranded:kR,ZodPipeline:RO,ZodReadonly:pg,custom:tB,Schema:Ge,ZodSchema:Ge,late:Nue,get ZodFirstPartyTypeKind(){return Me},coerce:ghe,any:que,array:Wue,bigint:Mue,boolean:iB,date:Vue,discriminatedUnion:Hue,effect:Cj,enum:ohe,function:rhe,instanceof:jue,intersection:Kue,lazy:ihe,literal:she,map:the,nan:Due,nativeEnum:ahe,never:Bue,null:Uue,nullable:uhe,number:rB,object:Xue,oboolean:mhe,onumber:phe,optional:che,ostring:fhe,pipeline:dhe,preprocess:hhe,promise:lhe,record:ehe,set:nhe,strictObject:Gue,string:nB,symbol:Lue,transformer:Cj,tuple:Jue,undefined:zue,union:Yue,unknown:Zue,void:Fue,NEVER:Ohe,ZodIssueCode:oe,quotelessJson:gue,ZodError:Ai}),yhe=n4.useId||(()=>{}),vhe=0;function zl(n){const[e,t]=E.useState(yhe());return Mn(()=>{t(r=>r??String(vhe++))},[n]),e?`radix-${e}`:""}var y1="focusScope.autoFocusOnMount",v1="focusScope.autoFocusOnUnmount",Ej={bubbles:!1,cancelable:!0},whe="FocusScope",_R=E.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=n,[a,l]=E.useState(null),c=ln(i),u=ln(s),h=E.useRef(null),d=it(e,y=>l(y)),m=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(r){let y=function(k){if(m.paused||!a)return;const $=k.target;a.contains($)?h.current=$:Ka(h.current,{select:!0})},v=function(k){if(m.paused||!a)return;const $=k.relatedTarget;$!==null&&(a.contains($)||Ka(h.current,{select:!0}))},S=function(k){if(document.activeElement===document.body)for(const C of k)C.removedNodes.length>0&&Ka(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",v);const b=new MutationObserver(S);return a&&b.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",v),b.disconnect()}}},[r,a,m.paused]),E.useEffect(()=>{if(a){Rj.add(m);const y=document.activeElement;if(!a.contains(y)){const S=new CustomEvent(y1,Ej);a.addEventListener(y1,c),a.dispatchEvent(S),S.defaultPrevented||(xhe(The(sB(a)),{select:!0}),document.activeElement===y&&Ka(a))}return()=>{a.removeEventListener(y1,c),setTimeout(()=>{const S=new CustomEvent(v1,Ej);a.addEventListener(v1,u),a.dispatchEvent(S),S.defaultPrevented||Ka(y??document.body,{select:!0}),a.removeEventListener(v1,u),Rj.remove(m)},0)}}},[a,c,u,m]);const g=E.useCallback(y=>{if(!t&&!r||m.paused)return;const v=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,S=document.activeElement;if(v&&S){const b=y.currentTarget,[k,$]=bhe(b);k&&$?!y.shiftKey&&S===$?(y.preventDefault(),t&&Ka(k,{select:!0})):y.shiftKey&&S===k&&(y.preventDefault(),t&&Ka($,{select:!0})):S===b&&y.preventDefault()}},[t,r,m.paused]);return f.jsx(Ie.div,{tabIndex:-1,...o,ref:d,onKeyDown:g})});_R.displayName=whe;function xhe(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(Ka(r,{select:e}),document.activeElement!==t)return}function bhe(n){const e=sB(n),t=Aj(e,n),r=Aj(e.reverse(),n);return[t,r]}function sB(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Aj(n,e){for(const t of n)if(!She(t,{upTo:e}))return t}function She(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function khe(n){return n instanceof HTMLInputElement&&"select"in n}function Ka(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&khe(n)&&e&&n.select()}}var Rj=_he();function _he(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=Qj(n,e),n.unshift(e)},remove(e){var t;n=Qj(n,e),(t=n[0])==null||t.resume()}}}function Qj(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function The(n){return n.filter(e=>e.tagName!=="A")}var w1=0;function oB(){E.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??$j()),document.body.insertAdjacentElement("beforeend",n[1]??$j()),w1++,()=>{w1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),w1--}},[])}function $j(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var F0="right-scroll-bar-position",W0="width-before-scroll-bar",Phe="with-scroll-bars-hidden",Che="--removed-body-scroll-bar-size";function x1(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function Ehe(n,e){var t=E.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var i=t.value;i!==r&&(t.value=r,t.callback(r,i))}}}})[0];return t.callback=e,t.facade}var Ahe=typeof window<"u"?E.useLayoutEffect:E.useEffect,Ij=new WeakMap;function Rhe(n,e){var t=Ehe(null,function(r){return n.forEach(function(i){return x1(i,r)})});return Ahe(function(){var r=Ij.get(t);if(r){var i=new Set(r),s=new Set(n),o=t.current;i.forEach(function(a){s.has(a)||x1(a,null)}),s.forEach(function(a){i.has(a)||x1(a,o)})}Ij.set(t,n)},[n]),t}function Qhe(n){return n}function $he(n,e){e===void 0&&(e=Qhe);var t=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(s){var o=e(s,r);return t.push(o),function(){t=t.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;t.length;){var o=t;t=[],o.forEach(s)}t={push:function(a){return s(a)},filter:function(){return t}}},assignMedium:function(s){r=!0;var o=[];if(t.length){var a=t;t=[],a.forEach(s),o=t}var l=function(){var u=o;o=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),t={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),t}}}};return i}function Ihe(n){n===void 0&&(n={});var e=$he(null);return e.options=Ys({async:!0,ssr:!1},n),e}var aB=function(n){var e=n.sideCar,t=gO(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return E.createElement(r,Ys({},t))};aB.isSideCarExport=!0;function Nhe(n,e){return n.useMedium(e),aB}var lB=Ihe(),b1=function(){},$b=E.forwardRef(function(n,e){var t=E.useRef(null),r=E.useState({onScrollCapture:b1,onWheelCapture:b1,onTouchMoveCapture:b1}),i=r[0],s=r[1],o=n.forwardProps,a=n.children,l=n.className,c=n.removeScrollBar,u=n.enabled,h=n.shards,d=n.sideCar,m=n.noIsolation,g=n.inert,y=n.allowPinchZoom,v=n.as,S=v===void 0?"div":v,b=n.gapMode,k=gO(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),$=d,C=Rhe([t,e]),Q=Ys(Ys({},k),i);return E.createElement(E.Fragment,null,u&&E.createElement($,{sideCar:lB,removeScrollBar:c,shards:h,noIsolation:m,inert:g,setCallbacks:s,allowPinchZoom:!!y,lockRef:t,gapMode:b}),o?E.cloneElement(E.Children.only(a),Ys(Ys({},Q),{ref:C})):E.createElement(S,Ys({},Q,{className:l,ref:C}),a))});$b.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};$b.classNames={fullWidth:W0,zeroRight:F0};var jhe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Dhe(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=jhe();return e&&n.setAttribute("nonce",e),n}function Mhe(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function Vhe(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var Lhe=function(){var n=0,e=null;return{add:function(t){n==0&&(e=Dhe())&&(Mhe(e,t),Vhe(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},zhe=function(){var n=Lhe();return function(e,t){E.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},cB=function(){var n=zhe(),e=function(t){var r=t.styles,i=t.dynamic;return n(r,i),null};return e},Uhe={left:0,top:0,right:0,gap:0},S1=function(n){return parseInt(n||"",10)||0},qhe=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[S1(t),S1(r),S1(i)]},Zhe=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return Uhe;var e=qhe(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},Bhe=cB(),Gh="data-scroll-locked",Fhe=function(n,e,t,r){var i=n.left,s=n.top,o=n.right,a=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(Phe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Gh,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(F0,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(W0,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(F0," .").concat(F0,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(W0," .").concat(W0,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Gh,`] {
    `).concat(Che,": ").concat(a,`px;
  }
`)},Nj=function(){var n=parseInt(document.body.getAttribute(Gh)||"0",10);return isFinite(n)?n:0},Whe=function(){E.useEffect(function(){return document.body.setAttribute(Gh,(Nj()+1).toString()),function(){var n=Nj()-1;n<=0?document.body.removeAttribute(Gh):document.body.setAttribute(Gh,n.toString())}},[])},Xhe=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,i=r===void 0?"margin":r;Whe();var s=E.useMemo(function(){return Zhe(i)},[i]);return E.createElement(Bhe,{styles:Fhe(s,!e,i,t?"":"!important")})},NT=!1;if(typeof window<"u")try{var jy=Object.defineProperty({},"passive",{get:function(){return NT=!0,!0}});window.addEventListener("test",jy,jy),window.removeEventListener("test",jy,jy)}catch{NT=!1}var nh=NT?{passive:!1}:!1,Ghe=function(n){return n.tagName==="TEXTAREA"},uB=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!Ghe(n)&&t[e]==="visible")},Yhe=function(n){return uB(n,"overflowY")},Hhe=function(n){return uB(n,"overflowX")},jj=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=hB(n,r);if(i){var s=dB(n,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},Khe=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},Jhe=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},hB=function(n,e){return n==="v"?Yhe(e):Hhe(e)},dB=function(n,e){return n==="v"?Khe(e):Jhe(e)},ede=function(n,e){return n==="h"&&e==="rtl"?-1:1},tde=function(n,e,t,r,i){var s=ede(n,window.getComputedStyle(e).direction),o=s*r,a=t.target,l=e.contains(a),c=!1,u=o>0,h=0,d=0;do{var m=dB(n,a),g=m[0],y=m[1],v=m[2],S=y-v-s*g;(g||S)&&hB(n,a)&&(h+=S,d+=g),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(Math.abs(h)<1||!i)||!u&&(Math.abs(d)<1||!i))&&(c=!0),c},Dy=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},Dj=function(n){return[n.deltaX,n.deltaY]},Mj=function(n){return n&&"current"in n?n.current:n},nde=function(n,e){return n[0]===e[0]&&n[1]===e[1]},rde=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},ide=0,rh=[];function sde(n){var e=E.useRef([]),t=E.useRef([0,0]),r=E.useRef(),i=E.useState(ide++)[0],s=E.useState(cB)[0],o=E.useRef(n);E.useEffect(function(){o.current=n},[n]),E.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var y=Mne([n.lockRef.current],(n.shards||[]).map(Mj),!0).filter(Boolean);return y.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var a=E.useCallback(function(y,v){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var S=Dy(y),b=t.current,k="deltaX"in y?y.deltaX:b[0]-S[0],$="deltaY"in y?y.deltaY:b[1]-S[1],C,Q=y.target,O=Math.abs(k)>Math.abs($)?"h":"v";if("touches"in y&&O==="h"&&Q.type==="range")return!1;var _=jj(O,Q);if(!_)return!0;if(_?C=O:(C=O==="v"?"h":"v",_=jj(O,Q)),!_)return!1;if(!r.current&&"changedTouches"in y&&(k||$)&&(r.current=C),!C)return!0;var x=r.current||C;return tde(x,v,y,x==="h"?k:$,!0)},[]),l=E.useCallback(function(y){var v=y;if(!(!rh.length||rh[rh.length-1]!==s)){var S="deltaY"in v?Dj(v):Dy(v),b=e.current.filter(function(C){return C.name===v.type&&(C.target===v.target||v.target===C.shadowParent)&&nde(C.delta,S)})[0];if(b&&b.should){v.cancelable&&v.preventDefault();return}if(!b){var k=(o.current.shards||[]).map(Mj).filter(Boolean).filter(function(C){return C.contains(v.target)}),$=k.length>0?a(v,k[0]):!o.current.noIsolation;$&&v.cancelable&&v.preventDefault()}}},[]),c=E.useCallback(function(y,v,S,b){var k={name:y,delta:v,target:S,should:b,shadowParent:ode(S)};e.current.push(k),setTimeout(function(){e.current=e.current.filter(function($){return $!==k})},1)},[]),u=E.useCallback(function(y){t.current=Dy(y),r.current=void 0},[]),h=E.useCallback(function(y){c(y.type,Dj(y),y.target,a(y,n.lockRef.current))},[]),d=E.useCallback(function(y){c(y.type,Dy(y),y.target,a(y,n.lockRef.current))},[]);E.useEffect(function(){return rh.push(s),n.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:d}),document.addEventListener("wheel",l,nh),document.addEventListener("touchmove",l,nh),document.addEventListener("touchstart",u,nh),function(){rh=rh.filter(function(y){return y!==s}),document.removeEventListener("wheel",l,nh),document.removeEventListener("touchmove",l,nh),document.removeEventListener("touchstart",u,nh)}},[]);var m=n.removeScrollBar,g=n.inert;return E.createElement(E.Fragment,null,g?E.createElement(s,{styles:rde(i)}):null,m?E.createElement(Xhe,{gapMode:n.gapMode}):null)}function ode(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const ade=Nhe(lB,sde);var TR=E.forwardRef(function(n,e){return E.createElement($b,Ys({},n,{ref:e,sideCar:ade}))});TR.classNames=$b.classNames;var lde=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},ih=new WeakMap,My=new WeakMap,Vy={},k1=0,fB=function(n){return n&&(n.host||fB(n.parentNode))},cde=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=fB(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},ude=function(n,e,t,r){var i=cde(e,Array.isArray(n)?n:[n]);Vy[t]||(Vy[t]=new WeakMap);var s=Vy[t],o=[],a=new Set,l=new Set(i),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};i.forEach(c);var u=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(d){if(a.has(d))u(d);else try{var m=d.getAttribute(r),g=m!==null&&m!=="false",y=(ih.get(d)||0)+1,v=(s.get(d)||0)+1;ih.set(d,y),s.set(d,v),o.push(d),y===1&&g&&My.set(d,!0),v===1&&d.setAttribute(t,"true"),g||d.setAttribute(r,"true")}catch(S){console.error("aria-hidden: cannot operate on ",d,S)}})};return u(e),a.clear(),k1++,function(){o.forEach(function(h){var d=ih.get(h)-1,m=s.get(h)-1;ih.set(h,d),s.set(h,m),d||(My.has(h)||h.removeAttribute(r),My.delete(h)),m||h.removeAttribute(t)}),k1--,k1||(ih=new WeakMap,ih=new WeakMap,My=new WeakMap,Vy={})}},pB=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=lde(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),ude(r,i,t,"aria-hidden")):function(){return null}},PR="Dialog",[mB,GCe]=bc(PR),[hde,$s]=mB(PR),gB=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=n,a=E.useRef(null),l=E.useRef(null),[c=!1,u]=Xl({prop:r,defaultProp:i,onChange:s});return f.jsx(hde,{scope:e,triggerRef:a,contentRef:l,contentId:zl(),titleId:zl(),descriptionId:zl(),open:c,onOpenChange:u,onOpenToggle:E.useCallback(()=>u(h=>!h),[u]),modal:o,children:t})};gB.displayName=PR;var OB="DialogTrigger",yB=E.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=$s(OB,t),s=it(e,i.triggerRef);return f.jsx(Ie.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":AR(i.open),...r,ref:s,onClick:Ce(n.onClick,i.onOpenToggle)})});yB.displayName=OB;var CR="DialogPortal",[dde,vB]=mB(CR,{forceMount:void 0}),wB=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:i}=n,s=$s(CR,e);return f.jsx(dde,{scope:e,forceMount:t,children:E.Children.map(r,o=>f.jsx(Qs,{present:t||s.open,children:f.jsx(Hx,{asChild:!0,container:i,children:o})}))})};wB.displayName=CR;var Vw="DialogOverlay",xB=E.forwardRef((n,e)=>{const t=vB(Vw,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,s=$s(Vw,n.__scopeDialog);return s.modal?f.jsx(Qs,{present:r||s.open,children:f.jsx(fde,{...i,ref:e})}):null});xB.displayName=Vw;var fde=E.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=$s(Vw,t);return f.jsx(TR,{as:Wl,allowPinchZoom:!0,shards:[i.contentRef],children:f.jsx(Ie.div,{"data-state":AR(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Au="DialogContent",bB=E.forwardRef((n,e)=>{const t=vB(Au,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,s=$s(Au,n.__scopeDialog);return f.jsx(Qs,{present:r||s.open,children:s.modal?f.jsx(pde,{...i,ref:e}):f.jsx(mde,{...i,ref:e})})});bB.displayName=Au;var pde=E.forwardRef((n,e)=>{const t=$s(Au,n.__scopeDialog),r=E.useRef(null),i=it(e,t.contentRef,r);return E.useEffect(()=>{const s=r.current;if(s)return pB(s)},[]),f.jsx(SB,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ce(n.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=t.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ce(n.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:Ce(n.onFocusOutside,s=>s.preventDefault())})}),mde=E.forwardRef((n,e)=>{const t=$s(Au,n.__scopeDialog),r=E.useRef(!1),i=E.useRef(!1);return f.jsx(SB,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=n.onCloseAutoFocus)==null||o.call(n,s),s.defaultPrevented||(r.current||(a=t.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,c;(l=n.onInteractOutside)==null||l.call(n,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((c=t.triggerRef.current)==null?void 0:c.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),SB=E.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=n,a=$s(Au,t),l=E.useRef(null),c=it(e,l);return oB(),f.jsxs(f.Fragment,{children:[f.jsx(_R,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:f.jsx(Yx,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":AR(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),f.jsxs(f.Fragment,{children:[f.jsx(gde,{titleId:a.titleId}),f.jsx(yde,{contentRef:l,descriptionId:a.descriptionId})]})]})}),ER="DialogTitle",kB=E.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=$s(ER,t);return f.jsx(Ie.h2,{id:i.titleId,...r,ref:e})});kB.displayName=ER;var _B="DialogDescription",TB=E.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=$s(_B,t);return f.jsx(Ie.p,{id:i.descriptionId,...r,ref:e})});TB.displayName=_B;var PB="DialogClose",CB=E.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=$s(PB,t);return f.jsx(Ie.button,{type:"button",...r,ref:e,onClick:Ce(n.onClick,()=>i.onOpenChange(!1))})});CB.displayName=PB;function AR(n){return n?"open":"closed"}var EB="DialogTitleWarning",[YCe,AB]=xJ(EB,{contentName:Au,titleName:ER,docsSlug:"dialog"}),gde=({titleId:n})=>{const e=AB(EB),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return E.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},Ode="DialogDescriptionWarning",yde=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${AB(Ode).contentName}}.`;return E.useEffect(()=>{var s;const i=(s=n.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},vde=gB,wde=yB,xde=wB,RB=xB,QB=bB,$B=kB,IB=TB,bde=CB;const Om=vde,NB=wde,Sde=xde,jB=E.forwardRef(({className:n,...e},t)=>f.jsx(RB,{ref:t,className:Ee("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e}));jB.displayName=RB.displayName;const Yh=E.forwardRef(({className:n,children:e,...t},r)=>f.jsxs(Sde,{children:[f.jsx(jB,{}),f.jsxs(QB,{ref:r,className:Ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...t,children:[e,f.jsxs(bde,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[f.jsx(uA,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Yh.displayName=QB.displayName;const Hh=({className:n,...e})=>f.jsx("div",{className:Ee("flex flex-col space-y-1.5 text-center sm:text-left",n),...e});Hh.displayName="DialogHeader";const X0=({className:n,...e})=>f.jsx("div",{className:Ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...e});X0.displayName="DialogFooter";const Kh=E.forwardRef(({className:n,...e},t)=>f.jsx($B,{ref:t,className:Ee("text-lg font-semibold leading-none tracking-tight",n),...e}));Kh.displayName=$B.displayName;const Jh=E.forwardRef(({className:n,...e},t)=>f.jsx(IB,{ref:t,className:Ee("text-sm text-muted-foreground",n),...e}));Jh.displayName=IB.displayName;var kde="Label",DB=E.forwardRef((n,e)=>f.jsx(Ie.label,{...n,ref:e,onMouseDown:t=>{var i;t.target.closest("button, input, select, textarea")||((i=n.onMouseDown)==null||i.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));DB.displayName=kde;var MB=DB;const _de=fO("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Vd=E.forwardRef(({className:n,...e},t)=>f.jsx(MB,{ref:t,className:Ee(_de(),n),...e}));Vd.displayName=MB.displayName;const mg=Hce,VB=E.createContext({}),Un=({...n})=>f.jsx(VB.Provider,{value:{name:n.name},children:f.jsx(tue,{...n})}),Ib=()=>{const n=E.useContext(VB),e=E.useContext(LB),{getFieldState:t,formState:r}=Eb(),i=t(n.name,r);if(!n)throw new Error("useFormField should be used within <FormField>");const{id:s}=e;return{id:s,name:n.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},LB=E.createContext({}),Rn=E.forwardRef(({className:n,...e},t)=>{const r=E.useId();return f.jsx(LB.Provider,{value:{id:r},children:f.jsx("div",{ref:t,className:Ee("space-y-2",n),...e})})});Rn.displayName="FormItem";const fn=E.forwardRef(({className:n,...e},t)=>{const{error:r,formItemId:i}=Ib();return f.jsx(Vd,{ref:t,className:Ee(r&&"text-destructive",n),htmlFor:i,...e})});fn.displayName="FormLabel";const pn=E.forwardRef(({...n},e)=>{const{error:t,formItemId:r,formDescriptionId:i,formMessageId:s}=Ib();return f.jsx(Wl,{ref:e,id:r,"aria-describedby":t?`${i} ${s}`:`${i}`,"aria-invalid":!!t,...n})});pn.displayName="FormControl";const Tde=E.forwardRef(({className:n,...e},t)=>{const{formDescriptionId:r}=Ib();return f.jsx("p",{ref:t,id:r,className:Ee("text-sm text-muted-foreground",n),...e})});Tde.displayName="FormDescription";const Qn=E.forwardRef(({className:n,children:e,...t},r)=>{const{error:i,formMessageId:s}=Ib(),o=i?String(i==null?void 0:i.message):e;return o?f.jsx("p",{ref:r,id:s,className:Ee("text-sm font-medium text-destructive",n),...t,children:o}):null});Qn.displayName="FormMessage";const gg=E.forwardRef(({className:n,...e},t)=>f.jsx("textarea",{className:Ee("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...e}));gg.displayName="Textarea";let jT=[],zB=[];(()=>{let n="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,t=0;e<n.length;e++)(e%2?zB:jT).push(t=t+n[e])})();function Pde(n){if(n<768)return!1;for(let e=0,t=jT.length;;){let r=e+t>>1;if(n<jT[r])t=r;else if(n>=zB[r])e=r+1;else return!0;if(e==t)return!1}}function Vj(n){return n>=127462&&n<=127487}const Lj=8205;function Cde(n,e,t=!0,r=!0){return(t?UB:Ede)(n,e,r)}function UB(n,e,t){if(e==n.length)return e;e&&qB(n.charCodeAt(e))&&ZB(n.charCodeAt(e-1))&&e--;let r=_1(n,e);for(e+=zj(r);e<n.length;){let i=_1(n,e);if(r==Lj||i==Lj||t&&Pde(i))e+=zj(i),r=i;else if(Vj(i)){let s=0,o=e-2;for(;o>=0&&Vj(_1(n,o));)s++,o-=2;if(s%2==0)break;e+=2}else break}return e}function Ede(n,e,t){for(;e>0;){let r=UB(n,e-2,t);if(r<e)return r;e--}return 0}function _1(n,e){let t=n.charCodeAt(e);if(!ZB(t)||e+1==n.length)return t;let r=n.charCodeAt(e+1);return qB(r)?(t-55296<<10)+(r-56320)+65536:t}function qB(n){return n>=56320&&n<57344}function ZB(n){return n>=55296&&n<56320}function zj(n){return n<65536?1:2}class lt{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,r){[e,t]=Ld(this,e,t);let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(t,this.length,i,1),Hs.from(i,this.length-(t-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=Ld(this,e,t);let r=[];return this.decompose(e,t,r,0),Hs.from(r,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new ym(this),s=new ym(e);for(let o=t,a=t;;){if(i.next(o),s.next(o),o=0,i.lineBreak!=s.lineBreak||i.done!=s.done||i.value!=s.value)return!1;if(a+=i.value.length,i.done||a>=r)return!0}}iter(e=1){return new ym(this,e)}iterRange(e,t=this.length){return new BB(this,e,t)}iterLines(e,t){let r;if(e==null)r=this.iter();else{t==null&&(t=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new FB(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?lt.empty:e.length<=32?new hn(e):Hs.from(hn.split(e,[]))}}class hn extends lt{constructor(e,t=Ade(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,r,i){for(let s=0;;s++){let o=this.text[s],a=i+o.length;if((t?r:a)>=e)return new Rde(i,a,r,o);i=a+1,r++}}decompose(e,t,r,i){let s=e<=0&&t>=this.length?this:new hn(Uj(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(i&1){let o=r.pop(),a=G0(s.text,o.text.slice(),0,s.length);if(a.length<=32)r.push(new hn(a,o.length+s.length));else{let l=a.length>>1;r.push(new hn(a.slice(0,l)),new hn(a.slice(l)))}}else r.push(s)}replace(e,t,r){if(!(r instanceof hn))return super.replace(e,t,r);[e,t]=Ld(this,e,t);let i=G0(this.text,G0(r.text,Uj(this.text,0,e)),t),s=this.length+r.length-(t-e);return i.length<=32?new hn(i,s):Hs.from(hn.split(i,[]),s)}sliceString(e,t=this.length,r=`
`){[e,t]=Ld(this,e,t);let i="";for(let s=0,o=0;s<=t&&o<this.text.length;o++){let a=this.text[o],l=s+a.length;s>e&&o&&(i+=r),e<l&&t>s&&(i+=a.slice(Math.max(0,e-s),t-s)),s=l+1}return i}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let r=[],i=-1;for(let s of e)r.push(s),i+=s.length+1,r.length==32&&(t.push(new hn(r,i)),r=[],i=-1);return i>-1&&t.push(new hn(r,i)),t}}class Hs extends lt{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,t,r,i){for(let s=0;;s++){let o=this.children[s],a=i+o.length,l=r+o.lines-1;if((t?l:a)>=e)return o.lineInner(e,t,r,i);i=a+1,r=l+1}}decompose(e,t,r,i){for(let s=0,o=0;o<=t&&s<this.children.length;s++){let a=this.children[s],l=o+a.length;if(e<=l&&t>=o){let c=i&((o<=e?1:0)|(l>=t?2:0));o>=e&&l<=t&&!c?r.push(a):a.decompose(e-o,t-o,r,c)}o=l+1}}replace(e,t,r){if([e,t]=Ld(this,e,t),r.lines<this.lines)for(let i=0,s=0;i<this.children.length;i++){let o=this.children[i],a=s+o.length;if(e>=s&&t<=a){let l=o.replace(e-s,t-s,r),c=this.lines-o.lines+l.lines;if(l.lines<c>>4&&l.lines>c>>6){let u=this.children.slice();return u[i]=l,new Hs(u,this.length-(t-e)+r.length)}return super.replace(s,a,l)}s=a+1}return super.replace(e,t,r)}sliceString(e,t=this.length,r=`
`){[e,t]=Ld(this,e,t);let i="";for(let s=0,o=0;s<this.children.length&&o<=t;s++){let a=this.children[s],l=o+a.length;o>e&&s&&(i+=r),e<l&&t>o&&(i+=a.sliceString(e-o,t-o,r)),o=l+1}return i}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof Hs))return 0;let r=0,[i,s,o,a]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=t,s+=t){if(i==o||s==a)return r;let l=this.children[i],c=e.children[s];if(l!=c)return r+l.scanIdentical(c,t);r+=l.length+1}}static from(e,t=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let m of e)r+=m.lines;if(r<32){let m=[];for(let g of e)g.flatten(m);return new hn(m,t)}let i=Math.max(32,r>>5),s=i<<1,o=i>>1,a=[],l=0,c=-1,u=[];function h(m){let g;if(m.lines>s&&m instanceof Hs)for(let y of m.children)h(y);else m.lines>o&&(l>o||!l)?(d(),a.push(m)):m instanceof hn&&l&&(g=u[u.length-1])instanceof hn&&m.lines+g.lines<=32?(l+=m.lines,c+=m.length+1,u[u.length-1]=new hn(g.text.concat(m.text),g.length+1+m.length)):(l+m.lines>i&&d(),l+=m.lines,c+=m.length+1,u.push(m))}function d(){l!=0&&(a.push(u.length==1?u[0]:Hs.from(u,c)),c=-1,l=u.length=0)}for(let m of e)h(m);return d(),a.length==1?a[0]:new Hs(a,t)}}lt.empty=new hn([""],0);function Ade(n){let e=-1;for(let t of n)e+=t.length+1;return e}function G0(n,e,t=0,r=1e9){for(let i=0,s=0,o=!0;s<n.length&&i<=r;s++){let a=n[s],l=i+a.length;l>=t&&(l>r&&(a=a.slice(0,r-i)),i<t&&(a=a.slice(t-i)),o?(e[e.length-1]+=a,o=!1):e.push(a)),i=l+1}return e}function Uj(n,e,t){return G0(n,[""],e,t)}class ym{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof hn?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],s=this.offsets[r],o=s>>1,a=i instanceof hn?i.text.length:i.children.length;if(o==(t>0?a:0)){if(r==0)return this.done=!0,this.value="",this;t>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(t>0?0:1)){if(this.offsets[r]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof hn){let l=i.text[o+(t<0?-1:0)];if(this.offsets[r]+=t,l.length>Math.max(0,e))return this.value=e==0?l:t>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=i.children[o+(t<0?-1:0)];e>l.length?(e-=l.length,this.offsets[r]+=t):(t<0&&this.offsets[r]--,this.nodes.push(l),this.offsets.push(t>0?1:(l instanceof hn?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class BB{constructor(e,t,r){this.value="",this.done=!1,this.cursor=new ym(e,t>r?-1:1),this.pos=t>r?e.length:0,this.from=Math.min(t,r),this.to=Math.max(t,r)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let r=t<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*t,this.value=i.length<=r?i:t<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class FB{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:r,value:i}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(lt.prototype[Symbol.iterator]=function(){return this.iter()},ym.prototype[Symbol.iterator]=BB.prototype[Symbol.iterator]=FB.prototype[Symbol.iterator]=function(){return this});class Rde{constructor(e,t,r,i){this.from=e,this.to=t,this.number=r,this.text=i}get length(){return this.to-this.from}}function Ld(n,e,t){return e=Math.max(0,Math.min(n.length,e)),[e,Math.max(e,Math.min(n.length,t))]}function or(n,e,t=!0,r=!0){return Cde(n,e,t,r)}function Qde(n){return n>=56320&&n<57344}function $de(n){return n>=55296&&n<56320}function Hr(n,e){let t=n.charCodeAt(e);if(!$de(t)||e+1==n.length)return t;let r=n.charCodeAt(e+1);return Qde(r)?(t-55296<<10)+(r-56320)+65536:t}function RR(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}function Ks(n){return n<65536?1:2}const DT=/\r\n?|\n/;var In=function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n}(In||(In={}));class go{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t+1];e+=r<0?this.sections[t]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,r=0,i=0;t<this.sections.length;){let s=this.sections[t++],o=this.sections[t++];o<0?(e(r,i,s),i+=s):i+=o,r+=s}}iterChangedRanges(e,t=!1){MT(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let r=this.sections[t++],i=this.sections[t++];i<0?e.push(r,i):e.push(i,r)}return new go(e)}composeDesc(e){return this.empty?e:e.empty?this:WB(this,e)}mapDesc(e,t=!1){return e.empty?this:VT(this,e,t)}mapPos(e,t=-1,r=In.Simple){let i=0,s=0;for(let o=0;o<this.sections.length;){let a=this.sections[o++],l=this.sections[o++],c=i+a;if(l<0){if(c>e)return s+(e-i);s+=a}else{if(r!=In.Simple&&c>=e&&(r==In.TrackDel&&i<e&&c>e||r==In.TrackBefore&&i<e||r==In.TrackAfter&&c>e))return null;if(c>e||c==e&&t<0&&!a)return e==i||t<0?s:s+l;s+=l}i=c}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return s}touchesRange(e,t=e){for(let r=0,i=0;r<this.sections.length&&i<=t;){let s=this.sections[r++],o=this.sections[r++],a=i+s;if(o>=0&&i<=t&&a>=e)return i<e&&a>t?"cover":!0;i=a}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let r=this.sections[t++],i=this.sections[t++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new go(e)}static create(e){return new go(e)}}class En extends go{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return MT(this,(t,r,i,s,o)=>e=e.replace(i,i+(r-t),o),!1),e}mapDesc(e,t=!1){return VT(this,e,t,!0)}invert(e){let t=this.sections.slice(),r=[];for(let i=0,s=0;i<t.length;i+=2){let o=t[i],a=t[i+1];if(a>=0){t[i]=a,t[i+1]=o;let l=i>>1;for(;r.length<l;)r.push(lt.empty);r.push(o?e.slice(s,s+o):lt.empty)}s+=o}return new En(t,r)}compose(e){return this.empty?e:e.empty?this:WB(this,e,!0)}map(e,t=!1){return e.empty?this:VT(this,e,t,!0)}iterChanges(e,t=!1){MT(this,e,t)}get desc(){return go.create(this.sections)}filter(e){let t=[],r=[],i=[],s=new Og(this);e:for(let o=0,a=0;;){let l=o==e.length?1e9:e[o++];for(;a<l||a==l&&s.len==0;){if(s.done)break e;let u=Math.min(s.len,l-a);yr(i,u,-1);let h=s.ins==-1?-1:s.off==0?s.ins:0;yr(t,u,h),h>0&&_l(r,t,s.text),s.forward(u),a+=u}let c=e[o++];for(;a<c;){if(s.done)break e;let u=Math.min(s.len,c-a);yr(t,u,-1),yr(i,u,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(u),a+=u}}return{changes:new En(t,r),filtered:go.create(i)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t],i=this.sections[t+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,r){let i=[],s=[],o=0,a=null;function l(u=!1){if(!u&&!i.length)return;o<t&&yr(i,t-o,-1);let h=new En(i,s);a=a?a.compose(h.map(a)):h,i=[],s=[],o=0}function c(u){if(Array.isArray(u))for(let h of u)c(h);else if(u instanceof En){if(u.length!=t)throw new RangeError(`Mismatched change set length (got ${u.length}, expected ${t})`);l(),a=a?a.compose(u.map(a)):u}else{let{from:h,to:d=h,insert:m}=u;if(h>d||h<0||d>t)throw new RangeError(`Invalid change range ${h} to ${d} (in doc of length ${t})`);let g=m?typeof m=="string"?lt.of(m.split(r||DT)):m:lt.empty,y=g.length;if(h==d&&y==0)return;h<o&&l(),h>o&&yr(i,h-o,-1),yr(i,d-h,y),_l(s,i,g),o=d}}return c(e),l(!a),a}static empty(e){return new En(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],r=[];for(let i=0;i<e.length;i++){let s=e[i];if(typeof s=="number")t.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((o,a)=>a&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)t.push(s[0],0);else{for(;r.length<i;)r.push(lt.empty);r[i]=lt.of(s.slice(1)),t.push(s[0],r[i].length)}}}return new En(t,r)}static createSet(e,t){return new En(e,t)}}function yr(n,e,t,r=!1){if(e==0&&t<=0)return;let i=n.length-2;i>=0&&t<=0&&t==n[i+1]?n[i]+=e:i>=0&&e==0&&n[i]==0?n[i+1]+=t:r?(n[i]+=e,n[i+1]+=t):n.push(e,t)}function _l(n,e,t){if(t.length==0)return;let r=e.length-2>>1;if(r<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<r;)n.push(lt.empty);n.push(t)}}function MT(n,e,t){let r=n.inserted;for(let i=0,s=0,o=0;o<n.sections.length;){let a=n.sections[o++],l=n.sections[o++];if(l<0)i+=a,s+=a;else{let c=i,u=s,h=lt.empty;for(;c+=a,u+=l,l&&r&&(h=h.append(r[o-2>>1])),!(t||o==n.sections.length||n.sections[o+1]<0);)a=n.sections[o++],l=n.sections[o++];e(i,c,s,u,h),i=c,s=u}}}function VT(n,e,t,r=!1){let i=[],s=r?[]:null,o=new Og(n),a=new Og(e);for(let l=-1;;){if(o.done&&a.len||a.done&&o.len)throw new Error("Mismatched change set lengths");if(o.ins==-1&&a.ins==-1){let c=Math.min(o.len,a.len);yr(i,c,-1),o.forward(c),a.forward(c)}else if(a.ins>=0&&(o.ins<0||l==o.i||o.off==0&&(a.len<o.len||a.len==o.len&&!t))){let c=a.len;for(yr(i,a.ins,-1);c;){let u=Math.min(o.len,c);o.ins>=0&&l<o.i&&o.len<=u&&(yr(i,0,o.ins),s&&_l(s,i,o.text),l=o.i),o.forward(u),c-=u}a.next()}else if(o.ins>=0){let c=0,u=o.len;for(;u;)if(a.ins==-1){let h=Math.min(u,a.len);c+=h,u-=h,a.forward(h)}else if(a.ins==0&&a.len<u)u-=a.len,a.next();else break;yr(i,c,l<o.i?o.ins:0),s&&l<o.i&&_l(s,i,o.text),l=o.i,o.forward(o.len-u)}else{if(o.done&&a.done)return s?En.createSet(i,s):go.create(i);throw new Error("Mismatched change set lengths")}}}function WB(n,e,t=!1){let r=[],i=t?[]:null,s=new Og(n),o=new Og(e);for(let a=!1;;){if(s.done&&o.done)return i?En.createSet(r,i):go.create(r);if(s.ins==0)yr(r,s.len,0,a),s.next();else if(o.len==0&&!o.done)yr(r,0,o.ins,a),i&&_l(i,r,o.text),o.next();else{if(s.done||o.done)throw new Error("Mismatched change set lengths");{let l=Math.min(s.len2,o.len),c=r.length;if(s.ins==-1){let u=o.ins==-1?-1:o.off?0:o.ins;yr(r,l,u,a),i&&u&&_l(i,r,o.text)}else o.ins==-1?(yr(r,s.off?0:s.len,l,a),i&&_l(i,r,s.textBit(l))):(yr(r,s.off?0:s.len,o.off?0:o.ins,a),i&&!o.off&&_l(i,r,o.text));a=(s.ins>l||o.ins>=0&&o.len>l)&&(a||r.length>c),s.forward2(l),o.forward(l)}}}}class Og{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?lt.empty:e[t]}textBit(e){let{inserted:t}=this.set,r=this.i-2>>1;return r>=t.length&&!e?lt.empty:t[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Kc{constructor(e,t,r){this.from=e,this.to=t,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,t):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new Kc(r,i,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return J.range(e,t);let r=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return J.range(this.anchor,r)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return J.range(e.anchor,e.head)}static create(e,t,r){return new Kc(e,t,r)}}class J{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:J.create(this.ranges.map(r=>r.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new J([this.main],0)}addRange(e,t=!0){return J.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let r=this.ranges.slice();return r[t]=e,J.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new J(e.ranges.map(t=>Kc.fromJSON(t)),e.main)}static single(e,t=e){return new J([J.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let s=e[i];if(s.empty?s.from<=r:s.from<r)return J.normalized(e.slice(),t);r=s.to}return new J(e,t)}static cursor(e,t=0,r,i){return Kc.create(e,e,(t==0?0:t<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(e,t,r,i){let s=(r??16777215)<<6|(i==null?7:Math.min(6,i));return t<e?Kc.create(t,e,48|s):Kc.create(e,t,(t>e?8:0)|s)}static normalized(e,t=0){let r=e[t];e.sort((i,s)=>i.from-s.from),t=e.indexOf(r);for(let i=1;i<e.length;i++){let s=e[i],o=e[i-1];if(s.empty?s.from<=o.to:s.from<o.to){let a=o.from,l=Math.max(s.to,o.to);i<=t&&t--,e.splice(--i,2,s.anchor>s.head?J.range(l,a):J.range(a,l))}}return new J(e,t)}}function XB(n,e){for(let t of n.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let QR=0;class ce{constructor(e,t,r,i,s){this.combine=e,this.compareInput=t,this.compare=r,this.isStatic=i,this.id=QR++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(e={}){return new ce(e.combine||(t=>t),e.compareInput||((t,r)=>t===r),e.compare||(e.combine?(t,r)=>t===r:$R),!!e.static,e.enables)}of(e){return new Y0([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Y0(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Y0(e,this,2,t)}from(e,t){return t||(t=r=>r),this.compute([e],r=>t(r.field(e)))}}function $R(n,e){return n==e||n.length==e.length&&n.every((t,r)=>t===e[r])}class Y0{constructor(e,t,r,i){this.dependencies=e,this.facet=t,this.type=r,this.value=i,this.id=QR++}dynamicSlot(e){var t;let r=this.value,i=this.facet.compareInput,s=this.id,o=e[s]>>1,a=this.type==2,l=!1,c=!1,u=[];for(let h of this.dependencies)h=="doc"?l=!0:h=="selection"?c=!0:((t=e[h.id])!==null&&t!==void 0?t:1)&1||u.push(e[h.id]);return{create(h){return h.values[o]=r(h),1},update(h,d){if(l&&d.docChanged||c&&(d.docChanged||d.selection)||LT(h,u)){let m=r(h);if(a?!qj(m,h.values[o],i):!i(m,h.values[o]))return h.values[o]=m,1}return 0},reconfigure:(h,d)=>{let m,g=d.config.address[s];if(g!=null){let y=zw(d,g);if(this.dependencies.every(v=>v instanceof ce?d.facet(v)===h.facet(v):v instanceof Bt?d.field(v,!1)==h.field(v,!1):!0)||(a?qj(m=r(h),y,i):i(m=r(h),y)))return h.values[o]=y,0}else m=r(h);return h.values[o]=m,1}}}}function qj(n,e,t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!t(n[r],e[r]))return!1;return!0}function LT(n,e){let t=!1;for(let r of e)vm(n,r)&1&&(t=!0);return t}function Ide(n,e,t){let r=t.map(l=>n[l.id]),i=t.map(l=>l.type),s=r.filter(l=>!(l&1)),o=n[e.id]>>1;function a(l){let c=[];for(let u=0;u<r.length;u++){let h=zw(l,r[u]);if(i[u]==2)for(let d of h)c.push(d);else c.push(h)}return e.combine(c)}return{create(l){for(let c of r)vm(l,c);return l.values[o]=a(l),1},update(l,c){if(!LT(l,s))return 0;let u=a(l);return e.compare(u,l.values[o])?0:(l.values[o]=u,1)},reconfigure(l,c){let u=LT(l,r),h=c.config.facets[e.id],d=c.facet(e);if(h&&!u&&$R(t,h))return l.values[o]=d,0;let m=a(l);return e.compare(m,d)?(l.values[o]=d,0):(l.values[o]=m,1)}}}const Ly=ce.define({static:!0});class Bt{constructor(e,t,r,i,s){this.id=e,this.createF=t,this.updateF=r,this.compareF=i,this.spec=s,this.provides=void 0}static define(e){let t=new Bt(QR++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(Ly).find(r=>r.field==this);return((t==null?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:r=>(r.values[t]=this.create(r),1),update:(r,i)=>{let s=r.values[t],o=this.updateF(s,i);return this.compareF(s,o)?0:(r.values[t]=o,1)},reconfigure:(r,i)=>{let s=r.facet(Ly),o=i.facet(Ly),a;return(a=s.find(l=>l.field==this))&&a!=o.find(l=>l.field==this)?(r.values[t]=a.create(r),1):i.config.address[this.id]!=null?(r.values[t]=i.field(this),0):(r.values[t]=this.create(r),1)}}}init(e){return[this,Ly.of({field:this,create:e})]}get extension(){return this}}const Bc={lowest:4,low:3,default:2,high:1,highest:0};function lp(n){return e=>new GB(e,n)}const za={highest:lp(Bc.highest),high:lp(Bc.high),default:lp(Bc.default),low:lp(Bc.low),lowest:lp(Bc.lowest)};class GB{constructor(e,t){this.inner=e,this.prec=t}}class Nb{of(e){return new zT(this,e)}reconfigure(e){return Nb.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class zT{constructor(e,t){this.compartment=e,this.inner=t}}class Lw{constructor(e,t,r,i,s,o){for(this.base=e,this.compartments=t,this.dynamicSlots=r,this.address=i,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,r){let i=[],s=Object.create(null),o=new Map;for(let d of Nde(e,t,o))d instanceof Bt?i.push(d):(s[d.facet.id]||(s[d.facet.id]=[])).push(d);let a=Object.create(null),l=[],c=[];for(let d of i)a[d.id]=c.length<<1,c.push(m=>d.slot(m));let u=r==null?void 0:r.config.facets;for(let d in s){let m=s[d],g=m[0].facet,y=u&&u[d]||[];if(m.every(v=>v.type==0))if(a[g.id]=l.length<<1|1,$R(y,m))l.push(r.facet(g));else{let v=g.combine(m.map(S=>S.value));l.push(r&&g.compare(v,r.facet(g))?r.facet(g):v)}else{for(let v of m)v.type==0?(a[v.id]=l.length<<1|1,l.push(v.value)):(a[v.id]=c.length<<1,c.push(S=>v.dynamicSlot(S)));a[g.id]=c.length<<1,c.push(v=>Ide(v,g,m))}}let h=c.map(d=>d(a));return new Lw(e,o,h,a,l,s)}}function Nde(n,e,t){let r=[[],[],[],[],[]],i=new Map;function s(o,a){let l=i.get(o);if(l!=null){if(l<=a)return;let c=r[l].indexOf(o);c>-1&&r[l].splice(c,1),o instanceof zT&&t.delete(o.compartment)}if(i.set(o,a),Array.isArray(o))for(let c of o)s(c,a);else if(o instanceof zT){if(t.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let c=e.get(o.compartment)||o.inner;t.set(o.compartment,c),s(c,a)}else if(o instanceof GB)s(o.inner,o.prec);else if(o instanceof Bt)r[a].push(o),o.provides&&s(o.provides,a);else if(o instanceof Y0)r[a].push(o),o.facet.extensions&&s(o.facet.extensions,Bc.default);else{let c=o.extension;if(!c)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(c,a)}}return s(n,Bc.default),r.reduce((o,a)=>o.concat(a))}function vm(n,e){if(e&1)return 2;let t=e>>1,r=n.status[t];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;n.status[t]=4;let i=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|i}function zw(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const YB=ce.define(),UT=ce.define({combine:n=>n.some(e=>e),static:!0}),HB=ce.define({combine:n=>n.length?n[0]:void 0,static:!0}),KB=ce.define(),JB=ce.define(),eF=ce.define(),tF=ce.define({combine:n=>n.length?n[0]:!1});class Is{constructor(e,t){this.type=e,this.value=t}static define(){return new jde}}class jde{of(e){return new Is(this,e)}}class Dde{constructor(e){this.map=e}of(e){return new $e(this,e)}}class $e{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new $e(this.type,t)}is(e){return this.type==e}static define(e={}){return new Dde(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let r=[];for(let i of e){let s=i.map(t);s&&r.push(s)}return r}}$e.reconfigure=$e.define();$e.appendConfig=$e.define();class gn{constructor(e,t,r,i,s,o){this.startState=e,this.changes=t,this.selection=r,this.effects=i,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,r&&XB(r,t.newLength),s.some(a=>a.type==gn.time)||(this.annotations=s.concat(gn.time.of(Date.now())))}static create(e,t,r,i,s,o){return new gn(e,t,r,i,s,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(gn.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}gn.time=Is.define();gn.userEvent=Is.define();gn.addToHistory=Is.define();gn.remote=Is.define();function Mde(n,e){let t=[];for(let r=0,i=0;;){let s,o;if(r<n.length&&(i==e.length||e[i]>=n[r]))s=n[r++],o=n[r++];else if(i<e.length)s=e[i++],o=e[i++];else return t;!t.length||t[t.length-1]<s?t.push(s,o):t[t.length-1]<o&&(t[t.length-1]=o)}}function nF(n,e,t){var r;let i,s,o;return t?(i=e.changes,s=En.empty(e.changes.length),o=n.changes.compose(e.changes)):(i=e.changes.map(n.changes),s=n.changes.mapDesc(e.changes,!0),o=n.changes.compose(i)),{changes:o,selection:e.selection?e.selection.map(s):(r=n.selection)===null||r===void 0?void 0:r.map(i),effects:$e.mapEffects(n.effects,i).concat($e.mapEffects(e.effects,s)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function qT(n,e,t){let r=e.selection,i=ed(e.annotations);return e.userEvent&&(i=i.concat(gn.userEvent.of(e.userEvent))),{changes:e.changes instanceof En?e.changes:En.of(e.changes||[],t,n.facet(HB)),selection:r&&(r instanceof J?r:J.single(r.anchor,r.head)),effects:ed(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function rF(n,e,t){let r=qT(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(t=!1);let o=!!e[s].sequential;r=nF(r,qT(n,e[s],o?r.changes.newLength:n.doc.length),o)}let i=gn.create(n,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return Lde(t?Vde(i):i)}function Vde(n){let e=n.startState,t=!0;for(let i of e.facet(KB)){let s=i(n);if(s===!1){t=!1;break}Array.isArray(s)&&(t=t===!0?s:Mde(t,s))}if(t!==!0){let i,s;if(t===!1)s=n.changes.invertedDesc,i=En.empty(e.doc.length);else{let o=n.changes.filter(t);i=o.changes,s=o.filtered.mapDesc(o.changes).invertedDesc}n=gn.create(e,i,n.selection&&n.selection.map(s),$e.mapEffects(n.effects,s),n.annotations,n.scrollIntoView)}let r=e.facet(JB);for(let i=r.length-1;i>=0;i--){let s=r[i](n);s instanceof gn?n=s:Array.isArray(s)&&s.length==1&&s[0]instanceof gn?n=s[0]:n=rF(e,ed(s),!1)}return n}function Lde(n){let e=n.startState,t=e.facet(eF),r=n;for(let i=t.length-1;i>=0;i--){let s=t[i](n);s&&Object.keys(s).length&&(r=nF(r,qT(e,s,n.changes.newLength),!0))}return r==n?n:gn.create(e,n.changes,n.selection,r.effects,r.annotations,r.scrollIntoView)}const zde=[];function ed(n){return n==null?zde:Array.isArray(n)?n:[n]}var Wt=function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n}(Wt||(Wt={}));const Ude=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let ZT;try{ZT=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function qde(n){if(ZT)return ZT.test(n);for(let e=0;e<n.length;e++){let t=n[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||Ude.test(t)))return!0}return!1}function Zde(n){return e=>{if(!/\S/.test(e))return Wt.Space;if(qde(e))return Wt.Word;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return Wt.Word;return Wt.Other}}class Ne{constructor(e,t,r,i,s,o){this.config=e,this.doc=t,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)vm(this,a<<1);this.computeSlot=null}field(e,t=!0){let r=this.config.address[e.id];if(r==null){if(t)throw new RangeError("Field is not present in this state");return}return vm(this,r),zw(this,r)}update(...e){return rF(this,e,!0)}applyTransaction(e){let t=this.config,{base:r,compartments:i}=t;for(let a of e.effects)a.is(Nb.reconfigure)?(t&&(i=new Map,t.compartments.forEach((l,c)=>i.set(c,l)),t=null),i.set(a.value.compartment,a.value.extension)):a.is($e.reconfigure)?(t=null,r=a.value):a.is($e.appendConfig)&&(t=null,r=ed(r).concat(a.value));let s;t?s=e.startState.values.slice():(t=Lw.resolve(r,i,this),s=new Ne(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(l,c)=>c.reconfigure(l,this),null).values);let o=e.startState.facet(UT)?e.newSelection:e.newSelection.asSingle();new Ne(t,e.newDoc,o,s,(a,l)=>l.update(a,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:J.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,r=e(t.ranges[0]),i=this.changes(r.changes),s=[r.range],o=ed(r.effects);for(let a=1;a<t.ranges.length;a++){let l=e(t.ranges[a]),c=this.changes(l.changes),u=c.map(i);for(let d=0;d<a;d++)s[d]=s[d].map(u);let h=i.mapDesc(c,!0);s.push(l.range.map(h)),i=i.compose(u),o=$e.mapEffects(o,u).concat($e.mapEffects(ed(l.effects),h))}return{changes:i,selection:J.create(s,t.mainIndex),effects:o}}changes(e=[]){return e instanceof En?e:En.of(e,this.doc.length,this.facet(Ne.lineSeparator))}toText(e){return lt.of(e.split(this.facet(Ne.lineSeparator)||DT))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(vm(this,t),zw(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof Bt&&this.config.address[i.id]!=null&&(t[r]=i.spec.toJSON(this.field(e[r]),this))}return t}static fromJSON(e,t={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let s in r)if(Object.prototype.hasOwnProperty.call(e,s)){let o=r[s],a=e[s];i.push(o.init(l=>o.spec.fromJSON(a,l)))}}return Ne.create({doc:e.doc,selection:J.fromJSON(e.selection),extensions:t.extensions?i.concat([t.extensions]):i})}static create(e={}){let t=Lw.resolve(e.extensions||[],new Map),r=e.doc instanceof lt?e.doc:lt.of((e.doc||"").split(t.staticFacet(Ne.lineSeparator)||DT)),i=e.selection?e.selection instanceof J?e.selection:J.single(e.selection.anchor,e.selection.head):J.single(0);return XB(i,r.length),t.staticFacet(UT)||(i=i.asSingle()),new Ne(t,r,i,t.dynamicSlots.map(()=>null),(s,o)=>o.create(s),null)}get tabSize(){return this.facet(Ne.tabSize)}get lineBreak(){return this.facet(Ne.lineSeparator)||`
`}get readOnly(){return this.facet(tF)}phrase(e,...t){for(let r of this.facet(Ne.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let s=+(i||1);return!s||s>t.length?r:t[s-1]})),e}languageDataAt(e,t,r=-1){let i=[];for(let s of this.facet(YB))for(let o of s(this,t,r))Object.prototype.hasOwnProperty.call(o,e)&&i.push(o[e]);return i}charCategorizer(e){return Zde(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:r,length:i}=this.doc.lineAt(e),s=this.charCategorizer(e),o=e-r,a=e-r;for(;o>0;){let l=or(t,o,!1);if(s(t.slice(l,o))!=Wt.Word)break;o=l}for(;a<i;){let l=or(t,a);if(s(t.slice(a,l))!=Wt.Word)break;a=l}return o==a?null:J.range(o+r,a+r)}}Ne.allowMultipleSelections=UT;Ne.tabSize=ce.define({combine:n=>n.length?n[0]:4});Ne.lineSeparator=HB;Ne.readOnly=tF;Ne.phrases=ce.define({compare(n,e){let t=Object.keys(n),r=Object.keys(e);return t.length==r.length&&t.every(i=>n[i]==e[i])}});Ne.languageData=YB;Ne.changeFilter=KB;Ne.transactionFilter=JB;Ne.transactionExtender=eF;Nb.reconfigure=$e.define();function Vo(n,e,t={}){let r={};for(let i of n)for(let s of Object.keys(i)){let o=i[s],a=r[s];if(a===void 0)r[s]=o;else if(!(a===o||o===void 0))if(Object.hasOwnProperty.call(t,s))r[s]=t[s](a,o);else throw new Error("Config merge conflict for field "+s)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class ko{eq(e){return this==e}range(e,t=e){return BT.create(e,t,this)}}ko.prototype.startSide=ko.prototype.endSide=0;ko.prototype.point=!1;ko.prototype.mapMode=In.TrackDel;let BT=class iF{constructor(e,t,r){this.from=e,this.to=t,this.value=r}static create(e,t,r){return new iF(e,t,r)}};function FT(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class IR{constructor(e,t,r,i){this.from=e,this.to=t,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,t,r,i=0){let s=r?this.to:this.from;for(let o=i,a=s.length;;){if(o==a)return o;let l=o+a>>1,c=s[l]-e||(r?this.value[l].endSide:this.value[l].startSide)-t;if(l==o)return c>=0?o:a;c>=0?a=l:o=l+1}}between(e,t,r,i){for(let s=this.findIndex(t,-1e9,!0),o=this.findIndex(r,1e9,!1,s);s<o;s++)if(i(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,t){let r=[],i=[],s=[],o=-1,a=-1;for(let l=0;l<this.value.length;l++){let c=this.value[l],u=this.from[l]+e,h=this.to[l]+e,d,m;if(u==h){let g=t.mapPos(u,c.startSide,c.mapMode);if(g==null||(d=m=g,c.startSide!=c.endSide&&(m=t.mapPos(u,c.endSide),m<d)))continue}else if(d=t.mapPos(u,c.startSide),m=t.mapPos(h,c.endSide),d>m||d==m&&c.startSide>0&&c.endSide<=0)continue;(m-d||c.endSide-c.startSide)<0||(o<0&&(o=d),c.point&&(a=Math.max(a,m-d)),r.push(c),i.push(d-o),s.push(m-o))}return{mapped:r.length?new IR(i,s,r,a):null,pos:o}}}class ft{constructor(e,t,r,i){this.chunkPos=e,this.chunk=t,this.nextLayer=r,this.maxPoint=i}static create(e,t,r,i){return new ft(e,t,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:r=!1,filterFrom:i=0,filterTo:s=this.length}=e,o=e.filter;if(t.length==0&&!o)return this;if(r&&(t=t.slice().sort(FT)),this.isEmpty)return t.length?ft.of(t):this;let a=new sF(this,null,-1).goto(0),l=0,c=[],u=new Aa;for(;a.value||l<t.length;)if(l<t.length&&(a.from-t[l].from||a.startSide-t[l].value.startSide)>=0){let h=t[l++];u.addInner(h.from,h.to,h.value)||c.push(h)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==t.length||this.chunkEnd(a.chunkIndex)<t[l].from)&&(!o||i>this.chunkEnd(a.chunkIndex)||s<this.chunkPos[a.chunkIndex])&&u.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!o||i>a.to||s<a.from||o(a.from,a.to,a.value))&&(u.addInner(a.from,a.to,a.value)||c.push(BT.create(a.from,a.to,a.value))),a.next());return u.finishInner(this.nextLayer.isEmpty&&!c.length?ft.empty:this.nextLayer.update({add:c,filter:o,filterFrom:i,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],r=[],i=-1;for(let o=0;o<this.chunk.length;o++){let a=this.chunkPos[o],l=this.chunk[o],c=e.touchesRange(a,a+l.length);if(c===!1)i=Math.max(i,l.maxPoint),t.push(l),r.push(e.mapPos(a));else if(c===!0){let{mapped:u,pos:h}=l.map(a,e);u&&(i=Math.max(i,u.maxPoint),t.push(u),r.push(h))}}let s=this.nextLayer.map(e);return t.length==0?s:new ft(r,t,s||ft.empty,i)}between(e,t,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let s=this.chunkPos[i],o=this.chunk[i];if(t>=s&&e<=s+o.length&&o.between(s,e-s,t-s,r)===!1)return}this.nextLayer.between(e,t,r)}}iter(e=0){return yg.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return yg.from(e).goto(t)}static compare(e,t,r,i,s=-1){let o=e.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=s),a=t.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=s),l=Zj(o,a,r),c=new cp(o,l,s),u=new cp(a,l,s);r.iterGaps((h,d,m)=>Bj(c,h,u,d,m,i)),r.empty&&r.length==0&&Bj(c,0,u,0,0,i)}static eq(e,t,r=0,i){i==null&&(i=999999999);let s=e.filter(u=>!u.isEmpty&&t.indexOf(u)<0),o=t.filter(u=>!u.isEmpty&&e.indexOf(u)<0);if(s.length!=o.length)return!1;if(!s.length)return!0;let a=Zj(s,o),l=new cp(s,a,0).goto(r),c=new cp(o,a,0).goto(r);for(;;){if(l.to!=c.to||!WT(l.active,c.active)||l.point&&(!c.point||!l.point.eq(c.point)))return!1;if(l.to>i)return!0;l.next(),c.next()}}static spans(e,t,r,i,s=-1){let o=new cp(e,null,s).goto(t),a=t,l=o.openStart;for(;;){let c=Math.min(o.to,r);if(o.point){let u=o.activeForPoint(o.to),h=o.pointFrom<t?u.length+1:o.point.startSide<0?u.length:Math.min(u.length,l);i.point(a,c,o.point,u,h,o.pointRank),l=Math.min(o.openEnd(c),u.length)}else c>a&&(i.span(a,c,o.active,l),l=o.openEnd(c));if(o.to>r)return l+(o.point&&o.to>r?1:0);a=o.to,o.next()}}static of(e,t=!1){let r=new Aa;for(let i of e instanceof BT?[e]:t?Bde(e):e)r.add(i.from,i.to,i.value);return r.finish()}static join(e){if(!e.length)return ft.empty;let t=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let i=e[r];i!=ft.empty;i=i.nextLayer)t=new ft(i.chunkPos,i.chunk,t,Math.max(i.maxPoint,t.maxPoint));return t}}ft.empty=new ft([],[],null,-1);function Bde(n){if(n.length>1)for(let e=n[0],t=1;t<n.length;t++){let r=n[t];if(FT(e,r)>0)return n.slice().sort(FT);e=r}return n}ft.empty.nextLayer=ft.empty;class Aa{finishChunk(e){this.chunks.push(new IR(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,r){this.addInner(e,t,r)||(this.nextLayer||(this.nextLayer=new Aa)).add(e,t,r)}addInner(e,t,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=t,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let r=t.value.length-1;return this.last=t.value[r],this.lastFrom=t.from[r]+e,this.lastTo=t.to[r]+e,!0}finish(){return this.finishInner(ft.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=ft.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function Zj(n,e,t){let r=new Map;for(let s of n)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&r.set(s.chunk[o],s.chunkPos[o]);let i=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let a=r.get(s.chunk[o]);a!=null&&(t?t.mapPos(a):a)==s.chunkPos[o]&&!(t!=null&&t.touchesRange(a,a+s.chunk[o].length))&&i.add(s.chunk[o])}return i}class sF{constructor(e,t,r,i=0){this.layer=e,this.skip=t,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],r=e+t.from[this.rangeIndex];if(this.from=r,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class yg{constructor(e){this.heap=e}static from(e,t=null,r=-1){let i=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=r&&i.push(new sF(o,t,r,s));return i.length==1?i[0]:new yg(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let r of this.heap)r.goto(e,t);for(let r=this.heap.length>>1;r>=0;r--)T1(this.heap,r);return this.next(),this}forward(e,t){for(let r of this.heap)r.forward(e,t);for(let r=this.heap.length>>1;r>=0;r--)T1(this.heap,r);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),T1(this.heap,0)}}}function T1(n,e){for(let t=n[e];;){let r=(e<<1)+1;if(r>=n.length)break;let i=n[r];if(r+1<n.length&&i.compare(n[r+1])>=0&&(i=n[r+1],r++),t.compare(i)<0)break;n[r]=t,n[e]=i,e=r}}class cp{constructor(e,t,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=yg.from(e,t,r)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){zy(this.active,e),zy(this.activeTo,e),zy(this.activeRank,e),this.minActive=Fj(this.active,this.activeTo)}addActive(e){let t=0,{value:r,to:i,rank:s}=this.cursor;for(;t<this.activeRank.length&&(s-this.activeRank[t]||i-this.activeTo[t])>0;)t++;Uy(this.active,t,r),Uy(this.activeTo,t,i),Uy(this.activeRank,t,s),e&&Uy(e,t,this.cursor.from),this.minActive=Fj(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&zy(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(r),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&t.push(this.active[r]);return t.reverse()}openEnd(e){let t=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)t++;return t}}function Bj(n,e,t,r,i,s){n.goto(e),t.goto(r);let o=r+i,a=r,l=r-e;for(;;){let c=n.to+l-t.to,u=c||n.endSide-t.endSide,h=u<0?n.to+l:t.to,d=Math.min(h,o);if(n.point||t.point?n.point&&t.point&&(n.point==t.point||n.point.eq(t.point))&&WT(n.activeForPoint(n.to),t.activeForPoint(t.to))||s.comparePoint(a,d,n.point,t.point):d>a&&!WT(n.active,t.active)&&s.compareRange(a,d,n.active,t.active),h>o)break;(c||n.openEnd!=t.openEnd)&&s.boundChange&&s.boundChange(h),a=h,u<=0&&n.next(),u>=0&&t.next()}}function WT(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t]&&!n[t].eq(e[t]))return!1;return!0}function zy(n,e){for(let t=e,r=n.length-1;t<r;t++)n[t]=n[t+1];n.pop()}function Uy(n,e,t){for(let r=n.length-1;r>=e;r--)n[r+1]=n[r];n[e]=t}function Fj(n,e){let t=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||n[i].endSide-n[t].endSide)<0&&(t=i,r=e[i]);return t}function Tf(n,e,t=n.length){let r=0;for(let i=0;i<t&&i<n.length;)n.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=or(n,i));return r}function XT(n,e,t,r){for(let i=0,s=0;;){if(s>=e)return i;if(i==n.length)break;s+=n.charCodeAt(i)==9?t-s%t:1,i=or(n,i)}return r===!0?-1:n.length}const GT="",Wj=typeof Symbol>"u"?"__"+GT:Symbol.for(GT),YT=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),Xj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class _n{constructor(e,t){this.rules=[];let{finish:r}=t||{};function i(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function s(o,a,l,c){let u=[],h=/^@(\w+)\b/.exec(o[0]),d=h&&h[1]=="keyframes";if(h&&a==null)return l.push(o[0]+";");for(let m in a){let g=a[m];if(/&/.test(m))s(m.split(/,\s*/).map(y=>o.map(v=>y.replace(/&/,v))).reduce((y,v)=>y.concat(v)),g,l);else if(g&&typeof g=="object"){if(!h)throw new RangeError("The value of a property ("+m+") should be a primitive value.");s(i(m),g,u,d)}else g!=null&&u.push(m.replace(/_.*/,"").replace(/[A-Z]/g,y=>"-"+y.toLowerCase())+": "+g+";")}(u.length||d)&&l.push((r&&!h&&!c?o.map(r):o).join(", ")+" {"+u.join(" ")+"}")}for(let o in e)s(i(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=Xj[Wj]||1;return Xj[Wj]=e+1,GT+e.toString(36)}static mount(e,t,r){let i=e[YT],s=r&&r.nonce;i?s&&i.setNonce(s):i=new Fde(e,s),i.mount(Array.isArray(t)?t:[t],e)}}let Gj=new Map;class Fde{constructor(e,t){let r=e.ownerDocument||e,i=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let s=Gj.get(r);if(s)return e[YT]=s;this.sheet=new i.CSSStyleSheet,Gj.set(r,this)}else this.styleTag=r.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[YT]=this}mount(e,t){let r=this.sheet,i=0,s=0;for(let o=0;o<e.length;o++){let a=e[o],l=this.modules.indexOf(a);if(l<s&&l>-1&&(this.modules.splice(l,1),s--,l=-1),l==-1){if(this.modules.splice(s++,0,a),r)for(let c=0;c<a.rules.length;c++)r.insertRule(a.rules[c],i++)}else{for(;s<l;)i+=this.modules[s++].rules.length;i+=a.rules.length,s++}}if(r)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let o="";for(let l=0;l<this.modules.length;l++)o+=this.modules[l].getRules()+`
`;this.styleTag.textContent=o;let a=t.head||t;this.styleTag.parentNode!=a&&a.insertBefore(this.styleTag,a.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var ac={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},vg={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Wde=typeof navigator<"u"&&/Mac/.test(navigator.platform),Xde=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Jn=0;Jn<10;Jn++)ac[48+Jn]=ac[96+Jn]=String(Jn);for(var Jn=1;Jn<=24;Jn++)ac[Jn+111]="F"+Jn;for(var Jn=65;Jn<=90;Jn++)ac[Jn]=String.fromCharCode(Jn+32),vg[Jn]=String.fromCharCode(Jn);for(var P1 in ac)vg.hasOwnProperty(P1)||(vg[P1]=ac[P1]);function Gde(n){var e=Wde&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||Xde&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?vg:ac)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function wg(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function HT(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function H0(n,e){if(!e.anchorNode)return!1;try{return HT(n,e.anchorNode)}catch{return!1}}function xg(n){return n.nodeType==3?Qu(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function wm(n,e,t,r){return t?Yj(n,e,t,r,-1)||Yj(n,e,t,r,1):!1}function Ru(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function Uw(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}function Yj(n,e,t,r,i){for(;;){if(n==t&&e==r)return!0;if(e==(i<0?0:_o(n))){if(n.nodeName=="DIV")return!1;let s=n.parentNode;if(!s||s.nodeType!=1)return!1;e=Ru(n)+(i<0?0:1),n=s}else if(n.nodeType==1){if(n=n.childNodes[e+(i<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=i<0?_o(n):0}else return!1}}function _o(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function jb(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function Yde(n){let e=n.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function oF(n,e){let t=e.width/n.offsetWidth,r=e.height/n.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-n.offsetWidth)<1)&&(t=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-n.offsetHeight)<1)&&(r=1),{scaleX:t,scaleY:r}}function Hde(n,e,t,r,i,s,o,a){let l=n.ownerDocument,c=l.defaultView||window;for(let u=n,h=!1;u&&!h;)if(u.nodeType==1){let d,m=u==l.body,g=1,y=1;if(m)d=Yde(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(u).position)&&(h=!0),u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.assignedSlot||u.parentNode;continue}let b=u.getBoundingClientRect();({scaleX:g,scaleY:y}=oF(u,b)),d={left:b.left,right:b.left+u.clientWidth*g,top:b.top,bottom:b.top+u.clientHeight*y}}let v=0,S=0;if(i=="nearest")e.top<d.top?(S=e.top-(d.top+o),t>0&&e.bottom>d.bottom+S&&(S=e.bottom-d.bottom+o)):e.bottom>d.bottom&&(S=e.bottom-d.bottom+o,t<0&&e.top-S<d.top&&(S=e.top-(d.top+o)));else{let b=e.bottom-e.top,k=d.bottom-d.top;S=(i=="center"&&b<=k?e.top+b/2-k/2:i=="start"||i=="center"&&t<0?e.top-o:e.bottom-k+o)-d.top}if(r=="nearest"?e.left<d.left?(v=e.left-(d.left+s),t>0&&e.right>d.right+v&&(v=e.right-d.right+s)):e.right>d.right&&(v=e.right-d.right+s,t<0&&e.left<d.left+v&&(v=e.left-(d.left+s))):v=(r=="center"?e.left+(e.right-e.left)/2-(d.right-d.left)/2:r=="start"==a?e.left-s:e.right-(d.right-d.left)+s)-d.left,v||S)if(m)c.scrollBy(v,S);else{let b=0,k=0;if(S){let $=u.scrollTop;u.scrollTop+=S/y,k=(u.scrollTop-$)*y}if(v){let $=u.scrollLeft;u.scrollLeft+=v/g,b=(u.scrollLeft-$)*g}e={left:e.left-b,top:e.top-k,right:e.right-b,bottom:e.bottom-k},b&&Math.abs(b-v)<1&&(r="nearest"),k&&Math.abs(k-S)<1&&(i="nearest")}if(m)break;(e.top<d.top||e.bottom>d.bottom||e.left<d.left||e.right>d.right)&&(e={left:Math.max(e.left,d.left),right:Math.min(e.right,d.right),top:Math.max(e.top,d.top),bottom:Math.min(e.bottom,d.bottom)}),u=u.assignedSlot||u.parentNode}else if(u.nodeType==11)u=u.host;else break}function Kde(n){let e=n.ownerDocument,t,r;for(let i=n.parentNode;i&&!(i==e.body||t&&r);)if(i.nodeType==1)!r&&i.scrollHeight>i.clientHeight&&(r=i),!t&&i.scrollWidth>i.clientWidth&&(t=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:t,y:r}}class Jde{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:r}=e;this.set(t,Math.min(e.anchorOffset,t?_o(t):0),r,Math.min(e.focusOffset,r?_o(r):0))}set(e,t,r,i){this.anchorNode=e,this.anchorOffset=t,this.focusNode=r,this.focusOffset=i}}let sh=null;function aF(n){if(n.setActive)return n.setActive();if(sh)return n.focus(sh);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(sh==null?{get preventScroll(){return sh={preventScroll:!0},!0}}:void 0),!sh){sh=!1;for(let t=0;t<e.length;){let r=e[t++],i=e[t++],s=e[t++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=s&&(r.scrollLeft=s)}}}let Hj;function Qu(n,e,t=e){let r=Hj||(Hj=document.createRange());return r.setEnd(n,t),r.setStart(n,e),r}function td(n,e,t,r){let i={key:e,code:e,keyCode:t,which:t,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let s=new KeyboardEvent("keydown",i);s.synthetic=!0,n.dispatchEvent(s);let o=new KeyboardEvent("keyup",i);return o.synthetic=!0,n.dispatchEvent(o),s.defaultPrevented||o.defaultPrevented}function efe(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function lF(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}function tfe(n,e){let t=e.focusNode,r=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=r)return!1;for(r=Math.min(r,_o(t));;)if(r){if(t.nodeType!=1)return!1;let i=t.childNodes[r-1];i.contentEditable=="false"?r--:(t=i,r=_o(t))}else{if(t==n)return!0;r=Ru(t),t=t.parentNode}}function cF(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}function uF(n,e){for(let t=n,r=e;;){if(t.nodeType==3&&r>0)return{node:t,offset:r};if(t.nodeType==1&&r>0){if(t.contentEditable=="false")return null;t=t.childNodes[r-1],r=_o(t)}else if(t.parentNode&&!Uw(t))r=Ru(t),t=t.parentNode;else return null}}function hF(n,e){for(let t=n,r=e;;){if(t.nodeType==3&&r<t.nodeValue.length)return{node:t,offset:r};if(t.nodeType==1&&r<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[r],r=0}else if(t.parentNode&&!Uw(t))r=Ru(t)+1,t=t.parentNode;else return null}}class xr{constructor(e,t,r=!0){this.node=e,this.offset=t,this.precise=r}static before(e,t){return new xr(e.parentNode,Ru(e),t)}static after(e,t){return new xr(e.parentNode,Ru(e)+1,t)}}const NR=[];class Et{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let r of this.children){if(r==e)return t;t+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.flags&2){let r=this.dom,i=null,s;for(let o of this.children){if(o.flags&7){if(!o.dom&&(s=i?i.nextSibling:r.firstChild)){let a=Et.get(s);(!a||!a.parent&&a.canReuseDOM(o))&&o.reuseDOM(s)}o.sync(e,t),o.flags&=-8}if(s=i?i.nextSibling:r.firstChild,t&&!t.written&&t.node==r&&s!=o.dom&&(t.written=!0),o.dom.parentNode==r)for(;s&&s!=o.dom;)s=Kj(s);else r.insertBefore(o.dom,s);i=o.dom}for(s=i?i.nextSibling:r.firstChild,s&&t&&t.node==r&&(t.written=!0);s;)s=Kj(s)}else if(this.flags&1)for(let r of this.children)r.flags&7&&(r.sync(e,t),r.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let r;if(e==this.dom)r=this.dom.childNodes[t];else{let i=_o(e)==0?0:t==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;i==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?i=-1:i=1),e=s}i<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!Et.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,s=0;;i++){let o=this.children[i];if(o.dom==r)return s;s+=o.length+o.breakAfter}}domBoundsAround(e,t,r=0){let i=-1,s=-1,o=-1,a=-1;for(let l=0,c=r,u=r;l<this.children.length;l++){let h=this.children[l],d=c+h.length;if(c<e&&d>t)return h.domBoundsAround(e,t,c);if(d>=e&&i==-1&&(i=l,s=c),c>t&&h.dom.parentNode==this.dom){o=l,a=u;break}u=d,c=d+h.breakAfter}return{from:s,to:a<0?r+this.length:a,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),t.flags&1)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,r=NR){this.markDirty();for(let i=e;i<t;i++){let s=this.children[i];s.parent==this&&r.indexOf(s)<0&&s.destroy()}r.length<250?this.children.splice(e,t-e,...r):this.children=[].concat(this.children.slice(0,e),r,this.children.slice(t));for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new dF(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,r,i,s,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}Et.prototype.breakAfter=0;function Kj(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class dF{constructor(e,t,r){this.children=e,this.pos=t,this.i=r,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function fF(n,e,t,r,i,s,o,a,l){let{children:c}=n,u=c.length?c[e]:null,h=s.length?s[s.length-1]:null,d=h?h.breakAfter:o;if(!(e==r&&u&&!o&&!d&&s.length<2&&u.merge(t,i,s.length?h:null,t==0,a,l))){if(r<c.length){let m=c[r];m&&(i<m.length||m.breakAfter&&(h!=null&&h.breakAfter))?(e==r&&(m=m.split(i),i=0),!d&&h&&m.merge(0,i,h,!0,0,l)?s[s.length-1]=m:((i||m.children.length&&!m.children[0].length)&&m.merge(0,i,null,!1,0,l),s.push(m))):m!=null&&m.breakAfter&&(h?h.breakAfter=1:o=1),r++}for(u&&(u.breakAfter=o,t>0&&(!o&&s.length&&u.merge(t,u.length,s[0],!1,a,0)?u.breakAfter=s.shift().breakAfter:(t<u.length||u.children.length&&u.children[u.children.length-1].length==0)&&u.merge(t,u.length,null,!1,a,0),e++));e<r&&s.length;)if(c[r-1].become(s[s.length-1]))r--,s.pop(),l=s.length?0:a;else if(c[e].become(s[0]))e++,s.shift(),a=s.length?0:l;else break;!s.length&&e&&r<c.length&&!c[e-1].breakAfter&&c[r].merge(0,0,c[e-1],!1,a,l)&&e--,(e<r||s.length)&&n.replaceChildren(e,r,s)}}function pF(n,e,t,r,i,s){let o=n.childCursor(),{i:a,off:l}=o.findPos(t,1),{i:c,off:u}=o.findPos(e,-1),h=e-t;for(let d of r)h+=d.length;n.length+=h,fF(n,c,u,a,l,r,0,i,s)}let Kr=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},KT=typeof document<"u"?document:{documentElement:{style:{}}};const JT=/Edge\/(\d+)/.exec(Kr.userAgent),mF=/MSIE \d/.test(Kr.userAgent),eP=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Kr.userAgent),Db=!!(mF||eP||JT),Jj=!Db&&/gecko\/(\d+)/i.test(Kr.userAgent),C1=!Db&&/Chrome\/(\d+)/.exec(Kr.userAgent),eD="webkitFontSmoothing"in KT.documentElement.style,gF=!Db&&/Apple Computer/.test(Kr.vendor),tD=gF&&(/Mobile\/\w+/.test(Kr.userAgent)||Kr.maxTouchPoints>2);var ye={mac:tD||/Mac/.test(Kr.platform),windows:/Win/.test(Kr.platform),linux:/Linux|X11/.test(Kr.platform),ie:Db,ie_version:mF?KT.documentMode||6:eP?+eP[1]:JT?+JT[1]:0,gecko:Jj,gecko_version:Jj?+(/Firefox\/(\d+)/.exec(Kr.userAgent)||[0,0])[1]:0,chrome:!!C1,chrome_version:C1?+C1[1]:0,ios:tD,android:/Android\b/.test(Kr.userAgent),webkit:eD,safari:gF,webkit_version:eD?+(/\bAppleWebKit\/(\d+)/.exec(Kr.userAgent)||[0,0])[1]:0,tabSize:KT.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const nfe=256;class Cs extends Et{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,r){return this.flags&8||r&&(!(r instanceof Cs)||this.length-(t-e)+r.length>nfe||r.flags&8)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new Cs(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=this.flags&8,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new xr(this.dom,e)}domBoundsAround(e,t,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return rfe(this.dom,e,t)}}class Ra extends Et{constructor(e,t=[],r=0){super(),this.mark=e,this.children=t,this.length=r;for(let i of t)i.setParent(this)}setAttrs(e){if(lF(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,r,i,s,o){return r&&(!(r instanceof Ra&&r.mark.eq(this.mark))||e&&s<=0||t<this.length&&o<=0)?!1:(pF(this,e,t,r?r.children.slice():[],s-1,o-1),this.markDirty(),!0)}split(e){let t=[],r=0,i=-1,s=0;for(let a of this.children){let l=r+a.length;l>e&&t.push(r<e?a.split(e-r):a),i<0&&r>=e&&(i=s),r=l,s++}let o=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new Ra(this.mark,t,o)}domAtPos(e){return OF(this,e)}coordsAt(e,t){return vF(this,e,t)}}function rfe(n,e,t){let r=n.nodeValue.length;e>r&&(e=r);let i=e,s=e,o=0;e==0&&t<0||e==r&&t>=0?ye.chrome||ye.gecko||(e?(i--,o=1):s<r&&(s++,o=-1)):t<0?i--:s<r&&s++;let a=Qu(n,i,s).getClientRects();if(!a.length)return null;let l=a[(o?o<0:t>=0)?0:a.length-1];return ye.safari&&!o&&l.width==0&&(l=Array.prototype.find.call(a,c=>c.width)||l),o?jb(l,o<0):l||null}class Tl extends Et{static create(e,t,r){return new Tl(e,t,r)}constructor(e,t,r){super(),this.widget=e,this.length=t,this.side=r,this.prevWidget=null}split(e){let t=Tl.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,t,r,i,s,o){return r&&(!(r instanceof Tl)||!this.widget.compare(r.widget)||e>0&&s<=0||t<this.length&&o<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-t),!0)}become(e){return e instanceof Tl&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return lt.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,r=t&&t.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):lt.empty}domAtPos(e){return(this.length?e==0:this.side>0)?xr.before(this.dom):xr.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let r=this.widget.coordsAt(this.dom,e,t);if(r)return r;let i=this.dom.getClientRects(),s=null;if(!i.length)return null;let o=this.side?this.side<0:e>0;for(let a=o?i.length-1:0;s=i[a],!(e>0?a==0:a==i.length-1||s.top<s.bottom);a+=o?-1:1);return jb(s,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class zd extends Et{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof zd&&e.side==this.side}split(){return new zd(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?xr.before(this.dom):xr.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return lt.empty}get isHidden(){return!0}}Cs.prototype.children=Tl.prototype.children=zd.prototype.children=NR;function OF(n,e){let t=n.dom,{children:r}=n,i=0;for(let s=0;i<r.length;i++){let o=r[i],a=s+o.length;if(!(a==s&&o.getSide()<=0)){if(e>s&&e<a&&o.dom.parentNode==t)return o.domAtPos(e-s);if(e<=s)break;s=a}}for(let s=i;s>0;s--){let o=r[s-1];if(o.dom.parentNode==t)return o.domAtPos(o.length)}for(let s=i;s<r.length;s++){let o=r[s];if(o.dom.parentNode==t)return o.domAtPos(0)}return new xr(t,0)}function yF(n,e,t){let r,{children:i}=n;t>0&&e instanceof Ra&&i.length&&(r=i[i.length-1])instanceof Ra&&r.mark.eq(e.mark)?yF(r,e.children[0],t-1):(i.push(e),e.setParent(n)),n.length+=e.length}function vF(n,e,t){let r=null,i=-1,s=null,o=-1;function a(c,u){for(let h=0,d=0;h<c.children.length&&d<=u;h++){let m=c.children[h],g=d+m.length;g>=u&&(m.children.length?a(m,u-d):(!s||s.isHidden&&t>0)&&(g>u||d==g&&m.getSide()>0)?(s=m,o=u-d):(d<u||d==g&&m.getSide()<0&&!m.isHidden)&&(r=m,i=u-d)),d=g}}a(n,e);let l=(t<0?r:s)||r||s;return l?l.coordsAt(Math.max(0,l==r?i:o),t):ife(n)}function ife(n){let e=n.dom.lastChild;if(!e)return n.dom.getBoundingClientRect();let t=xg(e);return t[t.length-1]||null}function tP(n,e){for(let t in n)t=="class"&&e.class?e.class+=" "+n.class:t=="style"&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}const nD=Object.create(null);function qw(n,e,t){if(n==e)return!0;n||(n=nD),e||(e=nD);let r=Object.keys(n),i=Object.keys(e);if(r.length-(t&&r.indexOf(t)>-1?1:0)!=i.length-(t&&i.indexOf(t)>-1?1:0))return!1;for(let s of r)if(s!=t&&(i.indexOf(s)==-1||n[s]!==e[s]))return!1;return!0}function nP(n,e,t){let r=!1;if(e)for(let i in e)t&&i in t||(r=!0,i=="style"?n.style.cssText="":n.removeAttribute(i));if(t)for(let i in t)e&&e[i]==t[i]||(r=!0,i=="style"?n.style.cssText=t[i]:n.setAttribute(i,t[i]));return r}function sfe(n){let e=Object.create(null);for(let t=0;t<n.attributes.length;t++){let r=n.attributes[t];e[r.name]=r.value}return e}class Lo{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var Vr=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(Vr||(Vr={}));class me extends ko{constructor(e,t,r,i){super(),this.startSide=e,this.endSide=t,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new QO(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return t+=r&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new lc(e,t,t,r,e.widget||null,!1)}static replace(e){let t=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:s,end:o}=wF(e,t);r=(s?t?-3e8:-1:5e8)-1,i=(o?t?2e8:1:-6e8)+1}return new lc(e,r,i,t,e.widget||null,!0)}static line(e){return new $O(e)}static set(e,t=!1){return ft.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}me.none=ft.empty;class QO extends me{constructor(e){let{start:t,end:r}=wF(e);super(t?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,r;return this==e||e instanceof QO&&this.tagName==e.tagName&&(this.class||((t=this.attrs)===null||t===void 0?void 0:t.class))==(e.class||((r=e.attrs)===null||r===void 0?void 0:r.class))&&qw(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}QO.prototype.point=!1;class $O extends me{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof $O&&this.spec.class==e.spec.class&&qw(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}$O.prototype.mapMode=In.TrackBefore;$O.prototype.point=!0;class lc extends me{constructor(e,t,r,i,s,o){super(t,r,s,e),this.block=i,this.isReplace=o,this.mapMode=i?t<=0?In.TrackBefore:In.TrackAfter:In.TrackDel}get type(){return this.startSide!=this.endSide?Vr.WidgetRange:this.startSide<=0?Vr.WidgetBefore:Vr.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof lc&&ofe(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}lc.prototype.point=!0;function wF(n,e=!1){let{inclusiveStart:t,inclusiveEnd:r}=n;return t==null&&(t=n.inclusive),r==null&&(r=n.inclusive),{start:t??e,end:r??e}}function ofe(n,e){return n==e||!!(n&&e&&n.compare(e))}function K0(n,e,t,r=0){let i=t.length-1;i>=0&&t[i]+r>=n?t[i]=Math.max(t[i],e):t.push(n,e)}class xn extends Et{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,r,i,s,o){if(r){if(!(r instanceof xn))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),pF(this,e,t,r?r.children.slice():[],s,o),!0}split(e){let t=new xn;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i:r,off:i}=this.childPos(e);i&&(t.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let s=r;s<this.children.length;s++)t.append(this.children[s],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){qw(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){yF(this,e,t)}addLineDeco(e){let t=e.spec.attributes,r=e.spec.class;t&&(this.attrs=tP(t,this.attrs||{})),r&&(this.attrs=tP({class:r},this.attrs||{}))}domAtPos(e){return OF(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,t){var r;this.dom?this.flags&4&&(lF(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(nP(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let i=this.dom.lastChild;for(;i&&Et.get(i)instanceof Ra;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((r=Et.get(i))===null||r===void 0?void 0:r.isEditable)==!1&&(!ye.ios||!this.children.some(s=>s instanceof Cs))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let r of this.children){if(!(r instanceof Cs)||/[^ -~]/.test(r.text))return null;let i=xg(r.dom);if(i.length!=1)return null;e+=i[0].width,t=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let r=vF(this,e,t);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,s=r.bottom-r.top;if(Math.abs(s-i.lineHeight)<2&&i.textHeight<s){let o=(s-i.textHeight)/2;return{top:r.top+o,bottom:r.bottom-o,left:r.left,right:r.left}}}return r}become(e){return e instanceof xn&&this.children.length==0&&e.children.length==0&&qw(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,t){for(let r=0,i=0;r<e.children.length;r++){let s=e.children[r],o=i+s.length;if(o>=t){if(s instanceof xn)return s;if(o>t)break}i=o+s.breakAfter}return null}}class va extends Et{constructor(e,t,r){super(),this.widget=e,this.length=t,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(e,t,r,i,s,o){return r&&(!(r instanceof va)||!this.widget.compare(r.widget)||e>0&&s<=0||t<this.length&&o<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?xr.before(this.dom):xr.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let r=new va(this.widget,t,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return NR}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):lt.empty}domBoundsAround(){return null}become(e){return e instanceof va&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){let r=this.widget.coordsAt(this.dom,e,t);return r||(this.widget instanceof rP?null:jb(this.dom.getBoundingClientRect(),this.length?e==0:t<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:r}=this.deco;return t==r?!1:e<0?t<0:r>0}}class rP extends Lo{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class xm{constructor(e,t,r,i){this.doc=e,this.pos=t,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof va&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new xn),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(qy(new zd(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof va)&&this.getLine()}buildText(e,t,r){for(;e>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:o,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=s,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-r)),this.getLine().append(qy(new Cs(this.text.slice(this.textOff,this.textOff+i)),t),r),this.atCursorPos=!0,this.textOff+=i,e-=i,r=0}}span(e,t,r,i){this.buildText(t-e,r,i),this.pos=t,this.openStart<0&&(this.openStart=i)}point(e,t,r,i,s,o){if(this.disallowBlockEffectsFor[o]&&r instanceof lc){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=t-e;if(r instanceof lc)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new va(r.widget||Ud.block,a,r));else{let l=Tl.create(r.widget||Ud.inline,a,a?0:r.startSide),c=this.atCursorPos&&!l.isEditable&&s<=i.length&&(e<t||r.startSide>0),u=!l.isEditable&&(e<t||s>i.length||r.startSide<=0),h=this.getLine();this.pendingBuffer==2&&!c&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),c&&(h.append(qy(new zd(1),i),s),s=i.length+Math.max(0,s-i.length)),h.append(qy(l,i),s),this.atCursorPos=u,this.pendingBuffer=u?e<t||s>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=s)}static build(e,t,r,i,s){let o=new xm(e,t,r,s);return o.openEnd=ft.spans(i,t,r,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function qy(n,e){for(let t of e)n=new Ra(t,[n],n.length);return n}class Ud extends Lo{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Ud.inline=new Ud("span");Ud.block=new Ud("div");var Je=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(Je||(Je={}));const $u=Je.LTR,jR=Je.RTL;function xF(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const afe=xF("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),lfe=xF("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),iP=Object.create(null),Vs=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);iP[e]=t,iP[t]=-e}function bF(n){return n<=247?afe[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?lfe[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8204?256:64336<=n&&n<=65023?4:1}const cfe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Pl{get dir(){return this.level%2?jR:$u}constructor(e,t,r){this.from=e,this.to=t,this.level=r}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,r,i){let s=-1;for(let o=0;o<e.length;o++){let a=e[o];if(a.from<=t&&a.to>=t){if(a.level==r)return o;(s<0||(i!=0?i<0?a.from<t:a.to>t:e[s].level>a.level))&&(s=o)}}if(s<0)throw new RangeError("Index out of range");return s}}function SF(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++){let r=n[t],i=e[t];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!SF(r.inner,i.inner))return!1}return!0}const Pt=[];function ufe(n,e,t,r,i){for(let s=0;s<=r.length;s++){let o=s?r[s-1].to:e,a=s<r.length?r[s].from:t,l=s?256:i;for(let c=o,u=l,h=l;c<a;c++){let d=bF(n.charCodeAt(c));d==512?d=u:d==8&&h==4&&(d=16),Pt[c]=d==4?2:d,d&7&&(h=d),u=d}for(let c=o,u=l,h=l;c<a;c++){let d=Pt[c];if(d==128)c<a-1&&u==Pt[c+1]&&u&24?d=Pt[c]=u:Pt[c]=256;else if(d==64){let m=c+1;for(;m<a&&Pt[m]==64;)m++;let g=c&&u==8||m<t&&Pt[m]==8?h==1?1:8:256;for(let y=c;y<m;y++)Pt[y]=g;c=m-1}else d==8&&h==1&&(Pt[c]=1);u=d,d&7&&(h=d)}}}function hfe(n,e,t,r,i){let s=i==1?2:1;for(let o=0,a=0,l=0;o<=r.length;o++){let c=o?r[o-1].to:e,u=o<r.length?r[o].from:t;for(let h=c,d,m,g;h<u;h++)if(m=iP[d=n.charCodeAt(h)])if(m<0){for(let y=a-3;y>=0;y-=3)if(Vs[y+1]==-m){let v=Vs[y+2],S=v&2?i:v&4?v&1?s:i:0;S&&(Pt[h]=Pt[Vs[y]]=S),a=y;break}}else{if(Vs.length==189)break;Vs[a++]=h,Vs[a++]=d,Vs[a++]=l}else if((g=Pt[h])==2||g==1){let y=g==i;l=y?0:1;for(let v=a-3;v>=0;v-=3){let S=Vs[v+2];if(S&2)break;if(y)Vs[v+2]|=2;else{if(S&4)break;Vs[v+2]|=4}}}}}function dfe(n,e,t,r){for(let i=0,s=r;i<=t.length;i++){let o=i?t[i-1].to:n,a=i<t.length?t[i].from:e;for(let l=o;l<a;){let c=Pt[l];if(c==256){let u=l+1;for(;;)if(u==a){if(i==t.length)break;u=t[i++].to,a=i<t.length?t[i].from:e}else if(Pt[u]==256)u++;else break;let h=s==1,d=(u<e?Pt[u]:r)==1,m=h==d?h?1:2:r;for(let g=u,y=i,v=y?t[y-1].to:n;g>l;)g==v&&(g=t[--y].from,v=y?t[y-1].to:n),Pt[--g]=m;l=u}else s=c,l++}}}function sP(n,e,t,r,i,s,o){let a=r%2?2:1;if(r%2==i%2)for(let l=e,c=0;l<t;){let u=!0,h=!1;if(c==s.length||l<s[c].from){let y=Pt[l];y!=a&&(u=!1,h=y==16)}let d=!u&&a==1?[]:null,m=u?r:r+1,g=l;e:for(;;)if(c<s.length&&g==s[c].from){if(h)break e;let y=s[c];if(!u)for(let v=y.to,S=c+1;;){if(v==t)break e;if(S<s.length&&s[S].from==v)v=s[S++].to;else{if(Pt[v]==a)break e;break}}if(c++,d)d.push(y);else{y.from>l&&o.push(new Pl(l,y.from,m));let v=y.direction==$u!=!(m%2);oP(n,v?r+1:r,i,y.inner,y.from,y.to,o),l=y.to}g=y.to}else{if(g==t||(u?Pt[g]!=a:Pt[g]==a))break;g++}d?sP(n,l,g,r+1,i,d,o):l<g&&o.push(new Pl(l,g,m)),l=g}else for(let l=t,c=s.length;l>e;){let u=!0,h=!1;if(!c||l>s[c-1].to){let y=Pt[l-1];y!=a&&(u=!1,h=y==16)}let d=!u&&a==1?[]:null,m=u?r:r+1,g=l;e:for(;;)if(c&&g==s[c-1].to){if(h)break e;let y=s[--c];if(!u)for(let v=y.from,S=c;;){if(v==e)break e;if(S&&s[S-1].to==v)v=s[--S].from;else{if(Pt[v-1]==a)break e;break}}if(d)d.push(y);else{y.to<l&&o.push(new Pl(y.to,l,m));let v=y.direction==$u!=!(m%2);oP(n,v?r+1:r,i,y.inner,y.from,y.to,o),l=y.from}g=y.from}else{if(g==e||(u?Pt[g-1]!=a:Pt[g-1]==a))break;g--}d?sP(n,g,l,r+1,i,d,o):g<l&&o.push(new Pl(g,l,m)),l=g}}function oP(n,e,t,r,i,s,o){let a=e%2?2:1;ufe(n,i,s,r,a),hfe(n,i,s,r,a),dfe(i,s,r,a),sP(n,i,s,e,t,r,o)}function ffe(n,e,t){if(!n)return[new Pl(0,0,e==jR?1:0)];if(e==$u&&!t.length&&!cfe.test(n))return kF(n.length);if(t.length)for(;n.length>Pt.length;)Pt[Pt.length]=256;let r=[],i=e==$u?0:1;return oP(n,i,i,t,0,n.length,r),r}function kF(n){return[new Pl(0,n,0)]}let _F="";function pfe(n,e,t,r,i){var s;let o=r.head-n.from,a=Pl.find(e,o,(s=r.bidiLevel)!==null&&s!==void 0?s:-1,r.assoc),l=e[a],c=l.side(i,t);if(o==c){let d=a+=i?1:-1;if(d<0||d>=e.length)return null;l=e[a=d],o=l.side(!i,t),c=l.side(i,t)}let u=or(n.text,o,l.forward(i,t));(u<l.from||u>l.to)&&(u=c),_F=n.text.slice(Math.min(o,u),Math.max(o,u));let h=a==(i?e.length-1:0)?null:e[a+(i?1:-1)];return h&&u==c&&h.level+(i?0:1)<l.level?J.cursor(h.side(!i,t)+n.from,h.forward(i,t)?1:-1,h.level):J.cursor(u+n.from,l.forward(i,t)?-1:1,l.level)}function mfe(n,e,t){for(let r=e;r<t;r++){let i=bF(n.charCodeAt(r));if(i==1)return $u;if(i==2||i==4)return jR}return $u}const TF=ce.define(),PF=ce.define(),CF=ce.define(),EF=ce.define(),aP=ce.define(),AF=ce.define(),RF=ce.define(),DR=ce.define(),MR=ce.define(),QF=ce.define({combine:n=>n.some(e=>e)}),$F=ce.define({combine:n=>n.some(e=>e)}),IF=ce.define();class nd{constructor(e,t="nearest",r="nearest",i=5,s=5,o=!1){this.range=e,this.y=t,this.x=r,this.yMargin=i,this.xMargin=s,this.isSnapshot=o}map(e){return e.empty?this:new nd(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new nd(J.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const Zy=$e.define({map:(n,e)=>n.map(e)}),NF=$e.define();function kn(n,e,t){let r=n.facet(EF);r.length?r[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}const la=ce.define({combine:n=>n.length?n[0]:!0});let gfe=0;const jp=ce.define();class Mt{constructor(e,t,r,i,s){this.id=e,this.create=t,this.domEventHandlers=r,this.domEventObservers=i,this.extension=s(this)}static define(e,t){const{eventHandlers:r,eventObservers:i,provide:s,decorations:o}=t||{};return new Mt(gfe++,e,r,i,a=>{let l=[jp.of(a)];return o&&l.push(bg.of(c=>{let u=c.plugin(a);return u?o(u):me.none})),s&&l.push(s(a)),l})}static fromClass(e,t){return Mt.define(r=>new e(r),t)}}class E1{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(r){if(kn(t.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){kn(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(r){kn(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const jF=ce.define(),VR=ce.define(),bg=ce.define(),DF=ce.define(),LR=ce.define(),MF=ce.define();function rD(n,e){let t=n.state.facet(MF);if(!t.length)return t;let r=t.map(s=>s instanceof Function?s(n):s),i=[];return ft.spans(r,e.from,e.to,{point(){},span(s,o,a,l){let c=s-e.from,u=o-e.from,h=i;for(let d=a.length-1;d>=0;d--,l--){let m=a[d].spec.bidiIsolate,g;if(m==null&&(m=mfe(e.text,c,u)),l>0&&h.length&&(g=h[h.length-1]).to==c&&g.direction==m)g.to=u,h=g.inner;else{let y={from:c,to:u,direction:m,inner:[]};h.push(y),h=y.inner}}}}),i}const VF=ce.define();function zR(n){let e=0,t=0,r=0,i=0;for(let s of n.state.facet(VF)){let o=s(n);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(t=Math.max(t,o.right)),o.top!=null&&(r=Math.max(r,o.top)),o.bottom!=null&&(i=Math.max(i,o.bottom)))}return{left:e,right:t,top:r,bottom:i}}const Dp=ce.define();class Xi{constructor(e,t,r,i){this.fromA=e,this.toA=t,this.fromB=r,this.toB=i}join(e){return new Xi(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,r=this;for(;t>0;t--){let i=e[t-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(t-1,1)}}return e.splice(t,0,r),e}static extendWithRanges(e,t){if(t.length==0)return e;let r=[];for(let i=0,s=0,o=0,a=0;;i++){let l=i==e.length?null:e[i],c=o-a,u=l?l.fromB:1e9;for(;s<t.length&&t[s]<u;){let h=t[s],d=t[s+1],m=Math.max(a,h),g=Math.min(u,d);if(m<=g&&new Xi(m+c,g+c,m,g).addToSet(r),d>u)break;s+=2}if(!l)return r;new Xi(l.fromA,l.toA,l.fromB,l.toB).addToSet(r),o=l.toA,a=l.toB}}}class Zw{constructor(e,t,r){this.view=e,this.state=t,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=En.empty(this.startState.doc.length);for(let s of r)this.changes=this.changes.compose(s.changes);let i=[];this.changes.iterChangedRanges((s,o,a,l)=>i.push(new Xi(s,o,a,l))),this.changedRanges=i}static create(e,t,r){return new Zw(e,t,r)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class iD extends Et{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=me.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new xn],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Xi(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:c,toA:u})=>u<this.minWidthFrom||c>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?i=this.domChanged.newSel.head:!Sfe(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let s=i>-1?yfe(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:c,to:u}=this.hasComposition;r=new Xi(c,u,e.changes.mapPos(c,-1),e.changes.mapPos(u,1)).addToSet(r.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(ye.ie||ye.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,a=this.updateDeco(),l=xfe(o,a,e.changes);return r=Xi.extendWithRanges(r,l),!(this.flags&7)&&r.length==0?!1:(this.updateInner(r,e.startState.doc.length,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,r);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=ye.chrome||ye.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,o),this.flags&=-8,o&&(o.written||i.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(o=>o.flags&=-9);let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof va&&o.widget instanceof rP&&s.push(o.dom);i.updateGaps(s)}updateChildren(e,t,r){let i=r?r.range.addToSet(e.slice()):e,s=this.childCursor(t);for(let o=i.length-1;;o--){let a=o>=0?i[o]:null;if(!a)break;let{fromA:l,toA:c,fromB:u,toB:h}=a,d,m,g,y;if(r&&r.range.fromB<h&&r.range.toB>u){let $=xm.build(this.view.state.doc,u,r.range.fromB,this.decorations,this.dynamicDecorationMap),C=xm.build(this.view.state.doc,r.range.toB,h,this.decorations,this.dynamicDecorationMap);m=$.breakAtStart,g=$.openStart,y=C.openEnd;let Q=this.compositionView(r);C.breakAtStart?Q.breakAfter=1:C.content.length&&Q.merge(Q.length,Q.length,C.content[0],!1,C.openStart,0)&&(Q.breakAfter=C.content[0].breakAfter,C.content.shift()),$.content.length&&Q.merge(0,0,$.content[$.content.length-1],!0,0,$.openEnd)&&$.content.pop(),d=$.content.concat(Q).concat(C.content)}else({content:d,breakAtStart:m,openStart:g,openEnd:y}=xm.build(this.view.state.doc,u,h,this.decorations,this.dynamicDecorationMap));let{i:v,off:S}=s.findPos(c,1),{i:b,off:k}=s.findPos(l,-1);fF(this,b,k,v,S,d,m,g,y)}r&&this.fixCompositionDOM(r)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let r of t.effects)r.is(NF)&&(this.editContextFormatting=r.value)}compositionView(e){let t=new Cs(e.text.nodeValue);t.flags|=8;for(let{deco:i}of e.marks)t=new Ra(i,[t],t.length);let r=new xn;return r.append(t,0),r}fixCompositionDOM(e){let t=(s,o)=>{o.flags|=8|(o.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(o);let a=Et.get(s);a&&a!=o&&(a.dom=null),o.setDOM(s)},r=this.childPos(e.range.fromB,1),i=this.children[r.i];t(e.line,i);for(let s=e.marks.length-1;s>=-1;s--)r=i.childPos(r.off,1),i=i.children[r.i],t(s>=0?e.marks[s].node:e.text,i)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,i=r==this.dom,s=!i&&!(this.view.state.facet(la)||this.dom.tabIndex>-1)&&H0(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(i||t||s))return;let o=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(a.anchor)),c=a.empty?l:this.moveToLine(this.domAtPos(a.head));if(ye.gecko&&a.empty&&!this.hasComposition&&Ofe(l)){let h=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(h,l.node.childNodes[l.offset]||null)),l=c=new xr(h,0),o=!0}let u=this.view.observer.selectionRange;(o||!u.focusNode||(!wm(l.node,l.offset,u.anchorNode,u.anchorOffset)||!wm(c.node,c.offset,u.focusNode,u.focusOffset))&&!this.suppressWidgetCursorChange(u,a))&&(this.view.observer.ignore(()=>{ye.android&&ye.chrome&&this.dom.contains(u.focusNode)&&bfe(u.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let h=wg(this.view.root);if(h)if(a.empty){if(ye.gecko){let d=vfe(l.node,l.offset);if(d&&d!=3){let m=(d==1?uF:hF)(l.node,l.offset);m&&(l=new xr(m.node,m.offset))}}h.collapse(l.node,l.offset),a.bidiLevel!=null&&h.caretBidiLevel!==void 0&&(h.caretBidiLevel=a.bidiLevel)}else if(h.extend){h.collapse(l.node,l.offset);try{h.extend(c.node,c.offset)}catch{}}else{let d=document.createRange();a.anchor>a.head&&([l,c]=[c,l]),d.setEnd(c.node,c.offset),d.setStart(l.node,l.offset),h.removeAllRanges(),h.addRange(d)}s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(l,c)),this.impreciseAnchor=l.precise?null:new xr(u.anchorNode,u.anchorOffset),this.impreciseHead=c.precise?null:new xr(u.focusNode,u.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&wm(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,r=wg(e.root),{anchorNode:i,anchorOffset:s}=e.observer.selectionRange;if(!r||!t.empty||!t.assoc||!r.modify)return;let o=xn.find(this,t.head);if(!o)return;let a=o.posAtStart;if(t.head==a||t.head==a+o.length)return;let l=this.coordsAt(t.head,-1),c=this.coordsAt(t.head,1);if(!l||!c||l.bottom>c.top)return;let u=this.domAtPos(t.head+t.assoc);r.collapse(u.node,u.offset),r.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let h=e.observer.selectionRange;e.docView.posFromDOM(h.anchorNode,h.anchorOffset)!=t.from&&r.collapse(i,s)}moveToLine(e){let t=this.dom,r;if(e.node!=t)return e;for(let i=e.offset;!r&&i<t.childNodes.length;i++){let s=Et.get(t.childNodes[i]);s instanceof xn&&(r=s.domAtPos(0))}for(let i=e.offset-1;!r&&i>=0;i--){let s=Et.get(t.childNodes[i]);s instanceof xn&&(r=s.domAtPos(s.length))}return r?new xr(r.node,r.offset,!0):e}nearest(e){for(let t=e;t;){let r=Et.get(t);if(r&&r.rootView==this)return r;t=t.parentNode}return null}posFromDOM(e,t){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,t)+r.posAtStart}domAtPos(e){let{i:t,off:r}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let i=this.children[t];if(r<i.length||i instanceof xn)break;t++,r=0}return this.children[t].domAtPos(r)}coordsAt(e,t){let r=null,i=0;for(let s=this.length,o=this.children.length-1;o>=0;o--){let a=this.children[o],l=s-a.breakAfter,c=l-a.length;if(l<e)break;if(c<=e&&(c<e||a.covers(-1))&&(l>e||a.covers(1))&&(!r||a instanceof xn&&!(r instanceof xn&&t>=0)))r=a,i=c;else if(r&&c==e&&l==e&&a instanceof va&&Math.abs(t)<2){if(a.deco.startSide<0)break;o&&(r=null)}s=c}return r?r.coordsAt(e-i,t):null}coordsForChar(e){let{i:t,off:r}=this.childPos(e,1),i=this.children[t];if(!(i instanceof xn))return null;for(;i.children.length;){let{i:a,off:l}=i.childPos(r,1);for(;;a++){if(a==i.children.length)return null;if((i=i.children[a]).length)break}r=l}if(!(i instanceof Cs))return null;let s=or(i.text,r);if(s==r)return null;let o=Qu(i.dom,r,s).getClientRects();for(let a=0;a<o.length;a++){let l=o[a];if(a==o.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(e){let t=[],{from:r,to:i}=e,s=this.view.contentDOM.clientWidth,o=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==Je.LTR;for(let c=0,u=0;u<this.children.length;u++){let h=this.children[u],d=c+h.length;if(d>i)break;if(c>=r){let m=h.dom.getBoundingClientRect();if(t.push(m.height),o){let g=h.dom.lastChild,y=g?xg(g):[];if(y.length){let v=y[y.length-1],S=l?v.right-m.left:m.right-v.left;S>a&&(a=S,this.minWidth=s,this.minWidthFrom=c,this.minWidthTo=d)}}}c=d+h.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?Je.RTL:Je.LTR}measureTextSize(){for(let s of this.children)if(s instanceof xn){let o=s.measureTextSize();if(o)return o}let e=document.createElement("div"),t,r,i;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=xg(e.firstChild)[0];t=e.getBoundingClientRect().height,r=s?s.width/27:7,i=s?s.height:t,e.remove()}),{lineHeight:t,charWidth:r,textHeight:i}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new dF(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let r=0,i=0;;i++){let s=i==t.viewports.length?null:t.viewports[i],o=s?s.from-1:this.length;if(o>r){let a=(t.lineBlockAt(o).bottom-t.lineBlockAt(r).top)/this.view.scaleY;e.push(me.replace({widget:new rP(a),block:!0,inclusive:!0,isBlockGap:!0}).range(r,o))}if(!s)break;r=s.to+1}return me.set(e)}updateDeco(){let e=1,t=this.view.state.facet(bg).map(s=>(this.dynamicDecorationMap[e++]=typeof s=="function")?s(this.view):s),r=!1,i=this.view.state.facet(DF).map((s,o)=>{let a=typeof s=="function";return a&&(r=!0),a?s(this.view):s});for(i.length&&(this.dynamicDecorationMap[e++]=r,t.push(ft.join(i))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let c=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=c.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let c of this.view.state.facet(IF))try{if(c(this.view,e.range,e))return!0}catch(u){kn(this.view.state,u,"scroll handler")}let{range:t}=e,r=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),i;if(!r)return;!t.empty&&(i=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let s=zR(this.view),o={left:r.left-s.left,top:r.top-s.top,right:r.right+s.right,bottom:r.bottom+s.bottom},{offsetWidth:a,offsetHeight:l}=this.view.scrollDOM;Hde(this.view.scrollDOM,o,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,a),-a),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==Je.LTR)}}function Ofe(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}function LF(n,e){let t=n.observer.selectionRange;if(!t.focusNode)return null;let r=uF(t.focusNode,t.focusOffset),i=hF(t.focusNode,t.focusOffset),s=r||i;if(i&&r&&i.node!=r.node){let a=Et.get(i.node);if(!a||a instanceof Cs&&a.text!=i.node.nodeValue)s=i;else if(n.docView.lastCompositionAfterCursor){let l=Et.get(r.node);!l||l instanceof Cs&&l.text!=r.node.nodeValue||(s=i)}}if(n.docView.lastCompositionAfterCursor=s!=r,!s)return null;let o=e-s.offset;return{from:o,to:o+s.node.nodeValue.length,node:s.node}}function yfe(n,e,t){let r=LF(n,t);if(!r)return null;let{node:i,from:s,to:o}=r,a=i.nodeValue;if(/[\n\r]/.test(a)||n.state.doc.sliceString(r.from,r.to)!=a)return null;let l=e.invertedDesc,c=new Xi(l.mapPos(s),l.mapPos(o),s,o),u=[];for(let h=i.parentNode;;h=h.parentNode){let d=Et.get(h);if(d instanceof Ra)u.push({node:h,deco:d.mark});else{if(d instanceof xn||h.nodeName=="DIV"&&h.parentNode==n.contentDOM)return{range:c,text:i,marks:u,line:h};if(h!=n.contentDOM)u.push({node:h,deco:new QO({inclusive:!0,attributes:sfe(h),tagName:h.tagName.toLowerCase()})});else return null}}}function vfe(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}let wfe=class{constructor(){this.changes=[]}compareRange(e,t){K0(e,t,this.changes)}comparePoint(e,t){K0(e,t,this.changes)}boundChange(e){K0(e,e,this.changes)}};function xfe(n,e,t){let r=new wfe;return ft.compare(n,e,t,r),r.changes}function bfe(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function Sfe(n,e){let t=!1;return e&&n.iterChangedRanges((r,i)=>{r<e.to&&i>e.from&&(t=!0)}),t}function kfe(n,e,t=1){let r=n.charCategorizer(e),i=n.doc.lineAt(e),s=e-i.from;if(i.length==0)return J.cursor(e);s==0?t=1:s==i.length&&(t=-1);let o=s,a=s;t<0?o=or(i.text,s,!1):a=or(i.text,s);let l=r(i.text.slice(o,a));for(;o>0;){let c=or(i.text,o,!1);if(r(i.text.slice(c,o))!=l)break;o=c}for(;a<i.length;){let c=or(i.text,a);if(r(i.text.slice(a,c))!=l)break;a=c}return J.range(o+i.from,a+i.from)}function _fe(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function Tfe(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function A1(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function sD(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function oD(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function lP(n,e,t){let r,i,s,o,a=!1,l,c,u,h;for(let g=n.firstChild;g;g=g.nextSibling){let y=xg(g);for(let v=0;v<y.length;v++){let S=y[v];i&&A1(i,S)&&(S=sD(oD(S,i.bottom),i.top));let b=_fe(e,S),k=Tfe(t,S);if(b==0&&k==0)return g.nodeType==3?aD(g,e,t):lP(g,e,t);if(!r||o>k||o==k&&s>b){r=g,i=S,s=b,o=k;let $=k?t<S.top?-1:1:b?e<S.left?-1:1:0;a=!$||($>0?v<y.length-1:v>0)}b==0?t>S.bottom&&(!u||u.bottom<S.bottom)?(l=g,u=S):t<S.top&&(!h||h.top>S.top)&&(c=g,h=S):u&&A1(u,S)?u=oD(u,S.bottom):h&&A1(h,S)&&(h=sD(h,S.top))}}if(u&&u.bottom>=t?(r=l,i=u):h&&h.top<=t&&(r=c,i=h),!r)return{node:n,offset:0};let d=Math.max(i.left,Math.min(i.right,e));if(r.nodeType==3)return aD(r,d,t);if(a&&r.contentEditable!="false")return lP(r,d,t);let m=Array.prototype.indexOf.call(n.childNodes,r)+(e>=(i.left+i.right)/2?1:0);return{node:n,offset:m}}function aD(n,e,t){let r=n.nodeValue.length,i=-1,s=1e9,o=0;for(let a=0;a<r;a++){let l=Qu(n,a,a+1).getClientRects();for(let c=0;c<l.length;c++){let u=l[c];if(u.top==u.bottom)continue;o||(o=e-u.left);let h=(u.top>t?u.top-t:t-u.bottom)-1;if(u.left-1<=e&&u.right+1>=e&&h<s){let d=e>=(u.left+u.right)/2,m=d;if((ye.chrome||ye.gecko)&&Qu(n,a).getBoundingClientRect().left==u.right&&(m=!d),h<=0)return{node:n,offset:a+(m?1:0)};i=a+(m?1:0),s=h}}}return{node:n,offset:i>-1?i:o>0?n.nodeValue.length:0}}function zF(n,e,t,r=-1){var i,s;let o=n.contentDOM.getBoundingClientRect(),a=o.top+n.viewState.paddingTop,l,{docHeight:c}=n.viewState,{x:u,y:h}=e,d=h-a;if(d<0)return 0;if(d>c)return n.state.doc.length;for(let $=n.viewState.heightOracle.textHeight/2,C=!1;l=n.elementAtHeight(d),l.type!=Vr.Text;)for(;d=r>0?l.bottom+$:l.top-$,!(d>=0&&d<=c);){if(C)return t?null:0;C=!0,r=-r}h=a+d;let m=l.from;if(m<n.viewport.from)return n.viewport.from==0?0:t?null:lD(n,o,l,u,h);if(m>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:t?null:lD(n,o,l,u,h);let g=n.dom.ownerDocument,y=n.root.elementFromPoint?n.root:g,v=y.elementFromPoint(u,h);v&&!n.contentDOM.contains(v)&&(v=null),v||(u=Math.max(o.left+1,Math.min(o.right-1,u)),v=y.elementFromPoint(u,h),v&&!n.contentDOM.contains(v)&&(v=null));let S,b=-1;if(v&&((i=n.docView.nearest(v))===null||i===void 0?void 0:i.isEditable)!=!1){if(g.caretPositionFromPoint){let $=g.caretPositionFromPoint(u,h);$&&({offsetNode:S,offset:b}=$)}else if(g.caretRangeFromPoint){let $=g.caretRangeFromPoint(u,h);$&&({startContainer:S,startOffset:b}=$,(!n.contentDOM.contains(S)||ye.safari&&Pfe(S,b,u)||ye.chrome&&Cfe(S,b,u))&&(S=void 0))}S&&(b=Math.min(_o(S),b))}if(!S||!n.docView.dom.contains(S)){let $=xn.find(n.docView,m);if(!$)return d>l.top+l.height/2?l.to:l.from;({node:S,offset:b}=lP($.dom,u,h))}let k=n.docView.nearest(S);if(!k)return null;if(k.isWidget&&((s=k.dom)===null||s===void 0?void 0:s.nodeType)==1){let $=k.dom.getBoundingClientRect();return e.y<$.top||e.y<=$.bottom&&e.x<=($.left+$.right)/2?k.posAtStart:k.posAtEnd}else return k.localPosFromDOM(S,b)+k.posAtStart}function lD(n,e,t,r,i){let s=Math.round((r-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&t.height>n.defaultLineHeight*1.5){let a=n.viewState.heightOracle.textHeight,l=Math.floor((i-t.top-(n.defaultLineHeight-a)*.5)/a);s+=l*n.viewState.heightOracle.lineLength}let o=n.state.sliceDoc(t.from,t.to);return t.from+XT(o,s,n.state.tabSize)}function Pfe(n,e,t){let r;if(n.nodeType!=3||e!=(r=n.nodeValue.length))return!1;for(let i=n.nextSibling;i;i=i.nextSibling)if(i.nodeType!=1||i.nodeName!="BR")return!1;return Qu(n,r-1,r).getBoundingClientRect().left>t}function Cfe(n,e,t){if(e!=0)return!1;for(let i=n;;){let s=i.parentNode;if(!s||s.nodeType!=1||s.firstChild!=i)return!1;if(s.classList.contains("cm-line"))break;i=s}let r=n.nodeType==1?n.getBoundingClientRect():Qu(n,0,Math.max(n.nodeValue.length,1)).getBoundingClientRect();return t-r.left>5}function cP(n,e){let t=n.lineBlockAt(e);if(Array.isArray(t.type)){for(let r of t.type)if(r.to>e||r.to==e&&(r.to==t.to||r.type==Vr.Text))return r}return t}function Efe(n,e,t,r){let i=cP(n,e.head),s=!r||i.type!=Vr.Text||!(n.lineWrapping||i.widgetLineBreaks)?null:n.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(s){let o=n.dom.getBoundingClientRect(),a=n.textDirectionAt(i.from),l=n.posAtCoords({x:t==(a==Je.LTR)?o.right-1:o.left+1,y:(s.top+s.bottom)/2});if(l!=null)return J.cursor(l,t?-1:1)}return J.cursor(t?i.to:i.from,t?-1:1)}function cD(n,e,t,r){let i=n.state.doc.lineAt(e.head),s=n.bidiSpans(i),o=n.textDirectionAt(i.from);for(let a=e,l=null;;){let c=pfe(i,s,o,a,t),u=_F;if(!c){if(i.number==(t?n.state.doc.lines:1))return a;u=`
`,i=n.state.doc.line(i.number+(t?1:-1)),s=n.bidiSpans(i),c=n.visualLineSide(i,!t)}if(l){if(!l(u))return a}else{if(!r)return c;l=r(u)}a=c}}function Afe(n,e,t){let r=n.state.charCategorizer(e),i=r(t);return s=>{let o=r(s);return i==Wt.Space&&(i=o),i==o}}function Rfe(n,e,t,r){let i=e.head,s=t?1:-1;if(i==(t?n.state.doc.length:0))return J.cursor(i,e.assoc);let o=e.goalColumn,a,l=n.contentDOM.getBoundingClientRect(),c=n.coordsAtPos(i,e.assoc||-1),u=n.documentTop;if(c)o==null&&(o=c.left-l.left),a=s<0?c.top:c.bottom;else{let m=n.viewState.lineBlockAt(i);o==null&&(o=Math.min(l.right-l.left,n.defaultCharacterWidth*(i-m.from))),a=(s<0?m.top:m.bottom)+u}let h=l.left+o,d=r??n.viewState.heightOracle.textHeight>>1;for(let m=0;;m+=10){let g=a+(d+m)*s,y=zF(n,{x:h,y:g},!1,s);if(g<l.top||g>l.bottom||(s<0?y<i:y>i)){let v=n.docView.coordsForChar(y),S=!v||g<v.top?-1:1;return J.cursor(y,S,void 0,o)}}}function J0(n,e,t){for(;;){let r=0;for(let i of n)i.between(e-1,e+1,(s,o,a)=>{if(e>s&&e<o){let l=r||t||(e-s<o-e?-1:1);e=l<0?s:o,r=l}});if(!r)return e}}function R1(n,e,t){let r=J0(n.state.facet(LR).map(i=>i(n)),t.from,e.head>t.from?-1:1);return r==t.from?t:J.cursor(r,r<t.from?1:-1)}const Mp="";class Qfe{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(Ne.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Mp}readRange(e,t){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let s=this.text.length;this.readNode(i);let o=i.nextSibling;if(o==t)break;let a=Et.get(i),l=Et.get(o);(a&&l?a.breakAfter:(a?a.breakAfter:Uw(i))||Uw(o)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>s)&&this.lineBreak(),i=o}return this.findPointBefore(r,t),this}readTextNode(e){let t=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,t.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,o=1,a;if(this.lineSeparator?(s=t.indexOf(this.lineSeparator,r),o=this.lineSeparator.length):(a=i.exec(t))&&(s=a.index,o=a[0].length),this.append(t.slice(r,s<0?t.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=o-1);r=s+o}}readNode(e){if(e.cmIgnore)return;let t=Et.get(e),r=t&&t.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==t&&(r.pos=this.text.length)}findPointInside(e,t){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+($fe(e,r.node,r.offset)?t:0))}}function $fe(n,e,t){for(;;){if(!e||t<_o(e))return!1;if(e==n)return!0;t=Ru(e)+1,e=e.parentNode}}class uD{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class Ife{constructor(e,t,r,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,r,0))){let a=s||o?[]:Dfe(e),l=new Qfe(a,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=Mfe(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=s&&s.node==a.focusNode&&s.offset==a.focusOffset||!HT(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),c=o&&o.node==a.anchorNode&&o.offset==a.anchorOffset||!HT(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset),u=e.viewport;if((ye.ios||ye.chrome)&&e.state.selection.main.empty&&l!=c&&(u.from>0||u.to<e.state.doc.length)){let h=Math.min(l,c),d=Math.max(l,c),m=u.from-h,g=u.to-d;(m==0||m==1||h==0)&&(g==0||g==-1||d==e.state.doc.length)&&(l=0,c=e.state.doc.length)}this.newSel=J.single(c,l)}}}function UF(n,e){let t,{newSel:r}=e,i=n.state.selection.main,s=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:a}=e.bounds,l=i.from,c=null;(s===8||ye.android&&e.text.length<a-o)&&(l=i.to,c="end");let u=jfe(n.state.doc.sliceString(o,a,Mp),e.text,l-o,c);u&&(ye.chrome&&s==13&&u.toB==u.from+2&&e.text.slice(u.from,u.toB)==Mp+Mp&&u.toB--,t={from:o+u.from,to:o+u.toA,insert:lt.of(e.text.slice(u.from,u.toB).split(Mp))})}else r&&(!n.hasFocus&&n.state.facet(la)||r.main.eq(i))&&(r=null);if(!t&&!r)return!1;if(!t&&e.typeOver&&!i.empty&&r&&r.main.empty?t={from:i.from,to:i.to,insert:n.state.doc.slice(i.from,i.to)}:(ye.mac||ye.android)&&t&&t.from==t.to&&t.from==i.head-1&&/^\. ?$/.test(t.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(r&&t.insert.length==2&&(r=J.single(r.main.anchor-1,r.main.head-1)),t={from:t.from,to:t.to,insert:lt.of([t.insert.toString().replace("."," ")])}):t&&t.from>=i.from&&t.to<=i.to&&(t.from!=i.from||t.to!=i.to)&&i.to-i.from-(t.to-t.from)<=4?t={from:i.from,to:i.to,insert:n.state.doc.slice(i.from,t.from).append(t.insert).append(n.state.doc.slice(t.to,i.to))}:ye.chrome&&t&&t.from==t.to&&t.from==i.head&&t.insert.toString()==`
 `&&n.lineWrapping&&(r&&(r=J.single(r.main.anchor-1,r.main.head-1)),t={from:i.from,to:i.to,insert:lt.of([" "])}),t)return UR(n,t,r,s);if(r&&!r.main.eq(i)){let o=!1,a="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(o=!0),a=n.inputState.lastSelectionOrigin),n.dispatch({selection:r,scrollIntoView:o,userEvent:a}),!0}else return!1}function UR(n,e,t,r=-1){if(ye.ios&&n.inputState.flushIOSKey(e))return!0;let i=n.state.selection.main;if(ye.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&n.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&td(n.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&td(n.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&td(n.contentDOM,"Delete",46)))return!0;let s=e.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let o,a=()=>o||(o=Nfe(n,e,t));return n.state.facet(AF).some(l=>l(n,e.from,e.to,s,a))||n.dispatch(a()),!0}function Nfe(n,e,t){let r,i=n.state,s=i.selection.main;if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&n.inputState.composing<0){let a=s.from<e.from?i.sliceDoc(s.from,e.from):"",l=s.to>e.to?i.sliceDoc(e.to,s.to):"";r=i.replaceSelection(n.state.toText(a+e.insert.sliceString(0,void 0,n.state.lineBreak)+l))}else{let a=i.changes(e),l=t&&t.main.to<=a.newLength?t.main:void 0;if(i.selection.ranges.length>1&&n.inputState.composing>=0&&e.to<=s.to&&e.to>=s.to-10){let c=n.state.sliceDoc(e.from,e.to),u,h=t&&LF(n,t.main.head);if(h){let g=e.insert.length-(e.to-e.from);u={from:h.from,to:h.to-g}}else u=n.state.doc.lineAt(s.head);let d=s.to-e.to,m=s.to-s.from;r=i.changeByRange(g=>{if(g.from==s.from&&g.to==s.to)return{changes:a,range:l||g.map(a)};let y=g.to-d,v=y-c.length;if(g.to-g.from!=m||n.state.sliceDoc(v,y)!=c||g.to>=u.from&&g.from<=u.to)return{range:g};let S=i.changes({from:v,to:y,insert:e.insert}),b=g.to-s.to;return{changes:S,range:l?J.range(Math.max(0,l.anchor+b),Math.max(0,l.head+b)):g.map(S)}})}else r={changes:a,selection:l&&i.selection.replaceRange(l)}}let o="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,o+=".compose",n.inputState.compositionFirstChange&&(o+=".start",n.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:o,scrollIntoView:!0})}function jfe(n,e,t,r){let i=Math.min(n.length,e.length),s=0;for(;s<i&&n.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==i&&n.length==e.length)return null;let o=n.length,a=e.length;for(;o>0&&a>0&&n.charCodeAt(o-1)==e.charCodeAt(a-1);)o--,a--;if(r=="end"){let l=Math.max(0,s-Math.min(o,a));t-=o+l-s}if(o<s&&n.length<e.length){let l=t<=s&&t>=o?s-t:0;s-=l,a=s+(a-o),o=s}else if(a<s){let l=t<=s&&t>=a?s-t:0;s-=l,o=s+(o-a),a=s}return{from:s,toA:o,toB:a}}function Dfe(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:s}=n.observer.selectionRange;return t&&(e.push(new uD(t,r)),(i!=t||s!=r)&&e.push(new uD(i,s))),e}function Mfe(n,e){if(n.length==0)return null;let t=n[0].pos,r=n.length==2?n[1].pos:t;return t>-1&&r>-1?J.single(t+e,r+e):null}class Vfe{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,ye.safari&&e.contentDOM.addEventListener("input",()=>null),ye.gecko&&tpe(e.contentDOM.ownerDocument)}handleEvent(e){!Wfe(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,t){let r=this.handlers[e];if(r){for(let i of r.observers)i(this.view,t);for(let i of r.handlers){if(t.defaultPrevented)break;if(i(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=Lfe(e),r=this.handlers,i=this.view.contentDOM;for(let s in t)if(s!="scroll"){let o=!t[s].handlers.length,a=r[s];a&&o!=!a.handlers.length&&(i.removeEventListener(s,this.handleEvent),a=null),a||i.addEventListener(s,this.handleEvent,{passive:o})}for(let s in r)s!="scroll"&&!t[s]&&i.removeEventListener(s,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&ZF.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),ye.android&&ye.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return ye.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=qF.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||zfe.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,td(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:ye.safari&&!ye.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function hD(n,e){return(t,r)=>{try{return e.call(n,r,t)}catch(i){kn(t.state,i)}}}function Lfe(n){let e=Object.create(null);function t(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of n){let i=r.spec;if(i&&i.domEventHandlers)for(let s in i.domEventHandlers){let o=i.domEventHandlers[s];o&&t(s).handlers.push(hD(r.value,o))}if(i&&i.domEventObservers)for(let s in i.domEventObservers){let o=i.domEventObservers[s];o&&t(s).observers.push(hD(r.value,o))}}for(let r in Es)t(r).handlers.push(Es[r]);for(let r in Ji)t(r).observers.push(Ji[r]);return e}const qF=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],zfe="dthko",ZF=[16,17,18,20,91,92,224,225],By=6;function Fy(n){return Math.max(0,n)*.7+8}function Ufe(n,e){return Math.max(Math.abs(n.clientX-e.clientX),Math.abs(n.clientY-e.clientY))}class qfe{constructor(e,t,r,i){this.view=e,this.startEvent=t,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=Kde(e.contentDOM),this.atoms=e.state.facet(LR).map(o=>o(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(Ne.allowMultipleSelections)&&Zfe(e,t),this.dragging=Ffe(e,t)&&WF(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&Ufe(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,r=0,i=0,s=0,o=this.view.win.innerWidth,a=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:o}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:a}=this.scrollParents.y.getBoundingClientRect());let l=zR(this.view);e.clientX-l.left<=i+By?t=-Fy(i-e.clientX):e.clientX+l.right>=o-By&&(t=Fy(e.clientX-o)),e.clientY-l.top<=s+By?r=-Fy(s-e.clientY):e.clientY+l.bottom>=a-By&&(r=Fy(e.clientY-a)),this.setScrollSpeed(t,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],s=null;if(i.empty){let o=J0(this.atoms,i.from,0);o!=i.from&&(s=J.cursor(o,-1))}else{let o=J0(this.atoms,i.from,-1),a=J0(this.atoms,i.to,1);(o!=i.from||a!=i.to)&&(s=J.range(i.from==i.anchor?o:a,i.from==i.head?o:a))}s&&(t||(t=e.ranges.slice()),t[r]=s)}return t?J.create(t,e.mainIndex):e}select(e){let{view:t}=this,r=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function Zfe(n,e){let t=n.state.facet(TF);return t.length?t[0](e):ye.mac?e.metaKey:e.ctrlKey}function Bfe(n,e){let t=n.state.facet(PF);return t.length?t[0](e):ye.mac?!e.altKey:!e.ctrlKey}function Ffe(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let r=wg(n.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let s=0;s<i.length;s++){let o=i[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function Wfe(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,r;t!=n.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(r=Et.get(t))&&r.ignoreEvent(e))return!1;return!0}const Es=Object.create(null),Ji=Object.create(null),BF=ye.ie&&ye.ie_version<15||ye.ios&&ye.webkit_version<604;function Xfe(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),FF(n,t.value)},50)}function Mb(n,e,t){for(let r of n.facet(e))t=r(t,n);return t}function FF(n,e){e=Mb(n.state,DR,e);let{state:t}=n,r,i=1,s=t.toText(e),o=s.lines==t.selection.ranges.length;if(uP!=null&&t.selection.ranges.every(l=>l.empty)&&uP==s.toString()){let l=-1;r=t.changeByRange(c=>{let u=t.doc.lineAt(c.from);if(u.from==l)return{range:c};l=u.from;let h=t.toText((o?s.line(i++).text:e)+t.lineBreak);return{changes:{from:u.from,insert:h},range:J.cursor(c.from+h.length)}})}else o?r=t.changeByRange(l=>{let c=s.line(i++);return{changes:{from:l.from,to:l.to,insert:c.text},range:J.cursor(l.from+c.length)}}):r=t.replaceSelection(s);n.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}Ji.scroll=n=>{n.inputState.lastScrollTop=n.scrollDOM.scrollTop,n.inputState.lastScrollLeft=n.scrollDOM.scrollLeft};Es.keydown=(n,e)=>(n.inputState.setSelectionOrigin("select"),e.keyCode==27&&n.inputState.tabFocusMode!=0&&(n.inputState.tabFocusMode=Date.now()+2e3),!1);Ji.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};Ji.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};Es.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let r of n.state.facet(CF))if(t=r(n,e),t)break;if(!t&&e.button==0&&(t=Hfe(n,e)),t){let r=!n.hasFocus;n.inputState.startMouseSelection(new qfe(n,e,t,r)),r&&n.observer.ignore(()=>{aF(n.contentDOM);let s=n.root.activeElement;s&&!s.contains(n.contentDOM)&&s.blur()});let i=n.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}return!1};function dD(n,e,t,r){if(r==1)return J.cursor(e,t);if(r==2)return kfe(n.state,e,t);{let i=xn.find(n.docView,e),s=n.state.doc.lineAt(i?i.posAtEnd:e),o=i?i.posAtStart:s.from,a=i?i.posAtEnd:s.to;return a<n.state.doc.length&&a==s.to&&a++,J.range(o,a)}}let fD=(n,e,t)=>e>=t.top&&e<=t.bottom&&n>=t.left&&n<=t.right;function Gfe(n,e,t,r){let i=xn.find(n.docView,e);if(!i)return 1;let s=e-i.posAtStart;if(s==0)return 1;if(s==i.length)return-1;let o=i.coordsAt(s,-1);if(o&&fD(t,r,o))return-1;let a=i.coordsAt(s,1);return a&&fD(t,r,a)?1:o&&o.bottom>=r?-1:1}function pD(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:Gfe(n,t,e.clientX,e.clientY)}}const Yfe=ye.ie&&ye.ie_version<=11;let mD=null,gD=0,OD=0;function WF(n){if(!Yfe)return n.detail;let e=mD,t=OD;return mD=n,OD=Date.now(),gD=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(gD+1)%3:1}function Hfe(n,e){let t=pD(n,e),r=WF(e),i=n.state.selection;return{update(s){s.docChanged&&(t.pos=s.changes.mapPos(t.pos),i=i.map(s.changes))},get(s,o,a){let l=pD(n,s),c,u=dD(n,l.pos,l.bias,r);if(t.pos!=l.pos&&!o){let h=dD(n,t.pos,t.bias,r),d=Math.min(h.from,u.from),m=Math.max(h.to,u.to);u=d<u.from?J.range(d,m):J.range(m,d)}return o?i.replaceRange(i.main.extend(u.from,u.to)):a&&r==1&&i.ranges.length>1&&(c=Kfe(i,l.pos))?c:a?i.addRange(u):J.create([u])}}}function Kfe(n,e){for(let t=0;t<n.ranges.length;t++){let{from:r,to:i}=n.ranges[t];if(r<=e&&i>=e)return J.create(n.ranges.slice(0,t).concat(n.ranges.slice(t+1)),n.mainIndex==t?0:n.mainIndex-(n.mainIndex>t?1:0))}return null}Es.dragstart=(n,e)=>{let{selection:{main:t}}=n.state;if(e.target.draggable){let i=n.docView.nearest(e.target);if(i&&i.isWidget){let s=i.posAtStart,o=s+i.length;(s>=t.to||o<=t.from)&&(t=J.range(s,o))}}let{inputState:r}=n;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",Mb(n.state,MR,n.state.sliceDoc(t.from,t.to))),e.dataTransfer.effectAllowed="copyMove"),!1};Es.dragend=n=>(n.inputState.draggedContent=null,!1);function yD(n,e,t,r){if(t=Mb(n.state,DR,t),!t)return;let i=n.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=n.inputState,o=r&&s&&Bfe(n,e)?{from:s.from,to:s.to}:null,a={from:i,insert:t},l=n.state.changes(o?[o,a]:a);n.focus(),n.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:o?"move.drop":"input.drop"}),n.inputState.draggedContent=null}Es.drop=(n,e)=>{if(!e.dataTransfer)return!1;if(n.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let r=Array(t.length),i=0,s=()=>{++i==t.length&&yD(n,e,r.filter(o=>o!=null).join(n.state.lineBreak),!1)};for(let o=0;o<t.length;o++){let a=new FileReader;a.onerror=s,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(r[o]=a.result),s()},a.readAsText(t[o])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return yD(n,e,r,!0),!0}return!1};Es.paste=(n,e)=>{if(n.state.readOnly)return!0;n.observer.flush();let t=BF?null:e.clipboardData;return t?(FF(n,t.getData("text/plain")||t.getData("text/uri-list")),!0):(Xfe(n),!1)};function Jfe(n,e){let t=n.dom.parentNode;if(!t)return;let r=t.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),n.focus()},50)}function epe(n){let e=[],t=[],r=!1;for(let i of n.selection.ranges)i.empty||(e.push(n.sliceDoc(i.from,i.to)),t.push(i));if(!e.length){let i=-1;for(let{from:s}of n.selection.ranges){let o=n.doc.lineAt(s);o.number>i&&(e.push(o.text),t.push({from:o.from,to:Math.min(n.doc.length,o.to+1)})),i=o.number}r=!0}return{text:Mb(n,MR,e.join(n.lineBreak)),ranges:t,linewise:r}}let uP=null;Es.copy=Es.cut=(n,e)=>{let{text:t,ranges:r,linewise:i}=epe(n.state);if(!t&&!i)return!1;uP=i?t:null,e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let s=BF?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",t),!0):(Jfe(n,t),!1)};const XF=Is.define();function GF(n,e){let t=[];for(let r of n.facet(RF)){let i=r(n,e);i&&t.push(i)}return t?n.update({effects:t,annotations:XF.of(!0)}):null}function YF(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let t=GF(n.state,e);t?n.dispatch(t):n.update([])}},10)}Ji.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),YF(n)};Ji.blur=n=>{n.observer.clearSelectionRange(),YF(n)};Ji.compositionstart=Ji.compositionupdate=n=>{n.observer.editContext||(n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0))};Ji.compositionend=n=>{n.observer.editContext||(n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,ye.chrome&&ye.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50))};Ji.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};Es.beforeinput=(n,e)=>{var t,r;if(e.inputType=="insertReplacementText"&&n.observer.editContext){let s=(t=e.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain"),o=e.getTargetRanges();if(s&&o.length){let a=o[0],l=n.posAtDOM(a.startContainer,a.startOffset),c=n.posAtDOM(a.endContainer,a.endOffset);return UR(n,{from:l,to:c,insert:n.state.toText(s)},null),!0}}let i;if(ye.chrome&&ye.android&&(i=qF.find(s=>s.inputType==e.inputType))&&(n.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let s=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>s+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}return ye.ios&&e.inputType=="deleteContentForward"&&n.observer.flushSoon(),ye.safari&&e.inputType=="insertText"&&n.inputState.composing>=0&&setTimeout(()=>Ji.compositionend(n,e),20),!1};const vD=new Set;function tpe(n){vD.has(n)||(vD.add(n),n.addEventListener("copy",()=>{}),n.addEventListener("cut",()=>{}))}const wD=["pre-wrap","normal","pre-line","break-spaces"];let qd=!1;function xD(){qd=!1}class npe{constructor(e){this.lineWrapping=e,this.doc=lt.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let r=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((t-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return wD.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(t=!0,this.heightSamples[Math.floor(i*10)]=!0)}return t}refresh(e,t,r,i,s,o){let a=wD.indexOf(e)>-1,l=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=t,this.charWidth=r,this.textHeight=i,this.lineLength=s,l){this.heightSamples={};for(let c=0;c<o.length;c++){let u=o[c];u<0?c++:this.heightSamples[Math.floor(u*10)]=!0}}return l}}class rpe{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class Js{constructor(e,t,r,i,s){this.from=e,this.length=t,this.top=r,this.height=i,this._content=s}get type(){return typeof this._content=="number"?Vr.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof lc?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Js(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var Ut=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(Ut||(Ut={}));const ev=.001;class Lr{constructor(e,t,r=2){this.length=e,this.height=t,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>ev&&(qd=!0),this.height=e)}replace(e,t,r){return Lr.of(r)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,r,i){let s=this,o=r.doc;for(let a=i.length-1;a>=0;a--){let{fromA:l,toA:c,fromB:u,toB:h}=i[a],d=s.lineAt(l,Ut.ByPosNoHeight,r.setDoc(t),0,0),m=d.to>=c?d:s.lineAt(c,Ut.ByPosNoHeight,r,0,0);for(h+=m.to-c,c=m.to;a>0&&d.from<=i[a-1].toA;)l=i[a-1].fromA,u=i[a-1].fromB,a--,l<d.from&&(d=s.lineAt(l,Ut.ByPosNoHeight,r,0,0));u+=d.from-l,l=d.from;let g=qR.build(r.setDoc(o),e,u,h);s=Bw(s,s.replace(l,c,g))}return s.updateHeight(r,0)}static empty(){return new gi(0,0)}static of(e){if(e.length==1)return e[0];let t=0,r=e.length,i=0,s=0;for(;;)if(t==r)if(i>s*2){let a=e[t-1];a.break?e.splice(--t,1,a.left,null,a.right):e.splice(--t,1,a.left,a.right),r+=1+a.break,i-=a.size}else if(s>i*2){let a=e[r];a.break?e.splice(r,1,a.left,null,a.right):e.splice(r,1,a.left,a.right),r+=2+a.break,s-=a.size}else break;else if(i<s){let a=e[t++];a&&(i+=a.size)}else{let a=e[--r];a&&(s+=a.size)}let o=0;return e[t-1]==null?(o=1,t--):e[t]==null&&(o=1,r++),new ipe(Lr.of(e.slice(0,t)),o,Lr.of(e.slice(r)))}}function Bw(n,e){return n==e?n:(n.constructor!=e.constructor&&(qd=!0),e)}Lr.prototype.size=1;class HF extends Lr{constructor(e,t,r){super(e,t),this.deco=r}blockAt(e,t,r,i){return new Js(i,this.length,r,this.height,this.deco||0)}lineAt(e,t,r,i,s){return this.blockAt(0,r,i,s)}forEachLine(e,t,r,i,s,o){e<=s+this.length&&t>=s&&o(this.blockAt(0,r,i,s))}updateHeight(e,t=0,r=!1,i){return i&&i.from<=t&&i.more&&this.setHeight(i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class gi extends HF{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,r,i){return new Js(i,this.length,r,this.height,this.breaks)}replace(e,t,r){let i=r[0];return r.length==1&&(i instanceof gi||i instanceof Hn&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof Hn?i=new gi(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):Lr.of(r)}updateHeight(e,t=0,r=!1,i){return i&&i.from<=t&&i.more?this.setHeight(i.heights[i.index++]):(r||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Hn extends Lr{constructor(e){super(e,0)}heightMetrics(e,t){let r=e.doc.lineAt(t).number,i=e.doc.lineAt(t+this.length).number,s=i-r+1,o,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*s);o=l/s,this.length>s+1&&(a=(this.height-l)/(this.length-s-1))}else o=this.height/s;return{firstLine:r,lastLine:i,perLine:o,perChar:a}}blockAt(e,t,r,i){let{firstLine:s,lastLine:o,perLine:a,perChar:l}=this.heightMetrics(t,i);if(t.lineWrapping){let c=i+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),u=t.doc.lineAt(c),h=a+u.length*l,d=Math.max(r,e-h/2);return new Js(u.from,u.length,d,h,0)}else{let c=Math.max(0,Math.min(o-s,Math.floor((e-r)/a))),{from:u,length:h}=t.doc.line(s+c);return new Js(u,h,r+a*c,a,0)}}lineAt(e,t,r,i,s){if(t==Ut.ByHeight)return this.blockAt(e,r,i,s);if(t==Ut.ByPosNoHeight){let{from:m,to:g}=r.doc.lineAt(e);return new Js(m,g-m,0,0,0)}let{firstLine:o,perLine:a,perChar:l}=this.heightMetrics(r,s),c=r.doc.lineAt(e),u=a+c.length*l,h=c.number-o,d=i+a*h+l*(c.from-s-h);return new Js(c.from,c.length,Math.max(i,Math.min(d,i+this.height-u)),u,0)}forEachLine(e,t,r,i,s,o){e=Math.max(e,s),t=Math.min(t,s+this.length);let{firstLine:a,perLine:l,perChar:c}=this.heightMetrics(r,s);for(let u=e,h=i;u<=t;){let d=r.doc.lineAt(u);if(u==e){let g=d.number-a;h+=l*g+c*(e-s-g)}let m=l+c*d.length;o(new Js(d.from,d.length,h,m,0)),h+=m,u=d.to+1}}replace(e,t,r){let i=this.length-t;if(i>0){let s=r[r.length-1];s instanceof Hn?r[r.length-1]=new Hn(s.length+i):r.push(null,new Hn(i-1))}if(e>0){let s=r[0];s instanceof Hn?r[0]=new Hn(e+s.length):r.unshift(new Hn(e-1),null)}return Lr.of(r)}decomposeLeft(e,t){t.push(new Hn(e-1),null)}decomposeRight(e,t){t.push(null,new Hn(this.length-e-1))}updateHeight(e,t=0,r=!1,i){let s=t+this.length;if(i&&i.from<=t+this.length&&i.more){let o=[],a=Math.max(t,i.from),l=-1;for(i.from>t&&o.push(new Hn(i.from-t-1).updateHeight(e,t));a<=s&&i.more;){let u=e.doc.lineAt(a).length;o.length&&o.push(null);let h=i.heights[i.index++];l==-1?l=h:Math.abs(h-l)>=ev&&(l=-2);let d=new gi(u,h);d.outdated=!1,o.push(d),a+=u+1}a<=s&&o.push(null,new Hn(s-a).updateHeight(e,a));let c=Lr.of(o);return(l<0||Math.abs(c.height-this.height)>=ev||Math.abs(l-this.heightMetrics(e,t).perLine)>=ev)&&(qd=!0),Bw(this,c)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class ipe extends Lr{constructor(e,t,r){super(e.length+t+r.length,e.height+r.height,t|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,t,r,i){let s=r+this.left.height;return e<s?this.left.blockAt(e,t,r,i):this.right.blockAt(e,t,s,i+this.left.length+this.break)}lineAt(e,t,r,i,s){let o=i+this.left.height,a=s+this.left.length+this.break,l=t==Ut.ByHeight?e<o:e<a,c=l?this.left.lineAt(e,t,r,i,s):this.right.lineAt(e,t,r,o,a);if(this.break||(l?c.to<a:c.from>a))return c;let u=t==Ut.ByPosNoHeight?Ut.ByPosNoHeight:Ut.ByPos;return l?c.join(this.right.lineAt(a,u,r,o,a)):this.left.lineAt(a,u,r,i,s).join(c)}forEachLine(e,t,r,i,s,o){let a=i+this.left.height,l=s+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,t,r,i,s,o),t>=l&&this.right.forEachLine(e,t,r,a,l,o);else{let c=this.lineAt(l,Ut.ByPos,r,i,s);e<c.from&&this.left.forEachLine(e,c.from-1,r,i,s,o),c.to>=e&&c.from<=t&&o(c),t>c.to&&this.right.forEachLine(c.to+1,t,r,a,l,o)}}replace(e,t,r){let i=this.left.length+this.break;if(t<i)return this.balanced(this.left.replace(e,t,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,t-i,r));let s=[];e>0&&this.decomposeLeft(e,s);let o=s.length;for(let a of r)s.push(a);if(e>0&&bD(s,o-1),t<this.length){let a=s.length;this.decomposeRight(t,s),bD(s,a)}return Lr.of(s)}decomposeLeft(e,t){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(r++,e>=r&&t.push(null)),e>r&&this.right.decomposeLeft(e-r,t)}decomposeRight(e,t){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,t);e<r&&this.left.decomposeRight(e,t),this.break&&e<i&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?Lr.of(this.break?[e,null,t]:[e,t]):(this.left=Bw(this.left,e),this.right=Bw(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,r=!1,i){let{left:s,right:o}=this,a=t+s.length+this.break,l=null;return i&&i.from<=t+s.length&&i.more?l=s=s.updateHeight(e,t,r,i):s.updateHeight(e,t,r),i&&i.from<=a+o.length&&i.more?l=o=o.updateHeight(e,a,r,i):o.updateHeight(e,a,r),l?this.balanced(s,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function bD(n,e){let t,r;n[e]==null&&(t=n[e-1])instanceof Hn&&(r=n[e+1])instanceof Hn&&n.splice(e-1,3,new Hn(t.length+1+r.length))}const spe=5;class qR{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let r=Math.min(t,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof gi?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new gi(r-this.pos,-1)),this.writtenTo=r,t>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,r){if(e<t||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,s=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let o=t-e;r.block?this.addBlock(new HF(o,i,r)):(o||s||i>=spe)&&this.addLineDeco(i,s,o)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new gi(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let r=new Hn(t-e);return this.oracle.doc.lineAt(e).to==t&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof gi)return e;let t=new gi(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=t,this.writtenTo=this.pos=this.pos+r}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof gi)&&!this.isCovered?this.nodes.push(new gi(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof gi&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,t,r,i){let s=new qR(r,e);return ft.spans(t,r,i,s,0),s.finish(r)}}function ope(n,e,t){let r=new ape;return ft.compare(n,e,t,r,0),r.changes}class ape{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,r,i){(e<t||r&&r.heightRelevant||i&&i.heightRelevant)&&K0(e,t,this.changes,5)}}function lpe(n,e){let t=n.getBoundingClientRect(),r=n.ownerDocument,i=r.defaultView||window,s=Math.max(0,t.left),o=Math.min(i.innerWidth,t.right),a=Math.max(0,t.top),l=Math.min(i.innerHeight,t.bottom);for(let c=n.parentNode;c&&c!=r.body;)if(c.nodeType==1){let u=c,h=window.getComputedStyle(u);if((u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth)&&h.overflow!="visible"){let d=u.getBoundingClientRect();s=Math.max(s,d.left),o=Math.min(o,d.right),a=Math.max(a,d.top),l=Math.min(c==n.parentNode?i.innerHeight:l,d.bottom)}c=h.position=="absolute"||h.position=="fixed"?u.offsetParent:u.parentNode}else if(c.nodeType==11)c=c.host;else break;return{left:s-t.left,right:Math.max(s,o)-t.left,top:a-(t.top+e),bottom:Math.max(a,l)-(t.top+e)}}function cpe(n){let e=n.getBoundingClientRect(),t=n.ownerDocument.defaultView||window;return e.left<t.innerWidth&&e.right>0&&e.top<t.innerHeight&&e.bottom>0}function upe(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class Q1{constructor(e,t,r,i){this.from=e,this.to=t,this.size=r,this.displaySize=i}static same(e,t){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=t[r];if(i.from!=s.from||i.to!=s.to||i.size!=s.size)return!1}return!0}draw(e,t){return me.replace({widget:new hpe(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class hpe extends Lo{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class SD{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=kD,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Je.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(VR).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new npe(t),this.stateDeco=e.facet(bg).filter(r=>typeof r!="function"),this.heightMap=Lr.empty().applyChanges(this.stateDeco,lt.empty,this.heightOracle.setDoc(e.doc),[new Xi(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=me.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let r=0;r<=1;r++){let i=r?t.head:t.anchor;if(!e.some(({from:s,to:o})=>i>=s&&i<=o)){let{from:s,to:o}=this.lineBlockAt(i);e.push(new Wy(s,o))}}return this.viewports=e.sort((r,i)=>r.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?kD:new ZR(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(Vp(e,this.scaler))})}update(e,t=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(bg).filter(u=>typeof u!="function");let i=e.changedRanges,s=Xi.extendWithRanges(i,ope(r,this.stateDeco,e?e.changes:En.empty(this.state.doc.length))),o=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);xD(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=o||qd)&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<l.from||t.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,t));let c=l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,e.flags|=this.updateForViewport(),(c||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet($F)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,r=window.getComputedStyle(t),i=this.heightOracle,s=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?Je.RTL:Je.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),a=t.getBoundingClientRect(),l=o||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let c=0,u=0;if(a.width&&a.height){let{scaleX:$,scaleY:C}=oF(t,a);($>.005&&Math.abs(this.scaleX-$)>.005||C>.005&&Math.abs(this.scaleY-C)>.005)&&(this.scaleX=$,this.scaleY=C,c|=16,o=l=!0)}let h=(parseInt(r.paddingTop)||0)*this.scaleY,d=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=h||this.paddingBottom!=d)&&(this.paddingTop=h,this.paddingBottom=d,c|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,c|=16);let m=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=m&&(this.scrollAnchorHeight=-1,this.scrollTop=m),this.scrolledToBottom=cF(e.scrollDOM);let g=(this.printing?upe:lpe)(t,this.paddingTop),y=g.top-this.pixelViewport.top,v=g.bottom-this.pixelViewport.bottom;this.pixelViewport=g;let S=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(S!=this.inView&&(this.inView=S,S&&(l=!0)),!this.inView&&!this.scrollTarget&&!cpe(e.dom))return 0;let b=a.width;if((this.contentDOMWidth!=b||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,c|=16),l){let $=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights($)&&(o=!0),o||i.lineWrapping&&Math.abs(b-this.contentDOMWidth)>i.charWidth){let{lineHeight:C,charWidth:Q,textHeight:O}=e.docView.measureTextSize();o=C>0&&i.refresh(s,C,Q,O,b/Q,$),o&&(e.docView.minWidth=0,c|=16)}y>0&&v>0?u=Math.max(y,v):y<0&&v<0&&(u=Math.min(y,v)),xD();for(let C of this.viewports){let Q=C.from==this.viewport.from?$:e.docView.measureVisibleLineHeights(C);this.heightMap=(o?Lr.empty().applyChanges(this.stateDeco,lt.empty,this.heightOracle,[new Xi(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,o,new rpe(C.from,Q))}qd&&(c|=2)}let k=!this.viewportIsAppropriate(this.viewport,u)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return k&&(c&2&&(c|=this.updateScaler()),this.viewport=this.getViewport(u,this.scrollTarget),c|=this.updateForViewport()),(c&2||k)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,s=this.heightOracle,{visibleTop:o,visibleBottom:a}=this,l=new Wy(i.lineAt(o-r*1e3,Ut.ByHeight,s,0,0).from,i.lineAt(a+(1-r)*1e3,Ut.ByHeight,s,0,0).to);if(t){let{head:c}=t.range;if(c<l.from||c>l.to){let u=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),h=i.lineAt(c,Ut.ByPos,s,0,0),d;t.y=="center"?d=(h.top+h.bottom)/2-u/2:t.y=="start"||t.y=="nearest"&&c<l.from?d=h.top:d=h.bottom-u,l=new Wy(i.lineAt(d-1e3/2,Ut.ByHeight,s,0,0).from,i.lineAt(d+u+1e3/2,Ut.ByHeight,s,0,0).to)}}return l}mapViewport(e,t){let r=t.mapPos(e.from,-1),i=t.mapPos(e.to,1);return new Wy(this.heightMap.lineAt(r,Ut.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,Ut.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,Ut.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(t,Ut.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:a}=this;return(e==0||i<=o-Math.max(10,Math.min(-r,250)))&&(t==this.state.doc.length||s>=a+Math.max(10,Math.min(r,250)))&&i>o-2*1e3&&s<a+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let r=[];for(let i of e)t.touchesRange(i.from,i.to)||r.push(new Q1(t.mapPos(i.from),t.mapPos(i.to),i.size,i.displaySize));return r}ensureLineGaps(e,t){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,s=i>>1,o=i<<1;if(this.defaultTextDirection!=Je.LTR&&!r)return[];let a=[],l=(u,h,d,m)=>{if(h-u<s)return;let g=this.state.selection.main,y=[g.from];g.empty||y.push(g.to);for(let S of y)if(S>u&&S<h){l(u,S-10,d,m),l(S+10,h,d,m);return}let v=fpe(e,S=>S.from>=d.from&&S.to<=d.to&&Math.abs(S.from-u)<s&&Math.abs(S.to-h)<s&&!y.some(b=>S.from<b&&S.to>b));if(!v){if(h<d.to&&t&&r&&t.visibleRanges.some(k=>k.from<=h&&k.to>=h)){let k=t.moveToLineBoundary(J.cursor(h),!1,!0).head;k>u&&(h=k)}let S=this.gapSize(d,u,h,m),b=r||S<2e6?S:2e6;v=new Q1(u,h,S,b)}a.push(v)},c=u=>{if(u.length<o||u.type!=Vr.Text)return;let h=dpe(u.from,u.to,this.stateDeco);if(h.total<o)return;let d=this.scrollTarget?this.scrollTarget.range.head:null,m,g;if(r){let y=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,v,S;if(d!=null){let b=Gy(h,d),k=((this.visibleBottom-this.visibleTop)/2+y)/u.height;v=b-k,S=b+k}else v=(this.visibleTop-u.top-y)/u.height,S=(this.visibleBottom-u.top+y)/u.height;m=Xy(h,v),g=Xy(h,S)}else{let y=h.total*this.heightOracle.charWidth,v=i*this.heightOracle.charWidth,S=0;if(y>2e6)for(let Q of e)Q.from>=u.from&&Q.from<u.to&&Q.size!=Q.displaySize&&Q.from*this.heightOracle.charWidth+S<this.pixelViewport.left&&(S=Q.size-Q.displaySize);let b=this.pixelViewport.left+S,k=this.pixelViewport.right+S,$,C;if(d!=null){let Q=Gy(h,d),O=((k-b)/2+v)/y;$=Q-O,C=Q+O}else $=(b-v)/y,C=(k+v)/y;m=Xy(h,$),g=Xy(h,C)}m>u.from&&l(u.from,m,u,h),g<u.to&&l(g,u.to,u,h)};for(let u of this.viewportLines)Array.isArray(u.type)?u.type.forEach(c):c(u);return a}gapSize(e,t,r,i){let s=Gy(i,r)-Gy(i,t);return this.heightOracle.lineWrapping?e.height*s:i.total*this.heightOracle.charWidth*s}updateLineGaps(e){Q1.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=me.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let r=[];ft.spans(t,this.viewport.from,this.viewport.to,{span(s,o){r.push({from:s,to:o})},point(){}},20);let i=0;if(r.length!=this.visibleRanges.length)i=12;else for(let s=0;s<r.length&&!(i&8);s++){let o=this.visibleRanges[s],a=r[s];(o.from!=a.from||o.to!=a.to)&&(i|=4,e&&e.mapPos(o.from,-1)==a.from&&e.mapPos(o.to,1)==a.to||(i|=8))}return this.visibleRanges=r,i}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||Vp(this.heightMap.lineAt(e,Ut.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||Vp(this.heightMap.lineAt(this.scaler.fromDOM(e),Ut.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return Vp(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}let Wy=class{constructor(e,t){this.from=e,this.to=t}};function dpe(n,e,t){let r=[],i=n,s=0;return ft.spans(t,n,e,{span(){},point(o,a){o>i&&(r.push({from:i,to:o}),s+=o-i),i=a}},20),i<e&&(r.push({from:i,to:e}),s+=e-i),{total:s,ranges:r}}function Xy({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let r=Math.floor(n*t);for(let i=0;;i++){let{from:s,to:o}=e[i],a=o-s;if(r<=a)return s+r;r-=a}}function Gy(n,e){let t=0;for(let{from:r,to:i}of n.ranges){if(e<=i){t+=e-r;break}t+=i-r}return t/n.total}function fpe(n,e){for(let t of n)if(e(t))return t}const kD={toDOM(n){return n},fromDOM(n){return n},scale:1,eq(n){return n==this}};class ZR{constructor(e,t,r){let i=0,s=0,o=0;this.viewports=r.map(({from:a,to:l})=>{let c=t.lineAt(a,Ut.ByPos,e,0,0).top,u=t.lineAt(l,Ut.ByPos,e,0,0).bottom;return i+=u-c,{from:a,to:l,top:c,bottom:u,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(t.height-i);for(let a of this.viewports)a.domTop=o+(a.top-s)*this.scale,o=a.domBottom=a.domTop+(a.bottom-a.top),s=a.bottom}toDOM(e){for(let t=0,r=0,i=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.top)return i+(e-r)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);r=s.bottom,i=s.domBottom}}fromDOM(e){for(let t=0,r=0,i=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.domTop)return r+(e-i)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);r=s.bottom,i=s.domBottom}}eq(e){return e instanceof ZR?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,r)=>t.from==e.viewports[r].from&&t.to==e.viewports[r].to):!1}}function Vp(n,e){if(e.scale==1)return n;let t=e.toDOM(n.top),r=e.toDOM(n.bottom);return new Js(n.from,n.length,t,r-t,Array.isArray(n._content)?n._content.map(i=>Vp(i,e)):n._content)}const Yy=ce.define({combine:n=>n.join(" ")}),hP=ce.define({combine:n=>n.indexOf(!0)>-1}),dP=_n.newName(),KF=_n.newName(),JF=_n.newName(),eW={"&light":"."+KF,"&dark":"."+JF};function fP(n,e,t){return new _n(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return n;if(!t||!t[i])throw new RangeError(`Unsupported selector: ${i}`);return t[i]}):n+" "+r}})}const ppe=fP("."+dP,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},eW),mpe={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},$1=ye.ie&&ye.ie_version<=11;class gpe{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new Jde,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let r of t)this.queue.push(r);(ye.ie&&ye.ie_version<=11||ye.ios&&e.composing)&&t.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&e.constructor.EDIT_CONTEXT!==!1&&!(ye.chrome&&ye.chrome_version<126)&&(this.editContext=new ype(e),e.state.facet(la)&&(e.contentDOM.editContext=this.editContext.editContext)),$1&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,r)=>t!=e[r]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(la)?r.root.activeElement!=this.dom:!H0(this.dom,i))return;let s=i.anchorNode&&r.docView.nearest(i.anchorNode);if(s&&s.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(ye.ie&&ye.ie_version<=11||ye.android&&ye.chrome)&&!r.state.selection.main.empty&&i.focusNode&&wm(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=wg(e.root);if(!t)return!1;let r=ye.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&Ope(this.view,t)||t;if(!r||this.selectionRange.eq(r))return!1;let i=H0(this.dom,r);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&tfe(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let r=this.dom;r;)if(r.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=t)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,mpe),$1&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),$1&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var r;if(!this.delayedAndroidKey){let i=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&td(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,r=-1,i=!1;for(let s of e){let o=this.readMutation(s);o&&(o.typeOver&&(i=!0),t==-1?{from:t,to:r}=o:(t=Math.min(o.from,t),r=Math.max(o.to,r)))}return{from:t,to:r,typeOver:i}}readChange(){let{from:e,to:t,typeOver:r}=this.processRecords(),i=this.selectionChanged&&H0(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new Ife(this.view,e,t,r);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let r=this.view.state,i=UF(this.view,t);return this.view.state==r&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.flags|=4),e.type=="childList"){let r=_D(t,e.previousSibling||e.target.previousSibling,-1),i=_D(t,e.nextSibling||e.target.nextSibling,1);return{from:r?t.posAfter(r):t.posAtStart,to:i?t.posBefore(i):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(la)!=e.state.facet(la)&&(e.view.contentDOM.editContext=e.state.facet(la)?this.editContext.editContext:null))}destroy(){var e,t,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function _D(n,e,t){for(;e;){let r=Et.get(e);if(r&&r.parent==n)return r;let i=e.parentNode;e=i!=n.dom?i:t>0?e.nextSibling:e.previousSibling}return null}function TD(n,e){let t=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=n.docView.domAtPos(n.state.selection.main.anchor);return wm(o.node,o.offset,i,s)&&([t,r,i,s]=[i,s,t,r]),{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:s}}function Ope(n,e){if(e.getComposedRanges){let i=e.getComposedRanges(n.root)[0];if(i)return TD(n,i)}let t=null;function r(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return n.contentDOM.addEventListener("beforeinput",r,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",r,!0),t?TD(n,t):null}class ype{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let i=e.state.selection.main,{anchor:s,head:o}=i,a=this.toEditorPos(r.updateRangeStart),l=this.toEditorPos(r.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:r.updateRangeStart,editorBase:a,drifted:!1});let c={from:a,to:l,insert:lt.of(r.text.split(`
`))};if(c.from==this.from&&s<this.from?c.from=s:c.to==this.to&&s>this.to&&(c.to=s),c.from==c.to&&!c.insert.length){let u=J.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd));u.main.eq(i)||e.dispatch({selection:u,userEvent:"select"});return}if((ye.mac||ye.android)&&c.from==o-1&&/^\. ?$/.test(r.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(c={from:a,to:l,insert:lt.of([r.text.replace("."," ")])}),this.pendingContextChange=c,!e.state.readOnly){let u=this.to-this.from+(c.to-c.from+c.insert.length);UR(e,c,J.single(this.toEditorPos(r.selectionStart,u),this.toEditorPos(r.selectionEnd,u)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state))},this.handlers.characterboundsupdate=r=>{let i=[],s=null;for(let o=this.toEditorPos(r.rangeStart),a=this.toEditorPos(r.rangeEnd);o<a;o++){let l=e.coordsForChar(o);s=l&&new DOMRect(l.left,l.top,l.right-l.left,l.bottom-l.top)||s||new DOMRect,i.push(s)}t.updateCharacterBounds(r.rangeStart,i)},this.handlers.textformatupdate=r=>{let i=[];for(let s of r.getTextFormats()){let o=s.underlineStyle,a=s.underlineThickness;if(o!="None"&&a!="None"){let l=this.toEditorPos(s.rangeStart),c=this.toEditorPos(s.rangeEnd);if(l<c){let u=`text-decoration: underline ${o=="Dashed"?"dashed ":o=="Squiggle"?"wavy ":""}${a=="Thin"?1:2}px`;i.push(me.mark({attributes:{style:u}}).range(l,c))}}}e.dispatch({effects:NF.of(me.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:r}=this.composing;this.composing=null,r&&this.reset(e.state)}};for(let r in this.handlers)t.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let i=wg(r.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,r=!1,i=this.pendingContextChange;return e.changes.iterChanges((s,o,a,l,c)=>{if(r)return;let u=c.length-(o-s);if(i&&o>=i.to)if(i.from==s&&i.to==o&&i.insert.eq(c)){i=this.pendingContextChange=null,t+=u,this.to+=u;return}else i=null,this.revertPending(e.state);if(s+=t,o+=t,o<=this.from)this.from+=u,this.to+=u;else if(s<this.to){if(s<this.from||o>this.to||this.to-this.from+c.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(s),this.toContextPos(o),c.toString()),this.to+=u}t+=u}),i&&!r&&this.revertPending(e.state),!r}update(e){let t=this.pendingContextChange,r=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(r.from,r.to)&&e.transactions.some(i=>!i.isUserEvent("input.type")&&i.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),i=this.toContextPos(t.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(r,i)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>1e4*3)}toEditorPos(e,t=this.to-this.from){e=Math.min(e,t);let r=this.composing;return r&&r.drifted?r.editorBase+(e-r.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class ue{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(i=>i.forEach(s=>r(s,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||efe(e.parent)||document,this.viewState=new SD(e.state||Ne.create(e)),e.scrollTo&&e.scrollTo.is(Zy)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(jp).map(i=>new E1(i));for(let i of this.plugins)i.update(this);this.observer=new gpe(this),this.inputState=new Vfe(this),this.inputState.ensureHandlers(this.plugins),this.docView=new iD(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((t=document.fonts)===null||t===void 0)&&t.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let t=e.length==1&&e[0]instanceof gn?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,r=!1,i,s=this.state;for(let d of e){if(d.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=d.state}if(this.destroyed){this.viewState.state=s;return}let o=this.hasFocus,a=0,l=null;e.some(d=>d.annotation(XF))?(this.inputState.notifiedFocused=o,a=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,l=GF(s,o),l||(a=1));let c=this.observer.delayedAndroidKey,u=null;if(c?(this.observer.clearDelayedAndroidKey(),u=this.observer.readChange(),(u&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(u=null)):this.observer.clear(),s.facet(Ne.phrases)!=this.state.facet(Ne.phrases))return this.setState(s);i=Zw.create(this,s,e),i.flags|=a;let h=this.viewState.scrollTarget;try{this.updateState=2;for(let d of e){if(h&&(h=h.map(d.changes)),d.scrollIntoView){let{main:m}=d.state.selection;h=new nd(m.empty?m:J.cursor(m.head,m.head>m.anchor?-1:1))}for(let m of d.effects)m.is(Zy)&&(h=m.value.clip(this.state))}this.viewState.update(i,h),this.bidiCache=Fw.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),t=this.docView.update(i),this.state.facet(Dp)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(d=>d.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(Yy)!=i.state.facet(Yy)&&(this.viewState.mustMeasureContent=!0),(t||r||h||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!i.empty)for(let d of this.state.facet(aP))try{d(i)}catch(m){kn(this.state,m,"update listener")}(l||u)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),u&&!UF(this,u)&&c.force&&td(this.contentDOM,c.key,c.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new SD(e),this.plugins=e.facet(jp).map(r=>new E1(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new iD(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(jp),r=e.state.facet(jp);if(t!=r){let i=[];for(let s of r){let o=t.indexOf(s);if(o<0)i.push(new E1(s));else{let a=this.plugins[o];a.mustUpdate=e,i.push(a)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);t!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(r){kn(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:o}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let a=0;;a++){if(o<0)if(cF(r))s=-1,o=this.viewState.heightMap.height;else{let m=this.viewState.scrollAnchorAt(i);s=m.from,o=m.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let c=[];l&4||([this.measureRequests,c]=[c,this.measureRequests]);let u=c.map(m=>{try{return m.read(this)}catch(g){return kn(this.state,g),PD}}),h=Zw.create(this,this.state,[]),d=!1;h.flags|=l,t?t.flags|=l:t=h,this.updateState=2,h.empty||(this.updatePlugins(h),this.inputState.update(h),this.updateAttrs(),d=this.docView.update(h),d&&this.docViewUpdate());for(let m=0;m<c.length;m++)if(u[m]!=PD)try{let g=c[m];g.write&&g.write(u[m],this)}catch(g){kn(this.state,g)}if(d&&this.docView.updateSelection(!0),!h.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,o=-1;continue}else{let g=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-o;if(g>1||g<-1){i=i+g,r.scrollTop=i/this.scaleY,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let a of this.state.facet(aP))a(t)}get themeClasses(){return dP+" "+(this.state.facet(hP)?JF:KF)+" "+this.state.facet(Yy)}updateAttrs(){let e=CD(this,jF,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(la)?"true":"false",class:"cm-content",style:`${ye.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),CD(this,VR,t);let r=this.observer.ignore(()=>{let i=nP(this.contentDOM,this.contentAttrs,t),s=nP(this.dom,this.editorAttrs,e);return i||s});return this.editorAttrs=e,this.contentAttrs=t,r}showAnnouncements(e){let t=!0;for(let r of e)for(let i of r.effects)if(i.is(ue.announce)){t&&(this.announceDOM.textContent=""),t=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(Dp);let e=this.state.facet(ue.cspNonce);_n.mount(this.root,this.styleModules.concat(ppe).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(r=>r.spec==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,r){return R1(this,e,cD(this,e,t,r))}moveByGroup(e,t){return R1(this,e,cD(this,e,t,r=>Afe(this,e.head,r)))}visualLineSide(e,t){let r=this.bidiSpans(e),i=this.textDirectionAt(e.from),s=r[t?r.length-1:0];return J.cursor(s.side(t,i)+e.from,s.forward(!t,i)?1:-1)}moveToLineBoundary(e,t,r=!0){return Efe(this,e,t,r)}moveVertically(e,t,r){return R1(this,e,Rfe(this,e,t,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),zF(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let r=this.docView.coordsAt(e,t);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),s=this.bidiSpans(i),o=s[Pl.find(s,e-i.from,-1,t)];return jb(r,o.dir==Je.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(QF)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>vpe)return kF(e.length);let t=this.textDirectionAt(e.from),r;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==t&&(s.fresh||SF(s.isolates,r=rD(this,e))))return s.order;r||(r=rD(this,e));let i=ffe(e.text,t,r);return this.bidiCache.push(new Fw(e.from,e.to,t,r,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||ye.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{aF(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return Zy.of(new nd(typeof e=="number"?J.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return Zy.of(new nd(J.cursor(r.from),"start","start",r.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return Mt.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Mt.define(()=>({}),{eventObservers:e})}static theme(e,t){let r=_n.newName(),i=[Yy.of(r),Dp.of(fP(`.${r}`,e))];return t&&t.dark&&i.push(hP.of(!0)),i}static baseTheme(e){return za.lowest(Dp.of(fP("."+dP,e,eW)))}static findFromDOM(e){var t;let r=e.querySelector(".cm-content"),i=r&&Et.get(r)||Et.get(e);return((t=i==null?void 0:i.rootView)===null||t===void 0?void 0:t.view)||null}}ue.styleModule=Dp;ue.inputHandler=AF;ue.clipboardInputFilter=DR;ue.clipboardOutputFilter=MR;ue.scrollHandler=IF;ue.focusChangeEffect=RF;ue.perLineTextDirection=QF;ue.exceptionSink=EF;ue.updateListener=aP;ue.editable=la;ue.mouseSelectionStyle=CF;ue.dragMovesSelection=PF;ue.clickAddsSelectionRange=TF;ue.decorations=bg;ue.outerDecorations=DF;ue.atomicRanges=LR;ue.bidiIsolatedRanges=MF;ue.scrollMargins=VF;ue.darkTheme=hP;ue.cspNonce=ce.define({combine:n=>n.length?n[0]:""});ue.contentAttributes=VR;ue.editorAttributes=jF;ue.lineWrapping=ue.contentAttributes.of({class:"cm-lineWrapping"});ue.announce=$e.define();const vpe=4096,PD={};class Fw{constructor(e,t,r,i,s,o){this.from=e,this.to=t,this.dir=r,this.isolates=i,this.fresh=s,this.order=o}static update(e,t){if(t.empty&&!e.some(s=>s.fresh))return e;let r=[],i=e.length?e[e.length-1].dir:Je.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let o=e[s];o.dir==i&&!t.touchesRange(o.from,o.to)&&r.push(new Fw(t.mapPos(o.from,1),t.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return r}}function CD(n,e,t){for(let r=n.state.facet(e),i=r.length-1;i>=0;i--){let s=r[i],o=typeof s=="function"?s(n):s;o&&tP(o,t)}return t}const wpe=ye.mac?"mac":ye.windows?"win":ye.linux?"linux":"key";function xpe(n,e){const t=n.split(/-(?!$)/);let r=t[t.length-1];r=="Space"&&(r=" ");let i,s,o,a;for(let l=0;l<t.length-1;++l){const c=t[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))i=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))o=!0;else if(/^mod$/i.test(c))e=="mac"?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+c)}return i&&(r="Alt-"+r),s&&(r="Ctrl-"+r),a&&(r="Meta-"+r),o&&(r="Shift-"+r),r}function Hy(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t!==!1&&e.shiftKey&&(n="Shift-"+n),n}const bpe=za.default(ue.domEventHandlers({keydown(n,e){return nW(tW(e.state),n,e,"editor")}})),IO=ce.define({enables:bpe}),ED=new WeakMap;function tW(n){let e=n.facet(IO),t=ED.get(e);return t||ED.set(e,t=_pe(e.reduce((r,i)=>r.concat(i),[]))),t}function Spe(n,e,t){return nW(tW(n.state),e,n,t)}let dl=null;const kpe=4e3;function _pe(n,e=wpe){let t=Object.create(null),r=Object.create(null),i=(o,a)=>{let l=r[o];if(l==null)r[o]=a;else if(l!=a)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},s=(o,a,l,c,u)=>{var h,d;let m=t[o]||(t[o]=Object.create(null)),g=a.split(/ (?!$)/).map(S=>xpe(S,e));for(let S=1;S<g.length;S++){let b=g.slice(0,S).join(" ");i(b,!0),m[b]||(m[b]={preventDefault:!0,stopPropagation:!1,run:[k=>{let $=dl={view:k,prefix:b,scope:o};return setTimeout(()=>{dl==$&&(dl=null)},kpe),!0}]})}let y=g.join(" ");i(y,!1);let v=m[y]||(m[y]={preventDefault:!1,stopPropagation:!1,run:((d=(h=m._any)===null||h===void 0?void 0:h.run)===null||d===void 0?void 0:d.slice())||[]});l&&v.run.push(l),c&&(v.preventDefault=!0),u&&(v.stopPropagation=!0)};for(let o of n){let a=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let c of a){let u=t[c]||(t[c]=Object.create(null));u._any||(u._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:h}=o;for(let d in u)u[d].run.push(m=>h(m,pP))}let l=o[e]||o.key;if(l)for(let c of a)s(c,l,o.run,o.preventDefault,o.stopPropagation),o.shift&&s(c,"Shift-"+l,o.shift,o.preventDefault,o.stopPropagation)}return t}let pP=null;function nW(n,e,t,r){pP=e;let i=Gde(e),s=Hr(i,0),o=Ks(s)==i.length&&i!=" ",a="",l=!1,c=!1,u=!1;dl&&dl.view==t&&dl.scope==r&&(a=dl.prefix+" ",ZF.indexOf(e.keyCode)<0&&(c=!0,dl=null));let h=new Set,d=v=>{if(v){for(let S of v.run)if(!h.has(S)&&(h.add(S),S(t)))return v.stopPropagation&&(u=!0),!0;v.preventDefault&&(v.stopPropagation&&(u=!0),c=!0)}return!1},m=n[r],g,y;return m&&(d(m[a+Hy(i,e,!o)])?l=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(ye.windows&&e.ctrlKey&&e.altKey)&&(g=ac[e.keyCode])&&g!=i?(d(m[a+Hy(g,e,!0)])||e.shiftKey&&(y=vg[e.keyCode])!=i&&y!=g&&d(m[a+Hy(y,e,!1)]))&&(l=!0):o&&e.shiftKey&&d(m[a+Hy(i,e,!0)])&&(l=!0),!l&&d(m._any)&&(l=!0)),c&&(l=!0),l&&u&&e.stopPropagation(),pP=null,l}class NO{constructor(e,t,r,i,s){this.className=e,this.left=t,this.top=r,this.width=i,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,r){if(r.empty){let i=e.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let s=rW(e);return[new NO(t,i.left-s.left,i.top-s.top,null,i.bottom-i.top)]}else return Tpe(e,t,r)}}function rW(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==Je.LTR?e.left:e.right-n.scrollDOM.clientWidth*n.scaleX)-n.scrollDOM.scrollLeft*n.scaleX,top:e.top-n.scrollDOM.scrollTop*n.scaleY}}function AD(n,e,t,r){let i=n.coordsAtPos(e,t*2);if(!i)return r;let s=n.dom.getBoundingClientRect(),o=(i.top+i.bottom)/2,a=n.posAtCoords({x:s.left+1,y:o}),l=n.posAtCoords({x:s.right-1,y:o});return a==null||l==null?r:{from:Math.max(r.from,Math.min(a,l)),to:Math.min(r.to,Math.max(a,l))}}function Tpe(n,e,t){if(t.to<=n.viewport.from||t.from>=n.viewport.to)return[];let r=Math.max(t.from,n.viewport.from),i=Math.min(t.to,n.viewport.to),s=n.textDirection==Je.LTR,o=n.contentDOM,a=o.getBoundingClientRect(),l=rW(n),c=o.querySelector(".cm-line"),u=c&&window.getComputedStyle(c),h=a.left+(u?parseInt(u.paddingLeft)+Math.min(0,parseInt(u.textIndent)):0),d=a.right-(u?parseInt(u.paddingRight):0),m=cP(n,r),g=cP(n,i),y=m.type==Vr.Text?m:null,v=g.type==Vr.Text?g:null;if(y&&(n.lineWrapping||m.widgetLineBreaks)&&(y=AD(n,r,1,y)),v&&(n.lineWrapping||g.widgetLineBreaks)&&(v=AD(n,i,-1,v)),y&&v&&y.from==v.from&&y.to==v.to)return b(k(t.from,t.to,y));{let C=y?k(t.from,null,y):$(m,!1),Q=v?k(null,t.to,v):$(g,!0),O=[];return(y||m).to<(v||g).from-(y&&v?1:0)||m.widgetLineBreaks>1&&C.bottom+n.defaultLineHeight/2<Q.top?O.push(S(h,C.bottom,d,Q.top)):C.bottom<Q.top&&n.elementAtHeight((C.bottom+Q.top)/2).type==Vr.Text&&(C.bottom=Q.top=(C.bottom+Q.top)/2),b(C).concat(O).concat(b(Q))}function S(C,Q,O,_){return new NO(e,C-l.left,Q-l.top,O-C,_-Q)}function b({top:C,bottom:Q,horizontal:O}){let _=[];for(let x=0;x<O.length;x+=2)_.push(S(O[x],C,O[x+1],Q));return _}function k(C,Q,O){let _=1e9,x=-1e9,A=[];function T(j,V,M,Z,U){let q=n.coordsAtPos(j,j==O.to?-2:2),ne=n.coordsAtPos(M,M==O.from?2:-2);!q||!ne||(_=Math.min(q.top,ne.top,_),x=Math.max(q.bottom,ne.bottom,x),U==Je.LTR?A.push(s&&V?h:q.left,s&&Z?d:ne.right):A.push(!s&&Z?h:ne.left,!s&&V?d:q.right))}let w=C??O.from,R=Q??O.to;for(let j of n.visibleRanges)if(j.to>w&&j.from<R)for(let V=Math.max(j.from,w),M=Math.min(j.to,R);;){let Z=n.state.doc.lineAt(V);for(let U of n.bidiSpans(Z)){let q=U.from+Z.from,ne=U.to+Z.from;if(q>=M)break;ne>V&&T(Math.max(q,V),C==null&&q<=w,Math.min(ne,M),Q==null&&ne>=R,U.dir)}if(V=Z.to+1,V>=M)break}return A.length==0&&T(w,C==null,R,Q==null,n.textDirection),{top:_,bottom:x,horizontal:A}}function $(C,Q){let O=a.top+(Q?C.top:C.bottom);return{top:O,bottom:O,horizontal:[]}}}function Ppe(n,e){return n.constructor==e.constructor&&n.eq(e)}class Cpe{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(tv)!=e.state.facet(tv)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let t=0,r=e.facet(tv);for(;t<r.length&&r[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;(e!=this.scaleX||t!=this.scaleY)&&(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((t,r)=>!Ppe(t,this.drawn[r]))){let t=this.dom.firstChild,r=0;for(let i of e)i.update&&t&&i.constructor&&this.drawn[r].constructor&&i.update(t,this.drawn[r])?(t=t.nextSibling,r++):this.dom.insertBefore(i.draw(),t);for(;t;){let i=t.nextSibling;t.remove(),t=i}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const tv=ce.define();function iW(n){return[Mt.define(e=>new Cpe(e,n)),tv.of(n)]}const sW=!(ye.ios&&ye.webkit&&ye.webkit_version<534),Sg=ce.define({combine(n){return Vo(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function Epe(n={}){return[Sg.of(n),Ape,Rpe,Qpe,$F.of(!0)]}function oW(n){return n.startState.facet(Sg)!=n.state.facet(Sg)}const Ape=iW({above:!0,markers(n){let{state:e}=n,t=e.facet(Sg),r=[];for(let i of e.selection.ranges){let s=i==e.selection.main;if(i.empty?!s||sW:t.drawRangeCursor){let o=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",a=i.empty?i:J.cursor(i.head,i.head>i.anchor?-1:1);for(let l of NO.forRange(n,o,a))r.push(l)}}return r},update(n,e){n.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=oW(n);return t&&RD(n.state,e),n.docChanged||n.selectionSet||t},mount(n,e){RD(e.state,n)},class:"cm-cursorLayer"});function RD(n,e){e.style.animationDuration=n.facet(Sg).cursorBlinkRate+"ms"}const Rpe=iW({above:!1,markers(n){return n.state.selection.ranges.map(e=>e.empty?[]:NO.forRange(n,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(n,e){return n.docChanged||n.selectionSet||n.viewportChanged||oW(n)},class:"cm-selectionLayer"}),mP={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};sW&&(mP[".cm-line"].caretColor=mP[".cm-content"].caretColor="transparent !important");const Qpe=za.highest(ue.theme(mP)),aW=$e.define({map(n,e){return n==null?null:e.mapPos(n)}}),Lp=Bt.define({create(){return null},update(n,e){return n!=null&&(n=e.changes.mapPos(n)),e.effects.reduce((t,r)=>r.is(aW)?r.value:t,n)}}),$pe=Mt.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var e;let t=n.state.field(Lp);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(Lp)!=t||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:n}=this,e=n.state.field(Lp),t=e!=null&&n.coordsAtPos(e);if(!t)return null;let r=n.scrollDOM.getBoundingClientRect();return{left:t.left-r.left+n.scrollDOM.scrollLeft*n.scaleX,top:t.top-r.top+n.scrollDOM.scrollTop*n.scaleY,height:t.bottom-t.top}}drawCursor(n){if(this.cursor){let{scaleX:e,scaleY:t}=this.view;n?(this.cursor.style.left=n.left/e+"px",this.cursor.style.top=n.top/t+"px",this.cursor.style.height=n.height/t+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(Lp)!=n&&this.view.dispatch({effects:aW.of(n)})}},{eventObservers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){(n.target==this.view.contentDOM||!this.view.contentDOM.contains(n.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function Ipe(){return[Lp,$pe]}function QD(n,e,t,r,i){e.lastIndex=0;for(let s=n.iterRange(t,r),o=t,a;!s.next().done;o+=s.value.length)if(!s.lineBreak)for(;a=e.exec(s.value);)i(o+a.index,a)}function Npe(n,e){let t=n.visibleRanges;if(t.length==1&&t[0].from==n.viewport.from&&t[0].to==n.viewport.to)return t;let r=[];for(let{from:i,to:s}of t)i=Math.max(n.state.doc.lineAt(i).from,i-e),s=Math.min(n.state.doc.lineAt(s).to,s+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=s:r.push({from:i,to:s});return r}class jpe{constructor(e){const{regexp:t,decoration:r,decorate:i,boundary:s,maxLength:o=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,i)this.addMatch=(a,l,c,u)=>i(u,c,c+a[0].length,a,l);else if(typeof r=="function")this.addMatch=(a,l,c,u)=>{let h=r(a,l,c);h&&u(c,c+a[0].length,h)};else if(r)this.addMatch=(a,l,c,u)=>u(c,c+a[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=o}createDeco(e){let t=new Aa,r=t.add.bind(t);for(let{from:i,to:s}of Npe(e,this.maxLength))QD(e.state.doc,this.regexp,i,s,(o,a)=>this.addMatch(a,e,o,r));return t.finish()}updateDeco(e,t){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((s,o,a,l)=>{l>=e.view.viewport.from&&a<=e.view.viewport.to&&(r=Math.min(a,r),i=Math.max(l,i))}),e.viewportMoved||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,t.map(e.changes),r,i):t}updateRange(e,t,r,i){for(let s of e.visibleRanges){let o=Math.max(s.from,r),a=Math.min(s.to,i);if(a>o){let l=e.state.doc.lineAt(o),c=l.to<a?e.state.doc.lineAt(a):l,u=Math.max(s.from,l.from),h=Math.min(s.to,c.to);if(this.boundary){for(;o>l.from;o--)if(this.boundary.test(l.text[o-1-l.from])){u=o;break}for(;a<c.to;a++)if(this.boundary.test(c.text[a-c.from])){h=a;break}}let d=[],m,g=(y,v,S)=>d.push(S.range(y,v));if(l==c)for(this.regexp.lastIndex=u-l.from;(m=this.regexp.exec(l.text))&&m.index<h-l.from;)this.addMatch(m,e,m.index+l.from,g);else QD(e.state.doc,this.regexp,u,h,(y,v)=>this.addMatch(v,e,y,g));t=t.update({filterFrom:u,filterTo:h,filter:(y,v)=>y<u||v>h,add:d})}}return t}}const gP=/x/.unicode!=null?"gu":"g",Dpe=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,gP),Mpe={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let I1=null;function Vpe(){var n;if(I1==null&&typeof document<"u"&&document.body){let e=document.body.style;I1=((n=e.tabSize)!==null&&n!==void 0?n:e.MozTabSize)!=null}return I1||!1}const nv=ce.define({combine(n){let e=Vo(n,{render:null,specialChars:Dpe,addSpecialChars:null});return(e.replaceTabs=!Vpe())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,gP)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,gP)),e}});function Lpe(n={}){return[nv.of(n),zpe()]}let $D=null;function zpe(){return $D||($D=Mt.fromClass(class{constructor(n){this.view=n,this.decorations=me.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(n.state.facet(nv)),this.decorations=this.decorator.createDeco(n)}makeDecorator(n){return new jpe({regexp:n.specialChars,decoration:(e,t,r)=>{let{doc:i}=t.state,s=Hr(e[0],0);if(s==9){let o=i.lineAt(r),a=t.state.tabSize,l=Tf(o.text,a,r-o.from);return me.replace({widget:new Bpe((a-l%a)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=me.replace({widget:new Zpe(n,s)}))},boundary:n.replaceTabs?void 0:/[^]/})}update(n){let e=n.state.facet(nv);n.startState.facet(nv)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(n.view)):this.decorations=this.decorator.updateDeco(n,this.decorations)}},{decorations:n=>n.decorations}))}const Upe="";function qpe(n){return n>=32?Upe:n==10?"":String.fromCharCode(9216+n)}class Zpe extends Lo{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=qpe(this.code),r=e.state.phrase("Control character")+" "+(Mpe[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,t);if(i)return i;let s=document.createElement("span");return s.textContent=t,s.title=r,s.setAttribute("aria-label",r),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class Bpe extends Lo{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function Fpe(){return Xpe}const Wpe=me.line({class:"cm-activeLine"}),Xpe=Mt.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=-1,t=[];for(let r of n.state.selection.ranges){let i=n.lineBlockAt(r.head);i.from>e&&(t.push(Wpe.range(i.from)),e=i.from)}return me.set(t)}},{decorations:n=>n.decorations}),OP=2e3;function Gpe(n,e,t){let r=Math.min(e.line,t.line),i=Math.max(e.line,t.line),s=[];if(e.off>OP||t.off>OP||e.col<0||t.col<0){let o=Math.min(e.off,t.off),a=Math.max(e.off,t.off);for(let l=r;l<=i;l++){let c=n.doc.line(l);c.length<=a&&s.push(J.range(c.from+o,c.to+a))}}else{let o=Math.min(e.col,t.col),a=Math.max(e.col,t.col);for(let l=r;l<=i;l++){let c=n.doc.line(l),u=XT(c.text,o,n.tabSize,!0);if(u<0)s.push(J.cursor(c.to));else{let h=XT(c.text,a,n.tabSize);s.push(J.range(c.from+u,c.from+h))}}}return s}function Ype(n,e){let t=n.coordsAtPos(n.viewport.from);return t?Math.round(Math.abs((t.left-e)/n.defaultCharacterWidth)):-1}function ID(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1),r=n.state.doc.lineAt(t),i=t-r.from,s=i>OP?-1:i==r.length?Ype(n,e.clientX):Tf(r.text,n.state.tabSize,t-r.from);return{line:r.number,col:s,off:i}}function Hpe(n,e){let t=ID(n,e),r=n.state.selection;return t?{update(i){if(i.docChanged){let s=i.changes.mapPos(i.startState.doc.line(t.line).from),o=i.state.doc.lineAt(s);t={line:o.number,col:t.col,off:Math.min(t.off,o.length)},r=r.map(i.changes)}},get(i,s,o){let a=ID(n,i);if(!a)return r;let l=Gpe(n.state,t,a);return l.length?o?J.create(l.concat(r.ranges)):J.create(l):r}}:null}function Kpe(n){let e=t=>t.altKey&&t.button==0;return ue.mouseSelectionStyle.of((t,r)=>e(r)?Hpe(t,r):null)}const Jpe={Alt:[18,n=>!!n.altKey],Control:[17,n=>!!n.ctrlKey],Shift:[16,n=>!!n.shiftKey],Meta:[91,n=>!!n.metaKey]},eme={style:"cursor: crosshair"};function tme(n={}){let[e,t]=Jpe[n.key||"Alt"],r=Mt.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||t(i))},keyup(i){(i.keyCode==e||!t(i))&&this.set(!1)},mousemove(i){this.set(t(i))}}});return[r,ue.contentAttributes.of(i=>{var s;return!((s=i.plugin(r))===null||s===void 0)&&s.isDown?eme:null})]}const up="-10000px";class lW{constructor(e,t,r,i){this.facet=t,this.createTooltipView=r,this.removeTooltipView=i,this.input=e.state.facet(t),this.tooltips=this.input.filter(o=>o);let s=null;this.tooltipViews=this.tooltips.map(o=>s=r(o,s))}update(e,t){var r;let i=e.state.facet(this.facet),s=i.filter(l=>l);if(i===this.input){for(let l of this.tooltipViews)l.update&&l.update(e);return!1}let o=[],a=t?[]:null;for(let l=0;l<s.length;l++){let c=s[l],u=-1;if(c){for(let h=0;h<this.tooltips.length;h++){let d=this.tooltips[h];d&&d.create==c.create&&(u=h)}if(u<0)o[l]=this.createTooltipView(c,l?o[l-1]:null),a&&(a[l]=!!c.above);else{let h=o[l]=this.tooltipViews[u];a&&(a[l]=t[u]),h.update&&h.update(e)}}}for(let l of this.tooltipViews)o.indexOf(l)<0&&(this.removeTooltipView(l),(r=l.destroy)===null||r===void 0||r.call(l));return t&&(a.forEach((l,c)=>t[c]=l),t.length=a.length),this.input=i,this.tooltips=s,this.tooltipViews=o,!0}}function nme(n){let e=n.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const N1=ce.define({combine:n=>{var e,t,r;return{position:ye.ios?"absolute":((e=n.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=n.find(i=>i.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((r=n.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||nme}}}),ND=new WeakMap,BR=Mt.fromClass(class{constructor(n){this.view=n,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=n.state.facet(N1);this.position=e.position,this.parent=e.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new lW(n,FR,(t,r)=>this.createTooltip(t,r),t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()}),this.above=this.manager.tooltips.map(t=>!!t.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(n,this.above);e&&this.observeIntersection();let t=e||n.geometryChanged,r=n.state.facet(N1);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;t=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(n,e){let t=n.create(this.view),r=e?e.dom:null;if(t.dom.classList.add("cm-tooltip"),n.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",t.dom.appendChild(i)}return t.dom.style.position=this.position,t.dom.style.top=up,t.dom.style.left="0px",this.container.insertBefore(t.dom,r),t.mount&&t.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(t.dom),t}destroy(){var n,e,t;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(n=r.destroy)===null||n===void 0||n.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(t=this.intersectionObserver)===null||t===void 0||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=1,e=1,t=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:s}=this.manager.tooltipViews[0];if(ye.gecko)t=s.offsetParent!=this.container.ownerDocument.body;else if(s.style.top==up&&s.style.left=="0px"){let o=s.getBoundingClientRect();t=Math.abs(o.top+1e4)>1||Math.abs(o.left)>1}}if(t||this.position=="absolute")if(this.parent){let s=this.parent.getBoundingClientRect();s.width&&s.height&&(n=s.width/this.parent.offsetWidth,e=s.height/this.parent.offsetHeight)}else({scaleX:n,scaleY:e}=this.view.viewState);let r=this.view.scrollDOM.getBoundingClientRect(),i=zR(this.view);return{visible:{left:r.left+i.left,top:r.top+i.top,right:r.right-i.right,bottom:r.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((s,o)=>{let a=this.manager.tooltipViews[o];return a.getCoords?a.getCoords(s.pos):this.view.coordsAtPos(s.pos)}),size:this.manager.tooltipViews.map(({dom:s})=>s.getBoundingClientRect()),space:this.view.state.facet(N1).tooltipSpace(this.view),scaleX:n,scaleY:e,makeAbsolute:t}}writeMeasure(n){var e;if(n.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let a of this.manager.tooltipViews)a.dom.style.position="absolute"}let{visible:t,space:r,scaleX:i,scaleY:s}=n,o=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],c=this.manager.tooltipViews[a],{dom:u}=c,h=n.pos[a],d=n.size[a];if(!h||l.clip!==!1&&(h.bottom<=Math.max(t.top,r.top)||h.top>=Math.min(t.bottom,r.bottom)||h.right<Math.max(t.left,r.left)-.1||h.left>Math.min(t.right,r.right)+.1)){u.style.top=up;continue}let m=l.arrow?c.dom.querySelector(".cm-tooltip-arrow"):null,g=m?7:0,y=d.right-d.left,v=(e=ND.get(c))!==null&&e!==void 0?e:d.bottom-d.top,S=c.offset||ime,b=this.view.textDirection==Je.LTR,k=d.width>r.right-r.left?b?r.left:r.right-d.width:b?Math.max(r.left,Math.min(h.left-(m?14:0)+S.x,r.right-y)):Math.min(Math.max(r.left,h.left-y+(m?14:0)-S.x),r.right-y),$=this.above[a];!l.strictSide&&($?h.top-v-g-S.y<r.top:h.bottom+v+g+S.y>r.bottom)&&$==r.bottom-h.bottom>h.top-r.top&&($=this.above[a]=!$);let C=($?h.top-r.top:r.bottom-h.bottom)-g;if(C<v&&c.resize!==!1){if(C<this.view.defaultLineHeight){u.style.top=up;continue}ND.set(c,v),u.style.height=(v=C)/s+"px"}else u.style.height&&(u.style.height="");let Q=$?h.top-v-g-S.y:h.bottom+g+S.y,O=k+y;if(c.overlap!==!0)for(let _ of o)_.left<O&&_.right>k&&_.top<Q+v&&_.bottom>Q&&(Q=$?_.top-v-2-g:_.bottom+g+2);if(this.position=="absolute"?(u.style.top=(Q-n.parent.top)/s+"px",jD(u,(k-n.parent.left)/i)):(u.style.top=Q/s+"px",jD(u,k/i)),m){let _=h.left+(b?S.x:-S.x)-(k+14-7);m.style.left=_/i+"px"}c.overlap!==!0&&o.push({left:k,top:Q,right:O,bottom:Q+v}),u.classList.toggle("cm-tooltip-above",$),u.classList.toggle("cm-tooltip-below",!$),c.positioned&&c.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=up}},{eventObservers:{scroll(){this.maybeMeasure()}}});function jD(n,e){let t=parseInt(n.style.left,10);(isNaN(t)||Math.abs(e-t)>1)&&(n.style.left=e+"px")}const rme=ue.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),ime={x:0,y:0},FR=ce.define({enables:[BR,rme]}),Ww=ce.define({combine:n=>n.reduce((e,t)=>e.concat(t),[])});class Vb{static create(e){return new Vb(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new lW(e,Ww,(t,r)=>this.createHostedView(t,r),t=>t.dom.remove())}createHostedView(e,t){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,t?t.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}passProp(e){let t;for(let r of this.manager.tooltipViews){let i=r[e];if(i!==void 0){if(t===void 0)t=i;else if(t!==i)return}}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const sme=FR.compute([Ww],n=>{let e=n.facet(Ww);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.map(t=>{var r;return(r=t.end)!==null&&r!==void 0?r:t.pos})),create:Vb.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class ome{constructor(e,t,r,i,s){this.view=e,this.source=t,this.field=r,this.setHover=i,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,r=e.docView.nearest(t.target);if(!r)return;let i,s=1;if(r instanceof Tl)i=r.posAtStart;else{if(i=e.posAtCoords(t),i==null)return;let a=e.coordsAtPos(i);if(!a||t.y<a.top||t.y>a.bottom||t.x<a.left-e.defaultCharacterWidth||t.x>a.right+e.defaultCharacterWidth)return;let l=e.bidiSpans(e.state.doc.lineAt(i)).find(u=>u.from<=i&&u.to>=i),c=l&&l.dir==Je.RTL?-1:1;s=t.x<a.left?-c:c}let o=this.source(e,i,s);if(o!=null&&o.then){let a=this.pending={pos:i};o.then(l=>{this.pending==a&&(this.pending=null,l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])}))},l=>kn(e.state,l,"hover tooltip"))}else o&&!(Array.isArray(o)&&!o.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(o)?o:[o])})}get tooltip(){let e=this.view.plugin(BR),t=e?e.manager.tooltips.findIndex(r=>r.create==Vb.create):-1;return t>-1?e.manager.tooltipViews[t]:null}mousemove(e){var t,r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:s}=this;if(i.length&&s&&!ame(s.dom,e)||this.pending){let{pos:o}=i[0]||this.pending,a=(r=(t=i[0])===null||t===void 0?void 0:t.end)!==null&&r!==void 0?r:o;(o==a?this.view.posAtCoords(this.lastMove)!=o:!lme(this.view,o,a,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:t}=this;if(t.length){let{tooltip:r}=this;r&&r.dom.contains(e.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let t=r=>{e.removeEventListener("mouseleave",t),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",t)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const Ky=4;function ame(n,e){let{left:t,right:r,top:i,bottom:s}=n.getBoundingClientRect(),o;if(o=n.querySelector(".cm-tooltip-arrow")){let a=o.getBoundingClientRect();i=Math.min(a.top,i),s=Math.max(a.bottom,s)}return e.clientX>=t-Ky&&e.clientX<=r+Ky&&e.clientY>=i-Ky&&e.clientY<=s+Ky}function lme(n,e,t,r,i,s){let o=n.scrollDOM.getBoundingClientRect(),a=n.documentTop+n.documentPadding.top+n.contentHeight;if(o.left>r||o.right<r||o.top>i||Math.min(o.bottom,a)<i)return!1;let l=n.posAtCoords({x:r,y:i},!1);return l>=e&&l<=t}function cme(n,e={}){let t=$e.define(),r=Bt.define({create(){return[]},update(i,s){if(i.length&&(e.hideOnChange&&(s.docChanged||s.selection)?i=[]:e.hideOn&&(i=i.filter(o=>!e.hideOn(s,o))),s.docChanged)){let o=[];for(let a of i){let l=s.changes.mapPos(a.pos,-1,In.TrackDel);if(l!=null){let c=Object.assign(Object.create(null),a);c.pos=l,c.end!=null&&(c.end=s.changes.mapPos(c.end)),o.push(c)}}i=o}for(let o of s.effects)o.is(t)&&(i=o.value),o.is(ume)&&(i=[]);return i},provide:i=>Ww.from(i)});return{active:r,extension:[r,Mt.define(i=>new ome(i,n,r,t,e.hoverTime||300)),sme]}}function cW(n,e){let t=n.plugin(BR);if(!t)return null;let r=t.manager.tooltips.indexOf(e);return r<0?null:t.manager.tooltipViews[r]}const ume=$e.define(),DD=ce.define({combine(n){let e,t;for(let r of n)e=e||r.topContainer,t=t||r.bottomContainer;return{topContainer:e,bottomContainer:t}}});function kg(n,e){let t=n.plugin(uW),r=t?t.specs.indexOf(e):-1;return r>-1?t.panels[r]:null}const uW=Mt.fromClass(class{constructor(n){this.input=n.state.facet(_g),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(n));let e=n.state.facet(DD);this.top=new Jy(n,!0,e.topContainer),this.bottom=new Jy(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(n){let e=n.state.facet(DD);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Jy(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Jy(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=n.state.facet(_g);if(t!=this.input){let r=t.filter(l=>l),i=[],s=[],o=[],a=[];for(let l of r){let c=this.specs.indexOf(l),u;c<0?(u=l(n.view),a.push(u)):(u=this.panels[c],u.update&&u.update(n)),i.push(u),(u.top?s:o).push(u)}this.specs=r,this.panels=i,this.top.sync(s),this.bottom.sync(o);for(let l of a)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let r of this.panels)r.update&&r.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>ue.scrollMargins.of(e=>{let t=e.plugin(n);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class Jy{constructor(e,t,r){this.view=e,this.top=t,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=MD(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=MD(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function MD(n){let e=n.nextSibling;return n.remove(),e}const _g=ce.define({enables:uW});class Qa extends ko{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Qa.prototype.elementClass="";Qa.prototype.toDOM=void 0;Qa.prototype.mapMode=In.TrackBefore;Qa.prototype.startSide=Qa.prototype.endSide=-1;Qa.prototype.point=!0;const rv=ce.define(),hme=ce.define(),dme={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>ft.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},bm=ce.define();function fme(n){return[hW(),bm.of(Object.assign(Object.assign({},dme),n))]}const VD=ce.define({combine:n=>n.some(e=>e)});function hW(n){return[pme]}const pme=Mt.fromClass(class{constructor(n){this.view=n,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=n.state.facet(bm).map(e=>new zD(n,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!n.state.facet(VD),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}update(n){if(this.updateGutters(n)){let e=this.prevViewport,t=n.view.viewport,r=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(r<(t.to-t.from)*.8)}n.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(VD)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&this.dom.remove();let t=ft.iter(this.view.state.facet(rv),this.view.viewport.from),r=[],i=this.gutters.map(s=>new mme(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(s.type)){let o=!0;for(let a of s.type)if(a.type==Vr.Text&&o){yP(t,r,a.from);for(let l of i)l.line(this.view,a,r);o=!1}else if(a.widget)for(let l of i)l.widget(this.view,a)}else if(s.type==Vr.Text){yP(t,r,s.from);for(let o of i)o.line(this.view,s,r)}else if(s.widget)for(let o of i)o.widget(this.view,s);for(let s of i)s.finish();n&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(n){let e=n.startState.facet(bm),t=n.state.facet(bm),r=n.docChanged||n.heightChanged||n.viewportChanged||!ft.eq(n.startState.facet(rv),n.state.facet(rv),n.view.viewport.from,n.view.viewport.to);if(e==t)for(let i of this.gutters)i.update(n)&&(r=!0);else{r=!0;let i=[];for(let s of t){let o=e.indexOf(s);o<0?i.push(new zD(this.view,s)):(this.gutters[o].update(n),i.push(this.gutters[o]))}for(let s of this.gutters)s.dom.remove(),i.indexOf(s)<0&&s.destroy();for(let s of i)this.dom.appendChild(s.dom);this.gutters=i}return r}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove()}},{provide:n=>ue.scrollMargins.of(e=>{let t=e.plugin(n);return!t||t.gutters.length==0||!t.fixed?null:e.textDirection==Je.LTR?{left:t.dom.offsetWidth*e.scaleX}:{right:t.dom.offsetWidth*e.scaleX}})});function LD(n){return Array.isArray(n)?n:[n]}function yP(n,e,t){for(;n.value&&n.from<=t;)n.from==t&&e.push(n.value),n.next()}class mme{constructor(e,t,r){this.gutter=e,this.height=r,this.i=0,this.cursor=ft.iter(e.markers,t.from)}addElement(e,t,r){let{gutter:i}=this,s=(t.top-this.height)/e.scaleY,o=t.height/e.scaleY;if(this.i==i.elements.length){let a=new dW(e,o,s,r);i.elements.push(a),i.dom.appendChild(a.dom)}else i.elements[this.i].update(e,o,s,r);this.height=t.bottom,this.i++}line(e,t,r){let i=[];yP(this.cursor,i,t.from),r.length&&(i=i.concat(r));let s=this.gutter.config.lineMarker(e,t,i);s&&i.unshift(s);let o=this.gutter;i.length==0&&!o.config.renderEmptyElements||this.addElement(e,t,i)}widget(e,t){let r=this.gutter.config.widgetMarker(e,t.widget,t),i=r?[r]:null;for(let s of e.state.facet(hme)){let o=s(e,t.widget,t);o&&(i||(i=[])).push(o)}i&&this.addElement(e,t,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class zD{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in t.domEventHandlers)this.dom.addEventListener(r,i=>{let s=i.target,o;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let l=s.getBoundingClientRect();o=(l.top+l.bottom)/2}else o=i.clientY;let a=e.lineBlockAtHeight(o-e.documentTop);t.domEventHandlers[r](e,a,i)&&i.preventDefault()});this.markers=LD(t.markers(e)),t.initialSpacer&&(this.spacer=new dW(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=LD(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!ft.eq(this.markers,t,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class dW{constructor(e,t,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,r,i)}update(e,t,r,i){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),gme(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,t){let r="cm-gutterElement",i=this.dom.firstChild;for(let s=0,o=0;;){let a=o,l=s<t.length?t[s++]:null,c=!1;if(l){let u=l.elementClass;u&&(r+=" "+u);for(let h=o;h<this.markers.length;h++)if(this.markers[h].compare(l)){a=h,c=!0;break}}else a=this.markers.length;for(;o<a;){let u=this.markers[o++];if(u.toDOM){u.destroy(i);let h=i.nextSibling;i.remove(),i=h}}if(!l)break;l.toDOM&&(c?i=i.nextSibling:this.dom.insertBefore(l.toDOM(e),i)),c&&o++}this.dom.className=r,this.markers=t}destroy(){this.setMarkers(null,[])}}function gme(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].compare(e[t]))return!1;return!0}const Ome=ce.define(),yme=ce.define(),Ch=ce.define({combine(n){return Vo(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let r=Object.assign({},e);for(let i in t){let s=r[i],o=t[i];r[i]=s?(a,l,c)=>s(a,l,c)||o(a,l,c):o}return r}})}});class j1 extends Qa{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function D1(n,e){return n.state.facet(Ch).formatNumber(e,n.state)}const vme=bm.compute([Ch],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(Ome)},lineMarker(e,t,r){return r.some(i=>i.toDOM)?null:new j1(D1(e,e.state.doc.lineAt(t.from).number))},widgetMarker:(e,t,r)=>{for(let i of e.state.facet(yme)){let s=i(e,t,r);if(s)return s}return null},lineMarkerChange:e=>e.startState.facet(Ch)!=e.state.facet(Ch),initialSpacer(e){return new j1(D1(e,UD(e.state.doc.lines)))},updateSpacer(e,t){let r=D1(t.view,UD(t.view.state.doc.lines));return r==e.number?e:new j1(r)},domEventHandlers:n.facet(Ch).domEventHandlers}));function wme(n={}){return[Ch.of(n),hW(),vme]}function UD(n){let e=9;for(;e<n;)e=e*10+9;return e}const xme=new class extends Qa{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},bme=rv.compute(["selection"],n=>{let e=[],t=-1;for(let r of n.selection.ranges){let i=n.doc.lineAt(r.head).from;i>t&&(t=i,e.push(xme.range(i)))}return ft.of(e)});function Sme(){return bme}const kme=1024;let _me=0,M1=class{constructor(e,t){this.from=e,this.to=t}},gt=class{constructor(e={}){this.id=_me++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=To.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}};gt.closedBy=new gt({deserialize:n=>n.split(" ")});gt.openedBy=new gt({deserialize:n=>n.split(" ")});gt.group=new gt({deserialize:n=>n.split(" ")});gt.isolate=new gt({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});gt.contextHash=new gt({perNode:!0});gt.lookAhead=new gt({perNode:!0});gt.mounted=new gt({perNode:!0});let Xw=class{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[gt.mounted.id]}};const Tme=Object.create(null);let To=class fW{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):Tme,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new fW(e.name||"",t,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(gt.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(gt.group),s=-1;s<(i?i.length:0);s++){let o=t[s<0?r.name:i[s]];if(o)return o}}}};To.none=new To("",Object.create(null),0,8);const e0=new WeakMap,qD=new WeakMap;var er;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(er||(er={}));let bi=class vP{constructor(e,t,r,i,s){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=Xw.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new bP(this.topNode,e)}cursorAt(e,t=0,r=0){let i=e0.get(this)||this.topNode,s=new bP(i);return s.moveTo(e,t),e0.set(this,s._tree),s}get topNode(){return new cc(this,0,0,null)}resolve(e,t=0){let r=Tg(e0.get(this)||this.topNode,e,t,!1);return e0.set(this,r),r}resolveInner(e,t=0){let r=Tg(qD.get(this)||this.topNode,e,t,!0);return qD.set(this,r),r}resolveStack(e,t=0){return Ame(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:s=this.length}=e,o=e.mode||0,a=(o&er.IncludeAnonymous)>0;for(let l=this.cursor(o|er.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=i&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:XR(To.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new vP(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new vP(To.none,t,r,i)))}static build(e){return Rme(e)}};bi.empty=new bi(To.none,[],[],0);let Pme=class pW{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new pW(this.buffer,this.index)}},Zd=class mW{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return To.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(gW(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,t,r){let i=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=i[a++],s[l++]=i[a++]-r;let c=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,c)}return new mW(s,o,this.set)}};function gW(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function Tg(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!r&&n instanceof cc&&n.index<0?null:n.parent;if(!o)return n;n=o}let s=r?0:er.IgnoreOverlays;if(r)for(let o=n,a=o.parent;a;o=a,a=o.parent)o instanceof cc&&o.index<0&&((i=a.enter(e,t,s))===null||i===void 0?void 0:i.from)!=o.from&&(n=a);for(;;){let o=n.enter(e,t,s);if(!o)return n;n=o}}let OW=class{cursor(e=0){return new bP(this,e)}getChild(e,t=null,r=null){let i=ZD(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return ZD(this,e,t,r)}resolve(e,t=0){return Tg(this,e,t,!1)}resolveInner(e,t=0){return Tg(this,e,t,!0)}matchContext(e){return wP(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}},cc=class iv extends OW{constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=t>0?a.length:-1;e!=c;e+=t){let u=a[e],h=l[e]+o.from;if(gW(i,r,h,h+u.length)){if(u instanceof Zd){if(s&er.ExcludeBuffers)continue;let d=u.findChild(0,u.buffer.length,t,r-h,i);if(d>-1)return new xP(new Cme(o,u,e,h),null,d)}else if(s&er.IncludeAnonymous||!u.type.isAnonymous||WR(u)){let d;if(!(s&er.IgnoreMounts)&&(d=Xw.get(u))&&!d.overlay)return new iv(d.tree,h,e,o);let m=new iv(u,h,e,o);return s&er.IncludeAnonymous||!m.type.isAnonymous?m:m.nextChild(t<0?u.children.length-1:0,t,r,i)}}}if(s&er.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&er.IgnoreOverlays)&&(i=Xw.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:o,to:a}of i.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new iv(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function ZD(n,e,t,r){let i=n.cursor(),s=[];if(!i.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=i.type.is(t),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function wP(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}let Cme=class{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}},xP=class zp extends OW{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return s<0?null:new zp(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&er.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new zp(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new zp(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new zp(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),t.push(0)}return new bi(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function yW(n){if(!n.length)return null;let e=0,t=n[0];for(let s=1;s<n.length;s++){let o=n[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let r=t instanceof cc&&t.index<0?null:t.parent,i=n.slice();return r?i[e]=r:i.splice(e,1),new Eme(i,t)}let Eme=class{constructor(e,t){this.heads=e,this.node=t}get next(){return yW(this.heads)}};function Ame(n,e,t){let r=n.resolveInner(e,t),i=null;for(let s=r instanceof cc?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[r])).push(o.resolve(e,t)),s=o}else{let o=Xw.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new cc(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(Tg(a,e,t,!1))}}return i?yW(i):r}let bP=class{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof cc)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof cc?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&er.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&er.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&er.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let s=t+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&er.IncludeAnonymous||a instanceof Zd||!a.type.isAnonymous||WR(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;t=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)t=new xP(this.buffer,t,this.stack[i]);return this.bufferNode=new xP(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return wP(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return wP(this._tree,e,i);let o=r[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}};function WR(n){return n.children.some(e=>e instanceof Zd||!e.type.isAnonymous||WR(e))}function Rme(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=kme,reused:s=[],minRepeatType:o=r.types.length}=n,a=Array.isArray(t)?new Pme(t,t.length):t,l=r.types,c=0,u=0;function h(C,Q,O,_,x,A){let{id:T,start:w,end:R,size:j}=a,V=u,M=c;for(;j<0;)if(a.next(),j==-1){let X=s[T];O.push(X),_.push(w-C);return}else if(j==-3){c=T;return}else if(j==-4){u=T;return}else throw new RangeError(`Unrecognized record size: ${j}`);let Z=l[T],U,q,ne=w-C;if(R-w<=i&&(q=v(a.pos-Q,x))){let X=new Uint16Array(q.size-q.skip),F=a.pos-q.size,G=X.length;for(;a.pos>F;)G=S(q.start,X,G);U=new Zd(X,R-q.start,r),ne=q.start-C}else{let X=a.pos-j;a.next();let F=[],G=[],K=T>=o?T:-1,re=0,Se=R;for(;a.pos>X;)K>=0&&a.id==K&&a.size>=0?(a.end<=Se-i&&(g(F,G,w,re,a.end,Se,K,V,M),re=F.length,Se=a.end),a.next()):A>2500?d(w,X,F,G):h(w,X,F,G,K,A+1);if(K>=0&&re>0&&re<F.length&&g(F,G,w,re,w,Se,K,V,M),F.reverse(),G.reverse(),K>-1&&re>0){let le=m(Z,M);U=XR(Z,F,G,0,F.length,0,R-w,le,le)}else U=y(Z,F,G,R-w,V-R,M)}O.push(U),_.push(ne)}function d(C,Q,O,_){let x=[],A=0,T=-1;for(;a.pos>Q;){let{id:w,start:R,end:j,size:V}=a;if(V>4)a.next();else{if(T>-1&&R<T)break;T<0&&(T=j-i),x.push(w,R,j),A++,a.next()}}if(A){let w=new Uint16Array(A*4),R=x[x.length-2];for(let j=x.length-3,V=0;j>=0;j-=3)w[V++]=x[j],w[V++]=x[j+1]-R,w[V++]=x[j+2]-R,w[V++]=V;O.push(new Zd(w,x[2]-R,r)),_.push(R-C)}}function m(C,Q){return(O,_,x)=>{let A=0,T=O.length-1,w,R;if(T>=0&&(w=O[T])instanceof bi){if(!T&&w.type==C&&w.length==x)return w;(R=w.prop(gt.lookAhead))&&(A=_[T]+w.length+R)}return y(C,O,_,x,A,Q)}}function g(C,Q,O,_,x,A,T,w,R){let j=[],V=[];for(;C.length>_;)j.push(C.pop()),V.push(Q.pop()+O-x);C.push(y(r.types[T],j,V,A-x,w-A,R)),Q.push(x-O)}function y(C,Q,O,_,x,A,T){if(A){let w=[gt.contextHash,A];T=T?[w].concat(T):[w]}if(x>25){let w=[gt.lookAhead,x];T=T?[w].concat(T):[w]}return new bi(C,Q,O,_,T)}function v(C,Q){let O=a.fork(),_=0,x=0,A=0,T=O.end-i,w={size:0,start:0,skip:0};e:for(let R=O.pos-C;O.pos>R;){let j=O.size;if(O.id==Q&&j>=0){w.size=_,w.start=x,w.skip=A,A+=4,_+=4,O.next();continue}let V=O.pos-j;if(j<0||V<R||O.start<T)break;let M=O.id>=o?4:0,Z=O.start;for(O.next();O.pos>V;){if(O.size<0)if(O.size==-3)M+=4;else break e;else O.id>=o&&(M+=4);O.next()}x=Z,_+=j,A+=M}return(Q<0||_==C)&&(w.size=_,w.start=x,w.skip=A),w.size>4?w:void 0}function S(C,Q,O){let{id:_,start:x,end:A,size:T}=a;if(a.next(),T>=0&&_<o){let w=O;if(T>4){let R=a.pos-(T-4);for(;a.pos>R;)O=S(C,Q,O)}Q[--O]=w,Q[--O]=A-C,Q[--O]=x-C,Q[--O]=_}else T==-3?c=_:T==-4&&(u=_);return O}let b=[],k=[];for(;a.pos>0;)h(n.start||0,n.bufferStart||0,b,k,-1,0);let $=(e=n.length)!==null&&e!==void 0?e:b.length?k[0]+b[0].length:0;return new bi(l[n.topID],b.reverse(),k.reverse(),$)}const BD=new WeakMap;function sv(n,e){if(!n.isAnonymous||e instanceof Zd||e.type!=n)return 1;let t=BD.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof bi)){t=1;break}t+=sv(n,r)}BD.set(e,t)}return t}function XR(n,e,t,r,i,s,o,a,l){let c=0;for(let g=r;g<i;g++)c+=sv(n,e[g]);let u=Math.ceil(c*1.5/8),h=[],d=[];function m(g,y,v,S,b){for(let k=v;k<S;){let $=k,C=y[k],Q=sv(n,g[k]);for(k++;k<S;k++){let O=sv(n,g[k]);if(Q+O>=u)break;Q+=O}if(k==$+1){if(Q>u){let O=g[$];m(O.children,O.positions,0,O.children.length,y[$]+b);continue}h.push(g[$])}else{let O=y[k-1]+g[k-1].length-C;h.push(XR(n,g,y,$,k,C,O,null,l))}d.push(C+b-s)}}return m(e,t,r,i,0),(a||l)(h,d,o)}let ov=class SP{constructor(e,t,r,i,s=!1,o=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],r=!1){let i=[new SP(0,e.length,e,0,!1,r)];for(let s of t)s.to>e.length&&i.push(s);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let u=a<t.length?t[a]:null,h=u?u.fromA:1e9;if(h-l>=r)for(;o&&o.from<h;){let d=o;if(l>=d.from||h<=d.to||c){let m=Math.max(d.from,l)-c,g=Math.min(d.to,h)-c;d=m>=g?null:new SP(m,g,d.tree,d.offset+c,a>0,!!u)}if(d&&i.push(d),o.to>h)break;o=s<e.length?e[s++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return i}},Qme=class{startParse(e,t,r){return typeof e=="string"&&(e=new $me(e)),r=r?r.length?r.map(i=>new M1(i.from,i.to)):[new M1(0,0)]:[new M1(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let s=i.advance();if(s)return s}}},$me=class{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}};new gt({perNode:!0});let Ime=0,Vn=class{constructor(e={}){this.id=Ime++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=kP.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}};Vn.closedBy=new Vn({deserialize:n=>n.split(" ")});Vn.openedBy=new Vn({deserialize:n=>n.split(" ")});Vn.group=new Vn({deserialize:n=>n.split(" ")});Vn.isolate=new Vn({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});Vn.contextHash=new Vn({perNode:!0});Vn.lookAhead=new Vn({perNode:!0});Vn.mounted=new Vn({perNode:!0});const Nme=Object.create(null);let kP=class vW{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):Nme,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new vW(e.name||"",t,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Vn.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(Vn.group),s=-1;s<(i?i.length:0);s++){let o=t[s<0?r.name:i[s]];if(o)return o}}}};kP.none=new kP("",Object.create(null),0,8);var FD;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(FD||(FD={}));new Vn({perNode:!0});let jme=0;class Ui{constructor(e,t,r,i){this.name=e,this.set=t,this.base=r,this.modified=i,this.id=jme++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let r=typeof e=="string"?e:"?";if(e instanceof Ui&&(t=e),t!=null&&t.base)throw new Error("Can not derive from a modified tag");let i=new Ui(r,[],null,[]);if(i.set.push(i),t)for(let s of t.set)i.set.push(s);return i}static defineModifier(e){let t=new Gw(e);return r=>r.modified.indexOf(t)>-1?r:Gw.get(r.base||r,r.modified.concat(t).sort((i,s)=>i.id-s.id))}}let Dme=0;class Gw{constructor(e){this.name=e,this.instances=[],this.id=Dme++}static get(e,t){if(!t.length)return e;let r=t[0].instances.find(a=>a.base==e&&Mme(t,a.modified));if(r)return r;let i=[],s=new Ui(e.name,i,e,t);for(let a of t)a.instances.push(s);let o=Vme(t);for(let a of e.set)if(!a.modified.length)for(let l of o)i.push(Gw.get(a,l));return s}}function Mme(n,e){return n.length==e.length&&n.every((t,r)=>t==e[r])}function Vme(n){let e=[[]];for(let t=0;t<n.length;t++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(n[t]));return e.sort((t,r)=>r.length-t.length)}function Ni(n){let e=Object.create(null);for(let t in n){let r=n[t];Array.isArray(r)||(r=[r]);for(let i of t.split(" "))if(i){let s=[],o=2,a=i;for(let h=0;;){if(a=="..."&&h>0&&h+3==i.length){o=1;break}let d=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!d)throw new RangeError("Invalid path: "+i);if(s.push(d[0]=="*"?"":d[0][0]=='"'?JSON.parse(d[0]):d[0]),h+=d[0].length,h==i.length)break;let m=i[h++];if(h==i.length&&m=="!"){o=0;break}if(m!="/")throw new RangeError("Invalid path: "+i);a=i.slice(h)}let l=s.length-1,c=s[l];if(!c)throw new RangeError("Invalid path: "+i);let u=new Yw(r,o,l>0?s.slice(0,l):null);e[c]=u.sort(e[c])}}return wW.add(e)}const wW=new Vn;class Yw{constructor(e,t,r,i){this.tags=e,this.mode=t,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Yw.empty=new Yw([],2,null);function Ec(n,e){let t=Object.create(null);for(let s of n)if(!Array.isArray(s.tag))t[s.tag.id]=s.class;else for(let o of s.tag)t[o.id]=s.class;let{scope:r,all:i=null}=e||{};return{style:s=>{let o=i;for(let a of s)for(let l of a.set){let c=t[l.id];if(c){o=o?o+" "+c:c;break}}return o},scope:r}}function Lme(n,e){let t=null;for(let r of n){let i=r.style(e);i&&(t=t?t+" "+i:i)}return t}function zme(n,e,t,r=0,i=n.length){let s=new Ume(r,Array.isArray(e)?e:[e],t);s.highlightRange(n.cursor(),r,i,"",s.highlighters),s.flush(i)}class Ume{constructor(e,t,r){this.at=e,this.highlighters=t,this.span=r,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,r,i,s){let{type:o,from:a,to:l}=e;if(a>=r||l<=t)return;o.isTop&&(s=this.highlighters.filter(m=>!m.scope||m.scope(o)));let c=i,u=qme(e)||Yw.empty,h=Lme(s,u.tags);if(h&&(c&&(c+=" "),c+=h,u.mode==1&&(i+=(i?" ":"")+h)),this.startSpan(Math.max(t,a),c),u.opaque)return;let d=e.tree&&e.tree.prop(Vn.mounted);if(d&&d.overlay){let m=e.node.enter(d.overlay[0].from+a,1),g=this.highlighters.filter(v=>!v.scope||v.scope(d.tree.type)),y=e.firstChild();for(let v=0,S=a;;v++){let b=v<d.overlay.length?d.overlay[v]:null,k=b?b.from+a:l,$=Math.max(t,S),C=Math.min(r,k);if($<C&&y)for(;e.from<C&&(this.highlightRange(e,$,C,i,s),this.startSpan(Math.min(C,e.to),c),!(e.to>=k||!e.nextSibling())););if(!b||k>r)break;S=b.to+a,S>t&&(this.highlightRange(m.cursor(),Math.max(t,b.from+a),Math.min(r,S),"",g),this.startSpan(Math.min(r,S),c))}y&&e.parent()}else if(e.firstChild()){d&&(i="");do if(!(e.to<=t)){if(e.from>=r)break;this.highlightRange(e,t,r,i,s),this.startSpan(Math.min(r,e.to),c)}while(e.nextSibling());e.parent()}}}function qme(n){let e=n.type.prop(wW);for(;e&&e.context&&!n.matchContext(e.context);)e=e.next;return e||null}const pe=Ui.define,t0=pe(),tl=pe(),WD=pe(tl),XD=pe(tl),nl=pe(),n0=pe(nl),V1=pe(nl),Us=pe(),Vc=pe(Us),Ls=pe(),zs=pe(),_P=pe(),hp=pe(_P),r0=pe(),N={comment:t0,lineComment:pe(t0),blockComment:pe(t0),docComment:pe(t0),name:tl,variableName:pe(tl),typeName:WD,tagName:pe(WD),propertyName:XD,attributeName:pe(XD),className:pe(tl),labelName:pe(tl),namespace:pe(tl),macroName:pe(tl),literal:nl,string:n0,docString:pe(n0),character:pe(n0),attributeValue:pe(n0),number:V1,integer:pe(V1),float:pe(V1),bool:pe(nl),regexp:pe(nl),escape:pe(nl),color:pe(nl),url:pe(nl),keyword:Ls,self:pe(Ls),null:pe(Ls),atom:pe(Ls),unit:pe(Ls),modifier:pe(Ls),operatorKeyword:pe(Ls),controlKeyword:pe(Ls),definitionKeyword:pe(Ls),moduleKeyword:pe(Ls),operator:zs,derefOperator:pe(zs),arithmeticOperator:pe(zs),logicOperator:pe(zs),bitwiseOperator:pe(zs),compareOperator:pe(zs),updateOperator:pe(zs),definitionOperator:pe(zs),typeOperator:pe(zs),controlOperator:pe(zs),punctuation:_P,separator:pe(_P),bracket:hp,angleBracket:pe(hp),squareBracket:pe(hp),paren:pe(hp),brace:pe(hp),content:Us,heading:Vc,heading1:pe(Vc),heading2:pe(Vc),heading3:pe(Vc),heading4:pe(Vc),heading5:pe(Vc),heading6:pe(Vc),contentSeparator:pe(Us),list:pe(Us),quote:pe(Us),emphasis:pe(Us),strong:pe(Us),link:pe(Us),monospace:pe(Us),strikethrough:pe(Us),inserted:pe(),deleted:pe(),changed:pe(),invalid:pe(),meta:r0,documentMeta:pe(r0),annotation:pe(r0),processingInstruction:pe(r0),definition:Ui.defineModifier("definition"),constant:Ui.defineModifier("constant"),function:Ui.defineModifier("function"),standard:Ui.defineModifier("standard"),local:Ui.defineModifier("local"),special:Ui.defineModifier("special")};for(let n in N){let e=N[n];e instanceof Ui&&(e.name=n)}Ec([{tag:N.link,class:"tok-link"},{tag:N.heading,class:"tok-heading"},{tag:N.emphasis,class:"tok-emphasis"},{tag:N.strong,class:"tok-strong"},{tag:N.keyword,class:"tok-keyword"},{tag:N.atom,class:"tok-atom"},{tag:N.bool,class:"tok-bool"},{tag:N.url,class:"tok-url"},{tag:N.labelName,class:"tok-labelName"},{tag:N.inserted,class:"tok-inserted"},{tag:N.deleted,class:"tok-deleted"},{tag:N.literal,class:"tok-literal"},{tag:N.string,class:"tok-string"},{tag:N.number,class:"tok-number"},{tag:[N.regexp,N.escape,N.special(N.string)],class:"tok-string2"},{tag:N.variableName,class:"tok-variableName"},{tag:N.local(N.variableName),class:"tok-variableName tok-local"},{tag:N.definition(N.variableName),class:"tok-variableName tok-definition"},{tag:N.special(N.variableName),class:"tok-variableName2"},{tag:N.definition(N.propertyName),class:"tok-propertyName tok-definition"},{tag:N.typeName,class:"tok-typeName"},{tag:N.namespace,class:"tok-namespace"},{tag:N.className,class:"tok-className"},{tag:N.macroName,class:"tok-macroName"},{tag:N.propertyName,class:"tok-propertyName"},{tag:N.operator,class:"tok-operator"},{tag:N.comment,class:"tok-comment"},{tag:N.meta,class:"tok-meta"},{tag:N.invalid,class:"tok-invalid"},{tag:N.punctuation,class:"tok-punctuation"}]);var L1;const Up=new gt,Zme=new gt;let no=class{constructor(e,t,r=[],i=""){this.data=e,this.name=i,Ne.prototype.hasOwnProperty("tree")||Object.defineProperty(Ne.prototype,"tree",{get(){return Cr(this)}}),this.parser=t,this.extension=[uc.of(this),Ne.languageData.of((s,o,a)=>{let l=GD(s,o,a),c=l.type.prop(Up);if(!c)return[];let u=s.facet(c),h=l.type.prop(Zme);if(h){let d=l.resolve(o-l.from,a);for(let m of h)if(m.test(d,s)){let g=s.facet(m.facet);return m.type=="replace"?g:g.concat(u)}}return u})].concat(r)}isActiveAt(e,t,r=-1){return GD(e,t,r).type.prop(Up)==this.data}findRegions(e){let t=e.facet(uc);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let r=[],i=(s,o)=>{if(s.prop(Up)==this.data){r.push({from:o,to:o+s.length});return}let a=s.prop(gt.mounted);if(a){if(a.tree.prop(Up)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+o,to:l.to+o});else r.push({from:o,to:o+s.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+o),r.length>l)return}}for(let l=0;l<s.children.length;l++){let c=s.children[l];c instanceof bi&&i(c,s.positions[l]+o)}};return i(Cr(e),0),r}get allowsNesting(){return!0}};no.setState=$e.define();function GD(n,e,t){let r=n.facet(uc),i=Cr(n).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,t,er.ExcludeBuffers))s.type.isTop&&(i=s);return i}function Cr(n){let e=n.field(no.state,!1);return e?e.tree:bi.empty}let Bme=class{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}},dp=null,Fme=class TP{constructor(e,t,r=[],i,s,o,a,l){this.parser=e,this.state=t,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new TP(e,t,[],bi.empty,0,r,[],null)}startParse(){return this.parser.startParse(new Bme(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=bi.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(ov.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(ov.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=dp;dp=this;try{return e()}finally{dp=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=YD(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:i,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,u,h,d)=>l.push({fromA:c,toA:u,fromB:h,toB:d})),r=ov.applyChanges(r,l),i=bi.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),h=e.mapPos(c.to,-1);u<h&&a.push({from:u,to:h})}}}return new TP(this.parser,t,r,i,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=YD(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends Qme{createParse(t,r,i){let s=i[0].from,o=i[i.length-1].to;return{parsedPos:s,advance(){let l=dp;if(l){for(let c of i)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new bi(To.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return dp}};function YD(n,e,t){return ov.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}let PP=class CP{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new CP(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=Fme.create(e.facet(uc).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new CP(r)}};no.state=Bt.define({create:PP.init,update(n,e){for(let t of e.effects)if(t.is(no.setState))return t.value;return e.startState.facet(uc)!=e.state.facet(uc)?PP.init(e.state):n.apply(e)}});let xW=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(xW=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const z1=typeof navigator<"u"&&(!((L1=navigator.scheduling)===null||L1===void 0)&&L1.isInputPending)?()=>navigator.scheduling.isInputPending():null,Wme=Mt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(no.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(no.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=xW(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(no.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!z1?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<i&&r.doc.length>i+1e3,l=s.context.work(()=>z1&&z1()||Date.now()>o,i+(a?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:no.setState.of(new PP(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>kn(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),uc=ce.define({combine(n){return n.length?n[0]:null},enables:n=>[no.state,Wme,ue.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]}),Xme=ce.define(),GR=ce.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}});function Hw(n){let e=n.facet(GR);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function Pg(n,e){let t="",r=n.tabSize,i=n.facet(GR)[0];if(i=="	"){for(;e>=r;)t+="	",e-=r;i=" "}for(let s=0;s<e;s++)t+=i;return t}function YR(n,e){n instanceof Ne&&(n=new Lb(n));for(let r of n.state.facet(Xme)){let i=r(n,e);if(i!==void 0)return i}let t=Cr(n.state);return t.length>=e?Yme(n,t,e):null}class Lb{constructor(e,t={}){this.state=e,this.options=t,this.unit=Hw(e)}lineAt(e,t=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:s}=this.options;return i!=null&&i>=r.from&&i<=r.to?s&&i==e?{text:"",from:e}:(t<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,t);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,t=1){let{text:r,from:i}=this.lineAt(e,t),s=this.countColumn(r,e-i),o=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return o>-1&&(s+=o-this.countColumn(r,r.search(/\S|$/))),s}countColumn(e,t=e.length){return Tf(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:r,from:i}=this.lineAt(e,t),s=this.options.overrideIndentation;if(s){let o=s(i);if(o>-1)return o}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const Gme=new gt;function Yme(n,e,t){let r=e.resolveStack(t),i=e.resolveInner(t,-1).resolve(t,0).enterUnfinishedNodesBefore(t);if(i!=r.node){let s=[];for(let o=i;o&&!(o.from==r.node.from&&o.type==r.node.type);o=o.parent)s.push(o);for(let o=s.length-1;o>=0;o--)r={node:s[o],next:r}}return bW(r,n,t)}function bW(n,e,t){for(let r=n;r;r=r.next){let i=Kme(r.node);if(i)return i(HR.create(e,t,r))}return 0}function Hme(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function Kme(n){let e=n.type.prop(Gme);if(e)return e;let t=n.firstChild,r;if(t&&(r=t.type.prop(gt.closedBy))){let i=n.lastChild,s=i&&r.indexOf(i.name)>-1;return o=>nge(o,!0,1,void 0,s&&!Hme(o)?i.from:void 0)}return n.parent==null?Jme:null}function Jme(){return 0}class HR extends Lb{constructor(e,t,r){super(e.state,e.options),this.base=e,this.pos=t,this.context=r}get node(){return this.context.node}static create(e,t,r){return new HR(e,t,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(t.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(ege(r,e))break;t=this.state.doc.lineAt(r.from)}return this.lineIndent(t.from)}continue(){return bW(this.context.next,this.base,this.pos)}}function ege(n,e){for(let t=e;t;t=t.parent)if(n==t)return!0;return!1}function tge(n){let e=n.node,t=e.childAfter(e.from),r=e.lastChild;if(!t)return null;let i=n.options.simulateBreak,s=n.state.doc.lineAt(t.from),o=i==null||i<=s.from?s.to:Math.min(s.to,i);for(let a=t.to;;){let l=e.childAfter(a);if(!l||l==r)return null;if(!l.type.isSkipped){if(l.from>=o)return null;let c=/^ */.exec(s.text.slice(t.to-s.from))[0].length;return{from:t.from,to:t.to+c}}a=l.to}}function nge(n,e,t,r,i){let s=n.textAfter,o=s.match(/^\s*/)[0].length,a=i==n.pos+o,l=tge(n);return l?a?n.column(l.from):n.column(l.to):n.baseIndent+(a?0:n.unit*t)}const rge=200;function ige(){return Ne.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let e=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!e.length)return n;let t=n.newDoc,{head:r}=n.newSelection.main,i=t.lineAt(r);if(r>i.from+rge)return n;let s=t.sliceString(i.from,r);if(!e.some(c=>c.test(s)))return n;let{state:o}=n,a=-1,l=[];for(let{head:c}of o.selection.ranges){let u=o.doc.lineAt(c);if(u.from==a)continue;a=u.from;let h=YR(o,u.from);if(h==null)continue;let d=/^\s*/.exec(u.text)[0],m=Pg(o,h);d!=m&&l.push({from:u.from,to:u.from+d.length,insert:m})}return l.length?[n,{changes:l,sequential:!0}]:n})}const sge=ce.define(),oge=new gt;function age(n,e,t){let r=Cr(n);if(r.length<t)return null;let i=r.resolveStack(t,1),s=null;for(let o=i;o;o=o.next){let a=o.node;if(a.to<=t||a.from>t)continue;if(s&&a.from<e)break;let l=a.type.prop(oge);if(l&&(a.to<r.length-50||r.length==n.doc.length||!lge(a))){let c=l(a,n);c&&c.from<=t&&c.from>=e&&c.to>t&&(s=c)}}return s}function lge(n){let e=n.lastChild;return e&&e.to==n.to&&e.type.isError}function Kw(n,e,t){for(let r of n.facet(sge)){let i=r(n,e,t);if(i)return i}return age(n,e,t)}function SW(n,e){let t=e.mapPos(n.from,1),r=e.mapPos(n.to,-1);return t>=r?void 0:{from:t,to:r}}const zb=$e.define({map:SW}),jO=$e.define({map:SW});function kW(n){let e=[];for(let{head:t}of n.state.selection.ranges)e.some(r=>r.from<=t&&r.to>=t)||e.push(n.lineBlockAt(t));return e}const Iu=Bt.define({create(){return me.none},update(n,e){n=n.map(e.changes);for(let t of e.effects)if(t.is(zb)&&!cge(n,t.value.from,t.value.to)){let{preparePlaceholder:r}=e.state.facet(PW),i=r?me.replace({widget:new gge(r(e.state,t.value))}):HD;n=n.update({add:[i.range(t.value.from,t.value.to)]})}else t.is(jO)&&(n=n.update({filter:(r,i)=>t.value.from!=r||t.value.to!=i,filterFrom:t.value.from,filterTo:t.value.to}));if(e.selection){let t=!1,{head:r}=e.selection.main;n.between(r,r,(i,s)=>{i<r&&s>r&&(t=!0)}),t&&(n=n.update({filterFrom:r,filterTo:r,filter:(i,s)=>s<=r||i>=r}))}return n},provide:n=>ue.decorations.from(n),toJSON(n,e){let t=[];return n.between(0,e.doc.length,(r,i)=>{t.push(r,i)}),t},fromJSON(n){if(!Array.isArray(n)||n.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<n.length;){let r=n[t++],i=n[t++];if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(HD.range(r,i))}return me.set(e,!0)}});function Jw(n,e,t){var r;let i=null;return(r=n.field(Iu,!1))===null||r===void 0||r.between(e,t,(s,o)=>{(!i||i.from>s)&&(i={from:s,to:o})}),i}function cge(n,e,t){let r=!1;return n.between(e,e,(i,s)=>{i==e&&s==t&&(r=!0)}),r}function _W(n,e){return n.field(Iu,!1)?e:e.concat($e.appendConfig.of(CW()))}const uge=n=>{for(let e of kW(n)){let t=Kw(n.state,e.from,e.to);if(t)return n.dispatch({effects:_W(n.state,[zb.of(t),TW(n,t)])}),!0}return!1},hge=n=>{if(!n.state.field(Iu,!1))return!1;let e=[];for(let t of kW(n)){let r=Jw(n.state,t.from,t.to);r&&e.push(jO.of(r),TW(n,r,!1))}return e.length&&n.dispatch({effects:e}),e.length>0};function TW(n,e,t=!0){let r=n.state.doc.lineAt(e.from).number,i=n.state.doc.lineAt(e.to).number;return ue.announce.of(`${n.state.phrase(t?"Folded lines":"Unfolded lines")} ${r} ${n.state.phrase("to")} ${i}.`)}const dge=n=>{let{state:e}=n,t=[];for(let r=0;r<e.doc.length;){let i=n.lineBlockAt(r),s=Kw(e,i.from,i.to);s&&t.push(zb.of(s)),r=(s?n.lineBlockAt(s.to):i).to+1}return t.length&&n.dispatch({effects:_W(n.state,t)}),!!t.length},fge=n=>{let e=n.state.field(Iu,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,n.state.doc.length,(r,i)=>{t.push(jO.of({from:r,to:i}))}),n.dispatch({effects:t}),!0},pge=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:uge},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:hge},{key:"Ctrl-Alt-[",run:dge},{key:"Ctrl-Alt-]",run:fge}],mge={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},PW=ce.define({combine(n){return Vo(n,mge)}});function CW(n){return[Iu,vge]}function EW(n,e){let{state:t}=n,r=t.facet(PW),i=o=>{let a=n.lineBlockAt(n.posAtDOM(o.target)),l=Jw(n.state,a.from,a.to);l&&n.dispatch({effects:jO.of(l)}),o.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(n,i,e);let s=document.createElement("span");return s.textContent=r.placeholderText,s.setAttribute("aria-label",t.phrase("folded code")),s.title=t.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=i,s}const HD=me.replace({widget:new class extends Lo{toDOM(n){return EW(n,null)}}});class gge extends Lo{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return EW(e,this.value)}}const Oge={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class U1 extends Qa{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function yge(n={}){let e=Object.assign(Object.assign({},Oge),n),t=new U1(e,!0),r=new U1(e,!1),i=Mt.fromClass(class{constructor(o){this.from=o.viewport.from,this.markers=this.buildMarkers(o)}update(o){(o.docChanged||o.viewportChanged||o.startState.facet(uc)!=o.state.facet(uc)||o.startState.field(Iu,!1)!=o.state.field(Iu,!1)||Cr(o.startState)!=Cr(o.state)||e.foldingChanged(o))&&(this.markers=this.buildMarkers(o.view))}buildMarkers(o){let a=new Aa;for(let l of o.viewportLineBlocks){let c=Jw(o.state,l.from,l.to)?r:Kw(o.state,l.from,l.to)?t:null;c&&a.add(l.from,l.from,c)}return a.finish()}}),{domEventHandlers:s}=e;return[i,fme({class:"cm-foldGutter",markers(o){var a;return((a=o.plugin(i))===null||a===void 0?void 0:a.markers)||ft.empty},initialSpacer(){return new U1(e,!1)},domEventHandlers:Object.assign(Object.assign({},s),{click:(o,a,l)=>{if(s.click&&s.click(o,a,l))return!0;let c=Jw(o.state,a.from,a.to);if(c)return o.dispatch({effects:jO.of(c)}),!0;let u=Kw(o.state,a.from,a.to);return u?(o.dispatch({effects:zb.of(u)}),!0):!1}})}),CW()]}const vge=ue.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});let AW=class RW{constructor(e,t){this.specs=e;let r;function i(a){let l=_n.newName();return(r||(r=Object.create(null)))["."+l]=a,l}const s=typeof t.all=="string"?t.all:t.all?i(t.all):void 0,o=t.scope;this.scope=o instanceof no?a=>a.prop(Up)==o.data:o?a=>a==o:void 0,this.style=Ec(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=r?new _n(r):null,this.themeType=t.themeType}static define(e,t){return new RW(e,t||{})}};const EP=ce.define(),QW=ce.define({combine(n){return n.length?[n[0]]:null}});function q1(n){let e=n.facet(EP);return e.length?e:n.facet(QW)}function wge(n,e){let t=[bge],r;return n instanceof AW&&(n.module&&t.push(ue.styleModule.of(n.module)),r=n.themeType),e!=null&&e.fallback?t.push(QW.of(n)):r?t.push(EP.computeN([ue.darkTheme],i=>i.facet(ue.darkTheme)==(r=="dark")?[n]:[])):t.push(EP.of(n)),t}class xge{constructor(e){this.markCache=Object.create(null),this.tree=Cr(e.state),this.decorations=this.buildDeco(e,q1(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=Cr(e.state),r=q1(e.state),i=r!=q1(e.startState),{viewport:s}=e.view,o=e.changes.mapPos(this.decoratedTo,1);t.length<s.to&&!i&&t.type==this.tree.type&&o>=s.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=o):(t!=this.tree||e.viewportChanged||i)&&(this.tree=t,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=s.to)}buildDeco(e,t){if(!t||!this.tree.length)return me.none;let r=new Aa;for(let{from:i,to:s}of e.visibleRanges)zme(this.tree,t,(o,a,l)=>{r.add(o,a,this.markCache[l]||(this.markCache[l]=me.mark({class:l})))},i,s);return r.finish()}}const bge=za.high(Mt.fromClass(xge,{decorations:n=>n.decorations})),Sge=AW.define([{tag:N.meta,color:"#404740"},{tag:N.link,textDecoration:"underline"},{tag:N.heading,textDecoration:"underline",fontWeight:"bold"},{tag:N.emphasis,fontStyle:"italic"},{tag:N.strong,fontWeight:"bold"},{tag:N.strikethrough,textDecoration:"line-through"},{tag:N.keyword,color:"#708"},{tag:[N.atom,N.bool,N.url,N.contentSeparator,N.labelName],color:"#219"},{tag:[N.literal,N.inserted],color:"#164"},{tag:[N.string,N.deleted],color:"#a11"},{tag:[N.regexp,N.escape,N.special(N.string)],color:"#e40"},{tag:N.definition(N.variableName),color:"#00f"},{tag:N.local(N.variableName),color:"#30a"},{tag:[N.typeName,N.namespace],color:"#085"},{tag:N.className,color:"#167"},{tag:[N.special(N.variableName),N.macroName],color:"#256"},{tag:N.definition(N.propertyName),color:"#00c"},{tag:N.comment,color:"#940"},{tag:N.invalid,color:"#f00"}]),kge=ue.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),$W=1e4,IW="()[]{}",NW=ce.define({combine(n){return Vo(n,{afterCursor:!0,brackets:IW,maxScanDistance:$W,renderMatch:Pge})}}),_ge=me.mark({class:"cm-matchingBracket"}),Tge=me.mark({class:"cm-nonmatchingBracket"});function Pge(n){let e=[],t=n.matched?_ge:Tge;return e.push(t.range(n.start.from,n.start.to)),n.end&&e.push(t.range(n.end.from,n.end.to)),e}const Cge=Bt.define({create(){return me.none},update(n,e){if(!e.docChanged&&!e.selection)return n;let t=[],r=e.state.facet(NW);for(let i of e.state.selection.ranges){if(!i.empty)continue;let s=ro(e.state,i.head,-1,r)||i.head>0&&ro(e.state,i.head-1,1,r)||r.afterCursor&&(ro(e.state,i.head,1,r)||i.head<e.state.doc.length&&ro(e.state,i.head+1,-1,r));s&&(t=t.concat(r.renderMatch(s,e.state)))}return me.set(t,!0)},provide:n=>ue.decorations.from(n)}),Ege=[Cge,kge];function Age(n={}){return[NW.of(n),Ege]}const Rge=new gt;function AP(n,e,t){let r=n.prop(e<0?gt.openedBy:gt.closedBy);if(r)return r;if(n.name.length==1){let i=t.indexOf(n.name);if(i>-1&&i%2==(e<0?1:0))return[t[i+e]]}return null}function RP(n){let e=n.type.prop(Rge);return e?e(n.node):n}function ro(n,e,t,r={}){let i=r.maxScanDistance||$W,s=r.brackets||IW,o=Cr(n),a=o.resolveInner(e,t);for(let l=a;l;l=l.parent){let c=AP(l.type,t,s);if(c&&l.from<l.to){let u=RP(l);if(u&&(t>0?e>=u.from&&e<u.to:e>u.from&&e<=u.to))return Qge(n,e,t,l,u,c,s)}}return $ge(n,e,t,o,a.type,i,s)}function Qge(n,e,t,r,i,s,o){let a=r.parent,l={from:i.from,to:i.to},c=0,u=a==null?void 0:a.cursor();if(u&&(t<0?u.childBefore(r.from):u.childAfter(r.to)))do if(t<0?u.to<=r.from:u.from>=r.to){if(c==0&&s.indexOf(u.type.name)>-1&&u.from<u.to){let h=RP(u);return{start:l,end:h?{from:h.from,to:h.to}:void 0,matched:!0}}else if(AP(u.type,t,o))c++;else if(AP(u.type,-t,o)){if(c==0){let h=RP(u);return{start:l,end:h&&h.from<h.to?{from:h.from,to:h.to}:void 0,matched:!1}}c--}}while(t<0?u.prevSibling():u.nextSibling());return{start:l,matched:!1}}function $ge(n,e,t,r,i,s,o){let a=t<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),l=o.indexOf(a);if(l<0||l%2==0!=t>0)return null;let c={from:t<0?e-1:e,to:t>0?e+1:e},u=n.doc.iterRange(e,t>0?n.doc.length:0),h=0;for(let d=0;!u.next().done&&d<=s;){let m=u.value;t<0&&(d+=m.length);let g=e+d*t;for(let y=t>0?0:m.length-1,v=t>0?m.length:-1;y!=v;y+=t){let S=o.indexOf(m[y]);if(!(S<0||r.resolveInner(g+y,1).type!=i))if(S%2==0==t>0)h++;else{if(h==1)return{start:c,end:{from:g+y,to:g+y+1},matched:S>>1==l>>1};h--}}t>0&&(d+=m.length)}return u.done?{start:c,matched:!1}:null}const Ige=Object.create(null),KD=[To.none],JD=[],eM=Object.create(null),Nge=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Nge[n]=jge(Ige,e);function Z1(n,e){JD.indexOf(n)>-1||(JD.push(n),console.warn(e))}function jge(n,e){let t=[];for(let a of e.split(" ")){let l=[];for(let c of a.split(".")){let u=n[c]||N[c];u?typeof u=="function"?l.length?l=l.map(u):Z1(c,`Modifier ${c} used at start of tag`):l.length?Z1(c,`Tag ${c} used as modifier`):l=Array.isArray(u)?u:[u]:Z1(c,`Unknown highlighting tag ${c}`)}for(let c of l)t.push(c)}if(!t.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+t.map(a=>a.id),s=eM[i];if(s)return s.id;let o=eM[i]=To.define({id:KD.length,name:r,props:[Ni({[r]:t})]});return KD.push(o),o.id}Je.RTL,Je.LTR;const Dge=n=>{let{state:e}=n,t=e.doc.lineAt(e.selection.main.from),r=JR(n.state,t.from);return r.line?Mge(n):r.block?Lge(n):!1};function KR(n,e){return({state:t,dispatch:r})=>{if(t.readOnly)return!1;let i=n(e,t);return i?(r(t.update(i)),!0):!1}}const Mge=KR(qge,0),Vge=KR(jW,0),Lge=KR((n,e)=>jW(n,e,Uge(e)),0);function JR(n,e){let t=n.languageDataAt("commentTokens",e);return t.length?t[0]:{}}const fp=50;function zge(n,{open:e,close:t},r,i){let s=n.sliceDoc(r-fp,r),o=n.sliceDoc(i,i+fp),a=/\s*$/.exec(s)[0].length,l=/^\s*/.exec(o)[0].length,c=s.length-a;if(s.slice(c-e.length,c)==e&&o.slice(l,l+t.length)==t)return{open:{pos:r-a,margin:a&&1},close:{pos:i+l,margin:l&&1}};let u,h;i-r<=2*fp?u=h=n.sliceDoc(r,i):(u=n.sliceDoc(r,r+fp),h=n.sliceDoc(i-fp,i));let d=/^\s*/.exec(u)[0].length,m=/\s*$/.exec(h)[0].length,g=h.length-m-t.length;return u.slice(d,d+e.length)==e&&h.slice(g,g+t.length)==t?{open:{pos:r+d+e.length,margin:/\s/.test(u.charAt(d+e.length))?1:0},close:{pos:i-m-t.length,margin:/\s/.test(h.charAt(g-1))?1:0}}:null}function Uge(n){let e=[];for(let t of n.selection.ranges){let r=n.doc.lineAt(t.from),i=t.to<=r.to?r:n.doc.lineAt(t.to);i.from>r.from&&i.from==t.to&&(i=t.to==r.to+1?r:n.doc.lineAt(t.to-1));let s=e.length-1;s>=0&&e[s].to>r.from?e[s].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}function jW(n,e,t=e.selection.ranges){let r=t.map(s=>JR(e,s.from).block);if(!r.every(s=>s))return null;let i=t.map((s,o)=>zge(e,r[o],s.from,s.to));if(n!=2&&!i.every(s=>s))return{changes:e.changes(t.map((s,o)=>i[o]?[]:[{from:s.from,insert:r[o].open+" "},{from:s.to,insert:" "+r[o].close}]))};if(n!=1&&i.some(s=>s)){let s=[];for(let o=0,a;o<i.length;o++)if(a=i[o]){let l=r[o],{open:c,close:u}=a;s.push({from:c.pos-l.open.length,to:c.pos+c.margin},{from:u.pos-u.margin,to:u.pos+l.close.length})}return{changes:s}}return null}function qge(n,e,t=e.selection.ranges){let r=[],i=-1;for(let{from:s,to:o}of t){let a=r.length,l=1e9,c=JR(e,s).line;if(c){for(let u=s;u<=o;){let h=e.doc.lineAt(u);if(h.from>i&&(s==o||o>h.from)){i=h.from;let d=/^\s*/.exec(h.text)[0].length,m=d==h.length,g=h.text.slice(d,d+c.length)==c?d:-1;d<h.text.length&&d<l&&(l=d),r.push({line:h,comment:g,token:c,indent:d,empty:m,single:!1})}u=h.to+1}if(l<1e9)for(let u=a;u<r.length;u++)r[u].indent<r[u].line.text.length&&(r[u].indent=l);r.length==a+1&&(r[a].single=!0)}}if(n!=2&&r.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:a,token:l,indent:c,empty:u,single:h}of r)(h||!u)&&s.push({from:a.from+c,insert:l+" "});let o=e.changes(s);return{changes:o,selection:e.selection.map(o,1)}}else if(n!=1&&r.some(s=>s.comment>=0)){let s=[];for(let{line:o,comment:a,token:l}of r)if(a>=0){let c=o.from+a,u=c+l.length;o.text[u-o.from]==" "&&u++,s.push({from:c,to:u})}return{changes:s}}return null}const QP=Is.define(),Zge=Is.define(),Bge=ce.define(),DW=ce.define({combine(n){return Vo(n,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(r,i)=>e(r,i)||t(r,i)})}}),MW=Bt.define({create(){return io.empty},update(n,e){let t=e.state.facet(DW),r=e.annotation(QP);if(r){let l=ni.fromTransaction(e,r.selection),c=r.side,u=c==0?n.undone:n.done;return l?u=ex(u,u.length,t.minDepth,l):u=zW(u,e.startState.selection),new io(c==0?r.rest:u,c==0?u:r.rest)}let i=e.annotation(Zge);if((i=="full"||i=="before")&&(n=n.isolate()),e.annotation(gn.addToHistory)===!1)return e.changes.empty?n:n.addMapping(e.changes.desc);let s=ni.fromTransaction(e),o=e.annotation(gn.time),a=e.annotation(gn.userEvent);return s?n=n.addChanges(s,o,a,t,e):e.selection&&(n=n.addSelection(e.startState.selection,o,a,t.newGroupDelay)),(i=="full"||i=="after")&&(n=n.isolate()),n},toJSON(n){return{done:n.done.map(e=>e.toJSON()),undone:n.undone.map(e=>e.toJSON())}},fromJSON(n){return new io(n.done.map(ni.fromJSON),n.undone.map(ni.fromJSON))}});function Fge(n={}){return[MW,DW.of(n),ue.domEventHandlers({beforeinput(e,t){let r=e.inputType=="historyUndo"?VW:e.inputType=="historyRedo"?$P:null;return r?(e.preventDefault(),r(t)):!1}})]}function Ub(n,e){return function({state:t,dispatch:r}){if(!e&&t.readOnly)return!1;let i=t.field(MW,!1);if(!i)return!1;let s=i.pop(n,t,e);return s?(r(s),!0):!1}}const VW=Ub(0,!1),$P=Ub(1,!1),Wge=Ub(0,!0),Xge=Ub(1,!0);class ni{constructor(e,t,r,i,s){this.changes=e,this.effects=t,this.mapped=r,this.startSelection=i,this.selectionsAfter=s}setSelAfter(e){return new ni(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new ni(e.changes&&En.fromJSON(e.changes),[],e.mapped&&go.fromJSON(e.mapped),e.startSelection&&J.fromJSON(e.startSelection),e.selectionsAfter.map(J.fromJSON))}static fromTransaction(e,t){let r=Bi;for(let i of e.startState.facet(Bge)){let s=i(e);s.length&&(r=r.concat(s))}return!r.length&&e.changes.empty?null:new ni(e.changes.invert(e.startState.doc),r,void 0,t||e.startState.selection,Bi)}static selection(e){return new ni(void 0,Bi,void 0,void 0,e)}}function ex(n,e,t,r){let i=e+1>t+20?e-t-1:0,s=n.slice(i,e);return s.push(r),s}function Gge(n,e){let t=[],r=!1;return n.iterChangedRanges((i,s)=>t.push(i,s)),e.iterChangedRanges((i,s,o,a)=>{for(let l=0;l<t.length;){let c=t[l++],u=t[l++];a>=c&&o<=u&&(r=!0)}}),r}function Yge(n,e){return n.ranges.length==e.ranges.length&&n.ranges.filter((t,r)=>t.empty!=e.ranges[r].empty).length===0}function LW(n,e){return n.length?e.length?n.concat(e):n:e}const Bi=[],Hge=200;function zW(n,e){if(n.length){let t=n[n.length-1],r=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-Hge));return r.length&&r[r.length-1].eq(e)?n:(r.push(e),ex(n,n.length-1,1e9,t.setSelAfter(r)))}else return[ni.selection([e])]}function Kge(n){let e=n[n.length-1],t=n.slice();return t[n.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function B1(n,e){if(!n.length)return n;let t=n.length,r=Bi;for(;t;){let i=Jge(n[t-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let s=n.slice(0,t);return s[t-1]=i,s}else e=i.mapped,t--,r=i.selectionsAfter}return r.length?[ni.selection(r)]:Bi}function Jge(n,e,t){let r=LW(n.selectionsAfter.length?n.selectionsAfter.map(a=>a.map(e)):Bi,t);if(!n.changes)return ni.selection(r);let i=n.changes.map(e),s=e.mapDesc(n.changes,!0),o=n.mapped?n.mapped.composeDesc(s):s;return new ni(i,$e.mapEffects(n.effects,e),o,n.startSelection.map(s),r)}const eOe=/^(input\.type|delete)($|\.)/;class io{constructor(e,t,r=0,i=void 0){this.done=e,this.undone=t,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new io(this.done,this.undone):this}addChanges(e,t,r,i,s){let o=this.done,a=o[o.length-1];return a&&a.changes&&!a.changes.empty&&e.changes&&(!r||eOe.test(r))&&(!a.selectionsAfter.length&&t-this.prevTime<i.newGroupDelay&&i.joinToEvent(s,Gge(a.changes,e.changes))||r=="input.type.compose")?o=ex(o,o.length-1,i.minDepth,new ni(e.changes.compose(a.changes),LW($e.mapEffects(e.effects,a.changes),a.effects),a.mapped,a.startSelection,Bi)):o=ex(o,o.length,i.minDepth,e),new io(o,Bi,t,r)}addSelection(e,t,r,i){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:Bi;return s.length>0&&t-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&Yge(s[s.length-1],e)?this:new io(zW(this.done,e),this.undone,t,r)}addMapping(e){return new io(B1(this.done,e),B1(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,r){let i=e==0?this.done:this.undone;if(i.length==0)return null;let s=i[i.length-1],o=s.selectionsAfter[0]||t.selection;if(r&&s.selectionsAfter.length)return t.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:QP.of({side:e,rest:Kge(i),selection:o}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let a=i.length==1?Bi:i.slice(0,i.length-1);return s.mapped&&(a=B1(a,s.mapped)),t.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:QP.of({side:e,rest:a,selection:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}io.empty=new io(Bi,Bi);const tOe=[{key:"Mod-z",run:VW,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:$P,preventDefault:!0},{linux:"Ctrl-Shift-z",run:$P,preventDefault:!0},{key:"Mod-u",run:Wge,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:Xge,preventDefault:!0}];function Pf(n,e){return J.create(n.ranges.map(e),n.mainIndex)}function zo(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Ns({state:n,dispatch:e},t){let r=Pf(n.selection,t);return r.eq(n.selection,!0)?!1:(e(zo(n,r)),!0)}function qb(n,e){return J.cursor(e?n.to:n.from)}function UW(n,e){return Ns(n,t=>t.empty?n.moveByChar(t,e):qb(t,e))}function Er(n){return n.textDirectionAt(n.state.selection.main.head)==Je.LTR}const qW=n=>UW(n,!Er(n)),ZW=n=>UW(n,Er(n));function BW(n,e){return Ns(n,t=>t.empty?n.moveByGroup(t,e):qb(t,e))}const nOe=n=>BW(n,!Er(n)),rOe=n=>BW(n,Er(n));function iOe(n,e,t){if(e.type.prop(t))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function Zb(n,e,t){let r=Cr(n).resolveInner(e.head),i=t?gt.closedBy:gt.openedBy;for(let l=e.head;;){let c=t?r.childAfter(l):r.childBefore(l);if(!c)break;iOe(n,c,i)?r=c:l=t?c.to:c.from}let s=r.type.prop(i),o,a;return s&&(o=t?ro(n,r.from,1):ro(n,r.to,-1))&&o.matched?a=t?o.end.to:o.end.from:a=t?r.to:r.from,J.cursor(a,t?-1:1)}const sOe=n=>Ns(n,e=>Zb(n.state,e,!Er(n))),oOe=n=>Ns(n,e=>Zb(n.state,e,Er(n)));function FW(n,e){return Ns(n,t=>{if(!t.empty)return qb(t,e);let r=n.moveVertically(t,e);return r.head!=t.head?r:n.moveToLineBoundary(t,e)})}const WW=n=>FW(n,!1),XW=n=>FW(n,!0);function GW(n){let e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,t=0,r=0,i;if(e){for(let s of n.state.facet(ue.scrollMargins)){let o=s(n);o!=null&&o.top&&(t=Math.max(o==null?void 0:o.top,t)),o!=null&&o.bottom&&(r=Math.max(o==null?void 0:o.bottom,r))}i=n.scrollDOM.clientHeight-t-r}else i=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:r,selfScroll:e,height:Math.max(n.defaultLineHeight,i-5)}}function YW(n,e){let t=GW(n),{state:r}=n,i=Pf(r.selection,o=>o.empty?n.moveVertically(o,e,t.height):qb(o,e));if(i.eq(r.selection))return!1;let s;if(t.selfScroll){let o=n.coordsAtPos(r.selection.main.head),a=n.scrollDOM.getBoundingClientRect(),l=a.top+t.marginTop,c=a.bottom-t.marginBottom;o&&o.top>l&&o.bottom<c&&(s=ue.scrollIntoView(i.main.head,{y:"start",yMargin:o.top-l}))}return n.dispatch(zo(r,i),{effects:s}),!0}const tM=n=>YW(n,!1),IP=n=>YW(n,!0);function Ac(n,e,t){let r=n.lineBlockAt(e.head),i=n.moveToLineBoundary(e,t);if(i.head==e.head&&i.head!=(t?r.to:r.from)&&(i=n.moveToLineBoundary(e,t,!1)),!t&&i.head==r.from&&r.length){let s=/^\s*/.exec(n.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;s&&e.head!=r.from+s&&(i=J.cursor(r.from+s))}return i}const aOe=n=>Ns(n,e=>Ac(n,e,!0)),lOe=n=>Ns(n,e=>Ac(n,e,!1)),cOe=n=>Ns(n,e=>Ac(n,e,!Er(n))),uOe=n=>Ns(n,e=>Ac(n,e,Er(n))),hOe=n=>Ns(n,e=>J.cursor(n.lineBlockAt(e.head).from,1)),dOe=n=>Ns(n,e=>J.cursor(n.lineBlockAt(e.head).to,-1));function fOe(n,e,t){let r=!1,i=Pf(n.selection,s=>{let o=ro(n,s.head,-1)||ro(n,s.head,1)||s.head>0&&ro(n,s.head-1,1)||s.head<n.doc.length&&ro(n,s.head+1,-1);if(!o||!o.end)return s;r=!0;let a=o.start.from==s.head?o.end.to:o.end.from;return J.cursor(a)});return r?(e(zo(n,i)),!0):!1}const pOe=({state:n,dispatch:e})=>fOe(n,e);function rs(n,e){let t=Pf(n.state.selection,r=>{let i=e(r);return J.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return t.eq(n.state.selection)?!1:(n.dispatch(zo(n.state,t)),!0)}function HW(n,e){return rs(n,t=>n.moveByChar(t,e))}const KW=n=>HW(n,!Er(n)),JW=n=>HW(n,Er(n));function eX(n,e){return rs(n,t=>n.moveByGroup(t,e))}const mOe=n=>eX(n,!Er(n)),gOe=n=>eX(n,Er(n)),OOe=n=>rs(n,e=>Zb(n.state,e,!Er(n))),yOe=n=>rs(n,e=>Zb(n.state,e,Er(n)));function tX(n,e){return rs(n,t=>n.moveVertically(t,e))}const nX=n=>tX(n,!1),rX=n=>tX(n,!0);function iX(n,e){return rs(n,t=>n.moveVertically(t,e,GW(n).height))}const nM=n=>iX(n,!1),rM=n=>iX(n,!0),vOe=n=>rs(n,e=>Ac(n,e,!0)),wOe=n=>rs(n,e=>Ac(n,e,!1)),xOe=n=>rs(n,e=>Ac(n,e,!Er(n))),bOe=n=>rs(n,e=>Ac(n,e,Er(n))),SOe=n=>rs(n,e=>J.cursor(n.lineBlockAt(e.head).from)),kOe=n=>rs(n,e=>J.cursor(n.lineBlockAt(e.head).to)),iM=({state:n,dispatch:e})=>(e(zo(n,{anchor:0})),!0),sM=({state:n,dispatch:e})=>(e(zo(n,{anchor:n.doc.length})),!0),oM=({state:n,dispatch:e})=>(e(zo(n,{anchor:n.selection.main.anchor,head:0})),!0),aM=({state:n,dispatch:e})=>(e(zo(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),_Oe=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),TOe=({state:n,dispatch:e})=>{let t=Bb(n).map(({from:r,to:i})=>J.range(r,Math.min(i+1,n.doc.length)));return e(n.update({selection:J.create(t),userEvent:"select"})),!0},POe=({state:n,dispatch:e})=>{let t=Pf(n.selection,r=>{let i=Cr(n),s=i.resolveStack(r.from,1);if(r.empty){let o=i.resolveStack(r.from,-1);o.node.from>=s.node.from&&o.node.to<=s.node.to&&(s=o)}for(let o=s;o;o=o.next){let{node:a}=o;if((a.from<r.from&&a.to>=r.to||a.to>r.to&&a.from<=r.from)&&o.next)return J.range(a.to,a.from)}return r});return t.eq(n.selection)?!1:(e(zo(n,t)),!0)},COe=({state:n,dispatch:e})=>{let t=n.selection,r=null;return t.ranges.length>1?r=J.create([t.main]):t.main.empty||(r=J.create([J.cursor(t.main.head)])),r?(e(zo(n,r)),!0):!1};function DO(n,e){if(n.state.readOnly)return!1;let t="delete.selection",{state:r}=n,i=r.changeByRange(s=>{let{from:o,to:a}=s;if(o==a){let l=e(s);l<o?(t="delete.backward",l=i0(n,l,!1)):l>o&&(t="delete.forward",l=i0(n,l,!0)),o=Math.min(o,l),a=Math.max(a,l)}else o=i0(n,o,!1),a=i0(n,a,!0);return o==a?{range:s}:{changes:{from:o,to:a},range:J.cursor(o,o<s.head?-1:1)}});return i.changes.empty?!1:(n.dispatch(r.update(i,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?ue.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function i0(n,e,t){if(n instanceof ue)for(let r of n.state.facet(ue.atomicRanges).map(i=>i(n)))r.between(e,e,(i,s)=>{i<e&&s>e&&(e=t?s:i)});return e}const sX=(n,e,t)=>DO(n,r=>{let i=r.from,{state:s}=n,o=s.doc.lineAt(i),a,l;if(t&&!e&&i>o.from&&i<o.from+200&&!/[^ \t]/.test(a=o.text.slice(0,i-o.from))){if(a[a.length-1]=="	")return i-1;let c=Tf(a,s.tabSize),u=c%Hw(s)||Hw(s);for(let h=0;h<u&&a[a.length-1-h]==" ";h++)i--;l=i}else l=or(o.text,i-o.from,e,e)+o.from,l==i&&o.number!=(e?s.doc.lines:1)?l+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(o.text.slice(l-o.from,i-o.from))&&(l=or(o.text,l-o.from,!1,!1)+o.from);return l}),NP=n=>sX(n,!1,!0),oX=n=>sX(n,!0,!1),aX=(n,e)=>DO(n,t=>{let r=t.head,{state:i}=n,s=i.doc.lineAt(r),o=i.charCategorizer(r);for(let a=null;;){if(r==(e?s.to:s.from)){r==t.head&&s.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let l=or(s.text,r-s.from,e)+s.from,c=s.text.slice(Math.min(r,l)-s.from,Math.max(r,l)-s.from),u=o(c);if(a!=null&&u!=a)break;(c!=" "||r!=t.head)&&(a=u),r=l}return r}),lX=n=>aX(n,!1),EOe=n=>aX(n,!0),AOe=n=>DO(n,e=>{let t=n.lineBlockAt(e.head).to;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),ROe=n=>DO(n,e=>{let t=n.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),QOe=n=>DO(n,e=>{let t=n.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),$Oe=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:lt.of(["",""])},range:J.cursor(r.from)}));return e(n.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},IOe=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>{if(!r.empty||r.from==0||r.from==n.doc.length)return{range:r};let i=r.from,s=n.doc.lineAt(i),o=i==s.from?i-1:or(s.text,i-s.from,!1)+s.from,a=i==s.to?i+1:or(s.text,i-s.from,!0)+s.from;return{changes:{from:o,to:a,insert:n.doc.slice(i,a).append(n.doc.slice(o,i))},range:J.cursor(a)}});return t.changes.empty?!1:(e(n.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Bb(n){let e=[],t=-1;for(let r of n.selection.ranges){let i=n.doc.lineAt(r.from),s=n.doc.lineAt(r.to);if(!r.empty&&r.to==s.from&&(s=n.doc.lineAt(r.to-1)),t>=i.number){let o=e[e.length-1];o.to=s.to,o.ranges.push(r)}else e.push({from:i.from,to:s.to,ranges:[r]});t=s.number+1}return e}function cX(n,e,t){if(n.readOnly)return!1;let r=[],i=[];for(let s of Bb(n)){if(t?s.to==n.doc.length:s.from==0)continue;let o=n.doc.lineAt(t?s.to+1:s.from-1),a=o.length+1;if(t){r.push({from:s.to,to:o.to},{from:s.from,insert:o.text+n.lineBreak});for(let l of s.ranges)i.push(J.range(Math.min(n.doc.length,l.anchor+a),Math.min(n.doc.length,l.head+a)))}else{r.push({from:o.from,to:s.from},{from:s.to,insert:n.lineBreak+o.text});for(let l of s.ranges)i.push(J.range(l.anchor-a,l.head-a))}}return r.length?(e(n.update({changes:r,scrollIntoView:!0,selection:J.create(i,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}const NOe=({state:n,dispatch:e})=>cX(n,e,!1),jOe=({state:n,dispatch:e})=>cX(n,e,!0);function uX(n,e,t){if(n.readOnly)return!1;let r=[];for(let i of Bb(n))t?r.push({from:i.from,insert:n.doc.slice(i.from,i.to)+n.lineBreak}):r.push({from:i.to,insert:n.lineBreak+n.doc.slice(i.from,i.to)});return e(n.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const DOe=({state:n,dispatch:e})=>uX(n,e,!1),MOe=({state:n,dispatch:e})=>uX(n,e,!0),VOe=n=>{if(n.state.readOnly)return!1;let{state:e}=n,t=e.changes(Bb(e).map(({from:i,to:s})=>(i>0?i--:s<e.doc.length&&s++,{from:i,to:s}))),r=Pf(e.selection,i=>{let s;if(n.lineWrapping){let o=n.lineBlockAt(i.head),a=n.coordsAtPos(i.head,i.assoc||1);a&&(s=o.bottom+n.documentTop-a.bottom+n.defaultLineHeight/2)}return n.moveVertically(i,!0,s)}).map(t);return n.dispatch({changes:t,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function LOe(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=Cr(n).resolveInner(e),r=t.childBefore(e),i=t.childAfter(e),s;return r&&i&&r.to<=e&&i.from>=e&&(s=r.type.prop(gt.closedBy))&&s.indexOf(i.name)>-1&&n.doc.lineAt(r.to).from==n.doc.lineAt(i.from).from&&!/\S/.test(n.sliceDoc(r.to,i.from))?{from:r.to,to:i.from}:null}const lM=hX(!1),zOe=hX(!0);function hX(n){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:s,to:o}=i,a=e.doc.lineAt(s),l=!n&&s==o&&LOe(e,s);n&&(s=o=(o<=a.to?a:e.doc.lineAt(o)).to);let c=new Lb(e,{simulateBreak:s,simulateDoubleBreak:!!l}),u=YR(c,s);for(u==null&&(u=Tf(/^\s*/.exec(e.doc.lineAt(s).text)[0],e.tabSize));o<a.to&&/\s/.test(a.text[o-a.from]);)o++;l?{from:s,to:o}=l:s>a.from&&s<a.from+100&&!/\S/.test(a.text.slice(0,s))&&(s=a.from);let h=["",Pg(e,u)];return l&&h.push(Pg(e,c.lineIndent(a.from,-1))),{changes:{from:s,to:o,insert:lt.of(h)},range:J.cursor(s+1+h[1].length)}});return t(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function eQ(n,e){let t=-1;return n.changeByRange(r=>{let i=[];for(let o=r.from;o<=r.to;){let a=n.doc.lineAt(o);a.number>t&&(r.empty||r.to>a.from)&&(e(a,i,r),t=a.number),o=a.to+1}let s=n.changes(i);return{changes:i,range:J.range(s.mapPos(r.anchor,1),s.mapPos(r.head,1))}})}const UOe=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=Object.create(null),r=new Lb(n,{overrideIndentation:s=>{let o=t[s];return o??-1}}),i=eQ(n,(s,o,a)=>{let l=YR(r,s.from);if(l==null)return;/\S/.test(s.text)||(l=0);let c=/^\s*/.exec(s.text)[0],u=Pg(n,l);(c!=u||a.from<s.from+c.length)&&(t[s.from]=l,o.push({from:s.from,to:s.from+c.length,insert:u}))});return i.changes.empty||e(n.update(i,{userEvent:"indent"})),!0},qOe=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(eQ(n,(t,r)=>{r.push({from:t.from,insert:n.facet(GR)})}),{userEvent:"input.indent"})),!0),ZOe=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(eQ(n,(t,r)=>{let i=/^\s*/.exec(t.text)[0];if(!i)return;let s=Tf(i,n.tabSize),o=0,a=Pg(n,Math.max(0,s-Hw(n)));for(;o<i.length&&o<a.length&&i.charCodeAt(o)==a.charCodeAt(o);)o++;r.push({from:t.from+o,to:t.from+i.length,insert:a.slice(o)})}),{userEvent:"delete.dedent"})),!0),BOe=n=>(n.setTabFocusMode(),!0),FOe=[{key:"Ctrl-b",run:qW,shift:KW,preventDefault:!0},{key:"Ctrl-f",run:ZW,shift:JW},{key:"Ctrl-p",run:WW,shift:nX},{key:"Ctrl-n",run:XW,shift:rX},{key:"Ctrl-a",run:hOe,shift:SOe},{key:"Ctrl-e",run:dOe,shift:kOe},{key:"Ctrl-d",run:oX},{key:"Ctrl-h",run:NP},{key:"Ctrl-k",run:AOe},{key:"Ctrl-Alt-h",run:lX},{key:"Ctrl-o",run:$Oe},{key:"Ctrl-t",run:IOe},{key:"Ctrl-v",run:IP}],WOe=[{key:"ArrowLeft",run:qW,shift:KW,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:nOe,shift:mOe,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:cOe,shift:xOe,preventDefault:!0},{key:"ArrowRight",run:ZW,shift:JW,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:rOe,shift:gOe,preventDefault:!0},{mac:"Cmd-ArrowRight",run:uOe,shift:bOe,preventDefault:!0},{key:"ArrowUp",run:WW,shift:nX,preventDefault:!0},{mac:"Cmd-ArrowUp",run:iM,shift:oM},{mac:"Ctrl-ArrowUp",run:tM,shift:nM},{key:"ArrowDown",run:XW,shift:rX,preventDefault:!0},{mac:"Cmd-ArrowDown",run:sM,shift:aM},{mac:"Ctrl-ArrowDown",run:IP,shift:rM},{key:"PageUp",run:tM,shift:nM},{key:"PageDown",run:IP,shift:rM},{key:"Home",run:lOe,shift:wOe,preventDefault:!0},{key:"Mod-Home",run:iM,shift:oM},{key:"End",run:aOe,shift:vOe,preventDefault:!0},{key:"Mod-End",run:sM,shift:aM},{key:"Enter",run:lM,shift:lM},{key:"Mod-a",run:_Oe},{key:"Backspace",run:NP,shift:NP},{key:"Delete",run:oX},{key:"Mod-Backspace",mac:"Alt-Backspace",run:lX},{key:"Mod-Delete",mac:"Alt-Delete",run:EOe},{mac:"Mod-Backspace",run:ROe},{mac:"Mod-Delete",run:QOe}].concat(FOe.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),XOe=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:sOe,shift:OOe},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:oOe,shift:yOe},{key:"Alt-ArrowUp",run:NOe},{key:"Shift-Alt-ArrowUp",run:DOe},{key:"Alt-ArrowDown",run:jOe},{key:"Shift-Alt-ArrowDown",run:MOe},{key:"Escape",run:COe},{key:"Mod-Enter",run:zOe},{key:"Alt-l",mac:"Ctrl-l",run:TOe},{key:"Mod-i",run:POe,preventDefault:!0},{key:"Mod-[",run:ZOe},{key:"Mod-]",run:qOe},{key:"Mod-Alt-\\",run:UOe},{key:"Shift-Mod-k",run:VOe},{key:"Shift-Mod-\\",run:pOe},{key:"Mod-/",run:Dge},{key:"Alt-A",run:Vge},{key:"Ctrl-m",mac:"Shift-Alt-m",run:BOe}].concat(WOe);function Tt(){var n=arguments[0];typeof n=="string"&&(n=document.createElement(n));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=t[r];typeof i=="string"?n.setAttribute(r,i):i!=null&&(n[r]=i)}e++}for(;e<arguments.length;e++)dX(n,arguments[e]);return n}function dX(n,e){if(typeof e=="string")n.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)n.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)dX(n,e[t]);else throw new RangeError("Unsupported child node: "+e)}const cM=typeof String.prototype.normalize=="function"?n=>n.normalize("NFKD"):n=>n;class Bd{constructor(e,t,r=0,i=e.length,s,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=s?a=>s(cM(a)):cM,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Hr(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=RR(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=Ks(e);let i=this.normalize(t);if(i.length)for(let s=0,o=r;;s++){let a=i.charCodeAt(s),l=this.match(a,o,this.bufferPos+this.bufferStart);if(s==i.length-1){if(l)return this.value=l,this;break}o==r&&s<t.length&&t.charCodeAt(s)==a&&o++}}}match(e,t,r){let i=null;for(let s=0;s<this.matches.length;s+=2){let o=this.matches[s],a=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?i={from:this.matches[s+1],to:r}:(this.matches[s]++,a=!0)),a||(this.matches.splice(s,2),s-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:t,to:r}:this.matches.push(1,t)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(Bd.prototype[Symbol.iterator]=function(){return this});const fX={from:-1,to:-1,match:/.*/.exec("")},tQ="gm"+(/x/.unicode==null?"":"u");class pX{constructor(e,t,r,i=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=fX,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new mX(e,t,r,i,s);this.re=new RegExp(t,tQ+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.iter=e.iter();let o=e.lineAt(i);this.curLineStart=o.from,this.matchPos=tx(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let r=this.curLineStart+t.index,i=r+t[0].length;if(this.matchPos=tx(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,t)))return this.value={from:r,to:i,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const F1=new WeakMap;class rd{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,r){let i=F1.get(e);if(!i||i.from>=r||i.to<=t){let a=new rd(t,e.sliceString(t,r));return F1.set(e,a),a}if(i.from==t&&i.to==r)return i;let{text:s,from:o}=i;return o>t&&(s=e.sliceString(t,o)+s,o=t),i.to<r&&(s+=e.sliceString(i.to,r)),F1.set(e,new rd(o,s)),new rd(t,s.slice(t-o,r-o))}}class mX{constructor(e,t,r,i,s){this.text=e,this.to=s,this.done=!1,this.value=fX,this.matchPos=tx(e,i),this.re=new RegExp(t,tQ+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.flat=rd.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let r=this.flat.from+t.index,i=r+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,t)))return this.value={from:r,to:i,match:t},this.matchPos=tx(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=rd.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(pX.prototype[Symbol.iterator]=mX.prototype[Symbol.iterator]=function(){return this});function GOe(n){try{return new RegExp(n,tQ),!0}catch{return!1}}function tx(n,e){if(e>=n.length)return e;let t=n.lineAt(e),r;for(;e<t.to&&(r=t.text.charCodeAt(e-t.from))>=56320&&r<57344;)e++;return e}function jP(n){let e=String(n.state.doc.lineAt(n.state.selection.main.head).number),t=Tt("input",{class:"cm-textfield",name:"line",value:e}),r=Tt("form",{class:"cm-gotoLine",onkeydown:s=>{s.keyCode==27?(s.preventDefault(),n.dispatch({effects:Sm.of(!1)}),n.focus()):s.keyCode==13&&(s.preventDefault(),i())},onsubmit:s=>{s.preventDefault(),i()}},Tt("label",n.state.phrase("Go to line"),": ",t)," ",Tt("button",{class:"cm-button",type:"submit"},n.state.phrase("go")),Tt("button",{name:"close",onclick:()=>{n.dispatch({effects:Sm.of(!1)}),n.focus()},"aria-label":n.state.phrase("close"),type:"button"},[""]));function i(){let s=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!s)return;let{state:o}=n,a=o.doc.lineAt(o.selection.main.head),[,l,c,u,h]=s,d=u?+u.slice(1):0,m=c?+c:a.number;if(c&&h){let v=m/100;l&&(v=v*(l=="-"?-1:1)+a.number/o.doc.lines),m=Math.round(o.doc.lines*v)}else c&&l&&(m=m*(l=="-"?-1:1)+a.number);let g=o.doc.line(Math.max(1,Math.min(o.doc.lines,m))),y=J.cursor(g.from+Math.max(0,Math.min(d,g.length)));n.dispatch({effects:[Sm.of(!1),ue.scrollIntoView(y.from,{y:"center"})],selection:y}),n.focus()}return{dom:r}}const Sm=$e.define(),uM=Bt.define({create(){return!0},update(n,e){for(let t of e.effects)t.is(Sm)&&(n=t.value);return n},provide:n=>_g.from(n,e=>e?jP:null)}),YOe=n=>{let e=kg(n,jP);if(!e){let t=[Sm.of(!0)];n.state.field(uM,!1)==null&&t.push($e.appendConfig.of([uM,HOe])),n.dispatch({effects:t}),e=kg(n,jP)}return e&&e.dom.querySelector("input").select(),!0},HOe=ue.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),KOe={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},JOe=ce.define({combine(n){return Vo(n,KOe,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function eye(n){return[sye,iye]}const tye=me.mark({class:"cm-selectionMatch"}),nye=me.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function hM(n,e,t,r){return(t==0||n(e.sliceDoc(t-1,t))!=Wt.Word)&&(r==e.doc.length||n(e.sliceDoc(r,r+1))!=Wt.Word)}function rye(n,e,t,r){return n(e.sliceDoc(t,t+1))==Wt.Word&&n(e.sliceDoc(r-1,r))==Wt.Word}const iye=Mt.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=n.state.facet(JOe),{state:t}=n,r=t.selection;if(r.ranges.length>1)return me.none;let i=r.main,s,o=null;if(i.empty){if(!e.highlightWordAroundCursor)return me.none;let l=t.wordAt(i.head);if(!l)return me.none;o=t.charCategorizer(i.head),s=t.sliceDoc(l.from,l.to)}else{let l=i.to-i.from;if(l<e.minSelectionLength||l>200)return me.none;if(e.wholeWords){if(s=t.sliceDoc(i.from,i.to),o=t.charCategorizer(i.head),!(hM(o,t,i.from,i.to)&&rye(o,t,i.from,i.to)))return me.none}else if(s=t.sliceDoc(i.from,i.to),!s)return me.none}let a=[];for(let l of n.visibleRanges){let c=new Bd(t.doc,s,l.from,l.to);for(;!c.next().done;){let{from:u,to:h}=c.value;if((!o||hM(o,t,u,h))&&(i.empty&&u<=i.from&&h>=i.to?a.push(nye.range(u,h)):(u>=i.to||h<=i.from)&&a.push(tye.range(u,h)),a.length>e.maxMatches))return me.none}}return me.set(a)}},{decorations:n=>n.decorations}),sye=ue.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),oye=({state:n,dispatch:e})=>{let{selection:t}=n,r=J.create(t.ranges.map(i=>n.wordAt(i.head)||J.cursor(i.head)),t.mainIndex);return r.eq(t)?!1:(e(n.update({selection:r})),!0)};function aye(n,e){let{main:t,ranges:r}=n.selection,i=n.wordAt(t.head),s=i&&i.from==t.from&&i.to==t.to;for(let o=!1,a=new Bd(n.doc,e,r[r.length-1].to);;)if(a.next(),a.done){if(o)return null;a=new Bd(n.doc,e,0,Math.max(0,r[r.length-1].from-1)),o=!0}else{if(o&&r.some(l=>l.from==a.value.from))continue;if(s){let l=n.wordAt(a.value.from);if(!l||l.from!=a.value.from||l.to!=a.value.to)continue}return a.value}}const lye=({state:n,dispatch:e})=>{let{ranges:t}=n.selection;if(t.some(s=>s.from===s.to))return oye({state:n,dispatch:e});let r=n.sliceDoc(t[0].from,t[0].to);if(n.selection.ranges.some(s=>n.sliceDoc(s.from,s.to)!=r))return!1;let i=aye(n,r);return i?(e(n.update({selection:n.selection.addRange(J.range(i.from,i.to),!1),effects:ue.scrollIntoView(i.to)})),!0):!1},Cf=ce.define({combine(n){return Vo(n,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new wye(e),scrollToMatch:e=>ue.scrollIntoView(e)})}});class gX{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||GOe(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new dye(this):new uye(this)}getCursor(e,t=0,r){let i=e.doc?e:Ne.create({doc:e});return r==null&&(r=i.doc.length),this.regexp?fh(this,i,t,r):dh(this,i,t,r)}}class OX{constructor(e){this.spec=e}}function dh(n,e,t,r){return new Bd(e.doc,n.unquoted,t,r,n.caseSensitive?void 0:i=>i.toLowerCase(),n.wholeWord?cye(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function cye(n,e){return(t,r,i,s)=>((s>t||s+i.length<r)&&(s=Math.max(0,t-2),i=n.sliceString(s,Math.min(n.length,r+2))),(e(nx(i,t-s))!=Wt.Word||e(rx(i,t-s))!=Wt.Word)&&(e(rx(i,r-s))!=Wt.Word||e(nx(i,r-s))!=Wt.Word))}class uye extends OX{constructor(e){super(e)}nextMatch(e,t,r){let i=dh(this.spec,e,r,e.doc.length).nextOverlapping();if(i.done){let s=Math.min(e.doc.length,t+this.spec.unquoted.length);i=dh(this.spec,e,0,s).nextOverlapping()}return i.done||i.value.from==t&&i.value.to==r?null:i.value}prevMatchInRange(e,t,r){for(let i=r;;){let s=Math.max(t,i-1e4-this.spec.unquoted.length),o=dh(this.spec,e,s,i),a=null;for(;!o.nextOverlapping().done;)a=o.value;if(a)return a;if(s==t)return null;i-=1e4}}prevMatch(e,t,r){let i=this.prevMatchInRange(e,0,t);return i||(i=this.prevMatchInRange(e,Math.max(0,r-this.spec.unquoted.length),e.doc.length)),i&&(i.from!=t||i.to!=r)?i:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let r=dh(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=t)return null;i.push(r.value)}return i}highlight(e,t,r,i){let s=dh(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}function fh(n,e,t,r){return new pX(e.doc,n.search,{ignoreCase:!n.caseSensitive,test:n.wholeWord?hye(e.charCategorizer(e.selection.main.head)):void 0},t,r)}function nx(n,e){return n.slice(or(n,e,!1),e)}function rx(n,e){return n.slice(e,or(n,e))}function hye(n){return(e,t,r)=>!r[0].length||(n(nx(r.input,r.index))!=Wt.Word||n(rx(r.input,r.index))!=Wt.Word)&&(n(rx(r.input,r.index+r[0].length))!=Wt.Word||n(nx(r.input,r.index+r[0].length))!=Wt.Word)}class dye extends OX{nextMatch(e,t,r){let i=fh(this.spec,e,r,e.doc.length).next();return i.done&&(i=fh(this.spec,e,0,t).next()),i.done?null:i.value}prevMatchInRange(e,t,r){for(let i=1;;i++){let s=Math.max(t,r-i*1e4),o=fh(this.spec,e,s,r),a=null;for(;!o.next().done;)a=o.value;if(a&&(s==t||a.from>s+10))return a;if(s==t)return null}}prevMatch(e,t,r){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(t,r)=>{if(r=="&")return e.match[0];if(r=="$")return"$";for(let i=r.length;i>0;i--){let s=+r.slice(0,i);if(s>0&&s<e.match.length)return e.match[s]+r.slice(i)}return t})}matchAll(e,t){let r=fh(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=t)return null;i.push(r.value)}return i}highlight(e,t,r,i){let s=fh(this.spec,e,Math.max(0,t-250),Math.min(r+250,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}const Cg=$e.define(),nQ=$e.define(),Ul=Bt.define({create(n){return new W1(DP(n).create(),null)},update(n,e){for(let t of e.effects)t.is(Cg)?n=new W1(t.value.create(),n.panel):t.is(nQ)&&(n=new W1(n.query,t.value?rQ:null));return n},provide:n=>_g.from(n,e=>e.panel)});class W1{constructor(e,t){this.query=e,this.panel=t}}const fye=me.mark({class:"cm-searchMatch"}),pye=me.mark({class:"cm-searchMatch cm-searchMatch-selected"}),mye=Mt.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(Ul))}update(n){let e=n.state.field(Ul);(e!=n.startState.field(Ul)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:n,panel:e}){if(!e||!n.spec.valid)return me.none;let{view:t}=this,r=new Aa;for(let i=0,s=t.visibleRanges,o=s.length;i<o;i++){let{from:a,to:l}=s[i];for(;i<o-1&&l>s[i+1].from-2*250;)l=s[++i].to;n.highlight(t.state,a,l,(c,u)=>{let h=t.state.selection.ranges.some(d=>d.from==c&&d.to==u);r.add(c,u,h?pye:fye)})}return r.finish()}},{decorations:n=>n.decorations});function MO(n){return e=>{let t=e.state.field(Ul,!1);return t&&t.query.spec.valid?n(e,t):wX(e)}}const ix=MO((n,{query:e})=>{let{to:t}=n.state.selection.main,r=e.nextMatch(n.state,t,t);if(!r)return!1;let i=J.single(r.from,r.to),s=n.state.facet(Cf);return n.dispatch({selection:i,effects:[iQ(n,r),s.scrollToMatch(i.main,n)],userEvent:"select.search"}),vX(n),!0}),sx=MO((n,{query:e})=>{let{state:t}=n,{from:r}=t.selection.main,i=e.prevMatch(t,r,r);if(!i)return!1;let s=J.single(i.from,i.to),o=n.state.facet(Cf);return n.dispatch({selection:s,effects:[iQ(n,i),o.scrollToMatch(s.main,n)],userEvent:"select.search"}),vX(n),!0}),gye=MO((n,{query:e})=>{let t=e.matchAll(n.state,1e3);return!t||!t.length?!1:(n.dispatch({selection:J.create(t.map(r=>J.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),Oye=({state:n,dispatch:e})=>{let t=n.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:r,to:i}=t.main,s=[],o=0;for(let a=new Bd(n.doc,n.sliceDoc(r,i));!a.next().done;){if(s.length>1e3)return!1;a.value.from==r&&(o=s.length),s.push(J.range(a.value.from,a.value.to))}return e(n.update({selection:J.create(s,o),userEvent:"select.search.matches"})),!0},dM=MO((n,{query:e})=>{let{state:t}=n,{from:r,to:i}=t.selection.main;if(t.readOnly)return!1;let s=e.nextMatch(t,r,r);if(!s)return!1;let o=s,a=[],l,c,u=[];if(o.from==r&&o.to==i&&(c=t.toText(e.getReplacement(o)),a.push({from:o.from,to:o.to,insert:c}),o=e.nextMatch(t,o.from,o.to),u.push(ue.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(r).number)+"."))),o){let h=a.length==0||a[0].from>=s.to?0:s.to-s.from-c.length;l=J.single(o.from-h,o.to-h),u.push(iQ(n,o)),u.push(t.facet(Cf).scrollToMatch(l.main,n))}return n.dispatch({changes:a,selection:l,effects:u,userEvent:"input.replace"}),!0}),yye=MO((n,{query:e})=>{if(n.state.readOnly)return!1;let t=e.matchAll(n.state,1e9).map(i=>{let{from:s,to:o}=i;return{from:s,to:o,insert:e.getReplacement(i)}});if(!t.length)return!1;let r=n.state.phrase("replaced $ matches",t.length)+".";return n.dispatch({changes:t,effects:ue.announce.of(r),userEvent:"input.replace.all"}),!0});function rQ(n){return n.state.facet(Cf).createPanel(n)}function DP(n,e){var t,r,i,s,o;let a=n.selection.main,l=a.empty||a.to>a.from+100?"":n.sliceDoc(a.from,a.to);if(e&&!l)return e;let c=n.facet(Cf);return new gX({search:((t=e==null?void 0:e.literal)!==null&&t!==void 0?t:c.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:(r=e==null?void 0:e.caseSensitive)!==null&&r!==void 0?r:c.caseSensitive,literal:(i=e==null?void 0:e.literal)!==null&&i!==void 0?i:c.literal,regexp:(s=e==null?void 0:e.regexp)!==null&&s!==void 0?s:c.regexp,wholeWord:(o=e==null?void 0:e.wholeWord)!==null&&o!==void 0?o:c.wholeWord})}function yX(n){let e=kg(n,rQ);return e&&e.dom.querySelector("[main-field]")}function vX(n){let e=yX(n);e&&e==n.root.activeElement&&e.select()}const wX=n=>{let e=n.state.field(Ul,!1);if(e&&e.panel){let t=yX(n);if(t&&t!=n.root.activeElement){let r=DP(n.state,e.query.spec);r.valid&&n.dispatch({effects:Cg.of(r)}),t.focus(),t.select()}}else n.dispatch({effects:[nQ.of(!0),e?Cg.of(DP(n.state,e.query.spec)):$e.appendConfig.of(bye)]});return!0},xX=n=>{let e=n.state.field(Ul,!1);if(!e||!e.panel)return!1;let t=kg(n,rQ);return t&&t.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:nQ.of(!1)}),!0},vye=[{key:"Mod-f",run:wX,scope:"editor search-panel"},{key:"F3",run:ix,shift:sx,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:ix,shift:sx,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:xX,scope:"editor search-panel"},{key:"Mod-Shift-l",run:Oye},{key:"Mod-Alt-g",run:YOe},{key:"Mod-d",run:lye,preventDefault:!0}];class wye{constructor(e){this.view=e;let t=this.query=e.state.field(Ul).query.spec;this.commit=this.commit.bind(this),this.searchField=Tt("input",{value:t.search,placeholder:hi(e,"Find"),"aria-label":hi(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Tt("input",{value:t.replace,placeholder:hi(e,"Replace"),"aria-label":hi(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=Tt("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=Tt("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=Tt("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit});function r(i,s,o){return Tt("button",{class:"cm-button",name:i,onclick:s,type:"button"},o)}this.dom=Tt("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>ix(e),[hi(e,"next")]),r("prev",()=>sx(e),[hi(e,"previous")]),r("select",()=>gye(e),[hi(e,"all")]),Tt("label",null,[this.caseField,hi(e,"match case")]),Tt("label",null,[this.reField,hi(e,"regexp")]),Tt("label",null,[this.wordField,hi(e,"by word")]),...e.state.readOnly?[]:[Tt("br"),this.replaceField,r("replace",()=>dM(e),[hi(e,"replace")]),r("replaceAll",()=>yye(e),[hi(e,"replace all")])],Tt("button",{name:"close",onclick:()=>xX(e),"aria-label":hi(e,"close"),type:"button"},[""])])}commit(){let e=new gX({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Cg.of(e)}))}keydown(e){Spe(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?sx:ix)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),dM(this.view))}update(e){for(let t of e.transactions)for(let r of t.effects)r.is(Cg)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Cf).top}}function hi(n,e){return n.state.phrase(e)}const s0=30,o0=/[\s\.,:;?!]/;function iQ(n,{from:e,to:t}){let r=n.state.doc.lineAt(e),i=n.state.doc.lineAt(t).to,s=Math.max(r.from,e-s0),o=Math.min(i,t+s0),a=n.state.sliceDoc(s,o);if(s!=r.from){for(let l=0;l<s0;l++)if(!o0.test(a[l+1])&&o0.test(a[l])){a=a.slice(l);break}}if(o!=i){for(let l=a.length-1;l>a.length-s0;l--)if(!o0.test(a[l-1])&&o0.test(a[l])){a=a.slice(0,l);break}}return ue.announce.of(`${n.state.phrase("current match")}. ${a} ${n.state.phrase("on line")} ${r.number}.`)}const xye=ue.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),bye=[Ul,za.low(mye),xye];class bX{constructor(e,t,r,i){this.state=e,this.pos=t,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let t=Cr(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),r=Math.max(t.from,this.pos-250),i=t.text.slice(r-t.from,this.pos-t.from),s=i.search(SX(e,!1));return s<0?null:{from:r+s,to:this.pos,text:i.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,t,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(t),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function fM(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function Sye(n){let e=Object.create(null),t=Object.create(null);for(let{label:i}of n){e[i[0]]=!0;for(let s=1;s<i.length;s++)t[i[s]]=!0}let r=fM(e)+fM(t)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function kye(n){let e=n.map(i=>typeof i=="string"?{label:i}:i),[t,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:Sye(e);return i=>{let s=i.matchBefore(r);return s||i.explicit?{from:s?s.from:i.pos,options:e,validFor:t}:null}}class pM{constructor(e,t,r,i){this.completion=e,this.source=t,this.match=r,this.score=i}}function hu(n){return n.selection.main.from}function SX(n,e){var t;let{source:r}=n,i=e&&r[0]!="^",s=r[r.length-1]!="$";return!i&&!s?n:new RegExp(`${i?"^":""}(?:${r})${s?"$":""}`,(t=n.flags)!==null&&t!==void 0?t:n.ignoreCase?"i":"")}const kX=Is.define();function _ye(n,e,t,r){let{main:i}=n.selection,s=t-i.from,o=r-i.from;return Object.assign(Object.assign({},n.changeByRange(a=>{if(a!=i&&t!=r&&n.sliceDoc(a.from+s,a.from+o)!=n.sliceDoc(t,r))return{range:a};let l=n.toText(e);return{changes:{from:a.from+s,to:r==i.from?a.to:a.from+o,insert:l},range:J.cursor(a.from+s+l.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}const mM=new WeakMap;function Tye(n){if(!Array.isArray(n))return n;let e=mM.get(n);return e||mM.set(n,e=kye(n)),e}const ox=$e.define(),Eg=$e.define();class Pye{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let r=Hr(e,t),i=Ks(r);this.chars.push(r);let s=e.slice(t,t+i),o=s.toUpperCase();this.folded.push(Hr(o==s?s.toLowerCase():o,0)),t+=i}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:t,folded:r,any:i,precise:s,byWord:o}=this;if(t.length==1){let b=Hr(e,0),k=Ks(b),$=k==e.length?0:-100;if(b!=t[0])if(b==r[0])$+=-200;else return null;return this.ret($,[0,k])}let a=e.indexOf(this.pattern);if(a==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=t.length,c=0;if(a<0){for(let b=0,k=Math.min(e.length,200);b<k&&c<l;){let $=Hr(e,b);($==t[c]||$==r[c])&&(i[c++]=b),b+=Ks($)}if(c<l)return null}let u=0,h=0,d=!1,m=0,g=-1,y=-1,v=/[a-z]/.test(e),S=!0;for(let b=0,k=Math.min(e.length,200),$=0;b<k&&h<l;){let C=Hr(e,b);a<0&&(u<l&&C==t[u]&&(s[u++]=b),m<l&&(C==t[m]||C==r[m]?(m==0&&(g=b),y=b+1,m++):m=0));let Q,O=C<255?C>=48&&C<=57||C>=97&&C<=122?2:C>=65&&C<=90?1:0:(Q=RR(C))!=Q.toLowerCase()?1:Q!=Q.toUpperCase()?2:0;(!b||O==1&&v||$==0&&O!=0)&&(t[h]==C||r[h]==C&&(d=!0)?o[h++]=b:o.length&&(S=!1)),$=O,b+=Ks(C)}return h==l&&o[0]==0&&S?this.result(-100+(d?-200:0),o,e):m==l&&g==0?this.ret(-200-e.length+(y==e.length?0:-100),[0,y]):a>-1?this.ret(-700-e.length,[a,a+this.pattern.length]):m==l?this.ret(-900-e.length,[g,y]):h==l?this.result(-100+(d?-200:0)+-700+(S?0:-1100),o,e):t.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,t,r){let i=[],s=0;for(let o of t){let a=o+(this.astral?Ks(Hr(r,o)):1);s&&i[s-1]==o?i[s-1]=a:(i[s++]=o,i[s++]=a)}return this.ret(e-r.length,i)}}class Cye{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let t=e.slice(0,this.pattern.length),r=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,t.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const Fn=ce.define({combine(n){return Vo(n,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:Eye,filterStrict:!1,compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>r=>gM(e(r),t(r)),optionClass:(e,t)=>r=>gM(e(r),t(r)),addToOptions:(e,t)=>e.concat(t),filterStrict:(e,t)=>e||t})}});function gM(n,e){return n?e?n+" "+e:n:e}function Eye(n,e,t,r,i,s){let o=n.textDirection==Je.RTL,a=o,l=!1,c="top",u,h,d=e.left-i.left,m=i.right-e.right,g=r.right-r.left,y=r.bottom-r.top;if(a&&d<Math.min(g,m)?a=!1:!a&&m<Math.min(g,d)&&(a=!0),g<=(a?d:m))u=Math.max(i.top,Math.min(t.top,i.bottom-y))-e.top,h=Math.min(400,a?d:m);else{l=!0,h=Math.min(400,(o?e.right:i.right-e.left)-30);let b=i.bottom-e.bottom;b>=y||b>e.top?u=t.bottom-e.top:(c="bottom",u=e.bottom-t.top)}let v=(e.bottom-e.top)/s.offsetHeight,S=(e.right-e.left)/s.offsetWidth;return{style:`${c}: ${u/v}px; max-width: ${h/S}px`,class:"cm-completionInfo-"+(l?o?"left-narrow":"right-narrow":a?"left":"right")}}function Aye(n){let e=n.addToOptions.slice();return n.icons&&e.push({render(t){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),t.type&&r.classList.add(...t.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(t,r,i,s){let o=document.createElement("span");o.className="cm-completionLabel";let a=t.displayLabel||t.label,l=0;for(let c=0;c<s.length;){let u=s[c++],h=s[c++];u>l&&o.appendChild(document.createTextNode(a.slice(l,u)));let d=o.appendChild(document.createElement("span"));d.appendChild(document.createTextNode(a.slice(u,h))),d.className="cm-completionMatchedText",l=h}return l<a.length&&o.appendChild(document.createTextNode(a.slice(l))),o},position:50},{render(t){if(!t.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=t.detail,r},position:80}),e.sort((t,r)=>t.position-r.position).map(t=>t.render)}function X1(n,e,t){if(n<=t)return{from:0,to:n};if(e<0&&(e=0),e<=n>>1){let i=Math.floor(e/t);return{from:i*t,to:(i+1)*t}}let r=Math.floor((n-e)/t);return{from:n-(r+1)*t,to:n-r*t}}class Rye{constructor(e,t,r){this.view=e,this.stateField=t,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let i=e.state.field(t),{options:s,selected:o}=i.open,a=e.state.facet(Fn);this.optionContent=Aye(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=X1(s.length,o,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",l=>{let{options:c}=e.state.field(t).open;for(let u=l.target,h;u&&u!=this.dom;u=u.parentNode)if(u.nodeName=="LI"&&(h=/-(\d+)$/.exec(u.id))&&+h[1]<c.length){this.applyCompletion(e,c[+h[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let c=e.state.field(this.stateField,!1);c&&c.tooltip&&e.state.facet(Fn).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:Eg.of(null)})}),this.showOptions(s,i.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var t;let r=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=i){let{options:s,selected:o,disabled:a}=r.open;(!i.open||i.open.options!=s)&&(this.range=X1(s.length,o,e.state.facet(Fn).maxRenderedOptions),this.showOptions(s,r.id)),this.updateSel(),a!=((t=i.open)===null||t===void 0?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!a)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of t.split(" "))r&&this.dom.classList.add(r);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=X1(t.options.length,t.selected,this.view.state.facet(Fn).maxRenderedOptions),this.showOptions(t.options,e.id)),this.updateSelectedOption(t.selected)){this.destroyInfo();let{completion:r}=t.options[t.selected],{info:i}=r;if(!i)return;let s=typeof i=="string"?document.createTextNode(i):i(r);if(!s)return;"then"in s?s.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o,r)}).catch(o=>kn(this.view.state,o,"completion info")):this.addInfoPane(s,r)}}addInfoPane(e,t){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:s}=e;r.appendChild(i),this.infoDestroy=s||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),t=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected");return t&&$ye(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),s=this.space;if(!s){let o=this.dom.ownerDocument.documentElement;s={left:0,top:0,right:o.clientWidth,bottom:o.clientHeight}}return i.top>Math.min(s.bottom,t.bottom)-10||i.bottom<Math.max(s.top,t.top)+10?null:this.view.state.facet(Fn).positionInfo(this.view,t,i,r,s,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,r){const i=document.createElement("ul");i.id=t,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions")),i.addEventListener("mousedown",o=>{o.target==i&&o.preventDefault()});let s=null;for(let o=r.from;o<r.to;o++){let{completion:a,match:l}=e[o],{section:c}=a;if(c){let d=typeof c=="string"?c:c.name;if(d!=s&&(o>r.from||r.from==0))if(s=d,typeof c!="string"&&c.header)i.appendChild(c.header(c));else{let m=i.appendChild(document.createElement("completion-section"));m.textContent=d}}const u=i.appendChild(document.createElement("li"));u.id=t+"-"+o,u.setAttribute("role","option");let h=this.optionClass(a);h&&(u.className=h);for(let d of this.optionContent){let m=d(a,this.view.state,this.view,l);m&&u.appendChild(m)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function Qye(n,e){return t=>new Rye(t,n,e)}function $ye(n,e){let t=n.getBoundingClientRect(),r=e.getBoundingClientRect(),i=t.height/n.offsetHeight;r.top<t.top?n.scrollTop-=(t.top-r.top)/i:r.bottom>t.bottom&&(n.scrollTop+=(r.bottom-t.bottom)/i)}function OM(n){return(n.boost||0)*100+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}function Iye(n,e){let t=[],r=null,i=c=>{t.push(c);let{section:u}=c.completion;if(u){r||(r=[]);let h=typeof u=="string"?u:u.name;r.some(d=>d.name==h)||r.push(typeof u=="string"?{name:h}:u)}},s=e.facet(Fn);for(let c of n)if(c.hasResult()){let u=c.result.getMatch;if(c.result.filter===!1)for(let h of c.result.options)i(new pM(h,c.source,u?u(h):[],1e9-t.length));else{let h=e.sliceDoc(c.from,c.to),d,m=s.filterStrict?new Cye(h):new Pye(h);for(let g of c.result.options)if(d=m.match(g.label)){let y=g.displayLabel?u?u(g,d.matched):[]:d.matched;i(new pM(g,c.source,y,d.score+(g.boost||0)))}}}if(r){let c=Object.create(null),u=0,h=(d,m)=>{var g,y;return((g=d.rank)!==null&&g!==void 0?g:1e9)-((y=m.rank)!==null&&y!==void 0?y:1e9)||(d.name<m.name?-1:1)};for(let d of r.sort(h))u-=1e5,c[d.name]=u;for(let d of t){let{section:m}=d.completion;m&&(d.score+=c[typeof m=="string"?m:m.name])}}let o=[],a=null,l=s.compareCompletions;for(let c of t.sort((u,h)=>h.score-u.score||l(u.completion,h.completion))){let u=c.completion;!a||a.label!=u.label||a.detail!=u.detail||a.type!=null&&u.type!=null&&a.type!=u.type||a.apply!=u.apply||a.boost!=u.boost?o.push(c):OM(c.completion)>OM(a)&&(o[o.length-1]=c),a=c.completion}return o}class Eh{constructor(e,t,r,i,s,o){this.options=e,this.attrs=t,this.tooltip=r,this.timestamp=i,this.selected=s,this.disabled=o}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new Eh(this.options,yM(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,r,i,s,o){if(i&&!o&&e.some(c=>c.isPending))return i.setDisabled();let a=Iye(e,t);if(!a.length)return i&&e.some(c=>c.isPending)?i.setDisabled():null;let l=t.facet(Fn).selectOnOpen?0:-1;if(i&&i.selected!=l&&i.selected!=-1){let c=i.options[i.selected].completion;for(let u=0;u<a.length;u++)if(a[u].completion==c){l=u;break}}return new Eh(a,yM(r,l),{pos:e.reduce((c,u)=>u.hasResult()?Math.min(c,u.from):c,1e8),create:Lye,above:s.aboveCursor},i?i.timestamp:Date.now(),l,!1)}map(e){return new Eh(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new Eh(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class ax{constructor(e,t,r){this.active=e,this.id=t,this.open=r}static start(){return new ax(Mye,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,r=t.facet(Fn),s=(r.override||t.languageDataAt("autocomplete",hu(t)).map(Tye)).map(l=>(this.active.find(u=>u.source==l)||new Fi(l,this.active.some(u=>u.state!=0)?1:0)).update(e,r));s.length==this.active.length&&s.every((l,c)=>l==this.active[c])&&(s=this.active);let o=this.open,a=e.effects.some(l=>l.is(sQ));o&&e.docChanged&&(o=o.map(e.changes)),e.selection||s.some(l=>l.hasResult()&&e.changes.touchesRange(l.from,l.to))||!Nye(s,this.active)||a?o=Eh.build(s,t,this.id,o,r,a):o&&o.disabled&&!s.some(l=>l.isPending)&&(o=null),!o&&s.every(l=>!l.isPending)&&s.some(l=>l.hasResult())&&(s=s.map(l=>l.hasResult()?new Fi(l.source,0):l));for(let l of e.effects)l.is(TX)&&(o=o&&o.setSelected(l.value,this.id));return s==this.active&&o==this.open?this:new ax(s,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?jye:Dye}}function Nye(n,e){if(n==e)return!0;for(let t=0,r=0;;){for(;t<n.length&&!n[t].hasResult();)t++;for(;r<e.length&&!e[r].hasResult();)r++;let i=t==n.length,s=r==e.length;if(i||s)return i==s;if(n[t++].result!=e[r++].result)return!1}}const jye={"aria-autocomplete":"list"},Dye={};function yM(n,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return e>-1&&(t["aria-activedescendant"]=n+"-"+e),t}const Mye=[];function _X(n,e){if(n.isUserEvent("input.complete")){let r=n.annotation(kX);if(r&&e.activateOnCompletion(r))return 12}let t=n.isUserEvent("input.type");return t&&e.activateOnTyping?5:t?1:n.isUserEvent("delete.backward")?2:n.selection?8:n.docChanged?16:0}class Fi{constructor(e,t,r=!1){this.source=e,this.state=t,this.explicit=r}hasResult(){return!1}get isPending(){return this.state==1}update(e,t){let r=_X(e,t),i=this;(r&8||r&16&&this.touches(e))&&(i=new Fi(i.source,0)),r&4&&i.state==0&&(i=new Fi(this.source,1)),i=i.updateFor(e,r);for(let s of e.effects)if(s.is(ox))i=new Fi(i.source,1,s.value);else if(s.is(Eg))i=new Fi(i.source,0);else if(s.is(sQ))for(let o of s.value)o.source==i.source&&(i=o);return i}updateFor(e,t){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(hu(e.state))}}class id extends Fi{constructor(e,t,r,i,s,o){super(e,3,t),this.limit=r,this.result=i,this.from=s,this.to=o}hasResult(){return!0}updateFor(e,t){var r;if(!(t&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let s=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),a=hu(e.state);if(a>o||!i||t&2&&(hu(e.startState)==this.from||a<this.limit))return new Fi(this.source,t&4?1:0);let l=e.changes.mapPos(this.limit);return Vye(i.validFor,e.state,s,o)?new id(this.source,this.explicit,l,i,s,o):i.update&&(i=i.update(i,s,o,new bX(e.state,a,!1)))?new id(this.source,this.explicit,l,i,i.from,(r=i.to)!==null&&r!==void 0?r:hu(e.state)):new Fi(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new id(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Fi(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function Vye(n,e,t,r){if(!n)return!1;let i=e.sliceDoc(t,r);return typeof n=="function"?n(i,t,r,e):SX(n,!0).test(i)}const sQ=$e.define({map(n,e){return n.map(t=>t.map(e))}}),TX=$e.define(),Jr=Bt.define({create(){return ax.start()},update(n,e){return n.update(e)},provide:n=>[FR.from(n,e=>e.tooltip),ue.contentAttributes.from(n,e=>e.attrs)]});function oQ(n,e){const t=e.completion.apply||e.completion.label;let r=n.state.field(Jr).active.find(i=>i.source==e.source);return r instanceof id?(typeof t=="string"?n.dispatch(Object.assign(Object.assign({},_ye(n.state,t,r.from,r.to)),{annotations:kX.of(e.completion)})):t(n,e.completion,r.from,r.to),!0):!1}const Lye=Qye(Jr,oQ);function a0(n,e="option"){return t=>{let r=t.state.field(Jr,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<t.state.facet(Fn).interactionDelay)return!1;let i=1,s;e=="page"&&(s=cW(t,r.open.tooltip))&&(i=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:o}=r.open.options,a=r.open.selected>-1?r.open.selected+i*(n?1:-1):n?0:o-1;return a<0?a=e=="page"?0:o-1:a>=o&&(a=e=="page"?o-1:0),t.dispatch({effects:TX.of(a)}),!0}}const zye=n=>{let e=n.state.field(Jr,!1);return n.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<n.state.facet(Fn).interactionDelay?!1:oQ(n,e.open.options[e.open.selected])},vM=n=>n.state.field(Jr,!1)?(n.dispatch({effects:ox.of(!0)}),!0):!1,Uye=n=>{let e=n.state.field(Jr,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(n.dispatch({effects:Eg.of(null)}),!0)};class qye{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const Zye=50,Bye=1e3,Fye=Mt.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of n.state.field(Jr).active)e.isPending&&this.startQuery(e)}update(n){let e=n.state.field(Jr),t=n.state.facet(Fn);if(!n.selectionSet&&!n.docChanged&&n.startState.field(Jr)==e)return;let r=n.transactions.some(s=>{let o=_X(s,t);return o&8||(s.selection||s.docChanged)&&!(o&3)});for(let s=0;s<this.running.length;s++){let o=this.running[s];if(r||o.context.abortOnDocChange&&n.docChanged||o.updates.length+n.transactions.length>Zye&&Date.now()-o.time>Bye){for(let a of o.context.abortListeners)try{a()}catch(l){kn(this.view.state,l)}o.context.abortListeners=null,this.running.splice(s--,1)}else o.updates.push(...n.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),n.transactions.some(s=>s.effects.some(o=>o.is(ox)))&&(this.pendingStart=!0);let i=this.pendingStart?50:t.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(s=>s.isPending&&!this.running.some(o=>o.active.source==s.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let s of n.transactions)s.isUserEvent("input.type")?this.composing=2:this.composing==2&&s.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:n}=this.view,e=n.field(Jr);for(let t of e.active)t.isPending&&!this.running.some(r=>r.active.source==t.source)&&this.startQuery(t);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Fn).updateSyncTime))}startQuery(n){let{state:e}=this.view,t=hu(e),r=new bX(e,t,n.explicit,this.view),i=new qye(n,r);this.running.push(i),Promise.resolve(n.source(r)).then(s=>{i.context.aborted||(i.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:Eg.of(null)}),kn(this.view.state,s)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Fn).updateSyncTime))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(Fn),r=this.view.state.field(Jr);for(let i=0;i<this.running.length;i++){let s=this.running[i];if(s.done===void 0)continue;if(this.running.splice(i--,1),s.done){let a=hu(s.updates.length?s.updates[0].startState:this.view.state),l=Math.min(a,s.done.from+(s.active.explicit?0:1)),c=new id(s.active.source,s.active.explicit,l,s.done,s.done.from,(n=s.done.to)!==null&&n!==void 0?n:a);for(let u of s.updates)c=c.update(u,t);if(c.hasResult()){e.push(c);continue}}let o=r.active.find(a=>a.source==s.active.source);if(o&&o.isPending)if(s.done==null){let a=new Fi(s.active.source,0);for(let l of s.updates)a=a.update(l,t);a.isPending||e.push(a)}else this.startQuery(o)}(e.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:sQ.of(e)})}},{eventHandlers:{blur(n){let e=this.view.state.field(Jr,!1);if(e&&e.tooltip&&this.view.state.facet(Fn).closeOnBlur){let t=e.open&&cW(this.view,e.open.tooltip);(!t||!t.dom.contains(n.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:Eg.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:ox.of(!1)}),20),this.composing=0}}}),Wye=typeof navigator=="object"&&/Win/.test(navigator.platform),Xye=za.highest(ue.domEventHandlers({keydown(n,e){let t=e.state.field(Jr,!1);if(!t||!t.open||t.open.disabled||t.open.selected<0||n.key.length>1||n.ctrlKey&&!(Wye&&n.altKey)||n.metaKey)return!1;let r=t.open.options[t.open.selected],i=t.active.find(o=>o.source==r.source),s=r.completion.commitCharacters||i.result.commitCharacters;return s&&s.indexOf(n.key)>-1&&oQ(e,r),!1}})),Gye=ue.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),Ag={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Jc=$e.define({map(n,e){let t=e.mapPos(n,-1,In.TrackAfter);return t??void 0}}),aQ=new class extends ko{};aQ.startSide=1;aQ.endSide=-1;const PX=Bt.define({create(){return ft.empty},update(n,e){if(n=n.map(e.changes),e.selection){let t=e.state.doc.lineAt(e.selection.main.head);n=n.update({filter:r=>r>=t.from&&r<=t.to})}for(let t of e.effects)t.is(Jc)&&(n=n.update({add:[aQ.range(t.value,t.value+1)]}));return n}});function Yye(){return[Kye,PX]}const G1="()[]{}<>";function CX(n){for(let e=0;e<G1.length;e+=2)if(G1.charCodeAt(e)==n)return G1.charAt(e+1);return RR(n<128?n:n+1)}function EX(n,e){return n.languageDataAt("closeBrackets",e)[0]||Ag}const Hye=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),Kye=ue.inputHandler.of((n,e,t,r)=>{if((Hye?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let i=n.state.selection.main;if(r.length>2||r.length==2&&Ks(Hr(r,0))==1||e!=i.from||t!=i.to)return!1;let s=t0e(n.state,r);return s?(n.dispatch(s),!0):!1}),Jye=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let r=EX(n,n.selection.main.head).brackets||Ag.brackets,i=null,s=n.changeByRange(o=>{if(o.empty){let a=n0e(n.doc,o.head);for(let l of r)if(l==a&&Fb(n.doc,o.head)==CX(Hr(l,0)))return{changes:{from:o.head-l.length,to:o.head+l.length},range:J.cursor(o.head-l.length)}}return{range:i=o}});return i||e(n.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},e0e=[{key:"Backspace",run:Jye}];function t0e(n,e){let t=EX(n,n.selection.main.head),r=t.brackets||Ag.brackets;for(let i of r){let s=CX(Hr(i,0));if(e==i)return s==i?s0e(n,i,r.indexOf(i+i+i)>-1,t):r0e(n,i,s,t.before||Ag.before);if(e==s&&AX(n,n.selection.main.from))return i0e(n,i,s)}return null}function AX(n,e){let t=!1;return n.field(PX).between(0,n.doc.length,r=>{r==e&&(t=!0)}),t}function Fb(n,e){let t=n.sliceString(e,e+2);return t.slice(0,Ks(Hr(t,0)))}function n0e(n,e){let t=n.sliceString(e-2,e);return Ks(Hr(t,0))==t.length?t:t.slice(1)}function r0e(n,e,t,r){let i=null,s=n.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:t,from:o.to}],effects:Jc.of(o.to+e.length),range:J.range(o.anchor+e.length,o.head+e.length)};let a=Fb(n.doc,o.head);return!a||/\s/.test(a)||r.indexOf(a)>-1?{changes:{insert:e+t,from:o.head},effects:Jc.of(o.head+e.length),range:J.cursor(o.head+e.length)}:{range:i=o}});return i?null:n.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function i0e(n,e,t){let r=null,i=n.changeByRange(s=>s.empty&&Fb(n.doc,s.head)==t?{changes:{from:s.head,to:s.head+t.length,insert:t},range:J.cursor(s.head+t.length)}:r={range:s});return r?null:n.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function s0e(n,e,t,r){let i=r.stringPrefixes||Ag.stringPrefixes,s=null,o=n.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:e,from:a.to}],effects:Jc.of(a.to+e.length),range:J.range(a.anchor+e.length,a.head+e.length)};let l=a.head,c=Fb(n.doc,l),u;if(c==e){if(wM(n,l))return{changes:{insert:e+e,from:l},effects:Jc.of(l+e.length),range:J.cursor(l+e.length)};if(AX(n,l)){let d=t&&n.sliceDoc(l,l+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+d.length,insert:d},range:J.cursor(l+d.length)}}}else{if(t&&n.sliceDoc(l-2*e.length,l)==e+e&&(u=xM(n,l-2*e.length,i))>-1&&wM(n,u))return{changes:{insert:e+e+e+e,from:l},effects:Jc.of(l+e.length),range:J.cursor(l+e.length)};if(n.charCategorizer(l)(c)!=Wt.Word&&xM(n,l,i)>-1&&!o0e(n,l,e,i))return{changes:{insert:e+e,from:l},effects:Jc.of(l+e.length),range:J.cursor(l+e.length)}}return{range:s=a}});return s?null:n.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function wM(n,e){let t=Cr(n).resolveInner(e+1);return t.parent&&t.from==e}function o0e(n,e,t,r){let i=Cr(n).resolveInner(e,-1),s=r.reduce((o,a)=>Math.max(o,a.length),0);for(let o=0;o<5;o++){let a=n.sliceDoc(i.from,Math.min(i.to,i.from+t.length+s)),l=a.indexOf(t);if(!l||l>-1&&r.indexOf(a.slice(0,l))>-1){let u=i.firstChild;for(;u&&u.from==i.from&&u.to-u.from>t.length+l;){if(n.sliceDoc(u.to-t.length,u.to)==t)return!1;u=u.firstChild}return!0}let c=i.to==e&&i.parent;if(!c)break;i=c}return!1}function xM(n,e,t){let r=n.charCategorizer(e);if(r(n.sliceDoc(e-1,e))!=Wt.Word)return e;for(let i of t){let s=e-i.length;if(n.sliceDoc(s,e)==i&&r(n.sliceDoc(s-1,s))!=Wt.Word)return s}return-1}function a0e(n={}){return[Xye,Jr,Fn.of(n),Fye,l0e,Gye]}const RX=[{key:"Ctrl-Space",run:vM},{mac:"Alt-`",run:vM},{key:"Escape",run:Uye},{key:"ArrowDown",run:a0(!0)},{key:"ArrowUp",run:a0(!1)},{key:"PageDown",run:a0(!0,"page")},{key:"PageUp",run:a0(!1,"page")},{key:"Enter",run:zye}],l0e=za.highest(IO.computeN([Fn],n=>n.facet(Fn).defaultKeymap?[RX]:[]));class bM{constructor(e,t,r){this.from=e,this.to=t,this.diagnostic=r}}class Fc{constructor(e,t,r){this.diagnostics=e,this.panel=t,this.selected=r}static init(e,t,r){let i=e,s=r.facet(Rg).markerFilter;s&&(i=s(i,r));let o=e.slice().sort((h,d)=>h.from-d.from||h.to-d.to),a=new Aa,l=[],c=0;for(let h=0;;){let d=h==o.length?null:o[h];if(!d&&!l.length)break;let m,g;for(l.length?(m=c,g=l.reduce((v,S)=>Math.min(v,S.to),d&&d.from>m?d.from:1e8)):(m=d.from,g=d.to,l.push(d),h++);h<o.length;){let v=o[h];if(v.from==m&&(v.to>v.from||v.to==m))l.push(v),h++,g=Math.min(v.to,g);else{g=Math.min(v.from,g);break}}let y=x0e(l);if(l.some(v=>v.from==v.to||v.from==v.to-1&&r.doc.lineAt(v.from).to==v.from))a.add(m,m,me.widget({widget:new O0e(y),diagnostics:l.slice()}));else{let v=l.reduce((S,b)=>b.markClass?S+" "+b.markClass:S,"");a.add(m,g,me.mark({class:"cm-lintRange cm-lintRange-"+y+v,diagnostics:l.slice(),inclusiveEnd:l.some(S=>S.to>g)}))}c=g;for(let v=0;v<l.length;v++)l[v].to<=c&&l.splice(v--,1)}let u=a.finish();return new Fc(u,t,Fd(u))}}function Fd(n,e=null,t=0){let r=null;return n.between(t,1e9,(i,s,{spec:o})=>{if(!(e&&o.diagnostics.indexOf(e)<0))if(!r)r=new bM(i,s,e||o.diagnostics[0]);else{if(o.diagnostics.indexOf(r.diagnostic)<0)return!1;r=new bM(r.from,s,r.diagnostic)}}),r}function c0e(n,e){let t=e.pos,r=e.end||t,i=n.state.facet(Rg).hideOn(n,t,r);if(i!=null)return i;let s=n.startState.doc.lineAt(e.pos);return!!(n.effects.some(o=>o.is(QX))||n.changes.touchesRange(s.from,Math.max(s.to,r)))}function u0e(n,e){return n.field(Si,!1)?e:e.concat($e.appendConfig.of(b0e))}const QX=$e.define(),lQ=$e.define(),$X=$e.define(),Si=Bt.define({create(){return new Fc(me.none,null,null)},update(n,e){if(e.docChanged&&n.diagnostics.size){let t=n.diagnostics.map(e.changes),r=null,i=n.panel;if(n.selected){let s=e.changes.mapPos(n.selected.from,1);r=Fd(t,n.selected.diagnostic,s)||Fd(t,null,s)}!t.size&&i&&e.state.facet(Rg).autoPanel&&(i=null),n=new Fc(t,i,r)}for(let t of e.effects)if(t.is(QX)){let r=e.state.facet(Rg).autoPanel?t.value.length?Qg.open:null:n.panel;n=Fc.init(t.value,r,e.state)}else t.is(lQ)?n=new Fc(n.diagnostics,t.value?Qg.open:null,n.selected):t.is($X)&&(n=new Fc(n.diagnostics,n.panel,t.value));return n},provide:n=>[_g.from(n,e=>e.panel),ue.decorations.from(n,e=>e.diagnostics)]}),h0e=me.mark({class:"cm-lintRange cm-lintRange-active"});function d0e(n,e,t){let{diagnostics:r}=n.state.field(Si),i,s=-1,o=-1;r.between(e-(t<0?1:0),e+(t>0?1:0),(l,c,{spec:u})=>{if(e>=l&&e<=c&&(l==c||(e>l||t>0)&&(e<c||t<0)))return i=u.diagnostics,s=l,o=c,!1});let a=n.state.facet(Rg).tooltipFilter;return i&&a&&(i=a(i,n.state)),i?{pos:s,end:o,above:n.state.doc.lineAt(s).to<o,create(){return{dom:f0e(n,i)}}}:null}function f0e(n,e){return Tt("ul",{class:"cm-tooltip-lint"},e.map(t=>NX(n,t,!1)))}const p0e=n=>{let e=n.state.field(Si,!1);(!e||!e.panel)&&n.dispatch({effects:u0e(n.state,[lQ.of(!0)])});let t=kg(n,Qg.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},SM=n=>{let e=n.state.field(Si,!1);return!e||!e.panel?!1:(n.dispatch({effects:lQ.of(!1)}),!0)},m0e=n=>{let e=n.state.field(Si,!1);if(!e)return!1;let t=n.state.selection.main,r=e.diagnostics.iter(t.to+1);return!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==t.from&&r.to==t.to)?!1:(n.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},g0e=[{key:"Mod-Shift-m",run:p0e,preventDefault:!0},{key:"F8",run:m0e}],Rg=ce.define({combine(n){return Object.assign({sources:n.map(e=>e.source).filter(e=>e!=null)},Vo(n.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,t)=>e?t?r=>e(r)||t(r):e:t}))}});function IX(n){let e=[];if(n)e:for(let{name:t}of n){for(let r=0;r<t.length;r++){let i=t[r];if(/[a-zA-Z]/.test(i)&&!e.some(s=>s.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function NX(n,e,t){var r;let i=t?IX(e.actions):[];return Tt("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},Tt("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(n):e.message),(r=e.actions)===null||r===void 0?void 0:r.map((s,o)=>{let a=!1,l=d=>{if(d.preventDefault(),a)return;a=!0;let m=Fd(n.state.field(Si).diagnostics,e);m&&s.apply(n,m.from,m.to)},{name:c}=s,u=i[o]?c.indexOf(i[o]):-1,h=u<0?c:[c.slice(0,u),Tt("u",c.slice(u,u+1)),c.slice(u+1)];return Tt("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":` Action: ${c}${u<0?"":` (access key "${i[o]})"`}.`},h)}),e.source&&Tt("div",{class:"cm-diagnosticSource"},e.source))}class O0e extends Lo{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return Tt("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class kM{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=NX(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Qg{constructor(e){this.view=e,this.items=[];let t=i=>{if(i.keyCode==27)SM(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],o=IX(s.actions);for(let a=0;a<o.length;a++)if(o[a].toUpperCase().charCodeAt(0)==i.keyCode){let l=Fd(this.view.state.field(Si).diagnostics,s);l&&s.actions[a].apply(e,l.from,l.to)}}else return;i.preventDefault()},r=i=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(i.target)&&this.moveSelection(s)};this.list=Tt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:r}),this.dom=Tt("div",{class:"cm-panel-lint"},this.list,Tt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>SM(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(Si).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(Si),r=0,i=!1,s=null,o=new Set;for(e.between(0,this.view.state.doc.length,(a,l,{spec:c})=>{for(let u of c.diagnostics){if(o.has(u))continue;o.add(u);let h=-1,d;for(let m=r;m<this.items.length;m++)if(this.items[m].diagnostic==u){h=m;break}h<0?(d=new kM(this.view,u),this.items.splice(r,0,d),i=!0):(d=this.items[h],h>r&&(this.items.splice(r,h-r),i=!0)),t&&d.diagnostic==t.diagnostic?d.dom.hasAttribute("aria-selected")||(d.dom.setAttribute("aria-selected","true"),s=d):d.dom.hasAttribute("aria-selected")&&d.dom.removeAttribute("aria-selected"),r++}});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new kM(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:a,panel:l})=>{let c=l.height/this.list.offsetHeight;a.top<l.top?this.list.scrollTop-=(l.top-a.top)/c:a.bottom>l.bottom&&(this.list.scrollTop+=(a.bottom-l.bottom)/c)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function t(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)t();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(Si),r=Fd(t.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:$X.of(r)})}static open(e){return new Qg(e)}}function y0e(n,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(n)}</svg>')`}function l0(n){return y0e(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const v0e=ue.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:l0("#d11")},".cm-lintRange-warning":{backgroundImage:l0("orange")},".cm-lintRange-info":{backgroundImage:l0("#999")},".cm-lintRange-hint":{backgroundImage:l0("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function w0e(n){return n=="error"?4:n=="warning"?3:n=="info"?2:1}function x0e(n){let e="hint",t=1;for(let r of n){let i=w0e(r.severity);i>t&&(t=i,e=r.severity)}return e}const b0e=[Si,ue.decorations.compute([Si],n=>{let{selected:e,panel:t}=n.field(Si);return!e||!t||e.from==e.to?me.none:me.set([h0e.range(e.from,e.to)])}),cme(d0e,{hideOn:c0e}),v0e],S0e=[wme(),Sme(),Lpe(),Fge(),yge(),Epe(),Ipe(),Ne.allowMultipleSelections.of(!0),ige(),wge(Sge,{fallback:!0}),Age(),Yye(),a0e(),Kpe(),tme(),Fpe(),eye(),IO.of([...e0e,...XOe,...vye,...tOe,...pge,...RX,...g0e])],jX=1024;let k0e=0,Y1=class{constructor(e,t){this.from=e,this.to=t}},Xt=class{constructor(e={}){this.id=k0e++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=$a.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}};Xt.closedBy=new Xt({deserialize:n=>n.split(" ")});Xt.openedBy=new Xt({deserialize:n=>n.split(" ")});Xt.group=new Xt({deserialize:n=>n.split(" ")});Xt.isolate=new Xt({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});Xt.contextHash=new Xt({perNode:!0});Xt.lookAhead=new Xt({perNode:!0});Xt.mounted=new Xt({perNode:!0});let lx=class{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[Xt.mounted.id]}};const _0e=Object.create(null);let $a=class DX{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):_0e,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new DX(e.name||"",t,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Xt.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(Xt.group),s=-1;s<(i?i.length:0);s++){let o=t[s<0?r.name:i[s]];if(o)return o}}}};$a.none=new $a("",Object.create(null),0,8);class cQ{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let r of this.types){let i=null;for(let s of e){let o=s(r);o&&(i||(i=Object.assign({},r.props)),i[o[0].id]=o[1])}t.push(i?new $a(r.name,i,r.id,r.flags):r)}return new cQ(t)}}const c0=new WeakMap,_M=new WeakMap;var tr;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(tr||(tr={}));let Ss=class MP{constructor(e,t,r,i,s){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=lx.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new zP(this.topNode,e)}cursorAt(e,t=0,r=0){let i=c0.get(this)||this.topNode,s=new zP(i);return s.moveTo(e,t),c0.set(this,s._tree),s}get topNode(){return new hc(this,0,0,null)}resolve(e,t=0){let r=$g(c0.get(this)||this.topNode,e,t,!1);return c0.set(this,r),r}resolveInner(e,t=0){let r=$g(_M.get(this)||this.topNode,e,t,!0);return _M.set(this,r),r}resolveStack(e,t=0){return E0e(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:s=this.length}=e,o=e.mode||0,a=(o&tr.IncludeAnonymous)>0;for(let l=this.cursor(o|tr.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=i&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:hQ($a.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new MP(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new MP($a.none,t,r,i)))}static build(e){return A0e(e)}};Ss.empty=new Ss($a.none,[],[],0);let T0e=class MX{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new MX(this.buffer,this.index)}},Wd=class VX{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return $a.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(LX(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,t,r){let i=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=i[a++],s[l++]=i[a++]-r;let c=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,c)}return new VX(s,o,this.set)}};function LX(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function $g(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!r&&n instanceof hc&&n.index<0?null:n.parent;if(!o)return n;n=o}let s=r?0:tr.IgnoreOverlays;if(r)for(let o=n,a=o.parent;a;o=a,a=o.parent)o instanceof hc&&o.index<0&&((i=a.enter(e,t,s))===null||i===void 0?void 0:i.from)!=o.from&&(n=a);for(;;){let o=n.enter(e,t,s);if(!o)return n;n=o}}let zX=class{cursor(e=0){return new zP(this,e)}getChild(e,t=null,r=null){let i=TM(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return TM(this,e,t,r)}resolve(e,t=0){return $g(this,e,t,!1)}resolveInner(e,t=0){return $g(this,e,t,!0)}matchContext(e){return VP(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}},hc=class av extends zX{constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=t>0?a.length:-1;e!=c;e+=t){let u=a[e],h=l[e]+o.from;if(LX(i,r,h,h+u.length)){if(u instanceof Wd){if(s&tr.ExcludeBuffers)continue;let d=u.findChild(0,u.buffer.length,t,r-h,i);if(d>-1)return new LP(new P0e(o,u,e,h),null,d)}else if(s&tr.IncludeAnonymous||!u.type.isAnonymous||uQ(u)){let d;if(!(s&tr.IgnoreMounts)&&(d=lx.get(u))&&!d.overlay)return new av(d.tree,h,e,o);let m=new av(u,h,e,o);return s&tr.IncludeAnonymous||!m.type.isAnonymous?m:m.nextChild(t<0?u.children.length-1:0,t,r,i)}}}if(s&tr.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&tr.IgnoreOverlays)&&(i=lx.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:o,to:a}of i.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new av(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function TM(n,e,t,r){let i=n.cursor(),s=[];if(!i.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=i.type.is(t),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function VP(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}let P0e=class{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}},LP=class qp extends zX{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return s<0?null:new qp(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&tr.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new qp(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new qp(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new qp(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),t.push(0)}return new Ss(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function UX(n){if(!n.length)return null;let e=0,t=n[0];for(let s=1;s<n.length;s++){let o=n[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let r=t instanceof hc&&t.index<0?null:t.parent,i=n.slice();return r?i[e]=r:i.splice(e,1),new C0e(i,t)}let C0e=class{constructor(e,t){this.heads=e,this.node=t}get next(){return UX(this.heads)}};function E0e(n,e,t){let r=n.resolveInner(e,t),i=null;for(let s=r instanceof hc?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[r])).push(o.resolve(e,t)),s=o}else{let o=lx.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new hc(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[r])).push($g(a,e,t,!1))}}return i?UX(i):r}let zP=class{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof hc)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof hc?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&tr.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&tr.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&tr.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let s=t+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&tr.IncludeAnonymous||a instanceof Wd||!a.type.isAnonymous||uQ(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;t=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)t=new LP(this.buffer,t,this.stack[i]);return this.bufferNode=new LP(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return VP(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return VP(this._tree,e,i);let o=r[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}};function uQ(n){return n.children.some(e=>e instanceof Wd||!e.type.isAnonymous||uQ(e))}function A0e(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=jX,reused:s=[],minRepeatType:o=r.types.length}=n,a=Array.isArray(t)?new T0e(t,t.length):t,l=r.types,c=0,u=0;function h(C,Q,O,_,x,A){let{id:T,start:w,end:R,size:j}=a,V=u,M=c;for(;j<0;)if(a.next(),j==-1){let X=s[T];O.push(X),_.push(w-C);return}else if(j==-3){c=T;return}else if(j==-4){u=T;return}else throw new RangeError(`Unrecognized record size: ${j}`);let Z=l[T],U,q,ne=w-C;if(R-w<=i&&(q=v(a.pos-Q,x))){let X=new Uint16Array(q.size-q.skip),F=a.pos-q.size,G=X.length;for(;a.pos>F;)G=S(q.start,X,G);U=new Wd(X,R-q.start,r),ne=q.start-C}else{let X=a.pos-j;a.next();let F=[],G=[],K=T>=o?T:-1,re=0,Se=R;for(;a.pos>X;)K>=0&&a.id==K&&a.size>=0?(a.end<=Se-i&&(g(F,G,w,re,a.end,Se,K,V,M),re=F.length,Se=a.end),a.next()):A>2500?d(w,X,F,G):h(w,X,F,G,K,A+1);if(K>=0&&re>0&&re<F.length&&g(F,G,w,re,w,Se,K,V,M),F.reverse(),G.reverse(),K>-1&&re>0){let le=m(Z,M);U=hQ(Z,F,G,0,F.length,0,R-w,le,le)}else U=y(Z,F,G,R-w,V-R,M)}O.push(U),_.push(ne)}function d(C,Q,O,_){let x=[],A=0,T=-1;for(;a.pos>Q;){let{id:w,start:R,end:j,size:V}=a;if(V>4)a.next();else{if(T>-1&&R<T)break;T<0&&(T=j-i),x.push(w,R,j),A++,a.next()}}if(A){let w=new Uint16Array(A*4),R=x[x.length-2];for(let j=x.length-3,V=0;j>=0;j-=3)w[V++]=x[j],w[V++]=x[j+1]-R,w[V++]=x[j+2]-R,w[V++]=V;O.push(new Wd(w,x[2]-R,r)),_.push(R-C)}}function m(C,Q){return(O,_,x)=>{let A=0,T=O.length-1,w,R;if(T>=0&&(w=O[T])instanceof Ss){if(!T&&w.type==C&&w.length==x)return w;(R=w.prop(Xt.lookAhead))&&(A=_[T]+w.length+R)}return y(C,O,_,x,A,Q)}}function g(C,Q,O,_,x,A,T,w,R){let j=[],V=[];for(;C.length>_;)j.push(C.pop()),V.push(Q.pop()+O-x);C.push(y(r.types[T],j,V,A-x,w-A,R)),Q.push(x-O)}function y(C,Q,O,_,x,A,T){if(A){let w=[Xt.contextHash,A];T=T?[w].concat(T):[w]}if(x>25){let w=[Xt.lookAhead,x];T=T?[w].concat(T):[w]}return new Ss(C,Q,O,_,T)}function v(C,Q){let O=a.fork(),_=0,x=0,A=0,T=O.end-i,w={size:0,start:0,skip:0};e:for(let R=O.pos-C;O.pos>R;){let j=O.size;if(O.id==Q&&j>=0){w.size=_,w.start=x,w.skip=A,A+=4,_+=4,O.next();continue}let V=O.pos-j;if(j<0||V<R||O.start<T)break;let M=O.id>=o?4:0,Z=O.start;for(O.next();O.pos>V;){if(O.size<0)if(O.size==-3)M+=4;else break e;else O.id>=o&&(M+=4);O.next()}x=Z,_+=j,A+=M}return(Q<0||_==C)&&(w.size=_,w.start=x,w.skip=A),w.size>4?w:void 0}function S(C,Q,O){let{id:_,start:x,end:A,size:T}=a;if(a.next(),T>=0&&_<o){let w=O;if(T>4){let R=a.pos-(T-4);for(;a.pos>R;)O=S(C,Q,O)}Q[--O]=w,Q[--O]=A-C,Q[--O]=x-C,Q[--O]=_}else T==-3?c=_:T==-4&&(u=_);return O}let b=[],k=[];for(;a.pos>0;)h(n.start||0,n.bufferStart||0,b,k,-1,0);let $=(e=n.length)!==null&&e!==void 0?e:b.length?k[0]+b[0].length:0;return new Ss(l[n.topID],b.reverse(),k.reverse(),$)}const PM=new WeakMap;function lv(n,e){if(!n.isAnonymous||e instanceof Wd||e.type!=n)return 1;let t=PM.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof Ss)){t=1;break}t+=lv(n,r)}PM.set(e,t)}return t}function hQ(n,e,t,r,i,s,o,a,l){let c=0;for(let g=r;g<i;g++)c+=lv(n,e[g]);let u=Math.ceil(c*1.5/8),h=[],d=[];function m(g,y,v,S,b){for(let k=v;k<S;){let $=k,C=y[k],Q=lv(n,g[k]);for(k++;k<S;k++){let O=lv(n,g[k]);if(Q+O>=u)break;Q+=O}if(k==$+1){if(Q>u){let O=g[$];m(O.children,O.positions,0,O.children.length,y[$]+b);continue}h.push(g[$])}else{let O=y[k-1]+g[k-1].length-C;h.push(hQ(n,g,y,$,k,C,O,null,l))}d.push(C+b-s)}}return m(e,t,r,i,0),(a||l)(h,d,o)}let R0e=class{startParse(e,t,r){return typeof e=="string"&&(e=new Q0e(e)),r=r?r.length?r.map(i=>new Y1(i.from,i.to)):[new Y1(0,0)]:[new Y1(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let s=i.advance();if(s)return s}}},Q0e=class{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}};new Xt({perNode:!0});var CM={};class cx{constructor(e,t,r,i,s,o,a,l,c,u=0,h){this.p=e,this.stack=t,this.state=r,this.reducePos=i,this.pos=s,this.score=o,this.buffer=a,this.bufferBase=l,this.curContext=c,this.lookAhead=u,this.parent=h}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,r=0){let i=e.parser.context;return new cx(e,[],t,r,r,0,[],0,i?new EM(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let r=e>>19,i=e&65535,{parser:s}=this.p,o=this.reducePos<this.pos-25;o&&this.setLookAhead(this.pos);let a=s.dynamicPrecedence(i);if(a&&(this.score+=a),r==0){this.pushState(s.getGoto(this.state,i,!0),this.reducePos),i<s.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,o?8:4,!0),this.reduceContext(i,this.reducePos);return}let l=this.stack.length-(r-1)*3-(e&262144?6:0),c=l?this.stack[l-2]:this.p.ranges[0].from,u=this.reducePos-c;u>=2e3&&!(!((t=this.p.parser.nodeSet.types[i])===null||t===void 0)&&t.isAnonymous)&&(c==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=u):this.p.lastBigReductionSize<u&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=c,this.p.lastBigReductionSize=u));let h=l?this.stack[l-1]:0,d=this.bufferBase+this.buffer.length-h;if(i<s.minRepeatTerm||e&131072){let m=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,c,m,d+4,!0)}if(e&262144)this.state=this.stack[l];else{let m=this.stack[l-3];this.state=s.getGoto(m,i,!0)}for(;this.stack.length>l;)this.stack.pop();this.reduceContext(i,c)}storeNode(e,t,r,i=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,a=this.buffer.length;if(a==0&&o.parent&&(a=o.bufferBase-o.parent.bufferBase,o=o.parent),a>0&&o.buffer[a-4]==0&&o.buffer[a-1]>-1){if(t==r)return;if(o.buffer[a-2]>=t){o.buffer[a-2]=r;return}}}if(!s||this.pos==r)this.buffer.push(e,t,r,i);else{let o=this.buffer.length;if(o>0&&this.buffer[o-4]!=0){let a=!1;for(let l=o;l>0&&this.buffer[l-2]>r;l-=4)if(this.buffer[l-1]>=0){a=!0;break}if(a)for(;o>0&&this.buffer[o-2]>r;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,i>4&&(i-=4)}this.buffer[o]=e,this.buffer[o+1]=t,this.buffer[o+2]=r,this.buffer[o+3]=i}}shift(e,t,r,i){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=i,this.shiftContext(t,r),t<=this.p.parser.maxNode&&this.buffer.push(t,r,i,4);else{let s=e,{parser:o}=this.p;(i>this.pos||t<=o.maxNode)&&(this.pos=i,o.stateFlag(s,1)||(this.reducePos=i)),this.pushState(s,r),this.shiftContext(t,r),t<=o.maxNode&&this.buffer.push(t,r,i,4)}}apply(e,t,r,i){e&65536?this.reduce(e):this.shift(e,t,r,i)}useNode(e,t){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(t,i),this.buffer.push(r,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let r=e.buffer.slice(t),i=e.bufferBase+t;for(;e&&i==e.bufferBase;)e=e.parent;return new cx(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,r?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new $0e(this);;){let r=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(r==0)return!1;if(!(r&65536))return!0;t.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let i=[];for(let s=0,o;s<t.length;s+=2)(o=t[s+1])!=this.state&&this.p.parser.hasAction(o,e)&&i.push(t[s],o);if(this.stack.length<120)for(let s=0;i.length<8&&s<t.length;s+=2){let o=t[s+1];i.some((a,l)=>l&1&&a==o)||i.push(t[s],o)}t=i}let r=[];for(let i=0;i<t.length&&r.length<4;i+=2){let s=t[i+1];if(s==this.state)continue;let o=this.split();o.pushState(s,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(t[i],this.pos),o.reducePos=this.pos,o.score-=200,r.push(o)}return r}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if(!(t&65536))return!1;if(!e.validAction(this.state,t)){let r=t>>19,i=t&65535,s=this.stack.length-r*3;if(s<0||e.getGoto(this.stack[s],i,!1)<0){let o=this.findForcedReduction();if(o==null)return!1;t=o}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],r=(i,s)=>{if(!t.includes(i))return t.push(i),e.allActions(i,o=>{if(!(o&393216))if(o&65536){let a=(o>>19)-s;if(a>1){let l=o&65535,c=this.stack.length-a*3;if(c>=0&&e.getGoto(this.stack[c],l,!1)>=0)return a<<19|65536|l}}else{let a=r(o,s+1);if(a!=null)return a}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new EM(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class EM{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class $0e{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=i}}class ux{constructor(e,t,r){this.stack=e,this.pos=t,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new ux(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new ux(this.stack,this.pos,this.index)}}function Zp(n,e=Uint16Array){if(typeof n!="string")return n;let t=null;for(let r=0,i=0;r<n.length;){let s=0;for(;;){let o=n.charCodeAt(r++),a=!1;if(o==126){s=65535;break}o>=92&&o--,o>=34&&o--;let l=o-32;if(l>=46&&(l-=46,a=!0),s+=l,a)break;s*=46}t?t[i++]=s:t=new e(s)}return t}class cv{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const AM=new cv;class I0e{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=AM,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let r=this.range,i=this.rangeIndex,s=this.pos+e;for(;s<r.from;){if(!i)return null;let o=this.ranges[--i];s-=r.from-o.to,r=o}for(;t<0?s>r.to:s>=r.to;){if(i==this.ranges.length-1)return null;let o=this.ranges[++i];s+=o.from-r.to,r=o}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,r,i;if(t>=0&&t<this.chunk.length)r=this.pos+e,i=this.chunk.charCodeAt(t);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(r=s,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let o=this.rangeIndex,a=this.range;for(;a.to<=r;)a=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-r)),i=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),i}acceptToken(e,t=0){let r=t?this.resolveOffset(t,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}acceptTokenTo(e,t){this.token.value=e,this.token.end=t}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=AM,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let r="";for(let i of this.ranges){if(i.from>=t)break;i.to>e&&(r+=this.input.read(Math.max(i.from,e),Math.min(i.to,t)))}return r}}class sd{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:r}=t.p;qX(this.data,e,t,this.id,r.data,r.tokenPrecTable)}}sd.prototype.contextual=sd.prototype.fallback=sd.prototype.extend=!1;class hx{constructor(e,t,r){this.precTable=t,this.elseToken=r,this.data=typeof e=="string"?Zp(e):e}token(e,t){let r=e.pos,i=0;for(;;){let s=e.next<0,o=e.resolveOffset(1,1);if(qX(this.data,e,t,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(s||i++,o==null)break;e.reset(o,e.token)}i&&(e.reset(r,e.token),e.acceptToken(this.elseToken,i))}}hx.prototype.contextual=sd.prototype.fallback=sd.prototype.extend=!1;class ur{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function qX(n,e,t,r,i,s){let o=0,a=1<<r,{dialect:l}=t.p.parser;e:for(;a&n[o];){let c=n[o+1];for(let m=o+3;m<c;m+=2)if((n[m+1]&a)>0){let g=n[m];if(l.allows(g)&&(e.token.value==-1||e.token.value==g||N0e(g,e.token.value,i,s))){e.acceptToken(g);break}}let u=e.next,h=0,d=n[o+2];if(e.next<0&&d>h&&n[c+d*3-3]==65535){o=n[c+d*3-1];continue e}for(;h<d;){let m=h+d>>1,g=c+m+(m<<1),y=n[g],v=n[g+1]||65536;if(u<y)d=m;else if(u>=v)h=m+1;else{o=n[g+2],e.advance();continue e}}break}}function RM(n,e,t){for(let r=e,i;(i=n[r])!=65535;r++)if(i==t)return r-e;return-1}function N0e(n,e,t,r){let i=RM(t,r,e);return i<0||RM(t,r,n)<i}const di=typeof process<"u"&&CM&&/\bparse\b/.test(CM.LOG);let H1=null;function QM(n,e,t){let r=n.cursor(tr.IncludeAnonymous);for(r.moveTo(e);;)if(!(t<0?r.childBefore(e):r.childAfter(e)))for(;;){if((t<0?r.to<e:r.from>e)&&!r.type.isError)return t<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(n.length,Math.max(r.from+1,e+25));if(t<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return t<0?0:n.length}}let j0e=class{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?QM(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?QM(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let r=this.trees[t],i=this.index[t];if(i==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=r.children[i],o=this.start[t]+r.positions[i];if(o>e)return this.nextStart=o,null;if(s instanceof Ss){if(o==e){if(o<this.safeFrom)return null;let a=o+s.length;if(a<=this.safeTo){let l=s.prop(Xt.lookAhead);if(!l||a+l<this.fragment.to)return s}}this.index[t]++,o+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(o),this.index.push(0))}else this.index[t]++,this.nextStart=o+s.length}}};class D0e{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new cv)}getActions(e){let t=0,r=null,{parser:i}=e.p,{tokenizers:s}=i,o=i.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,l=0;for(let c=0;c<s.length;c++){if(!(1<<c&o))continue;let u=s[c],h=this.tokens[c];if(!(r&&!u.fallback)&&((u.contextual||h.start!=e.pos||h.mask!=o||h.context!=a)&&(this.updateCachedToken(h,u,e),h.mask=o,h.context=a),h.lookAhead>h.end+25&&(l=Math.max(h.lookAhead,l)),h.value!=0)){let d=t;if(h.extended>-1&&(t=this.addActions(e,h.extended,h.end,t)),t=this.addActions(e,h.value,h.end,t),!u.extend&&(r=h,t>d))break}}for(;this.actions.length>t;)this.actions.pop();return l&&e.setLookAhead(l),!r&&e.pos==this.stream.end&&(r=new cv,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,t=this.addActions(e,r.value,r.end,t)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new cv,{pos:r,p:i}=e;return t.start=r,t.end=Math.min(r+1,i.stream.end),t.value=r==i.stream.end?i.parser.eofTerm:0,t}updateCachedToken(e,t,r){let i=this.stream.clipPos(r.pos);if(t.token(this.stream.reset(i,e),r),e.value>-1){let{parser:s}=r.p;for(let o=0;o<s.specialized.length;o++)if(s.specialized[o]==e.value){let a=s.specializers[o](this.stream.read(e.start,e.end),r);if(a>=0&&r.p.parser.dialect.allows(a>>1)){a&1?e.extended=a>>1:e.value=a>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,t,r,i){for(let s=0;s<i;s+=3)if(this.actions[s]==e)return i;return this.actions[i++]=e,this.actions[i++]=t,this.actions[i++]=r,i}addActions(e,t,r,i){let{state:s}=e,{parser:o}=e.p,{data:a}=o;for(let l=0;l<2;l++)for(let c=o.stateSlot(s,l?2:1);;c+=3){if(a[c]==65535)if(a[c+1]==1)c=sa(a,c+2);else{i==0&&a[c+1]==2&&(i=this.putAction(sa(a,c+2),t,r,i));break}a[c]==t&&(i=this.putAction(sa(a,c+1),t,r,i))}return i}}class M0e{constructor(e,t,r,i){this.parser=e,this.input=t,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new I0e(t,i),this.tokens=new D0e(e,this.stream),this.topTerm=e.top[1];let{from:s}=i[0];this.stacks=[cx.start(this,e.top[0],s)],this.fragments=r.length&&this.stream.end-s>e.bufferLength*4?new j0e(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,r=this.stacks=[],i,s;if(this.bigReductionCount>300&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let a=e[o];for(;;){if(this.tokens.mainToken=null,a.pos>t)r.push(a);else{if(this.advanceStack(a,r,e))continue;{i||(i=[],s=[]),i.push(a);let l=this.tokens.getMainToken(a);s.push(l.value,l.end)}}break}}if(!r.length){let o=i&&L0e(i);if(o)return di&&console.log("Finish with "+this.stackID(o)),this.stackToTree(o);if(this.parser.strict)throw di&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&i){let o=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,s,r);if(o)return di&&console.log("Force-finish "+this.stackID(o)),this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(r.length>o)for(r.sort((a,l)=>l.score-a.score);r.length>o;)r.pop();r.some(a=>a.reducePos>t)&&this.recovering--}else if(r.length>1){e:for(let o=0;o<r.length-1;o++){let a=r[o];for(let l=o+1;l<r.length;l++){let c=r[l];if(a.sameState(c)||a.buffer.length>500&&c.buffer.length>500)if((a.score-c.score||a.buffer.length-c.buffer.length)>0)r.splice(l--,1);else{r.splice(o--,1);continue e}}}r.length>12&&r.splice(12,r.length-12)}this.minStackPos=r[0].pos;for(let o=1;o<r.length;o++)r[o].pos<this.minStackPos&&(this.minStackPos=r[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,r){let i=e.pos,{parser:s}=this,o=di?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let c=e.curContext&&e.curContext.tracker.strict,u=c?e.curContext.hash:0;for(let h=this.fragments.nodeAt(i);h;){let d=this.parser.nodeSet.types[h.type.id]==h.type?s.getGoto(e.state,h.type.id):-1;if(d>-1&&h.length&&(!c||(h.prop(Xt.contextHash)||0)==u))return e.useNode(h,d),di&&console.log(o+this.stackID(e)+` (via reuse of ${s.getName(h.type.id)})`),!0;if(!(h instanceof Ss)||h.children.length==0||h.positions[0]>0)break;let m=h.children[0];if(m instanceof Ss&&h.positions[0]==0)h=m;else break}}let a=s.stateSlot(e.state,4);if(a>0)return e.reduce(a),di&&console.log(o+this.stackID(e)+` (via always-reduce ${s.getName(a&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let c=0;c<l.length;){let u=l[c++],h=l[c++],d=l[c++],m=c==l.length||!r,g=m?e:e.split(),y=this.tokens.mainToken;if(g.apply(u,h,y?y.start:g.pos,d),di&&console.log(o+this.stackID(g)+` (via ${u&65536?`reduce of ${s.getName(u&65535)}`:"shift"} for ${s.getName(h)} @ ${i}${g==e?"":", split"})`),m)return!0;g.pos>i?t.push(g):r.push(g)}return!1}advanceFully(e,t){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return $M(e,t),!0}}runRecovery(e,t,r){let i=null,s=!1;for(let o=0;o<e.length;o++){let a=e[o],l=t[o<<1],c=t[(o<<1)+1],u=di?this.stackID(a)+" -> ":"";if(a.deadEnd&&(s||(s=!0,a.restart(),di&&console.log(u+this.stackID(a)+" (restarted)"),this.advanceFully(a,r))))continue;let h=a.split(),d=u;for(let m=0;h.forceReduce()&&m<10&&(di&&console.log(d+this.stackID(h)+" (via force-reduce)"),!this.advanceFully(h,r));m++)di&&(d=this.stackID(h)+" -> ");for(let m of a.recoverByInsert(l))di&&console.log(u+this.stackID(m)+" (via recover-insert)"),this.advanceFully(m,r);this.stream.end>a.pos?(c==a.pos&&(c++,l=0),a.recoverByDelete(l,c),di&&console.log(u+this.stackID(a)+` (via recover-delete ${this.parser.getName(l)})`),$M(a,r)):(!i||i.score<a.score)&&(i=a)}return i}stackToTree(e){return e.close(),Ss.build({buffer:ux.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(H1||(H1=new WeakMap)).get(e);return t||H1.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function $M(n,e){for(let t=0;t<e.length;t++){let r=e[t];if(r.pos==n.pos&&r.sameState(n)){e[t].score<n.score&&(e[t]=n);return}}e.push(n)}class V0e{constructor(e,t,r){this.source=e,this.flags=t,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}const K1=n=>n;class dQ{constructor(e){this.start=e.start,this.shift=e.shift||K1,this.reduce=e.reduce||K1,this.reuse=e.reuse||K1,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class Ia extends R0e{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let a=0;a<e.repeatNodeCount;a++)t.push("");let r=Object.keys(e.topRules).map(a=>e.topRules[a][1]),i=[];for(let a=0;a<t.length;a++)i.push([]);function s(a,l,c){i[a].push([l,l.deserialize(String(c))])}if(e.nodeProps)for(let a of e.nodeProps){let l=a[0];typeof l=="string"&&(l=Xt[l]);for(let c=1;c<a.length;){let u=a[c++];if(u>=0)s(u,l,a[c++]);else{let h=a[c+-u];for(let d=-u;d>0;d--)s(a[c++],l,h);c++}}}this.nodeSet=new cQ(t.map((a,l)=>$a.define({name:l>=this.minRepeatTerm?void 0:a,id:l,props:i[l],top:r.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=jX;let o=Zp(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map(IM),this.states=Zp(e.states,Uint32Array),this.data=Zp(e.stateData),this.goto=Zp(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(a=>typeof a=="number"?new sd(o,a):a),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,r){let i=new M0e(this,e,t,r);for(let s of this.wrappers)i=s(i,e,t,r);return i}getGoto(e,t,r=!1){let i=this.goto;if(t>=i[0])return-1;for(let s=i[t+1];;){let o=i[s++],a=o&1,l=i[s++];if(a&&r)return l;for(let c=s+(o>>1);s<c;s++)if(i[s]==e)return l;if(a)return-1}}hasAction(e,t){let r=this.data;for(let i=0;i<2;i++)for(let s=this.stateSlot(e,i?2:1),o;;s+=3){if((o=r[s])==65535)if(r[s+1]==1)o=r[s=sa(r,s+2)];else{if(r[s+1]==2)return sa(r,s+2);break}if(o==t||o==0)return sa(r,s+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,r=>r==t?!0:null)}allActions(e,t){let r=this.stateSlot(e,4),i=r?t(r):void 0;for(let s=this.stateSlot(e,1);i==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=sa(this.data,s+2);else break;i=t(sa(this.data,s+1))}return i}nextStates(e){let t=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=sa(this.data,r+2);else break;if(!(this.data[r+2]&1)){let i=this.data[r+1];t.some((s,o)=>o&1&&s==i)||t.push(this.data[r],i)}}return t}configure(e){let t=Object.assign(Object.create(Ia.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=r}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(r=>{let i=e.tokenizers.find(s=>s.from==r);return i?i.to:r})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((r,i)=>{let s=e.specializers.find(a=>a.from==r.external);if(!s)return r;let o=Object.assign(Object.assign({},r),{external:s.to});return t.specializers[i]=IM(o),o})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),r=t.map(()=>!1);if(e)for(let s of e.split(" ")){let o=t.indexOf(s);o>=0&&(r[o]=!0)}let i=null;for(let s=0;s<t.length;s++)if(!r[s])for(let o=this.dialects[t[s]],a;(a=this.data[o++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[a]=1;return new V0e(e,r,i)}static deserialize(e){return new Ia(e)}}function sa(n,e){return n[e]|n[e+1]<<16}function L0e(n){let e=null;for(let t of n){let r=t.p.stoppedAt;(t.pos==t.p.stream.end||r!=null&&t.pos>r)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function IM(n){if(n.external){let e=n.extend?1:0;return(t,r)=>n.external(t,r)<<1|e}return n.get}const z0e=314,U0e=315,NM=1,q0e=2,Z0e=3,B0e=4,F0e=316,W0e=318,X0e=319,G0e=5,Y0e=6,H0e=0,UP=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],ZX=125,K0e=59,qP=47,J0e=42,eve=43,tve=45,nve=60,rve=44,ive=63,sve=46,ove=91,ave=new dQ({start:!1,shift(n,e){return e==G0e||e==Y0e||e==W0e?n:e==X0e},strict:!1}),lve=new ur((n,e)=>{let{next:t}=n;(t==ZX||t==-1||e.context)&&n.acceptToken(F0e)},{contextual:!0,fallback:!0}),cve=new ur((n,e)=>{let{next:t}=n,r;UP.indexOf(t)>-1||t==qP&&((r=n.peek(1))==qP||r==J0e)||t!=ZX&&t!=K0e&&t!=-1&&!e.context&&n.acceptToken(z0e)},{contextual:!0}),uve=new ur((n,e)=>{n.next==ove&&!e.context&&n.acceptToken(U0e)},{contextual:!0}),hve=new ur((n,e)=>{let{next:t}=n;if(t==eve||t==tve){if(n.advance(),t==n.next){n.advance();let r=!e.context&&e.canShift(NM);n.acceptToken(r?NM:q0e)}}else t==ive&&n.peek(1)==sve&&(n.advance(),n.advance(),(n.next<48||n.next>57)&&n.acceptToken(Z0e))},{contextual:!0});function J1(n,e){return n>=65&&n<=90||n>=97&&n<=122||n==95||n>=192||!e&&n>=48&&n<=57}const dve=new ur((n,e)=>{if(n.next!=nve||!e.dialectEnabled(H0e)||(n.advance(),n.next==qP))return;let t=0;for(;UP.indexOf(n.next)>-1;)n.advance(),t++;if(J1(n.next,!0)){for(n.advance(),t++;J1(n.next,!1);)n.advance(),t++;for(;UP.indexOf(n.next)>-1;)n.advance(),t++;if(n.next==rve)return;for(let r=0;;r++){if(r==7){if(!J1(n.next,!0))return;break}if(n.next!="extends".charCodeAt(r))break;n.advance(),t++}}n.acceptToken(B0e,-t)}),fve=Ni({"get set async static":N.modifier,"for while do if else switch try catch finally return throw break continue default case":N.controlKeyword,"in of await yield void typeof delete instanceof":N.operatorKeyword,"let var const using function class extends":N.definitionKeyword,"import export from":N.moduleKeyword,"with debugger as new":N.keyword,TemplateString:N.special(N.string),super:N.atom,BooleanLiteral:N.bool,this:N.self,null:N.null,Star:N.modifier,VariableName:N.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":N.function(N.variableName),VariableDefinition:N.definition(N.variableName),Label:N.labelName,PropertyName:N.propertyName,PrivatePropertyName:N.special(N.propertyName),"CallExpression/MemberExpression/PropertyName":N.function(N.propertyName),"FunctionDeclaration/VariableDefinition":N.function(N.definition(N.variableName)),"ClassDeclaration/VariableDefinition":N.definition(N.className),"NewExpression/VariableName":N.className,PropertyDefinition:N.definition(N.propertyName),PrivatePropertyDefinition:N.definition(N.special(N.propertyName)),UpdateOp:N.updateOperator,"LineComment Hashbang":N.lineComment,BlockComment:N.blockComment,Number:N.number,String:N.string,Escape:N.escape,ArithOp:N.arithmeticOperator,LogicOp:N.logicOperator,BitOp:N.bitwiseOperator,CompareOp:N.compareOperator,RegExp:N.regexp,Equals:N.definitionOperator,Arrow:N.function(N.punctuation),": Spread":N.punctuation,"( )":N.paren,"[ ]":N.squareBracket,"{ }":N.brace,"InterpolationStart InterpolationEnd":N.special(N.brace),".":N.derefOperator,", ;":N.separator,"@":N.meta,TypeName:N.typeName,TypeDefinition:N.definition(N.typeName),"type enum interface implements namespace module declare":N.definitionKeyword,"abstract global Privacy readonly override":N.modifier,"is keyof unique infer asserts":N.operatorKeyword,JSXAttributeValue:N.attributeValue,JSXText:N.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":N.angleBracket,"JSXIdentifier JSXNameSpacedName":N.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":N.attributeName,"JSXBuiltin/JSXIdentifier":N.standard(N.tagName)}),pve={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,const:52,extends:56,this:60,true:68,false:68,null:80,void:84,typeof:88,super:104,new:138,delete:150,yield:159,await:163,class:168,public:231,private:231,protected:231,readonly:233,instanceof:252,satisfies:255,in:256,import:290,keyof:347,unique:351,infer:357,asserts:393,is:395,abstract:415,implements:417,type:419,let:422,var:424,using:427,interface:433,enum:437,namespace:443,module:445,declare:449,global:453,for:472,of:481,while:484,with:488,do:492,if:496,else:498,switch:502,case:508,try:514,catch:518,finally:522,return:526,throw:530,break:534,continue:538,debugger:542},mve={__proto__:null,async:125,get:127,set:129,declare:191,public:193,private:193,protected:193,static:195,abstract:197,override:199,readonly:205,accessor:207,new:399},gve={__proto__:null,"<":189},Ove=Ia.deserialize({version:14,states:"$EOQ%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#D_O.QQlO'#DeO.bQlO'#DpO%[QlO'#DxO0fQlO'#EQOOQ!0Lf'#EY'#EYO1PQ`O'#EVOOQO'#En'#EnOOQO'#Ij'#IjO1XQ`O'#GrO1dQ`O'#EmO1iQ`O'#EmO3hQ!0MxO'#JpO6[Q!0MxO'#JqO6uQ`O'#F[O6zQ,UO'#FsOOQ!0Lf'#Fe'#FeO7VO7dO'#FeO7eQMhO'#F{O9UQ`O'#FzOOQ!0Lf'#Jq'#JqOOQ!0Lb'#Jp'#JpO9ZQ`O'#GvOOQ['#K]'#K]O9fQ`O'#IWO9kQ!0LrO'#IXOOQ['#J^'#J^OOQ['#I]'#I]Q`QlOOQ`QlOOO9sQ!L^O'#DtO9zQlO'#D|O:RQlO'#EOO9aQ`O'#GrO:YQMhO'#CoO:hQ`O'#ElO:sQ`O'#EwO:xQMhO'#FdO;gQ`O'#GrOOQO'#K^'#K^O;lQ`O'#K^O;zQ`O'#GzO;zQ`O'#G{O;zQ`O'#G}O9aQ`O'#HQO<qQ`O'#HTO>YQ`O'#CeO>jQ`O'#HaO>rQ`O'#HgO>rQ`O'#HiO`QlO'#HkO>rQ`O'#HmO>rQ`O'#HpO>wQ`O'#HvO>|Q!0LsO'#H|O%[QlO'#IOO?XQ!0LsO'#IQO?dQ!0LsO'#ISO9kQ!0LrO'#IUO?oQ!0MxO'#CiO@qQpO'#DjQOQ`OOO%[QlO'#EOOAXQ`O'#ERO:YQMhO'#ElOAdQ`O'#ElOAoQ!bO'#FdOOQ['#Cg'#CgOOQ!0Lb'#Do'#DoOOQ!0Lb'#Jt'#JtO%[QlO'#JtOOQO'#Jw'#JwOOQO'#If'#IfOBoQpO'#EeOOQ!0Lb'#Ed'#EdOOQ!0Lb'#J{'#J{OCkQ!0MSO'#EeOCuQpO'#EUOOQO'#Jv'#JvODZQpO'#JwOEhQpO'#EUOCuQpO'#EePEuO&2DjO'#CbPOOO)CD{)CD{OOOO'#I^'#I^OFQO#tO,59UOOQ!0Lh,59U,59UOOOO'#I_'#I_OF`O&jO,59UOFnQ!L^O'#DaOOOO'#Ia'#IaOFuO#@ItO,59yOOQ!0Lf,59y,59yOGTQlO'#IbOGhQ`O'#JrOIgQ!fO'#JrO+}QlO'#JrOInQ`O,5:POJUQ`O'#EnOJcQ`O'#KROJnQ`O'#KQOJnQ`O'#KQOJvQ`O,5;[OJ{Q`O'#KPOOQ!0Ln,5:[,5:[OKSQlO,5:[OMQQ!0MxO,5:dOMqQ`O,5:lON[Q!0LrO'#KOONcQ`O'#J}O9ZQ`O'#J}ONwQ`O'#J}O! PQ`O,5;ZO! UQ`O'#J}O!#ZQ!fO'#JqOOQ!0Lh'#Ci'#CiO%[QlO'#EQO!#yQ!fO,5:qOOQS'#Jx'#JxOOQO-E<h-E<hO9aQ`O,5=^O!$aQ`O,5=^O!$fQlO,5;XO!&iQMhO'#EiO!(SQ`O,5;XO!(XQlO'#DwO!(cQpO,5;bO!(kQpO,5;bO%[QlO,5;bOOQ['#FS'#FSOOQ['#FU'#FUO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cOOQ['#FY'#FYO!(yQlO,5;sOOQ!0Lf,5;x,5;xOOQ!0Lf,5;y,5;yOOQ!0Lf,5;{,5;{O%[QlO'#InO!*|Q!0LrO,5<hO%[QlO,5;cO!&iQMhO,5;cO!+kQMhO,5;cO!-]QMhO'#E[O%[QlO,5;vOOQ!0Lf,5;z,5;zO!-dQ,UO'#FiO!.aQ,UO'#KVO!-{Q,UO'#KVO!.hQ,UO'#KVOOQO'#KV'#KVO!.|Q,UO,5<ROOOW,5<_,5<_O!/_QlO'#FuOOOW'#Im'#ImO7VO7dO,5<PO!/fQ,UO'#FwOOQ!0Lf,5<P,5<PO!0VQ$IUO'#CwOOQ!0Lh'#C{'#C{O!0jO#@ItO'#DPO!1WQMjO,5<dO!1_Q`O,5<gO!2zQ(CWO'#GWO!3XQ`O'#GXO!3^Q`O'#GXO!4|Q(CWO'#G]O!6RQpO'#GaOOQO'#Gm'#GmO!+rQMhO'#GlOOQO'#Go'#GoO!+rQMhO'#GnO!6tQ$IUO'#JjOOQ!0Lh'#Jj'#JjO!7OQ`O'#JiO!7^Q`O'#JhO!7fQ`O'#CuOOQ!0Lh'#Cy'#CyO!7qQ`O'#C{OOQ!0Lh'#DT'#DTOOQ!0Lh'#DV'#DVO1SQ`O'#DXO!+rQMhO'#GOO!+rQMhO'#GQO!7vQ`O'#GSO!7{Q`O'#GTO!3^Q`O'#GZO!+rQMhO'#G`O;zQ`O'#JiO!8QQ`O'#EoO!8oQ`O,5<fOOQ!0Lb'#Cr'#CrO!8wQ`O'#EpO!9qQpO'#EqOOQ!0Lb'#KP'#KPO!9xQ!0LrO'#K_O9kQ!0LrO,5=bO`QlO,5>rOOQ['#Jf'#JfOOQ[,5>s,5>sOOQ[-E<Z-E<ZO!;wQ!0MxO,5:`O!9lQpO,5:^O!>bQ!0MxO,5:hO%[QlO,5:hO!@xQ!0MxO,5:jOOQO,5@x,5@xO!AiQMhO,5=^O!AwQ!0LrO'#JgO9UQ`O'#JgO!BYQ!0LrO,59ZO!BeQpO,59ZO!BmQMhO,59ZO:YQMhO,59ZO!BxQ`O,5;XO!CQQ`O'#H`O!CfQ`O'#KbO%[QlO,5;|O!9lQpO,5<OO!CnQ`O,5=yO!CsQ`O,5=yO!CxQ`O,5=yO9kQ!0LrO,5=yO;zQ`O,5=iOOQO'#Cw'#CwO!DWQpO,5=fO!D`QMhO,5=gO!DkQ`O,5=iO!DpQ!bO,5=lO!DxQ`O'#K^O>wQ`O'#HVO9aQ`O'#HXO!D}Q`O'#HXO:YQMhO'#HZO!ESQ`O'#HZOOQ[,5=o,5=oO!EXQ`O'#H[O!EjQ`O'#CoO!EoQ`O,59PO!EyQ`O,59PO!HOQlO,59POOQ[,59P,59PO!H`Q!0LrO,59PO%[QlO,59PO!JkQlO'#HcOOQ['#Hd'#HdOOQ['#He'#HeO`QlO,5={O!KRQ`O,5={O`QlO,5>RO`QlO,5>TO!KWQ`O,5>VO`QlO,5>XO!K]Q`O,5>[O!KbQlO,5>bOOQ[,5>h,5>hO%[QlO,5>hO9kQ!0LrO,5>jOOQ[,5>l,5>lO# lQ`O,5>lOOQ[,5>n,5>nO# lQ`O,5>nOOQ[,5>p,5>pO#!YQpO'#D]O%[QlO'#JtO#!{QpO'#JtO##VQpO'#DkO##hQpO'#DkO#%yQlO'#DkO#&QQ`O'#JsO#&YQ`O,5:UO#&_Q`O'#ErO#&mQ`O'#KSO#&uQ`O,5;]O#&zQpO'#DkO#'XQpO'#ETOOQ!0Lf,5:m,5:mO%[QlO,5:mO#'`Q`O,5:mO>wQ`O,5;WO!BeQpO,5;WO!BmQMhO,5;WO:YQMhO,5;WO#'hQ`O,5@`O#'mQ07dO,5:qOOQO-E<d-E<dO#(sQ!0MSO,5;POCuQpO,5:pO#(}QpO,5:pOCuQpO,5;PO!BYQ!0LrO,5:pOOQ!0Lb'#Eh'#EhOOQO,5;P,5;PO%[QlO,5;PO#)[Q!0LrO,5;PO#)gQ!0LrO,5;PO!BeQpO,5:pOOQO,5;V,5;VO#)uQ!0LrO,5;PPOOO'#I['#I[P#*ZO&2DjO,58|POOO,58|,58|OOOO-E<[-E<[OOQ!0Lh1G.p1G.pOOOO-E<]-E<]OOOO,59{,59{O#*fQ!bO,59{OOOO-E<_-E<_OOQ!0Lf1G/e1G/eO#*kQ!fO,5>|O+}QlO,5>|OOQO,5?S,5?SO#*uQlO'#IbOOQO-E<`-E<`O#+SQ`O,5@^O#+[Q!fO,5@^O#+cQ`O,5@lOOQ!0Lf1G/k1G/kO%[QlO,5@mO#+kQ`O'#IhOOQO-E<f-E<fO#+cQ`O,5@lOOQ!0Lb1G0v1G0vOOQ!0Ln1G/v1G/vOOQ!0Ln1G0W1G0WO%[QlO,5@jO#,PQ!0LrO,5@jO#,bQ!0LrO,5@jO#,iQ`O,5@iO9ZQ`O,5@iO#,qQ`O,5@iO#-PQ`O'#IkO#,iQ`O,5@iOOQ!0Lb1G0u1G0uO!(cQpO,5:sO!(nQpO,5:sOOQS,5:u,5:uO#-qQdO,5:uO#-yQMhO1G2xO9aQ`O1G2xOOQ!0Lf1G0s1G0sO#.XQ!0MxO1G0sO#/^Q!0MvO,5;TOOQ!0Lh'#GV'#GVO#/zQ!0MzO'#JjO!$fQlO1G0sO#2VQ!fO'#JuO%[QlO'#JuO#2aQ`O,5:cOOQ!0Lh'#D]'#D]OOQ!0Lf1G0|1G0|O%[QlO1G0|OOQ!0Lf1G1e1G1eO#2fQ`O1G0|O#4zQ!0MxO1G0}O#5RQ!0MxO1G0}O#7iQ!0MxO1G0}O#7pQ!0MxO1G0}O#:WQ!0MxO1G0}O#<nQ!0MxO1G0}O#<uQ!0MxO1G0}O#<|Q!0MxO1G0}O#?dQ!0MxO1G0}O#?kQ!0MxO1G0}O#AxQ?MtO'#CiO#CsQ?MtO1G1_O#CzQ?MtO'#JqO#D_Q!0MxO,5?YOOQ!0Lb-E<l-E<lO#FlQ!0MxO1G0}O#GiQ!0MzO1G0}OOQ!0Lf1G0}1G0}O#HlQMjO'#JzO#HvQ`O,5:vO#H{Q!0MxO1G1bO#IoQ,UO,5<VO#IwQ,UO,5<WO#JPQ,UO'#FnO#JhQ`O'#FmOOQO'#KW'#KWOOQO'#Il'#IlO#JmQ,UO1G1mOOQ!0Lf1G1m1G1mOOOW1G1x1G1xO#KOQ?MtO'#JpO#KYQ`O,5<aO!(yQlO,5<aOOOW-E<k-E<kOOQ!0Lf1G1k1G1kO#K_QpO'#KVOOQ!0Lf,5<c,5<cO#KgQpO,5<cO#KlQMhO'#DROOOO'#I`'#I`O#KsO#@ItO,59kOOQ!0Lh,59k,59kO%[QlO1G2OO!7{Q`O'#IpO#LOQ`O,5<yOOQ!0Lh,5<v,5<vO!+rQMhO'#IsO#LlQMjO,5=WO!+rQMhO'#IuO#M_QMjO,5=YO!&iQMhO,5=[OOQO1G2R1G2RO#MiQ!dO'#CrO#M|Q(CWO'#EpO$ RQpO'#GaO$ iQ!dO,5<rO$ pQ`O'#KYO9ZQ`O'#KYO$!OQ`O,5<tO!+rQMhO,5<sO$!TQ`O'#GYO$!fQ`O,5<sO$!kQ!dO'#GVO$!xQ!dO'#KZO$#SQ`O'#KZO!&iQMhO'#KZO$#XQ`O,5<wO$#^QlO'#JtO$#hQpO'#GbO##hQpO'#GbO$#yQ`O'#GfO!3^Q`O'#GjO$$OQ!0LrO'#IrO$$ZQpO,5<{OOQ!0Lp,5<{,5<{O$$bQpO'#GbO$$oQpO'#GcO$%QQpO'#GcO$%VQMjO,5=WO$%gQMjO,5=YOOQ!0Lh,5=],5=]O!+rQMhO,5@TO!+rQMhO,5@TO$%wQ`O'#IwO$&VQ`O,5@SO$&_Q`O,59aOOQ!0Lh,59g,59gO$'UQ$IYO,59sOOQ!0Lh'#Jn'#JnO$'wQMjO,5<jO$(jQMjO,5<lO@iQ`O,5<nOOQ!0Lh,5<o,5<oO$(tQ`O,5<uO$(yQMjO,5<zO$)ZQ`O,5@TO$)iQ`O'#J}O!$fQlO1G2QO$)nQ`O1G2QO9ZQ`O'#KQO9ZQ`O'#ErO%[QlO'#ErO9ZQ`O'#IyO$)sQ!0LrO,5@yOOQ[1G2|1G2|OOQ[1G4^1G4^OOQ!0Lf1G/z1G/zOOQ!0Lf1G/x1G/xO$+uQ!0MxO1G0SOOQ[1G2x1G2xO!&iQMhO1G2xO%[QlO1G2xO#-|Q`O1G2xO$-yQMhO'#EiOOQ!0Lb,5@R,5@RO$.WQ!0LrO,5@ROOQ[1G.u1G.uO!BYQ!0LrO1G.uO!BeQpO1G.uO!BmQMhO1G.uO$.iQ`O1G0sO$.nQ`O'#CiO$.yQ`O'#KcO$/RQ`O,5=zO$/WQ`O'#KcO$/]Q`O'#KcO$/kQ`O'#JPO$/yQ`O,5@|O$0RQ!fO1G1hOOQ!0Lf1G1j1G1jO9aQ`O1G3eO@iQ`O1G3eO$0YQ`O1G3eO$0_Q`O1G3eOOQ[1G3e1G3eO!DkQ`O1G3TO!&iQMhO1G3QO$0dQ`O1G3QOOQ[1G3R1G3RO!&iQMhO1G3RO$0iQ`O1G3RO$0qQpO'#HPOOQ[1G3T1G3TO!5|QpO'#I{O!DpQ!bO1G3WOOQ[1G3W1G3WOOQ[,5=q,5=qO$0yQMhO,5=sO9aQ`O,5=sO$#yQ`O,5=uO9UQ`O,5=uO!BeQpO,5=uO!BmQMhO,5=uO:YQMhO,5=uO$1XQ`O'#KaO$1dQ`O,5=vOOQ[1G.k1G.kO$1iQ!0LrO1G.kO@iQ`O1G.kO$1tQ`O1G.kO9kQ!0LrO1G.kO$3|Q!fO,5AOO$4ZQ`O,5AOO9ZQ`O,5AOO$4fQlO,5=}O$4mQ`O,5=}OOQ[1G3g1G3gO`QlO1G3gOOQ[1G3m1G3mOOQ[1G3o1G3oO>rQ`O1G3qO$4rQlO1G3sO$8vQlO'#HrOOQ[1G3v1G3vO$9TQ`O'#HxO>wQ`O'#HzOOQ[1G3|1G3|O$9]QlO1G3|O9kQ!0LrO1G4SOOQ[1G4U1G4UOOQ!0Lb'#G^'#G^O9kQ!0LrO1G4WO9kQ!0LrO1G4YO$=dQ`O,5@`O!(yQlO,5;^O9ZQ`O,5;^O>wQ`O,5:VO!(yQlO,5:VO!BeQpO,5:VO$=iQ?MtO,5:VOOQO,5;^,5;^O$=sQpO'#IcO$>ZQ`O,5@_OOQ!0Lf1G/p1G/pO$>cQpO'#IiO$>mQ`O,5@nOOQ!0Lb1G0w1G0wO##hQpO,5:VOOQO'#Ie'#IeO$>uQpO,5:oOOQ!0Ln,5:o,5:oO#'cQ`O1G0XOOQ!0Lf1G0X1G0XO%[QlO1G0XOOQ!0Lf1G0r1G0rO>wQ`O1G0rO!BeQpO1G0rO!BmQMhO1G0rOOQ!0Lb1G5z1G5zO!BYQ!0LrO1G0[OOQO1G0k1G0kO%[QlO1G0kO$>|Q!0LrO1G0kO$?XQ!0LrO1G0kO!BeQpO1G0[OCuQpO1G0[O$?gQ!0LrO1G0kOOQO1G0[1G0[O$?{Q!0MxO1G0kPOOO-E<Y-E<YPOOO1G.h1G.hOOOO1G/g1G/gO$@VQ!bO,5<hO$@_Q!fO1G4hOOQO1G4n1G4nO%[QlO,5>|O$@iQ`O1G5xO$@qQ`O1G6WO$@yQ!fO1G6XO9ZQ`O,5?SO$ATQ!0MxO1G6UO%[QlO1G6UO$AeQ!0LrO1G6UO$AvQ`O1G6TO$AvQ`O1G6TO9ZQ`O1G6TO$BOQ`O,5?VO9ZQ`O,5?VOOQO,5?V,5?VO$BdQ`O,5?VO$)iQ`O,5?VOOQO-E<i-E<iOOQS1G0_1G0_OOQS1G0a1G0aO#-tQ`O1G0aOOQ[7+(d7+(dO!&iQMhO7+(dO%[QlO7+(dO$BrQ`O7+(dO$B}QMhO7+(dO$C]Q!0MzO,5=WO$EhQ!0MzO,5=YO$GsQ!0MzO,5=WO$JUQ!0MzO,5=YO$LgQ!0MzO,59sO$NlQ!0MzO,5<jO%!wQ!0MzO,5<lO%%SQ!0MzO,5<zOOQ!0Lf7+&_7+&_O%'eQ!0MxO7+&_O%(XQlO'#IdO%(fQ`O,5@aO%(nQ!fO,5@aOOQ!0Lf1G/}1G/}O%(xQ`O7+&hOOQ!0Lf7+&h7+&hO%(}Q?MtO,5:dO%[QlO7+&yO%)XQ?MtO,5:`O%)fQ?MtO,5:hO%)pQ?MtO,5:jO%)zQMhO'#IgO%*UQ`O,5@fOOQ!0Lh1G0b1G0bOOQO1G1q1G1qOOQO1G1r1G1rO%*^Q!jO,5<YO!(yQlO,5<XOOQO-E<j-E<jOOQ!0Lf7+'X7+'XOOOW7+'d7+'dOOOW1G1{1G1{O%*iQ`O1G1{OOQ!0Lf1G1}1G1}OOOO,59m,59mO%*nQ!dO,59mOOOO-E<^-E<^OOQ!0Lh1G/V1G/VO%*uQ!0MxO7+'jOOQ!0Lh,5?[,5?[O%+iQMhO1G2eP%+pQ`O'#IpPOQ!0Lh-E<n-E<nO%,^QMjO,5?_OOQ!0Lh-E<q-E<qO%-PQMjO,5?aOOQ!0Lh-E<s-E<sO%-ZQ!dO1G2vO%-bQ!dO'#CrO%-xQMhO'#KQO$#^QlO'#JtOOQ!0Lh1G2^1G2^O%.PQ`O'#IoO%.eQ`O,5@tO%.eQ`O,5@tO%.mQ`O,5@tO%.xQ`O,5@tOOQO1G2`1G2`O%/WQMjO1G2_O!+rQMhO1G2_O%/hQ(CWO'#IqO%/uQ`O,5@uO!&iQMhO,5@uO%/}Q!dO,5@uOOQ!0Lh1G2c1G2cO%2_Q!fO'#CiO%2iQ`O,5=OOOQ!0Lb,5<|,5<|O%2qQpO,5<|OOQ!0Lb,5<},5<}OCfQ`O,5<|O%2|QpO,5<|OOQ!0Lb,5=Q,5=QO$)iQ`O,5=UOOQO,5?^,5?^OOQO-E<p-E<pOOQ!0Lp1G2g1G2gO##hQpO,5<|O$#^QlO,5=OO%3[Q`O,5<}O%3gQpO,5<}O!+rQMhO'#IsO%4aQMjO1G2rO!+rQMhO'#IuO%5SQMjO1G2tO%5^QMjO1G5oO%5hQMjO1G5oOOQO,5?c,5?cOOQO-E<u-E<uOOQO1G.{1G.{O!9lQpO,59uO%[QlO,59uOOQ!0Lh,5<i,5<iO%5uQ`O1G2YO!+rQMhO1G2aO!+rQMhO1G5oO!+rQMhO1G5oO%5zQ!0MxO7+'lOOQ!0Lf7+'l7+'lO!$fQlO7+'lO%6nQ`O,5;^OOQ!0Lb,5?e,5?eOOQ!0Lb-E<w-E<wO%6sQ!dO'#K[O#'cQ`O7+(dO4UQ!fO7+(dO$BuQ`O7+(dO%6}Q!0MvO'#CiO%7nQ!0LrO,5=RO%8PQ!0MvO,5=RO%8dQ`O,5=ROOQ!0Lb1G5m1G5mOOQ[7+$a7+$aO!BYQ!0LrO7+$aO!BeQpO7+$aO!$fQlO7+&_O%8lQ`O'#JOO%9TQ`O,5@}OOQO1G3f1G3fO9aQ`O,5@}O%9TQ`O,5@}O%9]Q`O,5@}OOQO,5?k,5?kOOQO-E<}-E<}OOQ!0Lf7+'S7+'SO%9bQ`O7+)PO9kQ!0LrO7+)PO9aQ`O7+)PO@iQ`O7+)POOQ[7+(o7+(oO%9gQ!0MvO7+(lO!&iQMhO7+(lO!DfQ`O7+(mOOQ[7+(m7+(mO!&iQMhO7+(mO%9qQ`O'#K`O%9|Q`O,5=kOOQO,5?g,5?gOOQO-E<y-E<yOOQ[7+(r7+(rO%;`QpO'#HYOOQ[1G3_1G3_O!&iQMhO1G3_O%[QlO1G3_O%;gQ`O1G3_O%;rQMhO1G3_O9kQ!0LrO1G3aO$#yQ`O1G3aO9UQ`O1G3aO!BeQpO1G3aO!BmQMhO1G3aO%<QQ`O'#I}O%<fQ`O,5@{O%<nQpO,5@{OOQ!0Lb1G3b1G3bOOQ[7+$V7+$VO@iQ`O7+$VO9kQ!0LrO7+$VO%<yQ`O7+$VO%[QlO1G6jO%[QlO1G6kO%=OQ!0LrO1G6jO%=YQlO1G3iO%=aQ`O1G3iO%=fQlO1G3iOOQ[7+)R7+)RO9kQ!0LrO7+)]O`QlO7+)_OOQ['#Kf'#KfOOQ['#JQ'#JQO%=mQlO,5>^OOQ[,5>^,5>^O%[QlO'#HsO%=zQ`O'#HuOOQ[,5>d,5>dO9ZQ`O,5>dOOQ[,5>f,5>fOOQ[7+)h7+)hOOQ[7+)n7+)nOOQ[7+)r7+)rOOQ[7+)t7+)tO%>PQpO1G5zO%>kQ?MtO1G0xO%>uQ`O1G0xOOQO1G/q1G/qO%?QQ?MtO1G/qO>wQ`O1G/qO!(yQlO'#DkOOQO,5>},5>}OOQO-E<a-E<aOOQO,5?T,5?TOOQO-E<g-E<gO!BeQpO1G/qOOQO-E<c-E<cOOQ!0Ln1G0Z1G0ZOOQ!0Lf7+%s7+%sO#'cQ`O7+%sOOQ!0Lf7+&^7+&^O>wQ`O7+&^O!BeQpO7+&^OOQO7+%v7+%vO$?{Q!0MxO7+&VOOQO7+&V7+&VO%[QlO7+&VO%?[Q!0LrO7+&VO!BYQ!0LrO7+%vO!BeQpO7+%vO%?gQ!0LrO7+&VO%?uQ!0MxO7++pO%[QlO7++pO%@VQ`O7++oO%@VQ`O7++oOOQO1G4q1G4qO9ZQ`O1G4qO%@_Q`O1G4qOOQS7+%{7+%{O#'cQ`O<<LOO4UQ!fO<<LOO%@mQ`O<<LOOOQ[<<LO<<LOO!&iQMhO<<LOO%[QlO<<LOO%@uQ`O<<LOO%AQQ!0MzO,5?_O%C]Q!0MzO,5?aO%EhQ!0MzO1G2_O%GyQ!0MzO1G2rO%JUQ!0MzO1G2tO%LaQ!fO,5?OO%[QlO,5?OOOQO-E<b-E<bO%LkQ`O1G5{OOQ!0Lf<<JS<<JSO%LsQ?MtO1G0sO%NzQ?MtO1G0}O& RQ?MtO1G0}O&#SQ?MtO1G0}O&#ZQ?MtO1G0}O&%[Q?MtO1G0}O&']Q?MtO1G0}O&'dQ?MtO1G0}O&'kQ?MtO1G0}O&)lQ?MtO1G0}O&)sQ?MtO1G0}O&)zQ!0MxO<<JeO&+rQ?MtO1G0}O&,oQ?MvO1G0}O&-rQ?MvO'#JjO&/xQ?MtO1G1bO&0VQ?MtO1G0SO&0aQMjO,5?ROOQO-E<e-E<eO!(yQlO'#FpOOQO'#KX'#KXOOQO1G1t1G1tO&0kQ`O1G1sO&0pQ?MtO,5?YOOOW7+'g7+'gOOOO1G/X1G/XO&0zQ!dO1G4vOOQ!0Lh7+(P7+(PP!&iQMhO,5?[O!+rQMhO7+(bO&1RQ`O,5?ZO9ZQ`O,5?ZOOQO-E<m-E<mO&1aQ`O1G6`O&1aQ`O1G6`O&1iQ`O1G6`O&1tQMjO7+'yO&2UQ!dO,5?]O&2`Q`O,5?]O!&iQMhO,5?]OOQO-E<o-E<oO&2eQ!dO1G6aO&2oQ`O1G6aO&2wQ`O1G2jO!&iQMhO1G2jOOQ!0Lb1G2h1G2hOOQ!0Lb1G2i1G2iO%2qQpO1G2hO!BeQpO1G2hOCfQ`O1G2hOOQ!0Lb1G2p1G2pO&2|QpO1G2hO&3[Q`O1G2jO$)iQ`O1G2iOCfQ`O1G2iO$#^QlO1G2jO&3dQ`O1G2iO&4WQMjO,5?_OOQ!0Lh-E<r-E<rO&4yQMjO,5?aOOQ!0Lh-E<t-E<tO!+rQMhO7++ZOOQ!0Lh1G/a1G/aO&5TQ`O1G/aOOQ!0Lh7+'t7+'tO&5YQMjO7+'{O&5jQMjO7++ZO&5tQMjO7++ZO&6RQ!0MxO<<KWOOQ!0Lf<<KW<<KWO&6uQ`O1G0xO!&iQMhO'#IxO&6zQ`O,5@vO&8|Q!fO<<LOO!&iQMhO1G2mO&9TQ!0LrO1G2mOOQ[<<G{<<G{O!BYQ!0LrO<<G{O&9fQ!0MxO<<IyOOQ!0Lf<<Iy<<IyOOQO,5?j,5?jO&:YQ`O,5?jO&:_Q`O,5?jOOQO-E<|-E<|O&:mQ`O1G6iO&:mQ`O1G6iO9aQ`O1G6iO@iQ`O<<LkOOQ[<<Lk<<LkO&:uQ`O<<LkO9kQ!0LrO<<LkOOQ[<<LW<<LWO%9gQ!0MvO<<LWOOQ[<<LX<<LXO!DfQ`O<<LXO&:zQpO'#IzO&;VQ`O,5@zO!(yQlO,5@zOOQ[1G3V1G3VOOQO'#I|'#I|O9kQ!0LrO'#I|O&;_QpO,5=tOOQ[,5=t,5=tO&;fQpO'#EeO&;mQpO'#GdO&;rQ`O7+(yO&;wQ`O7+(yOOQ[7+(y7+(yO!&iQMhO7+(yO%[QlO7+(yO&<PQ`O7+(yOOQ[7+({7+({O9kQ!0LrO7+({O$#yQ`O7+({O9UQ`O7+({O!BeQpO7+({O&<[Q`O,5?iOOQO-E<{-E<{OOQO'#H]'#H]O&<gQ`O1G6gO9kQ!0LrO<<GqOOQ[<<Gq<<GqO@iQ`O<<GqO&<oQ`O7+,UO&<tQ`O7+,VO%[QlO7+,UO%[QlO7+,VOOQ[7+)T7+)TO&<yQ`O7+)TO&=OQlO7+)TO&=VQ`O7+)TOOQ[<<Lw<<LwOOQ[<<Ly<<LyOOQ[-E=O-E=OOOQ[1G3x1G3xO&=[Q`O,5>_OOQ[,5>a,5>aO&=aQ`O1G4OO9ZQ`O7+&dO!(yQlO7+&dOOQO7+%]7+%]O&=fQ?MtO1G6XO>wQ`O7+%]OOQ!0Lf<<I_<<I_OOQ!0Lf<<Ix<<IxO>wQ`O<<IxOOQO<<Iq<<IqO$?{Q!0MxO<<IqO%[QlO<<IqOOQO<<Ib<<IbO!BYQ!0LrO<<IbO&=pQ!0LrO<<IqO&={Q!0MxO<= [O&>]Q`O<= ZOOQO7+*]7+*]O9ZQ`O7+*]OOQ[ANAjANAjO&>eQ!fOANAjO!&iQMhOANAjO#'cQ`OANAjO4UQ!fOANAjO&>lQ`OANAjO%[QlOANAjO&>tQ!0MzO7+'yO&AVQ!0MzO,5?_O&CbQ!0MzO,5?aO&EmQ!0MzO7+'{O&HOQ!fO1G4jO&HYQ?MtO7+&_O&J^Q?MvO,5=WO&LeQ?MvO,5=YO&LuQ?MvO,5=WO&MVQ?MvO,5=YO&MgQ?MvO,59sO' mQ?MvO,5<jO'#pQ?MvO,5<lO'&UQ?MvO,5<zO''zQ?MtO7+'jO'(XQ?MtO7+'lO'(fQ`O,5<[OOQO7+'_7+'_OOQ!0Lh7+*b7+*bO'(kQMjO<<K|OOQO1G4u1G4uO'(rQ`O1G4uO'(}Q`O1G4uO')]Q`O7++zO')]Q`O7++zO!&iQMhO1G4wO')eQ!dO1G4wO')oQ`O7++{O')wQ`O7+(UO'*SQ!dO7+(UOOQ!0Lb7+(S7+(SOOQ!0Lb7+(T7+(TO!BeQpO7+(SOCfQ`O7+(SO'*^Q`O7+(UO!&iQMhO7+(UO$)iQ`O7+(TO'*cQ`O7+(UOCfQ`O7+(TO'*kQMjO<<NuOOQ!0Lh7+${7+${O!+rQMhO<<NuO'*uQ!dO,5?dOOQO-E<v-E<vO'+PQ!0MvO7+(XO!&iQMhO7+(XOOQ[AN=gAN=gO9aQ`O1G5UOOQO1G5U1G5UO'+aQ`O1G5UO'+fQ`O7+,TO'+fQ`O7+,TO9kQ!0LrOANBVO@iQ`OANBVOOQ[ANBVANBVOOQ[ANArANArOOQ[ANAsANAsO'+nQ`O,5?fOOQO-E<x-E<xO'+yQ?MtO1G6fOOQO,5?h,5?hOOQO-E<z-E<zOOQ[1G3`1G3`O',TQ`O,5=OOOQ[<<Le<<LeO!&iQMhO<<LeO&;rQ`O<<LeO',YQ`O<<LeO%[QlO<<LeOOQ[<<Lg<<LgO9kQ!0LrO<<LgO$#yQ`O<<LgO9UQ`O<<LgO',bQpO1G5TO',mQ`O7+,ROOQ[AN=]AN=]O9kQ!0LrOAN=]OOQ[<= p<= pOOQ[<= q<= qO',uQ`O<= pO',zQ`O<= qOOQ[<<Lo<<LoO'-PQ`O<<LoO'-UQlO<<LoOOQ[1G3y1G3yO>wQ`O7+)jO'-]Q`O<<JOO'-hQ?MtO<<JOOOQO<<Hw<<HwOOQ!0LfAN?dAN?dOOQOAN?]AN?]O$?{Q!0MxOAN?]OOQOAN>|AN>|O%[QlOAN?]OOQO<<Mw<<MwOOQ[G27UG27UO!&iQMhOG27UO#'cQ`OG27UO'-rQ!fOG27UO4UQ!fOG27UO'-yQ`OG27UO'.RQ?MtO<<JeO'.`Q?MvO1G2_O'0UQ?MvO,5?_O'2XQ?MvO,5?aO'4[Q?MvO1G2rO'6_Q?MvO1G2tO'8bQ?MtO<<KWO'8oQ?MtO<<IyOOQO1G1v1G1vO!+rQMhOANAhOOQO7+*a7+*aO'8|Q`O7+*aO'9XQ`O<= fO'9aQ!dO7+*cOOQ!0Lb<<Kp<<KpO$)iQ`O<<KpOCfQ`O<<KpO'9kQ`O<<KpO!&iQMhO<<KpOOQ!0Lb<<Kn<<KnO!BeQpO<<KnO'9vQ!dO<<KpOOQ!0Lb<<Ko<<KoO':QQ`O<<KpO!&iQMhO<<KpO$)iQ`O<<KoO':VQMjOANDaO':aQ!0MvO<<KsOOQO7+*p7+*pO9aQ`O7+*pO':qQ`O<= oOOQ[G27qG27qO9kQ!0LrOG27qO!(yQlO1G5QO':yQ`O7+,QO';RQ`O1G2jO&;rQ`OANBPOOQ[ANBPANBPO!&iQMhOANBPO';WQ`OANBPOOQ[ANBRANBRO9kQ!0LrOANBRO$#yQ`OANBROOQO'#H^'#H^OOQO7+*o7+*oOOQ[G22wG22wOOQ[ANE[ANE[OOQ[ANE]ANE]OOQ[ANBZANBZO';`Q`OANBZOOQ[<<MU<<MUO!(yQlOAN?jOOQOG24wG24wO$?{Q!0MxOG24wO#'cQ`OLD,pOOQ[LD,pLD,pO!&iQMhOLD,pO';eQ!fOLD,pO';lQ?MvO7+'yO'=bQ?MvO,5?_O'?eQ?MvO,5?aO'AhQ?MvO7+'{O'C^QMjOG27SOOQO<<M{<<M{OOQ!0LbANA[ANA[O$)iQ`OANA[OCfQ`OANA[O'CnQ!dOANA[OOQ!0LbANAYANAYO'CuQ`OANA[O!&iQMhOANA[O'DQQ!dOANA[OOQ!0LbANAZANAZOOQO<<N[<<N[OOQ[LD-]LD-]O'D[Q?MtO7+*lOOQO'#Ge'#GeOOQ[G27kG27kO&;rQ`OG27kO!&iQMhOG27kOOQ[G27mG27mO9kQ!0LrOG27mOOQ[G27uG27uO'DfQ?MtOG25UOOQOLD*cLD*cOOQ[!$(![!$(![O#'cQ`O!$(![O!&iQMhO!$(![O'DpQ!0MzOG27SOOQ!0LbG26vG26vO$)iQ`OG26vO'GRQ`OG26vOCfQ`OG26vO'G^Q!dOG26vO!&iQMhOG26vOOQ[LD-VLD-VO&;rQ`OLD-VOOQ[LD-XLD-XOOQ[!)9Ev!)9EvO#'cQ`O!)9EvOOQ!0LbLD,bLD,bO$)iQ`OLD,bOCfQ`OLD,bO'GeQ`OLD,bO'GpQ!dOLD,bOOQ[!$(!q!$(!qOOQ[!.K;b!.K;bO'GwQ?MvOG27SOOQ!0Lb!$( |!$( |O$)iQ`O!$( |OCfQ`O!$( |O'ImQ`O!$( |OOQ!0Lb!)9Eh!)9EhO$)iQ`O!)9EhOCfQ`O!)9EhOOQ!0Lb!.K;S!.K;SO$)iQ`O!.K;SOOQ!0Lb!4/0n!4/0nO!(yQlO'#DxO1PQ`O'#EVO'IxQ!fO'#JpO'JPQ!L^O'#DtO'JWQlO'#D|O'J_Q!fO'#CiO'LuQ!fO'#CiO!(yQlO'#EOO'MVQlO,5;XO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO'#InO( YQ`O,5<hO!(yQlO,5;cO( bQMhO,5;cO(!{QMhO,5;cO!(yQlO,5;vO!&iQMhO'#GlO( bQMhO'#GlO!&iQMhO'#GnO( bQMhO'#GnO1SQ`O'#DXO1SQ`O'#DXO!&iQMhO'#GOO( bQMhO'#GOO!&iQMhO'#GQO( bQMhO'#GQO!&iQMhO'#G`O( bQMhO'#G`O!(yQlO,5:hO(#SQpO'#D]O(#^QpO'#JtO!(yQlO,5@mO'MVQlO1G0sO(#hQ?MtO'#CiO!(yQlO1G2OO!&iQMhO'#IsO( bQMhO'#IsO!&iQMhO'#IuO( bQMhO'#IuO(#rQ!dO'#CrO!&iQMhO,5<sO( bQMhO,5<sO'MVQlO1G2QO!(yQlO7+&yO!&iQMhO1G2_O( bQMhO1G2_O!&iQMhO'#IsO( bQMhO'#IsO!&iQMhO'#IuO( bQMhO'#IuO!&iQMhO1G2aO( bQMhO1G2aO'MVQlO7+'lO'MVQlO7+&_O!&iQMhOANAhO( bQMhOANAhO($VQ`O'#EmO($[Q`O'#EmO($dQ`O'#F[O($iQ`O'#EwO($nQ`O'#KRO($yQ`O'#KPO(%UQ`O,5;XO(%ZQMjO,5<dO(%bQ`O'#GXO(%gQ`O'#GXO(%lQ`O,5<fO(%tQ`O,5;XO(%|Q?MtO1G1_O(&TQ`O,5<sO(&YQ`O,5<sO(&_Q`O,5<uO(&dQ`O,5<uO(&iQ`O1G2QO(&nQ`O1G0sO(&sQMjO<<K|O(&zQMjO<<K|O7eQMhO'#F{O9UQ`O'#FzOAdQ`O'#ElO!(yQlO,5;sO!3^Q`O'#GXO!3^Q`O'#GXO!3^Q`O'#GZO!3^Q`O'#GZO!+rQMhO7+(bO!+rQMhO7+(bO%-ZQ!dO1G2vO%-ZQ!dO1G2vO!&iQMhO,5=[O!&iQMhO,5=[",stateData:"((P~O'zOS'{OSTOS'|RQ~OPYOQYOSfOY!VOaqOdzOeyOj!POnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]XO!guO!jZO!mYO!nYO!oYO!qvO!swO!vxO!z]O$V|O$miO%g}O%i!QO%k!OO%l!OO%m!OO%p!RO%r!SO%u!TO%v!TO%x!UO&U!WO&[!XO&^!YO&`!ZO&b![O&e!]O&k!^O&q!_O&s!`O&u!aO&w!bO&y!cO(RSO(TTO(WUO(_VO(m[O~OWtO~P`OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(R!dO(TTO(WUO(_VO(m[O~Oa!wOq!nO!Q!oO!`!yO!a!vO!b!vO!z;wO#R!pO#S!pO#T!xO#U!pO#V!pO#Y!zO#Z!zO(S!lO(TTO(WUO(c!mO(m!sO~O'|!{O~OP]XR]X[]Xa]Xp]X!O]X!Q]X!Z]X!j]X!n]X#P]X#Q]X#^]X#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X'x]X(_]X(p]X(w]X(x]X~O!e%QX~P(qO_!}O(T#PO(U!}O(V#PO~O_#QO(V#PO(W#PO(X#QO~Ov#SO!S#TO(`#TO(a#VO~OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(R;{O(TTO(WUO(_VO(m[O~O!Y#ZO!Z#WO!W(fP!W(tP~P+}O![#cO~P`OPYOQYOSfOd!jOe!iOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(TTO(WUO(_VO(m[O~On#mO!Y#iO!z]O#g#lO#h#iO(R;|O!i(qP~P.iO!j#oO(R#nO~O!v#sO!z]O%g#tO~O#i#uO~O!e#vO#i#uO~OP$[OR#zO[$cOp$aO!O#yO!Q#{O!Z$_O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO#y$WO#z$XO(_VO(p$YO(w#|O(x#}O~Oa(dX'x(dX'u(dX!i(dX!W(dX!](dX%h(dX!e(dX~P1qO#Q$dO#^$eO$P$eOP(eXR(eX[(eXp(eX!O(eX!Q(eX!Z(eX!j(eX!n(eX#P(eX#l(eX#m(eX#n(eX#o(eX#p(eX#q(eX#r(eX#s(eX#t(eX#u(eX#w(eX#y(eX#z(eX(_(eX(p(eX(w(eX(x(eX!](eX%h(eX~Oa(eX'x(eX'u(eX!W(eX!i(eXt(eX!e(eX~P4UO#^$eO~O$[$hO$^$gO$e$mO~OSfO!]$nO$h$oO$j$qO~Oh%VOj%cOn%WOp%XOq$tOr$tOx%YOz%ZO|%[O!Q${O!]$|O!g%aO!j$xO#h%bO$V%_O$s%]O$u%^O$x%`O(R$sO(TTO(WUO(_$uO(w$}O(x%POg([P~O!j%dO~O!Q%gO!]%hO(R%fO~O!e%lO~Oa%mO'x%mO~O!O%qO~P%[O(S!lO~P%[O%m%uO~P%[Oh%VO!j%dO(R%fO(S!lO~Oe%|O!j%dO(R%fO~O#t$RO~O!O&RO!]&OO!j&QO%i&UO(R%fO(S!lO(TTO(WUO`)UP~O!v#sO~O%r&WO!Q)QX!])QX(R)QX~O(R&XO~Oj!PO!s&^O%i!QO%k!OO%l!OO%m!OO%p!RO%r!SO%u!TO%v!TO~Od&cOe&bO!v&`O%g&aO%z&_O~P<POd&fOeyOj!PO!]&eO!s&^O!vxO!z]O%g}O%k!OO%l!OO%m!OO%p!RO%r!SO%u!TO%v!TO%x!UO~Ob&iO#^&lO%i&gO(S!lO~P=UO!j&mO!s&qO~O!j#oO~O!]XO~Oa%mO'v&yO'x%mO~Oa%mO'v&|O'x%mO~Oa%mO'v'OO'x%mO~O'u]X!W]Xt]X!i]X&Y]X!]]X%h]X!e]X~P(qO!`']O!a'UO!b'UO(S!lO(TTO(WUO~Oq'SO!Q'RO!Y'VO(c'QO![(gP![(vP~P@]Ol'`O!]'^O(R%fO~Oe'eO!j%dO(R%fO~O!O&RO!j&QO~Oq!nO!Q!oO!z;wO#R!pO#S!pO#U!pO#V!pO(S!lO(TTO(WUO(c!mO(m!sO~O!`'kO!a'jO!b'jO#T!pO#Y'lO#Z'lO~PAwOa%mOh%VO!e#vO!j%dO'x%mO(p'nO~O!n'rO#^'pO~PCVOq!nO!Q!oO(TTO(WUO(c!mO(m!sO~O!]XOq(kX!Q(kX!`(kX!a(kX!b(kX!z(kX#R(kX#S(kX#T(kX#U(kX#V(kX#Y(kX#Z(kX(S(kX(T(kX(W(kX(c(kX(m(kX~O!a'jO!b'jO(S!lO~PCuO'}'vO(O'vO(P'xO~O_!}O(T'zO(U!}O(V'zO~O_#QO(V'zO(W'zO(X#QO~Ot'|O~P%[Ov#SO!S#TO(`#TO(a(PO~O!Y(RO!W'UX!W'[X!Z'UX!Z'[X~P+}O!Z(TO!W(fX~OP$[OR#zO[$cOp$aO!O#yO!Q#{O!Z(TO!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO#y$WO#z$XO(_VO(p$YO(w#|O(x#}O~O!W(fX~PGpO!W(YO~O!W(sX!Z(sX!e(sX!i(sX(p(sX~O#^(sX#i#bX![(sX~PIsO#^(ZO!W(uX!Z(uX~O!Z([O!W(tX~O!W(_O~O#^$eO~PIsO![(`O~P`OR#zO!O#yO!Q#{O!j#xO(_VOP!la[!lap!la!Z!la!n!la#P!la#l!la#m!la#n!la#o!la#p!la#q!la#r!la#s!la#t!la#u!la#w!la#y!la#z!la(p!la(w!la(x!la~Oa!la'x!la'u!la!W!la!i!lat!la!]!la%h!la!e!la~PKZO!i(aO~O!e#vO#^(bO(p'nO!Z(rXa(rX'x(rX~O!i(rX~PMvO!Q%gO!]%hO!z]O#g(gO#h(fO(R%fO~O!Z(hO!i(qX~O!i(jO~O!Q%gO!]%hO#h(fO(R%fO~OP(eXR(eX[(eXp(eX!O(eX!Q(eX!Z(eX!j(eX!n(eX#P(eX#l(eX#m(eX#n(eX#o(eX#p(eX#q(eX#r(eX#s(eX#t(eX#u(eX#w(eX#y(eX#z(eX(_(eX(p(eX(w(eX(x(eX~O!e#vO!i(eX~P! dOR(lO!O(kO!j#xO#Q$dO!z!ya!Q!ya~O!v!ya%g!ya!]!ya#g!ya#h!ya(R!ya~P!#eO!v(pO~OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]XO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(R!dO(TTO(WUO(_VO(m[O~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<eO!Q${O!]$|O!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(R(tO(TTO(WUO(_$uO(w$}O(x%PO~O#i(vO~O!Y(xO!i(iP~P%[O(c(zO(m[O~O!Q(|O!j#xO(c(zO(m[O~OP;vOQ;vOSfOd=rOe!iOnkOp;vOqkOrkOxkOz;vO|;vO!QWO!UkO!VkO!]!eO!g;yO!jZO!m;vO!n;vO!o;vO!q;zO!s;}O!v!hO$V!kO$m=pO(R)ZO(TTO(WUO(_VO(m[O~O!Z$_Oa$pa'x$pa'u$pa!i$pa!W$pa!]$pa%h$pa!e$pa~Oj)bO~P!&iOh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|%[O!Q${O!]$|O!g%aO!j$xO#h%bO$V%_O$s%]O$u%^O$x%`O(R(tO(TTO(WUO(_$uO(w$}O(x%PO~Og(nP~P!+rO!O)gO!e)fO!]$]X$Y$]X$[$]X$^$]X$e$]X~O!e)fO!](yX$Y(yX$[(yX$^(yX$e(yX~O!O)gO~P!-{O!O)gO!](yX$Y(yX$[(yX$^(yX$e(yX~O!])iO$Y)mO$[)hO$^)hO$e)nO~O!Y)qO~P!(yO$[$hO$^$gO$e)uO~Ol$yX!O$yX#Q$yX'w$yX(w$yX(x$yX~OgkXg$yXlkX!ZkX#^kX~P!/qOv)wO(`)xO(a)zO~Ol*TO!O)|O'w)}O(w$}O(x%PO~Og){O~P!0uOg*UO~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<eO!Q*WO!]*XO!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(TTO(WUO(_$uO(w$}O(x%PO~O!Y*[O(R*VO!i(|P~P!1dO#i*^O~O!j*_O~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<eO!Q${O!]$|O!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(R*aO(TTO(WUO(_$uO(w$}O(x%PO~O!Y*dO!W(}P~P!3cOp*pOq!nO!Q*fO!`*nO!a*hO!b*hO!j*_O#Y*oO%_*jO(S!lO(TTO(WUO(c!mO~O![*mO~P!5WO#Q$dOl(^X!O(^X'w(^X(w(^X(x(^X!Z(^X#^(^X~Og(^X#}(^X~P!6YOl*uO#^*tOg(]X!Z(]X~O!Z*vOg([X~Oj%cO(R&XOg([P~Oq*yO~O!j+OO~O(R(tO~On+TO!Q%gO!Y#iO!]%hO!z]O#g#lO#h#iO(R%fO!i(qP~O!e#vO#i+UO~O!Q%gO!Y+WO!Z([O!]%hO(R%fO!W(tP~Oq'YO!Q+YO!Y+XO(TTO(WUO(c(zO~O![(vP~P!9]O!Z+ZOa)RX'x)RX~OP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO#y$WO#z$XO(_VO(p$YO(w#|O(x#}O~Oa!ha!Z!ha'x!ha'u!ha!W!ha!i!hat!ha!]!ha%h!ha!e!ha~P!:TOR#zO!O#yO!Q#{O!j#xO(_VOP!pa[!pap!pa!Z!pa!n!pa#P!pa#l!pa#m!pa#n!pa#o!pa#p!pa#q!pa#r!pa#s!pa#t!pa#u!pa#w!pa#y!pa#z!pa(p!pa(w!pa(x!pa~Oa!pa'x!pa'u!pa!W!pa!i!pat!pa!]!pa%h!pa!e!pa~P!<kOR#zO!O#yO!Q#{O!j#xO(_VOP!ra[!rap!ra!Z!ra!n!ra#P!ra#l!ra#m!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#w!ra#y!ra#z!ra(p!ra(w!ra(x!ra~Oa!ra'x!ra'u!ra!W!ra!i!rat!ra!]!ra%h!ra!e!ra~P!?ROh%VOl+dO!]'^O%h+cO~O!e+fOa(ZX!](ZX'x(ZX!Z(ZX~Oa%mO!]XO'x%mO~Oh%VO!j%dO~Oh%VO!j%dO(R%fO~O!e#vO#i(vO~Ob+qO%i+rO(R+nO(TTO(WUO![)VP~O!Z+sO`)UX~O[+wO~O`+xO~O!]&OO(R%fO(S!lO`)UP~Oh%VO#^+}O~Oh%VOl,QO!]$|O~O!],SO~O!O,UO!]XO~O%m%uO~O!v,ZO~Oe,`O~Ob,aO(R#nO(TTO(WUO![)TP~Oe%|O~O%i!QO(R&XO~P=UO[,fO`,eO~OPYOQYOSfOdzOeyOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!guO!jZO!mYO!nYO!oYO!qvO!vxO!z]O$miO%g}O(TTO(WUO(_VO(m[O~O!]!eO!s!gO$V!kO(R!dO~P!FRO`,eOa%mO'x%mO~OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!v!hO$V!kO$miO(R!dO(TTO(WUO(_VO(m[O~Oa,kOj!OO!swO%k!OO%l!OO%m!OO~P!HkO!j&mO~O&[,qO~O!],sO~O&m,uO&o,vOP&jaQ&jaS&jaY&jaa&jad&jae&jaj&jan&jap&jaq&jar&jax&jaz&ja|&ja!Q&ja!U&ja!V&ja!]&ja!g&ja!j&ja!m&ja!n&ja!o&ja!q&ja!s&ja!v&ja!z&ja$V&ja$m&ja%g&ja%i&ja%k&ja%l&ja%m&ja%p&ja%r&ja%u&ja%v&ja%x&ja&U&ja&[&ja&^&ja&`&ja&b&ja&e&ja&k&ja&q&ja&s&ja&u&ja&w&ja&y&ja'u&ja(R&ja(T&ja(W&ja(_&ja(m&ja![&ja&c&jab&ja&h&ja~O(R,{O~Oh!cX!Z!PX![!PX!e!PX!e!cX!j!cX#^!PX~O!Z!cX![!cX~P# qO!e-QO#^-POh(hX!Z#fX![#fX!e(hX!j(hX~O!Z(hX![(hX~P#!dOh%VO!e-SO!j%dO!Z!_X![!_X~Oq!nO!Q!oO(TTO(WUO(c!mO~OP;vOQ;vOSfOd=rOe!iOnkOp;vOqkOrkOxkOz;vO|;vO!QWO!UkO!VkO!]!eO!g;yO!jZO!m;vO!n;vO!o;vO!q;zO!s;}O!v!hO$V!kO$m=pO(TTO(WUO(_VO(m[O~O(R<rO~P##yO!Z-WO![(gX~O![-YO~O!e-QO#^-PO!Z#fX![#fX~O!Z-ZO![(vX~O![-]O~O!a-^O!b-^O(S!lO~P##hO![-aO~P'_Ol-dO!]'^O~O!W-iO~Oq!ya!`!ya!a!ya!b!ya#R!ya#S!ya#T!ya#U!ya#V!ya#Y!ya#Z!ya(S!ya(T!ya(W!ya(c!ya(m!ya~P!#eO!n-nO#^-lO~PCVO!a-pO!b-pO(S!lO~PCuOa%mO#^-lO'x%mO~Oa%mO!e#vO#^-lO'x%mO~Oa%mO!e#vO!n-nO#^-lO'x%mO(p'nO~O'}'vO(O'vO(P-uO~Ot-vO~O!W'Ua!Z'Ua~P!:TO!Y-zO!W'UX!Z'UX~P%[O!Z(TO!W(fa~O!W(fa~PGpO!Z([O!W(ta~O!Q%gO!Y.OO!]%hO(R%fO!W'[X!Z'[X~O#^.QO!Z(ra!i(raa(ra'x(ra~O!e#vO~P#,PO!Z(hO!i(qa~O!Q%gO!]%hO#h.UO(R%fO~On.ZO!Q%gO!Y.WO!]%hO!z]O#g.YO#h.WO(R%fO!Z'_X!i'_X~OR._O!j#xO~Oh%VOl.bO!]'^O%h.aO~Oa#ai!Z#ai'x#ai'u#ai!W#ai!i#ait#ai!]#ai%h#ai!e#ai~P!:TOl=|O!O)|O'w)}O(w$}O(x%PO~O#i#]aa#]a#^#]a'x#]a!Z#]a!i#]a!]#]a!W#]a~P#.{O#i(^XP(^XR(^X[(^Xa(^Xp(^X!Q(^X!j(^X!n(^X#P(^X#l(^X#m(^X#n(^X#o(^X#p(^X#q(^X#r(^X#s(^X#t(^X#u(^X#w(^X#y(^X#z(^X'x(^X(_(^X(p(^X!i(^X!W(^X'u(^Xt(^X!](^X%h(^X!e(^X~P!6YO!Z.oO!i(iX~P!:TO!i.rO~O!W.tO~OP$[OR#zO!O#yO!Q#{O!j#xO!n$[O(_VO[#kia#kip#ki!Z#ki#P#ki#m#ki#n#ki#o#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki'x#ki(p#ki(w#ki(x#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#l#ki~P#2kO#l$OO~P#2kOP$[OR#zOp$aO!O#yO!Q#{O!j#xO!n$[O#l$OO#m$PO#n$PO#o$PO(_VO[#kia#ki!Z#ki#P#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki'x#ki(p#ki(w#ki(x#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#p#ki~P#5YO#p$QO~P#5YOP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO(_VOa#ki!Z#ki#w#ki#y#ki#z#ki'x#ki(p#ki(w#ki(x#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#u#ki~P#7wOP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO(_VO(x#}Oa#ki!Z#ki#y#ki#z#ki'x#ki(p#ki(w#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#w$UO~P#:_O#w#ki~P#:_O#u$SO~P#7wOP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO(_VO(w#|O(x#}Oa#ki!Z#ki#z#ki'x#ki(p#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#y#ki~P#=TO#y$WO~P#=TOP]XR]X[]Xp]X!O]X!Q]X!j]X!n]X#P]X#Q]X#^]X#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X(_]X(p]X(w]X(x]X!Z]X![]X~O#}]X~P#?rOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO#u<TO#w<VO#y<XO#z<YO(_VO(p$YO(w#|O(x#}O~O#}.vO~P#BPO#Q$dO#^<`O$P<`O#}(eX![(eX~P! dOa'ba!Z'ba'x'ba'u'ba!i'ba!W'bat'ba!]'ba%h'ba!e'ba~P!:TO[#kia#kip#ki!Z#ki#P#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki'x#ki(p#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~OP$[OR#zO!O#yO!Q#{O!j#xO!n$[O#l$OO#m$PO#n$PO#o$PO(_VO(w#ki(x#ki~P#EROl=|O!O)|O'w)}O(w$}O(x%POP#kiR#ki!Q#ki!j#ki!n#ki#l#ki#m#ki#n#ki#o#ki(_#ki~P#ERO!Z.zOg(nX~P!0uOg.|O~Oa$Oi!Z$Oi'x$Oi'u$Oi!W$Oi!i$Oit$Oi!]$Oi%h$Oi!e$Oi~P!:TO$[.}O$^.}O~O$[/OO$^/OO~O!e)fO#^/PO!]$bX$Y$bX$[$bX$^$bX$e$bX~O!Y/QO~O!])iO$Y/SO$[)hO$^)hO$e/TO~O!Z<ZO![(dX~P#BPO![/UO~O!e)fO$e(yX~O$e/WO~Ot/XO~P!&iOv)wO(`)xO(a/[O~O!Q/_O~O(w$}Ol%`a!O%`a'w%`a(x%`a!Z%`a#^%`a~Og%`a#}%`a~P#LTO(x%POl%ba!O%ba'w%ba(w%ba!Z%ba#^%ba~Og%ba#}%ba~P#LvO!ZfX!efX!ifX!i$yX(pfX~P!/qO!Y/hO!Z([O(R/gO!W(tP!W(}P~P!1dOp*pO!`*nO!a*hO!b*hO!j*_O#Y*oO%_*jO(S!lO(TTO(WUO~Oq<oO!Q/iO!Y+XO![*mO(c<nO![(vP~P#NaO!i/jO~P#.{O!Z/kO!e#vO(p'nO!i(|X~O!i/pO~O!Q%gO!Y*[O!]%hO(R%fO!i(|P~O#i/rO~O!W$yX!Z$yX!e%QX~P!/qO!Z/sO!W(}X~P#.{O!e/uO~O!W/wO~OnkO(R/xO~P.iOh%VOp/}O!e#vO!j%dO(p'nO~O!e+fO~Oa%mO!Z0RO'x%mO~O![0TO~P!5WO!a0UO!b0UO(S!lO~P##hOq!nO!Q0VO(TTO(WUO(c!mO~O#Y0XO~Og%`a!Z%`a#^%`a#}%`a~P!0uOg%ba!Z%ba#^%ba#}%ba~P!0uOj%cO(R&XOg'kX!Z'kX~O!Z*vOg([a~Og0bO~OR0cO!O0cO!Q0dO#Q$dOl{a'w{a(w{a(x{a!Z{a#^{a~Og{a#}{a~P$&dO!O)|O'w)}Ol$ra(w$ra(x$ra!Z$ra#^$ra~Og$ra#}$ra~P$'`O!O)|O'w)}Ol$ta(w$ta(x$ta!Z$ta#^$ta~Og$ta#}$ta~P$(RO#i0gO~Og%Sa!Z%Sa#^%Sa#}%Sa~P!0uOl0iO#^0hOg(]a!Z(]a~O!e#vO~O#i0lO~O!Z+ZOa)Ra'x)Ra~OR#zO!O#yO!Q#{O!j#xO(_VOP!pi[!pip!pi!Z!pi!n!pi#P!pi#l!pi#m!pi#n!pi#o!pi#p!pi#q!pi#r!pi#s!pi#t!pi#u!pi#w!pi#y!pi#z!pi(p!pi(w!pi(x!pi~Oa!pi'x!pi'u!pi!W!pi!i!pit!pi!]!pi%h!pi!e!pi~P$*OOh%VOp%XOq$tOr$tOx%YOz%ZO|<eO!Q${O!]$|O!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(TTO(WUO(_$uO(w$}O(x%PO~On0vO%[0wO(R0tO~P$,fO!e+fOa(Za!](Za'x(Za!Z(Za~O#i0|O~O[]X!ZfX![fX~O!Z0}O![)VX~O![1PO~O[1QO~Ob1SO(R+nO(TTO(WUO~O!]&OO(R%fO`'sX!Z'sX~O!Z+sO`)Ua~O!i1VO~P!:TO[1YO~O`1ZO~O#^1^O~Ol1aO!]$|O~O(c(zO![)SP~Oh%VOl1jO!]1gO%h1iO~O[1tO!Z1rO![)TX~O![1uO~O`1wOa%mO'x%mO~O(R#nO(TTO(WUO~O#Q$dO#^$eO$P$eOP(eXR(eX[(eXp(eX!O(eX!Q(eX!Z(eX!j(eX!n(eX#P(eX#l(eX#m(eX#n(eX#o(eX#p(eX#q(eX#r(eX#s(eX#u(eX#w(eX#y(eX#z(eX(_(eX(p(eX(w(eX(x(eX~O#t1zO&Y1{Oa(eX~P$2PO#^$eO#t1zO&Y1{O~Oa1}O~P%[Oa2PO~O&c2SOP&aiQ&aiS&aiY&aia&aid&aie&aij&ain&aip&aiq&air&aix&aiz&ai|&ai!Q&ai!U&ai!V&ai!]&ai!g&ai!j&ai!m&ai!n&ai!o&ai!q&ai!s&ai!v&ai!z&ai$V&ai$m&ai%g&ai%i&ai%k&ai%l&ai%m&ai%p&ai%r&ai%u&ai%v&ai%x&ai&U&ai&[&ai&^&ai&`&ai&b&ai&e&ai&k&ai&q&ai&s&ai&u&ai&w&ai&y&ai'u&ai(R&ai(T&ai(W&ai(_&ai(m&ai![&aib&ai&h&ai~Ob2YO![2WO&h2XO~P`O!]XO!j2[O~O&o,vOP&jiQ&jiS&jiY&jia&jid&jie&jij&jin&jip&jiq&jir&jix&jiz&ji|&ji!Q&ji!U&ji!V&ji!]&ji!g&ji!j&ji!m&ji!n&ji!o&ji!q&ji!s&ji!v&ji!z&ji$V&ji$m&ji%g&ji%i&ji%k&ji%l&ji%m&ji%p&ji%r&ji%u&ji%v&ji%x&ji&U&ji&[&ji&^&ji&`&ji&b&ji&e&ji&k&ji&q&ji&s&ji&u&ji&w&ji&y&ji'u&ji(R&ji(T&ji(W&ji(_&ji(m&ji![&ji&c&jib&ji&h&ji~O!W2bO~O!Z!_a![!_a~P#BPOq!nO!Q!oO!Y2hO(c!mO!Z'VX!['VX~P@]O!Z-WO![(ga~O!Z']X![']X~P!9]O!Z-ZO![(va~O![2oO~P'_Oa%mO#^2xO'x%mO~Oa%mO!e#vO#^2xO'x%mO~Oa%mO!e#vO!n2|O#^2xO'x%mO(p'nO~Oa%mO'x%mO~P!:TO!Z$_Ot$pa~O!W'Ui!Z'Ui~P!:TO!Z(TO!W(fi~O!Z([O!W(ti~O!W(ui!Z(ui~P!:TO!Z(ri!i(ria(ri'x(ri~P!:TO#^3OO!Z(ri!i(ria(ri'x(ri~O!Z(hO!i(qi~O!Q%gO!]%hO!z]O#g3TO#h3SO(R%fO~O!Q%gO!]%hO#h3SO(R%fO~Ol3[O!]'^O%h3ZO~Oh%VOl3[O!]'^O%h3ZO~O#i%`aP%`aR%`a[%`aa%`ap%`a!Q%`a!j%`a!n%`a#P%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#t%`a#u%`a#w%`a#y%`a#z%`a'x%`a(_%`a(p%`a!i%`a!W%`a'u%`at%`a!]%`a%h%`a!e%`a~P#LTO#i%baP%baR%ba[%baa%bap%ba!Q%ba!j%ba!n%ba#P%ba#l%ba#m%ba#n%ba#o%ba#p%ba#q%ba#r%ba#s%ba#t%ba#u%ba#w%ba#y%ba#z%ba'x%ba(_%ba(p%ba!i%ba!W%ba'u%bat%ba!]%ba%h%ba!e%ba~P#LvO#i%`aP%`aR%`a[%`aa%`ap%`a!Q%`a!Z%`a!j%`a!n%`a#P%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#t%`a#u%`a#w%`a#y%`a#z%`a'x%`a(_%`a(p%`a!i%`a!W%`a'u%`a#^%`at%`a!]%`a%h%`a!e%`a~P#.{O#i%baP%baR%ba[%baa%bap%ba!Q%ba!Z%ba!j%ba!n%ba#P%ba#l%ba#m%ba#n%ba#o%ba#p%ba#q%ba#r%ba#s%ba#t%ba#u%ba#w%ba#y%ba#z%ba'x%ba(_%ba(p%ba!i%ba!W%ba'u%ba#^%bat%ba!]%ba%h%ba!e%ba~P#.{O#i{aP{a[{aa{ap{a!j{a!n{a#P{a#l{a#m{a#n{a#o{a#p{a#q{a#r{a#s{a#t{a#u{a#w{a#y{a#z{a'x{a(_{a(p{a!i{a!W{a'u{at{a!]{a%h{a!e{a~P$&dO#i$raP$raR$ra[$raa$rap$ra!Q$ra!j$ra!n$ra#P$ra#l$ra#m$ra#n$ra#o$ra#p$ra#q$ra#r$ra#s$ra#t$ra#u$ra#w$ra#y$ra#z$ra'x$ra(_$ra(p$ra!i$ra!W$ra'u$rat$ra!]$ra%h$ra!e$ra~P$'`O#i$taP$taR$ta[$taa$tap$ta!Q$ta!j$ta!n$ta#P$ta#l$ta#m$ta#n$ta#o$ta#p$ta#q$ta#r$ta#s$ta#t$ta#u$ta#w$ta#y$ta#z$ta'x$ta(_$ta(p$ta!i$ta!W$ta'u$tat$ta!]$ta%h$ta!e$ta~P$(RO#i%SaP%SaR%Sa[%Saa%Sap%Sa!Q%Sa!Z%Sa!j%Sa!n%Sa#P%Sa#l%Sa#m%Sa#n%Sa#o%Sa#p%Sa#q%Sa#r%Sa#s%Sa#t%Sa#u%Sa#w%Sa#y%Sa#z%Sa'x%Sa(_%Sa(p%Sa!i%Sa!W%Sa'u%Sa#^%Sat%Sa!]%Sa%h%Sa!e%Sa~P#.{Oa#aq!Z#aq'x#aq'u#aq!W#aq!i#aqt#aq!]#aq%h#aq!e#aq~P!:TO!Y3dO!Z'WX!i'WX~P%[O!Z.oO!i(ia~O!Z.oO!i(ia~P!:TO!W3gO~O#}!la![!la~PKZO#}!ha!Z!ha![!ha~P#BPO#}!pa![!pa~P!<kO#}!ra![!ra~P!?ROg'ZX!Z'ZX~P!+rO!Z.zOg(na~OSfO!]3{O$c3|O~O![4QO~Ot4RO~P#.{Oa$lq!Z$lq'x$lq'u$lq!W$lq!i$lqt$lq!]$lq%h$lq!e$lq~P!:TO!W4TO~P!&iO!Q4UO~O!O)|O'w)}O(x%POl'ga(w'ga!Z'ga#^'ga~Og'ga#}'ga~P%+uO!O)|O'w)}Ol'ia(w'ia(x'ia!Z'ia#^'ia~Og'ia#}'ia~P%,hO(p$YO~P#.{O!WfX!W$yX!ZfX!Z$yX!e%QX#^fX~P!/qO(R<xO~P!1dO!Q%gO!Y4XO!]%hO(R%fO!Z'cX!i'cX~O!Z/kO!i(|a~O!Z/kO!e#vO!i(|a~O!Z/kO!e#vO(p'nO!i(|a~Og${i!Z${i#^${i#}${i~P!0uO!Y4aO!W'eX!Z'eX~P!3cO!Z/sO!W(}a~O!Z/sO!W(}a~P#.{OP]XR]X[]Xp]X!O]X!Q]X!W]X!Z]X!j]X!n]X#P]X#Q]X#^]X#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X(_]X(p]X(w]X(x]X~O!e%XX#t%XX~P%0XO!e#vO#t4fO~Oh%VO!e#vO!j%dO~Oh%VOp4kO!j%dO(p'nO~Op4pO!e#vO(p'nO~Oq!nO!Q4qO(TTO(WUO(c!mO~O(w$}Ol%`i!O%`i'w%`i(x%`i!Z%`i#^%`i~Og%`i#}%`i~P%3xO(x%POl%bi!O%bi'w%bi(w%bi!Z%bi#^%bi~Og%bi#}%bi~P%4kOg(]i!Z(]i~P!0uO#^4wOg(]i!Z(]i~P!0uO!i4zO~Oa$nq!Z$nq'x$nq'u$nq!W$nq!i$nqt$nq!]$nq%h$nq!e$nq~P!:TO!W5QO~O!Z5RO!])OX~P#.{Oa]Xa$yX!]]X!]$yX%]]X'x]X'x$yX!Z]X!Z$yX~P!/qO%]5UOa%Za!]%Za'x%Za!Z%Za~OlmX!OmX'wmX(wmX(xmX~P%7nOn5VO(R#nO~Ob5]O%i5^O(R+nO(TTO(WUO!Z'rX!['rX~O!Z0}O![)Va~O[5bO~O`5cO~Oa%mO'x%mO~P#.{O!Z5kO#^5mO![)SX~O![5nO~Op5tOq!nO!Q*fO!`!yO!a!vO!b!vO!z;wO#R!pO#S!pO#T!pO#U!pO#V!pO#Y5sO#Z!zO(S!lO(TTO(WUO(c!mO(m!sO~O![5rO~P%:ROl5yO!]1gO%h5xO~Oh%VOl5yO!]1gO%h5xO~Ob6QO(R#nO(TTO(WUO!Z'qX!['qX~O!Z1rO![)Ta~O(TTO(WUO(c6SO~O`6WO~O#t6ZO&Y6[O~PMvO!i6]O~P%[Oa6_O~Oa6_O~P%[Ob2YO![6dO&h2XO~P`O!e6fO~O!e6hOh(hi!Z(hi![(hi!e(hi!j(hip(hi(p(hi~O!Z#fi![#fi~P#BPO#^6iO!Z#fi![#fi~O!Z!_i![!_i~P#BPOa%mO#^6rO'x%mO~Oa%mO!e#vO#^6rO'x%mO~O!Z(rq!i(rqa(rq'x(rq~P!:TO!Z(hO!i(qq~O!Q%gO!]%hO#h6yO(R%fO~O!]'^O%h6|O~Ol7QO!]'^O%h6|O~O#i'gaP'gaR'ga['gaa'gap'ga!Q'ga!j'ga!n'ga#P'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#t'ga#u'ga#w'ga#y'ga#z'ga'x'ga(_'ga(p'ga!i'ga!W'ga'u'gat'ga!]'ga%h'ga!e'ga~P%+uO#i'iaP'iaR'ia['iaa'iap'ia!Q'ia!j'ia!n'ia#P'ia#l'ia#m'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#w'ia#y'ia#z'ia'x'ia(_'ia(p'ia!i'ia!W'ia'u'iat'ia!]'ia%h'ia!e'ia~P%,hO#i${iP${iR${i[${ia${ip${i!Q${i!Z${i!j${i!n${i#P${i#l${i#m${i#n${i#o${i#p${i#q${i#r${i#s${i#t${i#u${i#w${i#y${i#z${i'x${i(_${i(p${i!i${i!W${i'u${i#^${it${i!]${i%h${i!e${i~P#.{O#i%`iP%`iR%`i[%`ia%`ip%`i!Q%`i!j%`i!n%`i#P%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#t%`i#u%`i#w%`i#y%`i#z%`i'x%`i(_%`i(p%`i!i%`i!W%`i'u%`it%`i!]%`i%h%`i!e%`i~P%3xO#i%biP%biR%bi[%bia%bip%bi!Q%bi!j%bi!n%bi#P%bi#l%bi#m%bi#n%bi#o%bi#p%bi#q%bi#r%bi#s%bi#t%bi#u%bi#w%bi#y%bi#z%bi'x%bi(_%bi(p%bi!i%bi!W%bi'u%bit%bi!]%bi%h%bi!e%bi~P%4kO!Z'Wa!i'Wa~P!:TO!Z.oO!i(ii~O#}#ai!Z#ai![#ai~P#BPOP$[OR#zO!O#yO!Q#{O!j#xO!n$[O(_VO[#kip#ki#P#ki#m#ki#n#ki#o#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki#}#ki(p#ki(w#ki(x#ki!Z#ki![#ki~O#l#ki~P%MQO#l<PO~P%MQOP$[OR#zOp<]O!O#yO!Q#{O!j#xO!n$[O#l<PO#m<QO#n<QO#o<QO(_VO[#ki#P#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki#}#ki(p#ki(w#ki(x#ki!Z#ki![#ki~O#p#ki~P& YO#p<RO~P& YOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO(_VO#w#ki#y#ki#z#ki#}#ki(p#ki(w#ki(x#ki!Z#ki![#ki~O#u#ki~P&#bOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO#u<TO(_VO(x#}O#y#ki#z#ki#}#ki(p#ki(w#ki!Z#ki![#ki~O#w<VO~P&%cO#w#ki~P&%cO#u<TO~P&#bOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO#u<TO#w<VO(_VO(w#|O(x#}O#z#ki#}#ki(p#ki!Z#ki![#ki~O#y#ki~P&'rO#y<XO~P&'rOa#{y!Z#{y'x#{y'u#{y!W#{y!i#{yt#{y!]#{y%h#{y!e#{y~P!:TO[#kip#ki#P#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki#}#ki(p#ki!Z#ki![#ki~OP$[OR#zO!O#yO!Q#{O!j#xO!n$[O#l<PO#m<QO#n<QO#o<QO(_VO(w#ki(x#ki~P&*nOl=}O!O)|O'w)}O(w$}O(x%POP#kiR#ki!Q#ki!j#ki!n#ki#l#ki#m#ki#n#ki#o#ki(_#ki~P&*nO#Q$dOP(^XR(^X[(^Xl(^Xp(^X!O(^X!Q(^X!j(^X!n(^X#P(^X#l(^X#m(^X#n(^X#o(^X#p(^X#q(^X#r(^X#s(^X#t(^X#u(^X#w(^X#y(^X#z(^X#}(^X'w(^X(_(^X(p(^X(w(^X(x(^X!Z(^X![(^X~O#}$Oi!Z$Oi![$Oi~P#BPO#}!pi![!pi~P$*OOg'Za!Z'Za~P!0uO![7dO~O!Z'ba!['ba~P#BPO!W7eO~P#.{O!e#vO(p'nO!Z'ca!i'ca~O!Z/kO!i(|i~O!Z/kO!e#vO!i(|i~Og${q!Z${q#^${q#}${q~P!0uO!W'ea!Z'ea~P#.{O!e7lO~O!Z/sO!W(}i~P#.{O!Z/sO!W(}i~O!W7oO~Oh%VOp7tO!j%dO(p'nO~O!e#vO#t7vO~Op7yO!e#vO(p'nO~O!O)|O'w)}O(x%POl'ha(w'ha!Z'ha#^'ha~Og'ha#}'ha~P&3oO!O)|O'w)}Ol'ja(w'ja(x'ja!Z'ja#^'ja~Og'ja#}'ja~P&4bO!W7{O~Og$}q!Z$}q#^$}q#}$}q~P!0uOg(]q!Z(]q~P!0uO#^7|Og(]q!Z(]q~P!0uOa$ny!Z$ny'x$ny'u$ny!W$ny!i$nyt$ny!]$ny%h$ny!e$ny~P!:TO!e6hO~O!Z5RO!])Oa~O!]'^OP$SaR$Sa[$Sap$Sa!O$Sa!Q$Sa!Z$Sa!j$Sa!n$Sa#P$Sa#l$Sa#m$Sa#n$Sa#o$Sa#p$Sa#q$Sa#r$Sa#s$Sa#t$Sa#u$Sa#w$Sa#y$Sa#z$Sa(_$Sa(p$Sa(w$Sa(x$Sa~O%h6|O~P&7SO%]8QOa%Zi!]%Zi'x%Zi!Z%Zi~Oa#ay!Z#ay'x#ay'u#ay!W#ay!i#ayt#ay!]#ay%h#ay!e#ay~P!:TO[8SO~Ob8UO(R+nO(TTO(WUO~O!Z0}O![)Vi~O`8YO~O(c(zO!Z'nX!['nX~O!Z5kO![)Sa~O![8cO~P%:RO(m!sO~P$$oO#Y8dO~O!]1gO~O!]1gO%h8fO~Ol8iO!]1gO%h8fO~O[8nO!Z'qa!['qa~O!Z1rO![)Ti~O!i8rO~O!i8sO~O!i8vO~O!i8vO~P%[Oa8xO~O!e8yO~O!i8zO~O!Z(ui![(ui~P#BPOa%mO#^9SO'x%mO~O!Z(ry!i(rya(ry'x(ry~P!:TO!Z(hO!i(qy~O%h9VO~P&7SO!]'^O%h9VO~O#i${qP${qR${q[${qa${qp${q!Q${q!Z${q!j${q!n${q#P${q#l${q#m${q#n${q#o${q#p${q#q${q#r${q#s${q#t${q#u${q#w${q#y${q#z${q'x${q(_${q(p${q!i${q!W${q'u${q#^${qt${q!]${q%h${q!e${q~P#.{O#i'haP'haR'ha['haa'hap'ha!Q'ha!j'ha!n'ha#P'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#w'ha#y'ha#z'ha'x'ha(_'ha(p'ha!i'ha!W'ha'u'hat'ha!]'ha%h'ha!e'ha~P&3oO#i'jaP'jaR'ja['jaa'jap'ja!Q'ja!j'ja!n'ja#P'ja#l'ja#m'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#w'ja#y'ja#z'ja'x'ja(_'ja(p'ja!i'ja!W'ja'u'jat'ja!]'ja%h'ja!e'ja~P&4bO#i$}qP$}qR$}q[$}qa$}qp$}q!Q$}q!Z$}q!j$}q!n$}q#P$}q#l$}q#m$}q#n$}q#o$}q#p$}q#q$}q#r$}q#s$}q#t$}q#u$}q#w$}q#y$}q#z$}q'x$}q(_$}q(p$}q!i$}q!W$}q'u$}q#^$}qt$}q!]$}q%h$}q!e$}q~P#.{O!Z'Wi!i'Wi~P!:TO#}#aq!Z#aq![#aq~P#BPO(w$}OP%`aR%`a[%`ap%`a!Q%`a!j%`a!n%`a#P%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#t%`a#u%`a#w%`a#y%`a#z%`a#}%`a(_%`a(p%`a!Z%`a![%`a~Ol%`a!O%`a'w%`a(x%`a~P&HgO(x%POP%baR%ba[%bap%ba!Q%ba!j%ba!n%ba#P%ba#l%ba#m%ba#n%ba#o%ba#p%ba#q%ba#r%ba#s%ba#t%ba#u%ba#w%ba#y%ba#z%ba#}%ba(_%ba(p%ba!Z%ba![%ba~Ol%ba!O%ba'w%ba(w%ba~P&JnOl=}O!O)|O'w)}O(x%PO~P&HgOl=}O!O)|O'w)}O(w$}O~P&JnOR0cO!O0cO!Q0dO#Q$dOP{a[{al{ap{a!j{a!n{a#P{a#l{a#m{a#n{a#o{a#p{a#q{a#r{a#s{a#t{a#u{a#w{a#y{a#z{a#}{a'w{a(_{a(p{a(w{a(x{a!Z{a![{a~O!O)|O'w)}OP$raR$ra[$ral$rap$ra!Q$ra!j$ra!n$ra#P$ra#l$ra#m$ra#n$ra#o$ra#p$ra#q$ra#r$ra#s$ra#t$ra#u$ra#w$ra#y$ra#z$ra#}$ra(_$ra(p$ra(w$ra(x$ra!Z$ra![$ra~O!O)|O'w)}OP$taR$ta[$tal$tap$ta!Q$ta!j$ta!n$ta#P$ta#l$ta#m$ta#n$ta#o$ta#p$ta#q$ta#r$ta#s$ta#t$ta#u$ta#w$ta#y$ta#z$ta#}$ta(_$ta(p$ta(w$ta(x$ta!Z$ta![$ta~Ol=}O!O)|O'w)}O(w$}O(x%PO~OP%SaR%Sa[%Sap%Sa!Q%Sa!j%Sa!n%Sa#P%Sa#l%Sa#m%Sa#n%Sa#o%Sa#p%Sa#q%Sa#r%Sa#s%Sa#t%Sa#u%Sa#w%Sa#y%Sa#z%Sa#}%Sa(_%Sa(p%Sa!Z%Sa![%Sa~P'%sO#}$lq!Z$lq![$lq~P#BPO#}$nq!Z$nq![$nq~P#BPO![9dO~O#}9eO~P!0uO!e#vO!Z'ci!i'ci~O!e#vO(p'nO!Z'ci!i'ci~O!Z/kO!i(|q~O!W'ei!Z'ei~P#.{O!Z/sO!W(}q~Op9lO!e#vO(p'nO~O[9nO!W9mO~P#.{O!W9mO~O!e#vO#t9tO~Og(]y!Z(]y~P!0uO!Z'la!]'la~P#.{Oa%Zq!]%Zq'x%Zq!Z%Zq~P#.{O[9yO~O!Z0}O![)Vq~O#^9}O!Z'na!['na~O!Z5kO![)Si~P#BPO!Q:PO~O!]1gO%h:SO~O(TTO(WUO(c:XO~O!Z1rO![)Tq~O!i:[O~O!i:]O~O!i:^O~O!i:^O~P%[O#^:aO!Z#fy![#fy~O!Z#fy![#fy~P#BPO%h:fO~P&7SO!]'^O%h:fO~O#}#{y!Z#{y![#{y~P#BPOP${iR${i[${ip${i!Q${i!j${i!n${i#P${i#l${i#m${i#n${i#o${i#p${i#q${i#r${i#s${i#t${i#u${i#w${i#y${i#z${i#}${i(_${i(p${i!Z${i![${i~P'%sO!O)|O'w)}O(x%POP'gaR'ga['gal'gap'ga!Q'ga!j'ga!n'ga#P'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#t'ga#u'ga#w'ga#y'ga#z'ga#}'ga(_'ga(p'ga(w'ga!Z'ga!['ga~O!O)|O'w)}OP'iaR'ia['ial'iap'ia!Q'ia!j'ia!n'ia#P'ia#l'ia#m'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#w'ia#y'ia#z'ia#}'ia(_'ia(p'ia(w'ia(x'ia!Z'ia!['ia~O(w$}OP%`iR%`i[%`il%`ip%`i!O%`i!Q%`i!j%`i!n%`i#P%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#t%`i#u%`i#w%`i#y%`i#z%`i#}%`i'w%`i(_%`i(p%`i(x%`i!Z%`i![%`i~O(x%POP%biR%bi[%bil%bip%bi!O%bi!Q%bi!j%bi!n%bi#P%bi#l%bi#m%bi#n%bi#o%bi#p%bi#q%bi#r%bi#s%bi#t%bi#u%bi#w%bi#y%bi#z%bi#}%bi'w%bi(_%bi(p%bi(w%bi!Z%bi![%bi~O#}$ny!Z$ny![$ny~P#BPO#}#ay!Z#ay![#ay~P#BPO!e#vO!Z'cq!i'cq~O!Z/kO!i(|y~O!W'eq!Z'eq~P#.{Op:pO!e#vO(p'nO~O[:tO!W:sO~P#.{O!W:sO~Og(]!R!Z(]!R~P!0uOa%Zy!]%Zy'x%Zy!Z%Zy~P#.{O!Z0}O![)Vy~O!Z5kO![)Sq~O(R:zO~O!]1gO%h:}O~O!i;QO~O%h;VO~P&7SOP${qR${q[${qp${q!Q${q!j${q!n${q#P${q#l${q#m${q#n${q#o${q#p${q#q${q#r${q#s${q#t${q#u${q#w${q#y${q#z${q#}${q(_${q(p${q!Z${q![${q~P'%sO!O)|O'w)}O(x%POP'haR'ha['hal'hap'ha!Q'ha!j'ha!n'ha#P'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#w'ha#y'ha#z'ha#}'ha(_'ha(p'ha(w'ha!Z'ha!['ha~O!O)|O'w)}OP'jaR'ja['jal'jap'ja!Q'ja!j'ja!n'ja#P'ja#l'ja#m'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#w'ja#y'ja#z'ja#}'ja(_'ja(p'ja(w'ja(x'ja!Z'ja!['ja~OP$}qR$}q[$}qp$}q!Q$}q!j$}q!n$}q#P$}q#l$}q#m$}q#n$}q#o$}q#p$}q#q$}q#r$}q#s$}q#t$}q#u$}q#w$}q#y$}q#z$}q#}$}q(_$}q(p$}q!Z$}q![$}q~P'%sOg%d!Z!Z%d!Z#^%d!Z#}%d!Z~P!0uO!W;ZO~P#.{Op;[O!e#vO(p'nO~O[;^O!W;ZO~P#.{O!Z'nq!['nq~P#BPO!Z#f!Z![#f!Z~P#BPO#i%d!ZP%d!ZR%d!Z[%d!Za%d!Zp%d!Z!Q%d!Z!Z%d!Z!j%d!Z!n%d!Z#P%d!Z#l%d!Z#m%d!Z#n%d!Z#o%d!Z#p%d!Z#q%d!Z#r%d!Z#s%d!Z#t%d!Z#u%d!Z#w%d!Z#y%d!Z#z%d!Z'x%d!Z(_%d!Z(p%d!Z!i%d!Z!W%d!Z'u%d!Z#^%d!Zt%d!Z!]%d!Z%h%d!Z!e%d!Z~P#.{Op;fO!e#vO(p'nO~O!W;gO~P#.{Op;nO!e#vO(p'nO~O!W;oO~P#.{OP%d!ZR%d!Z[%d!Zp%d!Z!Q%d!Z!j%d!Z!n%d!Z#P%d!Z#l%d!Z#m%d!Z#n%d!Z#o%d!Z#p%d!Z#q%d!Z#r%d!Z#s%d!Z#t%d!Z#u%d!Z#w%d!Z#y%d!Z#z%d!Z#}%d!Z(_%d!Z(p%d!Z!Z%d!Z![%d!Z~P'%sOp;rO!e#vO(p'nO~Ot(dX~P1qO!O%qO~P!(yO(S!lO~P!(yO!WfX!ZfX#^fX~P%0XOP]XR]X[]Xp]X!O]X!Q]X!Z]X!ZfX!j]X!n]X#P]X#Q]X#^]X#^fX#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X(_]X(p]X(w]X(x]X~O!efX!i]X!ifX(pfX~P'JlOP;vOQ;vOSfOd=rOe!iOnkOp;vOqkOrkOxkOz;vO|;vO!QWO!UkO!VkO!]XO!g;yO!jZO!m;vO!n;vO!o;vO!q;zO!s;}O!v!hO$V!kO$m=pO(R)ZO(TTO(WUO(_VO(m[O~O!Z<ZO![$pa~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<fO!Q${O!]$|O!g=wO!j$xO#h<lO$V%_O$s<hO$u<jO$x%`O(R(tO(TTO(WUO(_$uO(w$}O(x%PO~Oj)bO~P( bOp!cX(p!cX~P# qOp(hX(p(hX~P#!dO![]X![fX~P'JlO!WfX!W$yX!ZfX!Z$yX#^fX~P!/qO#i<OO~O!e#vO#i<OO~O#^<`O~O#t<SO~O#^<pO!Z(uX![(uX~O#^<`O!Z(sX![(sX~O#i<qO~Og<sO~P!0uO#i<yO~O#i<zO~O!e#vO#i<{O~O!e#vO#i<qO~O#}<|O~P#BPO#i<}O~O#i=OO~O#i=TO~O#i=UO~O#i=VO~O#i=WO~O#}=XO~P!0uO#}=YO~P!0uO#Q#R#S#U#V#Y#g#h#s$m$s$u$x%[%]%g%h%i%p%r%u%v%x%z~'|T#m!V'z(S#nq#l#op!O'{$['{(R$^(c~",goto:"$8f)ZPPPPPP)[PP)_P)pP+Q/VPPPP6aPP6wPP<oP@cP@yP@yPPP@yPCRP@yP@yP@yPCVPC[PCyPHsPPPHwPPPPHwKzPPPLQLrPHwPHwPP! QHwPPPHwPHwP!#XHwP!&o!'t!'}P!(q!(u!(q!,SPPPPPPP!,s!'tPP!-T!.uP!2RHwHw!2W!5d!:Q!:Q!>PPPP!>XHwPPPPPPPPPP!AhP!BuPPHw!DWPHwPHwHwHwHwHwPHw!EjP!HtP!KzP!LO!LY!L^!L^P!HqP!Lb!LbP# hP# lHwPHw# r#$wCV@yP@yP@y@yP#&U@y@y#(h@y#+`@y#-l@y@y#.[#0p#0p#0u#1O#0p#1ZPP#0pP@y#1s@y#5r@y@y6aPPP#9wPPP#:b#:bP#:bP#:x#:bPP#;OP#:uP#:u#;c#:u#;}#<T#<W)_#<Z)_P#<b#<b#<bP)_P)_P)_P)_PP)_P#<h#<kP#<k)_P#<oP#<rP)_P)_P)_P)_P)_P)_)_PP#<x#=O#=Z#=a#=g#=m#=s#>R#>X#>c#>i#>s#>y#?Z#?a#@R#@e#@k#@q#AP#Af#CZ#Ci#Cp#E[#Ej#G[#Gj#Gp#Gv#G|#HW#H^#Hd#Hn#IQ#IWPPPPPPPPPPP#I^PPPPPPP#JR#MY#Nr#Ny$ RPPP$&mP$&v$)o$0Y$0]$0`$1_$1b$1i$1qP$1w$1zP$2h$2l$3d$4r$4w$5_PP$5d$5j$5n$5q$5u$5y$6u$7^$7u$7y$7|$8P$8V$8Y$8^$8bR!|RoqOXst!Z#d%l&p&r&s&u,n,s2S2VY!vQ'^-`1g5qQ%svQ%{yQ&S|Q&h!VS'U!e-WQ'd!iS'j!r!yU*h$|*X*lQ+l%|Q+y&UQ,_&bQ-^']Q-h'eQ-p'kQ0U*nQ1q,`R<m;z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9SS#q];w!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU*{%[<e<fQ+q&OQ,a&eQ,h&mQ0r+dQ0u+fQ1S+rQ1y,fQ3W.bQ5V0wQ5]0}Q6Q1rQ7O3[Q8U5^R9Y7Q'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s!S!nQ!r!v!y!z$|'U']'^'j'k'l*h*l*n*o-W-^-`-p0U0X1g5q5s%[$ti#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q&V|Q'S!eS'Y%h-ZQ+q&OQ,a&eQ0f+OQ1S+rQ1X+xQ1x,eQ1y,fQ5]0}Q5f1ZQ6Q1rQ6T1tQ6U1wQ8U5^Q8X5cQ8q6WQ9|8YQ:Y8nR<o*XrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR,c&i&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=r=s[#]WZ#W#Z'V(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ%vxQ%zyS&P|&UQ&]!TQ'a!hQ'c!iQ(o#sS+k%{%|Q+o&OQ,Y&`Q,^&bS-g'd'eQ.d(pQ0{+lQ1R+rQ1T+sQ1W+wQ1l,ZS1p,_,`Q2t-hQ5[0}Q5`1QQ5e1YQ6P1qQ8T5^Q8W5bQ9x8SR:w9y!U$zi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y!^%xy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pQ+e%vQ,O&YQ,R&ZQ,]&bQ.c(oQ1k,YU1o,^,_,`Q3].dQ5z1lS6O1p1qQ8m6P#f=t#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o=u<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YW%Ti%V*v=pS&Y!Q&gQ&Z!RQ&[!SQ+S%cR+|&W%]%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}T)x$u)yV*{%[<e<fW'Y!e%h*X-ZS({#y#zQ+`%qQ+v&RS.](k(lQ1b,SQ4x0cR8^5k'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s$i$^c#Y#e%p%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.w.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ'W!eR2i-W!W!nQ!e!r!v!y!z$|'U']'^'j'k'l*X*h*l*n*o-W-^-`-p0U0X1g5q5sR1d,UnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&w!^Q't!xS(q#u<OQ+i%yQ,W&]Q,X&_Q-e'bQ-r'mS.m(v<qS0k+U<{Q0y+jQ1f,VQ2Z,uQ2],vQ2e-RQ2r-fQ2u-jS5P0l=VQ5W0zS5Z0|=WQ6j2gQ6n2sQ6s2zQ8R5XQ8}6lQ9O6oQ9R6tR:`8z$d$]c#Y#e%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gS(m#p'gQ(}#zS+_%p.wS.^(l(nR3U._'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS#q];wQ&r!XQ&s!YQ&u![Q&v!]R2R,qQ'_!hQ+b%vQ-c'aS.`(o+eQ2p-bW3Y.c.d0q0sQ6m2qW6z3V3X3]5TU9U6{6}7PU:e9W9X9ZS;T:d:gQ;b;UR;j;cU!wQ'^-`T5o1g5q!Q_OXZ`st!V!Z#d#h%d%l&g&i&p&r&s&u(h,n,s.V2S2V]!pQ!r'^-`1g5qT#q];w%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS({#y#zS.](k(l!s=^$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU$fd)],hS(n#p'gU*s%R(u3vU0e*z.i7]Q5T0rQ6{3WQ9X7OR:g9Ym!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sQ'r!uS(d#g1|S-n'i'uQ/n*ZQ/{*gQ2|-qQ4]/oQ4i/}Q4j0OQ4o0WQ7h4WS7s4k4mS7w4p4rQ9g7iQ9k7oQ9p7tQ9u7yS:o9l9mS;Y:p:sS;e;Z;[S;m;f;gS;q;n;oR;t;rQ#wbQ'q!uS(c#g1|S(e#m+TQ+V%eQ+g%wQ+m%}U-m'i'r'uQ.R(dQ/m*ZQ/|*gQ0P*iQ0x+hQ1m,[S2y-n-qQ3R.ZS4[/n/oQ4e/yS4h/{0WQ4l0QQ5|1nQ6u2|Q7g4WQ7k4]U7r4i4o4rQ7u4nQ8k5}S9f7h7iQ9j7oQ9r7wQ9s7xQ:V8lQ:m9gS:n9k9mQ:v9uQ;P:WS;X:o:sS;d;Y;ZS;l;e;gS;p;m;oQ;s;qQ;u;tQ=a=[Q=l=eR=m=fV!wQ'^-`%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS#wz!j!r=Z$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=a=r%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SQ%ej!^%wy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pS%}z!jQ+h%xQ,[&bW1n,],^,_,`U5}1o1p1qS8l6O6PQ:W8m!r=[$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ=e=qR=f=r%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SY#bWZ#W#Z(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ,i&m!p=]$Z$n)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=`'VU'Z!e%h*XR2k-Z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9S!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ,h&mQ0r+dQ3W.bQ7O3[R9Y7Q!b$Tc#Y%p(Q(W(r(w)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!P<U)[)o-U.w2c2f3h3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!f$Vc#Y%p(Q(W(r(w)U)V)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!T<W)[)o-U.w2c2f3h3n3o3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!^$Zc#Y%p(Q(W(r(w)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;xQ4V/fz=s)[)o-U.w2c2f3h3w4P6k7W7a7b8`8|9[9b9c:y;R=gQ=x=zR=y={'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS$oh$pR3|/P'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$kf$qQ$ifS)h$l)lR)t$qT$jf$qT)j$l)l'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$oh$pQ$rhR)s$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9S!s=q$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s#glOPXZst!Z!`!o#S#d#o#{$n%l&i&l&m&p&r&s&u&y'R'`(|)q*f+Y+d,k,n,s-d.b/Q/i0V0d1j1z1{1}2P2S2V2X3[3{4q5y6Z6[6_7Q8i8x!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}Q+P%`Q/^)|o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!U$yi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yQ*`$zU*i$|*X*lQ+Q%aQ0Q*j#f=c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n=d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YQ=h=tQ=i=uQ=j=vR=k=w!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YnoOXst!Z#d%l&p&r&s&u,n,s2S2VS*c${*WQ,|&|Q,}'OR4`/s%[%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q,P&ZQ1`,RQ5i1_R8]5jV*k$|*X*lU*k$|*X*lT5p1g5qS/y*f/iQ4n0VT7x4q:PQ+g%wQ0P*iQ0x+hQ1m,[Q5|1nQ8k5}Q:V8lR;P:W!U%Oi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yx*P$v)c*Q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=oS0Y*q0Z#f<a#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<b<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!d<t(s)a*Y*b.e.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={`<u3u7X7[7`9]:h:k;kS=P.g3aT=Q7Z9`!U%Qi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y|*R$v)c*S*q+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=oS0[*r0]#f<c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!h<v(s)a*Y*b.f.g.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={d<w3u7Y7Z7`9]9^:h:i:k;kS=R.h3bT=S7[9arnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ&d!UR,k&mrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR&d!UQ,T&[R1[+|snOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ1h,YS5w1k1lU8e5u5v5zS:R8g8hS:{:Q:TQ;_:|R;i;`Q&k!VR,d&gR6T1tR:Y8nS&P|&UR1T+sQ&p!WR,n&qR,t&vT2T,s2VR,x&wQ,w&wR2^,xQ'w!{R-t'wSsOtQ#dXT%os#dQ#OTR'y#OQ#RUR'{#RQ)y$uR/Z)yQ#UVR(O#UQ#XWU(U#X(V-{Q(V#YR-{(WQ-X'WR2j-XQ.p(wS3e.p3fR3f.qQ-`'^R2n-`Y!rQ'^-`1g5qR'h!rQ.{)cR3z.{U#_W%g*WU(]#_(^-|Q(^#`R-|(XQ-['ZR2l-[t`OXst!V!Z#d%l&g&i&p&r&s&u,n,s2S2VS#hZ%dU#r`#h.VR.V(hQ(i#jQ.S(eW.[(i.S3P6wQ3P.TR6w3QQ)l$lR/R)lQ$phR)r$pQ$`cU)_$`-w<[Q-w;xR<[)oQ/l*ZW4Y/l4Z7j9hU4Z/m/n/oS7j4[4]R9h7k$e*O$v(s)a)c*Y*b*q*r*|*}+R.g.h.j.k.l/Y/b/d/f/q/v0^0_0p1]3^3_3`3u3y4S4^4_4c4s4u4{4|4}5h7R7S7T7U7Z7[7^7_7`7f7m7p7z7}8P9]9^9_9i9q9v9w:h:i:j:k:l:q:u;W;];h;k=b=n=o=z={Q/t*bU4b/t4d7nQ4d/vR7n4cS*l$|*XR0S*lx*Q$v)c*q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=o!d.e(s)a*Y*b.g.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/c*Q.e7Xa7X3u7Z7[7`9]:h:k;kQ0Z*qQ3a.gU4t0Z3a9`R9`7Z|*S$v)c*q*r+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=o!h.f(s)a*Y*b.g.h.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/e*S.f7Ye7Y3u7Z7[7`9]9^:h:i:k;kQ0]*rQ3b.hU4v0]3b9aR9a7[Q*w%UR0a*wQ5S0pR8O5SQ+[%jR0o+[Q5l1bS8_5l:OR:O8`Q,V&]R1e,VQ5q1gR8b5qQ1s,aS6R1s8oR8o6TQ1O+oW5_1O5a8V9zQ5a1RQ8V5`R9z8WQ+t&PR1U+tQ2V,sR6c2VYrOXst#dQ&t!ZQ+^%lQ,m&pQ,o&rQ,p&sQ,r&uQ2Q,nS2T,s2VR6b2SQ%npQ&x!_Q&{!aQ&}!bQ'P!cQ'o!uQ+]%kQ+i%yQ+{&VQ,c&kQ,z&zW-k'i'q'r'uQ-r'mQ0R*kQ0y+jS1v,d,gQ2_,yQ2`,|Q2a,}Q2u-jW2w-m-n-q-sQ5W0zQ5d1XQ5g1]Q5{1mQ6V1xQ6a2RU6p2v2y2|Q6s2zQ8R5XQ8Z5fQ8[5hQ8a5pQ8j5|Q8p6US9P6q6uQ9R6tQ9{8XQ:U8kQ:Z8qQ:b9QQ:x9|Q;O:VQ;S:cR;a;PQ%yyQ'b!iQ'm!uU+j%z%{%|Q-R'TU-f'c'd'eS-j'i'sQ/z*gS0z+k+lQ2g-TS2s-g-hQ2z-oS4g/{0OQ5X0{Q6l2mQ6o2tQ6t2{U7q4i4j4mQ9o7sR:r9pS$wi=pR*x%VU%Ui%V=pR0`*vQ$viS(s#v+fS)a$b$cQ)c$dQ*Y$xS*b${*WQ*q%OQ*r%QQ*|%]Q*}%^Q+R%bQ.g<aQ.h<cQ.j<gQ.k<iQ.l<kQ/Y)wQ/b*PQ/d*RQ/f*TQ/q*^S/v*d/hQ0^*tQ0_*ul0p+c,Q.a1a1i3Z5x6|8f9V:S:f:};VQ1]+}Q3^<tQ3_<vQ3`<yS3u<^<_Q3y.zS4S/_4UQ4^/rQ4_/sQ4c/uQ4s0YQ4u0[Q4{0gQ4|0hQ4}0iQ5h1^Q7R<}Q7S=PQ7T=RQ7U=TQ7Z<bQ7[<dQ7^<hQ7_<jQ7`<lQ7f4VQ7m4aQ7p4fQ7z4wQ7}5RQ8P5UQ9]<zQ9^<uQ9_<wQ9i7lQ9q7vQ9v7|Q9w8QQ:h=OQ:i=QQ:j=SQ:k=UQ:l9eQ:q9nQ:u9tQ;W=XQ;]:tQ;h;^Q;k=YQ=b=pQ=n=xQ=o=yQ=z=|R={=}Q*z%[Q.i<eR7]<fnpOXst!Z#d%l&p&r&s&u,n,s2S2VQ!fPS#fZ#oQ&z!`W'f!o*f0V4qQ'}#SQ)O#{Q)p$nS,g&i&lQ,l&mQ,y&yS-O'R/iQ-b'`Q.s(|Q/V)qQ0m+YQ0s+dQ2O,kQ2q-dQ3X.bQ4O/QQ4y0dQ5v1jQ6X1zQ6Y1{Q6^1}Q6`2PQ6e2XQ7P3[Q7c3{Q8h5yQ8t6ZQ8u6[Q8w6_Q9Z7QQ:T8iR:_8x#[cOPXZst!Z!`!o#d#o#{%l&i&l&m&p&r&s&u&y'R'`(|*f+Y+d,k,n,s-d.b/i0V0d1j1z1{1}2P2S2V2X3[4q5y6Z6[6_7Q8i8xQ#YWQ#eYQ%puQ%rvS%tw!gS(Q#W(TQ(W#ZQ(r#uQ(w#xQ)P$OQ)Q$PQ)R$QQ)S$RQ)T$SQ)U$TQ)V$UQ)W$VQ)X$WQ)Y$XQ)[$ZQ)^$_Q)`$aQ)e$eW)o$n)q/Q3{Q+a%sQ+u&QS-U'V2hQ-s'pS-x(R-zQ-}(ZQ.P(bQ.n(vQ.q(xQ.u;vQ.w;yQ.x;zQ.y;}Q/]){Q0j+UQ2c-PQ2f-SQ2v-lQ2}.QQ3c.oQ3h<OQ3i<PQ3j<QQ3k<RQ3l<SQ3m<TQ3n<UQ3o<VQ3p<WQ3q<XQ3r<YQ3s.vQ3t<]Q3w<`Q3x<mQ4P<ZQ5O0lQ5Y0|Q6k<pQ6q2xQ6v3OQ7V3dQ7W<qQ7a<sQ7b<{Q8`5mQ8|6iQ9Q6rQ9[<|Q9b=VQ9c=WQ:c9SQ:y9}Q;R:aQ;x#SR=g=sR#[WR'X!el!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sS'T!e-WU*g$|*X*lS-T'U']S0O*h*nQ0W*oQ2m-^Q4m0UR4r0XR(y#xQ!fQT-_'^-`]!qQ!r'^-`1g5qQ#p]R'g;wR)d$dY!uQ'^-`1g5qQ'i!rS's!v!yS'u!z5sS-o'j'kQ-q'lR2{-pT#kZ%dS#jZ%dS%jm,jU(e#h#i#lS.T(f(gQ.X(hQ0n+ZQ3Q.UU3R.V.W.YS6x3S3TR9T6yd#^W#W#Z%g(R([*W+W.O/hr#gZm#h#i#l%d(f(g(h+Z.U.V.W.Y3S3T6yS*Z$x*_Q/o*[Q1|,jQ2d-QQ4W/kQ6g2[Q7i4XQ8{6hT=_'V+XV#aW%g*WU#`W%g*WS(S#W([U(X#Z+W/hS-V'V+XT-y(R.OV'[!e%h*XQ$lfR)v$qT)k$l)lR3}/PT*]$x*_T*e${*WQ0q+cQ1_,QQ3V.aQ5j1aQ5u1iQ6}3ZQ8g5xQ9W6|Q:Q8fQ:d9VQ:|:SQ;U:fQ;`:}R;c;VnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&j!VR,c&gtmOXst!U!V!Z#d%l&g&p&r&s&u,n,s2S2VR,j&mT%km,jR1c,SR,b&eQ&T|R+z&UR+p&OT&n!W&qT&o!W&qT2U,s2V",nodeNames:" ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:378,context:ave,nodeProps:[["isolate",-8,5,6,14,35,37,49,51,53,""],["group",-26,9,17,19,66,206,210,214,215,217,220,223,233,235,241,243,245,247,250,256,262,264,266,268,270,272,273,"Statement",-34,13,14,30,33,34,40,49,52,53,55,60,68,70,74,78,80,82,83,108,109,118,119,135,138,140,141,142,143,144,146,147,166,168,170,"Expression",-23,29,31,35,39,41,43,172,174,176,177,179,180,181,183,184,185,187,188,189,200,202,204,205,"Type",-3,86,101,107,"ClassItem"],["openedBy",23,"<",36,"InterpolationStart",54,"[",58,"{",71,"(",159,"JSXStartCloseTag"],["closedBy",-2,24,167,">",38,"InterpolationEnd",48,"]",59,"}",72,")",164,"JSXEndTag"]],propSources:[fve],skippedNodes:[0,5,6,276],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$h&j(X!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(X!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$h&j(UpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(UpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$h&j(Up(X!b'z0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(V#S$h&j'{0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$h&j(Up(X!b'{0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$h&j!n),Q(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#u(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#u(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(T':f$h&j(X!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$h&j(X!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$h&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$c`$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$c``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$c`$h&j(X!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(X!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$c`(X!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$h&j(Up(X!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$h&j(Up(X!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$h&j(X!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$h&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(X!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$h&j(UpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(UpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Up(X!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$h&j(m%1l(Up(X!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$h&j(Up(X!b$[#t(R,2j(c$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$h&j(Up(X!b$[#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$h&j(Up(X!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$h&j$P(Ch(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(x+JY$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$h&j#y(Ch(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(W';W$h&j(UpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$h&j(UpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$h&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$c`$h&j(UpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(UpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$c`(UpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!j/.^$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!i!Lf$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$h&j(Up(X!b(S%&f#o(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$h&j(Up(X!b#l(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$h&j(Up(X!bp+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!Z+Jf$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$h&j(Up(X!b!O.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_!Y!L^$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$h&j(Up(X!b#m(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$h&j(Up(X!b!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$h&j(X!b!V7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$h&j!V7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$h&j!V7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!V7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!V7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$h&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$h&j(X!b!V7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(X!b!V7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(X!b!V7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(X!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$h&j(X!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$h&j(Up!V7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$h&j(Up!V7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Up!V7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Up!V7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(UpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$h&j(UpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$h&j(Up(X!b!V7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Up(X!b!V7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Up(X!b!V7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Up(X!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$h&j(Up(X!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$h&j(Up(X!b'|0/l!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$h&j(Up(X!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$h&j(X!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$h&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(X!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$h&j(UpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(UpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Up(X!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$h&j$P(Ch(Up(X!b!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Y#t$h&j(Up(X!b!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!e$b$h&j#})Lv(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#P-<U(Up(X!b$m7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$j&j(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#p(Ch(Up(X!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$P(Ch(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#q(Ch(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#^*!Y$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#i(Cl$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#q(Ch$e#|$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#q(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#p(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#p(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(p(Ct$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$h&j#z(Ch(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!z$Ip$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!Q0,v$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$h&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$h&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$h&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$h&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$h&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!W#)l$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#w(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$h&j(Up(X!b(_+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$h&j(Up(X!b(R,2j$^#t(c$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$h&j(Up(X!b$^#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!]#Hb(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(w+JY$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_![(CdtBr$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!o7`$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$h&j(Up(X!b'z0/l$[#t(R,2j(c$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$h&j(Up(X!b'{0/l$[#t(R,2j(c$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[cve,uve,hve,dve,2,3,4,5,6,7,8,9,10,11,12,13,14,lve,new hx("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOv~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!S~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(a~~",141,338),new hx("j~RQYZXz{^~^O(O~~aP!P!Qd~iO(P~~",25,321)],topRules:{Script:[0,7],SingleExpression:[1,274],SingleClassItem:[2,275]},dialects:{jsx:0,ts:15091},dynamicPrecedences:{78:1,80:1,92:1,168:1,198:1},specialized:[{term:325,get:n=>pve[n]||-1},{term:341,get:n=>mve[n]||-1},{term:93,get:n=>gve[n]||-1}],tokenPrec:15116}),yve=1024;let vve=0,ek=class{constructor(e,t){this.from=e,this.to=t}},Qt=class{constructor(e={}){this.id=vve++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Po.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}};Qt.closedBy=new Qt({deserialize:n=>n.split(" ")});Qt.openedBy=new Qt({deserialize:n=>n.split(" ")});Qt.group=new Qt({deserialize:n=>n.split(" ")});Qt.isolate=new Qt({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});Qt.contextHash=new Qt({perNode:!0});Qt.lookAhead=new Qt({perNode:!0});Qt.mounted=new Qt({perNode:!0});let dx=class{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[Qt.mounted.id]}};const wve=Object.create(null);let Po=class BX{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):wve,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new BX(e.name||"",t,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Qt.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(Qt.group),s=-1;s<(i?i.length:0);s++){let o=t[s<0?r.name:i[s]];if(o)return o}}}};Po.none=new Po("",Object.create(null),0,8);const u0=new WeakMap,jM=new WeakMap;var qn;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(qn||(qn={}));let ki=class ZP{constructor(e,t,r,i,s){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=dx.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new FP(this.topNode,e)}cursorAt(e,t=0,r=0){let i=u0.get(this)||this.topNode,s=new FP(i);return s.moveTo(e,t),u0.set(this,s._tree),s}get topNode(){return new Co(this,0,0,null)}resolve(e,t=0){let r=Ig(u0.get(this)||this.topNode,e,t,!1);return u0.set(this,r),r}resolveInner(e,t=0){let r=Ig(jM.get(this)||this.topNode,e,t,!0);return jM.set(this,r),r}resolveStack(e,t=0){return kve(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:s=this.length}=e,o=e.mode||0,a=(o&qn.IncludeAnonymous)>0;for(let l=this.cursor(o|qn.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=i&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:pQ(Po.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new ZP(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new ZP(Po.none,t,r,i)))}static build(e){return _ve(e)}};ki.empty=new ki(Po.none,[],[],0);let xve=class FX{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new FX(this.buffer,this.index)}},Xd=class WX{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return Po.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(XX(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,t,r){let i=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=i[a++],s[l++]=i[a++]-r;let c=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,c)}return new WX(s,o,this.set)}};function XX(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function Ig(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!r&&n instanceof Co&&n.index<0?null:n.parent;if(!o)return n;n=o}let s=r?0:qn.IgnoreOverlays;if(r)for(let o=n,a=o.parent;a;o=a,a=o.parent)o instanceof Co&&o.index<0&&((i=a.enter(e,t,s))===null||i===void 0?void 0:i.from)!=o.from&&(n=a);for(;;){let o=n.enter(e,t,s);if(!o)return n;n=o}}let GX=class{cursor(e=0){return new FP(this,e)}getChild(e,t=null,r=null){let i=DM(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return DM(this,e,t,r)}resolve(e,t=0){return Ig(this,e,t,!1)}resolveInner(e,t=0){return Ig(this,e,t,!0)}matchContext(e){return BP(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}},Co=class uv extends GX{constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=t>0?a.length:-1;e!=c;e+=t){let u=a[e],h=l[e]+o.from;if(XX(i,r,h,h+u.length)){if(u instanceof Xd){if(s&qn.ExcludeBuffers)continue;let d=u.findChild(0,u.buffer.length,t,r-h,i);if(d>-1)return new Ng(new bve(o,u,e,h),null,d)}else if(s&qn.IncludeAnonymous||!u.type.isAnonymous||fQ(u)){let d;if(!(s&qn.IgnoreMounts)&&(d=dx.get(u))&&!d.overlay)return new uv(d.tree,h,e,o);let m=new uv(u,h,e,o);return s&qn.IncludeAnonymous||!m.type.isAnonymous?m:m.nextChild(t<0?u.children.length-1:0,t,r,i)}}}if(s&qn.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&qn.IgnoreOverlays)&&(i=dx.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:o,to:a}of i.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new uv(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function DM(n,e,t,r){let i=n.cursor(),s=[];if(!i.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=i.type.is(t),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function BP(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}let bve=class{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}},Ng=class Bp extends GX{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return s<0?null:new Bp(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&qn.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new Bp(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Bp(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Bp(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),t.push(0)}return new ki(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function YX(n){if(!n.length)return null;let e=0,t=n[0];for(let s=1;s<n.length;s++){let o=n[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let r=t instanceof Co&&t.index<0?null:t.parent,i=n.slice();return r?i[e]=r:i.splice(e,1),new Sve(i,t)}let Sve=class{constructor(e,t){this.heads=e,this.node=t}get next(){return YX(this.heads)}};function kve(n,e,t){let r=n.resolveInner(e,t),i=null;for(let s=r instanceof Co?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[r])).push(o.resolve(e,t)),s=o}else{let o=dx.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new Co(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(Ig(a,e,t,!1))}}return i?YX(i):r}let FP=class{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Co)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof Co?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&qn.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&qn.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&qn.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let s=t+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&qn.IncludeAnonymous||a instanceof Xd||!a.type.isAnonymous||fQ(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;t=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)t=new Ng(this.buffer,t,this.stack[i]);return this.bufferNode=new Ng(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return BP(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return BP(this._tree,e,i);let o=r[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}};function fQ(n){return n.children.some(e=>e instanceof Xd||!e.type.isAnonymous||fQ(e))}function _ve(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=yve,reused:s=[],minRepeatType:o=r.types.length}=n,a=Array.isArray(t)?new xve(t,t.length):t,l=r.types,c=0,u=0;function h(C,Q,O,_,x,A){let{id:T,start:w,end:R,size:j}=a,V=u,M=c;for(;j<0;)if(a.next(),j==-1){let X=s[T];O.push(X),_.push(w-C);return}else if(j==-3){c=T;return}else if(j==-4){u=T;return}else throw new RangeError(`Unrecognized record size: ${j}`);let Z=l[T],U,q,ne=w-C;if(R-w<=i&&(q=v(a.pos-Q,x))){let X=new Uint16Array(q.size-q.skip),F=a.pos-q.size,G=X.length;for(;a.pos>F;)G=S(q.start,X,G);U=new Xd(X,R-q.start,r),ne=q.start-C}else{let X=a.pos-j;a.next();let F=[],G=[],K=T>=o?T:-1,re=0,Se=R;for(;a.pos>X;)K>=0&&a.id==K&&a.size>=0?(a.end<=Se-i&&(g(F,G,w,re,a.end,Se,K,V,M),re=F.length,Se=a.end),a.next()):A>2500?d(w,X,F,G):h(w,X,F,G,K,A+1);if(K>=0&&re>0&&re<F.length&&g(F,G,w,re,w,Se,K,V,M),F.reverse(),G.reverse(),K>-1&&re>0){let le=m(Z,M);U=pQ(Z,F,G,0,F.length,0,R-w,le,le)}else U=y(Z,F,G,R-w,V-R,M)}O.push(U),_.push(ne)}function d(C,Q,O,_){let x=[],A=0,T=-1;for(;a.pos>Q;){let{id:w,start:R,end:j,size:V}=a;if(V>4)a.next();else{if(T>-1&&R<T)break;T<0&&(T=j-i),x.push(w,R,j),A++,a.next()}}if(A){let w=new Uint16Array(A*4),R=x[x.length-2];for(let j=x.length-3,V=0;j>=0;j-=3)w[V++]=x[j],w[V++]=x[j+1]-R,w[V++]=x[j+2]-R,w[V++]=V;O.push(new Xd(w,x[2]-R,r)),_.push(R-C)}}function m(C,Q){return(O,_,x)=>{let A=0,T=O.length-1,w,R;if(T>=0&&(w=O[T])instanceof ki){if(!T&&w.type==C&&w.length==x)return w;(R=w.prop(Qt.lookAhead))&&(A=_[T]+w.length+R)}return y(C,O,_,x,A,Q)}}function g(C,Q,O,_,x,A,T,w,R){let j=[],V=[];for(;C.length>_;)j.push(C.pop()),V.push(Q.pop()+O-x);C.push(y(r.types[T],j,V,A-x,w-A,R)),Q.push(x-O)}function y(C,Q,O,_,x,A,T){if(A){let w=[Qt.contextHash,A];T=T?[w].concat(T):[w]}if(x>25){let w=[Qt.lookAhead,x];T=T?[w].concat(T):[w]}return new ki(C,Q,O,_,T)}function v(C,Q){let O=a.fork(),_=0,x=0,A=0,T=O.end-i,w={size:0,start:0,skip:0};e:for(let R=O.pos-C;O.pos>R;){let j=O.size;if(O.id==Q&&j>=0){w.size=_,w.start=x,w.skip=A,A+=4,_+=4,O.next();continue}let V=O.pos-j;if(j<0||V<R||O.start<T)break;let M=O.id>=o?4:0,Z=O.start;for(O.next();O.pos>V;){if(O.size<0)if(O.size==-3)M+=4;else break e;else O.id>=o&&(M+=4);O.next()}x=Z,_+=j,A+=M}return(Q<0||_==C)&&(w.size=_,w.start=x,w.skip=A),w.size>4?w:void 0}function S(C,Q,O){let{id:_,start:x,end:A,size:T}=a;if(a.next(),T>=0&&_<o){let w=O;if(T>4){let R=a.pos-(T-4);for(;a.pos>R;)O=S(C,Q,O)}Q[--O]=w,Q[--O]=A-C,Q[--O]=x-C,Q[--O]=_}else T==-3?c=_:T==-4&&(u=_);return O}let b=[],k=[];for(;a.pos>0;)h(n.start||0,n.bufferStart||0,b,k,-1,0);let $=(e=n.length)!==null&&e!==void 0?e:b.length?k[0]+b[0].length:0;return new ki(l[n.topID],b.reverse(),k.reverse(),$)}const MM=new WeakMap;function hv(n,e){if(!n.isAnonymous||e instanceof Xd||e.type!=n)return 1;let t=MM.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof ki)){t=1;break}t+=hv(n,r)}MM.set(e,t)}return t}function pQ(n,e,t,r,i,s,o,a,l){let c=0;for(let g=r;g<i;g++)c+=hv(n,e[g]);let u=Math.ceil(c*1.5/8),h=[],d=[];function m(g,y,v,S,b){for(let k=v;k<S;){let $=k,C=y[k],Q=hv(n,g[k]);for(k++;k<S;k++){let O=hv(n,g[k]);if(Q+O>=u)break;Q+=O}if(k==$+1){if(Q>u){let O=g[$];m(O.children,O.positions,0,O.children.length,y[$]+b);continue}h.push(g[$])}else{let O=y[k-1]+g[k-1].length-C;h.push(pQ(n,g,y,$,k,C,O,null,l))}d.push(C+b-s)}}return m(e,t,r,i,0),(a||l)(h,d,o)}let Tve=class{constructor(){this.map=new WeakMap}setBuffer(e,t,r){let i=this.map.get(e);i||this.map.set(e,i=new Map),i.set(t,r)}getBuffer(e,t){let r=this.map.get(e);return r&&r.get(t)}set(e,t){e instanceof Ng?this.setBuffer(e.context.buffer,e.index,t):e instanceof Co&&this.map.set(e.tree,t)}get(e){return e instanceof Ng?this.getBuffer(e.context.buffer,e.index):e instanceof Co?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}},dv=class WP{constructor(e,t,r,i,s=!1,o=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],r=!1){let i=[new WP(0,e.length,e,0,!1,r)];for(let s of t)s.to>e.length&&i.push(s);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let u=a<t.length?t[a]:null,h=u?u.fromA:1e9;if(h-l>=r)for(;o&&o.from<h;){let d=o;if(l>=d.from||h<=d.to||c){let m=Math.max(d.from,l)-c,g=Math.min(d.to,h)-c;d=m>=g?null:new WP(m,g,d.tree,d.offset+c,a>0,!!u)}if(d&&i.push(d),o.to>h)break;o=s<e.length?e[s++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return i}},Pve=class{startParse(e,t,r){return typeof e=="string"&&(e=new Cve(e)),r=r?r.length?r.map(i=>new ek(i.from,i.to)):[new ek(0,0)]:[new ek(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let s=i.advance();if(s)return s}}},Cve=class{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}};new Qt({perNode:!0});var tk;const Ah=new Qt;function HX(n){return ce.define({combine:n?e=>e.concat(n):void 0})}const mQ=new Qt;let ps=class{constructor(e,t,r=[],i=""){this.data=e,this.name=i,Ne.prototype.hasOwnProperty("tree")||Object.defineProperty(Ne.prototype,"tree",{get(){return Gd(this)}}),this.parser=t,this.extension=[Yd.of(this),Ne.languageData.of((s,o,a)=>{let l=VM(s,o,a),c=l.type.prop(Ah);if(!c)return[];let u=s.facet(c),h=l.type.prop(mQ);if(h){let d=l.resolve(o-l.from,a);for(let m of h)if(m.test(d,s)){let g=s.facet(m.facet);return m.type=="replace"?g:g.concat(u)}}return u})].concat(r)}isActiveAt(e,t,r=-1){return VM(e,t,r).type.prop(Ah)==this.data}findRegions(e){let t=e.facet(Yd);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let r=[],i=(s,o)=>{if(s.prop(Ah)==this.data){r.push({from:o,to:o+s.length});return}let a=s.prop(Qt.mounted);if(a){if(a.tree.prop(Ah)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+o,to:l.to+o});else r.push({from:o,to:o+s.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+o),r.length>l)return}}for(let l=0;l<s.children.length;l++){let c=s.children[l];c instanceof ki&&i(c,s.positions[l]+o)}};return i(Gd(e),0),r}get allowsNesting(){return!0}};ps.setState=$e.define();function VM(n,e,t){let r=n.facet(Yd),i=Gd(n).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,t,qn.ExcludeBuffers))s.type.isTop&&(i=s);return i}let Eve=class XP extends ps{constructor(e,t,r){super(e,t,[],r),this.parser=t}static define(e){let t=HX(e.languageData);return new XP(t,e.parser.configure({props:[Ah.add(r=>r.isTop?t:void 0)]}),e.name)}configure(e,t){return new XP(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}};function Gd(n){let e=n.field(ps.state,!1);return e?e.tree:ki.empty}let Ave=class{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}},pp=null,Rve=class GP{constructor(e,t,r=[],i,s,o,a,l){this.parser=e,this.state=t,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new GP(e,t,[],ki.empty,0,r,[],null)}startParse(){return this.parser.startParse(new Ave(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=ki.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(dv.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(dv.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=pp;pp=this;try{return e()}finally{pp=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=LM(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:i,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,u,h,d)=>l.push({fromA:c,toA:u,fromB:h,toB:d})),r=dv.applyChanges(r,l),i=ki.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),h=e.mapPos(c.to,-1);u<h&&a.push({from:u,to:h})}}}return new GP(this.parser,t,r,i,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=LM(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends Pve{createParse(t,r,i){let s=i[0].from,o=i[i.length-1].to;return{parsedPos:s,advance(){let l=pp;if(l){for(let c of i)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new ki(Po.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return pp}};function LM(n,e,t){return dv.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}let YP=class HP{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new HP(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=Rve.create(e.facet(Yd).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new HP(r)}};ps.state=Bt.define({create:YP.init,update(n,e){for(let t of e.effects)if(t.is(ps.setState))return t.value;return e.startState.facet(Yd)!=e.state.facet(Yd)?YP.init(e.state):n.apply(e)}});let KX=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(KX=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const nk=typeof navigator<"u"&&(!((tk=navigator.scheduling)===null||tk===void 0)&&tk.isInputPending)?()=>navigator.scheduling.isInputPending():null,Qve=Mt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(ps.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(ps.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=KX(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(ps.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!nk?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<i&&r.doc.length>i+1e3,l=s.context.work(()=>nk&&nk()||Date.now()>o,i+(a?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:ps.setState.of(new YP(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>kn(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Yd=ce.define({combine(n){return n.length?n[0]:null},enables:n=>[ps.state,Qve,ue.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});let $ve=class{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}};const Ive=ce.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}}),Nve=new Qt;function jve(n){let e=n.node,t=e.childAfter(e.from),r=e.lastChild;if(!t)return null;let i=n.options.simulateBreak,s=n.state.doc.lineAt(t.from),o=i==null||i<=s.from?s.to:Math.min(s.to,i);for(let a=t.to;;){let l=e.childAfter(a);if(!l||l==r)return null;if(!l.type.isSkipped){if(l.from>=o)return null;let c=/^ */.exec(s.text.slice(t.to-s.from))[0].length;return{from:t.from,to:t.to+c}}a=l.to}}function Dve({closing:n,align:e=!0,units:t=1}){return r=>Mve(r,e,t,n)}function Mve(n,e,t,r,i){let s=n.textAfter,o=s.match(/^\s*/)[0].length,a=r&&s.slice(o,o+r.length)==r||i==n.pos+o,l=e?jve(n):null;return l?a?n.column(l.from):n.column(l.to):n.baseIndent+(a?0:n.unit*t)}const Vve=n=>n.baseIndent;function rk({except:n,units:e=1}={}){return t=>{let r=n&&n.test(t.textAfter);return t.baseIndent+(r?0:e*t.unit)}}const Lve=new Qt;function zve(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}let Uve=class JX{constructor(e,t){this.specs=e;let r;function i(a){let l=_n.newName();return(r||(r=Object.create(null)))["."+l]=a,l}const s=typeof t.all=="string"?t.all:t.all?i(t.all):void 0,o=t.scope;this.scope=o instanceof ps?a=>a.prop(Ah)==o.data:o?a=>a==o:void 0,this.style=Ec(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=r?new _n(r):null,this.themeType=t.themeType}static define(e,t){return new JX(e,t||{})}};N.meta,N.link,N.heading,N.emphasis,N.strong,N.strikethrough,N.keyword,N.atom,N.bool,N.url,N.contentSeparator,N.labelName,N.literal,N.inserted,N.string,N.deleted,N.regexp,N.escape,N.string,N.variableName,N.variableName,N.typeName,N.namespace,N.className,N.variableName,N.macroName,N.propertyName,N.comment,N.invalid;const qve=Object.create(null),zM=[Po.none],UM=[],qM=Object.create(null),Zve=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Zve[n]=Bve(qve,e);function ik(n,e){UM.indexOf(n)>-1||(UM.push(n),console.warn(e))}function Bve(n,e){let t=[];for(let a of e.split(" ")){let l=[];for(let c of a.split(".")){let u=n[c]||N[c];u?typeof u=="function"?l.length?l=l.map(u):ik(c,`Modifier ${c} used at start of tag`):l.length?ik(c,`Tag ${c} used as modifier`):l=Array.isArray(u)?u:[u]:ik(c,`Unknown highlighting tag ${c}`)}for(let c of l)t.push(c)}if(!t.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+t.map(a=>a.id),s=qM[i];if(s)return s.id;let o=qM[i]=Po.define({id:zM.length,name:r,props:[Ni({[r]:t})]});return zM.push(o),o.id}Je.RTL,Je.LTR;function ZM(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function Fve(n){let e=Object.create(null),t=Object.create(null);for(let{label:i}of n){e[i[0]]=!0;for(let s=1;s<i.length;s++)t[i[s]]=!0}let r=ZM(e)+ZM(t)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function Wve(n){let e=n.map(i=>typeof i=="string"?{label:i}:i),[t,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:Fve(e);return i=>{let s=i.matchBefore(r);return s||i.explicit?{from:s?s.from:i.pos,options:e,validFor:t}:null}}function Xve(n,e){return t=>{for(let r=Gd(t.state).resolveInner(t.pos,-1);r;r=r.parent){if(n.indexOf(r.name)>-1)return null;if(r.type.isTop)break}return e(t)}}const Gve=Is.define(),Yve=ue.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});let Hve=class{constructor(e,t,r,i){this.field=e,this.line=t,this.from=r,this.to=i}},Kve=class e9{constructor(e,t,r){this.field=e,this.from=t,this.to=r}map(e){let t=e.mapPos(this.from,-1,In.TrackDel),r=e.mapPos(this.to,1,In.TrackDel);return t==null||r==null?null:new e9(this.field,t,r)}},Jve=class t9{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let r=[],i=[t],s=e.doc.lineAt(t),o=/^\s*/.exec(s.text)[0];for(let l of this.lines){if(r.length){let c=o,u=/^\t*/.exec(l)[0].length;for(let h=0;h<u;h++)c+=e.facet(Ive);i.push(t+c.length-u),l=c+l.slice(u)}r.push(l),t+=l.length+1}let a=this.fieldPositions.map(l=>new Kve(l.field,i[l.line]+l.from,i[l.line]+l.to));return{text:r,ranges:a}}static parse(e){let t=[],r=[],i=[],s;for(let o of e.split(/\r\n?|\n/)){for(;s=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(o);){let a=s[1]?+s[1]:null,l=s[2]||s[3]||"",c=-1,u=l.replace(/\\[{}]/g,h=>h[1]);for(let h=0;h<t.length;h++)(a!=null?t[h].seq==a:u&&t[h].name==u)&&(c=h);if(c<0){let h=0;for(;h<t.length&&(a==null||t[h].seq!=null&&t[h].seq<a);)h++;t.splice(h,0,{seq:a,name:u}),c=h;for(let d of i)d.field>=c&&d.field++}i.push(new Hve(c,r.length,s.index,s.index+u.length)),o=o.slice(0,s.index)+l+o.slice(s.index+s[0].length)}o=o.replace(/\\([{}])/g,(a,l,c)=>{for(let u of i)u.line==r.length&&u.from>c&&(u.from--,u.to--);return l}),r.push(o)}return new t9(r,i)}},ewe=me.widget({widget:new class extends Lo{toDOM(){let n=document.createElement("span");return n.className="cm-snippetFieldPosition",n}ignoreEvent(){return!1}}}),twe=me.mark({class:"cm-snippetField"}),Wb=class n9{constructor(e,t){this.ranges=e,this.active=t,this.deco=me.set(e.map(r=>(r.from==r.to?ewe:twe).range(r.from,r.to)))}map(e){let t=[];for(let r of this.ranges){let i=r.map(e);if(!i)return null;t.push(i)}return new n9(t,this.active)}selectionInsideField(e){return e.ranges.every(t=>this.ranges.some(r=>r.field==this.active&&r.from<=t.from&&r.to>=t.to))}};const VO=$e.define({map(n,e){return n&&n.map(e)}}),nwe=$e.define(),jg=Bt.define({create(){return null},update(n,e){for(let t of e.effects){if(t.is(VO))return t.value;if(t.is(nwe)&&n)return new Wb(n.ranges,t.value)}return n&&e.docChanged&&(n=n.map(e.changes)),n&&e.selection&&!n.selectionInsideField(e.selection)&&(n=null),n},provide:n=>ue.decorations.from(n,e=>e?e.deco:me.none)});function gQ(n,e){return J.create(n.filter(t=>t.field==e).map(t=>J.range(t.from,t.to)))}function rwe(n){let e=Jve.parse(n);return(t,r,i,s)=>{let{text:o,ranges:a}=e.instantiate(t.state,i),{main:l}=t.state.selection,c={changes:{from:i,to:s==l.from?l.to:s,insert:lt.of(o)},scrollIntoView:!0,annotations:r?[Gve.of(r),gn.userEvent.of("input.complete")]:void 0};if(a.length&&(c.selection=gQ(a,0)),a.some(u=>u.field>0)){let u=new Wb(a,0),h=c.effects=[VO.of(u)];t.state.field(jg,!1)===void 0&&h.push($e.appendConfig.of([jg,lwe,cwe,Yve]))}t.dispatch(t.state.update(c))}}function r9(n){return({state:e,dispatch:t})=>{let r=e.field(jg,!1);if(!r||n<0&&r.active==0)return!1;let i=r.active+n,s=n>0&&!r.ranges.some(o=>o.field==i+n);return t(e.update({selection:gQ(r.ranges,i),effects:VO.of(s?null:new Wb(r.ranges,i)),scrollIntoView:!0})),!0}}const iwe=({state:n,dispatch:e})=>n.field(jg,!1)?(e(n.update({effects:VO.of(null)})),!0):!1,swe=r9(1),owe=r9(-1),awe=[{key:"Tab",run:swe,shift:owe},{key:"Escape",run:iwe}],BM=ce.define({combine(n){return n.length?n[0]:awe}}),lwe=za.highest(IO.compute([BM],n=>n.facet(BM)));function Br(n,e){return Object.assign(Object.assign({},e),{apply:rwe(n)})}const cwe=ue.domEventHandlers({mousedown(n,e){let t=e.state.field(jg,!1),r;if(!t||(r=e.posAtCoords({x:n.clientX,y:n.clientY}))==null)return!1;let i=t.ranges.find(s=>s.from<=r&&s.to>=r);return!i||i.field==t.active?!1:(e.dispatch({selection:gQ(t.ranges,i.field),effects:VO.of(t.ranges.some(s=>s.field>i.field)?new Wb(t.ranges,i.field):null),scrollIntoView:!0}),!0)}}),i9=new class extends ko{};i9.startSide=1;i9.endSide=-1;const s9=[Br("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),Br("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),Br("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),Br("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),Br("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),Br(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),Br("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),Br(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),Br(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),Br('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),Br('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],uwe=s9.concat([Br("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),Br("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),Br("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),FM=new Tve,o9=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function mp(n){return(e,t)=>{let r=e.node.getChild("VariableDefinition");return r&&t(r,n),!0}}const hwe=["FunctionDeclaration"],dwe={FunctionDeclaration:mp("function"),ClassDeclaration:mp("class"),ClassExpression:()=>!0,EnumDeclaration:mp("constant"),TypeAliasDeclaration:mp("type"),NamespaceDeclaration:mp("namespace"),VariableDefinition(n,e){n.matchContext(hwe)||e(n,"variable")},TypeDefinition(n,e){e(n,"type")},__proto__:null};function a9(n,e){let t=FM.get(e);if(t)return t;let r=[],i=!0;function s(o,a){let l=n.sliceString(o.from,o.to);r.push({label:l,type:a})}return e.cursor(qn.IncludeAnonymous).iterate(o=>{if(i)i=!1;else if(o.name){let a=dwe[o.name];if(a&&a(o,s)||o9.has(o.name))return!1}else if(o.to-o.from>8192){for(let a of a9(n,o.node))r.push(a);return!1}}),FM.set(e,r),r}const WM=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,l9=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function fwe(n){let e=Gd(n.state).resolveInner(n.pos,-1);if(l9.indexOf(e.name)>-1)return null;let t=e.name=="VariableName"||e.to-e.from<20&&WM.test(n.state.sliceDoc(e.from,e.to));if(!t&&!n.explicit)return null;let r=[];for(let i=e;i;i=i.parent)o9.has(i.name)&&(r=r.concat(a9(n.state.doc,i)));return{options:r,from:t?e.from:n.pos,validFor:WM}}const Oo=Eve.define({name:"javascript",parser:Ove.configure({props:[Nve.add({IfStatement:rk({except:/^\s*({|else\b)/}),TryStatement:rk({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:Vve,SwitchBody:n=>{let e=n.textAfter,t=/^\s*\}/.test(e),r=/^\s*(case|default)\b/.test(e);return n.baseIndent+(t?0:r?1:2)*n.unit},Block:Dve({closing:"}"}),ArrowFunction:n=>n.baseIndent+n.unit,"TemplateString BlockComment":()=>null,"Statement Property":rk({except:/^{/}),JSXElement(n){let e=/^\s*<\//.test(n.textAfter);return n.lineIndent(n.node.from)+(e?0:n.unit)},JSXEscape(n){let e=/\s*\}/.test(n.textAfter);return n.lineIndent(n.node.from)+(e?0:n.unit)},"JSXOpenTag JSXSelfClosingTag"(n){return n.column(n.node.from)+n.unit}}),Lve.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":zve,BlockComment(n){return{from:n.from+2,to:n.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),c9={test:n=>/^JSX/.test(n.name),facet:HX({commentTokens:{block:{open:"{/*",close:"*/}"}}})},u9=Oo.configure({dialect:"ts"},"typescript"),h9=Oo.configure({dialect:"jsx",props:[mQ.add(n=>n.isTop?[c9]:void 0)]}),d9=Oo.configure({dialect:"jsx ts",props:[mQ.add(n=>n.isTop?[c9]:void 0)]},"typescript");let f9=n=>({label:n,type:"keyword"});const p9="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(f9),pwe=p9.concat(["declare","implements","private","protected","public"].map(f9));function OQ(n={}){let e=n.jsx?n.typescript?d9:h9:n.typescript?u9:Oo,t=n.typescript?uwe.concat(pwe):s9.concat(p9);return new $ve(e,[Oo.data.of({autocomplete:Xve(l9,Wve(t))}),Oo.data.of({autocomplete:fwe}),n.jsx?Owe:[]])}function mwe(n){for(;;){if(n.name=="JSXOpenTag"||n.name=="JSXSelfClosingTag"||n.name=="JSXFragmentTag")return n;if(n.name=="JSXEscape"||!n.parent)return null;n=n.parent}}function XM(n,e,t=n.length){for(let r=e==null?void 0:e.firstChild;r;r=r.nextSibling)if(r.name=="JSXIdentifier"||r.name=="JSXBuiltin"||r.name=="JSXNamespacedName"||r.name=="JSXMemberExpression")return n.sliceString(r.from,Math.min(r.to,t));return""}const gwe=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),Owe=ue.inputHandler.of((n,e,t,r,i)=>{if((gwe?n.composing:n.compositionStarted)||n.state.readOnly||e!=t||r!=">"&&r!="/"||!Oo.isActiveAt(n.state,e,-1))return!1;let s=i(),{state:o}=s,a=o.changeByRange(l=>{var c;let{head:u}=l,h=Gd(o).resolveInner(u-1,-1),d;if(h.name=="JSXStartTag"&&(h=h.parent),!(o.doc.sliceString(u-1,u)!=r||h.name=="JSXAttributeValue"&&h.to>u)){if(r==">"&&h.name=="JSXFragmentTag")return{range:l,changes:{from:u,insert:"</>"}};if(r=="/"&&h.name=="JSXStartCloseTag"){let m=h.parent,g=m.parent;if(g&&m.from==u-2&&((d=XM(o.doc,g.firstChild,u))||((c=g.firstChild)===null||c===void 0?void 0:c.name)=="JSXFragmentTag")){let y=`${d}>`;return{range:J.cursor(u+y.length,-1),changes:{from:u,insert:y}}}}else if(r==">"){let m=mwe(h);if(m&&m.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(o.doc.sliceString(u,u+2))&&(d=XM(o.doc,m,u)))return{range:l,changes:{from:u,insert:`</${d}>`}}}}return{range:l}});return a.changes.empty?!1:(n.dispatch([s,o.update(a,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),ywe=1,m9=194,g9=195,vwe=196,GM=197,wwe=198,xwe=199,bwe=200,Swe=2,O9=3,YM=201,kwe=24,_we=25,Twe=49,Pwe=50,Cwe=55,Ewe=56,Awe=57,Rwe=59,Qwe=60,$we=61,Iwe=62,Nwe=63,jwe=65,Dwe=238,Mwe=71,Vwe=241,Lwe=242,zwe=243,Uwe=244,qwe=245,Zwe=246,Bwe=247,Fwe=248,y9=72,Wwe=249,Xwe=250,Gwe=251,Ywe=252,Hwe=253,Kwe=254,Jwe=255,exe=256,txe=73,nxe=77,rxe=263,ixe=112,sxe=130,oxe=151,axe=152,lxe=155,Nu=10,Dg=13,yQ=32,Xb=9,vQ=35,cxe=40,uxe=46,KP=123,HM=125,v9=39,w9=34,hxe=92,dxe=111,fxe=120,pxe=78,mxe=117,gxe=85,Oxe=new Set([_we,Twe,Pwe,rxe,jwe,sxe,Ewe,Awe,Dwe,Iwe,Nwe,y9,txe,nxe,Qwe,$we,oxe,axe,lxe,ixe]);function sk(n){return n==Nu||n==Dg}function ok(n){return n>=48&&n<=57||n>=65&&n<=70||n>=97&&n<=102}const yxe=new ur((n,e)=>{let t;if(n.next<0)n.acceptToken(xwe);else if(e.context.flags&fv)sk(n.next)&&n.acceptToken(wwe,1);else if(((t=n.peek(-1))<0||sk(t))&&e.canShift(GM)){let r=0;for(;n.next==yQ||n.next==Xb;)n.advance(),r++;(n.next==Nu||n.next==Dg||n.next==vQ)&&n.acceptToken(GM,-r)}else sk(n.next)&&n.acceptToken(vwe,1)},{contextual:!0}),vxe=new ur((n,e)=>{let t=e.context;if(t.flags)return;let r=n.peek(-1);if(r==Nu||r==Dg){let i=0,s=0;for(;;){if(n.next==yQ)i++;else if(n.next==Xb)i+=8-i%8;else break;n.advance(),s++}i!=t.indent&&n.next!=Nu&&n.next!=Dg&&n.next!=vQ&&(i<t.indent?n.acceptToken(g9,-s):n.acceptToken(m9))}}),fv=1,x9=2,Jo=4,ea=8,ta=16,na=32;function pv(n,e,t){this.parent=n,this.indent=e,this.flags=t,this.hash=(n?n.hash+n.hash<<8:0)+e+(e<<4)+t+(t<<6)}const wxe=new pv(null,0,0);function xxe(n){let e=0;for(let t=0;t<n.length;t++)e+=n.charCodeAt(t)==Xb?8-e%8:1;return e}const KM=new Map([[Vwe,0],[Lwe,Jo],[zwe,ea],[Uwe,ea|Jo],[qwe,ta],[Zwe,ta|Jo],[Bwe,ta|ea],[Fwe,ta|ea|Jo],[Wwe,na],[Xwe,na|Jo],[Gwe,na|ea],[Ywe,na|ea|Jo],[Hwe,na|ta],[Kwe,na|ta|Jo],[Jwe,na|ta|ea],[exe,na|ta|ea|Jo]].map(([n,e])=>[n,e|x9])),bxe=new dQ({start:wxe,reduce(n,e,t,r){return n.flags&fv&&Oxe.has(e)||(e==Mwe||e==y9)&&n.flags&x9?n.parent:n},shift(n,e,t,r){return e==m9?new pv(n,xxe(r.read(r.pos,t.pos)),0):e==g9?n.parent:e==kwe||e==Cwe||e==Rwe||e==O9?new pv(n,0,fv):KM.has(e)?new pv(n,0,KM.get(e)|n.flags&fv):n},hash(n){return n.hash}}),Sxe=new ur(n=>{for(let e=0;e<5;e++){if(n.next!="print".charCodeAt(e))return;n.advance()}if(!/\w/.test(String.fromCharCode(n.next)))for(let e=0;;e++){let t=n.peek(e);if(!(t==yQ||t==Xb)){t!=cxe&&t!=uxe&&t!=Nu&&t!=Dg&&t!=vQ&&n.acceptToken(ywe);return}}}),kxe=new ur((n,e)=>{let{flags:t}=e.context,r=t&Jo?w9:v9,i=(t&ea)>0,s=!(t&ta),o=(t&na)>0,a=n.pos;for(;!(n.next<0);)if(o&&n.next==KP)if(n.peek(1)==KP)n.advance(2);else{if(n.pos==a){n.acceptToken(O9,1);return}break}else if(s&&n.next==hxe){if(n.pos==a){n.advance();let l=n.next;l>=0&&(n.advance(),_xe(n,l)),n.acceptToken(Swe);return}break}else if(n.next==r&&(!i||n.peek(1)==r&&n.peek(2)==r)){if(n.pos==a){n.acceptToken(YM,i?3:1);return}break}else if(n.next==Nu){if(i)n.advance();else if(n.pos==a){n.acceptToken(YM);return}break}else n.advance();n.pos>a&&n.acceptToken(bwe)});function _xe(n,e){if(e==dxe)for(let t=0;t<2&&n.next>=48&&n.next<=55;t++)n.advance();else if(e==fxe)for(let t=0;t<2&&ok(n.next);t++)n.advance();else if(e==mxe)for(let t=0;t<4&&ok(n.next);t++)n.advance();else if(e==gxe)for(let t=0;t<8&&ok(n.next);t++)n.advance();else if(e==pxe&&n.next==KP){for(n.advance();n.next>=0&&n.next!=HM&&n.next!=v9&&n.next!=w9&&n.next!=Nu;)n.advance();n.next==HM&&n.advance()}}const Txe=Ni({'async "*" "**" FormatConversion FormatSpec':N.modifier,"for while if elif else try except finally return raise break continue with pass assert await yield match case":N.controlKeyword,"in not and or is del":N.operatorKeyword,"from def class global nonlocal lambda":N.definitionKeyword,import:N.moduleKeyword,"with as print":N.keyword,Boolean:N.bool,None:N.null,VariableName:N.variableName,"CallExpression/VariableName":N.function(N.variableName),"FunctionDefinition/VariableName":N.function(N.definition(N.variableName)),"ClassDefinition/VariableName":N.definition(N.className),PropertyName:N.propertyName,"CallExpression/MemberExpression/PropertyName":N.function(N.propertyName),Comment:N.lineComment,Number:N.number,String:N.string,FormatString:N.special(N.string),Escape:N.escape,UpdateOp:N.updateOperator,"ArithOp!":N.arithmeticOperator,BitOp:N.bitwiseOperator,CompareOp:N.compareOperator,AssignOp:N.definitionOperator,Ellipsis:N.punctuation,At:N.meta,"( )":N.paren,"[ ]":N.squareBracket,"{ }":N.brace,".":N.derefOperator,", ;":N.separator}),Pxe={__proto__:null,await:44,or:54,and:56,in:60,not:62,is:64,if:70,else:72,lambda:76,yield:94,from:96,async:102,for:104,None:162,True:164,False:164,del:178,pass:182,break:186,continue:190,return:194,raise:202,import:206,as:208,global:212,nonlocal:214,assert:218,type:223,elif:236,while:240,try:246,except:248,finally:250,with:254,def:258,class:268,match:279,case:285},Cxe=Ia.deserialize({version:14,states:"##jO`QeOOP$}OSOOO&WQtO'#HUOOQS'#Co'#CoOOQS'#Cp'#CpO'vQdO'#CnO*UQtO'#HTOOQS'#HU'#HUOOQS'#DU'#DUOOQS'#HT'#HTO*rQdO'#D_O+VQdO'#DfO+gQdO'#DjO+zOWO'#DuO,VOWO'#DvO.[QtO'#GuOOQS'#Gu'#GuO'vQdO'#GtO0ZQtO'#GtOOQS'#Eb'#EbO0rQdO'#EcOOQS'#Gs'#GsO0|QdO'#GrOOQV'#Gr'#GrO1XQdO'#FYOOQS'#G^'#G^O1^QdO'#FXOOQV'#IS'#ISOOQV'#Gq'#GqOOQV'#Fq'#FqQ`QeOOO'vQdO'#CqO1lQdO'#C}O1sQdO'#DRO2RQdO'#HYO2cQtO'#EVO'vQdO'#EWOOQS'#EY'#EYOOQS'#E['#E[OOQS'#E^'#E^O2wQdO'#E`O3_QdO'#EdO3rQdO'#EfO3zQtO'#EfO1XQdO'#EiO0rQdO'#ElO1XQdO'#EnO0rQdO'#EtO0rQdO'#EwO4VQdO'#EyO4^QdO'#FOO4iQdO'#EzO0rQdO'#FOO1XQdO'#FQO1XQdO'#FVO4nQdO'#F[P4uOdO'#GpPOOO)CBd)CBdOOQS'#Ce'#CeOOQS'#Cf'#CfOOQS'#Cg'#CgOOQS'#Ch'#ChOOQS'#Ci'#CiOOQS'#Cj'#CjOOQS'#Cl'#ClO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO5TQdO'#DoOOQS,5:Y,5:YO5hQdO'#HdOOQS,5:],5:]O5uQ!fO,5:]O5zQtO,59YO1lQdO,59bO1lQdO,59bO1lQdO,59bO8jQdO,59bO8oQdO,59bO8vQdO,59jO8}QdO'#HTO:TQdO'#HSOOQS'#HS'#HSOOQS'#D['#D[O:lQdO,59aO'vQdO,59aO:zQdO,59aOOQS,59y,59yO;PQdO,5:RO'vQdO,5:ROOQS,5:Q,5:QO;_QdO,5:QO;dQdO,5:XO'vQdO,5:XO'vQdO,5:VOOQS,5:U,5:UO;uQdO,5:UO;zQdO,5:WOOOW'#Fy'#FyO<POWO,5:aOOQS,5:a,5:aO<[QdO'#HwOOOW'#Dw'#DwOOOW'#Fz'#FzO<lOWO,5:bOOQS,5:b,5:bOOQS'#F}'#F}O<zQtO,5:iO?lQtO,5=`O@VQ#xO,5=`O@vQtO,5=`OOQS,5:},5:}OA_QeO'#GWOBqQdO,5;^OOQV,5=^,5=^OB|QtO'#IPOCkQdO,5;tOOQS-E:[-E:[OOQV,5;s,5;sO4dQdO'#FQOOQV-E9o-E9oOCsQtO,59]OEzQtO,59iOFeQdO'#HVOFpQdO'#HVO1XQdO'#HVOF{QdO'#DTOGTQdO,59mOGYQdO'#HZO'vQdO'#HZO0rQdO,5=tOOQS,5=t,5=tO0rQdO'#EROOQS'#ES'#ESOGwQdO'#GPOHXQdO,58|OHXQdO,58|O*xQdO,5:oOHgQtO'#H]OOQS,5:r,5:rOOQS,5:z,5:zOHzQdO,5;OOI]QdO'#IOO1XQdO'#H}OOQS,5;Q,5;QOOQS'#GT'#GTOIqQtO,5;QOJPQdO,5;QOJUQdO'#IQOOQS,5;T,5;TOJdQdO'#H|OOQS,5;W,5;WOJuQdO,5;YO4iQdO,5;`O4iQdO,5;cOJ}QtO'#ITO'vQdO'#ITOKXQdO,5;eO4VQdO,5;eO0rQdO,5;jO1XQdO,5;lOK^QeO'#EuOLjQgO,5;fO!!kQdO'#IUO4iQdO,5;jO!!vQdO,5;lO!#OQdO,5;qO!#ZQtO,5;vO'vQdO,5;vPOOO,5=[,5=[P!#bOSO,5=[P!#jOdO,5=[O!&bQtO1G.jO!&iQtO1G.jO!)YQtO1G.jO!)dQtO1G.jO!+}QtO1G.jO!,bQtO1G.jO!,uQdO'#HcO!-TQtO'#GuO0rQdO'#HcO!-_QdO'#HbOOQS,5:Z,5:ZO!-gQdO,5:ZO!-lQdO'#HeO!-wQdO'#HeO!.[QdO,5>OOOQS'#Ds'#DsOOQS1G/w1G/wOOQS1G.|1G.|O!/[QtO1G.|O!/cQtO1G.|O1lQdO1G.|O!0OQdO1G/UOOQS'#DZ'#DZO0rQdO,59tOOQS1G.{1G.{O!0VQdO1G/eO!0gQdO1G/eO!0oQdO1G/fO'vQdO'#H[O!0tQdO'#H[O!0yQtO1G.{O!1ZQdO,59iO!2aQdO,5=zO!2qQdO,5=zO!2yQdO1G/mO!3OQtO1G/mOOQS1G/l1G/lO!3`QdO,5=uO!4VQdO,5=uO0rQdO1G/qO!4tQdO1G/sO!4yQtO1G/sO!5ZQtO1G/qOOQS1G/p1G/pOOQS1G/r1G/rOOOW-E9w-E9wOOQS1G/{1G/{O!5kQdO'#HxO0rQdO'#HxO!5|QdO,5>cOOOW-E9x-E9xOOQS1G/|1G/|OOQS-E9{-E9{O!6[Q#xO1G2zO!6{QtO1G2zO'vQdO,5<jOOQS,5<j,5<jOOQS-E9|-E9|OOQS,5<r,5<rOOQS-E:U-E:UOOQV1G0x1G0xO1XQdO'#GRO!7dQtO,5>kOOQS1G1`1G1`O!8RQdO1G1`OOQS'#DV'#DVO0rQdO,5=qOOQS,5=q,5=qO!8WQdO'#FrO!8cQdO,59oO!8kQdO1G/XO!8uQtO,5=uOOQS1G3`1G3`OOQS,5:m,5:mO!9fQdO'#GtOOQS,5<k,5<kOOQS-E9}-E9}O!9wQdO1G.hOOQS1G0Z1G0ZO!:VQdO,5=wO!:gQdO,5=wO0rQdO1G0jO0rQdO1G0jO!:xQdO,5>jO!;ZQdO,5>jO1XQdO,5>jO!;lQdO,5>iOOQS-E:R-E:RO!;qQdO1G0lO!;|QdO1G0lO!<RQdO,5>lO!<aQdO,5>lO!<oQdO,5>hO!=VQdO,5>hO!=hQdO'#EpO0rQdO1G0tO!=sQdO1G0tO!=xQgO1G0zO!AvQgO1G0}O!EqQdO,5>oO!E{QdO,5>oO!FTQtO,5>oO0rQdO1G1PO!F_QdO1G1PO4iQdO1G1UO!!vQdO1G1WOOQV,5;a,5;aO!FdQfO,5;aO!FiQgO1G1QO!JjQdO'#GZO4iQdO1G1QO4iQdO1G1QO!JzQdO,5>pO!KXQdO,5>pO1XQdO,5>pOOQV1G1U1G1UO!KaQdO'#FSO!KrQ!fO1G1WO!KzQdO1G1WOOQV1G1]1G1]O4iQdO1G1]O!LPQdO1G1]O!LXQdO'#F^OOQV1G1b1G1bO!#ZQtO1G1bPOOO1G2v1G2vP!L^OSO1G2vOOQS,5=},5=}OOQS'#Dp'#DpO0rQdO,5=}O!LfQdO,5=|O!LyQdO,5=|OOQS1G/u1G/uO!MRQdO,5>PO!McQdO,5>PO!MkQdO,5>PO!NOQdO,5>PO!N`QdO,5>POOQS1G3j1G3jOOQS7+$h7+$hO!8kQdO7+$pO#!RQdO1G.|O#!YQdO1G.|OOQS1G/`1G/`OOQS,5<`,5<`O'vQdO,5<`OOQS7+%P7+%PO#!aQdO7+%POOQS-E9r-E9rOOQS7+%Q7+%QO#!qQdO,5=vO'vQdO,5=vOOQS7+$g7+$gO#!vQdO7+%PO##OQdO7+%QO##TQdO1G3fOOQS7+%X7+%XO##eQdO1G3fO##mQdO7+%XOOQS,5<_,5<_O'vQdO,5<_O##rQdO1G3aOOQS-E9q-E9qO#$iQdO7+%]OOQS7+%_7+%_O#$wQdO1G3aO#%fQdO7+%_O#%kQdO1G3gO#%{QdO1G3gO#&TQdO7+%]O#&YQdO,5>dO#&sQdO,5>dO#&sQdO,5>dOOQS'#Dx'#DxO#'UO&jO'#DzO#'aO`O'#HyOOOW1G3}1G3}O#'fQdO1G3}O#'nQdO1G3}O#'yQ#xO7+(fO#(jQtO1G2UP#)TQdO'#GOOOQS,5<m,5<mOOQS-E:P-E:POOQS7+&z7+&zOOQS1G3]1G3]OOQS,5<^,5<^OOQS-E9p-E9pOOQS7+$s7+$sO#)bQdO,5=`O#){QdO,5=`O#*^QtO,5<aO#*qQdO1G3cOOQS-E9s-E9sOOQS7+&U7+&UO#+RQdO7+&UO#+aQdO,5<nO#+uQdO1G4UOOQS-E:Q-E:QO#,WQdO1G4UOOQS1G4T1G4TOOQS7+&W7+&WO#,iQdO7+&WOOQS,5<p,5<pO#,tQdO1G4WOOQS-E:S-E:SOOQS,5<l,5<lO#-SQdO1G4SOOQS-E:O-E:OO1XQdO'#EqO#-jQdO'#EqO#-uQdO'#IRO#-}QdO,5;[OOQS7+&`7+&`O0rQdO7+&`O#.SQgO7+&fO!JmQdO'#GXO4iQdO7+&fO4iQdO7+&iO#2QQtO,5<tO'vQdO,5<tO#2[QdO1G4ZOOQS-E:W-E:WO#2fQdO1G4ZO4iQdO7+&kO0rQdO7+&kOOQV7+&p7+&pO!KrQ!fO7+&rO!KzQdO7+&rO`QeO1G0{OOQV-E:X-E:XO4iQdO7+&lO4iQdO7+&lOOQV,5<u,5<uO#2nQdO,5<uO!JmQdO,5<uOOQV7+&l7+&lO#2yQgO7+&lO#6tQdO,5<vO#7PQdO1G4[OOQS-E:Y-E:YO#7^QdO1G4[O#7fQdO'#IWO#7tQdO'#IWO1XQdO'#IWOOQS'#IW'#IWO#8PQdO'#IVOOQS,5;n,5;nO#8XQdO,5;nO0rQdO'#FUOOQV7+&r7+&rO4iQdO7+&rOOQV7+&w7+&wO4iQdO7+&wO#8^QfO,5;xOOQV7+&|7+&|POOO7+(b7+(bO#8cQdO1G3iOOQS,5<c,5<cO#8qQdO1G3hOOQS-E9u-E9uO#9UQdO,5<dO#9aQdO,5<dO#9tQdO1G3kOOQS-E9v-E9vO#:UQdO1G3kO#:^QdO1G3kO#:nQdO1G3kO#:UQdO1G3kOOQS<<H[<<H[O#:yQtO1G1zOOQS<<Hk<<HkP#;WQdO'#FtO8vQdO1G3bO#;eQdO1G3bO#;jQdO<<HkOOQS<<Hl<<HlO#;zQdO7+)QOOQS<<Hs<<HsO#<[QtO1G1yP#<{QdO'#FsO#=YQdO7+)RO#=jQdO7+)RO#=rQdO<<HwO#=wQdO7+({OOQS<<Hy<<HyO#>nQdO,5<bO'vQdO,5<bOOQS-E9t-E9tOOQS<<Hw<<HwOOQS,5<g,5<gO0rQdO,5<gO#>sQdO1G4OOOQS-E9y-E9yO#?^QdO1G4OO<[QdO'#H{OOOO'#D{'#D{OOOO'#F|'#F|O#?oO&jO,5:fOOOW,5>e,5>eOOOW7+)i7+)iO#?zQdO7+)iO#@SQdO1G2zO#@mQdO1G2zP'vQdO'#FuO0rQdO<<IpO1XQdO1G2YP1XQdO'#GSO#AOQdO7+)pO#AaQdO7+)pOOQS<<Ir<<IrP1XQdO'#GUP0rQdO'#GQOOQS,5;],5;]O#ArQdO,5>mO#BQQdO,5>mOOQS1G0v1G0vOOQS<<Iz<<IzOOQV-E:V-E:VO4iQdO<<JQOOQV,5<s,5<sO4iQdO,5<sOOQV<<JQ<<JQOOQV<<JT<<JTO#BYQtO1G2`P#BdQdO'#GYO#BkQdO7+)uO#BuQgO<<JVO4iQdO<<JVOOQV<<J^<<J^O4iQdO<<J^O!KrQ!fO<<J^O#FpQgO7+&gOOQV<<JW<<JWO#FzQgO<<JWOOQV1G2a1G2aO1XQdO1G2aO#JuQdO1G2aO4iQdO<<JWO1XQdO1G2bP0rQdO'#G[O#KQQdO7+)vO#K_QdO7+)vOOQS'#FT'#FTO0rQdO,5>rO#KgQdO,5>rO#KrQdO,5>rO#K}QdO,5>qO#L`QdO,5>qOOQS1G1Y1G1YOOQS,5;p,5;pOOQV<<Jc<<JcO#LhQdO1G1dOOQS7+)T7+)TP#LmQdO'#FwO#L}QdO1G2OO#MbQdO1G2OO#MrQdO1G2OP#M}QdO'#FxO#N[QdO7+)VO#NlQdO7+)VO#NlQdO7+)VO#NtQdO7+)VO$ UQdO7+(|O8vQdO7+(|OOQSAN>VAN>VO$ oQdO<<LmOOQSAN>cAN>cO0rQdO1G1|O$!PQtO1G1|P$!ZQdO'#FvOOQS1G2R1G2RP$!hQdO'#F{O$!uQdO7+)jO$#`QdO,5>gOOOO-E9z-E9zOOOW<<MT<<MTO$#nQdO7+(fOOQSAN?[AN?[OOQS7+'t7+'tO$$XQdO<<M[OOQS,5<q,5<qO$$jQdO1G4XOOQS-E:T-E:TOOQVAN?lAN?lOOQV1G2_1G2_O4iQdOAN?qO$$xQgOAN?qOOQVAN?xAN?xO4iQdOAN?xOOQV<<JR<<JRO4iQdOAN?rO4iQdO7+'{OOQV7+'{7+'{O1XQdO7+'{OOQVAN?rAN?rOOQS7+'|7+'|O$(sQdO<<MbOOQS1G4^1G4^O0rQdO1G4^OOQS,5<w,5<wO$)QQdO1G4]OOQS-E:Z-E:ZOOQU'#G_'#G_O$)cQfO7+'OO$)nQdO'#F_O$*uQdO7+'jO$+VQdO7+'jOOQS7+'j7+'jO$+bQdO<<LqO$+rQdO<<LqO$+rQdO<<LqO$+zQdO'#H^OOQS<<Lh<<LhO$,UQdO<<LhOOQS7+'h7+'hOOQS'#D|'#D|OOOO1G4R1G4RO$,oQdO1G4RO$,wQdO1G4RP!=hQdO'#GVOOQVG25]G25]O4iQdOG25]OOQVG25dG25dOOQVG25^G25^OOQV<<Kg<<KgO4iQdO<<KgOOQS7+)x7+)xP$-SQdO'#G]OOQU-E:]-E:]OOQV<<Jj<<JjO$-vQtO'#FaOOQS'#Fc'#FcO$.WQdO'#FbO$.xQdO'#FbOOQS'#Fb'#FbO$.}QdO'#IYO$)nQdO'#FiO$)nQdO'#FiO$/fQdO'#FjO$)nQdO'#FkO$/mQdO'#IZOOQS'#IZ'#IZO$0[QdO,5;yOOQS<<KU<<KUO$0dQdO<<KUO$0tQdOANB]O$1UQdOANB]O$1^QdO'#H_OOQS'#H_'#H_O1sQdO'#DcO$1wQdO,5=xOOQSANBSANBSOOOO7+)m7+)mO$2`QdO7+)mOOQVLD*wLD*wOOQVANARANARO5uQ!fO'#GaO$2hQtO,5<SO$)nQdO'#FmOOQS,5<W,5<WOOQS'#Fd'#FdO$3YQdO,5;|O$3_QdO,5;|OOQS'#Fg'#FgO$)nQdO'#G`O$4PQdO,5<QO$4kQdO,5>tO$4{QdO,5>tO1XQdO,5<PO$5^QdO,5<TO$5cQdO,5<TO$)nQdO'#I[O$5hQdO'#I[O$5mQdO,5<UOOQS,5<V,5<VO'vQdO'#FpOOQU1G1e1G1eO4iQdO1G1eOOQSAN@pAN@pO$5rQdOG27wO$6SQdO,59}OOQS1G3d1G3dOOOO<<MX<<MXOOQS,5<{,5<{OOQS-E:_-E:_O$6XQtO'#FaO$6`QdO'#I]O$6nQdO'#I]O$6vQdO,5<XOOQS1G1h1G1hO$6{QdO1G1hO$7QQdO,5<zOOQS-E:^-E:^O$7lQdO,5=OO$8TQdO1G4`OOQS-E:b-E:bOOQS1G1k1G1kOOQS1G1o1G1oO$8eQdO,5>vO$)nQdO,5>vOOQS1G1p1G1pO$8sQtO,5<[OOQU7+'P7+'PO$+zQdO1G/iO$)nQdO,5<YO$8zQdO,5>wO$9RQdO,5>wOOQS1G1s1G1sOOQS7+'S7+'SP$)nQdO'#GdO$9ZQdO1G4bO$9eQdO1G4bO$9mQdO1G4bOOQS7+%T7+%TO$9{QdO1G1tO$:ZQtO'#FaO$:bQdO,5<}OOQS,5<},5<}O$:pQdO1G4cOOQS-E:a-E:aO$)nQdO,5<|O$:wQdO,5<|O$:|QdO7+)|OOQS-E:`-E:`O$;WQdO7+)|O$)nQdO,5<ZP$)nQdO'#GcO$;`QdO1G2hO$)nQdO1G2hP$;nQdO'#GbO$;uQdO<<MhO$<PQdO1G1uO$<_QdO7+(SO8vQdO'#C}O8vQdO,59bO8vQdO,59bO8vQdO,59bO$<mQtO,5=`O8vQdO1G.|O0rQdO1G/XO0rQdO7+$pP$=QQdO'#GOO'vQdO'#GtO$=_QdO,59bO$=dQdO,59bO$=kQdO,59mO$=pQdO1G/UO1sQdO'#DRO8vQdO,59j",stateData:"$>Z~O%cOS%^OSSOS%]PQ~OPdOVaOfoOhYOopOs!POvqO!PrO!Q{O!T!SO!U!RO!XZO!][O!h`O!r`O!s`O!t`O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO#l!QO#o!TO#s!UO#u!VO#z!WO#}hO$P!XO%oRO%pRO%tSO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O~O%]!YO~OV!aO_!aOa!bOh!iO!X!kO!f!mO%j![O%k!]O%l!^O%m!_O%n!_O%o!`O%p!`O%q!aO%r!aO%s!aO~Ok%xXl%xXm%xXn%xXo%xXp%xXs%xXz%xX{%xX!x%xX#g%xX%[%xX%_%xX%z%xXg%xX!T%xX!U%xX%{%xX!W%xX![%xX!Q%xX#[%xXt%xX!m%xX~P%SOfoOhYO!XZO!][O!h`O!r`O!s`O!t`O%oRO%pRO%tSO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O~Oz%wX{%wX#g%wX%[%wX%_%wX%z%wX~Ok!pOl!qOm!oOn!oOo!rOp!sOs!tO!x%wX~P)pOV!zOg!|Oo0cOv0qO!PrO~P'vOV#OOo0cOv0qO!W#PO~P'vOV#SOa#TOo0cOv0qO![#UO~P'vOQ#XO%`#XO%a#ZO~OQ#^OR#[O%`#^O%a#`O~OV%iX_%iXa%iXh%iXk%iXl%iXm%iXn%iXo%iXp%iXs%iXz%iX!X%iX!f%iX%j%iX%k%iX%l%iX%m%iX%n%iX%o%iX%p%iX%q%iX%r%iX%s%iXg%iX!T%iX!U%iX~O&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O{%iX!x%iX#g%iX%[%iX%_%iX%z%iX%{%iX!W%iX![%iX!Q%iX#[%iXt%iX!m%iX~P,eOz#dO{%hX!x%hX#g%hX%[%hX%_%hX%z%hX~Oo0cOv0qO~P'vO#g#gO%[#iO%_#iO~O%uWO~O!T#nO#u!VO#z!WO#}hO~OopO~P'vOV#sOa#tO%uWO{wP~OV#xOo0cOv0qO!Q#yO~P'vO{#{O!x$QO%z#|O#g!yX%[!yX%_!yX~OV#xOo0cOv0qO#g#SX%[#SX%_#SX~P'vOo0cOv0qO#g#WX%[#WX%_#WX~P'vOh$WO%uWO~O!f$YO!r$YO%uWO~OV$eO~P'vO!U$gO#s$hO#u$iO~O{$jO~OV$qO~P'vOS$sO%[$rO%_$rO%c$tO~OV$}Oa$}Og%POo0cOv0qO~P'vOo0cOv0qO{%SO~P'vO&Y%UO~Oa!bOh!iO!X!kO!f!mOVba_bakbalbambanbaobapbasbazba{ba!xba#gba%[ba%_ba%jba%kba%lba%mba%nba%oba%pba%qba%rba%sba%zbagba!Tba!Uba%{ba!Wba![ba!Qba#[batba!mba~On%ZO~Oo%ZO~P'vOo0cO~P'vOk0eOl0fOm0dOn0dOo0mOp0nOs0rOg%wX!T%wX!U%wX%{%wX!W%wX![%wX!Q%wX#[%wX!m%wX~P)pO%{%]Og%vXz%vX!T%vX!U%vX!W%vX{%vX~Og%_Oz%`O!T%dO!U%cO~Og%_O~Oz%gO!T%dO!U%cO!W&SX~O!W%kO~Oz%lO{%nO!T%dO!U%cO![%}X~O![%rO~O![%sO~OQ#XO%`#XO%a%uO~OV%wOo0cOv0qO!PrO~P'vOQ#^OR#[O%`#^O%a%zO~OV!qa_!qaa!qah!qak!qal!qam!qan!qao!qap!qas!qaz!qa{!qa!X!qa!f!qa!x!qa#g!qa%[!qa%_!qa%j!qa%k!qa%l!qa%m!qa%n!qa%o!qa%p!qa%q!qa%r!qa%s!qa%z!qag!qa!T!qa!U!qa%{!qa!W!qa![!qa!Q!qa#[!qat!qa!m!qa~P#yOz%|O{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~P%SOV&OOopOvqO{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~P'vOz%|O{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~OPdOVaOopOvqO!PrO!Q{O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO#g$zX%[$zX%_$zX~P'vO#g#gO%[&TO%_&TO~O!f&UOh&sX%[&sXz&sX#[&sX#g&sX%_&sX#Z&sXg&sX~Oh!iO%[&WO~Okealeameaneaoeapeaseazea{ea!xea#gea%[ea%_ea%zeagea!Tea!Uea%{ea!Wea![ea!Qea#[eatea!mea~P%SOsqazqa{qa#gqa%[qa%_qa%zqa~Ok!pOl!qOm!oOn!oOo!rOp!sO!xqa~PEcO%z&YOz%yX{%yX~O%uWOz%yX{%yX~Oz&]O{wX~O{&_O~Oz%lO#g%}X%[%}X%_%}Xg%}X{%}X![%}X!m%}X%z%}X~OV0lOo0cOv0qO!PrO~P'vO%z#|O#gUa%[Ua%_Ua~Oz&hO#g&PX%[&PX%_&PXn&PX~P%SOz&kO!Q&jO#g#Wa%[#Wa%_#Wa~Oz&lO#[&nO#g&rX%[&rX%_&rXg&rX~O!f$YO!r$YO#Z&qO%uWO~O#Z&qO~Oz&sO#g&tX%[&tX%_&tX~Oz&uO#g&pX%[&pX%_&pX{&pX~O!X&wO%z&xO~Oz&|On&wX~P%SOn'PO~OPdOVaOopOvqO!PrO!Q{O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO%['UO~P'vOt'YO#p'WO#q'XOP#naV#naf#nah#nao#nas#nav#na!P#na!Q#na!T#na!U#na!X#na!]#na!h#na!r#na!s#na!t#na!{#na!}#na#P#na#R#na#T#na#X#na#Z#na#^#na#_#na#a#na#c#na#l#na#o#na#s#na#u#na#z#na#}#na$P#na%X#na%o#na%p#na%t#na%u#na&Z#na&[#na&]#na&^#na&_#na&`#na&a#na&b#na&c#na&d#na&e#na&f#na&g#na&h#na&i#na&j#na%Z#na%_#na~Oz'ZO#[']O{&xX~Oh'_O!X&wO~Oh!iO{$jO!X&wO~O{'eO~P%SO%['hO%_'hO~OS'iO%['hO%_'hO~OV!aO_!aOa!bOh!iO!X!kO!f!mO%l!^O%m!_O%n!_O%o!`O%p!`O%q!aO%r!aO%s!aOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~O%k!]O~P!#uO%kWi~P!#uOV!aO_!aOa!bOh!iO!X!kO!f!mO%o!`O%p!`O%q!aO%r!aO%s!aOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%kWi%lWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~O%m!_O%n!_O~P!&pO%mWi%nWi~P!&pOa!bOh!iO!X!kO!f!mOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%kWi%lWi%mWi%nWi%oWi%pWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~OV!aO_!aO%q!aO%r!aO%s!aO~P!)nOVWi_Wi%qWi%rWi%sWi~P!)nO!T%dO!U%cOg&VXz&VX~O%z'kO%{'kO~P,eOz'mOg&UX~Og'oO~Oz'pO{'rO!W&XX~Oo0cOv0qOz'pO{'sO!W&XX~P'vO!W'uO~Om!oOn!oOo!rOp!sOkjisjizji{ji!xji#gji%[ji%_ji%zji~Ol!qO~P!.aOlji~P!.aOk0eOl0fOm0dOn0dOo0mOp0nO~Ot'wO~P!/jOV'|Og'}Oo0cOv0qO~P'vOg'}Oz(OO~Og(QO~O!U(SO~Og(TOz(OO!T%dO!U%cO~P%SOk0eOl0fOm0dOn0dOo0mOp0nOgqa!Tqa!Uqa%{qa!Wqa![qa!Qqa#[qatqa!mqa~PEcOV'|Oo0cOv0qO!W&Sa~P'vOz(WO!W&Sa~O!W(XO~Oz(WO!T%dO!U%cO!W&Sa~P%SOV(]Oo0cOv0qO![%}a#g%}a%[%}a%_%}ag%}a{%}a!m%}a%z%}a~P'vOz(^O![%}a#g%}a%[%}a%_%}ag%}a{%}a!m%}a%z%}a~O![(aO~Oz(^O!T%dO!U%cO![%}a~P%SOz(dO!T%dO!U%cO![&Ta~P%SOz(gO{&lX![&lX!m&lX%z&lX~O{(kO![(mO!m(nO%z(jO~OV&OOopOvqO{%hi!x%hi#g%hi%[%hi%_%hi%z%hi~P'vOz(pO{%hi!x%hi#g%hi%[%hi%_%hi%z%hi~O!f&UOh&sa%[&saz&sa#[&sa#g&sa%_&sa#Z&sag&sa~O%[(uO~OV#sOa#tO%uWO~Oz&]O{wa~OopOvqO~P'vOz(^O#g%}a%[%}a%_%}ag%}a{%}a![%}a!m%}a%z%}a~P%SOz(zO#g%hX%[%hX%_%hX%z%hX~O%z#|O#gUi%[Ui%_Ui~O#g&Pa%[&Pa%_&Pan&Pa~P'vOz(}O#g&Pa%[&Pa%_&Pan&Pa~O%uWO#g&ra%[&ra%_&rag&ra~Oz)SO#g&ra%[&ra%_&rag&ra~Og)VO~OV)WOh$WO%uWO~O#Z)XO~O%uWO#g&ta%[&ta%_&ta~Oz)ZO#g&ta%[&ta%_&ta~Oo0cOv0qO#g&pa%[&pa%_&pa{&pa~P'vOz)^O#g&pa%[&pa%_&pa{&pa~OV)`Oa)`O%uWO~O%z)eO~Ot)hO#j)gOP#hiV#hif#hih#hio#his#hiv#hi!P#hi!Q#hi!T#hi!U#hi!X#hi!]#hi!h#hi!r#hi!s#hi!t#hi!{#hi!}#hi#P#hi#R#hi#T#hi#X#hi#Z#hi#^#hi#_#hi#a#hi#c#hi#l#hi#o#hi#s#hi#u#hi#z#hi#}#hi$P#hi%X#hi%o#hi%p#hi%t#hi%u#hi&Z#hi&[#hi&]#hi&^#hi&_#hi&`#hi&a#hi&b#hi&c#hi&d#hi&e#hi&f#hi&g#hi&h#hi&i#hi&j#hi%Z#hi%_#hi~Ot)iOP#kiV#kif#kih#kio#kis#kiv#ki!P#ki!Q#ki!T#ki!U#ki!X#ki!]#ki!h#ki!r#ki!s#ki!t#ki!{#ki!}#ki#P#ki#R#ki#T#ki#X#ki#Z#ki#^#ki#_#ki#a#ki#c#ki#l#ki#o#ki#s#ki#u#ki#z#ki#}#ki$P#ki%X#ki%o#ki%p#ki%t#ki%u#ki&Z#ki&[#ki&]#ki&^#ki&_#ki&`#ki&a#ki&b#ki&c#ki&d#ki&e#ki&f#ki&g#ki&h#ki&i#ki&j#ki%Z#ki%_#ki~OV)kOn&wa~P'vOz)lOn&wa~Oz)lOn&wa~P%SOn)pO~O%Y)tO~Ot)wO#p'WO#q)vOP#niV#nif#nih#nio#nis#niv#ni!P#ni!Q#ni!T#ni!U#ni!X#ni!]#ni!h#ni!r#ni!s#ni!t#ni!{#ni!}#ni#P#ni#R#ni#T#ni#X#ni#Z#ni#^#ni#_#ni#a#ni#c#ni#l#ni#o#ni#s#ni#u#ni#z#ni#}#ni$P#ni%X#ni%o#ni%p#ni%t#ni%u#ni&Z#ni&[#ni&]#ni&^#ni&_#ni&`#ni&a#ni&b#ni&c#ni&d#ni&e#ni&f#ni&g#ni&h#ni&i#ni&j#ni%Z#ni%_#ni~OV)zOo0cOv0qO{$jO~P'vOo0cOv0qO{&xa~P'vOz*OO{&xa~OV*SOa*TOg*WO%q*UO%uWO~O{$jO&{*YO~Oh'_O~Oh!iO{$jO~O%[*_O~O%[*aO%_*aO~OV$}Oa$}Oo0cOv0qOg&Ua~P'vOz*dOg&Ua~Oo0cOv0qO{*gO!W&Xa~P'vOz*hO!W&Xa~Oo0cOv0qOz*hO{*kO!W&Xa~P'vOo0cOv0qOz*hO!W&Xa~P'vOz*hO{*kO!W&Xa~Om0dOn0dOo0mOp0nOgjikjisjizji!Tji!Uji%{ji!Wji{ji![ji#gji%[ji%_ji!Qji#[jitji!mji%zji~Ol0fO~P!NkOlji~P!NkOV'|Og*pOo0cOv0qO~P'vOn*rO~Og*pOz*tO~Og*uO~OV'|Oo0cOv0qO!W&Si~P'vOz*vO!W&Si~O!W*wO~OV(]Oo0cOv0qO![%}i#g%}i%[%}i%_%}ig%}i{%}i!m%}i%z%}i~P'vOz*zO!T%dO!U%cO![&Ti~Oz*}O![%}i#g%}i%[%}i%_%}ig%}i{%}i!m%}i%z%}i~O![+OO~Oa+QOo0cOv0qO![&Ti~P'vOz*zO![&Ti~O![+SO~OV+UOo0cOv0qO{&la![&la!m&la%z&la~P'vOz+VO{&la![&la!m&la%z&la~O!]+YO&n+[O![!nX~O![+^O~O{(kO![+_O~O{(kO![+_O!m+`O~OV&OOopOvqO{%hq!x%hq#g%hq%[%hq%_%hq%z%hq~P'vOz$ri{$ri!x$ri#g$ri%[$ri%_$ri%z$ri~P%SOV&OOopOvqO~P'vOV&OOo0cOv0qO#g%ha%[%ha%_%ha%z%ha~P'vOz+aO#g%ha%[%ha%_%ha%z%ha~Oz$ia#g$ia%[$ia%_$ian$ia~P%SO#g&Pi%[&Pi%_&Pin&Pi~P'vOz+dO#g#Wq%[#Wq%_#Wq~O#[+eOz$va#g$va%[$va%_$vag$va~O%uWO#g&ri%[&ri%_&rig&ri~Oz+gO#g&ri%[&ri%_&rig&ri~OV+iOh$WO%uWO~O%uWO#g&ti%[&ti%_&ti~Oo0cOv0qO#g&pi%[&pi%_&pi{&pi~P'vO{#{Oz#eX!W#eX~Oz+mO!W&uX~O!W+oO~Ot+rO#j)gOP#hqV#hqf#hqh#hqo#hqs#hqv#hq!P#hq!Q#hq!T#hq!U#hq!X#hq!]#hq!h#hq!r#hq!s#hq!t#hq!{#hq!}#hq#P#hq#R#hq#T#hq#X#hq#Z#hq#^#hq#_#hq#a#hq#c#hq#l#hq#o#hq#s#hq#u#hq#z#hq#}#hq$P#hq%X#hq%o#hq%p#hq%t#hq%u#hq&Z#hq&[#hq&]#hq&^#hq&_#hq&`#hq&a#hq&b#hq&c#hq&d#hq&e#hq&f#hq&g#hq&h#hq&i#hq&j#hq%Z#hq%_#hq~On$|az$|a~P%SOV)kOn&wi~P'vOz+yOn&wi~Oz,TO{$jO#[,TO~O#q,VOP#nqV#nqf#nqh#nqo#nqs#nqv#nq!P#nq!Q#nq!T#nq!U#nq!X#nq!]#nq!h#nq!r#nq!s#nq!t#nq!{#nq!}#nq#P#nq#R#nq#T#nq#X#nq#Z#nq#^#nq#_#nq#a#nq#c#nq#l#nq#o#nq#s#nq#u#nq#z#nq#}#nq$P#nq%X#nq%o#nq%p#nq%t#nq%u#nq&Z#nq&[#nq&]#nq&^#nq&_#nq&`#nq&a#nq&b#nq&c#nq&d#nq&e#nq&f#nq&g#nq&h#nq&i#nq&j#nq%Z#nq%_#nq~O#[,WOz%Oa{%Oa~Oo0cOv0qO{&xi~P'vOz,YO{&xi~O{#{O%z,[Og&zXz&zX~O%uWOg&zXz&zX~Oz,`Og&yX~Og,bO~O%Y,eO~O!T%dO!U%cOg&Viz&Vi~OV$}Oa$}Oo0cOv0qOg&Ui~P'vO{,hOz$la!W$la~Oo0cOv0qO{,iOz$la!W$la~P'vOo0cOv0qO{*gO!W&Xi~P'vOz,lO!W&Xi~Oo0cOv0qOz,lO!W&Xi~P'vOz,lO{,oO!W&Xi~Og$hiz$hi!W$hi~P%SOV'|Oo0cOv0qO~P'vOn,qO~OV'|Og,rOo0cOv0qO~P'vOV'|Oo0cOv0qO!W&Sq~P'vOz$gi![$gi#g$gi%[$gi%_$gig$gi{$gi!m$gi%z$gi~P%SOV(]Oo0cOv0qO~P'vOa+QOo0cOv0qO![&Tq~P'vOz,sO![&Tq~O![,tO~OV(]Oo0cOv0qO![%}q#g%}q%[%}q%_%}qg%}q{%}q!m%}q%z%}q~P'vO{,uO~OV+UOo0cOv0qO{&li![&li!m&li%z&li~P'vOz,zO{&li![&li!m&li%z&li~O!]+YO&n+[O![!na~O{(kO![,}O~OV&OOo0cOv0qO#g%hi%[%hi%_%hi%z%hi~P'vOz-OO#g%hi%[%hi%_%hi%z%hi~O%uWO#g&rq%[&rq%_&rqg&rq~Oz-RO#g&rq%[&rq%_&rqg&rq~OV)`Oa)`O%uWO!W&ua~Oz-TO!W&ua~On$|iz$|i~P%SOV)kO~P'vOV)kOn&wq~P'vOt-XOP#myV#myf#myh#myo#mys#myv#my!P#my!Q#my!T#my!U#my!X#my!]#my!h#my!r#my!s#my!t#my!{#my!}#my#P#my#R#my#T#my#X#my#Z#my#^#my#_#my#a#my#c#my#l#my#o#my#s#my#u#my#z#my#}#my$P#my%X#my%o#my%p#my%t#my%u#my&Z#my&[#my&]#my&^#my&_#my&`#my&a#my&b#my&c#my&d#my&e#my&f#my&g#my&h#my&i#my&j#my%Z#my%_#my~O%Z-]O%_-]O~P`O#q-^OP#nyV#nyf#nyh#nyo#nys#nyv#ny!P#ny!Q#ny!T#ny!U#ny!X#ny!]#ny!h#ny!r#ny!s#ny!t#ny!{#ny!}#ny#P#ny#R#ny#T#ny#X#ny#Z#ny#^#ny#_#ny#a#ny#c#ny#l#ny#o#ny#s#ny#u#ny#z#ny#}#ny$P#ny%X#ny%o#ny%p#ny%t#ny%u#ny&Z#ny&[#ny&]#ny&^#ny&_#ny&`#ny&a#ny&b#ny&c#ny&d#ny&e#ny&f#ny&g#ny&h#ny&i#ny&j#ny%Z#ny%_#ny~Oz-aO{$jO#[-aO~Oo0cOv0qO{&xq~P'vOz-dO{&xq~O%z,[Og&zaz&za~O{#{Og&zaz&za~OV*SOa*TO%q*UO%uWOg&ya~Oz-hOg&ya~O$S-lO~OV$}Oa$}Oo0cOv0qO~P'vOo0cOv0qO{-mOz$li!W$li~P'vOo0cOv0qOz$li!W$li~P'vO{-mOz$li!W$li~Oo0cOv0qO{*gO~P'vOo0cOv0qO{*gO!W&Xq~P'vOz-pO!W&Xq~Oo0cOv0qOz-pO!W&Xq~P'vOs-sO!T%dO!U%cOg&Oq!W&Oq![&Oqz&Oq~P!/jOa+QOo0cOv0qO![&Ty~P'vOz$ji![$ji~P%SOa+QOo0cOv0qO~P'vOV+UOo0cOv0qO~P'vOV+UOo0cOv0qO{&lq![&lq!m&lq%z&lq~P'vO{(kO![-xO!m-yO%z-wO~OV&OOo0cOv0qO#g%hq%[%hq%_%hq%z%hq~P'vO%uWO#g&ry%[&ry%_&ryg&ry~OV)`Oa)`O%uWO!W&ui~Ot-}OP#m!RV#m!Rf#m!Rh#m!Ro#m!Rs#m!Rv#m!R!P#m!R!Q#m!R!T#m!R!U#m!R!X#m!R!]#m!R!h#m!R!r#m!R!s#m!R!t#m!R!{#m!R!}#m!R#P#m!R#R#m!R#T#m!R#X#m!R#Z#m!R#^#m!R#_#m!R#a#m!R#c#m!R#l#m!R#o#m!R#s#m!R#u#m!R#z#m!R#}#m!R$P#m!R%X#m!R%o#m!R%p#m!R%t#m!R%u#m!R&Z#m!R&[#m!R&]#m!R&^#m!R&_#m!R&`#m!R&a#m!R&b#m!R&c#m!R&d#m!R&e#m!R&f#m!R&g#m!R&h#m!R&i#m!R&j#m!R%Z#m!R%_#m!R~Oo0cOv0qO{&xy~P'vOV*SOa*TO%q*UO%uWOg&yi~O$S-lO%Z.VO%_.VO~OV.aOh._O!X.^O!].`O!h.YO!s.[O!t.[O%p.XO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O~Oo0cOv0qOz$lq!W$lq~P'vO{.fOz$lq!W$lq~Oo0cOv0qO{*gO!W&Xy~P'vOz.gO!W&Xy~Oo0cOv.kO~P'vOs-sO!T%dO!U%cOg&Oy!W&Oy![&Oyz&Oy~P!/jO{(kO![.nO~O{(kO![.nO!m.oO~OV*SOa*TO%q*UO%uWO~Oh.tO!f.rOz$TX#[$TX%j$TXg$TX~Os$TX{$TX!W$TX![$TX~P$-bO%o.vO%p.vOs$UXz$UX{$UX#[$UX%j$UX!W$UXg$UX![$UX~O!h.xO~Oz.|O#[/OO%j.yOs&|X{&|X!W&|Xg&|X~Oa/RO~P$)zOh.tOs&}Xz&}X{&}X#[&}X%j&}X!W&}Xg&}X![&}X~Os/VO{$jO~Oo0cOv0qOz$ly!W$ly~P'vOo0cOv0qO{*gO!W&X!R~P'vOz/ZO!W&X!R~Og&RXs&RX!T&RX!U&RX!W&RX![&RXz&RX~P!/jOs-sO!T%dO!U%cOg&Qa!W&Qa![&Qaz&Qa~O{(kO![/^O~O!f.rOh$[as$[az$[a{$[a#[$[a%j$[a!W$[ag$[a![$[a~O!h/eO~O%o.vO%p.vOs$Uaz$Ua{$Ua#[$Ua%j$Ua!W$Uag$Ua![$Ua~O%j.yOs$Yaz$Ya{$Ya#[$Ya!W$Yag$Ya![$Ya~Os&|a{&|a!W&|ag&|a~P$)nOz/jOs&|a{&|a!W&|ag&|a~O!W/mO~Og/mO~O{/oO~O![/pO~Oo0cOv0qO{*gO!W&X!Z~P'vO{/sO~O%z/tO~P$-bOz/uO#[/OO%j.yOg'PX~Oz/uOg'PX~Og/wO~O!h/xO~O#[/OOs%Saz%Sa{%Sa%j%Sa!W%Sag%Sa![%Sa~O#[/OO%j.yOs%Waz%Wa{%Wa!W%Wag%Wa~Os&|i{&|i!W&|ig&|i~P$)nOz/zO#[/OO%j.yO!['Oa~O{$da~P%SOg'Pa~P$)nOz0SOg'Pa~Oa0UO!['Oi~P$)zOz0WO!['Oi~Oz0WO#[/OO%j.yO!['Oi~O#[/OO%j.yOg$biz$bi~O%z0ZO~P$-bO#[/OO%j.yOg%Vaz%Va~Og'Pi~P$)nO{0^O~Oa0UO!['Oq~P$)zOz0`O!['Oq~O#[/OO%j.yOz%Ui![%Ui~Oa0UO~P$)zOa0UO!['Oy~P$)zO#[/OO%j.yOg$ciz$ci~O#[/OO%j.yOz%Uq![%Uq~Oz+aO#g%ha%[%ha%_%ha%z%ha~P%SOV&OOo0cOv0qO~P'vOn0hO~Oo0hO~P'vO{0iO~Ot0jO~P!/jO&]&Z&j&h&i&g&f&d&e&c&b&`&a&_&^&[%u~",goto:"!=o'QPPPPPP'RP'Z*s+]+v,b,}-kP.YP'Z.y.y'ZPPP'Z2cPPPPPP2c5VPP5VP7g7p=xPP={>m>pPP'Z'ZPP?PPP'Z'ZPP'Z'Z'Z'Z'Z?T?}'ZP@QP@WD_G{HPPHSH^Hb'ZPPPHeHq'RP'R'RP'RP'RP'RP'RP'R'R'RP'RPP'RPP'RP'RPHwITI]PIdIjPIdPIdIdPPPIdPKxPLRL]LcKxPIdLlPIdPLsLyPL}McNQNkL}L}Nq! OL}L}L}L}! d! j! m! r! u!!P!!V!!c!!u!!{!#V!#]!#y!$P!$V!$a!$g!$m!%P!%Z!%a!%g!%q!%w!%}!&T!&Z!&a!&k!&q!&{!'R!'[!'b!'q!'y!(T!([PPPPPPPPPPP!(b!(e!(k!(t!)O!)ZPPPPPPPPPPPP!-}!/c!3c!6sPP!6{!7[!7e!8^!8T!8g!8m!8p!8s!8v!9O!9oPPPPPPPPPPPPPPPPP!9r!9v!9|P!:b!:f!:r!:{!;X!;o!;r!;u!;{!<R!<X!<[P!<d!<m!=i!=l]eOn#g$j)t,P'}`OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0r}!cQ#c#p$R$d$p%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0g!P!dQ#c#p$R$d$p$u%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0g!R!eQ#c#p$R$d$p$u$v%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0g!T!fQ#c#p$R$d$p$u$v$w%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0g!V!gQ#c#p$R$d$p$u$v$w$x%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0g!X!hQ#c#p$R$d$p$u$v$w$x$y%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0g!]!hQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0g'}TOTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0r&cVOYZ[dnprxy}!P!Q!U!i!k!o!p!q!s!t#[#d#g#y#{#}$Q$h$j$}%S%Z%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/Z/s0c0d0e0f0h0i0j0k0n0r%mXOYZ[dnrxy}!P!Q!U!i!k#[#d#g#y#{#}$Q$h$j$}%S%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,s,u,w,y,z-O-d-f-m-p.f.g/Z0i0j0kQ#vqQ/[.kR0o0q't`OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rh#jhz{$W$Z&l&q)S)X+f+g-RW#rq&].k0qQ$]|Q$a!OQ$n!VQ$o!WW$|!i'm*d,gS&[#s#tQ'S$iQ(s&UQ)U&nU)Y&s)Z+jW)a&w+m-T-{Q*Q']W*R'_,`-h.TQ+l)`S,_*S*TQ-Q+eQ-_,TQ-c,WQ.R-al.W-l.^._.a.z.|/R/j/o/t/y0U0Z0^Q/S.`Q/a.tQ/l/OU0P/u0S0[X0V/z0W0_0`R&Z#r!_!wYZ!P!Q!k%S%`%g'p'r's(O(W)g*g*h*k*q*t*v,h,i,k,l,o-m-p.f.g/ZR%^!vQ!{YQ%x#[Q&d#}Q&g$QR,{+YT.j-s/s![!jQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0gQ&X#kQ'c$oR*^'dR'l$|Q%V!mR/_.r'|_OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rS#a_#b!P.[-l.^._.`.a.t.z.|/R/j/o/t/u/y/z0S0U0W0Z0[0^0_0`'|_OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rT#a_#bT#^^#_R(o%xa(l%x(n(o+`,{-y-z.oT+[(k+]R-z,{Q$PsQ+l)aQ,^*RR-e,_X#}s$O$P&fQ&y$aQ'a$nQ'd$oR)s'SQ)b&wV-S+m-T-{ZgOn$j)t,PXkOn)t,PQ$k!TQ&z$bQ&{$cQ'^$mQ'b$oQ)q'RQ)x'WQ){'XQ)|'YQ*Z'`S*]'c'dQ+s)gQ+u)hQ+v)iQ+z)oS+|)r*[Q,Q)vQ,R)wS,S)y)zQ,d*^Q-V+rQ-W+tQ-Y+{S-Z+},OQ-`,UQ-b,VQ-|-XQ.O-[Q.P-^Q.Q-_Q.p-}Q.q.RQ/W.dR/r/XWkOn)t,PR#mjQ'`$nS)r'S'aR,O)sQ,]*RR-f,^Q*['`Q+})rR-[,OZiOjn)t,PQ'f$pR*`'gT-j,e-ku.c-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^t.c-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^Q/S.`X0V/z0W0_0`!P.Z-l.^._.`.a.t.z.|/R/j/o/t/u/y/z0S0U0W0Z0[0^0_0`Q.w.YR/f.xg.z.].{/b/i/n/|0O0Q0]0a0bu.b-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^X.u.W.b/a0PR/c.tV0R/u0S0[R/X.dQnOS#on,PR,P)tQ&^#uR(x&^S%m#R#wS(_%m(bT(b%p&`Q%a!yQ%h!}W(P%a%h(U(YQ(U%eR(Y%jQ&i$RR)O&iQ(e%qQ*{(`T+R(e*{Q'n%OR*e'nS'q%R%SY*i'q*j,m-q.hU*j'r's'tU,m*k*l*mS-q,n,oR.h-rQ#Y]R%t#YQ#_^R%y#_Q(h%vS+W(h+XR+X(iQ+](kR,|+]Q#b_R%{#bQ#ebQ%}#cW&Q#e%}({+bQ({&cR+b0gQ$OsS&e$O&fR&f$PQ&v$_R)_&vQ&V#jR(t&VQ&m$VS)T&m+hR+h)UQ$Z{R&p$ZQ&t$]R)[&tQ+n)bR-U+nQ#hfR&S#hQ)f&zR+q)fQ&}$dS)m&})nR)n'OQ'V$kR)u'VQ'[$lS*P'[,ZR,Z*QQ,a*VR-i,aWjOn)t,PR#ljQ-k,eR.U-kd.{.]/b/i/n/|0O0Q0]0a0bR/h.{U.s.W/a0PR/`.sQ/{/nS0X/{0YR0Y/|S/v/b/cR0T/vQ.}.]R/k.}R!ZPXmOn)t,PWlOn)t,PR'T$jYfOn$j)t,PR&R#g[sOn#g$j)t,PR&d#}&bQOYZ[dnprxy}!P!Q!U!i!k!o!p!q!s!t#[#d#g#y#{#}$Q$h$j$}%S%Z%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/Z/s0c0d0e0f0h0i0j0k0n0rQ!nTQ#caQ#poU$Rt%c(SS$d!R$gQ$p!XQ$u!cQ$v!dQ$w!eQ$x!fQ$y!gQ$z!hQ%e!zQ%j#OQ%p#SQ%q#TQ&`#xQ'O$eQ'g$qQ(q&OU(|&h(}+cW)j&|)l+x+yQ*o'|Q*x(]Q+w)kQ,v+QQ/q/VR0g0lQ!yYQ!}ZQ$b!PQ$c!QQ%R!kQ't%S^'{%`%g(O(W*q*t*v^*f'p*h,k,l-p.g/ZQ*l'rQ*m'sQ+t)gQ,j*gQ,n*kQ-n,hQ-o,iQ-r,oQ.e-mR/Y.f[bOn#g$j)t,P!^!vYZ!P!Q!k%S%`%g'p'r's(O(W)g*g*h*k*q*t*v,h,i,k,l,o-m-p.f.g/ZQ#R[Q#fdS#wrxQ$UyW$_}$Q'P)pS$l!U$hW${!i'm*d,gS%v#[+Y`&P#d%|(p(r(z+a-O0kQ&a#yQ&b#{Q&c#}Q'j$}Q'z%^W([%l(^*y*}Q(`%nQ(i%wQ(v&ZS(y&_0iQ)P&jQ)Q&kU)]&u)^+kQ)d&xQ)y'WY)}'Z*O,X,Y-dQ*b'lS*n'w0jW+P(d*z,s,wW+T(g+V,y,zQ+p)eQ,U)zQ,c*YQ,x+UQ-P+dQ-e,]Q-v,uR.S-fhUOn#d#g$j%|&_'w(p(r)t,P%S!uYZ[drxy}!P!Q!U!i!k#[#y#{#}$Q$h$}%S%^%`%g%l%n%w&Z&j&k&u&x'P'W'Z'l'm'p'r's(O(W(^(d(g(z)^)e)g)p)z*O*Y*d*g*h*k*q*t*v*y*z*}+U+V+Y+a+d+k,X,Y,],g,h,i,k,l,o,s,u,w,y,z-O-d-f-m-p.f.g/Z0i0j0kQ#qpW%W!o!s0d0nQ%X!pQ%Y!qQ%[!tQ%f0cS'v%Z0hQ'x0eQ'y0fQ,p*rQ-u,qS.i-s/sR0p0rU#uq.k0qR(w&][cOn#g$j)t,PZ!xY#[#}$Q+YQ#W[Q#zrR$TxQ%b!yQ%i!}Q%o#RQ'j${Q(V%eQ(Z%jQ(c%pQ(f%qQ*|(`Q,f*bQ-t,pQ.m-uR/].lQ$StQ(R%cR*s(SQ.l-sR/}/sR#QZR#V[R%Q!iQ%O!iV*c'm*d,g!]!lQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0gR%T!kT#]^#_Q%x#[R,{+YQ(m%xS+_(n(oQ,}+`Q-x,{S.n-y-zR/^.oT+Z(k+]Q$`}Q&g$QQ)o'PR+{)pQ$XzQ)W&qR+i)XQ$XzQ&o$WQ)W&qR+i)XQ#khW$Vz$W&q)XQ$[{Q&r$ZZ)R&l)S+f+g-RR$^|R)c&wXlOn)t,PQ$f!RR'Q$gQ$m!UR'R$hR*X'_Q*V'_V-g,`-h.TQ.d-lQ/P.^R/Q._U.]-l.^._Q/U.aQ/b.tQ/g.zU/i.|/j/yQ/n/RQ/|/oQ0O/tU0Q/u0S0[Q0]0UQ0a0ZR0b0^R/T.`R/d.t",nodeNames:" print Escape { Comment Script AssignStatement * BinaryExpression BitOp BitOp BitOp BitOp ArithOp ArithOp @ ArithOp ** UnaryExpression ArithOp BitOp AwaitExpression await ) ( ParenthesizedExpression BinaryExpression or and CompareOp in not is UnaryExpression ConditionalExpression if else LambdaExpression lambda ParamList VariableName AssignOp , : NamedExpression AssignOp YieldExpression yield from TupleExpression ComprehensionExpression async for LambdaExpression ] [ ArrayExpression ArrayComprehensionExpression } { DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression CallExpression ArgList AssignOp MemberExpression . PropertyName Number String FormatString FormatReplacement FormatSelfDoc FormatConversion FormatSpec FormatReplacement FormatSelfDoc ContinuedString Ellipsis None Boolean TypeDef AssignOp UpdateStatement UpdateOp ExpressionStatement DeleteStatement del PassStatement pass BreakStatement break ContinueStatement continue ReturnStatement return YieldStatement PrintStatement RaiseStatement raise ImportStatement import as ScopeStatement global nonlocal AssertStatement assert TypeDefinition type TypeParamList TypeParam StatementGroup ; IfStatement Body elif WhileStatement while ForStatement TryStatement try except finally WithStatement with FunctionDefinition def ParamList AssignOp TypeDef ClassDefinition class DecoratedStatement Decorator At MatchStatement match MatchBody MatchClause case CapturePattern LiteralPattern ArithOp ArithOp AsPattern OrPattern LogicOp AttributePattern SequencePattern MappingPattern StarPattern ClassPattern PatternArgList KeywordPattern KeywordPattern Guard",maxTerm:277,context:bxe,nodeProps:[["isolate",-5,4,71,72,73,77,""],["group",-15,6,85,87,88,90,92,94,96,98,99,100,102,105,108,110,"Statement Statement",-22,8,18,21,25,40,49,50,56,57,60,61,62,63,64,67,70,71,72,79,80,81,82,"Expression",-10,114,116,119,121,122,126,128,133,135,138,"Statement",-9,143,144,147,148,150,151,152,153,154,"Pattern"],["openedBy",23,"(",54,"[",58,"{"],["closedBy",24,")",55,"]",59,"}"]],propSources:[Txe],skippedNodes:[0,4],repeatNodeCount:34,tokenData:"!2|~R!`OX%TXY%oY[%T[]%o]p%Tpq%oqr'ars)Yst*xtu%Tuv,dvw-hwx.Uxy/tyz0[z{0r{|2S|}2p}!O3W!O!P4_!P!Q:Z!Q!R;k!R![>_![!]Do!]!^Es!^!_FZ!_!`Gk!`!aHX!a!b%T!b!cIf!c!dJU!d!eK^!e!hJU!h!i!#f!i!tJU!t!u!,|!u!wJU!w!x!.t!x!}JU!}#O!0S#O#P&o#P#Q!0j#Q#R!1Q#R#SJU#S#T%T#T#UJU#U#VK^#V#YJU#Y#Z!#f#Z#fJU#f#g!,|#g#iJU#i#j!.t#j#oJU#o#p!1n#p#q!1s#q#r!2a#r#s!2f#s$g%T$g;'SJU;'S;=`KW<%lOJU`%YT&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T`%lP;=`<%l%To%v]&n`%c_OX%TXY%oY[%T[]%o]p%Tpq%oq#O%T#O#P&o#P#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To&tX&n`OY%TYZ%oZ]%T]^%o^#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc'f[&n`O!_%T!_!`([!`#T%T#T#U(r#U#f%T#f#g(r#g#h(r#h#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc(cTmR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc(yT!mR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk)aV&n`&[ZOr%Trs)vs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk){V&n`Or%Trs*bs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk*iT&n`&^ZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To+PZS_&n`OY*xYZ%TZ]*x]^%T^#o*x#o#p+r#p#q*x#q#r+r#r;'S*x;'S;=`,^<%lO*x_+wTS_OY+rZ]+r^;'S+r;'S;=`,W<%lO+r_,ZP;=`<%l+ro,aP;=`<%l*xj,kV%rQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj-XT!xY&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj-oV%lQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk.]V&n`&ZZOw%Twx.rx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk.wV&n`Ow%Twx/^x#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk/eT&n`&]ZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk/{ThZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc0cTgR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk0yXVZ&n`Oz%Tz{1f{!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk1mVaR&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk2ZV%oZ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc2wTzR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To3_W%pZ&n`O!_%T!_!`-Q!`!a3w!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Td4OT&{S&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk4fX!fQ&n`O!O%T!O!P5R!P!Q%T!Q![6T![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk5WV&n`O!O%T!O!P5m!P#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk5tT!rZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti6[a!hX&n`O!Q%T!Q![6T![!g%T!g!h7a!h!l%T!l!m9s!m#R%T#R#S6T#S#X%T#X#Y7a#Y#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti7fZ&n`O{%T{|8X|}%T}!O8X!O!Q%T!Q![8s![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti8^V&n`O!Q%T!Q![8s![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti8z]!hX&n`O!Q%T!Q![8s![!l%T!l!m9s!m#R%T#R#S8s#S#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti9zT!hX&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk:bX%qR&n`O!P%T!P!Q:}!Q!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj;UV%sQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti;ro!hX&n`O!O%T!O!P=s!P!Q%T!Q![>_![!d%T!d!e?q!e!g%T!g!h7a!h!l%T!l!m9s!m!q%T!q!rA]!r!z%T!z!{Bq!{#R%T#R#S>_#S#U%T#U#V?q#V#X%T#X#Y7a#Y#^%T#^#_9s#_#c%T#c#dA]#d#l%T#l#mBq#m#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti=xV&n`O!Q%T!Q![6T![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti>fc!hX&n`O!O%T!O!P=s!P!Q%T!Q![>_![!g%T!g!h7a!h!l%T!l!m9s!m#R%T#R#S>_#S#X%T#X#Y7a#Y#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti?vY&n`O!Q%T!Q!R@f!R!S@f!S#R%T#R#S@f#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti@mY!hX&n`O!Q%T!Q!R@f!R!S@f!S#R%T#R#S@f#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiAbX&n`O!Q%T!Q!YA}!Y#R%T#R#SA}#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiBUX!hX&n`O!Q%T!Q!YA}!Y#R%T#R#SA}#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiBv]&n`O!Q%T!Q![Co![!c%T!c!iCo!i#R%T#R#SCo#S#T%T#T#ZCo#Z#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiCv]!hX&n`O!Q%T!Q![Co![!c%T!c!iCo!i#R%T#R#SCo#S#T%T#T#ZCo#Z#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%ToDvV{_&n`O!_%T!_!`E]!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TcEdT%{R&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkEzT#gZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkFbXmR&n`O!^%T!^!_F}!_!`([!`!a([!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TjGUV%mQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkGrV%zZ&n`O!_%T!_!`([!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkH`WmR&n`O!_%T!_!`([!`!aHx!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TjIPV%nQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkIoV_Q#}P&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%ToJ_]&n`&YS%uZO!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUoKZP;=`<%lJUoKge&n`&YS%uZOr%Trs)Ysw%Twx.Ux!Q%T!Q![JU![!c%T!c!tJU!t!uLx!u!}JU!}#R%T#R#SJU#S#T%T#T#fJU#f#gLx#g#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUoMRa&n`&YS%uZOr%TrsNWsw%Twx! vx!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUkN_V&n`&`ZOr%TrsNts#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkNyV&n`Or%Trs! `s#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk! gT&n`&bZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk! }V&n`&_ZOw%Twx!!dx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!!iV&n`Ow%Twx!#Ox#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!#VT&n`&aZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!#oe&n`&YS%uZOr%Trs!%Qsw%Twx!&px!Q%T!Q![JU![!c%T!c!tJU!t!u!(`!u!}JU!}#R%T#R#SJU#S#T%T#T#fJU#f#g!(`#g#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!%XV&n`&dZOr%Trs!%ns#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!%sV&n`Or%Trs!&Ys#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!&aT&n`&fZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!&wV&n`&cZOw%Twx!'^x#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!'cV&n`Ow%Twx!'xx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!(PT&n`&eZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!(ia&n`&YS%uZOr%Trs!)nsw%Twx!+^x!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!)uV&n`&hZOr%Trs!*[s#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!*aV&n`Or%Trs!*vs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!*}T&n`&jZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!+eV&n`&gZOw%Twx!+zx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!,PV&n`Ow%Twx!,fx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!,mT&n`&iZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!-Vi&n`&YS%uZOr%TrsNWsw%Twx! vx!Q%T!Q![JU![!c%T!c!dJU!d!eLx!e!hJU!h!i!(`!i!}JU!}#R%T#R#SJU#S#T%T#T#UJU#U#VLx#V#YJU#Y#Z!(`#Z#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUo!.}a&n`&YS%uZOr%Trs)Ysw%Twx.Ux!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!0ZT!XZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc!0qT!WR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj!1XV%kQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T~!1sO!]~k!1zV%jR&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T~!2fO![~i!2mT%tX&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T",tokenizers:[Sxe,vxe,yxe,kxe,0,1,2,3,4],topRules:{Script:[0,5]},specialized:[{term:221,get:n=>Pxe[n]||-1}],tokenPrec:7675}),Exe=1024;let Axe=0,ak=class{constructor(e,t){this.from=e,this.to=t}},$t=class{constructor(e={}){this.id=Axe++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Eo.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}};$t.closedBy=new $t({deserialize:n=>n.split(" ")});$t.openedBy=new $t({deserialize:n=>n.split(" ")});$t.group=new $t({deserialize:n=>n.split(" ")});$t.isolate=new $t({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});$t.contextHash=new $t({perNode:!0});$t.lookAhead=new $t({perNode:!0});$t.mounted=new $t({perNode:!0});let fx=class{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[$t.mounted.id]}};const Rxe=Object.create(null);let Eo=class b9{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):Rxe,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new b9(e.name||"",t,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop($t.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop($t.group),s=-1;s<(i?i.length:0);s++){let o=t[s<0?r.name:i[s]];if(o)return o}}}};Eo.none=new Eo("",Object.create(null),0,8);const h0=new WeakMap,JM=new WeakMap;var Zn;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(Zn||(Zn={}));let _i=class JP{constructor(e,t,r,i,s){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=fx.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new tC(this.topNode,e)}cursorAt(e,t=0,r=0){let i=h0.get(this)||this.topNode,s=new tC(i);return s.moveTo(e,t),h0.set(this,s._tree),s}get topNode(){return new Ao(this,0,0,null)}resolve(e,t=0){let r=Mg(h0.get(this)||this.topNode,e,t,!1);return h0.set(this,r),r}resolveInner(e,t=0){let r=Mg(JM.get(this)||this.topNode,e,t,!0);return JM.set(this,r),r}resolveStack(e,t=0){return Nxe(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:s=this.length}=e,o=e.mode||0,a=(o&Zn.IncludeAnonymous)>0;for(let l=this.cursor(o|Zn.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=i&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:xQ(Eo.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new JP(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new JP(Eo.none,t,r,i)))}static build(e){return jxe(e)}};_i.empty=new _i(Eo.none,[],[],0);let Qxe=class S9{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new S9(this.buffer,this.index)}},Hd=class k9{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return Eo.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(_9(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,t,r){let i=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=i[a++],s[l++]=i[a++]-r;let c=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,c)}return new k9(s,o,this.set)}};function _9(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function Mg(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!r&&n instanceof Ao&&n.index<0?null:n.parent;if(!o)return n;n=o}let s=r?0:Zn.IgnoreOverlays;if(r)for(let o=n,a=o.parent;a;o=a,a=o.parent)o instanceof Ao&&o.index<0&&((i=a.enter(e,t,s))===null||i===void 0?void 0:i.from)!=o.from&&(n=a);for(;;){let o=n.enter(e,t,s);if(!o)return n;n=o}}let T9=class{cursor(e=0){return new tC(this,e)}getChild(e,t=null,r=null){let i=eV(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return eV(this,e,t,r)}resolve(e,t=0){return Mg(this,e,t,!1)}resolveInner(e,t=0){return Mg(this,e,t,!0)}matchContext(e){return eC(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}},Ao=class mv extends T9{constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=t>0?a.length:-1;e!=c;e+=t){let u=a[e],h=l[e]+o.from;if(_9(i,r,h,h+u.length)){if(u instanceof Hd){if(s&Zn.ExcludeBuffers)continue;let d=u.findChild(0,u.buffer.length,t,r-h,i);if(d>-1)return new Vg(new $xe(o,u,e,h),null,d)}else if(s&Zn.IncludeAnonymous||!u.type.isAnonymous||wQ(u)){let d;if(!(s&Zn.IgnoreMounts)&&(d=fx.get(u))&&!d.overlay)return new mv(d.tree,h,e,o);let m=new mv(u,h,e,o);return s&Zn.IncludeAnonymous||!m.type.isAnonymous?m:m.nextChild(t<0?u.children.length-1:0,t,r,i)}}}if(s&Zn.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&Zn.IgnoreOverlays)&&(i=fx.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:o,to:a}of i.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new mv(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function eV(n,e,t,r){let i=n.cursor(),s=[];if(!i.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=i.type.is(t),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function eC(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}let $xe=class{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}},Vg=class Fp extends T9{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return s<0?null:new Fp(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&Zn.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new Fp(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Fp(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Fp(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),t.push(0)}return new _i(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function P9(n){if(!n.length)return null;let e=0,t=n[0];for(let s=1;s<n.length;s++){let o=n[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let r=t instanceof Ao&&t.index<0?null:t.parent,i=n.slice();return r?i[e]=r:i.splice(e,1),new Ixe(i,t)}let Ixe=class{constructor(e,t){this.heads=e,this.node=t}get next(){return P9(this.heads)}};function Nxe(n,e,t){let r=n.resolveInner(e,t),i=null;for(let s=r instanceof Ao?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[r])).push(o.resolve(e,t)),s=o}else{let o=fx.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new Ao(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(Mg(a,e,t,!1))}}return i?P9(i):r}let tC=class{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Ao)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof Ao?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&Zn.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Zn.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Zn.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let s=t+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&Zn.IncludeAnonymous||a instanceof Hd||!a.type.isAnonymous||wQ(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;t=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)t=new Vg(this.buffer,t,this.stack[i]);return this.bufferNode=new Vg(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return eC(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return eC(this._tree,e,i);let o=r[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}};function wQ(n){return n.children.some(e=>e instanceof Hd||!e.type.isAnonymous||wQ(e))}function jxe(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=Exe,reused:s=[],minRepeatType:o=r.types.length}=n,a=Array.isArray(t)?new Qxe(t,t.length):t,l=r.types,c=0,u=0;function h(C,Q,O,_,x,A){let{id:T,start:w,end:R,size:j}=a,V=u,M=c;for(;j<0;)if(a.next(),j==-1){let X=s[T];O.push(X),_.push(w-C);return}else if(j==-3){c=T;return}else if(j==-4){u=T;return}else throw new RangeError(`Unrecognized record size: ${j}`);let Z=l[T],U,q,ne=w-C;if(R-w<=i&&(q=v(a.pos-Q,x))){let X=new Uint16Array(q.size-q.skip),F=a.pos-q.size,G=X.length;for(;a.pos>F;)G=S(q.start,X,G);U=new Hd(X,R-q.start,r),ne=q.start-C}else{let X=a.pos-j;a.next();let F=[],G=[],K=T>=o?T:-1,re=0,Se=R;for(;a.pos>X;)K>=0&&a.id==K&&a.size>=0?(a.end<=Se-i&&(g(F,G,w,re,a.end,Se,K,V,M),re=F.length,Se=a.end),a.next()):A>2500?d(w,X,F,G):h(w,X,F,G,K,A+1);if(K>=0&&re>0&&re<F.length&&g(F,G,w,re,w,Se,K,V,M),F.reverse(),G.reverse(),K>-1&&re>0){let le=m(Z,M);U=xQ(Z,F,G,0,F.length,0,R-w,le,le)}else U=y(Z,F,G,R-w,V-R,M)}O.push(U),_.push(ne)}function d(C,Q,O,_){let x=[],A=0,T=-1;for(;a.pos>Q;){let{id:w,start:R,end:j,size:V}=a;if(V>4)a.next();else{if(T>-1&&R<T)break;T<0&&(T=j-i),x.push(w,R,j),A++,a.next()}}if(A){let w=new Uint16Array(A*4),R=x[x.length-2];for(let j=x.length-3,V=0;j>=0;j-=3)w[V++]=x[j],w[V++]=x[j+1]-R,w[V++]=x[j+2]-R,w[V++]=V;O.push(new Hd(w,x[2]-R,r)),_.push(R-C)}}function m(C,Q){return(O,_,x)=>{let A=0,T=O.length-1,w,R;if(T>=0&&(w=O[T])instanceof _i){if(!T&&w.type==C&&w.length==x)return w;(R=w.prop($t.lookAhead))&&(A=_[T]+w.length+R)}return y(C,O,_,x,A,Q)}}function g(C,Q,O,_,x,A,T,w,R){let j=[],V=[];for(;C.length>_;)j.push(C.pop()),V.push(Q.pop()+O-x);C.push(y(r.types[T],j,V,A-x,w-A,R)),Q.push(x-O)}function y(C,Q,O,_,x,A,T){if(A){let w=[$t.contextHash,A];T=T?[w].concat(T):[w]}if(x>25){let w=[$t.lookAhead,x];T=T?[w].concat(T):[w]}return new _i(C,Q,O,_,T)}function v(C,Q){let O=a.fork(),_=0,x=0,A=0,T=O.end-i,w={size:0,start:0,skip:0};e:for(let R=O.pos-C;O.pos>R;){let j=O.size;if(O.id==Q&&j>=0){w.size=_,w.start=x,w.skip=A,A+=4,_+=4,O.next();continue}let V=O.pos-j;if(j<0||V<R||O.start<T)break;let M=O.id>=o?4:0,Z=O.start;for(O.next();O.pos>V;){if(O.size<0)if(O.size==-3)M+=4;else break e;else O.id>=o&&(M+=4);O.next()}x=Z,_+=j,A+=M}return(Q<0||_==C)&&(w.size=_,w.start=x,w.skip=A),w.size>4?w:void 0}function S(C,Q,O){let{id:_,start:x,end:A,size:T}=a;if(a.next(),T>=0&&_<o){let w=O;if(T>4){let R=a.pos-(T-4);for(;a.pos>R;)O=S(C,Q,O)}Q[--O]=w,Q[--O]=A-C,Q[--O]=x-C,Q[--O]=_}else T==-3?c=_:T==-4&&(u=_);return O}let b=[],k=[];for(;a.pos>0;)h(n.start||0,n.bufferStart||0,b,k,-1,0);let $=(e=n.length)!==null&&e!==void 0?e:b.length?k[0]+b[0].length:0;return new _i(l[n.topID],b.reverse(),k.reverse(),$)}const tV=new WeakMap;function gv(n,e){if(!n.isAnonymous||e instanceof Hd||e.type!=n)return 1;let t=tV.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof _i)){t=1;break}t+=gv(n,r)}tV.set(e,t)}return t}function xQ(n,e,t,r,i,s,o,a,l){let c=0;for(let g=r;g<i;g++)c+=gv(n,e[g]);let u=Math.ceil(c*1.5/8),h=[],d=[];function m(g,y,v,S,b){for(let k=v;k<S;){let $=k,C=y[k],Q=gv(n,g[k]);for(k++;k<S;k++){let O=gv(n,g[k]);if(Q+O>=u)break;Q+=O}if(k==$+1){if(Q>u){let O=g[$];m(O.children,O.positions,0,O.children.length,y[$]+b);continue}h.push(g[$])}else{let O=y[k-1]+g[k-1].length-C;h.push(xQ(n,g,y,$,k,C,O,null,l))}d.push(C+b-s)}}return m(e,t,r,i,0),(a||l)(h,d,o)}let Dxe=class{constructor(){this.map=new WeakMap}setBuffer(e,t,r){let i=this.map.get(e);i||this.map.set(e,i=new Map),i.set(t,r)}getBuffer(e,t){let r=this.map.get(e);return r&&r.get(t)}set(e,t){e instanceof Vg?this.setBuffer(e.context.buffer,e.index,t):e instanceof Ao&&this.map.set(e.tree,t)}get(e){return e instanceof Vg?this.getBuffer(e.context.buffer,e.index):e instanceof Ao?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}},Ov=class nC{constructor(e,t,r,i,s=!1,o=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],r=!1){let i=[new nC(0,e.length,e,0,!1,r)];for(let s of t)s.to>e.length&&i.push(s);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let u=a<t.length?t[a]:null,h=u?u.fromA:1e9;if(h-l>=r)for(;o&&o.from<h;){let d=o;if(l>=d.from||h<=d.to||c){let m=Math.max(d.from,l)-c,g=Math.min(d.to,h)-c;d=m>=g?null:new nC(m,g,d.tree,d.offset+c,a>0,!!u)}if(d&&i.push(d),o.to>h)break;o=s<e.length?e[s++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return i}},Mxe=class{startParse(e,t,r){return typeof e=="string"&&(e=new Vxe(e)),r=r?r.length?r.map(i=>new ak(i.from,i.to)):[new ak(0,0)]:[new ak(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let s=i.advance();if(s)return s}}},Vxe=class{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}};new $t({perNode:!0});var lk;const Rh=new $t;function Lxe(n){return ce.define({combine:n?e=>e.concat(n):void 0})}const zxe=new $t;let ms=class{constructor(e,t,r=[],i=""){this.data=e,this.name=i,Ne.prototype.hasOwnProperty("tree")||Object.defineProperty(Ne.prototype,"tree",{get(){return Lg(this)}}),this.parser=t,this.extension=[Kd.of(this),Ne.languageData.of((s,o,a)=>{let l=nV(s,o,a),c=l.type.prop(Rh);if(!c)return[];let u=s.facet(c),h=l.type.prop(zxe);if(h){let d=l.resolve(o-l.from,a);for(let m of h)if(m.test(d,s)){let g=s.facet(m.facet);return m.type=="replace"?g:g.concat(u)}}return u})].concat(r)}isActiveAt(e,t,r=-1){return nV(e,t,r).type.prop(Rh)==this.data}findRegions(e){let t=e.facet(Kd);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let r=[],i=(s,o)=>{if(s.prop(Rh)==this.data){r.push({from:o,to:o+s.length});return}let a=s.prop($t.mounted);if(a){if(a.tree.prop(Rh)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+o,to:l.to+o});else r.push({from:o,to:o+s.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+o),r.length>l)return}}for(let l=0;l<s.children.length;l++){let c=s.children[l];c instanceof _i&&i(c,s.positions[l]+o)}};return i(Lg(e),0),r}get allowsNesting(){return!0}};ms.setState=$e.define();function nV(n,e,t){let r=n.facet(Kd),i=Lg(n).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,t,Zn.ExcludeBuffers))s.type.isTop&&(i=s);return i}let Uxe=class rC extends ms{constructor(e,t,r){super(e,t,[],r),this.parser=t}static define(e){let t=Lxe(e.languageData);return new rC(t,e.parser.configure({props:[Rh.add(r=>r.isTop?t:void 0)]}),e.name)}configure(e,t){return new rC(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}};function Lg(n){let e=n.field(ms.state,!1);return e?e.tree:_i.empty}let qxe=class{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}},gp=null,Zxe=class iC{constructor(e,t,r=[],i,s,o,a,l){this.parser=e,this.state=t,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new iC(e,t,[],_i.empty,0,r,[],null)}startParse(){return this.parser.startParse(new qxe(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=_i.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(Ov.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Ov.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=gp;gp=this;try{return e()}finally{gp=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=rV(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:i,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,u,h,d)=>l.push({fromA:c,toA:u,fromB:h,toB:d})),r=Ov.applyChanges(r,l),i=_i.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),h=e.mapPos(c.to,-1);u<h&&a.push({from:u,to:h})}}}return new iC(this.parser,t,r,i,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=rV(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends Mxe{createParse(t,r,i){let s=i[0].from,o=i[i.length-1].to;return{parsedPos:s,advance(){let l=gp;if(l){for(let c of i)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new _i(Eo.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return gp}};function rV(n,e,t){return Ov.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}let sC=class oC{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new oC(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=Zxe.create(e.facet(Kd).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new oC(r)}};ms.state=Bt.define({create:sC.init,update(n,e){for(let t of e.effects)if(t.is(ms.setState))return t.value;return e.startState.facet(Kd)!=e.state.facet(Kd)?sC.init(e.state):n.apply(e)}});let C9=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(C9=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const ck=typeof navigator<"u"&&(!((lk=navigator.scheduling)===null||lk===void 0)&&lk.isInputPending)?()=>navigator.scheduling.isInputPending():null,Bxe=Mt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(ms.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(ms.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=C9(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(ms.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!ck?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<i&&r.doc.length>i+1e3,l=s.context.work(()=>ck&&ck()||Date.now()>o,i+(a?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:ms.setState.of(new sC(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>kn(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Kd=ce.define({combine(n){return n.length?n[0]:null},enables:n=>[ms.state,Bxe,ue.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});let Fxe=class{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}};const Wxe=ce.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}}),Xxe=new $t;function Gxe(n){let e=n.node,t=e.childAfter(e.from),r=e.lastChild;if(!t)return null;let i=n.options.simulateBreak,s=n.state.doc.lineAt(t.from),o=i==null||i<=s.from?s.to:Math.min(s.to,i);for(let a=t.to;;){let l=e.childAfter(a);if(!l||l==r)return null;if(!l.type.isSkipped){if(l.from>=o)return null;let c=/^ */.exec(s.text.slice(t.to-s.from))[0].length;return{from:t.from,to:t.to+c}}a=l.to}}function uk({closing:n,align:e=!0,units:t=1}){return r=>Yxe(r,e,t,n)}function Yxe(n,e,t,r,i){let s=n.textAfter,o=s.match(/^\s*/)[0].length,a=r&&s.slice(o,o+r.length)==r||i==n.pos+o,l=e?Gxe(n):null;return l?a?n.column(l.from):n.column(l.to):n.baseIndent+(a?0:n.unit*t)}const Hxe=new $t;function Kxe(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}let Jxe=class E9{constructor(e,t){this.specs=e;let r;function i(a){let l=_n.newName();return(r||(r=Object.create(null)))["."+l]=a,l}const s=typeof t.all=="string"?t.all:t.all?i(t.all):void 0,o=t.scope;this.scope=o instanceof ms?a=>a.prop(Rh)==o.data:o?a=>a==o:void 0,this.style=Ec(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=r?new _n(r):null,this.themeType=t.themeType}static define(e,t){return new E9(e,t||{})}};N.meta,N.link,N.heading,N.emphasis,N.strong,N.strikethrough,N.keyword,N.atom,N.bool,N.url,N.contentSeparator,N.labelName,N.literal,N.inserted,N.string,N.deleted,N.regexp,N.escape,N.string,N.variableName,N.variableName,N.typeName,N.namespace,N.className,N.variableName,N.macroName,N.propertyName,N.comment,N.invalid;const ebe=Object.create(null),iV=[Eo.none],sV=[],oV=Object.create(null),tbe=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])tbe[n]=nbe(ebe,e);function hk(n,e){sV.indexOf(n)>-1||(sV.push(n),console.warn(e))}function nbe(n,e){let t=[];for(let a of e.split(" ")){let l=[];for(let c of a.split(".")){let u=n[c]||N[c];u?typeof u=="function"?l.length?l=l.map(u):hk(c,`Modifier ${c} used at start of tag`):l.length?hk(c,`Tag ${c} used as modifier`):l=Array.isArray(u)?u:[u]:hk(c,`Unknown highlighting tag ${c}`)}for(let c of l)t.push(c)}if(!t.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+t.map(a=>a.id),s=oV[i];if(s)return s.id;let o=oV[i]=Eo.define({id:iV.length,name:r,props:[Ni({[r]:t})]});return iV.push(o),o.id}Je.RTL,Je.LTR;function aV(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function rbe(n){let e=Object.create(null),t=Object.create(null);for(let{label:i}of n){e[i[0]]=!0;for(let s=1;s<i.length;s++)t[i[s]]=!0}let r=aV(e)+aV(t)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function ibe(n){let e=n.map(i=>typeof i=="string"?{label:i}:i),[t,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:rbe(e);return i=>{let s=i.matchBefore(r);return s||i.explicit?{from:s?s.from:i.pos,options:e,validFor:t}:null}}function sbe(n,e){return t=>{for(let r=Lg(t.state).resolveInner(t.pos,-1);r;r=r.parent){if(n.indexOf(r.name)>-1)return null;if(r.type.isTop)break}return e(t)}}const obe=Is.define(),abe=ue.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class lbe{constructor(e,t,r,i){this.field=e,this.line=t,this.from=r,this.to=i}}class bQ{constructor(e,t,r){this.field=e,this.from=t,this.to=r}map(e){let t=e.mapPos(this.from,-1,In.TrackDel),r=e.mapPos(this.to,1,In.TrackDel);return t==null||r==null?null:new bQ(this.field,t,r)}}class SQ{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let r=[],i=[t],s=e.doc.lineAt(t),o=/^\s*/.exec(s.text)[0];for(let l of this.lines){if(r.length){let c=o,u=/^\t*/.exec(l)[0].length;for(let h=0;h<u;h++)c+=e.facet(Wxe);i.push(t+c.length-u),l=c+l.slice(u)}r.push(l),t+=l.length+1}let a=this.fieldPositions.map(l=>new bQ(l.field,i[l.line]+l.from,i[l.line]+l.to));return{text:r,ranges:a}}static parse(e){let t=[],r=[],i=[],s;for(let o of e.split(/\r\n?|\n/)){for(;s=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(o);){let a=s[1]?+s[1]:null,l=s[2]||s[3]||"",c=-1,u=l.replace(/\\[{}]/g,h=>h[1]);for(let h=0;h<t.length;h++)(a!=null?t[h].seq==a:u&&t[h].name==u)&&(c=h);if(c<0){let h=0;for(;h<t.length&&(a==null||t[h].seq!=null&&t[h].seq<a);)h++;t.splice(h,0,{seq:a,name:u}),c=h;for(let d of i)d.field>=c&&d.field++}i.push(new lbe(c,r.length,s.index,s.index+u.length)),o=o.slice(0,s.index)+l+o.slice(s.index+s[0].length)}o=o.replace(/\\([{}])/g,(a,l,c)=>{for(let u of i)u.line==r.length&&u.from>c&&(u.from--,u.to--);return l}),r.push(o)}return new SQ(r,i)}}let cbe=me.widget({widget:new class extends Lo{toDOM(){let n=document.createElement("span");return n.className="cm-snippetFieldPosition",n}ignoreEvent(){return!1}}}),ube=me.mark({class:"cm-snippetField"});class Ef{constructor(e,t){this.ranges=e,this.active=t,this.deco=me.set(e.map(r=>(r.from==r.to?cbe:ube).range(r.from,r.to)))}map(e){let t=[];for(let r of this.ranges){let i=r.map(e);if(!i)return null;t.push(i)}return new Ef(t,this.active)}selectionInsideField(e){return e.ranges.every(t=>this.ranges.some(r=>r.field==this.active&&r.from<=t.from&&r.to>=t.to))}}const LO=$e.define({map(n,e){return n&&n.map(e)}}),hbe=$e.define(),zg=Bt.define({create(){return null},update(n,e){for(let t of e.effects){if(t.is(LO))return t.value;if(t.is(hbe)&&n)return new Ef(n.ranges,t.value)}return n&&e.docChanged&&(n=n.map(e.changes)),n&&e.selection&&!n.selectionInsideField(e.selection)&&(n=null),n},provide:n=>ue.decorations.from(n,e=>e?e.deco:me.none)});function kQ(n,e){return J.create(n.filter(t=>t.field==e).map(t=>J.range(t.from,t.to)))}function dbe(n){let e=SQ.parse(n);return(t,r,i,s)=>{let{text:o,ranges:a}=e.instantiate(t.state,i),{main:l}=t.state.selection,c={changes:{from:i,to:s==l.from?l.to:s,insert:lt.of(o)},scrollIntoView:!0,annotations:r?[obe.of(r),gn.userEvent.of("input.complete")]:void 0};if(a.length&&(c.selection=kQ(a,0)),a.some(u=>u.field>0)){let u=new Ef(a,0),h=c.effects=[LO.of(u)];t.state.field(zg,!1)===void 0&&h.push($e.appendConfig.of([zg,Obe,ybe,abe]))}t.dispatch(t.state.update(c))}}function A9(n){return({state:e,dispatch:t})=>{let r=e.field(zg,!1);if(!r||n<0&&r.active==0)return!1;let i=r.active+n,s=n>0&&!r.ranges.some(o=>o.field==i+n);return t(e.update({selection:kQ(r.ranges,i),effects:LO.of(s?null:new Ef(r.ranges,i)),scrollIntoView:!0})),!0}}const fbe=({state:n,dispatch:e})=>n.field(zg,!1)?(e(n.update({effects:LO.of(null)})),!0):!1,pbe=A9(1),mbe=A9(-1),gbe=[{key:"Tab",run:pbe,shift:mbe},{key:"Escape",run:fbe}],lV=ce.define({combine(n){return n.length?n[0]:gbe}}),Obe=za.highest(IO.compute([lV],n=>n.facet(lV)));function Xo(n,e){return Object.assign(Object.assign({},e),{apply:dbe(n)})}const ybe=ue.domEventHandlers({mousedown(n,e){let t=e.state.field(zg,!1),r;if(!t||(r=e.posAtCoords({x:n.clientX,y:n.clientY}))==null)return!1;let i=t.ranges.find(s=>s.from<=r&&s.to>=r);return!i||i.field==t.active?!1:(e.dispatch({selection:kQ(t.ranges,i.field),effects:LO.of(t.ranges.some(s=>s.field>i.field)?new Ef(t.ranges,i.field):null),scrollIntoView:!0}),!0)}}),R9=new class extends ko{};R9.startSide=1;R9.endSide=-1;const cV=new Dxe,Q9=new Set(["Script","Body","FunctionDefinition","ClassDefinition","LambdaExpression","ForStatement","MatchClause"]);function d0(n){return(e,t,r)=>{if(r)return!1;let i=e.node.getChild("VariableName");return i&&t(i,n),!0}}const vbe={FunctionDefinition:d0("function"),ClassDefinition:d0("class"),ForStatement(n,e,t){if(t){for(let r=n.node.firstChild;r;r=r.nextSibling)if(r.name=="VariableName")e(r,"variable");else if(r.name=="in")break}},ImportStatement(n,e){var t,r;let{node:i}=n,s=((t=i.firstChild)===null||t===void 0?void 0:t.name)=="from";for(let o=i.getChild("import");o;o=o.nextSibling)o.name=="VariableName"&&((r=o.nextSibling)===null||r===void 0?void 0:r.name)!="as"&&e(o,s?"variable":"namespace")},AssignStatement(n,e){for(let t=n.node.firstChild;t;t=t.nextSibling)if(t.name=="VariableName")e(t,"variable");else if(t.name==":"||t.name=="AssignOp")break},ParamList(n,e){for(let t=null,r=n.node.firstChild;r;r=r.nextSibling)r.name=="VariableName"&&(!t||!/\*|AssignOp/.test(t.name))&&e(r,"variable"),t=r},CapturePattern:d0("variable"),AsPattern:d0("variable"),__proto__:null};function $9(n,e){let t=cV.get(e);if(t)return t;let r=[],i=!0;function s(o,a){let l=n.sliceString(o.from,o.to);r.push({label:l,type:a})}return e.cursor(Zn.IncludeAnonymous).iterate(o=>{if(o.name){let a=vbe[o.name];if(a&&a(o,s,i)||!i&&Q9.has(o.name))return!1;i=!1}else if(o.to-o.from>8192){for(let a of $9(n,o.node))r.push(a);return!1}}),cV.set(e,r),r}const uV=/^[\w\xa1-\uffff][\w\d\xa1-\uffff]*$/,I9=["String","FormatString","Comment","PropertyName"];function wbe(n){let e=Lg(n.state).resolveInner(n.pos,-1);if(I9.indexOf(e.name)>-1)return null;let t=e.name=="VariableName"||e.to-e.from<20&&uV.test(n.state.sliceDoc(e.from,e.to));if(!t&&!n.explicit)return null;let r=[];for(let i=e;i;i=i.parent)Q9.has(i.name)&&(r=r.concat($9(n.state.doc,i)));return{options:r,from:t?e.from:n.pos,validFor:uV}}const xbe=["__annotations__","__builtins__","__debug__","__doc__","__import__","__name__","__loader__","__package__","__spec__","False","None","True"].map(n=>({label:n,type:"constant"})).concat(["ArithmeticError","AssertionError","AttributeError","BaseException","BlockingIOError","BrokenPipeError","BufferError","BytesWarning","ChildProcessError","ConnectionAbortedError","ConnectionError","ConnectionRefusedError","ConnectionResetError","DeprecationWarning","EOFError","Ellipsis","EncodingWarning","EnvironmentError","Exception","FileExistsError","FileNotFoundError","FloatingPointError","FutureWarning","GeneratorExit","IOError","ImportError","ImportWarning","IndentationError","IndexError","InterruptedError","IsADirectoryError","KeyError","KeyboardInterrupt","LookupError","MemoryError","ModuleNotFoundError","NameError","NotADirectoryError","NotImplemented","NotImplementedError","OSError","OverflowError","PendingDeprecationWarning","PermissionError","ProcessLookupError","RecursionError","ReferenceError","ResourceWarning","RuntimeError","RuntimeWarning","StopAsyncIteration","StopIteration","SyntaxError","SyntaxWarning","SystemError","SystemExit","TabError","TimeoutError","TypeError","UnboundLocalError","UnicodeDecodeError","UnicodeEncodeError","UnicodeError","UnicodeTranslateError","UnicodeWarning","UserWarning","ValueError","Warning","ZeroDivisionError"].map(n=>({label:n,type:"type"}))).concat(["bool","bytearray","bytes","classmethod","complex","float","frozenset","int","list","map","memoryview","object","range","set","staticmethod","str","super","tuple","type"].map(n=>({label:n,type:"class"}))).concat(["abs","aiter","all","anext","any","ascii","bin","breakpoint","callable","chr","compile","delattr","dict","dir","divmod","enumerate","eval","exec","exit","filter","format","getattr","globals","hasattr","hash","help","hex","id","input","isinstance","issubclass","iter","len","license","locals","max","min","next","oct","open","ord","pow","print","property","quit","repr","reversed","round","setattr","slice","sorted","sum","vars","zip"].map(n=>({label:n,type:"function"}))),bbe=[Xo("def ${name}(${params}):\n	${}",{label:"def",detail:"function",type:"keyword"}),Xo("for ${name} in ${collection}:\n	${}",{label:"for",detail:"loop",type:"keyword"}),Xo("while ${}:\n	${}",{label:"while",detail:"loop",type:"keyword"}),Xo("try:\n	${}\nexcept ${error}:\n	${}",{label:"try",detail:"/ except block",type:"keyword"}),Xo(`if \${}:
	
`,{label:"if",detail:"block",type:"keyword"}),Xo("if ${}:\n	${}\nelse:\n	${}",{label:"if",detail:"/ else block",type:"keyword"}),Xo("class ${name}:\n	def __init__(self, ${params}):\n			${}",{label:"class",detail:"definition",type:"keyword"}),Xo("import ${module}",{label:"import",detail:"statement",type:"keyword"}),Xo("from ${module} import ${names}",{label:"from",detail:"import",type:"keyword"})],Sbe=sbe(I9,ibe(xbe.concat(bbe)));function dk(n){let{node:e,pos:t}=n,r=n.lineIndent(t,-1),i=null;for(;;){let s=e.childBefore(t);if(s)if(s.name=="Comment")t=s.from;else if(s.name=="Body"||s.name=="MatchBody")n.baseIndentFor(s)+n.unit<=r&&(i=s),e=s;else if(s.name=="MatchClause")e=s;else if(s.type.is("Statement"))e=s;else break;else break}return i}function fk(n,e){let t=n.baseIndentFor(e),r=n.lineAt(n.pos,-1),i=r.from+r.text.length;return/^\s*($|#)/.test(r.text)&&n.node.to<i+100&&!/\S/.test(n.state.sliceDoc(i,n.node.to))&&n.lineIndent(n.pos,-1)<=t||/^\s*(else:|elif |except |finally:|case\s+[^=:]+:)/.test(n.textAfter)&&n.lineIndent(n.pos,-1)>t?null:t+n.unit}const pk=Uxe.define({name:"python",parser:Cxe.configure({props:[Xxe.add({Body:n=>{var e;let t=dk(n);return(e=fk(n,t||n.node))!==null&&e!==void 0?e:n.continue()},MatchBody:n=>{var e;let t=dk(n);return(e=fk(n,t||n.node))!==null&&e!==void 0?e:n.continue()},IfStatement:n=>/^\s*(else:|elif )/.test(n.textAfter)?n.baseIndent:n.continue(),"ForStatement WhileStatement":n=>/^\s*else:/.test(n.textAfter)?n.baseIndent:n.continue(),TryStatement:n=>/^\s*(except |finally:|else:)/.test(n.textAfter)?n.baseIndent:n.continue(),MatchStatement:n=>/^\s*case /.test(n.textAfter)?n.baseIndent+n.unit:n.continue(),"TupleExpression ComprehensionExpression ParamList ArgList ParenthesizedExpression":uk({closing:")"}),"DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression":uk({closing:"}"}),"ArrayExpression ArrayComprehensionExpression":uk({closing:"]"}),"String FormatString":()=>null,Script:n=>{var e;let t=dk(n);return(e=t&&fk(n,t))!==null&&e!==void 0?e:n.continue()}}),Hxe.add({"ArrayExpression DictionaryExpression SetExpression TupleExpression":Kxe,Body:(n,e)=>({from:n.from+1,to:n.to-(n.to==e.doc.length?0:1)})})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"'''",'"""'],stringPrefixes:["f","fr","rf","r","u","b","br","rb","F","FR","RF","R","U","B","BR","RB"]},commentTokens:{line:"#"},indentOnInput:/^\s*([\}\]\)]|else:|elif |except |finally:|case\s+[^:]*:?)$/}});function kbe(){return new Fxe(pk,[pk.data.of({autocomplete:wbe}),pk.data.of({autocomplete:Sbe})])}const _be=1024;let Tbe=0,ma=class{constructor(e,t){this.from=e,this.to=t}},Kt=class{constructor(e={}){this.id=Tbe++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=dc.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}};Kt.closedBy=new Kt({deserialize:n=>n.split(" ")});Kt.openedBy=new Kt({deserialize:n=>n.split(" ")});Kt.group=new Kt({deserialize:n=>n.split(" ")});Kt.isolate=new Kt({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});Kt.contextHash=new Kt({perNode:!0});Kt.lookAhead=new Kt({perNode:!0});Kt.mounted=new Kt({perNode:!0});let Ug=class{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[Kt.mounted.id]}};const Pbe=Object.create(null);let dc=class N9{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):Pbe,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new N9(e.name||"",t,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Kt.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(Kt.group),s=-1;s<(i?i.length:0);s++){let o=t[s<0?r.name:i[s]];if(o)return o}}}};dc.none=new dc("",Object.create(null),0,8);const f0=new WeakMap,hV=new WeakMap;var an;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(an||(an={}));let yo=class aC{constructor(e,t,r,i,s){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=Ug.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new px(this.topNode,e)}cursorAt(e,t=0,r=0){let i=f0.get(this)||this.topNode,s=new px(i);return s.moveTo(e,t),f0.set(this,s._tree),s}get topNode(){return new Ro(this,0,0,null)}resolve(e,t=0){let r=qg(f0.get(this)||this.topNode,e,t,!1);return f0.set(this,r),r}resolveInner(e,t=0){let r=qg(hV.get(this)||this.topNode,e,t,!0);return hV.set(this,r),r}resolveStack(e,t=0){return Rbe(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:s=this.length}=e,o=e.mode||0,a=(o&an.IncludeAnonymous)>0;for(let l=this.cursor(o|an.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=i&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:TQ(dc.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new aC(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new aC(dc.none,t,r,i)))}static build(e){return Qbe(e)}};yo.empty=new yo(dc.none,[],[],0);let Cbe=class j9{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new j9(this.buffer,this.index)}},Jd=class D9{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return dc.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(M9(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,t,r){let i=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=i[a++],s[l++]=i[a++]-r;let c=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,c)}return new D9(s,o,this.set)}};function M9(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function qg(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!r&&n instanceof Ro&&n.index<0?null:n.parent;if(!o)return n;n=o}let s=r?0:an.IgnoreOverlays;if(r)for(let o=n,a=o.parent;a;o=a,a=o.parent)o instanceof Ro&&o.index<0&&((i=a.enter(e,t,s))===null||i===void 0?void 0:i.from)!=o.from&&(n=a);for(;;){let o=n.enter(e,t,s);if(!o)return n;n=o}}let V9=class{cursor(e=0){return new px(this,e)}getChild(e,t=null,r=null){let i=dV(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return dV(this,e,t,r)}resolve(e,t=0){return qg(this,e,t,!1)}resolveInner(e,t=0){return qg(this,e,t,!0)}matchContext(e){return lC(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}},Ro=class yv extends V9{constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=t>0?a.length:-1;e!=c;e+=t){let u=a[e],h=l[e]+o.from;if(M9(i,r,h,h+u.length)){if(u instanceof Jd){if(s&an.ExcludeBuffers)continue;let d=u.findChild(0,u.buffer.length,t,r-h,i);if(d>-1)return new cC(new Ebe(o,u,e,h),null,d)}else if(s&an.IncludeAnonymous||!u.type.isAnonymous||_Q(u)){let d;if(!(s&an.IgnoreMounts)&&(d=Ug.get(u))&&!d.overlay)return new yv(d.tree,h,e,o);let m=new yv(u,h,e,o);return s&an.IncludeAnonymous||!m.type.isAnonymous?m:m.nextChild(t<0?u.children.length-1:0,t,r,i)}}}if(s&an.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&an.IgnoreOverlays)&&(i=Ug.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:o,to:a}of i.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new yv(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function dV(n,e,t,r){let i=n.cursor(),s=[];if(!i.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=i.type.is(t),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function lC(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}let Ebe=class{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}},cC=class Wp extends V9{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return s<0?null:new Wp(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&an.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new Wp(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Wp(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Wp(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),t.push(0)}return new yo(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function L9(n){if(!n.length)return null;let e=0,t=n[0];for(let s=1;s<n.length;s++){let o=n[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let r=t instanceof Ro&&t.index<0?null:t.parent,i=n.slice();return r?i[e]=r:i.splice(e,1),new Abe(i,t)}let Abe=class{constructor(e,t){this.heads=e,this.node=t}get next(){return L9(this.heads)}};function Rbe(n,e,t){let r=n.resolveInner(e,t),i=null;for(let s=r instanceof Ro?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[r])).push(o.resolve(e,t)),s=o}else{let o=Ug.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new Ro(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(qg(a,e,t,!1))}}return i?L9(i):r}let px=class{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Ro)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof Ro?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&an.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&an.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&an.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let s=t+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&an.IncludeAnonymous||a instanceof Jd||!a.type.isAnonymous||_Q(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;t=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)t=new cC(this.buffer,t,this.stack[i]);return this.bufferNode=new cC(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return lC(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return lC(this._tree,e,i);let o=r[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}};function _Q(n){return n.children.some(e=>e instanceof Jd||!e.type.isAnonymous||_Q(e))}function Qbe(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=_be,reused:s=[],minRepeatType:o=r.types.length}=n,a=Array.isArray(t)?new Cbe(t,t.length):t,l=r.types,c=0,u=0;function h(C,Q,O,_,x,A){let{id:T,start:w,end:R,size:j}=a,V=u,M=c;for(;j<0;)if(a.next(),j==-1){let X=s[T];O.push(X),_.push(w-C);return}else if(j==-3){c=T;return}else if(j==-4){u=T;return}else throw new RangeError(`Unrecognized record size: ${j}`);let Z=l[T],U,q,ne=w-C;if(R-w<=i&&(q=v(a.pos-Q,x))){let X=new Uint16Array(q.size-q.skip),F=a.pos-q.size,G=X.length;for(;a.pos>F;)G=S(q.start,X,G);U=new Jd(X,R-q.start,r),ne=q.start-C}else{let X=a.pos-j;a.next();let F=[],G=[],K=T>=o?T:-1,re=0,Se=R;for(;a.pos>X;)K>=0&&a.id==K&&a.size>=0?(a.end<=Se-i&&(g(F,G,w,re,a.end,Se,K,V,M),re=F.length,Se=a.end),a.next()):A>2500?d(w,X,F,G):h(w,X,F,G,K,A+1);if(K>=0&&re>0&&re<F.length&&g(F,G,w,re,w,Se,K,V,M),F.reverse(),G.reverse(),K>-1&&re>0){let le=m(Z,M);U=TQ(Z,F,G,0,F.length,0,R-w,le,le)}else U=y(Z,F,G,R-w,V-R,M)}O.push(U),_.push(ne)}function d(C,Q,O,_){let x=[],A=0,T=-1;for(;a.pos>Q;){let{id:w,start:R,end:j,size:V}=a;if(V>4)a.next();else{if(T>-1&&R<T)break;T<0&&(T=j-i),x.push(w,R,j),A++,a.next()}}if(A){let w=new Uint16Array(A*4),R=x[x.length-2];for(let j=x.length-3,V=0;j>=0;j-=3)w[V++]=x[j],w[V++]=x[j+1]-R,w[V++]=x[j+2]-R,w[V++]=V;O.push(new Jd(w,x[2]-R,r)),_.push(R-C)}}function m(C,Q){return(O,_,x)=>{let A=0,T=O.length-1,w,R;if(T>=0&&(w=O[T])instanceof yo){if(!T&&w.type==C&&w.length==x)return w;(R=w.prop(Kt.lookAhead))&&(A=_[T]+w.length+R)}return y(C,O,_,x,A,Q)}}function g(C,Q,O,_,x,A,T,w,R){let j=[],V=[];for(;C.length>_;)j.push(C.pop()),V.push(Q.pop()+O-x);C.push(y(r.types[T],j,V,A-x,w-A,R)),Q.push(x-O)}function y(C,Q,O,_,x,A,T){if(A){let w=[Kt.contextHash,A];T=T?[w].concat(T):[w]}if(x>25){let w=[Kt.lookAhead,x];T=T?[w].concat(T):[w]}return new yo(C,Q,O,_,T)}function v(C,Q){let O=a.fork(),_=0,x=0,A=0,T=O.end-i,w={size:0,start:0,skip:0};e:for(let R=O.pos-C;O.pos>R;){let j=O.size;if(O.id==Q&&j>=0){w.size=_,w.start=x,w.skip=A,A+=4,_+=4,O.next();continue}let V=O.pos-j;if(j<0||V<R||O.start<T)break;let M=O.id>=o?4:0,Z=O.start;for(O.next();O.pos>V;){if(O.size<0)if(O.size==-3)M+=4;else break e;else O.id>=o&&(M+=4);O.next()}x=Z,_+=j,A+=M}return(Q<0||_==C)&&(w.size=_,w.start=x,w.skip=A),w.size>4?w:void 0}function S(C,Q,O){let{id:_,start:x,end:A,size:T}=a;if(a.next(),T>=0&&_<o){let w=O;if(T>4){let R=a.pos-(T-4);for(;a.pos>R;)O=S(C,Q,O)}Q[--O]=w,Q[--O]=A-C,Q[--O]=x-C,Q[--O]=_}else T==-3?c=_:T==-4&&(u=_);return O}let b=[],k=[];for(;a.pos>0;)h(n.start||0,n.bufferStart||0,b,k,-1,0);let $=(e=n.length)!==null&&e!==void 0?e:b.length?k[0]+b[0].length:0;return new yo(l[n.topID],b.reverse(),k.reverse(),$)}const fV=new WeakMap;function vv(n,e){if(!n.isAnonymous||e instanceof Jd||e.type!=n)return 1;let t=fV.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof yo)){t=1;break}t+=vv(n,r)}fV.set(e,t)}return t}function TQ(n,e,t,r,i,s,o,a,l){let c=0;for(let g=r;g<i;g++)c+=vv(n,e[g]);let u=Math.ceil(c*1.5/8),h=[],d=[];function m(g,y,v,S,b){for(let k=v;k<S;){let $=k,C=y[k],Q=vv(n,g[k]);for(k++;k<S;k++){let O=vv(n,g[k]);if(Q+O>=u)break;Q+=O}if(k==$+1){if(Q>u){let O=g[$];m(O.children,O.positions,0,O.children.length,y[$]+b);continue}h.push(g[$])}else{let O=y[k-1]+g[k-1].length-C;h.push(TQ(n,g,y,$,k,C,O,null,l))}d.push(C+b-s)}}return m(e,t,r,i,0),(a||l)(h,d,o)}let pV=class uC{constructor(e,t,r,i,s=!1,o=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],r=!1){let i=[new uC(0,e.length,e,0,!1,r)];for(let s of t)s.to>e.length&&i.push(s);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let u=a<t.length?t[a]:null,h=u?u.fromA:1e9;if(h-l>=r)for(;o&&o.from<h;){let d=o;if(l>=d.from||h<=d.to||c){let m=Math.max(d.from,l)-c,g=Math.min(d.to,h)-c;d=m>=g?null:new uC(m,g,d.tree,d.offset+c,a>0,!!u)}if(d&&i.push(d),o.to>h)break;o=s<e.length?e[s++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return i}};function $be(n){return(e,t,r,i)=>new Nbe(e,n,t,r,i)}class mV{constructor(e,t,r,i,s){this.parser=e,this.parse=t,this.overlay=r,this.target=i,this.from=s}}function gV(n){if(!n.length||n.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(n))}class Ibe{constructor(e,t,r,i,s,o,a){this.parser=e,this.predicate=t,this.mounts=r,this.index=i,this.start=s,this.target=o,this.prev=a,this.depth=0,this.ranges=[]}}const hC=new Kt({perNode:!0});class Nbe{constructor(e,t,r,i,s){this.nest=t,this.input=r,this.fragments=i,this.ranges=s,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let r=this.baseParse.advance();if(!r)return null;if(this.baseParse=null,this.baseTree=r,this.startInner(),this.stoppedAt!=null)for(let i of this.inner)i.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let r=this.baseTree;return this.stoppedAt!=null&&(r=new yo(r.type,r.children,r.positions,r.length,r.propValues.concat([[hC,this.stoppedAt]]))),r}let e=this.inner[this.innerDone],t=e.parse.advance();if(t){this.innerDone++;let r=Object.assign(Object.create(null),e.target.props);r[Kt.mounted.id]=new Ug(t,e.overlay,e.parser),e.target.props=r}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].from<e&&(e=Math.min(e,this.inner[t].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].parse.stopAt(e)}startInner(){let e=new Mbe(this.fragments),t=null,r=null,i=new px(new Ro(this.baseTree,this.ranges[0].from,0,null),an.IncludeAnonymous|an.IgnoreMounts);e:for(let s,o;;){let a=!0,l;if(this.stoppedAt!=null&&i.from>=this.stoppedAt)a=!1;else if(e.hasNode(i)){if(t){let c=t.mounts.find(u=>u.frag.from<=i.from&&u.frag.to>=i.to&&u.mount.overlay);if(c)for(let u of c.mount.overlay){let h=u.from+c.pos,d=u.to+c.pos;h>=i.from&&d<=i.to&&!t.ranges.some(m=>m.from<d&&m.to>h)&&t.ranges.push({from:h,to:d})}}a=!1}else if(r&&(o=jbe(r.ranges,i.from,i.to)))a=o!=2;else if(!i.type.isAnonymous&&(s=this.nest(i,this.input))&&(i.from<i.to||!s.overlay)){i.tree||Dbe(i);let c=e.findMounts(i.from,s.parser);if(typeof s.overlay=="function")t=new Ibe(s.parser,s.overlay,c,this.inner.length,i.from,i.tree,t);else{let u=vV(this.ranges,s.overlay||(i.from<i.to?[new ma(i.from,i.to)]:[]));u.length&&gV(u),(u.length||!s.overlay)&&this.inner.push(new mV(s.parser,u.length?s.parser.startParse(this.input,wV(c,u),u):s.parser.startParse(""),s.overlay?s.overlay.map(h=>new ma(h.from-i.from,h.to-i.from)):null,i.tree,u.length?u[0].from:i.from)),s.overlay?u.length&&(r={ranges:u,depth:0,prev:r}):a=!1}}else if(t&&(l=t.predicate(i))&&(l===!0&&(l=new ma(i.from,i.to)),l.from<l.to)){let c=t.ranges.length-1;c>=0&&t.ranges[c].to==l.from?t.ranges[c]={from:t.ranges[c].from,to:l.to}:t.ranges.push(l)}if(a&&i.firstChild())t&&t.depth++,r&&r.depth++;else for(;!i.nextSibling();){if(!i.parent())break e;if(t&&!--t.depth){let c=vV(this.ranges,t.ranges);c.length&&(gV(c),this.inner.splice(t.index,0,new mV(t.parser,t.parser.startParse(this.input,wV(t.mounts,c),c),t.ranges.map(u=>new ma(u.from-t.start,u.to-t.start)),t.target,c[0].from))),t=t.prev}r&&!--r.depth&&(r=r.prev)}}}}function jbe(n,e,t){for(let r of n){if(r.from>=t)break;if(r.to>e)return r.from<=e&&r.to>=t?2:1}return 0}function OV(n,e,t,r,i,s){if(e<t){let o=n.buffer[e+1];r.push(n.slice(e,t,o)),i.push(o-s)}}function Dbe(n){let{node:e}=n,t=[],r=e.context.buffer;do t.push(n.index),n.parent();while(!n.tree);let i=n.tree,s=i.children.indexOf(r),o=i.children[s],a=o.buffer,l=[s];function c(u,h,d,m,g,y){let v=t[y],S=[],b=[];OV(o,u,v,S,b,m);let k=a[v+1],$=a[v+2];l.push(S.length);let C=y?c(v+4,a[v+3],o.set.types[a[v]],k,$-k,y-1):e.toTree();return S.push(C),b.push(k-m),OV(o,a[v+3],h,S,b,m),new yo(d,S,b,g)}i.children[s]=c(0,a.length,dc.none,0,o.length,t.length-1);for(let u of l){let h=n.tree.children[u],d=n.tree.positions[u];n.yield(new Ro(h,d+n.from,u,n._tree))}}class yV{constructor(e,t){this.offset=t,this.done=!1,this.cursor=e.cursor(an.IncludeAnonymous|an.IgnoreMounts)}moveTo(e){let{cursor:t}=this,r=e-this.offset;for(;!this.done&&t.from<r;)t.to>=e&&t.enter(r,1,an.IgnoreOverlays|an.ExcludeBuffers)||t.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let t=this.cursor.tree;;){if(t==e.tree)return!0;if(t.children.length&&t.positions[0]==0&&t.children[0]instanceof yo)t=t.children[0];else break}return!1}}class Mbe{constructor(e){var t;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let r=this.curFrag=e[0];this.curTo=(t=r.tree.prop(hC))!==null&&t!==void 0?t:r.to,this.inner=new yV(r.tree,-r.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let t=this.curFrag=this.fragments[this.fragI];this.curTo=(e=t.tree.prop(hC))!==null&&e!==void 0?e:t.to,this.inner=new yV(t.tree,-t.offset)}}findMounts(e,t){var r;let i=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let s=this.inner.cursor.node;s;s=s.parent){let o=(r=s.tree)===null||r===void 0?void 0:r.prop(Kt.mounted);if(o&&o.parser==t)for(let a=this.fragI;a<this.fragments.length;a++){let l=this.fragments[a];if(l.from>=s.to)break;l.tree==this.curFrag.tree&&i.push({frag:l,pos:s.from-l.offset,mount:o})}}}return i}}function vV(n,e){let t=null,r=e;for(let i=1,s=0;i<n.length;i++){let o=n[i-1].to,a=n[i].from;for(;s<r.length;s++){let l=r[s];if(l.from>=a)break;l.to<=o||(t||(r=t=e.slice()),l.from<o?(t[s]=new ma(l.from,o),l.to>a&&t.splice(s+1,0,new ma(a,l.to))):l.to>a?t[s--]=new ma(a,l.to):t.splice(s--,1))}}return r}function Vbe(n,e,t,r){let i=0,s=0,o=!1,a=!1,l=-1e9,c=[];for(;;){let u=i==n.length?1e9:o?n[i].to:n[i].from,h=s==e.length?1e9:a?e[s].to:e[s].from;if(o!=a){let d=Math.max(l,t),m=Math.min(u,h,r);d<m&&c.push(new ma(d,m))}if(l=Math.min(u,h),l==1e9)break;u==l&&(o?(o=!1,i++):o=!0),h==l&&(a?(a=!1,s++):a=!0)}return c}function wV(n,e){let t=[];for(let{pos:r,mount:i,frag:s}of n){let o=r+(i.overlay?i.overlay[0].from:0),a=o+i.tree.length,l=Math.max(s.from,o),c=Math.min(s.to,a);if(i.overlay){let u=i.overlay.map(d=>new ma(d.from+r,d.to+r)),h=Vbe(e,u,l,c);for(let d=0,m=l;;d++){let g=d==h.length,y=g?c:h[d].from;if(y>m&&t.push(new pV(m,y,i.tree,-o,s.from>=m||s.openStart,s.to<=y||s.openEnd)),g)break;m=h[d].to}}else t.push(new pV(l,c,i.tree,-o,s.from>=o||s.openStart,s.to<=a||s.openEnd))}return t}const Lbe=54,zbe=1,Ube=55,qbe=2,Zbe=56,Bbe=3,xV=4,Fbe=5,mx=6,z9=7,U9=8,q9=9,Z9=10,Wbe=11,Xbe=12,Gbe=13,mk=57,Ybe=14,bV=58,B9=20,Hbe=22,F9=23,Kbe=24,dC=26,W9=27,Jbe=28,eSe=31,tSe=34,nSe=36,rSe=37,iSe=0,sSe=1,oSe={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},aSe={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},SV={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function lSe(n){return n==45||n==46||n==58||n>=65&&n<=90||n==95||n>=97&&n<=122||n>=161}function X9(n){return n==9||n==10||n==13||n==32}let kV=null,_V=null,TV=0;function fC(n,e){let t=n.pos+e;if(TV==t&&_V==n)return kV;let r=n.peek(e);for(;X9(r);)r=n.peek(++e);let i="";for(;lSe(r);)i+=String.fromCharCode(r),r=n.peek(++e);return _V=n,TV=t,kV=i?i.toLowerCase():r==cSe||r==uSe?void 0:null}const G9=60,gx=62,PQ=47,cSe=63,uSe=33,hSe=45;function PV(n,e){this.name=n,this.parent=e}const dSe=[mx,Z9,z9,U9,q9],fSe=new dQ({start:null,shift(n,e,t,r){return dSe.indexOf(e)>-1?new PV(fC(r,1)||"",n):n},reduce(n,e){return e==B9&&n?n.parent:n},reuse(n,e,t,r){let i=e.type.id;return i==mx||i==nSe?new PV(fC(r,1)||"",n):n},strict:!1}),pSe=new ur((n,e)=>{if(n.next!=G9){n.next<0&&e.context&&n.acceptToken(mk);return}n.advance();let t=n.next==PQ;t&&n.advance();let r=fC(n,0);if(r===void 0)return;if(!r)return n.acceptToken(t?Ybe:mx);let i=e.context?e.context.name:null;if(t){if(r==i)return n.acceptToken(Wbe);if(i&&aSe[i])return n.acceptToken(mk,-2);if(e.dialectEnabled(iSe))return n.acceptToken(Xbe);for(let s=e.context;s;s=s.parent)if(s.name==r)return;n.acceptToken(Gbe)}else{if(r=="script")return n.acceptToken(z9);if(r=="style")return n.acceptToken(U9);if(r=="textarea")return n.acceptToken(q9);if(oSe.hasOwnProperty(r))return n.acceptToken(Z9);i&&SV[i]&&SV[i][r]?n.acceptToken(mk,-1):n.acceptToken(mx)}},{contextual:!0}),mSe=new ur(n=>{for(let e=0,t=0;;t++){if(n.next<0){t&&n.acceptToken(bV);break}if(n.next==hSe)e++;else if(n.next==gx&&e>=2){t>=3&&n.acceptToken(bV,-2);break}else e=0;n.advance()}});function gSe(n){for(;n;n=n.parent)if(n.name=="svg"||n.name=="math")return!0;return!1}const OSe=new ur((n,e)=>{if(n.next==PQ&&n.peek(1)==gx){let t=e.dialectEnabled(sSe)||gSe(e.context);n.acceptToken(t?Fbe:xV,2)}else n.next==gx&&n.acceptToken(xV,1)});function CQ(n,e,t){let r=2+n.length;return new ur(i=>{for(let s=0,o=0,a=0;;a++){if(i.next<0){a&&i.acceptToken(e);break}if(s==0&&i.next==G9||s==1&&i.next==PQ||s>=2&&s<r&&i.next==n.charCodeAt(s-2))s++,o++;else if((s==2||s==r)&&X9(i.next))o++;else if(s==r&&i.next==gx){a>o?i.acceptToken(e,-o):i.acceptToken(t,-(o-2));break}else if((i.next==10||i.next==13)&&a){i.acceptToken(e,1);break}else s=o=0;i.advance()}})}const ySe=CQ("script",Lbe,zbe),vSe=CQ("style",Ube,qbe),wSe=CQ("textarea",Zbe,Bbe),xSe=Ni({"Text RawText":N.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":N.angleBracket,TagName:N.tagName,"MismatchedCloseTag/TagName":[N.tagName,N.invalid],AttributeName:N.attributeName,"AttributeValue UnquotedAttributeValue":N.attributeValue,Is:N.definitionOperator,"EntityReference CharacterReference":N.character,Comment:N.blockComment,ProcessingInst:N.processingInstruction,DoctypeDecl:N.documentMeta}),bSe=Ia.deserialize({version:14,states:",xOVO!rOOO!WQ#tO'#CqO!]Q#tO'#CzO!bQ#tO'#C}O!gQ#tO'#DQO!lQ#tO'#DSO!qOaO'#CpO!|ObO'#CpO#XOdO'#CpO$eO!rO'#CpOOO`'#Cp'#CpO$lO$fO'#DTO$tQ#tO'#DVO$yQ#tO'#DWOOO`'#Dk'#DkOOO`'#DY'#DYQVO!rOOO%OQ&rO,59]O%ZQ&rO,59fO%fQ&rO,59iO%qQ&rO,59lO%|Q&rO,59nOOOa'#D^'#D^O&XOaO'#CxO&dOaO,59[OOOb'#D_'#D_O&lObO'#C{O&wObO,59[OOOd'#D`'#D`O'POdO'#DOO'[OdO,59[OOO`'#Da'#DaO'dO!rO,59[O'kQ#tO'#DROOO`,59[,59[OOOp'#Db'#DbO'pO$fO,59oOOO`,59o,59oO'xQ#|O,59qO'}Q#|O,59rOOO`-E7W-E7WO(SQ&rO'#CsOOQW'#DZ'#DZO(bQ&rO1G.wOOOa1G.w1G.wOOO`1G/Y1G/YO(mQ&rO1G/QOOOb1G/Q1G/QO(xQ&rO1G/TOOOd1G/T1G/TO)TQ&rO1G/WOOO`1G/W1G/WO)`Q&rO1G/YOOOa-E7[-E7[O)kQ#tO'#CyOOO`1G.v1G.vOOOb-E7]-E7]O)pQ#tO'#C|OOOd-E7^-E7^O)uQ#tO'#DPOOO`-E7_-E7_O)zQ#|O,59mOOOp-E7`-E7`OOO`1G/Z1G/ZOOO`1G/]1G/]OOO`1G/^1G/^O*PQ,UO,59_OOQW-E7X-E7XOOOa7+$c7+$cOOO`7+$t7+$tOOOb7+$l7+$lOOOd7+$o7+$oOOO`7+$r7+$rO*[Q#|O,59eO*aQ#|O,59hO*fQ#|O,59kOOO`1G/X1G/XO*kO7[O'#CvO*|OMhO'#CvOOQW1G.y1G.yOOO`1G/P1G/POOO`1G/S1G/SOOO`1G/V1G/VOOOO'#D['#D[O+_O7[O,59bOOQW,59b,59bOOOO'#D]'#D]O+pOMhO,59bOOOO-E7Y-E7YOOQW1G.|1G.|OOOO-E7Z-E7Z",stateData:",]~O!^OS~OUSOVPOWQOXROYTO[]O][O^^O`^Oa^Ob^Oc^Ox^O{_O!dZO~OfaO~OfbO~OfcO~OfdO~OfeO~O!WfOPlP!ZlP~O!XiOQoP!ZoP~O!YlORrP!ZrP~OUSOVPOWQOXROYTOZqO[]O][O^^O`^Oa^Ob^Oc^Ox^O!dZO~O!ZrO~P#dO![sO!euO~OfvO~OfwO~OS|OT}OhyO~OS!POT}OhyO~OS!ROT}OhyO~OS!TOT}OhyO~OS}OT}OhyO~O!WfOPlX!ZlX~OP!WO!Z!XO~O!XiOQoX!ZoX~OQ!ZO!Z!XO~O!YlORrX!ZrX~OR!]O!Z!XO~O!Z!XO~P#dOf!_O~O![sO!e!aO~OS!bO~OS!cO~Oi!dOSgXTgXhgX~OS!fOT!gOhyO~OS!hOT!gOhyO~OS!iOT!gOhyO~OS!jOT!gOhyO~OS!gOT!gOhyO~Of!kO~Of!lO~Of!mO~OS!nO~Ok!qO!`!oO!b!pO~OS!rO~OS!sO~OS!tO~Oa!uOb!uOc!uO!`!wO!a!uO~Oa!xOb!xOc!xO!b!wO!c!xO~Oa!uOb!uOc!uO!`!{O!a!uO~Oa!xOb!xOc!xO!b!{O!c!xO~OT~bac!dx{!d~",goto:"%p!`PPPPPPPPPPPPPPPPPPPP!a!gP!mPP!yP!|#P#S#Y#]#`#f#i#l#r#x!aP!a!aP$O$U$l$r$x%O%U%[%bPPPPPPPP%hX^OX`pXUOX`pezabcde{!O!Q!S!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ!ObQ!QcQ!SdQ!UeZ!e{!O!Q!S!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:" StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:67,context:fSe,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,21,30,33,36,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,29,32,35,37,"OpenTag"],["group",-9,14,17,18,19,20,39,40,41,42,"Entity",16,"Entity TextContent",-3,28,31,34,"TextContent Entity"],["isolate",-11,21,29,30,32,33,35,36,37,38,41,42,"ltr",-3,26,27,39,""]],propSources:[xSe],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|c`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bX`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UV`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pT`POv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!cpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({W`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!a`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!a`!cpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYkWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]``P!a`!cp!^^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebhSkWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXhSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vchS`P!a`!cpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!`h`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WihSkWc!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zbkWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOa!R!R7tP;=`<%l7S!Z8OYkWa!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{ihSkWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbhSkWa!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QchSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXhSa!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TakWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOb!R!RAwP;=`<%lAY!ZBRYkWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbhSkWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbhSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXhSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!bx`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYlhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_khS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_X`P!a`!cp!eQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZhSfQ`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!a`!cpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!a`!cp!dPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!a`!cpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!a`!cpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!a`!cpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!a`!cpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!a`!cpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!a`!cpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!a`!cpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!cpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO{PP!-nP;=`<%l!-Sq!-xS!cp{POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!a`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!a`{POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!a`!cp{POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!a`!cpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!a`!cpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!a`!cpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!a`!cpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!a`!cpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!a`!cpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!cpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOxPP!7TP;=`<%l!6Vq!7]V!cpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!cpxPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!a`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!a`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!a`xPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!a`!cpxPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXiS`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[ySe,vSe,wSe,OSe,pSe,mSe,0,1,2,3,4,5],topRules:{Document:[0,15]},dialects:{noMatch:0,selfClosing:509},tokenPrec:511});function Y9(n,e){let t=Object.create(null);for(let r of n.getChildren(F9)){let i=r.getChild(Kbe),s=r.getChild(dC)||r.getChild(W9);i&&(t[e.read(i.from,i.to)]=s?s.type.id==dC?e.read(s.from+1,s.to-1):e.read(s.from,s.to):"")}return t}function CV(n,e){let t=n.getChild(Hbe);return t?e.read(t.from,t.to):" "}function gk(n,e,t){let r;for(let i of t)if(!i.attrs||i.attrs(r||(r=Y9(n.node.parent.firstChild,e))))return{parser:i.parser};return null}function H9(n=[],e=[]){let t=[],r=[],i=[],s=[];for(let a of n)(a.tag=="script"?t:a.tag=="style"?r:a.tag=="textarea"?i:s).push(a);let o=e.length?Object.create(null):null;for(let a of e)(o[a.name]||(o[a.name]=[])).push(a);return $be((a,l)=>{let c=a.type.id;if(c==Jbe)return gk(a,l,t);if(c==eSe)return gk(a,l,r);if(c==tSe)return gk(a,l,i);if(c==B9&&s.length){let u=a.node,h=u.firstChild,d=h&&CV(h,l),m;if(d){for(let g of s)if(g.tag==d&&(!g.attrs||g.attrs(m||(m=Y9(h,l))))){let y=u.lastChild,v=y.type.id==rSe?y.from:u.to;if(v>h.to)return{parser:g.parser,overlay:[{from:h.to,to:v}]}}}}if(o&&c==F9){let u=a.node,h;if(h=u.firstChild){let d=o[l.read(h.from,h.to)];if(d)for(let m of d){if(m.tagName&&m.tagName!=CV(u.parent,l))continue;let g=u.lastChild;if(g.type.id==dC){let y=g.from+1,v=g.lastChild,S=g.to-(v&&v.isError?0:1);if(S>y)return{parser:m.parser,overlay:[{from:y,to:S}]}}else if(g.type.id==W9)return{parser:m.parser,overlay:[{from:g.from,to:g.to}]}}}}return null})}const SSe=100,EV=1,kSe=101,_Se=102,AV=2,K9=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],TSe=58,PSe=40,J9=95,CSe=91,wv=45,ESe=46,ASe=35,RSe=37,QSe=38,$Se=92,ISe=10;function Zg(n){return n>=65&&n<=90||n>=97&&n<=122||n>=161}function e6(n){return n>=48&&n<=57}const NSe=new ur((n,e)=>{for(let t=!1,r=0,i=0;;i++){let{next:s}=n;if(Zg(s)||s==wv||s==J9||t&&e6(s))!t&&(s!=wv||i>0)&&(t=!0),r===i&&s==wv&&r++,n.advance();else if(s==$Se&&n.peek(1)!=ISe)n.advance(),n.next>-1&&n.advance(),t=!0;else{t&&n.acceptToken(s==PSe?kSe:r==2&&e.canShift(AV)?AV:_Se);break}}}),jSe=new ur(n=>{if(K9.includes(n.peek(-1))){let{next:e}=n;(Zg(e)||e==J9||e==ASe||e==ESe||e==CSe||e==TSe&&Zg(n.peek(1))||e==wv||e==QSe)&&n.acceptToken(SSe)}}),DSe=new ur(n=>{if(!K9.includes(n.peek(-1))){let{next:e}=n;if(e==RSe&&(n.advance(),n.acceptToken(EV)),Zg(e)){do n.advance();while(Zg(n.next)||e6(n.next));n.acceptToken(EV)}}}),MSe=Ni({"AtKeyword import charset namespace keyframes media supports":N.definitionKeyword,"from to selector":N.keyword,NamespaceName:N.namespace,KeyframeName:N.labelName,KeyframeRangeName:N.operatorKeyword,TagName:N.tagName,ClassName:N.className,PseudoClassName:N.constant(N.className),IdName:N.labelName,"FeatureName PropertyName":N.propertyName,AttributeName:N.attributeName,NumberLiteral:N.number,KeywordQuery:N.keyword,UnaryQueryOp:N.operatorKeyword,"CallTag ValueName":N.atom,VariableName:N.variableName,Callee:N.operatorKeyword,Unit:N.unit,"UniversalSelector NestingSelector":N.definitionOperator,MatchOp:N.compareOperator,"ChildOp SiblingOp, LogicOp":N.logicOperator,BinOp:N.arithmeticOperator,Important:N.modifier,Comment:N.blockComment,ColorLiteral:N.color,"ParenthesizedContent StringLiteral":N.string,":":N.punctuation,"PseudoOp #":N.derefOperator,"; ,":N.separator,"( )":N.paren,"[ ]":N.squareBracket,"{ }":N.brace}),VSe={__proto__:null,lang:34,"nth-child":34,"nth-last-child":34,"nth-of-type":34,"nth-last-of-type":34,dir:34,"host-context":34,url:62,"url-prefix":62,domain:62,regexp:62,selector:140},LSe={__proto__:null,"@import":120,"@media":144,"@charset":148,"@namespace":152,"@keyframes":158,"@supports":170},zSe={__proto__:null,not:134,only:134},USe=Ia.deserialize({version:14,states:":jQYQ[OOO#_Q[OOP#fOWOOOOQP'#Cd'#CdOOQP'#Cc'#CcO#kQ[O'#CfO$_QXO'#CaO$fQ[O'#CiO$qQ[O'#DUO$vQ[O'#DXOOQP'#En'#EnO${QdO'#DhO%jQ[O'#DuO${QdO'#DwO%{Q[O'#DyO&WQ[O'#D|O&`Q[O'#ESO&nQ[O'#EUOOQS'#Em'#EmOOQS'#EX'#EXQYQ[OOO&uQXO'#CdO'jQWO'#DdO'oQWO'#EsO'zQ[O'#EsQOQWOOP(UO#tO'#C_POOO)C@])C@]OOQP'#Ch'#ChOOQP,59Q,59QO#kQ[O,59QO(aQ[O'#E]O({QWO,58{O)TQ[O,59TO$qQ[O,59pO$vQ[O,59sO(aQ[O,59vO(aQ[O,59xO(aQ[O,59yO)`Q[O'#DcOOQS,58{,58{OOQP'#Cl'#ClOOQO'#DS'#DSOOQP,59T,59TO)gQWO,59TO)lQWO,59TOOQP'#DW'#DWOOQP,59p,59pOOQO'#DY'#DYO)qQ`O,59sOOQS'#Cq'#CqO${QdO'#CrO)yQvO'#CtO+ZQtO,5:SOOQO'#Cy'#CyO)lQWO'#CxO+oQWO'#CzO+tQ[O'#DPOOQS'#Ep'#EpOOQO'#Dk'#DkO+|Q[O'#DrO,[QWO'#EtO&`Q[O'#DpO,jQWO'#DsOOQO'#Eu'#EuO)OQWO,5:aO,oQpO,5:cOOQS'#D{'#D{O,wQWO,5:eO,|Q[O,5:eOOQO'#EO'#EOO-UQWO,5:hO-ZQWO,5:nO-cQWO,5:pOOQS-E8V-E8VO-kQdO,5:OO-{Q[O'#E_O.YQWO,5;_O.YQWO,5;_POOO'#EW'#EWP.eO#tO,58yPOOO,58y,58yOOQP1G.l1G.lO/[QXO,5:wOOQO-E8Z-E8ZOOQS1G.g1G.gOOQP1G.o1G.oO)gQWO1G.oO)lQWO1G.oOOQP1G/[1G/[O/iQ`O1G/_O0SQXO1G/bO0jQXO1G/dO1QQXO1G/eO1hQWO,59}O1mQ[O'#DTO1tQdO'#CpOOQP1G/_1G/_O${QdO1G/_O1{QpO,59^OOQS,59`,59`O${QdO,59bO2TQWO1G/nOOQS,59d,59dO2YQ!bO,59fOOQS'#DQ'#DQOOQS'#EZ'#EZO2eQ[O,59kOOQS,59k,59kO2mQWO'#DkO2xQWO,5:WO2}QWO,5:^O&`Q[O,5:YO&`Q[O'#E`O3VQWO,5;`O3bQWO,5:[O(aQ[O,5:_OOQS1G/{1G/{OOQS1G/}1G/}OOQS1G0P1G0PO3sQWO1G0PO3xQdO'#EPOOQS1G0S1G0SOOQS1G0Y1G0YOOQS1G0[1G0[O4TQtO1G/jOOQO1G/j1G/jOOQO,5:y,5:yO4kQ[O,5:yOOQO-E8]-E8]O4xQWO1G0yPOOO-E8U-E8UPOOO1G.e1G.eOOQP7+$Z7+$ZOOQP7+$y7+$yO${QdO7+$yOOQS1G/i1G/iO5TQXO'#ErO5[QWO,59oO5aQtO'#EYO6XQdO'#EoO6cQWO,59[O6hQpO7+$yOOQS1G.x1G.xOOQS1G.|1G.|OOQS7+%Y7+%YOOQS1G/Q1G/QO6pQWO1G/QOOQS-E8X-E8XOOQS1G/V1G/VO${QdO1G/rOOQO1G/x1G/xOOQO1G/t1G/tO6uQWO,5:zOOQO-E8^-E8^O7TQXO1G/yOOQS7+%k7+%kO7[QYO'#CtOOQO'#ER'#ERO7gQ`O'#EQOOQO'#EQ'#EQO7rQWO'#EaO7zQdO,5:kOOQS,5:k,5:kO8VQtO'#E^O${QdO'#E^O9WQdO7+%UOOQO7+%U7+%UOOQO1G0e1G0eO9kQpO<<HeO9sQWO,5;^OOQP1G/Z1G/ZOOQS-E8W-E8WO${QdO'#E[O9{QWO,5;ZOOQT1G.v1G.vOOQP<<He<<HeOOQS7+$l7+$lO:TQdO7+%^OOQO7+%e7+%eOOQO,5:l,5:lO3{QdO'#EbO7rQWO,5:{OOQS,5:{,5:{OOQS-E8_-E8_OOQS1G0V1G0VO:[QtO,5:xOOQS-E8[-E8[OOQO<<Hp<<HpOOQPAN>PAN>PO;]QdO,5:vOOQO-E8Y-E8YOOQO<<Hx<<HxOOQO,5:|,5:|OOQO-E8`-E8`OOQS1G0g1G0g",stateData:";o~O#[OS#]QQ~OUYOXYOZTO^VO_VOrXOyWO!]aO!^ZO!j[O!l]O!n^O!q_O!w`O#YRO~OQfOUYOXYOZTO^VO_VOrXOyWO!]aO!^ZO!j[O!l]O!n^O!q_O!w`O#YeO~O#V#gP~P!ZO#]jO~O#YlO~OZnO^qO_qOrsOuoOyrO!PtO!SvO#WuO~O!UwO~P#pOa}O#XzO#YyO~O#Y!OO~O#Y!QO~OQ![Oc!TOg![Oi![Oo!YOr!ZO#X!WO#Y!SO#e!UO~Oc!^O!e!`O!h!aO#Y!]O!U#hP~Oi!fOo!YO#Y!eO~Oi!hO#Y!hO~Oc!^O!e!`O!h!aO#Y!]O~O!Z#hP~P%jOZWX^WX^!XX_WXrWXuWXyWX!PWX!SWX!UWX#WWX~O^!mO~O!Z!nO#V#gX!T#gX~O#V#gX!T#gX~P!ZO#^!qO#_!qO#`!sO~OUYOXYOZTO^VO_VOrXOyWO#YRO~OuoO!UwO~Oa!zO#XzO#YyO~O!T#gP~P!ZOc#RO~Oc#SO~Oq#TO}#UO~OP#WOchXkhX!ZhX!ehX!hhX#YhXbhXQhXghXihXohXrhXuhX!YhX#VhX#XhX#ehXqhX!ThX~Oc!^Ok#XO!e!`O!h!aO#Y!]O!Z#hP~Oc#[O~Oq#`O#Y#]O~Oc!^O!e!`O!h!aO#Y#aO~Ou#eO!c#dO!U#hX!Z#hX~Oc#hO~Ok#XO!Z#jO~O!Z#kO~Oi#lOo!YO~O!U#mO~O!UwO!c#dO~O!UwO!Z#pO~O!Y#rO!Z!Wa#V!Wa!T!Wa~P${O!Z#RX#V#RX!T#RX~P!ZO!Z!nO#V#ga!T#ga~O#^!qO#_!qO#`#xO~OZnO^qO_qOrsOyrO!PtO!SvO#WuO~Ou#Pa!U#Pab#Pa~P.pOq#zO}#{O~OZnO^qO_qOrsOyrO~Ou!Oi!P!Oi!S!Oi!U!Oi#W!Oib!Oi~P/qOu!Qi!P!Qi!S!Qi!U!Qi#W!Qib!Qi~P/qOu!Ri!P!Ri!S!Ri!U!Ri#W!Rib!Ri~P/qO!T#|O~Ob#fP~P(aOb#cP~P${Ob$TOk#XO~O!Z$VO~Ob$WOi$XOp$XO~Oq$ZO#Y#]O~O^!aXb!_X!c!_X~O^$[O~Ob$]O!c#dO~Ou#eO!U#ha!Z#ha~O!c#dOu!da!U!da!Z!dab!da~O!Z$bO~O!T$iO#Y$dO#e$cO~Ok#XOu$kO!Y$mO!Z!Wi#V!Wi!T!Wi~P${O!Z#Ra#V#Ra!T#Ra~P!ZO!Z!nO#V#gi!T#gi~Ob#fX~P#pOb$qO~Ok#XOQ!|Xb!|Xc!|Xg!|Xi!|Xo!|Xr!|Xu!|X#X!|X#Y!|X#e!|X~Ou$sOb#cX~P${Ob$uO~Ok#XOq$vO~Ob$wO~O!c#dOu#Sa!U#Sa!Z#Sa~Ob$yO~P.pOP#WOuhX!UhX~O#e$cOu!tX!U!tX~Ou${O!UwO~O!T%PO#Y$dO#e$cO~Ok#XOQ#QXc#QXg#QXi#QXo#QXr#QXu#QX!Y#QX!Z#QX#V#QX#X#QX#Y#QX#e#QX!T#QX~Ou$kO!Y%SO!Z!Wq#V!Wq!T!Wq~P${Ok#XOq%TO~OuoOb#fa~Ou$sOb#ca~Ob%WO~P${Ok#XOQ#Qac#Qag#Qai#Qao#Qar#Qau#Qa!Y#Qa!Z#Qa#V#Qa#X#Qa#Y#Qa#e#Qa!T#Qa~Ob#Oau#Oa~P${O#[p#]#ek!S#e~",goto:"-g#jPPP#kP#nP#w$WP#wP$g#wPP$mPPP$s$|$|P%`P$|P$|%z&^PPPP$|&vP&z'Q#wP'W#w'^P#wP#w#wPPP'd'y(WPP#nPP(_(_(i(_P(_P(_(_P#nP#nP#nP(l#nP(o(r(u(|#nP#nP)R)X)h)v)|*S*^*d*n*t*zPPPPPPPPPP+Q+Z+v+yP,o,r,x-RRkQ_bOPdhw!n#tkYOPdhotuvw!n#R#h#tkSOPdhotuvw!n#R#h#tQmTR!tnQ{VR!xqQ!x}Q#Z!XR#y!zq![Z]!T!m#S#U#X#q#{$Q$[$k$l$s$x%Up![Z]!T!m#S#U#X#q#{$Q$[$k$l$s$x%UU$f#m$h${R$z$eq!XZ]!T!m#S#U#X#q#{$Q$[$k$l$s$x%Up![Z]!T!m#S#U#X#q#{$Q$[$k$l$s$x%UQ!f^R#l!gT#^!Z#_Q|VR!yqQ!x|R#y!yQ!PWR!{rQ!RXR!|sQxUQ!wpQ#i!cQ#o!jQ#p!kQ$}$gR%Z$|SgPwQ!phQ#s!nR$n#tZfPhw!n#ta!b[`a!V!^!`#d#eR#b!^R!g^R!i_R#n!iS$g#m$hR%X${V$e#m$h${Q!rjR#w!rQdOShPwU!ldh#tR#t!nQ$Q#SU$r$Q$x%UQ$x$[R%U$sQ#_!ZR$Y#_Q$t$QR%V$tQpUS!vp$pR$p#}Q$l#qR%R$lQ!ogS#u!o#vR#v!pQ#f!_R$`#fQ$h#mR%O$hQ$|$gR%Y$|_cOPdhw!n#t^UOPdhw!n#tQ!uoQ!}tQ#OuQ#PvQ#}#RR$a#hR$R#SQ!VZQ!d]Q#V!TQ#q!m[$P#S$Q$[$s$x%UQ$S#UQ$U#XS$j#q$lQ$o#{R%Q$kR$O#RQiPR#QwQ!c[Q!kaR#Y!VU!_[a!VQ!j`Q#c!^Q#g!`Q$^#dR$_#e",nodeNames:" Unit VariableName Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector . ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee CallLiteral CallTag ParenthesizedContent ] [ LineNames LineName , PseudoClassName ArgList IdSelector # IdName AttributeSelector AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp } { Block Declaration PropertyName Important ; ImportStatement AtKeyword import KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports AtRule Styles",maxTerm:117,nodeProps:[["isolate",-2,3,25,""],["openedBy",18,"(",33,"[",51,"{"],["closedBy",19,")",34,"]",52,"}"]],propSources:[MSe],skippedNodes:[0,3,88],repeatNodeCount:11,tokenData:"J^~R!^OX$}X^%u^p$}pq%uqr)Xrs.Rst/utu6duv$}vw7^wx7oxy9^yz9oz{9t{|:_|}?Q}!O?c!O!P@Q!P!Q@i!Q![Ab![!]B]!]!^CX!^!_$}!_!`Cj!`!aC{!a!b$}!b!cDw!c!}$}!}#OFa#O#P$}#P#QFr#Q#R6d#R#T$}#T#UGT#U#c$}#c#dHf#d#o$}#o#pH{#p#q6d#q#rI^#r#sIo#s#y$}#y#z%u#z$f$}$f$g%u$g#BY$}#BY#BZ%u#BZ$IS$}$IS$I_%u$I_$I|$}$I|$JO%u$JO$JT$}$JT$JU%u$JU$KV$}$KV$KW%u$KW&FU$}&FU&FV%u&FV;'S$};'S;=`JW<%lO$}`%QSOy%^z;'S%^;'S;=`%o<%lO%^`%cSp`Oy%^z;'S%^;'S;=`%o<%lO%^`%rP;=`<%l%^~%zh#[~OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^~'mh#[~p`OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^l)[UOy%^z#]%^#]#^)n#^;'S%^;'S;=`%o<%lO%^l)sUp`Oy%^z#a%^#a#b*V#b;'S%^;'S;=`%o<%lO%^l*[Up`Oy%^z#d%^#d#e*n#e;'S%^;'S;=`%o<%lO%^l*sUp`Oy%^z#c%^#c#d+V#d;'S%^;'S;=`%o<%lO%^l+[Up`Oy%^z#f%^#f#g+n#g;'S%^;'S;=`%o<%lO%^l+sUp`Oy%^z#h%^#h#i,V#i;'S%^;'S;=`%o<%lO%^l,[Up`Oy%^z#T%^#T#U,n#U;'S%^;'S;=`%o<%lO%^l,sUp`Oy%^z#b%^#b#c-V#c;'S%^;'S;=`%o<%lO%^l-[Up`Oy%^z#h%^#h#i-n#i;'S%^;'S;=`%o<%lO%^l-uS!Y[p`Oy%^z;'S%^;'S;=`%o<%lO%^~.UWOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o<%lO.R~.sOi~~.vRO;'S.R;'S;=`/P;=`O.R~/SXOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o;=`<%l.R<%lO.R~/rP;=`<%l.Rn/zYyQOy%^z!Q%^!Q![0j![!c%^!c!i0j!i#T%^#T#Z0j#Z;'S%^;'S;=`%o<%lO%^l0oYp`Oy%^z!Q%^!Q![1_![!c%^!c!i1_!i#T%^#T#Z1_#Z;'S%^;'S;=`%o<%lO%^l1dYp`Oy%^z!Q%^!Q![2S![!c%^!c!i2S!i#T%^#T#Z2S#Z;'S%^;'S;=`%o<%lO%^l2ZYg[p`Oy%^z!Q%^!Q![2y![!c%^!c!i2y!i#T%^#T#Z2y#Z;'S%^;'S;=`%o<%lO%^l3QYg[p`Oy%^z!Q%^!Q![3p![!c%^!c!i3p!i#T%^#T#Z3p#Z;'S%^;'S;=`%o<%lO%^l3uYp`Oy%^z!Q%^!Q![4e![!c%^!c!i4e!i#T%^#T#Z4e#Z;'S%^;'S;=`%o<%lO%^l4lYg[p`Oy%^z!Q%^!Q![5[![!c%^!c!i5[!i#T%^#T#Z5[#Z;'S%^;'S;=`%o<%lO%^l5aYp`Oy%^z!Q%^!Q![6P![!c%^!c!i6P!i#T%^#T#Z6P#Z;'S%^;'S;=`%o<%lO%^l6WSg[p`Oy%^z;'S%^;'S;=`%o<%lO%^d6gUOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^d7QS}Sp`Oy%^z;'S%^;'S;=`%o<%lO%^b7cSXQOy%^z;'S%^;'S;=`%o<%lO%^~7rWOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W<%lO7o~8_RO;'S7o;'S;=`8h;=`O7o~8kXOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W;=`<%l7o<%lO7o~9ZP;=`<%l7on9cSc^Oy%^z;'S%^;'S;=`%o<%lO%^~9tOb~n9{UUQkWOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^n:fWkW!SQOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^l;TUp`Oy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^l;nYp`#e[Oy%^z!Q%^!Q![;g![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^l<cYp`Oy%^z{%^{|=R|}%^}!O=R!O!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=WUp`Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=qUp`#e[Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l>[[p`#e[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^n?VSu^Oy%^z;'S%^;'S;=`%o<%lO%^l?hWkWOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^n@VUZQOy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^~@nTkWOy%^z{@}{;'S%^;'S;=`%o<%lO%^~AUSp`#]~Oy%^z;'S%^;'S;=`%o<%lO%^lAg[#e[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^bBbU^QOy%^z![%^![!]Bt!];'S%^;'S;=`%o<%lO%^bB{S_Qp`Oy%^z;'S%^;'S;=`%o<%lO%^nC^S!Z^Oy%^z;'S%^;'S;=`%o<%lO%^dCoS}SOy%^z;'S%^;'S;=`%o<%lO%^bDQU!PQOy%^z!`%^!`!aDd!a;'S%^;'S;=`%o<%lO%^bDkS!PQp`Oy%^z;'S%^;'S;=`%o<%lO%^bDzWOy%^z!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^bEk[!]Qp`Oy%^z}%^}!OEd!O!Q%^!Q![Ed![!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^nFfSr^Oy%^z;'S%^;'S;=`%o<%lO%^nFwSq^Oy%^z;'S%^;'S;=`%o<%lO%^bGWUOy%^z#b%^#b#cGj#c;'S%^;'S;=`%o<%lO%^bGoUp`Oy%^z#W%^#W#XHR#X;'S%^;'S;=`%o<%lO%^bHYS!cQp`Oy%^z;'S%^;'S;=`%o<%lO%^bHiUOy%^z#f%^#f#gHR#g;'S%^;'S;=`%o<%lO%^fIQS!UUOy%^z;'S%^;'S;=`%o<%lO%^nIcS!T^Oy%^z;'S%^;'S;=`%o<%lO%^fItU!SQOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^`JZP;=`<%l$}",tokenizers:[jSe,DSe,NSe,1,2,3,4,new hx("m~RRYZ[z{a~~g~aO#_~~dP!P!Qg~lO#`~~",28,106)],topRules:{StyleSheet:[0,4],Styles:[1,87]},specialized:[{term:101,get:n=>VSe[n]||-1},{term:59,get:n=>LSe[n]||-1},{term:102,get:n=>zSe[n]||-1}],tokenPrec:1219}),qSe=1024;let ZSe=0,Ok=class{constructor(e,t){this.from=e,this.to=t}},It=class{constructor(e={}){this.id=ZSe++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Qo.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}};It.closedBy=new It({deserialize:n=>n.split(" ")});It.openedBy=new It({deserialize:n=>n.split(" ")});It.group=new It({deserialize:n=>n.split(" ")});It.isolate=new It({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});It.contextHash=new It({perNode:!0});It.lookAhead=new It({perNode:!0});It.mounted=new It({perNode:!0});let Ox=class{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[It.mounted.id]}};const BSe=Object.create(null);let Qo=class t6{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):BSe,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new t6(e.name||"",t,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(It.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(It.group),s=-1;s<(i?i.length:0);s++){let o=t[s<0?r.name:i[s]];if(o)return o}}}};Qo.none=new Qo("",Object.create(null),0,8);const p0=new WeakMap,RV=new WeakMap;var Bn;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(Bn||(Bn={}));let Ti=class pC{constructor(e,t,r,i,s){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=Ox.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new gC(this.topNode,e)}cursorAt(e,t=0,r=0){let i=p0.get(this)||this.topNode,s=new gC(i);return s.moveTo(e,t),p0.set(this,s._tree),s}get topNode(){return new $o(this,0,0,null)}resolve(e,t=0){let r=Bg(p0.get(this)||this.topNode,e,t,!1);return p0.set(this,r),r}resolveInner(e,t=0){let r=Bg(RV.get(this)||this.topNode,e,t,!0);return RV.set(this,r),r}resolveStack(e,t=0){return GSe(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:s=this.length}=e,o=e.mode||0,a=(o&Bn.IncludeAnonymous)>0;for(let l=this.cursor(o|Bn.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=i&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:AQ(Qo.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new pC(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new pC(Qo.none,t,r,i)))}static build(e){return YSe(e)}};Ti.empty=new Ti(Qo.none,[],[],0);let FSe=class n6{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new n6(this.buffer,this.index)}},ef=class r6{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return Qo.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(i6(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,t,r){let i=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=i[a++],s[l++]=i[a++]-r;let c=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,c)}return new r6(s,o,this.set)}};function i6(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function Bg(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!r&&n instanceof $o&&n.index<0?null:n.parent;if(!o)return n;n=o}let s=r?0:Bn.IgnoreOverlays;if(r)for(let o=n,a=o.parent;a;o=a,a=o.parent)o instanceof $o&&o.index<0&&((i=a.enter(e,t,s))===null||i===void 0?void 0:i.from)!=o.from&&(n=a);for(;;){let o=n.enter(e,t,s);if(!o)return n;n=o}}let s6=class{cursor(e=0){return new gC(this,e)}getChild(e,t=null,r=null){let i=QV(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return QV(this,e,t,r)}resolve(e,t=0){return Bg(this,e,t,!1)}resolveInner(e,t=0){return Bg(this,e,t,!0)}matchContext(e){return mC(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}},$o=class xv extends s6{constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=t>0?a.length:-1;e!=c;e+=t){let u=a[e],h=l[e]+o.from;if(i6(i,r,h,h+u.length)){if(u instanceof ef){if(s&Bn.ExcludeBuffers)continue;let d=u.findChild(0,u.buffer.length,t,r-h,i);if(d>-1)return new Fg(new WSe(o,u,e,h),null,d)}else if(s&Bn.IncludeAnonymous||!u.type.isAnonymous||EQ(u)){let d;if(!(s&Bn.IgnoreMounts)&&(d=Ox.get(u))&&!d.overlay)return new xv(d.tree,h,e,o);let m=new xv(u,h,e,o);return s&Bn.IncludeAnonymous||!m.type.isAnonymous?m:m.nextChild(t<0?u.children.length-1:0,t,r,i)}}}if(s&Bn.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&Bn.IgnoreOverlays)&&(i=Ox.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:o,to:a}of i.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new xv(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function QV(n,e,t,r){let i=n.cursor(),s=[];if(!i.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=i.type.is(t),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function mC(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}let WSe=class{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}},Fg=class Xp extends s6{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return s<0?null:new Xp(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&Bn.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new Xp(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Xp(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Xp(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),t.push(0)}return new Ti(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function o6(n){if(!n.length)return null;let e=0,t=n[0];for(let s=1;s<n.length;s++){let o=n[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let r=t instanceof $o&&t.index<0?null:t.parent,i=n.slice();return r?i[e]=r:i.splice(e,1),new XSe(i,t)}let XSe=class{constructor(e,t){this.heads=e,this.node=t}get next(){return o6(this.heads)}};function GSe(n,e,t){let r=n.resolveInner(e,t),i=null;for(let s=r instanceof $o?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[r])).push(o.resolve(e,t)),s=o}else{let o=Ox.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new $o(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(Bg(a,e,t,!1))}}return i?o6(i):r}let gC=class{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof $o)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof $o?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&Bn.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Bn.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Bn.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let s=t+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&Bn.IncludeAnonymous||a instanceof ef||!a.type.isAnonymous||EQ(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;t=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)t=new Fg(this.buffer,t,this.stack[i]);return this.bufferNode=new Fg(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return mC(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return mC(this._tree,e,i);let o=r[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}};function EQ(n){return n.children.some(e=>e instanceof ef||!e.type.isAnonymous||EQ(e))}function YSe(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=qSe,reused:s=[],minRepeatType:o=r.types.length}=n,a=Array.isArray(t)?new FSe(t,t.length):t,l=r.types,c=0,u=0;function h(C,Q,O,_,x,A){let{id:T,start:w,end:R,size:j}=a,V=u,M=c;for(;j<0;)if(a.next(),j==-1){let X=s[T];O.push(X),_.push(w-C);return}else if(j==-3){c=T;return}else if(j==-4){u=T;return}else throw new RangeError(`Unrecognized record size: ${j}`);let Z=l[T],U,q,ne=w-C;if(R-w<=i&&(q=v(a.pos-Q,x))){let X=new Uint16Array(q.size-q.skip),F=a.pos-q.size,G=X.length;for(;a.pos>F;)G=S(q.start,X,G);U=new ef(X,R-q.start,r),ne=q.start-C}else{let X=a.pos-j;a.next();let F=[],G=[],K=T>=o?T:-1,re=0,Se=R;for(;a.pos>X;)K>=0&&a.id==K&&a.size>=0?(a.end<=Se-i&&(g(F,G,w,re,a.end,Se,K,V,M),re=F.length,Se=a.end),a.next()):A>2500?d(w,X,F,G):h(w,X,F,G,K,A+1);if(K>=0&&re>0&&re<F.length&&g(F,G,w,re,w,Se,K,V,M),F.reverse(),G.reverse(),K>-1&&re>0){let le=m(Z,M);U=AQ(Z,F,G,0,F.length,0,R-w,le,le)}else U=y(Z,F,G,R-w,V-R,M)}O.push(U),_.push(ne)}function d(C,Q,O,_){let x=[],A=0,T=-1;for(;a.pos>Q;){let{id:w,start:R,end:j,size:V}=a;if(V>4)a.next();else{if(T>-1&&R<T)break;T<0&&(T=j-i),x.push(w,R,j),A++,a.next()}}if(A){let w=new Uint16Array(A*4),R=x[x.length-2];for(let j=x.length-3,V=0;j>=0;j-=3)w[V++]=x[j],w[V++]=x[j+1]-R,w[V++]=x[j+2]-R,w[V++]=V;O.push(new ef(w,x[2]-R,r)),_.push(R-C)}}function m(C,Q){return(O,_,x)=>{let A=0,T=O.length-1,w,R;if(T>=0&&(w=O[T])instanceof Ti){if(!T&&w.type==C&&w.length==x)return w;(R=w.prop(It.lookAhead))&&(A=_[T]+w.length+R)}return y(C,O,_,x,A,Q)}}function g(C,Q,O,_,x,A,T,w,R){let j=[],V=[];for(;C.length>_;)j.push(C.pop()),V.push(Q.pop()+O-x);C.push(y(r.types[T],j,V,A-x,w-A,R)),Q.push(x-O)}function y(C,Q,O,_,x,A,T){if(A){let w=[It.contextHash,A];T=T?[w].concat(T):[w]}if(x>25){let w=[It.lookAhead,x];T=T?[w].concat(T):[w]}return new Ti(C,Q,O,_,T)}function v(C,Q){let O=a.fork(),_=0,x=0,A=0,T=O.end-i,w={size:0,start:0,skip:0};e:for(let R=O.pos-C;O.pos>R;){let j=O.size;if(O.id==Q&&j>=0){w.size=_,w.start=x,w.skip=A,A+=4,_+=4,O.next();continue}let V=O.pos-j;if(j<0||V<R||O.start<T)break;let M=O.id>=o?4:0,Z=O.start;for(O.next();O.pos>V;){if(O.size<0)if(O.size==-3)M+=4;else break e;else O.id>=o&&(M+=4);O.next()}x=Z,_+=j,A+=M}return(Q<0||_==C)&&(w.size=_,w.start=x,w.skip=A),w.size>4?w:void 0}function S(C,Q,O){let{id:_,start:x,end:A,size:T}=a;if(a.next(),T>=0&&_<o){let w=O;if(T>4){let R=a.pos-(T-4);for(;a.pos>R;)O=S(C,Q,O)}Q[--O]=w,Q[--O]=A-C,Q[--O]=x-C,Q[--O]=_}else T==-3?c=_:T==-4&&(u=_);return O}let b=[],k=[];for(;a.pos>0;)h(n.start||0,n.bufferStart||0,b,k,-1,0);let $=(e=n.length)!==null&&e!==void 0?e:b.length?k[0]+b[0].length:0;return new Ti(l[n.topID],b.reverse(),k.reverse(),$)}const $V=new WeakMap;function bv(n,e){if(!n.isAnonymous||e instanceof ef||e.type!=n)return 1;let t=$V.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof Ti)){t=1;break}t+=bv(n,r)}$V.set(e,t)}return t}function AQ(n,e,t,r,i,s,o,a,l){let c=0;for(let g=r;g<i;g++)c+=bv(n,e[g]);let u=Math.ceil(c*1.5/8),h=[],d=[];function m(g,y,v,S,b){for(let k=v;k<S;){let $=k,C=y[k],Q=bv(n,g[k]);for(k++;k<S;k++){let O=bv(n,g[k]);if(Q+O>=u)break;Q+=O}if(k==$+1){if(Q>u){let O=g[$];m(O.children,O.positions,0,O.children.length,y[$]+b);continue}h.push(g[$])}else{let O=y[k-1]+g[k-1].length-C;h.push(AQ(n,g,y,$,k,C,O,null,l))}d.push(C+b-s)}}return m(e,t,r,i,0),(a||l)(h,d,o)}class HSe{constructor(){this.map=new WeakMap}setBuffer(e,t,r){let i=this.map.get(e);i||this.map.set(e,i=new Map),i.set(t,r)}getBuffer(e,t){let r=this.map.get(e);return r&&r.get(t)}set(e,t){e instanceof Fg?this.setBuffer(e.context.buffer,e.index,t):e instanceof $o&&this.map.set(e.tree,t)}get(e){return e instanceof Fg?this.getBuffer(e.context.buffer,e.index):e instanceof $o?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}let Sv=class OC{constructor(e,t,r,i,s=!1,o=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],r=!1){let i=[new OC(0,e.length,e,0,!1,r)];for(let s of t)s.to>e.length&&i.push(s);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let u=a<t.length?t[a]:null,h=u?u.fromA:1e9;if(h-l>=r)for(;o&&o.from<h;){let d=o;if(l>=d.from||h<=d.to||c){let m=Math.max(d.from,l)-c,g=Math.min(d.to,h)-c;d=m>=g?null:new OC(m,g,d.tree,d.offset+c,a>0,!!u)}if(d&&i.push(d),o.to>h)break;o=s<e.length?e[s++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return i}},KSe=class{startParse(e,t,r){return typeof e=="string"&&(e=new JSe(e)),r=r?r.length?r.map(i=>new Ok(i.from,i.to)):[new Ok(0,0)]:[new Ok(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let s=i.advance();if(s)return s}}},JSe=class{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}};new It({perNode:!0});var yk;const Qh=new It;function e1e(n){return ce.define({combine:n?e=>e.concat(n):void 0})}const t1e=new It;let gs=class{constructor(e,t,r=[],i=""){this.data=e,this.name=i,Ne.prototype.hasOwnProperty("tree")||Object.defineProperty(Ne.prototype,"tree",{get(){return yx(this)}}),this.parser=t,this.extension=[tf.of(this),Ne.languageData.of((s,o,a)=>{let l=IV(s,o,a),c=l.type.prop(Qh);if(!c)return[];let u=s.facet(c),h=l.type.prop(t1e);if(h){let d=l.resolve(o-l.from,a);for(let m of h)if(m.test(d,s)){let g=s.facet(m.facet);return m.type=="replace"?g:g.concat(u)}}return u})].concat(r)}isActiveAt(e,t,r=-1){return IV(e,t,r).type.prop(Qh)==this.data}findRegions(e){let t=e.facet(tf);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let r=[],i=(s,o)=>{if(s.prop(Qh)==this.data){r.push({from:o,to:o+s.length});return}let a=s.prop(It.mounted);if(a){if(a.tree.prop(Qh)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+o,to:l.to+o});else r.push({from:o,to:o+s.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+o),r.length>l)return}}for(let l=0;l<s.children.length;l++){let c=s.children[l];c instanceof Ti&&i(c,s.positions[l]+o)}};return i(yx(e),0),r}get allowsNesting(){return!0}};gs.setState=$e.define();function IV(n,e,t){let r=n.facet(tf),i=yx(n).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,t,Bn.ExcludeBuffers))s.type.isTop&&(i=s);return i}let n1e=class yC extends gs{constructor(e,t,r){super(e,t,[],r),this.parser=t}static define(e){let t=e1e(e.languageData);return new yC(t,e.parser.configure({props:[Qh.add(r=>r.isTop?t:void 0)]}),e.name)}configure(e,t){return new yC(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}};function yx(n){let e=n.field(gs.state,!1);return e?e.tree:Ti.empty}let r1e=class{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}},Op=null,i1e=class vC{constructor(e,t,r=[],i,s,o,a,l){this.parser=e,this.state=t,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new vC(e,t,[],Ti.empty,0,r,[],null)}startParse(){return this.parser.startParse(new r1e(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=Ti.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(Sv.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Sv.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=Op;Op=this;try{return e()}finally{Op=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=NV(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:i,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,u,h,d)=>l.push({fromA:c,toA:u,fromB:h,toB:d})),r=Sv.applyChanges(r,l),i=Ti.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),h=e.mapPos(c.to,-1);u<h&&a.push({from:u,to:h})}}}return new vC(this.parser,t,r,i,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=NV(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends KSe{createParse(t,r,i){let s=i[0].from,o=i[i.length-1].to;return{parsedPos:s,advance(){let l=Op;if(l){for(let c of i)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new Ti(Qo.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return Op}};function NV(n,e,t){return Sv.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}let wC=class xC{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new xC(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=i1e.create(e.facet(tf).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new xC(r)}};gs.state=Bt.define({create:wC.init,update(n,e){for(let t of e.effects)if(t.is(gs.setState))return t.value;return e.startState.facet(tf)!=e.state.facet(tf)?wC.init(e.state):n.apply(e)}});let a6=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(a6=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const vk=typeof navigator<"u"&&(!((yk=navigator.scheduling)===null||yk===void 0)&&yk.isInputPending)?()=>navigator.scheduling.isInputPending():null,s1e=Mt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(gs.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(gs.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=a6(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(gs.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!vk?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<i&&r.doc.length>i+1e3,l=s.context.work(()=>vk&&vk()||Date.now()>o,i+(a?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:gs.setState.of(new wC(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>kn(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),tf=ce.define({combine(n){return n.length?n[0]:null},enables:n=>[gs.state,s1e,ue.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});let o1e=class{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}};const a1e=new It;function l1e({except:n,units:e=1}={}){return t=>{let r=n&&n.test(t.textAfter);return t.baseIndent+(r?0:e*t.unit)}}const c1e=new It;function u1e(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}let h1e=class l6{constructor(e,t){this.specs=e;let r;function i(a){let l=_n.newName();return(r||(r=Object.create(null)))["."+l]=a,l}const s=typeof t.all=="string"?t.all:t.all?i(t.all):void 0,o=t.scope;this.scope=o instanceof gs?a=>a.prop(Qh)==o.data:o?a=>a==o:void 0,this.style=Ec(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=r?new _n(r):null,this.themeType=t.themeType}static define(e,t){return new l6(e,t||{})}};N.meta,N.link,N.heading,N.emphasis,N.strong,N.strikethrough,N.keyword,N.atom,N.bool,N.url,N.contentSeparator,N.labelName,N.literal,N.inserted,N.string,N.deleted,N.regexp,N.escape,N.string,N.variableName,N.variableName,N.typeName,N.namespace,N.className,N.variableName,N.macroName,N.propertyName,N.comment,N.invalid;const d1e=Object.create(null),jV=[Qo.none],DV=[],MV=Object.create(null),f1e=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])f1e[n]=p1e(d1e,e);function wk(n,e){DV.indexOf(n)>-1||(DV.push(n),console.warn(e))}function p1e(n,e){let t=[];for(let a of e.split(" ")){let l=[];for(let c of a.split(".")){let u=n[c]||N[c];u?typeof u=="function"?l.length?l=l.map(u):wk(c,`Modifier ${c} used at start of tag`):l.length?wk(c,`Tag ${c} used as modifier`):l=Array.isArray(u)?u:[u]:wk(c,`Unknown highlighting tag ${c}`)}for(let c of l)t.push(c)}if(!t.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+t.map(a=>a.id),s=MV[i];if(s)return s.id;let o=MV[i]=Qo.define({id:jV.length,name:r,props:[Ni({[r]:t})]});return jV.push(o),o.id}Je.RTL,Je.LTR;let xk=null;function bk(){if(!xk&&typeof document=="object"&&document.body){let{style:n}=document.body,e=[],t=new Set;for(let r in n)r!="cssText"&&r!="cssFloat"&&typeof n[r]=="string"&&(/[A-Z]/.test(r)&&(r=r.replace(/[A-Z]/g,i=>"-"+i.toLowerCase())),t.has(r)||(e.push(r),t.add(r)));xk=e.sort().map(r=>({type:"property",label:r,apply:r+": "}))}return xk||[]}const VV=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(n=>({type:"class",label:n})),LV=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(n=>({type:"keyword",label:n})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(n=>({type:"constant",label:n}))),m1e=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(n=>({type:"type",label:n})),g1e=["@charset","@color-profile","@container","@counter-style","@font-face","@font-feature-values","@font-palette-values","@import","@keyframes","@layer","@media","@namespace","@page","@position-try","@property","@scope","@starting-style","@supports","@view-transition"].map(n=>({type:"keyword",label:n})),Go=/^(\w[\w-]*|-\w[\w-]*|)$/,O1e=/^-(-[\w-]*)?$/;function y1e(n,e){var t;if((n.name=="("||n.type.isError)&&(n=n.parent||n),n.name!="ArgList")return!1;let r=(t=n.parent)===null||t===void 0?void 0:t.firstChild;return(r==null?void 0:r.name)!="Callee"?!1:e.sliceString(r.from,r.to)=="var"}const zV=new HSe,v1e=["Declaration"];function w1e(n){for(let e=n;;){if(e.type.isTop)return e;if(!(e=e.parent))return n}}function c6(n,e,t){if(e.to-e.from>4096){let r=zV.get(e);if(r)return r;let i=[],s=new Set,o=e.cursor(Bn.IncludeAnonymous);if(o.firstChild())do for(let a of c6(n,o.node,t))s.has(a.label)||(s.add(a.label),i.push(a));while(o.nextSibling());return zV.set(e,i),i}else{let r=[],i=new Set;return e.cursor().iterate(s=>{var o;if(t(s)&&s.matchContext(v1e)&&((o=s.node.nextSibling)===null||o===void 0?void 0:o.name)==":"){let a=n.sliceString(s.from,s.to);i.has(a)||(i.add(a),r.push({label:a,type:"variable"}))}}),r}}const x1e=n=>e=>{let{state:t,pos:r}=e,i=yx(t).resolveInner(r,-1),s=i.type.isError&&i.from==i.to-1&&t.doc.sliceString(i.from,i.to)=="-";if(i.name=="PropertyName"||(s||i.name=="TagName")&&/^(Block|Styles)$/.test(i.resolve(i.to).name))return{from:i.from,options:bk(),validFor:Go};if(i.name=="ValueName")return{from:i.from,options:LV,validFor:Go};if(i.name=="PseudoClassName")return{from:i.from,options:VV,validFor:Go};if(n(i)||(e.explicit||s)&&y1e(i,t.doc))return{from:n(i)||s?i.from:r,options:c6(t.doc,w1e(i),n),validFor:O1e};if(i.name=="TagName"){for(let{parent:l}=i;l;l=l.parent)if(l.name=="Block")return{from:i.from,options:bk(),validFor:Go};return{from:i.from,options:m1e,validFor:Go}}if(i.name=="AtKeyword")return{from:i.from,options:g1e,validFor:Go};if(!e.explicit)return null;let o=i.resolve(r),a=o.childBefore(r);return a&&a.name==":"&&o.name=="PseudoClassSelector"?{from:r,options:VV,validFor:Go}:a&&a.name==":"&&o.name=="Declaration"||o.name=="ArgList"?{from:r,options:LV,validFor:Go}:o.name=="Block"||o.name=="Styles"?{from:r,options:bk(),validFor:Go}:null},b1e=x1e(n=>n.name=="VariableName"),vx=n1e.define({name:"css",parser:USe.configure({props:[a1e.add({Declaration:l1e()}),c1e.add({"Block KeyframeList":u1e})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function u6(){return new o1e(vx,vx.data.of({autocomplete:b1e}))}const S1e=1024;let k1e=0,Sk=class{constructor(e,t){this.from=e,this.to=t}},At=class{constructor(e={}){this.id=k1e++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Io.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}};At.closedBy=new At({deserialize:n=>n.split(" ")});At.openedBy=new At({deserialize:n=>n.split(" ")});At.group=new At({deserialize:n=>n.split(" ")});At.isolate=new At({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});At.contextHash=new At({perNode:!0});At.lookAhead=new At({perNode:!0});At.mounted=new At({perNode:!0});let wx=class{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[At.mounted.id]}};const _1e=Object.create(null);let Io=class h6{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):_1e,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new h6(e.name||"",t,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(At.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(At.group),s=-1;s<(i?i.length:0);s++){let o=t[s<0?r.name:i[s]];if(o)return o}}}};Io.none=new Io("",Object.create(null),0,8);const m0=new WeakMap,UV=new WeakMap;var nr;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(nr||(nr={}));let Pi=class bC{constructor(e,t,r,i,s){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=wx.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new _C(this.topNode,e)}cursorAt(e,t=0,r=0){let i=m0.get(this)||this.topNode,s=new _C(i);return s.moveTo(e,t),m0.set(this,s._tree),s}get topNode(){return new fc(this,0,0,null)}resolve(e,t=0){let r=Wg(m0.get(this)||this.topNode,e,t,!1);return m0.set(this,r),r}resolveInner(e,t=0){let r=Wg(UV.get(this)||this.topNode,e,t,!0);return UV.set(this,r),r}resolveStack(e,t=0){return E1e(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:s=this.length}=e,o=e.mode||0,a=(o&nr.IncludeAnonymous)>0;for(let l=this.cursor(o|nr.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=i&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:QQ(Io.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new bC(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new bC(Io.none,t,r,i)))}static build(e){return A1e(e)}};Pi.empty=new Pi(Io.none,[],[],0);let T1e=class d6{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new d6(this.buffer,this.index)}},nf=class f6{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return Io.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(p6(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,t,r){let i=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=i[a++],s[l++]=i[a++]-r;let c=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,c)}return new f6(s,o,this.set)}};function p6(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function Wg(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!r&&n instanceof fc&&n.index<0?null:n.parent;if(!o)return n;n=o}let s=r?0:nr.IgnoreOverlays;if(r)for(let o=n,a=o.parent;a;o=a,a=o.parent)o instanceof fc&&o.index<0&&((i=a.enter(e,t,s))===null||i===void 0?void 0:i.from)!=o.from&&(n=a);for(;;){let o=n.enter(e,t,s);if(!o)return n;n=o}}let m6=class{cursor(e=0){return new _C(this,e)}getChild(e,t=null,r=null){let i=qV(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return qV(this,e,t,r)}resolve(e,t=0){return Wg(this,e,t,!1)}resolveInner(e,t=0){return Wg(this,e,t,!0)}matchContext(e){return SC(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}},fc=class kv extends m6{constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=t>0?a.length:-1;e!=c;e+=t){let u=a[e],h=l[e]+o.from;if(p6(i,r,h,h+u.length)){if(u instanceof nf){if(s&nr.ExcludeBuffers)continue;let d=u.findChild(0,u.buffer.length,t,r-h,i);if(d>-1)return new kC(new P1e(o,u,e,h),null,d)}else if(s&nr.IncludeAnonymous||!u.type.isAnonymous||RQ(u)){let d;if(!(s&nr.IgnoreMounts)&&(d=wx.get(u))&&!d.overlay)return new kv(d.tree,h,e,o);let m=new kv(u,h,e,o);return s&nr.IncludeAnonymous||!m.type.isAnonymous?m:m.nextChild(t<0?u.children.length-1:0,t,r,i)}}}if(s&nr.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&nr.IgnoreOverlays)&&(i=wx.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:o,to:a}of i.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new kv(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function qV(n,e,t,r){let i=n.cursor(),s=[];if(!i.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=i.type.is(t),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function SC(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}let P1e=class{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}},kC=class Gp extends m6{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return s<0?null:new Gp(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&nr.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new Gp(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Gp(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Gp(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),t.push(0)}return new Pi(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function g6(n){if(!n.length)return null;let e=0,t=n[0];for(let s=1;s<n.length;s++){let o=n[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let r=t instanceof fc&&t.index<0?null:t.parent,i=n.slice();return r?i[e]=r:i.splice(e,1),new C1e(i,t)}let C1e=class{constructor(e,t){this.heads=e,this.node=t}get next(){return g6(this.heads)}};function E1e(n,e,t){let r=n.resolveInner(e,t),i=null;for(let s=r instanceof fc?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[r])).push(o.resolve(e,t)),s=o}else{let o=wx.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new fc(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(Wg(a,e,t,!1))}}return i?g6(i):r}let _C=class{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof fc)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof fc?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&nr.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&nr.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&nr.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let s=t+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&nr.IncludeAnonymous||a instanceof nf||!a.type.isAnonymous||RQ(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;t=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)t=new kC(this.buffer,t,this.stack[i]);return this.bufferNode=new kC(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return SC(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return SC(this._tree,e,i);let o=r[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}};function RQ(n){return n.children.some(e=>e instanceof nf||!e.type.isAnonymous||RQ(e))}function A1e(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=S1e,reused:s=[],minRepeatType:o=r.types.length}=n,a=Array.isArray(t)?new T1e(t,t.length):t,l=r.types,c=0,u=0;function h(C,Q,O,_,x,A){let{id:T,start:w,end:R,size:j}=a,V=u,M=c;for(;j<0;)if(a.next(),j==-1){let X=s[T];O.push(X),_.push(w-C);return}else if(j==-3){c=T;return}else if(j==-4){u=T;return}else throw new RangeError(`Unrecognized record size: ${j}`);let Z=l[T],U,q,ne=w-C;if(R-w<=i&&(q=v(a.pos-Q,x))){let X=new Uint16Array(q.size-q.skip),F=a.pos-q.size,G=X.length;for(;a.pos>F;)G=S(q.start,X,G);U=new nf(X,R-q.start,r),ne=q.start-C}else{let X=a.pos-j;a.next();let F=[],G=[],K=T>=o?T:-1,re=0,Se=R;for(;a.pos>X;)K>=0&&a.id==K&&a.size>=0?(a.end<=Se-i&&(g(F,G,w,re,a.end,Se,K,V,M),re=F.length,Se=a.end),a.next()):A>2500?d(w,X,F,G):h(w,X,F,G,K,A+1);if(K>=0&&re>0&&re<F.length&&g(F,G,w,re,w,Se,K,V,M),F.reverse(),G.reverse(),K>-1&&re>0){let le=m(Z,M);U=QQ(Z,F,G,0,F.length,0,R-w,le,le)}else U=y(Z,F,G,R-w,V-R,M)}O.push(U),_.push(ne)}function d(C,Q,O,_){let x=[],A=0,T=-1;for(;a.pos>Q;){let{id:w,start:R,end:j,size:V}=a;if(V>4)a.next();else{if(T>-1&&R<T)break;T<0&&(T=j-i),x.push(w,R,j),A++,a.next()}}if(A){let w=new Uint16Array(A*4),R=x[x.length-2];for(let j=x.length-3,V=0;j>=0;j-=3)w[V++]=x[j],w[V++]=x[j+1]-R,w[V++]=x[j+2]-R,w[V++]=V;O.push(new nf(w,x[2]-R,r)),_.push(R-C)}}function m(C,Q){return(O,_,x)=>{let A=0,T=O.length-1,w,R;if(T>=0&&(w=O[T])instanceof Pi){if(!T&&w.type==C&&w.length==x)return w;(R=w.prop(At.lookAhead))&&(A=_[T]+w.length+R)}return y(C,O,_,x,A,Q)}}function g(C,Q,O,_,x,A,T,w,R){let j=[],V=[];for(;C.length>_;)j.push(C.pop()),V.push(Q.pop()+O-x);C.push(y(r.types[T],j,V,A-x,w-A,R)),Q.push(x-O)}function y(C,Q,O,_,x,A,T){if(A){let w=[At.contextHash,A];T=T?[w].concat(T):[w]}if(x>25){let w=[At.lookAhead,x];T=T?[w].concat(T):[w]}return new Pi(C,Q,O,_,T)}function v(C,Q){let O=a.fork(),_=0,x=0,A=0,T=O.end-i,w={size:0,start:0,skip:0};e:for(let R=O.pos-C;O.pos>R;){let j=O.size;if(O.id==Q&&j>=0){w.size=_,w.start=x,w.skip=A,A+=4,_+=4,O.next();continue}let V=O.pos-j;if(j<0||V<R||O.start<T)break;let M=O.id>=o?4:0,Z=O.start;for(O.next();O.pos>V;){if(O.size<0)if(O.size==-3)M+=4;else break e;else O.id>=o&&(M+=4);O.next()}x=Z,_+=j,A+=M}return(Q<0||_==C)&&(w.size=_,w.start=x,w.skip=A),w.size>4?w:void 0}function S(C,Q,O){let{id:_,start:x,end:A,size:T}=a;if(a.next(),T>=0&&_<o){let w=O;if(T>4){let R=a.pos-(T-4);for(;a.pos>R;)O=S(C,Q,O)}Q[--O]=w,Q[--O]=A-C,Q[--O]=x-C,Q[--O]=_}else T==-3?c=_:T==-4&&(u=_);return O}let b=[],k=[];for(;a.pos>0;)h(n.start||0,n.bufferStart||0,b,k,-1,0);let $=(e=n.length)!==null&&e!==void 0?e:b.length?k[0]+b[0].length:0;return new Pi(l[n.topID],b.reverse(),k.reverse(),$)}const ZV=new WeakMap;function _v(n,e){if(!n.isAnonymous||e instanceof nf||e.type!=n)return 1;let t=ZV.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof Pi)){t=1;break}t+=_v(n,r)}ZV.set(e,t)}return t}function QQ(n,e,t,r,i,s,o,a,l){let c=0;for(let g=r;g<i;g++)c+=_v(n,e[g]);let u=Math.ceil(c*1.5/8),h=[],d=[];function m(g,y,v,S,b){for(let k=v;k<S;){let $=k,C=y[k],Q=_v(n,g[k]);for(k++;k<S;k++){let O=_v(n,g[k]);if(Q+O>=u)break;Q+=O}if(k==$+1){if(Q>u){let O=g[$];m(O.children,O.positions,0,O.children.length,y[$]+b);continue}h.push(g[$])}else{let O=y[k-1]+g[k-1].length-C;h.push(QQ(n,g,y,$,k,C,O,null,l))}d.push(C+b-s)}}return m(e,t,r,i,0),(a||l)(h,d,o)}let Tv=class TC{constructor(e,t,r,i,s=!1,o=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],r=!1){let i=[new TC(0,e.length,e,0,!1,r)];for(let s of t)s.to>e.length&&i.push(s);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let u=a<t.length?t[a]:null,h=u?u.fromA:1e9;if(h-l>=r)for(;o&&o.from<h;){let d=o;if(l>=d.from||h<=d.to||c){let m=Math.max(d.from,l)-c,g=Math.min(d.to,h)-c;d=m>=g?null:new TC(m,g,d.tree,d.offset+c,a>0,!!u)}if(d&&i.push(d),o.to>h)break;o=s<e.length?e[s++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return i}},R1e=class{startParse(e,t,r){return typeof e=="string"&&(e=new Q1e(e)),r=r?r.length?r.map(i=>new Sk(i.from,i.to)):[new Sk(0,0)]:[new Sk(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let s=i.advance();if(s)return s}}},Q1e=class{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}};new At({perNode:!0});var kk;const $h=new At;function $1e(n){return ce.define({combine:n?e=>e.concat(n):void 0})}const I1e=new At;let Os=class{constructor(e,t,r=[],i=""){this.data=e,this.name=i,Ne.prototype.hasOwnProperty("tree")||Object.defineProperty(Ne.prototype,"tree",{get(){return Xg(this)}}),this.parser=t,this.extension=[rf.of(this),Ne.languageData.of((s,o,a)=>{let l=BV(s,o,a),c=l.type.prop($h);if(!c)return[];let u=s.facet(c),h=l.type.prop(I1e);if(h){let d=l.resolve(o-l.from,a);for(let m of h)if(m.test(d,s)){let g=s.facet(m.facet);return m.type=="replace"?g:g.concat(u)}}return u})].concat(r)}isActiveAt(e,t,r=-1){return BV(e,t,r).type.prop($h)==this.data}findRegions(e){let t=e.facet(rf);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let r=[],i=(s,o)=>{if(s.prop($h)==this.data){r.push({from:o,to:o+s.length});return}let a=s.prop(At.mounted);if(a){if(a.tree.prop($h)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+o,to:l.to+o});else r.push({from:o,to:o+s.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+o),r.length>l)return}}for(let l=0;l<s.children.length;l++){let c=s.children[l];c instanceof Pi&&i(c,s.positions[l]+o)}};return i(Xg(e),0),r}get allowsNesting(){return!0}};Os.setState=$e.define();function BV(n,e,t){let r=n.facet(rf),i=Xg(n).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,t,nr.ExcludeBuffers))s.type.isTop&&(i=s);return i}let N1e=class PC extends Os{constructor(e,t,r){super(e,t,[],r),this.parser=t}static define(e){let t=$1e(e.languageData);return new PC(t,e.parser.configure({props:[$h.add(r=>r.isTop?t:void 0)]}),e.name)}configure(e,t){return new PC(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}};function Xg(n){let e=n.field(Os.state,!1);return e?e.tree:Pi.empty}let j1e=class{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}},yp=null,D1e=class CC{constructor(e,t,r=[],i,s,o,a,l){this.parser=e,this.state=t,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new CC(e,t,[],Pi.empty,0,r,[],null)}startParse(){return this.parser.startParse(new j1e(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=Pi.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(Tv.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Tv.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=yp;yp=this;try{return e()}finally{yp=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=FV(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:i,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,u,h,d)=>l.push({fromA:c,toA:u,fromB:h,toB:d})),r=Tv.applyChanges(r,l),i=Pi.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),h=e.mapPos(c.to,-1);u<h&&a.push({from:u,to:h})}}}return new CC(this.parser,t,r,i,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=FV(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends R1e{createParse(t,r,i){let s=i[0].from,o=i[i.length-1].to;return{parsedPos:s,advance(){let l=yp;if(l){for(let c of i)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new Pi(Io.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return yp}};function FV(n,e,t){return Tv.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}let EC=class AC{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new AC(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=D1e.create(e.facet(rf).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new AC(r)}};Os.state=Bt.define({create:EC.init,update(n,e){for(let t of e.effects)if(t.is(Os.setState))return t.value;return e.startState.facet(rf)!=e.state.facet(rf)?EC.init(e.state):n.apply(e)}});let O6=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(O6=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const _k=typeof navigator<"u"&&(!((kk=navigator.scheduling)===null||kk===void 0)&&kk.isInputPending)?()=>navigator.scheduling.isInputPending():null,M1e=Mt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Os.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Os.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=O6(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(Os.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!_k?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<i&&r.doc.length>i+1e3,l=s.context.work(()=>_k&&_k()||Date.now()>o,i+(a?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Os.setState.of(new EC(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>kn(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),rf=ce.define({combine(n){return n.length?n[0]:null},enables:n=>[Os.state,M1e,ue.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});let V1e=class{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}};const L1e=new At,z1e=new At;let U1e=class y6{constructor(e,t){this.specs=e;let r;function i(a){let l=_n.newName();return(r||(r=Object.create(null)))["."+l]=a,l}const s=typeof t.all=="string"?t.all:t.all?i(t.all):void 0,o=t.scope;this.scope=o instanceof Os?a=>a.prop($h)==o.data:o?a=>a==o:void 0,this.style=Ec(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=r?new _n(r):null,this.themeType=t.themeType}static define(e,t){return new y6(e,t||{})}};N.meta,N.link,N.heading,N.emphasis,N.strong,N.strikethrough,N.keyword,N.atom,N.bool,N.url,N.contentSeparator,N.labelName,N.literal,N.inserted,N.string,N.deleted,N.regexp,N.escape,N.string,N.variableName,N.variableName,N.typeName,N.namespace,N.className,N.variableName,N.macroName,N.propertyName,N.comment,N.invalid;const q1e=new At,Z1e=Object.create(null),WV=[Io.none],XV=[],GV=Object.create(null),B1e=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])B1e[n]=F1e(Z1e,e);function Tk(n,e){XV.indexOf(n)>-1||(XV.push(n),console.warn(e))}function F1e(n,e){let t=[];for(let a of e.split(" ")){let l=[];for(let c of a.split(".")){let u=n[c]||N[c];u?typeof u=="function"?l.length?l=l.map(u):Tk(c,`Modifier ${c} used at start of tag`):l.length?Tk(c,`Tag ${c} used as modifier`):l=Array.isArray(u)?u:[u]:Tk(c,`Unknown highlighting tag ${c}`)}for(let c of l)t.push(c)}if(!t.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+t.map(a=>a.id),s=GV[i];if(s)return s.id;let o=GV[i]=Io.define({id:WV.length,name:r,props:[Ni({[r]:t})]});return WV.push(o),o.id}Je.RTL,Je.LTR;const vp=["_blank","_self","_top","_parent"],Pk=["ascii","utf-8","utf-16","latin1","latin1"],Ck=["get","post","put","delete"],Ek=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],fi=["true","false"],Pe={},W1e={a:{attrs:{href:null,ping:null,type:null,media:null,target:vp,hreflang:null}},abbr:Pe,address:Pe,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:Pe,aside:Pe,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:Pe,base:{attrs:{href:null,target:vp}},bdi:Pe,bdo:Pe,blockquote:{attrs:{cite:null}},body:Pe,br:Pe,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:Ek,formmethod:Ck,formnovalidate:["novalidate"],formtarget:vp,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:Pe,center:Pe,cite:Pe,code:Pe,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:Pe,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:Pe,div:Pe,dl:Pe,dt:Pe,em:Pe,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:Pe,figure:Pe,footer:Pe,form:{attrs:{action:null,name:null,"accept-charset":Pk,autocomplete:["on","off"],enctype:Ek,method:Ck,novalidate:["novalidate"],target:vp}},h1:Pe,h2:Pe,h3:Pe,h4:Pe,h5:Pe,h6:Pe,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:Pe,hgroup:Pe,hr:Pe,html:{attrs:{manifest:null}},i:Pe,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:Ek,formmethod:Ck,formnovalidate:["novalidate"],formtarget:vp,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:Pe,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:Pe,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:Pe,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:Pk,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:Pe,noscript:Pe,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:Pe,param:{attrs:{name:null,value:null}},pre:Pe,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:Pe,rt:Pe,ruby:Pe,samp:Pe,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:Pk}},section:Pe,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:Pe,source:{attrs:{src:null,type:null,media:null}},span:Pe,strong:Pe,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:Pe,summary:Pe,sup:Pe,table:Pe,tbody:Pe,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:Pe,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:Pe,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:Pe,time:{attrs:{datetime:null}},title:Pe,tr:Pe,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:Pe,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:Pe},v6={accesskey:null,class:null,contenteditable:fi,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:fi,autocorrect:fi,autocapitalize:fi,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":fi,"aria-autocomplete":["inline","list","both","none"],"aria-busy":fi,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":fi,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":fi,"aria-hidden":fi,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":fi,"aria-multiselectable":fi,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":fi,"aria-relevant":null,"aria-required":fi,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},w6="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map(n=>"on"+n);for(let n of w6)v6[n]=null;class xx{constructor(e,t){this.tags=Object.assign(Object.assign({},W1e),e),this.globalAttrs=Object.assign(Object.assign({},v6),t),this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}}xx.default=new xx;function sf(n,e,t=n.length){if(!e)return"";let r=e.firstChild,i=r&&r.getChild("TagName");return i?n.sliceString(i.from,Math.min(i.to,t)):""}function of(n,e=!1){for(;n;n=n.parent)if(n.name=="Element")if(e)e=!1;else return n;return null}function x6(n,e,t){let r=t.tags[sf(n,of(e))];return(r==null?void 0:r.children)||t.allTags}function $Q(n,e){let t=[];for(let r=of(e);r&&!r.type.isTop;r=of(r.parent)){let i=sf(n,r);if(i&&r.lastChild.name=="CloseTag")break;i&&t.indexOf(i)<0&&(e.name=="EndTag"||e.from>=r.firstChild.to)&&t.push(i)}return t}const b6=/^[:\-\.\w\u00b7-\uffff]*$/;function YV(n,e,t,r,i){let s=/\s*>/.test(n.sliceDoc(i,i+5))?"":">",o=of(t,!0);return{from:r,to:i,options:x6(n.doc,o,e).map(a=>({label:a,type:"type"})).concat($Q(n.doc,t).map((a,l)=>({label:"/"+a,apply:"/"+a+s,type:"type",boost:99-l}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function HV(n,e,t,r){let i=/\s*>/.test(n.sliceDoc(r,r+5))?"":">";return{from:t,to:r,options:$Q(n.doc,e).map((s,o)=>({label:s,apply:s+i,type:"type",boost:99-o})),validFor:b6}}function X1e(n,e,t,r){let i=[],s=0;for(let o of x6(n.doc,t,e))i.push({label:"<"+o,type:"type"});for(let o of $Q(n.doc,t))i.push({label:"</"+o+">",type:"type",boost:99-s++});return{from:r,to:r,options:i,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function G1e(n,e,t,r,i){let s=of(t),o=s?e.tags[sf(n.doc,s)]:null,a=o&&o.attrs?Object.keys(o.attrs):[],l=o&&o.globalAttrs===!1?a:a.length?a.concat(e.globalAttrNames):e.globalAttrNames;return{from:r,to:i,options:l.map(c=>({label:c,type:"property"})),validFor:b6}}function Y1e(n,e,t,r,i){var s;let o=(s=t.parent)===null||s===void 0?void 0:s.getChild("AttributeName"),a=[],l;if(o){let c=n.sliceDoc(o.from,o.to),u=e.globalAttrs[c];if(!u){let h=of(t),d=h?e.tags[sf(n.doc,h)]:null;u=(d==null?void 0:d.attrs)&&d.attrs[c]}if(u){let h=n.sliceDoc(r,i).toLowerCase(),d='"',m='"';/^['"]/.test(h)?(l=h[0]=='"'?/^[^"]*$/:/^[^']*$/,d="",m=n.sliceDoc(i,i+1)==h[0]?"":h[0],h=h.slice(1),r++):l=/^[^\s<>='"]*$/;for(let g of u)a.push({label:g,apply:d+g+m,type:"constant"})}}return{from:r,to:i,options:a,validFor:l}}function H1e(n,e){let{state:t,pos:r}=e,i=Xg(t).resolveInner(r,-1),s=i.resolve(r);for(let o=r,a;s==i&&(a=i.childBefore(o));){let l=a.lastChild;if(!l||!l.type.isError||l.from<l.to)break;s=i=a,o=l.from}return i.name=="TagName"?i.parent&&/CloseTag$/.test(i.parent.name)?HV(t,i,i.from,r):YV(t,n,i,i.from,r):i.name=="StartTag"?YV(t,n,i,r,r):i.name=="StartCloseTag"||i.name=="IncompleteCloseTag"?HV(t,i,r,r):i.name=="OpenTag"||i.name=="SelfClosingTag"||i.name=="AttributeName"?G1e(t,n,i,i.name=="AttributeName"?i.from:r,r):i.name=="Is"||i.name=="AttributeValue"||i.name=="UnquotedAttributeValue"?Y1e(t,n,i,i.name=="Is"?r:i.from,r):e.explicit&&(s.name=="Element"||s.name=="Text"||s.name=="Document")?X1e(t,n,i,r):null}function K1e(n){let{extraTags:e,extraGlobalAttributes:t}=n,r=t||e?new xx(e,t):xx.default;return i=>H1e(r,i)}const J1e=Oo.parser.configure({top:"SingleExpression"}),S6=[{tag:"script",attrs:n=>n.type=="text/typescript"||n.lang=="ts",parser:u9.parser},{tag:"script",attrs:n=>n.type=="text/babel"||n.type=="text/jsx",parser:h9.parser},{tag:"script",attrs:n=>n.type=="text/typescript-jsx",parser:d9.parser},{tag:"script",attrs(n){return/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(n.type)},parser:J1e},{tag:"script",attrs(n){return!n.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(n.type)},parser:Oo.parser},{tag:"style",attrs(n){return(!n.lang||n.lang=="css")&&(!n.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(n.type))},parser:vx.parser}],k6=[{name:"style",parser:vx.parser.configure({top:"Styles"})}].concat(w6.map(n=>({name:n,parser:Oo.parser}))),_6=N1e.define({name:"html",parser:bSe.configure({props:[L1e.add({Element(n){let e=/^(\s*)(<\/)?/.exec(n.textAfter);return n.node.to<=n.pos+e[0].length?n.continue():n.lineIndent(n.node.from)+(e[2]?0:n.unit)},"OpenTag CloseTag SelfClosingTag"(n){return n.column(n.node.from)+n.unit},Document(n){if(n.pos+/\s*/.exec(n.textAfter)[0].length<n.node.to)return n.continue();let e=null,t;for(let r=n.node;;){let i=r.lastChild;if(!i||i.name!="Element"||i.to!=r.to)break;e=r=i}return e&&!((t=e.lastChild)&&(t.name=="CloseTag"||t.name=="SelfClosingTag"))?n.lineIndent(e.from)+n.unit:null}}),z1e.add({Element(n){let e=n.firstChild,t=n.lastChild;return!e||e.name!="OpenTag"?null:{from:e.to,to:t.name=="CloseTag"?t.from:n.to}}}),q1e.add({"OpenTag CloseTag":n=>n.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-._"}}),Pv=_6.configure({wrap:H9(S6,k6)});function eke(n={}){let e="",t;n.matchClosingTags===!1&&(e="noMatch"),n.selfClosingTags===!0&&(e=(e?e+" ":"")+"selfClosing"),(n.nestedLanguages&&n.nestedLanguages.length||n.nestedAttributes&&n.nestedAttributes.length)&&(t=H9((n.nestedLanguages||[]).concat(S6),(n.nestedAttributes||[]).concat(k6)));let r=t?_6.configure({wrap:t,dialect:e}):e?Pv.configure({dialect:e}):Pv;return new V1e(r,[Pv.data.of({autocomplete:K1e(n)}),n.autoCloseTags!==!1?tke:[],OQ().support,u6().support])}const KV=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),tke=ue.inputHandler.of((n,e,t,r,i)=>{if(n.composing||n.state.readOnly||e!=t||r!=">"&&r!="/"||!Pv.isActiveAt(n.state,e,-1))return!1;let s=i(),{state:o}=s,a=o.changeByRange(l=>{var c,u,h;let d=o.doc.sliceString(l.from-1,l.to)==r,{head:m}=l,g=Xg(o).resolveInner(m,-1),y;if(d&&r==">"&&g.name=="EndTag"){let v=g.parent;if(((u=(c=v.parent)===null||c===void 0?void 0:c.lastChild)===null||u===void 0?void 0:u.name)!="CloseTag"&&(y=sf(o.doc,v.parent,m))&&!KV.has(y)){let S=m+(o.doc.sliceString(m,m+1)===">"?1:0),b=`</${y}>`;return{range:l,changes:{from:m,to:S,insert:b}}}}else if(d&&r=="/"&&g.name=="IncompleteCloseTag"){let v=g.parent;if(g.from==m-2&&((h=v.lastChild)===null||h===void 0?void 0:h.name)!="CloseTag"&&(y=sf(o.doc,v,m))&&!KV.has(y)){let S=m+(o.doc.sliceString(m,m+1)===">"?1:0),b=`${y}>`;return{range:J.cursor(m+b.length,-1),changes:{from:m,to:S,insert:b}}}}return{range:l}});return a.changes.empty?!1:(n.dispatch([s,o.update(a,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),nke=Ni({String:N.string,Number:N.number,"True False":N.bool,PropertyName:N.propertyName,Null:N.null,", :":N.separator,"[ ]":N.squareBracket,"{ }":N.brace}),rke=Ia.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#ClOOQO'#Cr'#CrQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CtOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59W,59WO!iQPO,59WOVQPO,59QOqQPO'#CmO!nQPO,59`OOQO1G.k1G.kOVQPO'#CnO!vQPO,59aOOQO1G.r1G.rOOQO1G.l1G.lOOQO,59X,59XOOQO-E6k-E6kOOQO,59Y,59YOOQO-E6l-E6l",stateData:"#O~OeOS~OQSORSOSSOTSOWQO_ROgPO~OVXOgUO~O^[O~PVO[^O~O]_OVhX~OVaO~O]bO^iX~O^dO~O]_OVha~O]bO^ia~O",goto:"!kjPPPPPPkPPkqwPPPPk{!RPPP!XP!e!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:" JsonText True False Null Number String } { Object Property PropertyName : , ] [ Array",maxTerm:25,nodeProps:[["isolate",-2,6,11,""],["openedBy",7,"{",14,"["],["closedBy",8,"}",15,"]"]],propSources:[nke],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oe~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Og~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zO]~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yO[~~'OO_~~'TO^~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),ike=1024;let ske=0,Ak=class{constructor(e,t){this.from=e,this.to=t}},Nt=class{constructor(e={}){this.id=ske++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=No.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}};Nt.closedBy=new Nt({deserialize:n=>n.split(" ")});Nt.openedBy=new Nt({deserialize:n=>n.split(" ")});Nt.group=new Nt({deserialize:n=>n.split(" ")});Nt.isolate=new Nt({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});Nt.contextHash=new Nt({perNode:!0});Nt.lookAhead=new Nt({perNode:!0});Nt.mounted=new Nt({perNode:!0});let bx=class{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[Nt.mounted.id]}};const oke=Object.create(null);let No=class T6{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):oke,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new T6(e.name||"",t,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Nt.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(Nt.group),s=-1;s<(i?i.length:0);s++){let o=t[s<0?r.name:i[s]];if(o)return o}}}};No.none=new No("",Object.create(null),0,8);const g0=new WeakMap,JV=new WeakMap;var rr;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(rr||(rr={}));let Ci=class RC{constructor(e,t,r,i,s){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=bx.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new IC(this.topNode,e)}cursorAt(e,t=0,r=0){let i=g0.get(this)||this.topNode,s=new IC(i);return s.moveTo(e,t),g0.set(this,s._tree),s}get topNode(){return new pc(this,0,0,null)}resolve(e,t=0){let r=Gg(g0.get(this)||this.topNode,e,t,!1);return g0.set(this,r),r}resolveInner(e,t=0){let r=Gg(JV.get(this)||this.topNode,e,t,!0);return JV.set(this,r),r}resolveStack(e,t=0){return uke(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:s=this.length}=e,o=e.mode||0,a=(o&rr.IncludeAnonymous)>0;for(let l=this.cursor(o|rr.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=i&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:NQ(No.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new RC(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new RC(No.none,t,r,i)))}static build(e){return hke(e)}};Ci.empty=new Ci(No.none,[],[],0);let ake=class P6{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new P6(this.buffer,this.index)}},af=class C6{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return No.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(E6(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,t,r){let i=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=i[a++],s[l++]=i[a++]-r;let c=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,c)}return new C6(s,o,this.set)}};function E6(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function Gg(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!r&&n instanceof pc&&n.index<0?null:n.parent;if(!o)return n;n=o}let s=r?0:rr.IgnoreOverlays;if(r)for(let o=n,a=o.parent;a;o=a,a=o.parent)o instanceof pc&&o.index<0&&((i=a.enter(e,t,s))===null||i===void 0?void 0:i.from)!=o.from&&(n=a);for(;;){let o=n.enter(e,t,s);if(!o)return n;n=o}}let A6=class{cursor(e=0){return new IC(this,e)}getChild(e,t=null,r=null){let i=eL(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return eL(this,e,t,r)}resolve(e,t=0){return Gg(this,e,t,!1)}resolveInner(e,t=0){return Gg(this,e,t,!0)}matchContext(e){return QC(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}},pc=class Cv extends A6{constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=t>0?a.length:-1;e!=c;e+=t){let u=a[e],h=l[e]+o.from;if(E6(i,r,h,h+u.length)){if(u instanceof af){if(s&rr.ExcludeBuffers)continue;let d=u.findChild(0,u.buffer.length,t,r-h,i);if(d>-1)return new $C(new lke(o,u,e,h),null,d)}else if(s&rr.IncludeAnonymous||!u.type.isAnonymous||IQ(u)){let d;if(!(s&rr.IgnoreMounts)&&(d=bx.get(u))&&!d.overlay)return new Cv(d.tree,h,e,o);let m=new Cv(u,h,e,o);return s&rr.IncludeAnonymous||!m.type.isAnonymous?m:m.nextChild(t<0?u.children.length-1:0,t,r,i)}}}if(s&rr.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&rr.IgnoreOverlays)&&(i=bx.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:o,to:a}of i.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new Cv(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function eL(n,e,t,r){let i=n.cursor(),s=[];if(!i.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=i.type.is(t),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function QC(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}let lke=class{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}},$C=class Yp extends A6{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return s<0?null:new Yp(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&rr.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new Yp(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Yp(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Yp(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),t.push(0)}return new Ci(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function R6(n){if(!n.length)return null;let e=0,t=n[0];for(let s=1;s<n.length;s++){let o=n[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let r=t instanceof pc&&t.index<0?null:t.parent,i=n.slice();return r?i[e]=r:i.splice(e,1),new cke(i,t)}let cke=class{constructor(e,t){this.heads=e,this.node=t}get next(){return R6(this.heads)}};function uke(n,e,t){let r=n.resolveInner(e,t),i=null;for(let s=r instanceof pc?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[r])).push(o.resolve(e,t)),s=o}else{let o=bx.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new pc(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(Gg(a,e,t,!1))}}return i?R6(i):r}let IC=class{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof pc)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof pc?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&rr.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&rr.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&rr.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let s=t+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&rr.IncludeAnonymous||a instanceof af||!a.type.isAnonymous||IQ(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;t=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)t=new $C(this.buffer,t,this.stack[i]);return this.bufferNode=new $C(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return QC(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return QC(this._tree,e,i);let o=r[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}};function IQ(n){return n.children.some(e=>e instanceof af||!e.type.isAnonymous||IQ(e))}function hke(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=ike,reused:s=[],minRepeatType:o=r.types.length}=n,a=Array.isArray(t)?new ake(t,t.length):t,l=r.types,c=0,u=0;function h(C,Q,O,_,x,A){let{id:T,start:w,end:R,size:j}=a,V=u,M=c;for(;j<0;)if(a.next(),j==-1){let X=s[T];O.push(X),_.push(w-C);return}else if(j==-3){c=T;return}else if(j==-4){u=T;return}else throw new RangeError(`Unrecognized record size: ${j}`);let Z=l[T],U,q,ne=w-C;if(R-w<=i&&(q=v(a.pos-Q,x))){let X=new Uint16Array(q.size-q.skip),F=a.pos-q.size,G=X.length;for(;a.pos>F;)G=S(q.start,X,G);U=new af(X,R-q.start,r),ne=q.start-C}else{let X=a.pos-j;a.next();let F=[],G=[],K=T>=o?T:-1,re=0,Se=R;for(;a.pos>X;)K>=0&&a.id==K&&a.size>=0?(a.end<=Se-i&&(g(F,G,w,re,a.end,Se,K,V,M),re=F.length,Se=a.end),a.next()):A>2500?d(w,X,F,G):h(w,X,F,G,K,A+1);if(K>=0&&re>0&&re<F.length&&g(F,G,w,re,w,Se,K,V,M),F.reverse(),G.reverse(),K>-1&&re>0){let le=m(Z,M);U=NQ(Z,F,G,0,F.length,0,R-w,le,le)}else U=y(Z,F,G,R-w,V-R,M)}O.push(U),_.push(ne)}function d(C,Q,O,_){let x=[],A=0,T=-1;for(;a.pos>Q;){let{id:w,start:R,end:j,size:V}=a;if(V>4)a.next();else{if(T>-1&&R<T)break;T<0&&(T=j-i),x.push(w,R,j),A++,a.next()}}if(A){let w=new Uint16Array(A*4),R=x[x.length-2];for(let j=x.length-3,V=0;j>=0;j-=3)w[V++]=x[j],w[V++]=x[j+1]-R,w[V++]=x[j+2]-R,w[V++]=V;O.push(new af(w,x[2]-R,r)),_.push(R-C)}}function m(C,Q){return(O,_,x)=>{let A=0,T=O.length-1,w,R;if(T>=0&&(w=O[T])instanceof Ci){if(!T&&w.type==C&&w.length==x)return w;(R=w.prop(Nt.lookAhead))&&(A=_[T]+w.length+R)}return y(C,O,_,x,A,Q)}}function g(C,Q,O,_,x,A,T,w,R){let j=[],V=[];for(;C.length>_;)j.push(C.pop()),V.push(Q.pop()+O-x);C.push(y(r.types[T],j,V,A-x,w-A,R)),Q.push(x-O)}function y(C,Q,O,_,x,A,T){if(A){let w=[Nt.contextHash,A];T=T?[w].concat(T):[w]}if(x>25){let w=[Nt.lookAhead,x];T=T?[w].concat(T):[w]}return new Ci(C,Q,O,_,T)}function v(C,Q){let O=a.fork(),_=0,x=0,A=0,T=O.end-i,w={size:0,start:0,skip:0};e:for(let R=O.pos-C;O.pos>R;){let j=O.size;if(O.id==Q&&j>=0){w.size=_,w.start=x,w.skip=A,A+=4,_+=4,O.next();continue}let V=O.pos-j;if(j<0||V<R||O.start<T)break;let M=O.id>=o?4:0,Z=O.start;for(O.next();O.pos>V;){if(O.size<0)if(O.size==-3)M+=4;else break e;else O.id>=o&&(M+=4);O.next()}x=Z,_+=j,A+=M}return(Q<0||_==C)&&(w.size=_,w.start=x,w.skip=A),w.size>4?w:void 0}function S(C,Q,O){let{id:_,start:x,end:A,size:T}=a;if(a.next(),T>=0&&_<o){let w=O;if(T>4){let R=a.pos-(T-4);for(;a.pos>R;)O=S(C,Q,O)}Q[--O]=w,Q[--O]=A-C,Q[--O]=x-C,Q[--O]=_}else T==-3?c=_:T==-4&&(u=_);return O}let b=[],k=[];for(;a.pos>0;)h(n.start||0,n.bufferStart||0,b,k,-1,0);let $=(e=n.length)!==null&&e!==void 0?e:b.length?k[0]+b[0].length:0;return new Ci(l[n.topID],b.reverse(),k.reverse(),$)}const tL=new WeakMap;function Ev(n,e){if(!n.isAnonymous||e instanceof af||e.type!=n)return 1;let t=tL.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof Ci)){t=1;break}t+=Ev(n,r)}tL.set(e,t)}return t}function NQ(n,e,t,r,i,s,o,a,l){let c=0;for(let g=r;g<i;g++)c+=Ev(n,e[g]);let u=Math.ceil(c*1.5/8),h=[],d=[];function m(g,y,v,S,b){for(let k=v;k<S;){let $=k,C=y[k],Q=Ev(n,g[k]);for(k++;k<S;k++){let O=Ev(n,g[k]);if(Q+O>=u)break;Q+=O}if(k==$+1){if(Q>u){let O=g[$];m(O.children,O.positions,0,O.children.length,y[$]+b);continue}h.push(g[$])}else{let O=y[k-1]+g[k-1].length-C;h.push(NQ(n,g,y,$,k,C,O,null,l))}d.push(C+b-s)}}return m(e,t,r,i,0),(a||l)(h,d,o)}let Av=class NC{constructor(e,t,r,i,s=!1,o=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],r=!1){let i=[new NC(0,e.length,e,0,!1,r)];for(let s of t)s.to>e.length&&i.push(s);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let u=a<t.length?t[a]:null,h=u?u.fromA:1e9;if(h-l>=r)for(;o&&o.from<h;){let d=o;if(l>=d.from||h<=d.to||c){let m=Math.max(d.from,l)-c,g=Math.min(d.to,h)-c;d=m>=g?null:new NC(m,g,d.tree,d.offset+c,a>0,!!u)}if(d&&i.push(d),o.to>h)break;o=s<e.length?e[s++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return i}},dke=class{startParse(e,t,r){return typeof e=="string"&&(e=new fke(e)),r=r?r.length?r.map(i=>new Ak(i.from,i.to)):[new Ak(0,0)]:[new Ak(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let s=i.advance();if(s)return s}}},fke=class{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}};new Nt({perNode:!0});var Rk;const Ih=new Nt;function pke(n){return ce.define({combine:n?e=>e.concat(n):void 0})}const mke=new Nt;let ys=class{constructor(e,t,r=[],i=""){this.data=e,this.name=i,Ne.prototype.hasOwnProperty("tree")||Object.defineProperty(Ne.prototype,"tree",{get(){return DC(this)}}),this.parser=t,this.extension=[lf.of(this),Ne.languageData.of((s,o,a)=>{let l=nL(s,o,a),c=l.type.prop(Ih);if(!c)return[];let u=s.facet(c),h=l.type.prop(mke);if(h){let d=l.resolve(o-l.from,a);for(let m of h)if(m.test(d,s)){let g=s.facet(m.facet);return m.type=="replace"?g:g.concat(u)}}return u})].concat(r)}isActiveAt(e,t,r=-1){return nL(e,t,r).type.prop(Ih)==this.data}findRegions(e){let t=e.facet(lf);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let r=[],i=(s,o)=>{if(s.prop(Ih)==this.data){r.push({from:o,to:o+s.length});return}let a=s.prop(Nt.mounted);if(a){if(a.tree.prop(Ih)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+o,to:l.to+o});else r.push({from:o,to:o+s.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+o),r.length>l)return}}for(let l=0;l<s.children.length;l++){let c=s.children[l];c instanceof Ci&&i(c,s.positions[l]+o)}};return i(DC(e),0),r}get allowsNesting(){return!0}};ys.setState=$e.define();function nL(n,e,t){let r=n.facet(lf),i=DC(n).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,t,rr.ExcludeBuffers))s.type.isTop&&(i=s);return i}let gke=class jC extends ys{constructor(e,t,r){super(e,t,[],r),this.parser=t}static define(e){let t=pke(e.languageData);return new jC(t,e.parser.configure({props:[Ih.add(r=>r.isTop?t:void 0)]}),e.name)}configure(e,t){return new jC(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}};function DC(n){let e=n.field(ys.state,!1);return e?e.tree:Ci.empty}let Oke=class{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}},wp=null,yke=class MC{constructor(e,t,r=[],i,s,o,a,l){this.parser=e,this.state=t,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new MC(e,t,[],Ci.empty,0,r,[],null)}startParse(){return this.parser.startParse(new Oke(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=Ci.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(Av.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Av.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=wp;wp=this;try{return e()}finally{wp=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=rL(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:i,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,u,h,d)=>l.push({fromA:c,toA:u,fromB:h,toB:d})),r=Av.applyChanges(r,l),i=Ci.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),h=e.mapPos(c.to,-1);u<h&&a.push({from:u,to:h})}}}return new MC(this.parser,t,r,i,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=rL(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends dke{createParse(t,r,i){let s=i[0].from,o=i[i.length-1].to;return{parsedPos:s,advance(){let l=wp;if(l){for(let c of i)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new Ci(No.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return wp}};function rL(n,e,t){return Av.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}let VC=class LC{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new LC(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=yke.create(e.facet(lf).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new LC(r)}};ys.state=Bt.define({create:VC.init,update(n,e){for(let t of e.effects)if(t.is(ys.setState))return t.value;return e.startState.facet(lf)!=e.state.facet(lf)?VC.init(e.state):n.apply(e)}});let Q6=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(Q6=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const Qk=typeof navigator<"u"&&(!((Rk=navigator.scheduling)===null||Rk===void 0)&&Rk.isInputPending)?()=>navigator.scheduling.isInputPending():null,vke=Mt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(ys.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(ys.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=Q6(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(ys.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!Qk?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<i&&r.doc.length>i+1e3,l=s.context.work(()=>Qk&&Qk()||Date.now()>o,i+(a?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:ys.setState.of(new VC(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>kn(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),lf=ce.define({combine(n){return n.length?n[0]:null},enables:n=>[ys.state,vke,ue.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});let wke=class{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}};const xke=new Nt;function iL({except:n,units:e=1}={}){return t=>{let r=n&&n.test(t.textAfter);return t.baseIndent+(r?0:e*t.unit)}}const bke=new Nt;function Ske(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}let kke=class $6{constructor(e,t){this.specs=e;let r;function i(a){let l=_n.newName();return(r||(r=Object.create(null)))["."+l]=a,l}const s=typeof t.all=="string"?t.all:t.all?i(t.all):void 0,o=t.scope;this.scope=o instanceof ys?a=>a.prop(Ih)==o.data:o?a=>a==o:void 0,this.style=Ec(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=r?new _n(r):null,this.themeType=t.themeType}static define(e,t){return new $6(e,t||{})}};N.meta,N.link,N.heading,N.emphasis,N.strong,N.strikethrough,N.keyword,N.atom,N.bool,N.url,N.contentSeparator,N.labelName,N.literal,N.inserted,N.string,N.deleted,N.regexp,N.escape,N.string,N.variableName,N.variableName,N.typeName,N.namespace,N.className,N.variableName,N.macroName,N.propertyName,N.comment,N.invalid;const _ke=Object.create(null),sL=[No.none],oL=[],aL=Object.create(null),Tke=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Tke[n]=Pke(_ke,e);function $k(n,e){oL.indexOf(n)>-1||(oL.push(n),console.warn(e))}function Pke(n,e){let t=[];for(let a of e.split(" ")){let l=[];for(let c of a.split(".")){let u=n[c]||N[c];u?typeof u=="function"?l.length?l=l.map(u):$k(c,`Modifier ${c} used at start of tag`):l.length?$k(c,`Tag ${c} used as modifier`):l=Array.isArray(u)?u:[u]:$k(c,`Unknown highlighting tag ${c}`)}for(let c of l)t.push(c)}if(!t.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+t.map(a=>a.id),s=aL[i];if(s)return s.id;let o=aL[i]=No.define({id:sL.length,name:r,props:[Ni({[r]:t})]});return sL.push(o),o.id}Je.RTL,Je.LTR;const Cke=gke.define({name:"json",parser:rke.configure({props:[xke.add({Object:iL({except:/^\s*\}/}),Array:iL({except:/^\s*\]/})}),bke.add({"Object Array":Ske})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function Eke(){return new wke(Cke)}const Ake=1024;let Rke=0,Ik=class{constructor(e,t){this.from=e,this.to=t}};class jt{constructor(e={}){this.id=Rke++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=es.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}}jt.closedBy=new jt({deserialize:n=>n.split(" ")});jt.openedBy=new jt({deserialize:n=>n.split(" ")});jt.group=new jt({deserialize:n=>n.split(" ")});jt.isolate=new jt({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});jt.contextHash=new jt({perNode:!0});jt.lookAhead=new jt({perNode:!0});jt.mounted=new jt({perNode:!0});class Sx{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[jt.mounted.id]}}const Qke=Object.create(null);class es{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):Qke,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new es(e.name||"",t,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(jt.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(jt.group),s=-1;s<(i?i.length:0);s++){let o=t[s<0?r.name:i[s]];if(o)return o}}}}es.none=new es("",Object.create(null),0,8);const O0=new WeakMap,lL=new WeakMap;var ir;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(ir||(ir={}));class br{constructor(e,t,r,i,s){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=Sx.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new UC(this.topNode,e)}cursorAt(e,t=0,r=0){let i=O0.get(this)||this.topNode,s=new UC(i);return s.moveTo(e,t),O0.set(this,s._tree),s}get topNode(){return new Gi(this,0,0,null)}resolve(e,t=0){let r=Yg(O0.get(this)||this.topNode,e,t,!1);return O0.set(this,r),r}resolveInner(e,t=0){let r=Yg(lL.get(this)||this.topNode,e,t,!0);return lL.set(this,r),r}resolveStack(e,t=0){return Nke(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:s=this.length}=e,o=e.mode||0,a=(o&ir.IncludeAnonymous)>0;for(let l=this.cursor(o|ir.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=i&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:MQ(es.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new br(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new br(es.none,t,r,i)))}static build(e){return jke(e)}}br.empty=new br(es.none,[],[],0);class jQ{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new jQ(this.buffer,this.index)}}class mc{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return es.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(I6(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,t,r){let i=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=i[a++],s[l++]=i[a++]-r;let c=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,c)}return new mc(s,o,this.set)}}function I6(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function Yg(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!r&&n instanceof Gi&&n.index<0?null:n.parent;if(!o)return n;n=o}let s=r?0:ir.IgnoreOverlays;if(r)for(let o=n,a=o.parent;a;o=a,a=o.parent)o instanceof Gi&&o.index<0&&((i=a.enter(e,t,s))===null||i===void 0?void 0:i.from)!=o.from&&(n=a);for(;;){let o=n.enter(e,t,s);if(!o)return n;n=o}}class N6{cursor(e=0){return new UC(this,e)}getChild(e,t=null,r=null){let i=cL(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return cL(this,e,t,r)}resolve(e,t=0){return Yg(this,e,t,!1)}resolveInner(e,t=0){return Yg(this,e,t,!0)}matchContext(e){return zC(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}}class Gi extends N6{constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=t>0?a.length:-1;e!=c;e+=t){let u=a[e],h=l[e]+o.from;if(I6(i,r,h,h+u.length)){if(u instanceof mc){if(s&ir.ExcludeBuffers)continue;let d=u.findChild(0,u.buffer.length,t,r-h,i);if(d>-1)return new Cl(new $ke(o,u,e,h),null,d)}else if(s&ir.IncludeAnonymous||!u.type.isAnonymous||DQ(u)){let d;if(!(s&ir.IgnoreMounts)&&(d=Sx.get(u))&&!d.overlay)return new Gi(d.tree,h,e,o);let m=new Gi(u,h,e,o);return s&ir.IncludeAnonymous||!m.type.isAnonymous?m:m.nextChild(t<0?u.children.length-1:0,t,r,i)}}}if(s&ir.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&ir.IgnoreOverlays)&&(i=Sx.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:o,to:a}of i.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new Gi(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function cL(n,e,t,r){let i=n.cursor(),s=[];if(!i.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=i.type.is(t),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function zC(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}class $ke{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}}class Cl extends N6{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return s<0?null:new Cl(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&ir.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new Cl(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Cl(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Cl(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),t.push(0)}return new br(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function j6(n){if(!n.length)return null;let e=0,t=n[0];for(let s=1;s<n.length;s++){let o=n[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let r=t instanceof Gi&&t.index<0?null:t.parent,i=n.slice();return r?i[e]=r:i.splice(e,1),new Ike(i,t)}class Ike{constructor(e,t){this.heads=e,this.node=t}get next(){return j6(this.heads)}}function Nke(n,e,t){let r=n.resolveInner(e,t),i=null;for(let s=r instanceof Gi?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[r])).push(o.resolve(e,t)),s=o}else{let o=Sx.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new Gi(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(Yg(a,e,t,!1))}}return i?j6(i):r}class UC{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Gi)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof Gi?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&ir.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&ir.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&ir.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let s=t+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&ir.IncludeAnonymous||a instanceof mc||!a.type.isAnonymous||DQ(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;t=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)t=new Cl(this.buffer,t,this.stack[i]);return this.bufferNode=new Cl(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return zC(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return zC(this._tree,e,i);let o=r[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}}function DQ(n){return n.children.some(e=>e instanceof mc||!e.type.isAnonymous||DQ(e))}function jke(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=Ake,reused:s=[],minRepeatType:o=r.types.length}=n,a=Array.isArray(t)?new jQ(t,t.length):t,l=r.types,c=0,u=0;function h(C,Q,O,_,x,A){let{id:T,start:w,end:R,size:j}=a,V=u,M=c;for(;j<0;)if(a.next(),j==-1){let X=s[T];O.push(X),_.push(w-C);return}else if(j==-3){c=T;return}else if(j==-4){u=T;return}else throw new RangeError(`Unrecognized record size: ${j}`);let Z=l[T],U,q,ne=w-C;if(R-w<=i&&(q=v(a.pos-Q,x))){let X=new Uint16Array(q.size-q.skip),F=a.pos-q.size,G=X.length;for(;a.pos>F;)G=S(q.start,X,G);U=new mc(X,R-q.start,r),ne=q.start-C}else{let X=a.pos-j;a.next();let F=[],G=[],K=T>=o?T:-1,re=0,Se=R;for(;a.pos>X;)K>=0&&a.id==K&&a.size>=0?(a.end<=Se-i&&(g(F,G,w,re,a.end,Se,K,V,M),re=F.length,Se=a.end),a.next()):A>2500?d(w,X,F,G):h(w,X,F,G,K,A+1);if(K>=0&&re>0&&re<F.length&&g(F,G,w,re,w,Se,K,V,M),F.reverse(),G.reverse(),K>-1&&re>0){let le=m(Z,M);U=MQ(Z,F,G,0,F.length,0,R-w,le,le)}else U=y(Z,F,G,R-w,V-R,M)}O.push(U),_.push(ne)}function d(C,Q,O,_){let x=[],A=0,T=-1;for(;a.pos>Q;){let{id:w,start:R,end:j,size:V}=a;if(V>4)a.next();else{if(T>-1&&R<T)break;T<0&&(T=j-i),x.push(w,R,j),A++,a.next()}}if(A){let w=new Uint16Array(A*4),R=x[x.length-2];for(let j=x.length-3,V=0;j>=0;j-=3)w[V++]=x[j],w[V++]=x[j+1]-R,w[V++]=x[j+2]-R,w[V++]=V;O.push(new mc(w,x[2]-R,r)),_.push(R-C)}}function m(C,Q){return(O,_,x)=>{let A=0,T=O.length-1,w,R;if(T>=0&&(w=O[T])instanceof br){if(!T&&w.type==C&&w.length==x)return w;(R=w.prop(jt.lookAhead))&&(A=_[T]+w.length+R)}return y(C,O,_,x,A,Q)}}function g(C,Q,O,_,x,A,T,w,R){let j=[],V=[];for(;C.length>_;)j.push(C.pop()),V.push(Q.pop()+O-x);C.push(y(r.types[T],j,V,A-x,w-A,R)),Q.push(x-O)}function y(C,Q,O,_,x,A,T){if(A){let w=[jt.contextHash,A];T=T?[w].concat(T):[w]}if(x>25){let w=[jt.lookAhead,x];T=T?[w].concat(T):[w]}return new br(C,Q,O,_,T)}function v(C,Q){let O=a.fork(),_=0,x=0,A=0,T=O.end-i,w={size:0,start:0,skip:0};e:for(let R=O.pos-C;O.pos>R;){let j=O.size;if(O.id==Q&&j>=0){w.size=_,w.start=x,w.skip=A,A+=4,_+=4,O.next();continue}let V=O.pos-j;if(j<0||V<R||O.start<T)break;let M=O.id>=o?4:0,Z=O.start;for(O.next();O.pos>V;){if(O.size<0)if(O.size==-3)M+=4;else break e;else O.id>=o&&(M+=4);O.next()}x=Z,_+=j,A+=M}return(Q<0||_==C)&&(w.size=_,w.start=x,w.skip=A),w.size>4?w:void 0}function S(C,Q,O){let{id:_,start:x,end:A,size:T}=a;if(a.next(),T>=0&&_<o){let w=O;if(T>4){let R=a.pos-(T-4);for(;a.pos>R;)O=S(C,Q,O)}Q[--O]=w,Q[--O]=A-C,Q[--O]=x-C,Q[--O]=_}else T==-3?c=_:T==-4&&(u=_);return O}let b=[],k=[];for(;a.pos>0;)h(n.start||0,n.bufferStart||0,b,k,-1,0);let $=(e=n.length)!==null&&e!==void 0?e:b.length?k[0]+b[0].length:0;return new br(l[n.topID],b.reverse(),k.reverse(),$)}const uL=new WeakMap;function Rv(n,e){if(!n.isAnonymous||e instanceof mc||e.type!=n)return 1;let t=uL.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof br)){t=1;break}t+=Rv(n,r)}uL.set(e,t)}return t}function MQ(n,e,t,r,i,s,o,a,l){let c=0;for(let g=r;g<i;g++)c+=Rv(n,e[g]);let u=Math.ceil(c*1.5/8),h=[],d=[];function m(g,y,v,S,b){for(let k=v;k<S;){let $=k,C=y[k],Q=Rv(n,g[k]);for(k++;k<S;k++){let O=Rv(n,g[k]);if(Q+O>=u)break;Q+=O}if(k==$+1){if(Q>u){let O=g[$];m(O.children,O.positions,0,O.children.length,y[$]+b);continue}h.push(g[$])}else{let O=y[k-1]+g[k-1].length-C;h.push(MQ(n,g,y,$,k,C,O,null,l))}d.push(C+b-s)}}return m(e,t,r,i,0),(a||l)(h,d,o)}class du{constructor(e,t,r,i,s=!1,o=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],r=!1){let i=[new du(0,e.length,e,0,!1,r)];for(let s of t)s.to>e.length&&i.push(s);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let u=a<t.length?t[a]:null,h=u?u.fromA:1e9;if(h-l>=r)for(;o&&o.from<h;){let d=o;if(l>=d.from||h<=d.to||c){let m=Math.max(d.from,l)-c,g=Math.min(d.to,h)-c;d=m>=g?null:new du(m,g,d.tree,d.offset+c,a>0,!!u)}if(d&&i.push(d),o.to>h)break;o=s<e.length?e[s++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return i}}class Dke{startParse(e,t,r){return typeof e=="string"&&(e=new Mke(e)),r=r?r.length?r.map(i=>new Ik(i.from,i.to)):[new Ik(0,0)]:[new Ik(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let s=i.advance();if(s)return s}}}class Mke{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new jt({perNode:!0});var Nk;const Nh=new jt;function Vke(n){return ce.define({combine:n?e=>e.concat(n):void 0})}const Lke=new jt;class vs{constructor(e,t,r=[],i=""){this.data=e,this.name=i,Ne.prototype.hasOwnProperty("tree")||Object.defineProperty(Ne.prototype,"tree",{get(){return Hg(this)}}),this.parser=t,this.extension=[uf.of(this),Ne.languageData.of((s,o,a)=>{let l=hL(s,o,a),c=l.type.prop(Nh);if(!c)return[];let u=s.facet(c),h=l.type.prop(Lke);if(h){let d=l.resolve(o-l.from,a);for(let m of h)if(m.test(d,s)){let g=s.facet(m.facet);return m.type=="replace"?g:g.concat(u)}}return u})].concat(r)}isActiveAt(e,t,r=-1){return hL(e,t,r).type.prop(Nh)==this.data}findRegions(e){let t=e.facet(uf);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let r=[],i=(s,o)=>{if(s.prop(Nh)==this.data){r.push({from:o,to:o+s.length});return}let a=s.prop(jt.mounted);if(a){if(a.tree.prop(Nh)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+o,to:l.to+o});else r.push({from:o,to:o+s.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+o),r.length>l)return}}for(let l=0;l<s.children.length;l++){let c=s.children[l];c instanceof br&&i(c,s.positions[l]+o)}};return i(Hg(e),0),r}get allowsNesting(){return!0}}vs.setState=$e.define();function hL(n,e,t){let r=n.facet(uf),i=Hg(n).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,t,ir.ExcludeBuffers))s.type.isTop&&(i=s);return i}class kx extends vs{constructor(e,t,r){super(e,t,[],r),this.parser=t}static define(e){let t=Vke(e.languageData);return new kx(t,e.parser.configure({props:[Nh.add(r=>r.isTop?t:void 0)]}),e.name)}configure(e,t){return new kx(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Hg(n){let e=n.field(vs.state,!1);return e?e.tree:br.empty}class zke{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}}let xp=null;class _x{constructor(e,t,r=[],i,s,o,a,l){this.parser=e,this.state=t,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new _x(e,t,[],br.empty,0,r,[],null)}startParse(){return this.parser.startParse(new zke(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=br.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(du.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(du.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=xp;xp=this;try{return e()}finally{xp=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=dL(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:i,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,u,h,d)=>l.push({fromA:c,toA:u,fromB:h,toB:d})),r=du.applyChanges(r,l),i=br.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),h=e.mapPos(c.to,-1);u<h&&a.push({from:u,to:h})}}}return new _x(this.parser,t,r,i,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=dL(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends Dke{createParse(t,r,i){let s=i[0].from,o=i[i.length-1].to;return{parsedPos:s,advance(){let l=xp;if(l){for(let c of i)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new br(es.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return xp}}function dL(n,e,t){return du.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}class cf{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new cf(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=_x.create(e.facet(uf).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new cf(r)}}vs.state=Bt.define({create:cf.init,update(n,e){for(let t of e.effects)if(t.is(vs.setState))return t.value;return e.startState.facet(uf)!=e.state.facet(uf)?cf.init(e.state):n.apply(e)}});let D6=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(D6=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const jk=typeof navigator<"u"&&(!((Nk=navigator.scheduling)===null||Nk===void 0)&&Nk.isInputPending)?()=>navigator.scheduling.isInputPending():null,Uke=Mt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(vs.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(vs.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=D6(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(vs.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!jk?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<i&&r.doc.length>i+1e3,l=s.context.work(()=>jk&&jk()||Date.now()>o,i+(a?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:vs.setState.of(new cf(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>kn(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),uf=ce.define({combine(n){return n.length?n[0]:null},enables:n=>[vs.state,Uke,ue.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});class qke{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const Zke=new jt;function Bke({except:n,units:e=1}={}){return t=>{let r=n&&n.test(t.textAfter);return t.baseIndent+(r?0:e*t.unit)}}const Fke=new jt;class VQ{constructor(e,t){this.specs=e;let r;function i(a){let l=_n.newName();return(r||(r=Object.create(null)))["."+l]=a,l}const s=typeof t.all=="string"?t.all:t.all?i(t.all):void 0,o=t.scope;this.scope=o instanceof vs?a=>a.prop(Nh)==o.data:o?a=>a==o:void 0,this.style=Ec(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=r?new _n(r):null,this.themeType=t.themeType}static define(e,t){return new VQ(e,t||{})}}N.meta,N.link,N.heading,N.emphasis,N.strong,N.strikethrough,N.keyword,N.atom,N.bool,N.url,N.contentSeparator,N.labelName,N.literal,N.inserted,N.string,N.deleted,N.regexp,N.escape,N.string,N.variableName,N.variableName,N.typeName,N.namespace,N.className,N.variableName,N.macroName,N.propertyName,N.comment,N.invalid;const Wke=Object.create(null),fL=[es.none],pL=[],mL=Object.create(null),Xke=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Xke[n]=Gke(Wke,e);function Dk(n,e){pL.indexOf(n)>-1||(pL.push(n),console.warn(e))}function Gke(n,e){let t=[];for(let a of e.split(" ")){let l=[];for(let c of a.split(".")){let u=n[c]||N[c];u?typeof u=="function"?l.length?l=l.map(u):Dk(c,`Modifier ${c} used at start of tag`):l.length?Dk(c,`Tag ${c} used as modifier`):l=Array.isArray(u)?u:[u]:Dk(c,`Unknown highlighting tag ${c}`)}for(let c of l)t.push(c)}if(!t.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+t.map(a=>a.id),s=mL[i];if(s)return s.id;let o=mL[i]=es.define({id:fL.length,name:r,props:[Ni({[r]:t})]});return fL.push(o),o.id}Je.RTL,Je.LTR;function gL(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function Yke(n){let e=Object.create(null),t=Object.create(null);for(let{label:i}of n){e[i[0]]=!0;for(let s=1;s<i.length;s++)t[i[s]]=!0}let r=gL(e)+gL(t)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function Hke(n){let e=n.map(i=>typeof i=="string"?{label:i}:i),[t,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:Yke(e);return i=>{let s=i.matchBefore(r);return s||i.explicit?{from:s?s.from:i.pos,options:e,validFor:t}:null}}function Kke(n,e){return t=>{for(let r=Hg(t.state).resolveInner(t.pos,-1);r;r=r.parent){if(n.indexOf(r.name)>-1)return null;if(r.type.isTop)break}return e(t)}}const M6=new class extends ko{};M6.startSide=1;M6.endSide=-1;const Jke=36,OL=1,e_e=2,oh=3,Mk=4,t_e=5,n_e=6,r_e=7,i_e=8,s_e=9,o_e=10,a_e=11,l_e=12,c_e=13,u_e=14,h_e=15,d_e=16,f_e=17,yL=18,p_e=19,V6=20,L6=21,vL=22,m_e=23,g_e=24;function qC(n){return n>=65&&n<=90||n>=97&&n<=122||n>=48&&n<=57}function O_e(n){return n>=48&&n<=57||n>=97&&n<=102||n>=65&&n<=70}function Zc(n,e,t){for(let r=!1;;){if(n.next<0)return;if(n.next==e&&!r){n.advance();return}r=t&&!r&&n.next==92,n.advance()}}function y_e(n,e){e:for(;;){if(n.next<0)return;if(n.next==36){n.advance();for(let t=0;t<e.length;t++){if(n.next!=e.charCodeAt(t))continue e;n.advance()}if(n.next==36){n.advance();return}}else n.advance()}}function v_e(n,e){let t="[{<(".indexOf(String.fromCharCode(e)),r=t<0?e:"]}>)".charCodeAt(t);for(;;){if(n.next<0)return;if(n.next==r&&n.peek(1)==39){n.advance(2);return}n.advance()}}function ZC(n,e){for(;!(n.next!=95&&!qC(n.next));)e!=null&&(e+=String.fromCharCode(n.next)),n.advance();return e}function w_e(n){if(n.next==39||n.next==34||n.next==96){let e=n.next;n.advance(),Zc(n,e,!1)}else ZC(n)}function wL(n,e){for(;n.next==48||n.next==49;)n.advance();e&&n.next==e&&n.advance()}function xL(n,e){for(;;){if(n.next==46){if(e)break;e=!0}else if(n.next<48||n.next>57)break;n.advance()}if(n.next==69||n.next==101)for(n.advance(),(n.next==43||n.next==45)&&n.advance();n.next>=48&&n.next<=57;)n.advance()}function bL(n){for(;!(n.next<0||n.next==10);)n.advance()}function Lc(n,e){for(let t=0;t<e.length;t++)if(e.charCodeAt(t)==n)return!0;return!1}const Vk=` 	\r
`;function z6(n,e,t){let r=Object.create(null);r.true=r.false=t_e,r.null=r.unknown=n_e;for(let i of n.split(" "))i&&(r[i]=V6);for(let i of e.split(" "))i&&(r[i]=L6);for(let i of(t||"").split(" "))i&&(r[i]=g_e);return r}const x_e="array binary bit boolean char character clob date decimal double float int integer interval large national nchar nclob numeric object precision real smallint time timestamp varchar varying ",b_e="absolute action add after all allocate alter and any are as asc assertion at authorization before begin between both breadth by call cascade cascaded case cast catalog check close collate collation column commit condition connect connection constraint constraints constructor continue corresponding count create cross cube current current_date current_default_transform_group current_transform_group_for_type current_path current_role current_time current_timestamp current_user cursor cycle data day deallocate declare default deferrable deferred delete depth deref desc describe descriptor deterministic diagnostics disconnect distinct do domain drop dynamic each else elseif end end-exec equals escape except exception exec execute exists exit external fetch first for foreign found from free full function general get global go goto grant group grouping handle having hold hour identity if immediate in indicator initially inner inout input insert intersect into is isolation join key language last lateral leading leave left level like limit local localtime localtimestamp locator loop map match method minute modifies module month names natural nesting new next no none not of old on only open option or order ordinality out outer output overlaps pad parameter partial path prepare preserve primary prior privileges procedure public read reads recursive redo ref references referencing relative release repeat resignal restrict result return returns revoke right role rollback rollup routine row rows savepoint schema scroll search second section select session session_user set sets signal similar size some space specific specifictype sql sqlexception sqlstate sqlwarning start state static system_user table temporary then timezone_hour timezone_minute to trailing transaction translation treat trigger under undo union unique unnest until update usage user using value values view when whenever where while with without work write year zone ",BC={backslashEscapes:!1,hashComments:!1,spaceAfterDashes:!1,slashComments:!1,doubleQuotedStrings:!1,doubleDollarQuotedStrings:!1,unquotedBitLiterals:!1,treatBitsAsBytes:!1,charSetCasts:!1,plsqlQuotingMechanism:!1,operatorChars:"*+-%<>!=&|~^/",specialVar:"?",identifierQuotes:'"',caseInsensitiveIdentifiers:!1,words:z6(b_e,x_e)};function S_e(n,e,t,r){let i={};for(let s in BC)i[s]=(n.hasOwnProperty(s)?n:BC)[s];return e&&(i.words=z6(e,t||"",r)),i}function U6(n){return new ur(e=>{var t;let{next:r}=e;if(e.advance(),Lc(r,Vk)){for(;Lc(e.next,Vk);)e.advance();e.acceptToken(Jke)}else if(r==36&&n.doubleDollarQuotedStrings){let i=ZC(e,"");e.next==36&&(e.advance(),y_e(e,i),e.acceptToken(oh))}else if(r==39||r==34&&n.doubleQuotedStrings)Zc(e,r,n.backslashEscapes),e.acceptToken(oh);else if(r==35&&n.hashComments||r==47&&e.next==47&&n.slashComments)bL(e),e.acceptToken(OL);else if(r==45&&e.next==45&&(!n.spaceAfterDashes||e.peek(1)==32))bL(e),e.acceptToken(OL);else if(r==47&&e.next==42){e.advance();for(let i=1;;){let s=e.next;if(e.next<0)break;if(e.advance(),s==42&&e.next==47){if(i--,e.advance(),!i)break}else s==47&&e.next==42&&(i++,e.advance())}e.acceptToken(e_e)}else if((r==101||r==69)&&e.next==39)e.advance(),Zc(e,39,!0),e.acceptToken(oh);else if((r==110||r==78)&&e.next==39&&n.charSetCasts)e.advance(),Zc(e,39,n.backslashEscapes),e.acceptToken(oh);else if(r==95&&n.charSetCasts)for(let i=0;;i++){if(e.next==39&&i>1){e.advance(),Zc(e,39,n.backslashEscapes),e.acceptToken(oh);break}if(!qC(e.next))break;e.advance()}else if(n.plsqlQuotingMechanism&&(r==113||r==81)&&e.next==39&&e.peek(1)>0&&!Lc(e.peek(1),Vk)){let i=e.peek(1);e.advance(2),v_e(e,i),e.acceptToken(oh)}else if(r==40)e.acceptToken(r_e);else if(r==41)e.acceptToken(i_e);else if(r==123)e.acceptToken(s_e);else if(r==125)e.acceptToken(o_e);else if(r==91)e.acceptToken(a_e);else if(r==93)e.acceptToken(l_e);else if(r==59)e.acceptToken(c_e);else if(n.unquotedBitLiterals&&r==48&&e.next==98)e.advance(),wL(e),e.acceptToken(vL);else if((r==98||r==66)&&(e.next==39||e.next==34)){const i=e.next;e.advance(),n.treatBitsAsBytes?(Zc(e,i,n.backslashEscapes),e.acceptToken(m_e)):(wL(e,i),e.acceptToken(vL))}else if(r==48&&(e.next==120||e.next==88)||(r==120||r==88)&&e.next==39){let i=e.next==39;for(e.advance();O_e(e.next);)e.advance();i&&e.next==39&&e.advance(),e.acceptToken(Mk)}else if(r==46&&e.next>=48&&e.next<=57)xL(e,!0),e.acceptToken(Mk);else if(r==46)e.acceptToken(u_e);else if(r>=48&&r<=57)xL(e,!1),e.acceptToken(Mk);else if(Lc(r,n.operatorChars)){for(;Lc(e.next,n.operatorChars);)e.advance();e.acceptToken(h_e)}else if(Lc(r,n.specialVar))e.next==r&&e.advance(),w_e(e),e.acceptToken(f_e);else if(Lc(r,n.identifierQuotes))Zc(e,r,!1),e.acceptToken(p_e);else if(r==58||r==44)e.acceptToken(d_e);else if(qC(r)){let i=ZC(e,String.fromCharCode(r));e.acceptToken(e.next==46||e.peek(-i.length-1)==46?yL:(t=n.words[i.toLowerCase()])!==null&&t!==void 0?t:yL)}})}const q6=U6(BC),k_e=Ia.deserialize({version:14,states:"%vQ]QQOOO#wQRO'#DSO$OQQO'#CwO%eQQO'#CxO%lQQO'#CyO%sQQO'#CzOOQQ'#DS'#DSOOQQ'#C}'#C}O'UQRO'#C{OOQQ'#Cv'#CvOOQQ'#C|'#C|Q]QQOOQOQQOOO'`QQO'#DOO(xQRO,59cO)PQQO,59cO)UQQO'#DSOOQQ,59d,59dO)cQQO,59dOOQQ,59e,59eO)jQQO,59eOOQQ,59f,59fO)qQQO,59fOOQQ-E6{-E6{OOQQ,59b,59bOOQQ-E6z-E6zOOQQ,59j,59jOOQQ-E6|-E6|O+VQRO1G.}O+^QQO,59cOOQQ1G/O1G/OOOQQ1G/P1G/POOQQ1G/Q1G/QP+kQQO'#C}O+rQQO1G.}O)PQQO,59cO,PQQO'#Cw",stateData:",[~OtOSPOSQOS~ORUOSUOTUOUUOVROXSOZTO]XO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O^]ORvXSvXTvXUvXVvXXvXZvX]vX_vX`vXavXbvXcvXdvXevXfvXgvXhvX~OsvX~P!jOa_Ob_Oc_O~ORUOSUOTUOUUOVROXSOZTO^tO_UO`UOa`Ob`Oc`OdUOeUOfUOgUOhUO~OWaO~P$ZOYcO~P$ZO[eO~P$ZORUOSUOTUOUUOVROXSOZTO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O]hOsoX~P%zOajObjOcjO~O^]ORkaSkaTkaUkaVkaXkaZka]ka_ka`kaakabkackadkaekafkagkahka~Oska~P'kO^]O~OWvXYvX[vX~P!jOWnO~P$ZOYoO~P$ZO[pO~P$ZO^]ORkiSkiTkiUkiVkiXkiZki]ki_ki`kiakibkickidkiekifkigkihki~Oski~P)xOWkaYka[ka~P'kO]hO~P$ZOWkiYki[ki~P)xOasObsOcsO~O",goto:"#hwPPPPPPPPPPPPPPPPPPPPPPPPPPx||||!Y!^!d!xPPP#[TYOZeUORSTWZbdfqT[OZQZORiZSWOZQbRQdSQfTZgWbdfqQ^PWk^lmrQl_Qm`RrseVORSTWZbdfq",nodeNames:" LineComment BlockComment String Number Bool Null ( ) { } [ ] ; . Operator Punctuation SpecialVar Identifier QuotedIdentifier Keyword Type Bits Bytes Builtin Script Statement CompositeIdentifier Parens Braces Brackets Statement",maxTerm:38,nodeProps:[["isolate",-4,1,2,3,19,""]],skippedNodes:[0,1,2],repeatNodeCount:3,tokenData:"RORO",tokenizers:[0,q6],topRules:{Script:[0,25]},tokenPrec:0});function FC(n){let e=n.cursor().moveTo(n.from,-1);for(;/Comment/.test(e.name);)e.moveTo(e.from,-1);return e.node}function Kg(n,e){let t=n.sliceString(e.from,e.to),r=/^([`'"])(.*)\1$/.exec(t);return r?r[2]:t}function Tx(n){return n&&(n.name=="Identifier"||n.name=="QuotedIdentifier")}function __e(n,e){if(e.name=="CompositeIdentifier"){let t=[];for(let r=e.firstChild;r;r=r.nextSibling)Tx(r)&&t.push(Kg(n,r));return t}return[Kg(n,e)]}function SL(n,e){for(let t=[];;){if(!e||e.name!=".")return t;let r=FC(e);if(!Tx(r))return t;t.unshift(Kg(n,r)),e=FC(r)}}function T_e(n,e){let t=Hg(n).resolveInner(e,-1),r=C_e(n.doc,t);return t.name=="Identifier"||t.name=="QuotedIdentifier"||t.name=="Keyword"?{from:t.from,quoted:t.name=="QuotedIdentifier"?n.doc.sliceString(t.from,t.from+1):null,parents:SL(n.doc,FC(t)),aliases:r}:t.name=="."?{from:e,quoted:null,parents:SL(n.doc,t),aliases:r}:{from:e,quoted:null,parents:[],empty:!0,aliases:r}}const P_e=new Set("where group having order union intersect except all distinct limit offset fetch for".split(" "));function C_e(n,e){let t;for(let i=e;!t;i=i.parent){if(!i)return null;i.name=="Statement"&&(t=i)}let r=null;for(let i=t.firstChild,s=!1,o=null;i;i=i.nextSibling){let a=i.name=="Keyword"?n.sliceString(i.from,i.to).toLowerCase():null,l=null;if(!s)s=a=="from";else if(a=="as"&&o&&Tx(i.nextSibling))l=Kg(n,i.nextSibling);else{if(a&&P_e.has(a))break;o&&Tx(i)&&(l=Kg(n,i))}l&&(r||(r=Object.create(null)),r[l]=__e(n,o)),o=/Identifier$/.test(i.name)?i:null}return r}function E_e(n,e){return n?e.map(t=>Object.assign(Object.assign({},t),{label:t.label[0]==n?t.label:n+t.label+n,apply:void 0})):e}const A_e=/^\w*$/,R_e=/^[`'"]?\w*[`'"]?$/;function kL(n){return n.self&&typeof n.self.label=="string"}class LQ{constructor(e,t){this.idQuote=e,this.idCaseInsensitive=t,this.list=[],this.children=void 0}child(e){let t=this.children||(this.children=Object.create(null)),r=t[e];return r||(e&&!this.list.some(i=>i.label==e)&&this.list.push(_L(e,"type",this.idQuote,this.idCaseInsensitive)),t[e]=new LQ(this.idQuote,this.idCaseInsensitive))}maybeChild(e){return this.children?this.children[e]:null}addCompletion(e){let t=this.list.findIndex(r=>r.label==e.label);t>-1?this.list[t]=e:this.list.push(e)}addCompletions(e){for(let t of e)this.addCompletion(typeof t=="string"?_L(t,"property",this.idQuote,this.idCaseInsensitive):t)}addNamespace(e){Array.isArray(e)?this.addCompletions(e):kL(e)?this.addNamespace(e.children):this.addNamespaceObject(e)}addNamespaceObject(e){for(let t of Object.keys(e)){let r=e[t],i=null,s=t.replace(/\\?\./g,a=>a=="."?"\0":a).split("\0"),o=this;kL(r)&&(i=r.self,r=r.children);for(let a=0;a<s.length;a++)i&&a==s.length-1&&o.addCompletion(i),o=o.child(s[a].replace(/\\\./g,"."));o.addNamespace(r)}}}function _L(n,e,t,r){return new RegExp("^[a-z_][a-z_\\d]*$",r?"i":"").test(n)?{label:n,type:e}:{label:n,type:e,apply:t+n+t}}function Q_e(n,e,t,r,i,s){var o;let a=((o=s==null?void 0:s.spec.identifierQuotes)===null||o===void 0?void 0:o[0])||'"',l=new LQ(a,!!(s!=null&&s.spec.caseInsensitiveIdentifiers)),c=i?l.child(i):null;return l.addNamespace(n),e&&(c||l).addCompletions(e),t&&l.addCompletions(t),c&&l.addCompletions(c.list),r&&l.addCompletions((c||l).child(r).list),u=>{let{parents:h,from:d,quoted:m,empty:g,aliases:y}=T_e(u.state,u.pos);if(g&&!u.explicit)return null;y&&h.length==1&&(h=y[h[0]]||h);let v=l;for(let k of h){for(;!v.children||!v.children[k];)if(v==l&&c)v=c;else if(v==c&&r)v=v.child(r);else return null;let $=v.maybeChild(k);if(!$)return null;v=$}let S=m&&u.state.sliceDoc(u.pos,u.pos+1)==m,b=v.list;return v==l&&y&&(b=b.concat(Object.keys(y).map(k=>({label:k,type:"constant"})))),{from:d,to:S?u.pos+1:void 0,options:E_e(m,b),validFor:m?R_e:A_e}}}function $_e(n){return n==L6?"type":n==V6?"keyword":"variable"}function I_e(n,e,t){let r=Object.keys(n).map(i=>t(e?i.toUpperCase():i,$_e(n[i])));return Kke(["QuotedIdentifier","SpecialVar","String","LineComment","BlockComment","."],Hke(r))}let N_e=k_e.configure({props:[Zke.add({Statement:Bke()}),Fke.add({Statement(n,e){return{from:Math.min(n.from+100,e.doc.lineAt(n.from).to),to:n.to}},BlockComment(n){return{from:n.from+2,to:n.to-2}}}),Ni({Keyword:N.keyword,Type:N.typeName,Builtin:N.standard(N.name),Bits:N.number,Bytes:N.string,Bool:N.bool,Null:N.null,Number:N.number,String:N.string,Identifier:N.name,QuotedIdentifier:N.special(N.string),SpecialVar:N.special(N.name),LineComment:N.lineComment,BlockComment:N.blockComment,Operator:N.operator,"Semi Punctuation":N.punctuation,"( )":N.paren,"{ }":N.brace,"[ ]":N.squareBracket})]});class zQ{constructor(e,t,r){this.dialect=e,this.language=t,this.spec=r}get extension(){return this.language.extension}static define(e){let t=S_e(e,e.keywords,e.types,e.builtin),r=kx.define({name:"sql",parser:N_e.configure({tokenizers:[{from:q6,to:U6(t)}]}),languageData:{commentTokens:{line:"--",block:{open:"/*",close:"*/"}},closeBrackets:{brackets:["(","[","{","'",'"',"`"]}}});return new zQ(t,r,e)}}function j_e(n,e){return{label:n,type:e,boost:-1}}function D_e(n,e=!1,t){return I_e(n.dialect.words,e,t||j_e)}function M_e(n){return n.schema?Q_e(n.schema,n.tables,n.schemas,n.defaultTable,n.defaultSchema,n.dialect||UQ):()=>null}function V_e(n){return n.schema?(n.dialect||UQ).language.data.of({autocomplete:M_e(n)}):[]}function L_e(n={}){let e=n.dialect||UQ;return new qke(e.language,[V_e(n),e.language.data.of({autocomplete:D_e(e,n.upperCaseKeywords,n.keywordCompletion)})])}const UQ=zQ.define({}),z_e={javascript:OQ(),python:kbe(),html:eke(),css:u6(),json:Eke(),sql:L_e()},Gb=({value:n,language:e,onChange:t,readOnly:r=!1})=>{const i=E.useRef(null),s=E.useRef();return E.useEffect(()=>{if(!i.current)return;const o=n||"",a=Ne.create({doc:o,extensions:[S0e,z_e[e]||OQ(),Ne.readOnly.of(r),ue.lineWrapping,ue.updateListener.of(c=>{c.docChanged&&t(c.state.doc.toString())})]}),l=new ue({state:a,parent:i.current});return s.current=l,()=>{l.destroy()}},[e,r]),E.useEffect(()=>{s.current&&n!==s.current.state.doc.toString()&&s.current.dispatch({changes:{from:0,to:s.current.state.doc.length,insert:n}})},[n]),f.jsx("div",{ref:i,className:"h-full w-full"})};function Z6({value:n=[],onChange:e,placeholder:t="Add tags...",className:r,maxTags:i=10}){const[s,o]=E.useState(""),a=h=>{o(h.target.value)},l=h=>{(h.key==="Enter"||h.key===",")&&s.trim()&&(h.preventDefault(),c(s.trim()))},c=h=>{if(h=h.replace(/,/g,"").trim(),!h||n.includes(h)||n.length>=i)return;const d=[...n,h];e(d),o("")},u=h=>{const d=n.filter(m=>m!==h);e(d)};return f.jsxs("div",{className:Ee("flex flex-wrap gap-2 p-1 border rounded-md",r),children:[n.map(h=>f.jsxs(qi,{variant:"secondary",className:"flex items-center gap-1",children:[h,f.jsx(uA,{className:"h-3 w-3 cursor-pointer hover:text-destructive",onClick:()=>u(h)})]},h)),f.jsx($n,{type:"text",value:s,onChange:a,onKeyDown:l,placeholder:n.length===0?t:"",className:"flex-1 border-0 p-0 text-sm focus-visible:ring-0 min-w-[120px] h-7"})]})}const U_e=["top","right","bottom","left"],gc=Math.min,Oi=Math.max,Px=Math.round,y0=Math.floor,vo=n=>({x:n,y:n}),q_e={left:"right",right:"left",bottom:"top",top:"bottom"},Z_e={start:"end",end:"start"};function WC(n,e,t){return Oi(n,gc(e,t))}function Na(n,e){return typeof n=="function"?n(e):n}function ja(n){return n.split("-")[0]}function Af(n){return n.split("-")[1]}function qQ(n){return n==="x"?"y":"x"}function ZQ(n){return n==="y"?"height":"width"}function Oc(n){return["top","bottom"].includes(ja(n))?"y":"x"}function BQ(n){return qQ(Oc(n))}function B_e(n,e,t){t===void 0&&(t=!1);const r=Af(n),i=BQ(n),s=ZQ(i);let o=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Cx(o)),[o,Cx(o)]}function F_e(n){const e=Cx(n);return[XC(n),e,XC(e)]}function XC(n){return n.replace(/start|end/g,e=>Z_e[e])}function W_e(n,e,t){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(n){case"top":case"bottom":return t?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function X_e(n,e,t,r){const i=Af(n);let s=W_e(ja(n),t==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(XC)))),s}function Cx(n){return n.replace(/left|right|bottom|top/g,e=>q_e[e])}function G_e(n){return{top:0,right:0,bottom:0,left:0,...n}}function B6(n){return typeof n!="number"?G_e(n):{top:n,right:n,bottom:n,left:n}}function Ex(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function TL(n,e,t){let{reference:r,floating:i}=n;const s=Oc(e),o=BQ(e),a=ZQ(o),l=ja(e),c=s==="y",u=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,d=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:u,y:r.y-i.height};break;case"bottom":m={x:u,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-i.width,y:h};break;default:m={x:r.x,y:r.y}}switch(Af(e)){case"start":m[o]-=d*(t&&c?-1:1);break;case"end":m[o]+=d*(t&&c?-1:1);break}return m}const Y_e=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:n,floating:e,strategy:i}),{x:u,y:h}=TL(c,r,l),d=r,m={},g=0;for(let y=0;y<a.length;y++){const{name:v,fn:S}=a[y],{x:b,y:k,data:$,reset:C}=await S({x:u,y:h,initialPlacement:r,placement:d,strategy:i,middlewareData:m,rects:c,platform:o,elements:{reference:n,floating:e}});u=b??u,h=k??h,m={...m,[v]:{...m[v],...$}},C&&g<=50&&(g++,typeof C=="object"&&(C.placement&&(d=C.placement),C.rects&&(c=C.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:i}):C.rects),{x:u,y:h}=TL(c,d,l)),y=-1)}return{x:u,y:h,placement:d,strategy:i,middlewareData:m}};async function Jg(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:d=!1,padding:m=0}=Na(e,n),g=B6(m),v=a[d?h==="floating"?"reference":"floating":h],S=Ex(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(v)))==null||t?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),b=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,k=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),$=await(s.isElement==null?void 0:s.isElement(k))?await(s.getScale==null?void 0:s.getScale(k))||{x:1,y:1}:{x:1,y:1},C=Ex(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:k,strategy:l}):b);return{top:(S.top-C.top+g.top)/$.y,bottom:(C.bottom-S.bottom+g.bottom)/$.y,left:(S.left-C.left+g.left)/$.x,right:(C.right-S.right+g.right)/$.x}}const H_e=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Na(n,e)||{};if(c==null)return{};const h=B6(u),d={x:t,y:r},m=BQ(i),g=ZQ(m),y=await o.getDimensions(c),v=m==="y",S=v?"top":"left",b=v?"bottom":"right",k=v?"clientHeight":"clientWidth",$=s.reference[g]+s.reference[m]-d[m]-s.floating[g],C=d[m]-s.reference[m],Q=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let O=Q?Q[k]:0;(!O||!await(o.isElement==null?void 0:o.isElement(Q)))&&(O=a.floating[k]||s.floating[g]);const _=$/2-C/2,x=O/2-y[g]/2-1,A=gc(h[S],x),T=gc(h[b],x),w=A,R=O-y[g]-T,j=O/2-y[g]/2+_,V=WC(w,j,R),M=!l.arrow&&Af(i)!=null&&j!==V&&s.reference[g]/2-(j<w?A:T)-y[g]/2<0,Z=M?j<w?j-w:j-R:0;return{[m]:d[m]+Z,data:{[m]:V,centerOffset:j-V-Z,...M&&{alignmentOffset:Z}},reset:M}}}),K_e=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:d,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:y=!0,...v}=Na(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const S=ja(i),b=Oc(a),k=ja(a)===a,$=await(l.isRTL==null?void 0:l.isRTL(c.floating)),C=d||(k||!y?[Cx(a)]:F_e(a)),Q=g!=="none";!d&&Q&&C.push(...X_e(a,y,g,$));const O=[a,...C],_=await Jg(e,v),x=[];let A=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&x.push(_[S]),h){const j=B_e(i,o,$);x.push(_[j[0]],_[j[1]])}if(A=[...A,{placement:i,overflows:x}],!x.every(j=>j<=0)){var T,w;const j=(((T=s.flip)==null?void 0:T.index)||0)+1,V=O[j];if(V)return{data:{index:j,overflows:A},reset:{placement:V}};let M=(w=A.filter(Z=>Z.overflows[0]<=0).sort((Z,U)=>Z.overflows[1]-U.overflows[1])[0])==null?void 0:w.placement;if(!M)switch(m){case"bestFit":{var R;const Z=(R=A.filter(U=>{if(Q){const q=Oc(U.placement);return q===b||q==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(q=>q>0).reduce((q,ne)=>q+ne,0)]).sort((U,q)=>U[1]-q[1])[0])==null?void 0:R[0];Z&&(M=Z);break}case"initialPlacement":M=a;break}if(i!==M)return{reset:{placement:M}}}return{}}}};function PL(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function CL(n){return U_e.some(e=>n[e]>=0)}const J_e=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=Na(n,e);switch(r){case"referenceHidden":{const s=await Jg(e,{...i,elementContext:"reference"}),o=PL(s,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:CL(o)}}}case"escaped":{const s=await Jg(e,{...i,altBoundary:!0}),o=PL(s,t.floating);return{data:{escapedOffsets:o,escaped:CL(o)}}}default:return{}}}}};async function eTe(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=ja(t),a=Af(t),l=Oc(t)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,h=Na(e,n);let{mainAxis:d,crossAxis:m,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof g=="number"&&(m=a==="end"?g*-1:g),l?{x:m*u,y:d*c}:{x:d*c,y:m*u}}const tTe=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await eTe(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},nTe=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:v=>{let{x:S,y:b}=v;return{x:S,y:b}}},...l}=Na(n,e),c={x:t,y:r},u=await Jg(e,l),h=Oc(ja(i)),d=qQ(h);let m=c[d],g=c[h];if(s){const v=d==="y"?"top":"left",S=d==="y"?"bottom":"right",b=m+u[v],k=m-u[S];m=WC(b,m,k)}if(o){const v=h==="y"?"top":"left",S=h==="y"?"bottom":"right",b=g+u[v],k=g-u[S];g=WC(b,g,k)}const y=a.fn({...e,[d]:m,[h]:g});return{...y,data:{x:y.x-t,y:y.y-r,enabled:{[d]:s,[h]:o}}}}}},rTe=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Na(n,e),u={x:t,y:r},h=Oc(i),d=qQ(h);let m=u[d],g=u[h];const y=Na(a,e),v=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const k=d==="y"?"height":"width",$=s.reference[d]-s.floating[k]+v.mainAxis,C=s.reference[d]+s.reference[k]-v.mainAxis;m<$?m=$:m>C&&(m=C)}if(c){var S,b;const k=d==="y"?"width":"height",$=["top","left"].includes(ja(i)),C=s.reference[h]-s.floating[k]+($&&((S=o.offset)==null?void 0:S[h])||0)+($?0:v.crossAxis),Q=s.reference[h]+s.reference[k]+($?0:((b=o.offset)==null?void 0:b[h])||0)-($?v.crossAxis:0);g<C?g=C:g>Q&&(g=Q)}return{[d]:m,[h]:g}}}},iTe=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Na(n,e),u=await Jg(e,c),h=ja(i),d=Af(i),m=Oc(i)==="y",{width:g,height:y}=s.floating;let v,S;h==="top"||h==="bottom"?(v=h,S=d===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(S=h,v=d==="end"?"top":"bottom");const b=y-u.top-u.bottom,k=g-u.left-u.right,$=gc(y-u[v],b),C=gc(g-u[S],k),Q=!e.middlewareData.shift;let O=$,_=C;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(_=k),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(O=b),Q&&!d){const A=Oi(u.left,0),T=Oi(u.right,0),w=Oi(u.top,0),R=Oi(u.bottom,0);m?_=g-2*(A!==0||T!==0?A+T:Oi(u.left,u.right)):O=y-2*(w!==0||R!==0?w+R:Oi(u.top,u.bottom))}await l({...e,availableWidth:_,availableHeight:O});const x=await o.getDimensions(a.floating);return g!==x.width||y!==x.height?{reset:{rects:!0}}:{}}}};function Yb(){return typeof window<"u"}function Rf(n){return F6(n)?(n.nodeName||"").toLowerCase():"#document"}function Ri(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Uo(n){var e;return(e=(F6(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function F6(n){return Yb()?n instanceof Node||n instanceof Ri(n).Node:!1}function As(n){return Yb()?n instanceof Element||n instanceof Ri(n).Element:!1}function jo(n){return Yb()?n instanceof HTMLElement||n instanceof Ri(n).HTMLElement:!1}function EL(n){return!Yb()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Ri(n).ShadowRoot}function zO(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=Rs(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function sTe(n){return["table","td","th"].includes(Rf(n))}function Hb(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function FQ(n){const e=WQ(),t=As(n)?Rs(n):n;return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function oTe(n){let e=yc(n);for(;jo(e)&&!hf(e);){if(FQ(e))return e;if(Hb(e))return null;e=yc(e)}return null}function WQ(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function hf(n){return["html","body","#document"].includes(Rf(n))}function Rs(n){return Ri(n).getComputedStyle(n)}function Kb(n){return As(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function yc(n){if(Rf(n)==="html")return n;const e=n.assignedSlot||n.parentNode||EL(n)&&n.host||Uo(n);return EL(e)?e.host:e}function W6(n){const e=yc(n);return hf(e)?n.ownerDocument?n.ownerDocument.body:n.body:jo(e)&&zO(e)?e:W6(e)}function eO(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=W6(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),o=Ri(i);if(s){const a=GC(o);return e.concat(o,o.visualViewport||[],zO(i)?i:[],a&&t?eO(a):[])}return e.concat(i,eO(i,[],t))}function GC(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function X6(n){const e=Rs(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=jo(n),s=i?n.offsetWidth:t,o=i?n.offsetHeight:r,a=Px(t)!==s||Px(r)!==o;return a&&(t=s,r=o),{width:t,height:r,$:a}}function XQ(n){return As(n)?n:n.contextElement}function od(n){const e=XQ(n);if(!jo(e))return vo(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=X6(e);let o=(s?Px(t.width):t.width)/r,a=(s?Px(t.height):t.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const aTe=vo(0);function G6(n){const e=Ri(n);return!WQ()||!e.visualViewport?aTe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function lTe(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Ri(n)?!1:e}function ju(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=XQ(n);let o=vo(1);e&&(r?As(r)&&(o=od(r)):o=od(n));const a=lTe(s,t,r)?G6(s):vo(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,h=i.height/o.y;if(s){const d=Ri(s),m=r&&As(r)?Ri(r):r;let g=d,y=GC(g);for(;y&&r&&m!==g;){const v=od(y),S=y.getBoundingClientRect(),b=Rs(y),k=S.left+(y.clientLeft+parseFloat(b.paddingLeft))*v.x,$=S.top+(y.clientTop+parseFloat(b.paddingTop))*v.y;l*=v.x,c*=v.y,u*=v.x,h*=v.y,l+=k,c+=$,g=Ri(y),y=GC(g)}}return Ex({width:u,height:h,x:l,y:c})}function GQ(n,e){const t=Kb(n).scrollLeft;return e?e.left+t:ju(Uo(n)).left+t}function Y6(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=r.left+e.scrollLeft-(t?0:GQ(n,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function cTe(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i==="fixed",o=Uo(r),a=e?Hb(e.floating):!1;if(r===o||a&&s)return t;let l={scrollLeft:0,scrollTop:0},c=vo(1);const u=vo(0),h=jo(r);if((h||!h&&!s)&&((Rf(r)!=="body"||zO(o))&&(l=Kb(r)),jo(r))){const m=ju(r);c=od(r),u.x=m.x+r.clientLeft,u.y=m.y+r.clientTop}const d=o&&!h&&!s?Y6(o,l,!0):vo(0);return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+u.x+d.x,y:t.y*c.y-l.scrollTop*c.y+u.y+d.y}}function uTe(n){return Array.from(n.getClientRects())}function hTe(n){const e=Uo(n),t=Kb(n),r=n.ownerDocument.body,i=Oi(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Oi(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+GQ(n);const a=-t.scrollTop;return Rs(r).direction==="rtl"&&(o+=Oi(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function dTe(n,e){const t=Ri(n),r=Uo(n),i=t.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=WQ();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function fTe(n,e){const t=ju(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=jo(n)?od(n):vo(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function AL(n,e,t){let r;if(e==="viewport")r=dTe(n,t);else if(e==="document")r=hTe(Uo(n));else if(As(e))r=fTe(e,t);else{const i=G6(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Ex(r)}function H6(n,e){const t=yc(n);return t===e||!As(t)||hf(t)?!1:Rs(t).position==="fixed"||H6(t,e)}function pTe(n,e){const t=e.get(n);if(t)return t;let r=eO(n,[],!1).filter(a=>As(a)&&Rf(a)!=="body"),i=null;const s=Rs(n).position==="fixed";let o=s?yc(n):n;for(;As(o)&&!hf(o);){const a=Rs(o),l=FQ(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||zO(o)&&!l&&H6(n,o))?r=r.filter(u=>u!==o):i=a,o=yc(o)}return e.set(n,r),r}function mTe(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const o=[...t==="clippingAncestors"?Hb(e)?[]:pTe(e,this._c):[].concat(t),r],a=o[0],l=o.reduce((c,u)=>{const h=AL(e,u,i);return c.top=Oi(h.top,c.top),c.right=gc(h.right,c.right),c.bottom=gc(h.bottom,c.bottom),c.left=Oi(h.left,c.left),c},AL(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function gTe(n){const{width:e,height:t}=X6(n);return{width:e,height:t}}function OTe(n,e,t){const r=jo(e),i=Uo(e),s=t==="fixed",o=ju(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=vo(0);if(r||!r&&!s)if((Rf(e)!=="body"||zO(i))&&(a=Kb(e)),r){const d=ju(e,!0,s,e);l.x=d.x+e.clientLeft,l.y=d.y+e.clientTop}else i&&(l.x=GQ(i));const c=i&&!r&&!s?Y6(i,a):vo(0),u=o.left+a.scrollLeft-l.x-c.x,h=o.top+a.scrollTop-l.y-c.y;return{x:u,y:h,width:o.width,height:o.height}}function Lk(n){return Rs(n).position==="static"}function RL(n,e){if(!jo(n)||Rs(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Uo(n)===t&&(t=t.ownerDocument.body),t}function K6(n,e){const t=Ri(n);if(Hb(n))return t;if(!jo(n)){let i=yc(n);for(;i&&!hf(i);){if(As(i)&&!Lk(i))return i;i=yc(i)}return t}let r=RL(n,e);for(;r&&sTe(r)&&Lk(r);)r=RL(r,e);return r&&hf(r)&&Lk(r)&&!FQ(r)?t:r||oTe(n)||t}const yTe=async function(n){const e=this.getOffsetParent||K6,t=this.getDimensions,r=await t(n.floating);return{reference:OTe(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function vTe(n){return Rs(n).direction==="rtl"}const wTe={convertOffsetParentRelativeRectToViewportRelativeRect:cTe,getDocumentElement:Uo,getClippingRect:mTe,getOffsetParent:K6,getElementRects:yTe,getClientRects:uTe,getDimensions:gTe,getScale:od,isElement:As,isRTL:vTe};function xTe(n,e){let t=null,r;const i=Uo(n);function s(){var a;clearTimeout(r),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:u,width:h,height:d}=n.getBoundingClientRect();if(a||e(),!h||!d)return;const m=y0(u),g=y0(i.clientWidth-(c+h)),y=y0(i.clientHeight-(u+d)),v=y0(c),b={rootMargin:-m+"px "+-g+"px "+-y+"px "+-v+"px",threshold:Oi(0,gc(1,l))||1};let k=!0;function $(C){const Q=C[0].intersectionRatio;if(Q!==l){if(!k)return o();Q?o(!1,Q):r=setTimeout(()=>{o(!1,1e-7)},1e3)}k=!1}try{t=new IntersectionObserver($,{...b,root:i.ownerDocument})}catch{t=new IntersectionObserver($,b)}t.observe(n)}return o(!0),s}function bTe(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=XQ(n),u=i||s?[...c?eO(c):[],...eO(e)]:[];u.forEach(S=>{i&&S.addEventListener("scroll",t,{passive:!0}),s&&S.addEventListener("resize",t)});const h=c&&a?xTe(c,t):null;let d=-1,m=null;o&&(m=new ResizeObserver(S=>{let[b]=S;b&&b.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var k;(k=m)==null||k.observe(e)})),t()}),c&&!l&&m.observe(c),m.observe(e));let g,y=l?ju(n):null;l&&v();function v(){const S=ju(n);y&&(S.x!==y.x||S.y!==y.y||S.width!==y.width||S.height!==y.height)&&t(),y=S,g=requestAnimationFrame(v)}return t(),()=>{var S;u.forEach(b=>{i&&b.removeEventListener("scroll",t),s&&b.removeEventListener("resize",t)}),h==null||h(),(S=m)==null||S.disconnect(),m=null,l&&cancelAnimationFrame(g)}}const STe=tTe,kTe=nTe,_Te=K_e,TTe=iTe,PTe=J_e,QL=H_e,CTe=rTe,ETe=(n,e,t)=>{const r=new Map,i={platform:wTe,...t},s={...i.platform,_c:r};return Y_e(n,e,{...i,platform:s})};var Qv=typeof document<"u"?E.useLayoutEffect:E.useEffect;function Ax(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Ax(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!Ax(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function J6(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function $L(n,e){const t=J6(n);return Math.round(e*t)/t}function zk(n){const e=E.useRef(n);return Qv(()=>{e.current=n}),e}function ATe(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=n,[u,h]=E.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[d,m]=E.useState(r);Ax(d,r)||m(r);const[g,y]=E.useState(null),[v,S]=E.useState(null),b=E.useCallback(U=>{U!==Q.current&&(Q.current=U,y(U))},[]),k=E.useCallback(U=>{U!==O.current&&(O.current=U,S(U))},[]),$=s||g,C=o||v,Q=E.useRef(null),O=E.useRef(null),_=E.useRef(u),x=l!=null,A=zk(l),T=zk(i),w=zk(c),R=E.useCallback(()=>{if(!Q.current||!O.current)return;const U={placement:e,strategy:t,middleware:d};T.current&&(U.platform=T.current),ETe(Q.current,O.current,U).then(q=>{const ne={...q,isPositioned:w.current!==!1};j.current&&!Ax(_.current,ne)&&(_.current=ne,Lu.flushSync(()=>{h(ne)}))})},[d,e,t,T,w]);Qv(()=>{c===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,h(U=>({...U,isPositioned:!1})))},[c]);const j=E.useRef(!1);Qv(()=>(j.current=!0,()=>{j.current=!1}),[]),Qv(()=>{if($&&(Q.current=$),C&&(O.current=C),$&&C){if(A.current)return A.current($,C,R);R()}},[$,C,R,A,x]);const V=E.useMemo(()=>({reference:Q,floating:O,setReference:b,setFloating:k}),[b,k]),M=E.useMemo(()=>({reference:$,floating:C}),[$,C]),Z=E.useMemo(()=>{const U={position:t,left:0,top:0};if(!M.floating)return U;const q=$L(M.floating,u.x),ne=$L(M.floating,u.y);return a?{...U,transform:"translate("+q+"px, "+ne+"px)",...J6(M.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:q,top:ne}},[t,a,M.floating,u.x,u.y]);return E.useMemo(()=>({...u,update:R,refs:V,elements:M,floatingStyles:Z}),[u,R,V,M,Z])}const RTe=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?QL({element:r.current,padding:i}).fn(t):{}:r?QL({element:r,padding:i}).fn(t):{}}}},QTe=(n,e)=>({...STe(n),options:[n,e]}),$Te=(n,e)=>({...kTe(n),options:[n,e]}),ITe=(n,e)=>({...CTe(n),options:[n,e]}),NTe=(n,e)=>({..._Te(n),options:[n,e]}),jTe=(n,e)=>({...TTe(n),options:[n,e]}),DTe=(n,e)=>({...PTe(n),options:[n,e]}),MTe=(n,e)=>({...RTe(n),options:[n,e]});var VTe="Arrow",e7=E.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...s}=n;return f.jsx(Ie.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});e7.displayName=VTe;var LTe=e7;function zTe(n,e=[]){let t=[];function r(s,o){const a=E.createContext(o),l=t.length;t=[...t,o];function c(h){const{scope:d,children:m,...g}=h,y=(d==null?void 0:d[n][l])||a,v=E.useMemo(()=>g,Object.values(g));return f.jsx(y.Provider,{value:v,children:m})}function u(h,d){const m=(d==null?void 0:d[n][l])||a,g=E.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,u]}const i=()=>{const s=t.map(o=>E.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return E.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return i.scopeName=n,[r,UTe(i,...e)]}function UTe(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function YQ(n){const[e,t]=E.useState(void 0);return Mn(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=n.offsetWidth,a=n.offsetHeight;t({width:o,height:a})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var HQ="Popper",[t7,n7]=zTe(HQ),[qTe,r7]=t7(HQ),i7=n=>{const{__scopePopper:e,children:t}=n,[r,i]=E.useState(null);return f.jsx(qTe,{scope:e,anchor:r,onAnchorChange:i,children:t})};i7.displayName=HQ;var s7="PopperAnchor",o7=E.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,s=r7(s7,t),o=E.useRef(null),a=it(e,o);return E.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:f.jsx(Ie.div,{...i,ref:a})});o7.displayName=s7;var KQ="PopperContent",[ZTe,BTe]=t7(KQ),a7=E.forwardRef((n,e)=>{var le,Te,yt,qe,Be,Ye;const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:d=!1,updatePositionStrategy:m="optimized",onPlaced:g,...y}=n,v=r7(KQ,t),[S,b]=E.useState(null),k=it(e,yn=>b(yn)),[$,C]=E.useState(null),Q=YQ($),O=(Q==null?void 0:Q.width)??0,_=(Q==null?void 0:Q.height)??0,x=r+(s!=="center"?"-"+s:""),A=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},T=Array.isArray(c)?c:[c],w=T.length>0,R={padding:A,boundary:T.filter(WTe),altBoundary:w},{refs:j,floatingStyles:V,placement:M,isPositioned:Z,middlewareData:U}=ATe({strategy:"fixed",placement:x,whileElementsMounted:(...yn)=>bTe(...yn,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[QTe({mainAxis:i+_,alignmentAxis:o}),l&&$Te({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?ITe():void 0,...R}),l&&NTe({...R}),jTe({...R,apply:({elements:yn,rects:Xn,availableWidth:js,availableHeight:qo})=>{const{width:Ua,height:L}=Xn.reference,W=yn.floating.style;W.setProperty("--radix-popper-available-width",`${js}px`),W.setProperty("--radix-popper-available-height",`${qo}px`),W.setProperty("--radix-popper-anchor-width",`${Ua}px`),W.setProperty("--radix-popper-anchor-height",`${L}px`)}}),$&&MTe({element:$,padding:a}),XTe({arrowWidth:O,arrowHeight:_}),d&&DTe({strategy:"referenceHidden",...R})]}),[q,ne]=u7(M),X=ln(g);Mn(()=>{Z&&(X==null||X())},[Z,X]);const F=(le=U.arrow)==null?void 0:le.x,G=(Te=U.arrow)==null?void 0:Te.y,K=((yt=U.arrow)==null?void 0:yt.centerOffset)!==0,[re,Se]=E.useState();return Mn(()=>{S&&Se(window.getComputedStyle(S).zIndex)},[S]),f.jsx("div",{ref:j.setFloating,"data-radix-popper-content-wrapper":"",style:{...V,transform:Z?V.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:re,"--radix-popper-transform-origin":[(qe=U.transformOrigin)==null?void 0:qe.x,(Be=U.transformOrigin)==null?void 0:Be.y].join(" "),...((Ye=U.hide)==null?void 0:Ye.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:f.jsx(ZTe,{scope:t,placedSide:q,onArrowChange:C,arrowX:F,arrowY:G,shouldHideArrow:K,children:f.jsx(Ie.div,{"data-side":q,"data-align":ne,...y,ref:k,style:{...y.style,animation:Z?void 0:"none"}})})})});a7.displayName=KQ;var l7="PopperArrow",FTe={top:"bottom",right:"left",bottom:"top",left:"right"},c7=E.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,s=BTe(l7,r),o=FTe[s.placedSide];return f.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:f.jsx(LTe,{...i,ref:t,style:{...i.style,display:"block"}})})});c7.displayName=l7;function WTe(n){return n!==null}var XTe=n=>({name:"transformOrigin",options:n,fn(e){var v,S,b;const{placement:t,rects:r,middlewareData:i}=e,o=((v=i.arrow)==null?void 0:v.centerOffset)!==0,a=o?0:n.arrowWidth,l=o?0:n.arrowHeight,[c,u]=u7(t),h={start:"0%",center:"50%",end:"100%"}[u],d=(((S=i.arrow)==null?void 0:S.x)??0)+a/2,m=(((b=i.arrow)==null?void 0:b.y)??0)+l/2;let g="",y="";return c==="bottom"?(g=o?h:`${d}px`,y=`${-l}px`):c==="top"?(g=o?h:`${d}px`,y=`${r.floating.height+l}px`):c==="right"?(g=`${-l}px`,y=o?h:`${m}px`):c==="left"&&(g=`${r.floating.width+l}px`,y=o?h:`${m}px`),{data:{x:g,y}}}});function u7(n){const[e,t="center"]=n.split("-");return[e,t]}var GTe=i7,YTe=o7,HTe=a7,KTe=c7;function JQ(n){const e=E.useRef({value:n,previous:n});return E.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var JTe=[" ","Enter","ArrowUp","ArrowDown"],ePe=[" ","Enter"],UO="Select",[Jb,eS,tPe]=Gx(UO),[Qf,BAe]=bc(UO,[tPe,n7]),tS=n7(),[nPe,Rc]=Qf(UO),[rPe,iPe]=Qf(UO),h7=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:h,disabled:d,required:m,form:g}=n,y=tS(e),[v,S]=E.useState(null),[b,k]=E.useState(null),[$,C]=E.useState(!1),Q=EO(c),[O=!1,_]=Xl({prop:r,defaultProp:i,onChange:s}),[x,A]=Xl({prop:o,defaultProp:a,onChange:l}),T=E.useRef(null),w=v?g||!!v.closest("form"):!0,[R,j]=E.useState(new Set),V=Array.from(R).map(M=>M.props.value).join(";");return f.jsx(GTe,{...y,children:f.jsxs(nPe,{required:m,scope:e,trigger:v,onTriggerChange:S,valueNode:b,onValueNodeChange:k,valueNodeHasChildren:$,onValueNodeHasChildrenChange:C,contentId:zl(),value:x,onValueChange:A,open:O,onOpenChange:_,dir:Q,triggerPointerDownPosRef:T,disabled:d,children:[f.jsx(Jb.Provider,{scope:e,children:f.jsx(rPe,{scope:n.__scopeSelect,onNativeOptionAdd:E.useCallback(M=>{j(Z=>new Set(Z).add(M))},[]),onNativeOptionRemove:E.useCallback(M=>{j(Z=>{const U=new Set(Z);return U.delete(M),U})},[]),children:t})}),w?f.jsxs(j7,{"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:h,value:x,onChange:M=>A(M.target.value),disabled:d,form:g,children:[x===void 0?f.jsx("option",{value:""}):null,Array.from(R)]},V):null]})})};h7.displayName=UO;var d7="SelectTrigger",f7=E.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...i}=n,s=tS(t),o=Rc(d7,t),a=o.disabled||r,l=it(e,o.onTriggerChange),c=eS(t),u=E.useRef("touch"),[h,d,m]=D7(y=>{const v=c().filter(k=>!k.disabled),S=v.find(k=>k.value===o.value),b=M7(v,y,S);b!==void 0&&o.onValueChange(b.value)}),g=y=>{a||(o.onOpenChange(!0),m()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return f.jsx(YTe,{asChild:!0,...s,children:f.jsx(Ie.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":N7(o.value)?"":void 0,...i,ref:l,onClick:Ce(i.onClick,y=>{y.currentTarget.focus(),u.current!=="mouse"&&g(y)}),onPointerDown:Ce(i.onPointerDown,y=>{u.current=y.pointerType;const v=y.target;v.hasPointerCapture(y.pointerId)&&v.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(g(y),y.preventDefault())}),onKeyDown:Ce(i.onKeyDown,y=>{const v=h.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&d(y.key),!(v&&y.key===" ")&&JTe.includes(y.key)&&(g(),y.preventDefault())})})})});f7.displayName=d7;var p7="SelectValue",m7=E.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,children:s,placeholder:o="",...a}=n,l=Rc(p7,t),{onValueNodeHasChildrenChange:c}=l,u=s!==void 0,h=it(e,l.onValueNodeChange);return Mn(()=>{c(u)},[c,u]),f.jsx(Ie.span,{...a,ref:h,style:{pointerEvents:"none"},children:N7(l.value)?f.jsx(f.Fragment,{children:o}):s})});m7.displayName=p7;var sPe="SelectIcon",g7=E.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...i}=n;return f.jsx(Ie.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});g7.displayName=sPe;var oPe="SelectPortal",O7=n=>f.jsx(Hx,{asChild:!0,...n});O7.displayName=oPe;var Du="SelectContent",y7=E.forwardRef((n,e)=>{const t=Rc(Du,n.__scopeSelect),[r,i]=E.useState();if(Mn(()=>{i(new DocumentFragment)},[]),!t.open){const s=r;return s?Lu.createPortal(f.jsx(v7,{scope:n.__scopeSelect,children:f.jsx(Jb.Slot,{scope:n.__scopeSelect,children:f.jsx("div",{children:n.children})})}),s):null}return f.jsx(w7,{...n,ref:e})});y7.displayName=Du;var os=10,[v7,Qc]=Qf(Du),aPe="SelectContentImpl",w7=E.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:d,collisionPadding:m,sticky:g,hideWhenDetached:y,avoidCollisions:v,...S}=n,b=Rc(Du,t),[k,$]=E.useState(null),[C,Q]=E.useState(null),O=it(e,le=>$(le)),[_,x]=E.useState(null),[A,T]=E.useState(null),w=eS(t),[R,j]=E.useState(!1),V=E.useRef(!1);E.useEffect(()=>{if(k)return pB(k)},[k]),oB();const M=E.useCallback(le=>{const[Te,...yt]=w().map(Ye=>Ye.ref.current),[qe]=yt.slice(-1),Be=document.activeElement;for(const Ye of le)if(Ye===Be||(Ye==null||Ye.scrollIntoView({block:"nearest"}),Ye===Te&&C&&(C.scrollTop=0),Ye===qe&&C&&(C.scrollTop=C.scrollHeight),Ye==null||Ye.focus(),document.activeElement!==Be))return},[w,C]),Z=E.useCallback(()=>M([_,k]),[M,_,k]);E.useEffect(()=>{R&&Z()},[R,Z]);const{onOpenChange:U,triggerPointerDownPosRef:q}=b;E.useEffect(()=>{if(k){let le={x:0,y:0};const Te=qe=>{var Be,Ye;le={x:Math.abs(Math.round(qe.pageX)-(((Be=q.current)==null?void 0:Be.x)??0)),y:Math.abs(Math.round(qe.pageY)-(((Ye=q.current)==null?void 0:Ye.y)??0))}},yt=qe=>{le.x<=10&&le.y<=10?qe.preventDefault():k.contains(qe.target)||U(!1),document.removeEventListener("pointermove",Te),q.current=null};return q.current!==null&&(document.addEventListener("pointermove",Te),document.addEventListener("pointerup",yt,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Te),document.removeEventListener("pointerup",yt,{capture:!0})}}},[k,U,q]),E.useEffect(()=>{const le=()=>U(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[U]);const[ne,X]=D7(le=>{const Te=w().filter(Be=>!Be.disabled),yt=Te.find(Be=>Be.ref.current===document.activeElement),qe=M7(Te,le,yt);qe&&setTimeout(()=>qe.ref.current.focus())}),F=E.useCallback((le,Te,yt)=>{const qe=!V.current&&!yt;(b.value!==void 0&&b.value===Te||qe)&&(x(le),qe&&(V.current=!0))},[b.value]),G=E.useCallback(()=>k==null?void 0:k.focus(),[k]),K=E.useCallback((le,Te,yt)=>{const qe=!V.current&&!yt;(b.value!==void 0&&b.value===Te||qe)&&T(le)},[b.value]),re=r==="popper"?YC:x7,Se=re===YC?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:d,collisionPadding:m,sticky:g,hideWhenDetached:y,avoidCollisions:v}:{};return f.jsx(v7,{scope:t,content:k,viewport:C,onViewportChange:Q,itemRefCallback:F,selectedItem:_,onItemLeave:G,itemTextRefCallback:K,focusSelectedItem:Z,selectedItemText:A,position:r,isPositioned:R,searchRef:ne,children:f.jsx(TR,{as:Wl,allowPinchZoom:!0,children:f.jsx(_R,{asChild:!0,trapped:b.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:Ce(i,le=>{var Te;(Te=b.trigger)==null||Te.focus({preventScroll:!0}),le.preventDefault()}),children:f.jsx(Yx,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:f.jsx(re,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:le=>le.preventDefault(),...S,...Se,onPlaced:()=>j(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:Ce(S.onKeyDown,le=>{const Te=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!Te&&le.key.length===1&&X(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let qe=w().filter(Be=>!Be.disabled).map(Be=>Be.ref.current);if(["ArrowUp","End"].includes(le.key)&&(qe=qe.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){const Be=le.target,Ye=qe.indexOf(Be);qe=qe.slice(Ye+1)}setTimeout(()=>M(qe)),le.preventDefault()}})})})})})})});w7.displayName=aPe;var lPe="SelectItemAlignedPosition",x7=E.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...i}=n,s=Rc(Du,t),o=Qc(Du,t),[a,l]=E.useState(null),[c,u]=E.useState(null),h=it(e,O=>u(O)),d=eS(t),m=E.useRef(!1),g=E.useRef(!0),{viewport:y,selectedItem:v,selectedItemText:S,focusSelectedItem:b}=o,k=E.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&y&&v&&S){const O=s.trigger.getBoundingClientRect(),_=c.getBoundingClientRect(),x=s.valueNode.getBoundingClientRect(),A=S.getBoundingClientRect();if(s.dir!=="rtl"){const Be=A.left-_.left,Ye=x.left-Be,yn=O.left-Ye,Xn=O.width+yn,js=Math.max(Xn,_.width),qo=window.innerWidth-os,Ua=eg(Ye,[os,Math.max(os,qo-js)]);a.style.minWidth=Xn+"px",a.style.left=Ua+"px"}else{const Be=_.right-A.right,Ye=window.innerWidth-x.right-Be,yn=window.innerWidth-O.right-Ye,Xn=O.width+yn,js=Math.max(Xn,_.width),qo=window.innerWidth-os,Ua=eg(Ye,[os,Math.max(os,qo-js)]);a.style.minWidth=Xn+"px",a.style.right=Ua+"px"}const T=d(),w=window.innerHeight-os*2,R=y.scrollHeight,j=window.getComputedStyle(c),V=parseInt(j.borderTopWidth,10),M=parseInt(j.paddingTop,10),Z=parseInt(j.borderBottomWidth,10),U=parseInt(j.paddingBottom,10),q=V+M+R+U+Z,ne=Math.min(v.offsetHeight*5,q),X=window.getComputedStyle(y),F=parseInt(X.paddingTop,10),G=parseInt(X.paddingBottom,10),K=O.top+O.height/2-os,re=w-K,Se=v.offsetHeight/2,le=v.offsetTop+Se,Te=V+M+le,yt=q-Te;if(Te<=K){const Be=T.length>0&&v===T[T.length-1].ref.current;a.style.bottom="0px";const Ye=c.clientHeight-y.offsetTop-y.offsetHeight,yn=Math.max(re,Se+(Be?G:0)+Ye+Z),Xn=Te+yn;a.style.height=Xn+"px"}else{const Be=T.length>0&&v===T[0].ref.current;a.style.top="0px";const yn=Math.max(K,V+y.offsetTop+(Be?F:0)+Se)+yt;a.style.height=yn+"px",y.scrollTop=Te-K+y.offsetTop}a.style.margin=`${os}px 0`,a.style.minHeight=ne+"px",a.style.maxHeight=w+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[d,s.trigger,s.valueNode,a,c,y,v,S,s.dir,r]);Mn(()=>k(),[k]);const[$,C]=E.useState();Mn(()=>{c&&C(window.getComputedStyle(c).zIndex)},[c]);const Q=E.useCallback(O=>{O&&g.current===!0&&(k(),b==null||b(),g.current=!1)},[k,b]);return f.jsx(uPe,{scope:t,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:Q,children:f.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:$},children:f.jsx(Ie.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});x7.displayName=lPe;var cPe="SelectPopperPosition",YC=E.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:i=os,...s}=n,o=tS(t);return f.jsx(HTe,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});YC.displayName=cPe;var[uPe,e$]=Qf(Du,{}),HC="SelectViewport",b7=E.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...i}=n,s=Qc(HC,t),o=e$(HC,t),a=it(e,s.onViewportChange),l=E.useRef(0);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),f.jsx(Jb.Slot,{scope:t,children:f.jsx(Ie.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ce(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:d}=o;if(d!=null&&d.current&&h){const m=Math.abs(l.current-u.scrollTop);if(m>0){const g=window.innerHeight-os*2,y=parseFloat(h.style.minHeight),v=parseFloat(h.style.height),S=Math.max(y,v);if(S<g){const b=S+m,k=Math.min(g,b),$=b-k;h.style.height=k+"px",h.style.bottom==="0px"&&(u.scrollTop=$>0?$:0,h.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});b7.displayName=HC;var S7="SelectGroup",[hPe,dPe]=Qf(S7),fPe=E.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=zl();return f.jsx(hPe,{scope:t,id:i,children:f.jsx(Ie.div,{role:"group","aria-labelledby":i,...r,ref:e})})});fPe.displayName=S7;var k7="SelectLabel",_7=E.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=dPe(k7,t);return f.jsx(Ie.div,{id:i.id,...r,ref:e})});_7.displayName=k7;var Rx="SelectItem",[pPe,T7]=Qf(Rx),P7=E.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:i=!1,textValue:s,...o}=n,a=Rc(Rx,t),l=Qc(Rx,t),c=a.value===r,[u,h]=E.useState(s??""),[d,m]=E.useState(!1),g=it(e,b=>{var k;return(k=l.itemRefCallback)==null?void 0:k.call(l,b,r,i)}),y=zl(),v=E.useRef("touch"),S=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return f.jsx(pPe,{scope:t,value:r,disabled:i,textId:y,isSelected:c,onItemTextChange:E.useCallback(b=>{h(k=>k||((b==null?void 0:b.textContent)??"").trim())},[]),children:f.jsx(Jb.ItemSlot,{scope:t,value:r,disabled:i,textValue:u,children:f.jsx(Ie.div,{role:"option","aria-labelledby":y,"data-highlighted":d?"":void 0,"aria-selected":c&&d,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:g,onFocus:Ce(o.onFocus,()=>m(!0)),onBlur:Ce(o.onBlur,()=>m(!1)),onClick:Ce(o.onClick,()=>{v.current!=="mouse"&&S()}),onPointerUp:Ce(o.onPointerUp,()=>{v.current==="mouse"&&S()}),onPointerDown:Ce(o.onPointerDown,b=>{v.current=b.pointerType}),onPointerMove:Ce(o.onPointerMove,b=>{var k;v.current=b.pointerType,i?(k=l.onItemLeave)==null||k.call(l):v.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ce(o.onPointerLeave,b=>{var k;b.currentTarget===document.activeElement&&((k=l.onItemLeave)==null||k.call(l))}),onKeyDown:Ce(o.onKeyDown,b=>{var $;(($=l.searchRef)==null?void 0:$.current)!==""&&b.key===" "||(ePe.includes(b.key)&&S(),b.key===" "&&b.preventDefault())})})})})});P7.displayName=Rx;var Hp="SelectItemText",C7=E.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,...s}=n,o=Rc(Hp,t),a=Qc(Hp,t),l=T7(Hp,t),c=iPe(Hp,t),[u,h]=E.useState(null),d=it(e,S=>h(S),l.onItemTextChange,S=>{var b;return(b=a.itemTextRefCallback)==null?void 0:b.call(a,S,l.value,l.disabled)}),m=u==null?void 0:u.textContent,g=E.useMemo(()=>f.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:y,onNativeOptionRemove:v}=c;return Mn(()=>(y(g),()=>v(g)),[y,v,g]),f.jsxs(f.Fragment,{children:[f.jsx(Ie.span,{id:l.textId,...s,ref:d}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Lu.createPortal(s.children,o.valueNode):null]})});C7.displayName=Hp;var E7="SelectItemIndicator",A7=E.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return T7(E7,t).isSelected?f.jsx(Ie.span,{"aria-hidden":!0,...r,ref:e}):null});A7.displayName=E7;var KC="SelectScrollUpButton",R7=E.forwardRef((n,e)=>{const t=Qc(KC,n.__scopeSelect),r=e$(KC,n.__scopeSelect),[i,s]=E.useState(!1),o=it(e,r.onScrollButtonChange);return Mn(()=>{if(t.viewport&&t.isPositioned){let a=function(){const c=l.scrollTop>0;s(c)};const l=t.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[t.viewport,t.isPositioned]),i?f.jsx($7,{...n,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=t;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});R7.displayName=KC;var JC="SelectScrollDownButton",Q7=E.forwardRef((n,e)=>{const t=Qc(JC,n.__scopeSelect),r=e$(JC,n.__scopeSelect),[i,s]=E.useState(!1),o=it(e,r.onScrollButtonChange);return Mn(()=>{if(t.viewport&&t.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;s(u)};const l=t.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[t.viewport,t.isPositioned]),i?f.jsx($7,{...n,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=t;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});Q7.displayName=JC;var $7=E.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...i}=n,s=Qc("SelectScrollButton",t),o=E.useRef(null),a=eS(t),l=E.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return E.useEffect(()=>()=>l(),[l]),Mn(()=>{var u;const c=a().find(h=>h.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),f.jsx(Ie.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Ce(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Ce(i.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Ce(i.onPointerLeave,()=>{l()})})}),mPe="SelectSeparator",I7=E.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return f.jsx(Ie.div,{"aria-hidden":!0,...r,ref:e})});I7.displayName=mPe;var eE="SelectArrow",gPe=E.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=tS(t),s=Rc(eE,t),o=Qc(eE,t);return s.open&&o.position==="popper"?f.jsx(KTe,{...i,...r,ref:e}):null});gPe.displayName=eE;function N7(n){return n===""||n===void 0}var j7=E.forwardRef((n,e)=>{const{value:t,...r}=n,i=E.useRef(null),s=it(e,i),o=JQ(t);return E.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==t&&u){const h=new Event("change",{bubbles:!0});u.call(a,t),a.dispatchEvent(h)}},[o,t]),f.jsx(Kx,{asChild:!0,children:f.jsx("select",{...r,ref:s,defaultValue:t})})});j7.displayName="BubbleSelect";function D7(n){const e=ln(n),t=E.useRef(""),r=E.useRef(0),i=E.useCallback(o=>{const a=t.current+o;e(a),function l(c){t.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),s=E.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return E.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,i,s]}function M7(n,e,t){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=t?n.indexOf(t):-1;let o=OPe(n,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==t));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==t?l:void 0}function OPe(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var yPe=h7,V7=f7,vPe=m7,wPe=g7,xPe=O7,L7=y7,bPe=b7,z7=_7,U7=P7,SPe=C7,kPe=A7,q7=R7,Z7=Q7,B7=I7;const F7=yPe,W7=vPe,t$=E.forwardRef(({className:n,children:e,...t},r)=>f.jsxs(V7,{ref:r,className:Ee("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...t,children:[e,f.jsx(wPe,{asChild:!0,children:f.jsx(vn,{className:"h-4 w-4 opacity-50"})})]}));t$.displayName=V7.displayName;const X7=E.forwardRef(({className:n,...e},t)=>f.jsx(q7,{ref:t,className:Ee("flex cursor-default items-center justify-center py-1",n),...e,children:f.jsx(Tn,{className:"h-4 w-4"})}));X7.displayName=q7.displayName;const G7=E.forwardRef(({className:n,...e},t)=>f.jsx(Z7,{ref:t,className:Ee("flex cursor-default items-center justify-center py-1",n),...e,children:f.jsx(vn,{className:"h-4 w-4"})}));G7.displayName=Z7.displayName;const n$=E.forwardRef(({className:n,children:e,position:t="popper",...r},i)=>f.jsx(xPe,{children:f.jsxs(L7,{ref:i,className:Ee("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...r,children:[f.jsx(X7,{}),f.jsx(bPe,{className:Ee("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),f.jsx(G7,{})]})}));n$.displayName=L7.displayName;const _Pe=E.forwardRef(({className:n,...e},t)=>f.jsx(z7,{ref:t,className:Ee("py-1.5 pl-8 pr-2 text-sm font-semibold",n),...e}));_Pe.displayName=z7.displayName;const tO=E.forwardRef(({className:n,children:e,...t},r)=>f.jsxs(U7,{ref:r,className:Ee("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(kPe,{children:f.jsx(cA,{className:"h-4 w-4"})})}),f.jsx(SPe,{children:e})]}));tO.displayName=U7.displayName;const TPe=E.forwardRef(({className:n,...e},t)=>f.jsx(B7,{ref:t,className:Ee("-mx-1 my-1 h-px bg-muted",n),...e}));TPe.displayName=B7.displayName;const r$={title:rt.string().min(1,"Title is required"),description:rt.string().optional(),tags:rt.array(rt.string()).default([]),projectId:rt.string().optional()},PPe=rt.object({...r$,content:rt.string().min(1,"Content is required"),language:rt.string().default("javascript")}),CPe=rt.object({...r$,content:rt.string().min(1,"Content is required")}),EPe=rt.object({...r$,items:rt.array(rt.object({text:rt.string(),checked:rt.boolean()})).default([{text:"",checked:!1}])});function oa({type:n,trigger:e,onCreated:t}){const[r,i]=E.useState(!1),{user:s}=ci(),{toast:o}=li(),[a,l]=E.useState([{text:"",checked:!1}]),c=ts(),[u,h]=E.useState([]),[d,m]=E.useState(!1),[g,y]=E.useState("");E.useEffect(()=>{(async()=>{if(s)try{const Q=St(ht(ke,"projects"),He("userId","==",s.uid)),_=(await Ct(Q)).docs.map(x=>({id:x.id,name:x.data().name}));h(_)}catch(Q){console.error("Error fetching projects:",Q)}})()},[s]);const v=Ab({resolver:Rb(n==="snippet"?PPe:n==="note"?CPe:EPe),defaultValues:{title:"",description:"",content:"",language:"javascript",tags:[],projectId:"uncategorized"}}),S=async()=>{if(!(!s||!g.trim()))try{const C=Date.now(),Q=await Id(ht(ke,"projects"),{name:g.trim(),userId:s.uid,createdAt:C,updatedAt:C}),O={id:Q.id,name:g.trim()};h([...u,O]),v.setValue("projectId",Q.id),y(""),m(!1)}catch(C){console.error("Error creating project:",C),o({variant:"destructive",title:"Error",description:C.message||"Failed to create project. Please try again."})}},b=async C=>{try{if(!s){o({variant:"destructive",title:"Error",description:"You must be logged in to create items"});return}const Q=n==="snippet"?"snippets":n==="note"?"notes":"checklists",O=n==="checklist"?JSON.stringify(a.filter(A=>A.text.trim())):C.content,x={id:(await Id(ht(ke,Q),{...C,content:O,userId:s.uid,createdAt:Jm(),updatedAt:Jm()})).id,...C,content:O,userId:s.uid,createdAt:new Date().getTime(),updatedAt:new Date().getTime()};c.setQueryData(["items",s.uid,Q],A=>A?[x,...A]:[x]),c.setQueryData(["folder-items",s.uid,Q],A=>A?[x,...A]:[x]),c.invalidateQueries({queryKey:["items"]}),c.invalidateQueries({queryKey:["folder-items"]}),c.invalidateQueries({queryKey:["project-items",s.uid,C.projectId||""]}),(C.projectId==="uncategorized"||C.projectId===""||!C.projectId)&&(c.invalidateQueries({queryKey:["project-items",s.uid,""]}),c.invalidateQueries({queryKey:["project-items",s.uid,"uncategorized"]})),o({title:"Success",description:`${n} created successfully`}),i(!1),v.reset(),t==null||t()}catch(Q){console.error("Creation error:",Q),o({variant:"destructive",title:"Error",description:Q.message||"Failed to create item. Please try again."})}},k=()=>{l([...a,{text:"",checked:!1}])},$=(C,Q)=>{const O=[...a];O[C].text=Q,l(O)};return f.jsxs(Om,{open:r,onOpenChange:i,children:[f.jsx(NB,{asChild:!0,children:e}),f.jsxs(Yh,{className:"max-w-full h-[90vh] flex flex-col p-0",children:[f.jsxs(Hh,{className:"px-6 py-4 border-b",children:[f.jsxs(Kh,{children:["Create New ",n.charAt(0).toUpperCase()+n.slice(1)]}),f.jsxs(Jh,{children:["Add a new ",n," to your collection. All fields marked with * are required."]})]}),f.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:f.jsx(mg,{...v,children:f.jsxs("form",{onSubmit:v.handleSubmit(b),className:"space-y-4 max-w-2xl mx-auto",children:[f.jsx(Un,{control:v.control,name:"title",render:({field:C})=>f.jsxs(Rn,{children:[f.jsx(fn,{children:"Title *"}),f.jsx(pn,{children:f.jsx($n,{...C,placeholder:`Enter ${n} title`})}),f.jsx(Qn,{})]})}),f.jsx(Un,{control:v.control,name:"description",render:({field:C})=>f.jsxs(Rn,{children:[f.jsx(fn,{children:"Description"}),f.jsx(pn,{children:f.jsx($n,{...C,placeholder:"Add a description (optional)"})}),f.jsx(Qn,{})]})}),n==="snippet"&&f.jsx(Un,{control:v.control,name:"language",render:({field:C})=>f.jsxs(Rn,{children:[f.jsx(fn,{children:"Language *"}),f.jsx(pn,{children:f.jsx($n,{...C,placeholder:"javascript"})}),f.jsx(Qn,{})]})}),f.jsx(Un,{control:v.control,name:"tags",render:({field:C})=>f.jsxs(Rn,{children:[f.jsx(fn,{children:"Tags"}),f.jsx(pn,{children:f.jsx(Z6,{value:C.value,onChange:C.onChange,placeholder:"Add tags (press Enter or comma to add)"})}),f.jsx(Qn,{})]})}),f.jsx(Un,{control:v.control,name:"projectId",render:({field:C})=>f.jsxs(Rn,{children:[f.jsx(fn,{children:"Project"}),d?f.jsxs("div",{className:"flex gap-2",children:[f.jsx(pn,{children:f.jsx($n,{value:g,onChange:Q=>y(Q.target.value),placeholder:"Enter new project name"})}),f.jsx(ie,{type:"button",variant:"outline",onClick:S,disabled:!g.trim(),children:"Create"}),f.jsx(ie,{type:"button",variant:"ghost",onClick:()=>m(!1),children:"Cancel"})]}):f.jsxs("div",{className:"flex gap-2",children:[f.jsx(pn,{children:f.jsxs(F7,{value:C.value,onValueChange:C.onChange,children:[f.jsx(t$,{className:"w-full",children:f.jsx(W7,{placeholder:"Select a project or leave empty"})}),f.jsxs(n$,{children:[f.jsx(tO,{value:"uncategorized",children:"Uncategorized"}),u.map(Q=>f.jsx(tO,{value:Q.id,children:Q.name},Q.id))]})]})}),f.jsx(ie,{type:"button",variant:"outline",onClick:()=>m(!0),children:"New Project"})]}),f.jsx(Qn,{})]})}),n!=="checklist"?f.jsx(Un,{control:v.control,name:"content",render:({field:C})=>f.jsxs(Rn,{children:[f.jsx(fn,{children:"Content *"}),f.jsx(pn,{children:n==="snippet"?f.jsx("div",{className:"h-[400px] rounded-md border",children:f.jsx(Gb,{value:C.value,language:v.getValues("language"),onChange:C.onChange})}):f.jsx(gg,{...C,placeholder:"Enter your note content",className:"min-h-[200px]"})}),f.jsx(Qn,{})]})}):f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx(fn,{children:"Checklist Items *"}),f.jsx(ie,{type:"button",variant:"outline",size:"sm",onClick:k,children:"Add Item"})]}),a.map((C,Q)=>f.jsx("div",{className:"flex items-center gap-2",children:f.jsx($n,{value:C.text,onChange:O=>$(Q,O.target.value),placeholder:"Enter checklist item"})},Q))]})]})})}),f.jsx("div",{className:"bg-background py-4 px-6 border-t",children:f.jsx(ie,{type:"submit",className:"w-full",onClick:v.handleSubmit(b),children:"Create"})})]})]})}function Uk({type:n,userId:e}){const{data:t,isLoading:r,error:i}=wu({queryKey:["folder-items",e,n],queryFn:async()=>{if(!e)return[];try{console.log(`Fetching ${n} for user:`,e);try{const o=St(ht(ke,n),He("userId","==",e),PT("updatedAt","desc")),a=await Ct(o);console.log(`${n} query snapshot:`,a.size,"documents");const l=a.docs.map(c=>({id:c.id,...c.data()}));return console.log(`${n} processed results:`,l),l}catch(o){if(o.message&&o.message.includes("index")){console.warn(`Index error for ${n}, falling back to simpler query:`,o.message);const a=St(ht(ke,n),He("userId","==",e),Qp(10)),c=(await Ct(a)).docs.map(u=>({id:u.id,...u.data()}));return console.log(`${n} fallback results:`,c),c}else throw o}}catch(o){throw console.error(`Error fetching ${n}:`,o),o}},enabled:!!e,staleTime:6e4,retry:2});if(i&&console.error(`Error in FolderContent (${n}):`,i),r)return f.jsxs("div",{className:"pl-6 py-1",children:[f.jsx("div",{className:"h-4 w-3/4 bg-muted animate-pulse rounded my-1"}),f.jsx("div",{className:"h-4 w-1/2 bg-muted animate-pulse rounded my-1"})]});const s=Array.isArray(t)?t:[];return console.log(`FolderContent ${n} items:`,s,"userId:",e),s.length===0?f.jsx("div",{className:"pl-6 py-1 text-xs text-muted-foreground",children:"No items found"}):f.jsxs("div",{className:"pl-6 py-1",children:[s.slice(0,5).map(o=>f.jsx(rn,{href:`/${n}/${o.id}`,children:f.jsx(ie,{variant:"ghost",className:"w-full justify-start h-auto py-1 px-2 text-xs",children:o.title||"Untitled"})},o.id)),s.length>5&&f.jsxs("div",{className:"text-xs text-muted-foreground pl-2 pt-1",children:["+",s.length-5," more items"]})]})}function Yo({projectId:n,type:e,userId:t}){const r=n===""||n==="uncategorized",{data:i,isLoading:s,error:o}=wu({queryKey:["project-items",t,n,e],queryFn:async()=>{if(!t)return console.log(`No userId provided for ${e} in project ${n}`),[];try{console.log(`Fetching ${e} for project ${n} and user ${t}`);try{let l;r?l=St(ht(ke,e),He("userId","==",t),He("projectId","in",[null,"","uncategorized"]),PT("updatedAt","desc")):l=St(ht(ke,e),He("userId","==",t),He("projectId","==",n),PT("updatedAt","desc"));const c=await Ct(l);console.log(`${e} query snapshot for project ${n}:`,c.size,"documents");const u=c.docs.map(h=>{const d=h.data();return{id:h.id,...d}});return console.log(`${e} results for project ${n}:`,u),u}catch(l){if(l.message&&l.message.includes("index")){console.warn(`Index error for ${e} in project ${n}, falling back to simpler query:`,l.message);let c;if(r){c=St(ht(ke,e),He("userId","==",t),He("projectId","==",""),Qp(10));let h=(await Ct(c)).docs.map(y=>({id:y.id,...y.data()}));const d=St(ht(ke,e),He("userId","==",t),He("projectId","==","uncategorized"),Qp(10)),m=await Ct(d);h=[...h,...m.docs.map(y=>({id:y.id,...y.data()}))];const g=St(ht(ke,e),He("userId","==",t),He("projectId","==",null),Qp(10));try{const y=await Ct(g);h=[...h,...y.docs.map(v=>({id:v.id,...v.data()}))]}catch(y){console.warn("Error querying for null projectId:",y)}return console.log(`${e} fallback results for uncategorized:`,h),h}else{c=St(ht(ke,e),He("userId","==",t),He("projectId","==",n),Qp(10));const h=(await Ct(c)).docs.map(d=>({id:d.id,...d.data()}));return console.log(`${e} fallback results for project ${n}:`,h),h}}else throw l}}catch(l){throw console.error(`Error fetching ${e} for project ${n}:`,l),l}},enabled:!!t&&(!!n||r),staleTime:5e3,refetchOnMount:!0,refetchOnWindowFocus:!0,retry:2});if(o&&console.error(`Error in ProjectContent (${e}):`,o),s)return f.jsxs("div",{className:"pl-6 py-1",children:[f.jsx("div",{className:"h-4 w-3/4 bg-muted animate-pulse rounded my-1"}),f.jsx("div",{className:"h-4 w-1/2 bg-muted animate-pulse rounded my-1"})]});const a=Array.isArray(i)?i:[];return a.length===0?f.jsx("div",{className:"pl-6 py-1 text-xs text-muted-foreground",children:"No items found"}):f.jsxs("div",{className:"pl-6 py-1",children:[a.slice(0,5).map(l=>f.jsx(rn,{href:`/${e}/${l.id}`,children:f.jsx(ie,{variant:"ghost",className:"w-full justify-start h-auto py-1 px-2 text-xs",children:l.title||"Untitled"})},l.id)),a.length>5&&f.jsxs("div",{className:"text-xs text-muted-foreground pl-2 pt-1",children:["+",a.length-5," more items"]})]})}function APe(){const[n]=Ma(),{user:e}=ci(),t=ts(),[r,i]=E.useState(!1),[s,o]=E.useState(""),[a,l]=E.useState(!0),[c,u]=E.useState({snippets:!0,notes:!0,checklists:!0}),[h,d]=E.useState(!0),[m,g]=E.useState(!0),[y,v]=E.useState({}),[S,b]=E.useState(!1),[k,$]=E.useState(""),[C,Q]=E.useState(!0),[O,_]=E.useState({snippets:!0,notes:!0,checklists:!0}),[x,A]=E.useState({projects:[],tags:[],snippets:[],notes:[],checklists:[]}),T=async()=>{if(!e||!s.trim()){A({projects:[],tags:[],snippets:[],notes:[],checklists:[]});return}const M=s.toLowerCase();try{const Z=(w==null?void 0:w.filter(Te=>Te.name.toLowerCase().includes(M)))||[],U=(j==null?void 0:j.filter(Te=>Te.toLowerCase().includes(M)))||[],q=St(ht(ke,"snippets"),He("userId","==",e.uid)),X=(await Ct(q)).docs.map(Te=>({id:Te.id,...Te.data()})).filter(Te=>{var yt,qe,Be;return((yt=Te.title)==null?void 0:yt.toLowerCase().includes(M))||((qe=Te.content)==null?void 0:qe.toLowerCase().includes(M))||((Be=Te.language)==null?void 0:Be.toLowerCase().includes(M))}),F=St(ht(ke,"notes"),He("userId","==",e.uid)),K=(await Ct(F)).docs.map(Te=>({id:Te.id,...Te.data()})).filter(Te=>{var yt,qe;return((yt=Te.title)==null?void 0:yt.toLowerCase().includes(M))||((qe=Te.content)==null?void 0:qe.toLowerCase().includes(M))}),re=St(ht(ke,"checklists"),He("userId","==",e.uid)),le=(await Ct(re)).docs.map(Te=>({id:Te.id,...Te.data()})).filter(Te=>{var yt,qe;return((yt=Te.title)==null?void 0:yt.toLowerCase().includes(M))||((qe=Te.items)==null?void 0:qe.some(Be=>{var Ye;return(Ye=Be.text)==null?void 0:Ye.toLowerCase().includes(M)}))});A({projects:Z,tags:U,snippets:X,notes:K,checklists:le}),Z.length>0&&g(!0),U.length>0&&d(!0),(X.length>0||K.length>0||le.length>0)&&(l(!0),X.length>0&&u(Te=>({...Te,snippets:!0})),K.length>0&&u(Te=>({...Te,notes:!0})),le.length>0&&u(Te=>({...Te,checklists:!0})))}catch(Z){console.error("Error searching items:",Z)}};E.useEffect(()=>{const M=setTimeout(()=>{T()},300);return()=>clearTimeout(M)},[s,e]);const{data:w,isLoading:R}=wu({queryKey:["projects",e==null?void 0:e.uid],queryFn:async()=>{if(!e)return[];try{const M=St(ht(ke,"projects"),He("userId","==",e.uid));return(await Ct(M)).docs.map(q=>({id:q.id,name:q.data().name}))}catch(M){return console.error("Error fetching projects:",M),[]}},enabled:!!e}),{data:j,isLoading:V}=wu({queryKey:["tags",e==null?void 0:e.uid],queryFn:async()=>{if(!e)return[];const M=new Set,Z=St(ht(ke,"snippets"),He("userId","==",e.uid));(await Ct(Z)).docs.forEach(G=>{const K=G.data();K.tags&&Array.isArray(K.tags)&&K.tags.forEach(re=>M.add(re))});const q=St(ht(ke,"notes"),He("userId","==",e.uid));(await Ct(q)).docs.forEach(G=>{const K=G.data();K.tags&&Array.isArray(K.tags)&&K.tags.forEach(re=>M.add(re))});const X=St(ht(ke,"checklists"),He("userId","==",e.uid));return(await Ct(X)).docs.forEach(G=>{const K=G.data();K.tags&&Array.isArray(K.tags)&&K.tags.forEach(re=>M.add(re))}),Array.from(M).sort()},enabled:!!e});return e?f.jsx("div",{className:`border-r ${r?"w-16":"w-64"} transition-all duration-200`,children:f.jsxs("div",{className:"flex h-full flex-col",children:[f.jsxs("div",{className:"p-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[!r&&f.jsx("h2",{className:"text-lg font-semibold",children:"Code Snippets"}),f.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>i(!r),children:r?f.jsx(lee,{}):f.jsx(zu,{})})]}),!r&&f.jsxs("div",{className:"mt-4 space-y-4",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx($n,{placeholder:"Search snippets, notes, tags...",className:"h-9",value:s,onChange:M=>o(M.target.value)}),f.jsx(ie,{size:"icon",variant:"ghost",onClick:T,children:f.jsx(gee,{className:"h-4 w-4"})})]}),f.jsx("div",{className:"space-y-1",children:S?f.jsxs("div",{className:"flex gap-2",children:[f.jsx($n,{value:k,onChange:M=>$(M.target.value),placeholder:"Project name",className:"h-9"}),f.jsx(ie,{size:"sm",onClick:async()=>{if(!(!e||!k.trim()))try{const M=Date.now(),U={id:(await Id(ht(ke,"projects"),{name:k.trim(),userId:e.uid,createdAt:M,updatedAt:M})).id,name:k.trim(),userId:e.uid,createdAt:M,updatedAt:M};t.setQueryData(["projects",e.uid],q=>q?[...q,U]:[U]),t.invalidateQueries({queryKey:["projects"]}),$(""),b(!1)}catch(M){console.error("Error creating project:",M)}},disabled:!k.trim(),children:"Create"}),f.jsx(ie,{size:"sm",variant:"ghost",onClick:()=>b(!1),children:"Cancel"})]}):f.jsxs(ie,{variant:"outline",className:"w-full justify-start",onClick:()=>b(!0),children:[f.jsx(lm,{className:"mr-2 h-4 w-4"}),"Create New Project"]})})]})]}),f.jsx(C3,{className:"flex-1 px-4",children:f.jsx("div",{className:"space-y-4",children:r?f.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[f.jsx(rn,{href:"/",children:f.jsx(ie,{variant:n==="/"?"secondary":"ghost",size:"icon",title:"Home",children:f.jsx($2,{className:"h-4 w-4"})})}),f.jsx(rn,{href:"/projects",children:f.jsx(ie,{variant:n==="/projects"?"secondary":"ghost",size:"icon",title:"Projects",children:f.jsx(Py,{className:"h-4 w-4"})})})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"space-y-1",children:[f.jsx(rn,{href:"/",children:f.jsxs(ie,{variant:n==="/"?"secondary":"ghost",className:"w-full justify-start",children:[f.jsx($2,{className:"mr-2 h-4 w-4"}),"Home"]})}),f.jsx(rn,{href:"/projects",children:f.jsxs(ie,{variant:n==="/projects"?"secondary":"ghost",className:"w-full justify-start",children:[f.jsx(Py,{className:"mr-2 h-4 w-4"}),"Projects"]})})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h3",{className:"text-sm font-medium",children:"Projects"}),f.jsx(ie,{size:"icon",variant:"ghost",onClick:()=>g(!m),children:m?f.jsx(Tn,{className:"h-4 w-4"}):f.jsx(vn,{className:"h-4 w-4"})})]}),m&&f.jsx("div",{className:"mt-2 space-y-1",children:R?f.jsx("div",{className:"pl-2 py-1 text-xs text-muted-foreground",children:"Loading projects..."}):s.trim()?x.projects.length>0?f.jsx("div",{className:"space-y-1",children:x.projects.map(M=>f.jsxs("div",{children:[f.jsxs(ie,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto",onClick:()=>v(Z=>({...Z,[M.id]:!Z[M.id]})),children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(Py,{className:"mr-2 h-4 w-4"}),f.jsx("span",{className:"text-sm",children:M.name})]}),y[M.id]?f.jsx(Tn,{className:"h-3 w-3"}):f.jsx(vn,{className:"h-3 w-3"})]}),y[M.id]&&f.jsxs("div",{className:"pl-2 space-y-1",children:[f.jsx(oa,{type:"snippet",trigger:f.jsxs(ie,{variant:"ghost",className:"w-full justify-start py-1 px-2 h-auto text-xs",children:[f.jsx(Ku,{className:"mr-2 h-3 w-3"}),"New Snippet"]})}),f.jsx(oa,{type:"note",trigger:f.jsxs(ie,{variant:"ghost",className:"w-full justify-start py-1 px-2 h-auto text-xs",children:[f.jsx(Ju,{className:"mr-2 h-3 w-3"}),"New Note"]})}),f.jsx(oa,{type:"checklist",trigger:f.jsxs(ie,{variant:"ghost",className:"w-full justify-start py-1 px-2 h-auto text-xs",children:[f.jsx(eh,{className:"mr-2 h-3 w-3"}),"New Checklist"]})}),f.jsxs("div",{className:"space-y-1",children:[f.jsxs("div",{children:[f.jsxs(ie,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto text-xs",onClick:()=>{const Z={...y};Z[`${M.id}-snippets`]=!Z[`${M.id}-snippets`],v(Z)},children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(Ku,{className:"mr-2 h-3 w-3"}),f.jsx("span",{className:"text-xs",children:"Snippets"})]}),y[`${M.id}-snippets`]?f.jsx(Tn,{className:"h-2 w-2"}):f.jsx(vn,{className:"h-2 w-2"})]}),y[`${M.id}-snippets`]&&f.jsx(Yo,{type:"snippets",projectId:M.id,userId:e==null?void 0:e.uid})]}),f.jsxs("div",{children:[f.jsxs(ie,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto text-xs",onClick:()=>{const Z={...y};Z[`${M.id}-notes`]=!Z[`${M.id}-notes`],v(Z)},children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(Ju,{className:"mr-2 h-3 w-3"}),f.jsx("span",{className:"text-xs",children:"Notes"})]}),y[`${M.id}-notes`]?f.jsx(Tn,{className:"h-2 w-2"}):f.jsx(vn,{className:"h-2 w-2"})]}),y[`${M.id}-notes`]&&f.jsx(Yo,{type:"notes",projectId:M.id,userId:e==null?void 0:e.uid})]}),f.jsxs("div",{children:[f.jsxs(ie,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto text-xs",onClick:()=>{const Z={...y};Z[`${M.id}-checklists`]=!Z[`${M.id}-checklists`],v(Z)},children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(eh,{className:"mr-2 h-3 w-3"}),f.jsx("span",{className:"text-xs",children:"Checklists"})]}),y[`${M.id}-checklists`]?f.jsx(Tn,{className:"h-2 w-2"}):f.jsx(vn,{className:"h-2 w-2"})]}),y[`${M.id}-checklists`]&&f.jsx(Yo,{type:"checklists",projectId:M.id,userId:e==null?void 0:e.uid})]})]})]})]},M.id))}):f.jsx("div",{className:"pl-2 py-1 text-xs text-muted-foreground",children:"No matching projects found"}):w&&w.length>0?f.jsx("div",{className:"space-y-1",children:w.map(M=>f.jsxs("div",{children:[f.jsxs(ie,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto",onClick:()=>v(Z=>({...Z,[M.id]:!Z[M.id]})),children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(Py,{className:"mr-2 h-4 w-4"}),f.jsx("span",{className:"text-sm",children:M.name})]}),y[M.id]?f.jsx(Tn,{className:"h-3 w-3"}):f.jsx(vn,{className:"h-3 w-3"})]}),y[M.id]&&f.jsxs("div",{className:"pl-2 space-y-1",children:[f.jsx(oa,{type:"snippet",trigger:f.jsxs(ie,{variant:"ghost",className:"w-full justify-start py-1 px-2 h-auto text-xs",children:[f.jsx(Ku,{className:"mr-2 h-3 w-3"}),"New Snippet"]})}),f.jsx(oa,{type:"note",trigger:f.jsxs(ie,{variant:"ghost",className:"w-full justify-start py-1 px-2 h-auto text-xs",children:[f.jsx(Ju,{className:"mr-2 h-3 w-3"}),"New Note"]})}),f.jsx(oa,{type:"checklist",trigger:f.jsxs(ie,{variant:"ghost",className:"w-full justify-start py-1 px-2 h-auto text-xs",children:[f.jsx(eh,{className:"mr-2 h-3 w-3"}),"New Checklist"]})}),f.jsxs("div",{className:"space-y-1",children:[f.jsxs("div",{children:[f.jsxs(ie,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto text-xs",onClick:()=>{const Z={...y};Z[`${M.id}-snippets`]=!Z[`${M.id}-snippets`],v(Z)},children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(Ku,{className:"mr-2 h-3 w-3"}),f.jsx("span",{className:"text-xs",children:"Snippets"})]}),y[`${M.id}-snippets`]?f.jsx(Tn,{className:"h-2 w-2"}):f.jsx(vn,{className:"h-2 w-2"})]}),y[`${M.id}-snippets`]&&f.jsx(Yo,{type:"snippets",projectId:M.id,userId:e==null?void 0:e.uid})]}),f.jsxs("div",{children:[f.jsxs(ie,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto text-xs",onClick:()=>{const Z={...y};Z[`${M.id}-notes`]=!Z[`${M.id}-notes`],v(Z)},children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(Ju,{className:"mr-2 h-3 w-3"}),f.jsx("span",{className:"text-xs",children:"Notes"})]}),y[`${M.id}-notes`]?f.jsx(Tn,{className:"h-2 w-2"}):f.jsx(vn,{className:"h-2 w-2"})]}),y[`${M.id}-notes`]&&f.jsx(Yo,{type:"notes",projectId:M.id,userId:e==null?void 0:e.uid})]}),f.jsxs("div",{children:[f.jsxs(ie,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto text-xs",onClick:()=>{const Z={...y};Z[`${M.id}-checklists`]=!Z[`${M.id}-checklists`],v(Z)},children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(eh,{className:"mr-2 h-3 w-3"}),f.jsx("span",{className:"text-xs",children:"Checklists"})]}),y[`${M.id}-checklists`]?f.jsx(Tn,{className:"h-2 w-2"}):f.jsx(vn,{className:"h-2 w-2"})]}),y[`${M.id}-checklists`]&&f.jsx(Yo,{type:"checklists",projectId:M.id,userId:e==null?void 0:e.uid})]})]})]})]},M.id))}):f.jsx("div",{className:"pl-2 py-1 text-xs text-muted-foreground",children:"No projects found. Create one to get started."})})]}),f.jsx(Z0,{}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h3",{className:"text-sm font-medium",children:"All Folders"}),f.jsx(ie,{size:"icon",variant:"ghost",onClick:()=>l(!a),children:a?f.jsx(Tn,{className:"h-4 w-4"}):f.jsx(vn,{className:"h-4 w-4"})})]}),a&&f.jsxs("div",{className:"mt-2 space-y-1",children:[f.jsxs("div",{children:[f.jsxs(ie,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto",onClick:()=>u(M=>({...M,snippets:!M.snippets})),children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(Ku,{className:"mr-2 h-4 w-4"}),f.jsx("span",{className:"text-sm",children:"All Snippets"}),s.trim()&&x.snippets.length>0&&f.jsx(qi,{variant:"outline",className:"ml-2",children:x.snippets.length})]}),c.snippets?f.jsx(Tn,{className:"h-3 w-3"}):f.jsx(vn,{className:"h-3 w-3"})]}),c.snippets&&(s.trim()?x.snippets.length>0?f.jsxs("div",{className:"pl-6 py-1",children:[x.snippets.slice(0,5).map(M=>f.jsx(rn,{href:`/snippets/${M.id}`,children:f.jsx(ie,{variant:"ghost",className:"w-full justify-start h-auto py-1 px-2 text-xs",children:M.title||"Untitled"})},M.id)),x.snippets.length>5&&f.jsxs("div",{className:"text-xs text-muted-foreground pl-2 pt-1",children:["+",x.snippets.length-5," more items"]})]}):f.jsx("div",{className:"pl-6 py-1 text-xs text-muted-foreground",children:"No matching snippets found"}):f.jsx(Uk,{type:"snippets",userId:e==null?void 0:e.uid}))]}),f.jsxs("div",{children:[f.jsxs(ie,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto",onClick:()=>u(M=>({...M,notes:!M.notes})),children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(Ju,{className:"mr-2 h-4 w-4"}),f.jsx("span",{className:"text-sm",children:"All Notes"}),s.trim()&&x.notes.length>0&&f.jsx(qi,{variant:"outline",className:"ml-2",children:x.notes.length})]}),c.notes?f.jsx(Tn,{className:"h-3 w-3"}):f.jsx(vn,{className:"h-3 w-3"})]}),c.notes&&(s.trim()?x.notes.length>0?f.jsxs("div",{className:"pl-6 py-1",children:[x.notes.slice(0,5).map(M=>f.jsx(rn,{href:`/notes/${M.id}`,children:f.jsx(ie,{variant:"ghost",className:"w-full justify-start h-auto py-1 px-2 text-xs",children:M.title||"Untitled"})},M.id)),x.notes.length>5&&f.jsxs("div",{className:"text-xs text-muted-foreground pl-2 pt-1",children:["+",x.notes.length-5," more items"]})]}):f.jsx("div",{className:"pl-6 py-1 text-xs text-muted-foreground",children:"No matching notes found"}):f.jsx(Uk,{type:"notes",userId:e==null?void 0:e.uid}))]}),f.jsxs("div",{children:[f.jsxs(ie,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto",onClick:()=>u(M=>({...M,checklists:!M.checklists})),children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(eh,{className:"mr-2 h-4 w-4"}),f.jsx("span",{className:"text-sm",children:"All Checklists"}),s.trim()&&x.checklists.length>0&&f.jsx(qi,{variant:"outline",className:"ml-2",children:x.checklists.length})]}),c.checklists?f.jsx(Tn,{className:"h-3 w-3"}):f.jsx(vn,{className:"h-3 w-3"})]}),c.checklists&&(s.trim()?x.checklists.length>0?f.jsxs("div",{className:"pl-6 py-1",children:[x.checklists.slice(0,5).map(M=>f.jsx(rn,{href:`/checklists/${M.id}`,children:f.jsx(ie,{variant:"ghost",className:"w-full justify-start h-auto py-1 px-2 text-xs",children:M.title||"Untitled"})},M.id)),x.checklists.length>5&&f.jsxs("div",{className:"text-xs text-muted-foreground pl-2 pt-1",children:["+",x.checklists.length-5," more items"]})]}):f.jsx("div",{className:"pl-6 py-1 text-xs text-muted-foreground",children:"No matching checklists found"}):f.jsx(Uk,{type:"checklists",userId:e==null?void 0:e.uid}))]})]})]}),f.jsx(Z0,{}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h3",{className:"text-sm font-medium",children:"Uncategorized"}),f.jsx(ie,{size:"icon",variant:"ghost",onClick:()=>Q(!C),children:C?f.jsx(Tn,{className:"h-4 w-4"}):f.jsx(vn,{className:"h-4 w-4"})})]}),C&&f.jsxs("div",{className:"mt-2 space-y-1",children:[f.jsxs("div",{children:[f.jsxs(ie,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto",onClick:()=>_(M=>({...M,snippets:!M.snippets})),children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(Ku,{className:"mr-2 h-4 w-4"}),f.jsx("span",{className:"text-sm",children:"Snippets"})]}),O.snippets?f.jsx(Tn,{className:"h-3 w-3"}):f.jsx(vn,{className:"h-3 w-3"})]}),O.snippets&&f.jsx(Yo,{type:"snippets",projectId:"",userId:e==null?void 0:e.uid})]}),f.jsxs("div",{children:[f.jsxs(ie,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto",onClick:()=>_(M=>({...M,notes:!M.notes})),children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(Ju,{className:"mr-2 h-4 w-4"}),f.jsx("span",{className:"text-sm",children:"Notes"})]}),O.notes?f.jsx(Tn,{className:"h-3 w-3"}):f.jsx(vn,{className:"h-3 w-3"})]}),O.notes&&f.jsx(Yo,{type:"notes",projectId:"",userId:e==null?void 0:e.uid})]}),f.jsxs("div",{children:[f.jsxs(ie,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto",onClick:()=>_(M=>({...M,checklists:!M.checklists})),children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(eh,{className:"mr-2 h-4 w-4"}),f.jsx("span",{className:"text-sm",children:"Checklists"})]}),O.checklists?f.jsx(Tn,{className:"h-3 w-3"}):f.jsx(vn,{className:"h-3 w-3"})]}),O.checklists&&f.jsx(Yo,{type:"checklists",projectId:"",userId:e==null?void 0:e.uid})]})]})]}),f.jsx(Z0,{}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h3",{className:"text-sm font-medium",children:"Tags"}),f.jsx(ie,{size:"icon",variant:"ghost",onClick:()=>d(!h),children:h?f.jsx(Tn,{className:"h-4 w-4"}):f.jsx(vn,{className:"h-4 w-4"})})]}),h&&f.jsx("div",{className:"mt-2 space-y-1",children:V?f.jsx("div",{className:"pl-2 py-1 text-xs text-muted-foreground",children:"Loading tags..."}):s.trim()?x.tags.length>0?f.jsx("div",{className:"flex flex-wrap gap-2 pl-2 py-1",children:x.tags.map(M=>f.jsx(rn,{href:`/tags/${encodeURIComponent(M)}`,children:f.jsx(qi,{variant:"secondary",className:"cursor-pointer hover:bg-secondary/70",children:M})},M))}):f.jsx("div",{className:"pl-2 py-1 text-xs text-muted-foreground",children:"No matching tags found"}):j&&j.length>0?f.jsx("div",{className:"flex flex-wrap gap-2 pl-2 py-1",children:j.map(M=>f.jsx(rn,{href:`/tags/${encodeURIComponent(M)}`,children:f.jsx(qi,{variant:"secondary",className:"cursor-pointer hover:bg-secondary/70",children:M})},M))}):f.jsx("div",{className:"pl-2 py-1 text-xs text-muted-foreground",children:"No tags found"})})]})]})})}),f.jsx("div",{className:"mt-auto p-4",children:f.jsxs("nav",{className:"space-y-2",children:[f.jsx(rn,{href:"/profile",children:f.jsxs(ie,{variant:"ghost",className:`${r?"justify-center":"w-full justify-start"} ${n==="/profile"?"bg-accent":""}`,title:"Profile",children:[f.jsx(uee,{className:r?"h-4 w-4":"mr-2 h-4 w-4"}),!r&&"Profile"]})}),f.jsx(rn,{href:"/settings",children:f.jsxs(ie,{variant:"ghost",className:`${r?"justify-center":"w-full justify-start"} ${n==="/settings"?"bg-accent":""}`,title:"Settings",children:[f.jsx(Oee,{className:r?"h-4 w-4":"mr-2 h-4 w-4"}),!r&&"Settings"]})})]})})]})}):null}const oi=({children:n})=>f.jsxs("div",{className:"flex h-screen bg-background",children:[f.jsx(APe,{}),f.jsx("main",{className:"flex-1 overflow-auto p-6",children:n})]}),Sr=E.forwardRef(({className:n,...e},t)=>f.jsx("div",{ref:t,className:Ee("rounded-lg border bg-card text-card-foreground shadow-sm",n),...e}));Sr.displayName="Card";const ai=E.forwardRef(({className:n,...e},t)=>f.jsx("div",{ref:t,className:Ee("flex flex-col space-y-1.5 p-6",n),...e}));ai.displayName="CardHeader";const ql=E.forwardRef(({className:n,...e},t)=>f.jsx("h3",{ref:t,className:Ee("text-2xl font-semibold leading-none tracking-tight",n),...e}));ql.displayName="CardTitle";const Y7=E.forwardRef(({className:n,...e},t)=>f.jsx("p",{ref:t,className:Ee("text-sm text-muted-foreground",n),...e}));Y7.displayName="CardDescription";const kr=E.forwardRef(({className:n,...e},t)=>f.jsx("div",{ref:t,className:Ee("p-6 pt-0",n),...e}));kr.displayName="CardContent";const $c=E.forwardRef(({className:n,...e},t)=>f.jsx("div",{ref:t,className:Ee("flex items-center p-6 pt-0",n),...e}));$c.displayName="CardFooter";const i$={title:rt.string().min(1,"Title is required"),description:rt.string().optional(),tags:rt.array(rt.string()).default([]),projectId:rt.string().optional()},RPe=rt.object({...i$,content:rt.string().min(1,"Content is required"),language:rt.string().default("javascript")}),QPe=rt.object({...i$,content:rt.string().min(1,"Content is required")}),$Pe=rt.object({...i$,items:rt.array(rt.object({text:rt.string(),checked:rt.boolean()})).default([{text:"",checked:!1}])});function $f({type:n,itemId:e,defaultValues:t,trigger:r,onEdited:i}){const[s,o]=E.useState(!1),{user:a}=ci(),{toast:l}=li(),c=ts(),[u]=E.useState(t),[h,d]=E.useState(n==="checklist"?JSON.parse(t.content||"[]"):[{text:"",checked:!1}]),[m,g]=E.useState([]),[y,v]=E.useState(!1),[S,b]=E.useState("");E.useEffect(()=>{(async()=>{if(a)try{const A=St(ht(ke,"projects"),He("userId","==",a.uid)),w=(await Ct(A)).docs.map(R=>({id:R.id,name:R.data().name}));g(w)}catch(A){console.error("Error fetching projects:",A)}})()},[a]);const k=async()=>{if(!(!a||!S.trim()))try{const x=Date.now(),A=await Id(ht(ke,"projects"),{name:S.trim(),userId:a.uid,createdAt:x,updatedAt:x}),T={id:A.id,name:S.trim()};g([...m,T]),$.setValue("projectId",A.id),b(""),v(!1)}catch(x){console.error("Error creating project:",x),l({variant:"destructive",title:"Error",description:x.message||"Failed to create project. Please try again."})}},$=Ab({resolver:Rb(n==="snippet"?RPe:n==="note"?QPe:$Pe),defaultValues:{...t,content:n==="checklist"?"":t.content}}),C=async x=>{try{if(!a){l({variant:"destructive",title:"Error",description:"You must be logged in to edit items"});return}const A=n==="snippet"?"snippets":n==="note"?"notes":"checklists",T=n==="checklist"?JSON.stringify(h.filter(R=>R.text.trim())):x.content;await nc(mt(ke,A,e),{...x,content:T,updatedAt:Jm()});const w={id:e,...x,content:T,userId:a.uid,updatedAt:new Date().getTime()};c.setQueryData(["items",a.uid,A],R=>R?R.map(j=>j.id===e?w:j):[w]),c.setQueryData(["folder-items",a.uid,A],R=>R?R.map(j=>j.id===e?w:j):[w]),c.invalidateQueries({queryKey:["items"]}),c.invalidateQueries({queryKey:["folder-items"]}),c.invalidateQueries({queryKey:["project-items",a.uid,x.projectId||""]}),(x.projectId==="uncategorized"||x.projectId===""||!x.projectId)&&(c.invalidateQueries({queryKey:["project-items",a.uid,""]}),c.invalidateQueries({queryKey:["project-items",a.uid,"uncategorized"]})),u.projectId&&u.projectId!==x.projectId&&c.invalidateQueries({queryKey:["project-items",a.uid,u.projectId]}),l({title:"Success",description:`${n} updated successfully`}),o(!1),i==null||i()}catch(A){console.error("Update error:",A),l({variant:"destructive",title:"Error",description:A.message||"Failed to update item. Please try again."})}},Q=()=>{d([...h,{text:"",checked:!1}])},O=(x,A)=>{const T=[...h];T[x].text=A,d(T)},_=x=>{const A=[...h];A[x].checked=!A[x].checked,d(A)};return f.jsxs(Om,{open:s,onOpenChange:o,children:[f.jsx(NB,{asChild:!0,children:r}),f.jsxs(Yh,{className:"max-w-full h-[90vh] flex flex-col p-0",children:[f.jsxs(Hh,{className:"px-6 py-4 border-b",children:[f.jsxs(Kh,{children:["Edit ",n.charAt(0).toUpperCase()+n.slice(1)]}),f.jsxs(Jh,{children:["Make changes to your ",n,". All fields marked with * are required."]})]}),f.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:f.jsx(mg,{...$,children:f.jsxs("form",{onSubmit:$.handleSubmit(C),className:"space-y-4 max-w-2xl mx-auto",children:[f.jsx(Un,{control:$.control,name:"title",render:({field:x})=>f.jsxs(Rn,{children:[f.jsx(fn,{children:"Title *"}),f.jsx(pn,{children:f.jsx($n,{...x,placeholder:`Enter ${n} title`})}),f.jsx(Qn,{})]})}),f.jsx(Un,{control:$.control,name:"description",render:({field:x})=>f.jsxs(Rn,{children:[f.jsx(fn,{children:"Description"}),f.jsx(pn,{children:f.jsx($n,{...x,placeholder:"Add a description (optional)"})}),f.jsx(Qn,{})]})}),n==="snippet"&&f.jsx(Un,{control:$.control,name:"language",render:({field:x})=>f.jsxs(Rn,{children:[f.jsx(fn,{children:"Language *"}),f.jsx(pn,{children:f.jsx($n,{...x,placeholder:"javascript"})}),f.jsx(Qn,{})]})}),f.jsx(Un,{control:$.control,name:"tags",render:({field:x})=>f.jsxs(Rn,{children:[f.jsx(fn,{children:"Tags"}),f.jsx(pn,{children:f.jsx(Z6,{value:x.value,onChange:x.onChange,placeholder:"Add tags (press Enter or comma to add)"})}),f.jsx(Qn,{})]})}),f.jsx(Un,{control:$.control,name:"projectId",render:({field:x})=>f.jsxs(Rn,{children:[f.jsx(fn,{children:"Project"}),y?f.jsxs("div",{className:"flex gap-2",children:[f.jsx(pn,{children:f.jsx($n,{value:S,onChange:A=>b(A.target.value),placeholder:"Enter new project name"})}),f.jsx(ie,{type:"button",variant:"outline",onClick:k,disabled:!S.trim(),children:"Create"}),f.jsx(ie,{type:"button",variant:"ghost",onClick:()=>v(!1),children:"Cancel"})]}):f.jsxs("div",{className:"flex gap-2",children:[f.jsx(pn,{children:f.jsxs(F7,{value:x.value,onValueChange:x.onChange,children:[f.jsx(t$,{className:"w-full",children:f.jsx(W7,{placeholder:"Select a project or leave empty"})}),f.jsxs(n$,{children:[f.jsx(tO,{value:"uncategorized",children:"Uncategorized"}),m.map(A=>f.jsx(tO,{value:A.id,children:A.name},A.id))]})]})}),f.jsx(ie,{type:"button",variant:"outline",onClick:()=>v(!0),children:"New Project"})]}),f.jsx(Qn,{})]})}),n!=="checklist"?f.jsx(Un,{control:$.control,name:"content",render:({field:x})=>f.jsxs(Rn,{children:[f.jsx(fn,{children:"Content *"}),f.jsx(pn,{children:n==="snippet"?f.jsx("div",{className:"h-[400px] rounded-md border",children:f.jsx(Gb,{value:x.value,language:$.getValues("language"),onChange:x.onChange})}):f.jsx(gg,{...x,placeholder:"Enter your note content",className:"min-h-[200px]"})}),f.jsx(Qn,{})]})}):f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx(fn,{children:"Checklist Items *"}),f.jsx(ie,{type:"button",variant:"outline",size:"sm",onClick:Q,children:"Add Item"})]}),h.map((x,A)=>f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx($n,{value:x.text,onChange:T=>O(A,T.target.value),placeholder:"Enter checklist item"}),f.jsx(ie,{type:"button",variant:"ghost",size:"icon",onClick:()=>_(A),children:x.checked?"":""})]},A))]})]})})}),f.jsx("div",{className:"bg-background py-4 px-6 border-t",children:f.jsx(ie,{type:"submit",className:"w-full",onClick:$.handleSubmit(C),children:"Save Changes"})})]})]})}const H7=({snippet:n,showActions:e=!0})=>{const t=ts(),{toast:r}=li(),i=async()=>{try{await Cc(mt(ke,"snippets",n.id)),t.invalidateQueries({queryKey:["items"]}),r({title:"Success",description:"Snippet deleted successfully"})}catch(s){r({variant:"destructive",title:"Error",description:s.message||"Failed to delete snippet"})}};return f.jsx(rn,{href:`/snippets/${n.id}`,children:f.jsx("div",{className:"cursor-pointer",children:f.jsxs(Sr,{className:"w-full enhanced-card card-hover-effect snippet-card",children:[f.jsxs(ai,{className:"space-y-1 card-header-accent",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h3",{className:"text-xl font-semibold",children:n.title}),f.jsx("div",{className:"flex space-x-2",onClick:s=>s.stopPropagation(),children:e&&f.jsxs(f.Fragment,{children:[f.jsx($f,{type:"snippet",itemId:n.id,defaultValues:n,trigger:f.jsx(ie,{variant:"ghost",size:"icon",title:"Edit snippet",className:"hover:bg-accent/10 transition-colors",children:f.jsx(gf,{className:"h-4 w-4"})}),onEdited:()=>t.invalidateQueries({queryKey:["items"]})}),f.jsx(ie,{variant:"ghost",size:"icon",onClick:i,title:"Delete snippet",className:"hover:bg-destructive/10 hover:text-destructive transition-colors",children:f.jsx(Of,{className:"h-4 w-4"})})]})})]}),n.description&&f.jsx("p",{className:"text-sm text-muted-foreground",children:n.description}),f.jsx("div",{className:"flex flex-wrap gap-2",children:n.tags.map(s=>f.jsx(rn,{href:`/tags/${encodeURIComponent(s)}`,onClick:o=>o.stopPropagation(),children:f.jsx(qi,{variant:"secondary",className:"cursor-pointer hover:bg-secondary/70 enhanced-tag",children:s})},s))})]}),f.jsx(kr,{className:"fade-in-content",children:f.jsx("div",{className:"h-[250px] rounded-md border overflow-auto enhanced-code-editor",children:f.jsx(Gb,{value:n.content,language:n.language,onChange:()=>{},readOnly:!0})})}),f.jsx($c,{className:"text-sm text-muted-foreground card-footer-border",children:f.jsxs("div",{className:"timestamp-badge",children:[f.jsx("span",{children:"Last updated:"}),f.jsx("span",{children:n.updatedAt?new Date(typeof n.updatedAt=="object"&&n.updatedAt.seconds?n.updatedAt.seconds*1e3:n.updatedAt).toLocaleDateString():"Unknown"})]})})]})})})},K7=({note:n,showActions:e=!0})=>{const t=ts(),{toast:r}=li(),i=n.tags||[],s=async()=>{try{await Cc(mt(ke,"notes",n.id)),t.invalidateQueries({queryKey:["items"]}),r({title:"Success",description:"Note deleted successfully"})}catch(o){r({variant:"destructive",title:"Error",description:o.message||"Failed to delete note"})}};return f.jsx(rn,{href:`/notes/${n.id}`,children:f.jsx("div",{className:"cursor-pointer",children:f.jsxs(Sr,{className:"h-full flex flex-col enhanced-card card-hover-effect note-card",children:[f.jsxs(ai,{className:"space-y-1 card-header-accent",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h3",{className:"text-xl font-semibold",children:n.title}),f.jsx("div",{className:"flex space-x-2",onClick:o=>o.stopPropagation(),children:e&&f.jsxs(f.Fragment,{children:[f.jsx($f,{type:"note",itemId:n.id,defaultValues:{...n,tags:i},trigger:f.jsx(ie,{variant:"ghost",size:"icon",title:"Edit note",className:"hover:bg-accent/10 transition-colors",children:f.jsx(gf,{className:"h-4 w-4"})}),onEdited:()=>t.invalidateQueries({queryKey:["items"]})}),f.jsx(ie,{variant:"ghost",size:"icon",onClick:s,title:"Delete note",className:"hover:bg-destructive/10 hover:text-destructive transition-colors",children:f.jsx(Of,{className:"h-4 w-4"})})]})})]}),n.description&&f.jsx("p",{className:"text-sm text-muted-foreground",children:n.description}),f.jsx("div",{className:"flex flex-wrap gap-2",children:i.map(o=>f.jsx(rn,{href:`/tags/${encodeURIComponent(o)}`,onClick:a=>a.stopPropagation(),children:f.jsx(qi,{variant:"secondary",className:"cursor-pointer hover:bg-secondary/70 enhanced-tag",children:o})},o))})]}),f.jsx(kr,{className:"flex-1 fade-in-content",children:f.jsx("div",{className:"whitespace-pre-wrap content-fade-bottom",children:n.content})}),f.jsx($c,{className:"text-sm text-muted-foreground card-footer-border",children:f.jsxs("div",{className:"timestamp-badge",children:[f.jsx("span",{children:"Last updated:"}),f.jsx("span",{children:n.updatedAt?new Date(typeof n.updatedAt=="object"&&n.updatedAt.seconds?n.updatedAt.seconds*1e3:n.updatedAt).toLocaleDateString():"Unknown"})]})})]})})})};var s$="Checkbox",[IPe,FAe]=bc(s$),[NPe,jPe]=IPe(s$),J7=E.forwardRef((n,e)=>{const{__scopeCheckbox:t,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:l="on",onCheckedChange:c,form:u,...h}=n,[d,m]=E.useState(null),g=it(e,$=>m($)),y=E.useRef(!1),v=d?u||!!d.closest("form"):!0,[S=!1,b]=Xl({prop:i,defaultProp:s,onChange:c}),k=E.useRef(S);return E.useEffect(()=>{const $=d==null?void 0:d.form;if($){const C=()=>b(k.current);return $.addEventListener("reset",C),()=>$.removeEventListener("reset",C)}},[d,b]),f.jsxs(NPe,{scope:t,state:S,disabled:a,children:[f.jsx(Ie.button,{type:"button",role:"checkbox","aria-checked":Zl(S)?"mixed":S,"aria-required":o,"data-state":n8(S),"data-disabled":a?"":void 0,disabled:a,value:l,...h,ref:g,onKeyDown:Ce(n.onKeyDown,$=>{$.key==="Enter"&&$.preventDefault()}),onClick:Ce(n.onClick,$=>{b(C=>Zl(C)?!0:!C),v&&(y.current=$.isPropagationStopped(),y.current||$.stopPropagation())})}),v&&f.jsx(DPe,{control:d,bubbles:!y.current,name:r,value:l,checked:S,required:o,disabled:a,form:u,style:{transform:"translateX(-100%)"},defaultChecked:Zl(s)?!1:s})]})});J7.displayName=s$;var e8="CheckboxIndicator",t8=E.forwardRef((n,e)=>{const{__scopeCheckbox:t,forceMount:r,...i}=n,s=jPe(e8,t);return f.jsx(Qs,{present:r||Zl(s.state)||s.state===!0,children:f.jsx(Ie.span,{"data-state":n8(s.state),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...n.style}})})});t8.displayName=e8;var DPe=n=>{const{control:e,checked:t,bubbles:r=!0,defaultChecked:i,...s}=n,o=E.useRef(null),a=JQ(t),l=YQ(e);E.useEffect(()=>{const u=o.current,h=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(h,"checked").set;if(a!==t&&m){const g=new Event("click",{bubbles:r});u.indeterminate=Zl(t),m.call(u,Zl(t)?!1:t),u.dispatchEvent(g)}},[a,t,r]);const c=E.useRef(Zl(t)?!1:t);return f.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??c.current,...s,tabIndex:-1,ref:o,style:{...n.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Zl(n){return n==="indeterminate"}function n8(n){return Zl(n)?"indeterminate":n?"checked":"unchecked"}var r8=J7,MPe=t8;const o$=E.forwardRef(({className:n,...e},t)=>f.jsx(r8,{ref:t,className:Ee("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",n),...e,children:f.jsx(MPe,{className:Ee("flex items-center justify-center text-current"),children:f.jsx(cA,{className:"h-4 w-4"})})}));o$.displayName=r8.displayName;const i8=({checklist:n,showActions:e=!0})=>{var a;const t=ts(),{toast:r}=li(),i=n.content?JSON.parse(n.content):[],s=async()=>{try{await Cc(mt(ke,"checklists",n.id)),t.invalidateQueries({queryKey:["items"]}),r({title:"Success",description:"Checklist deleted successfully"})}catch(l){r({variant:"destructive",title:"Error",description:l.message||"Failed to delete checklist"})}},o=async l=>{try{const c=[...i];c[l].checked=!c[l].checked,await nc(mt(ke,"checklists",n.id),{content:JSON.stringify(c)}),t.invalidateQueries({queryKey:["items"]})}catch(c){r({variant:"destructive",title:"Error",description:c.message||"Failed to update item"})}};return f.jsx(rn,{href:`/checklists/${n.id}`,children:f.jsx("div",{className:"cursor-pointer",children:f.jsxs(Sr,{className:"h-full flex flex-col enhanced-card card-hover-effect checklist-card",children:[f.jsxs(ai,{className:"space-y-1 card-header-accent",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h3",{className:"text-xl font-semibold",children:n.title}),f.jsx("div",{className:"flex space-x-2",onClick:l=>l.stopPropagation(),children:e&&f.jsxs(f.Fragment,{children:[f.jsx($f,{type:"checklist",itemId:n.id,defaultValues:n,trigger:f.jsx(ie,{variant:"ghost",size:"icon",title:"Edit checklist",className:"hover:bg-accent/10 transition-colors",children:f.jsx(gf,{className:"h-4 w-4"})}),onEdited:()=>t.invalidateQueries({queryKey:["items"]})}),f.jsx(ie,{variant:"ghost",size:"icon",onClick:s,title:"Delete checklist",className:"hover:bg-destructive/10 hover:text-destructive transition-colors",children:f.jsx(Of,{className:"h-4 w-4"})})]})})]}),n.description&&f.jsx("p",{className:"text-sm text-muted-foreground",children:n.description}),f.jsx("div",{className:"flex flex-wrap gap-2",children:(a=n.tags)==null?void 0:a.map(l=>f.jsx(rn,{href:`/tags/${encodeURIComponent(l)}`,onClick:c=>c.stopPropagation(),children:f.jsx(qi,{variant:"secondary",className:"cursor-pointer hover:bg-secondary/70 enhanced-tag",children:l})},l))})]}),f.jsx(kr,{className:"flex-1 fade-in-content",children:f.jsx("ul",{className:"space-y-2",children:i.map((l,c)=>f.jsxs("li",{className:"flex items-center space-x-2",onClick:u=>u.stopPropagation(),children:[f.jsx(o$,{id:`item-${c}`,checked:l.checked,onCheckedChange:()=>o(c),className:"checkbox-animation"}),f.jsx("label",{htmlFor:`item-${c}`,className:`text-sm ${l.checked?"line-through text-muted-foreground":""} transition-all duration-200`,children:l.text})]},c))})}),f.jsx($c,{className:"text-sm text-muted-foreground card-footer-border",children:f.jsxs("div",{className:"timestamp-badge",children:[f.jsx("span",{children:"Last updated:"}),f.jsx("span",{children:n.updatedAt?new Date(typeof n.updatedAt=="object"&&n.updatedAt.seconds?n.updatedAt.seconds*1e3:n.updatedAt).toLocaleDateString():"Unknown"})]})})]})})})};function VPe(n,e=[]){let t=[];function r(s,o){const a=E.createContext(o),l=t.length;t=[...t,o];function c(h){const{scope:d,children:m,...g}=h,y=(d==null?void 0:d[n][l])||a,v=E.useMemo(()=>g,Object.values(g));return f.jsx(y.Provider,{value:v,children:m})}function u(h,d){const m=(d==null?void 0:d[n][l])||a,g=E.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,u]}const i=()=>{const s=t.map(o=>E.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return E.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return i.scopeName=n,[r,LPe(i,...e)]}function LPe(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}var qk="rovingFocusGroup.onEntryFocus",zPe={bubbles:!1,cancelable:!0},nS="RovingFocusGroup",[tE,s8,UPe]=Gx(nS),[qPe,o8]=VPe(nS,[UPe]),[ZPe,BPe]=qPe(nS),a8=E.forwardRef((n,e)=>f.jsx(tE.Provider,{scope:n.__scopeRovingFocusGroup,children:f.jsx(tE.Slot,{scope:n.__scopeRovingFocusGroup,children:f.jsx(FPe,{...n,ref:e})})}));a8.displayName=nS;var FPe=E.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...h}=n,d=E.useRef(null),m=it(e,d),g=EO(s),[y=null,v]=Xl({prop:o,defaultProp:a,onChange:l}),[S,b]=E.useState(!1),k=ln(c),$=s8(t),C=E.useRef(!1),[Q,O]=E.useState(0);return E.useEffect(()=>{const _=d.current;if(_)return _.addEventListener(qk,k),()=>_.removeEventListener(qk,k)},[k]),f.jsx(ZPe,{scope:t,orientation:r,dir:g,loop:i,currentTabStopId:y,onItemFocus:E.useCallback(_=>v(_),[v]),onItemShiftTab:E.useCallback(()=>b(!0),[]),onFocusableItemAdd:E.useCallback(()=>O(_=>_+1),[]),onFocusableItemRemove:E.useCallback(()=>O(_=>_-1),[]),children:f.jsx(Ie.div,{tabIndex:S||Q===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...n.style},onMouseDown:Ce(n.onMouseDown,()=>{C.current=!0}),onFocus:Ce(n.onFocus,_=>{const x=!C.current;if(_.target===_.currentTarget&&x&&!S){const A=new CustomEvent(qk,zPe);if(_.currentTarget.dispatchEvent(A),!A.defaultPrevented){const T=$().filter(M=>M.focusable),w=T.find(M=>M.active),R=T.find(M=>M.id===y),V=[w,R,...T].filter(Boolean).map(M=>M.ref.current);u8(V,u)}}C.current=!1}),onBlur:Ce(n.onBlur,()=>b(!1))})})}),l8="RovingFocusGroupItem",c8=E.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:i=!1,tabStopId:s,...o}=n,a=zl(),l=s||a,c=BPe(l8,t),u=c.currentTabStopId===l,h=s8(t),{onFocusableItemAdd:d,onFocusableItemRemove:m}=c;return E.useEffect(()=>{if(r)return d(),()=>m()},[r,d,m]),f.jsx(tE.ItemSlot,{scope:t,id:l,focusable:r,active:i,children:f.jsx(Ie.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:Ce(n.onMouseDown,g=>{r?c.onItemFocus(l):g.preventDefault()}),onFocus:Ce(n.onFocus,()=>c.onItemFocus(l)),onKeyDown:Ce(n.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){c.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const y=GPe(g,c.orientation,c.dir);if(y!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let S=h().filter(b=>b.focusable).map(b=>b.ref.current);if(y==="last")S.reverse();else if(y==="prev"||y==="next"){y==="prev"&&S.reverse();const b=S.indexOf(g.currentTarget);S=c.loop?YPe(S,b+1):S.slice(b+1)}setTimeout(()=>u8(S))}})})})});c8.displayName=l8;var WPe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function XPe(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function GPe(n,e,t){const r=XPe(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return WPe[r]}function u8(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function YPe(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var HPe=a8,KPe=c8,a$="Tabs",[JPe,WAe]=bc(a$,[o8]),h8=o8(),[eCe,l$]=JPe(a$),d8=E.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=n,u=EO(a),[h,d]=Xl({prop:r,onChange:i,defaultProp:s});return f.jsx(eCe,{scope:t,baseId:zl(),value:h,onValueChange:d,orientation:o,dir:u,activationMode:l,children:f.jsx(Ie.div,{dir:u,"data-orientation":o,...c,ref:e})})});d8.displayName=a$;var f8="TabsList",p8=E.forwardRef((n,e)=>{const{__scopeTabs:t,loop:r=!0,...i}=n,s=l$(f8,t),o=h8(t);return f.jsx(HPe,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:f.jsx(Ie.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});p8.displayName=f8;var m8="TabsTrigger",g8=E.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,disabled:i=!1,...s}=n,o=l$(m8,t),a=h8(t),l=v8(o.baseId,r),c=w8(o.baseId,r),u=r===o.value;return f.jsx(KPe,{asChild:!0,...a,focusable:!i,active:u,children:f.jsx(Ie.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:e,onMouseDown:Ce(n.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:Ce(n.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:Ce(n.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!i&&h&&o.onValueChange(r)})})})});g8.displayName=m8;var O8="TabsContent",y8=E.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,forceMount:i,children:s,...o}=n,a=l$(O8,t),l=v8(a.baseId,r),c=w8(a.baseId,r),u=r===a.value,h=E.useRef(u);return E.useEffect(()=>{const d=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(d)},[]),f.jsx(Qs,{present:i||u,children:({present:d})=>f.jsx(Ie.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!d,id:c,tabIndex:0,...o,ref:e,style:{...n.style,animationDuration:h.current?"0s":void 0},children:d&&s})})});y8.displayName=O8;function v8(n,e){return`${n}-trigger-${e}`}function w8(n,e){return`${n}-content-${e}`}var tCe=d8,x8=p8,b8=g8,S8=y8;const c$=tCe,rS=E.forwardRef(({className:n,...e},t)=>f.jsx(x8,{ref:t,className:Ee("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",n),...e}));rS.displayName=x8.displayName;const so=E.forwardRef(({className:n,...e},t)=>f.jsx(b8,{ref:t,className:Ee("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",n),...e}));so.displayName=b8.displayName;const oo=E.forwardRef(({className:n,...e},t)=>f.jsx(S8,{ref:t,className:Ee("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...e}));oo.displayName=S8.displayName;function nCe(){const{user:n}=ci(),[e,t]=E.useState("snippets"),{data:r,isLoading:i}=wu({queryKey:["items",n==null?void 0:n.uid,e],queryFn:async()=>{if(!n)return[];const o=St(ht(ke,e),He("userId","==",n.uid));return(await Ct(o)).docs.map(l=>({id:l.id,...l.data()}))},enabled:!!n,refetchOnMount:!0,staleTime:5e3}),s=()=>i?f.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(o=>f.jsx("div",{className:"h-[300px] rounded-lg bg-card animate-pulse"},o))}):r!=null&&r.length?f.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:r.map(o=>e==="snippets"?f.jsx(H7,{snippet:o,showActions:!1},o.id):e==="notes"?f.jsx(K7,{note:o,showActions:!1},o.id):f.jsx(i8,{checklist:o,showActions:!1},o.id))}):f.jsx("div",{className:"text-center py-12",children:f.jsxs("p",{className:"text-muted-foreground",children:["No ",e," found. Create your first one using the buttons on the left."]})});return f.jsx(oi,{children:f.jsx("div",{className:"space-y-4 relative",children:f.jsxs(c$,{defaultValue:"snippets",onValueChange:t,children:[f.jsxs(rS,{children:[f.jsx(so,{value:"snippets",children:"Snippets"}),f.jsx(so,{value:"notes",children:"Notes"}),f.jsx(so,{value:"checklists",children:"Checklists"})]}),f.jsxs(oo,{value:"snippets",className:"mt-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h2",{className:"text-xl font-semibold",children:"Your Snippets"}),f.jsx(oa,{type:"snippet",trigger:f.jsxs(ie,{className:"flex items-center gap-1",children:[f.jsx(lm,{className:"h-4 w-4"})," New Snippet"]})})]}),s()]}),f.jsxs(oo,{value:"notes",className:"mt-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h2",{className:"text-xl font-semibold",children:"Your Notes"}),f.jsx(oa,{type:"note",trigger:f.jsxs(ie,{className:"flex items-center gap-1",children:[f.jsx(lm,{className:"h-4 w-4"})," New Note"]})})]}),s()]}),f.jsxs(oo,{value:"checklists",className:"mt-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h2",{className:"text-xl font-semibold",children:"Your Checklists"}),f.jsx(oa,{type:"checklist",trigger:f.jsxs(ie,{className:"flex items-center gap-1",children:[f.jsx(lm,{className:"h-4 w-4"})," New Checklist"]})})]}),s()]})]})})})}const rCe=rt.object({email:rt.string().email(),password:rt.string().min(6)});function iCe(){const[n,e]=E.useState("login"),[,t]=Ma(),{toast:r}=li(),i=Ab({resolver:Rb(rCe),defaultValues:{email:"",password:""}}),s=async o=>{try{n==="login"?(await kce(o.email,o.password),t("/")):n==="register"?(await _ce(o.email,o.password),t("/")):n==="reset"&&(await Pce(o.email),r({title:"Password reset email sent",description:"Check your email for further instructions"}),e("login"))}catch(a){const l=a.message.replace("Firebase:","Authentication");console.log(l),r({variant:"destructive",title:"Error",description:l})}};return f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:f.jsxs(Sr,{className:"w-full max-w-md",children:[f.jsx(ai,{children:f.jsx(ql,{children:n==="login"?"Sign In":n==="register"?"Create Account":"Reset Password"})}),f.jsxs(kr,{children:[f.jsx(mg,{...i,children:f.jsxs("form",{onSubmit:i.handleSubmit(s),className:"space-y-4",children:[f.jsx(Un,{control:i.control,name:"email",render:({field:o})=>f.jsxs(Rn,{children:[f.jsx(fn,{children:"Email"}),f.jsx(pn,{children:f.jsx($n,{placeholder:"Email",...o})}),f.jsx(Qn,{})]})}),n!=="reset"&&f.jsx(Un,{control:i.control,name:"password",render:({field:o})=>f.jsxs(Rn,{children:[f.jsx(fn,{children:"Password"}),f.jsx(pn,{children:f.jsx($n,{type:"password",placeholder:"Password",...o})}),f.jsx(Qn,{})]})}),f.jsx(ie,{type:"submit",className:"w-full",children:n==="login"?"Sign In":n==="register"?"Create Account":"Reset Password"})]})}),f.jsx("div",{className:"mt-4 text-center text-sm",children:n==="login"?f.jsxs(f.Fragment,{children:[f.jsx(ie,{variant:"link",onClick:()=>e("register"),children:"Need an account? Sign up"}),f.jsx(ie,{variant:"link",onClick:()=>e("reset"),children:"Forgot password?"})]}):f.jsx(ie,{variant:"link",onClick:()=>e("login"),children:"Already have an account? Sign in"})})]})]})})}var k8=["PageUp","PageDown"],_8=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],T8={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},If="Slider",[nE,sCe,oCe]=Gx(If),[P8,XAe]=bc(If,[oCe]),[aCe,iS]=P8(If),C8=E.forwardRef((n,e)=>{const{name:t,min:r=0,max:i=100,step:s=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:u,onValueChange:h=()=>{},onValueCommit:d=()=>{},inverted:m=!1,form:g,...y}=n,v=E.useRef(new Set),S=E.useRef(0),k=o==="horizontal"?lCe:cCe,[$=[],C]=Xl({prop:u,defaultProp:c,onChange:T=>{var R;(R=[...v.current][S.current])==null||R.focus(),h(T)}}),Q=E.useRef($);function O(T){const w=pCe($,T);A(T,w)}function _(T){A(T,S.current)}function x(){const T=Q.current[S.current];$[S.current]!==T&&d($)}function A(T,w,{commit:R}={commit:!1}){const j=yCe(s),V=vCe(Math.round((T-r)/s)*s+r,j),M=eg(V,[r,i]);C((Z=[])=>{const U=dCe(Z,M,w);if(OCe(U,l*s)){S.current=U.indexOf(M);const q=String(U)!==String(Z);return q&&R&&d(U),q?U:Z}else return Z})}return f.jsx(aCe,{scope:n.__scopeSlider,name:t,disabled:a,min:r,max:i,valueIndexToChangeRef:S,thumbs:v.current,values:$,orientation:o,form:g,children:f.jsx(nE.Provider,{scope:n.__scopeSlider,children:f.jsx(nE.Slot,{scope:n.__scopeSlider,children:f.jsx(k,{"aria-disabled":a,"data-disabled":a?"":void 0,...y,ref:e,onPointerDown:Ce(y.onPointerDown,()=>{a||(Q.current=$)}),min:r,max:i,inverted:m,onSlideStart:a?void 0:O,onSlideMove:a?void 0:_,onSlideEnd:a?void 0:x,onHomeKeyDown:()=>!a&&A(r,0,{commit:!0}),onEndKeyDown:()=>!a&&A(i,$.length-1,{commit:!0}),onStepKeyDown:({event:T,direction:w})=>{if(!a){const V=k8.includes(T.key)||T.shiftKey&&_8.includes(T.key)?10:1,M=S.current,Z=$[M],U=s*V*w;A(Z+U,M,{commit:!0})}}})})})})});C8.displayName=If;var[E8,A8]=P8(If,{startEdge:"left",endEdge:"right",size:"width",direction:1}),lCe=E.forwardRef((n,e)=>{const{min:t,max:r,dir:i,inverted:s,onSlideStart:o,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...u}=n,[h,d]=E.useState(null),m=it(e,k=>d(k)),g=E.useRef(),y=EO(i),v=y==="ltr",S=v&&!s||!v&&s;function b(k){const $=g.current||h.getBoundingClientRect(),C=[0,$.width],O=u$(C,S?[t,r]:[r,t]);return g.current=$,O(k-$.left)}return f.jsx(E8,{scope:n.__scopeSlider,startEdge:S?"left":"right",endEdge:S?"right":"left",direction:S?1:-1,size:"width",children:f.jsx(R8,{dir:y,"data-orientation":"horizontal",...u,ref:m,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:k=>{const $=b(k.clientX);o==null||o($)},onSlideMove:k=>{const $=b(k.clientX);a==null||a($)},onSlideEnd:()=>{g.current=void 0,l==null||l()},onStepKeyDown:k=>{const C=T8[S?"from-left":"from-right"].includes(k.key);c==null||c({event:k,direction:C?-1:1})}})})}),cCe=E.forwardRef((n,e)=>{const{min:t,max:r,inverted:i,onSlideStart:s,onSlideMove:o,onSlideEnd:a,onStepKeyDown:l,...c}=n,u=E.useRef(null),h=it(e,u),d=E.useRef(),m=!i;function g(y){const v=d.current||u.current.getBoundingClientRect(),S=[0,v.height],k=u$(S,m?[r,t]:[t,r]);return d.current=v,k(y-v.top)}return f.jsx(E8,{scope:n.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:f.jsx(R8,{"data-orientation":"vertical",...c,ref:h,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:y=>{const v=g(y.clientY);s==null||s(v)},onSlideMove:y=>{const v=g(y.clientY);o==null||o(v)},onSlideEnd:()=>{d.current=void 0,a==null||a()},onStepKeyDown:y=>{const S=T8[m?"from-bottom":"from-top"].includes(y.key);l==null||l({event:y,direction:S?-1:1})}})})}),R8=E.forwardRef((n,e)=>{const{__scopeSlider:t,onSlideStart:r,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:l,...c}=n,u=iS(If,t);return f.jsx(Ie.span,{...c,ref:e,onKeyDown:Ce(n.onKeyDown,h=>{h.key==="Home"?(o(h),h.preventDefault()):h.key==="End"?(a(h),h.preventDefault()):k8.concat(_8).includes(h.key)&&(l(h),h.preventDefault())}),onPointerDown:Ce(n.onPointerDown,h=>{const d=h.target;d.setPointerCapture(h.pointerId),h.preventDefault(),u.thumbs.has(d)?d.focus():r(h)}),onPointerMove:Ce(n.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&i(h)}),onPointerUp:Ce(n.onPointerUp,h=>{const d=h.target;d.hasPointerCapture(h.pointerId)&&(d.releasePointerCapture(h.pointerId),s(h))})})}),Q8="SliderTrack",$8=E.forwardRef((n,e)=>{const{__scopeSlider:t,...r}=n,i=iS(Q8,t);return f.jsx(Ie.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});$8.displayName=Q8;var rE="SliderRange",I8=E.forwardRef((n,e)=>{const{__scopeSlider:t,...r}=n,i=iS(rE,t),s=A8(rE,t),o=E.useRef(null),a=it(e,o),l=i.values.length,c=i.values.map(d=>j8(d,i.min,i.max)),u=l>1?Math.min(...c):0,h=100-Math.max(...c);return f.jsx(Ie.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:a,style:{...n.style,[s.startEdge]:u+"%",[s.endEdge]:h+"%"}})});I8.displayName=rE;var iE="SliderThumb",N8=E.forwardRef((n,e)=>{const t=sCe(n.__scopeSlider),[r,i]=E.useState(null),s=it(e,a=>i(a)),o=E.useMemo(()=>r?t().findIndex(a=>a.ref.current===r):-1,[t,r]);return f.jsx(uCe,{...n,ref:s,index:o})}),uCe=E.forwardRef((n,e)=>{const{__scopeSlider:t,index:r,name:i,...s}=n,o=iS(iE,t),a=A8(iE,t),[l,c]=E.useState(null),u=it(e,b=>c(b)),h=l?o.form||!!l.closest("form"):!0,d=YQ(l),m=o.values[r],g=m===void 0?0:j8(m,o.min,o.max),y=fCe(r,o.values.length),v=d==null?void 0:d[a.size],S=v?mCe(v,g,a.direction):0;return E.useEffect(()=>{if(l)return o.thumbs.add(l),()=>{o.thumbs.delete(l)}},[l,o.thumbs]),f.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${g}% + ${S}px)`},children:[f.jsx(nE.ItemSlot,{scope:n.__scopeSlider,children:f.jsx(Ie.span,{role:"slider","aria-label":n["aria-label"]||y,"aria-valuemin":o.min,"aria-valuenow":m,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...s,ref:u,style:m===void 0?{display:"none"}:n.style,onFocus:Ce(n.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),h&&f.jsx(hCe,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:m},r)]})});N8.displayName=iE;var hCe=n=>{const{value:e,...t}=n,r=E.useRef(null),i=JQ(e);return E.useEffect(()=>{const s=r.current,o=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(o,"value").set;if(i!==e&&l){const c=new Event("input",{bubbles:!0});l.call(s,e),s.dispatchEvent(c)}},[i,e]),f.jsx("input",{style:{display:"none"},...t,ref:r,defaultValue:e})};function dCe(n=[],e,t){const r=[...n];return r[t]=e,r.sort((i,s)=>i-s)}function j8(n,e,t){const s=100/(t-e)*(n-e);return eg(s,[0,100])}function fCe(n,e){return e>2?`Value ${n+1} of ${e}`:e===2?["Minimum","Maximum"][n]:void 0}function pCe(n,e){if(n.length===1)return 0;const t=n.map(i=>Math.abs(i-e)),r=Math.min(...t);return t.indexOf(r)}function mCe(n,e,t){const r=n/2,s=u$([0,50],[0,r]);return(r-s(e)*t)*t}function gCe(n){return n.slice(0,-1).map((e,t)=>n[t+1]-e)}function OCe(n,e){if(e>0){const t=gCe(n);return Math.min(...t)>=e}return!0}function u$(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(n[1]-n[0]);return e[0]+r*(t-n[0])}}function yCe(n){return(String(n).split(".")[1]||"").length}function vCe(n,e){const t=Math.pow(10,e);return Math.round(n*t)/t}var D8=C8,wCe=$8,xCe=I8,bCe=N8;const M8=E.forwardRef(({className:n,...e},t)=>f.jsxs(D8,{ref:t,className:Ee("relative flex w-full touch-none select-none items-center",n),...e,children:[f.jsx(wCe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:f.jsx(xCe,{className:"absolute h-full bg-primary"})}),f.jsx(bCe,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));M8.displayName=D8.displayName;function SCe(){const{theme:n,setTheme:e}=pR(),[t,r]=E.useState("colors");return f.jsx("div",{className:"space-y-4",children:f.jsxs(c$,{defaultValue:"colors",className:"w-full",onValueChange:i=>r(i),children:[f.jsxs(rS,{className:"grid w-full grid-cols-2",children:[f.jsx(so,{value:"colors",children:"Color Themes"}),f.jsx(so,{value:"gradients",children:"Gradient Themes"})]}),f.jsx(oo,{value:"colors",className:"mt-4",children:f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:h3.map(i=>f.jsx(IL,{themeOption:i,isSelected:n===i.id,onClick:()=>e(i.id)},i.id))})}),f.jsx(oo,{value:"gradients",className:"mt-4",children:f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:d3.map(i=>f.jsx(IL,{themeOption:i,isSelected:n===i.id,onClick:()=>e(i.id)},i.id))})})]})})}function IL({themeOption:n,isSelected:e,onClick:t}){const{theme:r}=n;return f.jsxs(Sr,{className:`overflow-hidden cursor-pointer transition-all hover:scale-105 ${e?"ring-2 ring-primary":""}`,onClick:t,children:[f.jsxs("div",{className:"h-24 w-full relative",style:{background:(n.type==="gradient",r.preview.background)},children:[e&&f.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20",children:f.jsx(cA,{className:"h-8 w-8 text-white"})}),f.jsxs("div",{className:"absolute bottom-2 left-2 right-2 flex space-x-2",children:[f.jsx("div",{className:"h-6 w-6 rounded-full",style:{backgroundColor:r.preview.primary}}),f.jsx("div",{className:"h-6 w-6 rounded-full",style:{backgroundColor:r.preview.secondary}}),f.jsx("div",{className:"h-6 w-6 rounded-full",style:{backgroundColor:r.preview.accent}})]})]}),f.jsxs(kr,{className:"p-3",children:[f.jsx("div",{className:"font-medium",children:n.name}),f.jsx("div",{className:"text-xs text-muted-foreground",children:n.description})]})]})}const kCe=fO("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),V8=E.forwardRef(({className:n,variant:e,...t},r)=>f.jsx("div",{ref:r,role:"alert",className:Ee(kCe({variant:e}),n),...t}));V8.displayName="Alert";const L8=E.forwardRef(({className:n,...e},t)=>f.jsx("h5",{ref:t,className:Ee("mb-1 font-medium leading-none tracking-tight",n),...e}));L8.displayName="AlertTitle";const z8=E.forwardRef(({className:n,...e},t)=>f.jsx("div",{ref:t,className:Ee("text-sm [&_p]:leading-relaxed",n),...e}));z8.displayName="AlertDescription";const U8=E.forwardRef(({className:n,...e},t)=>f.jsx("div",{className:"relative w-full overflow-auto",children:f.jsx("table",{ref:t,className:Ee("w-full caption-bottom text-sm",n),...e})}));U8.displayName="Table";const q8=E.forwardRef(({className:n,...e},t)=>f.jsx("thead",{ref:t,className:Ee("[&_tr]:border-b",n),...e}));q8.displayName="TableHeader";const Z8=E.forwardRef(({className:n,...e},t)=>f.jsx("tbody",{ref:t,className:Ee("[&_tr:last-child]:border-0",n),...e}));Z8.displayName="TableBody";const _Ce=E.forwardRef(({className:n,...e},t)=>f.jsx("tfoot",{ref:t,className:Ee("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",n),...e}));_Ce.displayName="TableFooter";const sE=E.forwardRef(({className:n,...e},t)=>f.jsx("tr",{ref:t,className:Ee("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",n),...e}));sE.displayName="TableRow";const $v=E.forwardRef(({className:n,...e},t)=>f.jsx("th",{ref:t,className:Ee("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",n),...e}));$v.displayName="TableHead";const Iv=E.forwardRef(({className:n,...e},t)=>f.jsx("td",{ref:t,className:Ee("p-4 align-middle [&:has([role=checkbox])]:pr-0",n),...e}));Iv.displayName="TableCell";const TCe=E.forwardRef(({className:n,...e},t)=>f.jsx("caption",{ref:t,className:Ee("mt-4 text-sm text-muted-foreground",n),...e}));TCe.displayName="TableCaption";function PCe(){pR();const{fontSize:n,setFontSize:e}=p3(),[,t]=Ma(),{user:r}=ci(),{toast:i}=li(),[s,o]=E.useState(!1),[a,l]=E.useState(!1),[c,u]=E.useState([]),[h,d]=E.useState(!1),m=E.useRef(null);E.useEffect(()=>{r&&g()},[r]);const g=async()=>{if(r)try{d(!0);const Q=St(ht(ke,"backups"),He("userId","==",r.uid)),_=(await Ct(Q)).docs.map(x=>({id:x.id,...x.data()}));u(_)}catch(Q){console.error("Error fetching backup files:",Q),i({variant:"destructive",title:"Error",description:"Failed to load backup files."})}finally{d(!1)}},y=Q=>{try{e(Q[0])}catch{i({variant:"destructive",title:"Error",description:"Failed to update font size. Please try again."})}},v=async()=>{if(r)try{o(!0);const Q={snippets:[],notes:[],checklists:[],projects:[],profile:{}},O=await Ct(St(ht(ke,"users"),He("__name__","==",r.uid)));O.empty||(Q.profile=O.docs[0].data());const _=St(ht(ke,"snippets"),He("userId","==",r.uid)),x=await Ct(_);Q.snippets=x.docs.map(re=>({id:re.id,...re.data()}));const A=St(ht(ke,"notes"),He("userId","==",r.uid)),T=await Ct(A);Q.notes=T.docs.map(re=>({id:re.id,...re.data()}));const w=St(ht(ke,"checklists"),He("userId","==",r.uid)),R=await Ct(w);Q.checklists=R.docs.map(re=>({id:re.id,...re.data()}));const j=St(ht(ke,"projects"),He("userId","==",r.uid)),V=await Ct(j);Q.projects=V.docs.map(re=>({id:re.id,...re.data()}));const M=new Date,Z=`snippets-backup-${M.toISOString().split("T")[0]}.json`,U=JSON.stringify(Q,null,2),q=new Blob([U],{type:"application/json"}),ne=ET(pj,`backups/${r.uid}/${Z}`);await l3(ne,q);const X=await c3(ne),F=await Id(ht(ke,"backups"),{userId:r.uid,fileName:Z,timestamp:M.getTime(),downloadUrl:X,createdAt:M.getTime()});u([...c,{id:F.id,fileName:Z,timestamp:M.getTime(),downloadUrl:X}]);const G=URL.createObjectURL(q),K=document.createElement("a");K.href=G,K.download=Z,document.body.appendChild(K),K.click(),document.body.removeChild(K),i({title:"Export Successful",description:"Your data has been exported and saved to your account."})}catch(Q){console.error("Export error:",Q),i({variant:"destructive",title:"Export Failed",description:Q.message||"Failed to export your data. Please try again."})}finally{o(!1)}},S=async Q=>{try{const O=document.createElement("a");O.href=Q.downloadUrl,O.download=Q.fileName,document.body.appendChild(O),O.click(),document.body.removeChild(O),i({title:"Download Started",description:"Your backup file download has started."})}catch(O){console.error("Download error:",O),i({variant:"destructive",title:"Download Failed",description:O.message||"Failed to download backup file."})}},b=async Q=>{if(r)try{const O=ET(pj,`backups/${r.uid}/${Q.fileName}`);await vce(O),await Cc(mt(ke,"backups",Q.id)),u(c.filter(_=>_.id!==Q.id)),i({title:"Backup Deleted",description:"Your backup file has been deleted."})}catch(O){console.error("Delete error:",O),i({variant:"destructive",title:"Delete Failed",description:O.message||"Failed to delete backup file."})}},k=()=>{m.current&&m.current.click()},$=async Q=>{if(!(!r||!Q.target.files||Q.target.files.length===0))try{l(!0);const O=Q.target.files[0],_=new FileReader;_.onload=async x=>{var A;try{if(!((A=x.target)!=null&&A.result))throw new Error("Failed to read file");const T=JSON.parse(x.target.result);if(!T.snippets||!T.notes||!T.checklists)throw new Error("Invalid backup file format. The file is missing required data structures.");const w=ule(ke);let R=0;for(const j of T.snippets)if(j.userId===r.uid){const V=mt(ke,"snippets",j.id);w.set(V,{...j,updatedAt:new Date().getTime()}),R++}for(const j of T.notes)if(j.userId===r.uid){const V=mt(ke,"notes",j.id);w.set(V,{...j,updatedAt:new Date().getTime()}),R++}for(const j of T.checklists)if(j.userId===r.uid){const V=mt(ke,"checklists",j.id);w.set(V,{...j,updatedAt:new Date().getTime()}),R++}if(T.projects&&Array.isArray(T.projects)){for(const j of T.projects)if(j.userId===r.uid){const V=mt(ke,"projects",j.id);w.set(V,{...j,updatedAt:new Date().getTime()}),R++}}await w.commit(),i({title:"Import Successful",description:`Successfully imported ${R} items to your account.`})}catch(T){console.error("Import parsing error:",T),i({variant:"destructive",title:"Import Failed",description:T.message||"Failed to import your data. Please check the file format."})}finally{l(!1),m.current&&(m.current.value="")}},_.onerror=()=>{i({variant:"destructive",title:"Import Failed",description:"Failed to read the file. Please try again."}),l(!1)},_.readAsText(O)}catch(O){console.error("Import error:",O),i({variant:"destructive",title:"Import Failed",description:O.message||"Failed to import your data. Please try again."}),l(!1)}},C=Q=>new Date(Q).toLocaleString();return f.jsx(oi,{children:f.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[f.jsxs("div",{className:"flex items-center mb-6",children:[f.jsxs(ie,{variant:"ghost",onClick:()=>t("/"),className:"mr-4",children:[f.jsx(zu,{className:"h-4 w-4 mr-2"}),"Back"]}),f.jsx("h1",{className:"text-2xl font-bold",children:"Settings"})]}),f.jsxs(Sr,{children:[f.jsx(ai,{children:f.jsx(ql,{children:"Appearance"})}),f.jsxs(kr,{className:"space-y-6",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsx(Vd,{children:"Theme"}),f.jsx(SCe,{})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Vd,{children:"Font Size"}),f.jsx(M8,{value:[n],max:20,min:12,step:1,className:"w-full",onValueChange:y})]})]})]}),f.jsxs(Sr,{children:[f.jsx(ai,{children:f.jsx(ql,{children:"Backup & Restore"})}),f.jsxs(kr,{className:"space-y-6",children:[f.jsxs(V8,{children:[f.jsx(L8,{children:"Important"}),f.jsx(z8,{children:"Export your data to create a backup file that you can use to restore your snippets, notes, and checklists. When importing, make sure the file has the correct format."})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[f.jsxs(ie,{onClick:v,disabled:s||!r,className:"flex items-center gap-2",children:[f.jsx(dee,{className:"h-4 w-4"}),s?"Exporting...":"Export Data"]}),f.jsxs(ie,{variant:"outline",onClick:k,disabled:a||!r,className:"flex items-center gap-2",children:[f.jsx(iU,{className:"h-4 w-4"}),a?"Importing...":"Import Data"]}),f.jsx("input",{type:"file",ref:m,className:"hidden",accept:"application/json",onChange:$})]}),f.jsxs("div",{className:"mt-6",children:[f.jsx("h3",{className:"text-lg font-medium mb-2",children:"Your Backups"}),h?f.jsx("div",{className:"text-center py-4",children:f.jsx("p",{className:"text-muted-foreground",children:"Loading your backups..."})}):c.length>0?f.jsxs(U8,{children:[f.jsx(q8,{children:f.jsxs(sE,{children:[f.jsx($v,{children:"Filename"}),f.jsx($v,{children:"Date"}),f.jsx($v,{className:"text-right",children:"Actions"})]})}),f.jsx(Z8,{children:c.map(Q=>f.jsxs(sE,{children:[f.jsx(Iv,{children:Q.fileName}),f.jsx(Iv,{children:C(Q.timestamp)}),f.jsx(Iv,{className:"text-right",children:f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx(ie,{variant:"outline",size:"sm",onClick:()=>S(Q),title:"Download",children:f.jsx(fee,{className:"h-4 w-4"})}),f.jsx(ie,{variant:"outline",size:"sm",onClick:()=>b(Q),title:"Delete",children:f.jsx(rU,{className:"h-4 w-4"})})]})})]},Q.id))})]}):f.jsx("div",{className:"text-center py-4 border rounded-md",children:f.jsx("p",{className:"text-muted-foreground",children:"No backups found. Export your data to create a backup."})})]})]})]})]})})}function CCe(){return f.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:f.jsx(Sr,{className:"w-full max-w-md mx-4",children:f.jsxs(kr,{className:"pt-6",children:[f.jsxs("div",{className:"flex mb-4 gap-2",children:[f.jsx(cee,{className:"h-8 w-8 text-red-500"}),f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),f.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function ECe(){const{id:n}=dO(),[,e]=Ma(),{user:t}=ci(),[r,i]=E.useState(null),[s,o]=E.useState(!0),a=ts(),{toast:l}=li();E.useEffect(()=>{(async()=>{if(!(!n||!t))try{o(!0);const d=await xo(mt(ke,"snippets",n));if(d.exists()){const m={id:d.id,...d.data()};m.userId===t.uid?i(m):(l({variant:"destructive",title:"Access denied",description:"You do not have permission to view this snippet."}),e("/"))}else l({variant:"destructive",title:"Not found",description:"The requested snippet could not be found."}),e("/")}catch(d){l({variant:"destructive",title:"Error",description:d.message||"Failed to load snippet"})}finally{o(!1)}})()},[n,t,e,l]);const c=async()=>{if(r)try{if(navigator.clipboard)await navigator.clipboard.writeText(r.content),l({title:"Copied!",description:"Snippet copied to clipboard"});else{const h=document.createElement("textarea");h.value=r.content,h.style.position="fixed",h.style.left="-999999px",h.style.top="-999999px",document.body.appendChild(h),h.focus(),h.select();const d=document.execCommand("copy");if(document.body.removeChild(h),d)l({title:"Copied!",description:"Snippet copied to clipboard"});else throw new Error("Fallback copy method failed")}}catch(h){console.error("Copy to clipboard failed:",h),l({variant:"destructive",title:"Error",description:h.message||"Failed to copy to clipboard. This may be due to permission restrictions in your browser."})}},u=async()=>{if(r)try{await Cc(mt(ke,"snippets",r.id)),a.invalidateQueries({queryKey:["items"]}),a.invalidateQueries({queryKey:["folder-items"]}),l({title:"Success",description:"Snippet deleted successfully"}),e("/")}catch(h){l({variant:"destructive",title:"Error",description:h.message||"Failed to delete snippet"})}};return s?f.jsx(oi,{children:f.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[f.jsx("div",{className:"h-8 w-24 bg-muted animate-pulse rounded mb-4"}),f.jsx("div",{className:"h-12 w-3/4 bg-muted animate-pulse rounded mb-6"}),f.jsx("div",{className:"h-[400px] bg-muted animate-pulse rounded"})]})}):r?f.jsx(oi,{children:f.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[f.jsxs("div",{className:"flex items-center mb-6",children:[f.jsxs(ie,{variant:"ghost",onClick:()=>e("/"),className:"mr-4",children:[f.jsx(zu,{className:"h-4 w-4 mr-2"}),"Back"]}),f.jsx("h1",{className:"text-2xl font-bold",children:"Snippet Details"})]}),f.jsxs(Sr,{className:"w-full",children:[f.jsxs(ai,{className:"space-y-1",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h3",{className:"text-xl font-semibold",children:r.title}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsx(ie,{variant:"ghost",size:"icon",onClick:c,title:"Copy snippet to clipboard",children:f.jsx(hee,{className:"h-4 w-4"})}),f.jsx($f,{type:"snippet",itemId:r.id,defaultValues:r,trigger:f.jsx(ie,{variant:"ghost",size:"icon",title:"Edit snippet",children:f.jsx(gf,{className:"h-4 w-4"})}),onEdited:()=>{a.invalidateQueries({queryKey:["items"]}),a.invalidateQueries({queryKey:["folder-items"]}),xo(mt(ke,"snippets",r.id)).then(h=>{h.exists()&&i({id:h.id,...h.data()})})}}),f.jsx(ie,{variant:"ghost",size:"icon",onClick:u,title:"Delete snippet",children:f.jsx(Of,{className:"h-4 w-4"})})]})]}),r.description&&f.jsx("p",{className:"text-sm text-muted-foreground",children:r.description}),f.jsx("div",{className:"flex flex-wrap gap-2",children:r.tags.map(h=>f.jsx(rn,{href:`/tags/${encodeURIComponent(h)}`,children:f.jsx(qi,{variant:"secondary",className:"cursor-pointer hover:bg-secondary/70",children:h})},h))})]}),f.jsx(kr,{children:f.jsx("div",{className:"rounded-md border overflow-auto",children:f.jsx(Gb,{value:r.content,language:r.language,readOnly:!0})})}),f.jsxs($c,{className:"text-sm text-muted-foreground",children:["Last updated: ",new Date(r.updatedAt).toLocaleDateString()]})]})]})}):f.jsx(oi,{children:f.jsxs("div",{className:"max-w-4xl mx-auto p-4 text-center",children:[f.jsx("p",{children:"Snippet not found"}),f.jsx(ie,{onClick:()=>e("/"),className:"mt-4",children:"Go back home"})]})})}function ACe(){const{id:n}=dO(),[,e]=Ma(),{user:t}=ci(),[r,i]=E.useState(null),[s,o]=E.useState(!0),a=ts(),{toast:l}=li();E.useEffect(()=>{(async()=>{if(!(!n||!t))try{o(!0);const d=await xo(mt(ke,"notes",n));if(d.exists()){const m={id:d.id,...d.data()};m.userId===t.uid?(m.tags=m.tags||[],i(m)):(l({variant:"destructive",title:"Access denied",description:"You do not have permission to view this note."}),e("/"))}else l({variant:"destructive",title:"Not found",description:"The requested note could not be found."}),e("/")}catch(d){l({variant:"destructive",title:"Error",description:d.message||"Failed to load note"})}finally{o(!1)}})()},[n,t,e,l]);const c=async()=>{if(r)try{await Cc(mt(ke,"notes",r.id)),a.invalidateQueries({queryKey:["items"]}),a.invalidateQueries({queryKey:["folder-items"]}),l({title:"Success",description:"Note deleted successfully"}),e("/")}catch(h){l({variant:"destructive",title:"Error",description:h.message||"Failed to delete note"})}};if(s)return f.jsx(oi,{children:f.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[f.jsx("div",{className:"h-8 w-24 bg-muted animate-pulse rounded mb-4"}),f.jsx("div",{className:"h-12 w-3/4 bg-muted animate-pulse rounded mb-6"}),f.jsx("div",{className:"h-[400px] bg-muted animate-pulse rounded"})]})});if(!r)return f.jsx(oi,{children:f.jsxs("div",{className:"max-w-4xl mx-auto p-4 text-center",children:[f.jsx("p",{children:"Note not found"}),f.jsx(ie,{onClick:()=>e("/"),className:"mt-4",children:"Go back home"})]})});const u=r.tags||[];return f.jsx(oi,{children:f.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[f.jsxs("div",{className:"flex items-center mb-6",children:[f.jsxs(ie,{variant:"ghost",onClick:()=>e("/"),className:"mr-4",children:[f.jsx(zu,{className:"h-4 w-4 mr-2"}),"Back"]}),f.jsx("h1",{className:"text-2xl font-bold",children:"Note Details"})]}),f.jsxs(Sr,{className:"w-full",children:[f.jsxs(ai,{className:"space-y-1",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h3",{className:"text-xl font-semibold",children:r.title}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsx($f,{type:"note",itemId:r.id,defaultValues:{...r,tags:u},trigger:f.jsx(ie,{variant:"ghost",size:"icon",title:"Edit note",children:f.jsx(gf,{className:"h-4 w-4"})}),onEdited:()=>{a.invalidateQueries({queryKey:["items"]}),a.invalidateQueries({queryKey:["folder-items"]}),xo(mt(ke,"notes",r.id)).then(h=>{if(h.exists()){const d={id:h.id,...h.data()};d.tags=d.tags||[],i(d)}})}}),f.jsx(ie,{variant:"ghost",size:"icon",onClick:c,title:"Delete note",children:f.jsx(Of,{className:"h-4 w-4"})})]})]}),r.description&&f.jsx("p",{className:"text-sm text-muted-foreground",children:r.description}),f.jsx("div",{className:"flex flex-wrap gap-2",children:u.map(h=>f.jsx(rn,{href:`/tags/${encodeURIComponent(h)}`,children:f.jsx(qi,{variant:"secondary",className:"cursor-pointer hover:bg-secondary/70",children:h})},h))})]}),f.jsx(kr,{children:f.jsx("div",{className:"whitespace-pre-wrap rounded-md p-4 border",children:r.content})}),f.jsxs($c,{className:"text-sm text-muted-foreground",children:["Last updated: ",new Date(r.updatedAt).toLocaleDateString()]})]})]})})}function RCe(){const{id:n}=dO(),[,e]=Ma(),{user:t}=ci(),[r,i]=E.useState(null),[s,o]=E.useState([]),[a,l]=E.useState(!0),c=ts(),{toast:u}=li();E.useEffect(()=>{(async()=>{if(!(!n||!t))try{l(!0);const g=await xo(mt(ke,"checklists",n));if(g.exists()){const y={id:g.id,...g.data()};y.userId===t.uid?(i(y),y.content&&o(JSON.parse(y.content))):(u({variant:"destructive",title:"Access denied",description:"You do not have permission to view this checklist."}),e("/"))}else u({variant:"destructive",title:"Not found",description:"The requested checklist could not be found."}),e("/")}catch(g){u({variant:"destructive",title:"Error",description:g.message||"Failed to load checklist"})}finally{l(!1)}})()},[n,t,e,u]);const h=async()=>{if(r)try{await Cc(mt(ke,"checklists",r.id)),c.invalidateQueries({queryKey:["items"]}),c.invalidateQueries({queryKey:["folder-items"]}),u({title:"Success",description:"Checklist deleted successfully"}),e("/")}catch(m){u({variant:"destructive",title:"Error",description:m.message||"Failed to delete checklist"})}},d=async m=>{if(r)try{const g=[...s];g[m].checked=!g[m].checked,o(g),await nc(mt(ke,"checklists",r.id),{content:JSON.stringify(g),updatedAt:new Date().getTime()});const y={...r,content:JSON.stringify(g),updatedAt:new Date().getTime()};c.setQueryData(["items",t==null?void 0:t.uid,"checklists"],v=>v?v.map(S=>S.id===r.id?y:S):[y]),c.setQueryData(["folder-items",t==null?void 0:t.uid,"checklists"],v=>v?v.map(S=>S.id===r.id?y:S):[y]),c.invalidateQueries({queryKey:["items"]}),c.invalidateQueries({queryKey:["folder-items"]})}catch(g){u({variant:"destructive",title:"Error",description:g.message||"Failed to update item"})}};return a?f.jsx(oi,{children:f.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[f.jsx("div",{className:"h-8 w-24 bg-muted animate-pulse rounded mb-4"}),f.jsx("div",{className:"h-12 w-3/4 bg-muted animate-pulse rounded mb-6"}),f.jsx("div",{className:"h-[400px] bg-muted animate-pulse rounded"})]})}):r?f.jsx(oi,{children:f.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[f.jsxs("div",{className:"flex items-center mb-6",children:[f.jsxs(ie,{variant:"ghost",onClick:()=>e("/"),className:"mr-4",children:[f.jsx(zu,{className:"h-4 w-4 mr-2"}),"Back"]}),f.jsx("h1",{className:"text-2xl font-bold",children:"Checklist Details"})]}),f.jsxs(Sr,{className:"w-full",children:[f.jsxs(ai,{className:"space-y-1",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h3",{className:"text-xl font-semibold",children:r.title}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsx($f,{type:"checklist",itemId:r.id,defaultValues:r,trigger:f.jsx(ie,{variant:"ghost",size:"icon",title:"Edit checklist",children:f.jsx(gf,{className:"h-4 w-4"})}),onEdited:()=>{c.invalidateQueries({queryKey:["items"]}),c.invalidateQueries({queryKey:["folder-items"]}),xo(mt(ke,"checklists",r.id)).then(m=>{if(m.exists()){const g={id:m.id,...m.data()};i(g),g.content&&o(JSON.parse(g.content))}})}}),f.jsx(ie,{variant:"ghost",size:"icon",onClick:h,title:"Delete checklist",children:f.jsx(Of,{className:"h-4 w-4"})})]})]}),r.description&&f.jsx("p",{className:"text-sm text-muted-foreground",children:r.description}),f.jsx("div",{className:"flex flex-wrap gap-2",children:r.tags.map(m=>f.jsx(rn,{href:`/tags/${encodeURIComponent(m)}`,children:f.jsx(qi,{variant:"secondary",className:"cursor-pointer hover:bg-secondary/70",children:m})},m))})]}),f.jsx(kr,{children:f.jsx("div",{className:"rounded-md border p-4",children:s.length===0?f.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No items in this checklist"}):f.jsx("div",{className:"space-y-2",children:s.map((m,g)=>f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(o$,{id:`item-${g}`,checked:m.checked,onCheckedChange:()=>d(g)}),f.jsx("label",{htmlFor:`item-${g}`,className:`text-sm ${m.checked?"line-through text-muted-foreground":""}`,children:m.text})]},g))})})}),f.jsxs($c,{className:"text-sm text-muted-foreground",children:["Last updated: ",new Date(r.updatedAt).toLocaleDateString()]})]})]})}):f.jsx(oi,{children:f.jsxs("div",{className:"max-w-4xl mx-auto p-4 text-center",children:[f.jsx("p",{children:"Checklist not found"}),f.jsx(ie,{onClick:()=>e("/"),className:"mt-4",children:"Go back home"})]})})}function QCe(){const{tag:n}=dO(),[,e]=Ma(),{user:t}=ci(),{toast:r}=li(),[i,s]=E.useState(!0),[o,a]=E.useState([]),[l,c]=E.useState([]),[u,h]=E.useState([]),[d,m]=E.useState("all");E.useEffect(()=>{(async()=>{if(!(!t||!n))try{s(!0);const v=decodeURIComponent(n),S=St(ht(ke,"snippets"),He("userId","==",t.uid),He("tags","array-contains",v)),k=(await Ct(S)).docs.map(A=>({id:A.id,...A.data()}));a(k);const $=St(ht(ke,"notes"),He("userId","==",t.uid),He("tags","array-contains",v)),Q=(await Ct($)).docs.map(A=>({id:A.id,...A.data()}));c(Q);const O=St(ht(ke,"checklists"),He("userId","==",t.uid),He("tags","array-contains",v)),x=(await Ct(O)).docs.map(A=>({id:A.id,...A.data()}));h(x)}catch(v){console.error("Error fetching items by tag:",v),r({variant:"destructive",title:"Error",description:v.message||"Failed to load items"})}finally{s(!1)}})()},[t,n,r]);const g=()=>{if(i)return f.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(v=>f.jsx("div",{className:"h-[300px] rounded-lg bg-card animate-pulse"},v))});const y=[];return(d==="all"||d==="snippets")&&y.push(...o),(d==="all"||d==="notes")&&y.push(...l),(d==="all"||d==="checklists")&&y.push(...u),y.length===0?f.jsx("div",{className:"text-center py-12",children:f.jsxs("p",{className:"text-muted-foreground",children:['No items found with tag "',decodeURIComponent(n||""),'".']})}):f.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:y.map(v=>v.language?f.jsx(H7,{snippet:v},v.id):v.content&&typeof v.content=="string"&&!v.content.startsWith("[{")?f.jsx(K7,{note:v},v.id):f.jsx(i8,{checklist:v},v.id))})};return f.jsx(oi,{children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center mb-6",children:[f.jsxs(ie,{variant:"ghost",onClick:()=>e("/"),className:"mr-4",children:[f.jsx(zu,{className:"h-4 w-4 mr-2"}),"Back"]}),f.jsxs("h1",{className:"text-2xl font-bold",children:["Tag: ",decodeURIComponent(n||"")]})]}),f.jsxs(c$,{defaultValue:"all",onValueChange:m,children:[f.jsxs(rS,{children:[f.jsx(so,{value:"all",children:"All Items"}),f.jsxs(so,{value:"snippets",children:["Snippets (",o.length,")"]}),f.jsxs(so,{value:"notes",children:["Notes (",l.length,")"]}),f.jsxs(so,{value:"checklists",children:["Checklists (",u.length,")"]})]}),f.jsx(oo,{value:"all",className:"mt-6",children:g()}),f.jsx(oo,{value:"snippets",className:"mt-6",children:g()}),f.jsx(oo,{value:"notes",className:"mt-6",children:g()}),f.jsx(oo,{value:"checklists",className:"mt-6",children:g()})]})]})})}const $Ce=rt.object({name:rt.string().min(1,"Project name is required"),description:rt.string().optional()});function ICe(){const{user:n}=ci(),{toast:e}=li(),t=ts(),[r,i]=E.useState(!1),[s,o]=E.useState(!1),[a,l]=E.useState(!1),[c,u]=E.useState(null),h=Ab({resolver:Rb($Ce),defaultValues:{name:"",description:""}}),{data:d,isLoading:m}=wu({queryKey:["projects",n==null?void 0:n.uid],queryFn:async()=>{if(!n)return[];const O=St(ht(ke,"projects"),He("userId","==",n.uid));return(await Ct(O)).docs.map(x=>({id:x.id,...x.data()}))},enabled:!!n}),g=XS({mutationFn:async O=>{if(!n)throw new Error("You must be logged in to create a project");const _=Date.now(),x={...O,userId:n.uid,createdAt:_,updatedAt:_};return{id:(await Id(ht(ke,"projects"),x)).id,...x}},onSuccess:O=>{t.invalidateQueries({queryKey:["projects"]}),e({title:"Success",description:"Project created successfully"}),i(!1),h.reset()},onError:O=>{e({variant:"destructive",title:"Error",description:O.message||"Failed to create project"})}}),y=XS({mutationFn:async O=>{if(!n)throw new Error("You must be logged in to update a project");const{id:_,...x}=O,A=mt(ke,"projects",_);return await nc(A,{...x,updatedAt:Date.now()}),{id:_,...x}},onSuccess:()=>{t.invalidateQueries({queryKey:["projects"]}),e({title:"Success",description:"Project updated successfully"}),o(!1),u(null),h.reset()},onError:O=>{e({variant:"destructive",title:"Error",description:O.message||"Failed to update project"})}}),v=XS({mutationFn:async O=>{if(!n)throw new Error("You must be logged in to delete a project");const _=mt(ke,"projects",O);return await Cc(_),O},onSuccess:()=>{t.invalidateQueries({queryKey:["projects"]}),e({title:"Success",description:"Project deleted successfully"}),l(!1),u(null)},onError:O=>{e({variant:"destructive",title:"Error",description:O.message||"Failed to delete project"})}}),S=O=>{g.mutate(O)},b=O=>{c&&y.mutate({...O,id:c.id})},k=()=>{c&&v.mutate(c.id)},$=O=>{u(O),h.reset({name:O.name,description:O.description||""}),o(!0)},C=O=>{u(O),l(!0)},Q=()=>m?f.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(O=>f.jsx("div",{className:"h-[200px] rounded-lg bg-card animate-pulse"},O))}):d!=null&&d.length?f.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:d.map(O=>f.jsxs(Sr,{children:[f.jsxs(ai,{children:[f.jsx(ql,{children:O.name}),O.description&&f.jsx(Y7,{children:O.description})]}),f.jsx(kr,{children:f.jsxs("p",{className:"text-sm text-muted-foreground",children:["Created: ",O.createdAt?new Date(typeof O.createdAt=="object"&&O.createdAt.seconds?O.createdAt.seconds*1e3:O.createdAt).toLocaleDateString():"N/A"]})}),f.jsxs($c,{className:"flex justify-end space-x-2",children:[f.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>$(O),children:[f.jsx(yee,{className:"h-4 w-4 mr-2"}),"Edit"]}),f.jsxs(ie,{variant:"destructive",size:"sm",onClick:()=>C(O),children:[f.jsx(rU,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]},O.id))}):f.jsx("div",{className:"text-center py-12",children:f.jsx("p",{className:"text-muted-foreground",children:"No projects found. Create your first project using the button below."})});return f.jsx(oi,{children:f.jsxs("div",{className:"space-y-4 relative",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h1",{className:"text-2xl font-bold",children:"Projects"}),f.jsxs(ie,{onClick:()=>{h.reset(),i(!0)},children:[f.jsx(lm,{className:"h-4 w-4 mr-2"}),"New Project"]})]}),Q(),f.jsx(Om,{open:r,onOpenChange:i,children:f.jsxs(Yh,{children:[f.jsxs(Hh,{children:[f.jsx(Kh,{children:"Create New Project"}),f.jsx(Jh,{children:"Add a new project to organize your snippets, notes, and checklists."})]}),f.jsx(mg,{...h,children:f.jsxs("form",{onSubmit:h.handleSubmit(S),className:"space-y-4",children:[f.jsx(Un,{control:h.control,name:"name",render:({field:O})=>f.jsxs(Rn,{children:[f.jsx(fn,{children:"Name *"}),f.jsx(pn,{children:f.jsx($n,{placeholder:"Project name",...O})}),f.jsx(Qn,{})]})}),f.jsx(Un,{control:h.control,name:"description",render:({field:O})=>f.jsxs(Rn,{children:[f.jsx(fn,{children:"Description"}),f.jsx(pn,{children:f.jsx(gg,{placeholder:"Project description",...O})}),f.jsx(Qn,{})]})}),f.jsx(X0,{children:f.jsx(ie,{type:"submit",disabled:g.isPending,children:g.isPending?"Creating...":"Create Project"})})]})})]})}),f.jsx(Om,{open:s,onOpenChange:o,children:f.jsxs(Yh,{children:[f.jsxs(Hh,{children:[f.jsx(Kh,{children:"Edit Project"}),f.jsx(Jh,{children:"Update your project details."})]}),f.jsx(mg,{...h,children:f.jsxs("form",{onSubmit:h.handleSubmit(b),className:"space-y-4",children:[f.jsx(Un,{control:h.control,name:"name",render:({field:O})=>f.jsxs(Rn,{children:[f.jsx(fn,{children:"Name *"}),f.jsx(pn,{children:f.jsx($n,{placeholder:"Project name",...O})}),f.jsx(Qn,{})]})}),f.jsx(Un,{control:h.control,name:"description",render:({field:O})=>f.jsxs(Rn,{children:[f.jsx(fn,{children:"Description"}),f.jsx(pn,{children:f.jsx(gg,{placeholder:"Project description",...O})}),f.jsx(Qn,{})]})}),f.jsx(X0,{children:f.jsx(ie,{type:"submit",disabled:y.isPending,children:y.isPending?"Updating...":"Update Project"})})]})})]})}),f.jsx(Om,{open:a,onOpenChange:l,children:f.jsxs(Yh,{children:[f.jsxs(Hh,{children:[f.jsx(Kh,{children:"Delete Project"}),f.jsx(Jh,{children:"Are you sure you want to delete this project? This action cannot be undone."})]}),f.jsxs(X0,{children:[f.jsx(ie,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),f.jsx(ie,{variant:"destructive",onClick:k,disabled:v.isPending,children:v.isPending?"Deleting...":"Delete Project"})]})]})})]})})}var h$="Avatar",[NCe,GAe]=bc(h$),[jCe,B8]=NCe(h$),F8=E.forwardRef((n,e)=>{const{__scopeAvatar:t,...r}=n,[i,s]=E.useState("idle");return f.jsx(jCe,{scope:t,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:f.jsx(Ie.span,{...r,ref:e})})});F8.displayName=h$;var W8="AvatarImage",X8=E.forwardRef((n,e)=>{const{__scopeAvatar:t,src:r,onLoadingStatusChange:i=()=>{},...s}=n,o=B8(W8,t),a=DCe(r,s.referrerPolicy),l=ln(c=>{i(c),o.onImageLoadingStatusChange(c)});return Mn(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?f.jsx(Ie.img,{...s,ref:e,src:r}):null});X8.displayName=W8;var G8="AvatarFallback",Y8=E.forwardRef((n,e)=>{const{__scopeAvatar:t,delayMs:r,...i}=n,s=B8(G8,t),[o,a]=E.useState(r===void 0);return E.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&s.imageLoadingStatus!=="loaded"?f.jsx(Ie.span,{...i,ref:e}):null});Y8.displayName=G8;function DCe(n,e){const[t,r]=E.useState("idle");return Mn(()=>{if(!n){r("error");return}let i=!0;const s=new window.Image,o=a=>()=>{i&&r(a)};return r("loading"),s.onload=o("loaded"),s.onerror=o("error"),s.src=n,e&&(s.referrerPolicy=e),()=>{i=!1}},[n,e]),t}var H8=F8,K8=X8,J8=Y8;const eG=E.forwardRef(({className:n,...e},t)=>f.jsx(H8,{ref:t,className:Ee("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",n),...e}));eG.displayName=H8.displayName;const tG=E.forwardRef(({className:n,...e},t)=>f.jsx(K8,{ref:t,className:Ee("aspect-square h-full w-full",n),...e}));tG.displayName=K8.displayName;const nG=E.forwardRef(({className:n,...e},t)=>f.jsx(J8,{ref:t,className:Ee("flex h-full w-full items-center justify-center rounded-full bg-muted",n),...e}));nG.displayName=J8.displayName;function MCe(){const[,n]=Ma(),{user:e}=ci(),{toast:t}=li(),[r,i]=E.useState(""),[s,o]=E.useState(""),[a,l]=E.useState(null),[c,u]=E.useState(!1),[h,d]=E.useState(!1),m=E.useRef(null);E.useEffect(()=>{(async()=>{if(e)try{const k=await xo(mt(ke,"users",e.uid));if(k.exists()){const $=k.data();o($.email||""),i($.displayName||""),l($.profileUrl||null)}}catch(k){console.error("Error fetching user profile:",k),t({variant:"destructive",title:"Error",description:"Failed to load profile information."})}})()},[e,t]);const g=async b=>{if(!e||!b.target.files||b.target.files.length===0)return;const k=b.target.files[0],$=u3(),C=ET($,`profile-pics/${e.uid}`);try{u(!0),await l3(C,k);const Q=await c3(C);await nc(mt(ke,"users",e.uid),{profileUrl:Q}),l(Q),t({title:"Success",description:"Profile picture updated successfully."})}catch(Q){console.error("Error uploading profile picture:",Q),t({variant:"destructive",title:"Error",description:"Failed to upload profile picture."})}finally{u(!1)}},y=async()=>{if(e)try{await nc(mt(ke,"users",e.uid),{displayName:r}),d(!1),t({title:"Success",description:"Display name updated successfully."})}catch(b){console.error("Error updating display name:",b),t({variant:"destructive",title:"Error",description:"Failed to update display name."})}},v=async()=>{if(!(!e||!s))try{await fetch(`/api/reset-password?email=${encodeURIComponent(s)}`,{method:"POST"}),t({title:"Password Reset Email Sent",description:"Check your email for instructions to reset your password."})}catch(b){console.error("Error sending password reset:",b),t({variant:"destructive",title:"Error",description:"Failed to send password reset email."})}},S=async()=>{try{await Tce(),t({title:"Signed Out",description:"You have been successfully signed out."}),n("/auth")}catch(b){console.error("Error signing out:",b),t({variant:"destructive",title:"Error",description:"Failed to sign out."})}};return f.jsx(oi,{children:f.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[f.jsxs("div",{className:"flex items-center mb-6",children:[f.jsxs(ie,{variant:"ghost",onClick:()=>n("/"),className:"mr-4",children:[f.jsx(zu,{className:"h-4 w-4 mr-2"}),"Back"]}),f.jsx("h1",{className:"text-2xl font-bold",children:"Profile"})]}),f.jsxs(Sr,{className:"overflow-hidden",children:[f.jsx(ai,{className:"pb-0",children:f.jsx(ql,{children:"Profile Picture"})}),f.jsx(kr,{className:"pt-6",children:f.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[f.jsxs("div",{className:"relative group",children:[f.jsxs(eG,{className:"h-24 w-24 border-2 border-primary/20",children:[a?f.jsx(tG,{src:a,alt:"Profile"}):f.jsx(nG,{className:"bg-primary/10 text-primary text-xl",children:r?r.charAt(0).toUpperCase():f.jsx(vee,{})}),f.jsx("div",{className:"absolute inset-0 bg-black/30 rounded-full opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center cursor-pointer",onClick:()=>{var b;return(b=m.current)==null?void 0:b.click()},children:f.jsx(aee,{className:"h-8 w-8 text-white"})})]}),f.jsx("input",{type:"file",ref:m,className:"hidden",accept:"image/*",onChange:g})]}),f.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>{var b;return(b=m.current)==null?void 0:b.click()},disabled:c,className:"flex items-center gap-2",children:[f.jsx(iU,{className:"h-4 w-4"}),c?"Uploading...":"Upload New Picture"]})]})})]}),f.jsxs(Sr,{children:[f.jsx(ai,{children:f.jsx(ql,{children:"Account Information"})}),f.jsxs(kr,{className:"space-y-6",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Vd,{htmlFor:"display-name",children:"Display Name"}),f.jsx("div",{className:"flex items-center gap-2",children:h?f.jsxs(f.Fragment,{children:[f.jsx($n,{id:"display-name",value:r,onChange:b=>i(b.target.value),className:"flex-1"}),f.jsx(ie,{onClick:y,size:"sm",children:"Save"}),f.jsx(ie,{variant:"outline",size:"sm",onClick:()=>d(!1),children:"Cancel"})]}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"flex-1 py-2 px-3 border rounded-md bg-muted/30",children:r||"No display name set"}),f.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>d(!0),children:f.jsx(mee,{className:"h-4 w-4"})})]})})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Vd,{htmlFor:"email",children:"Email"}),f.jsx("div",{className:"py-2 px-3 border rounded-md bg-muted/30",children:s})]}),f.jsxs("div",{className:"pt-2",children:[f.jsx(ie,{variant:"outline",onClick:v,className:"w-full sm:w-auto",children:"Reset Password"}),f.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"A password reset link will be sent to your email address."})]})]})]}),f.jsxs(Sr,{className:"border-destructive/20",children:[f.jsx(ai,{children:f.jsx(ql,{children:"Sign Out"})}),f.jsxs(kr,{children:[f.jsxs(ie,{variant:"destructive",onClick:S,className:"w-full sm:w-auto flex items-center gap-2",children:[f.jsx(pee,{className:"h-4 w-4"}),"Sign Out"]}),f.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"You will be redirected to the login page after signing out."})]})]})]})})}function Ya({component:n}){const{user:e,isLoading:t}=ci(),[,r]=Ma();return E.useEffect(()=>{!t&&!e&&r("/auth")},[e,t,r]),t?f.jsx("div",{children:"Loading..."}):e?f.jsx(n,{}):null}function VCe(){return f.jsxs(lJ,{children:[f.jsx(Ms,{path:"/auth",component:iCe}),f.jsx(Ms,{path:"/",component:()=>f.jsx(Ya,{component:nCe})}),f.jsx(Ms,{path:"/settings",component:()=>f.jsx(Ya,{component:PCe})}),f.jsx(Ms,{path:"/projects",component:()=>f.jsx(Ya,{component:ICe})}),f.jsx(Ms,{path:"/profile",component:()=>f.jsx(Ya,{component:MCe})}),f.jsx(Ms,{path:"/snippets/:id",component:()=>f.jsx(Ya,{component:ECe})}),f.jsx(Ms,{path:"/notes/:id",component:()=>f.jsx(Ya,{component:ACe})}),f.jsx(Ms,{path:"/checklists/:id",component:()=>f.jsx(Ya,{component:RCe})}),f.jsx(Ms,{path:"/tags/:tag",component:()=>f.jsx(Ya,{component:QCe})}),f.jsx(Ms,{component:CCe})]})}function LCe(){return pR(),p3(),f.jsxs(f.Fragment,{children:[f.jsx(VCe,{}),f.jsx(nte,{})]})}sz(document.getElementById("root")).render(f.jsx(wK,{client:vz,children:f.jsx(LCe,{})}));
