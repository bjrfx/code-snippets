var q$=n=>{throw TypeError(n)};var fS=(n,e,t)=>e.has(n)||q$("Cannot "+t);var z=(n,e,t)=>(fS(n,e,"read from private field"),t?t.call(n):e.get(n)),Ie=(n,e,t)=>e.has(n)?q$("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),ve=(n,e,t,r)=>(fS(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),Xe=(n,e,t)=>(fS(n,e,"access private method"),t);var JO=(n,e,t,r)=>({set _(i){ve(n,e,i,t)},get _(){return z(n,e,r)}});function aG(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function RL(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var QL={exports:{}},kx={},$L={exports:{}},Je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rO=Symbol.for("react.element"),lG=Symbol.for("react.portal"),cG=Symbol.for("react.fragment"),uG=Symbol.for("react.strict_mode"),hG=Symbol.for("react.profiler"),dG=Symbol.for("react.provider"),fG=Symbol.for("react.context"),pG=Symbol.for("react.forward_ref"),mG=Symbol.for("react.suspense"),gG=Symbol.for("react.memo"),OG=Symbol.for("react.lazy"),B$=Symbol.iterator;function yG(n){return n===null||typeof n!="object"?null:(n=B$&&n[B$]||n["@@iterator"],typeof n=="function"?n:null)}var IL={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},NL=Object.assign,jL={};function hf(n,e,t){this.props=n,this.context=e,this.refs=jL,this.updater=t||IL}hf.prototype.isReactComponent={};hf.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};hf.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function DL(){}DL.prototype=hf.prototype;function YC(n,e,t){this.props=n,this.context=e,this.refs=jL,this.updater=t||IL}var HC=YC.prototype=new DL;HC.constructor=YC;NL(HC,hf.prototype);HC.isPureReactComponent=!0;var F$=Array.isArray,ML=Object.prototype.hasOwnProperty,KC={current:null},VL={key:!0,ref:!0,__self:!0,__source:!0};function LL(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)ML.call(e,r)&&!VL.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:rO,type:n,key:s,ref:o,props:i,_owner:KC.current}}function vG(n,e){return{$$typeof:rO,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function JC(n){return typeof n=="object"&&n!==null&&n.$$typeof===rO}function wG(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var W$=/\/+/g;function pS(n,e){return typeof n=="object"&&n!==null&&n.key!=null?wG(""+n.key):e.toString(36)}function d0(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case rO:case lG:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+pS(o,0):r,F$(i)?(t="",n!=null&&(t=n.replace(W$,"$&/")+"/"),d0(i,e,t,"",function(c){return c})):i!=null&&(JC(i)&&(i=vG(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(W$,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",F$(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+pS(s,a);o+=d0(s,e,t,l,i)}else if(l=yG(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+pS(s,a++),o+=d0(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ey(n,e,t){if(n==null)return n;var r=[],i=0;return d0(n,r,"","",function(s){return e.call(t,s,i++)}),r}function xG(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var zr={current:null},f0={transition:null},bG={ReactCurrentDispatcher:zr,ReactCurrentBatchConfig:f0,ReactCurrentOwner:KC};function zL(){throw Error("act(...) is not supported in production builds of React.")}Je.Children={map:ey,forEach:function(n,e,t){ey(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return ey(n,function(){e++}),e},toArray:function(n){return ey(n,function(e){return e})||[]},only:function(n){if(!JC(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Je.Component=hf;Je.Fragment=cG;Je.Profiler=hG;Je.PureComponent=YC;Je.StrictMode=uG;Je.Suspense=mG;Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bG;Je.act=zL;Je.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=NL({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=KC.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)ML.call(e,l)&&!VL.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:rO,type:n.type,key:i,ref:s,props:r,_owner:o}};Je.createContext=function(n){return n={$$typeof:fG,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:dG,_context:n},n.Consumer=n};Je.createElement=LL;Je.createFactory=function(n){var e=LL.bind(null,n);return e.type=n,e};Je.createRef=function(){return{current:null}};Je.forwardRef=function(n){return{$$typeof:pG,render:n}};Je.isValidElement=JC;Je.lazy=function(n){return{$$typeof:OG,_payload:{_status:-1,_result:n},_init:xG}};Je.memo=function(n,e){return{$$typeof:gG,type:n,compare:e===void 0?null:e}};Je.startTransition=function(n){var e=f0.transition;f0.transition={};try{n()}finally{f0.transition=e}};Je.unstable_act=zL;Je.useCallback=function(n,e){return zr.current.useCallback(n,e)};Je.useContext=function(n){return zr.current.useContext(n)};Je.useDebugValue=function(){};Je.useDeferredValue=function(n){return zr.current.useDeferredValue(n)};Je.useEffect=function(n,e){return zr.current.useEffect(n,e)};Je.useId=function(){return zr.current.useId()};Je.useImperativeHandle=function(n,e,t){return zr.current.useImperativeHandle(n,e,t)};Je.useInsertionEffect=function(n,e){return zr.current.useInsertionEffect(n,e)};Je.useLayoutEffect=function(n,e){return zr.current.useLayoutEffect(n,e)};Je.useMemo=function(n,e){return zr.current.useMemo(n,e)};Je.useReducer=function(n,e,t){return zr.current.useReducer(n,e,t)};Je.useRef=function(n){return zr.current.useRef(n)};Je.useState=function(n){return zr.current.useState(n)};Je.useSyncExternalStore=function(n,e,t){return zr.current.useSyncExternalStore(n,e,t)};Je.useTransition=function(){return zr.current.useTransition()};Je.version="18.3.1";$L.exports=Je;var E=$L.exports;const He=RL(E),UL=aG({__proto__:null,default:He},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SG=E,kG=Symbol.for("react.element"),_G=Symbol.for("react.fragment"),TG=Object.prototype.hasOwnProperty,PG=SG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,CG={key:!0,ref:!0,__self:!0,__source:!0};function ZL(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)TG.call(e,r)&&!CG.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:kG,type:n,key:s,ref:o,props:i,_owner:PG.current}}kx.Fragment=_G;kx.jsx=ZL;kx.jsxs=ZL;QL.exports=kx;var p=QL.exports,qL={exports:{}},Qi={},BL={exports:{}},FL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(U,Z){var ne=U.length;U.push(Z);e:for(;0<ne;){var X=ne-1>>>1,F=U[X];if(0<i(F,Z))U[X]=Z,U[ne]=F,ne=X;else break e}}function t(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var Z=U[0],ne=U.pop();if(ne!==Z){U[0]=ne;e:for(var X=0,F=U.length,G=F>>>1;X<G;){var J=2*(X+1)-1,oe=U[J],Se=J+1,le=U[Se];if(0>i(oe,ne))Se<F&&0>i(le,oe)?(U[X]=le,U[Se]=ne,X=Se):(U[X]=oe,U[J]=ne,X=J);else if(Se<F&&0>i(le,ne))U[X]=le,U[Se]=ne,X=Se;else break e}}return Z}function i(U,Z){var ne=U.sortIndex-Z.sortIndex;return ne!==0?ne:U.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,d=3,m=!1,g=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(U){for(var Z=t(c);Z!==null;){if(Z.callback===null)r(c);else if(Z.startTime<=U)r(c),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=t(c)}}function $(U){if(y=!1,S(U),!g)if(t(l)!==null)g=!0,M(P);else{var Z=t(c);Z!==null&&q($,Z.startTime-U)}}function P(U,Z){g=!1,y&&(y=!1,b(_),_=-1),m=!0;var ne=d;try{for(S(Z),h=t(l);h!==null&&(!(h.expirationTime>Z)||U&&!C());){var X=h.callback;if(typeof X=="function"){h.callback=null,d=h.priorityLevel;var F=X(h.expirationTime<=Z);Z=n.unstable_now(),typeof F=="function"?h.callback=F:h===t(l)&&r(l),S(Z)}else r(l);h=t(l)}if(h!==null)var G=!0;else{var J=t(c);J!==null&&q($,J.startTime-Z),G=!1}return G}finally{h=null,d=ne,m=!1}}var Q=!1,O=null,_=-1,k=5,A=-1;function C(){return!(n.unstable_now()-A<k)}function w(){if(O!==null){var U=n.unstable_now();A=U;var Z=!0;try{Z=O(!0,U)}finally{Z?R():(Q=!1,O=null)}}else Q=!1}var R;if(typeof x=="function")R=function(){x(w)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,V=j.port2;j.port1.onmessage=w,R=function(){V.postMessage(null)}}else R=function(){v(w,0)};function M(U){O=U,Q||(Q=!0,R())}function q(U,Z){_=v(function(){U(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(U){U.callback=null},n.unstable_continueExecution=function(){g||m||(g=!0,M(P))},n.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<U?Math.floor(1e3/U):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(U){switch(d){case 1:case 2:case 3:var Z=3;break;default:Z=d}var ne=d;d=Z;try{return U()}finally{d=ne}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(U,Z){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ne=d;d=U;try{return Z()}finally{d=ne}},n.unstable_scheduleCallback=function(U,Z,ne){var X=n.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?X+ne:X):ne=X,U){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=ne+F,U={id:u++,callback:Z,priorityLevel:U,startTime:ne,expirationTime:F,sortIndex:-1},ne>X?(U.sortIndex=ne,e(c,U),t(l)===null&&U===t(c)&&(y?(b(_),_=-1):y=!0,q($,ne-X))):(U.sortIndex=F,e(l,U),g||m||(g=!0,M(P))),U},n.unstable_shouldYield=C,n.unstable_wrapCallback=function(U){var Z=d;return function(){var ne=d;d=Z;try{return U.apply(this,arguments)}finally{d=ne}}}})(FL);BL.exports=FL;var EG=BL.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AG=E,Ri=EG;function re(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var WL=new Set,bm={};function ju(n,e){wd(n,e),wd(n+"Capture",e)}function wd(n,e){for(bm[n]=e,n=0;n<e.length;n++)WL.add(e[n])}var xa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jk=Object.prototype.hasOwnProperty,RG=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,X$={},G$={};function QG(n){return jk.call(G$,n)?!0:jk.call(X$,n)?!1:RG.test(n)?G$[n]=!0:(X$[n]=!0,!1)}function $G(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function IG(n,e,t,r){if(e===null||typeof e>"u"||$G(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ur(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var lr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){lr[n]=new Ur(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];lr[e]=new Ur(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){lr[n]=new Ur(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){lr[n]=new Ur(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){lr[n]=new Ur(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){lr[n]=new Ur(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){lr[n]=new Ur(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){lr[n]=new Ur(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){lr[n]=new Ur(n,5,!1,n.toLowerCase(),null,!1,!1)});var eE=/[\-:]([a-z])/g;function tE(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(eE,tE);lr[e]=new Ur(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(eE,tE);lr[e]=new Ur(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(eE,tE);lr[e]=new Ur(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){lr[n]=new Ur(n,1,!1,n.toLowerCase(),null,!1,!1)});lr.xlinkHref=new Ur("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){lr[n]=new Ur(n,1,!1,n.toLowerCase(),null,!0,!0)});function nE(n,e,t,r){var i=lr.hasOwnProperty(e)?lr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(IG(e,t,i,r)&&(t=null),r||i===null?QG(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Da=AG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ty=Symbol.for("react.element"),ph=Symbol.for("react.portal"),mh=Symbol.for("react.fragment"),rE=Symbol.for("react.strict_mode"),Dk=Symbol.for("react.profiler"),XL=Symbol.for("react.provider"),GL=Symbol.for("react.context"),iE=Symbol.for("react.forward_ref"),Mk=Symbol.for("react.suspense"),Vk=Symbol.for("react.suspense_list"),sE=Symbol.for("react.memo"),Ja=Symbol.for("react.lazy"),YL=Symbol.for("react.offscreen"),Y$=Symbol.iterator;function Xf(n){return n===null||typeof n!="object"?null:(n=Y$&&n[Y$]||n["@@iterator"],typeof n=="function"?n:null)}var Xt=Object.assign,mS;function xp(n){if(mS===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);mS=e&&e[1]||""}return`
`+mS+n}var gS=!1;function OS(n,e){if(!n||gS)return"";gS=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{gS=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?xp(n):""}function NG(n){switch(n.tag){case 5:return xp(n.type);case 16:return xp("Lazy");case 13:return xp("Suspense");case 19:return xp("SuspenseList");case 0:case 2:case 15:return n=OS(n.type,!1),n;case 11:return n=OS(n.type.render,!1),n;case 1:return n=OS(n.type,!0),n;default:return""}}function Lk(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case mh:return"Fragment";case ph:return"Portal";case Dk:return"Profiler";case rE:return"StrictMode";case Mk:return"Suspense";case Vk:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case GL:return(n.displayName||"Context")+".Consumer";case XL:return(n._context.displayName||"Context")+".Provider";case iE:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case sE:return e=n.displayName||null,e!==null?e:Lk(n.type)||"Memo";case Ja:e=n._payload,n=n._init;try{return Lk(n(e))}catch{}}return null}function jG(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lk(e);case 8:return e===rE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ql(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function HL(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function DG(n){var e=HL(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function ny(n){n._valueTracker||(n._valueTracker=DG(n))}function KL(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=HL(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function Tv(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function zk(n,e){var t=e.checked;return Xt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function H$(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=ql(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function JL(n,e){e=e.checked,e!=null&&nE(n,"checked",e,!1)}function Uk(n,e){JL(n,e);var t=ql(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Zk(n,e.type,t):e.hasOwnProperty("defaultValue")&&Zk(n,e.type,ql(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function K$(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Zk(n,e,t){(e!=="number"||Tv(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var bp=Array.isArray;function jh(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+ql(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function qk(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(re(91));return Xt({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function J$(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(re(92));if(bp(t)){if(1<t.length)throw Error(re(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:ql(t)}}function e4(n,e){var t=ql(e.value),r=ql(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function eI(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function t4(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bk(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?t4(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var ry,n4=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(ry=ry||document.createElement("div"),ry.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ry.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Sm(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Yp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},MG=["Webkit","ms","Moz","O"];Object.keys(Yp).forEach(function(n){MG.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Yp[e]=Yp[n]})});function r4(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Yp.hasOwnProperty(n)&&Yp[n]?(""+e).trim():e+"px"}function i4(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=r4(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var VG=Xt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fk(n,e){if(e){if(VG[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(re(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(re(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(re(62))}}function Wk(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xk=null;function oE(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Gk=null,Dh=null,Mh=null;function tI(n){if(n=oO(n)){if(typeof Gk!="function")throw Error(re(280));var e=n.stateNode;e&&(e=Ex(e),Gk(n.stateNode,n.type,e))}}function s4(n){Dh?Mh?Mh.push(n):Mh=[n]:Dh=n}function o4(){if(Dh){var n=Dh,e=Mh;if(Mh=Dh=null,tI(n),e)for(n=0;n<e.length;n++)tI(e[n])}}function a4(n,e){return n(e)}function l4(){}var yS=!1;function c4(n,e,t){if(yS)return n(e,t);yS=!0;try{return a4(n,e,t)}finally{yS=!1,(Dh!==null||Mh!==null)&&(l4(),o4())}}function km(n,e){var t=n.stateNode;if(t===null)return null;var r=Ex(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(re(231,e,typeof t));return t}var Yk=!1;if(xa)try{var Gf={};Object.defineProperty(Gf,"passive",{get:function(){Yk=!0}}),window.addEventListener("test",Gf,Gf),window.removeEventListener("test",Gf,Gf)}catch{Yk=!1}function LG(n,e,t,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var Hp=!1,Pv=null,Cv=!1,Hk=null,zG={onError:function(n){Hp=!0,Pv=n}};function UG(n,e,t,r,i,s,o,a,l){Hp=!1,Pv=null,LG.apply(zG,arguments)}function ZG(n,e,t,r,i,s,o,a,l){if(UG.apply(this,arguments),Hp){if(Hp){var c=Pv;Hp=!1,Pv=null}else throw Error(re(198));Cv||(Cv=!0,Hk=c)}}function Du(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function u4(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function nI(n){if(Du(n)!==n)throw Error(re(188))}function qG(n){var e=n.alternate;if(!e){if(e=Du(n),e===null)throw Error(re(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return nI(i),n;if(s===r)return nI(i),e;s=s.sibling}throw Error(re(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(re(189))}}if(t.alternate!==r)throw Error(re(190))}if(t.tag!==3)throw Error(re(188));return t.stateNode.current===t?n:e}function h4(n){return n=qG(n),n!==null?d4(n):null}function d4(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=d4(n);if(e!==null)return e;n=n.sibling}return null}var f4=Ri.unstable_scheduleCallback,rI=Ri.unstable_cancelCallback,BG=Ri.unstable_shouldYield,FG=Ri.unstable_requestPaint,hn=Ri.unstable_now,WG=Ri.unstable_getCurrentPriorityLevel,aE=Ri.unstable_ImmediatePriority,p4=Ri.unstable_UserBlockingPriority,Ev=Ri.unstable_NormalPriority,XG=Ri.unstable_LowPriority,m4=Ri.unstable_IdlePriority,_x=null,ao=null;function GG(n){if(ao&&typeof ao.onCommitFiberRoot=="function")try{ao.onCommitFiberRoot(_x,n,void 0,(n.current.flags&128)===128)}catch{}}var vs=Math.clz32?Math.clz32:KG,YG=Math.log,HG=Math.LN2;function KG(n){return n>>>=0,n===0?32:31-(YG(n)/HG|0)|0}var iy=64,sy=4194304;function Sp(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Av(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=Sp(a):(s&=o,s!==0&&(r=Sp(s)))}else o=t&~i,o!==0?r=Sp(o):s!==0&&(r=Sp(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-vs(e),i=1<<t,r|=n[t],e&=~i;return r}function JG(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eY(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-vs(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=JG(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function Kk(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function g4(){var n=iy;return iy<<=1,!(iy&4194240)&&(iy=64),n}function vS(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function iO(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-vs(e),n[e]=t}function tY(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-vs(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function lE(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-vs(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var vt=0;function O4(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var y4,cE,v4,w4,x4,Jk=!1,oy=[],El=null,Al=null,Rl=null,_m=new Map,Tm=new Map,rl=[],nY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function iI(n,e){switch(n){case"focusin":case"focusout":El=null;break;case"dragenter":case"dragleave":Al=null;break;case"mouseover":case"mouseout":Rl=null;break;case"pointerover":case"pointerout":_m.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tm.delete(e.pointerId)}}function Yf(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=oO(e),e!==null&&cE(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function rY(n,e,t,r,i){switch(e){case"focusin":return El=Yf(El,n,e,t,r,i),!0;case"dragenter":return Al=Yf(Al,n,e,t,r,i),!0;case"mouseover":return Rl=Yf(Rl,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return _m.set(s,Yf(_m.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Tm.set(s,Yf(Tm.get(s)||null,n,e,t,r,i)),!0}return!1}function b4(n){var e=qc(n.target);if(e!==null){var t=Du(e);if(t!==null){if(e=t.tag,e===13){if(e=u4(t),e!==null){n.blockedOn=e,x4(n.priority,function(){v4(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function p0(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=e_(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);Xk=r,t.target.dispatchEvent(r),Xk=null}else return e=oO(t),e!==null&&cE(e),n.blockedOn=t,!1;e.shift()}return!0}function sI(n,e,t){p0(n)&&t.delete(e)}function iY(){Jk=!1,El!==null&&p0(El)&&(El=null),Al!==null&&p0(Al)&&(Al=null),Rl!==null&&p0(Rl)&&(Rl=null),_m.forEach(sI),Tm.forEach(sI)}function Hf(n,e){n.blockedOn===e&&(n.blockedOn=null,Jk||(Jk=!0,Ri.unstable_scheduleCallback(Ri.unstable_NormalPriority,iY)))}function Pm(n){function e(i){return Hf(i,n)}if(0<oy.length){Hf(oy[0],n);for(var t=1;t<oy.length;t++){var r=oy[t];r.blockedOn===n&&(r.blockedOn=null)}}for(El!==null&&Hf(El,n),Al!==null&&Hf(Al,n),Rl!==null&&Hf(Rl,n),_m.forEach(e),Tm.forEach(e),t=0;t<rl.length;t++)r=rl[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<rl.length&&(t=rl[0],t.blockedOn===null);)b4(t),t.blockedOn===null&&rl.shift()}var Vh=Da.ReactCurrentBatchConfig,Rv=!0;function sY(n,e,t,r){var i=vt,s=Vh.transition;Vh.transition=null;try{vt=1,uE(n,e,t,r)}finally{vt=i,Vh.transition=s}}function oY(n,e,t,r){var i=vt,s=Vh.transition;Vh.transition=null;try{vt=4,uE(n,e,t,r)}finally{vt=i,Vh.transition=s}}function uE(n,e,t,r){if(Rv){var i=e_(n,e,t,r);if(i===null)ES(n,e,r,Qv,t),iI(n,r);else if(rY(i,n,e,t,r))r.stopPropagation();else if(iI(n,r),e&4&&-1<nY.indexOf(n)){for(;i!==null;){var s=oO(i);if(s!==null&&y4(s),s=e_(n,e,t,r),s===null&&ES(n,e,r,Qv,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else ES(n,e,r,null,t)}}var Qv=null;function e_(n,e,t,r){if(Qv=null,n=oE(r),n=qc(n),n!==null)if(e=Du(n),e===null)n=null;else if(t=e.tag,t===13){if(n=u4(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Qv=n,null}function S4(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(WG()){case aE:return 1;case p4:return 4;case Ev:case XG:return 16;case m4:return 536870912;default:return 16}default:return 16}}var bl=null,hE=null,m0=null;function k4(){if(m0)return m0;var n,e=hE,t=e.length,r,i="value"in bl?bl.value:bl.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return m0=i.slice(n,1<r?1-r:void 0)}function g0(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function ay(){return!0}function oI(){return!1}function $i(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ay:oI,this.isPropagationStopped=oI,this}return Xt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=ay)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=ay)},persist:function(){},isPersistent:ay}),e}var df={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dE=$i(df),sO=Xt({},df,{view:0,detail:0}),aY=$i(sO),wS,xS,Kf,Tx=Xt({},sO,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fE,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Kf&&(Kf&&n.type==="mousemove"?(wS=n.screenX-Kf.screenX,xS=n.screenY-Kf.screenY):xS=wS=0,Kf=n),wS)},movementY:function(n){return"movementY"in n?n.movementY:xS}}),aI=$i(Tx),lY=Xt({},Tx,{dataTransfer:0}),cY=$i(lY),uY=Xt({},sO,{relatedTarget:0}),bS=$i(uY),hY=Xt({},df,{animationName:0,elapsedTime:0,pseudoElement:0}),dY=$i(hY),fY=Xt({},df,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),pY=$i(fY),mY=Xt({},df,{data:0}),lI=$i(mY),gY={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},OY={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yY={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vY(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=yY[n])?!!e[n]:!1}function fE(){return vY}var wY=Xt({},sO,{key:function(n){if(n.key){var e=gY[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=g0(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?OY[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fE,charCode:function(n){return n.type==="keypress"?g0(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?g0(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),xY=$i(wY),bY=Xt({},Tx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cI=$i(bY),SY=Xt({},sO,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fE}),kY=$i(SY),_Y=Xt({},df,{propertyName:0,elapsedTime:0,pseudoElement:0}),TY=$i(_Y),PY=Xt({},Tx,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),CY=$i(PY),EY=[9,13,27,32],pE=xa&&"CompositionEvent"in window,Kp=null;xa&&"documentMode"in document&&(Kp=document.documentMode);var AY=xa&&"TextEvent"in window&&!Kp,_4=xa&&(!pE||Kp&&8<Kp&&11>=Kp),uI=" ",hI=!1;function T4(n,e){switch(n){case"keyup":return EY.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function P4(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var gh=!1;function RY(n,e){switch(n){case"compositionend":return P4(e);case"keypress":return e.which!==32?null:(hI=!0,uI);case"textInput":return n=e.data,n===uI&&hI?null:n;default:return null}}function QY(n,e){if(gh)return n==="compositionend"||!pE&&T4(n,e)?(n=k4(),m0=hE=bl=null,gh=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return _4&&e.locale!=="ko"?null:e.data;default:return null}}var $Y={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dI(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!$Y[n.type]:e==="textarea"}function C4(n,e,t,r){s4(r),e=$v(e,"onChange"),0<e.length&&(t=new dE("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var Jp=null,Cm=null;function IY(n){V4(n,0)}function Px(n){var e=vh(n);if(KL(e))return n}function NY(n,e){if(n==="change")return e}var E4=!1;if(xa){var SS;if(xa){var kS="oninput"in document;if(!kS){var fI=document.createElement("div");fI.setAttribute("oninput","return;"),kS=typeof fI.oninput=="function"}SS=kS}else SS=!1;E4=SS&&(!document.documentMode||9<document.documentMode)}function pI(){Jp&&(Jp.detachEvent("onpropertychange",A4),Cm=Jp=null)}function A4(n){if(n.propertyName==="value"&&Px(Cm)){var e=[];C4(e,Cm,n,oE(n)),c4(IY,e)}}function jY(n,e,t){n==="focusin"?(pI(),Jp=e,Cm=t,Jp.attachEvent("onpropertychange",A4)):n==="focusout"&&pI()}function DY(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Px(Cm)}function MY(n,e){if(n==="click")return Px(e)}function VY(n,e){if(n==="input"||n==="change")return Px(e)}function LY(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Ss=typeof Object.is=="function"?Object.is:LY;function Em(n,e){if(Ss(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!jk.call(e,i)||!Ss(n[i],e[i]))return!1}return!0}function mI(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function gI(n,e){var t=mI(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=mI(t)}}function R4(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?R4(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function Q4(){for(var n=window,e=Tv();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Tv(n.document)}return e}function mE(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function zY(n){var e=Q4(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&R4(t.ownerDocument.documentElement,t)){if(r!==null&&mE(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=gI(t,s);var o=gI(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var UY=xa&&"documentMode"in document&&11>=document.documentMode,Oh=null,t_=null,em=null,n_=!1;function OI(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;n_||Oh==null||Oh!==Tv(r)||(r=Oh,"selectionStart"in r&&mE(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),em&&Em(em,r)||(em=r,r=$v(t_,"onSelect"),0<r.length&&(e=new dE("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Oh)))}function ly(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var yh={animationend:ly("Animation","AnimationEnd"),animationiteration:ly("Animation","AnimationIteration"),animationstart:ly("Animation","AnimationStart"),transitionend:ly("Transition","TransitionEnd")},_S={},$4={};xa&&($4=document.createElement("div").style,"AnimationEvent"in window||(delete yh.animationend.animation,delete yh.animationiteration.animation,delete yh.animationstart.animation),"TransitionEvent"in window||delete yh.transitionend.transition);function Cx(n){if(_S[n])return _S[n];if(!yh[n])return n;var e=yh[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in $4)return _S[n]=e[t];return n}var I4=Cx("animationend"),N4=Cx("animationiteration"),j4=Cx("animationstart"),D4=Cx("transitionend"),M4=new Map,yI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yc(n,e){M4.set(n,e),ju(e,[n])}for(var TS=0;TS<yI.length;TS++){var PS=yI[TS],ZY=PS.toLowerCase(),qY=PS[0].toUpperCase()+PS.slice(1);yc(ZY,"on"+qY)}yc(I4,"onAnimationEnd");yc(N4,"onAnimationIteration");yc(j4,"onAnimationStart");yc("dblclick","onDoubleClick");yc("focusin","onFocus");yc("focusout","onBlur");yc(D4,"onTransitionEnd");wd("onMouseEnter",["mouseout","mouseover"]);wd("onMouseLeave",["mouseout","mouseover"]);wd("onPointerEnter",["pointerout","pointerover"]);wd("onPointerLeave",["pointerout","pointerover"]);ju("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ju("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ju("onBeforeInput",["compositionend","keypress","textInput","paste"]);ju("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ju("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ju("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BY=new Set("cancel close invalid load scroll toggle".split(" ").concat(kp));function vI(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,ZG(r,e,void 0,n),n.currentTarget=null}function V4(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;vI(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;vI(i,a,c),s=l}}}if(Cv)throw n=Hk,Cv=!1,Hk=null,n}function jt(n,e){var t=e[a_];t===void 0&&(t=e[a_]=new Set);var r=n+"__bubble";t.has(r)||(L4(e,n,2,!1),t.add(r))}function CS(n,e,t){var r=0;e&&(r|=4),L4(t,n,r,e)}var cy="_reactListening"+Math.random().toString(36).slice(2);function Am(n){if(!n[cy]){n[cy]=!0,WL.forEach(function(t){t!=="selectionchange"&&(BY.has(t)||CS(t,!1,n),CS(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[cy]||(e[cy]=!0,CS("selectionchange",!1,e))}}function L4(n,e,t,r){switch(S4(e)){case 1:var i=sY;break;case 4:i=oY;break;default:i=uE}t=i.bind(null,e,t,n),i=void 0,!Yk||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function ES(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=qc(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}c4(function(){var c=s,u=oE(t),h=[];e:{var d=M4.get(n);if(d!==void 0){var m=dE,g=n;switch(n){case"keypress":if(g0(t)===0)break e;case"keydown":case"keyup":m=xY;break;case"focusin":g="focus",m=bS;break;case"focusout":g="blur",m=bS;break;case"beforeblur":case"afterblur":m=bS;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=aI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=cY;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=kY;break;case I4:case N4:case j4:m=dY;break;case D4:m=TY;break;case"scroll":m=aY;break;case"wheel":m=CY;break;case"copy":case"cut":case"paste":m=pY;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=cI}var y=(e&4)!==0,v=!y&&n==="scroll",b=y?d!==null?d+"Capture":null:d;y=[];for(var x=c,S;x!==null;){S=x;var $=S.stateNode;if(S.tag===5&&$!==null&&(S=$,b!==null&&($=km(x,b),$!=null&&y.push(Rm(x,$,S)))),v)break;x=x.return}0<y.length&&(d=new m(d,g,null,t,u),h.push({event:d,listeners:y}))}}if(!(e&7)){e:{if(d=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",d&&t!==Xk&&(g=t.relatedTarget||t.fromElement)&&(qc(g)||g[ba]))break e;if((m||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,m?(g=t.relatedTarget||t.toElement,m=c,g=g?qc(g):null,g!==null&&(v=Du(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=c),m!==g)){if(y=aI,$="onMouseLeave",b="onMouseEnter",x="mouse",(n==="pointerout"||n==="pointerover")&&(y=cI,$="onPointerLeave",b="onPointerEnter",x="pointer"),v=m==null?d:vh(m),S=g==null?d:vh(g),d=new y($,x+"leave",m,t,u),d.target=v,d.relatedTarget=S,$=null,qc(u)===c&&(y=new y(b,x+"enter",g,t,u),y.target=S,y.relatedTarget=v,$=y),v=$,m&&g)t:{for(y=m,b=g,x=0,S=y;S;S=Hu(S))x++;for(S=0,$=b;$;$=Hu($))S++;for(;0<x-S;)y=Hu(y),x--;for(;0<S-x;)b=Hu(b),S--;for(;x--;){if(y===b||b!==null&&y===b.alternate)break t;y=Hu(y),b=Hu(b)}y=null}else y=null;m!==null&&wI(h,d,m,y,!1),g!==null&&v!==null&&wI(h,v,g,y,!0)}}e:{if(d=c?vh(c):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var P=NY;else if(dI(d))if(E4)P=VY;else{P=DY;var Q=jY}else(m=d.nodeName)&&m.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(P=MY);if(P&&(P=P(n,c))){C4(h,P,t,u);break e}Q&&Q(n,d,c),n==="focusout"&&(Q=d._wrapperState)&&Q.controlled&&d.type==="number"&&Zk(d,"number",d.value)}switch(Q=c?vh(c):window,n){case"focusin":(dI(Q)||Q.contentEditable==="true")&&(Oh=Q,t_=c,em=null);break;case"focusout":em=t_=Oh=null;break;case"mousedown":n_=!0;break;case"contextmenu":case"mouseup":case"dragend":n_=!1,OI(h,t,u);break;case"selectionchange":if(UY)break;case"keydown":case"keyup":OI(h,t,u)}var O;if(pE)e:{switch(n){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else gh?T4(n,t)&&(_="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(_="onCompositionStart");_&&(_4&&t.locale!=="ko"&&(gh||_!=="onCompositionStart"?_==="onCompositionEnd"&&gh&&(O=k4()):(bl=u,hE="value"in bl?bl.value:bl.textContent,gh=!0)),Q=$v(c,_),0<Q.length&&(_=new lI(_,n,null,t,u),h.push({event:_,listeners:Q}),O?_.data=O:(O=P4(t),O!==null&&(_.data=O)))),(O=AY?RY(n,t):QY(n,t))&&(c=$v(c,"onBeforeInput"),0<c.length&&(u=new lI("onBeforeInput","beforeinput",null,t,u),h.push({event:u,listeners:c}),u.data=O))}V4(h,e)})}function Rm(n,e,t){return{instance:n,listener:e,currentTarget:t}}function $v(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=km(n,t),s!=null&&r.unshift(Rm(n,s,i)),s=km(n,e),s!=null&&r.push(Rm(n,s,i))),n=n.return}return r}function Hu(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function wI(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=km(t,s),l!=null&&o.unshift(Rm(t,l,a))):i||(l=km(t,s),l!=null&&o.push(Rm(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var FY=/\r\n?/g,WY=/\u0000|\uFFFD/g;function xI(n){return(typeof n=="string"?n:""+n).replace(FY,`
`).replace(WY,"")}function uy(n,e,t){if(e=xI(e),xI(n)!==e&&t)throw Error(re(425))}function Iv(){}var r_=null,i_=null;function s_(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var o_=typeof setTimeout=="function"?setTimeout:void 0,XY=typeof clearTimeout=="function"?clearTimeout:void 0,bI=typeof Promise=="function"?Promise:void 0,GY=typeof queueMicrotask=="function"?queueMicrotask:typeof bI<"u"?function(n){return bI.resolve(null).then(n).catch(YY)}:o_;function YY(n){setTimeout(function(){throw n})}function AS(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),Pm(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);Pm(e)}function Ql(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function SI(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var ff=Math.random().toString(36).slice(2),Gs="__reactFiber$"+ff,Qm="__reactProps$"+ff,ba="__reactContainer$"+ff,a_="__reactEvents$"+ff,HY="__reactListeners$"+ff,KY="__reactHandles$"+ff;function qc(n){var e=n[Gs];if(e)return e;for(var t=n.parentNode;t;){if(e=t[ba]||t[Gs]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=SI(n);n!==null;){if(t=n[Gs])return t;n=SI(n)}return e}n=t,t=n.parentNode}return null}function oO(n){return n=n[Gs]||n[ba],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function vh(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(re(33))}function Ex(n){return n[Qm]||null}var l_=[],wh=-1;function vc(n){return{current:n}}function Vt(n){0>wh||(n.current=l_[wh],l_[wh]=null,wh--)}function Tt(n,e){wh++,l_[wh]=n.current,n.current=e}var Bl={},Sr=vc(Bl),ni=vc(!1),hu=Bl;function xd(n,e){var t=n.type.contextTypes;if(!t)return Bl;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function ri(n){return n=n.childContextTypes,n!=null}function Nv(){Vt(ni),Vt(Sr)}function kI(n,e,t){if(Sr.current!==Bl)throw Error(re(168));Tt(Sr,e),Tt(ni,t)}function z4(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(re(108,jG(n)||"Unknown",i));return Xt({},t,r)}function jv(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Bl,hu=Sr.current,Tt(Sr,n),Tt(ni,ni.current),!0}function _I(n,e,t){var r=n.stateNode;if(!r)throw Error(re(169));t?(n=z4(n,e,hu),r.__reactInternalMemoizedMergedChildContext=n,Vt(ni),Vt(Sr),Tt(Sr,n)):Vt(ni),Tt(ni,t)}var ia=null,Ax=!1,RS=!1;function U4(n){ia===null?ia=[n]:ia.push(n)}function JY(n){Ax=!0,U4(n)}function wc(){if(!RS&&ia!==null){RS=!0;var n=0,e=vt;try{var t=ia;for(vt=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}ia=null,Ax=!1}catch(i){throw ia!==null&&(ia=ia.slice(n+1)),f4(aE,wc),i}finally{vt=e,RS=!1}}return null}var xh=[],bh=0,Dv=null,Mv=0,Vi=[],Li=0,du=null,ca=1,ua="";function Mc(n,e){xh[bh++]=Mv,xh[bh++]=Dv,Dv=n,Mv=e}function Z4(n,e,t){Vi[Li++]=ca,Vi[Li++]=ua,Vi[Li++]=du,du=n;var r=ca;n=ua;var i=32-vs(r)-1;r&=~(1<<i),t+=1;var s=32-vs(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ca=1<<32-vs(e)+i|t<<i|r,ua=s+n}else ca=1<<s|t<<i|r,ua=n}function gE(n){n.return!==null&&(Mc(n,1),Z4(n,1,0))}function OE(n){for(;n===Dv;)Dv=xh[--bh],xh[bh]=null,Mv=xh[--bh],xh[bh]=null;for(;n===du;)du=Vi[--Li],Vi[Li]=null,ua=Vi[--Li],Vi[Li]=null,ca=Vi[--Li],Vi[Li]=null}var Pi=null,Oi=null,zt=!1,cs=null;function q4(n,e){var t=Zi(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function TI(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Pi=n,Oi=Ql(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Pi=n,Oi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=du!==null?{id:ca,overflow:ua}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Zi(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Pi=n,Oi=null,!0):!1;default:return!1}}function c_(n){return(n.mode&1)!==0&&(n.flags&128)===0}function u_(n){if(zt){var e=Oi;if(e){var t=e;if(!TI(n,e)){if(c_(n))throw Error(re(418));e=Ql(t.nextSibling);var r=Pi;e&&TI(n,e)?q4(r,t):(n.flags=n.flags&-4097|2,zt=!1,Pi=n)}}else{if(c_(n))throw Error(re(418));n.flags=n.flags&-4097|2,zt=!1,Pi=n}}}function PI(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Pi=n}function hy(n){if(n!==Pi)return!1;if(!zt)return PI(n),zt=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!s_(n.type,n.memoizedProps)),e&&(e=Oi)){if(c_(n))throw B4(),Error(re(418));for(;e;)q4(n,e),e=Ql(e.nextSibling)}if(PI(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(re(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Oi=Ql(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Oi=null}}else Oi=Pi?Ql(n.stateNode.nextSibling):null;return!0}function B4(){for(var n=Oi;n;)n=Ql(n.nextSibling)}function bd(){Oi=Pi=null,zt=!1}function yE(n){cs===null?cs=[n]:cs.push(n)}var eH=Da.ReactCurrentBatchConfig;function Jf(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(re(309));var r=t.stateNode}if(!r)throw Error(re(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(re(284));if(!t._owner)throw Error(re(290,n))}return n}function dy(n,e){throw n=Object.prototype.toString.call(e),Error(re(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function CI(n){var e=n._init;return e(n._payload)}function F4(n){function e(b,x){if(n){var S=b.deletions;S===null?(b.deletions=[x],b.flags|=16):S.push(x)}}function t(b,x){if(!n)return null;for(;x!==null;)e(b,x),x=x.sibling;return null}function r(b,x){for(b=new Map;x!==null;)x.key!==null?b.set(x.key,x):b.set(x.index,x),x=x.sibling;return b}function i(b,x){return b=jl(b,x),b.index=0,b.sibling=null,b}function s(b,x,S){return b.index=S,n?(S=b.alternate,S!==null?(S=S.index,S<x?(b.flags|=2,x):S):(b.flags|=2,x)):(b.flags|=1048576,x)}function o(b){return n&&b.alternate===null&&(b.flags|=2),b}function a(b,x,S,$){return x===null||x.tag!==6?(x=MS(S,b.mode,$),x.return=b,x):(x=i(x,S),x.return=b,x)}function l(b,x,S,$){var P=S.type;return P===mh?u(b,x,S.props.children,$,S.key):x!==null&&(x.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Ja&&CI(P)===x.type)?($=i(x,S.props),$.ref=Jf(b,x,S),$.return=b,$):($=S0(S.type,S.key,S.props,null,b.mode,$),$.ref=Jf(b,x,S),$.return=b,$)}function c(b,x,S,$){return x===null||x.tag!==4||x.stateNode.containerInfo!==S.containerInfo||x.stateNode.implementation!==S.implementation?(x=VS(S,b.mode,$),x.return=b,x):(x=i(x,S.children||[]),x.return=b,x)}function u(b,x,S,$,P){return x===null||x.tag!==7?(x=su(S,b.mode,$,P),x.return=b,x):(x=i(x,S),x.return=b,x)}function h(b,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return x=MS(""+x,b.mode,S),x.return=b,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ty:return S=S0(x.type,x.key,x.props,null,b.mode,S),S.ref=Jf(b,null,x),S.return=b,S;case ph:return x=VS(x,b.mode,S),x.return=b,x;case Ja:var $=x._init;return h(b,$(x._payload),S)}if(bp(x)||Xf(x))return x=su(x,b.mode,S,null),x.return=b,x;dy(b,x)}return null}function d(b,x,S,$){var P=x!==null?x.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return P!==null?null:a(b,x,""+S,$);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ty:return S.key===P?l(b,x,S,$):null;case ph:return S.key===P?c(b,x,S,$):null;case Ja:return P=S._init,d(b,x,P(S._payload),$)}if(bp(S)||Xf(S))return P!==null?null:u(b,x,S,$,null);dy(b,S)}return null}function m(b,x,S,$,P){if(typeof $=="string"&&$!==""||typeof $=="number")return b=b.get(S)||null,a(x,b,""+$,P);if(typeof $=="object"&&$!==null){switch($.$$typeof){case ty:return b=b.get($.key===null?S:$.key)||null,l(x,b,$,P);case ph:return b=b.get($.key===null?S:$.key)||null,c(x,b,$,P);case Ja:var Q=$._init;return m(b,x,S,Q($._payload),P)}if(bp($)||Xf($))return b=b.get(S)||null,u(x,b,$,P,null);dy(x,$)}return null}function g(b,x,S,$){for(var P=null,Q=null,O=x,_=x=0,k=null;O!==null&&_<S.length;_++){O.index>_?(k=O,O=null):k=O.sibling;var A=d(b,O,S[_],$);if(A===null){O===null&&(O=k);break}n&&O&&A.alternate===null&&e(b,O),x=s(A,x,_),Q===null?P=A:Q.sibling=A,Q=A,O=k}if(_===S.length)return t(b,O),zt&&Mc(b,_),P;if(O===null){for(;_<S.length;_++)O=h(b,S[_],$),O!==null&&(x=s(O,x,_),Q===null?P=O:Q.sibling=O,Q=O);return zt&&Mc(b,_),P}for(O=r(b,O);_<S.length;_++)k=m(O,b,_,S[_],$),k!==null&&(n&&k.alternate!==null&&O.delete(k.key===null?_:k.key),x=s(k,x,_),Q===null?P=k:Q.sibling=k,Q=k);return n&&O.forEach(function(C){return e(b,C)}),zt&&Mc(b,_),P}function y(b,x,S,$){var P=Xf(S);if(typeof P!="function")throw Error(re(150));if(S=P.call(S),S==null)throw Error(re(151));for(var Q=P=null,O=x,_=x=0,k=null,A=S.next();O!==null&&!A.done;_++,A=S.next()){O.index>_?(k=O,O=null):k=O.sibling;var C=d(b,O,A.value,$);if(C===null){O===null&&(O=k);break}n&&O&&C.alternate===null&&e(b,O),x=s(C,x,_),Q===null?P=C:Q.sibling=C,Q=C,O=k}if(A.done)return t(b,O),zt&&Mc(b,_),P;if(O===null){for(;!A.done;_++,A=S.next())A=h(b,A.value,$),A!==null&&(x=s(A,x,_),Q===null?P=A:Q.sibling=A,Q=A);return zt&&Mc(b,_),P}for(O=r(b,O);!A.done;_++,A=S.next())A=m(O,b,_,A.value,$),A!==null&&(n&&A.alternate!==null&&O.delete(A.key===null?_:A.key),x=s(A,x,_),Q===null?P=A:Q.sibling=A,Q=A);return n&&O.forEach(function(w){return e(b,w)}),zt&&Mc(b,_),P}function v(b,x,S,$){if(typeof S=="object"&&S!==null&&S.type===mh&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case ty:e:{for(var P=S.key,Q=x;Q!==null;){if(Q.key===P){if(P=S.type,P===mh){if(Q.tag===7){t(b,Q.sibling),x=i(Q,S.props.children),x.return=b,b=x;break e}}else if(Q.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Ja&&CI(P)===Q.type){t(b,Q.sibling),x=i(Q,S.props),x.ref=Jf(b,Q,S),x.return=b,b=x;break e}t(b,Q);break}else e(b,Q);Q=Q.sibling}S.type===mh?(x=su(S.props.children,b.mode,$,S.key),x.return=b,b=x):($=S0(S.type,S.key,S.props,null,b.mode,$),$.ref=Jf(b,x,S),$.return=b,b=$)}return o(b);case ph:e:{for(Q=S.key;x!==null;){if(x.key===Q)if(x.tag===4&&x.stateNode.containerInfo===S.containerInfo&&x.stateNode.implementation===S.implementation){t(b,x.sibling),x=i(x,S.children||[]),x.return=b,b=x;break e}else{t(b,x);break}else e(b,x);x=x.sibling}x=VS(S,b.mode,$),x.return=b,b=x}return o(b);case Ja:return Q=S._init,v(b,x,Q(S._payload),$)}if(bp(S))return g(b,x,S,$);if(Xf(S))return y(b,x,S,$);dy(b,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,x!==null&&x.tag===6?(t(b,x.sibling),x=i(x,S),x.return=b,b=x):(t(b,x),x=MS(S,b.mode,$),x.return=b,b=x),o(b)):t(b,x)}return v}var Sd=F4(!0),W4=F4(!1),Vv=vc(null),Lv=null,Sh=null,vE=null;function wE(){vE=Sh=Lv=null}function xE(n){var e=Vv.current;Vt(Vv),n._currentValue=e}function h_(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function Lh(n,e){Lv=n,vE=Sh=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(ei=!0),n.firstContext=null)}function Yi(n){var e=n._currentValue;if(vE!==n)if(n={context:n,memoizedValue:e,next:null},Sh===null){if(Lv===null)throw Error(re(308));Sh=n,Lv.dependencies={lanes:0,firstContext:n}}else Sh=Sh.next=n;return e}var Bc=null;function bE(n){Bc===null?Bc=[n]:Bc.push(n)}function X4(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,bE(e)):(t.next=i.next,i.next=t),e.interleaved=t,Sa(n,r)}function Sa(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var el=!1;function SE(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function G4(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function ga(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function $l(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,dt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Sa(n,t)}return i=r.interleaved,i===null?(e.next=e,bE(r)):(e.next=i.next,i.next=e),r.interleaved=e,Sa(n,t)}function O0(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,lE(n,t)}}function EI(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function zv(n,e,t,r){var i=n.updateQueue;el=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=n.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,u=c=l=null,a=s;do{var d=a.lane,m=a.eventTime;if((r&d)===d){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=n,y=a;switch(d=e,m=t,y.tag){case 1:if(g=y.payload,typeof g=="function"){h=g.call(m,h,d);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,d=typeof g=="function"?g.call(m,h,d):g,d==null)break e;h=Xt({},h,d);break e;case 2:el=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else m={eventTime:m,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=h):u=u.next=m,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);pu|=o,n.lanes=o,n.memoizedState=h}}function AI(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(re(191,i));i.call(r)}}}var aO={},lo=vc(aO),$m=vc(aO),Im=vc(aO);function Fc(n){if(n===aO)throw Error(re(174));return n}function kE(n,e){switch(Tt(Im,e),Tt($m,n),Tt(lo,aO),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Bk(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Bk(e,n)}Vt(lo),Tt(lo,e)}function kd(){Vt(lo),Vt($m),Vt(Im)}function Y4(n){Fc(Im.current);var e=Fc(lo.current),t=Bk(e,n.type);e!==t&&(Tt($m,n),Tt(lo,t))}function _E(n){$m.current===n&&(Vt(lo),Vt($m))}var Bt=vc(0);function Uv(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var QS=[];function TE(){for(var n=0;n<QS.length;n++)QS[n]._workInProgressVersionPrimary=null;QS.length=0}var y0=Da.ReactCurrentDispatcher,$S=Da.ReactCurrentBatchConfig,fu=0,Ft=null,_n=null,jn=null,Zv=!1,tm=!1,Nm=0,tH=0;function fr(){throw Error(re(321))}function PE(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Ss(n[t],e[t]))return!1;return!0}function CE(n,e,t,r,i,s){if(fu=s,Ft=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,y0.current=n===null||n.memoizedState===null?sH:oH,n=t(r,i),tm){s=0;do{if(tm=!1,Nm=0,25<=s)throw Error(re(301));s+=1,jn=_n=null,e.updateQueue=null,y0.current=aH,n=t(r,i)}while(tm)}if(y0.current=qv,e=_n!==null&&_n.next!==null,fu=0,jn=_n=Ft=null,Zv=!1,e)throw Error(re(300));return n}function EE(){var n=Nm!==0;return Nm=0,n}function Zs(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jn===null?Ft.memoizedState=jn=n:jn=jn.next=n,jn}function Hi(){if(_n===null){var n=Ft.alternate;n=n!==null?n.memoizedState:null}else n=_n.next;var e=jn===null?Ft.memoizedState:jn.next;if(e!==null)jn=e,_n=n;else{if(n===null)throw Error(re(310));_n=n,n={memoizedState:_n.memoizedState,baseState:_n.baseState,baseQueue:_n.baseQueue,queue:_n.queue,next:null},jn===null?Ft.memoizedState=jn=n:jn=jn.next=n}return jn}function jm(n,e){return typeof e=="function"?e(n):e}function IS(n){var e=Hi(),t=e.queue;if(t===null)throw Error(re(311));t.lastRenderedReducer=n;var r=_n,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((fu&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Ft.lanes|=u,pu|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Ss(r,e.memoizedState)||(ei=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,Ft.lanes|=s,pu|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function NS(n){var e=Hi(),t=e.queue;if(t===null)throw Error(re(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);Ss(s,e.memoizedState)||(ei=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function H4(){}function K4(n,e){var t=Ft,r=Hi(),i=e(),s=!Ss(r.memoizedState,i);if(s&&(r.memoizedState=i,ei=!0),r=r.queue,AE(t5.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||jn!==null&&jn.memoizedState.tag&1){if(t.flags|=2048,Dm(9,e5.bind(null,t,r,i,e),void 0,null),qn===null)throw Error(re(349));fu&30||J4(t,e,i)}return i}function J4(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Ft.updateQueue,e===null?(e={lastEffect:null,stores:null},Ft.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function e5(n,e,t,r){e.value=t,e.getSnapshot=r,n5(e)&&r5(n)}function t5(n,e,t){return t(function(){n5(e)&&r5(n)})}function n5(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Ss(n,t)}catch{return!0}}function r5(n){var e=Sa(n,1);e!==null&&ws(e,n,1,-1)}function RI(n){var e=Zs();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jm,lastRenderedState:n},e.queue=n,n=n.dispatch=iH.bind(null,Ft,n),[e.memoizedState,n]}function Dm(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Ft.updateQueue,e===null?(e={lastEffect:null,stores:null},Ft.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function i5(){return Hi().memoizedState}function v0(n,e,t,r){var i=Zs();Ft.flags|=n,i.memoizedState=Dm(1|e,t,void 0,r===void 0?null:r)}function Rx(n,e,t,r){var i=Hi();r=r===void 0?null:r;var s=void 0;if(_n!==null){var o=_n.memoizedState;if(s=o.destroy,r!==null&&PE(r,o.deps)){i.memoizedState=Dm(e,t,s,r);return}}Ft.flags|=n,i.memoizedState=Dm(1|e,t,s,r)}function QI(n,e){return v0(8390656,8,n,e)}function AE(n,e){return Rx(2048,8,n,e)}function s5(n,e){return Rx(4,2,n,e)}function o5(n,e){return Rx(4,4,n,e)}function a5(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function l5(n,e,t){return t=t!=null?t.concat([n]):null,Rx(4,4,a5.bind(null,e,n),t)}function RE(){}function c5(n,e){var t=Hi();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&PE(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function u5(n,e){var t=Hi();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&PE(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function h5(n,e,t){return fu&21?(Ss(t,e)||(t=g4(),Ft.lanes|=t,pu|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,ei=!0),n.memoizedState=t)}function nH(n,e){var t=vt;vt=t!==0&&4>t?t:4,n(!0);var r=$S.transition;$S.transition={};try{n(!1),e()}finally{vt=t,$S.transition=r}}function d5(){return Hi().memoizedState}function rH(n,e,t){var r=Nl(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},f5(n))p5(e,t);else if(t=X4(n,e,t,r),t!==null){var i=Ir();ws(t,n,r,i),m5(t,e,r)}}function iH(n,e,t){var r=Nl(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(f5(n))p5(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,Ss(a,o)){var l=e.interleaved;l===null?(i.next=i,bE(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=X4(n,e,i,r),t!==null&&(i=Ir(),ws(t,n,r,i),m5(t,e,r))}}function f5(n){var e=n.alternate;return n===Ft||e!==null&&e===Ft}function p5(n,e){tm=Zv=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function m5(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,lE(n,t)}}var qv={readContext:Yi,useCallback:fr,useContext:fr,useEffect:fr,useImperativeHandle:fr,useInsertionEffect:fr,useLayoutEffect:fr,useMemo:fr,useReducer:fr,useRef:fr,useState:fr,useDebugValue:fr,useDeferredValue:fr,useTransition:fr,useMutableSource:fr,useSyncExternalStore:fr,useId:fr,unstable_isNewReconciler:!1},sH={readContext:Yi,useCallback:function(n,e){return Zs().memoizedState=[n,e===void 0?null:e],n},useContext:Yi,useEffect:QI,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,v0(4194308,4,a5.bind(null,e,n),t)},useLayoutEffect:function(n,e){return v0(4194308,4,n,e)},useInsertionEffect:function(n,e){return v0(4,2,n,e)},useMemo:function(n,e){var t=Zs();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Zs();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=rH.bind(null,Ft,n),[r.memoizedState,n]},useRef:function(n){var e=Zs();return n={current:n},e.memoizedState=n},useState:RI,useDebugValue:RE,useDeferredValue:function(n){return Zs().memoizedState=n},useTransition:function(){var n=RI(!1),e=n[0];return n=nH.bind(null,n[1]),Zs().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Ft,i=Zs();if(zt){if(t===void 0)throw Error(re(407));t=t()}else{if(t=e(),qn===null)throw Error(re(349));fu&30||J4(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,QI(t5.bind(null,r,s,n),[n]),r.flags|=2048,Dm(9,e5.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=Zs(),e=qn.identifierPrefix;if(zt){var t=ua,r=ca;t=(r&~(1<<32-vs(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=Nm++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=tH++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},oH={readContext:Yi,useCallback:c5,useContext:Yi,useEffect:AE,useImperativeHandle:l5,useInsertionEffect:s5,useLayoutEffect:o5,useMemo:u5,useReducer:IS,useRef:i5,useState:function(){return IS(jm)},useDebugValue:RE,useDeferredValue:function(n){var e=Hi();return h5(e,_n.memoizedState,n)},useTransition:function(){var n=IS(jm)[0],e=Hi().memoizedState;return[n,e]},useMutableSource:H4,useSyncExternalStore:K4,useId:d5,unstable_isNewReconciler:!1},aH={readContext:Yi,useCallback:c5,useContext:Yi,useEffect:AE,useImperativeHandle:l5,useInsertionEffect:s5,useLayoutEffect:o5,useMemo:u5,useReducer:NS,useRef:i5,useState:function(){return NS(jm)},useDebugValue:RE,useDeferredValue:function(n){var e=Hi();return _n===null?e.memoizedState=n:h5(e,_n.memoizedState,n)},useTransition:function(){var n=NS(jm)[0],e=Hi().memoizedState;return[n,e]},useMutableSource:H4,useSyncExternalStore:K4,useId:d5,unstable_isNewReconciler:!1};function os(n,e){if(n&&n.defaultProps){e=Xt({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function d_(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Xt({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Qx={isMounted:function(n){return(n=n._reactInternals)?Du(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Ir(),i=Nl(n),s=ga(r,i);s.payload=e,t!=null&&(s.callback=t),e=$l(n,s,i),e!==null&&(ws(e,n,i,r),O0(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Ir(),i=Nl(n),s=ga(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=$l(n,s,i),e!==null&&(ws(e,n,i,r),O0(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Ir(),r=Nl(n),i=ga(t,r);i.tag=2,e!=null&&(i.callback=e),e=$l(n,i,r),e!==null&&(ws(e,n,r,t),O0(e,n,r))}};function $I(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Em(t,r)||!Em(i,s):!0}function g5(n,e,t){var r=!1,i=Bl,s=e.contextType;return typeof s=="object"&&s!==null?s=Yi(s):(i=ri(e)?hu:Sr.current,r=e.contextTypes,s=(r=r!=null)?xd(n,i):Bl),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Qx,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function II(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&Qx.enqueueReplaceState(e,e.state,null)}function f_(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},SE(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Yi(s):(s=ri(e)?hu:Sr.current,i.context=xd(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(d_(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Qx.enqueueReplaceState(i,i.state,null),zv(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function _d(n,e){try{var t="",r=e;do t+=NG(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function jS(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function p_(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var lH=typeof WeakMap=="function"?WeakMap:Map;function O5(n,e,t){t=ga(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){Fv||(Fv=!0,k_=r),p_(n,e)},t}function y5(n,e,t){t=ga(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){p_(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){p_(n,e),typeof r!="function"&&(Il===null?Il=new Set([this]):Il.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function NI(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new lH;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=bH.bind(null,n,e,t),e.then(n,n))}function jI(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function DI(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=ga(-1,1),e.tag=2,$l(t,e,1))),t.lanes|=1),n)}var cH=Da.ReactCurrentOwner,ei=!1;function Qr(n,e,t,r){e.child=n===null?W4(e,null,t,r):Sd(e,n.child,t,r)}function MI(n,e,t,r,i){t=t.render;var s=e.ref;return Lh(e,i),r=CE(n,e,t,r,s,i),t=EE(),n!==null&&!ei?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,ka(n,e,i)):(zt&&t&&gE(e),e.flags|=1,Qr(n,e,r,i),e.child)}function VI(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!VE(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,v5(n,e,s,r,i)):(n=S0(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Em,t(o,r)&&n.ref===e.ref)return ka(n,e,i)}return e.flags|=1,n=jl(s,r),n.ref=e.ref,n.return=e,e.child=n}function v5(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(Em(s,r)&&n.ref===e.ref)if(ei=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(ei=!0);else return e.lanes=n.lanes,ka(n,e,i)}return m_(n,e,t,r,i)}function w5(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(_h,fi),fi|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Tt(_h,fi),fi|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,Tt(_h,fi),fi|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,Tt(_h,fi),fi|=r;return Qr(n,e,i,t),e.child}function x5(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function m_(n,e,t,r,i){var s=ri(t)?hu:Sr.current;return s=xd(e,s),Lh(e,i),t=CE(n,e,t,r,s,i),r=EE(),n!==null&&!ei?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,ka(n,e,i)):(zt&&r&&gE(e),e.flags|=1,Qr(n,e,t,i),e.child)}function LI(n,e,t,r,i){if(ri(t)){var s=!0;jv(e)}else s=!1;if(Lh(e,i),e.stateNode===null)w0(n,e),g5(e,t,r),f_(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=Yi(c):(c=ri(t)?hu:Sr.current,c=xd(e,c));var u=t.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&II(e,o,r,c),el=!1;var d=e.memoizedState;o.state=d,zv(e,r,o,i),l=e.memoizedState,a!==r||d!==l||ni.current||el?(typeof u=="function"&&(d_(e,t,u,r),l=e.memoizedState),(a=el||$I(e,t,a,r,d,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,G4(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:os(e.type,a),o.props=c,h=e.pendingProps,d=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Yi(l):(l=ri(t)?hu:Sr.current,l=xd(e,l));var m=t.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&II(e,o,r,l),el=!1,d=e.memoizedState,o.state=d,zv(e,r,o,i);var g=e.memoizedState;a!==h||d!==g||ni.current||el?(typeof m=="function"&&(d_(e,t,m,r),g=e.memoizedState),(c=el||$I(e,t,c,r,d,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=1024),r=!1)}return g_(n,e,t,r,s,i)}function g_(n,e,t,r,i,s){x5(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&_I(e,t,!1),ka(n,e,s);r=e.stateNode,cH.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=Sd(e,n.child,null,s),e.child=Sd(e,null,a,s)):Qr(n,e,a,s),e.memoizedState=r.state,i&&_I(e,t,!0),e.child}function b5(n){var e=n.stateNode;e.pendingContext?kI(n,e.pendingContext,e.pendingContext!==e.context):e.context&&kI(n,e.context,!1),kE(n,e.containerInfo)}function zI(n,e,t,r,i){return bd(),yE(i),e.flags|=256,Qr(n,e,t,r),e.child}var O_={dehydrated:null,treeContext:null,retryLane:0};function y_(n){return{baseLanes:n,cachePool:null,transitions:null}}function S5(n,e,t){var r=e.pendingProps,i=Bt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),Tt(Bt,i&1),n===null)return u_(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Nx(o,r,0,null),n=su(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=y_(t),e.memoizedState=O_,n):QE(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return uH(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=jl(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=jl(a,s):(s=su(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?y_(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=O_,r}return s=n.child,n=s.sibling,r=jl(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function QE(n,e){return e=Nx({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function fy(n,e,t,r){return r!==null&&yE(r),Sd(e,n.child,null,t),n=QE(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function uH(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=jS(Error(re(422))),fy(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Nx({mode:"visible",children:r.children},i,0,null),s=su(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Sd(e,n.child,null,o),e.child.memoizedState=y_(o),e.memoizedState=O_,s);if(!(e.mode&1))return fy(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(re(419)),r=jS(s,r,void 0),fy(n,e,o,r)}if(a=(o&n.childLanes)!==0,ei||a){if(r=qn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Sa(n,i),ws(r,n,i,-1))}return ME(),r=jS(Error(re(421))),fy(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=SH.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,Oi=Ql(i.nextSibling),Pi=e,zt=!0,cs=null,n!==null&&(Vi[Li++]=ca,Vi[Li++]=ua,Vi[Li++]=du,ca=n.id,ua=n.overflow,du=e),e=QE(e,r.children),e.flags|=4096,e)}function UI(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),h_(n.return,e,t)}function DS(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function k5(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Qr(n,e,r.children,t),r=Bt.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&UI(n,t,e);else if(n.tag===19)UI(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Tt(Bt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&Uv(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),DS(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&Uv(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}DS(e,!0,t,null,s);break;case"together":DS(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function w0(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function ka(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),pu|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(re(153));if(e.child!==null){for(n=e.child,t=jl(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=jl(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function hH(n,e,t){switch(e.tag){case 3:b5(e),bd();break;case 5:Y4(e);break;case 1:ri(e.type)&&jv(e);break;case 4:kE(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Tt(Vv,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Tt(Bt,Bt.current&1),e.flags|=128,null):t&e.child.childLanes?S5(n,e,t):(Tt(Bt,Bt.current&1),n=ka(n,e,t),n!==null?n.sibling:null);Tt(Bt,Bt.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return k5(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Tt(Bt,Bt.current),r)break;return null;case 22:case 23:return e.lanes=0,w5(n,e,t)}return ka(n,e,t)}var _5,v_,T5,P5;_5=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};v_=function(){};T5=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,Fc(lo.current);var s=null;switch(t){case"input":i=zk(n,i),r=zk(n,r),s=[];break;case"select":i=Xt({},i,{value:void 0}),r=Xt({},r,{value:void 0}),s=[];break;case"textarea":i=qk(n,i),r=qk(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Iv)}Fk(t,r);var o;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(bm.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(bm.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&jt("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};P5=function(n,e,t,r){t!==r&&(e.flags|=4)};function ep(n,e){if(!zt)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function pr(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function dH(n,e,t){var r=e.pendingProps;switch(OE(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pr(e),null;case 1:return ri(e.type)&&Nv(),pr(e),null;case 3:return r=e.stateNode,kd(),Vt(ni),Vt(Sr),TE(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(hy(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,cs!==null&&(P_(cs),cs=null))),v_(n,e),pr(e),null;case 5:_E(e);var i=Fc(Im.current);if(t=e.type,n!==null&&e.stateNode!=null)T5(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(re(166));return pr(e),null}if(n=Fc(lo.current),hy(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[Gs]=e,r[Qm]=s,n=(e.mode&1)!==0,t){case"dialog":jt("cancel",r),jt("close",r);break;case"iframe":case"object":case"embed":jt("load",r);break;case"video":case"audio":for(i=0;i<kp.length;i++)jt(kp[i],r);break;case"source":jt("error",r);break;case"img":case"image":case"link":jt("error",r),jt("load",r);break;case"details":jt("toggle",r);break;case"input":H$(r,s),jt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},jt("invalid",r);break;case"textarea":J$(r,s),jt("invalid",r)}Fk(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&uy(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&uy(r.textContent,a,n),i=["children",""+a]):bm.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&jt("scroll",r)}switch(t){case"input":ny(r),K$(r,s,!0);break;case"textarea":ny(r),eI(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Iv)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=t4(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[Gs]=e,n[Qm]=r,_5(n,e,!1,!1),e.stateNode=n;e:{switch(o=Wk(t,r),t){case"dialog":jt("cancel",n),jt("close",n),i=r;break;case"iframe":case"object":case"embed":jt("load",n),i=r;break;case"video":case"audio":for(i=0;i<kp.length;i++)jt(kp[i],n);i=r;break;case"source":jt("error",n),i=r;break;case"img":case"image":case"link":jt("error",n),jt("load",n),i=r;break;case"details":jt("toggle",n),i=r;break;case"input":H$(n,r),i=zk(n,r),jt("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Xt({},r,{value:void 0}),jt("invalid",n);break;case"textarea":J$(n,r),i=qk(n,r),jt("invalid",n);break;default:i=r}Fk(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?i4(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&n4(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Sm(n,l):typeof l=="number"&&Sm(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(bm.hasOwnProperty(s)?l!=null&&s==="onScroll"&&jt("scroll",n):l!=null&&nE(n,s,l,o))}switch(t){case"input":ny(n),K$(n,r,!1);break;case"textarea":ny(n),eI(n);break;case"option":r.value!=null&&n.setAttribute("value",""+ql(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?jh(n,!!r.multiple,s,!1):r.defaultValue!=null&&jh(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=Iv)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return pr(e),null;case 6:if(n&&e.stateNode!=null)P5(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(re(166));if(t=Fc(Im.current),Fc(lo.current),hy(e)){if(r=e.stateNode,t=e.memoizedProps,r[Gs]=e,(s=r.nodeValue!==t)&&(n=Pi,n!==null))switch(n.tag){case 3:uy(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&uy(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Gs]=e,e.stateNode=r}return pr(e),null;case 13:if(Vt(Bt),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(zt&&Oi!==null&&e.mode&1&&!(e.flags&128))B4(),bd(),e.flags|=98560,s=!1;else if(s=hy(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(re(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(re(317));s[Gs]=e}else bd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;pr(e),s=!1}else cs!==null&&(P_(cs),cs=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||Bt.current&1?An===0&&(An=3):ME())),e.updateQueue!==null&&(e.flags|=4),pr(e),null);case 4:return kd(),v_(n,e),n===null&&Am(e.stateNode.containerInfo),pr(e),null;case 10:return xE(e.type._context),pr(e),null;case 17:return ri(e.type)&&Nv(),pr(e),null;case 19:if(Vt(Bt),s=e.memoizedState,s===null)return pr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ep(s,!1);else{if(An!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Uv(n),o!==null){for(e.flags|=128,ep(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Tt(Bt,Bt.current&1|2),e.child}n=n.sibling}s.tail!==null&&hn()>Td&&(e.flags|=128,r=!0,ep(s,!1),e.lanes=4194304)}else{if(!r)if(n=Uv(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),ep(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!zt)return pr(e),null}else 2*hn()-s.renderingStartTime>Td&&t!==1073741824&&(e.flags|=128,r=!0,ep(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=hn(),e.sibling=null,t=Bt.current,Tt(Bt,r?t&1|2:t&1),e):(pr(e),null);case 22:case 23:return DE(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?fi&1073741824&&(pr(e),e.subtreeFlags&6&&(e.flags|=8192)):pr(e),null;case 24:return null;case 25:return null}throw Error(re(156,e.tag))}function fH(n,e){switch(OE(e),e.tag){case 1:return ri(e.type)&&Nv(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return kd(),Vt(ni),Vt(Sr),TE(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return _E(e),null;case 13:if(Vt(Bt),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(re(340));bd()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Vt(Bt),null;case 4:return kd(),null;case 10:return xE(e.type._context),null;case 22:case 23:return DE(),null;case 24:return null;default:return null}}var py=!1,vr=!1,pH=typeof WeakSet=="function"?WeakSet:Set,ke=null;function kh(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){en(n,e,r)}else t.current=null}function w_(n,e,t){try{t()}catch(r){en(n,e,r)}}var ZI=!1;function mH(n,e){if(r_=Rv,n=Q4(),mE(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=n,d=null;t:for(;;){for(var m;h!==t||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)d=h,h=m;for(;;){if(h===n)break t;if(d===t&&++c===i&&(a=o),d===s&&++u===r&&(l=o),(m=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(i_={focusedElem:n,selectionRange:t},Rv=!1,ke=e;ke!==null;)if(e=ke,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,ke=n;else for(;ke!==null;){e=ke;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,v=g.memoizedState,b=e.stateNode,x=b.getSnapshotBeforeUpdate(e.elementType===e.type?y:os(e.type,y),v);b.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch($){en(e,e.return,$)}if(n=e.sibling,n!==null){n.return=e.return,ke=n;break}ke=e.return}return g=ZI,ZI=!1,g}function nm(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&w_(e,t,s)}i=i.next}while(i!==r)}}function $x(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function x_(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function C5(n){var e=n.alternate;e!==null&&(n.alternate=null,C5(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Gs],delete e[Qm],delete e[a_],delete e[HY],delete e[KY])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function E5(n){return n.tag===5||n.tag===3||n.tag===4}function qI(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||E5(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function b_(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Iv));else if(r!==4&&(n=n.child,n!==null))for(b_(n,e,t),n=n.sibling;n!==null;)b_(n,e,t),n=n.sibling}function S_(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(S_(n,e,t),n=n.sibling;n!==null;)S_(n,e,t),n=n.sibling}var Wn=null,ls=!1;function Fa(n,e,t){for(t=t.child;t!==null;)A5(n,e,t),t=t.sibling}function A5(n,e,t){if(ao&&typeof ao.onCommitFiberUnmount=="function")try{ao.onCommitFiberUnmount(_x,t)}catch{}switch(t.tag){case 5:vr||kh(t,e);case 6:var r=Wn,i=ls;Wn=null,Fa(n,e,t),Wn=r,ls=i,Wn!==null&&(ls?(n=Wn,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Wn.removeChild(t.stateNode));break;case 18:Wn!==null&&(ls?(n=Wn,t=t.stateNode,n.nodeType===8?AS(n.parentNode,t):n.nodeType===1&&AS(n,t),Pm(n)):AS(Wn,t.stateNode));break;case 4:r=Wn,i=ls,Wn=t.stateNode.containerInfo,ls=!0,Fa(n,e,t),Wn=r,ls=i;break;case 0:case 11:case 14:case 15:if(!vr&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&w_(t,e,o),i=i.next}while(i!==r)}Fa(n,e,t);break;case 1:if(!vr&&(kh(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){en(t,e,a)}Fa(n,e,t);break;case 21:Fa(n,e,t);break;case 22:t.mode&1?(vr=(r=vr)||t.memoizedState!==null,Fa(n,e,t),vr=r):Fa(n,e,t);break;default:Fa(n,e,t)}}function BI(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new pH),e.forEach(function(r){var i=kH.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function is(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Wn=a.stateNode,ls=!1;break e;case 3:Wn=a.stateNode.containerInfo,ls=!0;break e;case 4:Wn=a.stateNode.containerInfo,ls=!0;break e}a=a.return}if(Wn===null)throw Error(re(160));A5(s,o,i),Wn=null,ls=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){en(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)R5(e,n),e=e.sibling}function R5(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(is(e,n),Ds(n),r&4){try{nm(3,n,n.return),$x(3,n)}catch(y){en(n,n.return,y)}try{nm(5,n,n.return)}catch(y){en(n,n.return,y)}}break;case 1:is(e,n),Ds(n),r&512&&t!==null&&kh(t,t.return);break;case 5:if(is(e,n),Ds(n),r&512&&t!==null&&kh(t,t.return),n.flags&32){var i=n.stateNode;try{Sm(i,"")}catch(y){en(n,n.return,y)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&JL(i,s),Wk(a,o);var c=Wk(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?i4(i,h):u==="dangerouslySetInnerHTML"?n4(i,h):u==="children"?Sm(i,h):nE(i,u,h,c)}switch(a){case"input":Uk(i,s);break;case"textarea":e4(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?jh(i,!!s.multiple,m,!1):d!==!!s.multiple&&(s.defaultValue!=null?jh(i,!!s.multiple,s.defaultValue,!0):jh(i,!!s.multiple,s.multiple?[]:"",!1))}i[Qm]=s}catch(y){en(n,n.return,y)}}break;case 6:if(is(e,n),Ds(n),r&4){if(n.stateNode===null)throw Error(re(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(y){en(n,n.return,y)}}break;case 3:if(is(e,n),Ds(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{Pm(e.containerInfo)}catch(y){en(n,n.return,y)}break;case 4:is(e,n),Ds(n);break;case 13:is(e,n),Ds(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(NE=hn())),r&4&&BI(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(vr=(c=vr)||u,is(e,n),vr=c):is(e,n),Ds(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(ke=n,u=n.child;u!==null;){for(h=ke=u;ke!==null;){switch(d=ke,m=d.child,d.tag){case 0:case 11:case 14:case 15:nm(4,d,d.return);break;case 1:kh(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){r=d,t=d.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){en(r,t,y)}}break;case 5:kh(d,d.return);break;case 22:if(d.memoizedState!==null){WI(h);continue}}m!==null?(m.return=d,ke=m):WI(h)}u=u.sibling}e:for(u=null,h=n;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=r4("display",o))}catch(y){en(n,n.return,y)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){en(n,n.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:is(e,n),Ds(n),r&4&&BI(n);break;case 21:break;default:is(e,n),Ds(n)}}function Ds(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(E5(t)){var r=t;break e}t=t.return}throw Error(re(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Sm(i,""),r.flags&=-33);var s=qI(n);S_(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=qI(n);b_(n,a,o);break;default:throw Error(re(161))}}catch(l){en(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function gH(n,e,t){ke=n,Q5(n)}function Q5(n,e,t){for(var r=(n.mode&1)!==0;ke!==null;){var i=ke,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||py;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||vr;a=py;var c=vr;if(py=o,(vr=l)&&!c)for(ke=i;ke!==null;)o=ke,l=o.child,o.tag===22&&o.memoizedState!==null?XI(i):l!==null?(l.return=o,ke=l):XI(i);for(;s!==null;)ke=s,Q5(s),s=s.sibling;ke=i,py=a,vr=c}FI(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ke=s):FI(n)}}function FI(n){for(;ke!==null;){var e=ke;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:vr||$x(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!vr)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:os(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&AI(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}AI(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Pm(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}vr||e.flags&512&&x_(e)}catch(d){en(e,e.return,d)}}if(e===n){ke=null;break}if(t=e.sibling,t!==null){t.return=e.return,ke=t;break}ke=e.return}}function WI(n){for(;ke!==null;){var e=ke;if(e===n){ke=null;break}var t=e.sibling;if(t!==null){t.return=e.return,ke=t;break}ke=e.return}}function XI(n){for(;ke!==null;){var e=ke;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{$x(4,e)}catch(l){en(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){en(e,i,l)}}var s=e.return;try{x_(e)}catch(l){en(e,s,l)}break;case 5:var o=e.return;try{x_(e)}catch(l){en(e,o,l)}}}catch(l){en(e,e.return,l)}if(e===n){ke=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ke=a;break}ke=e.return}}var OH=Math.ceil,Bv=Da.ReactCurrentDispatcher,$E=Da.ReactCurrentOwner,Fi=Da.ReactCurrentBatchConfig,dt=0,qn=null,vn=null,ar=0,fi=0,_h=vc(0),An=0,Mm=null,pu=0,Ix=0,IE=0,rm=null,Gr=null,NE=0,Td=1/0,ra=null,Fv=!1,k_=null,Il=null,my=!1,Sl=null,Wv=0,im=0,__=null,x0=-1,b0=0;function Ir(){return dt&6?hn():x0!==-1?x0:x0=hn()}function Nl(n){return n.mode&1?dt&2&&ar!==0?ar&-ar:eH.transition!==null?(b0===0&&(b0=g4()),b0):(n=vt,n!==0||(n=window.event,n=n===void 0?16:S4(n.type)),n):1}function ws(n,e,t,r){if(50<im)throw im=0,__=null,Error(re(185));iO(n,t,r),(!(dt&2)||n!==qn)&&(n===qn&&(!(dt&2)&&(Ix|=t),An===4&&il(n,ar)),ii(n,r),t===1&&dt===0&&!(e.mode&1)&&(Td=hn()+500,Ax&&wc()))}function ii(n,e){var t=n.callbackNode;eY(n,e);var r=Av(n,n===qn?ar:0);if(r===0)t!==null&&rI(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&rI(t),e===1)n.tag===0?JY(GI.bind(null,n)):U4(GI.bind(null,n)),GY(function(){!(dt&6)&&wc()}),t=null;else{switch(O4(r)){case 1:t=aE;break;case 4:t=p4;break;case 16:t=Ev;break;case 536870912:t=m4;break;default:t=Ev}t=L5(t,$5.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function $5(n,e){if(x0=-1,b0=0,dt&6)throw Error(re(327));var t=n.callbackNode;if(zh()&&n.callbackNode!==t)return null;var r=Av(n,n===qn?ar:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=Xv(n,r);else{e=r;var i=dt;dt|=2;var s=N5();(qn!==n||ar!==e)&&(ra=null,Td=hn()+500,iu(n,e));do try{wH();break}catch(a){I5(n,a)}while(!0);wE(),Bv.current=s,dt=i,vn!==null?e=0:(qn=null,ar=0,e=An)}if(e!==0){if(e===2&&(i=Kk(n),i!==0&&(r=i,e=T_(n,i))),e===1)throw t=Mm,iu(n,0),il(n,r),ii(n,hn()),t;if(e===6)il(n,r);else{if(i=n.current.alternate,!(r&30)&&!yH(i)&&(e=Xv(n,r),e===2&&(s=Kk(n),s!==0&&(r=s,e=T_(n,s))),e===1))throw t=Mm,iu(n,0),il(n,r),ii(n,hn()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(re(345));case 2:Vc(n,Gr,ra);break;case 3:if(il(n,r),(r&130023424)===r&&(e=NE+500-hn(),10<e)){if(Av(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){Ir(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=o_(Vc.bind(null,n,Gr,ra),e);break}Vc(n,Gr,ra);break;case 4:if(il(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-vs(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=hn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*OH(r/1960))-r,10<r){n.timeoutHandle=o_(Vc.bind(null,n,Gr,ra),r);break}Vc(n,Gr,ra);break;case 5:Vc(n,Gr,ra);break;default:throw Error(re(329))}}}return ii(n,hn()),n.callbackNode===t?$5.bind(null,n):null}function T_(n,e){var t=rm;return n.current.memoizedState.isDehydrated&&(iu(n,e).flags|=256),n=Xv(n,e),n!==2&&(e=Gr,Gr=t,e!==null&&P_(e)),n}function P_(n){Gr===null?Gr=n:Gr.push.apply(Gr,n)}function yH(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!Ss(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function il(n,e){for(e&=~IE,e&=~Ix,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-vs(e),r=1<<t;n[t]=-1,e&=~r}}function GI(n){if(dt&6)throw Error(re(327));zh();var e=Av(n,0);if(!(e&1))return ii(n,hn()),null;var t=Xv(n,e);if(n.tag!==0&&t===2){var r=Kk(n);r!==0&&(e=r,t=T_(n,r))}if(t===1)throw t=Mm,iu(n,0),il(n,e),ii(n,hn()),t;if(t===6)throw Error(re(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Vc(n,Gr,ra),ii(n,hn()),null}function jE(n,e){var t=dt;dt|=1;try{return n(e)}finally{dt=t,dt===0&&(Td=hn()+500,Ax&&wc())}}function mu(n){Sl!==null&&Sl.tag===0&&!(dt&6)&&zh();var e=dt;dt|=1;var t=Fi.transition,r=vt;try{if(Fi.transition=null,vt=1,n)return n()}finally{vt=r,Fi.transition=t,dt=e,!(dt&6)&&wc()}}function DE(){fi=_h.current,Vt(_h)}function iu(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,XY(t)),vn!==null)for(t=vn.return;t!==null;){var r=t;switch(OE(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Nv();break;case 3:kd(),Vt(ni),Vt(Sr),TE();break;case 5:_E(r);break;case 4:kd();break;case 13:Vt(Bt);break;case 19:Vt(Bt);break;case 10:xE(r.type._context);break;case 22:case 23:DE()}t=t.return}if(qn=n,vn=n=jl(n.current,null),ar=fi=e,An=0,Mm=null,IE=Ix=pu=0,Gr=rm=null,Bc!==null){for(e=0;e<Bc.length;e++)if(t=Bc[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}Bc=null}return n}function I5(n,e){do{var t=vn;try{if(wE(),y0.current=qv,Zv){for(var r=Ft.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Zv=!1}if(fu=0,jn=_n=Ft=null,tm=!1,Nm=0,$E.current=null,t===null||t.return===null){An=1,Mm=e,vn=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=ar,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=jI(o);if(m!==null){m.flags&=-257,DI(m,o,a,s,e),m.mode&1&&NI(s,c,e),e=m,l=c;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){NI(s,c,e),ME();break e}l=Error(re(426))}}else if(zt&&a.mode&1){var v=jI(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),DI(v,o,a,s,e),yE(_d(l,a));break e}}s=l=_d(l,a),An!==4&&(An=2),rm===null?rm=[s]:rm.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=O5(s,l,e);EI(s,b);break e;case 1:a=l;var x=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Il===null||!Il.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var $=y5(s,a,e);EI(s,$);break e}}s=s.return}while(s!==null)}D5(t)}catch(P){e=P,vn===t&&t!==null&&(vn=t=t.return);continue}break}while(!0)}function N5(){var n=Bv.current;return Bv.current=qv,n===null?qv:n}function ME(){(An===0||An===3||An===2)&&(An=4),qn===null||!(pu&268435455)&&!(Ix&268435455)||il(qn,ar)}function Xv(n,e){var t=dt;dt|=2;var r=N5();(qn!==n||ar!==e)&&(ra=null,iu(n,e));do try{vH();break}catch(i){I5(n,i)}while(!0);if(wE(),dt=t,Bv.current=r,vn!==null)throw Error(re(261));return qn=null,ar=0,An}function vH(){for(;vn!==null;)j5(vn)}function wH(){for(;vn!==null&&!BG();)j5(vn)}function j5(n){var e=V5(n.alternate,n,fi);n.memoizedProps=n.pendingProps,e===null?D5(n):vn=e,$E.current=null}function D5(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=fH(t,e),t!==null){t.flags&=32767,vn=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{An=6,vn=null;return}}else if(t=dH(t,e,fi),t!==null){vn=t;return}if(e=e.sibling,e!==null){vn=e;return}vn=e=n}while(e!==null);An===0&&(An=5)}function Vc(n,e,t){var r=vt,i=Fi.transition;try{Fi.transition=null,vt=1,xH(n,e,t,r)}finally{Fi.transition=i,vt=r}return null}function xH(n,e,t,r){do zh();while(Sl!==null);if(dt&6)throw Error(re(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(re(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(tY(n,s),n===qn&&(vn=qn=null,ar=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||my||(my=!0,L5(Ev,function(){return zh(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Fi.transition,Fi.transition=null;var o=vt;vt=1;var a=dt;dt|=4,$E.current=null,mH(n,t),R5(t,n),zY(i_),Rv=!!r_,i_=r_=null,n.current=t,gH(t),FG(),dt=a,vt=o,Fi.transition=s}else n.current=t;if(my&&(my=!1,Sl=n,Wv=i),s=n.pendingLanes,s===0&&(Il=null),GG(t.stateNode),ii(n,hn()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(Fv)throw Fv=!1,n=k_,k_=null,n;return Wv&1&&n.tag!==0&&zh(),s=n.pendingLanes,s&1?n===__?im++:(im=0,__=n):im=0,wc(),null}function zh(){if(Sl!==null){var n=O4(Wv),e=Fi.transition,t=vt;try{if(Fi.transition=null,vt=16>n?16:n,Sl===null)var r=!1;else{if(n=Sl,Sl=null,Wv=0,dt&6)throw Error(re(331));var i=dt;for(dt|=4,ke=n.current;ke!==null;){var s=ke,o=s.child;if(ke.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ke=c;ke!==null;){var u=ke;switch(u.tag){case 0:case 11:case 15:nm(8,u,s)}var h=u.child;if(h!==null)h.return=u,ke=h;else for(;ke!==null;){u=ke;var d=u.sibling,m=u.return;if(C5(u),u===c){ke=null;break}if(d!==null){d.return=m,ke=d;break}ke=m}}}var g=s.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}ke=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ke=o;else e:for(;ke!==null;){if(s=ke,s.flags&2048)switch(s.tag){case 0:case 11:case 15:nm(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,ke=b;break e}ke=s.return}}var x=n.current;for(ke=x;ke!==null;){o=ke;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,ke=S;else e:for(o=x;ke!==null;){if(a=ke,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:$x(9,a)}}catch(P){en(a,a.return,P)}if(a===o){ke=null;break e}var $=a.sibling;if($!==null){$.return=a.return,ke=$;break e}ke=a.return}}if(dt=i,wc(),ao&&typeof ao.onPostCommitFiberRoot=="function")try{ao.onPostCommitFiberRoot(_x,n)}catch{}r=!0}return r}finally{vt=t,Fi.transition=e}}return!1}function YI(n,e,t){e=_d(t,e),e=O5(n,e,1),n=$l(n,e,1),e=Ir(),n!==null&&(iO(n,1,e),ii(n,e))}function en(n,e,t){if(n.tag===3)YI(n,n,t);else for(;e!==null;){if(e.tag===3){YI(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Il===null||!Il.has(r))){n=_d(t,n),n=y5(e,n,1),e=$l(e,n,1),n=Ir(),e!==null&&(iO(e,1,n),ii(e,n));break}}e=e.return}}function bH(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Ir(),n.pingedLanes|=n.suspendedLanes&t,qn===n&&(ar&t)===t&&(An===4||An===3&&(ar&130023424)===ar&&500>hn()-NE?iu(n,0):IE|=t),ii(n,e)}function M5(n,e){e===0&&(n.mode&1?(e=sy,sy<<=1,!(sy&130023424)&&(sy=4194304)):e=1);var t=Ir();n=Sa(n,e),n!==null&&(iO(n,e,t),ii(n,t))}function SH(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),M5(n,t)}function kH(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(re(314))}r!==null&&r.delete(e),M5(n,t)}var V5;V5=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||ni.current)ei=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return ei=!1,hH(n,e,t);ei=!!(n.flags&131072)}else ei=!1,zt&&e.flags&1048576&&Z4(e,Mv,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;w0(n,e),n=e.pendingProps;var i=xd(e,Sr.current);Lh(e,t),i=CE(null,e,r,n,i,t);var s=EE();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ri(r)?(s=!0,jv(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,SE(e),i.updater=Qx,e.stateNode=i,i._reactInternals=e,f_(e,r,n,t),e=g_(null,e,r,!0,s,t)):(e.tag=0,zt&&s&&gE(e),Qr(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(w0(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=TH(r),n=os(r,n),i){case 0:e=m_(null,e,r,n,t);break e;case 1:e=LI(null,e,r,n,t);break e;case 11:e=MI(null,e,r,n,t);break e;case 14:e=VI(null,e,r,os(r.type,n),t);break e}throw Error(re(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:os(r,i),m_(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:os(r,i),LI(n,e,r,i,t);case 3:e:{if(b5(e),n===null)throw Error(re(387));r=e.pendingProps,s=e.memoizedState,i=s.element,G4(n,e),zv(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=_d(Error(re(423)),e),e=zI(n,e,r,t,i);break e}else if(r!==i){i=_d(Error(re(424)),e),e=zI(n,e,r,t,i);break e}else for(Oi=Ql(e.stateNode.containerInfo.firstChild),Pi=e,zt=!0,cs=null,t=W4(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(bd(),r===i){e=ka(n,e,t);break e}Qr(n,e,r,t)}e=e.child}return e;case 5:return Y4(e),n===null&&u_(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,s_(r,i)?o=null:s!==null&&s_(r,s)&&(e.flags|=32),x5(n,e),Qr(n,e,o,t),e.child;case 6:return n===null&&u_(e),null;case 13:return S5(n,e,t);case 4:return kE(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Sd(e,null,r,t):Qr(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:os(r,i),MI(n,e,r,i,t);case 7:return Qr(n,e,e.pendingProps,t),e.child;case 8:return Qr(n,e,e.pendingProps.children,t),e.child;case 12:return Qr(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Tt(Vv,r._currentValue),r._currentValue=o,s!==null)if(Ss(s.value,o)){if(s.children===i.children&&!ni.current){e=ka(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ga(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),h_(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(re(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),h_(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Qr(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Lh(e,t),i=Yi(i),r=r(i),e.flags|=1,Qr(n,e,r,t),e.child;case 14:return r=e.type,i=os(r,e.pendingProps),i=os(r.type,i),VI(n,e,r,i,t);case 15:return v5(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:os(r,i),w0(n,e),e.tag=1,ri(r)?(n=!0,jv(e)):n=!1,Lh(e,t),g5(e,r,i),f_(e,r,i,t),g_(null,e,r,!0,n,t);case 19:return k5(n,e,t);case 22:return w5(n,e,t)}throw Error(re(156,e.tag))};function L5(n,e){return f4(n,e)}function _H(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zi(n,e,t,r){return new _H(n,e,t,r)}function VE(n){return n=n.prototype,!(!n||!n.isReactComponent)}function TH(n){if(typeof n=="function")return VE(n)?1:0;if(n!=null){if(n=n.$$typeof,n===iE)return 11;if(n===sE)return 14}return 2}function jl(n,e){var t=n.alternate;return t===null?(t=Zi(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function S0(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")VE(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case mh:return su(t.children,i,s,e);case rE:o=8,i|=8;break;case Dk:return n=Zi(12,t,e,i|2),n.elementType=Dk,n.lanes=s,n;case Mk:return n=Zi(13,t,e,i),n.elementType=Mk,n.lanes=s,n;case Vk:return n=Zi(19,t,e,i),n.elementType=Vk,n.lanes=s,n;case YL:return Nx(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case XL:o=10;break e;case GL:o=9;break e;case iE:o=11;break e;case sE:o=14;break e;case Ja:o=16,r=null;break e}throw Error(re(130,n==null?n:typeof n,""))}return e=Zi(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function su(n,e,t,r){return n=Zi(7,n,r,e),n.lanes=t,n}function Nx(n,e,t,r){return n=Zi(22,n,r,e),n.elementType=YL,n.lanes=t,n.stateNode={isHidden:!1},n}function MS(n,e,t){return n=Zi(6,n,null,e),n.lanes=t,n}function VS(n,e,t){return e=Zi(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function PH(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vS(0),this.expirationTimes=vS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vS(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function LE(n,e,t,r,i,s,o,a,l){return n=new PH(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Zi(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},SE(s),n}function CH(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ph,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function z5(n){if(!n)return Bl;n=n._reactInternals;e:{if(Du(n)!==n||n.tag!==1)throw Error(re(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ri(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(re(171))}if(n.tag===1){var t=n.type;if(ri(t))return z4(n,t,e)}return e}function U5(n,e,t,r,i,s,o,a,l){return n=LE(t,r,!0,n,i,s,o,a,l),n.context=z5(null),t=n.current,r=Ir(),i=Nl(t),s=ga(r,i),s.callback=e??null,$l(t,s,i),n.current.lanes=i,iO(n,i,r),ii(n,r),n}function jx(n,e,t,r){var i=e.current,s=Ir(),o=Nl(i);return t=z5(t),e.context===null?e.context=t:e.pendingContext=t,e=ga(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=$l(i,e,o),n!==null&&(ws(n,i,o,s),O0(n,i,o)),o}function Gv(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function HI(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function zE(n,e){HI(n,e),(n=n.alternate)&&HI(n,e)}function EH(){return null}var Z5=typeof reportError=="function"?reportError:function(n){console.error(n)};function UE(n){this._internalRoot=n}Dx.prototype.render=UE.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(re(409));jx(n,e,null,null)};Dx.prototype.unmount=UE.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;mu(function(){jx(null,n,null,null)}),e[ba]=null}};function Dx(n){this._internalRoot=n}Dx.prototype.unstable_scheduleHydration=function(n){if(n){var e=w4();n={blockedOn:null,target:n,priority:e};for(var t=0;t<rl.length&&e!==0&&e<rl[t].priority;t++);rl.splice(t,0,n),t===0&&b4(n)}};function ZE(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Mx(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function KI(){}function AH(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Gv(o);s.call(c)}}var o=U5(e,r,n,0,null,!1,!1,"",KI);return n._reactRootContainer=o,n[ba]=o.current,Am(n.nodeType===8?n.parentNode:n),mu(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Gv(l);a.call(c)}}var l=LE(n,0,!1,null,null,!1,!1,"",KI);return n._reactRootContainer=l,n[ba]=l.current,Am(n.nodeType===8?n.parentNode:n),mu(function(){jx(e,l,t,r)}),l}function Vx(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Gv(o);a.call(l)}}jx(e,o,n,i)}else o=AH(t,e,n,i,r);return Gv(o)}y4=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Sp(e.pendingLanes);t!==0&&(lE(e,t|1),ii(e,hn()),!(dt&6)&&(Td=hn()+500,wc()))}break;case 13:mu(function(){var r=Sa(n,1);if(r!==null){var i=Ir();ws(r,n,1,i)}}),zE(n,1)}};cE=function(n){if(n.tag===13){var e=Sa(n,134217728);if(e!==null){var t=Ir();ws(e,n,134217728,t)}zE(n,134217728)}};v4=function(n){if(n.tag===13){var e=Nl(n),t=Sa(n,e);if(t!==null){var r=Ir();ws(t,n,e,r)}zE(n,e)}};w4=function(){return vt};x4=function(n,e){var t=vt;try{return vt=n,e()}finally{vt=t}};Gk=function(n,e,t){switch(e){case"input":if(Uk(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=Ex(r);if(!i)throw Error(re(90));KL(r),Uk(r,i)}}}break;case"textarea":e4(n,t);break;case"select":e=t.value,e!=null&&jh(n,!!t.multiple,e,!1)}};a4=jE;l4=mu;var RH={usingClientEntryPoint:!1,Events:[oO,vh,Ex,s4,o4,jE]},tp={findFiberByHostInstance:qc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},QH={bundleType:tp.bundleType,version:tp.version,rendererPackageName:tp.rendererPackageName,rendererConfig:tp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Da.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=h4(n),n===null?null:n.stateNode},findFiberByHostInstance:tp.findFiberByHostInstance||EH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gy.isDisabled&&gy.supportsFiber)try{_x=gy.inject(QH),ao=gy}catch{}}Qi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RH;Qi.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ZE(e))throw Error(re(200));return CH(n,e,null,t)};Qi.createRoot=function(n,e){if(!ZE(n))throw Error(re(299));var t=!1,r="",i=Z5;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=LE(n,1,!1,null,null,t,!1,r,i),n[ba]=e.current,Am(n.nodeType===8?n.parentNode:n),new UE(e)};Qi.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(re(188)):(n=Object.keys(n).join(","),Error(re(268,n)));return n=h4(e),n=n===null?null:n.stateNode,n};Qi.flushSync=function(n){return mu(n)};Qi.hydrate=function(n,e,t){if(!Mx(e))throw Error(re(200));return Vx(null,n,e,!0,t)};Qi.hydrateRoot=function(n,e,t){if(!ZE(n))throw Error(re(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=Z5;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=U5(e,null,n,1,t??null,i,!1,s,o),n[ba]=e.current,Am(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new Dx(e)};Qi.render=function(n,e,t){if(!Mx(e))throw Error(re(200));return Vx(null,n,e,!1,t)};Qi.unmountComponentAtNode=function(n){if(!Mx(n))throw Error(re(40));return n._reactRootContainer?(mu(function(){Vx(null,null,n,!1,function(){n._reactRootContainer=null,n[ba]=null})}),!0):!1};Qi.unstable_batchedUpdates=jE;Qi.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!Mx(t))throw Error(re(200));if(n==null||n._reactInternals===void 0)throw Error(re(38));return Vx(n,e,t,!1,r)};Qi.version="18.3.1-next-f1338f8080-20240426";function q5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(q5)}catch(n){console.error(n)}}q5(),qL.exports=Qi;var Mu=qL.exports;const $H=RL(Mu);var B5,JI=Mu;B5=JI.createRoot,JI.hydrateRoot;var pf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},gu=typeof window>"u"||"Deno"in globalThis;function Di(){}function IH(n,e){return typeof n=="function"?n(e):n}function C_(n){return typeof n=="number"&&n>=0&&n!==1/0}function F5(n,e){return Math.max(n+(e||0)-Date.now(),0)}function Uh(n,e){return typeof n=="function"?n(e):n}function us(n,e){return typeof n=="function"?n(e):n}function e2(n,e){const{type:t="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=n;if(o){if(r){if(e.queryHash!==qE(o,e.options))return!1}else if(!Vm(e.queryKey,o))return!1}if(t!=="all"){const l=e.isActive();if(t==="active"&&!l||t==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function t2(n,e){const{exact:t,status:r,predicate:i,mutationKey:s}=n;if(s){if(!e.options.mutationKey)return!1;if(t){if(Ou(e.options.mutationKey)!==Ou(s))return!1}else if(!Vm(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function qE(n,e){return((e==null?void 0:e.queryKeyHashFn)||Ou)(n)}function Ou(n){return JSON.stringify(n,(e,t)=>E_(t)?Object.keys(t).sort().reduce((r,i)=>(r[i]=t[i],r),{}):t)}function Vm(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?!Object.keys(e).some(t=>!Vm(n[t],e[t])):!1}function W5(n,e){if(n===e)return n;const t=n2(n)&&n2(e);if(t||E_(n)&&E_(e)){const r=t?n:Object.keys(n),i=r.length,s=t?e:Object.keys(e),o=s.length,a=t?[]:{};let l=0;for(let c=0;c<o;c++){const u=t?c:s[c];(!t&&r.includes(u)||t)&&n[u]===void 0&&e[u]===void 0?(a[u]=void 0,l++):(a[u]=W5(n[u],e[u]),a[u]===n[u]&&n[u]!==void 0&&l++)}return i===o&&l===i?n:a}return e}function Yv(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function n2(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function E_(n){if(!r2(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!r2(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function r2(n){return Object.prototype.toString.call(n)==="[object Object]"}function NH(n){return new Promise(e=>{setTimeout(e,n)})}function A_(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?W5(n,e):e}function jH(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function DH(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var BE=Symbol();function X5(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===BE?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var Hc,fl,ad,xL,MH=(xL=class extends pf{constructor(){super();Ie(this,Hc);Ie(this,fl);Ie(this,ad);ve(this,ad,e=>{if(!gu&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){z(this,fl)||this.setEventListener(z(this,ad))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,fl))==null||e.call(this),ve(this,fl,void 0))}setEventListener(e){var t;ve(this,ad,e),(t=z(this,fl))==null||t.call(this),ve(this,fl,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){z(this,Hc)!==e&&(ve(this,Hc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof z(this,Hc)=="boolean"?z(this,Hc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Hc=new WeakMap,fl=new WeakMap,ad=new WeakMap,xL),FE=new MH,ld,pl,cd,bL,VH=(bL=class extends pf{constructor(){super();Ie(this,ld,!0);Ie(this,pl);Ie(this,cd);ve(this,cd,e=>{if(!gu&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){z(this,pl)||this.setEventListener(z(this,cd))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,pl))==null||e.call(this),ve(this,pl,void 0))}setEventListener(e){var t;ve(this,cd,e),(t=z(this,pl))==null||t.call(this),ve(this,pl,e(this.setOnline.bind(this)))}setOnline(e){z(this,ld)!==e&&(ve(this,ld,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return z(this,ld)}},ld=new WeakMap,pl=new WeakMap,cd=new WeakMap,bL),Hv=new VH;function R_(){let n,e;const t=new Promise((i,s)=>{n=i,e=s});t.status="pending",t.catch(()=>{});function r(i){Object.assign(t,i),delete t.resolve,delete t.reject}return t.resolve=i=>{r({status:"fulfilled",value:i}),n(i)},t.reject=i=>{r({status:"rejected",reason:i}),e(i)},t}function LH(n){return Math.min(1e3*2**n,3e4)}function G5(n){return(n??"online")==="online"?Hv.isOnline():!0}var Y5=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function LS(n){return n instanceof Y5}function H5(n){let e=!1,t=0,r=!1,i;const s=R_(),o=y=>{var v;r||(d(new Y5(y)),(v=n.abort)==null||v.call(n))},a=()=>{e=!0},l=()=>{e=!1},c=()=>FE.isFocused()&&(n.networkMode==="always"||Hv.isOnline())&&n.canRun(),u=()=>G5(n.networkMode)&&n.canRun(),h=y=>{var v;r||(r=!0,(v=n.onSuccess)==null||v.call(n,y),i==null||i(),s.resolve(y))},d=y=>{var v;r||(r=!0,(v=n.onError)==null||v.call(n,y),i==null||i(),s.reject(y))},m=()=>new Promise(y=>{var v;i=b=>{(r||c())&&y(b)},(v=n.onPause)==null||v.call(n)}).then(()=>{var y;i=void 0,r||(y=n.onContinue)==null||y.call(n)}),g=()=>{if(r)return;let y;const v=t===0?n.initialPromise:void 0;try{y=v??n.fn()}catch(b){y=Promise.reject(b)}Promise.resolve(y).then(h).catch(b=>{var Q;if(r)return;const x=n.retry??(gu?0:3),S=n.retryDelay??LH,$=typeof S=="function"?S(t,b):S,P=x===!0||typeof x=="number"&&t<x||typeof x=="function"&&x(t,b);if(e||!P){d(b);return}t++,(Q=n.onFail)==null||Q.call(n,t,b),NH($).then(()=>c()?void 0:m()).then(()=>{e?d(b):g()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?g():m().then(g),s)}}function zH(){let n=[],e=0,t=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const s=a=>{e?n.push(a):i(()=>{t(a)})},o=()=>{const a=n;n=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{t(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{t=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Cn=zH(),Kc,SL,K5=(SL=class{constructor(){Ie(this,Kc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),C_(this.gcTime)&&ve(this,Kc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(gu?1/0:5*60*1e3))}clearGcTimeout(){z(this,Kc)&&(clearTimeout(z(this,Kc)),ve(this,Kc,void 0))}},Kc=new WeakMap,SL),ud,hd,ji,gr,Jg,Jc,as,Ho,kL,UH=(kL=class extends K5{constructor(t){super();Ie(this,as);Ie(this,ud);Ie(this,hd);Ie(this,ji);Ie(this,gr);Ie(this,Jg);Ie(this,Jc);ve(this,Jc,!1),ve(this,Jg,t.defaultOptions),this.setOptions(t.options),this.observers=[],ve(this,ji,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ve(this,ud,ZH(this.options)),this.state=t.state??z(this,ud),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=z(this,gr))==null?void 0:t.promise}setOptions(t){this.options={...z(this,Jg),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,ji).remove(this)}setData(t,r){const i=A_(this.state.data,t,this.options);return Xe(this,as,Ho).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(t,r){Xe(this,as,Ho).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var i,s;const r=(i=z(this,gr))==null?void 0:i.promise;return(s=z(this,gr))==null||s.cancel(t),r?r.then(Di).catch(Di):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,ud))}isActive(){return this.observers.some(t=>us(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===BE||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!F5(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(i=>i.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=z(this,gr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(i=>i.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=z(this,gr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),z(this,ji).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(z(this,gr)&&(z(this,Jc)?z(this,gr).cancel({revert:!0}):z(this,gr).cancelRetry()),this.scheduleGc()),z(this,ji).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Xe(this,as,Ho).call(this,{type:"invalidate"})}fetch(t,r){var c,u,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(z(this,gr))return z(this,gr).continueRetry(),z(this,gr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const d=this.observers.find(m=>m.options.queryFn);d&&this.setOptions(d.options)}const i=new AbortController,s=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(ve(this,Jc,!0),i.signal)})},o=()=>{const d=X5(this.options,r),m={queryKey:this.queryKey,meta:this.meta};return s(m),ve(this,Jc,!1),this.options.persister?this.options.persister(d,m,this):d(m)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(a),(c=this.options.behavior)==null||c.onFetch(a,this),ve(this,hd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&Xe(this,as,Ho).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta});const l=d=>{var m,g,y,v;LS(d)&&d.silent||Xe(this,as,Ho).call(this,{type:"error",error:d}),LS(d)||((g=(m=z(this,ji).config).onError)==null||g.call(m,d,this),(v=(y=z(this,ji).config).onSettled)==null||v.call(y,this.state.data,d,this)),this.scheduleGc()};return ve(this,gr,H5({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:d=>{var m,g,y,v;if(d===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(b){l(b);return}(g=(m=z(this,ji).config).onSuccess)==null||g.call(m,d,this),(v=(y=z(this,ji).config).onSettled)==null||v.call(y,d,this.state.error,this),this.scheduleGc()},onError:l,onFail:(d,m)=>{Xe(this,as,Ho).call(this,{type:"failed",failureCount:d,error:m})},onPause:()=>{Xe(this,as,Ho).call(this,{type:"pause"})},onContinue:()=>{Xe(this,as,Ho).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),z(this,gr).start()}},ud=new WeakMap,hd=new WeakMap,ji=new WeakMap,gr=new WeakMap,Jg=new WeakMap,Jc=new WeakMap,as=new WeakSet,Ho=function(t){const r=i=>{switch(t.type){case"failed":return{...i,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...J5(i.data,this.options),fetchMeta:t.meta??null};case"success":return{...i,data:t.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return LS(s)&&s.revert&&z(this,hd)?{...z(this,hd),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...t.state}}};this.state=r(this.state),Cn.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),z(this,ji).notify({query:this,type:"updated",action:t})})},kL);function J5(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:G5(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function ZH(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var Bs,_L,qH=(_L=class extends pf{constructor(e={}){super();Ie(this,Bs);this.config=e,ve(this,Bs,new Map)}build(e,t,r){const i=t.queryKey,s=t.queryHash??qE(i,t);let o=this.get(s);return o||(o=new UH({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){z(this,Bs).has(e.queryHash)||(z(this,Bs).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=z(this,Bs).get(e.queryHash);t&&(e.destroy(),t===e&&z(this,Bs).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Cn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return z(this,Bs).get(e)}getAll(){return[...z(this,Bs).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>e2(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>e2(e,r)):t}notify(e){Cn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Cn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Cn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Bs=new WeakMap,_L),Fs,Ar,eu,Ws,Ha,TL,BH=(TL=class extends K5{constructor(t){super();Ie(this,Ws);Ie(this,Fs);Ie(this,Ar);Ie(this,eu);this.mutationId=t.mutationId,ve(this,Ar,t.mutationCache),ve(this,Fs,[]),this.state=t.state||ez(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){z(this,Fs).includes(t)||(z(this,Fs).push(t),this.clearGcTimeout(),z(this,Ar).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ve(this,Fs,z(this,Fs).filter(r=>r!==t)),this.scheduleGc(),z(this,Ar).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){z(this,Fs).length||(this.state.status==="pending"?this.scheduleGc():z(this,Ar).remove(this))}continue(){var t;return((t=z(this,eu))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,o,a,l,c,u,h,d,m,g,y,v,b,x,S,$,P,Q,O,_;ve(this,eu,H5({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(k,A)=>{Xe(this,Ws,Ha).call(this,{type:"failed",failureCount:k,error:A})},onPause:()=>{Xe(this,Ws,Ha).call(this,{type:"pause"})},onContinue:()=>{Xe(this,Ws,Ha).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,Ar).canRun(this)}));const r=this.state.status==="pending",i=!z(this,eu).canStart();try{if(!r){Xe(this,Ws,Ha).call(this,{type:"pending",variables:t,isPaused:i}),await((o=(s=z(this,Ar).config).onMutate)==null?void 0:o.call(s,t,this));const A=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,t));A!==this.state.context&&Xe(this,Ws,Ha).call(this,{type:"pending",context:A,variables:t,isPaused:i})}const k=await z(this,eu).start();return await((u=(c=z(this,Ar).config).onSuccess)==null?void 0:u.call(c,k,t,this.state.context,this)),await((d=(h=this.options).onSuccess)==null?void 0:d.call(h,k,t,this.state.context)),await((g=(m=z(this,Ar).config).onSettled)==null?void 0:g.call(m,k,null,this.state.variables,this.state.context,this)),await((v=(y=this.options).onSettled)==null?void 0:v.call(y,k,null,t,this.state.context)),Xe(this,Ws,Ha).call(this,{type:"success",data:k}),k}catch(k){try{throw await((x=(b=z(this,Ar).config).onError)==null?void 0:x.call(b,k,t,this.state.context,this)),await(($=(S=this.options).onError)==null?void 0:$.call(S,k,t,this.state.context)),await((Q=(P=z(this,Ar).config).onSettled)==null?void 0:Q.call(P,void 0,k,this.state.variables,this.state.context,this)),await((_=(O=this.options).onSettled)==null?void 0:_.call(O,void 0,k,t,this.state.context)),k}finally{Xe(this,Ws,Ha).call(this,{type:"error",error:k})}}finally{z(this,Ar).runNext(this)}}},Fs=new WeakMap,Ar=new WeakMap,eu=new WeakMap,Ws=new WeakSet,Ha=function(t){const r=i=>{switch(t.type){case"failed":return{...i,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...i,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:t.error,failureCount:i.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Cn.batch(()=>{z(this,Fs).forEach(i=>{i.onMutationUpdate(t)}),z(this,Ar).notify({mutation:this,type:"updated",action:t})})},TL);function ez(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var di,eO,PL,FH=(PL=class extends pf{constructor(e={}){super();Ie(this,di);Ie(this,eO);this.config=e,ve(this,di,new Map),ve(this,eO,Date.now())}build(e,t,r){const i=new BH({mutationCache:this,mutationId:++JO(this,eO)._,options:e.defaultMutationOptions(t),state:r});return this.add(i),i}add(e){const t=Oy(e),r=z(this,di).get(t)??[];r.push(e),z(this,di).set(t,r),this.notify({type:"added",mutation:e})}remove(e){var r;const t=Oy(e);if(z(this,di).has(t)){const i=(r=z(this,di).get(t))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?z(this,di).delete(t):z(this,di).set(t,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const t=(r=z(this,di).get(Oy(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!t||t===e}runNext(e){var r;const t=(r=z(this,di).get(Oy(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(t==null?void 0:t.continue())??Promise.resolve()}clear(){Cn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...z(this,di).values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(r=>t2(t,r))}findAll(e={}){return this.getAll().filter(t=>t2(e,t))}notify(e){Cn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Cn.batch(()=>Promise.all(e.map(t=>t.continue().catch(Di))))}},di=new WeakMap,eO=new WeakMap,PL);function Oy(n){var e;return((e=n.options.scope)==null?void 0:e.id)??String(n.mutationId)}function i2(n){return{onFetch:(e,t)=>{var u,h,d,m,g;const r=e.options,i=(d=(h=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:d.direction,s=((m=e.state.data)==null?void 0:m.pages)||[],o=((g=e.state.data)==null?void 0:g.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let y=!1;const v=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},b=X5(e.options,e.fetchOptions),x=async(S,$,P)=>{if(y)return Promise.reject();if($==null&&S.pages.length)return Promise.resolve(S);const Q={queryKey:e.queryKey,pageParam:$,direction:P?"backward":"forward",meta:e.options.meta};v(Q);const O=await b(Q),{maxPages:_}=e.options,k=P?DH:jH;return{pages:k(S.pages,O,_),pageParams:k(S.pageParams,$,_)}};if(i&&s.length){const S=i==="backward",$=S?WH:s2,P={pages:s,pageParams:o},Q=$(r,P);a=await x(P,Q,S)}else{const S=n??s.length;do{const $=l===0?o[0]??r.initialPageParam:s2(r,a);if(l>0&&$==null)break;a=await x(a,$),l++}while(l<S)}return a};e.options.persister?e.fetchFn=()=>{var y,v;return(v=(y=e.options).persister)==null?void 0:v.call(y,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=c}}}function s2(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function WH(n,{pages:e,pageParams:t}){var r;return e.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t):void 0}var Kt,ml,gl,dd,fd,Ol,pd,md,CL,XH=(CL=class{constructor(n={}){Ie(this,Kt);Ie(this,ml);Ie(this,gl);Ie(this,dd);Ie(this,fd);Ie(this,Ol);Ie(this,pd);Ie(this,md);ve(this,Kt,n.queryCache||new qH),ve(this,ml,n.mutationCache||new FH),ve(this,gl,n.defaultOptions||{}),ve(this,dd,new Map),ve(this,fd,new Map),ve(this,Ol,0)}mount(){JO(this,Ol)._++,z(this,Ol)===1&&(ve(this,pd,FE.subscribe(async n=>{n&&(await this.resumePausedMutations(),z(this,Kt).onFocus())})),ve(this,md,Hv.subscribe(async n=>{n&&(await this.resumePausedMutations(),z(this,Kt).onOnline())})))}unmount(){var n,e;JO(this,Ol)._--,z(this,Ol)===0&&((n=z(this,pd))==null||n.call(this),ve(this,pd,void 0),(e=z(this,md))==null||e.call(this),ve(this,md,void 0))}isFetching(n){return z(this,Kt).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return z(this,ml).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=z(this,Kt).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.getQueryData(n.queryKey);if(e===void 0)return this.fetchQuery(n);{const t=this.defaultQueryOptions(n),r=z(this,Kt).build(this,t);return n.revalidateIfStale&&r.isStaleByTime(Uh(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(e)}}getQueriesData(n){return z(this,Kt).findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),i=z(this,Kt).get(r.queryHash),s=i==null?void 0:i.state.data,o=IH(e,s);if(o!==void 0)return z(this,Kt).build(this,r).setData(o,{...t,manual:!0})}setQueriesData(n,e,t){return Cn.batch(()=>z(this,Kt).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=z(this,Kt).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=z(this,Kt);Cn.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=z(this,Kt),r={type:"active",...n};return Cn.batch(()=>(t.findAll(n).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(n={},e={}){const t={revert:!0,...e},r=Cn.batch(()=>z(this,Kt).findAll(n).map(i=>i.cancel(t)));return Promise.all(r).then(Di).catch(Di)}invalidateQueries(n={},e={}){return Cn.batch(()=>{if(z(this,Kt).findAll(n).forEach(r=>{r.invalidate()}),n.refetchType==="none")return Promise.resolve();const t={...n,type:n.refetchType??n.type??"active"};return this.refetchQueries(t,e)})}refetchQueries(n={},e){const t={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Cn.batch(()=>z(this,Kt).findAll(n).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,t);return t.throwOnError||(s=s.catch(Di)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Di)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=z(this,Kt).build(this,e);return t.isStaleByTime(Uh(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(Di).catch(Di)}fetchInfiniteQuery(n){return n.behavior=i2(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(Di).catch(Di)}ensureInfiniteQueryData(n){return n.behavior=i2(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return Hv.isOnline()?z(this,ml).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,Kt)}getMutationCache(){return z(this,ml)}getDefaultOptions(){return z(this,gl)}setDefaultOptions(n){ve(this,gl,n)}setQueryDefaults(n,e){z(this,dd).set(Ou(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...z(this,dd).values()];let t={};return e.forEach(r=>{Vm(n,r.queryKey)&&(t={...t,...r.defaultOptions})}),t}setMutationDefaults(n,e){z(this,fd).set(Ou(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...z(this,fd).values()];let t={};return e.forEach(r=>{Vm(n,r.mutationKey)&&(t={...t,...r.defaultOptions})}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...z(this,gl).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=qE(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===BE&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...z(this,gl).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){z(this,Kt).clear(),z(this,ml).clear()}},Kt=new WeakMap,ml=new WeakMap,gl=new WeakMap,dd=new WeakMap,fd=new WeakMap,Ol=new WeakMap,pd=new WeakMap,md=new WeakMap,CL),Br,it,tO,Rr,tu,gd,yl,Xs,nO,Od,yd,nu,ru,vl,vd,Ot,_p,Q_,$_,I_,N_,j_,D_,M_,tz,EL,GH=(EL=class extends pf{constructor(e,t){super();Ie(this,Ot);Ie(this,Br);Ie(this,it);Ie(this,tO);Ie(this,Rr);Ie(this,tu);Ie(this,gd);Ie(this,yl);Ie(this,Xs);Ie(this,nO);Ie(this,Od);Ie(this,yd);Ie(this,nu);Ie(this,ru);Ie(this,vl);Ie(this,vd,new Set);this.options=t,ve(this,Br,e),ve(this,Xs,null),ve(this,yl,R_()),this.options.experimental_prefetchInRender||z(this,yl).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(z(this,it).addObserver(this),o2(z(this,it),this.options)?Xe(this,Ot,_p).call(this):this.updateResult(),Xe(this,Ot,N_).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return V_(z(this,it),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return V_(z(this,it),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Xe(this,Ot,j_).call(this),Xe(this,Ot,D_).call(this),z(this,it).removeObserver(this)}setOptions(e,t){const r=this.options,i=z(this,it);if(this.options=z(this,Br).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof us(this.options.enabled,z(this,it))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Xe(this,Ot,M_).call(this),z(this,it).setOptions(this.options),r._defaulted&&!Yv(this.options,r)&&z(this,Br).getQueryCache().notify({type:"observerOptionsUpdated",query:z(this,it),observer:this});const s=this.hasListeners();s&&a2(z(this,it),i,this.options,r)&&Xe(this,Ot,_p).call(this),this.updateResult(t),s&&(z(this,it)!==i||us(this.options.enabled,z(this,it))!==us(r.enabled,z(this,it))||Uh(this.options.staleTime,z(this,it))!==Uh(r.staleTime,z(this,it)))&&Xe(this,Ot,Q_).call(this);const o=Xe(this,Ot,$_).call(this);s&&(z(this,it)!==i||us(this.options.enabled,z(this,it))!==us(r.enabled,z(this,it))||o!==z(this,vl))&&Xe(this,Ot,I_).call(this,o)}getOptimisticResult(e){const t=z(this,Br).getQueryCache().build(z(this,Br),e),r=this.createResult(t,e);return HH(this,r)&&(ve(this,Rr,r),ve(this,gd,this.options),ve(this,tu,z(this,it).state)),r}getCurrentResult(){return z(this,Rr)}trackResult(e,t){const r={};return Object.keys(e).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),t==null||t(i),e[i])})}),r}trackProp(e){z(this,vd).add(e)}getCurrentQuery(){return z(this,it)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=z(this,Br).defaultQueryOptions(e),r=z(this,Br).getQueryCache().build(z(this,Br),t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return Xe(this,Ot,_p).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),z(this,Rr)))}createResult(e,t){var _;const r=z(this,it),i=this.options,s=z(this,Rr),o=z(this,tu),a=z(this,gd),c=e!==r?e.state:z(this,tO),{state:u}=e;let h={...u},d=!1,m;if(t._optimisticResults){const k=this.hasListeners(),A=!k&&o2(e,t),C=k&&a2(e,r,t,i);(A||C)&&(h={...h,...J5(u.data,e.options)}),t._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:g,errorUpdatedAt:y,status:v}=h;if(t.select&&h.data!==void 0)if(s&&h.data===(o==null?void 0:o.data)&&t.select===z(this,nO))m=z(this,Od);else try{ve(this,nO,t.select),m=t.select(h.data),m=A_(s==null?void 0:s.data,m,t),ve(this,Od,m),ve(this,Xs,null)}catch(k){ve(this,Xs,k)}else m=h.data;if(t.placeholderData!==void 0&&m===void 0&&v==="pending"){let k;if(s!=null&&s.isPlaceholderData&&t.placeholderData===(a==null?void 0:a.placeholderData))k=s.data;else if(k=typeof t.placeholderData=="function"?t.placeholderData((_=z(this,yd))==null?void 0:_.state.data,z(this,yd)):t.placeholderData,t.select&&k!==void 0)try{k=t.select(k),ve(this,Xs,null)}catch(A){ve(this,Xs,A)}k!==void 0&&(v="success",m=A_(s==null?void 0:s.data,k,t),d=!0)}z(this,Xs)&&(g=z(this,Xs),m=z(this,Od),y=Date.now(),v="error");const b=h.fetchStatus==="fetching",x=v==="pending",S=v==="error",$=x&&b,P=m!==void 0,O={status:v,fetchStatus:h.fetchStatus,isPending:x,isSuccess:v==="success",isError:S,isInitialLoading:$,isLoading:$,data:m,dataUpdatedAt:h.dataUpdatedAt,error:g,errorUpdatedAt:y,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:b,isRefetching:b&&!x,isLoadingError:S&&!P,isPaused:h.fetchStatus==="paused",isPlaceholderData:d,isRefetchError:S&&P,isStale:WE(e,t),refetch:this.refetch,promise:z(this,yl)};if(this.options.experimental_prefetchInRender){const k=w=>{O.status==="error"?w.reject(O.error):O.data!==void 0&&w.resolve(O.data)},A=()=>{const w=ve(this,yl,O.promise=R_());k(w)},C=z(this,yl);switch(C.status){case"pending":e.queryHash===r.queryHash&&k(C);break;case"fulfilled":(O.status==="error"||O.data!==C.value)&&A();break;case"rejected":(O.status!=="error"||O.error!==C.reason)&&A();break}}return O}updateResult(e){const t=z(this,Rr),r=this.createResult(z(this,it),this.options);if(ve(this,tu,z(this,it).state),ve(this,gd,this.options),z(this,tu).data!==void 0&&ve(this,yd,z(this,it)),Yv(r,t))return;ve(this,Rr,r);const i={},s=()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!z(this,vd).size)return!0;const l=new Set(a??z(this,vd));return this.options.throwOnError&&l.add("error"),Object.keys(z(this,Rr)).some(c=>{const u=c;return z(this,Rr)[u]!==t[u]&&l.has(u)})};(e==null?void 0:e.listeners)!==!1&&s()&&(i.listeners=!0),Xe(this,Ot,tz).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Xe(this,Ot,N_).call(this)}},Br=new WeakMap,it=new WeakMap,tO=new WeakMap,Rr=new WeakMap,tu=new WeakMap,gd=new WeakMap,yl=new WeakMap,Xs=new WeakMap,nO=new WeakMap,Od=new WeakMap,yd=new WeakMap,nu=new WeakMap,ru=new WeakMap,vl=new WeakMap,vd=new WeakMap,Ot=new WeakSet,_p=function(e){Xe(this,Ot,M_).call(this);let t=z(this,it).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(Di)),t},Q_=function(){Xe(this,Ot,j_).call(this);const e=Uh(this.options.staleTime,z(this,it));if(gu||z(this,Rr).isStale||!C_(e))return;const r=F5(z(this,Rr).dataUpdatedAt,e)+1;ve(this,nu,setTimeout(()=>{z(this,Rr).isStale||this.updateResult()},r))},$_=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(z(this,it)):this.options.refetchInterval)??!1},I_=function(e){Xe(this,Ot,D_).call(this),ve(this,vl,e),!(gu||us(this.options.enabled,z(this,it))===!1||!C_(z(this,vl))||z(this,vl)===0)&&ve(this,ru,setInterval(()=>{(this.options.refetchIntervalInBackground||FE.isFocused())&&Xe(this,Ot,_p).call(this)},z(this,vl)))},N_=function(){Xe(this,Ot,Q_).call(this),Xe(this,Ot,I_).call(this,Xe(this,Ot,$_).call(this))},j_=function(){z(this,nu)&&(clearTimeout(z(this,nu)),ve(this,nu,void 0))},D_=function(){z(this,ru)&&(clearInterval(z(this,ru)),ve(this,ru,void 0))},M_=function(){const e=z(this,Br).getQueryCache().build(z(this,Br),this.options);if(e===z(this,it))return;const t=z(this,it);ve(this,it,e),ve(this,tO,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},tz=function(e){Cn.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(z(this,Rr))}),z(this,Br).getQueryCache().notify({query:z(this,it),type:"observerResultsUpdated"})})},EL);function YH(n,e){return us(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function o2(n,e){return YH(n,e)||n.state.data!==void 0&&V_(n,e,e.refetchOnMount)}function V_(n,e,t){if(us(e.enabled,n)!==!1){const r=typeof t=="function"?t(n):t;return r==="always"||r!==!1&&WE(n,e)}return!1}function a2(n,e,t,r){return(n!==e||us(r.enabled,n)===!1)&&(!t.suspense||n.state.status!=="error")&&WE(n,t)}function WE(n,e){return us(e.enabled,n)!==!1&&n.isStaleByTime(Uh(e.staleTime,n))}function HH(n,e){return!Yv(n.getCurrentResult(),e)}var wl,xl,Fr,aa,wa,k0,L_,AL,KH=(AL=class extends pf{constructor(t,r){super();Ie(this,wa);Ie(this,wl);Ie(this,xl);Ie(this,Fr);Ie(this,aa);ve(this,wl,t),this.setOptions(r),this.bindMethods(),Xe(this,wa,k0).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var i;const r=this.options;this.options=z(this,wl).defaultMutationOptions(t),Yv(this.options,r)||z(this,wl).getMutationCache().notify({type:"observerOptionsUpdated",mutation:z(this,Fr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Ou(r.mutationKey)!==Ou(this.options.mutationKey)?this.reset():((i=z(this,Fr))==null?void 0:i.state.status)==="pending"&&z(this,Fr).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=z(this,Fr))==null||t.removeObserver(this)}onMutationUpdate(t){Xe(this,wa,k0).call(this),Xe(this,wa,L_).call(this,t)}getCurrentResult(){return z(this,xl)}reset(){var t;(t=z(this,Fr))==null||t.removeObserver(this),ve(this,Fr,void 0),Xe(this,wa,k0).call(this),Xe(this,wa,L_).call(this)}mutate(t,r){var i;return ve(this,aa,r),(i=z(this,Fr))==null||i.removeObserver(this),ve(this,Fr,z(this,wl).getMutationCache().build(z(this,wl),this.options)),z(this,Fr).addObserver(this),z(this,Fr).execute(t)}},wl=new WeakMap,xl=new WeakMap,Fr=new WeakMap,aa=new WeakMap,wa=new WeakSet,k0=function(){var r;const t=((r=z(this,Fr))==null?void 0:r.state)??ez();ve(this,xl,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},L_=function(t){Cn.batch(()=>{var r,i,s,o,a,l,c,u;if(z(this,aa)&&this.hasListeners()){const h=z(this,xl).variables,d=z(this,xl).context;(t==null?void 0:t.type)==="success"?((i=(r=z(this,aa)).onSuccess)==null||i.call(r,t.data,h,d),(o=(s=z(this,aa)).onSettled)==null||o.call(s,t.data,null,h,d)):(t==null?void 0:t.type)==="error"&&((l=(a=z(this,aa)).onError)==null||l.call(a,t.error,h,d),(u=(c=z(this,aa)).onSettled)==null||u.call(c,void 0,t.error,h,d))}this.listeners.forEach(h=>{h(z(this,xl))})})},AL),nz=E.createContext(void 0),es=n=>{const e=E.useContext(nz);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},JH=({client:n,children:e})=>(E.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),p.jsx(nz.Provider,{value:n,children:e})),rz=E.createContext(!1),eK=()=>E.useContext(rz);rz.Provider;function tK(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var nK=E.createContext(tK()),rK=()=>E.useContext(nK);function iz(n,e){return typeof n=="function"?n(...e):!!n}function z_(){}var iK=(n,e)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(e.isReset()||(n.retryOnMount=!1))},sK=n=>{E.useEffect(()=>{n.clearReset()},[n])},oK=({result:n,errorResetBoundary:e,throwOnError:t,query:r})=>n.isError&&!e.isReset()&&!n.isFetching&&r&&iz(t,[n.error,r]),aK=n=>{n.suspense&&(n.staleTime===void 0&&(n.staleTime=1e3),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3)))},lK=(n,e)=>n.isLoading&&n.isFetching&&!e,cK=(n,e)=>(n==null?void 0:n.suspense)&&e.isPending,l2=(n,e,t)=>e.fetchOptimistic(n).catch(()=>{t.clearReset()});function uK(n,e,t){var u,h,d,m,g;const r=es(),i=eK(),s=rK(),o=r.defaultQueryOptions(n);(h=(u=r.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||h.call(u,o),o._optimisticResults=i?"isRestoring":"optimistic",aK(o),iK(o,s),sK(s);const a=!r.getQueryCache().get(o.queryHash),[l]=E.useState(()=>new e(r,o)),c=l.getOptimisticResult(o);if(E.useSyncExternalStore(E.useCallback(y=>{const v=i?z_:l.subscribe(Cn.batchCalls(y));return l.updateResult(),v},[l,i]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),E.useEffect(()=>{l.setOptions(o,{listeners:!1})},[o,l]),cK(o,c))throw l2(o,l,s);if(oK({result:c,errorResetBoundary:s,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw c.error;if((m=(d=r.getDefaultOptions().queries)==null?void 0:d._experimental_afterQuery)==null||m.call(d,o,c),o.experimental_prefetchInRender&&!gu&&lK(c,i)){const y=a?l2(o,l,s):(g=r.getQueryCache().get(o.queryHash))==null?void 0:g.promise;y==null||y.catch(z_).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?c:l.trackResult(c)}function yu(n,e){return uK(n,GH)}function zS(n,e){const t=es(),[r]=E.useState(()=>new KH(t,n));E.useEffect(()=>{r.setOptions(n)},[r,n]);const i=E.useSyncExternalStore(E.useCallback(o=>r.subscribe(Cn.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=E.useCallback((o,a)=>{r.mutate(o,a).catch(z_)},[r]);if(i.error&&iz(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}async function hK(n){if(!n.ok){const e=await n.text()||n.statusText;throw new Error(`${n.status}: ${e}`)}}const dK=({on401:n})=>async({queryKey:e})=>{const t=await fetch(e[0],{credentials:"include"});return n==="returnNull"&&t.status===401?null:(await hK(t),await t.json())},sz=new XH({defaultOptions:{queries:{queryFn:dK({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!0,staleTime:3e4,retry:!1},mutations:{retry:!1,onSuccess:()=>{sz.invalidateQueries()}}}});function fK(n,e){if(n instanceof RegExp)return{keys:!1,pattern:n};var t,r,i,s,o=[],a="",l=n.split("/");for(l[0]||l.shift();i=l.shift();)t=i[0],t==="*"?(o.push(t),a+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):t===":"?(r=i.indexOf("?",1),s=i.indexOf(".",1),o.push(i.substring(1,~r?r:~s?s:i.length)),a+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(a+=(~r?"?":"")+"\\"+i.substring(s))):a+="/"+i;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var oz={exports:{}},az={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pd=E;function pK(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var mK=typeof Object.is=="function"?Object.is:pK,gK=Pd.useState,OK=Pd.useEffect,yK=Pd.useLayoutEffect,vK=Pd.useDebugValue;function wK(n,e){var t=e(),r=gK({inst:{value:t,getSnapshot:e}}),i=r[0].inst,s=r[1];return yK(function(){i.value=t,i.getSnapshot=e,US(i)&&s({inst:i})},[n,t,e]),OK(function(){return US(i)&&s({inst:i}),n(function(){US(i)&&s({inst:i})})},[n]),vK(t),t}function US(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!mK(n,t)}catch{return!0}}function xK(n,e){return e()}var bK=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?xK:wK;az.useSyncExternalStore=Pd.useSyncExternalStore!==void 0?Pd.useSyncExternalStore:bK;oz.exports=az;var SK=oz.exports;const kK=UL.useInsertionEffect,_K=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",TK=_K?E.useLayoutEffect:E.useEffect,PK=kK||TK,lz=n=>{const e=E.useRef([n,(...t)=>e[0](...t)]).current;return PK(()=>{e[0]=n}),e[1]},CK="popstate",XE="pushState",GE="replaceState",EK="hashchange",c2=[CK,XE,GE,EK],AK=n=>{for(const e of c2)addEventListener(e,n);return()=>{for(const e of c2)removeEventListener(e,n)}},cz=(n,e)=>SK.useSyncExternalStore(AK,n,e),RK=()=>location.search,QK=({ssrSearch:n=""}={})=>cz(RK,()=>n),u2=()=>location.pathname,$K=({ssrPath:n}={})=>cz(u2,n?()=>n:u2),IK=(n,{replace:e=!1,state:t=null}={})=>history[e?GE:XE](t,"",n),NK=(n={})=>[$K(n),IK],h2=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[h2]>"u"){for(const n of[XE,GE]){const e=history[n];history[n]=function(){const t=e.apply(this,arguments),r=new Event(n);return r.arguments=arguments,dispatchEvent(r),t}}Object.defineProperty(window,h2,{value:!0})}const jK=(n,e)=>e.toLowerCase().indexOf(n.toLowerCase())?"~"+e:e.slice(n.length)||"/",uz=(n="")=>n==="/"?"":n,DK=(n,e)=>n[0]==="~"?n.slice(1):uz(e)+n,MK=(n="",e)=>jK(d2(uz(n)),d2(e)),d2=n=>{try{return decodeURI(n)}catch{return n}},hz={hook:NK,searchHook:QK,parser:fK,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:n=>n},dz=E.createContext(hz),lO=()=>E.useContext(dz),fz={},pz=E.createContext(fz),cO=()=>E.useContext(pz),Lx=n=>{const[e,t]=n.hook(n);return[MK(n.base,e),lz((r,i)=>t(DK(r,n.base),i))]},Ma=()=>Lx(lO()),mz=(n,e,t,r)=>{const{pattern:i,keys:s}=e instanceof RegExp?{keys:!1,pattern:e}:n(e||"*",r),o=i.exec(t)||[],[a,...l]=o;return a!==void 0?[!0,(()=>{const c=s!==!1?Object.fromEntries(s.map((h,d)=>[h,l[d]])):o.groups;let u={...l};return c&&Object.assign(u,c),u})(),...r?[a]:[]]:[!1,null]},VK=({children:n,...e})=>{var u,h;const t=lO(),r=e.hook?hz:t;let i=r;const[s,o]=((u=e.ssrPath)==null?void 0:u.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=s),e.hrefs=e.hrefs??((h=e.hook)==null?void 0:h.hrefs);let a=E.useRef({}),l=a.current,c=l;for(let d in r){const m=d==="base"?r[d]+(e[d]||""):e[d]||r[d];l===c&&m!==c[d]&&(a.current=c={...c}),c[d]=m,m!==r[d]&&(i=c)}return E.createElement(dz.Provider,{value:i,children:n})},f2=({children:n,component:e},t)=>e?E.createElement(e,{params:t}):typeof n=="function"?n(t):n,LK=n=>{let e=E.useRef(fz),t=e.current;for(const r in n)n[r]!==t[r]&&(t=n);return Object.keys(n).length===0&&(t=n),e.current=t},Ms=({path:n,nest:e,match:t,...r})=>{const i=lO(),[s]=Lx(i),[o,a,l]=t??mz(i.parser,n,s,e),c=LK({...cO(),...a});if(!o)return null;const u=l?E.createElement(VK,{base:l},f2(r,c)):f2(r,c);return E.createElement(pz.Provider,{value:c,children:u})},Jt=E.forwardRef((n,e)=>{const t=lO(),[r,i]=Lx(t),{to:s="",href:o=s,onClick:a,asChild:l,children:c,className:u,replace:h,state:d,...m}=n,g=lz(v=>{v.ctrlKey||v.metaKey||v.altKey||v.shiftKey||v.button!==0||(a==null||a(v),v.defaultPrevented||(v.preventDefault(),i(o,n)))}),y=t.hrefs(o[0]==="~"?o.slice(1):t.base+o,t);return l&&E.isValidElement(c)?E.cloneElement(c,{onClick:g,href:y}):E.createElement("a",{...m,onClick:g,href:y,className:u!=null&&u.call?u(r===o):u,children:c,ref:e})}),gz=n=>Array.isArray(n)?n.flatMap(e=>gz(e&&e.type===E.Fragment?e.props.children:e)):[n],zK=({children:n,location:e})=>{const t=lO(),[r]=Lx(t);for(const i of gz(n)){let s=0;if(E.isValidElement(i)&&(s=mz(t.parser,i.props.path,e||r,i.props.nest))[0])return E.cloneElement(i,{match:s})}return null},UK=1,ZK=1e6;let ZS=0;function qK(){return ZS=(ZS+1)%Number.MAX_SAFE_INTEGER,ZS.toString()}const qS=new Map,p2=n=>{if(qS.has(n))return;const e=setTimeout(()=>{qS.delete(n),sm({type:"REMOVE_TOAST",toastId:n})},ZK);qS.set(n,e)},BK=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,UK)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?p2(t):n.toasts.forEach(r=>{p2(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},_0=[];let T0={toasts:[]};function sm(n){T0=BK(T0,n),_0.forEach(e=>{e(T0)})}function FK({...n}){const e=qK(),t=i=>sm({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>sm({type:"DISMISS_TOAST",toastId:e});return sm({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:t}}function oi(){const[n,e]=E.useState(T0);return E.useEffect(()=>(_0.push(e),()=>{const t=_0.indexOf(e);t>-1&&_0.splice(t,1)}),[n]),{...n,toast:FK,dismiss:t=>sm({type:"DISMISS_TOAST",toastId:t})}}function Pe(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function WK(n,e){typeof n=="function"?n(e):n!=null&&(n.current=e)}function Oz(...n){return e=>n.forEach(t=>WK(t,e))}function nt(...n){return E.useCallback(Oz(...n),n)}function XK(n,e=[]){let t=[];function r(s,o){const a=E.createContext(o),l=t.length;t=[...t,o];function c(h){const{scope:d,children:m,...g}=h,y=(d==null?void 0:d[n][l])||a,v=E.useMemo(()=>g,Object.values(g));return p.jsx(y.Provider,{value:v,children:m})}function u(h,d){const m=(d==null?void 0:d[n][l])||a,g=E.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,u]}const i=()=>{const s=t.map(o=>E.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return E.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return i.scopeName=n,[r,GK(i,...e)]}function GK(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}var Fl=E.forwardRef((n,e)=>{const{children:t,...r}=n,i=E.Children.toArray(t),s=i.find(HK);if(s){const o=s.props.children,a=i.map(l=>l===s?E.Children.count(o)>1?E.Children.only(null):E.isValidElement(o)?o.props.children:null:l);return p.jsx(U_,{...r,ref:e,children:E.isValidElement(o)?E.cloneElement(o,void 0,a):null})}return p.jsx(U_,{...r,ref:e,children:t})});Fl.displayName="Slot";var U_=E.forwardRef((n,e)=>{const{children:t,...r}=n;if(E.isValidElement(t)){const i=JK(t);return E.cloneElement(t,{...KK(r,t.props),ref:e?Oz(e,i):i})}return E.Children.count(t)>1?E.Children.only(null):null});U_.displayName="SlotClone";var YK=({children:n})=>p.jsx(p.Fragment,{children:n});function HK(n){return E.isValidElement(n)&&n.type===YK}function KK(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?t[r]=(...a)=>{s(...a),i(...a)}:i&&(t[r]=i):r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}function JK(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function zx(n){const e=n+"CollectionProvider",[t,r]=XK(e),[i,s]=t(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:g,children:y}=m,v=He.useRef(null),b=He.useRef(new Map).current;return p.jsx(i,{scope:g,itemMap:b,collectionRef:v,children:y})};o.displayName=e;const a=n+"CollectionSlot",l=He.forwardRef((m,g)=>{const{scope:y,children:v}=m,b=s(a,y),x=nt(g,b.collectionRef);return p.jsx(Fl,{ref:x,children:v})});l.displayName=a;const c=n+"CollectionItemSlot",u="data-radix-collection-item",h=He.forwardRef((m,g)=>{const{scope:y,children:v,...b}=m,x=He.useRef(null),S=nt(g,x),$=s(c,y);return He.useEffect(()=>($.itemMap.set(x,{ref:x,...b}),()=>void $.itemMap.delete(x))),p.jsx(Fl,{[u]:"",ref:S,children:v})});h.displayName=c;function d(m){const g=s(n+"CollectionConsumer",m);return He.useCallback(()=>{const v=g.collectionRef.current;if(!v)return[];const b=Array.from(v.querySelectorAll(`[${u}]`));return Array.from(g.itemMap.values()).sort(($,P)=>b.indexOf($.ref.current)-b.indexOf(P.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:l,ItemSlot:h},d,r]}function eJ(n,e){const t=E.createContext(e),r=s=>{const{children:o,...a}=s,l=E.useMemo(()=>a,Object.values(a));return p.jsx(t.Provider,{value:l,children:o})};r.displayName=n+"Provider";function i(s){const o=E.useContext(t);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${n}\``)}return[r,i]}function xc(n,e=[]){let t=[];function r(s,o){const a=E.createContext(o),l=t.length;t=[...t,o];const c=h=>{var b;const{scope:d,children:m,...g}=h,y=((b=d==null?void 0:d[n])==null?void 0:b[l])||a,v=E.useMemo(()=>g,Object.values(g));return p.jsx(y.Provider,{value:v,children:m})};c.displayName=s+"Provider";function u(h,d){var y;const m=((y=d==null?void 0:d[n])==null?void 0:y[l])||a,g=E.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=t.map(o=>E.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return E.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return i.scopeName=n,[r,tJ(i,...e)]}function tJ(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}var nJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Qe=nJ.reduce((n,e)=>{const t=E.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?Fl:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(a,{...o,ref:i})});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function yz(n,e){n&&Mu.flushSync(()=>n.dispatchEvent(e))}function sn(n){const e=E.useRef(n);return E.useEffect(()=>{e.current=n}),E.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function rJ(n,e=globalThis==null?void 0:globalThis.document){const t=sn(n);E.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var iJ="DismissableLayer",Z_="dismissableLayer.update",sJ="dismissableLayer.pointerDownOutside",oJ="dismissableLayer.focusOutside",m2,vz=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ux=E.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=n,c=E.useContext(vz),[u,h]=E.useState(null),d=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=E.useState({}),g=nt(e,O=>h(O)),y=Array.from(c.layers),[v]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),b=y.indexOf(v),x=u?y.indexOf(u):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,$=x>=b,P=lJ(O=>{const _=O.target,k=[...c.branches].some(A=>A.contains(_));!$||k||(i==null||i(O),o==null||o(O),O.defaultPrevented||a==null||a())},d),Q=cJ(O=>{const _=O.target;[...c.branches].some(A=>A.contains(_))||(s==null||s(O),o==null||o(O),O.defaultPrevented||a==null||a())},d);return rJ(O=>{x===c.layers.size-1&&(r==null||r(O),!O.defaultPrevented&&a&&(O.preventDefault(),a()))},d),E.useEffect(()=>{if(u)return t&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(m2=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),g2(),()=>{t&&c.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=m2)}},[u,d,t,c]),E.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),g2())},[u,c]),E.useEffect(()=>{const O=()=>m({});return document.addEventListener(Z_,O),()=>document.removeEventListener(Z_,O)},[]),p.jsx(Qe.div,{...l,ref:g,style:{pointerEvents:S?$?"auto":"none":void 0,...n.style},onFocusCapture:Pe(n.onFocusCapture,Q.onFocusCapture),onBlurCapture:Pe(n.onBlurCapture,Q.onBlurCapture),onPointerDownCapture:Pe(n.onPointerDownCapture,P.onPointerDownCapture)})});Ux.displayName=iJ;var aJ="DismissableLayerBranch",wz=E.forwardRef((n,e)=>{const t=E.useContext(vz),r=E.useRef(null),i=nt(e,r);return E.useEffect(()=>{const s=r.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),p.jsx(Qe.div,{...n,ref:i})});wz.displayName=aJ;function lJ(n,e=globalThis==null?void 0:globalThis.document){const t=sn(n),r=E.useRef(!1),i=E.useRef(()=>{});return E.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){xz(sJ,t,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function cJ(n,e=globalThis==null?void 0:globalThis.document){const t=sn(n),r=E.useRef(!1);return E.useEffect(()=>{const i=s=>{s.target&&!r.current&&xz(oJ,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function g2(){const n=new CustomEvent(Z_);document.dispatchEvent(n)}function xz(n,e,t,{discrete:r}){const i=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?yz(i,s):i.dispatchEvent(s)}var uJ=Ux,hJ=wz,$n=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},dJ="Portal",Zx=E.forwardRef((n,e)=>{var a;const{container:t,...r}=n,[i,s]=E.useState(!1);$n(()=>s(!0),[]);const o=t||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?$H.createPortal(p.jsx(Qe.div,{...r,ref:e}),o):null});Zx.displayName=dJ;function fJ(n,e){return E.useReducer((t,r)=>e[t][r]??t,n)}var Qs=n=>{const{present:e,children:t}=n,r=pJ(e),i=typeof t=="function"?t({present:r.isPresent}):E.Children.only(t),s=nt(r.ref,mJ(i));return typeof t=="function"||r.isPresent?E.cloneElement(i,{ref:s}):null};Qs.displayName="Presence";function pJ(n){const[e,t]=E.useState(),r=E.useRef({}),i=E.useRef(n),s=E.useRef("none"),o=n?"mounted":"unmounted",[a,l]=fJ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const c=yy(r.current);s.current=a==="mounted"?c:"none"},[a]),$n(()=>{const c=r.current,u=i.current;if(u!==n){const d=s.current,m=yy(c);n?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&d!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,l]),$n(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,h=m=>{const y=yy(r.current).includes(m.animationName);if(m.target===e&&y&&(l("ANIMATION_END"),!i.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},d=m=>{m.target===e&&(s.current=yy(r.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:E.useCallback(c=>{c&&(r.current=getComputedStyle(c)),t(c)},[])}}function yy(n){return(n==null?void 0:n.animationName)||"none"}function mJ(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function Wl({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,i]=gJ({defaultProp:e,onChange:t}),s=n!==void 0,o=s?n:r,a=sn(t),l=E.useCallback(c=>{if(s){const h=typeof c=="function"?c(n):c;h!==n&&a(h)}else i(c)},[s,n,i,a]);return[o,l]}function gJ({defaultProp:n,onChange:e}){const t=E.useState(n),[r]=t,i=E.useRef(r),s=sn(e);return E.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),t}var OJ="VisuallyHidden",qx=E.forwardRef((n,e)=>p.jsx(Qe.span,{...n,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}));qx.displayName=OJ;var YE="ToastProvider",[HE,yJ,vJ]=zx("Toast"),[bz,kCe]=xc("Toast",[vJ]),[wJ,Bx]=bz(YE),Sz=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=n,[a,l]=E.useState(null),[c,u]=E.useState(0),h=E.useRef(!1),d=E.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${YE}\`. Expected non-empty \`string\`.`),p.jsx(HE.Provider,{scope:e,children:p.jsx(wJ,{scope:e,label:t,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:E.useCallback(()=>u(m=>m+1),[]),onToastRemove:E.useCallback(()=>u(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:d,children:o})})};Sz.displayName=YE;var kz="ToastViewport",xJ=["F8"],q_="toast.viewportPause",B_="toast.viewportResume",_z=E.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=xJ,label:i="Notifications ({hotkey})",...s}=n,o=Bx(kz,t),a=yJ(t),l=E.useRef(null),c=E.useRef(null),u=E.useRef(null),h=E.useRef(null),d=nt(e,h,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;E.useEffect(()=>{const v=b=>{var S;r.length!==0&&r.every($=>b[$]||b.code===$)&&((S=h.current)==null||S.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[r]),E.useEffect(()=>{const v=l.current,b=h.current;if(g&&v&&b){const x=()=>{if(!o.isClosePausedRef.current){const Q=new CustomEvent(q_);b.dispatchEvent(Q),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const Q=new CustomEvent(B_);b.dispatchEvent(Q),o.isClosePausedRef.current=!1}},$=Q=>{!v.contains(Q.relatedTarget)&&S()},P=()=>{v.contains(document.activeElement)||S()};return v.addEventListener("focusin",x),v.addEventListener("focusout",$),v.addEventListener("pointermove",x),v.addEventListener("pointerleave",P),window.addEventListener("blur",x),window.addEventListener("focus",S),()=>{v.removeEventListener("focusin",x),v.removeEventListener("focusout",$),v.removeEventListener("pointermove",x),v.removeEventListener("pointerleave",P),window.removeEventListener("blur",x),window.removeEventListener("focus",S)}}},[g,o.isClosePausedRef]);const y=E.useCallback(({tabbingDirection:v})=>{const x=a().map(S=>{const $=S.ref.current,P=[$,...IJ($)];return v==="forwards"?P:P.reverse()});return(v==="forwards"?x.reverse():x).flat()},[a]);return E.useEffect(()=>{const v=h.current;if(v){const b=x=>{var P,Q,O;const S=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!S){const _=document.activeElement,k=x.shiftKey;if(x.target===v&&k){(P=c.current)==null||P.focus();return}const w=y({tabbingDirection:k?"backwards":"forwards"}),R=w.findIndex(j=>j===_);BS(w.slice(R+1))?x.preventDefault():k?(Q=c.current)==null||Q.focus():(O=u.current)==null||O.focus()}};return v.addEventListener("keydown",b),()=>v.removeEventListener("keydown",b)}},[a,y]),p.jsxs(hJ,{ref:l,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&p.jsx(F_,{ref:c,onFocusFromOutsideViewport:()=>{const v=y({tabbingDirection:"forwards"});BS(v)}}),p.jsx(HE.Slot,{scope:t,children:p.jsx(Qe.ol,{tabIndex:-1,...s,ref:d})}),g&&p.jsx(F_,{ref:u,onFocusFromOutsideViewport:()=>{const v=y({tabbingDirection:"backwards"});BS(v)}})]})});_z.displayName=kz;var Tz="ToastFocusProxy",F_=E.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...i}=n,s=Bx(Tz,t);return p.jsx(qx,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});F_.displayName=Tz;var Fx="Toast",bJ="toast.swipeStart",SJ="toast.swipeMove",kJ="toast.swipeCancel",_J="toast.swipeEnd",Pz=E.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:i,onOpenChange:s,...o}=n,[a=!0,l]=Wl({prop:r,defaultProp:i,onChange:s});return p.jsx(Qs,{present:t||a,children:p.jsx(CJ,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:sn(n.onPause),onResume:sn(n.onResume),onSwipeStart:Pe(n.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Pe(n.onSwipeMove,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Pe(n.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Pe(n.onSwipeEnd,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});Pz.displayName=Fx;var[TJ,PJ]=bz(Fx,{onClose(){}}),CJ=E.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:d,onSwipeEnd:m,...g}=n,y=Bx(Fx,t),[v,b]=E.useState(null),x=nt(e,j=>b(j)),S=E.useRef(null),$=E.useRef(null),P=i||y.duration,Q=E.useRef(0),O=E.useRef(P),_=E.useRef(0),{onToastAdd:k,onToastRemove:A}=y,C=sn(()=>{var V;(v==null?void 0:v.contains(document.activeElement))&&((V=y.viewport)==null||V.focus()),o()}),w=E.useCallback(j=>{!j||j===1/0||(window.clearTimeout(_.current),Q.current=new Date().getTime(),_.current=window.setTimeout(C,j))},[C]);E.useEffect(()=>{const j=y.viewport;if(j){const V=()=>{w(O.current),c==null||c()},M=()=>{const q=new Date().getTime()-Q.current;O.current=O.current-q,window.clearTimeout(_.current),l==null||l()};return j.addEventListener(q_,M),j.addEventListener(B_,V),()=>{j.removeEventListener(q_,M),j.removeEventListener(B_,V)}}},[y.viewport,P,l,c,w]),E.useEffect(()=>{s&&!y.isClosePausedRef.current&&w(P)},[s,P,y.isClosePausedRef,w]),E.useEffect(()=>(k(),()=>A()),[k,A]);const R=E.useMemo(()=>v?Iz(v):null,[v]);return y.viewport?p.jsxs(p.Fragment,{children:[R&&p.jsx(EJ,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),p.jsx(TJ,{scope:t,onClose:C,children:Mu.createPortal(p.jsx(HE.ItemSlot,{scope:t,children:p.jsx(uJ,{asChild:!0,onEscapeKeyDown:Pe(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||C(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(Qe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":y.swipeDirection,...g,ref:x,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:Pe(n.onKeyDown,j=>{j.key==="Escape"&&(a==null||a(j.nativeEvent),j.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,C()))}),onPointerDown:Pe(n.onPointerDown,j=>{j.button===0&&(S.current={x:j.clientX,y:j.clientY})}),onPointerMove:Pe(n.onPointerMove,j=>{if(!S.current)return;const V=j.clientX-S.current.x,M=j.clientY-S.current.y,q=!!$.current,U=["left","right"].includes(y.swipeDirection),Z=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,ne=U?Z(0,V):0,X=U?0:Z(0,M),F=j.pointerType==="touch"?10:2,G={x:ne,y:X},J={originalEvent:j,delta:G};q?($.current=G,vy(SJ,h,J,{discrete:!1})):O2(G,y.swipeDirection,F)?($.current=G,vy(bJ,u,J,{discrete:!1}),j.target.setPointerCapture(j.pointerId)):(Math.abs(V)>F||Math.abs(M)>F)&&(S.current=null)}),onPointerUp:Pe(n.onPointerUp,j=>{const V=$.current,M=j.target;if(M.hasPointerCapture(j.pointerId)&&M.releasePointerCapture(j.pointerId),$.current=null,S.current=null,V){const q=j.currentTarget,U={originalEvent:j,delta:V};O2(V,y.swipeDirection,y.swipeThreshold)?vy(_J,m,U,{discrete:!0}):vy(kJ,d,U,{discrete:!0}),q.addEventListener("click",Z=>Z.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),EJ=n=>{const{__scopeToast:e,children:t,...r}=n,i=Bx(Fx,e),[s,o]=E.useState(!1),[a,l]=E.useState(!1);return QJ(()=>o(!0)),E.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:p.jsx(Zx,{asChild:!0,children:p.jsx(qx,{...r,children:s&&p.jsxs(p.Fragment,{children:[i.label," ",t]})})})},AJ="ToastTitle",Cz=E.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return p.jsx(Qe.div,{...r,ref:e})});Cz.displayName=AJ;var RJ="ToastDescription",Ez=E.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return p.jsx(Qe.div,{...r,ref:e})});Ez.displayName=RJ;var Az="ToastAction",Rz=E.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?p.jsx($z,{altText:t,asChild:!0,children:p.jsx(KE,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Az}\`. Expected non-empty \`string\`.`),null)});Rz.displayName=Az;var Qz="ToastClose",KE=E.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,i=PJ(Qz,t);return p.jsx($z,{asChild:!0,children:p.jsx(Qe.button,{type:"button",...r,ref:e,onClick:Pe(n.onClick,i.onClose)})})});KE.displayName=Qz;var $z=E.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...i}=n;return p.jsx(Qe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function Iz(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),$J(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Iz(r))}}),e}function vy(n,e,t,{discrete:r}){const i=t.originalEvent.currentTarget,s=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?yz(i,s):i.dispatchEvent(s)}var O2=(n,e,t=0)=>{const r=Math.abs(n.x),i=Math.abs(n.y),s=r>i;return e==="left"||e==="right"?s&&r>t:!s&&i>t};function QJ(n=()=>{}){const e=sn(n);$n(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function $J(n){return n.nodeType===n.ELEMENT_NODE}function IJ(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function BS(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var NJ=Sz,Nz=_z,jz=Pz,Dz=Cz,Mz=Ez,Vz=Rz,Lz=KE;function zz(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=zz(n[e]))&&(r&&(r+=" "),r+=t);else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function jJ(){for(var n,e,t=0,r="";t<arguments.length;)(n=arguments[t++])&&(e=zz(n))&&(r&&(r+=" "),r+=e);return r}const y2=n=>typeof n=="boolean"?"".concat(n):n===0?"0":n,v2=jJ,Wx=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return v2(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const u=t==null?void 0:t[c],h=s==null?void 0:s[c];if(u===null)return null;const d=y2(u)||y2(h);return i[c][d]}),a=t&&Object.entries(t).reduce((c,u)=>{let[h,d]=u;return d===void 0||(c[h]=d),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:h,className:d,...m}=u;return Object.entries(m).every(g=>{let[y,v]=g;return Array.isArray(v)?v.includes({...s,...a}[y]):{...s,...a}[y]===v})?[...c,h,d]:c},[]);return v2(n,o,l,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DJ=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Uz=(...n)=>n.filter((e,t,r)=>!!e&&r.indexOf(e)===t).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var MJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VJ=E.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>E.createElement("svg",{ref:l,...MJ,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:Uz("lucide",i),...a},[...o.map(([c,u])=>E.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=(n,e)=>{const t=E.forwardRef(({className:r,...i},s)=>E.createElement(VJ,{ref:s,iconNode:e,className:Uz(`lucide-${DJ(n)}`,r),...i}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LJ=$t("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=$t("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=$t("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=$t("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zJ=$t("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=$t("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UJ=$t("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZJ=$t("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=$t("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qJ=$t("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=$t("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=$t("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=$t("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BJ=$t("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FJ=$t("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=$t("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=$t("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WJ=$t("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XJ=$t("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=$t("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GJ=$t("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YJ=$t("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gf=$t("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HJ=$t("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KJ=$t("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=$t("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Zz(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=Zz(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function JJ(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=Zz(n))&&(r&&(r+=" "),r+=e);return r}const tA="-",eee=n=>{const e=nee(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:o=>{const a=o.split(tA);return a[0]===""&&a.length!==1&&a.shift(),qz(a,e)||tee(o)},getConflictingClassGroupIds:(o,a)=>{const l=t[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},qz=(n,e)=>{var o;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?qz(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=n.join(tA);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},x2=/^\[(.+)\]$/,tee=n=>{if(x2.test(n)){const e=x2.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},nee=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return iee(Object.entries(n.classGroups),t).forEach(([s,o])=>{W_(o,r,s,e)}),r},W_=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const s=i===""?e:b2(e,i);s.classGroupId=t;return}if(typeof i=="function"){if(ree(i)){W_(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([s,o])=>{W_(o,b2(e,s),t,r)})})},b2=(n,e)=>{let t=n;return e.split(tA).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},ree=n=>n.isThemeGetter,iee=(n,e)=>e?n.map(([t,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[t,i]}):n,see=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(s,o)=>{t.set(s,o),e++,e>n&&(e=0,r=t,t=new Map)};return{get(s){let o=t.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){t.has(s)?t.set(s,o):i(s,o)}}},Bz="!",oee=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,u=0,h;for(let v=0;v<a.length;v++){let b=a[v];if(c===0){if(b===i&&(r||a.slice(v,v+s)===e)){l.push(a.slice(u,v)),u=v+s;continue}if(b==="/"){h=v;continue}}b==="["?c++:b==="]"&&c--}const d=l.length===0?a:a.substring(u),m=d.startsWith(Bz),g=m?d.substring(1):d,y=h&&h>u?h-u:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:y}};return t?a=>t({className:a,parseClassName:o}):o},aee=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},lee=n=>({cache:see(n.cacheSize),parseClassName:oee(n),...eee(n)}),cee=/\s+/,uee=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=n.trim().split(cee);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:h,baseClassName:d,maybePostfixModifierPosition:m}=t(c);let g=!!m,y=r(g?d.substring(0,m):d);if(!y){if(!g){a=c+(a.length>0?" "+a:a);continue}if(y=r(d),!y){a=c+(a.length>0?" "+a:a);continue}g=!1}const v=aee(u).join(":"),b=h?v+Bz:v,x=b+y;if(s.includes(x))continue;s.push(x);const S=i(y,g);for(let $=0;$<S.length;++$){const P=S[$];s.push(b+P)}a=c+(a.length>0?" "+a:a)}return a};function hee(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=Fz(e))&&(r&&(r+=" "),r+=t);return r}const Fz=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=Fz(n[r]))&&(t&&(t+=" "),t+=e);return t};function dee(n,...e){let t,r,i,s=o;function o(l){const c=e.reduce((u,h)=>h(u),n());return t=lee(c),r=t.cache.get,i=t.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=uee(l,t);return i(l,u),u}return function(){return s(hee.apply(null,arguments))}}const Nt=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},Wz=/^\[(?:([a-z-]+):)?(.+)\]$/i,fee=/^\d+\/\d+$/,pee=new Set(["px","full","screen"]),mee=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,gee=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Oee=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,yee=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,vee=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Fo=n=>Zh(n)||pee.has(n)||fee.test(n),Wa=n=>Of(n,"length",Pee),Zh=n=>!!n&&!Number.isNaN(Number(n)),FS=n=>Of(n,"number",Zh),np=n=>!!n&&Number.isInteger(Number(n)),wee=n=>n.endsWith("%")&&Zh(n.slice(0,-1)),We=n=>Wz.test(n),Xa=n=>mee.test(n),xee=new Set(["length","size","percentage"]),bee=n=>Of(n,xee,Xz),See=n=>Of(n,"position",Xz),kee=new Set(["image","url"]),_ee=n=>Of(n,kee,Eee),Tee=n=>Of(n,"",Cee),rp=()=>!0,Of=(n,e,t)=>{const r=Wz.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},Pee=n=>gee.test(n)&&!Oee.test(n),Xz=()=>!1,Cee=n=>yee.test(n),Eee=n=>vee.test(n),Aee=()=>{const n=Nt("colors"),e=Nt("spacing"),t=Nt("blur"),r=Nt("brightness"),i=Nt("borderColor"),s=Nt("borderRadius"),o=Nt("borderSpacing"),a=Nt("borderWidth"),l=Nt("contrast"),c=Nt("grayscale"),u=Nt("hueRotate"),h=Nt("invert"),d=Nt("gap"),m=Nt("gradientColorStops"),g=Nt("gradientColorStopPositions"),y=Nt("inset"),v=Nt("margin"),b=Nt("opacity"),x=Nt("padding"),S=Nt("saturate"),$=Nt("scale"),P=Nt("sepia"),Q=Nt("skew"),O=Nt("space"),_=Nt("translate"),k=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto",We,e],w=()=>[We,e],R=()=>["",Fo,Wa],j=()=>["auto",Zh,We],V=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>["start","end","center","between","around","evenly","stretch"],Z=()=>["","0",We],ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],X=()=>[Zh,We];return{cacheSize:500,separator:":",theme:{colors:[rp],spacing:[Fo,Wa],blur:["none","",Xa,We],brightness:X(),borderColor:[n],borderRadius:["none","","full",Xa,We],borderSpacing:w(),borderWidth:R(),contrast:X(),grayscale:Z(),hueRotate:X(),invert:Z(),gap:w(),gradientColorStops:[n],gradientColorStopPositions:[wee,Wa],inset:C(),margin:C(),opacity:X(),padding:w(),saturate:X(),scale:X(),sepia:Z(),skew:X(),space:w(),translate:w()},classGroups:{aspect:[{aspect:["auto","square","video",We]}],container:["container"],columns:[{columns:[Xa]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...V(),We]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",np,We]}],basis:[{basis:C()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",We]}],grow:[{grow:Z()}],shrink:[{shrink:Z()}],order:[{order:["first","last","none",np,We]}],"grid-cols":[{"grid-cols":[rp]}],"col-start-end":[{col:["auto",{span:["full",np,We]},We]}],"col-start":[{"col-start":j()}],"col-end":[{"col-end":j()}],"grid-rows":[{"grid-rows":[rp]}],"row-start-end":[{row:["auto",{span:[np,We]},We]}],"row-start":[{"row-start":j()}],"row-end":[{"row-end":j()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",We]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",We]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...U()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...U(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...U(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[O]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[O]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",We,e]}],"min-w":[{"min-w":[We,e,"min","max","fit"]}],"max-w":[{"max-w":[We,e,"none","full","min","max","fit","prose",{screen:[Xa]},Xa]}],h:[{h:[We,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[We,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[We,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[We,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Xa,Wa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",FS]}],"font-family":[{font:[rp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",We]}],"line-clamp":[{"line-clamp":["none",Zh,FS]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Fo,We]}],"list-image":[{"list-image":["none",We]}],"list-style-type":[{list:["none","disc","decimal",We]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Fo,Wa]}],"underline-offset":[{"underline-offset":["auto",Fo,We]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:w()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",We]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",We]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...V(),See]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",bee]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},_ee]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...M(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:M()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...M()]}],"outline-offset":[{"outline-offset":[Fo,We]}],"outline-w":[{outline:[Fo,Wa]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Fo,Wa]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",Xa,Tee]}],"shadow-color":[{shadow:[rp]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Xa,We]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[S]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",We]}],duration:[{duration:X()}],ease:[{ease:["linear","in","out","in-out",We]}],delay:[{delay:X()}],animate:[{animate:["none","spin","ping","pulse","bounce",We]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[$]}],"scale-x":[{"scale-x":[$]}],"scale-y":[{"scale-y":[$]}],rotate:[{rotate:[np,We]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[Q]}],"skew-y":[{"skew-y":[Q]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",We]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",We]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":w()}],"scroll-mx":[{"scroll-mx":w()}],"scroll-my":[{"scroll-my":w()}],"scroll-ms":[{"scroll-ms":w()}],"scroll-me":[{"scroll-me":w()}],"scroll-mt":[{"scroll-mt":w()}],"scroll-mr":[{"scroll-mr":w()}],"scroll-mb":[{"scroll-mb":w()}],"scroll-ml":[{"scroll-ml":w()}],"scroll-p":[{"scroll-p":w()}],"scroll-px":[{"scroll-px":w()}],"scroll-py":[{"scroll-py":w()}],"scroll-ps":[{"scroll-ps":w()}],"scroll-pe":[{"scroll-pe":w()}],"scroll-pt":[{"scroll-pt":w()}],"scroll-pr":[{"scroll-pr":w()}],"scroll-pb":[{"scroll-pb":w()}],"scroll-pl":[{"scroll-pl":w()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",We]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Fo,Wa,FS]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Ree=dee(Aee);function Le(...n){return Ree(JJ(n))}const Qee=NJ,Gz=E.forwardRef(({className:n,...e},t)=>p.jsx(Nz,{ref:t,className:Le("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));Gz.displayName=Nz.displayName;const $ee=Wx("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Yz=E.forwardRef(({className:n,variant:e,...t},r)=>p.jsx(jz,{ref:r,className:Le($ee({variant:e}),n),...t}));Yz.displayName=jz.displayName;const Iee=E.forwardRef(({className:n,...e},t)=>p.jsx(Vz,{ref:t,className:Le("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));Iee.displayName=Vz.displayName;const Hz=E.forwardRef(({className:n,...e},t)=>p.jsx(Lz,{ref:t,className:Le("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:p.jsx(eA,{className:"h-4 w-4"})}));Hz.displayName=Lz.displayName;const Kz=E.forwardRef(({className:n,...e},t)=>p.jsx(Dz,{ref:t,className:Le("text-sm font-semibold",n),...e}));Kz.displayName=Dz.displayName;const Jz=E.forwardRef(({className:n,...e},t)=>p.jsx(Mz,{ref:t,className:Le("text-sm opacity-90",n),...e}));Jz.displayName=Mz.displayName;function Nee(){const{toasts:n}=oi();return p.jsxs(Qee,{children:[n.map(function({id:e,title:t,description:r,action:i,...s}){return p.jsxs(Yz,{...s,children:[p.jsxs("div",{className:"grid gap-1",children:[t&&p.jsx(Kz,{children:t}),r&&p.jsx(Jz,{children:r})]}),i,p.jsx(Hz,{})]},e)}),p.jsx(Gz,{})]})}const jee=()=>{};var S2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eU=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Dee=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],o=n[t++],a=n[t++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},tU={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0,u=s>>2,h=(s&3)<<4|a>>4;let d=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(d=64)),r.push(t[u],t[h],t[d],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(eU(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Dee(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const h=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new Mee;const d=s<<2|a>>4;if(r.push(d),c!==64){const m=a<<4&240|c>>2;if(r.push(m),h!==64){const g=c<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Mee extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Vee=function(n){const e=eU(n);return tU.encodeByteArray(e,!0)},Kv=function(n){return Vee(n).replace(/\./g,"")},nU=function(n){try{return tU.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lee(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zee=()=>Lee().__FIREBASE_DEFAULTS__,Uee=()=>{if(typeof process>"u"||typeof S2>"u")return;const n=S2.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Zee=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&nU(n[1]);return e&&JSON.parse(e)},Xx=()=>{try{return jee()||zee()||Uee()||Zee()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},rU=n=>{var e,t;return(t=(e=Xx())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},iU=n=>{const e=rU(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},sU=()=>{var n;return(n=Xx())===null||n===void 0?void 0:n.config},oU=n=>{var e;return(e=Xx())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qee{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aU(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Kv(JSON.stringify(t)),Kv(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Bee(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kr())}function Fee(){var n;const e=(n=Xx())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Wee(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Xee(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Gee(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Yee(){const n=kr();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Hee(){return!Fee()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Kee(){try{return typeof indexedDB=="object"}catch{return!1}}function Jee(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ete="FirebaseError";class Do extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=ete,Object.setPrototypeOf(this,Do.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uO.prototype.create)}}class uO{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?tte(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Do(i,a,r)}}function tte(n,e){return n.replace(nte,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const nte=/\{\$([^}]+)}/g;function rte(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function vu(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(k2(s)&&k2(o)){if(!vu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function k2(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Tp(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Pp(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function ite(n,e){const t=new ste(n,e);return t.subscribe.bind(t)}class ste{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");ote(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=WS),i.error===void 0&&(i.error=WS),i.complete===void 0&&(i.complete=WS);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ote(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function WS(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(n){return n&&n._delegate?n._delegate:n}class Xl{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ate{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new qee;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cte(e))try{this.getOrInitializeService({instanceIdentifier:Lc})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Lc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Lc){return this.instances.has(e)}getOptions(e=Lc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lte(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Lc){return this.component?this.component.multipleInstances?e:Lc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lte(n){return n===Lc?void 0:n}function cte(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ute{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ate(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(et||(et={}));const hte={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},dte=et.INFO,fte={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},pte=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=fte[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class nA{constructor(e){this.name=e,this._logLevel=dte,this._logHandler=pte,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hte[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}const mte=(n,e)=>e.some(t=>n instanceof t);let _2,T2;function gte(){return _2||(_2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ote(){return T2||(T2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lU=new WeakMap,X_=new WeakMap,cU=new WeakMap,XS=new WeakMap,rA=new WeakMap;function yte(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Dl(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&lU.set(t,n)}).catch(()=>{}),rA.set(e,n),e}function vte(n){if(X_.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});X_.set(n,e)}let G_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return X_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||cU.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Dl(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function wte(n){G_=n(G_)}function xte(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(GS(this),e,...t);return cU.set(r,e.sort?e.sort():[e]),Dl(r)}:Ote().includes(n)?function(...e){return n.apply(GS(this),e),Dl(lU.get(this))}:function(...e){return Dl(n.apply(GS(this),e))}}function bte(n){return typeof n=="function"?xte(n):(n instanceof IDBTransaction&&vte(n),mte(n,gte())?new Proxy(n,G_):n)}function Dl(n){if(n instanceof IDBRequest)return yte(n);if(XS.has(n))return XS.get(n);const e=bte(n);return e!==n&&(XS.set(n,e),rA.set(e,n)),e}const GS=n=>rA.get(n);function Ste(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Dl(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Dl(o.result),l.oldVersion,l.newVersion,Dl(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const kte=["get","getKey","getAll","getAllKeys","count"],_te=["put","add","delete","clear"],YS=new Map;function P2(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(YS.get(e))return YS.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=_te.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||kte.includes(t)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[t](...a),i&&l.done]))[0]};return YS.set(e,s),s}wte(n=>({...n,get:(e,t,r)=>P2(e,t)||n.get(e,t,r),has:(e,t)=>!!P2(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tte{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Pte(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function Pte(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Y_="@firebase/app",C2="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=new nA("@firebase/app"),Cte="@firebase/app-compat",Ete="@firebase/analytics-compat",Ate="@firebase/analytics",Rte="@firebase/app-check-compat",Qte="@firebase/app-check",$te="@firebase/auth",Ite="@firebase/auth-compat",Nte="@firebase/database",jte="@firebase/data-connect",Dte="@firebase/database-compat",Mte="@firebase/functions",Vte="@firebase/functions-compat",Lte="@firebase/installations",zte="@firebase/installations-compat",Ute="@firebase/messaging",Zte="@firebase/messaging-compat",qte="@firebase/performance",Bte="@firebase/performance-compat",Fte="@firebase/remote-config",Wte="@firebase/remote-config-compat",Xte="@firebase/storage",Gte="@firebase/storage-compat",Yte="@firebase/firestore",Hte="@firebase/vertexai",Kte="@firebase/firestore-compat",Jte="firebase",ene="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="[DEFAULT]",tne={[Y_]:"fire-core",[Cte]:"fire-core-compat",[Ate]:"fire-analytics",[Ete]:"fire-analytics-compat",[Qte]:"fire-app-check",[Rte]:"fire-app-check-compat",[$te]:"fire-auth",[Ite]:"fire-auth-compat",[Nte]:"fire-rtdb",[jte]:"fire-data-connect",[Dte]:"fire-rtdb-compat",[Mte]:"fire-fn",[Vte]:"fire-fn-compat",[Lte]:"fire-iid",[zte]:"fire-iid-compat",[Ute]:"fire-fcm",[Zte]:"fire-fcm-compat",[qte]:"fire-perf",[Bte]:"fire-perf-compat",[Fte]:"fire-rc",[Wte]:"fire-rc-compat",[Xte]:"fire-gcs",[Gte]:"fire-gcs-compat",[Yte]:"fire-fst",[Kte]:"fire-fst-compat",[Hte]:"fire-vertex","fire-js":"fire-js",[Jte]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv=new Map,nne=new Map,K_=new Map;function E2(n,e){try{n.container.addComponent(e)}catch(t){_a.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function wu(n){const e=n.name;if(K_.has(e))return _a.debug(`There were multiple attempts to register component ${e}.`),!1;K_.set(e,n);for(const t of Jv.values())E2(t,n);for(const t of nne.values())E2(t,n);return!0}function Gx(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function gi(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rne={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ml=new uO("app","Firebase",rne);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ine{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ml.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lu=ene;function uU(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:H_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ml.create("bad-app-name",{appName:String(i)});if(t||(t=sU()),!t)throw Ml.create("no-options");const s=Jv.get(i);if(s){if(vu(t,s.options)&&vu(r,s.config))return s;throw Ml.create("duplicate-app",{appName:i})}const o=new ute(i);for(const l of K_.values())o.addComponent(l);const a=new ine(t,r,o);return Jv.set(i,a),a}function iA(n=H_){const e=Jv.get(n);if(!e&&n===H_&&sU())return uU();if(!e)throw Ml.create("no-app",{appName:n});return e}function co(n,e,t){var r;let i=(r=tne[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_a.warn(a.join(" "));return}wu(new Xl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sne="firebase-heartbeat-database",one=1,Lm="firebase-heartbeat-store";let HS=null;function hU(){return HS||(HS=Ste(sne,one,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Lm)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ml.create("idb-open",{originalErrorMessage:n.message})})),HS}async function ane(n){try{const t=(await hU()).transaction(Lm),r=await t.objectStore(Lm).get(dU(n));return await t.done,r}catch(e){if(e instanceof Do)_a.warn(e.message);else{const t=Ml.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_a.warn(t.message)}}}async function A2(n,e){try{const r=(await hU()).transaction(Lm,"readwrite");await r.objectStore(Lm).put(e,dU(n)),await r.done}catch(t){if(t instanceof Do)_a.warn(t.message);else{const r=Ml.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});_a.warn(r.message)}}}function dU(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lne=1024,cne=30;class une{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new dne(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=R2();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>cne){const o=fne(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){_a.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=R2(),{heartbeatsToSend:r,unsentEntries:i}=hne(this._heartbeatsCache.heartbeats),s=Kv(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return _a.warn(t),""}}}function R2(){return new Date().toISOString().substring(0,10)}function hne(n,e=lne){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Q2(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Q2(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class dne{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Kee()?Jee().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await ane(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return A2(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return A2(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Q2(n){return Kv(JSON.stringify({version:2,heartbeats:n})).length}function fne(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pne(n){wu(new Xl("platform-logger",e=>new Tte(e),"PRIVATE")),wu(new Xl("heartbeat",e=>new une(e),"PRIVATE")),co(Y_,C2,n),co(Y_,C2,"esm2017"),co("fire-js","")}pne("");var mne="firebase",gne="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */co(mne,gne,"app");var Ys=function(){return Ys=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Ys.apply(this,arguments)};function dO(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function One(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}function fU(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yne=fU,pU=new uO("auth","Firebase",fU());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew=new nA("@firebase/auth");function vne(n,...e){ew.logLevel<=et.WARN&&ew.warn(`Auth (${Lu}): ${n}`,...e)}function P0(n,...e){ew.logLevel<=et.ERROR&&ew.error(`Auth (${Lu}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(n,...e){throw sA(n,...e)}function uo(n,...e){return sA(n,...e)}function mU(n,e,t){const r=Object.assign(Object.assign({},yne()),{[e]:t});return new uO("auth","Firebase",r).create(e,{appName:n.name})}function Oa(n){return mU(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sA(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return pU.create(n,...e)}function Ne(n,e,...t){if(!n)throw sA(e,...t)}function ha(n){const e="INTERNAL ASSERTION FAILED: "+n;throw P0(e),new Error(e)}function Ta(n,e){n||ha(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function wne(){return $2()==="http:"||$2()==="https:"}function $2(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xne(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wne()||Xee()||"connection"in navigator)?navigator.onLine:!0}function bne(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ta(t>e,"Short delay should be less than long delay!"),this.isMobile=Bee()||Gee()}get(){return xne()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(n,e){Ta(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ha("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ha("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ha("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sne={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kne=new fO(3e4,6e4);function Va(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function La(n,e,t,r,i={}){return OU(n,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=hO(Object.assign({key:n.config.apiKey},o)).slice(1),l=await n._getAdditionalHeaders();l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode);const c=Object.assign({method:e,headers:l},s);return Wee()||(c.referrerPolicy="no-referrer"),gU.fetch()(yU(n,n.config.apiHost,t,a),c)})}async function OU(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Sne),e);try{const i=new Tne(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw xy(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw xy(n,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw xy(n,"email-already-in-use",o);if(l==="USER_DISABLED")throw xy(n,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw mU(n,u,c);ks(n,u)}}catch(i){if(i instanceof Do)throw i;ks(n,"network-request-failed",{message:String(i)})}}async function pO(n,e,t,r,i={}){const s=await La(n,e,t,r,i);return"mfaPendingCredential"in s&&ks(n,"multi-factor-auth-required",{_serverResponse:s}),s}function yU(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?oA(n.config,i):`${n.config.apiScheme}://${i}`}function _ne(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Tne{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(uo(this.auth,"network-request-failed")),kne.get())})}}function xy(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=uo(n,e,r);return i.customData._tokenResponse=t,i}function I2(n){return n!==void 0&&n.enterprise!==void 0}class Pne{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return _ne(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Cne(n,e){return La(n,"GET","/v2/recaptchaConfig",Va(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ene(n,e){return La(n,"POST","/v1/accounts:delete",e)}async function vU(n,e){return La(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ane(n,e=!1){const t=Gt(n),r=await t.getIdToken(e),i=aA(r);Ne(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:am(KS(i.auth_time)),issuedAtTime:am(KS(i.iat)),expirationTime:am(KS(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function KS(n){return Number(n)*1e3}function aA(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return P0("JWT malformed, contained fewer than 3 sections"),null;try{const i=nU(t);return i?JSON.parse(i):(P0("Failed to decode base64 JWT payload"),null)}catch(i){return P0("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function N2(n){const e=aA(n);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zm(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Do&&Rne(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Rne({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qne{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=am(this.lastLoginAt),this.creationTime=am(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tw(n){var e;const t=n.auth,r=await n.getIdToken(),i=await zm(n,vU(t,{idToken:r}));Ne(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?wU(s.providerUserInfo):[],a=Ine(n.providerData,o),l=n.isAnonymous,c=!(n.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new eT(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,h)}async function $ne(n){const e=Gt(n);await tw(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ine(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function wU(n){return n.map(e=>{var{providerId:t}=e,r=dO(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nne(n,e){const t=await OU(n,{},async()=>{const r=hO({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=yU(n,i,"/v1/token",`key=${s}`),a=await n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",gU.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function jne(n,e){return La(n,"POST","/v2/accounts:revokeToken",Va(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):N2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const t=N2(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await Nne(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new qh;return r&&(Ne(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Ne(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Ne(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qh,this.toJSON())}_performRefresh(){return ha("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ga(n,e){Ne(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class da{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=dO(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Qne(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new eT(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await zm(this,this.stsTokenManager.getToken(this.auth,e));return Ne(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Ane(this,e)}reload(){return $ne(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new da(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await tw(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gi(this.auth.app))return Promise.reject(Oa(this.auth));const e=await this.getIdToken();return await zm(this,Ene(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,l,c,u;const h=(r=t.displayName)!==null&&r!==void 0?r:void 0,d=(i=t.email)!==null&&i!==void 0?i:void 0,m=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=t.photoURL)!==null&&o!==void 0?o:void 0,y=(a=t.tenantId)!==null&&a!==void 0?a:void 0,v=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,b=(c=t.createdAt)!==null&&c!==void 0?c:void 0,x=(u=t.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:S,emailVerified:$,isAnonymous:P,providerData:Q,stsTokenManager:O}=t;Ne(S&&O,e,"internal-error");const _=qh.fromJSON(this.name,O);Ne(typeof S=="string",e,"internal-error"),Ga(h,e.name),Ga(d,e.name),Ne(typeof $=="boolean",e,"internal-error"),Ne(typeof P=="boolean",e,"internal-error"),Ga(m,e.name),Ga(g,e.name),Ga(y,e.name),Ga(v,e.name),Ga(b,e.name),Ga(x,e.name);const k=new da({uid:S,auth:e,email:d,emailVerified:$,displayName:h,isAnonymous:P,photoURL:g,phoneNumber:m,tenantId:y,stsTokenManager:_,createdAt:b,lastLoginAt:x});return Q&&Array.isArray(Q)&&(k.providerData=Q.map(A=>Object.assign({},A))),v&&(k._redirectEventId=v),k}static async _fromIdTokenResponse(e,t,r=!1){const i=new qh;i.updateFromServerResponse(t);const s=new da({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await tw(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Ne(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?wU(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new qh;a.updateFromIdToken(r);const l=new da({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new eT(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=new Map;function fa(n){Ta(n instanceof Function,"Expected a class definition");let e=j2.get(n);return e?(Ta(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,j2.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}xU.type="NONE";const D2=xU;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(n,e,t){return`firebase:${n}:${e}:${t}`}class Bh{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=C0(this.userKey,i.apiKey,s),this.fullPersistenceKey=C0("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?da._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Bh(fa(D2),e,r);const i=(await Promise.all(t.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||fa(D2);const o=C0(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const u=await c._get(o);if(u){const h=da._fromJSON(e,u);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Bh(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(t.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Bh(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_U(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bU(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(PU(e))return"Blackberry";if(CU(e))return"Webos";if(SU(e))return"Safari";if((e.includes("chrome/")||kU(e))&&!e.includes("edge/"))return"Chrome";if(TU(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function bU(n=kr()){return/firefox\//i.test(n)}function SU(n=kr()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kU(n=kr()){return/crios\//i.test(n)}function _U(n=kr()){return/iemobile/i.test(n)}function TU(n=kr()){return/android/i.test(n)}function PU(n=kr()){return/blackberry/i.test(n)}function CU(n=kr()){return/webos/i.test(n)}function lA(n=kr()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Dne(n=kr()){var e;return lA(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Mne(){return Yee()&&document.documentMode===10}function EU(n=kr()){return lA(n)||TU(n)||CU(n)||PU(n)||/windows phone/i.test(n)||_U(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AU(n,e=[]){let t;switch(n){case"Browser":t=M2(kr());break;case"Worker":t=`${M2(kr())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Lu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vne{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lne(n,e={}){return La(n,"GET","/v2/passwordPolicy",Va(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zne=6;class Une{constructor(e){var t,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:zne,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zne{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new V2(this),this.idTokenSubscription=new V2(this),this.beforeStateQueue=new Vne(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pU,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=fa(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Bh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await vU(this,{idToken:e}),r=await da._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(gi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await tw(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=bne()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gi(this.app))return Promise.reject(Oa(this));const t=e?Gt(e):null;return t&&Ne(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gi(this.app)?Promise.reject(Oa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gi(this.app)?Promise.reject(Oa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Lne(this),t=new Une(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new uO("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await jne(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&fa(e)||this._popupRedirectResolver;Ne(t,this,"argument-error"),this.redirectPersistenceManager=await Bh.create(this,[fa(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){const l=e.addObserver(t,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(t);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=AU(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(gi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&vne(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function bc(n){return Gt(n)}class V2{constructor(e){this.auth=e,this.observer=null,this.addObserver=ite(t=>this.observer=t)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yx={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qne(n){Yx=n}function RU(n){return Yx.loadJS(n)}function Bne(){return Yx.recaptchaEnterpriseScript}function Fne(){return Yx.gapiScript}function Wne(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class Xne{constructor(){this.enterprise=new Gne}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Gne{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Yne="recaptcha-enterprise",QU="NO_RECAPTCHA";class Hne{constructor(e){this.type=Yne,this.auth=bc(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{Cne(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new Pne(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;I2(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(QU)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Xne().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!t&&I2(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Bne();l.length!==0&&(l+=a),RU(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function L2(n,e,t,r=!1,i=!1){const s=new Hne(n);let o;if(i)o=QU;else try{o=await s.verify(t)}catch{o=await s.verify(t,!0)}const a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function nw(n,e,t,r,i){var s;if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await L2(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await L2(n,e,t,t==="getOobCode");return r(n,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kne(n,e){const t=Gx(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(vu(s,e??{}))return i;ks(i,"already-initialized")}return t.initialize({options:e})}function Jne(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(fa);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function ere(n,e,t){const r=bc(n);Ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=$U(e),{host:o,port:a}=tre(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},u=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ne(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ne(vu(c,r.config.emulator)&&vu(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,nre()}function $U(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function tre(n){const e=$U(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:z2(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:z2(o)}}}function z2(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function nre(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ha("not implemented")}_getIdTokenResponse(e){return ha("not implemented")}_linkToIdToken(e,t){return ha("not implemented")}_getReauthenticationResolver(e){return ha("not implemented")}}async function rre(n,e){return La(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ire(n,e){return pO(n,"POST","/v1/accounts:signInWithPassword",Va(n,e))}async function sre(n,e){return La(n,"POST","/v1/accounts:sendOobCode",Va(n,e))}async function ore(n,e){return sre(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function are(n,e){return pO(n,"POST","/v1/accounts:signInWithEmailLink",Va(n,e))}async function lre(n,e){return pO(n,"POST","/v1/accounts:signInWithEmailLink",Va(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um extends cA{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Um(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Um(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nw(e,t,"signInWithPassword",ire);case"emailLink":return are(e,{email:this._email,oobCode:this._password});default:ks(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nw(e,r,"signUpPassword",rre);case"emailLink":return lre(e,{idToken:t,email:this._email,oobCode:this._password});default:ks(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fh(n,e){return pO(n,"POST","/v1/accounts:signInWithIdp",Va(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cre="http://localhost";class xu extends cA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new xu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ks("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=dO(t,["providerId","signInMethod"]);if(!r||!i)return null;const o=new xu(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return Fh(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Fh(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Fh(e,t)}buildRequest(){const e={requestUri:cre,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=hO(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ure(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hre(n){const e=Tp(Pp(n)).link,t=e?Tp(Pp(e)).deep_link_id:null,r=Tp(Pp(n)).deep_link_id;return(r?Tp(Pp(r)).link:null)||r||t||e||n}class uA{constructor(e){var t,r,i,s,o,a;const l=Tp(Pp(e)),c=(t=l.apiKey)!==null&&t!==void 0?t:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,h=ure((i=l.mode)!==null&&i!==void 0?i:null);Ne(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const t=hre(e);try{return new uA(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(){this.providerId=yf.PROVIDER_ID}static credential(e,t){return Um._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=uA.parseLink(t);return Ne(r,"argument-error"),Um._fromEmailAndCode(e,r.code,r.tenantId)}}yf.PROVIDER_ID="password";yf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO extends IU{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl extends mO{constructor(){super("facebook.com")}static credential(e){return xu._fromParams({providerId:sl.PROVIDER_ID,signInMethod:sl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sl.credentialFromTaggedObject(e)}static credentialFromError(e){return sl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sl.credential(e.oauthAccessToken)}catch{return null}}}sl.FACEBOOK_SIGN_IN_METHOD="facebook.com";sl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol extends mO{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return xu._fromParams({providerId:ol.PROVIDER_ID,signInMethod:ol.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ol.credentialFromTaggedObject(e)}static credentialFromError(e){return ol.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ol.credential(t,r)}catch{return null}}}ol.GOOGLE_SIGN_IN_METHOD="google.com";ol.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al extends mO{constructor(){super("github.com")}static credential(e){return xu._fromParams({providerId:al.PROVIDER_ID,signInMethod:al.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return al.credentialFromTaggedObject(e)}static credentialFromError(e){return al.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return al.credential(e.oauthAccessToken)}catch{return null}}}al.GITHUB_SIGN_IN_METHOD="github.com";al.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll extends mO{constructor(){super("twitter.com")}static credential(e,t){return xu._fromParams({providerId:ll.PROVIDER_ID,signInMethod:ll.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ll.credentialFromTaggedObject(e)}static credentialFromError(e){return ll.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ll.credential(t,r)}catch{return null}}}ll.TWITTER_SIGN_IN_METHOD="twitter.com";ll.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dre(n,e){return pO(n,"POST","/v1/accounts:signUp",Va(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await da._fromIdTokenResponse(e,r,i),o=U2(r);return new bu({user:s,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=U2(r);return new bu({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function U2(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw extends Do{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,rw.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new rw(e,t,r,i)}}function NU(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?rw._fromErrorAndOperation(n,s,e,r):s})}async function fre(n,e,t=!1){const r=await zm(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return bu._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pre(n,e,t=!1){const{auth:r}=n;if(gi(r.app))return Promise.reject(Oa(r));const i="reauthenticate";try{const s=await zm(n,NU(r,i,e,n),t);Ne(s.idToken,r,"internal-error");const o=aA(s.idToken);Ne(o,r,"internal-error");const{sub:a}=o;return Ne(n.uid===a,r,"user-mismatch"),bu._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ks(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jU(n,e,t=!1){if(gi(n.app))return Promise.reject(Oa(n));const r="signIn",i=await NU(n,r,e),s=await bu._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function mre(n,e){return jU(bc(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DU(n){const e=bc(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function gre(n,e,t){const r=bc(n);await nw(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",ore)}async function Ore(n,e,t){if(gi(n.app))return Promise.reject(Oa(n));const r=bc(n),o=await nw(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",dre).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&DU(n),l}),a=await bu._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function yre(n,e,t){return gi(n.app)?Promise.reject(Oa(n)):mre(Gt(n),yf.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&DU(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vre(n,e){return Gt(n).setPersistence(e)}function wre(n,e,t,r){return Gt(n).onIdTokenChanged(e,t,r)}function xre(n,e,t){return Gt(n).beforeAuthStateChanged(e,t)}function bre(n,e,t,r){return Gt(n).onAuthStateChanged(e,t,r)}function Sre(n){return Gt(n).signOut()}const iw="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(iw,"1"),this.storage.removeItem(iw),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kre=1e3,_re=10;class VU extends MU{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=EU(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!t&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Mne()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,_re):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},kre)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}VU.type="LOCAL";const LU=VU;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU extends MU{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}zU.type="SESSION";const UU=zU;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tre(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Hx(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(t.origin,s)),l=await Tre(a);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hx.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pre{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=hA("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const d=h;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(){return window}function Cre(n){ho().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZU(){return typeof ho().WorkerGlobalScope<"u"&&typeof ho().importScripts=="function"}async function Ere(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Are(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Rre(){return ZU()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qU="firebaseLocalStorageDb",Qre=1,sw="firebaseLocalStorage",BU="fbase_key";class gO{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Kx(n,e){return n.transaction([sw],e?"readwrite":"readonly").objectStore(sw)}function $re(){const n=indexedDB.deleteDatabase(qU);return new gO(n).toPromise()}function tT(){const n=indexedDB.open(qU,Qre);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(sw,{keyPath:BU})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(sw)?e(r):(r.close(),await $re(),e(await tT()))})})}async function Z2(n,e,t){const r=Kx(n,!0).put({[BU]:e,value:t});return new gO(r).toPromise()}async function Ire(n,e){const t=Kx(n,!1).get(e),r=await new gO(t).toPromise();return r===void 0?null:r.value}function q2(n,e){const t=Kx(n,!0).delete(e);return new gO(t).toPromise()}const Nre=800,jre=3;class FU{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tT(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>jre)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZU()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hx._getInstance(Rre()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Ere(),!this.activeServiceWorker)return;this.sender=new Pre(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Are()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tT();return await Z2(e,iw,"1"),await q2(e,iw),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Z2(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>Ire(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>q2(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Kx(i,!1).getAll();return new gO(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Nre)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}FU.type="LOCAL";const Dre=FU;new fO(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mre(n,e){return e?fa(e):(Ne(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA extends cA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fh(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Fh(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Fh(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Vre(n){return jU(n.auth,new dA(n),n.bypassAuthState)}function Lre(n){const{auth:e,user:t}=n;return Ne(t,e,"internal-error"),pre(t,new dA(n),n.bypassAuthState)}async function zre(n){const{auth:e,user:t}=n;return Ne(t,e,"internal-error"),fre(t,new dA(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Vre;case"linkViaPopup":case"linkViaRedirect":return zre;case"reauthViaPopup":case"reauthViaRedirect":return Lre;default:ks(this.auth,"internal-error")}}resolve(e){Ta(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ta(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ure=new fO(2e3,1e4);class Th extends WU{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Th.currentPopupAction&&Th.currentPopupAction.cancel(),Th.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){Ta(this.filter.length===1,"Popup operations only handle one event");const e=hA();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(uo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(uo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Th.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(uo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Ure.get())};e()}}Th.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zre="pendingRedirect",E0=new Map;class qre extends WU{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=E0.get(this.auth._key());if(!e){try{const r=await Bre(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}E0.set(this.auth._key(),e)}return this.bypassAuthState||E0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Bre(n,e){const t=Xre(e),r=Wre(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function Fre(n,e){E0.set(n._key(),e)}function Wre(n){return fa(n._redirectPersistence)}function Xre(n){return C0(Zre,n.config.apiKey,n.name)}async function Gre(n,e,t=!1){if(gi(n.app))return Promise.reject(Oa(n));const r=bc(n),i=Mre(r,e),o=await new qre(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yre=10*60*1e3;class Hre{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Kre(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!XU(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(uo(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Yre&&this.cachedEventUids.clear(),this.cachedEventUids.has(B2(e))}saveEventToCache(e){this.cachedEventUids.add(B2(e)),this.lastProcessedEventTime=Date.now()}}function B2(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function XU({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Kre(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XU(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jre(n,e={}){return La(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eie=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tie=/^https?/;async function nie(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Jre(n);for(const t of e)try{if(rie(t))return}catch{}ks(n,"unauthorized-domain")}function rie(n){const e=J_(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!tie.test(t))return!1;if(eie.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iie=new fO(3e4,6e4);function F2(){const n=ho().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function sie(n){return new Promise((e,t)=>{var r,i,s;function o(){F2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{F2(),t(uo(n,"network-request-failed"))},timeout:iie.get()})}if(!((i=(r=ho().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ho().gapi)===null||s===void 0)&&s.load)o();else{const a=Wne("iframefcb");return ho()[a]=()=>{gapi.load?o():t(uo(n,"network-request-failed"))},RU(`${Fne()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw A0=null,e})}let A0=null;function oie(n){return A0=A0||sie(n),A0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aie=new fO(5e3,15e3),lie="__/auth/iframe",cie="emulator/auth/iframe",uie={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hie=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function die(n){const e=n.config;Ne(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?oA(e,cie):`https://${n.config.authDomain}/${lie}`,r={apiKey:e.apiKey,appName:n.name,v:Lu},i=hie.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${hO(r).slice(1)}`}async function fie(n){const e=await oie(n),t=ho().gapi;return Ne(t,n,"internal-error"),e.open({where:document.body,url:die(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uie,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=uo(n,"network-request-failed"),a=ho().setTimeout(()=>{s(o)},aie.get());function l(){ho().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pie={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mie=500,gie=600,Oie="_blank",yie="http://localhost";class W2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vie(n,e,t,r=mie,i=gie){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},pie),{width:r.toString(),height:i.toString(),top:s,left:o}),c=kr().toLowerCase();t&&(a=kU(c)?Oie:t),bU(c)&&(e=e||yie,l.scrollbars="yes");const u=Object.entries(l).reduce((d,[m,g])=>`${d}${m}=${g},`,"");if(Dne(c)&&a!=="_self")return wie(e||"",a),new W2(null);const h=window.open(e||"",a,u);Ne(h,n,"popup-blocked");try{h.focus()}catch{}return new W2(h)}function wie(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xie="__/auth/handler",bie="emulator/auth/handler",Sie=encodeURIComponent("fac");async function X2(n,e,t,r,i,s){Ne(n.config.authDomain,n,"auth-domain-config-required"),Ne(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Lu,eventId:i};if(e instanceof IU){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",rte(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries({}))o[u]=h}if(e instanceof mO){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await n._getAppCheckToken(),c=l?`#${Sie}=${encodeURIComponent(l)}`:"";return`${kie(n)}?${hO(a).slice(1)}${c}`}function kie({config:n}){return n.emulator?oA(n,bie):`https://${n.authDomain}/${xie}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS="webStorageSupport";class _ie{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UU,this._completeRedirectFn=Gre,this._overrideRedirectResult=Fre}async _openPopup(e,t,r,i){var s;Ta((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await X2(e,t,r,J_(),i);return vie(e,o,hA())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await X2(e,t,r,J_(),i);return Cre(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Ta(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await fie(e),r=new Hre(e);return t.register("authEvent",i=>(Ne(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(JS,{type:JS},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[JS];o!==void 0&&t(!!o),ks(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=nie(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return EU()||SU()||lA()}}const Tie=_ie;var G2="@firebase/auth",Y2="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pie{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cie(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Eie(n){wu(new Xl("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ne(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AU(n)},c=new Zne(r,i,s,l);return Jne(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),wu(new Xl("auth-internal",e=>{const t=bc(e.getProvider("auth").getImmediate());return(r=>new Pie(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),co(G2,Y2,Cie(n)),co(G2,Y2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aie=5*60,Rie=oU("authIdTokenMaxAge")||Aie;let H2=null;const Qie=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Rie)return;const i=t==null?void 0:t.token;H2!==i&&(H2=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function $ie(n=iA()){const e=Gx(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Kne(n,{popupRedirectResolver:Tie,persistence:[Dre,LU,UU]}),r=oU("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=Qie(s.toString());xre(t,o,()=>o(t.currentUser)),wre(t,a=>o(a))}}const i=rU("auth");return i&&ere(t,`http://${i}`),t}function Iie(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}qne({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=uo("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",Iie().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Eie("Browser");var K2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vl,GU;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,_){function k(){}k.prototype=_.prototype,O.D=_.prototype,O.prototype=new k,O.prototype.constructor=O,O.C=function(A,C,w){for(var R=Array(arguments.length-2),j=2;j<arguments.length;j++)R[j-2]=arguments[j];return _.prototype[C].apply(A,R)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(O,_,k){k||(k=0);var A=Array(16);if(typeof _=="string")for(var C=0;16>C;++C)A[C]=_.charCodeAt(k++)|_.charCodeAt(k++)<<8|_.charCodeAt(k++)<<16|_.charCodeAt(k++)<<24;else for(C=0;16>C;++C)A[C]=_[k++]|_[k++]<<8|_[k++]<<16|_[k++]<<24;_=O.g[0],k=O.g[1],C=O.g[2];var w=O.g[3],R=_+(w^k&(C^w))+A[0]+3614090360&4294967295;_=k+(R<<7&4294967295|R>>>25),R=w+(C^_&(k^C))+A[1]+3905402710&4294967295,w=_+(R<<12&4294967295|R>>>20),R=C+(k^w&(_^k))+A[2]+606105819&4294967295,C=w+(R<<17&4294967295|R>>>15),R=k+(_^C&(w^_))+A[3]+3250441966&4294967295,k=C+(R<<22&4294967295|R>>>10),R=_+(w^k&(C^w))+A[4]+4118548399&4294967295,_=k+(R<<7&4294967295|R>>>25),R=w+(C^_&(k^C))+A[5]+1200080426&4294967295,w=_+(R<<12&4294967295|R>>>20),R=C+(k^w&(_^k))+A[6]+2821735955&4294967295,C=w+(R<<17&4294967295|R>>>15),R=k+(_^C&(w^_))+A[7]+4249261313&4294967295,k=C+(R<<22&4294967295|R>>>10),R=_+(w^k&(C^w))+A[8]+1770035416&4294967295,_=k+(R<<7&4294967295|R>>>25),R=w+(C^_&(k^C))+A[9]+2336552879&4294967295,w=_+(R<<12&4294967295|R>>>20),R=C+(k^w&(_^k))+A[10]+4294925233&4294967295,C=w+(R<<17&4294967295|R>>>15),R=k+(_^C&(w^_))+A[11]+2304563134&4294967295,k=C+(R<<22&4294967295|R>>>10),R=_+(w^k&(C^w))+A[12]+1804603682&4294967295,_=k+(R<<7&4294967295|R>>>25),R=w+(C^_&(k^C))+A[13]+4254626195&4294967295,w=_+(R<<12&4294967295|R>>>20),R=C+(k^w&(_^k))+A[14]+2792965006&4294967295,C=w+(R<<17&4294967295|R>>>15),R=k+(_^C&(w^_))+A[15]+1236535329&4294967295,k=C+(R<<22&4294967295|R>>>10),R=_+(C^w&(k^C))+A[1]+4129170786&4294967295,_=k+(R<<5&4294967295|R>>>27),R=w+(k^C&(_^k))+A[6]+3225465664&4294967295,w=_+(R<<9&4294967295|R>>>23),R=C+(_^k&(w^_))+A[11]+643717713&4294967295,C=w+(R<<14&4294967295|R>>>18),R=k+(w^_&(C^w))+A[0]+3921069994&4294967295,k=C+(R<<20&4294967295|R>>>12),R=_+(C^w&(k^C))+A[5]+3593408605&4294967295,_=k+(R<<5&4294967295|R>>>27),R=w+(k^C&(_^k))+A[10]+38016083&4294967295,w=_+(R<<9&4294967295|R>>>23),R=C+(_^k&(w^_))+A[15]+3634488961&4294967295,C=w+(R<<14&4294967295|R>>>18),R=k+(w^_&(C^w))+A[4]+3889429448&4294967295,k=C+(R<<20&4294967295|R>>>12),R=_+(C^w&(k^C))+A[9]+568446438&4294967295,_=k+(R<<5&4294967295|R>>>27),R=w+(k^C&(_^k))+A[14]+3275163606&4294967295,w=_+(R<<9&4294967295|R>>>23),R=C+(_^k&(w^_))+A[3]+4107603335&4294967295,C=w+(R<<14&4294967295|R>>>18),R=k+(w^_&(C^w))+A[8]+1163531501&4294967295,k=C+(R<<20&4294967295|R>>>12),R=_+(C^w&(k^C))+A[13]+2850285829&4294967295,_=k+(R<<5&4294967295|R>>>27),R=w+(k^C&(_^k))+A[2]+4243563512&4294967295,w=_+(R<<9&4294967295|R>>>23),R=C+(_^k&(w^_))+A[7]+1735328473&4294967295,C=w+(R<<14&4294967295|R>>>18),R=k+(w^_&(C^w))+A[12]+2368359562&4294967295,k=C+(R<<20&4294967295|R>>>12),R=_+(k^C^w)+A[5]+4294588738&4294967295,_=k+(R<<4&4294967295|R>>>28),R=w+(_^k^C)+A[8]+2272392833&4294967295,w=_+(R<<11&4294967295|R>>>21),R=C+(w^_^k)+A[11]+1839030562&4294967295,C=w+(R<<16&4294967295|R>>>16),R=k+(C^w^_)+A[14]+4259657740&4294967295,k=C+(R<<23&4294967295|R>>>9),R=_+(k^C^w)+A[1]+2763975236&4294967295,_=k+(R<<4&4294967295|R>>>28),R=w+(_^k^C)+A[4]+1272893353&4294967295,w=_+(R<<11&4294967295|R>>>21),R=C+(w^_^k)+A[7]+4139469664&4294967295,C=w+(R<<16&4294967295|R>>>16),R=k+(C^w^_)+A[10]+3200236656&4294967295,k=C+(R<<23&4294967295|R>>>9),R=_+(k^C^w)+A[13]+681279174&4294967295,_=k+(R<<4&4294967295|R>>>28),R=w+(_^k^C)+A[0]+3936430074&4294967295,w=_+(R<<11&4294967295|R>>>21),R=C+(w^_^k)+A[3]+3572445317&4294967295,C=w+(R<<16&4294967295|R>>>16),R=k+(C^w^_)+A[6]+76029189&4294967295,k=C+(R<<23&4294967295|R>>>9),R=_+(k^C^w)+A[9]+3654602809&4294967295,_=k+(R<<4&4294967295|R>>>28),R=w+(_^k^C)+A[12]+3873151461&4294967295,w=_+(R<<11&4294967295|R>>>21),R=C+(w^_^k)+A[15]+530742520&4294967295,C=w+(R<<16&4294967295|R>>>16),R=k+(C^w^_)+A[2]+3299628645&4294967295,k=C+(R<<23&4294967295|R>>>9),R=_+(C^(k|~w))+A[0]+4096336452&4294967295,_=k+(R<<6&4294967295|R>>>26),R=w+(k^(_|~C))+A[7]+1126891415&4294967295,w=_+(R<<10&4294967295|R>>>22),R=C+(_^(w|~k))+A[14]+2878612391&4294967295,C=w+(R<<15&4294967295|R>>>17),R=k+(w^(C|~_))+A[5]+4237533241&4294967295,k=C+(R<<21&4294967295|R>>>11),R=_+(C^(k|~w))+A[12]+1700485571&4294967295,_=k+(R<<6&4294967295|R>>>26),R=w+(k^(_|~C))+A[3]+2399980690&4294967295,w=_+(R<<10&4294967295|R>>>22),R=C+(_^(w|~k))+A[10]+4293915773&4294967295,C=w+(R<<15&4294967295|R>>>17),R=k+(w^(C|~_))+A[1]+2240044497&4294967295,k=C+(R<<21&4294967295|R>>>11),R=_+(C^(k|~w))+A[8]+1873313359&4294967295,_=k+(R<<6&4294967295|R>>>26),R=w+(k^(_|~C))+A[15]+4264355552&4294967295,w=_+(R<<10&4294967295|R>>>22),R=C+(_^(w|~k))+A[6]+2734768916&4294967295,C=w+(R<<15&4294967295|R>>>17),R=k+(w^(C|~_))+A[13]+1309151649&4294967295,k=C+(R<<21&4294967295|R>>>11),R=_+(C^(k|~w))+A[4]+4149444226&4294967295,_=k+(R<<6&4294967295|R>>>26),R=w+(k^(_|~C))+A[11]+3174756917&4294967295,w=_+(R<<10&4294967295|R>>>22),R=C+(_^(w|~k))+A[2]+718787259&4294967295,C=w+(R<<15&4294967295|R>>>17),R=k+(w^(C|~_))+A[9]+3951481745&4294967295,O.g[0]=O.g[0]+_&4294967295,O.g[1]=O.g[1]+(C+(R<<21&4294967295|R>>>11))&4294967295,O.g[2]=O.g[2]+C&4294967295,O.g[3]=O.g[3]+w&4294967295}r.prototype.u=function(O,_){_===void 0&&(_=O.length);for(var k=_-this.blockSize,A=this.B,C=this.h,w=0;w<_;){if(C==0)for(;w<=k;)i(this,O,w),w+=this.blockSize;if(typeof O=="string"){for(;w<_;)if(A[C++]=O.charCodeAt(w++),C==this.blockSize){i(this,A),C=0;break}}else for(;w<_;)if(A[C++]=O[w++],C==this.blockSize){i(this,A),C=0;break}}this.h=C,this.o+=_},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var _=1;_<O.length-8;++_)O[_]=0;var k=8*this.o;for(_=O.length-8;_<O.length;++_)O[_]=k&255,k/=256;for(this.u(O),O=Array(16),_=k=0;4>_;++_)for(var A=0;32>A;A+=8)O[k++]=this.g[_]>>>A&255;return O};function s(O,_){var k=a;return Object.prototype.hasOwnProperty.call(k,O)?k[O]:k[O]=_(O)}function o(O,_){this.h=_;for(var k=[],A=!0,C=O.length-1;0<=C;C--){var w=O[C]|0;A&&w==_||(k[C]=w,A=!1)}this.g=k}var a={};function l(O){return-128<=O&&128>O?s(O,function(_){return new o([_|0],0>_?-1:0)}):new o([O|0],0>O?-1:0)}function c(O){if(isNaN(O)||!isFinite(O))return h;if(0>O)return v(c(-O));for(var _=[],k=1,A=0;O>=k;A++)_[A]=O/k|0,k*=4294967296;return new o(_,0)}function u(O,_){if(O.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(O.charAt(0)=="-")return v(u(O.substring(1),_));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=c(Math.pow(_,8)),A=h,C=0;C<O.length;C+=8){var w=Math.min(8,O.length-C),R=parseInt(O.substring(C,C+w),_);8>w?(w=c(Math.pow(_,w)),A=A.j(w).add(c(R))):(A=A.j(k),A=A.add(c(R)))}return A}var h=l(0),d=l(1),m=l(16777216);n=o.prototype,n.m=function(){if(y(this))return-v(this).m();for(var O=0,_=1,k=0;k<this.g.length;k++){var A=this.i(k);O+=(0<=A?A:4294967296+A)*_,_*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(g(this))return"0";if(y(this))return"-"+v(this).toString(O);for(var _=c(Math.pow(O,6)),k=this,A="";;){var C=$(k,_).g;k=b(k,C.j(_));var w=((0<k.g.length?k.g[0]:k.h)>>>0).toString(O);if(k=C,g(k))return w+A;for(;6>w.length;)w="0"+w;A=w+A}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function g(O){if(O.h!=0)return!1;for(var _=0;_<O.g.length;_++)if(O.g[_]!=0)return!1;return!0}function y(O){return O.h==-1}n.l=function(O){return O=b(this,O),y(O)?-1:g(O)?0:1};function v(O){for(var _=O.g.length,k=[],A=0;A<_;A++)k[A]=~O.g[A];return new o(k,~O.h).add(d)}n.abs=function(){return y(this)?v(this):this},n.add=function(O){for(var _=Math.max(this.g.length,O.g.length),k=[],A=0,C=0;C<=_;C++){var w=A+(this.i(C)&65535)+(O.i(C)&65535),R=(w>>>16)+(this.i(C)>>>16)+(O.i(C)>>>16);A=R>>>16,w&=65535,R&=65535,k[C]=R<<16|w}return new o(k,k[k.length-1]&-2147483648?-1:0)};function b(O,_){return O.add(v(_))}n.j=function(O){if(g(this)||g(O))return h;if(y(this))return y(O)?v(this).j(v(O)):v(v(this).j(O));if(y(O))return v(this.j(v(O)));if(0>this.l(m)&&0>O.l(m))return c(this.m()*O.m());for(var _=this.g.length+O.g.length,k=[],A=0;A<2*_;A++)k[A]=0;for(A=0;A<this.g.length;A++)for(var C=0;C<O.g.length;C++){var w=this.i(A)>>>16,R=this.i(A)&65535,j=O.i(C)>>>16,V=O.i(C)&65535;k[2*A+2*C]+=R*V,x(k,2*A+2*C),k[2*A+2*C+1]+=w*V,x(k,2*A+2*C+1),k[2*A+2*C+1]+=R*j,x(k,2*A+2*C+1),k[2*A+2*C+2]+=w*j,x(k,2*A+2*C+2)}for(A=0;A<_;A++)k[A]=k[2*A+1]<<16|k[2*A];for(A=_;A<2*_;A++)k[A]=0;return new o(k,0)};function x(O,_){for(;(O[_]&65535)!=O[_];)O[_+1]+=O[_]>>>16,O[_]&=65535,_++}function S(O,_){this.g=O,this.h=_}function $(O,_){if(g(_))throw Error("division by zero");if(g(O))return new S(h,h);if(y(O))return _=$(v(O),_),new S(v(_.g),v(_.h));if(y(_))return _=$(O,v(_)),new S(v(_.g),_.h);if(30<O.g.length){if(y(O)||y(_))throw Error("slowDivide_ only works with positive integers.");for(var k=d,A=_;0>=A.l(O);)k=P(k),A=P(A);var C=Q(k,1),w=Q(A,1);for(A=Q(A,2),k=Q(k,2);!g(A);){var R=w.add(A);0>=R.l(O)&&(C=C.add(k),w=R),A=Q(A,1),k=Q(k,1)}return _=b(O,C.j(_)),new S(C,_)}for(C=h;0<=O.l(_);){for(k=Math.max(1,Math.floor(O.m()/_.m())),A=Math.ceil(Math.log(k)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),w=c(k),R=w.j(_);y(R)||0<R.l(O);)k-=A,w=c(k),R=w.j(_);g(w)&&(w=d),C=C.add(w),O=b(O,R)}return new S(C,O)}n.A=function(O){return $(this,O).h},n.and=function(O){for(var _=Math.max(this.g.length,O.g.length),k=[],A=0;A<_;A++)k[A]=this.i(A)&O.i(A);return new o(k,this.h&O.h)},n.or=function(O){for(var _=Math.max(this.g.length,O.g.length),k=[],A=0;A<_;A++)k[A]=this.i(A)|O.i(A);return new o(k,this.h|O.h)},n.xor=function(O){for(var _=Math.max(this.g.length,O.g.length),k=[],A=0;A<_;A++)k[A]=this.i(A)^O.i(A);return new o(k,this.h^O.h)};function P(O){for(var _=O.g.length+1,k=[],A=0;A<_;A++)k[A]=O.i(A)<<1|O.i(A-1)>>>31;return new o(k,O.h)}function Q(O,_){var k=_>>5;_%=32;for(var A=O.g.length-k,C=[],w=0;w<A;w++)C[w]=0<_?O.i(w+k)>>>_|O.i(w+k+1)<<32-_:O.i(w+k);return new o(C,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,GU=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,Vl=o}).apply(typeof K2<"u"?K2:typeof self<"u"?self:typeof window<"u"?window:{});var by=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var YU,Cp,HU,R0,nT,KU,JU,eZ;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,T,I){return f==Array.prototype||f==Object.prototype||(f[T]=I.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof by=="object"&&by];for(var T=0;T<f.length;++T){var I=f[T];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=t(this);function i(f,T){if(T)e:{var I=r;f=f.split(".");for(var D=0;D<f.length-1;D++){var B=f[D];if(!(B in I))break e;I=I[B]}f=f[f.length-1],D=I[f],T=T(D),T!=D&&T!=null&&e(I,f,{configurable:!0,writable:!0,value:T})}}function s(f,T){f instanceof String&&(f+="");var I=0,D=!1,B={next:function(){if(!D&&I<f.length){var Y=I++;return{value:T(Y,f[Y]),done:!1}}return D=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}i("Array.prototype.values",function(f){return f||function(){return s(this,function(T,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(f){var T=typeof f;return T=T!="object"?T:f?Array.isArray(f)?"array":T:"null",T=="array"||T=="object"&&typeof f.length=="number"}function c(f){var T=typeof f;return T=="object"&&f!=null||T=="function"}function u(f,T,I){return f.call.apply(f.bind,arguments)}function h(f,T,I){if(!f)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,D),f.apply(T,B)}}return function(){return f.apply(T,arguments)}}function d(f,T,I){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,d.apply(null,arguments)}function m(f,T){var I=Array.prototype.slice.call(arguments,1);return function(){var D=I.slice();return D.push.apply(D,arguments),f.apply(this,D)}}function g(f,T){function I(){}I.prototype=T.prototype,f.aa=T.prototype,f.prototype=new I,f.prototype.constructor=f,f.Qb=function(D,B,Y){for(var he=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)he[xt-2]=arguments[xt];return T.prototype[B].apply(D,he)}}function y(f){const T=f.length;if(0<T){const I=Array(T);for(let D=0;D<T;D++)I[D]=f[D];return I}return[]}function v(f,T){for(let I=1;I<arguments.length;I++){const D=arguments[I];if(l(D)){const B=f.length||0,Y=D.length||0;f.length=B+Y;for(let he=0;he<Y;he++)f[B+he]=D[he]}else f.push(D)}}class b{constructor(T,I){this.i=T,this.j=I,this.h=0,this.g=null}get(){let T;return 0<this.h?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function x(f){return/^[\s\xa0]*$/.test(f)}function S(){var f=a.navigator;return f&&(f=f.userAgent)?f:""}function $(f){return $[" "](f),f}$[" "]=function(){};var P=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function Q(f,T,I){for(const D in f)T.call(I,f[D],D,f)}function O(f,T){for(const I in f)T.call(void 0,f[I],I,f)}function _(f){const T={};for(const I in f)T[I]=f[I];return T}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(f,T){let I,D;for(let B=1;B<arguments.length;B++){D=arguments[B];for(I in D)f[I]=D[I];for(let Y=0;Y<k.length;Y++)I=k[Y],Object.prototype.hasOwnProperty.call(D,I)&&(f[I]=D[I])}}function C(f){var T=1;f=f.split(":");const I=[];for(;0<T&&f.length;)I.push(f.shift()),T--;return f.length&&I.push(f.join(":")),I}function w(f){a.setTimeout(()=>{throw f},0)}function R(){var f=Z;let T=null;return f.g&&(T=f.g,f.g=f.g.next,f.g||(f.h=null),T.next=null),T}class j{constructor(){this.h=this.g=null}add(T,I){const D=V.get();D.set(T,I),this.h?this.h.next=D:this.g=D,this.h=D}}var V=new b(()=>new M,f=>f.reset());class M{constructor(){this.next=this.g=this.h=null}set(T,I){this.h=T,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let q,U=!1,Z=new j,ne=()=>{const f=a.Promise.resolve(void 0);q=()=>{f.then(X)}};var X=()=>{for(var f;f=R();){try{f.h.call(f.g)}catch(I){w(I)}var T=V;T.j(f),100>T.h&&(T.h++,f.next=T.g,T.g=f)}U=!1};function F(){this.s=this.s,this.C=this.C}F.prototype.s=!1,F.prototype.ma=function(){this.s||(this.s=!0,this.N())},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G(f,T){this.type=f,this.g=this.target=T,this.defaultPrevented=!1}G.prototype.h=function(){this.defaultPrevented=!0};var J=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,T=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const I=()=>{};a.addEventListener("test",I,T),a.removeEventListener("test",I,T)}catch{}return f}();function oe(f,T){if(G.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var I=this.type=f.type,D=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=T,T=f.relatedTarget){if(P){e:{try{$(T.nodeName);var B=!0;break e}catch{}B=!1}B||(T=null)}}else I=="mouseover"?T=f.fromElement:I=="mouseout"&&(T=f.toElement);this.relatedTarget=T,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Se[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&oe.aa.h.call(this)}}g(oe,G);var Se={2:"touch",3:"pen",4:"mouse"};oe.prototype.h=function(){oe.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var le="closure_listenable_"+(1e6*Math.random()|0),_e=0;function mt(f,T,I,D,B){this.listener=f,this.proxy=null,this.src=T,this.type=I,this.capture=!!D,this.ha=B,this.key=++_e,this.da=this.fa=!1}function Ze(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Be(f){this.src=f,this.g={},this.h=0}Be.prototype.add=function(f,T,I,D,B){var Y=f.toString();f=this.g[Y],f||(f=this.g[Y]=[],this.h++);var he=pn(f,T,D,B);return-1<he?(T=f[he],I||(T.fa=!1)):(T=new mt(T,this.src,Y,!!D,B),T.fa=I,f.push(T)),T};function Ye(f,T){var I=T.type;if(I in f.g){var D=f.g[I],B=Array.prototype.indexOf.call(D,T,void 0),Y;(Y=0<=B)&&Array.prototype.splice.call(D,B,1),Y&&(Ze(T),f.g[I].length==0&&(delete f.g[I],f.h--))}}function pn(f,T,I,D){for(var B=0;B<f.length;++B){var Y=f[B];if(!Y.da&&Y.listener==T&&Y.capture==!!I&&Y.ha==D)return B}return-1}var Bn="closure_lm_"+(1e6*Math.random()|0),js={};function Zo(f,T,I,D,B){if(Array.isArray(T)){for(var Y=0;Y<T.length;Y++)Zo(f,T[Y],I,D,B);return null}return I=Fe(I),f&&f[le]?f.K(T,I,c(D)?!!D.capture:!!D,B):Ua(f,T,I,!1,D,B)}function Ua(f,T,I,D,B,Y){if(!T)throw Error("Invalid event type");var he=c(B)?!!B.capture:!!B,xt=ae(f);if(xt||(f[Bn]=xt=new Be(f)),I=xt.add(T,I,D,he,Y),I.proxy)return I;if(D=L(),I.proxy=D,D.src=f,D.listener=I,f.addEventListener)J||(B=he),B===void 0&&(B=!1),f.addEventListener(T.toString(),D,B);else if(f.attachEvent)f.attachEvent(ge(T.toString()),D);else if(f.addListener&&f.removeListener)f.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return I}function L(){function f(I){return T.call(f.src,f.listener,I)}const T=fe;return f}function W(f,T,I,D,B){if(Array.isArray(T))for(var Y=0;Y<T.length;Y++)W(f,T[Y],I,D,B);else D=c(D)?!!D.capture:!!D,I=Fe(I),f&&f[le]?(f=f.i,T=String(T).toString(),T in f.g&&(Y=f.g[T],I=pn(Y,I,D,B),-1<I&&(Ze(Y[I]),Array.prototype.splice.call(Y,I,1),Y.length==0&&(delete f.g[T],f.h--)))):f&&(f=ae(f))&&(T=f.g[T.toString()],f=-1,T&&(f=pn(T,I,D,B)),(I=-1<f?T[f]:null)&&H(I))}function H(f){if(typeof f!="number"&&f&&!f.da){var T=f.src;if(T&&T[le])Ye(T.i,f);else{var I=f.type,D=f.proxy;T.removeEventListener?T.removeEventListener(I,D,f.capture):T.detachEvent?T.detachEvent(ge(I),D):T.addListener&&T.removeListener&&T.removeListener(D),(I=ae(T))?(Ye(I,f),I.h==0&&(I.src=null,T[Bn]=null)):Ze(f)}}}function ge(f){return f in js?js[f]:js[f]="on"+f}function fe(f,T){if(f.da)f=!0;else{T=new oe(T,this);var I=f.listener,D=f.ha||f.src;f.fa&&H(f),f=I.call(D,T)}return f}function ae(f){return f=f[Bn],f instanceof Be?f:null}var Ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fe(f){return typeof f=="function"?f:(f[Ee]||(f[Ee]=function(T){return f.handleEvent(T)}),f[Ee])}function rt(){F.call(this),this.i=new Be(this),this.M=this,this.F=null}g(rt,F),rt.prototype[le]=!0,rt.prototype.removeEventListener=function(f,T,I,D){W(this,f,T,I,D)};function lt(f,T){var I,D=f.F;if(D)for(I=[];D;D=D.F)I.push(D);if(f=f.M,D=T.type||T,typeof T=="string")T=new G(T,f);else if(T instanceof G)T.target=T.target||f;else{var B=T;T=new G(D,f),A(T,B)}if(B=!0,I)for(var Y=I.length-1;0<=Y;Y--){var he=T.g=I[Y];B=Ni(he,D,!0,T)&&B}if(he=T.g=f,B=Ni(he,D,!0,T)&&B,B=Ni(he,D,!1,T)&&B,I)for(Y=0;Y<I.length;Y++)he=T.g=I[Y],B=Ni(he,D,!1,T)&&B}rt.prototype.N=function(){if(rt.aa.N.call(this),this.i){var f=this.i,T;for(T in f.g){for(var I=f.g[T],D=0;D<I.length;D++)Ze(I[D]);delete f.g[T],f.h--}}this.F=null},rt.prototype.K=function(f,T,I,D){return this.i.add(String(f),T,!1,I,D)},rt.prototype.L=function(f,T,I,D){return this.i.add(String(f),T,!0,I,D)};function Ni(f,T,I,D){if(T=f.i.g[String(T)],!T)return!0;T=T.concat();for(var B=!0,Y=0;Y<T.length;++Y){var he=T[Y];if(he&&!he.da&&he.capture==I){var xt=he.listener,Fn=he.ha||he.src;he.fa&&Ye(f.i,he),B=xt.call(Fn,D)!==!1&&B}}return B&&!D.defaultPrevented}function jO(f,T,I){if(typeof f=="function")I&&(f=d(f,I));else if(f&&typeof f.handleEvent=="function")f=d(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(T)?-1:a.setTimeout(f,T||0)}function Bu(f){f.g=jO(()=>{f.g=null,f.i&&(f.i=!1,Bu(f))},f.l);const T=f.h;f.h=null,f.m.apply(null,T)}class If extends F{constructor(T,I){super(),this.m=T,this.l=I,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:Bu(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rc(f){F.call(this),this.h=f,this.g={}}g(Rc,F);var Nf=[];function DO(f){Q(f.g,function(T,I){this.g.hasOwnProperty(I)&&H(T)},f),f.g={}}Rc.prototype.N=function(){Rc.aa.N.call(this),DO(this)},Rc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fu=a.JSON.stringify,j8=a.JSON.parse,D8=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function Kb(){}Kb.prototype.h=null;function JQ(f){return f.h||(f.h=f.i())}function e$(){}var jf={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Jb(){G.call(this,"d")}g(Jb,G);function eS(){G.call(this,"c")}g(eS,G);var Qc={},t$=null;function MO(){return t$=t$||new rt}Qc.La="serverreachability";function n$(f){G.call(this,Qc.La,f)}g(n$,G);function Df(f){const T=MO();lt(T,new n$(T))}Qc.STAT_EVENT="statevent";function r$(f,T){G.call(this,Qc.STAT_EVENT,f),this.stat=T}g(r$,G);function Cr(f){const T=MO();lt(T,new r$(T,f))}Qc.Ma="timingevent";function i$(f,T){G.call(this,Qc.Ma,f),this.size=T}g(i$,G);function Mf(f,T){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},T)}function Vf(){this.g=!0}Vf.prototype.xa=function(){this.g=!1};function M8(f,T,I,D,B,Y){f.info(function(){if(f.g)if(Y)for(var he="",xt=Y.split("&"),Fn=0;Fn<xt.length;Fn++){var pt=xt[Fn].split("=");if(1<pt.length){var hr=pt[0];pt=pt[1];var dr=hr.split("_");he=2<=dr.length&&dr[1]=="type"?he+(hr+"="+pt+"&"):he+(hr+"=redacted&")}}else he=null;else he=Y;return"XMLHTTP REQ ("+D+") [attempt "+B+"]: "+T+`
`+I+`
`+he})}function V8(f,T,I,D,B,Y,he){f.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+B+"]: "+T+`
`+I+`
`+Y+" "+he})}function Wu(f,T,I,D){f.info(function(){return"XMLHTTP TEXT ("+T+"): "+z8(f,I)+(D?" "+D:"")})}function L8(f,T){f.info(function(){return"TIMEOUT: "+T})}Vf.prototype.info=function(){};function z8(f,T){if(!f.g)return T;if(!T)return null;try{var I=JSON.parse(T);if(I){for(f=0;f<I.length;f++)if(Array.isArray(I[f])){var D=I[f];if(!(2>D.length)){var B=D[1];if(Array.isArray(B)&&!(1>B.length)){var Y=B[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var he=1;he<B.length;he++)B[he]=""}}}}return Fu(I)}catch{return T}}var VO={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},s$={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},tS;function LO(){}g(LO,Kb),LO.prototype.g=function(){return new XMLHttpRequest},LO.prototype.i=function(){return{}},tS=new LO;function Za(f,T,I,D){this.j=f,this.i=T,this.l=I,this.R=D||1,this.U=new Rc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new o$}function o$(){this.i=null,this.g="",this.h=!1}var a$={},nS={};function rS(f,T,I){f.L=1,f.v=qO(qo(T)),f.m=I,f.P=!0,l$(f,null)}function l$(f,T){f.F=Date.now(),zO(f),f.A=qo(f.v);var I=f.A,D=f.R;Array.isArray(D)||(D=[String(D)]),b$(I.i,"t",D),f.C=0,I=f.j.J,f.h=new o$,f.g=L$(f.j,I?T:null,!f.m),0<f.O&&(f.M=new If(d(f.Y,f,f.g),f.O)),T=f.U,I=f.g,D=f.ca;var B="readystatechange";Array.isArray(B)||(B&&(Nf[0]=B.toString()),B=Nf);for(var Y=0;Y<B.length;Y++){var he=Zo(I,B[Y],D||T.handleEvent,!1,T.h||T);if(!he)break;T.g[he.key]=he}T=f.H?_(f.H):{},f.m?(f.u||(f.u="POST"),T["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,T)):(f.u="GET",f.g.ea(f.A,f.u,null,T)),Df(),M8(f.i,f.u,f.A,f.l,f.R,f.m)}Za.prototype.ca=function(f){f=f.target;const T=this.M;T&&Bo(f)==3?T.j():this.Y(f)},Za.prototype.Y=function(f){try{if(f==this.g)e:{const dr=Bo(this.g);var T=this.g.Ba();const Yu=this.g.Z();if(!(3>dr)&&(dr!=3||this.g&&(this.h.h||this.g.oa()||E$(this.g)))){this.J||dr!=4||T==7||(T==8||0>=Yu?Df(3):Df(2)),iS(this);var I=this.g.Z();this.X=I;t:if(c$(this)){var D=E$(this.g);f="";var B=D.length,Y=Bo(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$c(this),Lf(this);var he="";break t}this.h.i=new a.TextDecoder}for(T=0;T<B;T++)this.h.h=!0,f+=this.h.i.decode(D[T],{stream:!(Y&&T==B-1)});D.length=0,this.h.g+=f,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=I==200,V8(this.i,this.u,this.A,this.l,this.R,dr,I),this.o){if(this.T&&!this.K){t:{if(this.g){var xt,Fn=this.g;if((xt=Fn.g?Fn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(xt)){var pt=xt;break t}}pt=null}if(I=pt)Wu(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sS(this,I);else{this.o=!1,this.s=3,Cr(12),$c(this),Lf(this);break e}}if(this.P){I=!0;let rs;for(;!this.J&&this.C<he.length;)if(rs=U8(this,he),rs==nS){dr==4&&(this.s=4,Cr(14),I=!1),Wu(this.i,this.l,null,"[Incomplete Response]");break}else if(rs==a$){this.s=4,Cr(15),Wu(this.i,this.l,he,"[Invalid Chunk]"),I=!1;break}else Wu(this.i,this.l,rs,null),sS(this,rs);if(c$(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dr!=4||he.length!=0||this.h.h||(this.s=1,Cr(16),I=!1),this.o=this.o&&I,!I)Wu(this.i,this.l,he,"[Invalid Chunked Response]"),$c(this),Lf(this);else if(0<he.length&&!this.W){this.W=!0;var hr=this.j;hr.g==this&&hr.ba&&!hr.M&&(hr.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),hS(hr),hr.M=!0,Cr(11))}}else Wu(this.i,this.l,he,null),sS(this,he);dr==4&&$c(this),this.o&&!this.J&&(dr==4?j$(this.j,this):(this.o=!1,zO(this)))}else sG(this.g),I==400&&0<he.indexOf("Unknown SID")?(this.s=3,Cr(12)):(this.s=0,Cr(13)),$c(this),Lf(this)}}}catch{}finally{}};function c$(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function U8(f,T){var I=f.C,D=T.indexOf(`
`,I);return D==-1?nS:(I=Number(T.substring(I,D)),isNaN(I)?a$:(D+=1,D+I>T.length?nS:(T=T.slice(D,D+I),f.C=D+I,T)))}Za.prototype.cancel=function(){this.J=!0,$c(this)};function zO(f){f.S=Date.now()+f.I,u$(f,f.I)}function u$(f,T){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Mf(d(f.ba,f),T)}function iS(f){f.B&&(a.clearTimeout(f.B),f.B=null)}Za.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(L8(this.i,this.A),this.L!=2&&(Df(),Cr(17)),$c(this),this.s=2,Lf(this)):u$(this,this.S-f)};function Lf(f){f.j.G==0||f.J||j$(f.j,f)}function $c(f){iS(f);var T=f.M;T&&typeof T.ma=="function"&&T.ma(),f.M=null,DO(f.U),f.g&&(T=f.g,f.g=null,T.abort(),T.ma())}function sS(f,T){try{var I=f.j;if(I.G!=0&&(I.g==f||oS(I.h,f))){if(!f.K&&oS(I.h,f)&&I.G==3){try{var D=I.Da.g.parse(T)}catch{D=null}if(Array.isArray(D)&&D.length==3){var B=D;if(B[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<f.F)YO(I),XO(I);else break e;uS(I),Cr(18)}}else I.za=B[1],0<I.za-I.T&&37500>B[2]&&I.F&&I.v==0&&!I.C&&(I.C=Mf(d(I.Za,I),6e3));if(1>=f$(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else Nc(I,11)}else if((f.K||I.g==f)&&YO(I),!x(T))for(B=I.Da.g.parse(T),T=0;T<B.length;T++){let pt=B[T];if(I.T=pt[0],pt=pt[1],I.G==2)if(pt[0]=="c"){I.K=pt[1],I.ia=pt[2];const hr=pt[3];hr!=null&&(I.la=hr,I.j.info("VER="+I.la));const dr=pt[4];dr!=null&&(I.Aa=dr,I.j.info("SVER="+I.Aa));const Yu=pt[5];Yu!=null&&typeof Yu=="number"&&0<Yu&&(D=1.5*Yu,I.L=D,I.j.info("backChannelRequestTimeoutMs_="+D)),D=I;const rs=f.g;if(rs){const KO=rs.g?rs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(KO){var Y=D.h;Y.g||KO.indexOf("spdy")==-1&&KO.indexOf("quic")==-1&&KO.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(aS(Y,Y.h),Y.h=null))}if(D.D){const dS=rs.g?rs.g.getResponseHeader("X-HTTP-Session-Id"):null;dS&&(D.ya=dS,It(D.I,D.D,dS))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-f.F,I.j.info("Handshake RTT: "+I.R+"ms")),D=I;var he=f;if(D.qa=V$(D,D.J?D.ia:null,D.W),he.K){p$(D.h,he);var xt=he,Fn=D.L;Fn&&(xt.I=Fn),xt.B&&(iS(xt),zO(xt)),D.g=he}else I$(D);0<I.i.length&&GO(I)}else pt[0]!="stop"&&pt[0]!="close"||Nc(I,7);else I.G==3&&(pt[0]=="stop"||pt[0]=="close"?pt[0]=="stop"?Nc(I,7):cS(I):pt[0]!="noop"&&I.l&&I.l.ta(pt),I.v=0)}}Df(4)}catch{}}var Z8=class{constructor(f,T){this.g=f,this.map=T}};function h$(f){this.l=f||10,a.PerformanceNavigationTiming?(f=a.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function d$(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function f$(f){return f.h?1:f.g?f.g.size:0}function oS(f,T){return f.h?f.h==T:f.g?f.g.has(T):!1}function aS(f,T){f.g?f.g.add(T):f.h=T}function p$(f,T){f.h&&f.h==T?f.h=null:f.g&&f.g.has(T)&&f.g.delete(T)}h$.prototype.cancel=function(){if(this.i=m$(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function m$(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let T=f.i;for(const I of f.g.values())T=T.concat(I.D);return T}return y(f.i)}function q8(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var T=[],I=f.length,D=0;D<I;D++)T.push(f[D]);return T}T=[],I=0;for(D in f)T[I++]=f[D];return T}function B8(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var T=[];f=f.length;for(var I=0;I<f;I++)T.push(I);return T}T=[],I=0;for(const D in f)T[I++]=D;return T}}}function g$(f,T){if(f.forEach&&typeof f.forEach=="function")f.forEach(T,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,T,void 0);else for(var I=B8(f),D=q8(f),B=D.length,Y=0;Y<B;Y++)T.call(void 0,D[Y],I&&I[Y],f)}var O$=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function F8(f,T){if(f){f=f.split("&");for(var I=0;I<f.length;I++){var D=f[I].indexOf("="),B=null;if(0<=D){var Y=f[I].substring(0,D);B=f[I].substring(D+1)}else Y=f[I];T(Y,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Ic(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Ic){this.h=f.h,UO(this,f.j),this.o=f.o,this.g=f.g,ZO(this,f.s),this.l=f.l;var T=f.i,I=new Zf;I.i=T.i,T.g&&(I.g=new Map(T.g),I.h=T.h),y$(this,I),this.m=f.m}else f&&(T=String(f).match(O$))?(this.h=!1,UO(this,T[1]||"",!0),this.o=zf(T[2]||""),this.g=zf(T[3]||"",!0),ZO(this,T[4]),this.l=zf(T[5]||"",!0),y$(this,T[6]||"",!0),this.m=zf(T[7]||"")):(this.h=!1,this.i=new Zf(null,this.h))}Ic.prototype.toString=function(){var f=[],T=this.j;T&&f.push(Uf(T,v$,!0),":");var I=this.g;return(I||T=="file")&&(f.push("//"),(T=this.o)&&f.push(Uf(T,v$,!0),"@"),f.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&f.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&f.push("/"),f.push(Uf(I,I.charAt(0)=="/"?G8:X8,!0))),(I=this.i.toString())&&f.push("?",I),(I=this.m)&&f.push("#",Uf(I,H8)),f.join("")};function qo(f){return new Ic(f)}function UO(f,T,I){f.j=I?zf(T,!0):T,f.j&&(f.j=f.j.replace(/:$/,""))}function ZO(f,T){if(T){if(T=Number(T),isNaN(T)||0>T)throw Error("Bad port number "+T);f.s=T}else f.s=null}function y$(f,T,I){T instanceof Zf?(f.i=T,K8(f.i,f.h)):(I||(T=Uf(T,Y8)),f.i=new Zf(T,f.h))}function It(f,T,I){f.i.set(T,I)}function qO(f){return It(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function zf(f,T){return f?T?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Uf(f,T,I){return typeof f=="string"?(f=encodeURI(f).replace(T,W8),I&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function W8(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var v$=/[#\/\?@]/g,X8=/[#\?:]/g,G8=/[#\?]/g,Y8=/[#\?@]/g,H8=/#/g;function Zf(f,T){this.h=this.g=null,this.i=f||null,this.j=!!T}function qa(f){f.g||(f.g=new Map,f.h=0,f.i&&F8(f.i,function(T,I){f.add(decodeURIComponent(T.replace(/\+/g," ")),I)}))}n=Zf.prototype,n.add=function(f,T){qa(this),this.i=null,f=Xu(this,f);var I=this.g.get(f);return I||this.g.set(f,I=[]),I.push(T),this.h+=1,this};function w$(f,T){qa(f),T=Xu(f,T),f.g.has(T)&&(f.i=null,f.h-=f.g.get(T).length,f.g.delete(T))}function x$(f,T){return qa(f),T=Xu(f,T),f.g.has(T)}n.forEach=function(f,T){qa(this),this.g.forEach(function(I,D){I.forEach(function(B){f.call(T,B,D,this)},this)},this)},n.na=function(){qa(this);const f=Array.from(this.g.values()),T=Array.from(this.g.keys()),I=[];for(let D=0;D<T.length;D++){const B=f[D];for(let Y=0;Y<B.length;Y++)I.push(T[D])}return I},n.V=function(f){qa(this);let T=[];if(typeof f=="string")x$(this,f)&&(T=T.concat(this.g.get(Xu(this,f))));else{f=Array.from(this.g.values());for(let I=0;I<f.length;I++)T=T.concat(f[I])}return T},n.set=function(f,T){return qa(this),this.i=null,f=Xu(this,f),x$(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[T]),this.h+=1,this},n.get=function(f,T){return f?(f=this.V(f),0<f.length?String(f[0]):T):T};function b$(f,T,I){w$(f,T),0<I.length&&(f.i=null,f.g.set(Xu(f,T),y(I)),f.h+=I.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],T=Array.from(this.g.keys());for(var I=0;I<T.length;I++){var D=T[I];const Y=encodeURIComponent(String(D)),he=this.V(D);for(D=0;D<he.length;D++){var B=Y;he[D]!==""&&(B+="="+encodeURIComponent(String(he[D]))),f.push(B)}}return this.i=f.join("&")};function Xu(f,T){return T=String(T),f.j&&(T=T.toLowerCase()),T}function K8(f,T){T&&!f.j&&(qa(f),f.i=null,f.g.forEach(function(I,D){var B=D.toLowerCase();D!=B&&(w$(this,D),b$(this,B,I))},f)),f.j=T}function J8(f,T){const I=new Vf;if(a.Image){const D=new Image;D.onload=m(Ba,I,"TestLoadImage: loaded",!0,T,D),D.onerror=m(Ba,I,"TestLoadImage: error",!1,T,D),D.onabort=m(Ba,I,"TestLoadImage: abort",!1,T,D),D.ontimeout=m(Ba,I,"TestLoadImage: timeout",!1,T,D),a.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=f}else T(!1)}function eG(f,T){const I=new Vf,D=new AbortController,B=setTimeout(()=>{D.abort(),Ba(I,"TestPingServer: timeout",!1,T)},1e4);fetch(f,{signal:D.signal}).then(Y=>{clearTimeout(B),Y.ok?Ba(I,"TestPingServer: ok",!0,T):Ba(I,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(B),Ba(I,"TestPingServer: error",!1,T)})}function Ba(f,T,I,D,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),D(I)}catch{}}function tG(){this.g=new D8}function nG(f,T,I){const D=I||"";try{g$(f,function(B,Y){let he=B;c(B)&&(he=Fu(B)),T.push(D+Y+"="+encodeURIComponent(he))})}catch(B){throw T.push(D+"type="+encodeURIComponent("_badmap")),B}}function BO(f){this.l=f.Ub||null,this.j=f.eb||!1}g(BO,Kb),BO.prototype.g=function(){return new FO(this.l,this.j)},BO.prototype.i=function(f){return function(){return f}}({});function FO(f,T){rt.call(this),this.D=f,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(FO,rt),n=FO.prototype,n.open=function(f,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=T,this.readyState=1,Bf(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const T={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(T.body=f),(this.D||a).fetch(new Request(this.A,T)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qf(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Bf(this)),this.g&&(this.readyState=3,Bf(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;S$(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function S$(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var T=f.value?f.value:new Uint8Array(0);(T=this.v.decode(T,{stream:!f.done}))&&(this.response=this.responseText+=T)}f.done?qf(this):Bf(this),this.readyState==3&&S$(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,qf(this))},n.Qa=function(f){this.g&&(this.response=f,qf(this))},n.ga=function(){this.g&&qf(this)};function qf(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Bf(f)}n.setRequestHeader=function(f,T){this.u.append(f,T)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],T=this.h.entries();for(var I=T.next();!I.done;)I=I.value,f.push(I[0]+": "+I[1]),I=T.next();return f.join(`\r
`)};function Bf(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(FO.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function k$(f){let T="";return Q(f,function(I,D){T+=D,T+=":",T+=I,T+=`\r
`}),T}function lS(f,T,I){e:{for(D in I){var D=!1;break e}D=!0}D||(I=k$(I),typeof f=="string"?I!=null&&encodeURIComponent(String(I)):It(f,T,I))}function Ht(f){rt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(Ht,rt);var rG=/^https?$/i,iG=["POST","PUT"];n=Ht.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,T,I,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);T=T?T.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():tS.g(),this.v=this.o?JQ(this.o):JQ(tS),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(T,String(f),!0),this.B=!1}catch(Y){_$(this,Y);return}if(f=I||"",I=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var B in D)I.set(B,D[B]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const Y of D.keys())I.set(Y,D.get(Y));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(I.keys()).find(Y=>Y.toLowerCase()=="content-type"),B=a.FormData&&f instanceof a.FormData,!(0<=Array.prototype.indexOf.call(iG,T,void 0))||D||B||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,he]of I)this.g.setRequestHeader(Y,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{C$(this),this.u=!0,this.g.send(f),this.u=!1}catch(Y){_$(this,Y)}};function _$(f,T){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=T,f.m=5,T$(f),WO(f)}function T$(f){f.A||(f.A=!0,lt(f,"complete"),lt(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,lt(this,"complete"),lt(this,"abort"),WO(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),WO(this,!0)),Ht.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?P$(this):this.bb())},n.bb=function(){P$(this)};function P$(f){if(f.h&&typeof o<"u"&&(!f.v[1]||Bo(f)!=4||f.Z()!=2)){if(f.u&&Bo(f)==4)jO(f.Ea,0,f);else if(lt(f,"readystatechange"),Bo(f)==4){f.h=!1;try{const he=f.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var I;if(!(I=T)){var D;if(D=he===0){var B=String(f.D).match(O$)[1]||null;!B&&a.self&&a.self.location&&(B=a.self.location.protocol.slice(0,-1)),D=!rG.test(B?B.toLowerCase():"")}I=D}if(I)lt(f,"complete"),lt(f,"success");else{f.m=6;try{var Y=2<Bo(f)?f.g.statusText:""}catch{Y=""}f.l=Y+" ["+f.Z()+"]",T$(f)}}finally{WO(f)}}}}function WO(f,T){if(f.g){C$(f);const I=f.g,D=f.v[0]?()=>{}:null;f.g=null,f.v=null,T||lt(f,"ready");try{I.onreadystatechange=D}catch{}}}function C$(f){f.I&&(a.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function Bo(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<Bo(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var T=this.g.responseText;return f&&T.indexOf(f)==0&&(T=T.substring(f.length)),j8(T)}};function E$(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function sG(f){const T={};f=(f.g&&2<=Bo(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<f.length;D++){if(x(f[D]))continue;var I=C(f[D]);const B=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const Y=T[B]||[];T[B]=Y,Y.push(I)}O(T,function(D){return D.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ff(f,T,I){return I&&I.internalChannelParams&&I.internalChannelParams[f]||T}function A$(f){this.Aa=0,this.i=[],this.j=new Vf,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ff("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ff("baseRetryDelayMs",5e3,f),this.cb=Ff("retryDelaySeedMs",1e4,f),this.Wa=Ff("forwardChannelMaxRetries",2,f),this.wa=Ff("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new h$(f&&f.concurrentRequestLimit),this.Da=new tG,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=A$.prototype,n.la=8,n.G=1,n.connect=function(f,T,I,D){Cr(0),this.W=f,this.H=T||{},I&&D!==void 0&&(this.H.OSID=I,this.H.OAID=D),this.F=this.X,this.I=V$(this,null,this.W),GO(this)};function cS(f){if(R$(f),f.G==3){var T=f.U++,I=qo(f.I);if(It(I,"SID",f.K),It(I,"RID",T),It(I,"TYPE","terminate"),Wf(f,I),T=new Za(f,f.j,T),T.L=2,T.v=qO(qo(I)),I=!1,a.navigator&&a.navigator.sendBeacon)try{I=a.navigator.sendBeacon(T.v.toString(),"")}catch{}!I&&a.Image&&(new Image().src=T.v,I=!0),I||(T.g=L$(T.j,null),T.g.ea(T.v)),T.F=Date.now(),zO(T)}M$(f)}function XO(f){f.g&&(hS(f),f.g.cancel(),f.g=null)}function R$(f){XO(f),f.u&&(a.clearTimeout(f.u),f.u=null),YO(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&a.clearTimeout(f.s),f.s=null)}function GO(f){if(!d$(f.h)&&!f.s){f.s=!0;var T=f.Ga;q||ne(),U||(q(),U=!0),Z.add(T,f),f.B=0}}function oG(f,T){return f$(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=T.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Mf(d(f.Ga,f,T),D$(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const B=new Za(this,this.j,f);let Y=this.o;if(this.S&&(Y?(Y=_(Y),A(Y,this.S)):Y=this.S),this.m!==null||this.O||(B.H=Y,Y=null),this.P)e:{for(var T=0,I=0;I<this.i.length;I++){t:{var D=this.i[I];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(T+=D,4096<T){T=I;break e}if(T===4096||I===this.i.length-1){T=I+1;break e}}T=1e3}else T=1e3;T=$$(this,B,T),I=qo(this.I),It(I,"RID",f),It(I,"CVER",22),this.D&&It(I,"X-HTTP-Session-Id",this.D),Wf(this,I),Y&&(this.O?T="headers="+encodeURIComponent(String(k$(Y)))+"&"+T:this.m&&lS(I,this.m,Y)),aS(this.h,B),this.Ua&&It(I,"TYPE","init"),this.P?(It(I,"$req",T),It(I,"SID","null"),B.T=!0,rS(B,I,null)):rS(B,I,T),this.G=2}}else this.G==3&&(f?Q$(this,f):this.i.length==0||d$(this.h)||Q$(this))};function Q$(f,T){var I;T?I=T.l:I=f.U++;const D=qo(f.I);It(D,"SID",f.K),It(D,"RID",I),It(D,"AID",f.T),Wf(f,D),f.m&&f.o&&lS(D,f.m,f.o),I=new Za(f,f.j,I,f.B+1),f.m===null&&(I.H=f.o),T&&(f.i=T.D.concat(f.i)),T=$$(f,I,1e3),I.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),aS(f.h,I),rS(I,D,T)}function Wf(f,T){f.H&&Q(f.H,function(I,D){It(T,D,I)}),f.l&&g$({},function(I,D){It(T,D,I)})}function $$(f,T,I){I=Math.min(f.i.length,I);var D=f.l?d(f.l.Na,f.l,f):null;e:{var B=f.i;let Y=-1;for(;;){const he=["count="+I];Y==-1?0<I?(Y=B[0].g,he.push("ofs="+Y)):Y=0:he.push("ofs="+Y);let xt=!0;for(let Fn=0;Fn<I;Fn++){let pt=B[Fn].g;const hr=B[Fn].map;if(pt-=Y,0>pt)Y=Math.max(0,B[Fn].g-100),xt=!1;else try{nG(hr,he,"req"+pt+"_")}catch{D&&D(hr)}}if(xt){D=he.join("&");break e}}}return f=f.i.splice(0,I),T.D=f,D}function I$(f){if(!f.g&&!f.u){f.Y=1;var T=f.Fa;q||ne(),U||(q(),U=!0),Z.add(T,f),f.v=0}}function uS(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Mf(d(f.Fa,f),D$(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,N$(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Mf(d(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Cr(10),XO(this),N$(this))};function hS(f){f.A!=null&&(a.clearTimeout(f.A),f.A=null)}function N$(f){f.g=new Za(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var T=qo(f.qa);It(T,"RID","rpc"),It(T,"SID",f.K),It(T,"AID",f.T),It(T,"CI",f.F?"0":"1"),!f.F&&f.ja&&It(T,"TO",f.ja),It(T,"TYPE","xmlhttp"),Wf(f,T),f.m&&f.o&&lS(T,f.m,f.o),f.L&&(f.g.I=f.L);var I=f.g;f=f.ia,I.L=1,I.v=qO(qo(T)),I.m=null,I.P=!0,l$(I,f)}n.Za=function(){this.C!=null&&(this.C=null,XO(this),uS(this),Cr(19))};function YO(f){f.C!=null&&(a.clearTimeout(f.C),f.C=null)}function j$(f,T){var I=null;if(f.g==T){YO(f),hS(f),f.g=null;var D=2}else if(oS(f.h,T))I=T.D,p$(f.h,T),D=1;else return;if(f.G!=0){if(T.o)if(D==1){I=T.m?T.m.length:0,T=Date.now()-T.F;var B=f.B;D=MO(),lt(D,new i$(D,I)),GO(f)}else I$(f);else if(B=T.s,B==3||B==0&&0<T.X||!(D==1&&oG(f,T)||D==2&&uS(f)))switch(I&&0<I.length&&(T=f.h,T.i=T.i.concat(I)),B){case 1:Nc(f,5);break;case 4:Nc(f,10);break;case 3:Nc(f,6);break;default:Nc(f,2)}}}function D$(f,T){let I=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(I*=2),I*T}function Nc(f,T){if(f.j.info("Error code "+T),T==2){var I=d(f.fb,f),D=f.Xa;const B=!D;D=new Ic(D||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||UO(D,"https"),qO(D),B?J8(D.toString(),I):eG(D.toString(),I)}else Cr(2);f.G=0,f.l&&f.l.sa(T),M$(f),R$(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Cr(2)):(this.j.info("Failed to ping google.com"),Cr(1))};function M$(f){if(f.G=0,f.ka=[],f.l){const T=m$(f.h);(T.length!=0||f.i.length!=0)&&(v(f.ka,T),v(f.ka,f.i),f.h.i.length=0,y(f.i),f.i.length=0),f.l.ra()}}function V$(f,T,I){var D=I instanceof Ic?qo(I):new Ic(I);if(D.g!="")T&&(D.g=T+"."+D.g),ZO(D,D.s);else{var B=a.location;D=B.protocol,T=T?T+"."+B.hostname:B.hostname,B=+B.port;var Y=new Ic(null);D&&UO(Y,D),T&&(Y.g=T),B&&ZO(Y,B),I&&(Y.l=I),D=Y}return I=f.D,T=f.ya,I&&T&&It(D,I,T),It(D,"VER",f.la),Wf(f,D),D}function L$(f,T,I){if(T&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return T=f.Ca&&!f.pa?new Ht(new BO({eb:I})):new Ht(f.pa),T.Ha(f.J),T}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function z$(){}n=z$.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function HO(){}HO.prototype.g=function(f,T){return new li(f,T)};function li(f,T){rt.call(this),this.g=new A$(T),this.l=f,this.h=T&&T.messageUrlParams||null,f=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(f?f["X-WebChannel-Content-Type"]=T.messageContentType:f={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.va&&(f?f["X-WebChannel-Client-Profile"]=T.va:f={"X-WebChannel-Client-Profile":T.va}),this.g.S=f,(f=T&&T.Sb)&&!x(f)&&(this.g.m=f),this.v=T&&T.supportsCrossDomainXhr||!1,this.u=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!x(T)&&(this.g.D=T,f=this.h,f!==null&&T in f&&(f=this.h,T in f&&delete f[T])),this.j=new Gu(this)}g(li,rt),li.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},li.prototype.close=function(){cS(this.g)},li.prototype.o=function(f){var T=this.g;if(typeof f=="string"){var I={};I.__data__=f,f=I}else this.u&&(I={},I.__data__=Fu(f),f=I);T.i.push(new Z8(T.Ya++,f)),T.G==3&&GO(T)},li.prototype.N=function(){this.g.l=null,delete this.j,cS(this.g),delete this.g,li.aa.N.call(this)};function U$(f){Jb.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var T=f.__sm__;if(T){e:{for(const I in T){f=I;break e}f=void 0}(this.i=f)&&(f=this.i,T=T!==null&&f in T?T[f]:void 0),this.data=T}else this.data=f}g(U$,Jb);function Z$(){eS.call(this),this.status=1}g(Z$,eS);function Gu(f){this.g=f}g(Gu,z$),Gu.prototype.ua=function(){lt(this.g,"a")},Gu.prototype.ta=function(f){lt(this.g,new U$(f))},Gu.prototype.sa=function(f){lt(this.g,new Z$)},Gu.prototype.ra=function(){lt(this.g,"b")},HO.prototype.createWebChannel=HO.prototype.g,li.prototype.send=li.prototype.o,li.prototype.open=li.prototype.m,li.prototype.close=li.prototype.close,eZ=function(){return new HO},JU=function(){return MO()},KU=Qc,nT={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},VO.NO_ERROR=0,VO.TIMEOUT=8,VO.HTTP_ERROR=6,R0=VO,s$.COMPLETE="complete",HU=s$,e$.EventType=jf,jf.OPEN="a",jf.CLOSE="b",jf.ERROR="c",jf.MESSAGE="d",rt.prototype.listen=rt.prototype.K,Cp=e$,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,YU=Ht}).apply(typeof by<"u"?by:typeof self<"u"?self:typeof window<"u"?window:{});const J2="@firebase/firestore",eN="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Or.UNAUTHENTICATED=new Or(null),Or.GOOGLE_CREDENTIALS=new Or("google-credentials-uid"),Or.FIRST_PARTY=new Or("first-party-uid"),Or.MOCK_USER=new Or("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vf="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su=new nA("@firebase/firestore");function ah(){return Su.logLevel}function xe(n,...e){if(Su.logLevel<=et.DEBUG){const t=e.map(fA);Su.debug(`Firestore (${vf}): ${n}`,...t)}}function Pa(n,...e){if(Su.logLevel<=et.ERROR){const t=e.map(fA);Su.error(`Firestore (${vf}): ${n}`,...t)}}function Cd(n,...e){if(Su.logLevel<=et.WARN){const t=e.map(fA);Su.warn(`Firestore (${vf}): ${n}`,...t)}}function fA(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(n="Unexpected state"){const e=`FIRESTORE (${vf}) INTERNAL ASSERTION FAILED: `+n;throw Pa(e),new Error(e)}function yt(n,e){n||Ve()}function Ue(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends Do{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tZ{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Nie{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Or.UNAUTHENTICATED))}shutdown(){}}class jie{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Die{constructor(e){this.t=e,this.currentUser=Or.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){yt(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve();let s=new ya;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ya,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ya)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(yt(typeof r.accessToken=="string"),new tZ(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return yt(e===null||typeof e=="string"),new Or(e)}}class Mie{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Or.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Vie{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Mie(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Or.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Lie{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,gi(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){yt(this.o===void 0);const r=s=>{s.error!=null&&xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,xe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new tN(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(yt(typeof t.token=="string"),this.R=t.token,new tN(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zie(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nZ{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=zie(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}}function st(n,e){return n<e?-1:n>e?1:0}function Ed(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=-62135596800,rN=1e6;class Rn{static now(){return Rn.fromMillis(Date.now())}static fromDate(e){return Rn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*rN);return new Rn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new be(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new be(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<nN)throw new be(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rN}_compareTo(e){return this.seconds===e.seconds?st(this.nanoseconds,e.nanoseconds):st(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-nN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new Rn(0,0))}static max(){return new ze(new Rn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN="__name__";class qs{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ve(),r===void 0?r=e.length-t:r>e.length-t&&Ve(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return qs.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof qs?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=qs.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=qs.isNumericId(e),i=qs.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?qs.extractNumericId(e).compare(qs.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Vl.fromString(e.substring(4,e.length-2))}}class Mt extends qs{construct(e,t,r){return new Mt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new be(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Mt(t)}static emptyPath(){return new Mt([])}}const Uie=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sr extends qs{construct(e,t,r){return new sr(e,t,r)}static isValidIdentifier(e){return Uie.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===iN}static keyField(){return new sr([iN])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new be(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new be(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new be(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new be(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sr(t)}static emptyPath(){return new sr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(Mt.fromString(e))}static fromName(e){return new Ae(Mt.fromString(e).popFirst(5))}static empty(){return new Ae(Mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Mt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new Mt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm=-1;function Zie(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ze.fromTimestamp(r===1e9?new Rn(t+1,0):new Rn(t,r));return new Gl(i,Ae.empty(),e)}function qie(n){return new Gl(n.readTime,n.key,Zm)}class Gl{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Gl(ze.min(),Ae.empty(),Zm)}static max(){return new Gl(ze.max(),Ae.empty(),Zm)}}function Bie(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ae.comparator(n.documentKey,e.documentKey),t!==0?t:st(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fie="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Wie{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wf(n){if(n.code!==ee.FAILED_PRECONDITION||n.message!==Fie)throw n;xe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):te.reject(t)}static resolve(e){return new te((t,r)=>{t(e)})}static reject(e){return new te((t,r)=>{r(e)})}static waitFor(e){return new te((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},l=>r(l))}),o=!0,s===i&&t()})}static or(e){let t=te.resolve(!1);for(const r of e)t=t.next(i=>i?te.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new te((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;t(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,t){return new te((r,i)=>{const s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}}function Xie(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function xf(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Jx.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA=-1;function eb(n){return n==null}function ow(n){return n===0&&1/n==-1/0}function Gie(n){return typeof n=="number"&&Number.isInteger(n)&&!ow(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rZ="";function Yie(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=sN(e)),e=Hie(n.get(t),e);return sN(e)}function Hie(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="";break;case rZ:t+="";break;default:t+=s}}return t}function sN(n){return n+rZ+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Sc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function iZ(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,t){this.comparator=e,this.root=t||Gn.EMPTY}insert(e,t){return new Yt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Gn.BLACK,null,null))}remove(e){return new Yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sy(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sy(this.root,e,this.comparator,!0)}}class Sy{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gn{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Gn.RED,this.left=i??Gn.EMPTY,this.right=s??Gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Gn(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Gn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Gn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ve();const e=this.left.check();if(e!==this.right.check())throw Ve();return e+(this.isRed()?0:1)}}Gn.EMPTY=null,Gn.RED=!0,Gn.BLACK=!1;Gn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve()}get value(){throw Ve()}get color(){throw Ve()}get left(){throw Ve()}get right(){throw Ve()}copy(e,t,r,i,s){return this}insert(e,t,r){return new Gn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.comparator=e,this.data=new Yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new aN(this.data.getIterator())}getIteratorFrom(e){return new aN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Qn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Qn(this.comparator);return t.data=e,t}}class aN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e){this.fields=e,e.sort(sr.comparator)}static empty(){return new yi([])}unionWith(e){let t=new Qn(sr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new yi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ed(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sZ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new sZ("Invalid base64 string: "+s):s}}(e);return new cr(t)}static fromUint8Array(e){const t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new cr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return st(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cr.EMPTY_BYTE_STRING=new cr("");const Kie=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yl(n){if(yt(!!n),typeof n=="string"){let e=0;const t=Kie.exec(n);if(yt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:cn(n.seconds),nanos:cn(n.nanos)}}function cn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Hl(n){return typeof n=="string"?cr.fromBase64String(n):cr.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oZ="server_timestamp",aZ="__type__",lZ="__previous_value__",cZ="__local_write_time__";function mA(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[aZ])===null||t===void 0?void 0:t.stringValue)===oZ}function tb(n){const e=n.mapValue.fields[lZ];return mA(e)?tb(e):e}function qm(n){const e=Yl(n.mapValue.fields[cZ].timestampValue);return new Rn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jie{constructor(e,t,r,i,s,o,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}const aw="(default)";class Bm{constructor(e,t){this.projectId=e,this.database=t||aw}static empty(){return new Bm("","")}get isDefaultDatabase(){return this.database===aw}isEqual(e){return e instanceof Bm&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uZ="__type__",hZ="__max__",ky={mapValue:{fields:{__type__:{stringValue:hZ}}}},dZ="__vector__",lw="value";function Kl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?mA(n)?4:tse(n)?9007199254740991:ese(n)?10:11:Ve()}function wo(n,e){if(n===e)return!0;const t=Kl(n);if(t!==Kl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return qm(n).isEqual(qm(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Yl(i.timestampValue),a=Yl(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return Hl(i.bytesValue).isEqual(Hl(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return cn(i.geoPointValue.latitude)===cn(s.geoPointValue.latitude)&&cn(i.geoPointValue.longitude)===cn(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return cn(i.integerValue)===cn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=cn(i.doubleValue),a=cn(s.doubleValue);return o===a?ow(o)===ow(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return Ed(n.arrayValue.values||[],e.arrayValue.values||[],wo);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(oN(o)!==oN(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!wo(o[l],a[l])))return!1;return!0}(n,e);default:return Ve()}}function Fm(n,e){return(n.values||[]).find(t=>wo(t,e))!==void 0}function Ad(n,e){if(n===e)return 0;const t=Kl(n),r=Kl(e);if(t!==r)return st(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return st(n.booleanValue,e.booleanValue);case 2:return function(s,o){const a=cn(s.integerValue||s.doubleValue),l=cn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return lN(n.timestampValue,e.timestampValue);case 4:return lN(qm(n),qm(e));case 5:return st(n.stringValue,e.stringValue);case 6:return function(s,o){const a=Hl(s),l=Hl(o);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=st(a[c],l[c]);if(u!==0)return u}return st(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){const a=st(cn(s.latitude),cn(o.latitude));return a!==0?a:st(cn(s.longitude),cn(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return cN(n.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,u;const h=s.fields||{},d=o.fields||{},m=(a=h[lw])===null||a===void 0?void 0:a.arrayValue,g=(l=d[lw])===null||l===void 0?void 0:l.arrayValue,y=st(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0);return y!==0?y:cN(m,g)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===ky.mapValue&&o===ky.mapValue)return 0;if(s===ky.mapValue)return 1;if(o===ky.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const d=st(l[h],u[h]);if(d!==0)return d;const m=Ad(a[l[h]],c[u[h]]);if(m!==0)return m}return st(l.length,u.length)}(n.mapValue,e.mapValue);default:throw Ve()}}function lN(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return st(n,e);const t=Yl(n),r=Yl(e),i=st(t.seconds,r.seconds);return i!==0?i:st(t.nanos,r.nanos)}function cN(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=Ad(t[i],r[i]);if(s)return s}return st(t.length,r.length)}function Rd(n){return rT(n)}function rT(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Yl(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Hl(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ae.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=rT(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${rT(t.fields[o])}`;return i+"}"}(n.mapValue):Ve()}function Q0(n){switch(Kl(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tb(n);return e?16+Q0(e):16;case 5:return 2*n.stringValue.length;case 6:return Hl(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Q0(s),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Sc(r.fields,(s,o)=>{i+=s.length+Q0(o)}),i}(n.mapValue);default:throw Ve()}}function uN(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function iT(n){return!!n&&"integerValue"in n}function gA(n){return!!n&&"arrayValue"in n}function hN(n){return!!n&&"nullValue"in n}function dN(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function $0(n){return!!n&&"mapValue"in n}function ese(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[uZ])===null||t===void 0?void 0:t.stringValue)===dZ}function lm(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Sc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=lm(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=lm(n.arrayValue.values[t]);return e}return Object.assign({},n)}function tse(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===hZ}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e){this.value=e}static empty(){return new Jr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!$0(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=lm(t)}setAll(e){let t=sr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=lm(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());$0(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return wo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];$0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Sc(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Jr(lm(this.value))}}function fZ(n){const e=[];return Sc(n.fields,(t,r)=>{const i=new sr([t]);if($0(r)){const s=fZ(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new yi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new wr(e,0,ze.min(),ze.min(),ze.min(),Jr.empty(),0)}static newFoundDocument(e,t,r,i){return new wr(e,1,t,ze.min(),r,i,0)}static newNoDocument(e,t){return new wr(e,2,t,ze.min(),ze.min(),Jr.empty(),0)}static newUnknownDocument(e,t){return new wr(e,3,t,ze.min(),ze.min(),Jr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,t){this.position=e,this.inclusive=t}}function fN(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(s.field.isKeyField()?r=Ae.comparator(Ae.fromName(o.referenceValue),t.key):r=Ad(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function pN(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!wo(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,t="asc"){this.field=e,this.dir=t}}function nse(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pZ{}class wn extends pZ{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new ise(e,t,r):t==="array-contains"?new ase(e,r):t==="in"?new lse(e,r):t==="not-in"?new cse(e,r):t==="array-contains-any"?new use(e,r):new wn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new sse(e,r):new ose(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ad(t,this.value)):t!==null&&Kl(this.value)===Kl(t)&&this.matchesComparison(Ad(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _s extends pZ{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new _s(e,t)}matches(e){return mZ(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function mZ(n){return n.op==="and"}function gZ(n){return rse(n)&&mZ(n)}function rse(n){for(const e of n.filters)if(e instanceof _s)return!1;return!0}function sT(n){if(n instanceof wn)return n.field.canonicalString()+n.op.toString()+Rd(n.value);if(gZ(n))return n.filters.map(e=>sT(e)).join(",");{const e=n.filters.map(t=>sT(t)).join(",");return`${n.op}(${e})`}}function OZ(n,e){return n instanceof wn?function(r,i){return i instanceof wn&&r.op===i.op&&r.field.isEqual(i.field)&&wo(r.value,i.value)}(n,e):n instanceof _s?function(r,i){return i instanceof _s&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&OZ(o,i.filters[a]),!0):!1}(n,e):void Ve()}function yZ(n){return n instanceof wn?function(t){return`${t.field.canonicalString()} ${t.op} ${Rd(t.value)}`}(n):n instanceof _s?function(t){return t.op.toString()+" {"+t.getFilters().map(yZ).join(" ,")+"}"}(n):"Filter"}class ise extends wn{constructor(e,t,r){super(e,t,r),this.key=Ae.fromName(r.referenceValue)}matches(e){const t=Ae.comparator(e.key,this.key);return this.matchesComparison(t)}}class sse extends wn{constructor(e,t){super(e,"in",t),this.keys=vZ("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ose extends wn{constructor(e,t){super(e,"not-in",t),this.keys=vZ("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function vZ(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Ae.fromName(r.referenceValue))}class ase extends wn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return gA(t)&&Fm(t.arrayValue,this.value)}}class lse extends wn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Fm(this.value.arrayValue,t)}}class cse extends wn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Fm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Fm(this.value.arrayValue,t)}}class use extends wn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!gA(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Fm(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hse{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.le=null}}function mN(n,e=null,t=[],r=[],i=null,s=null,o=null){return new hse(n,e,t,r,i,s,o)}function OA(n){const e=Ue(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>sT(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),eb(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Rd(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Rd(r)).join(",")),e.le=t}return e.le}function yA(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!nse(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!OZ(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!pN(n.startAt,e.startAt)&&pN(n.endAt,e.endAt)}function oT(n){return Ae.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function dse(n,e,t,r,i,s,o,a){return new bf(n,e,t,r,i,s,o,a)}function vA(n){return new bf(n)}function gN(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function wZ(n){return n.collectionGroup!==null}function cm(n){const e=Ue(n);if(e.he===null){e.he=[];const t=new Set;for(const s of e.explicitOrderBy)e.he.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Qn(sr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.he.push(new Wm(s,r))}),t.has(sr.keyField().canonicalString())||e.he.push(new Wm(sr.keyField(),r))}return e.he}function fo(n){const e=Ue(n);return e.Pe||(e.Pe=fse(e,cm(n))),e.Pe}function fse(n,e){if(n.limitType==="F")return mN(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Wm(i.field,s)});const t=n.endAt?new cw(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new cw(n.startAt.position,n.startAt.inclusive):null;return mN(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function aT(n,e){const t=n.filters.concat([e]);return new bf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function uw(n,e,t){return new bf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function nb(n,e){return yA(fo(n),fo(e))&&n.limitType===e.limitType}function xZ(n){return`${OA(fo(n))}|lt:${n.limitType}`}function lh(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>yZ(i)).join(", ")}]`),eb(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Rd(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Rd(i)).join(",")),`Target(${r})`}(fo(n))}; limitType=${n.limitType})`}function rb(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ae.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of cm(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=fN(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,cm(r),i)||r.endAt&&!function(o,a,l){const c=fN(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,cm(r),i))}(n,e)}function pse(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function bZ(n){return(e,t)=>{let r=!1;for(const i of cm(n)){const s=mse(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function mse(n,e,t){const r=n.field.isKeyField()?Ae.comparator(e.key,t.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Ad(l,c):Ve()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Sc(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return iZ(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gse=new Yt(Ae.comparator);function Ca(){return gse}const SZ=new Yt(Ae.comparator);function Ep(...n){let e=SZ;for(const t of n)e=e.insert(t.key,t);return e}function kZ(n){let e=SZ;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Wc(){return um()}function _Z(){return um()}function um(){return new zu(n=>n.toString(),(n,e)=>n.isEqual(e))}const Ose=new Yt(Ae.comparator),yse=new Qn(Ae.comparator);function tt(...n){let e=yse;for(const t of n)e=e.add(t);return e}const vse=new Qn(st);function wse(){return vse}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ow(e)?"-0":e}}function TZ(n){return{integerValue:""+n}}function xse(n,e){return Gie(e)?TZ(e):wA(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(){this._=void 0}}function bse(n,e,t){return n instanceof Xm?function(i,s){const o={fields:{[aZ]:{stringValue:oZ},[cZ]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&mA(s)&&(s=tb(s)),s&&(o.fields[lZ]=s),{mapValue:o}}(t,e):n instanceof Gm?CZ(n,e):n instanceof Ym?EZ(n,e):function(i,s){const o=PZ(i,s),a=ON(o)+ON(i.Ie);return iT(o)&&iT(i.Ie)?TZ(a):wA(i.serializer,a)}(n,e)}function Sse(n,e,t){return n instanceof Gm?CZ(n,e):n instanceof Ym?EZ(n,e):t}function PZ(n,e){return n instanceof hw?function(r){return iT(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Xm extends ib{}class Gm extends ib{constructor(e){super(),this.elements=e}}function CZ(n,e){const t=AZ(e);for(const r of n.elements)t.some(i=>wo(i,r))||t.push(r);return{arrayValue:{values:t}}}class Ym extends ib{constructor(e){super(),this.elements=e}}function EZ(n,e){let t=AZ(e);for(const r of n.elements)t=t.filter(i=>!wo(i,r));return{arrayValue:{values:t}}}class hw extends ib{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function ON(n){return cn(n.integerValue||n.doubleValue)}function AZ(n){return gA(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kse{constructor(e,t){this.field=e,this.transform=t}}function _se(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Gm&&i instanceof Gm||r instanceof Ym&&i instanceof Ym?Ed(r.elements,i.elements,wo):r instanceof hw&&i instanceof hw?wo(r.Ie,i.Ie):r instanceof Xm&&i instanceof Xm}(n.transform,e.transform)}class Tse{constructor(e,t){this.version=e,this.transformResults=t}}class Wi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Wi}static exists(e){return new Wi(void 0,e)}static updateTime(e){return new Wi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function I0(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class sb{}function RZ(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new xA(n.key,Wi.none()):new OO(n.key,n.data,Wi.none());{const t=n.data,r=Jr.empty();let i=new Qn(sr.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new kc(n.key,r,new yi(i.toArray()),Wi.none())}}function Pse(n,e,t){n instanceof OO?function(i,s,o){const a=i.value.clone(),l=vN(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof kc?function(i,s,o){if(!I0(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=vN(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(QZ(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function hm(n,e,t,r){return n instanceof OO?function(s,o,a,l){if(!I0(s.precondition,o))return a;const c=s.value.clone(),u=wN(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof kc?function(s,o,a,l){if(!I0(s.precondition,o))return a;const c=wN(s.fieldTransforms,l,o),u=o.data;return u.setAll(QZ(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(n,e,t,r):function(s,o,a){return I0(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function Cse(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=PZ(r.transform,i||null);s!=null&&(t===null&&(t=Jr.empty()),t.set(r.field,s))}return t||null}function yN(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ed(r,i,(s,o)=>_se(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class OO extends sb{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class kc extends sb{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function QZ(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function vN(n,e,t){const r=new Map;yt(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Sse(o,a,t[i]))}return r}function wN(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,bse(s,o,e))}return r}class xA extends sb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ese extends sb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ase{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Pse(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=hm(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=hm(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=_Z();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const l=RZ(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ze.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),tt())}isEqual(e){return this.batchId===e.batchId&&Ed(this.mutations,e.mutations,(t,r)=>yN(t,r))&&Ed(this.baseMutations,e.baseMutations,(t,r)=>yN(t,r))}}class bA{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){yt(e.mutations.length===r.length);let i=function(){return Ose}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new bA(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rse=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qse{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gn,ct;function $se(n){switch(n){case ee.OK:return Ve();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ve()}}function $Z(n){if(n===void 0)return Pa("GRPC error has no .code"),ee.UNKNOWN;switch(n){case gn.OK:return ee.OK;case gn.CANCELLED:return ee.CANCELLED;case gn.UNKNOWN:return ee.UNKNOWN;case gn.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case gn.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case gn.INTERNAL:return ee.INTERNAL;case gn.UNAVAILABLE:return ee.UNAVAILABLE;case gn.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case gn.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case gn.NOT_FOUND:return ee.NOT_FOUND;case gn.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case gn.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case gn.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case gn.ABORTED:return ee.ABORTED;case gn.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case gn.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case gn.DATA_LOSS:return ee.DATA_LOSS;default:return Ve()}}(ct=gn||(gn={}))[ct.OK=0]="OK",ct[ct.CANCELLED=1]="CANCELLED",ct[ct.UNKNOWN=2]="UNKNOWN",ct[ct.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ct[ct.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ct[ct.NOT_FOUND=5]="NOT_FOUND",ct[ct.ALREADY_EXISTS=6]="ALREADY_EXISTS",ct[ct.PERMISSION_DENIED=7]="PERMISSION_DENIED",ct[ct.UNAUTHENTICATED=16]="UNAUTHENTICATED",ct[ct.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ct[ct.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ct[ct.ABORTED=10]="ABORTED",ct[ct.OUT_OF_RANGE=11]="OUT_OF_RANGE",ct[ct.UNIMPLEMENTED=12]="UNIMPLEMENTED",ct[ct.INTERNAL=13]="INTERNAL",ct[ct.UNAVAILABLE=14]="UNAVAILABLE",ct[ct.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ise(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nse=new Vl([4294967295,4294967295],0);function xN(n){const e=Ise().encode(n),t=new GU;return t.update(e),new Uint8Array(t.digest())}function bN(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Vl([t,r],0),new Vl([i,s],0)]}class SA{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ap(`Invalid padding: ${t}`);if(r<0)throw new Ap(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ap(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ap(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Vl.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(Vl.fromNumber(r)));return i.compare(Nse)===1&&(i=new Vl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=xN(e),[r,i]=bN(t);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);if(!this.Re(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new SA(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;const t=xN(e),[r,i]=bN(t);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);this.Ve(o)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Ap extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,yO.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new ob(ze.min(),i,new Yt(st),Ca(),tt())}}class yO{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new yO(r,t,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}}class IZ{constructor(e,t){this.targetId=e,this.ge=t}}class NZ{constructor(e,t,r=cr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class SN{constructor(){this.pe=0,this.ye=kN(),this.we=cr.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=tt(),t=tt(),r=tt();return this.ye.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ve()}}),new yO(this.we,this.be,e,t,r)}Me(){this.Se=!1,this.ye=kN()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,yt(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class jse{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ca(),this.$e=_y(),this.Ke=_y(),this.Ue=new Yt(st)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Ve()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){const t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){const s=i.target;if(oT(s))if(r===0){const o=new Ae(s.path);this.ze(t,o,wr.newNoDocument(o,ze.min()))}else yt(r===1);else{const o=this.et(t);if(o!==r){const a=this.tt(e),l=a?this.nt(a,e,o):1;if(l!==0){this.Ye(t);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,c)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let o,a;try{o=Hl(r).toUint8Array()}catch(l){if(l instanceof sZ)return Cd("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new SA(o,i,s)}catch(l){return Cd(l instanceof Ap?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const o=this.ke.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.ze(t,s,null),i++)}),i}ot(e){const t=new Map;this.qe.forEach((s,o)=>{const a=this.Xe(o);if(a){if(s.current&&oT(a.target)){const l=new Ae(a.target.path);this._t(l).has(o)||this.ut(o,l)||this.ze(o,l,wr.newNoDocument(l,e))}s.ve&&(t.set(o,s.Fe()),s.Me())}});let r=tt();this.Ke.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Xe(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(e));const i=new ob(e,t,this.Ue,this.Qe,r);return this.Qe=Ca(),this.$e=_y(),this.Ke=_y(),this.Ue=new Yt(st),i}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new SN,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Qn(st),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Qn(st),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||xe("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new SN),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function _y(){return new Yt(Ae.comparator)}function kN(){return new Yt(Ae.comparator)}const Dse={asc:"ASCENDING",desc:"DESCENDING"},Mse={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Vse={and:"AND",or:"OR"};class Lse{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function lT(n,e){return n.useProto3Json||eb(e)?e:{value:e}}function dw(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jZ(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function zse(n,e){return dw(n,e.toTimestamp())}function po(n){return yt(!!n),ze.fromTimestamp(function(t){const r=Yl(t);return new Rn(r.seconds,r.nanos)}(n))}function kA(n,e){return cT(n,e).canonicalString()}function cT(n,e){const t=function(i){return new Mt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function DZ(n){const e=Mt.fromString(n);return yt(UZ(e)),e}function uT(n,e){return kA(n.databaseId,e.path)}function e1(n,e){const t=DZ(e);if(t.get(1)!==n.databaseId.projectId)throw new be(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new be(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ae(VZ(t))}function MZ(n,e){return kA(n.databaseId,e)}function Use(n){const e=DZ(n);return e.length===4?Mt.emptyPath():VZ(e)}function hT(n){return new Mt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function VZ(n){return yt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function _N(n,e,t){return{name:uT(n,e),fields:t.value.mapValue.fields}}function Zse(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(yt(u===void 0||typeof u=="string"),cr.fromBase64String(u||"")):(yt(u===void 0||u instanceof Buffer||u instanceof Uint8Array),cr.fromUint8Array(u||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?ee.UNKNOWN:$Z(c.code);return new be(u,c.message||"")}(o);t=new NZ(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=e1(n,r.document.name),s=po(r.document.updateTime),o=r.document.createTime?po(r.document.createTime):ze.min(),a=new Jr({mapValue:{fields:r.document.fields}}),l=wr.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];t=new N0(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=e1(n,r.document),s=r.readTime?po(r.readTime):ze.min(),o=wr.newNoDocument(i,s),a=r.removedTargetIds||[];t=new N0([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=e1(n,r.document),s=r.removedTargetIds||[];t=new N0([],s,i,null)}else{if(!("filter"in e))return Ve();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Qse(i,s),a=r.targetId;t=new IZ(a,o)}}return t}function qse(n,e){let t;if(e instanceof OO)t={update:_N(n,e.key,e.value)};else if(e instanceof xA)t={delete:uT(n,e.key)};else if(e instanceof kc)t={update:_N(n,e.key,e.data),updateMask:Jse(e.fieldMask)};else{if(!(e instanceof Ese))return Ve();t={verify:uT(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Xm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Gm)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ym)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof hw)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Ve()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:zse(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ve()}(n,e.precondition)),t}function Bse(n,e){return n&&n.length>0?(yt(e!==void 0),n.map(t=>function(i,s){let o=i.updateTime?po(i.updateTime):po(s);return o.isEqual(ze.min())&&(o=po(s)),new Tse(o,i.transformResults||[])}(t,e))):[]}function Fse(n,e){return{documents:[MZ(n,e.path)]}}function Wse(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=MZ(n,i);const s=function(c){if(c.length!==0)return zZ(_s.create(c,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(u=>function(d){return{field:ch(d.field),direction:Yse(d.dir)}}(u))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const a=lT(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ht:t,parent:i}}function Xse(n){let e=Use(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){yt(r===1);const u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];t.where&&(s=function(h){const d=LZ(h);return d instanceof _s&&gZ(d)?d.getFilters():[d]}(t.where));let o=[];t.orderBy&&(o=function(h){return h.map(d=>function(g){return new Wm(uh(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(d))}(t.orderBy));let a=null;t.limit&&(a=function(h){let d;return d=typeof h=="object"?h.value:h,eb(d)?null:d}(t.limit));let l=null;t.startAt&&(l=function(h){const d=!!h.before,m=h.values||[];return new cw(m,d)}(t.startAt));let c=null;return t.endAt&&(c=function(h){const d=!h.before,m=h.values||[];return new cw(m,d)}(t.endAt)),dse(e,i,o,s,a,"F",l,c)}function Gse(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function LZ(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=uh(t.unaryFilter.field);return wn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=uh(t.unaryFilter.field);return wn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=uh(t.unaryFilter.field);return wn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=uh(t.unaryFilter.field);return wn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ve()}}(n):n.fieldFilter!==void 0?function(t){return wn.create(uh(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ve()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return _s.create(t.compositeFilter.filters.map(r=>LZ(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ve()}}(t.compositeFilter.op))}(n):Ve()}function Yse(n){return Dse[n]}function Hse(n){return Mse[n]}function Kse(n){return Vse[n]}function ch(n){return{fieldPath:n.canonicalString()}}function uh(n){return sr.fromServerFormat(n.fieldPath)}function zZ(n){return n instanceof wn?function(t){if(t.op==="=="){if(dN(t.value))return{unaryFilter:{field:ch(t.field),op:"IS_NAN"}};if(hN(t.value))return{unaryFilter:{field:ch(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(dN(t.value))return{unaryFilter:{field:ch(t.field),op:"IS_NOT_NAN"}};if(hN(t.value))return{unaryFilter:{field:ch(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ch(t.field),op:Hse(t.op),value:t.value}}}(n):n instanceof _s?function(t){const r=t.getFilters().map(i=>zZ(i));return r.length===1?r[0]:{compositeFilter:{op:Kse(t.op),filters:r}}}(n):Ve()}function Jse(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function UZ(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,t,r,i,s=ze.min(),o=ze.min(),a=cr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new kl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new kl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new kl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new kl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eoe{constructor(e){this.Tt=e}}function toe(n){const e=Xse({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?uw(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class noe{constructor(){this.Tn=new roe}addToCollectionParentIndex(e,t){return this.Tn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(Gl.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(Gl.min())}updateCollectionGroup(e,t,r){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class roe{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Qn(Mt.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Qn(Mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ZZ=41943040;class Xr{static withCacheSize(e){return new Xr(e,Xr.DEFAULT_COLLECTION_PERCENTILE,Xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xr.DEFAULT_COLLECTION_PERCENTILE=10,Xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xr.DEFAULT=new Xr(ZZ,Xr.DEFAULT_COLLECTION_PERCENTILE,Xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xr.DISABLED=new Xr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Qd(0)}static Un(){return new Qd(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN="LruGarbageCollector",ioe=1048576;function CN([n,e],[t,r]){const i=st(n,t);return i===0?st(e,r):i}class soe{constructor(e){this.Hn=e,this.buffer=new Qn(CN),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();CN(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ooe{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){xe(PN,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){xf(t)?xe(PN,"Ignoring IndexedDB error during garbage collection: ",t):await wf(t)}await this.er(3e5)})}}class aoe{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return te.resolve(Jx.ae);const r=new soe(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(xe("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(TN)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),TN):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,s,o,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,t))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),ah()<=et.DEBUG&&xe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function loe(n,e){return new aoe(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class coe{constructor(){this.changes=new zu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,wr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?te.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uoe{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hoe{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&hm(r.mutation,i,yi.empty(),Rn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,tt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=tt()){const i=Wc();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Ep();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=Wc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,tt()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Ca();const o=um(),a=function(){return um()}();return t.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof kc)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),hm(u.mutation,c,u.mutation.getFieldMask(),Rn.now())):o.set(c.key,yi.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),t.forEach((c,u)=>{var h;return a.set(c,new uoe(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,t){const r=um();let i=new Yt((o,a)=>o-a),s=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=t.get(l);if(c===null)return;let u=r.get(l)||yi.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(i.get(a.batchId)||tt()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=_Z();u.forEach(d=>{if(!s.has(d)){const m=RZ(t.get(d),r.get(d));m!==null&&h.set(d,m),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return te.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(o){return Ae.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):wZ(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):te.resolve(Wc());let a=Zm,l=s;return o.next(c=>te.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(u)?te.resolve():this.remoteDocumentCache.getEntry(e,u).next(d=>{l=l.insert(u,d)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,tt())).next(u=>({batchId:a,changes:kZ(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ae(t)).next(r=>{let i=Ep();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let o=Ep();return this.indexManager.getCollectionParents(e,s).next(a=>te.forEach(a,l=>{const c=function(h,d){return new bf(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(t,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((h,d)=>{o=o.insert(h,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,wr.newInvalidDocument(u)))});let a=Ep();return o.forEach((l,c)=>{const u=s.get(l);u!==void 0&&hm(u.mutation,c,yi.empty(),Rn.now()),rb(t,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class doe{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return te.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:po(i.createTime)}}(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:toe(i.bundledQuery),readTime:po(i.readTime)}}(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class foe{constructor(){this.overlays=new Yt(Ae.comparator),this.Rr=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Wc();return te.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.Et(e,t,s)}),te.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(r)),te.resolve()}getOverlaysForCollection(e,t,r){const i=Wc(),s=t.length+1,o=new Ae(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return te.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Yt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=Wc(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Wc(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return te.resolve(a)}Et(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Rse(t,r));let s=this.Rr.get(t);s===void 0&&(s=tt(),this.Rr.set(t,s)),this.Rr.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class poe{constructor(){this.sessionToken=cr.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(){this.Vr=new Qn(Nn.mr),this.gr=new Qn(Nn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new Nn(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Nn(e,t))}br(e,t){e.forEach(r=>this.removeReference(r,t))}Sr(e){const t=new Ae(new Mt([])),r=new Nn(t,e),i=new Nn(t,e+1),s=[];return this.gr.forEachInRange([r,i],o=>{this.wr(o),s.push(o.key)}),s}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Ae(new Mt([])),r=new Nn(t,e),i=new Nn(t,e+1);let s=tt();return this.gr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Nn(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Nn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Ae.comparator(e.key,t.key)||st(e.Cr,t.Cr)}static pr(e,t){return st(e.Cr,t.Cr)||Ae.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class moe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Qn(Nn.mr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Ase(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.Mr=this.Mr.add(new Nn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return te.resolve(o)}lookupMutationBatch(e,t){return te.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Nr(r),s=i<0?0:i;return te.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?pA:this.Fr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Nn(t,0),i=new Nn(t,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([r,i],o=>{const a=this.Or(o.Cr);s.push(a)}),te.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Qn(st);return t.forEach(i=>{const s=new Nn(i,0),o=new Nn(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,o],a=>{r=r.add(a.Cr)})}),te.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;Ae.isDocumentKey(s)||(s=s.child(""));const o=new Nn(new Ae(s),0);let a=new Qn(st);return this.Mr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Cr)),!0)},o),te.resolve(this.Br(a))}Br(e){const t=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){yt(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return te.forEach(t.mutations,i=>{const s=new Nn(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new Nn(t,0),i=this.Mr.firstAfterOrEqual(r);return te.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class goe{constructor(e){this.kr=e,this.docs=function(){return new Yt(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return te.resolve(r?r.document.mutableCopy():wr.newInvalidDocument(t))}getEntries(e,t){let r=Ca();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():wr.newInvalidDocument(i))}),te.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Ca();const o=t.path,a=new Ae(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Bie(qie(u),r)<=0||(i.has(u.key)||rb(t,u))&&(s=s.insert(u.key,u.mutableCopy()))}return te.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Ve()}qr(e,t){return te.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Ooe(this)}getSize(e){return te.resolve(this.size)}}class Ooe extends coe{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),te.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yoe{constructor(e){this.persistence=e,this.Qr=new zu(t=>OA(t),yA),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.$r=0,this.Kr=new _A,this.targetCount=0,this.Ur=Qd.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),te.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Qd(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.zn(t),te.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Qr.forEach((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Qr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),te.waitFor(s).next(()=>i)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return te.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),te.resolve()}removeMatchingKeys(e,t,r){this.Kr.br(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),te.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),te.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return te.resolve(r)}containsKey(e,t){return te.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qZ{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Jx(0),this.zr=!1,this.zr=!0,this.jr=new poe,this.referenceDelegate=e(this),this.Hr=new yoe(this),this.indexManager=new noe,this.remoteDocumentCache=function(i){return new goe(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new eoe(t),this.Yr=new doe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new foe,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new moe(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){xe("MemoryPersistence","Starting transaction:",e);const i=new voe(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(s=>this.referenceDelegate.Xr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}ei(e,t){return te.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class voe extends Wie{constructor(e){super(),this.currentSequenceNumber=e}}class TA{constructor(e){this.persistence=e,this.ti=new _A,this.ni=null}static ri(e){return new TA(e)}get ii(){if(this.ni)return this.ni;throw Ve()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),te.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),te.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.ii.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.ii,r=>{const i=Ae.fromPath(r);return this.si(e,i).next(s=>{s||t.removeEntry(i,ze.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return te.or([()=>te.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class fw{constructor(e,t){this.persistence=e,this.oi=new zu(r=>Yie(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=loe(this,t)}static ri(e,t){return new fw(e,t)}Zr(){}Xr(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return te.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(s=>s?te.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.qr(e,o=>this.ar(e,o,t).next(a=>{a||(r++,s.removeEntry(o,ze.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),te.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Q0(e.data.value)),t}ar(e,t,r){return te.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.oi.get(t);return te.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=tt(),i=tt();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new PA(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class woe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xoe{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Hee()?8:Xie(kr())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.rs(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ss(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new woe;return this._s(e,t,o).next(a=>{if(s.result=a,this.Xi)return this.us(e,t,o,a.size)})}).next(()=>s.result)}us(e,t,r,i){return r.documentReadCount<this.es?(ah()<=et.DEBUG&&xe("QueryEngine","SDK will not create cache indexes for query:",lh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),te.resolve()):(ah()<=et.DEBUG&&xe("QueryEngine","Query:",lh(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(ah()<=et.DEBUG&&xe("QueryEngine","The SDK decides to create cache indexes for query:",lh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fo(t))):te.resolve())}rs(e,t){if(gN(t))return te.resolve(null);let r=fo(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=uw(t,null,"F"),r=fo(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=tt(...s);return this.ns.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.cs(t,a);return this.ls(t,c,o,l.readTime)?this.rs(e,uw(t,null,"F")):this.hs(e,c,t,l)}))})))}ss(e,t,r,i){return gN(t)||i.isEqual(ze.min())?te.resolve(null):this.ns.getDocuments(e,r).next(s=>{const o=this.cs(t,s);return this.ls(t,o,r,i)?te.resolve(null):(ah()<=et.DEBUG&&xe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),lh(t)),this.hs(e,o,t,Zie(i,Zm)).next(a=>a))})}cs(e,t){let r=new Qn(bZ(e));return t.forEach((i,s)=>{rb(e,s)&&(r=r.add(s))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}_s(e,t,r){return ah()<=et.DEBUG&&xe("QueryEngine","Using full collection scan to execute query:",lh(t)),this.ns.getDocumentsMatchingQuery(e,t,Gl.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA="LocalStore",boe=3e8;class Soe{constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new Yt(st),this.Is=new zu(s=>OA(s),yA),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hoe(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function koe(n,e,t,r){return new Soe(n,e,t,r)}async function BZ(n,e){const t=Ue(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=tt();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(r,l).next(c=>({Rs:c,removedBatchIds:o,addedBatchIds:a}))})})}function _oe(n,e){const t=Ue(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.ds.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,d=h.keys();let m=te.resolve();return d.forEach(g=>{m=m.next(()=>u.getEntry(l,g)).next(y=>{const v=c.docVersions.get(g);yt(v!==null),y.version.compareTo(v)<0&&(h.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),u.addEntry(y)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=tt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function FZ(n){const e=Ue(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function Toe(n,e){const t=Ue(n),r=e.snapshotVersion;let i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;const a=[];e.targetChanges.forEach((u,h)=>{const d=i.get(h);if(!d)return;a.push(t.Hr.removeMatchingKeys(s,u.removedDocuments,h).next(()=>t.Hr.addMatchingKeys(s,u.addedDocuments,h)));let m=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(cr.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,r)),i=i.insert(h,m),function(y,v,b){return y.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=boe?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(d,m,u)&&a.push(t.Hr.updateTargetData(s,m))});let l=Ca(),c=tt();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(Poe(s,o,e.documentUpdates).next(u=>{l=u.Vs,c=u.fs})),!r.isEqual(ze.min())){const u=t.Hr.getLastRemoteSnapshotVersion(s).next(h=>t.Hr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return te.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(t.Ts=i,s))}function Poe(n,e,t){let r=tt(),i=tt();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Ca();return t.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ze.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):xe(CA,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Vs:o,fs:i}})}function Coe(n,e){const t=Ue(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=pA),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Eoe(n,e){const t=Ue(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(s=>s?(i=s,te.resolve(i)):t.Hr.allocateTargetId(r).next(o=>(i=new kl(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function dT(n,e,t){const r=Ue(n),i=r.Ts.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!xf(o))throw o;xe(CA,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function EN(n,e,t){const r=Ue(n);let i=ze.min(),s=tt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const h=Ue(l),d=h.Is.get(u);return d!==void 0?te.resolve(h.Ts.get(d)):h.Hr.getTargetData(c,u)}(r,o,fo(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Ps.getDocumentsMatchingQuery(o,e,t?i:ze.min(),t?s:tt())).next(a=>(Aoe(r,pse(e),a),{documents:a,gs:s})))}function Aoe(n,e,t){let r=n.Es.get(e)||ze.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Es.set(e,r)}class AN{constructor(){this.activeTargetIds=wse()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Roe{constructor(){this.ho=new AN,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new AN,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qoe{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN="ConnectivityMonitor";class QN{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){xe(RN,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){xe(RN,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ty=null;function fT(){return Ty===null?Ty=function(){return 268435456+Math.round(2147483648*Math.random())}():Ty++,"0x"+Ty.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1="RestConnection",$oe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ioe{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===aw?`project_id=${r}`:`project_id=${r}&database_id=${i}`}bo(e,t,r,i,s){const o=fT(),a=this.So(e,t.toUriEncodedString());xe(t1,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,i,s),this.vo(e,a,l,r).then(c=>(xe(t1,`Received RPC '${e}' ${o}: `,c),c),c=>{throw Cd(t1,`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}Co(e,t,r,i,s,o){return this.bo(e,t,r,i,s)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vf}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}So(e,t){const r=$oe[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Noe{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr="WebChannelConnection";class joe extends Ioe{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){const s=fT();return new Promise((o,a)=>{const l=new YU;l.setWithCredentials(!0),l.listenOnce(HU.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case R0.NO_ERROR:const u=l.getResponseJson();xe(mr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case R0.TIMEOUT:xe(mr,`RPC '${e}' ${s} timed out`),a(new be(ee.DEADLINE_EXCEEDED,"Request time out"));break;case R0.HTTP_ERROR:const h=l.getStatus();if(xe(mr,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const m=d==null?void 0:d.error;if(m&&m.status&&m.message){const g=function(v){const b=v.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(b)>=0?b:ee.UNKNOWN}(m.status);a(new be(g,m.message))}else a(new be(ee.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new be(ee.UNAVAILABLE,"Connection failed."));break;default:Ve()}}finally{xe(mr,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);xe(mr,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",c,r,15)})}Wo(e,t,r){const i=fT(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=eZ(),a=JU(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const u=s.join("");xe(mr,`Creating RPC '${e}' stream ${i}: ${u}`,l);const h=o.createWebChannel(u,l);let d=!1,m=!1;const g=new Noe({Fo:v=>{m?xe(mr,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(d||(xe(mr,`Opening RPC '${e}' stream ${i} transport.`),h.open(),d=!0),xe(mr,`RPC '${e}' stream ${i} sending:`,v),h.send(v))},Mo:()=>h.close()}),y=(v,b,x)=>{v.listen(b,S=>{try{x(S)}catch($){setTimeout(()=>{throw $},0)}})};return y(h,Cp.EventType.OPEN,()=>{m||(xe(mr,`RPC '${e}' stream ${i} transport opened.`),g.Qo())}),y(h,Cp.EventType.CLOSE,()=>{m||(m=!0,xe(mr,`RPC '${e}' stream ${i} transport closed`),g.Ko())}),y(h,Cp.EventType.ERROR,v=>{m||(m=!0,Cd(mr,`RPC '${e}' stream ${i} transport errored:`,v),g.Ko(new be(ee.UNAVAILABLE,"The operation could not be completed")))}),y(h,Cp.EventType.MESSAGE,v=>{var b;if(!m){const x=v.data[0];yt(!!x);const S=x,$=(S==null?void 0:S.error)||((b=S[0])===null||b===void 0?void 0:b.error);if($){xe(mr,`RPC '${e}' stream ${i} received error:`,$);const P=$.status;let Q=function(k){const A=gn[k];if(A!==void 0)return $Z(A)}(P),O=$.message;Q===void 0&&(Q=ee.INTERNAL,O="Unknown error status: "+P+" with message "+$.message),m=!0,g.Ko(new be(Q,O)),h.close()}else xe(mr,`RPC '${e}' stream ${i} received:`,x),g.Uo(x)}}),y(a,KU.STAT_EVENT,v=>{v.stat===nT.PROXY?xe(mr,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===nT.NOPROXY&&xe(mr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.$o()},0),g}}function n1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(n){return new Lse(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WZ{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&xe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N="PersistentStream";class XZ{constructor(e,t,r,i,s,o,a,l){this.Ti=e,this.n_=r,this.r_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new WZ(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(Pa(t.toString()),Pa("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{const i=new be(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return xe($N,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(xe($N,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Doe extends XZ{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=Zse(this.serializer,e),r=function(s){if(!("targetChange"in s))return ze.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ze.min():o.readTime?po(o.readTime):ze.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=hT(this.serializer),t.addTarget=function(s,o){let a;const l=o.target;if(a=oT(l)?{documents:Fse(s,l)}:{query:Wse(s,l).ht},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=jZ(s,o.resumeToken);const c=lT(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ze.min())>0){a.readTime=dw(s,o.snapshotVersion.toTimestamp());const c=lT(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=Gse(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=hT(this.serializer),t.removeTarget=e,this.I_(t)}}class Moe extends XZ{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return yt(!!e.streamToken),this.lastStreamToken=e.streamToken,yt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){yt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=Bse(e.writeResults,e.commitTime),r=po(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=hT(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>qse(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Voe{}class Loe extends Voe{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new be(ee.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.bo(e,cT(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new be(ee.UNKNOWN,s.toString())})}Co(e,t,r,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Co(e,cT(t,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new be(ee.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class zoe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Pa(t),this.N_=!1):xe("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku="RemoteStore";class Uoe{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(o=>{r.enqueueAndForget(async()=>{Uu(this)&&(xe(ku,"Restarting streams for network reachability change."),await async function(l){const c=Ue(l);c.W_.add(4),await vO(c),c.j_.set("Unknown"),c.W_.delete(4),await lb(c)}(this))})}),this.j_=new zoe(r,i)}}async function lb(n){if(Uu(n))for(const e of n.G_)await e(!0)}async function vO(n){for(const e of n.G_)await e(!1)}function GZ(n,e){const t=Ue(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),QA(t)?RA(t):Sf(t).c_()&&AA(t,e))}function EA(n,e){const t=Ue(n),r=Sf(t);t.U_.delete(e),r.c_()&&YZ(t,e),t.U_.size===0&&(r.c_()?r.P_():Uu(t)&&t.j_.set("Unknown"))}function AA(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Sf(n).y_(e)}function YZ(n,e){n.H_.Ne(e),Sf(n).w_(e)}function RA(n){n.H_=new jse({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Sf(n).start(),n.j_.B_()}function QA(n){return Uu(n)&&!Sf(n).u_()&&n.U_.size>0}function Uu(n){return Ue(n).W_.size===0}function HZ(n){n.H_=void 0}async function Zoe(n){n.j_.set("Online")}async function qoe(n){n.U_.forEach((e,t)=>{AA(n,e)})}async function Boe(n,e){HZ(n),QA(n)?(n.j_.q_(e),RA(n)):n.j_.set("Unknown")}async function Foe(n,e,t){if(n.j_.set("Online"),e instanceof NZ&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.U_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.U_.delete(a),i.H_.removeTarget(a))}(n,e)}catch(r){xe(ku,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await pw(n,r)}else if(e instanceof N0?n.H_.We(e):e instanceof IZ?n.H_.Ze(e):n.H_.je(e),!t.isEqual(ze.min()))try{const r=await FZ(n.localStore);t.compareTo(r)>=0&&await function(s,o){const a=s.H_.ot(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.U_.get(c);u&&s.U_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.U_.get(l);if(!u)return;s.U_.set(l,u.withResumeToken(cr.EMPTY_BYTE_STRING,u.snapshotVersion)),YZ(s,l);const h=new kl(u.target,l,c,u.sequenceNumber);AA(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t)}catch(r){xe(ku,"Failed to raise snapshot:",r),await pw(n,r)}}async function pw(n,e,t){if(!xf(e))throw e;n.W_.add(1),await vO(n),n.j_.set("Offline"),t||(t=()=>FZ(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{xe(ku,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await lb(n)})}function KZ(n,e){return e().catch(t=>pw(n,t,e))}async function cb(n){const e=Ue(n),t=Jl(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:pA;for(;Woe(e);)try{const i=await Coe(e.localStore,r);if(i===null){e.K_.length===0&&t.P_();break}r=i.batchId,Xoe(e,i)}catch(i){await pw(e,i)}JZ(e)&&eq(e)}function Woe(n){return Uu(n)&&n.K_.length<10}function Xoe(n,e){n.K_.push(e);const t=Jl(n);t.c_()&&t.b_&&t.S_(e.mutations)}function JZ(n){return Uu(n)&&!Jl(n).u_()&&n.K_.length>0}function eq(n){Jl(n).start()}async function Goe(n){Jl(n).C_()}async function Yoe(n){const e=Jl(n);for(const t of n.K_)e.S_(t.mutations)}async function Hoe(n,e,t){const r=n.K_.shift(),i=bA.from(r,e,t);await KZ(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await cb(n)}async function Koe(n,e){e&&Jl(n).b_&&await async function(r,i){if(function(o){return $se(o)&&o!==ee.ABORTED}(i.code)){const s=r.K_.shift();Jl(r).h_(),await KZ(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await cb(r)}}(n,e),JZ(n)&&eq(n)}async function IN(n,e){const t=Ue(n);t.asyncQueue.verifyOperationInProgress(),xe(ku,"RemoteStore received new credentials");const r=Uu(t);t.W_.add(3),await vO(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await lb(t)}async function Joe(n,e){const t=Ue(n);e?(t.W_.delete(2),await lb(t)):e||(t.W_.add(2),await vO(t),t.j_.set("Unknown"))}function Sf(n){return n.J_||(n.J_=function(t,r,i){const s=Ue(t);return s.M_(),new Doe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{xo:Zoe.bind(null,n),No:qoe.bind(null,n),Lo:Boe.bind(null,n),p_:Foe.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),QA(n)?RA(n):n.j_.set("Unknown")):(await n.J_.stop(),HZ(n))})),n.J_}function Jl(n){return n.Y_||(n.Y_=function(t,r,i){const s=Ue(t);return s.M_(),new Moe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:Goe.bind(null,n),Lo:Koe.bind(null,n),D_:Yoe.bind(null,n),v_:Hoe.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await cb(n)):(await n.Y_.stop(),n.K_.length>0&&(xe(ku,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ya,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new $A(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function IA(n,e){if(Pa("AsyncQueue",`${e}: ${n}`),xf(n))return new be(ee.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{static emptySet(e){return new Wh(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ae.comparator(t.key,r.key):(t,r)=>Ae.comparator(t.key,r.key),this.keyedMap=Ep(),this.sortedSet=new Yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Wh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Wh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(){this.Z_=new Yt(Ae.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ve():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class $d{constructor(e,t,r,i,s,o,a,l,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new $d(e,t,Wh.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eae{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class tae{constructor(){this.queries=jN(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const i=Ue(t),s=i.queries;i.queries=jN(),s.forEach((o,a)=>{for(const l of a.ta)l.onError(r)})})(this,new be(ee.ABORTED,"Firestore shutting down"))}}function jN(){return new zu(n=>xZ(n),nb)}async function tq(n,e){const t=Ue(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.na()&&e.ra()&&(r=2):(s=new eae,r=e.ra()?0:1);try{switch(r){case 0:s.ea=await t.onListen(i,!0);break;case 1:s.ea=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(o){const a=IA(o,`Initialization of query '${lh(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.ta.push(e),e.sa(t.onlineState),s.ea&&e.oa(s.ea)&&NA(t)}async function nq(n,e){const t=Ue(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const o=s.ta.indexOf(e);o>=0&&(s.ta.splice(o,1),s.ta.length===0?i=e.ra()?0:1:!s.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function nae(n,e){const t=Ue(n);let r=!1;for(const i of e){const s=i.query,o=t.queries.get(s);if(o){for(const a of o.ta)a.oa(i)&&(r=!0);o.ea=i}}r&&NA(t)}function rae(n,e,t){const r=Ue(n),i=r.queries.get(e);if(i)for(const s of i.ta)s.onError(t);r.queries.delete(e)}function NA(n){n.ia.forEach(e=>{e.next()})}var pT,DN;(DN=pT||(pT={}))._a="default",DN.Cache="cache";class rq{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new $d(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=$d.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==pT.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iq{constructor(e){this.key=e}}class sq{constructor(e){this.key=e}}class iae{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=tt(),this.mutatedKeys=tt(),this.ya=bZ(e),this.wa=new Wh(this.ya)}get ba(){return this.fa}Sa(e,t){const r=t?t.Da:new NN,i=t?t.wa:this.wa;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,h)=>{const d=i.get(u),m=rb(this.query,h)?h:null,g=!!d&&this.mutatedKeys.has(d.key),y=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let v=!1;d&&m?d.data.isEqual(m.data)?g!==y&&(r.track({type:3,doc:m}),v=!0):this.va(d,m)||(r.track({type:2,doc:m}),v=!0,(l&&this.ya(m,l)>0||c&&this.ya(m,c)<0)&&(a=!0)):!d&&m?(r.track({type:0,doc:m}),v=!0):d&&!m&&(r.track({type:1,doc:d}),v=!0,(l||c)&&(a=!0)),v&&(m?(o=o.add(m),s=y?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{wa:o,Da:r,ls:a,mutatedKeys:s}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((u,h)=>function(m,g){const y=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve()}};return y(m)-y(g)}(u.type,h.type)||this.ya(u.doc,h.doc)),this.Ca(r),i=i!=null&&i;const a=t&&!i?this.Fa():[],l=this.pa.size===0&&this.current&&!i?1:0,c=l!==this.ga;return this.ga=l,o.length!==0||c?{snapshot:new $d(this.query,e.wa,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new NN,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=tt(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new sq(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new iq(r))}),t}Oa(e){this.fa=e.gs,this.pa=tt();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return $d.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const jA="SyncEngine";class sae{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class oae{constructor(e){this.key=e,this.Ba=!1}}class aae{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new zu(a=>xZ(a),nb),this.qa=new Map,this.Qa=new Set,this.$a=new Yt(Ae.comparator),this.Ka=new Map,this.Ua=new _A,this.Wa={},this.Ga=new Map,this.za=Qd.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function lae(n,e,t=!0){const r=hq(n);let i;const s=r.ka.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=await oq(r,e,t,!0),i}async function cae(n,e){const t=hq(n);await oq(t,e,!0,!1)}async function oq(n,e,t,r){const i=await Eoe(n.localStore,fo(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t);let a;return r&&(a=await uae(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&GZ(n.remoteStore,i),a}async function uae(n,e,t,r,i){n.Ha=(h,d,m)=>async function(y,v,b,x){let S=v.view.Sa(b);S.ls&&(S=await EN(y.localStore,v.query,!1).then(({documents:O})=>v.view.Sa(O,S)));const $=x&&x.targetChanges.get(v.targetId),P=x&&x.targetMismatches.get(v.targetId)!=null,Q=v.view.applyChanges(S,y.isPrimaryClient,$,P);return VN(y,v.targetId,Q.Ma),Q.snapshot}(n,h,d,m);const s=await EN(n.localStore,e,!0),o=new iae(e,s.gs),a=o.Sa(s.documents),l=yO.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),c=o.applyChanges(a,n.isPrimaryClient,l);VN(n,t,c.Ma);const u=new sae(e,t,o);return n.ka.set(e,u),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),c.snapshot}async function hae(n,e,t){const r=Ue(n),i=r.ka.get(e),s=r.qa.get(i.targetId);if(s.length>1)return r.qa.set(i.targetId,s.filter(o=>!nb(o,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await dT(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&EA(r.remoteStore,i.targetId),mT(r,i.targetId)}).catch(wf)):(mT(r,i.targetId),await dT(r.localStore,i.targetId,!0))}async function dae(n,e){const t=Ue(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),EA(t.remoteStore,r.targetId))}async function fae(n,e,t){const r=wae(n);try{const i=await function(o,a){const l=Ue(o),c=Rn.now(),u=a.reduce((m,g)=>m.add(g.key),tt());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let g=Ca(),y=tt();return l.ds.getEntries(m,u).next(v=>{g=v,g.forEach((b,x)=>{x.isValidDocument()||(y=y.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,g)).next(v=>{h=v;const b=[];for(const x of a){const S=Cse(x,h.get(x.key).overlayedDocument);S!=null&&b.push(new kc(x.key,S,fZ(S.value.mapValue),Wi.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,b,a)}).next(v=>{d=v;const b=v.applyToLocalDocumentSet(h,y);return l.documentOverlayCache.saveOverlays(m,v.batchId,b)})}).then(()=>({batchId:d.batchId,changes:kZ(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Wa[o.currentUser.toKey()];c||(c=new Yt(st)),c=c.insert(a,l),o.Wa[o.currentUser.toKey()]=c}(r,i.batchId,t),await wO(r,i.changes),await cb(r.remoteStore)}catch(i){const s=IA(i,"Failed to persist write");t.reject(s)}}async function aq(n,e){const t=Ue(n);try{const r=await Toe(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.Ka.get(s);o&&(yt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ba=!0:i.modifiedDocuments.size>0?yt(o.Ba):i.removedDocuments.size>0&&(yt(o.Ba),o.Ba=!1))}),await wO(t,r,e)}catch(r){await wf(r)}}function MN(n,e,t){const r=Ue(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ka.forEach((s,o)=>{const a=o.view.sa(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Ue(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const d of h.ta)d.sa(a)&&(c=!0)}),c&&NA(l)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function pae(n,e,t){const r=Ue(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ka.get(e),s=i&&i.key;if(s){let o=new Yt(Ae.comparator);o=o.insert(s,wr.newNoDocument(s,ze.min()));const a=tt().add(s),l=new ob(ze.min(),new Map,new Yt(st),o,a);await aq(r,l),r.$a=r.$a.remove(s),r.Ka.delete(e),DA(r)}else await dT(r.localStore,e,!1).then(()=>mT(r,e,t)).catch(wf)}async function mae(n,e){const t=Ue(n),r=e.batch.batchId;try{const i=await _oe(t.localStore,e);cq(t,r,null),lq(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await wO(t,i)}catch(i){await wf(i)}}async function gae(n,e,t){const r=Ue(n);try{const i=await function(o,a){const l=Ue(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(yt(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);cq(r,e,t),lq(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await wO(r,i)}catch(i){await wf(i)}}function lq(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function cq(n,e,t){const r=Ue(n);let i=r.Wa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function mT(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.Sr(e).forEach(r=>{n.Ua.containsKey(r)||uq(n,r)})}function uq(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(EA(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),DA(n))}function VN(n,e,t){for(const r of t)r instanceof iq?(n.Ua.addReference(r.key,e),Oae(n,r)):r instanceof sq?(xe(jA,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||uq(n,r.key)):Ve()}function Oae(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(xe(jA,"New document in limbo: "+t),n.Qa.add(r),DA(n))}function DA(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Ae(Mt.fromString(e)),r=n.za.next();n.Ka.set(r,new oae(t)),n.$a=n.$a.insert(t,r),GZ(n.remoteStore,new kl(fo(vA(t.path)),r,"TargetPurposeLimboResolution",Jx.ae))}}async function wO(n,e,t){const r=Ue(n),i=[],s=[],o=[];r.ka.isEmpty()||(r.ka.forEach((a,l)=>{o.push(r.Ha(l,e,t).then(c=>{var u;if((c||t)&&r.isPrimaryClient){const h=c?!c.fromCache:(u=t==null?void 0:t.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=PA.Yi(l.targetId,c);s.push(h)}}))}),await Promise.all(o),r.La.p_(i),await async function(l,c){const u=Ue(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>te.forEach(c,d=>te.forEach(d.Hi,m=>u.persistence.referenceDelegate.addReference(h,d.targetId,m)).next(()=>te.forEach(d.Ji,m=>u.persistence.referenceDelegate.removeReference(h,d.targetId,m)))))}catch(h){if(!xf(h))throw h;xe(CA,"Failed to update sequence numbers: "+h)}for(const h of c){const d=h.targetId;if(!h.fromCache){const m=u.Ts.get(d),g=m.snapshotVersion,y=m.withLastLimboFreeSnapshotVersion(g);u.Ts=u.Ts.insert(d,y)}}}(r.localStore,s))}async function yae(n,e){const t=Ue(n);if(!t.currentUser.isEqual(e)){xe(jA,"User change. New user:",e.toKey());const r=await BZ(t.localStore,e);t.currentUser=e,function(s,o){s.Ga.forEach(a=>{a.forEach(l=>{l.reject(new be(ee.CANCELLED,o))})}),s.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await wO(t,r.Rs)}}function vae(n,e){const t=Ue(n),r=t.Ka.get(e);if(r&&r.Ba)return tt().add(r.key);{let i=tt();const s=t.qa.get(e);if(!s)return i;for(const o of s){const a=t.ka.get(o);i=i.unionWith(a.view.ba)}return i}}function hq(n){const e=Ue(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=aq.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vae.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pae.bind(null,e),e.La.p_=nae.bind(null,e.eventManager),e.La.Ja=rae.bind(null,e.eventManager),e}function wae(n){const e=Ue(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mae.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gae.bind(null,e),e}class mw{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ab(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return koe(this.persistence,new xoe,e.initialUser,this.serializer)}Xa(e){return new qZ(TA.ri,this.serializer)}Za(e){return new Roe}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mw.provider={build:()=>new mw};class xae extends mw{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){yt(this.persistence.referenceDelegate instanceof fw);const r=this.persistence.referenceDelegate.garbageCollector;return new ooe(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Xr.withCacheSize(this.cacheSizeBytes):Xr.DEFAULT;return new qZ(r=>fw.ri(r,t),this.serializer)}}class gT{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>MN(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=yae.bind(null,this.syncEngine),await Joe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new tae}()}createDatastore(e){const t=ab(e.databaseInfo.databaseId),r=function(s){return new joe(s)}(e.databaseInfo);return function(s,o,a,l){return new Loe(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,s,o,a){return new Uoe(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,t=>MN(this.syncEngine,t,0),function(){return QN.D()?new QN:new Qoe}())}createSyncEngine(e,t){return function(i,s,o,a,l,c,u){const h=new aae(i,s,o,a,l,c);return u&&(h.ja=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const s=Ue(i);xe(ku,"RemoteStore shutting down."),s.W_.add(5),await vO(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}gT.provider={build:()=>new gT};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dq{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Pa("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec="FirestoreClient";class bae{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Or.UNAUTHENTICATED,this.clientId=nZ.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{xe(ec,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(xe(ec,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ya;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=IA(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function r1(n,e){n.asyncQueue.verifyOperationInProgress(),xe(ec,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await BZ(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function LN(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Sae(n);xe(ec,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>IN(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>IN(e.remoteStore,i)),n._onlineComponents=e}async function Sae(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){xe(ec,"Using user provided OfflineComponentProvider");try{await r1(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===ee.FAILED_PRECONDITION||i.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Cd("Error using user provided cache. Falling back to memory cache: "+t),await r1(n,new mw)}}else xe(ec,"Using default OfflineComponentProvider"),await r1(n,new xae(void 0));return n._offlineComponents}async function fq(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(xe(ec,"Using user provided OnlineComponentProvider"),await LN(n,n._uninitializedComponentsProvider._online)):(xe(ec,"Using default OnlineComponentProvider"),await LN(n,new gT))),n._onlineComponents}function kae(n){return fq(n).then(e=>e.syncEngine)}async function pq(n){const e=await fq(n),t=e.eventManager;return t.onListen=lae.bind(null,e.syncEngine),t.onUnlisten=hae.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=cae.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=dae.bind(null,e.syncEngine),t}function _ae(n,e,t={}){const r=new ya;return n.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new dq({next:d=>{u.su(),o.enqueueAndForget(()=>nq(s,h));const m=d.docs.has(a);!m&&d.fromCache?c.reject(new be(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&d.fromCache&&l&&l.source==="server"?c.reject(new be(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(d)},error:d=>c.reject(d)}),h=new rq(vA(a.path),u,{includeMetadataChanges:!0,Ta:!0});return tq(s,h)}(await pq(n),n.asyncQueue,e,t,r)),r.promise}function Tae(n,e,t={}){const r=new ya;return n.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new dq({next:d=>{u.su(),o.enqueueAndForget(()=>nq(s,h)),d.fromCache&&l.source==="server"?c.reject(new be(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),h=new rq(a,u,{includeMetadataChanges:!0,Ta:!0});return tq(s,h)}(await pq(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mq(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gq(n,e,t){if(!t)throw new be(ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Pae(n,e,t,r){if(e===!0&&r===!0)throw new be(ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function UN(n){if(!Ae.isDocumentKey(n))throw new be(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ZN(n){if(Ae.isDocumentKey(n))throw new be(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ub(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ve()}function Ts(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new be(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ub(n);throw new be(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oq="firestore.googleapis.com",qN=!0;class BN{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new be(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Oq,this.ssl=qN}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:qN;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ZZ;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ioe)throw new be(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Pae("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mq((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new be(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new be(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new be(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hb{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BN({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BN(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Nie;switch(r.type){case"firstParty":return new Vie(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new be(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=zN.get(t);r&&(xe("ComponentProvider","Removing Datastore"),zN.delete(t),r.terminate())}(this),Promise.resolve()}}function Cae(n,e,t,r={}){var i;const s=(n=Ts(n,hb))._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),a=`${e}:${t}`;s.host!==Oq&&s.host!==a&&Cd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},s),{host:a,ssl:!1,emulatorOptions:r});if(!vu(l,o)&&(n._setSettings(l),r.mockUserToken)){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=Or.MOCK_USER;else{c=aU(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new be(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Or(h)}n._authCredentials=new jie(new tZ(c,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _c(this.firestore,e,this._query)}}class Nr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ll(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nr(this.firestore,e,this._key)}}class Ll extends _c{constructor(e,t,r){super(e,t,vA(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nr(this.firestore,null,new Ae(e))}withConverter(e){return new Ll(this.firestore,e,this._path)}}function un(n,e,...t){if(n=Gt(n),gq("collection","path",e),n instanceof hb){const r=Mt.fromString(e,...t);return ZN(r),new Ll(n,null,r)}{if(!(n instanceof Nr||n instanceof Ll))throw new be(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Mt.fromString(e,...t));return ZN(r),new Ll(n.firestore,null,r)}}function wt(n,e,...t){if(n=Gt(n),arguments.length===1&&(e=nZ.newId()),gq("doc","path",e),n instanceof hb){const r=Mt.fromString(e,...t);return UN(r),new Nr(n,null,new Ae(r))}{if(!(n instanceof Nr||n instanceof Ll))throw new be(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Mt.fromString(e,...t));return UN(r),new Nr(n.firestore,n instanceof Ll?n.converter:null,new Ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN="AsyncQueue";class WN{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new WZ(this,"async_queue_retry"),this.bu=()=>{const r=n1();r&&xe(FN,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;const t=n1();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=n1();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new ya;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!xf(e))throw e;xe(FN,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Pa("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.Su=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const i=$A.createAndSchedule(this,e,t,r,s=>this.Fu(s));return this.fu.push(i),i}Du(){this.gu&&Ve()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Zu extends hb{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new WN,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new WN(e),this._firestoreClient=void 0,await e}}}function Eae(n,e){const t=typeof n=="object"?n:iA(),r=typeof n=="string"?n:aw,i=Gx(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=iU("firestore");s&&Cae(i,...s)}return i}function MA(n){if(n._terminated)throw new be(ee.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Aae(n),n._firestoreClient}function Aae(n){var e,t,r;const i=n._freezeSettings(),s=function(a,l,c,u){return new Jie(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,mq(u.experimentalLongPollingOptions),u.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new bae(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let VA=class OT{constructor(e){this._byteString=e}static fromBase64String(e){try{return new OT(cr.fromBase64String(e))}catch(t){throw new be(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new OT(cr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new be(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new be(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new be(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return st(this._lat,e._lat)||st(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rae=/^__.*__$/;class Qae{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new kc(e,this.data,this.fieldMask,t,this.fieldTransforms):new OO(e,this.data,t,this.fieldTransforms)}}class yq{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new kc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function vq(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve()}}class UA{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new UA(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return gw(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(vq(this.Lu)&&Rae.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class $ae{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ab(e)}ju(e,t,r,i=!1){return new UA({Lu:e,methodName:t,zu:r,path:sr.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pb(n){const e=n._freezeSettings(),t=ab(n._databaseId);return new $ae(n._databaseId,!!e.ignoreUndefinedProperties,t)}function wq(n,e,t,r,i,s={}){const o=n.ju(s.merge||s.mergeFields?2:0,e,t,i);qA("Data must be an object, but it was:",o,r);const a=xq(r,o);let l,c;if(s.merge)l=new yi(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const h of s.mergeFields){const d=yT(e,h,t);if(!o.contains(d))throw new be(ee.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);Sq(u,d)||u.push(d)}l=new yi(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new Qae(new Jr(a),l,c)}class mb extends fb{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mb}}class ZA extends fb{_toFieldTransform(e){return new kse(e.path,new Xm)}isEqual(e){return e instanceof ZA}}function Iae(n,e,t,r){const i=n.ju(1,e,t);qA("Data must be an object, but it was:",i,r);const s=[],o=Jr.empty();Sc(r,(l,c)=>{const u=BA(e,l,t);c=Gt(c);const h=i.Ku(u);if(c instanceof mb)s.push(u);else{const d=xO(c,h);d!=null&&(s.push(u),o.set(u,d))}});const a=new yi(s);return new yq(o,a,i.fieldTransforms)}function Nae(n,e,t,r,i,s){const o=n.ju(1,e,t),a=[yT(e,r,t)],l=[i];if(s.length%2!=0)throw new be(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(yT(e,s[d])),l.push(s[d+1]);const c=[],u=Jr.empty();for(let d=a.length-1;d>=0;--d)if(!Sq(c,a[d])){const m=a[d];let g=l[d];g=Gt(g);const y=o.Ku(m);if(g instanceof mb)c.push(m);else{const v=xO(g,y);v!=null&&(c.push(m),u.set(m,v))}}const h=new yi(c);return new yq(u,h,o.fieldTransforms)}function jae(n,e,t,r=!1){return xO(t,n.ju(r?4:3,e))}function xO(n,e){if(bq(n=Gt(n)))return qA("Unsupported field value:",e,n),xq(n,e);if(n instanceof fb)return function(r,i){if(!vq(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=xO(a,i.Uu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=Gt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return xse(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Rn.fromDate(r);return{timestampValue:dw(i.serializer,s)}}if(r instanceof Rn){const s=new Rn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:dw(i.serializer,s)}}if(r instanceof LA)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof VA)return{bytesValue:jZ(i.serializer,r._byteString)};if(r instanceof Nr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:kA(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof zA)return function(o,a){return{mapValue:{fields:{[uZ]:{stringValue:dZ},[lw]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Wu("VectorValues must only contain numeric values.");return wA(a.serializer,c)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${ub(r)}`)}(n,e)}function xq(n,e){const t={};return iZ(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sc(n,(r,i)=>{const s=xO(i,e.qu(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function bq(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Rn||n instanceof LA||n instanceof VA||n instanceof Nr||n instanceof fb||n instanceof zA)}function qA(n,e,t){if(!bq(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=ub(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function yT(n,e,t){if((e=Gt(e))instanceof db)return e._internalPath;if(typeof e=="string")return BA(n,e);throw gw("Field path arguments must be of type string or ",n,!1,void 0,t)}const Dae=new RegExp("[~\\*/\\[\\]]");function BA(n,e,t){if(e.search(Dae)>=0)throw gw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new db(...e.split("."))._internalPath}catch{throw gw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function gw(n,e,t,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new be(ee.INVALID_ARGUMENT,a+n+l)}function Sq(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kq{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Nr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Mae(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(gb("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Mae extends kq{data(){return super.data()}}function gb(n,e){return typeof e=="string"?BA(n,e):e instanceof db?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vae(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new be(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class FA{}class WA extends FA{}function Yn(n,e,...t){let r=[];e instanceof FA&&r.push(e),r=r.concat(t),function(s){const o=s.filter(l=>l instanceof XA).length,a=s.filter(l=>l instanceof Ob).length;if(o>1||o>0&&a>0)throw new be(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Ob extends WA{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Ob(e,t,r)}_apply(e){const t=this._parse(e);return Pq(e._query,t),new _c(e.firestore,e.converter,aT(e._query,t))}_parse(e){const t=pb(e.firestore);return function(s,o,a,l,c,u,h){let d;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new be(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){GN(h,u);const g=[];for(const y of h)g.push(XN(l,s,y));d={arrayValue:{values:g}}}else d=XN(l,s,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||GN(h,u),d=jae(a,o,h,u==="in"||u==="not-in");return wn.create(c,u,d)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function nn(n,e,t){const r=e,i=gb("where",n);return Ob._create(i,r,t)}class XA extends FA{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new XA(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:_s.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)Pq(o,l),o=aT(o,l)}(e._query,t),new _c(e.firestore,e.converter,aT(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class GA extends WA{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new GA(e,t)}_apply(e){const t=function(i,s,o){if(i.startAt!==null)throw new be(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new be(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wm(s,o)}(e._query,this._field,this._direction);return new _c(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new bf(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function _q(n,e="asc"){const t=e,r=gb("orderBy",n);return GA._create(r,t)}class YA extends WA{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new YA(e,t,r)}_apply(e){return new _c(e.firestore,e.converter,uw(e._query,this._limit,this._limitType))}}function Tq(n){return YA._create("limit",n,"F")}function XN(n,e,t){if(typeof(t=Gt(t))=="string"){if(t==="")throw new be(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wZ(e)&&t.indexOf("/")!==-1)throw new be(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Mt.fromString(t));if(!Ae.isDocumentKey(r))throw new be(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return uN(n,new Ae(r))}if(t instanceof Nr)return uN(n,t._key);throw new be(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ub(t)}.`)}function GN(n,e){if(!Array.isArray(n)||n.length===0)throw new be(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Pq(n,e){const t=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new be(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new be(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Lae{convertValue(e,t="none"){switch(Kl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return cn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Hl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Sc(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;const s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[lw].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>cn(o.doubleValue));return new zA(s)}convertGeoPoint(e){return new LA(cn(e.latitude),cn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=tb(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(qm(e));default:return null}}convertTimestamp(e){const t=Yl(e);return new Rn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Mt.fromString(e);yt(UZ(r));const i=new Bm(r.get(1),r.get(3)),s=new Ae(r.popFirst(5));return i.isEqual(t)||Pa(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cq(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Eq extends kq{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new j0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(gb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class j0 extends Eq{data(e={}){return super.data(e)}}class zae{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Rp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new j0(this._firestore,this._userDataWriter,r.key,r,new Rp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new be(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new j0(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Rp(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new j0(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Rp(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:Uae(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Uae(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(n){n=Ts(n,Nr);const e=Ts(n.firestore,Zu);return _ae(MA(e),n._key).then(t=>Zae(e,n,t))}class Aq extends Lae{constructor(e){super(),this.firestore=e}convertBytes(e){return new VA(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nr(this.firestore,null,t)}}function Hn(n){n=Ts(n,_c);const e=Ts(n.firestore,Zu),t=MA(e),r=new Aq(e);return Vae(n._query),Tae(t,n._query).then(i=>new zae(e,r,n,i))}function Rq(n,e,t){n=Ts(n,Nr);const r=Ts(n.firestore,Zu),i=Cq(n.converter,e);return yb(r,[wq(pb(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Wi.none())])}function tc(n,e,t,...r){n=Ts(n,Nr);const i=Ts(n.firestore,Zu),s=pb(i);let o;return o=typeof(e=Gt(e))=="string"||e instanceof db?Nae(s,"updateDoc",n._key,e,t,r):Iae(s,"updateDoc",n._key,e),yb(i,[o.toMutation(n._key,Wi.exists(!0))])}function qu(n){return yb(Ts(n.firestore,Zu),[new xA(n._key,Wi.none())])}function Ow(n,e){const t=Ts(n.firestore,Zu),r=wt(n),i=Cq(n.converter,e);return yb(t,[wq(pb(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Wi.exists(!1))]).then(()=>r)}function yb(n,e){return function(r,i){const s=new ya;return r.asyncQueue.enqueueAndForget(async()=>fae(await kae(r),i,s)),s.promise}(MA(n),e)}function Zae(n,e,t){const r=t.docs.get(e._key),i=new Aq(n);return new Eq(n,i,e._key,r,new Rp(t.hasPendingWrites,t.fromCache),e.converter)}function Hm(){return new ZA("serverTimestamp")}(function(e,t=!0){(function(i){vf=i})(Lu),wu(new Xl("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Zu(new Die(r.getProvider("auth-internal")),new Lie(o,r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new be(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bm(c.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),co(J2,eN,e),co(J2,eN,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qq="firebasestorage.googleapis.com",$q="storageBucket",qae=2*60*1e3,Bae=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an extends Do{constructor(e,t,r=0){super(i1(e),`Firebase Storage: ${t} (${i1(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,an.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return i1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var on;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(on||(on={}));function i1(n){return"storage/"+n}function HA(){const n="An unknown error occurred, please check the error payload for server response.";return new an(on.UNKNOWN,n)}function Fae(n){return new an(on.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function Wae(n){return new an(on.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Xae(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new an(on.UNAUTHENTICATED,n)}function Gae(){return new an(on.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Yae(n){return new an(on.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function Hae(){return new an(on.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Kae(){return new an(on.CANCELED,"User canceled the upload/download.")}function Jae(n){return new an(on.INVALID_URL,"Invalid URL '"+n+"'.")}function ele(n){return new an(on.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function tle(){return new an(on.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+$q+"' property when initializing the app?")}function nle(){return new an(on.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function rle(){return new an(on.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function ile(n){return new an(on.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function vT(n){return new an(on.INVALID_ARGUMENT,n)}function Iq(){return new an(on.APP_DELETED,"The Firebase app was deleted.")}function sle(n){return new an(on.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function dm(n,e){return new an(on.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function ip(n){throw new an(on.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=vi.makeFromUrl(e,t)}catch{return new vi(e,"")}if(r.path==="")return r;throw ele(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s($){$.path.charAt($.path.length-1)==="/"&&($.path_=$.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c($){$.path_=decodeURIComponent($.path)}const u="v[A-Za-z0-9_]+",h=t.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",m=new RegExp(`^https?://${h}/${u}/b/${i}/o${d}`,"i"),g={bucket:1,path:3},y=t===Qq?"(?:storage.googleapis.com|storage.cloud.google.com)":t,v="([^?#]*)",b=new RegExp(`^https?://${y}/${i}/${v}`,"i"),S=[{regex:a,indices:l,postModify:s},{regex:m,indices:g,postModify:c},{regex:b,indices:{bucket:1,path:2},postModify:c}];for(let $=0;$<S.length;$++){const P=S[$],Q=P.regex.exec(e);if(Q){const O=Q[P.indices.bucket];let _=Q[P.indices.path];_||(_=""),r=new vi(O,_),P.postModify(r);break}}if(r==null)throw Jae(e);return r}}class ole{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ale(n,e,t){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...v){c||(c=!0,e.apply(null,v))}function h(v){i=setTimeout(()=>{i=null,n(m,l())},v)}function d(){s&&clearTimeout(s)}function m(v,...b){if(c){d();return}if(v){d(),u.call(null,v,...b);return}if(l()||o){d(),u.call(null,v,...b);return}r<64&&(r*=2);let S;a===1?(a=2,S=0):S=(r+Math.random())*1e3,h(S)}let g=!1;function y(v){g||(g=!0,d(),!c&&(i!==null?(v||(a=2),clearTimeout(i),h(0)):v||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,y(!0)},t),y}function lle(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cle(n){return n!==void 0}function ule(n){return typeof n=="object"&&!Array.isArray(n)}function KA(n){return typeof n=="string"||n instanceof String}function YN(n){return JA()&&n instanceof Blob}function JA(){return typeof Blob<"u"}function HN(n,e,t,r){if(r<e)throw vT(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw vT(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function Nq(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var ou;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(ou||(ou={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hle(n,e){const t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,s=e.indexOf(n)!==-1;return t||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dle{constructor(e,t,r,i,s,o,a,l,c,u,h,d=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=h,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,g)=>{this.resolve_=m,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Py(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===ou.NO_ERROR,l=s.getStatus();if(!a||hle(l,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===ou.ABORT;r(!1,new Py(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Py(c,s))})},t=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());cle(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=HA();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?Iq():Kae();o(l)}else{const l=Hae();o(l)}};this.canceled_?t(!1,new Py(!1,null,!0)):this.backoffId_=ale(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&lle(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Py{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function fle(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function ple(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function mle(n,e){e&&(n["X-Firebase-GMPID"]=e)}function gle(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function Ole(n,e,t,r,i,s,o=!0){const a=Nq(n.urlParams),l=n.url+a,c=Object.assign({},n.headers);return mle(c,e),fle(c,t),ple(c,s),gle(c,r),new dle(l,n.method,c,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yle(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function vle(...n){const e=yle();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(JA())return new Blob(n);throw new an(on.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function wle(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xle(n){if(typeof atob>"u")throw ile("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class s1{constructor(e,t){this.data=e,this.contentType=t||null}}function ble(n,e){switch(n){case eo.RAW:return new s1(jq(e));case eo.BASE64:case eo.BASE64URL:return new s1(Dq(n,e));case eo.DATA_URL:return new s1(kle(e),_le(e))}throw HA()}function jq(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=n.charCodeAt(++t);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Sle(n){let e;try{e=decodeURIComponent(n)}catch{throw dm(eo.DATA_URL,"Malformed data URL.")}return jq(e)}function Dq(n,e){switch(n){case eo.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw dm(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case eo.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw dm(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=xle(e)}catch(i){throw i.message.includes("polyfill")?i:dm(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class Mq{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw dm(eo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=Tle(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function kle(n){const e=new Mq(n);return e.base64?Dq(eo.BASE64,e.rest):Sle(e.rest)}function _le(n){return new Mq(n).contentType}function Tle(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,t){let r=0,i="";YN(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(YN(this.data_)){const r=this.data_,i=wle(r,e,t);return i===null?null:new cl(i)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new cl(r,!0)}}static getBlob(...e){if(JA()){const t=e.map(r=>r instanceof cl?r.data_:r);return new cl(vle.apply(null,t))}else{const t=e.map(o=>KA(o)?ble(eo.RAW,o).data:o.data_);let r=0;t.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return t.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new cl(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vq(n){let e;try{e=JSON.parse(n)}catch{return null}return ule(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ple(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function Cle(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function Lq(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ele(n,e){return e}class Er{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||Ele}}let Cy=null;function Ale(n){return!KA(n)||n.length<2?n:Lq(n)}function zq(){if(Cy)return Cy;const n=[];n.push(new Er("bucket")),n.push(new Er("generation")),n.push(new Er("metageneration")),n.push(new Er("name","fullPath",!0));function e(s,o){return Ale(o)}const t=new Er("name");t.xform=e,n.push(t);function r(s,o){return o!==void 0?Number(o):o}const i=new Er("size");return i.xform=r,n.push(i),n.push(new Er("timeCreated")),n.push(new Er("updated")),n.push(new Er("md5Hash",null,!0)),n.push(new Er("cacheControl",null,!0)),n.push(new Er("contentDisposition",null,!0)),n.push(new Er("contentEncoding",null,!0)),n.push(new Er("contentLanguage",null,!0)),n.push(new Er("contentType",null,!0)),n.push(new Er("metadata","customMetadata",!0)),Cy=n,Cy}function Rle(n,e){function t(){const r=n.bucket,i=n.fullPath,s=new vi(r,i);return e._makeStorageReference(s)}Object.defineProperty(n,"ref",{get:t})}function Qle(n,e,t){const r={};r.type="file";const i=t.length;for(let s=0;s<i;s++){const o=t[s];r[o.local]=o.xform(r,e[o.server])}return Rle(r,n),r}function Uq(n,e,t){const r=Vq(e);return r===null?null:Qle(n,r,t)}function $le(n,e,t,r){const i=Vq(e);if(i===null||!KA(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const u=n.bucket,h=n.fullPath,d="/b/"+o(u)+"/o/"+o(h),m=eR(d,t,r),g=Nq({alt:"media",token:c});return m+g})[0]}function Ile(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}class Zq{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qq(n){if(!n)throw HA()}function Nle(n,e){function t(r,i){const s=Uq(n,i,e);return qq(s!==null),s}return t}function jle(n,e){function t(r,i){const s=Uq(n,i,e);return qq(s!==null),$le(s,i,n.host,n._protocol)}return t}function Bq(n){function e(t,r){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=Gae():i=Xae():t.getStatus()===402?i=Wae(n.bucket):t.getStatus()===403?i=Yae(n.path):i=r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Dle(n){const e=Bq(n);function t(r,i){let s=e(r,i);return r.getStatus()===404&&(s=Fae(n.path)),s.serverResponse=i.serverResponse,s}return t}function Mle(n,e,t){const r=e.fullServerUrl(),i=eR(r,n.host,n._protocol),s="GET",o=n.maxOperationRetryTime,a=new Zq(i,s,jle(n,t),o);return a.errorHandler=Dle(e),a}function Vle(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function Lle(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=Vle(null,e)),r}function zle(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let S="";for(let $=0;$<2;$++)S=S+Math.random().toString().slice(2);return S}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=Lle(e,r,i),u=Ile(c,t),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,d=`\r
--`+l+"--",m=cl.getBlob(h,r,d);if(m===null)throw nle();const g={name:c.fullPath},y=eR(s,n.host,n._protocol),v="POST",b=n.maxUploadRetryTime,x=new Zq(y,v,Nle(n,t),b);return x.urlParams=g,x.headers=o,x.body=m.uploadData(),x.errorHandler=Bq(e),x}class Ule{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ou.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ou.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ou.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw ip("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ip("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ip("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ip("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ip("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Zle extends Ule{initXhr(){this.xhr_.responseType="text"}}function Fq(){return new Zle}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,t){this._service=e,t instanceof vi?this._location=t:this._location=vi.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new _u(e,t)}get root(){const e=new vi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Lq(this._location.path)}get storage(){return this._service}get parent(){const e=Ple(this._location.path);if(e===null)return null;const t=new vi(this._location.bucket,e);return new _u(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw sle(e)}}function qle(n,e,t){n._throwIfRoot("uploadBytes");const r=zle(n.storage,n._location,zq(),new cl(e,!0),t);return n.storage.makeRequestWithTokens(r,Fq).then(i=>({metadata:i,ref:n}))}function Ble(n){n._throwIfRoot("getDownloadURL");const e=Mle(n.storage,n._location,zq());return n.storage.makeRequestWithTokens(e,Fq).then(t=>{if(t===null)throw rle();return t})}function Fle(n,e){const t=Cle(n._location.path,e),r=new vi(n._location.bucket,t);return new _u(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wle(n){return/^[A-Za-z]+:\/\//.test(n)}function Xle(n,e){return new _u(n,e)}function Wq(n,e){if(n instanceof tR){const t=n;if(t._bucket==null)throw tle();const r=new _u(t,t._bucket);return e!=null?Wq(r,e):r}else return e!==void 0?Fle(n,e):n}function Gle(n,e){if(e&&Wle(e)){if(n instanceof tR)return Xle(n,e);throw vT("To use ref(service, url), the first argument must be a Storage instance.")}else return Wq(n,e)}function KN(n,e){const t=e==null?void 0:e[$q];return t==null?null:vi.makeFromBucketSpec(t,n)}function Yle(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken=typeof i=="string"?i:aU(i,n.app.options.projectId))}class tR{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=Qq,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=qae,this._maxUploadRetryTime=Bae,this._requests=new Set,i!=null?this._bucket=vi.makeFromBucketSpec(i,this._host):this._bucket=KN(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=vi.makeFromBucketSpec(this._url,e):this._bucket=KN(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){HN("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){HN("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(gi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _u(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new ole(Iq());{const o=Ole(e,this._appId,r,i,t,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,t){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()}}const JN="@firebase/storage",ej="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xq="storage";function Hle(n,e,t){return n=Gt(n),qle(n,e,t)}function Kle(n){return n=Gt(n),Ble(n)}function Jle(n,e){return n=Gt(n),Gle(n,e)}function Gq(n=iA(),e){n=Gt(n);const r=Gx(n,Xq).getImmediate({identifier:e}),i=iU("storage");return i&&ece(r,...i),r}function ece(n,e,t,r={}){Yle(n,e,t,r)}function tce(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new tR(t,r,i,e,Lu)}function nce(){wu(new Xl(Xq,tce,"PUBLIC").setMultipleInstances(!0)),co(JN,ej,""),co(JN,ej,"esm2017")}nce();const rce={apiKey:"AIzaSyC-w9THFsmPDUI08mN2EZ4OhgtzFJi0x8Y",authDomain:"snippets-app-3c69d.firebaseapp.com",projectId:"snippets-app-3c69d",storageBucket:"snippets-app-3c69d.firebasestorage.app",messagingSenderId:"1092584260018",appId:"1:1092584260018:web:4d6fdca615fc31d592e4ab",measurementId:"G-RSCCGRP7YN"},nR=uU(rce),kf=$ie(nR),De=Eae(nR);Gq(nR);vre(kf,LU);async function ice(n,e){try{console.log("Attempting to sign in:",n);const t=await yre(kf,n,e);console.log("Sign in successful:",t.user.uid);const r=await xo(wt(De,"users",t.user.uid));return console.log("User document exists:",r.exists()),r.exists()||(await Rq(wt(De,"users",t.user.uid),{email:t.user.email,createdAt:Hm(),settings:{theme:"light",fontSize:14}}),console.log("Created new user document")),window.location.href="/",t.user}catch(t){throw console.error("Sign in error:",t),new Error(t.message)}}async function sce(n,e){try{const t=await Ore(kf,n,e);return await Rq(wt(De,"users",t.user.uid),{email:t.user.email,createdAt:Hm(),settings:{theme:"light",fontSize:14}}),t.user}catch(t){throw new Error(t.message)}}async function oce(){await Sre(kf)}async function ace(n){await gre(kf,n)}function ai(){const{data:n,isLoading:e}=yu({queryKey:["auth"],queryFn:()=>new Promise(t=>{const r=bre(kf,i=>{r(),t(i)})}),staleTime:1/0});return{user:n,isLoading:e,isAuthenticated:!!n}}const Yq=[{id:"default",name:"Default",description:"The default light theme",type:"color",theme:{name:"Default",description:"Clean, minimal light theme",preview:{primary:"#0f172a",secondary:"#64748b",accent:"#2563eb",background:"#ffffff"},variables:{"--background":"0 0% 100%","--foreground":"222.2 47.4% 11.2%","--card":"0 0% 100%","--card-foreground":"222.2 47.4% 11.2%","--popover":"0 0% 100%","--popover-foreground":"222.2 47.4% 11.2%","--primary":"222.2 47.4% 11.2%","--primary-foreground":"210 40% 98%","--secondary":"210 40% 96.1%","--secondary-foreground":"222.2 47.4% 11.2%","--muted":"210 40% 96.1%","--muted-foreground":"215.4 16.3% 46.9%","--accent":"210 40% 96.1%","--accent-foreground":"222.2 47.4% 11.2%","--destructive":"0 84.2% 60.2%","--destructive-foreground":"210 40% 98%","--border":"214.3 31.8% 91.4%","--input":"214.3 31.8% 91.4%","--ring":"222.2 47.4% 11.2%","--radius":"0.5rem"}}},{id:"dark",name:"Dark",description:"Dark mode theme",type:"color",theme:{name:"Dark",description:"Sleek dark theme",preview:{primary:"#f8fafc",secondary:"#94a3b8",accent:"#3b82f6",background:"#020617"},variables:{"--background":"222.2 84% 4.9%","--foreground":"210 40% 98%","--card":"222.2 84% 4.9%","--card-foreground":"210 40% 98%","--popover":"222.2 84% 4.9%","--popover-foreground":"210 40% 98%","--primary":"210 40% 98%","--primary-foreground":"222.2 47.4% 11.2%","--secondary":"217.2 32.6% 17.5%","--secondary-foreground":"210 40% 98%","--muted":"217.2 32.6% 17.5%","--muted-foreground":"215 20.2% 65.1%","--accent":"217.2 32.6% 17.5%","--accent-foreground":"210 40% 98%","--destructive":"0 62.8% 30.6%","--destructive-foreground":"210 40% 98%","--border":"217.2 32.6% 17.5%","--input":"217.2 32.6% 17.5%","--ring":"212.7 26.8% 83.9%","--radius":"0.5rem"}}},{id:"blue",name:"Blue",description:"Calming blue theme",type:"color",theme:{name:"Blue",description:"Soothing blue color scheme",preview:{primary:"#1e40af",secondary:"#60a5fa",accent:"#3b82f6",background:"#eff6ff"},variables:{"--background":"213.8 100% 96.9%","--foreground":"224 71.4% 4.1%","--card":"0 0% 100%","--card-foreground":"224 71.4% 4.1%","--popover":"0 0% 100%","--popover-foreground":"224 71.4% 4.1%","--primary":"221.2 83.2% 53.3%","--primary-foreground":"210 40% 98%","--secondary":"214.3 94.6% 92.7%","--secondary-foreground":"222.2 47.4% 11.2%","--muted":"214.3 94.6% 92.7%","--muted-foreground":"215.4 16.3% 46.9%","--accent":"214.3 94.6% 92.7%","--accent-foreground":"222.2 47.4% 11.2%","--destructive":"0 84.2% 60.2%","--destructive-foreground":"210 40% 98%","--border":"214.3 31.8% 91.4%","--input":"214.3 31.8% 91.4%","--ring":"221.2 83.2% 53.3%","--radius":"0.5rem"}}},{id:"green",name:"Green",description:"Fresh green theme",type:"color",theme:{name:"Green",description:"Refreshing green color scheme",preview:{primary:"#166534",secondary:"#4ade80",accent:"#22c55e",background:"#f0fdf4"},variables:{"--background":"142.1 76.2% 96.7%","--foreground":"142.1 76.2% 11.2%","--card":"0 0% 100%","--card-foreground":"142.1 76.2% 11.2%","--popover":"0 0% 100%","--popover-foreground":"142.1 76.2% 11.2%","--primary":"142.1 76.2% 36.3%","--primary-foreground":"355.7 100% 97.3%","--secondary":"142.1 76.2% 96.7%","--secondary-foreground":"142.1 76.2% 11.2%","--muted":"142.1 76.2% 96.7%","--muted-foreground":"142.1 76.2% 36.3%","--accent":"142.1 76.2% 96.7%","--accent-foreground":"142.1 76.2% 11.2%","--destructive":"0 84.2% 60.2%","--destructive-foreground":"210 40% 98%","--border":"142.1 76.2% 86.7%","--input":"142.1 76.2% 86.7%","--ring":"142.1 76.2% 36.3%","--radius":"0.5rem"}}},{id:"purple",name:"Purple",description:"Rich purple theme",type:"color",theme:{name:"Purple",description:"Elegant purple color scheme",preview:{primary:"#6b21a8",secondary:"#c084fc",accent:"#a855f7",background:"#faf5ff"},variables:{"--background":"270 100% 98%","--foreground":"272.9 73.5% 28.8%","--card":"0 0% 100%","--card-foreground":"272.9 73.5% 28.8%","--popover":"0 0% 100%","--popover-foreground":"272.9 73.5% 28.8%","--primary":"272.9 73.5% 28.8%","--primary-foreground":"0 0% 100%","--secondary":"270 100% 98%","--secondary-foreground":"272.9 73.5% 28.8%","--muted":"270 100% 98%","--muted-foreground":"272.9 73.5% 52.4%","--accent":"270 100% 98%","--accent-foreground":"272.9 73.5% 28.8%","--destructive":"0 84.2% 60.2%","--destructive-foreground":"210 40% 98%","--border":"270 100% 88%","--input":"270 100% 88%","--ring":"272.9 73.5% 28.8%","--radius":"0.5rem"}}}],Hq=[{id:"sunset",name:"Sunset",description:"Warm sunset gradient",type:"gradient",theme:{name:"Sunset",description:"Warm orange to purple gradient",preview:{primary:"#f97316",secondary:"#c026d3",accent:"#f59e0b",background:"linear-gradient(to right, #f97316, #c026d3)"},variables:{"--background":"0 0% 100%","--foreground":"20 14.3% 4.1%","--card":"0 0% 100%","--card-foreground":"20 14.3% 4.1%","--popover":"0 0% 100%","--popover-foreground":"20 14.3% 4.1%","--primary":"24.6 95% 53.1%","--primary-foreground":"60 9.1% 97.8%","--secondary":"60 4.8% 95.9%","--secondary-foreground":"24 9.8% 10%","--muted":"60 4.8% 95.9%","--muted-foreground":"25 5.3% 44.7%","--accent":"60 4.8% 95.9%","--accent-foreground":"24 9.8% 10%","--destructive":"0 84.2% 60.2%","--destructive-foreground":"60 9.1% 97.8%","--border":"20 5.9% 90%","--input":"20 5.9% 90%","--ring":"24.6 95% 53.1%","--radius":"0.5rem"}}},{id:"ocean",name:"Ocean",description:"Cool ocean gradient",type:"gradient",theme:{name:"Ocean",description:"Calming blue to teal gradient",preview:{primary:"#0ea5e9",secondary:"#14b8a6",accent:"#06b6d4",background:"linear-gradient(to right, #0ea5e9, #14b8a6)"},variables:{"--background":"0 0% 100%","--foreground":"222.2 84% 4.9%","--card":"0 0% 100%","--card-foreground":"222.2 84% 4.9%","--popover":"0 0% 100%","--popover-foreground":"222.2 84% 4.9%","--primary":"199 89% 48%","--primary-foreground":"0 0% 100%","--secondary":"0 0% 96.1%","--secondary-foreground":"222.2 47.4% 11.2%","--muted":"0 0% 96.1%","--muted-foreground":"215.4 16.3% 46.9%","--accent":"0 0% 96.1%","--accent-foreground":"222.2 47.4% 11.2%","--destructive":"0 84.2% 60.2%","--destructive-foreground":"210 40% 98%","--border":"214.3 31.8% 91.4%","--input":"214.3 31.8% 91.4%","--ring":"199 89% 48%","--radius":"0.5rem"}}},{id:"forest",name:"Forest",description:"Natural forest gradient",type:"gradient",theme:{name:"Forest",description:"Earthy green to brown gradient",preview:{primary:"#166534",secondary:"#854d0e",accent:"#4d7c0f",background:"linear-gradient(to right, #166534, #854d0e)"},variables:{"--background":"0 0% 100%","--foreground":"123 11% 9%","--card":"0 0% 100%","--card-foreground":"123 11% 9%","--popover":"0 0% 100%","--popover-foreground":"123 11% 9%","--primary":"123 41% 24%","--primary-foreground":"0 0% 100%","--secondary":"80 4.8% 95.9%","--secondary-foreground":"123 11% 9%","--muted":"80 4.8% 95.9%","--muted-foreground":"123 11% 40%","--accent":"80 4.8% 95.9%","--accent-foreground":"123 11% 9%","--destructive":"0 84.2% 60.2%","--destructive-foreground":"0 0% 100%","--border":"123 11% 90%","--input":"123 11% 90%","--ring":"123 41% 24%","--radius":"0.5rem"}}}],Kq=[...Yq,...Hq];function lce(n){return Kq.find(e=>e.id===n)}function rR(){const{user:n}=ai(),[e,t]=E.useState(()=>typeof window<"u"&&localStorage.getItem("theme")||"default"),r=s=>{const o=window.document.documentElement;o.classList.remove("light","dark"),Kq.forEach(c=>o.classList.remove(c.id));const a=s==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"default":s;o.classList.add(a);const l=lce(a);l&&(l.type==="gradient"&&o.style.setProperty("--gradient-background",l.theme.preview.background),Object.entries(l.theme.variables).forEach(([c,u])=>{o.style.setProperty(c,u)}))};return E.useEffect(()=>{(async()=>{var o;if(n){const a=await xo(wt(De,"users",n.uid));if(a.exists()){const l=a.data();(o=l.settings)!=null&&o.theme&&(t(l.settings.theme),r(l.settings.theme))}}})()},[n]),E.useEffect(()=>{r(e)},[e]),{theme:e,setTheme:async s=>{t(s),localStorage.setItem("theme",s),r(s),n&&await tc(wt(De,"users",n.uid),{"settings.theme":s})}}}function Jq(){const{user:n}=ai(),[e,t]=E.useState(()=>typeof window<"u"?parseInt(localStorage.getItem("fontSize")||"14",10):14),r=s=>{window.document.documentElement.style.setProperty("--font-size",`${s}px`)};return E.useEffect(()=>{(async()=>{var o;if(n){const a=await xo(wt(De,"users",n.uid));if(a.exists()){const l=a.data();(o=l.settings)!=null&&o.fontSize&&(t(l.settings.fontSize),r(l.settings.fontSize))}}})()},[n]),E.useEffect(()=>{r(e)},[e]),{fontSize:e,setFontSize:async s=>{t(s),localStorage.setItem("fontSize",s.toString()),r(s),n&&await tc(wt(De,"users",n.uid),{"settings.fontSize":s})}}}const cce=Wx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),se=E.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...i},s)=>{const o=r?Fl:"button";return p.jsx(o,{className:Le(cce({variant:e,size:t,className:n})),ref:s,...i})});se.displayName="Button";const Un=E.forwardRef(({className:n,type:e,...t},r)=>p.jsx("input",{type:e,className:Le("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:r,...t}));Un.displayName="Input";var uce=E.createContext(void 0);function bO(n){const e=E.useContext(uce);return n||e||"ltr"}function Km(n,[e,t]){return Math.min(t,Math.max(e,n))}function hce(n,e){return E.useReducer((t,r)=>e[t][r]??t,n)}var iR="ScrollArea",[e3,PCe]=xc(iR),[dce,ts]=e3(iR),t3=E.forwardRef((n,e)=>{const{__scopeScrollArea:t,type:r="hover",dir:i,scrollHideDelay:s=600,...o}=n,[a,l]=E.useState(null),[c,u]=E.useState(null),[h,d]=E.useState(null),[m,g]=E.useState(null),[y,v]=E.useState(null),[b,x]=E.useState(0),[S,$]=E.useState(0),[P,Q]=E.useState(!1),[O,_]=E.useState(!1),k=nt(e,C=>l(C)),A=bO(i);return p.jsx(dce,{scope:t,type:r,dir:A,scrollHideDelay:s,scrollArea:a,viewport:c,onViewportChange:u,content:h,onContentChange:d,scrollbarX:m,onScrollbarXChange:g,scrollbarXEnabled:P,onScrollbarXEnabledChange:Q,scrollbarY:y,onScrollbarYChange:v,scrollbarYEnabled:O,onScrollbarYEnabledChange:_,onCornerWidthChange:x,onCornerHeightChange:$,children:p.jsx(Qe.div,{dir:A,...o,ref:k,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":S+"px",...n.style}})})});t3.displayName=iR;var n3="ScrollAreaViewport",r3=E.forwardRef((n,e)=>{const{__scopeScrollArea:t,children:r,asChild:i,nonce:s,...o}=n,a=ts(n3,t),l=E.useRef(null),c=nt(e,l,a.onViewportChange);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:s}),p.jsx(Qe.div,{"data-radix-scroll-area-viewport":"",...o,asChild:i,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...n.style},children:bce({asChild:i,children:r},u=>p.jsx("div",{"data-radix-scroll-area-content":"",ref:a.onContentChange,style:{minWidth:a.scrollbarXEnabled?"fit-content":void 0},children:u}))})]})});r3.displayName=n3;var Mo="ScrollAreaScrollbar",sR=E.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=ts(Mo,n.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,a=n.orientation==="horizontal";return E.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),i.type==="hover"?p.jsx(fce,{...r,ref:e,forceMount:t}):i.type==="scroll"?p.jsx(pce,{...r,ref:e,forceMount:t}):i.type==="auto"?p.jsx(i3,{...r,ref:e,forceMount:t}):i.type==="always"?p.jsx(oR,{...r,ref:e}):null});sR.displayName=Mo;var fce=E.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=ts(Mo,n.__scopeScrollArea),[s,o]=E.useState(!1);return E.useEffect(()=>{const a=i.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),o(!0)},u=()=>{l=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),p.jsx(Qs,{present:t||s,children:p.jsx(i3,{"data-state":s?"visible":"hidden",...r,ref:e})})}),pce=E.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=ts(Mo,n.__scopeScrollArea),s=n.orientation==="horizontal",o=wb(()=>l("SCROLL_END"),100),[a,l]=hce("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return E.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,i.scrollHideDelay,l]),E.useEffect(()=>{const c=i.viewport,u=s?"scrollLeft":"scrollTop";if(c){let h=c[u];const d=()=>{const m=c[u];h!==m&&(l("SCROLL"),o()),h=m};return c.addEventListener("scroll",d),()=>c.removeEventListener("scroll",d)}},[i.viewport,s,l,o]),p.jsx(Qs,{present:t||a!=="hidden",children:p.jsx(oR,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Pe(n.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Pe(n.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),i3=E.forwardRef((n,e)=>{const t=ts(Mo,n.__scopeScrollArea),{forceMount:r,...i}=n,[s,o]=E.useState(!1),a=n.orientation==="horizontal",l=wb(()=>{if(t.viewport){const c=t.viewport.offsetWidth<t.viewport.scrollWidth,u=t.viewport.offsetHeight<t.viewport.scrollHeight;o(a?c:u)}},10);return Id(t.viewport,l),Id(t.content,l),p.jsx(Qs,{present:r||s,children:p.jsx(oR,{"data-state":s?"visible":"hidden",...i,ref:e})})}),oR=E.forwardRef((n,e)=>{const{orientation:t="vertical",...r}=n,i=ts(Mo,n.__scopeScrollArea),s=E.useRef(null),o=E.useRef(0),[a,l]=E.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=c3(a.viewport,a.content),u={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:d=>s.current=d,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:d=>o.current=d};function h(d,m){return wce(d,o.current,a,m)}return t==="horizontal"?p.jsx(mce,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const d=i.viewport.scrollLeft,m=tj(d,a,i.dir);s.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:d=>{i.viewport&&(i.viewport.scrollLeft=d)},onDragScroll:d=>{i.viewport&&(i.viewport.scrollLeft=h(d,i.dir))}}):t==="vertical"?p.jsx(gce,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const d=i.viewport.scrollTop,m=tj(d,a);s.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:d=>{i.viewport&&(i.viewport.scrollTop=d)},onDragScroll:d=>{i.viewport&&(i.viewport.scrollTop=h(d))}}):null}),mce=E.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...i}=n,s=ts(Mo,n.__scopeScrollArea),[o,a]=E.useState(),l=E.useRef(null),c=nt(e,l,s.onScrollbarXChange);return E.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),p.jsx(o3,{"data-orientation":"horizontal",...i,ref:c,sizes:t,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":vb(t)+"px",...n.style},onThumbPointerDown:u=>n.onThumbPointerDown(u.x),onDragScroll:u=>n.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(s.viewport){const d=s.viewport.scrollLeft+u.deltaX;n.onWheelScroll(d),h3(d,h)&&u.preventDefault()}},onResize:()=>{l.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:vw(o.paddingLeft),paddingEnd:vw(o.paddingRight)}})}})}),gce=E.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...i}=n,s=ts(Mo,n.__scopeScrollArea),[o,a]=E.useState(),l=E.useRef(null),c=nt(e,l,s.onScrollbarYChange);return E.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),p.jsx(o3,{"data-orientation":"vertical",...i,ref:c,sizes:t,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":vb(t)+"px",...n.style},onThumbPointerDown:u=>n.onThumbPointerDown(u.y),onDragScroll:u=>n.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(s.viewport){const d=s.viewport.scrollTop+u.deltaY;n.onWheelScroll(d),h3(d,h)&&u.preventDefault()}},onResize:()=>{l.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:vw(o.paddingTop),paddingEnd:vw(o.paddingBottom)}})}})}),[Oce,s3]=e3(Mo),o3=E.forwardRef((n,e)=>{const{__scopeScrollArea:t,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:h,...d}=n,m=ts(Mo,t),[g,y]=E.useState(null),v=nt(e,k=>y(k)),b=E.useRef(null),x=E.useRef(""),S=m.viewport,$=r.content-r.viewport,P=sn(u),Q=sn(l),O=wb(h,10);function _(k){if(b.current){const A=k.clientX-b.current.left,C=k.clientY-b.current.top;c({x:A,y:C})}}return E.useEffect(()=>{const k=A=>{const C=A.target;(g==null?void 0:g.contains(C))&&P(A,$)};return document.addEventListener("wheel",k,{passive:!1}),()=>document.removeEventListener("wheel",k,{passive:!1})},[S,g,$,P]),E.useEffect(Q,[r,Q]),Id(g,O),Id(m.content,O),p.jsx(Oce,{scope:t,scrollbar:g,hasThumb:i,onThumbChange:sn(s),onThumbPointerUp:sn(o),onThumbPositionChange:Q,onThumbPointerDown:sn(a),children:p.jsx(Qe.div,{...d,ref:v,style:{position:"absolute",...d.style},onPointerDown:Pe(n.onPointerDown,k=>{k.button===0&&(k.target.setPointerCapture(k.pointerId),b.current=g.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),_(k))}),onPointerMove:Pe(n.onPointerMove,_),onPointerUp:Pe(n.onPointerUp,k=>{const A=k.target;A.hasPointerCapture(k.pointerId)&&A.releasePointerCapture(k.pointerId),document.body.style.webkitUserSelect=x.current,m.viewport&&(m.viewport.style.scrollBehavior=""),b.current=null})})})}),yw="ScrollAreaThumb",a3=E.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=s3(yw,n.__scopeScrollArea);return p.jsx(Qs,{present:t||i.hasThumb,children:p.jsx(yce,{ref:e,...r})})}),yce=E.forwardRef((n,e)=>{const{__scopeScrollArea:t,style:r,...i}=n,s=ts(yw,t),o=s3(yw,t),{onThumbPositionChange:a}=o,l=nt(e,h=>o.onThumbChange(h)),c=E.useRef(),u=wb(()=>{c.current&&(c.current(),c.current=void 0)},100);return E.useEffect(()=>{const h=s.viewport;if(h){const d=()=>{if(u(),!c.current){const m=xce(h,a);c.current=m,a()}};return a(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[s.viewport,u,a]),p.jsx(Qe.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Pe(n.onPointerDownCapture,h=>{const m=h.target.getBoundingClientRect(),g=h.clientX-m.left,y=h.clientY-m.top;o.onThumbPointerDown({x:g,y})}),onPointerUp:Pe(n.onPointerUp,o.onThumbPointerUp)})});a3.displayName=yw;var aR="ScrollAreaCorner",l3=E.forwardRef((n,e)=>{const t=ts(aR,n.__scopeScrollArea),r=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&r?p.jsx(vce,{...n,ref:e}):null});l3.displayName=aR;var vce=E.forwardRef((n,e)=>{const{__scopeScrollArea:t,...r}=n,i=ts(aR,t),[s,o]=E.useState(0),[a,l]=E.useState(0),c=!!(s&&a);return Id(i.scrollbarX,()=>{var h;const u=((h=i.scrollbarX)==null?void 0:h.offsetHeight)||0;i.onCornerHeightChange(u),l(u)}),Id(i.scrollbarY,()=>{var h;const u=((h=i.scrollbarY)==null?void 0:h.offsetWidth)||0;i.onCornerWidthChange(u),o(u)}),c?p.jsx(Qe.div,{...r,ref:e,style:{width:s,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...n.style}}):null});function vw(n){return n?parseInt(n,10):0}function c3(n,e){const t=n/e;return isNaN(t)?0:t}function vb(n){const e=c3(n.viewport,n.content),t=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,r=(n.scrollbar.size-t)*e;return Math.max(r,18)}function wce(n,e,t,r="ltr"){const i=vb(t),s=i/2,o=e||s,a=i-o,l=t.scrollbar.paddingStart+o,c=t.scrollbar.size-t.scrollbar.paddingEnd-a,u=t.content-t.viewport,h=r==="ltr"?[0,u]:[u*-1,0];return u3([l,c],h)(n)}function tj(n,e,t="ltr"){const r=vb(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,o=e.content-e.viewport,a=s-r,l=t==="ltr"?[0,o]:[o*-1,0],c=Km(n,l);return u3([0,o],[0,a])(c)}function u3(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(n[1]-n[0]);return e[0]+r*(t-n[0])}}function h3(n,e){return n>0&&n<e}var xce=(n,e=()=>{})=>{let t={left:n.scrollLeft,top:n.scrollTop},r=0;return function i(){const s={left:n.scrollLeft,top:n.scrollTop},o=t.left!==s.left,a=t.top!==s.top;(o||a)&&e(),t=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function wb(n,e){const t=sn(n),r=E.useRef(0);return E.useEffect(()=>()=>window.clearTimeout(r.current),[]),E.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(t,e)},[t,e])}function Id(n,e){const t=sn(e);$n(()=>{let r=0;if(n){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(t)});return i.observe(n),()=>{window.cancelAnimationFrame(r),i.unobserve(n)}}},[n,t])}function bce(n,e){const{asChild:t,children:r}=n;if(!t)return typeof e=="function"?e(r):e;const i=E.Children.only(r);return E.cloneElement(i,{children:typeof e=="function"?e(i.props.children):e})}var d3=t3,Sce=r3,kce=l3;const f3=E.forwardRef(({className:n,children:e,...t},r)=>p.jsxs(d3,{ref:r,className:Le("relative overflow-hidden",n),...t,children:[p.jsx(Sce,{className:"h-full w-full rounded-[inherit]",children:e}),p.jsx(p3,{}),p.jsx(kce,{})]}));f3.displayName=d3.displayName;const p3=E.forwardRef(({className:n,orientation:e="vertical",...t},r)=>p.jsx(sR,{ref:r,orientation:e,className:Le("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",n),...t,children:p.jsx(a3,{className:"relative flex-1 rounded-full bg-border"})}));p3.displayName=sR.displayName;var _ce="Separator",nj="horizontal",Tce=["horizontal","vertical"],m3=E.forwardRef((n,e)=>{const{decorative:t,orientation:r=nj,...i}=n,s=Pce(r)?r:nj,a=t?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return p.jsx(Qe.div,{"data-orientation":s,...a,...i,ref:e})});m3.displayName=_ce;function Pce(n){return Tce.includes(n)}var g3=m3;const D0=E.forwardRef(({className:n,orientation:e="horizontal",decorative:t=!0,...r},i)=>p.jsx(g3,{ref:i,decorative:t,orientation:e,className:Le("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",n),...r}));D0.displayName=g3.displayName;const Cce=Wx("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ui({className:n,variant:e,...t}){return p.jsx("div",{className:Le(Cce({variant:e}),n),...t})}var SO=n=>n.type==="checkbox",Xc=n=>n instanceof Date,$r=n=>n==null;const O3=n=>typeof n=="object";var fn=n=>!$r(n)&&!Array.isArray(n)&&O3(n)&&!Xc(n),y3=n=>fn(n)&&n.target?SO(n.target)?n.target.checked:n.target.value:n,Ece=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,v3=(n,e)=>n.has(Ece(e)),Ace=n=>{const e=n.constructor&&n.constructor.prototype;return fn(e)&&e.hasOwnProperty("isPrototypeOf")},lR=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Zr(n){let e;const t=Array.isArray(n);if(n instanceof Date)e=new Date(n);else if(n instanceof Set)e=new Set(n);else if(!(lR&&(n instanceof Blob||n instanceof FileList))&&(t||fn(n)))if(e=t?[]:{},!t&&!Ace(n))e=n;else for(const r in n)n.hasOwnProperty(r)&&(e[r]=Zr(n[r]));else return n;return e}var xb=n=>Array.isArray(n)?n.filter(Boolean):[],tn=n=>n===void 0,de=(n,e,t)=>{if(!e||!fn(n))return t;const r=xb(e.split(/[,[\].]+?/)).reduce((i,s)=>$r(i)?i:i[s],n);return tn(r)||r===n?tn(n[e])?t:n[e]:r},Mi=n=>typeof n=="boolean",cR=n=>/^\w*$/.test(n),w3=n=>xb(n.replace(/["|']|\]/g,"").split(/\.|\[/)),gt=(n,e,t)=>{let r=-1;const i=cR(e)?[e]:w3(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=t;if(r!==o){const c=n[a];l=fn(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}if(a==="__proto__")return;n[a]=l,n=n[a]}return n};const ww={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},hs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Wo={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},x3=He.createContext(null),bb=()=>He.useContext(x3),Rce=n=>{const{children:e,...t}=n;return He.createElement(x3.Provider,{value:t},e)};var b3=(n,e,t,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in n)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==hs.all&&(e._proxyFormState[o]=!r||hs.all),t&&(t[o]=!0),n[o]}});return i},Wr=n=>fn(n)&&!Object.keys(n).length,S3=(n,e,t,r)=>{t(n);const{name:i,...s}=n;return Wr(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||hs.all))},fm=n=>Array.isArray(n)?n:[n],k3=(n,e,t)=>!n||!e||n===e||fm(n).some(r=>r&&(t?r===e:r.startsWith(e)||e.startsWith(r)));function uR(n){const e=He.useRef(n);e.current=n,He.useEffect(()=>{const t=!n.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{t&&t.unsubscribe()}},[n.disabled])}function Qce(n){const e=bb(),{control:t=e.control,disabled:r,name:i,exact:s}=n||{},[o,a]=He.useState(t._formState),l=He.useRef(!0),c=He.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=He.useRef(i);return u.current=i,uR({disabled:r,next:h=>l.current&&k3(u.current,h.name,s)&&S3(h,c.current,t._updateFormState)&&a({...t._formState,...h}),subject:t._subjects.state}),He.useEffect(()=>(l.current=!0,c.current.isValid&&t._updateValid(!0),()=>{l.current=!1}),[t]),b3(o,t,c.current,!1)}var to=n=>typeof n=="string",_3=(n,e,t,r,i)=>to(n)?(r&&e.watch.add(n),de(t,n,i)):Array.isArray(n)?n.map(s=>(r&&e.watch.add(s),de(t,s))):(r&&(e.watchAll=!0),t);function $ce(n){const e=bb(),{control:t=e.control,name:r,defaultValue:i,disabled:s,exact:o}=n||{},a=He.useRef(r);a.current=r,uR({disabled:s,subject:t._subjects.values,next:u=>{k3(a.current,u.name,o)&&c(Zr(_3(a.current,t._names,u.values||t._formValues,!1,i)))}});const[l,c]=He.useState(t._getWatch(r,i));return He.useEffect(()=>t._removeUnmounted()),l}function Ice(n){const e=bb(),{name:t,disabled:r,control:i=e.control,shouldUnregister:s}=n,o=v3(i._names.array,t),a=$ce({control:i,name:t,defaultValue:de(i._formValues,t,de(i._defaultValues,t,n.defaultValue)),exact:!0}),l=Qce({control:i,name:t,exact:!0}),c=He.useRef(i.register(t,{...n.rules,value:a,...Mi(n.disabled)?{disabled:n.disabled}:{}}));return He.useEffect(()=>{const u=i._options.shouldUnregister||s,h=(d,m)=>{const g=de(i._fields,d);g&&g._f&&(g._f.mount=m)};if(h(t,!0),u){const d=Zr(de(i._options.defaultValues,t));gt(i._defaultValues,t,d),tn(de(i._formValues,t))&&gt(i._formValues,t,d)}return()=>{(o?u&&!i._state.action:u)?i.unregister(t):h(t,!1)}},[t,i,o,s]),He.useEffect(()=>{de(i._fields,t)&&i._updateDisabledField({disabled:r,fields:i._fields,name:t,value:de(i._fields,t)._f.value})},[r,t,i]),{field:{name:t,value:a,...Mi(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:He.useCallback(u=>c.current.onChange({target:{value:y3(u),name:t},type:ww.CHANGE}),[t]),onBlur:He.useCallback(()=>c.current.onBlur({target:{value:de(i._formValues,t),name:t},type:ww.BLUR}),[t,i]),ref:He.useCallback(u=>{const h=de(i._fields,t);h&&u&&(h._f.ref={focus:()=>u.focus(),select:()=>u.select(),setCustomValidity:d=>u.setCustomValidity(d),reportValidity:()=>u.reportValidity()})},[i._fields,t])},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!de(l.errors,t)},isDirty:{enumerable:!0,get:()=>!!de(l.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!de(l.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!de(l.validatingFields,t)},error:{enumerable:!0,get:()=>de(l.errors,t)}})}}const Nce=n=>n.render(Ice(n));var T3=(n,e,t,r,i)=>e?{...t[n],types:{...t[n]&&t[n].types?t[n].types:{},[r]:i||!0}}:{},rj=n=>({isOnSubmit:!n||n===hs.onSubmit,isOnBlur:n===hs.onBlur,isOnChange:n===hs.onChange,isOnAll:n===hs.all,isOnTouch:n===hs.onTouched}),ij=(n,e,t)=>!t&&(e.watchAll||e.watch.has(n)||[...e.watch].some(r=>n.startsWith(r)&&/^\.\w+/.test(n.slice(r.length))));const pm=(n,e,t,r)=>{for(const i of t||Object.keys(n)){const s=de(n,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(pm(a,e))break}else if(fn(a)&&pm(a,e))break}}};var jce=(n,e,t)=>{const r=fm(de(n,t));return gt(r,"root",e[t]),gt(n,t,r),n},hR=n=>n.type==="file",pa=n=>typeof n=="function",xw=n=>{if(!lR)return!1;const e=n?n.ownerDocument:0;return n instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},M0=n=>to(n),dR=n=>n.type==="radio",bw=n=>n instanceof RegExp;const sj={value:!1,isValid:!1},oj={value:!0,isValid:!0};var P3=n=>{if(Array.isArray(n)){if(n.length>1){const e=n.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!tn(n[0].attributes.value)?tn(n[0].value)||n[0].value===""?oj:{value:n[0].value,isValid:!0}:oj:sj}return sj};const aj={isValid:!1,value:null};var C3=n=>Array.isArray(n)?n.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,aj):aj;function lj(n,e,t="validate"){if(M0(n)||Array.isArray(n)&&n.every(M0)||Mi(n)&&!n)return{type:t,message:M0(n)?n:"",ref:e}}var th=n=>fn(n)&&!bw(n)?n:{value:n,message:""},cj=async(n,e,t,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:c,min:u,max:h,pattern:d,validate:m,name:g,valueAsNumber:y,mount:v,disabled:b}=n._f,x=de(e,g);if(!v||b)return{};const S=o?o[0]:s,$=w=>{r&&S.reportValidity&&(S.setCustomValidity(Mi(w)?"":w||""),S.reportValidity())},P={},Q=dR(s),O=SO(s),_=Q||O,k=(y||hR(s))&&tn(s.value)&&tn(x)||xw(s)&&s.value===""||x===""||Array.isArray(x)&&!x.length,A=T3.bind(null,g,t,P),C=(w,R,j,V=Wo.maxLength,M=Wo.minLength)=>{const q=w?R:j;P[g]={type:w?V:M,message:q,ref:s,...A(w?V:M,q)}};if(i?!Array.isArray(x)||!x.length:a&&(!_&&(k||$r(x))||Mi(x)&&!x||O&&!P3(o).isValid||Q&&!C3(o).isValid)){const{value:w,message:R}=M0(a)?{value:!!a,message:a}:th(a);if(w&&(P[g]={type:Wo.required,message:R,ref:S,...A(Wo.required,R)},!t))return $(R),P}if(!k&&(!$r(u)||!$r(h))){let w,R;const j=th(h),V=th(u);if(!$r(x)&&!isNaN(x)){const M=s.valueAsNumber||x&&+x;$r(j.value)||(w=M>j.value),$r(V.value)||(R=M<V.value)}else{const M=s.valueAsDate||new Date(x),q=ne=>new Date(new Date().toDateString()+" "+ne),U=s.type=="time",Z=s.type=="week";to(j.value)&&x&&(w=U?q(x)>q(j.value):Z?x>j.value:M>new Date(j.value)),to(V.value)&&x&&(R=U?q(x)<q(V.value):Z?x<V.value:M<new Date(V.value))}if((w||R)&&(C(!!w,j.message,V.message,Wo.max,Wo.min),!t))return $(P[g].message),P}if((l||c)&&!k&&(to(x)||i&&Array.isArray(x))){const w=th(l),R=th(c),j=!$r(w.value)&&x.length>+w.value,V=!$r(R.value)&&x.length<+R.value;if((j||V)&&(C(j,w.message,R.message),!t))return $(P[g].message),P}if(d&&!k&&to(x)){const{value:w,message:R}=th(d);if(bw(w)&&!x.match(w)&&(P[g]={type:Wo.pattern,message:R,ref:s,...A(Wo.pattern,R)},!t))return $(R),P}if(m){if(pa(m)){const w=await m(x,e),R=lj(w,S);if(R&&(P[g]={...R,...A(Wo.validate,R.message)},!t))return $(R.message),P}else if(fn(m)){let w={};for(const R in m){if(!Wr(w)&&!t)break;const j=lj(await m[R](x,e),S,R);j&&(w={...j,...A(R,j.message)},$(j.message),t&&(P[g]=w))}if(!Wr(w)&&(P[g]={ref:S,...w},!t))return P}}return $(!0),P};function Dce(n,e){const t=e.slice(0,-1).length;let r=0;for(;r<t;)n=tn(n)?r++:n[e[r++]];return n}function Mce(n){for(const e in n)if(n.hasOwnProperty(e)&&!tn(n[e]))return!1;return!0}function kn(n,e){const t=Array.isArray(e)?e:cR(e)?[e]:w3(e),r=t.length===1?n:Dce(n,t),i=t.length-1,s=t[i];return r&&delete r[s],i!==0&&(fn(r)&&Wr(r)||Array.isArray(r)&&Mce(r))&&kn(n,t.slice(0,-1)),n}var o1=()=>{let n=[];return{get observers(){return n},next:i=>{for(const s of n)s.next&&s.next(i)},subscribe:i=>(n.push(i),{unsubscribe:()=>{n=n.filter(s=>s!==i)}}),unsubscribe:()=>{n=[]}}},wT=n=>$r(n)||!O3(n);function ul(n,e){if(wT(n)||wT(e))return n===e;if(Xc(n)&&Xc(e))return n.getTime()===e.getTime();const t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(const i of t){const s=n[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Xc(s)&&Xc(o)||fn(s)&&fn(o)||Array.isArray(s)&&Array.isArray(o)?!ul(s,o):s!==o)return!1}}return!0}var E3=n=>n.type==="select-multiple",Vce=n=>dR(n)||SO(n),a1=n=>xw(n)&&n.isConnected,A3=n=>{for(const e in n)if(pa(n[e]))return!0;return!1};function Sw(n,e={}){const t=Array.isArray(n);if(fn(n)||t)for(const r in n)Array.isArray(n[r])||fn(n[r])&&!A3(n[r])?(e[r]=Array.isArray(n[r])?[]:{},Sw(n[r],e[r])):$r(n[r])||(e[r]=!0);return e}function R3(n,e,t){const r=Array.isArray(n);if(fn(n)||r)for(const i in n)Array.isArray(n[i])||fn(n[i])&&!A3(n[i])?tn(e)||wT(t[i])?t[i]=Array.isArray(n[i])?Sw(n[i],[]):{...Sw(n[i])}:R3(n[i],$r(e)?{}:e[i],t[i]):t[i]=!ul(n[i],e[i]);return t}var sp=(n,e)=>R3(n,e,Sw(e)),Q3=(n,{valueAsNumber:e,valueAsDate:t,setValueAs:r})=>tn(n)?n:e?n===""?NaN:n&&+n:t&&to(n)?new Date(n):r?r(n):n;function l1(n){const e=n.ref;if(!(n.refs?n.refs.every(t=>t.disabled):e.disabled))return hR(e)?e.files:dR(e)?C3(n.refs).value:E3(e)?[...e.selectedOptions].map(({value:t})=>t):SO(e)?P3(n.refs).value:Q3(tn(e.value)?n.ref.value:e.value,n)}var Lce=(n,e,t,r)=>{const i={};for(const s of n){const o=de(e,s);o&&gt(i,s,o._f)}return{criteriaMode:t,names:[...n],fields:i,shouldUseNativeValidation:r}},op=n=>tn(n)?n:bw(n)?n.source:fn(n)?bw(n.value)?n.value.source:n.value:n;const uj="AsyncFunction";var zce=n=>(!n||!n.validate)&&!!(pa(n.validate)&&n.validate.constructor.name===uj||fn(n.validate)&&Object.values(n.validate).find(e=>e.constructor.name===uj)),Uce=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate);function hj(n,e,t){const r=de(n,t);if(r||cR(t))return{error:r,name:t};const i=t.split(".");for(;i.length;){const s=i.join("."),o=de(e,s),a=de(n,s);if(o&&!Array.isArray(o)&&t!==s)return{name:t};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:t}}var Zce=(n,e,t,r,i)=>i.isOnAll?!1:!t&&i.isOnTouch?!(e||n):(t?r.isOnBlur:i.isOnBlur)?!n:(t?r.isOnChange:i.isOnChange)?n:!0,qce=(n,e)=>!xb(de(n,e)).length&&kn(n,e);const Bce={mode:hs.onSubmit,reValidateMode:hs.onChange,shouldFocusError:!0};function Fce(n={}){let e={...Bce,...n},t={submitCount:0,isDirty:!1,isLoading:pa(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=fn(e.defaultValues)||fn(e.values)?Zr(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Zr(i),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:o1(),array:o1(),state:o1()},d=rj(e.mode),m=rj(e.reValidateMode),g=e.criteriaMode===hs.all,y=L=>W=>{clearTimeout(c),c=setTimeout(L,W)},v=async L=>{if(!n.disabled&&(u.isValid||L)){const W=e.resolver?Wr((await _()).errors):await A(r,!0);W!==t.isValid&&h.state.next({isValid:W})}},b=(L,W)=>{!n.disabled&&(u.isValidating||u.validatingFields)&&((L||Array.from(a.mount)).forEach(H=>{H&&(W?gt(t.validatingFields,H,W):kn(t.validatingFields,H))}),h.state.next({validatingFields:t.validatingFields,isValidating:!Wr(t.validatingFields)}))},x=(L,W=[],H,ge,fe=!0,ae=!0)=>{if(ge&&H&&!n.disabled){if(o.action=!0,ae&&Array.isArray(de(r,L))){const Ee=H(de(r,L),ge.argA,ge.argB);fe&&gt(r,L,Ee)}if(ae&&Array.isArray(de(t.errors,L))){const Ee=H(de(t.errors,L),ge.argA,ge.argB);fe&&gt(t.errors,L,Ee),qce(t.errors,L)}if(u.touchedFields&&ae&&Array.isArray(de(t.touchedFields,L))){const Ee=H(de(t.touchedFields,L),ge.argA,ge.argB);fe&&gt(t.touchedFields,L,Ee)}u.dirtyFields&&(t.dirtyFields=sp(i,s)),h.state.next({name:L,isDirty:w(L,W),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else gt(s,L,W)},S=(L,W)=>{gt(t.errors,L,W),h.state.next({errors:t.errors})},$=L=>{t.errors=L,h.state.next({errors:t.errors,isValid:!1})},P=(L,W,H,ge)=>{const fe=de(r,L);if(fe){const ae=de(s,L,tn(H)?de(i,L):H);tn(ae)||ge&&ge.defaultChecked||W?gt(s,L,W?ae:l1(fe._f)):V(L,ae),o.mount&&v()}},Q=(L,W,H,ge,fe)=>{let ae=!1,Ee=!1;const Fe={name:L};if(!n.disabled){const rt=!!(de(r,L)&&de(r,L)._f&&de(r,L)._f.disabled);if(!H||ge){u.isDirty&&(Ee=t.isDirty,t.isDirty=Fe.isDirty=w(),ae=Ee!==Fe.isDirty);const lt=rt||ul(de(i,L),W);Ee=!!(!rt&&de(t.dirtyFields,L)),lt||rt?kn(t.dirtyFields,L):gt(t.dirtyFields,L,!0),Fe.dirtyFields=t.dirtyFields,ae=ae||u.dirtyFields&&Ee!==!lt}if(H){const lt=de(t.touchedFields,L);lt||(gt(t.touchedFields,L,H),Fe.touchedFields=t.touchedFields,ae=ae||u.touchedFields&&lt!==H)}ae&&fe&&h.state.next(Fe)}return ae?Fe:{}},O=(L,W,H,ge)=>{const fe=de(t.errors,L),ae=u.isValid&&Mi(W)&&t.isValid!==W;if(n.delayError&&H?(l=y(()=>S(L,H)),l(n.delayError)):(clearTimeout(c),l=null,H?gt(t.errors,L,H):kn(t.errors,L)),(H?!ul(fe,H):fe)||!Wr(ge)||ae){const Ee={...ge,...ae&&Mi(W)?{isValid:W}:{},errors:t.errors,name:L};t={...t,...Ee},h.state.next(Ee)}},_=async L=>{b(L,!0);const W=await e.resolver(s,e.context,Lce(L||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return b(L),W},k=async L=>{const{errors:W}=await _(L);if(L)for(const H of L){const ge=de(W,H);ge?gt(t.errors,H,ge):kn(t.errors,H)}else t.errors=W;return W},A=async(L,W,H={valid:!0})=>{for(const ge in L){const fe=L[ge];if(fe){const{_f:ae,...Ee}=fe;if(ae){const Fe=a.array.has(ae.name),rt=fe._f&&zce(fe._f);rt&&u.validatingFields&&b([ge],!0);const lt=await cj(fe,s,g,e.shouldUseNativeValidation&&!W,Fe);if(rt&&u.validatingFields&&b([ge]),lt[ae.name]&&(H.valid=!1,W))break;!W&&(de(lt,ae.name)?Fe?jce(t.errors,lt,ae.name):gt(t.errors,ae.name,lt[ae.name]):kn(t.errors,ae.name))}!Wr(Ee)&&await A(Ee,W,H)}}return H.valid},C=()=>{for(const L of a.unMount){const W=de(r,L);W&&(W._f.refs?W._f.refs.every(H=>!a1(H)):!a1(W._f.ref))&&Se(L)}a.unMount=new Set},w=(L,W)=>!n.disabled&&(L&&W&&gt(s,L,W),!ul(X(),i)),R=(L,W,H)=>_3(L,a,{...o.mount?s:tn(W)?i:to(L)?{[L]:W}:W},H,W),j=L=>xb(de(o.mount?s:i,L,n.shouldUnregister?de(i,L,[]):[])),V=(L,W,H={})=>{const ge=de(r,L);let fe=W;if(ge){const ae=ge._f;ae&&(!ae.disabled&&gt(s,L,Q3(W,ae)),fe=xw(ae.ref)&&$r(W)?"":W,E3(ae.ref)?[...ae.ref.options].forEach(Ee=>Ee.selected=fe.includes(Ee.value)):ae.refs?SO(ae.ref)?ae.refs.length>1?ae.refs.forEach(Ee=>(!Ee.defaultChecked||!Ee.disabled)&&(Ee.checked=Array.isArray(fe)?!!fe.find(Fe=>Fe===Ee.value):fe===Ee.value)):ae.refs[0]&&(ae.refs[0].checked=!!fe):ae.refs.forEach(Ee=>Ee.checked=Ee.value===fe):hR(ae.ref)?ae.ref.value="":(ae.ref.value=fe,ae.ref.type||h.values.next({name:L,values:{...s}})))}(H.shouldDirty||H.shouldTouch)&&Q(L,fe,H.shouldTouch,H.shouldDirty,!0),H.shouldValidate&&ne(L)},M=(L,W,H)=>{for(const ge in W){const fe=W[ge],ae=`${L}.${ge}`,Ee=de(r,ae);(a.array.has(L)||fn(fe)||Ee&&!Ee._f)&&!Xc(fe)?M(ae,fe,H):V(ae,fe,H)}},q=(L,W,H={})=>{const ge=de(r,L),fe=a.array.has(L),ae=Zr(W);gt(s,L,ae),fe?(h.array.next({name:L,values:{...s}}),(u.isDirty||u.dirtyFields)&&H.shouldDirty&&h.state.next({name:L,dirtyFields:sp(i,s),isDirty:w(L,ae)})):ge&&!ge._f&&!$r(ae)?M(L,ae,H):V(L,ae,H),ij(L,a)&&h.state.next({...t}),h.values.next({name:o.mount?L:void 0,values:{...s}})},U=async L=>{o.mount=!0;const W=L.target;let H=W.name,ge=!0;const fe=de(r,H),ae=()=>W.type?l1(fe._f):y3(L),Ee=Fe=>{ge=Number.isNaN(Fe)||Xc(Fe)&&isNaN(Fe.getTime())||ul(Fe,de(s,H,Fe))};if(fe){let Fe,rt;const lt=ae(),Ni=L.type===ww.BLUR||L.type===ww.FOCUS_OUT,jO=!Uce(fe._f)&&!e.resolver&&!de(t.errors,H)&&!fe._f.deps||Zce(Ni,de(t.touchedFields,H),t.isSubmitted,m,d),Bu=ij(H,a,Ni);gt(s,H,lt),Ni?(fe._f.onBlur&&fe._f.onBlur(L),l&&l(0)):fe._f.onChange&&fe._f.onChange(L);const If=Q(H,lt,Ni,!1),Rc=!Wr(If)||Bu;if(!Ni&&h.values.next({name:H,type:L.type,values:{...s}}),jO)return u.isValid&&(n.mode==="onBlur"?Ni&&v():v()),Rc&&h.state.next({name:H,...Bu?{}:If});if(!Ni&&Bu&&h.state.next({...t}),e.resolver){const{errors:Nf}=await _([H]);if(Ee(lt),ge){const DO=hj(t.errors,r,H),Fu=hj(Nf,r,DO.name||H);Fe=Fu.error,H=Fu.name,rt=Wr(Nf)}}else b([H],!0),Fe=(await cj(fe,s,g,e.shouldUseNativeValidation))[H],b([H]),Ee(lt),ge&&(Fe?rt=!1:u.isValid&&(rt=await A(r,!0)));ge&&(fe._f.deps&&ne(fe._f.deps),O(H,rt,Fe,If))}},Z=(L,W)=>{if(de(t.errors,W)&&L.focus)return L.focus(),1},ne=async(L,W={})=>{let H,ge;const fe=fm(L);if(e.resolver){const ae=await k(tn(L)?L:fe);H=Wr(ae),ge=L?!fe.some(Ee=>de(ae,Ee)):H}else L?(ge=(await Promise.all(fe.map(async ae=>{const Ee=de(r,ae);return await A(Ee&&Ee._f?{[ae]:Ee}:Ee)}))).every(Boolean),!(!ge&&!t.isValid)&&v()):ge=H=await A(r);return h.state.next({...!to(L)||u.isValid&&H!==t.isValid?{}:{name:L},...e.resolver||!L?{isValid:H}:{},errors:t.errors}),W.shouldFocus&&!ge&&pm(r,Z,L?fe:a.mount),ge},X=L=>{const W={...o.mount?s:i};return tn(L)?W:to(L)?de(W,L):L.map(H=>de(W,H))},F=(L,W)=>({invalid:!!de((W||t).errors,L),isDirty:!!de((W||t).dirtyFields,L),error:de((W||t).errors,L),isValidating:!!de(t.validatingFields,L),isTouched:!!de((W||t).touchedFields,L)}),G=L=>{L&&fm(L).forEach(W=>kn(t.errors,W)),h.state.next({errors:L?t.errors:{}})},J=(L,W,H)=>{const ge=(de(r,L,{_f:{}})._f||{}).ref,fe=de(t.errors,L)||{},{ref:ae,message:Ee,type:Fe,...rt}=fe;gt(t.errors,L,{...rt,...W,ref:ge}),h.state.next({name:L,errors:t.errors,isValid:!1}),H&&H.shouldFocus&&ge&&ge.focus&&ge.focus()},oe=(L,W)=>pa(L)?h.values.subscribe({next:H=>L(R(void 0,W),H)}):R(L,W,!0),Se=(L,W={})=>{for(const H of L?fm(L):a.mount)a.mount.delete(H),a.array.delete(H),W.keepValue||(kn(r,H),kn(s,H)),!W.keepError&&kn(t.errors,H),!W.keepDirty&&kn(t.dirtyFields,H),!W.keepTouched&&kn(t.touchedFields,H),!W.keepIsValidating&&kn(t.validatingFields,H),!e.shouldUnregister&&!W.keepDefaultValue&&kn(i,H);h.values.next({values:{...s}}),h.state.next({...t,...W.keepDirty?{isDirty:w()}:{}}),!W.keepIsValid&&v()},le=({disabled:L,name:W,field:H,fields:ge,value:fe})=>{if(Mi(L)&&o.mount||L){const ae=L?void 0:tn(fe)?l1(H?H._f:de(ge,W)._f):fe;gt(s,W,ae),Q(W,ae,!1,!1,!0)}},_e=(L,W={})=>{let H=de(r,L);const ge=Mi(W.disabled)||Mi(n.disabled);return gt(r,L,{...H||{},_f:{...H&&H._f?H._f:{ref:{name:L}},name:L,mount:!0,...W}}),a.mount.add(L),H?le({field:H,disabled:Mi(W.disabled)?W.disabled:n.disabled,name:L,value:W.value}):P(L,!0,W.value),{...ge?{disabled:W.disabled||n.disabled}:{},...e.progressive?{required:!!W.required,min:op(W.min),max:op(W.max),minLength:op(W.minLength),maxLength:op(W.maxLength),pattern:op(W.pattern)}:{},name:L,onChange:U,onBlur:U,ref:fe=>{if(fe){_e(L,W),H=de(r,L);const ae=tn(fe.value)&&fe.querySelectorAll&&fe.querySelectorAll("input,select,textarea")[0]||fe,Ee=Vce(ae),Fe=H._f.refs||[];if(Ee?Fe.find(rt=>rt===ae):ae===H._f.ref)return;gt(r,L,{_f:{...H._f,...Ee?{refs:[...Fe.filter(a1),ae,...Array.isArray(de(i,L))?[{}]:[]],ref:{type:ae.type,name:L}}:{ref:ae}}}),P(L,!1,void 0,ae)}else H=de(r,L,{}),H._f&&(H._f.mount=!1),(e.shouldUnregister||W.shouldUnregister)&&!(v3(a.array,L)&&o.action)&&a.unMount.add(L)}}},mt=()=>e.shouldFocusError&&pm(r,Z,a.mount),Ze=L=>{Mi(L)&&(h.state.next({disabled:L}),pm(r,(W,H)=>{const ge=de(r,H);ge&&(W.disabled=ge._f.disabled||L,Array.isArray(ge._f.refs)&&ge._f.refs.forEach(fe=>{fe.disabled=ge._f.disabled||L}))},0,!1))},Be=(L,W)=>async H=>{let ge;H&&(H.preventDefault&&H.preventDefault(),H.persist&&H.persist());let fe=Zr(s);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:ae,values:Ee}=await _();t.errors=ae,fe=Ee}else await A(r);if(kn(t.errors,"root"),Wr(t.errors)){h.state.next({errors:{}});try{await L(fe,H)}catch(ae){ge=ae}}else W&&await W({...t.errors},H),mt(),setTimeout(mt);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Wr(t.errors)&&!ge,submitCount:t.submitCount+1,errors:t.errors}),ge)throw ge},Ye=(L,W={})=>{de(r,L)&&(tn(W.defaultValue)?q(L,Zr(de(i,L))):(q(L,W.defaultValue),gt(i,L,Zr(W.defaultValue))),W.keepTouched||kn(t.touchedFields,L),W.keepDirty||(kn(t.dirtyFields,L),t.isDirty=W.defaultValue?w(L,Zr(de(i,L))):w()),W.keepError||(kn(t.errors,L),u.isValid&&v()),h.state.next({...t}))},pn=(L,W={})=>{const H=L?Zr(L):i,ge=Zr(H),fe=Wr(L),ae=fe?i:ge;if(W.keepDefaultValues||(i=H),!W.keepValues){if(W.keepDirtyValues){const Ee=new Set([...a.mount,...Object.keys(sp(i,s))]);for(const Fe of Array.from(Ee))de(t.dirtyFields,Fe)?gt(ae,Fe,de(s,Fe)):q(Fe,de(ae,Fe))}else{if(lR&&tn(L))for(const Ee of a.mount){const Fe=de(r,Ee);if(Fe&&Fe._f){const rt=Array.isArray(Fe._f.refs)?Fe._f.refs[0]:Fe._f.ref;if(xw(rt)){const lt=rt.closest("form");if(lt){lt.reset();break}}}}r={}}s=n.shouldUnregister?W.keepDefaultValues?Zr(i):{}:Zr(ae),h.array.next({values:{...ae}}),h.values.next({values:{...ae}})}a={mount:W.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!W.keepIsValid||!!W.keepDirtyValues,o.watch=!!n.shouldUnregister,h.state.next({submitCount:W.keepSubmitCount?t.submitCount:0,isDirty:fe?!1:W.keepDirty?t.isDirty:!!(W.keepDefaultValues&&!ul(L,i)),isSubmitted:W.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:fe?{}:W.keepDirtyValues?W.keepDefaultValues&&s?sp(i,s):t.dirtyFields:W.keepDefaultValues&&L?sp(i,L):W.keepDirty?t.dirtyFields:{},touchedFields:W.keepTouched?t.touchedFields:{},errors:W.keepErrors?t.errors:{},isSubmitSuccessful:W.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Bn=(L,W)=>pn(pa(L)?L(s):L,W);return{control:{register:_e,unregister:Se,getFieldState:F,handleSubmit:Be,setError:J,_executeSchema:_,_getWatch:R,_getDirty:w,_updateValid:v,_removeUnmounted:C,_updateFieldArray:x,_updateDisabledField:le,_getFieldArray:j,_reset:pn,_resetDefaultValues:()=>pa(e.defaultValues)&&e.defaultValues().then(L=>{Bn(L,e.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:L=>{t={...t,...L}},_disableForm:Ze,_subjects:h,_proxyFormState:u,_setErrors:$,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(L){o=L},get _defaultValues(){return i},get _names(){return a},set _names(L){a=L},get _formState(){return t},set _formState(L){t=L},get _options(){return e},set _options(L){e={...e,...L}}},trigger:ne,register:_e,handleSubmit:Be,watch:oe,setValue:q,getValues:X,reset:Bn,resetField:Ye,clearErrors:G,unregister:Se,setError:J,setFocus:(L,W={})=>{const H=de(r,L),ge=H&&H._f;if(ge){const fe=ge.refs?ge.refs[0]:ge.ref;fe.focus&&(fe.focus(),W.shouldSelect&&fe.select())}},getFieldState:F}}function Sb(n={}){const e=He.useRef(),t=He.useRef(),[r,i]=He.useState({isDirty:!1,isValidating:!1,isLoading:pa(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,defaultValues:pa(n.defaultValues)?void 0:n.defaultValues});e.current||(e.current={...Fce(n),formState:r});const s=e.current.control;return s._options=n,uR({subject:s._subjects.state,next:o=>{S3(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),He.useEffect(()=>s._disableForm(n.disabled),[s,n.disabled]),He.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),He.useEffect(()=>{n.values&&!ul(n.values,t.current)?(s._reset(n.values,s._options.resetOptions),t.current=n.values,i(o=>({...o}))):s._resetDefaultValues()},[n.values,s]),He.useEffect(()=>{n.errors&&s._setErrors(n.errors)},[n.errors,s]),He.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),He.useEffect(()=>{n.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[n.shouldUnregister,s]),He.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[r]),e.current.formState=b3(r,s),e.current}const dj=(n,e,t)=>{if(n&&"reportValidity"in n){const r=de(t,e);n.setCustomValidity(r&&r.message||""),n.reportValidity()}},$3=(n,e)=>{for(const t in e.fields){const r=e.fields[t];r&&r.ref&&"reportValidity"in r.ref?dj(r.ref,t,n):r.refs&&r.refs.forEach(i=>dj(i,t,n))}},Wce=(n,e)=>{e.shouldUseNativeValidation&&$3(n,e);const t={};for(const r in n){const i=de(e.fields,r),s=Object.assign(n[r]||{},{ref:i&&i.ref});if(Xce(e.names||Object.keys(n),r)){const o=Object.assign({},de(t,r));gt(o,"root",s),gt(t,r,o)}else gt(t,r,s)}return t},Xce=(n,e)=>n.some(t=>t.startsWith(e+"."));var Gce=function(n,e){for(var t={};n.length;){var r=n[0],i=r.code,s=r.message,o=r.path.join(".");if(!t[o])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];t[o]={message:a.message,type:a.code}}else t[o]={message:s,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(h){return n.push(h)})}),e){var l=t[o].types,c=l&&l[r.code];t[o]=T3(o,e,t,i,c?[].concat(c,r.message):r.message)}n.shift()}return t},kb=function(n,e,t){return t===void 0&&(t={}),function(r,i,s){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(n[t.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(c){return s.shouldUseNativeValidation&&$3({},s),{errors:{},values:t.raw?r:c}})}catch(c){return a(c)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:Wce(Gce(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}},ut;(function(n){n.assertEqual=i=>i;function e(i){}n.assertIs=e;function t(i){throw new Error}n.assertNever=t,n.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},n.getValidEnumValues=i=>{const s=n.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return n.objectValues(o)},n.objectValues=i=>n.objectKeys(i).map(function(s){return i[s]}),n.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},n.find=(i,s)=>{for(const o of i)if(s(o))return o},n.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}n.joinValues=r,n.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(ut||(ut={}));var xT;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(xT||(xT={}));const we=ut.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),hl=n=>{switch(typeof n){case"undefined":return we.undefined;case"string":return we.string;case"number":return isNaN(n)?we.nan:we.number;case"boolean":return we.boolean;case"function":return we.function;case"bigint":return we.bigint;case"symbol":return we.symbol;case"object":return Array.isArray(n)?we.array:n===null?we.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?we.promise:typeof Map<"u"&&n instanceof Map?we.map:typeof Set<"u"&&n instanceof Set?we.set:typeof Date<"u"&&n instanceof Date?we.date:we.object;default:return we.unknown}},ie=ut.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Yce=n=>JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:");class Ci extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(t(o));else{let a=r,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(t(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return i(this),r}static assert(e){if(!(e instanceof Ci))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ut.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const i of this.issues)i.path.length>0?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}Ci.create=n=>new Ci(n);const Nd=(n,e)=>{let t;switch(n.code){case ie.invalid_type:n.received===we.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case ie.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,ut.jsonStringifyReplacer)}`;break;case ie.unrecognized_keys:t=`Unrecognized key(s) in object: ${ut.joinValues(n.keys,", ")}`;break;case ie.invalid_union:t="Invalid input";break;case ie.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${ut.joinValues(n.options)}`;break;case ie.invalid_enum_value:t=`Invalid enum value. Expected ${ut.joinValues(n.options)}, received '${n.received}'`;break;case ie.invalid_arguments:t="Invalid function arguments";break;case ie.invalid_return_type:t="Invalid function return type";break;case ie.invalid_date:t="Invalid date";break;case ie.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:ut.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case ie.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case ie.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case ie.custom:t="Invalid input";break;case ie.invalid_intersection_types:t="Intersection results could not be merged";break;case ie.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case ie.not_finite:t="Number must be finite";break;default:t=e.defaultError,ut.assertNever(n)}return{message:t}};let I3=Nd;function Hce(n){I3=n}function kw(){return I3}const _w=n=>{const{data:e,path:t,errorMaps:r,issueData:i}=n,s=[...t,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...i,path:s,message:a}},Kce=[];function Oe(n,e){const t=kw(),r=_w({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===Nd?void 0:Nd].filter(i=>!!i)});n.common.issues.push(r)}class _r{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const i of t){if(i.status==="aborted")return Me;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const i of t){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return _r.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const i of t){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return Me;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const Me=Object.freeze({status:"aborted"}),Ph=n=>({status:"dirty",value:n}),Lr=n=>({status:"valid",value:n}),bT=n=>n.status==="aborted",ST=n=>n.status==="dirty",Jm=n=>n.status==="valid",eg=n=>typeof Promise<"u"&&n instanceof Promise;function Tw(n,e,t,r){if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(n)}function N3(n,e,t,r,i){if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,t),t}var Ce;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Ce||(Ce={}));var Qp,$p;class bo{constructor(e,t,r,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const fj=(n,e)=>{if(Jm(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Ci(n.common.issues);return this._error=t,this._error}}};function qe(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:r,description:i}=n;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>{var l,c;const{message:u}=n;return o.code==="invalid_enum_value"?{message:u??a.defaultError}:typeof a.data>"u"?{message:(l=u??r)!==null&&l!==void 0?l:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(c=u??t)!==null&&c!==void 0?c:a.defaultError}},description:i}}class Ge{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return hl(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:hl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new _r,ctx:{common:e.parent.common,data:e.data,parsedType:hl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(eg(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;const i={common:{issues:[],async:(r=t==null?void 0:t.async)!==null&&r!==void 0?r:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:hl(e)},s=this._parseSync({data:e,path:i.path,parent:i});return fj(i,s)}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:hl(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(eg(i)?i:Promise.resolve(i));return fj(r,s)}refine(e,t){const r=i=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(i):t;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:ie.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,t){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof t=="function"?t(r,i):t),!1))}_refinement(e){return new Ps({schema:this,typeName:je.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return mo.create(this,this._def)}nullable(){return sc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return xs.create(this,this._def)}promise(){return Dd.create(this,this._def)}or(e){return ig.create([this,e],this._def)}and(e){return sg.create(this,e,this._def)}transform(e){return new Ps({...qe(this._def),schema:this,typeName:je.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new ug({...qe(this._def),innerType:this,defaultValue:t,typeName:je.ZodDefault})}brand(){return new fR({typeName:je.ZodBranded,type:this,...qe(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new hg({...qe(this._def),innerType:this,catchValue:t,typeName:je.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return kO.create(this,e)}readonly(){return dg.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Jce=/^c[^\s-]{8,}$/i,eue=/^[0-9a-z]+$/,tue=/^[0-9A-HJKMNP-TV-Z]{26}$/,nue=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,rue=/^[a-z0-9_-]{21}$/i,iue=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,sue=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,oue="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let c1;const aue=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,lue=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,cue=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,j3="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",uue=new RegExp(`^${j3}$`);function D3(n){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`),e}function hue(n){return new RegExp(`^${D3(n)}$`)}function M3(n){let e=`${j3}T${D3(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function due(n,e){return!!((e==="v4"||!e)&&aue.test(n)||(e==="v6"||!e)&&lue.test(n))}class ds extends Ge{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==we.string){const s=this._getOrReturnCtx(e);return Oe(s,{code:ie.invalid_type,expected:we.string,received:s.parsedType}),Me}const r=new _r;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),Oe(i,{code:ie.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),Oe(i,{code:ie.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?Oe(i,{code:ie.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&Oe(i,{code:ie.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")sue.test(e.data)||(i=this._getOrReturnCtx(e,i),Oe(i,{validation:"email",code:ie.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")c1||(c1=new RegExp(oue,"u")),c1.test(e.data)||(i=this._getOrReturnCtx(e,i),Oe(i,{validation:"emoji",code:ie.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")nue.test(e.data)||(i=this._getOrReturnCtx(e,i),Oe(i,{validation:"uuid",code:ie.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")rue.test(e.data)||(i=this._getOrReturnCtx(e,i),Oe(i,{validation:"nanoid",code:ie.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")Jce.test(e.data)||(i=this._getOrReturnCtx(e,i),Oe(i,{validation:"cuid",code:ie.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")eue.test(e.data)||(i=this._getOrReturnCtx(e,i),Oe(i,{validation:"cuid2",code:ie.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")tue.test(e.data)||(i=this._getOrReturnCtx(e,i),Oe(i,{validation:"ulid",code:ie.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Oe(i,{validation:"url",code:ie.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Oe(i,{validation:"regex",code:ie.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),Oe(i,{code:ie.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),Oe(i,{code:ie.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),Oe(i,{code:ie.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?M3(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Oe(i,{code:ie.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?uue.test(e.data)||(i=this._getOrReturnCtx(e,i),Oe(i,{code:ie.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?hue(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Oe(i,{code:ie.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?iue.test(e.data)||(i=this._getOrReturnCtx(e,i),Oe(i,{validation:"duration",code:ie.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?due(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Oe(i,{validation:"ip",code:ie.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?cue.test(e.data)||(i=this._getOrReturnCtx(e,i),Oe(i,{validation:"base64",code:ie.invalid_string,message:s.message}),r.dirty()):ut.assertNever(s);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(i=>e.test(i),{validation:t,code:ie.invalid_string,...Ce.errToObj(r)})}_addCheck(e){return new ds({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ce.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ce.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ce.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ce.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Ce.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ce.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ce.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ce.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Ce.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ce.errToObj(e)})}datetime(e){var t,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...Ce.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Ce.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Ce.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Ce.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...Ce.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Ce.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Ce.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Ce.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Ce.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Ce.errToObj(t)})}nonempty(e){return this.min(1,Ce.errToObj(e))}trim(){return new ds({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ds({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ds({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}ds.create=n=>{var e;return new ds({checks:[],typeName:je.ZodString,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...qe(n)})};function fue(n,e){const t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=t>r?t:r,s=parseInt(n.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class nc extends Ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==we.number){const s=this._getOrReturnCtx(e);return Oe(s,{code:ie.invalid_type,expected:we.number,received:s.parsedType}),Me}let r;const i=new _r;for(const s of this._def.checks)s.kind==="int"?ut.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Oe(r,{code:ie.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Oe(r,{code:ie.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Oe(r,{code:ie.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?fue(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),Oe(r,{code:ie.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Oe(r,{code:ie.not_finite,message:s.message}),i.dirty()):ut.assertNever(s);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Ce.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Ce.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Ce.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Ce.toString(t))}setLimit(e,t,r,i){return new nc({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Ce.toString(i)}]})}_addCheck(e){return new nc({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ce.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ce.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ce.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ce.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ce.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Ce.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Ce.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ce.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ce.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ut.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}nc.create=n=>new nc({checks:[],typeName:je.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...qe(n)});class rc extends Ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==we.bigint){const s=this._getOrReturnCtx(e);return Oe(s,{code:ie.invalid_type,expected:we.bigint,received:s.parsedType}),Me}let r;const i=new _r;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Oe(r,{code:ie.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Oe(r,{code:ie.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Oe(r,{code:ie.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):ut.assertNever(s);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Ce.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Ce.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Ce.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Ce.toString(t))}setLimit(e,t,r,i){return new rc({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Ce.toString(i)}]})}_addCheck(e){return new rc({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ce.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ce.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ce.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ce.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Ce.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}rc.create=n=>{var e;return new rc({checks:[],typeName:je.ZodBigInt,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...qe(n)})};class tg extends Ge{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==we.boolean){const r=this._getOrReturnCtx(e);return Oe(r,{code:ie.invalid_type,expected:we.boolean,received:r.parsedType}),Me}return Lr(e.data)}}tg.create=n=>new tg({typeName:je.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...qe(n)});class Tu extends Ge{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==we.date){const s=this._getOrReturnCtx(e);return Oe(s,{code:ie.invalid_type,expected:we.date,received:s.parsedType}),Me}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return Oe(s,{code:ie.invalid_date}),Me}const r=new _r;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),Oe(i,{code:ie.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),Oe(i,{code:ie.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):ut.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Tu({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Ce.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Ce.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}Tu.create=n=>new Tu({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:je.ZodDate,...qe(n)});class Pw extends Ge{_parse(e){if(this._getType(e)!==we.symbol){const r=this._getOrReturnCtx(e);return Oe(r,{code:ie.invalid_type,expected:we.symbol,received:r.parsedType}),Me}return Lr(e.data)}}Pw.create=n=>new Pw({typeName:je.ZodSymbol,...qe(n)});class ng extends Ge{_parse(e){if(this._getType(e)!==we.undefined){const r=this._getOrReturnCtx(e);return Oe(r,{code:ie.invalid_type,expected:we.undefined,received:r.parsedType}),Me}return Lr(e.data)}}ng.create=n=>new ng({typeName:je.ZodUndefined,...qe(n)});class rg extends Ge{_parse(e){if(this._getType(e)!==we.null){const r=this._getOrReturnCtx(e);return Oe(r,{code:ie.invalid_type,expected:we.null,received:r.parsedType}),Me}return Lr(e.data)}}rg.create=n=>new rg({typeName:je.ZodNull,...qe(n)});class jd extends Ge{constructor(){super(...arguments),this._any=!0}_parse(e){return Lr(e.data)}}jd.create=n=>new jd({typeName:je.ZodAny,...qe(n)});class au extends Ge{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Lr(e.data)}}au.create=n=>new au({typeName:je.ZodUnknown,...qe(n)});class Ea extends Ge{_parse(e){const t=this._getOrReturnCtx(e);return Oe(t,{code:ie.invalid_type,expected:we.never,received:t.parsedType}),Me}}Ea.create=n=>new Ea({typeName:je.ZodNever,...qe(n)});class Cw extends Ge{_parse(e){if(this._getType(e)!==we.undefined){const r=this._getOrReturnCtx(e);return Oe(r,{code:ie.invalid_type,expected:we.void,received:r.parsedType}),Me}return Lr(e.data)}}Cw.create=n=>new Cw({typeName:je.ZodVoid,...qe(n)});class xs extends Ge{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),i=this._def;if(t.parsedType!==we.array)return Oe(t,{code:ie.invalid_type,expected:we.array,received:t.parsedType}),Me;if(i.exactLength!==null){const o=t.data.length>i.exactLength.value,a=t.data.length<i.exactLength.value;(o||a)&&(Oe(t,{code:o?ie.too_big:ie.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&t.data.length<i.minLength.value&&(Oe(t,{code:ie.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&t.data.length>i.maxLength.value&&(Oe(t,{code:ie.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((o,a)=>i.type._parseAsync(new bo(t,o,t.path,a)))).then(o=>_r.mergeArray(r,o));const s=[...t.data].map((o,a)=>i.type._parseSync(new bo(t,o,t.path,a)));return _r.mergeArray(r,s)}get element(){return this._def.type}min(e,t){return new xs({...this._def,minLength:{value:e,message:Ce.toString(t)}})}max(e,t){return new xs({...this._def,maxLength:{value:e,message:Ce.toString(t)}})}length(e,t){return new xs({...this._def,exactLength:{value:e,message:Ce.toString(t)}})}nonempty(e){return this.min(1,e)}}xs.create=(n,e)=>new xs({type:n,minLength:null,maxLength:null,exactLength:null,typeName:je.ZodArray,...qe(e)});function hh(n){if(n instanceof qt){const e={};for(const t in n.shape){const r=n.shape[t];e[t]=mo.create(hh(r))}return new qt({...n._def,shape:()=>e})}else return n instanceof xs?new xs({...n._def,type:hh(n.element)}):n instanceof mo?mo.create(hh(n.unwrap())):n instanceof sc?sc.create(hh(n.unwrap())):n instanceof So?So.create(n.items.map(e=>hh(e))):n}class qt extends Ge{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=ut.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==we.object){const c=this._getOrReturnCtx(e);return Oe(c,{code:ie.invalid_type,expected:we.object,received:c.parsedType}),Me}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Ea&&this._def.unknownKeys==="strip"))for(const c in i.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const u=s[c],h=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new bo(i,h,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof Ea){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(c==="strict")a.length>0&&(Oe(i,{code:ie.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const h=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new bo(i,h,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const h=await u.key,d=await u.value;c.push({key:h,value:d,alwaysSet:u.alwaysSet})}return c}).then(c=>_r.mergeObjectSync(r,c)):_r.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return Ce.errToObj,new qt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{var i,s,o,a;const l=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,t,r).message)!==null&&o!==void 0?o:r.defaultError;return t.code==="unrecognized_keys"?{message:(a=Ce.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new qt({...this._def,unknownKeys:"strip"})}passthrough(){return new qt({...this._def,unknownKeys:"passthrough"})}extend(e){return new qt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new qt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:je.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new qt({...this._def,catchall:e})}pick(e){const t={};return ut.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new qt({...this._def,shape:()=>t})}omit(e){const t={};return ut.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new qt({...this._def,shape:()=>t})}deepPartial(){return hh(this)}partial(e){const t={};return ut.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?t[r]=i:t[r]=i.optional()}),new qt({...this._def,shape:()=>t})}required(e){const t={};return ut.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof mo;)s=s._def.innerType;t[r]=s}}),new qt({...this._def,shape:()=>t})}keyof(){return V3(ut.objectKeys(this.shape))}}qt.create=(n,e)=>new qt({shape:()=>n,unknownKeys:"strip",catchall:Ea.create(),typeName:je.ZodObject,...qe(e)});qt.strictCreate=(n,e)=>new qt({shape:()=>n,unknownKeys:"strict",catchall:Ea.create(),typeName:je.ZodObject,...qe(e)});qt.lazycreate=(n,e)=>new qt({shape:n,unknownKeys:"strip",catchall:Ea.create(),typeName:je.ZodObject,...qe(e)});class ig extends Ge{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return t.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new Ci(a.ctx.common.issues));return Oe(t,{code:ie.invalid_union,unionErrors:o}),Me}if(t.common.async)return Promise.all(r.map(async s=>{const o={...t,common:{...t.common,issues:[]},parent:null};return{result:await s._parseAsync({data:t.data,path:t.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const l of r){const c={...t,common:{...t.common,issues:[]},parent:null},u=l._parseSync({data:t.data,path:t.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(s)return t.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(l=>new Ci(l));return Oe(t,{code:ie.invalid_union,unionErrors:a}),Me}}get options(){return this._def.options}}ig.create=(n,e)=>new ig({options:n,typeName:je.ZodUnion,...qe(e)});const Ko=n=>n instanceof ag?Ko(n.schema):n instanceof Ps?Ko(n.innerType()):n instanceof lg?[n.value]:n instanceof ic?n.options:n instanceof cg?ut.objectValues(n.enum):n instanceof ug?Ko(n._def.innerType):n instanceof ng?[void 0]:n instanceof rg?[null]:n instanceof mo?[void 0,...Ko(n.unwrap())]:n instanceof sc?[null,...Ko(n.unwrap())]:n instanceof fR||n instanceof dg?Ko(n.unwrap()):n instanceof hg?Ko(n._def.innerType):[];class _b extends Ge{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==we.object)return Oe(t,{code:ie.invalid_type,expected:we.object,received:t.parsedType}),Me;const r=this.discriminator,i=t.data[r],s=this.optionsMap.get(i);return s?t.common.async?s._parseAsync({data:t.data,path:t.path,parent:t}):s._parseSync({data:t.data,path:t.path,parent:t}):(Oe(t,{code:ie.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Me)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){const i=new Map;for(const s of t){const o=Ko(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new _b({typeName:je.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...qe(r)})}}function kT(n,e){const t=hl(n),r=hl(e);if(n===e)return{valid:!0,data:n};if(t===we.object&&r===we.object){const i=ut.objectKeys(e),s=ut.objectKeys(n).filter(a=>i.indexOf(a)!==-1),o={...n,...e};for(const a of s){const l=kT(n[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(t===we.array&&r===we.array){if(n.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<n.length;s++){const o=n[s],a=e[s],l=kT(o,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return t===we.date&&r===we.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class sg extends Ge{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(bT(s)||bT(o))return Me;const a=kT(s.value,o.value);return a.valid?((ST(s)||ST(o))&&t.dirty(),{status:t.value,value:a.data}):(Oe(r,{code:ie.invalid_intersection_types}),Me)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}sg.create=(n,e,t)=>new sg({left:n,right:e,typeName:je.ZodIntersection,...qe(t)});class So extends Ge{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==we.array)return Oe(r,{code:ie.invalid_type,expected:we.array,received:r.parsedType}),Me;if(r.data.length<this._def.items.length)return Oe(r,{code:ie.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Me;!this._def.rest&&r.data.length>this._def.items.length&&(Oe(r,{code:ie.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const s=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new bo(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>_r.mergeArray(t,o)):_r.mergeArray(t,s)}get items(){return this._def.items}rest(e){return new So({...this._def,rest:e})}}So.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new So({items:n,typeName:je.ZodTuple,rest:null,...qe(e)})};class og extends Ge{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==we.object)return Oe(r,{code:ie.invalid_type,expected:we.object,received:r.parsedType}),Me;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in r.data)i.push({key:s._parse(new bo(r,a,r.path,a)),value:o._parse(new bo(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?_r.mergeObjectAsync(t,i):_r.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,r){return t instanceof Ge?new og({keyType:e,valueType:t,typeName:je.ZodRecord,...qe(r)}):new og({keyType:ds.create(),valueType:e,typeName:je.ZodRecord,...qe(t)})}}class Ew extends Ge{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==we.map)return Oe(r,{code:ie.invalid_type,expected:we.map,received:r.parsedType}),Me;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,l],c)=>({key:i._parse(new bo(r,a,r.path,[c,"key"])),value:s._parse(new bo(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return Me;(c.status==="dirty"||u.status==="dirty")&&t.dirty(),a.set(c.value,u.value)}return{status:t.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return Me;(c.status==="dirty"||u.status==="dirty")&&t.dirty(),a.set(c.value,u.value)}return{status:t.value,value:a}}}}Ew.create=(n,e,t)=>new Ew({valueType:e,keyType:n,typeName:je.ZodMap,...qe(t)});class Pu extends Ge{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==we.set)return Oe(r,{code:ie.invalid_type,expected:we.set,received:r.parsedType}),Me;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Oe(r,{code:ie.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Oe(r,{code:ie.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());const s=this._def.valueType;function o(l){const c=new Set;for(const u of l){if(u.status==="aborted")return Me;u.status==="dirty"&&t.dirty(),c.add(u.value)}return{status:t.value,value:c}}const a=[...r.data.values()].map((l,c)=>s._parse(new bo(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,t){return new Pu({...this._def,minSize:{value:e,message:Ce.toString(t)}})}max(e,t){return new Pu({...this._def,maxSize:{value:e,message:Ce.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Pu.create=(n,e)=>new Pu({valueType:n,minSize:null,maxSize:null,typeName:je.ZodSet,...qe(e)});class Xh extends Ge{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==we.function)return Oe(t,{code:ie.invalid_type,expected:we.function,received:t.parsedType}),Me;function r(a,l){return _w({data:a,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,kw(),Nd].filter(c=>!!c),issueData:{code:ie.invalid_arguments,argumentsError:l}})}function i(a,l){return _w({data:a,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,kw(),Nd].filter(c=>!!c),issueData:{code:ie.invalid_return_type,returnTypeError:l}})}const s={errorMap:t.common.contextualErrorMap},o=t.data;if(this._def.returns instanceof Dd){const a=this;return Lr(async function(...l){const c=new Ci([]),u=await a._def.args.parseAsync(l,s).catch(m=>{throw c.addIssue(r(l,m)),c}),h=await Reflect.apply(o,this,u);return await a._def.returns._def.type.parseAsync(h,s).catch(m=>{throw c.addIssue(i(h,m)),c})})}else{const a=this;return Lr(function(...l){const c=a._def.args.safeParse(l,s);if(!c.success)throw new Ci([r(l,c.error)]);const u=Reflect.apply(o,this,c.data),h=a._def.returns.safeParse(u,s);if(!h.success)throw new Ci([i(u,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Xh({...this._def,args:So.create(e).rest(au.create())})}returns(e){return new Xh({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new Xh({args:e||So.create([]).rest(au.create()),returns:t||au.create(),typeName:je.ZodFunction,...qe(r)})}}class ag extends Ge{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}ag.create=(n,e)=>new ag({getter:n,typeName:je.ZodLazy,...qe(e)});class lg extends Ge{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Oe(t,{received:t.data,code:ie.invalid_literal,expected:this._def.value}),Me}return{status:"valid",value:e.data}}get value(){return this._def.value}}lg.create=(n,e)=>new lg({value:n,typeName:je.ZodLiteral,...qe(e)});function V3(n,e){return new ic({values:n,typeName:je.ZodEnum,...qe(e)})}class ic extends Ge{constructor(){super(...arguments),Qp.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),r=this._def.values;return Oe(t,{expected:ut.joinValues(r),received:t.parsedType,code:ie.invalid_type}),Me}if(Tw(this,Qp)||N3(this,Qp,new Set(this._def.values)),!Tw(this,Qp).has(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return Oe(t,{received:t.data,code:ie.invalid_enum_value,options:r}),Me}return Lr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return ic.create(e,{...this._def,...t})}exclude(e,t=this._def){return ic.create(this.options.filter(r=>!e.includes(r)),{...this._def,...t})}}Qp=new WeakMap;ic.create=V3;class cg extends Ge{constructor(){super(...arguments),$p.set(this,void 0)}_parse(e){const t=ut.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==we.string&&r.parsedType!==we.number){const i=ut.objectValues(t);return Oe(r,{expected:ut.joinValues(i),received:r.parsedType,code:ie.invalid_type}),Me}if(Tw(this,$p)||N3(this,$p,new Set(ut.getValidEnumValues(this._def.values))),!Tw(this,$p).has(e.data)){const i=ut.objectValues(t);return Oe(r,{received:r.data,code:ie.invalid_enum_value,options:i}),Me}return Lr(e.data)}get enum(){return this._def.values}}$p=new WeakMap;cg.create=(n,e)=>new cg({values:n,typeName:je.ZodNativeEnum,...qe(e)});class Dd extends Ge{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==we.promise&&t.common.async===!1)return Oe(t,{code:ie.invalid_type,expected:we.promise,received:t.parsedType}),Me;const r=t.parsedType===we.promise?t.data:Promise.resolve(t.data);return Lr(r.then(i=>this._def.type.parseAsync(i,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Dd.create=(n,e)=>new Dd({type:n,typeName:je.ZodPromise,...qe(e)});class Ps extends Ge{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===je.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{Oe(r,o),o.fatal?t.abort():t.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async a=>{if(t.value==="aborted")return Me;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?Me:l.status==="dirty"||t.value==="dirty"?Ph(l.value):l});{if(t.value==="aborted")return Me;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?Me:a.status==="dirty"||t.value==="dirty"?Ph(a.value):a}}if(i.type==="refinement"){const o=a=>{const l=i.refinement(a,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Me:(a.status==="dirty"&&t.dirty(),o(a.value),{status:t.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Me:(a.status==="dirty"&&t.dirty(),o(a.value).then(()=>({status:t.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Jm(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Jm(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:t.value,value:a})):o);ut.assertNever(i)}}Ps.create=(n,e,t)=>new Ps({schema:n,typeName:je.ZodEffects,effect:e,...qe(t)});Ps.createWithPreprocess=(n,e,t)=>new Ps({schema:e,effect:{type:"preprocess",transform:n},typeName:je.ZodEffects,...qe(t)});class mo extends Ge{_parse(e){return this._getType(e)===we.undefined?Lr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}mo.create=(n,e)=>new mo({innerType:n,typeName:je.ZodOptional,...qe(e)});class sc extends Ge{_parse(e){return this._getType(e)===we.null?Lr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}sc.create=(n,e)=>new sc({innerType:n,typeName:je.ZodNullable,...qe(e)});class ug extends Ge{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===we.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}ug.create=(n,e)=>new ug({innerType:n,typeName:je.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...qe(e)});class hg extends Ge{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return eg(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ci(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ci(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}hg.create=(n,e)=>new hg({innerType:n,typeName:je.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...qe(e)});class Aw extends Ge{_parse(e){if(this._getType(e)!==we.nan){const r=this._getOrReturnCtx(e);return Oe(r,{code:ie.invalid_type,expected:we.nan,received:r.parsedType}),Me}return{status:"valid",value:e.data}}}Aw.create=n=>new Aw({typeName:je.ZodNaN,...qe(n)});const pue=Symbol("zod_brand");class fR extends Ge{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class kO extends Ge{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Me:s.status==="dirty"?(t.dirty(),Ph(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Me:i.status==="dirty"?(t.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,t){return new kO({in:e,out:t,typeName:je.ZodPipeline})}}class dg extends Ge{_parse(e){const t=this._def.innerType._parse(e),r=i=>(Jm(i)&&(i.value=Object.freeze(i.value)),i);return eg(t)?t.then(i=>r(i)):r(t)}unwrap(){return this._def.innerType}}dg.create=(n,e)=>new dg({innerType:n,typeName:je.ZodReadonly,...qe(e)});function L3(n,e={},t){return n?jd.create().superRefine((r,i)=>{var s,o;if(!n(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,l=(o=(s=a.fatal)!==null&&s!==void 0?s:t)!==null&&o!==void 0?o:!0,c=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...c,fatal:l})}}):jd.create()}const mue={object:qt.lazycreate};var je;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(je||(je={}));const gue=(n,e={message:`Input not instance of ${n.name}`})=>L3(t=>t instanceof n,e),z3=ds.create,U3=nc.create,Oue=Aw.create,yue=rc.create,Z3=tg.create,vue=Tu.create,wue=Pw.create,xue=ng.create,bue=rg.create,Sue=jd.create,kue=au.create,_ue=Ea.create,Tue=Cw.create,Pue=xs.create,Cue=qt.create,Eue=qt.strictCreate,Aue=ig.create,Rue=_b.create,Que=sg.create,$ue=So.create,Iue=og.create,Nue=Ew.create,jue=Pu.create,Due=Xh.create,Mue=ag.create,Vue=lg.create,Lue=ic.create,zue=cg.create,Uue=Dd.create,pj=Ps.create,Zue=mo.create,que=sc.create,Bue=Ps.createWithPreprocess,Fue=kO.create,Wue=()=>z3().optional(),Xue=()=>U3().optional(),Gue=()=>Z3().optional(),Yue={string:n=>ds.create({...n,coerce:!0}),number:n=>nc.create({...n,coerce:!0}),boolean:n=>tg.create({...n,coerce:!0}),bigint:n=>rc.create({...n,coerce:!0}),date:n=>Tu.create({...n,coerce:!0})},Hue=Me;var at=Object.freeze({__proto__:null,defaultErrorMap:Nd,setErrorMap:Hce,getErrorMap:kw,makeIssue:_w,EMPTY_PATH:Kce,addIssueToContext:Oe,ParseStatus:_r,INVALID:Me,DIRTY:Ph,OK:Lr,isAborted:bT,isDirty:ST,isValid:Jm,isAsync:eg,get util(){return ut},get objectUtil(){return xT},ZodParsedType:we,getParsedType:hl,ZodType:Ge,datetimeRegex:M3,ZodString:ds,ZodNumber:nc,ZodBigInt:rc,ZodBoolean:tg,ZodDate:Tu,ZodSymbol:Pw,ZodUndefined:ng,ZodNull:rg,ZodAny:jd,ZodUnknown:au,ZodNever:Ea,ZodVoid:Cw,ZodArray:xs,ZodObject:qt,ZodUnion:ig,ZodDiscriminatedUnion:_b,ZodIntersection:sg,ZodTuple:So,ZodRecord:og,ZodMap:Ew,ZodSet:Pu,ZodFunction:Xh,ZodLazy:ag,ZodLiteral:lg,ZodEnum:ic,ZodNativeEnum:cg,ZodPromise:Dd,ZodEffects:Ps,ZodTransformer:Ps,ZodOptional:mo,ZodNullable:sc,ZodDefault:ug,ZodCatch:hg,ZodNaN:Aw,BRAND:pue,ZodBranded:fR,ZodPipeline:kO,ZodReadonly:dg,custom:L3,Schema:Ge,ZodSchema:Ge,late:mue,get ZodFirstPartyTypeKind(){return je},coerce:Yue,any:Sue,array:Pue,bigint:yue,boolean:Z3,date:vue,discriminatedUnion:Rue,effect:pj,enum:Lue,function:Due,instanceof:gue,intersection:Que,lazy:Mue,literal:Vue,map:Nue,nan:Oue,nativeEnum:zue,never:_ue,null:bue,nullable:que,number:U3,object:Cue,oboolean:Gue,onumber:Xue,optional:Zue,ostring:Wue,pipeline:Fue,preprocess:Bue,promise:Uue,record:Iue,set:jue,strictObject:Eue,string:z3,symbol:wue,transformer:pj,tuple:$ue,undefined:xue,union:Aue,unknown:kue,void:Tue,NEVER:Hue,ZodIssueCode:ie,quotelessJson:Yce,ZodError:Ci}),Kue=UL.useId||(()=>{}),Jue=0;function zl(n){const[e,t]=E.useState(Kue());return $n(()=>{t(r=>r??String(Jue++))},[n]),e?`radix-${e}`:""}var u1="focusScope.autoFocusOnMount",h1="focusScope.autoFocusOnUnmount",mj={bubbles:!1,cancelable:!0},ehe="FocusScope",pR=E.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=n,[a,l]=E.useState(null),c=sn(i),u=sn(s),h=E.useRef(null),d=nt(e,y=>l(y)),m=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(r){let y=function(S){if(m.paused||!a)return;const $=S.target;a.contains($)?h.current=$:Ka(h.current,{select:!0})},v=function(S){if(m.paused||!a)return;const $=S.relatedTarget;$!==null&&(a.contains($)||Ka(h.current,{select:!0}))},b=function(S){if(document.activeElement===document.body)for(const P of S)P.removedNodes.length>0&&Ka(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",v);const x=new MutationObserver(b);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",v),x.disconnect()}}},[r,a,m.paused]),E.useEffect(()=>{if(a){Oj.add(m);const y=document.activeElement;if(!a.contains(y)){const b=new CustomEvent(u1,mj);a.addEventListener(u1,c),a.dispatchEvent(b),b.defaultPrevented||(the(ohe(q3(a)),{select:!0}),document.activeElement===y&&Ka(a))}return()=>{a.removeEventListener(u1,c),setTimeout(()=>{const b=new CustomEvent(h1,mj);a.addEventListener(h1,u),a.dispatchEvent(b),b.defaultPrevented||Ka(y??document.body,{select:!0}),a.removeEventListener(h1,u),Oj.remove(m)},0)}}},[a,c,u,m]);const g=E.useCallback(y=>{if(!t&&!r||m.paused)return;const v=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,b=document.activeElement;if(v&&b){const x=y.currentTarget,[S,$]=nhe(x);S&&$?!y.shiftKey&&b===$?(y.preventDefault(),t&&Ka(S,{select:!0})):y.shiftKey&&b===S&&(y.preventDefault(),t&&Ka($,{select:!0})):b===x&&y.preventDefault()}},[t,r,m.paused]);return p.jsx(Qe.div,{tabIndex:-1,...o,ref:d,onKeyDown:g})});pR.displayName=ehe;function the(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(Ka(r,{select:e}),document.activeElement!==t)return}function nhe(n){const e=q3(n),t=gj(e,n),r=gj(e.reverse(),n);return[t,r]}function q3(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function gj(n,e){for(const t of n)if(!rhe(t,{upTo:e}))return t}function rhe(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function ihe(n){return n instanceof HTMLInputElement&&"select"in n}function Ka(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&ihe(n)&&e&&n.select()}}var Oj=she();function she(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=yj(n,e),n.unshift(e)},remove(e){var t;n=yj(n,e),(t=n[0])==null||t.resume()}}}function yj(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function ohe(n){return n.filter(e=>e.tagName!=="A")}var d1=0;function B3(){E.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??vj()),document.body.insertAdjacentElement("beforeend",n[1]??vj()),d1++,()=>{d1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),d1--}},[])}function vj(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var V0="right-scroll-bar-position",L0="width-before-scroll-bar",ahe="with-scroll-bars-hidden",lhe="--removed-body-scroll-bar-size";function f1(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function che(n,e){var t=E.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var i=t.value;i!==r&&(t.value=r,t.callback(r,i))}}}})[0];return t.callback=e,t.facade}var uhe=typeof window<"u"?E.useLayoutEffect:E.useEffect,wj=new WeakMap;function hhe(n,e){var t=che(null,function(r){return n.forEach(function(i){return f1(i,r)})});return uhe(function(){var r=wj.get(t);if(r){var i=new Set(r),s=new Set(n),o=t.current;i.forEach(function(a){s.has(a)||f1(a,null)}),s.forEach(function(a){i.has(a)||f1(a,o)})}wj.set(t,n)},[n]),t}function dhe(n){return n}function fhe(n,e){e===void 0&&(e=dhe);var t=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(s){var o=e(s,r);return t.push(o),function(){t=t.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;t.length;){var o=t;t=[],o.forEach(s)}t={push:function(a){return s(a)},filter:function(){return t}}},assignMedium:function(s){r=!0;var o=[];if(t.length){var a=t;t=[],a.forEach(s),o=t}var l=function(){var u=o;o=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),t={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),t}}}};return i}function phe(n){n===void 0&&(n={});var e=fhe(null);return e.options=Ys({async:!0,ssr:!1},n),e}var F3=function(n){var e=n.sideCar,t=dO(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return E.createElement(r,Ys({},t))};F3.isSideCarExport=!0;function mhe(n,e){return n.useMedium(e),F3}var W3=phe(),p1=function(){},Tb=E.forwardRef(function(n,e){var t=E.useRef(null),r=E.useState({onScrollCapture:p1,onWheelCapture:p1,onTouchMoveCapture:p1}),i=r[0],s=r[1],o=n.forwardProps,a=n.children,l=n.className,c=n.removeScrollBar,u=n.enabled,h=n.shards,d=n.sideCar,m=n.noIsolation,g=n.inert,y=n.allowPinchZoom,v=n.as,b=v===void 0?"div":v,x=n.gapMode,S=dO(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),$=d,P=hhe([t,e]),Q=Ys(Ys({},S),i);return E.createElement(E.Fragment,null,u&&E.createElement($,{sideCar:W3,removeScrollBar:c,shards:h,noIsolation:m,inert:g,setCallbacks:s,allowPinchZoom:!!y,lockRef:t,gapMode:x}),o?E.cloneElement(E.Children.only(a),Ys(Ys({},Q),{ref:P})):E.createElement(b,Ys({},Q,{className:l,ref:P}),a))});Tb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Tb.classNames={fullWidth:L0,zeroRight:V0};var ghe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Ohe(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=ghe();return e&&n.setAttribute("nonce",e),n}function yhe(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function vhe(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var whe=function(){var n=0,e=null;return{add:function(t){n==0&&(e=Ohe())&&(yhe(e,t),vhe(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},xhe=function(){var n=whe();return function(e,t){E.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},X3=function(){var n=xhe(),e=function(t){var r=t.styles,i=t.dynamic;return n(r,i),null};return e},bhe={left:0,top:0,right:0,gap:0},m1=function(n){return parseInt(n||"",10)||0},She=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[m1(t),m1(r),m1(i)]},khe=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return bhe;var e=She(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},_he=X3(),Gh="data-scroll-locked",The=function(n,e,t,r){var i=n.left,s=n.top,o=n.right,a=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(ahe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Gh,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(V0,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(L0,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(V0," .").concat(V0,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(L0," .").concat(L0,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Gh,`] {
    `).concat(lhe,": ").concat(a,`px;
  }
`)},xj=function(){var n=parseInt(document.body.getAttribute(Gh)||"0",10);return isFinite(n)?n:0},Phe=function(){E.useEffect(function(){return document.body.setAttribute(Gh,(xj()+1).toString()),function(){var n=xj()-1;n<=0?document.body.removeAttribute(Gh):document.body.setAttribute(Gh,n.toString())}},[])},Che=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,i=r===void 0?"margin":r;Phe();var s=E.useMemo(function(){return khe(i)},[i]);return E.createElement(_he,{styles:The(s,!e,i,t?"":"!important")})},_T=!1;if(typeof window<"u")try{var Ey=Object.defineProperty({},"passive",{get:function(){return _T=!0,!0}});window.addEventListener("test",Ey,Ey),window.removeEventListener("test",Ey,Ey)}catch{_T=!1}var nh=_T?{passive:!1}:!1,Ehe=function(n){return n.tagName==="TEXTAREA"},G3=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!Ehe(n)&&t[e]==="visible")},Ahe=function(n){return G3(n,"overflowY")},Rhe=function(n){return G3(n,"overflowX")},bj=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=Y3(n,r);if(i){var s=H3(n,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},Qhe=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},$he=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},Y3=function(n,e){return n==="v"?Ahe(e):Rhe(e)},H3=function(n,e){return n==="v"?Qhe(e):$he(e)},Ihe=function(n,e){return n==="h"&&e==="rtl"?-1:1},Nhe=function(n,e,t,r,i){var s=Ihe(n,window.getComputedStyle(e).direction),o=s*r,a=t.target,l=e.contains(a),c=!1,u=o>0,h=0,d=0;do{var m=H3(n,a),g=m[0],y=m[1],v=m[2],b=y-v-s*g;(g||b)&&Y3(n,a)&&(h+=b,d+=g),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(Math.abs(h)<1||!i)||!u&&(Math.abs(d)<1||!i))&&(c=!0),c},Ay=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},Sj=function(n){return[n.deltaX,n.deltaY]},kj=function(n){return n&&"current"in n?n.current:n},jhe=function(n,e){return n[0]===e[0]&&n[1]===e[1]},Dhe=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},Mhe=0,rh=[];function Vhe(n){var e=E.useRef([]),t=E.useRef([0,0]),r=E.useRef(),i=E.useState(Mhe++)[0],s=E.useState(X3)[0],o=E.useRef(n);E.useEffect(function(){o.current=n},[n]),E.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var y=One([n.lockRef.current],(n.shards||[]).map(kj),!0).filter(Boolean);return y.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var a=E.useCallback(function(y,v){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var b=Ay(y),x=t.current,S="deltaX"in y?y.deltaX:x[0]-b[0],$="deltaY"in y?y.deltaY:x[1]-b[1],P,Q=y.target,O=Math.abs(S)>Math.abs($)?"h":"v";if("touches"in y&&O==="h"&&Q.type==="range")return!1;var _=bj(O,Q);if(!_)return!0;if(_?P=O:(P=O==="v"?"h":"v",_=bj(O,Q)),!_)return!1;if(!r.current&&"changedTouches"in y&&(S||$)&&(r.current=P),!P)return!0;var k=r.current||P;return Nhe(k,v,y,k==="h"?S:$,!0)},[]),l=E.useCallback(function(y){var v=y;if(!(!rh.length||rh[rh.length-1]!==s)){var b="deltaY"in v?Sj(v):Ay(v),x=e.current.filter(function(P){return P.name===v.type&&(P.target===v.target||v.target===P.shadowParent)&&jhe(P.delta,b)})[0];if(x&&x.should){v.cancelable&&v.preventDefault();return}if(!x){var S=(o.current.shards||[]).map(kj).filter(Boolean).filter(function(P){return P.contains(v.target)}),$=S.length>0?a(v,S[0]):!o.current.noIsolation;$&&v.cancelable&&v.preventDefault()}}},[]),c=E.useCallback(function(y,v,b,x){var S={name:y,delta:v,target:b,should:x,shadowParent:Lhe(b)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function($){return $!==S})},1)},[]),u=E.useCallback(function(y){t.current=Ay(y),r.current=void 0},[]),h=E.useCallback(function(y){c(y.type,Sj(y),y.target,a(y,n.lockRef.current))},[]),d=E.useCallback(function(y){c(y.type,Ay(y),y.target,a(y,n.lockRef.current))},[]);E.useEffect(function(){return rh.push(s),n.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:d}),document.addEventListener("wheel",l,nh),document.addEventListener("touchmove",l,nh),document.addEventListener("touchstart",u,nh),function(){rh=rh.filter(function(y){return y!==s}),document.removeEventListener("wheel",l,nh),document.removeEventListener("touchmove",l,nh),document.removeEventListener("touchstart",u,nh)}},[]);var m=n.removeScrollBar,g=n.inert;return E.createElement(E.Fragment,null,g?E.createElement(s,{styles:Dhe(i)}):null,m?E.createElement(Che,{gapMode:n.gapMode}):null)}function Lhe(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const zhe=mhe(W3,Vhe);var mR=E.forwardRef(function(n,e){return E.createElement(Tb,Ys({},n,{ref:e,sideCar:zhe}))});mR.classNames=Tb.classNames;var Uhe=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},ih=new WeakMap,Ry=new WeakMap,Qy={},g1=0,K3=function(n){return n&&(n.host||K3(n.parentNode))},Zhe=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=K3(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},qhe=function(n,e,t,r){var i=Zhe(e,Array.isArray(n)?n:[n]);Qy[t]||(Qy[t]=new WeakMap);var s=Qy[t],o=[],a=new Set,l=new Set(i),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};i.forEach(c);var u=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(d){if(a.has(d))u(d);else try{var m=d.getAttribute(r),g=m!==null&&m!=="false",y=(ih.get(d)||0)+1,v=(s.get(d)||0)+1;ih.set(d,y),s.set(d,v),o.push(d),y===1&&g&&Ry.set(d,!0),v===1&&d.setAttribute(t,"true"),g||d.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",d,b)}})};return u(e),a.clear(),g1++,function(){o.forEach(function(h){var d=ih.get(h)-1,m=s.get(h)-1;ih.set(h,d),s.set(h,m),d||(Ry.has(h)||h.removeAttribute(r),Ry.delete(h)),m||h.removeAttribute(t)}),g1--,g1||(ih=new WeakMap,ih=new WeakMap,Ry=new WeakMap,Qy={})}},J3=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=Uhe(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),qhe(r,i,t,"aria-hidden")):function(){return null}},gR="Dialog",[eB,CCe]=xc(gR),[Bhe,$s]=eB(gR),tB=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=n,a=E.useRef(null),l=E.useRef(null),[c=!1,u]=Wl({prop:r,defaultProp:i,onChange:s});return p.jsx(Bhe,{scope:e,triggerRef:a,contentRef:l,contentId:zl(),titleId:zl(),descriptionId:zl(),open:c,onOpenChange:u,onOpenToggle:E.useCallback(()=>u(h=>!h),[u]),modal:o,children:t})};tB.displayName=gR;var nB="DialogTrigger",rB=E.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=$s(nB,t),s=nt(e,i.triggerRef);return p.jsx(Qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":vR(i.open),...r,ref:s,onClick:Pe(n.onClick,i.onOpenToggle)})});rB.displayName=nB;var OR="DialogPortal",[Fhe,iB]=eB(OR,{forceMount:void 0}),sB=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:i}=n,s=$s(OR,e);return p.jsx(Fhe,{scope:e,forceMount:t,children:E.Children.map(r,o=>p.jsx(Qs,{present:t||s.open,children:p.jsx(Zx,{asChild:!0,container:i,children:o})}))})};sB.displayName=OR;var Rw="DialogOverlay",oB=E.forwardRef((n,e)=>{const t=iB(Rw,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,s=$s(Rw,n.__scopeDialog);return s.modal?p.jsx(Qs,{present:r||s.open,children:p.jsx(Whe,{...i,ref:e})}):null});oB.displayName=Rw;var Whe=E.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=$s(Rw,t);return p.jsx(mR,{as:Fl,allowPinchZoom:!0,shards:[i.contentRef],children:p.jsx(Qe.div,{"data-state":vR(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Cu="DialogContent",aB=E.forwardRef((n,e)=>{const t=iB(Cu,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,s=$s(Cu,n.__scopeDialog);return p.jsx(Qs,{present:r||s.open,children:s.modal?p.jsx(Xhe,{...i,ref:e}):p.jsx(Ghe,{...i,ref:e})})});aB.displayName=Cu;var Xhe=E.forwardRef((n,e)=>{const t=$s(Cu,n.__scopeDialog),r=E.useRef(null),i=nt(e,t.contentRef,r);return E.useEffect(()=>{const s=r.current;if(s)return J3(s)},[]),p.jsx(lB,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Pe(n.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=t.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Pe(n.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:Pe(n.onFocusOutside,s=>s.preventDefault())})}),Ghe=E.forwardRef((n,e)=>{const t=$s(Cu,n.__scopeDialog),r=E.useRef(!1),i=E.useRef(!1);return p.jsx(lB,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=n.onCloseAutoFocus)==null||o.call(n,s),s.defaultPrevented||(r.current||(a=t.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,c;(l=n.onInteractOutside)==null||l.call(n,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((c=t.triggerRef.current)==null?void 0:c.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),lB=E.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=n,a=$s(Cu,t),l=E.useRef(null),c=nt(e,l);return B3(),p.jsxs(p.Fragment,{children:[p.jsx(pR,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:p.jsx(Ux,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":vR(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(Yhe,{titleId:a.titleId}),p.jsx(Khe,{contentRef:l,descriptionId:a.descriptionId})]})]})}),yR="DialogTitle",cB=E.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=$s(yR,t);return p.jsx(Qe.h2,{id:i.titleId,...r,ref:e})});cB.displayName=yR;var uB="DialogDescription",hB=E.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=$s(uB,t);return p.jsx(Qe.p,{id:i.descriptionId,...r,ref:e})});hB.displayName=uB;var dB="DialogClose",fB=E.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=$s(dB,t);return p.jsx(Qe.button,{type:"button",...r,ref:e,onClick:Pe(n.onClick,()=>i.onOpenChange(!1))})});fB.displayName=dB;function vR(n){return n?"open":"closed"}var pB="DialogTitleWarning",[ECe,mB]=eJ(pB,{contentName:Cu,titleName:yR,docsSlug:"dialog"}),Yhe=({titleId:n})=>{const e=mB(pB),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return E.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},Hhe="DialogDescriptionWarning",Khe=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${mB(Hhe).contentName}}.`;return E.useEffect(()=>{var s;const i=(s=n.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},Jhe=tB,ede=rB,tde=sB,gB=oB,OB=aB,yB=cB,vB=hB,nde=fB;const mm=Jhe,wB=ede,rde=tde,xB=E.forwardRef(({className:n,...e},t)=>p.jsx(gB,{ref:t,className:Le("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e}));xB.displayName=gB.displayName;const Yh=E.forwardRef(({className:n,children:e,...t},r)=>p.jsxs(rde,{children:[p.jsx(xB,{}),p.jsxs(OB,{ref:r,className:Le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...t,children:[e,p.jsxs(nde,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[p.jsx(eA,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Yh.displayName=OB.displayName;const Hh=({className:n,...e})=>p.jsx("div",{className:Le("flex flex-col space-y-1.5 text-center sm:text-left",n),...e});Hh.displayName="DialogHeader";const z0=({className:n,...e})=>p.jsx("div",{className:Le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...e});z0.displayName="DialogFooter";const Kh=E.forwardRef(({className:n,...e},t)=>p.jsx(yB,{ref:t,className:Le("text-lg font-semibold leading-none tracking-tight",n),...e}));Kh.displayName=yB.displayName;const Jh=E.forwardRef(({className:n,...e},t)=>p.jsx(vB,{ref:t,className:Le("text-sm text-muted-foreground",n),...e}));Jh.displayName=vB.displayName;var ide="Label",bB=E.forwardRef((n,e)=>p.jsx(Qe.label,{...n,ref:e,onMouseDown:t=>{var i;t.target.closest("button, input, select, textarea")||((i=n.onMouseDown)==null||i.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));bB.displayName=ide;var SB=bB;const sde=Wx("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Md=E.forwardRef(({className:n,...e},t)=>p.jsx(SB,{ref:t,className:Le(sde(),n),...e}));Md.displayName=SB.displayName;const fg=Rce,kB=E.createContext({}),Kn=({...n})=>p.jsx(kB.Provider,{value:{name:n.name},children:p.jsx(Nce,{...n})}),Pb=()=>{const n=E.useContext(kB),e=E.useContext(_B),{getFieldState:t,formState:r}=bb(),i=t(n.name,r);if(!n)throw new Error("useFormField should be used within <FormField>");const{id:s}=e;return{id:s,name:n.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},_B=E.createContext({}),Dn=E.forwardRef(({className:n,...e},t)=>{const r=E.useId();return p.jsx(_B.Provider,{value:{id:r},children:p.jsx("div",{ref:t,className:Le("space-y-2",n),...e})})});Dn.displayName="FormItem";const yn=E.forwardRef(({className:n,...e},t)=>{const{error:r,formItemId:i}=Pb();return p.jsx(Md,{ref:t,className:Le(r&&"text-destructive",n),htmlFor:i,...e})});yn.displayName="FormLabel";const Tn=E.forwardRef(({...n},e)=>{const{error:t,formItemId:r,formDescriptionId:i,formMessageId:s}=Pb();return p.jsx(Fl,{ref:e,id:r,"aria-describedby":t?`${i} ${s}`:`${i}`,"aria-invalid":!!t,...n})});Tn.displayName="FormControl";const ode=E.forwardRef(({className:n,...e},t)=>{const{formDescriptionId:r}=Pb();return p.jsx("p",{ref:t,id:r,className:Le("text-sm text-muted-foreground",n),...e})});ode.displayName="FormDescription";const Mn=E.forwardRef(({className:n,children:e,...t},r)=>{const{error:i,formMessageId:s}=Pb(),o=i?String(i==null?void 0:i.message):e;return o?p.jsx("p",{ref:r,id:s,className:Le("text-sm font-medium text-destructive",n),...t,children:o}):null});Mn.displayName="FormMessage";const pg=E.forwardRef(({className:n,...e},t)=>p.jsx("textarea",{className:Le("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...e}));pg.displayName="Textarea";let TT=[],TB=[];(()=>{let n="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,t=0;e<n.length;e++)(e%2?TB:TT).push(t=t+n[e])})();function ade(n){if(n<768)return!1;for(let e=0,t=TT.length;;){let r=e+t>>1;if(n<TT[r])t=r;else if(n>=TB[r])e=r+1;else return!0;if(e==t)return!1}}function _j(n){return n>=127462&&n<=127487}const Tj=8205;function lde(n,e,t=!0,r=!0){return(t?PB:cde)(n,e,r)}function PB(n,e,t){if(e==n.length)return e;e&&CB(n.charCodeAt(e))&&EB(n.charCodeAt(e-1))&&e--;let r=O1(n,e);for(e+=Pj(r);e<n.length;){let i=O1(n,e);if(r==Tj||i==Tj||t&&ade(i))e+=Pj(i),r=i;else if(_j(i)){let s=0,o=e-2;for(;o>=0&&_j(O1(n,o));)s++,o-=2;if(s%2==0)break;e+=2}else break}return e}function cde(n,e,t){for(;e>0;){let r=PB(n,e-2,t);if(r<e)return r;e--}return 0}function O1(n,e){let t=n.charCodeAt(e);if(!EB(t)||e+1==n.length)return t;let r=n.charCodeAt(e+1);return CB(r)?(t-55296<<10)+(r-56320)+65536:t}function CB(n){return n>=56320&&n<57344}function EB(n){return n>=55296&&n<56320}function Pj(n){return n<65536?1:2}class ot{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,r){[e,t]=Vd(this,e,t);let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(t,this.length,i,1),Hs.from(i,this.length-(t-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=Vd(this,e,t);let r=[];return this.decompose(e,t,r,0),Hs.from(r,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new gm(this),s=new gm(e);for(let o=t,a=t;;){if(i.next(o),s.next(o),o=0,i.lineBreak!=s.lineBreak||i.done!=s.done||i.value!=s.value)return!1;if(a+=i.value.length,i.done||a>=r)return!0}}iter(e=1){return new gm(this,e)}iterRange(e,t=this.length){return new AB(this,e,t)}iterLines(e,t){let r;if(e==null)r=this.iter();else{t==null&&(t=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new RB(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?ot.empty:e.length<=32?new ln(e):Hs.from(ln.split(e,[]))}}class ln extends ot{constructor(e,t=ude(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,r,i){for(let s=0;;s++){let o=this.text[s],a=i+o.length;if((t?r:a)>=e)return new hde(i,a,r,o);i=a+1,r++}}decompose(e,t,r,i){let s=e<=0&&t>=this.length?this:new ln(Cj(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(i&1){let o=r.pop(),a=U0(s.text,o.text.slice(),0,s.length);if(a.length<=32)r.push(new ln(a,o.length+s.length));else{let l=a.length>>1;r.push(new ln(a.slice(0,l)),new ln(a.slice(l)))}}else r.push(s)}replace(e,t,r){if(!(r instanceof ln))return super.replace(e,t,r);[e,t]=Vd(this,e,t);let i=U0(this.text,U0(r.text,Cj(this.text,0,e)),t),s=this.length+r.length-(t-e);return i.length<=32?new ln(i,s):Hs.from(ln.split(i,[]),s)}sliceString(e,t=this.length,r=`
`){[e,t]=Vd(this,e,t);let i="";for(let s=0,o=0;s<=t&&o<this.text.length;o++){let a=this.text[o],l=s+a.length;s>e&&o&&(i+=r),e<l&&t>s&&(i+=a.slice(Math.max(0,e-s),t-s)),s=l+1}return i}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let r=[],i=-1;for(let s of e)r.push(s),i+=s.length+1,r.length==32&&(t.push(new ln(r,i)),r=[],i=-1);return i>-1&&t.push(new ln(r,i)),t}}class Hs extends ot{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,t,r,i){for(let s=0;;s++){let o=this.children[s],a=i+o.length,l=r+o.lines-1;if((t?l:a)>=e)return o.lineInner(e,t,r,i);i=a+1,r=l+1}}decompose(e,t,r,i){for(let s=0,o=0;o<=t&&s<this.children.length;s++){let a=this.children[s],l=o+a.length;if(e<=l&&t>=o){let c=i&((o<=e?1:0)|(l>=t?2:0));o>=e&&l<=t&&!c?r.push(a):a.decompose(e-o,t-o,r,c)}o=l+1}}replace(e,t,r){if([e,t]=Vd(this,e,t),r.lines<this.lines)for(let i=0,s=0;i<this.children.length;i++){let o=this.children[i],a=s+o.length;if(e>=s&&t<=a){let l=o.replace(e-s,t-s,r),c=this.lines-o.lines+l.lines;if(l.lines<c>>4&&l.lines>c>>6){let u=this.children.slice();return u[i]=l,new Hs(u,this.length-(t-e)+r.length)}return super.replace(s,a,l)}s=a+1}return super.replace(e,t,r)}sliceString(e,t=this.length,r=`
`){[e,t]=Vd(this,e,t);let i="";for(let s=0,o=0;s<this.children.length&&o<=t;s++){let a=this.children[s],l=o+a.length;o>e&&s&&(i+=r),e<l&&t>o&&(i+=a.sliceString(e-o,t-o,r)),o=l+1}return i}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof Hs))return 0;let r=0,[i,s,o,a]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=t,s+=t){if(i==o||s==a)return r;let l=this.children[i],c=e.children[s];if(l!=c)return r+l.scanIdentical(c,t);r+=l.length+1}}static from(e,t=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let m of e)r+=m.lines;if(r<32){let m=[];for(let g of e)g.flatten(m);return new ln(m,t)}let i=Math.max(32,r>>5),s=i<<1,o=i>>1,a=[],l=0,c=-1,u=[];function h(m){let g;if(m.lines>s&&m instanceof Hs)for(let y of m.children)h(y);else m.lines>o&&(l>o||!l)?(d(),a.push(m)):m instanceof ln&&l&&(g=u[u.length-1])instanceof ln&&m.lines+g.lines<=32?(l+=m.lines,c+=m.length+1,u[u.length-1]=new ln(g.text.concat(m.text),g.length+1+m.length)):(l+m.lines>i&&d(),l+=m.lines,c+=m.length+1,u.push(m))}function d(){l!=0&&(a.push(u.length==1?u[0]:Hs.from(u,c)),c=-1,l=u.length=0)}for(let m of e)h(m);return d(),a.length==1?a[0]:new Hs(a,t)}}ot.empty=new ln([""],0);function ude(n){let e=-1;for(let t of n)e+=t.length+1;return e}function U0(n,e,t=0,r=1e9){for(let i=0,s=0,o=!0;s<n.length&&i<=r;s++){let a=n[s],l=i+a.length;l>=t&&(l>r&&(a=a.slice(0,r-i)),i<t&&(a=a.slice(t-i)),o?(e[e.length-1]+=a,o=!1):e.push(a)),i=l+1}return e}function Cj(n,e,t){return U0(n,[""],e,t)}class gm{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof ln?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],s=this.offsets[r],o=s>>1,a=i instanceof ln?i.text.length:i.children.length;if(o==(t>0?a:0)){if(r==0)return this.done=!0,this.value="",this;t>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(t>0?0:1)){if(this.offsets[r]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof ln){let l=i.text[o+(t<0?-1:0)];if(this.offsets[r]+=t,l.length>Math.max(0,e))return this.value=e==0?l:t>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=i.children[o+(t<0?-1:0)];e>l.length?(e-=l.length,this.offsets[r]+=t):(t<0&&this.offsets[r]--,this.nodes.push(l),this.offsets.push(t>0?1:(l instanceof ln?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class AB{constructor(e,t,r){this.value="",this.done=!1,this.cursor=new gm(e,t>r?-1:1),this.pos=t>r?e.length:0,this.from=Math.min(t,r),this.to=Math.max(t,r)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let r=t<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*t,this.value=i.length<=r?i:t<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class RB{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:r,value:i}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(ot.prototype[Symbol.iterator]=function(){return this.iter()},gm.prototype[Symbol.iterator]=AB.prototype[Symbol.iterator]=RB.prototype[Symbol.iterator]=function(){return this});class hde{constructor(e,t,r,i){this.from=e,this.to=t,this.number=r,this.text=i}get length(){return this.to-this.from}}function Vd(n,e,t){return e=Math.max(0,Math.min(n.length,e)),[e,Math.max(e,Math.min(n.length,t))]}function or(n,e,t=!0,r=!0){return lde(n,e,t,r)}function dde(n){return n>=56320&&n<57344}function fde(n){return n>=55296&&n<56320}function Yr(n,e){let t=n.charCodeAt(e);if(!fde(t)||e+1==n.length)return t;let r=n.charCodeAt(e+1);return dde(r)?(t-55296<<10)+(r-56320)+65536:t}function wR(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}function Ks(n){return n<65536?1:2}const PT=/\r\n?|\n/;var En=function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n}(En||(En={}));class go{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t+1];e+=r<0?this.sections[t]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,r=0,i=0;t<this.sections.length;){let s=this.sections[t++],o=this.sections[t++];o<0?(e(r,i,s),i+=s):i+=o,r+=s}}iterChangedRanges(e,t=!1){CT(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let r=this.sections[t++],i=this.sections[t++];i<0?e.push(r,i):e.push(i,r)}return new go(e)}composeDesc(e){return this.empty?e:e.empty?this:QB(this,e)}mapDesc(e,t=!1){return e.empty?this:ET(this,e,t)}mapPos(e,t=-1,r=En.Simple){let i=0,s=0;for(let o=0;o<this.sections.length;){let a=this.sections[o++],l=this.sections[o++],c=i+a;if(l<0){if(c>e)return s+(e-i);s+=a}else{if(r!=En.Simple&&c>=e&&(r==En.TrackDel&&i<e&&c>e||r==En.TrackBefore&&i<e||r==En.TrackAfter&&c>e))return null;if(c>e||c==e&&t<0&&!a)return e==i||t<0?s:s+l;s+=l}i=c}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return s}touchesRange(e,t=e){for(let r=0,i=0;r<this.sections.length&&i<=t;){let s=this.sections[r++],o=this.sections[r++],a=i+s;if(o>=0&&i<=t&&a>=e)return i<e&&a>t?"cover":!0;i=a}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let r=this.sections[t++],i=this.sections[t++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new go(e)}static create(e){return new go(e)}}class Pn extends go{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return CT(this,(t,r,i,s,o)=>e=e.replace(i,i+(r-t),o),!1),e}mapDesc(e,t=!1){return ET(this,e,t,!0)}invert(e){let t=this.sections.slice(),r=[];for(let i=0,s=0;i<t.length;i+=2){let o=t[i],a=t[i+1];if(a>=0){t[i]=a,t[i+1]=o;let l=i>>1;for(;r.length<l;)r.push(ot.empty);r.push(o?e.slice(s,s+o):ot.empty)}s+=o}return new Pn(t,r)}compose(e){return this.empty?e:e.empty?this:QB(this,e,!0)}map(e,t=!1){return e.empty?this:ET(this,e,t,!0)}iterChanges(e,t=!1){CT(this,e,t)}get desc(){return go.create(this.sections)}filter(e){let t=[],r=[],i=[],s=new mg(this);e:for(let o=0,a=0;;){let l=o==e.length?1e9:e[o++];for(;a<l||a==l&&s.len==0;){if(s.done)break e;let u=Math.min(s.len,l-a);yr(i,u,-1);let h=s.ins==-1?-1:s.off==0?s.ins:0;yr(t,u,h),h>0&&_l(r,t,s.text),s.forward(u),a+=u}let c=e[o++];for(;a<c;){if(s.done)break e;let u=Math.min(s.len,c-a);yr(t,u,-1),yr(i,u,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(u),a+=u}}return{changes:new Pn(t,r),filtered:go.create(i)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t],i=this.sections[t+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,r){let i=[],s=[],o=0,a=null;function l(u=!1){if(!u&&!i.length)return;o<t&&yr(i,t-o,-1);let h=new Pn(i,s);a=a?a.compose(h.map(a)):h,i=[],s=[],o=0}function c(u){if(Array.isArray(u))for(let h of u)c(h);else if(u instanceof Pn){if(u.length!=t)throw new RangeError(`Mismatched change set length (got ${u.length}, expected ${t})`);l(),a=a?a.compose(u.map(a)):u}else{let{from:h,to:d=h,insert:m}=u;if(h>d||h<0||d>t)throw new RangeError(`Invalid change range ${h} to ${d} (in doc of length ${t})`);let g=m?typeof m=="string"?ot.of(m.split(r||PT)):m:ot.empty,y=g.length;if(h==d&&y==0)return;h<o&&l(),h>o&&yr(i,h-o,-1),yr(i,d-h,y),_l(s,i,g),o=d}}return c(e),l(!a),a}static empty(e){return new Pn(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],r=[];for(let i=0;i<e.length;i++){let s=e[i];if(typeof s=="number")t.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((o,a)=>a&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)t.push(s[0],0);else{for(;r.length<i;)r.push(ot.empty);r[i]=ot.of(s.slice(1)),t.push(s[0],r[i].length)}}}return new Pn(t,r)}static createSet(e,t){return new Pn(e,t)}}function yr(n,e,t,r=!1){if(e==0&&t<=0)return;let i=n.length-2;i>=0&&t<=0&&t==n[i+1]?n[i]+=e:i>=0&&e==0&&n[i]==0?n[i+1]+=t:r?(n[i]+=e,n[i+1]+=t):n.push(e,t)}function _l(n,e,t){if(t.length==0)return;let r=e.length-2>>1;if(r<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<r;)n.push(ot.empty);n.push(t)}}function CT(n,e,t){let r=n.inserted;for(let i=0,s=0,o=0;o<n.sections.length;){let a=n.sections[o++],l=n.sections[o++];if(l<0)i+=a,s+=a;else{let c=i,u=s,h=ot.empty;for(;c+=a,u+=l,l&&r&&(h=h.append(r[o-2>>1])),!(t||o==n.sections.length||n.sections[o+1]<0);)a=n.sections[o++],l=n.sections[o++];e(i,c,s,u,h),i=c,s=u}}}function ET(n,e,t,r=!1){let i=[],s=r?[]:null,o=new mg(n),a=new mg(e);for(let l=-1;;){if(o.done&&a.len||a.done&&o.len)throw new Error("Mismatched change set lengths");if(o.ins==-1&&a.ins==-1){let c=Math.min(o.len,a.len);yr(i,c,-1),o.forward(c),a.forward(c)}else if(a.ins>=0&&(o.ins<0||l==o.i||o.off==0&&(a.len<o.len||a.len==o.len&&!t))){let c=a.len;for(yr(i,a.ins,-1);c;){let u=Math.min(o.len,c);o.ins>=0&&l<o.i&&o.len<=u&&(yr(i,0,o.ins),s&&_l(s,i,o.text),l=o.i),o.forward(u),c-=u}a.next()}else if(o.ins>=0){let c=0,u=o.len;for(;u;)if(a.ins==-1){let h=Math.min(u,a.len);c+=h,u-=h,a.forward(h)}else if(a.ins==0&&a.len<u)u-=a.len,a.next();else break;yr(i,c,l<o.i?o.ins:0),s&&l<o.i&&_l(s,i,o.text),l=o.i,o.forward(o.len-u)}else{if(o.done&&a.done)return s?Pn.createSet(i,s):go.create(i);throw new Error("Mismatched change set lengths")}}}function QB(n,e,t=!1){let r=[],i=t?[]:null,s=new mg(n),o=new mg(e);for(let a=!1;;){if(s.done&&o.done)return i?Pn.createSet(r,i):go.create(r);if(s.ins==0)yr(r,s.len,0,a),s.next();else if(o.len==0&&!o.done)yr(r,0,o.ins,a),i&&_l(i,r,o.text),o.next();else{if(s.done||o.done)throw new Error("Mismatched change set lengths");{let l=Math.min(s.len2,o.len),c=r.length;if(s.ins==-1){let u=o.ins==-1?-1:o.off?0:o.ins;yr(r,l,u,a),i&&u&&_l(i,r,o.text)}else o.ins==-1?(yr(r,s.off?0:s.len,l,a),i&&_l(i,r,s.textBit(l))):(yr(r,s.off?0:s.len,o.off?0:o.ins,a),i&&!o.off&&_l(i,r,o.text));a=(s.ins>l||o.ins>=0&&o.len>l)&&(a||r.length>c),s.forward2(l),o.forward(l)}}}}class mg{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?ot.empty:e[t]}textBit(e){let{inserted:t}=this.set,r=this.i-2>>1;return r>=t.length&&!e?ot.empty:t[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Gc{constructor(e,t,r){this.from=e,this.to=t,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,t):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new Gc(r,i,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return K.range(e,t);let r=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return K.range(this.anchor,r)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return K.range(e.anchor,e.head)}static create(e,t,r){return new Gc(e,t,r)}}class K{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:K.create(this.ranges.map(r=>r.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new K([this.main],0)}addRange(e,t=!0){return K.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let r=this.ranges.slice();return r[t]=e,K.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new K(e.ranges.map(t=>Gc.fromJSON(t)),e.main)}static single(e,t=e){return new K([K.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let s=e[i];if(s.empty?s.from<=r:s.from<r)return K.normalized(e.slice(),t);r=s.to}return new K(e,t)}static cursor(e,t=0,r,i){return Gc.create(e,e,(t==0?0:t<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(e,t,r,i){let s=(r??16777215)<<6|(i==null?7:Math.min(6,i));return t<e?Gc.create(t,e,48|s):Gc.create(e,t,(t>e?8:0)|s)}static normalized(e,t=0){let r=e[t];e.sort((i,s)=>i.from-s.from),t=e.indexOf(r);for(let i=1;i<e.length;i++){let s=e[i],o=e[i-1];if(s.empty?s.from<=o.to:s.from<o.to){let a=o.from,l=Math.max(s.to,o.to);i<=t&&t--,e.splice(--i,2,s.anchor>s.head?K.range(l,a):K.range(a,l))}}return new K(e,t)}}function $B(n,e){for(let t of n.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let xR=0;class ce{constructor(e,t,r,i,s){this.combine=e,this.compareInput=t,this.compare=r,this.isStatic=i,this.id=xR++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(e={}){return new ce(e.combine||(t=>t),e.compareInput||((t,r)=>t===r),e.compare||(e.combine?(t,r)=>t===r:bR),!!e.static,e.enables)}of(e){return new Z0([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Z0(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Z0(e,this,2,t)}from(e,t){return t||(t=r=>r),this.compute([e],r=>t(r.field(e)))}}function bR(n,e){return n==e||n.length==e.length&&n.every((t,r)=>t===e[r])}class Z0{constructor(e,t,r,i){this.dependencies=e,this.facet=t,this.type=r,this.value=i,this.id=xR++}dynamicSlot(e){var t;let r=this.value,i=this.facet.compareInput,s=this.id,o=e[s]>>1,a=this.type==2,l=!1,c=!1,u=[];for(let h of this.dependencies)h=="doc"?l=!0:h=="selection"?c=!0:((t=e[h.id])!==null&&t!==void 0?t:1)&1||u.push(e[h.id]);return{create(h){return h.values[o]=r(h),1},update(h,d){if(l&&d.docChanged||c&&(d.docChanged||d.selection)||AT(h,u)){let m=r(h);if(a?!Ej(m,h.values[o],i):!i(m,h.values[o]))return h.values[o]=m,1}return 0},reconfigure:(h,d)=>{let m,g=d.config.address[s];if(g!=null){let y=$w(d,g);if(this.dependencies.every(v=>v instanceof ce?d.facet(v)===h.facet(v):v instanceof Lt?d.field(v,!1)==h.field(v,!1):!0)||(a?Ej(m=r(h),y,i):i(m=r(h),y)))return h.values[o]=y,0}else m=r(h);return h.values[o]=m,1}}}}function Ej(n,e,t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!t(n[r],e[r]))return!1;return!0}function AT(n,e){let t=!1;for(let r of e)Om(n,r)&1&&(t=!0);return t}function pde(n,e,t){let r=t.map(l=>n[l.id]),i=t.map(l=>l.type),s=r.filter(l=>!(l&1)),o=n[e.id]>>1;function a(l){let c=[];for(let u=0;u<r.length;u++){let h=$w(l,r[u]);if(i[u]==2)for(let d of h)c.push(d);else c.push(h)}return e.combine(c)}return{create(l){for(let c of r)Om(l,c);return l.values[o]=a(l),1},update(l,c){if(!AT(l,s))return 0;let u=a(l);return e.compare(u,l.values[o])?0:(l.values[o]=u,1)},reconfigure(l,c){let u=AT(l,r),h=c.config.facets[e.id],d=c.facet(e);if(h&&!u&&bR(t,h))return l.values[o]=d,0;let m=a(l);return e.compare(m,d)?(l.values[o]=d,0):(l.values[o]=m,1)}}}const $y=ce.define({static:!0});class Lt{constructor(e,t,r,i,s){this.id=e,this.createF=t,this.updateF=r,this.compareF=i,this.spec=s,this.provides=void 0}static define(e){let t=new Lt(xR++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet($y).find(r=>r.field==this);return((t==null?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:r=>(r.values[t]=this.create(r),1),update:(r,i)=>{let s=r.values[t],o=this.updateF(s,i);return this.compareF(s,o)?0:(r.values[t]=o,1)},reconfigure:(r,i)=>{let s=r.facet($y),o=i.facet($y),a;return(a=s.find(l=>l.field==this))&&a!=o.find(l=>l.field==this)?(r.values[t]=a.create(r),1):i.config.address[this.id]!=null?(r.values[t]=i.field(this),0):(r.values[t]=this.create(r),1)}}}init(e){return[this,$y.of({field:this,create:e})]}get extension(){return this}}const Uc={lowest:4,low:3,default:2,high:1,highest:0};function ap(n){return e=>new IB(e,n)}const za={highest:ap(Uc.highest),high:ap(Uc.high),default:ap(Uc.default),low:ap(Uc.low),lowest:ap(Uc.lowest)};class IB{constructor(e,t){this.inner=e,this.prec=t}}class Cb{of(e){return new RT(this,e)}reconfigure(e){return Cb.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class RT{constructor(e,t){this.compartment=e,this.inner=t}}class Qw{constructor(e,t,r,i,s,o){for(this.base=e,this.compartments=t,this.dynamicSlots=r,this.address=i,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,r){let i=[],s=Object.create(null),o=new Map;for(let d of mde(e,t,o))d instanceof Lt?i.push(d):(s[d.facet.id]||(s[d.facet.id]=[])).push(d);let a=Object.create(null),l=[],c=[];for(let d of i)a[d.id]=c.length<<1,c.push(m=>d.slot(m));let u=r==null?void 0:r.config.facets;for(let d in s){let m=s[d],g=m[0].facet,y=u&&u[d]||[];if(m.every(v=>v.type==0))if(a[g.id]=l.length<<1|1,bR(y,m))l.push(r.facet(g));else{let v=g.combine(m.map(b=>b.value));l.push(r&&g.compare(v,r.facet(g))?r.facet(g):v)}else{for(let v of m)v.type==0?(a[v.id]=l.length<<1|1,l.push(v.value)):(a[v.id]=c.length<<1,c.push(b=>v.dynamicSlot(b)));a[g.id]=c.length<<1,c.push(v=>pde(v,g,m))}}let h=c.map(d=>d(a));return new Qw(e,o,h,a,l,s)}}function mde(n,e,t){let r=[[],[],[],[],[]],i=new Map;function s(o,a){let l=i.get(o);if(l!=null){if(l<=a)return;let c=r[l].indexOf(o);c>-1&&r[l].splice(c,1),o instanceof RT&&t.delete(o.compartment)}if(i.set(o,a),Array.isArray(o))for(let c of o)s(c,a);else if(o instanceof RT){if(t.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let c=e.get(o.compartment)||o.inner;t.set(o.compartment,c),s(c,a)}else if(o instanceof IB)s(o.inner,o.prec);else if(o instanceof Lt)r[a].push(o),o.provides&&s(o.provides,a);else if(o instanceof Z0)r[a].push(o),o.facet.extensions&&s(o.facet.extensions,Uc.default);else{let c=o.extension;if(!c)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(c,a)}}return s(n,Uc.default),r.reduce((o,a)=>o.concat(a))}function Om(n,e){if(e&1)return 2;let t=e>>1,r=n.status[t];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;n.status[t]=4;let i=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|i}function $w(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const NB=ce.define(),QT=ce.define({combine:n=>n.some(e=>e),static:!0}),jB=ce.define({combine:n=>n.length?n[0]:void 0,static:!0}),DB=ce.define(),MB=ce.define(),VB=ce.define(),LB=ce.define({combine:n=>n.length?n[0]:!1});class Is{constructor(e,t){this.type=e,this.value=t}static define(){return new gde}}class gde{of(e){return new Is(this,e)}}class Ode{constructor(e){this.map=e}of(e){return new Re(this,e)}}class Re{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new Re(this.type,t)}is(e){return this.type==e}static define(e={}){return new Ode(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let r=[];for(let i of e){let s=i.map(t);s&&r.push(s)}return r}}Re.reconfigure=Re.define();Re.appendConfig=Re.define();class dn{constructor(e,t,r,i,s,o){this.startState=e,this.changes=t,this.selection=r,this.effects=i,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,r&&$B(r,t.newLength),s.some(a=>a.type==dn.time)||(this.annotations=s.concat(dn.time.of(Date.now())))}static create(e,t,r,i,s,o){return new dn(e,t,r,i,s,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(dn.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}dn.time=Is.define();dn.userEvent=Is.define();dn.addToHistory=Is.define();dn.remote=Is.define();function yde(n,e){let t=[];for(let r=0,i=0;;){let s,o;if(r<n.length&&(i==e.length||e[i]>=n[r]))s=n[r++],o=n[r++];else if(i<e.length)s=e[i++],o=e[i++];else return t;!t.length||t[t.length-1]<s?t.push(s,o):t[t.length-1]<o&&(t[t.length-1]=o)}}function zB(n,e,t){var r;let i,s,o;return t?(i=e.changes,s=Pn.empty(e.changes.length),o=n.changes.compose(e.changes)):(i=e.changes.map(n.changes),s=n.changes.mapDesc(e.changes,!0),o=n.changes.compose(i)),{changes:o,selection:e.selection?e.selection.map(s):(r=n.selection)===null||r===void 0?void 0:r.map(i),effects:Re.mapEffects(n.effects,i).concat(Re.mapEffects(e.effects,s)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function $T(n,e,t){let r=e.selection,i=ed(e.annotations);return e.userEvent&&(i=i.concat(dn.userEvent.of(e.userEvent))),{changes:e.changes instanceof Pn?e.changes:Pn.of(e.changes||[],t,n.facet(jB)),selection:r&&(r instanceof K?r:K.single(r.anchor,r.head)),effects:ed(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function UB(n,e,t){let r=$T(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(t=!1);let o=!!e[s].sequential;r=zB(r,$T(n,e[s],o?r.changes.newLength:n.doc.length),o)}let i=dn.create(n,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return wde(t?vde(i):i)}function vde(n){let e=n.startState,t=!0;for(let i of e.facet(DB)){let s=i(n);if(s===!1){t=!1;break}Array.isArray(s)&&(t=t===!0?s:yde(t,s))}if(t!==!0){let i,s;if(t===!1)s=n.changes.invertedDesc,i=Pn.empty(e.doc.length);else{let o=n.changes.filter(t);i=o.changes,s=o.filtered.mapDesc(o.changes).invertedDesc}n=dn.create(e,i,n.selection&&n.selection.map(s),Re.mapEffects(n.effects,s),n.annotations,n.scrollIntoView)}let r=e.facet(MB);for(let i=r.length-1;i>=0;i--){let s=r[i](n);s instanceof dn?n=s:Array.isArray(s)&&s.length==1&&s[0]instanceof dn?n=s[0]:n=UB(e,ed(s),!1)}return n}function wde(n){let e=n.startState,t=e.facet(VB),r=n;for(let i=t.length-1;i>=0;i--){let s=t[i](n);s&&Object.keys(s).length&&(r=zB(r,$T(e,s,n.changes.newLength),!0))}return r==n?n:dn.create(e,n.changes,n.selection,r.effects,r.annotations,r.scrollIntoView)}const xde=[];function ed(n){return n==null?xde:Array.isArray(n)?n:[n]}var Ut=function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n}(Ut||(Ut={}));const bde=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let IT;try{IT=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function Sde(n){if(IT)return IT.test(n);for(let e=0;e<n.length;e++){let t=n[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||bde.test(t)))return!0}return!1}function kde(n){return e=>{if(!/\S/.test(e))return Ut.Space;if(Sde(e))return Ut.Word;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return Ut.Word;return Ut.Other}}class $e{constructor(e,t,r,i,s,o){this.config=e,this.doc=t,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)Om(this,a<<1);this.computeSlot=null}field(e,t=!0){let r=this.config.address[e.id];if(r==null){if(t)throw new RangeError("Field is not present in this state");return}return Om(this,r),$w(this,r)}update(...e){return UB(this,e,!0)}applyTransaction(e){let t=this.config,{base:r,compartments:i}=t;for(let a of e.effects)a.is(Cb.reconfigure)?(t&&(i=new Map,t.compartments.forEach((l,c)=>i.set(c,l)),t=null),i.set(a.value.compartment,a.value.extension)):a.is(Re.reconfigure)?(t=null,r=a.value):a.is(Re.appendConfig)&&(t=null,r=ed(r).concat(a.value));let s;t?s=e.startState.values.slice():(t=Qw.resolve(r,i,this),s=new $e(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(l,c)=>c.reconfigure(l,this),null).values);let o=e.startState.facet(QT)?e.newSelection:e.newSelection.asSingle();new $e(t,e.newDoc,o,s,(a,l)=>l.update(a,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:K.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,r=e(t.ranges[0]),i=this.changes(r.changes),s=[r.range],o=ed(r.effects);for(let a=1;a<t.ranges.length;a++){let l=e(t.ranges[a]),c=this.changes(l.changes),u=c.map(i);for(let d=0;d<a;d++)s[d]=s[d].map(u);let h=i.mapDesc(c,!0);s.push(l.range.map(h)),i=i.compose(u),o=Re.mapEffects(o,u).concat(Re.mapEffects(ed(l.effects),h))}return{changes:i,selection:K.create(s,t.mainIndex),effects:o}}changes(e=[]){return e instanceof Pn?e:Pn.of(e,this.doc.length,this.facet($e.lineSeparator))}toText(e){return ot.of(e.split(this.facet($e.lineSeparator)||PT))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(Om(this,t),$w(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof Lt&&this.config.address[i.id]!=null&&(t[r]=i.spec.toJSON(this.field(e[r]),this))}return t}static fromJSON(e,t={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let s in r)if(Object.prototype.hasOwnProperty.call(e,s)){let o=r[s],a=e[s];i.push(o.init(l=>o.spec.fromJSON(a,l)))}}return $e.create({doc:e.doc,selection:K.fromJSON(e.selection),extensions:t.extensions?i.concat([t.extensions]):i})}static create(e={}){let t=Qw.resolve(e.extensions||[],new Map),r=e.doc instanceof ot?e.doc:ot.of((e.doc||"").split(t.staticFacet($e.lineSeparator)||PT)),i=e.selection?e.selection instanceof K?e.selection:K.single(e.selection.anchor,e.selection.head):K.single(0);return $B(i,r.length),t.staticFacet(QT)||(i=i.asSingle()),new $e(t,r,i,t.dynamicSlots.map(()=>null),(s,o)=>o.create(s),null)}get tabSize(){return this.facet($e.tabSize)}get lineBreak(){return this.facet($e.lineSeparator)||`
`}get readOnly(){return this.facet(LB)}phrase(e,...t){for(let r of this.facet($e.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let s=+(i||1);return!s||s>t.length?r:t[s-1]})),e}languageDataAt(e,t,r=-1){let i=[];for(let s of this.facet(NB))for(let o of s(this,t,r))Object.prototype.hasOwnProperty.call(o,e)&&i.push(o[e]);return i}charCategorizer(e){return kde(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:r,length:i}=this.doc.lineAt(e),s=this.charCategorizer(e),o=e-r,a=e-r;for(;o>0;){let l=or(t,o,!1);if(s(t.slice(l,o))!=Ut.Word)break;o=l}for(;a<i;){let l=or(t,a);if(s(t.slice(a,l))!=Ut.Word)break;a=l}return o==a?null:K.range(o+r,a+r)}}$e.allowMultipleSelections=QT;$e.tabSize=ce.define({combine:n=>n.length?n[0]:4});$e.lineSeparator=jB;$e.readOnly=LB;$e.phrases=ce.define({compare(n,e){let t=Object.keys(n),r=Object.keys(e);return t.length==r.length&&t.every(i=>n[i]==e[i])}});$e.languageData=NB;$e.changeFilter=DB;$e.transactionFilter=MB;$e.transactionExtender=VB;Cb.reconfigure=Re.define();function Vo(n,e,t={}){let r={};for(let i of n)for(let s of Object.keys(i)){let o=i[s],a=r[s];if(a===void 0)r[s]=o;else if(!(a===o||o===void 0))if(Object.hasOwnProperty.call(t,s))r[s]=t[s](a,o);else throw new Error("Config merge conflict for field "+s)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class ko{eq(e){return this==e}range(e,t=e){return NT.create(e,t,this)}}ko.prototype.startSide=ko.prototype.endSide=0;ko.prototype.point=!1;ko.prototype.mapMode=En.TrackDel;let NT=class ZB{constructor(e,t,r){this.from=e,this.to=t,this.value=r}static create(e,t,r){return new ZB(e,t,r)}};function jT(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class SR{constructor(e,t,r,i){this.from=e,this.to=t,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,t,r,i=0){let s=r?this.to:this.from;for(let o=i,a=s.length;;){if(o==a)return o;let l=o+a>>1,c=s[l]-e||(r?this.value[l].endSide:this.value[l].startSide)-t;if(l==o)return c>=0?o:a;c>=0?a=l:o=l+1}}between(e,t,r,i){for(let s=this.findIndex(t,-1e9,!0),o=this.findIndex(r,1e9,!1,s);s<o;s++)if(i(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,t){let r=[],i=[],s=[],o=-1,a=-1;for(let l=0;l<this.value.length;l++){let c=this.value[l],u=this.from[l]+e,h=this.to[l]+e,d,m;if(u==h){let g=t.mapPos(u,c.startSide,c.mapMode);if(g==null||(d=m=g,c.startSide!=c.endSide&&(m=t.mapPos(u,c.endSide),m<d)))continue}else if(d=t.mapPos(u,c.startSide),m=t.mapPos(h,c.endSide),d>m||d==m&&c.startSide>0&&c.endSide<=0)continue;(m-d||c.endSide-c.startSide)<0||(o<0&&(o=d),c.point&&(a=Math.max(a,m-d)),r.push(c),i.push(d-o),s.push(m-o))}return{mapped:r.length?new SR(i,s,r,a):null,pos:o}}}class ht{constructor(e,t,r,i){this.chunkPos=e,this.chunk=t,this.nextLayer=r,this.maxPoint=i}static create(e,t,r,i){return new ht(e,t,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:r=!1,filterFrom:i=0,filterTo:s=this.length}=e,o=e.filter;if(t.length==0&&!o)return this;if(r&&(t=t.slice().sort(jT)),this.isEmpty)return t.length?ht.of(t):this;let a=new qB(this,null,-1).goto(0),l=0,c=[],u=new Aa;for(;a.value||l<t.length;)if(l<t.length&&(a.from-t[l].from||a.startSide-t[l].value.startSide)>=0){let h=t[l++];u.addInner(h.from,h.to,h.value)||c.push(h)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==t.length||this.chunkEnd(a.chunkIndex)<t[l].from)&&(!o||i>this.chunkEnd(a.chunkIndex)||s<this.chunkPos[a.chunkIndex])&&u.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!o||i>a.to||s<a.from||o(a.from,a.to,a.value))&&(u.addInner(a.from,a.to,a.value)||c.push(NT.create(a.from,a.to,a.value))),a.next());return u.finishInner(this.nextLayer.isEmpty&&!c.length?ht.empty:this.nextLayer.update({add:c,filter:o,filterFrom:i,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],r=[],i=-1;for(let o=0;o<this.chunk.length;o++){let a=this.chunkPos[o],l=this.chunk[o],c=e.touchesRange(a,a+l.length);if(c===!1)i=Math.max(i,l.maxPoint),t.push(l),r.push(e.mapPos(a));else if(c===!0){let{mapped:u,pos:h}=l.map(a,e);u&&(i=Math.max(i,u.maxPoint),t.push(u),r.push(h))}}let s=this.nextLayer.map(e);return t.length==0?s:new ht(r,t,s||ht.empty,i)}between(e,t,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let s=this.chunkPos[i],o=this.chunk[i];if(t>=s&&e<=s+o.length&&o.between(s,e-s,t-s,r)===!1)return}this.nextLayer.between(e,t,r)}}iter(e=0){return gg.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return gg.from(e).goto(t)}static compare(e,t,r,i,s=-1){let o=e.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=s),a=t.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=s),l=Aj(o,a,r),c=new lp(o,l,s),u=new lp(a,l,s);r.iterGaps((h,d,m)=>Rj(c,h,u,d,m,i)),r.empty&&r.length==0&&Rj(c,0,u,0,0,i)}static eq(e,t,r=0,i){i==null&&(i=999999999);let s=e.filter(u=>!u.isEmpty&&t.indexOf(u)<0),o=t.filter(u=>!u.isEmpty&&e.indexOf(u)<0);if(s.length!=o.length)return!1;if(!s.length)return!0;let a=Aj(s,o),l=new lp(s,a,0).goto(r),c=new lp(o,a,0).goto(r);for(;;){if(l.to!=c.to||!DT(l.active,c.active)||l.point&&(!c.point||!l.point.eq(c.point)))return!1;if(l.to>i)return!0;l.next(),c.next()}}static spans(e,t,r,i,s=-1){let o=new lp(e,null,s).goto(t),a=t,l=o.openStart;for(;;){let c=Math.min(o.to,r);if(o.point){let u=o.activeForPoint(o.to),h=o.pointFrom<t?u.length+1:o.point.startSide<0?u.length:Math.min(u.length,l);i.point(a,c,o.point,u,h,o.pointRank),l=Math.min(o.openEnd(c),u.length)}else c>a&&(i.span(a,c,o.active,l),l=o.openEnd(c));if(o.to>r)return l+(o.point&&o.to>r?1:0);a=o.to,o.next()}}static of(e,t=!1){let r=new Aa;for(let i of e instanceof NT?[e]:t?_de(e):e)r.add(i.from,i.to,i.value);return r.finish()}static join(e){if(!e.length)return ht.empty;let t=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let i=e[r];i!=ht.empty;i=i.nextLayer)t=new ht(i.chunkPos,i.chunk,t,Math.max(i.maxPoint,t.maxPoint));return t}}ht.empty=new ht([],[],null,-1);function _de(n){if(n.length>1)for(let e=n[0],t=1;t<n.length;t++){let r=n[t];if(jT(e,r)>0)return n.slice().sort(jT);e=r}return n}ht.empty.nextLayer=ht.empty;class Aa{finishChunk(e){this.chunks.push(new SR(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,r){this.addInner(e,t,r)||(this.nextLayer||(this.nextLayer=new Aa)).add(e,t,r)}addInner(e,t,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=t,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let r=t.value.length-1;return this.last=t.value[r],this.lastFrom=t.from[r]+e,this.lastTo=t.to[r]+e,!0}finish(){return this.finishInner(ht.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=ht.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function Aj(n,e,t){let r=new Map;for(let s of n)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&r.set(s.chunk[o],s.chunkPos[o]);let i=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let a=r.get(s.chunk[o]);a!=null&&(t?t.mapPos(a):a)==s.chunkPos[o]&&!(t!=null&&t.touchesRange(a,a+s.chunk[o].length))&&i.add(s.chunk[o])}return i}class qB{constructor(e,t,r,i=0){this.layer=e,this.skip=t,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],r=e+t.from[this.rangeIndex];if(this.from=r,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class gg{constructor(e){this.heap=e}static from(e,t=null,r=-1){let i=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=r&&i.push(new qB(o,t,r,s));return i.length==1?i[0]:new gg(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let r of this.heap)r.goto(e,t);for(let r=this.heap.length>>1;r>=0;r--)y1(this.heap,r);return this.next(),this}forward(e,t){for(let r of this.heap)r.forward(e,t);for(let r=this.heap.length>>1;r>=0;r--)y1(this.heap,r);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),y1(this.heap,0)}}}function y1(n,e){for(let t=n[e];;){let r=(e<<1)+1;if(r>=n.length)break;let i=n[r];if(r+1<n.length&&i.compare(n[r+1])>=0&&(i=n[r+1],r++),t.compare(i)<0)break;n[r]=t,n[e]=i,e=r}}class lp{constructor(e,t,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=gg.from(e,t,r)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Iy(this.active,e),Iy(this.activeTo,e),Iy(this.activeRank,e),this.minActive=Qj(this.active,this.activeTo)}addActive(e){let t=0,{value:r,to:i,rank:s}=this.cursor;for(;t<this.activeRank.length&&(s-this.activeRank[t]||i-this.activeTo[t])>0;)t++;Ny(this.active,t,r),Ny(this.activeTo,t,i),Ny(this.activeRank,t,s),e&&Ny(e,t,this.cursor.from),this.minActive=Qj(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&Iy(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(r),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&t.push(this.active[r]);return t.reverse()}openEnd(e){let t=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)t++;return t}}function Rj(n,e,t,r,i,s){n.goto(e),t.goto(r);let o=r+i,a=r,l=r-e;for(;;){let c=n.to+l-t.to,u=c||n.endSide-t.endSide,h=u<0?n.to+l:t.to,d=Math.min(h,o);if(n.point||t.point?n.point&&t.point&&(n.point==t.point||n.point.eq(t.point))&&DT(n.activeForPoint(n.to),t.activeForPoint(t.to))||s.comparePoint(a,d,n.point,t.point):d>a&&!DT(n.active,t.active)&&s.compareRange(a,d,n.active,t.active),h>o)break;(c||n.openEnd!=t.openEnd)&&s.boundChange&&s.boundChange(h),a=h,u<=0&&n.next(),u>=0&&t.next()}}function DT(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t]&&!n[t].eq(e[t]))return!1;return!0}function Iy(n,e){for(let t=e,r=n.length-1;t<r;t++)n[t]=n[t+1];n.pop()}function Ny(n,e,t){for(let r=n.length-1;r>=e;r--)n[r+1]=n[r];n[e]=t}function Qj(n,e){let t=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||n[i].endSide-n[t].endSide)<0&&(t=i,r=e[i]);return t}function _f(n,e,t=n.length){let r=0;for(let i=0;i<t&&i<n.length;)n.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=or(n,i));return r}function MT(n,e,t,r){for(let i=0,s=0;;){if(s>=e)return i;if(i==n.length)break;s+=n.charCodeAt(i)==9?t-s%t:1,i=or(n,i)}return r===!0?-1:n.length}const VT="",$j=typeof Symbol>"u"?"__"+VT:Symbol.for(VT),LT=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),Ij=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class bn{constructor(e,t){this.rules=[];let{finish:r}=t||{};function i(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function s(o,a,l,c){let u=[],h=/^@(\w+)\b/.exec(o[0]),d=h&&h[1]=="keyframes";if(h&&a==null)return l.push(o[0]+";");for(let m in a){let g=a[m];if(/&/.test(m))s(m.split(/,\s*/).map(y=>o.map(v=>y.replace(/&/,v))).reduce((y,v)=>y.concat(v)),g,l);else if(g&&typeof g=="object"){if(!h)throw new RangeError("The value of a property ("+m+") should be a primitive value.");s(i(m),g,u,d)}else g!=null&&u.push(m.replace(/_.*/,"").replace(/[A-Z]/g,y=>"-"+y.toLowerCase())+": "+g+";")}(u.length||d)&&l.push((r&&!h&&!c?o.map(r):o).join(", ")+" {"+u.join(" ")+"}")}for(let o in e)s(i(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=Ij[$j]||1;return Ij[$j]=e+1,VT+e.toString(36)}static mount(e,t,r){let i=e[LT],s=r&&r.nonce;i?s&&i.setNonce(s):i=new Tde(e,s),i.mount(Array.isArray(t)?t:[t],e)}}let Nj=new Map;class Tde{constructor(e,t){let r=e.ownerDocument||e,i=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let s=Nj.get(r);if(s)return e[LT]=s;this.sheet=new i.CSSStyleSheet,Nj.set(r,this)}else this.styleTag=r.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[LT]=this}mount(e,t){let r=this.sheet,i=0,s=0;for(let o=0;o<e.length;o++){let a=e[o],l=this.modules.indexOf(a);if(l<s&&l>-1&&(this.modules.splice(l,1),s--,l=-1),l==-1){if(this.modules.splice(s++,0,a),r)for(let c=0;c<a.rules.length;c++)r.insertRule(a.rules[c],i++)}else{for(;s<l;)i+=this.modules[s++].rules.length;i+=a.rules.length,s++}}if(r)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let o="";for(let l=0;l<this.modules.length;l++)o+=this.modules[l].getRules()+`
`;this.styleTag.textContent=o;let a=t.head||t;this.styleTag.parentNode!=a&&a.insertBefore(this.styleTag,a.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var oc={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Og={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Pde=typeof navigator<"u"&&/Mac/.test(navigator.platform),Cde=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Jn=0;Jn<10;Jn++)oc[48+Jn]=oc[96+Jn]=String(Jn);for(var Jn=1;Jn<=24;Jn++)oc[Jn+111]="F"+Jn;for(var Jn=65;Jn<=90;Jn++)oc[Jn]=String.fromCharCode(Jn+32),Og[Jn]=String.fromCharCode(Jn);for(var v1 in oc)Og.hasOwnProperty(v1)||(Og[v1]=oc[v1]);function Ede(n){var e=Pde&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||Cde&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?Og:oc)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function yg(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function zT(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function q0(n,e){if(!e.anchorNode)return!1;try{return zT(n,e.anchorNode)}catch{return!1}}function vg(n){return n.nodeType==3?Au(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function ym(n,e,t,r){return t?jj(n,e,t,r,-1)||jj(n,e,t,r,1):!1}function Eu(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function Iw(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}function jj(n,e,t,r,i){for(;;){if(n==t&&e==r)return!0;if(e==(i<0?0:_o(n))){if(n.nodeName=="DIV")return!1;let s=n.parentNode;if(!s||s.nodeType!=1)return!1;e=Eu(n)+(i<0?0:1),n=s}else if(n.nodeType==1){if(n=n.childNodes[e+(i<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=i<0?_o(n):0}else return!1}}function _o(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Eb(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function Ade(n){let e=n.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function BB(n,e){let t=e.width/n.offsetWidth,r=e.height/n.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-n.offsetWidth)<1)&&(t=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-n.offsetHeight)<1)&&(r=1),{scaleX:t,scaleY:r}}function Rde(n,e,t,r,i,s,o,a){let l=n.ownerDocument,c=l.defaultView||window;for(let u=n,h=!1;u&&!h;)if(u.nodeType==1){let d,m=u==l.body,g=1,y=1;if(m)d=Ade(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(u).position)&&(h=!0),u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.assignedSlot||u.parentNode;continue}let x=u.getBoundingClientRect();({scaleX:g,scaleY:y}=BB(u,x)),d={left:x.left,right:x.left+u.clientWidth*g,top:x.top,bottom:x.top+u.clientHeight*y}}let v=0,b=0;if(i=="nearest")e.top<d.top?(b=e.top-(d.top+o),t>0&&e.bottom>d.bottom+b&&(b=e.bottom-d.bottom+o)):e.bottom>d.bottom&&(b=e.bottom-d.bottom+o,t<0&&e.top-b<d.top&&(b=e.top-(d.top+o)));else{let x=e.bottom-e.top,S=d.bottom-d.top;b=(i=="center"&&x<=S?e.top+x/2-S/2:i=="start"||i=="center"&&t<0?e.top-o:e.bottom-S+o)-d.top}if(r=="nearest"?e.left<d.left?(v=e.left-(d.left+s),t>0&&e.right>d.right+v&&(v=e.right-d.right+s)):e.right>d.right&&(v=e.right-d.right+s,t<0&&e.left<d.left+v&&(v=e.left-(d.left+s))):v=(r=="center"?e.left+(e.right-e.left)/2-(d.right-d.left)/2:r=="start"==a?e.left-s:e.right-(d.right-d.left)+s)-d.left,v||b)if(m)c.scrollBy(v,b);else{let x=0,S=0;if(b){let $=u.scrollTop;u.scrollTop+=b/y,S=(u.scrollTop-$)*y}if(v){let $=u.scrollLeft;u.scrollLeft+=v/g,x=(u.scrollLeft-$)*g}e={left:e.left-x,top:e.top-S,right:e.right-x,bottom:e.bottom-S},x&&Math.abs(x-v)<1&&(r="nearest"),S&&Math.abs(S-b)<1&&(i="nearest")}if(m)break;(e.top<d.top||e.bottom>d.bottom||e.left<d.left||e.right>d.right)&&(e={left:Math.max(e.left,d.left),right:Math.min(e.right,d.right),top:Math.max(e.top,d.top),bottom:Math.min(e.bottom,d.bottom)}),u=u.assignedSlot||u.parentNode}else if(u.nodeType==11)u=u.host;else break}function Qde(n){let e=n.ownerDocument,t,r;for(let i=n.parentNode;i&&!(i==e.body||t&&r);)if(i.nodeType==1)!r&&i.scrollHeight>i.clientHeight&&(r=i),!t&&i.scrollWidth>i.clientWidth&&(t=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:t,y:r}}class $de{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:r}=e;this.set(t,Math.min(e.anchorOffset,t?_o(t):0),r,Math.min(e.focusOffset,r?_o(r):0))}set(e,t,r,i){this.anchorNode=e,this.anchorOffset=t,this.focusNode=r,this.focusOffset=i}}let sh=null;function FB(n){if(n.setActive)return n.setActive();if(sh)return n.focus(sh);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(sh==null?{get preventScroll(){return sh={preventScroll:!0},!0}}:void 0),!sh){sh=!1;for(let t=0;t<e.length;){let r=e[t++],i=e[t++],s=e[t++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=s&&(r.scrollLeft=s)}}}let Dj;function Au(n,e,t=e){let r=Dj||(Dj=document.createRange());return r.setEnd(n,t),r.setStart(n,e),r}function td(n,e,t,r){let i={key:e,code:e,keyCode:t,which:t,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let s=new KeyboardEvent("keydown",i);s.synthetic=!0,n.dispatchEvent(s);let o=new KeyboardEvent("keyup",i);return o.synthetic=!0,n.dispatchEvent(o),s.defaultPrevented||o.defaultPrevented}function Ide(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function WB(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}function Nde(n,e){let t=e.focusNode,r=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=r)return!1;for(r=Math.min(r,_o(t));;)if(r){if(t.nodeType!=1)return!1;let i=t.childNodes[r-1];i.contentEditable=="false"?r--:(t=i,r=_o(t))}else{if(t==n)return!0;r=Eu(t),t=t.parentNode}}function XB(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}function GB(n,e){for(let t=n,r=e;;){if(t.nodeType==3&&r>0)return{node:t,offset:r};if(t.nodeType==1&&r>0){if(t.contentEditable=="false")return null;t=t.childNodes[r-1],r=_o(t)}else if(t.parentNode&&!Iw(t))r=Eu(t),t=t.parentNode;else return null}}function YB(n,e){for(let t=n,r=e;;){if(t.nodeType==3&&r<t.nodeValue.length)return{node:t,offset:r};if(t.nodeType==1&&r<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[r],r=0}else if(t.parentNode&&!Iw(t))r=Eu(t)+1,t=t.parentNode;else return null}}class xr{constructor(e,t,r=!0){this.node=e,this.offset=t,this.precise=r}static before(e,t){return new xr(e.parentNode,Eu(e),t)}static after(e,t){return new xr(e.parentNode,Eu(e)+1,t)}}const kR=[];class kt{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let r of this.children){if(r==e)return t;t+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.flags&2){let r=this.dom,i=null,s;for(let o of this.children){if(o.flags&7){if(!o.dom&&(s=i?i.nextSibling:r.firstChild)){let a=kt.get(s);(!a||!a.parent&&a.canReuseDOM(o))&&o.reuseDOM(s)}o.sync(e,t),o.flags&=-8}if(s=i?i.nextSibling:r.firstChild,t&&!t.written&&t.node==r&&s!=o.dom&&(t.written=!0),o.dom.parentNode==r)for(;s&&s!=o.dom;)s=Mj(s);else r.insertBefore(o.dom,s);i=o.dom}for(s=i?i.nextSibling:r.firstChild,s&&t&&t.node==r&&(t.written=!0);s;)s=Mj(s)}else if(this.flags&1)for(let r of this.children)r.flags&7&&(r.sync(e,t),r.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let r;if(e==this.dom)r=this.dom.childNodes[t];else{let i=_o(e)==0?0:t==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;i==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?i=-1:i=1),e=s}i<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!kt.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,s=0;;i++){let o=this.children[i];if(o.dom==r)return s;s+=o.length+o.breakAfter}}domBoundsAround(e,t,r=0){let i=-1,s=-1,o=-1,a=-1;for(let l=0,c=r,u=r;l<this.children.length;l++){let h=this.children[l],d=c+h.length;if(c<e&&d>t)return h.domBoundsAround(e,t,c);if(d>=e&&i==-1&&(i=l,s=c),c>t&&h.dom.parentNode==this.dom){o=l,a=u;break}u=d,c=d+h.breakAfter}return{from:s,to:a<0?r+this.length:a,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),t.flags&1)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,r=kR){this.markDirty();for(let i=e;i<t;i++){let s=this.children[i];s.parent==this&&r.indexOf(s)<0&&s.destroy()}r.length<250?this.children.splice(e,t-e,...r):this.children=[].concat(this.children.slice(0,e),r,this.children.slice(t));for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new HB(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,r,i,s,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}kt.prototype.breakAfter=0;function Mj(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class HB{constructor(e,t,r){this.children=e,this.pos=t,this.i=r,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function KB(n,e,t,r,i,s,o,a,l){let{children:c}=n,u=c.length?c[e]:null,h=s.length?s[s.length-1]:null,d=h?h.breakAfter:o;if(!(e==r&&u&&!o&&!d&&s.length<2&&u.merge(t,i,s.length?h:null,t==0,a,l))){if(r<c.length){let m=c[r];m&&(i<m.length||m.breakAfter&&(h!=null&&h.breakAfter))?(e==r&&(m=m.split(i),i=0),!d&&h&&m.merge(0,i,h,!0,0,l)?s[s.length-1]=m:((i||m.children.length&&!m.children[0].length)&&m.merge(0,i,null,!1,0,l),s.push(m))):m!=null&&m.breakAfter&&(h?h.breakAfter=1:o=1),r++}for(u&&(u.breakAfter=o,t>0&&(!o&&s.length&&u.merge(t,u.length,s[0],!1,a,0)?u.breakAfter=s.shift().breakAfter:(t<u.length||u.children.length&&u.children[u.children.length-1].length==0)&&u.merge(t,u.length,null,!1,a,0),e++));e<r&&s.length;)if(c[r-1].become(s[s.length-1]))r--,s.pop(),l=s.length?0:a;else if(c[e].become(s[0]))e++,s.shift(),a=s.length?0:l;else break;!s.length&&e&&r<c.length&&!c[e-1].breakAfter&&c[r].merge(0,0,c[e-1],!1,a,l)&&e--,(e<r||s.length)&&n.replaceChildren(e,r,s)}}function JB(n,e,t,r,i,s){let o=n.childCursor(),{i:a,off:l}=o.findPos(t,1),{i:c,off:u}=o.findPos(e,-1),h=e-t;for(let d of r)h+=d.length;n.length+=h,KB(n,c,u,a,l,r,0,i,s)}let Hr=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},UT=typeof document<"u"?document:{documentElement:{style:{}}};const ZT=/Edge\/(\d+)/.exec(Hr.userAgent),eF=/MSIE \d/.test(Hr.userAgent),qT=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Hr.userAgent),Ab=!!(eF||qT||ZT),Vj=!Ab&&/gecko\/(\d+)/i.test(Hr.userAgent),w1=!Ab&&/Chrome\/(\d+)/.exec(Hr.userAgent),Lj="webkitFontSmoothing"in UT.documentElement.style,tF=!Ab&&/Apple Computer/.test(Hr.vendor),zj=tF&&(/Mobile\/\w+/.test(Hr.userAgent)||Hr.maxTouchPoints>2);var ye={mac:zj||/Mac/.test(Hr.platform),windows:/Win/.test(Hr.platform),linux:/Linux|X11/.test(Hr.platform),ie:Ab,ie_version:eF?UT.documentMode||6:qT?+qT[1]:ZT?+ZT[1]:0,gecko:Vj,gecko_version:Vj?+(/Firefox\/(\d+)/.exec(Hr.userAgent)||[0,0])[1]:0,chrome:!!w1,chrome_version:w1?+w1[1]:0,ios:zj,android:/Android\b/.test(Hr.userAgent),webkit:Lj,safari:tF,webkit_version:Lj?+(/\bAppleWebKit\/(\d+)/.exec(Hr.userAgent)||[0,0])[1]:0,tabSize:UT.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const jde=256;class Cs extends kt{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,r){return this.flags&8||r&&(!(r instanceof Cs)||this.length-(t-e)+r.length>jde||r.flags&8)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new Cs(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=this.flags&8,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new xr(this.dom,e)}domBoundsAround(e,t,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return Dde(this.dom,e,t)}}class Ra extends kt{constructor(e,t=[],r=0){super(),this.mark=e,this.children=t,this.length=r;for(let i of t)i.setParent(this)}setAttrs(e){if(WB(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,r,i,s,o){return r&&(!(r instanceof Ra&&r.mark.eq(this.mark))||e&&s<=0||t<this.length&&o<=0)?!1:(JB(this,e,t,r?r.children.slice():[],s-1,o-1),this.markDirty(),!0)}split(e){let t=[],r=0,i=-1,s=0;for(let a of this.children){let l=r+a.length;l>e&&t.push(r<e?a.split(e-r):a),i<0&&r>=e&&(i=s),r=l,s++}let o=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new Ra(this.mark,t,o)}domAtPos(e){return nF(this,e)}coordsAt(e,t){return iF(this,e,t)}}function Dde(n,e,t){let r=n.nodeValue.length;e>r&&(e=r);let i=e,s=e,o=0;e==0&&t<0||e==r&&t>=0?ye.chrome||ye.gecko||(e?(i--,o=1):s<r&&(s++,o=-1)):t<0?i--:s<r&&s++;let a=Au(n,i,s).getClientRects();if(!a.length)return null;let l=a[(o?o<0:t>=0)?0:a.length-1];return ye.safari&&!o&&l.width==0&&(l=Array.prototype.find.call(a,c=>c.width)||l),o?Eb(l,o<0):l||null}class Tl extends kt{static create(e,t,r){return new Tl(e,t,r)}constructor(e,t,r){super(),this.widget=e,this.length=t,this.side=r,this.prevWidget=null}split(e){let t=Tl.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,t,r,i,s,o){return r&&(!(r instanceof Tl)||!this.widget.compare(r.widget)||e>0&&s<=0||t<this.length&&o<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-t),!0)}become(e){return e instanceof Tl&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return ot.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,r=t&&t.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):ot.empty}domAtPos(e){return(this.length?e==0:this.side>0)?xr.before(this.dom):xr.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let r=this.widget.coordsAt(this.dom,e,t);if(r)return r;let i=this.dom.getClientRects(),s=null;if(!i.length)return null;let o=this.side?this.side<0:e>0;for(let a=o?i.length-1:0;s=i[a],!(e>0?a==0:a==i.length-1||s.top<s.bottom);a+=o?-1:1);return Eb(s,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Ld extends kt{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Ld&&e.side==this.side}split(){return new Ld(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?xr.before(this.dom):xr.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return ot.empty}get isHidden(){return!0}}Cs.prototype.children=Tl.prototype.children=Ld.prototype.children=kR;function nF(n,e){let t=n.dom,{children:r}=n,i=0;for(let s=0;i<r.length;i++){let o=r[i],a=s+o.length;if(!(a==s&&o.getSide()<=0)){if(e>s&&e<a&&o.dom.parentNode==t)return o.domAtPos(e-s);if(e<=s)break;s=a}}for(let s=i;s>0;s--){let o=r[s-1];if(o.dom.parentNode==t)return o.domAtPos(o.length)}for(let s=i;s<r.length;s++){let o=r[s];if(o.dom.parentNode==t)return o.domAtPos(0)}return new xr(t,0)}function rF(n,e,t){let r,{children:i}=n;t>0&&e instanceof Ra&&i.length&&(r=i[i.length-1])instanceof Ra&&r.mark.eq(e.mark)?rF(r,e.children[0],t-1):(i.push(e),e.setParent(n)),n.length+=e.length}function iF(n,e,t){let r=null,i=-1,s=null,o=-1;function a(c,u){for(let h=0,d=0;h<c.children.length&&d<=u;h++){let m=c.children[h],g=d+m.length;g>=u&&(m.children.length?a(m,u-d):(!s||s.isHidden&&t>0)&&(g>u||d==g&&m.getSide()>0)?(s=m,o=u-d):(d<u||d==g&&m.getSide()<0&&!m.isHidden)&&(r=m,i=u-d)),d=g}}a(n,e);let l=(t<0?r:s)||r||s;return l?l.coordsAt(Math.max(0,l==r?i:o),t):Mde(n)}function Mde(n){let e=n.dom.lastChild;if(!e)return n.dom.getBoundingClientRect();let t=vg(e);return t[t.length-1]||null}function BT(n,e){for(let t in n)t=="class"&&e.class?e.class+=" "+n.class:t=="style"&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}const Uj=Object.create(null);function Nw(n,e,t){if(n==e)return!0;n||(n=Uj),e||(e=Uj);let r=Object.keys(n),i=Object.keys(e);if(r.length-(t&&r.indexOf(t)>-1?1:0)!=i.length-(t&&i.indexOf(t)>-1?1:0))return!1;for(let s of r)if(s!=t&&(i.indexOf(s)==-1||n[s]!==e[s]))return!1;return!0}function FT(n,e,t){let r=!1;if(e)for(let i in e)t&&i in t||(r=!0,i=="style"?n.style.cssText="":n.removeAttribute(i));if(t)for(let i in t)e&&e[i]==t[i]||(r=!0,i=="style"?n.style.cssText=t[i]:n.setAttribute(i,t[i]));return r}function Vde(n){let e=Object.create(null);for(let t=0;t<n.attributes.length;t++){let r=n.attributes[t];e[r.name]=r.value}return e}class Lo{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var jr=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(jr||(jr={}));class me extends ko{constructor(e,t,r,i){super(),this.startSide=e,this.endSide=t,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new _O(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return t+=r&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new ac(e,t,t,r,e.widget||null,!1)}static replace(e){let t=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:s,end:o}=sF(e,t);r=(s?t?-3e8:-1:5e8)-1,i=(o?t?2e8:1:-6e8)+1}return new ac(e,r,i,t,e.widget||null,!0)}static line(e){return new TO(e)}static set(e,t=!1){return ht.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}me.none=ht.empty;class _O extends me{constructor(e){let{start:t,end:r}=sF(e);super(t?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,r;return this==e||e instanceof _O&&this.tagName==e.tagName&&(this.class||((t=this.attrs)===null||t===void 0?void 0:t.class))==(e.class||((r=e.attrs)===null||r===void 0?void 0:r.class))&&Nw(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}_O.prototype.point=!1;class TO extends me{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof TO&&this.spec.class==e.spec.class&&Nw(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}TO.prototype.mapMode=En.TrackBefore;TO.prototype.point=!0;class ac extends me{constructor(e,t,r,i,s,o){super(t,r,s,e),this.block=i,this.isReplace=o,this.mapMode=i?t<=0?En.TrackBefore:En.TrackAfter:En.TrackDel}get type(){return this.startSide!=this.endSide?jr.WidgetRange:this.startSide<=0?jr.WidgetBefore:jr.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof ac&&Lde(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}ac.prototype.point=!0;function sF(n,e=!1){let{inclusiveStart:t,inclusiveEnd:r}=n;return t==null&&(t=n.inclusive),r==null&&(r=n.inclusive),{start:t??e,end:r??e}}function Lde(n,e){return n==e||!!(n&&e&&n.compare(e))}function B0(n,e,t,r=0){let i=t.length-1;i>=0&&t[i]+r>=n?t[i]=Math.max(t[i],e):t.push(n,e)}class On extends kt{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,r,i,s,o){if(r){if(!(r instanceof On))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),JB(this,e,t,r?r.children.slice():[],s,o),!0}split(e){let t=new On;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i:r,off:i}=this.childPos(e);i&&(t.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let s=r;s<this.children.length;s++)t.append(this.children[s],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){Nw(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){rF(this,e,t)}addLineDeco(e){let t=e.spec.attributes,r=e.spec.class;t&&(this.attrs=BT(t,this.attrs||{})),r&&(this.attrs=BT({class:r},this.attrs||{}))}domAtPos(e){return nF(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,t){var r;this.dom?this.flags&4&&(WB(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(FT(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let i=this.dom.lastChild;for(;i&&kt.get(i)instanceof Ra;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((r=kt.get(i))===null||r===void 0?void 0:r.isEditable)==!1&&(!ye.ios||!this.children.some(s=>s instanceof Cs))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let r of this.children){if(!(r instanceof Cs)||/[^ -~]/.test(r.text))return null;let i=vg(r.dom);if(i.length!=1)return null;e+=i[0].width,t=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let r=iF(this,e,t);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,s=r.bottom-r.top;if(Math.abs(s-i.lineHeight)<2&&i.textHeight<s){let o=(s-i.textHeight)/2;return{top:r.top+o,bottom:r.bottom-o,left:r.left,right:r.left}}}return r}become(e){return e instanceof On&&this.children.length==0&&e.children.length==0&&Nw(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,t){for(let r=0,i=0;r<e.children.length;r++){let s=e.children[r],o=i+s.length;if(o>=t){if(s instanceof On)return s;if(o>t)break}i=o+s.breakAfter}return null}}class va extends kt{constructor(e,t,r){super(),this.widget=e,this.length=t,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(e,t,r,i,s,o){return r&&(!(r instanceof va)||!this.widget.compare(r.widget)||e>0&&s<=0||t<this.length&&o<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?xr.before(this.dom):xr.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let r=new va(this.widget,t,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return kR}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):ot.empty}domBoundsAround(){return null}become(e){return e instanceof va&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){let r=this.widget.coordsAt(this.dom,e,t);return r||(this.widget instanceof WT?null:Eb(this.dom.getBoundingClientRect(),this.length?e==0:t<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:r}=this.deco;return t==r?!1:e<0?t<0:r>0}}class WT extends Lo{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class vm{constructor(e,t,r,i){this.doc=e,this.pos=t,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof va&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new On),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(jy(new Ld(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof va)&&this.getLine()}buildText(e,t,r){for(;e>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:o,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=s,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-r)),this.getLine().append(jy(new Cs(this.text.slice(this.textOff,this.textOff+i)),t),r),this.atCursorPos=!0,this.textOff+=i,e-=i,r=0}}span(e,t,r,i){this.buildText(t-e,r,i),this.pos=t,this.openStart<0&&(this.openStart=i)}point(e,t,r,i,s,o){if(this.disallowBlockEffectsFor[o]&&r instanceof ac){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=t-e;if(r instanceof ac)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new va(r.widget||zd.block,a,r));else{let l=Tl.create(r.widget||zd.inline,a,a?0:r.startSide),c=this.atCursorPos&&!l.isEditable&&s<=i.length&&(e<t||r.startSide>0),u=!l.isEditable&&(e<t||s>i.length||r.startSide<=0),h=this.getLine();this.pendingBuffer==2&&!c&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),c&&(h.append(jy(new Ld(1),i),s),s=i.length+Math.max(0,s-i.length)),h.append(jy(l,i),s),this.atCursorPos=u,this.pendingBuffer=u?e<t||s>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=s)}static build(e,t,r,i,s){let o=new vm(e,t,r,s);return o.openEnd=ht.spans(i,t,r,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function jy(n,e){for(let t of e)n=new Ra(t,[n],n.length);return n}class zd extends Lo{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}zd.inline=new zd("span");zd.block=new zd("div");var Ke=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(Ke||(Ke={}));const Ru=Ke.LTR,_R=Ke.RTL;function oF(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const zde=oF("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Ude=oF("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),XT=Object.create(null),Vs=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);XT[e]=t,XT[t]=-e}function aF(n){return n<=247?zde[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?Ude[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8204?256:64336<=n&&n<=65023?4:1}const Zde=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Pl{get dir(){return this.level%2?_R:Ru}constructor(e,t,r){this.from=e,this.to=t,this.level=r}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,r,i){let s=-1;for(let o=0;o<e.length;o++){let a=e[o];if(a.from<=t&&a.to>=t){if(a.level==r)return o;(s<0||(i!=0?i<0?a.from<t:a.to>t:e[s].level>a.level))&&(s=o)}}if(s<0)throw new RangeError("Index out of range");return s}}function lF(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++){let r=n[t],i=e[t];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!lF(r.inner,i.inner))return!1}return!0}const St=[];function qde(n,e,t,r,i){for(let s=0;s<=r.length;s++){let o=s?r[s-1].to:e,a=s<r.length?r[s].from:t,l=s?256:i;for(let c=o,u=l,h=l;c<a;c++){let d=aF(n.charCodeAt(c));d==512?d=u:d==8&&h==4&&(d=16),St[c]=d==4?2:d,d&7&&(h=d),u=d}for(let c=o,u=l,h=l;c<a;c++){let d=St[c];if(d==128)c<a-1&&u==St[c+1]&&u&24?d=St[c]=u:St[c]=256;else if(d==64){let m=c+1;for(;m<a&&St[m]==64;)m++;let g=c&&u==8||m<t&&St[m]==8?h==1?1:8:256;for(let y=c;y<m;y++)St[y]=g;c=m-1}else d==8&&h==1&&(St[c]=1);u=d,d&7&&(h=d)}}}function Bde(n,e,t,r,i){let s=i==1?2:1;for(let o=0,a=0,l=0;o<=r.length;o++){let c=o?r[o-1].to:e,u=o<r.length?r[o].from:t;for(let h=c,d,m,g;h<u;h++)if(m=XT[d=n.charCodeAt(h)])if(m<0){for(let y=a-3;y>=0;y-=3)if(Vs[y+1]==-m){let v=Vs[y+2],b=v&2?i:v&4?v&1?s:i:0;b&&(St[h]=St[Vs[y]]=b),a=y;break}}else{if(Vs.length==189)break;Vs[a++]=h,Vs[a++]=d,Vs[a++]=l}else if((g=St[h])==2||g==1){let y=g==i;l=y?0:1;for(let v=a-3;v>=0;v-=3){let b=Vs[v+2];if(b&2)break;if(y)Vs[v+2]|=2;else{if(b&4)break;Vs[v+2]|=4}}}}}function Fde(n,e,t,r){for(let i=0,s=r;i<=t.length;i++){let o=i?t[i-1].to:n,a=i<t.length?t[i].from:e;for(let l=o;l<a;){let c=St[l];if(c==256){let u=l+1;for(;;)if(u==a){if(i==t.length)break;u=t[i++].to,a=i<t.length?t[i].from:e}else if(St[u]==256)u++;else break;let h=s==1,d=(u<e?St[u]:r)==1,m=h==d?h?1:2:r;for(let g=u,y=i,v=y?t[y-1].to:n;g>l;)g==v&&(g=t[--y].from,v=y?t[y-1].to:n),St[--g]=m;l=u}else s=c,l++}}}function GT(n,e,t,r,i,s,o){let a=r%2?2:1;if(r%2==i%2)for(let l=e,c=0;l<t;){let u=!0,h=!1;if(c==s.length||l<s[c].from){let y=St[l];y!=a&&(u=!1,h=y==16)}let d=!u&&a==1?[]:null,m=u?r:r+1,g=l;e:for(;;)if(c<s.length&&g==s[c].from){if(h)break e;let y=s[c];if(!u)for(let v=y.to,b=c+1;;){if(v==t)break e;if(b<s.length&&s[b].from==v)v=s[b++].to;else{if(St[v]==a)break e;break}}if(c++,d)d.push(y);else{y.from>l&&o.push(new Pl(l,y.from,m));let v=y.direction==Ru!=!(m%2);YT(n,v?r+1:r,i,y.inner,y.from,y.to,o),l=y.to}g=y.to}else{if(g==t||(u?St[g]!=a:St[g]==a))break;g++}d?GT(n,l,g,r+1,i,d,o):l<g&&o.push(new Pl(l,g,m)),l=g}else for(let l=t,c=s.length;l>e;){let u=!0,h=!1;if(!c||l>s[c-1].to){let y=St[l-1];y!=a&&(u=!1,h=y==16)}let d=!u&&a==1?[]:null,m=u?r:r+1,g=l;e:for(;;)if(c&&g==s[c-1].to){if(h)break e;let y=s[--c];if(!u)for(let v=y.from,b=c;;){if(v==e)break e;if(b&&s[b-1].to==v)v=s[--b].from;else{if(St[v-1]==a)break e;break}}if(d)d.push(y);else{y.to<l&&o.push(new Pl(y.to,l,m));let v=y.direction==Ru!=!(m%2);YT(n,v?r+1:r,i,y.inner,y.from,y.to,o),l=y.from}g=y.from}else{if(g==e||(u?St[g-1]!=a:St[g-1]==a))break;g--}d?GT(n,g,l,r+1,i,d,o):g<l&&o.push(new Pl(g,l,m)),l=g}}function YT(n,e,t,r,i,s,o){let a=e%2?2:1;qde(n,i,s,r,a),Bde(n,i,s,r,a),Fde(i,s,r,a),GT(n,i,s,e,t,r,o)}function Wde(n,e,t){if(!n)return[new Pl(0,0,e==_R?1:0)];if(e==Ru&&!t.length&&!Zde.test(n))return cF(n.length);if(t.length)for(;n.length>St.length;)St[St.length]=256;let r=[],i=e==Ru?0:1;return YT(n,i,i,t,0,n.length,r),r}function cF(n){return[new Pl(0,n,0)]}let uF="";function Xde(n,e,t,r,i){var s;let o=r.head-n.from,a=Pl.find(e,o,(s=r.bidiLevel)!==null&&s!==void 0?s:-1,r.assoc),l=e[a],c=l.side(i,t);if(o==c){let d=a+=i?1:-1;if(d<0||d>=e.length)return null;l=e[a=d],o=l.side(!i,t),c=l.side(i,t)}let u=or(n.text,o,l.forward(i,t));(u<l.from||u>l.to)&&(u=c),uF=n.text.slice(Math.min(o,u),Math.max(o,u));let h=a==(i?e.length-1:0)?null:e[a+(i?1:-1)];return h&&u==c&&h.level+(i?0:1)<l.level?K.cursor(h.side(!i,t)+n.from,h.forward(i,t)?1:-1,h.level):K.cursor(u+n.from,l.forward(i,t)?-1:1,l.level)}function Gde(n,e,t){for(let r=e;r<t;r++){let i=aF(n.charCodeAt(r));if(i==1)return Ru;if(i==2||i==4)return _R}return Ru}const hF=ce.define(),dF=ce.define(),fF=ce.define(),pF=ce.define(),HT=ce.define(),mF=ce.define(),gF=ce.define(),TR=ce.define(),PR=ce.define(),OF=ce.define({combine:n=>n.some(e=>e)}),yF=ce.define({combine:n=>n.some(e=>e)}),vF=ce.define();class nd{constructor(e,t="nearest",r="nearest",i=5,s=5,o=!1){this.range=e,this.y=t,this.x=r,this.yMargin=i,this.xMargin=s,this.isSnapshot=o}map(e){return e.empty?this:new nd(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new nd(K.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const Dy=Re.define({map:(n,e)=>n.map(e)}),wF=Re.define();function xn(n,e,t){let r=n.facet(pF);r.length?r[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}const la=ce.define({combine:n=>n.length?n[0]:!0});let Yde=0;const Ip=ce.define();class Qt{constructor(e,t,r,i,s){this.id=e,this.create=t,this.domEventHandlers=r,this.domEventObservers=i,this.extension=s(this)}static define(e,t){const{eventHandlers:r,eventObservers:i,provide:s,decorations:o}=t||{};return new Qt(Yde++,e,r,i,a=>{let l=[Ip.of(a)];return o&&l.push(wg.of(c=>{let u=c.plugin(a);return u?o(u):me.none})),s&&l.push(s(a)),l})}static fromClass(e,t){return Qt.define(r=>new e(r),t)}}class x1{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(r){if(xn(t.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){xn(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(r){xn(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const xF=ce.define(),CR=ce.define(),wg=ce.define(),bF=ce.define(),ER=ce.define(),SF=ce.define();function Zj(n,e){let t=n.state.facet(SF);if(!t.length)return t;let r=t.map(s=>s instanceof Function?s(n):s),i=[];return ht.spans(r,e.from,e.to,{point(){},span(s,o,a,l){let c=s-e.from,u=o-e.from,h=i;for(let d=a.length-1;d>=0;d--,l--){let m=a[d].spec.bidiIsolate,g;if(m==null&&(m=Gde(e.text,c,u)),l>0&&h.length&&(g=h[h.length-1]).to==c&&g.direction==m)g.to=u,h=g.inner;else{let y={from:c,to:u,direction:m,inner:[]};h.push(y),h=y.inner}}}}),i}const kF=ce.define();function AR(n){let e=0,t=0,r=0,i=0;for(let s of n.state.facet(kF)){let o=s(n);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(t=Math.max(t,o.right)),o.top!=null&&(r=Math.max(r,o.top)),o.bottom!=null&&(i=Math.max(i,o.bottom)))}return{left:e,right:t,top:r,bottom:i}}const Np=ce.define();class Xi{constructor(e,t,r,i){this.fromA=e,this.toA=t,this.fromB=r,this.toB=i}join(e){return new Xi(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,r=this;for(;t>0;t--){let i=e[t-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(t-1,1)}}return e.splice(t,0,r),e}static extendWithRanges(e,t){if(t.length==0)return e;let r=[];for(let i=0,s=0,o=0,a=0;;i++){let l=i==e.length?null:e[i],c=o-a,u=l?l.fromB:1e9;for(;s<t.length&&t[s]<u;){let h=t[s],d=t[s+1],m=Math.max(a,h),g=Math.min(u,d);if(m<=g&&new Xi(m+c,g+c,m,g).addToSet(r),d>u)break;s+=2}if(!l)return r;new Xi(l.fromA,l.toA,l.fromB,l.toB).addToSet(r),o=l.toA,a=l.toB}}}class jw{constructor(e,t,r){this.view=e,this.state=t,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=Pn.empty(this.startState.doc.length);for(let s of r)this.changes=this.changes.compose(s.changes);let i=[];this.changes.iterChangedRanges((s,o,a,l)=>i.push(new Xi(s,o,a,l))),this.changedRanges=i}static create(e,t,r){return new jw(e,t,r)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class qj extends kt{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=me.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new On],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Xi(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:c,toA:u})=>u<this.minWidthFrom||c>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?i=this.domChanged.newSel.head:!rfe(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let s=i>-1?Kde(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:c,to:u}=this.hasComposition;r=new Xi(c,u,e.changes.mapPos(c,-1),e.changes.mapPos(u,1)).addToSet(r.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(ye.ie||ye.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,a=this.updateDeco(),l=tfe(o,a,e.changes);return r=Xi.extendWithRanges(r,l),!(this.flags&7)&&r.length==0?!1:(this.updateInner(r,e.startState.doc.length,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,r);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=ye.chrome||ye.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,o),this.flags&=-8,o&&(o.written||i.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(o=>o.flags&=-9);let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof va&&o.widget instanceof WT&&s.push(o.dom);i.updateGaps(s)}updateChildren(e,t,r){let i=r?r.range.addToSet(e.slice()):e,s=this.childCursor(t);for(let o=i.length-1;;o--){let a=o>=0?i[o]:null;if(!a)break;let{fromA:l,toA:c,fromB:u,toB:h}=a,d,m,g,y;if(r&&r.range.fromB<h&&r.range.toB>u){let $=vm.build(this.view.state.doc,u,r.range.fromB,this.decorations,this.dynamicDecorationMap),P=vm.build(this.view.state.doc,r.range.toB,h,this.decorations,this.dynamicDecorationMap);m=$.breakAtStart,g=$.openStart,y=P.openEnd;let Q=this.compositionView(r);P.breakAtStart?Q.breakAfter=1:P.content.length&&Q.merge(Q.length,Q.length,P.content[0],!1,P.openStart,0)&&(Q.breakAfter=P.content[0].breakAfter,P.content.shift()),$.content.length&&Q.merge(0,0,$.content[$.content.length-1],!0,0,$.openEnd)&&$.content.pop(),d=$.content.concat(Q).concat(P.content)}else({content:d,breakAtStart:m,openStart:g,openEnd:y}=vm.build(this.view.state.doc,u,h,this.decorations,this.dynamicDecorationMap));let{i:v,off:b}=s.findPos(c,1),{i:x,off:S}=s.findPos(l,-1);KB(this,x,S,v,b,d,m,g,y)}r&&this.fixCompositionDOM(r)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let r of t.effects)r.is(wF)&&(this.editContextFormatting=r.value)}compositionView(e){let t=new Cs(e.text.nodeValue);t.flags|=8;for(let{deco:i}of e.marks)t=new Ra(i,[t],t.length);let r=new On;return r.append(t,0),r}fixCompositionDOM(e){let t=(s,o)=>{o.flags|=8|(o.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(o);let a=kt.get(s);a&&a!=o&&(a.dom=null),o.setDOM(s)},r=this.childPos(e.range.fromB,1),i=this.children[r.i];t(e.line,i);for(let s=e.marks.length-1;s>=-1;s--)r=i.childPos(r.off,1),i=i.children[r.i],t(s>=0?e.marks[s].node:e.text,i)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,i=r==this.dom,s=!i&&!(this.view.state.facet(la)||this.dom.tabIndex>-1)&&q0(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(i||t||s))return;let o=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(a.anchor)),c=a.empty?l:this.moveToLine(this.domAtPos(a.head));if(ye.gecko&&a.empty&&!this.hasComposition&&Hde(l)){let h=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(h,l.node.childNodes[l.offset]||null)),l=c=new xr(h,0),o=!0}let u=this.view.observer.selectionRange;(o||!u.focusNode||(!ym(l.node,l.offset,u.anchorNode,u.anchorOffset)||!ym(c.node,c.offset,u.focusNode,u.focusOffset))&&!this.suppressWidgetCursorChange(u,a))&&(this.view.observer.ignore(()=>{ye.android&&ye.chrome&&this.dom.contains(u.focusNode)&&nfe(u.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let h=yg(this.view.root);if(h)if(a.empty){if(ye.gecko){let d=Jde(l.node,l.offset);if(d&&d!=3){let m=(d==1?GB:YB)(l.node,l.offset);m&&(l=new xr(m.node,m.offset))}}h.collapse(l.node,l.offset),a.bidiLevel!=null&&h.caretBidiLevel!==void 0&&(h.caretBidiLevel=a.bidiLevel)}else if(h.extend){h.collapse(l.node,l.offset);try{h.extend(c.node,c.offset)}catch{}}else{let d=document.createRange();a.anchor>a.head&&([l,c]=[c,l]),d.setEnd(c.node,c.offset),d.setStart(l.node,l.offset),h.removeAllRanges(),h.addRange(d)}s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(l,c)),this.impreciseAnchor=l.precise?null:new xr(u.anchorNode,u.anchorOffset),this.impreciseHead=c.precise?null:new xr(u.focusNode,u.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&ym(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,r=yg(e.root),{anchorNode:i,anchorOffset:s}=e.observer.selectionRange;if(!r||!t.empty||!t.assoc||!r.modify)return;let o=On.find(this,t.head);if(!o)return;let a=o.posAtStart;if(t.head==a||t.head==a+o.length)return;let l=this.coordsAt(t.head,-1),c=this.coordsAt(t.head,1);if(!l||!c||l.bottom>c.top)return;let u=this.domAtPos(t.head+t.assoc);r.collapse(u.node,u.offset),r.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let h=e.observer.selectionRange;e.docView.posFromDOM(h.anchorNode,h.anchorOffset)!=t.from&&r.collapse(i,s)}moveToLine(e){let t=this.dom,r;if(e.node!=t)return e;for(let i=e.offset;!r&&i<t.childNodes.length;i++){let s=kt.get(t.childNodes[i]);s instanceof On&&(r=s.domAtPos(0))}for(let i=e.offset-1;!r&&i>=0;i--){let s=kt.get(t.childNodes[i]);s instanceof On&&(r=s.domAtPos(s.length))}return r?new xr(r.node,r.offset,!0):e}nearest(e){for(let t=e;t;){let r=kt.get(t);if(r&&r.rootView==this)return r;t=t.parentNode}return null}posFromDOM(e,t){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,t)+r.posAtStart}domAtPos(e){let{i:t,off:r}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let i=this.children[t];if(r<i.length||i instanceof On)break;t++,r=0}return this.children[t].domAtPos(r)}coordsAt(e,t){let r=null,i=0;for(let s=this.length,o=this.children.length-1;o>=0;o--){let a=this.children[o],l=s-a.breakAfter,c=l-a.length;if(l<e)break;if(c<=e&&(c<e||a.covers(-1))&&(l>e||a.covers(1))&&(!r||a instanceof On&&!(r instanceof On&&t>=0)))r=a,i=c;else if(r&&c==e&&l==e&&a instanceof va&&Math.abs(t)<2){if(a.deco.startSide<0)break;o&&(r=null)}s=c}return r?r.coordsAt(e-i,t):null}coordsForChar(e){let{i:t,off:r}=this.childPos(e,1),i=this.children[t];if(!(i instanceof On))return null;for(;i.children.length;){let{i:a,off:l}=i.childPos(r,1);for(;;a++){if(a==i.children.length)return null;if((i=i.children[a]).length)break}r=l}if(!(i instanceof Cs))return null;let s=or(i.text,r);if(s==r)return null;let o=Au(i.dom,r,s).getClientRects();for(let a=0;a<o.length;a++){let l=o[a];if(a==o.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(e){let t=[],{from:r,to:i}=e,s=this.view.contentDOM.clientWidth,o=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==Ke.LTR;for(let c=0,u=0;u<this.children.length;u++){let h=this.children[u],d=c+h.length;if(d>i)break;if(c>=r){let m=h.dom.getBoundingClientRect();if(t.push(m.height),o){let g=h.dom.lastChild,y=g?vg(g):[];if(y.length){let v=y[y.length-1],b=l?v.right-m.left:m.right-v.left;b>a&&(a=b,this.minWidth=s,this.minWidthFrom=c,this.minWidthTo=d)}}}c=d+h.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?Ke.RTL:Ke.LTR}measureTextSize(){for(let s of this.children)if(s instanceof On){let o=s.measureTextSize();if(o)return o}let e=document.createElement("div"),t,r,i;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=vg(e.firstChild)[0];t=e.getBoundingClientRect().height,r=s?s.width/27:7,i=s?s.height:t,e.remove()}),{lineHeight:t,charWidth:r,textHeight:i}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new HB(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let r=0,i=0;;i++){let s=i==t.viewports.length?null:t.viewports[i],o=s?s.from-1:this.length;if(o>r){let a=(t.lineBlockAt(o).bottom-t.lineBlockAt(r).top)/this.view.scaleY;e.push(me.replace({widget:new WT(a),block:!0,inclusive:!0,isBlockGap:!0}).range(r,o))}if(!s)break;r=s.to+1}return me.set(e)}updateDeco(){let e=1,t=this.view.state.facet(wg).map(s=>(this.dynamicDecorationMap[e++]=typeof s=="function")?s(this.view):s),r=!1,i=this.view.state.facet(bF).map((s,o)=>{let a=typeof s=="function";return a&&(r=!0),a?s(this.view):s});for(i.length&&(this.dynamicDecorationMap[e++]=r,t.push(ht.join(i))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let c=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=c.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let c of this.view.state.facet(vF))try{if(c(this.view,e.range,e))return!0}catch(u){xn(this.view.state,u,"scroll handler")}let{range:t}=e,r=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),i;if(!r)return;!t.empty&&(i=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let s=AR(this.view),o={left:r.left-s.left,top:r.top-s.top,right:r.right+s.right,bottom:r.bottom+s.bottom},{offsetWidth:a,offsetHeight:l}=this.view.scrollDOM;Rde(this.view.scrollDOM,o,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,a),-a),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==Ke.LTR)}}function Hde(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}function _F(n,e){let t=n.observer.selectionRange;if(!t.focusNode)return null;let r=GB(t.focusNode,t.focusOffset),i=YB(t.focusNode,t.focusOffset),s=r||i;if(i&&r&&i.node!=r.node){let a=kt.get(i.node);if(!a||a instanceof Cs&&a.text!=i.node.nodeValue)s=i;else if(n.docView.lastCompositionAfterCursor){let l=kt.get(r.node);!l||l instanceof Cs&&l.text!=r.node.nodeValue||(s=i)}}if(n.docView.lastCompositionAfterCursor=s!=r,!s)return null;let o=e-s.offset;return{from:o,to:o+s.node.nodeValue.length,node:s.node}}function Kde(n,e,t){let r=_F(n,t);if(!r)return null;let{node:i,from:s,to:o}=r,a=i.nodeValue;if(/[\n\r]/.test(a)||n.state.doc.sliceString(r.from,r.to)!=a)return null;let l=e.invertedDesc,c=new Xi(l.mapPos(s),l.mapPos(o),s,o),u=[];for(let h=i.parentNode;;h=h.parentNode){let d=kt.get(h);if(d instanceof Ra)u.push({node:h,deco:d.mark});else{if(d instanceof On||h.nodeName=="DIV"&&h.parentNode==n.contentDOM)return{range:c,text:i,marks:u,line:h};if(h!=n.contentDOM)u.push({node:h,deco:new _O({inclusive:!0,attributes:Vde(h),tagName:h.tagName.toLowerCase()})});else return null}}}function Jde(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}let efe=class{constructor(){this.changes=[]}compareRange(e,t){B0(e,t,this.changes)}comparePoint(e,t){B0(e,t,this.changes)}boundChange(e){B0(e,e,this.changes)}};function tfe(n,e,t){let r=new efe;return ht.compare(n,e,t,r),r.changes}function nfe(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function rfe(n,e){let t=!1;return e&&n.iterChangedRanges((r,i)=>{r<e.to&&i>e.from&&(t=!0)}),t}function ife(n,e,t=1){let r=n.charCategorizer(e),i=n.doc.lineAt(e),s=e-i.from;if(i.length==0)return K.cursor(e);s==0?t=1:s==i.length&&(t=-1);let o=s,a=s;t<0?o=or(i.text,s,!1):a=or(i.text,s);let l=r(i.text.slice(o,a));for(;o>0;){let c=or(i.text,o,!1);if(r(i.text.slice(c,o))!=l)break;o=c}for(;a<i.length;){let c=or(i.text,a);if(r(i.text.slice(a,c))!=l)break;a=c}return K.range(o+i.from,a+i.from)}function sfe(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function ofe(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function b1(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function Bj(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function Fj(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function KT(n,e,t){let r,i,s,o,a=!1,l,c,u,h;for(let g=n.firstChild;g;g=g.nextSibling){let y=vg(g);for(let v=0;v<y.length;v++){let b=y[v];i&&b1(i,b)&&(b=Bj(Fj(b,i.bottom),i.top));let x=sfe(e,b),S=ofe(t,b);if(x==0&&S==0)return g.nodeType==3?Wj(g,e,t):KT(g,e,t);if(!r||o>S||o==S&&s>x){r=g,i=b,s=x,o=S;let $=S?t<b.top?-1:1:x?e<b.left?-1:1:0;a=!$||($>0?v<y.length-1:v>0)}x==0?t>b.bottom&&(!u||u.bottom<b.bottom)?(l=g,u=b):t<b.top&&(!h||h.top>b.top)&&(c=g,h=b):u&&b1(u,b)?u=Fj(u,b.bottom):h&&b1(h,b)&&(h=Bj(h,b.top))}}if(u&&u.bottom>=t?(r=l,i=u):h&&h.top<=t&&(r=c,i=h),!r)return{node:n,offset:0};let d=Math.max(i.left,Math.min(i.right,e));if(r.nodeType==3)return Wj(r,d,t);if(a&&r.contentEditable!="false")return KT(r,d,t);let m=Array.prototype.indexOf.call(n.childNodes,r)+(e>=(i.left+i.right)/2?1:0);return{node:n,offset:m}}function Wj(n,e,t){let r=n.nodeValue.length,i=-1,s=1e9,o=0;for(let a=0;a<r;a++){let l=Au(n,a,a+1).getClientRects();for(let c=0;c<l.length;c++){let u=l[c];if(u.top==u.bottom)continue;o||(o=e-u.left);let h=(u.top>t?u.top-t:t-u.bottom)-1;if(u.left-1<=e&&u.right+1>=e&&h<s){let d=e>=(u.left+u.right)/2,m=d;if((ye.chrome||ye.gecko)&&Au(n,a).getBoundingClientRect().left==u.right&&(m=!d),h<=0)return{node:n,offset:a+(m?1:0)};i=a+(m?1:0),s=h}}}return{node:n,offset:i>-1?i:o>0?n.nodeValue.length:0}}function TF(n,e,t,r=-1){var i,s;let o=n.contentDOM.getBoundingClientRect(),a=o.top+n.viewState.paddingTop,l,{docHeight:c}=n.viewState,{x:u,y:h}=e,d=h-a;if(d<0)return 0;if(d>c)return n.state.doc.length;for(let $=n.viewState.heightOracle.textHeight/2,P=!1;l=n.elementAtHeight(d),l.type!=jr.Text;)for(;d=r>0?l.bottom+$:l.top-$,!(d>=0&&d<=c);){if(P)return t?null:0;P=!0,r=-r}h=a+d;let m=l.from;if(m<n.viewport.from)return n.viewport.from==0?0:t?null:Xj(n,o,l,u,h);if(m>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:t?null:Xj(n,o,l,u,h);let g=n.dom.ownerDocument,y=n.root.elementFromPoint?n.root:g,v=y.elementFromPoint(u,h);v&&!n.contentDOM.contains(v)&&(v=null),v||(u=Math.max(o.left+1,Math.min(o.right-1,u)),v=y.elementFromPoint(u,h),v&&!n.contentDOM.contains(v)&&(v=null));let b,x=-1;if(v&&((i=n.docView.nearest(v))===null||i===void 0?void 0:i.isEditable)!=!1){if(g.caretPositionFromPoint){let $=g.caretPositionFromPoint(u,h);$&&({offsetNode:b,offset:x}=$)}else if(g.caretRangeFromPoint){let $=g.caretRangeFromPoint(u,h);$&&({startContainer:b,startOffset:x}=$,(!n.contentDOM.contains(b)||ye.safari&&afe(b,x,u)||ye.chrome&&lfe(b,x,u))&&(b=void 0))}b&&(x=Math.min(_o(b),x))}if(!b||!n.docView.dom.contains(b)){let $=On.find(n.docView,m);if(!$)return d>l.top+l.height/2?l.to:l.from;({node:b,offset:x}=KT($.dom,u,h))}let S=n.docView.nearest(b);if(!S)return null;if(S.isWidget&&((s=S.dom)===null||s===void 0?void 0:s.nodeType)==1){let $=S.dom.getBoundingClientRect();return e.y<$.top||e.y<=$.bottom&&e.x<=($.left+$.right)/2?S.posAtStart:S.posAtEnd}else return S.localPosFromDOM(b,x)+S.posAtStart}function Xj(n,e,t,r,i){let s=Math.round((r-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&t.height>n.defaultLineHeight*1.5){let a=n.viewState.heightOracle.textHeight,l=Math.floor((i-t.top-(n.defaultLineHeight-a)*.5)/a);s+=l*n.viewState.heightOracle.lineLength}let o=n.state.sliceDoc(t.from,t.to);return t.from+MT(o,s,n.state.tabSize)}function afe(n,e,t){let r;if(n.nodeType!=3||e!=(r=n.nodeValue.length))return!1;for(let i=n.nextSibling;i;i=i.nextSibling)if(i.nodeType!=1||i.nodeName!="BR")return!1;return Au(n,r-1,r).getBoundingClientRect().left>t}function lfe(n,e,t){if(e!=0)return!1;for(let i=n;;){let s=i.parentNode;if(!s||s.nodeType!=1||s.firstChild!=i)return!1;if(s.classList.contains("cm-line"))break;i=s}let r=n.nodeType==1?n.getBoundingClientRect():Au(n,0,Math.max(n.nodeValue.length,1)).getBoundingClientRect();return t-r.left>5}function JT(n,e){let t=n.lineBlockAt(e);if(Array.isArray(t.type)){for(let r of t.type)if(r.to>e||r.to==e&&(r.to==t.to||r.type==jr.Text))return r}return t}function cfe(n,e,t,r){let i=JT(n,e.head),s=!r||i.type!=jr.Text||!(n.lineWrapping||i.widgetLineBreaks)?null:n.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(s){let o=n.dom.getBoundingClientRect(),a=n.textDirectionAt(i.from),l=n.posAtCoords({x:t==(a==Ke.LTR)?o.right-1:o.left+1,y:(s.top+s.bottom)/2});if(l!=null)return K.cursor(l,t?-1:1)}return K.cursor(t?i.to:i.from,t?-1:1)}function Gj(n,e,t,r){let i=n.state.doc.lineAt(e.head),s=n.bidiSpans(i),o=n.textDirectionAt(i.from);for(let a=e,l=null;;){let c=Xde(i,s,o,a,t),u=uF;if(!c){if(i.number==(t?n.state.doc.lines:1))return a;u=`
`,i=n.state.doc.line(i.number+(t?1:-1)),s=n.bidiSpans(i),c=n.visualLineSide(i,!t)}if(l){if(!l(u))return a}else{if(!r)return c;l=r(u)}a=c}}function ufe(n,e,t){let r=n.state.charCategorizer(e),i=r(t);return s=>{let o=r(s);return i==Ut.Space&&(i=o),i==o}}function hfe(n,e,t,r){let i=e.head,s=t?1:-1;if(i==(t?n.state.doc.length:0))return K.cursor(i,e.assoc);let o=e.goalColumn,a,l=n.contentDOM.getBoundingClientRect(),c=n.coordsAtPos(i,e.assoc||-1),u=n.documentTop;if(c)o==null&&(o=c.left-l.left),a=s<0?c.top:c.bottom;else{let m=n.viewState.lineBlockAt(i);o==null&&(o=Math.min(l.right-l.left,n.defaultCharacterWidth*(i-m.from))),a=(s<0?m.top:m.bottom)+u}let h=l.left+o,d=r??n.viewState.heightOracle.textHeight>>1;for(let m=0;;m+=10){let g=a+(d+m)*s,y=TF(n,{x:h,y:g},!1,s);if(g<l.top||g>l.bottom||(s<0?y<i:y>i)){let v=n.docView.coordsForChar(y),b=!v||g<v.top?-1:1;return K.cursor(y,b,void 0,o)}}}function F0(n,e,t){for(;;){let r=0;for(let i of n)i.between(e-1,e+1,(s,o,a)=>{if(e>s&&e<o){let l=r||t||(e-s<o-e?-1:1);e=l<0?s:o,r=l}});if(!r)return e}}function S1(n,e,t){let r=F0(n.state.facet(ER).map(i=>i(n)),t.from,e.head>t.from?-1:1);return r==t.from?t:K.cursor(r,r<t.from?1:-1)}const jp="";class dfe{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet($e.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=jp}readRange(e,t){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let s=this.text.length;this.readNode(i);let o=i.nextSibling;if(o==t)break;let a=kt.get(i),l=kt.get(o);(a&&l?a.breakAfter:(a?a.breakAfter:Iw(i))||Iw(o)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>s)&&this.lineBreak(),i=o}return this.findPointBefore(r,t),this}readTextNode(e){let t=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,t.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,o=1,a;if(this.lineSeparator?(s=t.indexOf(this.lineSeparator,r),o=this.lineSeparator.length):(a=i.exec(t))&&(s=a.index,o=a[0].length),this.append(t.slice(r,s<0?t.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=o-1);r=s+o}}readNode(e){if(e.cmIgnore)return;let t=kt.get(e),r=t&&t.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==t&&(r.pos=this.text.length)}findPointInside(e,t){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(ffe(e,r.node,r.offset)?t:0))}}function ffe(n,e,t){for(;;){if(!e||t<_o(e))return!1;if(e==n)return!0;t=Eu(e)+1,e=e.parentNode}}class Yj{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class pfe{constructor(e,t,r,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,r,0))){let a=s||o?[]:Ofe(e),l=new dfe(a,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=yfe(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=s&&s.node==a.focusNode&&s.offset==a.focusOffset||!zT(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),c=o&&o.node==a.anchorNode&&o.offset==a.anchorOffset||!zT(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset),u=e.viewport;if((ye.ios||ye.chrome)&&e.state.selection.main.empty&&l!=c&&(u.from>0||u.to<e.state.doc.length)){let h=Math.min(l,c),d=Math.max(l,c),m=u.from-h,g=u.to-d;(m==0||m==1||h==0)&&(g==0||g==-1||d==e.state.doc.length)&&(l=0,c=e.state.doc.length)}this.newSel=K.single(c,l)}}}function PF(n,e){let t,{newSel:r}=e,i=n.state.selection.main,s=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:a}=e.bounds,l=i.from,c=null;(s===8||ye.android&&e.text.length<a-o)&&(l=i.to,c="end");let u=gfe(n.state.doc.sliceString(o,a,jp),e.text,l-o,c);u&&(ye.chrome&&s==13&&u.toB==u.from+2&&e.text.slice(u.from,u.toB)==jp+jp&&u.toB--,t={from:o+u.from,to:o+u.toA,insert:ot.of(e.text.slice(u.from,u.toB).split(jp))})}else r&&(!n.hasFocus&&n.state.facet(la)||r.main.eq(i))&&(r=null);if(!t&&!r)return!1;if(!t&&e.typeOver&&!i.empty&&r&&r.main.empty?t={from:i.from,to:i.to,insert:n.state.doc.slice(i.from,i.to)}:(ye.mac||ye.android)&&t&&t.from==t.to&&t.from==i.head-1&&/^\. ?$/.test(t.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(r&&t.insert.length==2&&(r=K.single(r.main.anchor-1,r.main.head-1)),t={from:t.from,to:t.to,insert:ot.of([t.insert.toString().replace("."," ")])}):t&&t.from>=i.from&&t.to<=i.to&&(t.from!=i.from||t.to!=i.to)&&i.to-i.from-(t.to-t.from)<=4?t={from:i.from,to:i.to,insert:n.state.doc.slice(i.from,t.from).append(t.insert).append(n.state.doc.slice(t.to,i.to))}:ye.chrome&&t&&t.from==t.to&&t.from==i.head&&t.insert.toString()==`
 `&&n.lineWrapping&&(r&&(r=K.single(r.main.anchor-1,r.main.head-1)),t={from:i.from,to:i.to,insert:ot.of([" "])}),t)return RR(n,t,r,s);if(r&&!r.main.eq(i)){let o=!1,a="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(o=!0),a=n.inputState.lastSelectionOrigin),n.dispatch({selection:r,scrollIntoView:o,userEvent:a}),!0}else return!1}function RR(n,e,t,r=-1){if(ye.ios&&n.inputState.flushIOSKey(e))return!0;let i=n.state.selection.main;if(ye.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&n.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&td(n.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&td(n.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&td(n.contentDOM,"Delete",46)))return!0;let s=e.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let o,a=()=>o||(o=mfe(n,e,t));return n.state.facet(mF).some(l=>l(n,e.from,e.to,s,a))||n.dispatch(a()),!0}function mfe(n,e,t){let r,i=n.state,s=i.selection.main;if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&n.inputState.composing<0){let a=s.from<e.from?i.sliceDoc(s.from,e.from):"",l=s.to>e.to?i.sliceDoc(e.to,s.to):"";r=i.replaceSelection(n.state.toText(a+e.insert.sliceString(0,void 0,n.state.lineBreak)+l))}else{let a=i.changes(e),l=t&&t.main.to<=a.newLength?t.main:void 0;if(i.selection.ranges.length>1&&n.inputState.composing>=0&&e.to<=s.to&&e.to>=s.to-10){let c=n.state.sliceDoc(e.from,e.to),u,h=t&&_F(n,t.main.head);if(h){let g=e.insert.length-(e.to-e.from);u={from:h.from,to:h.to-g}}else u=n.state.doc.lineAt(s.head);let d=s.to-e.to,m=s.to-s.from;r=i.changeByRange(g=>{if(g.from==s.from&&g.to==s.to)return{changes:a,range:l||g.map(a)};let y=g.to-d,v=y-c.length;if(g.to-g.from!=m||n.state.sliceDoc(v,y)!=c||g.to>=u.from&&g.from<=u.to)return{range:g};let b=i.changes({from:v,to:y,insert:e.insert}),x=g.to-s.to;return{changes:b,range:l?K.range(Math.max(0,l.anchor+x),Math.max(0,l.head+x)):g.map(b)}})}else r={changes:a,selection:l&&i.selection.replaceRange(l)}}let o="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,o+=".compose",n.inputState.compositionFirstChange&&(o+=".start",n.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:o,scrollIntoView:!0})}function gfe(n,e,t,r){let i=Math.min(n.length,e.length),s=0;for(;s<i&&n.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==i&&n.length==e.length)return null;let o=n.length,a=e.length;for(;o>0&&a>0&&n.charCodeAt(o-1)==e.charCodeAt(a-1);)o--,a--;if(r=="end"){let l=Math.max(0,s-Math.min(o,a));t-=o+l-s}if(o<s&&n.length<e.length){let l=t<=s&&t>=o?s-t:0;s-=l,a=s+(a-o),o=s}else if(a<s){let l=t<=s&&t>=a?s-t:0;s-=l,o=s+(o-a),a=s}return{from:s,toA:o,toB:a}}function Ofe(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:s}=n.observer.selectionRange;return t&&(e.push(new Yj(t,r)),(i!=t||s!=r)&&e.push(new Yj(i,s))),e}function yfe(n,e){if(n.length==0)return null;let t=n[0].pos,r=n.length==2?n[1].pos:t;return t>-1&&r>-1?K.single(t+e,r+e):null}class vfe{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,ye.safari&&e.contentDOM.addEventListener("input",()=>null),ye.gecko&&Nfe(e.contentDOM.ownerDocument)}handleEvent(e){!Pfe(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,t){let r=this.handlers[e];if(r){for(let i of r.observers)i(this.view,t);for(let i of r.handlers){if(t.defaultPrevented)break;if(i(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=wfe(e),r=this.handlers,i=this.view.contentDOM;for(let s in t)if(s!="scroll"){let o=!t[s].handlers.length,a=r[s];a&&o!=!a.handlers.length&&(i.removeEventListener(s,this.handleEvent),a=null),a||i.addEventListener(s,this.handleEvent,{passive:o})}for(let s in r)s!="scroll"&&!t[s]&&i.removeEventListener(s,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&EF.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),ye.android&&ye.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return ye.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=CF.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||xfe.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,td(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:ye.safari&&!ye.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Hj(n,e){return(t,r)=>{try{return e.call(n,r,t)}catch(i){xn(t.state,i)}}}function wfe(n){let e=Object.create(null);function t(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of n){let i=r.spec;if(i&&i.domEventHandlers)for(let s in i.domEventHandlers){let o=i.domEventHandlers[s];o&&t(s).handlers.push(Hj(r.value,o))}if(i&&i.domEventObservers)for(let s in i.domEventObservers){let o=i.domEventObservers[s];o&&t(s).observers.push(Hj(r.value,o))}}for(let r in Es)t(r).handlers.push(Es[r]);for(let r in Ki)t(r).observers.push(Ki[r]);return e}const CF=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],xfe="dthko",EF=[16,17,18,20,91,92,224,225],My=6;function Vy(n){return Math.max(0,n)*.7+8}function bfe(n,e){return Math.max(Math.abs(n.clientX-e.clientX),Math.abs(n.clientY-e.clientY))}class Sfe{constructor(e,t,r,i){this.view=e,this.startEvent=t,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=Qde(e.contentDOM),this.atoms=e.state.facet(ER).map(o=>o(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet($e.allowMultipleSelections)&&kfe(e,t),this.dragging=Tfe(e,t)&&QF(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&bfe(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,r=0,i=0,s=0,o=this.view.win.innerWidth,a=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:o}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:a}=this.scrollParents.y.getBoundingClientRect());let l=AR(this.view);e.clientX-l.left<=i+My?t=-Vy(i-e.clientX):e.clientX+l.right>=o-My&&(t=Vy(e.clientX-o)),e.clientY-l.top<=s+My?r=-Vy(s-e.clientY):e.clientY+l.bottom>=a-My&&(r=Vy(e.clientY-a)),this.setScrollSpeed(t,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],s=null;if(i.empty){let o=F0(this.atoms,i.from,0);o!=i.from&&(s=K.cursor(o,-1))}else{let o=F0(this.atoms,i.from,-1),a=F0(this.atoms,i.to,1);(o!=i.from||a!=i.to)&&(s=K.range(i.from==i.anchor?o:a,i.from==i.head?o:a))}s&&(t||(t=e.ranges.slice()),t[r]=s)}return t?K.create(t,e.mainIndex):e}select(e){let{view:t}=this,r=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function kfe(n,e){let t=n.state.facet(hF);return t.length?t[0](e):ye.mac?e.metaKey:e.ctrlKey}function _fe(n,e){let t=n.state.facet(dF);return t.length?t[0](e):ye.mac?!e.altKey:!e.ctrlKey}function Tfe(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let r=yg(n.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let s=0;s<i.length;s++){let o=i[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function Pfe(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,r;t!=n.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(r=kt.get(t))&&r.ignoreEvent(e))return!1;return!0}const Es=Object.create(null),Ki=Object.create(null),AF=ye.ie&&ye.ie_version<15||ye.ios&&ye.webkit_version<604;function Cfe(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),RF(n,t.value)},50)}function Rb(n,e,t){for(let r of n.facet(e))t=r(t,n);return t}function RF(n,e){e=Rb(n.state,TR,e);let{state:t}=n,r,i=1,s=t.toText(e),o=s.lines==t.selection.ranges.length;if(eP!=null&&t.selection.ranges.every(l=>l.empty)&&eP==s.toString()){let l=-1;r=t.changeByRange(c=>{let u=t.doc.lineAt(c.from);if(u.from==l)return{range:c};l=u.from;let h=t.toText((o?s.line(i++).text:e)+t.lineBreak);return{changes:{from:u.from,insert:h},range:K.cursor(c.from+h.length)}})}else o?r=t.changeByRange(l=>{let c=s.line(i++);return{changes:{from:l.from,to:l.to,insert:c.text},range:K.cursor(l.from+c.length)}}):r=t.replaceSelection(s);n.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}Ki.scroll=n=>{n.inputState.lastScrollTop=n.scrollDOM.scrollTop,n.inputState.lastScrollLeft=n.scrollDOM.scrollLeft};Es.keydown=(n,e)=>(n.inputState.setSelectionOrigin("select"),e.keyCode==27&&n.inputState.tabFocusMode!=0&&(n.inputState.tabFocusMode=Date.now()+2e3),!1);Ki.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};Ki.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};Es.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let r of n.state.facet(fF))if(t=r(n,e),t)break;if(!t&&e.button==0&&(t=Rfe(n,e)),t){let r=!n.hasFocus;n.inputState.startMouseSelection(new Sfe(n,e,t,r)),r&&n.observer.ignore(()=>{FB(n.contentDOM);let s=n.root.activeElement;s&&!s.contains(n.contentDOM)&&s.blur()});let i=n.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}return!1};function Kj(n,e,t,r){if(r==1)return K.cursor(e,t);if(r==2)return ife(n.state,e,t);{let i=On.find(n.docView,e),s=n.state.doc.lineAt(i?i.posAtEnd:e),o=i?i.posAtStart:s.from,a=i?i.posAtEnd:s.to;return a<n.state.doc.length&&a==s.to&&a++,K.range(o,a)}}let Jj=(n,e,t)=>e>=t.top&&e<=t.bottom&&n>=t.left&&n<=t.right;function Efe(n,e,t,r){let i=On.find(n.docView,e);if(!i)return 1;let s=e-i.posAtStart;if(s==0)return 1;if(s==i.length)return-1;let o=i.coordsAt(s,-1);if(o&&Jj(t,r,o))return-1;let a=i.coordsAt(s,1);return a&&Jj(t,r,a)?1:o&&o.bottom>=r?-1:1}function eD(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:Efe(n,t,e.clientX,e.clientY)}}const Afe=ye.ie&&ye.ie_version<=11;let tD=null,nD=0,rD=0;function QF(n){if(!Afe)return n.detail;let e=tD,t=rD;return tD=n,rD=Date.now(),nD=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(nD+1)%3:1}function Rfe(n,e){let t=eD(n,e),r=QF(e),i=n.state.selection;return{update(s){s.docChanged&&(t.pos=s.changes.mapPos(t.pos),i=i.map(s.changes))},get(s,o,a){let l=eD(n,s),c,u=Kj(n,l.pos,l.bias,r);if(t.pos!=l.pos&&!o){let h=Kj(n,t.pos,t.bias,r),d=Math.min(h.from,u.from),m=Math.max(h.to,u.to);u=d<u.from?K.range(d,m):K.range(m,d)}return o?i.replaceRange(i.main.extend(u.from,u.to)):a&&r==1&&i.ranges.length>1&&(c=Qfe(i,l.pos))?c:a?i.addRange(u):K.create([u])}}}function Qfe(n,e){for(let t=0;t<n.ranges.length;t++){let{from:r,to:i}=n.ranges[t];if(r<=e&&i>=e)return K.create(n.ranges.slice(0,t).concat(n.ranges.slice(t+1)),n.mainIndex==t?0:n.mainIndex-(n.mainIndex>t?1:0))}return null}Es.dragstart=(n,e)=>{let{selection:{main:t}}=n.state;if(e.target.draggable){let i=n.docView.nearest(e.target);if(i&&i.isWidget){let s=i.posAtStart,o=s+i.length;(s>=t.to||o<=t.from)&&(t=K.range(s,o))}}let{inputState:r}=n;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",Rb(n.state,PR,n.state.sliceDoc(t.from,t.to))),e.dataTransfer.effectAllowed="copyMove"),!1};Es.dragend=n=>(n.inputState.draggedContent=null,!1);function iD(n,e,t,r){if(t=Rb(n.state,TR,t),!t)return;let i=n.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=n.inputState,o=r&&s&&_fe(n,e)?{from:s.from,to:s.to}:null,a={from:i,insert:t},l=n.state.changes(o?[o,a]:a);n.focus(),n.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:o?"move.drop":"input.drop"}),n.inputState.draggedContent=null}Es.drop=(n,e)=>{if(!e.dataTransfer)return!1;if(n.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let r=Array(t.length),i=0,s=()=>{++i==t.length&&iD(n,e,r.filter(o=>o!=null).join(n.state.lineBreak),!1)};for(let o=0;o<t.length;o++){let a=new FileReader;a.onerror=s,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(r[o]=a.result),s()},a.readAsText(t[o])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return iD(n,e,r,!0),!0}return!1};Es.paste=(n,e)=>{if(n.state.readOnly)return!0;n.observer.flush();let t=AF?null:e.clipboardData;return t?(RF(n,t.getData("text/plain")||t.getData("text/uri-list")),!0):(Cfe(n),!1)};function $fe(n,e){let t=n.dom.parentNode;if(!t)return;let r=t.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),n.focus()},50)}function Ife(n){let e=[],t=[],r=!1;for(let i of n.selection.ranges)i.empty||(e.push(n.sliceDoc(i.from,i.to)),t.push(i));if(!e.length){let i=-1;for(let{from:s}of n.selection.ranges){let o=n.doc.lineAt(s);o.number>i&&(e.push(o.text),t.push({from:o.from,to:Math.min(n.doc.length,o.to+1)})),i=o.number}r=!0}return{text:Rb(n,PR,e.join(n.lineBreak)),ranges:t,linewise:r}}let eP=null;Es.copy=Es.cut=(n,e)=>{let{text:t,ranges:r,linewise:i}=Ife(n.state);if(!t&&!i)return!1;eP=i?t:null,e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let s=AF?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",t),!0):($fe(n,t),!1)};const $F=Is.define();function IF(n,e){let t=[];for(let r of n.facet(gF)){let i=r(n,e);i&&t.push(i)}return t?n.update({effects:t,annotations:$F.of(!0)}):null}function NF(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let t=IF(n.state,e);t?n.dispatch(t):n.update([])}},10)}Ki.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),NF(n)};Ki.blur=n=>{n.observer.clearSelectionRange(),NF(n)};Ki.compositionstart=Ki.compositionupdate=n=>{n.observer.editContext||(n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0))};Ki.compositionend=n=>{n.observer.editContext||(n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,ye.chrome&&ye.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50))};Ki.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};Es.beforeinput=(n,e)=>{var t,r;if(e.inputType=="insertReplacementText"&&n.observer.editContext){let s=(t=e.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain"),o=e.getTargetRanges();if(s&&o.length){let a=o[0],l=n.posAtDOM(a.startContainer,a.startOffset),c=n.posAtDOM(a.endContainer,a.endOffset);return RR(n,{from:l,to:c,insert:n.state.toText(s)},null),!0}}let i;if(ye.chrome&&ye.android&&(i=CF.find(s=>s.inputType==e.inputType))&&(n.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let s=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>s+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}return ye.ios&&e.inputType=="deleteContentForward"&&n.observer.flushSoon(),ye.safari&&e.inputType=="insertText"&&n.inputState.composing>=0&&setTimeout(()=>Ki.compositionend(n,e),20),!1};const sD=new Set;function Nfe(n){sD.has(n)||(sD.add(n),n.addEventListener("copy",()=>{}),n.addEventListener("cut",()=>{}))}const oD=["pre-wrap","normal","pre-line","break-spaces"];let Ud=!1;function aD(){Ud=!1}class jfe{constructor(e){this.lineWrapping=e,this.doc=ot.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let r=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((t-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return oD.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(t=!0,this.heightSamples[Math.floor(i*10)]=!0)}return t}refresh(e,t,r,i,s,o){let a=oD.indexOf(e)>-1,l=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=t,this.charWidth=r,this.textHeight=i,this.lineLength=s,l){this.heightSamples={};for(let c=0;c<o.length;c++){let u=o[c];u<0?c++:this.heightSamples[Math.floor(u*10)]=!0}}return l}}class Dfe{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class Js{constructor(e,t,r,i,s){this.from=e,this.length=t,this.top=r,this.height=i,this._content=s}get type(){return typeof this._content=="number"?jr.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof ac?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Js(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var Dt=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(Dt||(Dt={}));const W0=.001;class Dr{constructor(e,t,r=2){this.length=e,this.height=t,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>W0&&(Ud=!0),this.height=e)}replace(e,t,r){return Dr.of(r)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,r,i){let s=this,o=r.doc;for(let a=i.length-1;a>=0;a--){let{fromA:l,toA:c,fromB:u,toB:h}=i[a],d=s.lineAt(l,Dt.ByPosNoHeight,r.setDoc(t),0,0),m=d.to>=c?d:s.lineAt(c,Dt.ByPosNoHeight,r,0,0);for(h+=m.to-c,c=m.to;a>0&&d.from<=i[a-1].toA;)l=i[a-1].fromA,u=i[a-1].fromB,a--,l<d.from&&(d=s.lineAt(l,Dt.ByPosNoHeight,r,0,0));u+=d.from-l,l=d.from;let g=QR.build(r.setDoc(o),e,u,h);s=Dw(s,s.replace(l,c,g))}return s.updateHeight(r,0)}static empty(){return new pi(0,0)}static of(e){if(e.length==1)return e[0];let t=0,r=e.length,i=0,s=0;for(;;)if(t==r)if(i>s*2){let a=e[t-1];a.break?e.splice(--t,1,a.left,null,a.right):e.splice(--t,1,a.left,a.right),r+=1+a.break,i-=a.size}else if(s>i*2){let a=e[r];a.break?e.splice(r,1,a.left,null,a.right):e.splice(r,1,a.left,a.right),r+=2+a.break,s-=a.size}else break;else if(i<s){let a=e[t++];a&&(i+=a.size)}else{let a=e[--r];a&&(s+=a.size)}let o=0;return e[t-1]==null?(o=1,t--):e[t]==null&&(o=1,r++),new Mfe(Dr.of(e.slice(0,t)),o,Dr.of(e.slice(r)))}}function Dw(n,e){return n==e?n:(n.constructor!=e.constructor&&(Ud=!0),e)}Dr.prototype.size=1;class jF extends Dr{constructor(e,t,r){super(e,t),this.deco=r}blockAt(e,t,r,i){return new Js(i,this.length,r,this.height,this.deco||0)}lineAt(e,t,r,i,s){return this.blockAt(0,r,i,s)}forEachLine(e,t,r,i,s,o){e<=s+this.length&&t>=s&&o(this.blockAt(0,r,i,s))}updateHeight(e,t=0,r=!1,i){return i&&i.from<=t&&i.more&&this.setHeight(i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class pi extends jF{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,r,i){return new Js(i,this.length,r,this.height,this.breaks)}replace(e,t,r){let i=r[0];return r.length==1&&(i instanceof pi||i instanceof Xn&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof Xn?i=new pi(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):Dr.of(r)}updateHeight(e,t=0,r=!1,i){return i&&i.from<=t&&i.more?this.setHeight(i.heights[i.index++]):(r||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Xn extends Dr{constructor(e){super(e,0)}heightMetrics(e,t){let r=e.doc.lineAt(t).number,i=e.doc.lineAt(t+this.length).number,s=i-r+1,o,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*s);o=l/s,this.length>s+1&&(a=(this.height-l)/(this.length-s-1))}else o=this.height/s;return{firstLine:r,lastLine:i,perLine:o,perChar:a}}blockAt(e,t,r,i){let{firstLine:s,lastLine:o,perLine:a,perChar:l}=this.heightMetrics(t,i);if(t.lineWrapping){let c=i+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),u=t.doc.lineAt(c),h=a+u.length*l,d=Math.max(r,e-h/2);return new Js(u.from,u.length,d,h,0)}else{let c=Math.max(0,Math.min(o-s,Math.floor((e-r)/a))),{from:u,length:h}=t.doc.line(s+c);return new Js(u,h,r+a*c,a,0)}}lineAt(e,t,r,i,s){if(t==Dt.ByHeight)return this.blockAt(e,r,i,s);if(t==Dt.ByPosNoHeight){let{from:m,to:g}=r.doc.lineAt(e);return new Js(m,g-m,0,0,0)}let{firstLine:o,perLine:a,perChar:l}=this.heightMetrics(r,s),c=r.doc.lineAt(e),u=a+c.length*l,h=c.number-o,d=i+a*h+l*(c.from-s-h);return new Js(c.from,c.length,Math.max(i,Math.min(d,i+this.height-u)),u,0)}forEachLine(e,t,r,i,s,o){e=Math.max(e,s),t=Math.min(t,s+this.length);let{firstLine:a,perLine:l,perChar:c}=this.heightMetrics(r,s);for(let u=e,h=i;u<=t;){let d=r.doc.lineAt(u);if(u==e){let g=d.number-a;h+=l*g+c*(e-s-g)}let m=l+c*d.length;o(new Js(d.from,d.length,h,m,0)),h+=m,u=d.to+1}}replace(e,t,r){let i=this.length-t;if(i>0){let s=r[r.length-1];s instanceof Xn?r[r.length-1]=new Xn(s.length+i):r.push(null,new Xn(i-1))}if(e>0){let s=r[0];s instanceof Xn?r[0]=new Xn(e+s.length):r.unshift(new Xn(e-1),null)}return Dr.of(r)}decomposeLeft(e,t){t.push(new Xn(e-1),null)}decomposeRight(e,t){t.push(null,new Xn(this.length-e-1))}updateHeight(e,t=0,r=!1,i){let s=t+this.length;if(i&&i.from<=t+this.length&&i.more){let o=[],a=Math.max(t,i.from),l=-1;for(i.from>t&&o.push(new Xn(i.from-t-1).updateHeight(e,t));a<=s&&i.more;){let u=e.doc.lineAt(a).length;o.length&&o.push(null);let h=i.heights[i.index++];l==-1?l=h:Math.abs(h-l)>=W0&&(l=-2);let d=new pi(u,h);d.outdated=!1,o.push(d),a+=u+1}a<=s&&o.push(null,new Xn(s-a).updateHeight(e,a));let c=Dr.of(o);return(l<0||Math.abs(c.height-this.height)>=W0||Math.abs(l-this.heightMetrics(e,t).perLine)>=W0)&&(Ud=!0),Dw(this,c)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class Mfe extends Dr{constructor(e,t,r){super(e.length+t+r.length,e.height+r.height,t|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,t,r,i){let s=r+this.left.height;return e<s?this.left.blockAt(e,t,r,i):this.right.blockAt(e,t,s,i+this.left.length+this.break)}lineAt(e,t,r,i,s){let o=i+this.left.height,a=s+this.left.length+this.break,l=t==Dt.ByHeight?e<o:e<a,c=l?this.left.lineAt(e,t,r,i,s):this.right.lineAt(e,t,r,o,a);if(this.break||(l?c.to<a:c.from>a))return c;let u=t==Dt.ByPosNoHeight?Dt.ByPosNoHeight:Dt.ByPos;return l?c.join(this.right.lineAt(a,u,r,o,a)):this.left.lineAt(a,u,r,i,s).join(c)}forEachLine(e,t,r,i,s,o){let a=i+this.left.height,l=s+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,t,r,i,s,o),t>=l&&this.right.forEachLine(e,t,r,a,l,o);else{let c=this.lineAt(l,Dt.ByPos,r,i,s);e<c.from&&this.left.forEachLine(e,c.from-1,r,i,s,o),c.to>=e&&c.from<=t&&o(c),t>c.to&&this.right.forEachLine(c.to+1,t,r,a,l,o)}}replace(e,t,r){let i=this.left.length+this.break;if(t<i)return this.balanced(this.left.replace(e,t,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,t-i,r));let s=[];e>0&&this.decomposeLeft(e,s);let o=s.length;for(let a of r)s.push(a);if(e>0&&lD(s,o-1),t<this.length){let a=s.length;this.decomposeRight(t,s),lD(s,a)}return Dr.of(s)}decomposeLeft(e,t){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(r++,e>=r&&t.push(null)),e>r&&this.right.decomposeLeft(e-r,t)}decomposeRight(e,t){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,t);e<r&&this.left.decomposeRight(e,t),this.break&&e<i&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?Dr.of(this.break?[e,null,t]:[e,t]):(this.left=Dw(this.left,e),this.right=Dw(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,r=!1,i){let{left:s,right:o}=this,a=t+s.length+this.break,l=null;return i&&i.from<=t+s.length&&i.more?l=s=s.updateHeight(e,t,r,i):s.updateHeight(e,t,r),i&&i.from<=a+o.length&&i.more?l=o=o.updateHeight(e,a,r,i):o.updateHeight(e,a,r),l?this.balanced(s,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function lD(n,e){let t,r;n[e]==null&&(t=n[e-1])instanceof Xn&&(r=n[e+1])instanceof Xn&&n.splice(e-1,3,new Xn(t.length+1+r.length))}const Vfe=5;class QR{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let r=Math.min(t,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof pi?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new pi(r-this.pos,-1)),this.writtenTo=r,t>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,r){if(e<t||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,s=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let o=t-e;r.block?this.addBlock(new jF(o,i,r)):(o||s||i>=Vfe)&&this.addLineDeco(i,s,o)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new pi(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let r=new Xn(t-e);return this.oracle.doc.lineAt(e).to==t&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof pi)return e;let t=new pi(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=t,this.writtenTo=this.pos=this.pos+r}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof pi)&&!this.isCovered?this.nodes.push(new pi(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof pi&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,t,r,i){let s=new QR(r,e);return ht.spans(t,r,i,s,0),s.finish(r)}}function Lfe(n,e,t){let r=new zfe;return ht.compare(n,e,t,r,0),r.changes}class zfe{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,r,i){(e<t||r&&r.heightRelevant||i&&i.heightRelevant)&&B0(e,t,this.changes,5)}}function Ufe(n,e){let t=n.getBoundingClientRect(),r=n.ownerDocument,i=r.defaultView||window,s=Math.max(0,t.left),o=Math.min(i.innerWidth,t.right),a=Math.max(0,t.top),l=Math.min(i.innerHeight,t.bottom);for(let c=n.parentNode;c&&c!=r.body;)if(c.nodeType==1){let u=c,h=window.getComputedStyle(u);if((u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth)&&h.overflow!="visible"){let d=u.getBoundingClientRect();s=Math.max(s,d.left),o=Math.min(o,d.right),a=Math.max(a,d.top),l=Math.min(c==n.parentNode?i.innerHeight:l,d.bottom)}c=h.position=="absolute"||h.position=="fixed"?u.offsetParent:u.parentNode}else if(c.nodeType==11)c=c.host;else break;return{left:s-t.left,right:Math.max(s,o)-t.left,top:a-(t.top+e),bottom:Math.max(a,l)-(t.top+e)}}function Zfe(n){let e=n.getBoundingClientRect(),t=n.ownerDocument.defaultView||window;return e.left<t.innerWidth&&e.right>0&&e.top<t.innerHeight&&e.bottom>0}function qfe(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class k1{constructor(e,t,r,i){this.from=e,this.to=t,this.size=r,this.displaySize=i}static same(e,t){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=t[r];if(i.from!=s.from||i.to!=s.to||i.size!=s.size)return!1}return!0}draw(e,t){return me.replace({widget:new Bfe(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class Bfe extends Lo{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class cD{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=uD,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Ke.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(CR).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new jfe(t),this.stateDeco=e.facet(wg).filter(r=>typeof r!="function"),this.heightMap=Dr.empty().applyChanges(this.stateDeco,ot.empty,this.heightOracle.setDoc(e.doc),[new Xi(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=me.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let r=0;r<=1;r++){let i=r?t.head:t.anchor;if(!e.some(({from:s,to:o})=>i>=s&&i<=o)){let{from:s,to:o}=this.lineBlockAt(i);e.push(new Ly(s,o))}}return this.viewports=e.sort((r,i)=>r.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?uD:new $R(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(Dp(e,this.scaler))})}update(e,t=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(wg).filter(u=>typeof u!="function");let i=e.changedRanges,s=Xi.extendWithRanges(i,Lfe(r,this.stateDeco,e?e.changes:Pn.empty(this.state.doc.length))),o=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);aD(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=o||Ud)&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<l.from||t.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,t));let c=l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,e.flags|=this.updateForViewport(),(c||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(yF)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,r=window.getComputedStyle(t),i=this.heightOracle,s=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?Ke.RTL:Ke.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),a=t.getBoundingClientRect(),l=o||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let c=0,u=0;if(a.width&&a.height){let{scaleX:$,scaleY:P}=BB(t,a);($>.005&&Math.abs(this.scaleX-$)>.005||P>.005&&Math.abs(this.scaleY-P)>.005)&&(this.scaleX=$,this.scaleY=P,c|=16,o=l=!0)}let h=(parseInt(r.paddingTop)||0)*this.scaleY,d=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=h||this.paddingBottom!=d)&&(this.paddingTop=h,this.paddingBottom=d,c|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,c|=16);let m=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=m&&(this.scrollAnchorHeight=-1,this.scrollTop=m),this.scrolledToBottom=XB(e.scrollDOM);let g=(this.printing?qfe:Ufe)(t,this.paddingTop),y=g.top-this.pixelViewport.top,v=g.bottom-this.pixelViewport.bottom;this.pixelViewport=g;let b=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(b!=this.inView&&(this.inView=b,b&&(l=!0)),!this.inView&&!this.scrollTarget&&!Zfe(e.dom))return 0;let x=a.width;if((this.contentDOMWidth!=x||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,c|=16),l){let $=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights($)&&(o=!0),o||i.lineWrapping&&Math.abs(x-this.contentDOMWidth)>i.charWidth){let{lineHeight:P,charWidth:Q,textHeight:O}=e.docView.measureTextSize();o=P>0&&i.refresh(s,P,Q,O,x/Q,$),o&&(e.docView.minWidth=0,c|=16)}y>0&&v>0?u=Math.max(y,v):y<0&&v<0&&(u=Math.min(y,v)),aD();for(let P of this.viewports){let Q=P.from==this.viewport.from?$:e.docView.measureVisibleLineHeights(P);this.heightMap=(o?Dr.empty().applyChanges(this.stateDeco,ot.empty,this.heightOracle,[new Xi(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,o,new Dfe(P.from,Q))}Ud&&(c|=2)}let S=!this.viewportIsAppropriate(this.viewport,u)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return S&&(c&2&&(c|=this.updateScaler()),this.viewport=this.getViewport(u,this.scrollTarget),c|=this.updateForViewport()),(c&2||S)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,s=this.heightOracle,{visibleTop:o,visibleBottom:a}=this,l=new Ly(i.lineAt(o-r*1e3,Dt.ByHeight,s,0,0).from,i.lineAt(a+(1-r)*1e3,Dt.ByHeight,s,0,0).to);if(t){let{head:c}=t.range;if(c<l.from||c>l.to){let u=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),h=i.lineAt(c,Dt.ByPos,s,0,0),d;t.y=="center"?d=(h.top+h.bottom)/2-u/2:t.y=="start"||t.y=="nearest"&&c<l.from?d=h.top:d=h.bottom-u,l=new Ly(i.lineAt(d-1e3/2,Dt.ByHeight,s,0,0).from,i.lineAt(d+u+1e3/2,Dt.ByHeight,s,0,0).to)}}return l}mapViewport(e,t){let r=t.mapPos(e.from,-1),i=t.mapPos(e.to,1);return new Ly(this.heightMap.lineAt(r,Dt.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,Dt.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,Dt.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(t,Dt.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:a}=this;return(e==0||i<=o-Math.max(10,Math.min(-r,250)))&&(t==this.state.doc.length||s>=a+Math.max(10,Math.min(r,250)))&&i>o-2*1e3&&s<a+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let r=[];for(let i of e)t.touchesRange(i.from,i.to)||r.push(new k1(t.mapPos(i.from),t.mapPos(i.to),i.size,i.displaySize));return r}ensureLineGaps(e,t){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,s=i>>1,o=i<<1;if(this.defaultTextDirection!=Ke.LTR&&!r)return[];let a=[],l=(u,h,d,m)=>{if(h-u<s)return;let g=this.state.selection.main,y=[g.from];g.empty||y.push(g.to);for(let b of y)if(b>u&&b<h){l(u,b-10,d,m),l(b+10,h,d,m);return}let v=Wfe(e,b=>b.from>=d.from&&b.to<=d.to&&Math.abs(b.from-u)<s&&Math.abs(b.to-h)<s&&!y.some(x=>b.from<x&&b.to>x));if(!v){if(h<d.to&&t&&r&&t.visibleRanges.some(S=>S.from<=h&&S.to>=h)){let S=t.moveToLineBoundary(K.cursor(h),!1,!0).head;S>u&&(h=S)}let b=this.gapSize(d,u,h,m),x=r||b<2e6?b:2e6;v=new k1(u,h,b,x)}a.push(v)},c=u=>{if(u.length<o||u.type!=jr.Text)return;let h=Ffe(u.from,u.to,this.stateDeco);if(h.total<o)return;let d=this.scrollTarget?this.scrollTarget.range.head:null,m,g;if(r){let y=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,v,b;if(d!=null){let x=Uy(h,d),S=((this.visibleBottom-this.visibleTop)/2+y)/u.height;v=x-S,b=x+S}else v=(this.visibleTop-u.top-y)/u.height,b=(this.visibleBottom-u.top+y)/u.height;m=zy(h,v),g=zy(h,b)}else{let y=h.total*this.heightOracle.charWidth,v=i*this.heightOracle.charWidth,b=0;if(y>2e6)for(let Q of e)Q.from>=u.from&&Q.from<u.to&&Q.size!=Q.displaySize&&Q.from*this.heightOracle.charWidth+b<this.pixelViewport.left&&(b=Q.size-Q.displaySize);let x=this.pixelViewport.left+b,S=this.pixelViewport.right+b,$,P;if(d!=null){let Q=Uy(h,d),O=((S-x)/2+v)/y;$=Q-O,P=Q+O}else $=(x-v)/y,P=(S+v)/y;m=zy(h,$),g=zy(h,P)}m>u.from&&l(u.from,m,u,h),g<u.to&&l(g,u.to,u,h)};for(let u of this.viewportLines)Array.isArray(u.type)?u.type.forEach(c):c(u);return a}gapSize(e,t,r,i){let s=Uy(i,r)-Uy(i,t);return this.heightOracle.lineWrapping?e.height*s:i.total*this.heightOracle.charWidth*s}updateLineGaps(e){k1.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=me.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let r=[];ht.spans(t,this.viewport.from,this.viewport.to,{span(s,o){r.push({from:s,to:o})},point(){}},20);let i=0;if(r.length!=this.visibleRanges.length)i=12;else for(let s=0;s<r.length&&!(i&8);s++){let o=this.visibleRanges[s],a=r[s];(o.from!=a.from||o.to!=a.to)&&(i|=4,e&&e.mapPos(o.from,-1)==a.from&&e.mapPos(o.to,1)==a.to||(i|=8))}return this.visibleRanges=r,i}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||Dp(this.heightMap.lineAt(e,Dt.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||Dp(this.heightMap.lineAt(this.scaler.fromDOM(e),Dt.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return Dp(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}let Ly=class{constructor(e,t){this.from=e,this.to=t}};function Ffe(n,e,t){let r=[],i=n,s=0;return ht.spans(t,n,e,{span(){},point(o,a){o>i&&(r.push({from:i,to:o}),s+=o-i),i=a}},20),i<e&&(r.push({from:i,to:e}),s+=e-i),{total:s,ranges:r}}function zy({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let r=Math.floor(n*t);for(let i=0;;i++){let{from:s,to:o}=e[i],a=o-s;if(r<=a)return s+r;r-=a}}function Uy(n,e){let t=0;for(let{from:r,to:i}of n.ranges){if(e<=i){t+=e-r;break}t+=i-r}return t/n.total}function Wfe(n,e){for(let t of n)if(e(t))return t}const uD={toDOM(n){return n},fromDOM(n){return n},scale:1,eq(n){return n==this}};class $R{constructor(e,t,r){let i=0,s=0,o=0;this.viewports=r.map(({from:a,to:l})=>{let c=t.lineAt(a,Dt.ByPos,e,0,0).top,u=t.lineAt(l,Dt.ByPos,e,0,0).bottom;return i+=u-c,{from:a,to:l,top:c,bottom:u,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(t.height-i);for(let a of this.viewports)a.domTop=o+(a.top-s)*this.scale,o=a.domBottom=a.domTop+(a.bottom-a.top),s=a.bottom}toDOM(e){for(let t=0,r=0,i=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.top)return i+(e-r)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);r=s.bottom,i=s.domBottom}}fromDOM(e){for(let t=0,r=0,i=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.domTop)return r+(e-i)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);r=s.bottom,i=s.domBottom}}eq(e){return e instanceof $R?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,r)=>t.from==e.viewports[r].from&&t.to==e.viewports[r].to):!1}}function Dp(n,e){if(e.scale==1)return n;let t=e.toDOM(n.top),r=e.toDOM(n.bottom);return new Js(n.from,n.length,t,r-t,Array.isArray(n._content)?n._content.map(i=>Dp(i,e)):n._content)}const Zy=ce.define({combine:n=>n.join(" ")}),tP=ce.define({combine:n=>n.indexOf(!0)>-1}),nP=bn.newName(),DF=bn.newName(),MF=bn.newName(),VF={"&light":"."+DF,"&dark":"."+MF};function rP(n,e,t){return new bn(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return n;if(!t||!t[i])throw new RangeError(`Unsupported selector: ${i}`);return t[i]}):n+" "+r}})}const Xfe=rP("."+nP,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},VF),Gfe={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},_1=ye.ie&&ye.ie_version<=11;class Yfe{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new $de,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let r of t)this.queue.push(r);(ye.ie&&ye.ie_version<=11||ye.ios&&e.composing)&&t.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&e.constructor.EDIT_CONTEXT!==!1&&!(ye.chrome&&ye.chrome_version<126)&&(this.editContext=new Kfe(e),e.state.facet(la)&&(e.contentDOM.editContext=this.editContext.editContext)),_1&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,r)=>t!=e[r]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(la)?r.root.activeElement!=this.dom:!q0(this.dom,i))return;let s=i.anchorNode&&r.docView.nearest(i.anchorNode);if(s&&s.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(ye.ie&&ye.ie_version<=11||ye.android&&ye.chrome)&&!r.state.selection.main.empty&&i.focusNode&&ym(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=yg(e.root);if(!t)return!1;let r=ye.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&Hfe(this.view,t)||t;if(!r||this.selectionRange.eq(r))return!1;let i=q0(this.dom,r);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&Nde(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let r=this.dom;r;)if(r.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=t)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,Gfe),_1&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),_1&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var r;if(!this.delayedAndroidKey){let i=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&td(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,r=-1,i=!1;for(let s of e){let o=this.readMutation(s);o&&(o.typeOver&&(i=!0),t==-1?{from:t,to:r}=o:(t=Math.min(o.from,t),r=Math.max(o.to,r)))}return{from:t,to:r,typeOver:i}}readChange(){let{from:e,to:t,typeOver:r}=this.processRecords(),i=this.selectionChanged&&q0(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new pfe(this.view,e,t,r);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let r=this.view.state,i=PF(this.view,t);return this.view.state==r&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.flags|=4),e.type=="childList"){let r=hD(t,e.previousSibling||e.target.previousSibling,-1),i=hD(t,e.nextSibling||e.target.nextSibling,1);return{from:r?t.posAfter(r):t.posAtStart,to:i?t.posBefore(i):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(la)!=e.state.facet(la)&&(e.view.contentDOM.editContext=e.state.facet(la)?this.editContext.editContext:null))}destroy(){var e,t,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function hD(n,e,t){for(;e;){let r=kt.get(e);if(r&&r.parent==n)return r;let i=e.parentNode;e=i!=n.dom?i:t>0?e.nextSibling:e.previousSibling}return null}function dD(n,e){let t=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=n.docView.domAtPos(n.state.selection.main.anchor);return ym(o.node,o.offset,i,s)&&([t,r,i,s]=[i,s,t,r]),{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:s}}function Hfe(n,e){if(e.getComposedRanges){let i=e.getComposedRanges(n.root)[0];if(i)return dD(n,i)}let t=null;function r(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return n.contentDOM.addEventListener("beforeinput",r,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",r,!0),t?dD(n,t):null}class Kfe{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let i=e.state.selection.main,{anchor:s,head:o}=i,a=this.toEditorPos(r.updateRangeStart),l=this.toEditorPos(r.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:r.updateRangeStart,editorBase:a,drifted:!1});let c={from:a,to:l,insert:ot.of(r.text.split(`
`))};if(c.from==this.from&&s<this.from?c.from=s:c.to==this.to&&s>this.to&&(c.to=s),c.from==c.to&&!c.insert.length){let u=K.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd));u.main.eq(i)||e.dispatch({selection:u,userEvent:"select"});return}if((ye.mac||ye.android)&&c.from==o-1&&/^\. ?$/.test(r.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(c={from:a,to:l,insert:ot.of([r.text.replace("."," ")])}),this.pendingContextChange=c,!e.state.readOnly){let u=this.to-this.from+(c.to-c.from+c.insert.length);RR(e,c,K.single(this.toEditorPos(r.selectionStart,u),this.toEditorPos(r.selectionEnd,u)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state))},this.handlers.characterboundsupdate=r=>{let i=[],s=null;for(let o=this.toEditorPos(r.rangeStart),a=this.toEditorPos(r.rangeEnd);o<a;o++){let l=e.coordsForChar(o);s=l&&new DOMRect(l.left,l.top,l.right-l.left,l.bottom-l.top)||s||new DOMRect,i.push(s)}t.updateCharacterBounds(r.rangeStart,i)},this.handlers.textformatupdate=r=>{let i=[];for(let s of r.getTextFormats()){let o=s.underlineStyle,a=s.underlineThickness;if(o!="None"&&a!="None"){let l=this.toEditorPos(s.rangeStart),c=this.toEditorPos(s.rangeEnd);if(l<c){let u=`text-decoration: underline ${o=="Dashed"?"dashed ":o=="Squiggle"?"wavy ":""}${a=="Thin"?1:2}px`;i.push(me.mark({attributes:{style:u}}).range(l,c))}}}e.dispatch({effects:wF.of(me.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:r}=this.composing;this.composing=null,r&&this.reset(e.state)}};for(let r in this.handlers)t.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let i=yg(r.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,r=!1,i=this.pendingContextChange;return e.changes.iterChanges((s,o,a,l,c)=>{if(r)return;let u=c.length-(o-s);if(i&&o>=i.to)if(i.from==s&&i.to==o&&i.insert.eq(c)){i=this.pendingContextChange=null,t+=u,this.to+=u;return}else i=null,this.revertPending(e.state);if(s+=t,o+=t,o<=this.from)this.from+=u,this.to+=u;else if(s<this.to){if(s<this.from||o>this.to||this.to-this.from+c.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(s),this.toContextPos(o),c.toString()),this.to+=u}t+=u}),i&&!r&&this.revertPending(e.state),!r}update(e){let t=this.pendingContextChange,r=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(r.from,r.to)&&e.transactions.some(i=>!i.isUserEvent("input.type")&&i.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),i=this.toContextPos(t.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(r,i)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>1e4*3)}toEditorPos(e,t=this.to-this.from){e=Math.min(e,t);let r=this.composing;return r&&r.drifted?r.editorBase+(e-r.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class ue{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(i=>i.forEach(s=>r(s,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||Ide(e.parent)||document,this.viewState=new cD(e.state||$e.create(e)),e.scrollTo&&e.scrollTo.is(Dy)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Ip).map(i=>new x1(i));for(let i of this.plugins)i.update(this);this.observer=new Yfe(this),this.inputState=new vfe(this),this.inputState.ensureHandlers(this.plugins),this.docView=new qj(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((t=document.fonts)===null||t===void 0)&&t.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let t=e.length==1&&e[0]instanceof dn?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,r=!1,i,s=this.state;for(let d of e){if(d.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=d.state}if(this.destroyed){this.viewState.state=s;return}let o=this.hasFocus,a=0,l=null;e.some(d=>d.annotation($F))?(this.inputState.notifiedFocused=o,a=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,l=IF(s,o),l||(a=1));let c=this.observer.delayedAndroidKey,u=null;if(c?(this.observer.clearDelayedAndroidKey(),u=this.observer.readChange(),(u&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(u=null)):this.observer.clear(),s.facet($e.phrases)!=this.state.facet($e.phrases))return this.setState(s);i=jw.create(this,s,e),i.flags|=a;let h=this.viewState.scrollTarget;try{this.updateState=2;for(let d of e){if(h&&(h=h.map(d.changes)),d.scrollIntoView){let{main:m}=d.state.selection;h=new nd(m.empty?m:K.cursor(m.head,m.head>m.anchor?-1:1))}for(let m of d.effects)m.is(Dy)&&(h=m.value.clip(this.state))}this.viewState.update(i,h),this.bidiCache=Mw.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),t=this.docView.update(i),this.state.facet(Np)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(d=>d.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(Zy)!=i.state.facet(Zy)&&(this.viewState.mustMeasureContent=!0),(t||r||h||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!i.empty)for(let d of this.state.facet(HT))try{d(i)}catch(m){xn(this.state,m,"update listener")}(l||u)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),u&&!PF(this,u)&&c.force&&td(this.contentDOM,c.key,c.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new cD(e),this.plugins=e.facet(Ip).map(r=>new x1(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new qj(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(Ip),r=e.state.facet(Ip);if(t!=r){let i=[];for(let s of r){let o=t.indexOf(s);if(o<0)i.push(new x1(s));else{let a=this.plugins[o];a.mustUpdate=e,i.push(a)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);t!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(r){xn(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:o}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let a=0;;a++){if(o<0)if(XB(r))s=-1,o=this.viewState.heightMap.height;else{let m=this.viewState.scrollAnchorAt(i);s=m.from,o=m.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let c=[];l&4||([this.measureRequests,c]=[c,this.measureRequests]);let u=c.map(m=>{try{return m.read(this)}catch(g){return xn(this.state,g),fD}}),h=jw.create(this,this.state,[]),d=!1;h.flags|=l,t?t.flags|=l:t=h,this.updateState=2,h.empty||(this.updatePlugins(h),this.inputState.update(h),this.updateAttrs(),d=this.docView.update(h),d&&this.docViewUpdate());for(let m=0;m<c.length;m++)if(u[m]!=fD)try{let g=c[m];g.write&&g.write(u[m],this)}catch(g){xn(this.state,g)}if(d&&this.docView.updateSelection(!0),!h.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,o=-1;continue}else{let g=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-o;if(g>1||g<-1){i=i+g,r.scrollTop=i/this.scaleY,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let a of this.state.facet(HT))a(t)}get themeClasses(){return nP+" "+(this.state.facet(tP)?MF:DF)+" "+this.state.facet(Zy)}updateAttrs(){let e=pD(this,xF,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(la)?"true":"false",class:"cm-content",style:`${ye.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),pD(this,CR,t);let r=this.observer.ignore(()=>{let i=FT(this.contentDOM,this.contentAttrs,t),s=FT(this.dom,this.editorAttrs,e);return i||s});return this.editorAttrs=e,this.contentAttrs=t,r}showAnnouncements(e){let t=!0;for(let r of e)for(let i of r.effects)if(i.is(ue.announce)){t&&(this.announceDOM.textContent=""),t=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(Np);let e=this.state.facet(ue.cspNonce);bn.mount(this.root,this.styleModules.concat(Xfe).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(r=>r.spec==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,r){return S1(this,e,Gj(this,e,t,r))}moveByGroup(e,t){return S1(this,e,Gj(this,e,t,r=>ufe(this,e.head,r)))}visualLineSide(e,t){let r=this.bidiSpans(e),i=this.textDirectionAt(e.from),s=r[t?r.length-1:0];return K.cursor(s.side(t,i)+e.from,s.forward(!t,i)?1:-1)}moveToLineBoundary(e,t,r=!0){return cfe(this,e,t,r)}moveVertically(e,t,r){return S1(this,e,hfe(this,e,t,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),TF(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let r=this.docView.coordsAt(e,t);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),s=this.bidiSpans(i),o=s[Pl.find(s,e-i.from,-1,t)];return Eb(r,o.dir==Ke.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(OF)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>Jfe)return cF(e.length);let t=this.textDirectionAt(e.from),r;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==t&&(s.fresh||lF(s.isolates,r=Zj(this,e))))return s.order;r||(r=Zj(this,e));let i=Wde(e.text,t,r);return this.bidiCache.push(new Mw(e.from,e.to,t,r,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||ye.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{FB(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return Dy.of(new nd(typeof e=="number"?K.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return Dy.of(new nd(K.cursor(r.from),"start","start",r.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return Qt.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Qt.define(()=>({}),{eventObservers:e})}static theme(e,t){let r=bn.newName(),i=[Zy.of(r),Np.of(rP(`.${r}`,e))];return t&&t.dark&&i.push(tP.of(!0)),i}static baseTheme(e){return za.lowest(Np.of(rP("."+nP,e,VF)))}static findFromDOM(e){var t;let r=e.querySelector(".cm-content"),i=r&&kt.get(r)||kt.get(e);return((t=i==null?void 0:i.rootView)===null||t===void 0?void 0:t.view)||null}}ue.styleModule=Np;ue.inputHandler=mF;ue.clipboardInputFilter=TR;ue.clipboardOutputFilter=PR;ue.scrollHandler=vF;ue.focusChangeEffect=gF;ue.perLineTextDirection=OF;ue.exceptionSink=pF;ue.updateListener=HT;ue.editable=la;ue.mouseSelectionStyle=fF;ue.dragMovesSelection=dF;ue.clickAddsSelectionRange=hF;ue.decorations=wg;ue.outerDecorations=bF;ue.atomicRanges=ER;ue.bidiIsolatedRanges=SF;ue.scrollMargins=kF;ue.darkTheme=tP;ue.cspNonce=ce.define({combine:n=>n.length?n[0]:""});ue.contentAttributes=CR;ue.editorAttributes=xF;ue.lineWrapping=ue.contentAttributes.of({class:"cm-lineWrapping"});ue.announce=Re.define();const Jfe=4096,fD={};class Mw{constructor(e,t,r,i,s,o){this.from=e,this.to=t,this.dir=r,this.isolates=i,this.fresh=s,this.order=o}static update(e,t){if(t.empty&&!e.some(s=>s.fresh))return e;let r=[],i=e.length?e[e.length-1].dir:Ke.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let o=e[s];o.dir==i&&!t.touchesRange(o.from,o.to)&&r.push(new Mw(t.mapPos(o.from,1),t.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return r}}function pD(n,e,t){for(let r=n.state.facet(e),i=r.length-1;i>=0;i--){let s=r[i],o=typeof s=="function"?s(n):s;o&&BT(o,t)}return t}const epe=ye.mac?"mac":ye.windows?"win":ye.linux?"linux":"key";function tpe(n,e){const t=n.split(/-(?!$)/);let r=t[t.length-1];r=="Space"&&(r=" ");let i,s,o,a;for(let l=0;l<t.length-1;++l){const c=t[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))i=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))o=!0;else if(/^mod$/i.test(c))e=="mac"?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+c)}return i&&(r="Alt-"+r),s&&(r="Ctrl-"+r),a&&(r="Meta-"+r),o&&(r="Shift-"+r),r}function qy(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t!==!1&&e.shiftKey&&(n="Shift-"+n),n}const npe=za.default(ue.domEventHandlers({keydown(n,e){return zF(LF(e.state),n,e,"editor")}})),PO=ce.define({enables:npe}),mD=new WeakMap;function LF(n){let e=n.facet(PO),t=mD.get(e);return t||mD.set(e,t=spe(e.reduce((r,i)=>r.concat(i),[]))),t}function rpe(n,e,t){return zF(LF(n.state),e,n,t)}let dl=null;const ipe=4e3;function spe(n,e=epe){let t=Object.create(null),r=Object.create(null),i=(o,a)=>{let l=r[o];if(l==null)r[o]=a;else if(l!=a)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},s=(o,a,l,c,u)=>{var h,d;let m=t[o]||(t[o]=Object.create(null)),g=a.split(/ (?!$)/).map(b=>tpe(b,e));for(let b=1;b<g.length;b++){let x=g.slice(0,b).join(" ");i(x,!0),m[x]||(m[x]={preventDefault:!0,stopPropagation:!1,run:[S=>{let $=dl={view:S,prefix:x,scope:o};return setTimeout(()=>{dl==$&&(dl=null)},ipe),!0}]})}let y=g.join(" ");i(y,!1);let v=m[y]||(m[y]={preventDefault:!1,stopPropagation:!1,run:((d=(h=m._any)===null||h===void 0?void 0:h.run)===null||d===void 0?void 0:d.slice())||[]});l&&v.run.push(l),c&&(v.preventDefault=!0),u&&(v.stopPropagation=!0)};for(let o of n){let a=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let c of a){let u=t[c]||(t[c]=Object.create(null));u._any||(u._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:h}=o;for(let d in u)u[d].run.push(m=>h(m,iP))}let l=o[e]||o.key;if(l)for(let c of a)s(c,l,o.run,o.preventDefault,o.stopPropagation),o.shift&&s(c,"Shift-"+l,o.shift,o.preventDefault,o.stopPropagation)}return t}let iP=null;function zF(n,e,t,r){iP=e;let i=Ede(e),s=Yr(i,0),o=Ks(s)==i.length&&i!=" ",a="",l=!1,c=!1,u=!1;dl&&dl.view==t&&dl.scope==r&&(a=dl.prefix+" ",EF.indexOf(e.keyCode)<0&&(c=!0,dl=null));let h=new Set,d=v=>{if(v){for(let b of v.run)if(!h.has(b)&&(h.add(b),b(t)))return v.stopPropagation&&(u=!0),!0;v.preventDefault&&(v.stopPropagation&&(u=!0),c=!0)}return!1},m=n[r],g,y;return m&&(d(m[a+qy(i,e,!o)])?l=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(ye.windows&&e.ctrlKey&&e.altKey)&&(g=oc[e.keyCode])&&g!=i?(d(m[a+qy(g,e,!0)])||e.shiftKey&&(y=Og[e.keyCode])!=i&&y!=g&&d(m[a+qy(y,e,!1)]))&&(l=!0):o&&e.shiftKey&&d(m[a+qy(i,e,!0)])&&(l=!0),!l&&d(m._any)&&(l=!0)),c&&(l=!0),l&&u&&e.stopPropagation(),iP=null,l}class CO{constructor(e,t,r,i,s){this.className=e,this.left=t,this.top=r,this.width=i,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,r){if(r.empty){let i=e.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let s=UF(e);return[new CO(t,i.left-s.left,i.top-s.top,null,i.bottom-i.top)]}else return ope(e,t,r)}}function UF(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==Ke.LTR?e.left:e.right-n.scrollDOM.clientWidth*n.scaleX)-n.scrollDOM.scrollLeft*n.scaleX,top:e.top-n.scrollDOM.scrollTop*n.scaleY}}function gD(n,e,t,r){let i=n.coordsAtPos(e,t*2);if(!i)return r;let s=n.dom.getBoundingClientRect(),o=(i.top+i.bottom)/2,a=n.posAtCoords({x:s.left+1,y:o}),l=n.posAtCoords({x:s.right-1,y:o});return a==null||l==null?r:{from:Math.max(r.from,Math.min(a,l)),to:Math.min(r.to,Math.max(a,l))}}function ope(n,e,t){if(t.to<=n.viewport.from||t.from>=n.viewport.to)return[];let r=Math.max(t.from,n.viewport.from),i=Math.min(t.to,n.viewport.to),s=n.textDirection==Ke.LTR,o=n.contentDOM,a=o.getBoundingClientRect(),l=UF(n),c=o.querySelector(".cm-line"),u=c&&window.getComputedStyle(c),h=a.left+(u?parseInt(u.paddingLeft)+Math.min(0,parseInt(u.textIndent)):0),d=a.right-(u?parseInt(u.paddingRight):0),m=JT(n,r),g=JT(n,i),y=m.type==jr.Text?m:null,v=g.type==jr.Text?g:null;if(y&&(n.lineWrapping||m.widgetLineBreaks)&&(y=gD(n,r,1,y)),v&&(n.lineWrapping||g.widgetLineBreaks)&&(v=gD(n,i,-1,v)),y&&v&&y.from==v.from&&y.to==v.to)return x(S(t.from,t.to,y));{let P=y?S(t.from,null,y):$(m,!1),Q=v?S(null,t.to,v):$(g,!0),O=[];return(y||m).to<(v||g).from-(y&&v?1:0)||m.widgetLineBreaks>1&&P.bottom+n.defaultLineHeight/2<Q.top?O.push(b(h,P.bottom,d,Q.top)):P.bottom<Q.top&&n.elementAtHeight((P.bottom+Q.top)/2).type==jr.Text&&(P.bottom=Q.top=(P.bottom+Q.top)/2),x(P).concat(O).concat(x(Q))}function b(P,Q,O,_){return new CO(e,P-l.left,Q-l.top,O-P,_-Q)}function x({top:P,bottom:Q,horizontal:O}){let _=[];for(let k=0;k<O.length;k+=2)_.push(b(O[k],P,O[k+1],Q));return _}function S(P,Q,O){let _=1e9,k=-1e9,A=[];function C(j,V,M,q,U){let Z=n.coordsAtPos(j,j==O.to?-2:2),ne=n.coordsAtPos(M,M==O.from?2:-2);!Z||!ne||(_=Math.min(Z.top,ne.top,_),k=Math.max(Z.bottom,ne.bottom,k),U==Ke.LTR?A.push(s&&V?h:Z.left,s&&q?d:ne.right):A.push(!s&&q?h:ne.left,!s&&V?d:Z.right))}let w=P??O.from,R=Q??O.to;for(let j of n.visibleRanges)if(j.to>w&&j.from<R)for(let V=Math.max(j.from,w),M=Math.min(j.to,R);;){let q=n.state.doc.lineAt(V);for(let U of n.bidiSpans(q)){let Z=U.from+q.from,ne=U.to+q.from;if(Z>=M)break;ne>V&&C(Math.max(Z,V),P==null&&Z<=w,Math.min(ne,M),Q==null&&ne>=R,U.dir)}if(V=q.to+1,V>=M)break}return A.length==0&&C(w,P==null,R,Q==null,n.textDirection),{top:_,bottom:k,horizontal:A}}function $(P,Q){let O=a.top+(Q?P.top:P.bottom);return{top:O,bottom:O,horizontal:[]}}}function ape(n,e){return n.constructor==e.constructor&&n.eq(e)}class lpe{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(X0)!=e.state.facet(X0)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let t=0,r=e.facet(X0);for(;t<r.length&&r[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;(e!=this.scaleX||t!=this.scaleY)&&(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((t,r)=>!ape(t,this.drawn[r]))){let t=this.dom.firstChild,r=0;for(let i of e)i.update&&t&&i.constructor&&this.drawn[r].constructor&&i.update(t,this.drawn[r])?(t=t.nextSibling,r++):this.dom.insertBefore(i.draw(),t);for(;t;){let i=t.nextSibling;t.remove(),t=i}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const X0=ce.define();function ZF(n){return[Qt.define(e=>new lpe(e,n)),X0.of(n)]}const qF=!(ye.ios&&ye.webkit&&ye.webkit_version<534),xg=ce.define({combine(n){return Vo(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function cpe(n={}){return[xg.of(n),upe,hpe,dpe,yF.of(!0)]}function BF(n){return n.startState.facet(xg)!=n.state.facet(xg)}const upe=ZF({above:!0,markers(n){let{state:e}=n,t=e.facet(xg),r=[];for(let i of e.selection.ranges){let s=i==e.selection.main;if(i.empty?!s||qF:t.drawRangeCursor){let o=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",a=i.empty?i:K.cursor(i.head,i.head>i.anchor?-1:1);for(let l of CO.forRange(n,o,a))r.push(l)}}return r},update(n,e){n.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=BF(n);return t&&OD(n.state,e),n.docChanged||n.selectionSet||t},mount(n,e){OD(e.state,n)},class:"cm-cursorLayer"});function OD(n,e){e.style.animationDuration=n.facet(xg).cursorBlinkRate+"ms"}const hpe=ZF({above:!1,markers(n){return n.state.selection.ranges.map(e=>e.empty?[]:CO.forRange(n,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(n,e){return n.docChanged||n.selectionSet||n.viewportChanged||BF(n)},class:"cm-selectionLayer"}),sP={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};qF&&(sP[".cm-line"].caretColor=sP[".cm-content"].caretColor="transparent !important");const dpe=za.highest(ue.theme(sP)),FF=Re.define({map(n,e){return n==null?null:e.mapPos(n)}}),Mp=Lt.define({create(){return null},update(n,e){return n!=null&&(n=e.changes.mapPos(n)),e.effects.reduce((t,r)=>r.is(FF)?r.value:t,n)}}),fpe=Qt.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var e;let t=n.state.field(Mp);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(Mp)!=t||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:n}=this,e=n.state.field(Mp),t=e!=null&&n.coordsAtPos(e);if(!t)return null;let r=n.scrollDOM.getBoundingClientRect();return{left:t.left-r.left+n.scrollDOM.scrollLeft*n.scaleX,top:t.top-r.top+n.scrollDOM.scrollTop*n.scaleY,height:t.bottom-t.top}}drawCursor(n){if(this.cursor){let{scaleX:e,scaleY:t}=this.view;n?(this.cursor.style.left=n.left/e+"px",this.cursor.style.top=n.top/t+"px",this.cursor.style.height=n.height/t+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(Mp)!=n&&this.view.dispatch({effects:FF.of(n)})}},{eventObservers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){(n.target==this.view.contentDOM||!this.view.contentDOM.contains(n.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function ppe(){return[Mp,fpe]}function yD(n,e,t,r,i){e.lastIndex=0;for(let s=n.iterRange(t,r),o=t,a;!s.next().done;o+=s.value.length)if(!s.lineBreak)for(;a=e.exec(s.value);)i(o+a.index,a)}function mpe(n,e){let t=n.visibleRanges;if(t.length==1&&t[0].from==n.viewport.from&&t[0].to==n.viewport.to)return t;let r=[];for(let{from:i,to:s}of t)i=Math.max(n.state.doc.lineAt(i).from,i-e),s=Math.min(n.state.doc.lineAt(s).to,s+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=s:r.push({from:i,to:s});return r}class gpe{constructor(e){const{regexp:t,decoration:r,decorate:i,boundary:s,maxLength:o=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,i)this.addMatch=(a,l,c,u)=>i(u,c,c+a[0].length,a,l);else if(typeof r=="function")this.addMatch=(a,l,c,u)=>{let h=r(a,l,c);h&&u(c,c+a[0].length,h)};else if(r)this.addMatch=(a,l,c,u)=>u(c,c+a[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=o}createDeco(e){let t=new Aa,r=t.add.bind(t);for(let{from:i,to:s}of mpe(e,this.maxLength))yD(e.state.doc,this.regexp,i,s,(o,a)=>this.addMatch(a,e,o,r));return t.finish()}updateDeco(e,t){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((s,o,a,l)=>{l>=e.view.viewport.from&&a<=e.view.viewport.to&&(r=Math.min(a,r),i=Math.max(l,i))}),e.viewportMoved||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,t.map(e.changes),r,i):t}updateRange(e,t,r,i){for(let s of e.visibleRanges){let o=Math.max(s.from,r),a=Math.min(s.to,i);if(a>o){let l=e.state.doc.lineAt(o),c=l.to<a?e.state.doc.lineAt(a):l,u=Math.max(s.from,l.from),h=Math.min(s.to,c.to);if(this.boundary){for(;o>l.from;o--)if(this.boundary.test(l.text[o-1-l.from])){u=o;break}for(;a<c.to;a++)if(this.boundary.test(c.text[a-c.from])){h=a;break}}let d=[],m,g=(y,v,b)=>d.push(b.range(y,v));if(l==c)for(this.regexp.lastIndex=u-l.from;(m=this.regexp.exec(l.text))&&m.index<h-l.from;)this.addMatch(m,e,m.index+l.from,g);else yD(e.state.doc,this.regexp,u,h,(y,v)=>this.addMatch(v,e,y,g));t=t.update({filterFrom:u,filterTo:h,filter:(y,v)=>y<u||v>h,add:d})}}return t}}const oP=/x/.unicode!=null?"gu":"g",Ope=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,oP),ype={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let T1=null;function vpe(){var n;if(T1==null&&typeof document<"u"&&document.body){let e=document.body.style;T1=((n=e.tabSize)!==null&&n!==void 0?n:e.MozTabSize)!=null}return T1||!1}const G0=ce.define({combine(n){let e=Vo(n,{render:null,specialChars:Ope,addSpecialChars:null});return(e.replaceTabs=!vpe())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,oP)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,oP)),e}});function wpe(n={}){return[G0.of(n),xpe()]}let vD=null;function xpe(){return vD||(vD=Qt.fromClass(class{constructor(n){this.view=n,this.decorations=me.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(n.state.facet(G0)),this.decorations=this.decorator.createDeco(n)}makeDecorator(n){return new gpe({regexp:n.specialChars,decoration:(e,t,r)=>{let{doc:i}=t.state,s=Yr(e[0],0);if(s==9){let o=i.lineAt(r),a=t.state.tabSize,l=_f(o.text,a,r-o.from);return me.replace({widget:new _pe((a-l%a)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=me.replace({widget:new kpe(n,s)}))},boundary:n.replaceTabs?void 0:/[^]/})}update(n){let e=n.state.facet(G0);n.startState.facet(G0)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(n.view)):this.decorations=this.decorator.updateDeco(n,this.decorations)}},{decorations:n=>n.decorations}))}const bpe="";function Spe(n){return n>=32?bpe:n==10?"":String.fromCharCode(9216+n)}class kpe extends Lo{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=Spe(this.code),r=e.state.phrase("Control character")+" "+(ype[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,t);if(i)return i;let s=document.createElement("span");return s.textContent=t,s.title=r,s.setAttribute("aria-label",r),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class _pe extends Lo{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function Tpe(){return Cpe}const Ppe=me.line({class:"cm-activeLine"}),Cpe=Qt.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=-1,t=[];for(let r of n.state.selection.ranges){let i=n.lineBlockAt(r.head);i.from>e&&(t.push(Ppe.range(i.from)),e=i.from)}return me.set(t)}},{decorations:n=>n.decorations}),aP=2e3;function Epe(n,e,t){let r=Math.min(e.line,t.line),i=Math.max(e.line,t.line),s=[];if(e.off>aP||t.off>aP||e.col<0||t.col<0){let o=Math.min(e.off,t.off),a=Math.max(e.off,t.off);for(let l=r;l<=i;l++){let c=n.doc.line(l);c.length<=a&&s.push(K.range(c.from+o,c.to+a))}}else{let o=Math.min(e.col,t.col),a=Math.max(e.col,t.col);for(let l=r;l<=i;l++){let c=n.doc.line(l),u=MT(c.text,o,n.tabSize,!0);if(u<0)s.push(K.cursor(c.to));else{let h=MT(c.text,a,n.tabSize);s.push(K.range(c.from+u,c.from+h))}}}return s}function Ape(n,e){let t=n.coordsAtPos(n.viewport.from);return t?Math.round(Math.abs((t.left-e)/n.defaultCharacterWidth)):-1}function wD(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1),r=n.state.doc.lineAt(t),i=t-r.from,s=i>aP?-1:i==r.length?Ape(n,e.clientX):_f(r.text,n.state.tabSize,t-r.from);return{line:r.number,col:s,off:i}}function Rpe(n,e){let t=wD(n,e),r=n.state.selection;return t?{update(i){if(i.docChanged){let s=i.changes.mapPos(i.startState.doc.line(t.line).from),o=i.state.doc.lineAt(s);t={line:o.number,col:t.col,off:Math.min(t.off,o.length)},r=r.map(i.changes)}},get(i,s,o){let a=wD(n,i);if(!a)return r;let l=Epe(n.state,t,a);return l.length?o?K.create(l.concat(r.ranges)):K.create(l):r}}:null}function Qpe(n){let e=t=>t.altKey&&t.button==0;return ue.mouseSelectionStyle.of((t,r)=>e(r)?Rpe(t,r):null)}const $pe={Alt:[18,n=>!!n.altKey],Control:[17,n=>!!n.ctrlKey],Shift:[16,n=>!!n.shiftKey],Meta:[91,n=>!!n.metaKey]},Ipe={style:"cursor: crosshair"};function Npe(n={}){let[e,t]=$pe[n.key||"Alt"],r=Qt.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||t(i))},keyup(i){(i.keyCode==e||!t(i))&&this.set(!1)},mousemove(i){this.set(t(i))}}});return[r,ue.contentAttributes.of(i=>{var s;return!((s=i.plugin(r))===null||s===void 0)&&s.isDown?Ipe:null})]}const cp="-10000px";class WF{constructor(e,t,r,i){this.facet=t,this.createTooltipView=r,this.removeTooltipView=i,this.input=e.state.facet(t),this.tooltips=this.input.filter(o=>o);let s=null;this.tooltipViews=this.tooltips.map(o=>s=r(o,s))}update(e,t){var r;let i=e.state.facet(this.facet),s=i.filter(l=>l);if(i===this.input){for(let l of this.tooltipViews)l.update&&l.update(e);return!1}let o=[],a=t?[]:null;for(let l=0;l<s.length;l++){let c=s[l],u=-1;if(c){for(let h=0;h<this.tooltips.length;h++){let d=this.tooltips[h];d&&d.create==c.create&&(u=h)}if(u<0)o[l]=this.createTooltipView(c,l?o[l-1]:null),a&&(a[l]=!!c.above);else{let h=o[l]=this.tooltipViews[u];a&&(a[l]=t[u]),h.update&&h.update(e)}}}for(let l of this.tooltipViews)o.indexOf(l)<0&&(this.removeTooltipView(l),(r=l.destroy)===null||r===void 0||r.call(l));return t&&(a.forEach((l,c)=>t[c]=l),t.length=a.length),this.input=i,this.tooltips=s,this.tooltipViews=o,!0}}function jpe(n){let e=n.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const P1=ce.define({combine:n=>{var e,t,r;return{position:ye.ios?"absolute":((e=n.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=n.find(i=>i.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((r=n.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||jpe}}}),xD=new WeakMap,IR=Qt.fromClass(class{constructor(n){this.view=n,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=n.state.facet(P1);this.position=e.position,this.parent=e.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new WF(n,NR,(t,r)=>this.createTooltip(t,r),t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()}),this.above=this.manager.tooltips.map(t=>!!t.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(n,this.above);e&&this.observeIntersection();let t=e||n.geometryChanged,r=n.state.facet(P1);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;t=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(n,e){let t=n.create(this.view),r=e?e.dom:null;if(t.dom.classList.add("cm-tooltip"),n.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",t.dom.appendChild(i)}return t.dom.style.position=this.position,t.dom.style.top=cp,t.dom.style.left="0px",this.container.insertBefore(t.dom,r),t.mount&&t.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(t.dom),t}destroy(){var n,e,t;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(n=r.destroy)===null||n===void 0||n.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(t=this.intersectionObserver)===null||t===void 0||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=1,e=1,t=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:s}=this.manager.tooltipViews[0];if(ye.gecko)t=s.offsetParent!=this.container.ownerDocument.body;else if(s.style.top==cp&&s.style.left=="0px"){let o=s.getBoundingClientRect();t=Math.abs(o.top+1e4)>1||Math.abs(o.left)>1}}if(t||this.position=="absolute")if(this.parent){let s=this.parent.getBoundingClientRect();s.width&&s.height&&(n=s.width/this.parent.offsetWidth,e=s.height/this.parent.offsetHeight)}else({scaleX:n,scaleY:e}=this.view.viewState);let r=this.view.scrollDOM.getBoundingClientRect(),i=AR(this.view);return{visible:{left:r.left+i.left,top:r.top+i.top,right:r.right-i.right,bottom:r.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((s,o)=>{let a=this.manager.tooltipViews[o];return a.getCoords?a.getCoords(s.pos):this.view.coordsAtPos(s.pos)}),size:this.manager.tooltipViews.map(({dom:s})=>s.getBoundingClientRect()),space:this.view.state.facet(P1).tooltipSpace(this.view),scaleX:n,scaleY:e,makeAbsolute:t}}writeMeasure(n){var e;if(n.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let a of this.manager.tooltipViews)a.dom.style.position="absolute"}let{visible:t,space:r,scaleX:i,scaleY:s}=n,o=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],c=this.manager.tooltipViews[a],{dom:u}=c,h=n.pos[a],d=n.size[a];if(!h||l.clip!==!1&&(h.bottom<=Math.max(t.top,r.top)||h.top>=Math.min(t.bottom,r.bottom)||h.right<Math.max(t.left,r.left)-.1||h.left>Math.min(t.right,r.right)+.1)){u.style.top=cp;continue}let m=l.arrow?c.dom.querySelector(".cm-tooltip-arrow"):null,g=m?7:0,y=d.right-d.left,v=(e=xD.get(c))!==null&&e!==void 0?e:d.bottom-d.top,b=c.offset||Mpe,x=this.view.textDirection==Ke.LTR,S=d.width>r.right-r.left?x?r.left:r.right-d.width:x?Math.max(r.left,Math.min(h.left-(m?14:0)+b.x,r.right-y)):Math.min(Math.max(r.left,h.left-y+(m?14:0)-b.x),r.right-y),$=this.above[a];!l.strictSide&&($?h.top-v-g-b.y<r.top:h.bottom+v+g+b.y>r.bottom)&&$==r.bottom-h.bottom>h.top-r.top&&($=this.above[a]=!$);let P=($?h.top-r.top:r.bottom-h.bottom)-g;if(P<v&&c.resize!==!1){if(P<this.view.defaultLineHeight){u.style.top=cp;continue}xD.set(c,v),u.style.height=(v=P)/s+"px"}else u.style.height&&(u.style.height="");let Q=$?h.top-v-g-b.y:h.bottom+g+b.y,O=S+y;if(c.overlap!==!0)for(let _ of o)_.left<O&&_.right>S&&_.top<Q+v&&_.bottom>Q&&(Q=$?_.top-v-2-g:_.bottom+g+2);if(this.position=="absolute"?(u.style.top=(Q-n.parent.top)/s+"px",bD(u,(S-n.parent.left)/i)):(u.style.top=Q/s+"px",bD(u,S/i)),m){let _=h.left+(x?b.x:-b.x)-(S+14-7);m.style.left=_/i+"px"}c.overlap!==!0&&o.push({left:S,top:Q,right:O,bottom:Q+v}),u.classList.toggle("cm-tooltip-above",$),u.classList.toggle("cm-tooltip-below",!$),c.positioned&&c.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=cp}},{eventObservers:{scroll(){this.maybeMeasure()}}});function bD(n,e){let t=parseInt(n.style.left,10);(isNaN(t)||Math.abs(e-t)>1)&&(n.style.left=e+"px")}const Dpe=ue.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),Mpe={x:0,y:0},NR=ce.define({enables:[IR,Dpe]}),Vw=ce.define({combine:n=>n.reduce((e,t)=>e.concat(t),[])});class Qb{static create(e){return new Qb(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new WF(e,Vw,(t,r)=>this.createHostedView(t,r),t=>t.dom.remove())}createHostedView(e,t){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,t?t.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}passProp(e){let t;for(let r of this.manager.tooltipViews){let i=r[e];if(i!==void 0){if(t===void 0)t=i;else if(t!==i)return}}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const Vpe=NR.compute([Vw],n=>{let e=n.facet(Vw);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.map(t=>{var r;return(r=t.end)!==null&&r!==void 0?r:t.pos})),create:Qb.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class Lpe{constructor(e,t,r,i,s){this.view=e,this.source=t,this.field=r,this.setHover=i,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,r=e.docView.nearest(t.target);if(!r)return;let i,s=1;if(r instanceof Tl)i=r.posAtStart;else{if(i=e.posAtCoords(t),i==null)return;let a=e.coordsAtPos(i);if(!a||t.y<a.top||t.y>a.bottom||t.x<a.left-e.defaultCharacterWidth||t.x>a.right+e.defaultCharacterWidth)return;let l=e.bidiSpans(e.state.doc.lineAt(i)).find(u=>u.from<=i&&u.to>=i),c=l&&l.dir==Ke.RTL?-1:1;s=t.x<a.left?-c:c}let o=this.source(e,i,s);if(o!=null&&o.then){let a=this.pending={pos:i};o.then(l=>{this.pending==a&&(this.pending=null,l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])}))},l=>xn(e.state,l,"hover tooltip"))}else o&&!(Array.isArray(o)&&!o.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(o)?o:[o])})}get tooltip(){let e=this.view.plugin(IR),t=e?e.manager.tooltips.findIndex(r=>r.create==Qb.create):-1;return t>-1?e.manager.tooltipViews[t]:null}mousemove(e){var t,r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:s}=this;if(i.length&&s&&!zpe(s.dom,e)||this.pending){let{pos:o}=i[0]||this.pending,a=(r=(t=i[0])===null||t===void 0?void 0:t.end)!==null&&r!==void 0?r:o;(o==a?this.view.posAtCoords(this.lastMove)!=o:!Upe(this.view,o,a,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:t}=this;if(t.length){let{tooltip:r}=this;r&&r.dom.contains(e.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let t=r=>{e.removeEventListener("mouseleave",t),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",t)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const By=4;function zpe(n,e){let{left:t,right:r,top:i,bottom:s}=n.getBoundingClientRect(),o;if(o=n.querySelector(".cm-tooltip-arrow")){let a=o.getBoundingClientRect();i=Math.min(a.top,i),s=Math.max(a.bottom,s)}return e.clientX>=t-By&&e.clientX<=r+By&&e.clientY>=i-By&&e.clientY<=s+By}function Upe(n,e,t,r,i,s){let o=n.scrollDOM.getBoundingClientRect(),a=n.documentTop+n.documentPadding.top+n.contentHeight;if(o.left>r||o.right<r||o.top>i||Math.min(o.bottom,a)<i)return!1;let l=n.posAtCoords({x:r,y:i},!1);return l>=e&&l<=t}function Zpe(n,e={}){let t=Re.define(),r=Lt.define({create(){return[]},update(i,s){if(i.length&&(e.hideOnChange&&(s.docChanged||s.selection)?i=[]:e.hideOn&&(i=i.filter(o=>!e.hideOn(s,o))),s.docChanged)){let o=[];for(let a of i){let l=s.changes.mapPos(a.pos,-1,En.TrackDel);if(l!=null){let c=Object.assign(Object.create(null),a);c.pos=l,c.end!=null&&(c.end=s.changes.mapPos(c.end)),o.push(c)}}i=o}for(let o of s.effects)o.is(t)&&(i=o.value),o.is(qpe)&&(i=[]);return i},provide:i=>Vw.from(i)});return{active:r,extension:[r,Qt.define(i=>new Lpe(i,n,r,t,e.hoverTime||300)),Vpe]}}function XF(n,e){let t=n.plugin(IR);if(!t)return null;let r=t.manager.tooltips.indexOf(e);return r<0?null:t.manager.tooltipViews[r]}const qpe=Re.define(),SD=ce.define({combine(n){let e,t;for(let r of n)e=e||r.topContainer,t=t||r.bottomContainer;return{topContainer:e,bottomContainer:t}}});function bg(n,e){let t=n.plugin(GF),r=t?t.specs.indexOf(e):-1;return r>-1?t.panels[r]:null}const GF=Qt.fromClass(class{constructor(n){this.input=n.state.facet(Sg),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(n));let e=n.state.facet(SD);this.top=new Fy(n,!0,e.topContainer),this.bottom=new Fy(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(n){let e=n.state.facet(SD);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Fy(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Fy(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=n.state.facet(Sg);if(t!=this.input){let r=t.filter(l=>l),i=[],s=[],o=[],a=[];for(let l of r){let c=this.specs.indexOf(l),u;c<0?(u=l(n.view),a.push(u)):(u=this.panels[c],u.update&&u.update(n)),i.push(u),(u.top?s:o).push(u)}this.specs=r,this.panels=i,this.top.sync(s),this.bottom.sync(o);for(let l of a)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let r of this.panels)r.update&&r.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>ue.scrollMargins.of(e=>{let t=e.plugin(n);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class Fy{constructor(e,t,r){this.view=e,this.top=t,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=kD(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=kD(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function kD(n){let e=n.nextSibling;return n.remove(),e}const Sg=ce.define({enables:GF});class Qa extends ko{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Qa.prototype.elementClass="";Qa.prototype.toDOM=void 0;Qa.prototype.mapMode=En.TrackBefore;Qa.prototype.startSide=Qa.prototype.endSide=-1;Qa.prototype.point=!0;const Y0=ce.define(),Bpe=ce.define(),Fpe={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>ht.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},wm=ce.define();function Wpe(n){return[YF(),wm.of(Object.assign(Object.assign({},Fpe),n))]}const _D=ce.define({combine:n=>n.some(e=>e)});function YF(n){return[Xpe]}const Xpe=Qt.fromClass(class{constructor(n){this.view=n,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=n.state.facet(wm).map(e=>new PD(n,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!n.state.facet(_D),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}update(n){if(this.updateGutters(n)){let e=this.prevViewport,t=n.view.viewport,r=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(r<(t.to-t.from)*.8)}n.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(_D)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&this.dom.remove();let t=ht.iter(this.view.state.facet(Y0),this.view.viewport.from),r=[],i=this.gutters.map(s=>new Gpe(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(s.type)){let o=!0;for(let a of s.type)if(a.type==jr.Text&&o){lP(t,r,a.from);for(let l of i)l.line(this.view,a,r);o=!1}else if(a.widget)for(let l of i)l.widget(this.view,a)}else if(s.type==jr.Text){lP(t,r,s.from);for(let o of i)o.line(this.view,s,r)}else if(s.widget)for(let o of i)o.widget(this.view,s);for(let s of i)s.finish();n&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(n){let e=n.startState.facet(wm),t=n.state.facet(wm),r=n.docChanged||n.heightChanged||n.viewportChanged||!ht.eq(n.startState.facet(Y0),n.state.facet(Y0),n.view.viewport.from,n.view.viewport.to);if(e==t)for(let i of this.gutters)i.update(n)&&(r=!0);else{r=!0;let i=[];for(let s of t){let o=e.indexOf(s);o<0?i.push(new PD(this.view,s)):(this.gutters[o].update(n),i.push(this.gutters[o]))}for(let s of this.gutters)s.dom.remove(),i.indexOf(s)<0&&s.destroy();for(let s of i)this.dom.appendChild(s.dom);this.gutters=i}return r}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove()}},{provide:n=>ue.scrollMargins.of(e=>{let t=e.plugin(n);return!t||t.gutters.length==0||!t.fixed?null:e.textDirection==Ke.LTR?{left:t.dom.offsetWidth*e.scaleX}:{right:t.dom.offsetWidth*e.scaleX}})});function TD(n){return Array.isArray(n)?n:[n]}function lP(n,e,t){for(;n.value&&n.from<=t;)n.from==t&&e.push(n.value),n.next()}class Gpe{constructor(e,t,r){this.gutter=e,this.height=r,this.i=0,this.cursor=ht.iter(e.markers,t.from)}addElement(e,t,r){let{gutter:i}=this,s=(t.top-this.height)/e.scaleY,o=t.height/e.scaleY;if(this.i==i.elements.length){let a=new HF(e,o,s,r);i.elements.push(a),i.dom.appendChild(a.dom)}else i.elements[this.i].update(e,o,s,r);this.height=t.bottom,this.i++}line(e,t,r){let i=[];lP(this.cursor,i,t.from),r.length&&(i=i.concat(r));let s=this.gutter.config.lineMarker(e,t,i);s&&i.unshift(s);let o=this.gutter;i.length==0&&!o.config.renderEmptyElements||this.addElement(e,t,i)}widget(e,t){let r=this.gutter.config.widgetMarker(e,t.widget,t),i=r?[r]:null;for(let s of e.state.facet(Bpe)){let o=s(e,t.widget,t);o&&(i||(i=[])).push(o)}i&&this.addElement(e,t,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class PD{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in t.domEventHandlers)this.dom.addEventListener(r,i=>{let s=i.target,o;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let l=s.getBoundingClientRect();o=(l.top+l.bottom)/2}else o=i.clientY;let a=e.lineBlockAtHeight(o-e.documentTop);t.domEventHandlers[r](e,a,i)&&i.preventDefault()});this.markers=TD(t.markers(e)),t.initialSpacer&&(this.spacer=new HF(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=TD(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!ht.eq(this.markers,t,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class HF{constructor(e,t,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,r,i)}update(e,t,r,i){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),Ype(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,t){let r="cm-gutterElement",i=this.dom.firstChild;for(let s=0,o=0;;){let a=o,l=s<t.length?t[s++]:null,c=!1;if(l){let u=l.elementClass;u&&(r+=" "+u);for(let h=o;h<this.markers.length;h++)if(this.markers[h].compare(l)){a=h,c=!0;break}}else a=this.markers.length;for(;o<a;){let u=this.markers[o++];if(u.toDOM){u.destroy(i);let h=i.nextSibling;i.remove(),i=h}}if(!l)break;l.toDOM&&(c?i=i.nextSibling:this.dom.insertBefore(l.toDOM(e),i)),c&&o++}this.dom.className=r,this.markers=t}destroy(){this.setMarkers(null,[])}}function Ype(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].compare(e[t]))return!1;return!0}const Hpe=ce.define(),Kpe=ce.define(),Ch=ce.define({combine(n){return Vo(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let r=Object.assign({},e);for(let i in t){let s=r[i],o=t[i];r[i]=s?(a,l,c)=>s(a,l,c)||o(a,l,c):o}return r}})}});class C1 extends Qa{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function E1(n,e){return n.state.facet(Ch).formatNumber(e,n.state)}const Jpe=wm.compute([Ch],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(Hpe)},lineMarker(e,t,r){return r.some(i=>i.toDOM)?null:new C1(E1(e,e.state.doc.lineAt(t.from).number))},widgetMarker:(e,t,r)=>{for(let i of e.state.facet(Kpe)){let s=i(e,t,r);if(s)return s}return null},lineMarkerChange:e=>e.startState.facet(Ch)!=e.state.facet(Ch),initialSpacer(e){return new C1(E1(e,CD(e.state.doc.lines)))},updateSpacer(e,t){let r=E1(t.view,CD(t.view.state.doc.lines));return r==e.number?e:new C1(r)},domEventHandlers:n.facet(Ch).domEventHandlers}));function eme(n={}){return[Ch.of(n),YF(),Jpe]}function CD(n){let e=9;for(;e<n;)e=e*10+9;return e}const tme=new class extends Qa{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},nme=Y0.compute(["selection"],n=>{let e=[],t=-1;for(let r of n.selection.ranges){let i=n.doc.lineAt(r.head).from;i>t&&(t=i,e.push(tme.range(i)))}return ht.of(e)});function rme(){return nme}const ime=1024;let sme=0,A1=class{constructor(e,t){this.from=e,this.to=t}},ft=class{constructor(e={}){this.id=sme++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=To.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}};ft.closedBy=new ft({deserialize:n=>n.split(" ")});ft.openedBy=new ft({deserialize:n=>n.split(" ")});ft.group=new ft({deserialize:n=>n.split(" ")});ft.isolate=new ft({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});ft.contextHash=new ft({perNode:!0});ft.lookAhead=new ft({perNode:!0});ft.mounted=new ft({perNode:!0});let Lw=class{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[ft.mounted.id]}};const ome=Object.create(null);let To=class KF{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):ome,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new KF(e.name||"",t,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(ft.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(ft.group),s=-1;s<(i?i.length:0);s++){let o=t[s<0?r.name:i[s]];if(o)return o}}}};To.none=new To("",Object.create(null),0,8);const Wy=new WeakMap,ED=new WeakMap;var er;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(er||(er={}));let wi=class cP{constructor(e,t,r,i,s){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=Lw.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new dP(this.topNode,e)}cursorAt(e,t=0,r=0){let i=Wy.get(this)||this.topNode,s=new dP(i);return s.moveTo(e,t),Wy.set(this,s._tree),s}get topNode(){return new lc(this,0,0,null)}resolve(e,t=0){let r=kg(Wy.get(this)||this.topNode,e,t,!1);return Wy.set(this,r),r}resolveInner(e,t=0){let r=kg(ED.get(this)||this.topNode,e,t,!0);return ED.set(this,r),r}resolveStack(e,t=0){return ume(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:s=this.length}=e,o=e.mode||0,a=(o&er.IncludeAnonymous)>0;for(let l=this.cursor(o|er.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=i&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:DR(To.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new cP(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new cP(To.none,t,r,i)))}static build(e){return hme(e)}};wi.empty=new wi(To.none,[],[],0);let ame=class JF{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new JF(this.buffer,this.index)}},Zd=class eW{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return To.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(tW(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,t,r){let i=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=i[a++],s[l++]=i[a++]-r;let c=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,c)}return new eW(s,o,this.set)}};function tW(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function kg(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!r&&n instanceof lc&&n.index<0?null:n.parent;if(!o)return n;n=o}let s=r?0:er.IgnoreOverlays;if(r)for(let o=n,a=o.parent;a;o=a,a=o.parent)o instanceof lc&&o.index<0&&((i=a.enter(e,t,s))===null||i===void 0?void 0:i.from)!=o.from&&(n=a);for(;;){let o=n.enter(e,t,s);if(!o)return n;n=o}}let nW=class{cursor(e=0){return new dP(this,e)}getChild(e,t=null,r=null){let i=AD(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return AD(this,e,t,r)}resolve(e,t=0){return kg(this,e,t,!1)}resolveInner(e,t=0){return kg(this,e,t,!0)}matchContext(e){return uP(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}},lc=class H0 extends nW{constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=t>0?a.length:-1;e!=c;e+=t){let u=a[e],h=l[e]+o.from;if(tW(i,r,h,h+u.length)){if(u instanceof Zd){if(s&er.ExcludeBuffers)continue;let d=u.findChild(0,u.buffer.length,t,r-h,i);if(d>-1)return new hP(new lme(o,u,e,h),null,d)}else if(s&er.IncludeAnonymous||!u.type.isAnonymous||jR(u)){let d;if(!(s&er.IgnoreMounts)&&(d=Lw.get(u))&&!d.overlay)return new H0(d.tree,h,e,o);let m=new H0(u,h,e,o);return s&er.IncludeAnonymous||!m.type.isAnonymous?m:m.nextChild(t<0?u.children.length-1:0,t,r,i)}}}if(s&er.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&er.IgnoreOverlays)&&(i=Lw.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:o,to:a}of i.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new H0(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function AD(n,e,t,r){let i=n.cursor(),s=[];if(!i.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=i.type.is(t),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function uP(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}let lme=class{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}},hP=class Vp extends nW{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return s<0?null:new Vp(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&er.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new Vp(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Vp(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Vp(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),t.push(0)}return new wi(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function rW(n){if(!n.length)return null;let e=0,t=n[0];for(let s=1;s<n.length;s++){let o=n[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let r=t instanceof lc&&t.index<0?null:t.parent,i=n.slice();return r?i[e]=r:i.splice(e,1),new cme(i,t)}let cme=class{constructor(e,t){this.heads=e,this.node=t}get next(){return rW(this.heads)}};function ume(n,e,t){let r=n.resolveInner(e,t),i=null;for(let s=r instanceof lc?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[r])).push(o.resolve(e,t)),s=o}else{let o=Lw.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new lc(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(kg(a,e,t,!1))}}return i?rW(i):r}let dP=class{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof lc)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof lc?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&er.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&er.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&er.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let s=t+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&er.IncludeAnonymous||a instanceof Zd||!a.type.isAnonymous||jR(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;t=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)t=new hP(this.buffer,t,this.stack[i]);return this.bufferNode=new hP(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return uP(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return uP(this._tree,e,i);let o=r[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}};function jR(n){return n.children.some(e=>e instanceof Zd||!e.type.isAnonymous||jR(e))}function hme(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=ime,reused:s=[],minRepeatType:o=r.types.length}=n,a=Array.isArray(t)?new ame(t,t.length):t,l=r.types,c=0,u=0;function h(P,Q,O,_,k,A){let{id:C,start:w,end:R,size:j}=a,V=u,M=c;for(;j<0;)if(a.next(),j==-1){let X=s[C];O.push(X),_.push(w-P);return}else if(j==-3){c=C;return}else if(j==-4){u=C;return}else throw new RangeError(`Unrecognized record size: ${j}`);let q=l[C],U,Z,ne=w-P;if(R-w<=i&&(Z=v(a.pos-Q,k))){let X=new Uint16Array(Z.size-Z.skip),F=a.pos-Z.size,G=X.length;for(;a.pos>F;)G=b(Z.start,X,G);U=new Zd(X,R-Z.start,r),ne=Z.start-P}else{let X=a.pos-j;a.next();let F=[],G=[],J=C>=o?C:-1,oe=0,Se=R;for(;a.pos>X;)J>=0&&a.id==J&&a.size>=0?(a.end<=Se-i&&(g(F,G,w,oe,a.end,Se,J,V,M),oe=F.length,Se=a.end),a.next()):A>2500?d(w,X,F,G):h(w,X,F,G,J,A+1);if(J>=0&&oe>0&&oe<F.length&&g(F,G,w,oe,w,Se,J,V,M),F.reverse(),G.reverse(),J>-1&&oe>0){let le=m(q,M);U=DR(q,F,G,0,F.length,0,R-w,le,le)}else U=y(q,F,G,R-w,V-R,M)}O.push(U),_.push(ne)}function d(P,Q,O,_){let k=[],A=0,C=-1;for(;a.pos>Q;){let{id:w,start:R,end:j,size:V}=a;if(V>4)a.next();else{if(C>-1&&R<C)break;C<0&&(C=j-i),k.push(w,R,j),A++,a.next()}}if(A){let w=new Uint16Array(A*4),R=k[k.length-2];for(let j=k.length-3,V=0;j>=0;j-=3)w[V++]=k[j],w[V++]=k[j+1]-R,w[V++]=k[j+2]-R,w[V++]=V;O.push(new Zd(w,k[2]-R,r)),_.push(R-P)}}function m(P,Q){return(O,_,k)=>{let A=0,C=O.length-1,w,R;if(C>=0&&(w=O[C])instanceof wi){if(!C&&w.type==P&&w.length==k)return w;(R=w.prop(ft.lookAhead))&&(A=_[C]+w.length+R)}return y(P,O,_,k,A,Q)}}function g(P,Q,O,_,k,A,C,w,R){let j=[],V=[];for(;P.length>_;)j.push(P.pop()),V.push(Q.pop()+O-k);P.push(y(r.types[C],j,V,A-k,w-A,R)),Q.push(k-O)}function y(P,Q,O,_,k,A,C){if(A){let w=[ft.contextHash,A];C=C?[w].concat(C):[w]}if(k>25){let w=[ft.lookAhead,k];C=C?[w].concat(C):[w]}return new wi(P,Q,O,_,C)}function v(P,Q){let O=a.fork(),_=0,k=0,A=0,C=O.end-i,w={size:0,start:0,skip:0};e:for(let R=O.pos-P;O.pos>R;){let j=O.size;if(O.id==Q&&j>=0){w.size=_,w.start=k,w.skip=A,A+=4,_+=4,O.next();continue}let V=O.pos-j;if(j<0||V<R||O.start<C)break;let M=O.id>=o?4:0,q=O.start;for(O.next();O.pos>V;){if(O.size<0)if(O.size==-3)M+=4;else break e;else O.id>=o&&(M+=4);O.next()}k=q,_+=j,A+=M}return(Q<0||_==P)&&(w.size=_,w.start=k,w.skip=A),w.size>4?w:void 0}function b(P,Q,O){let{id:_,start:k,end:A,size:C}=a;if(a.next(),C>=0&&_<o){let w=O;if(C>4){let R=a.pos-(C-4);for(;a.pos>R;)O=b(P,Q,O)}Q[--O]=w,Q[--O]=A-P,Q[--O]=k-P,Q[--O]=_}else C==-3?c=_:C==-4&&(u=_);return O}let x=[],S=[];for(;a.pos>0;)h(n.start||0,n.bufferStart||0,x,S,-1,0);let $=(e=n.length)!==null&&e!==void 0?e:x.length?S[0]+x[0].length:0;return new wi(l[n.topID],x.reverse(),S.reverse(),$)}const RD=new WeakMap;function K0(n,e){if(!n.isAnonymous||e instanceof Zd||e.type!=n)return 1;let t=RD.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof wi)){t=1;break}t+=K0(n,r)}RD.set(e,t)}return t}function DR(n,e,t,r,i,s,o,a,l){let c=0;for(let g=r;g<i;g++)c+=K0(n,e[g]);let u=Math.ceil(c*1.5/8),h=[],d=[];function m(g,y,v,b,x){for(let S=v;S<b;){let $=S,P=y[S],Q=K0(n,g[S]);for(S++;S<b;S++){let O=K0(n,g[S]);if(Q+O>=u)break;Q+=O}if(S==$+1){if(Q>u){let O=g[$];m(O.children,O.positions,0,O.children.length,y[$]+x);continue}h.push(g[$])}else{let O=y[S-1]+g[S-1].length-P;h.push(DR(n,g,y,$,S,P,O,null,l))}d.push(P+x-s)}}return m(e,t,r,i,0),(a||l)(h,d,o)}let J0=class fP{constructor(e,t,r,i,s=!1,o=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],r=!1){let i=[new fP(0,e.length,e,0,!1,r)];for(let s of t)s.to>e.length&&i.push(s);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let u=a<t.length?t[a]:null,h=u?u.fromA:1e9;if(h-l>=r)for(;o&&o.from<h;){let d=o;if(l>=d.from||h<=d.to||c){let m=Math.max(d.from,l)-c,g=Math.min(d.to,h)-c;d=m>=g?null:new fP(m,g,d.tree,d.offset+c,a>0,!!u)}if(d&&i.push(d),o.to>h)break;o=s<e.length?e[s++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return i}},dme=class{startParse(e,t,r){return typeof e=="string"&&(e=new fme(e)),r=r?r.length?r.map(i=>new A1(i.from,i.to)):[new A1(0,0)]:[new A1(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let s=i.advance();if(s)return s}}},fme=class{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}};new ft({perNode:!0});let pme=0,In=class{constructor(e={}){this.id=pme++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=pP.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}};In.closedBy=new In({deserialize:n=>n.split(" ")});In.openedBy=new In({deserialize:n=>n.split(" ")});In.group=new In({deserialize:n=>n.split(" ")});In.isolate=new In({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});In.contextHash=new In({perNode:!0});In.lookAhead=new In({perNode:!0});In.mounted=new In({perNode:!0});const mme=Object.create(null);let pP=class iW{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):mme,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new iW(e.name||"",t,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(In.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(In.group),s=-1;s<(i?i.length:0);s++){let o=t[s<0?r.name:i[s]];if(o)return o}}}};pP.none=new pP("",Object.create(null),0,8);var QD;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(QD||(QD={}));new In({perNode:!0});let gme=0;class zi{constructor(e,t,r,i){this.name=e,this.set=t,this.base=r,this.modified=i,this.id=gme++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let r=typeof e=="string"?e:"?";if(e instanceof zi&&(t=e),t!=null&&t.base)throw new Error("Can not derive from a modified tag");let i=new zi(r,[],null,[]);if(i.set.push(i),t)for(let s of t.set)i.set.push(s);return i}static defineModifier(e){let t=new zw(e);return r=>r.modified.indexOf(t)>-1?r:zw.get(r.base||r,r.modified.concat(t).sort((i,s)=>i.id-s.id))}}let Ome=0;class zw{constructor(e){this.name=e,this.instances=[],this.id=Ome++}static get(e,t){if(!t.length)return e;let r=t[0].instances.find(a=>a.base==e&&yme(t,a.modified));if(r)return r;let i=[],s=new zi(e.name,i,e,t);for(let a of t)a.instances.push(s);let o=vme(t);for(let a of e.set)if(!a.modified.length)for(let l of o)i.push(zw.get(a,l));return s}}function yme(n,e){return n.length==e.length&&n.every((t,r)=>t==e[r])}function vme(n){let e=[[]];for(let t=0;t<n.length;t++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(n[t]));return e.sort((t,r)=>r.length-t.length)}function Ii(n){let e=Object.create(null);for(let t in n){let r=n[t];Array.isArray(r)||(r=[r]);for(let i of t.split(" "))if(i){let s=[],o=2,a=i;for(let h=0;;){if(a=="..."&&h>0&&h+3==i.length){o=1;break}let d=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!d)throw new RangeError("Invalid path: "+i);if(s.push(d[0]=="*"?"":d[0][0]=='"'?JSON.parse(d[0]):d[0]),h+=d[0].length,h==i.length)break;let m=i[h++];if(h==i.length&&m=="!"){o=0;break}if(m!="/")throw new RangeError("Invalid path: "+i);a=i.slice(h)}let l=s.length-1,c=s[l];if(!c)throw new RangeError("Invalid path: "+i);let u=new Uw(r,o,l>0?s.slice(0,l):null);e[c]=u.sort(e[c])}}return sW.add(e)}const sW=new In;class Uw{constructor(e,t,r,i){this.tags=e,this.mode=t,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Uw.empty=new Uw([],2,null);function Tc(n,e){let t=Object.create(null);for(let s of n)if(!Array.isArray(s.tag))t[s.tag.id]=s.class;else for(let o of s.tag)t[o.id]=s.class;let{scope:r,all:i=null}=e||{};return{style:s=>{let o=i;for(let a of s)for(let l of a.set){let c=t[l.id];if(c){o=o?o+" "+c:c;break}}return o},scope:r}}function wme(n,e){let t=null;for(let r of n){let i=r.style(e);i&&(t=t?t+" "+i:i)}return t}function xme(n,e,t,r=0,i=n.length){let s=new bme(r,Array.isArray(e)?e:[e],t);s.highlightRange(n.cursor(),r,i,"",s.highlighters),s.flush(i)}class bme{constructor(e,t,r){this.at=e,this.highlighters=t,this.span=r,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,r,i,s){let{type:o,from:a,to:l}=e;if(a>=r||l<=t)return;o.isTop&&(s=this.highlighters.filter(m=>!m.scope||m.scope(o)));let c=i,u=Sme(e)||Uw.empty,h=wme(s,u.tags);if(h&&(c&&(c+=" "),c+=h,u.mode==1&&(i+=(i?" ":"")+h)),this.startSpan(Math.max(t,a),c),u.opaque)return;let d=e.tree&&e.tree.prop(In.mounted);if(d&&d.overlay){let m=e.node.enter(d.overlay[0].from+a,1),g=this.highlighters.filter(v=>!v.scope||v.scope(d.tree.type)),y=e.firstChild();for(let v=0,b=a;;v++){let x=v<d.overlay.length?d.overlay[v]:null,S=x?x.from+a:l,$=Math.max(t,b),P=Math.min(r,S);if($<P&&y)for(;e.from<P&&(this.highlightRange(e,$,P,i,s),this.startSpan(Math.min(P,e.to),c),!(e.to>=S||!e.nextSibling())););if(!x||S>r)break;b=x.to+a,b>t&&(this.highlightRange(m.cursor(),Math.max(t,x.from+a),Math.min(r,b),"",g),this.startSpan(Math.min(r,b),c))}y&&e.parent()}else if(e.firstChild()){d&&(i="");do if(!(e.to<=t)){if(e.from>=r)break;this.highlightRange(e,t,r,i,s),this.startSpan(Math.min(r,e.to),c)}while(e.nextSibling());e.parent()}}}function Sme(n){let e=n.type.prop(sW);for(;e&&e.context&&!n.matchContext(e.context);)e=e.next;return e||null}const pe=zi.define,Xy=pe(),tl=pe(),$D=pe(tl),ID=pe(tl),nl=pe(),Gy=pe(nl),R1=pe(nl),Us=pe(),jc=pe(Us),Ls=pe(),zs=pe(),mP=pe(),up=pe(mP),Yy=pe(),N={comment:Xy,lineComment:pe(Xy),blockComment:pe(Xy),docComment:pe(Xy),name:tl,variableName:pe(tl),typeName:$D,tagName:pe($D),propertyName:ID,attributeName:pe(ID),className:pe(tl),labelName:pe(tl),namespace:pe(tl),macroName:pe(tl),literal:nl,string:Gy,docString:pe(Gy),character:pe(Gy),attributeValue:pe(Gy),number:R1,integer:pe(R1),float:pe(R1),bool:pe(nl),regexp:pe(nl),escape:pe(nl),color:pe(nl),url:pe(nl),keyword:Ls,self:pe(Ls),null:pe(Ls),atom:pe(Ls),unit:pe(Ls),modifier:pe(Ls),operatorKeyword:pe(Ls),controlKeyword:pe(Ls),definitionKeyword:pe(Ls),moduleKeyword:pe(Ls),operator:zs,derefOperator:pe(zs),arithmeticOperator:pe(zs),logicOperator:pe(zs),bitwiseOperator:pe(zs),compareOperator:pe(zs),updateOperator:pe(zs),definitionOperator:pe(zs),typeOperator:pe(zs),controlOperator:pe(zs),punctuation:mP,separator:pe(mP),bracket:up,angleBracket:pe(up),squareBracket:pe(up),paren:pe(up),brace:pe(up),content:Us,heading:jc,heading1:pe(jc),heading2:pe(jc),heading3:pe(jc),heading4:pe(jc),heading5:pe(jc),heading6:pe(jc),contentSeparator:pe(Us),list:pe(Us),quote:pe(Us),emphasis:pe(Us),strong:pe(Us),link:pe(Us),monospace:pe(Us),strikethrough:pe(Us),inserted:pe(),deleted:pe(),changed:pe(),invalid:pe(),meta:Yy,documentMeta:pe(Yy),annotation:pe(Yy),processingInstruction:pe(Yy),definition:zi.defineModifier("definition"),constant:zi.defineModifier("constant"),function:zi.defineModifier("function"),standard:zi.defineModifier("standard"),local:zi.defineModifier("local"),special:zi.defineModifier("special")};for(let n in N){let e=N[n];e instanceof zi&&(e.name=n)}Tc([{tag:N.link,class:"tok-link"},{tag:N.heading,class:"tok-heading"},{tag:N.emphasis,class:"tok-emphasis"},{tag:N.strong,class:"tok-strong"},{tag:N.keyword,class:"tok-keyword"},{tag:N.atom,class:"tok-atom"},{tag:N.bool,class:"tok-bool"},{tag:N.url,class:"tok-url"},{tag:N.labelName,class:"tok-labelName"},{tag:N.inserted,class:"tok-inserted"},{tag:N.deleted,class:"tok-deleted"},{tag:N.literal,class:"tok-literal"},{tag:N.string,class:"tok-string"},{tag:N.number,class:"tok-number"},{tag:[N.regexp,N.escape,N.special(N.string)],class:"tok-string2"},{tag:N.variableName,class:"tok-variableName"},{tag:N.local(N.variableName),class:"tok-variableName tok-local"},{tag:N.definition(N.variableName),class:"tok-variableName tok-definition"},{tag:N.special(N.variableName),class:"tok-variableName2"},{tag:N.definition(N.propertyName),class:"tok-propertyName tok-definition"},{tag:N.typeName,class:"tok-typeName"},{tag:N.namespace,class:"tok-namespace"},{tag:N.className,class:"tok-className"},{tag:N.macroName,class:"tok-macroName"},{tag:N.propertyName,class:"tok-propertyName"},{tag:N.operator,class:"tok-operator"},{tag:N.comment,class:"tok-comment"},{tag:N.meta,class:"tok-meta"},{tag:N.invalid,class:"tok-invalid"},{tag:N.punctuation,class:"tok-punctuation"}]);var Q1;const Lp=new ft,kme=new ft;let no=class{constructor(e,t,r=[],i=""){this.data=e,this.name=i,$e.prototype.hasOwnProperty("tree")||Object.defineProperty($e.prototype,"tree",{get(){return Tr(this)}}),this.parser=t,this.extension=[cc.of(this),$e.languageData.of((s,o,a)=>{let l=ND(s,o,a),c=l.type.prop(Lp);if(!c)return[];let u=s.facet(c),h=l.type.prop(kme);if(h){let d=l.resolve(o-l.from,a);for(let m of h)if(m.test(d,s)){let g=s.facet(m.facet);return m.type=="replace"?g:g.concat(u)}}return u})].concat(r)}isActiveAt(e,t,r=-1){return ND(e,t,r).type.prop(Lp)==this.data}findRegions(e){let t=e.facet(cc);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let r=[],i=(s,o)=>{if(s.prop(Lp)==this.data){r.push({from:o,to:o+s.length});return}let a=s.prop(ft.mounted);if(a){if(a.tree.prop(Lp)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+o,to:l.to+o});else r.push({from:o,to:o+s.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+o),r.length>l)return}}for(let l=0;l<s.children.length;l++){let c=s.children[l];c instanceof wi&&i(c,s.positions[l]+o)}};return i(Tr(e),0),r}get allowsNesting(){return!0}};no.setState=Re.define();function ND(n,e,t){let r=n.facet(cc),i=Tr(n).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,t,er.ExcludeBuffers))s.type.isTop&&(i=s);return i}function Tr(n){let e=n.field(no.state,!1);return e?e.tree:wi.empty}let _me=class{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}},hp=null,Tme=class gP{constructor(e,t,r=[],i,s,o,a,l){this.parser=e,this.state=t,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new gP(e,t,[],wi.empty,0,r,[],null)}startParse(){return this.parser.startParse(new _me(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=wi.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(J0.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(J0.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=hp;hp=this;try{return e()}finally{hp=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=jD(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:i,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,u,h,d)=>l.push({fromA:c,toA:u,fromB:h,toB:d})),r=J0.applyChanges(r,l),i=wi.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),h=e.mapPos(c.to,-1);u<h&&a.push({from:u,to:h})}}}return new gP(this.parser,t,r,i,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=jD(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends dme{createParse(t,r,i){let s=i[0].from,o=i[i.length-1].to;return{parsedPos:s,advance(){let l=hp;if(l){for(let c of i)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new wi(To.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return hp}};function jD(n,e,t){return J0.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}let OP=class yP{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new yP(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=Tme.create(e.facet(cc).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new yP(r)}};no.state=Lt.define({create:OP.init,update(n,e){for(let t of e.effects)if(t.is(no.setState))return t.value;return e.startState.facet(cc)!=e.state.facet(cc)?OP.init(e.state):n.apply(e)}});let oW=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(oW=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const $1=typeof navigator<"u"&&(!((Q1=navigator.scheduling)===null||Q1===void 0)&&Q1.isInputPending)?()=>navigator.scheduling.isInputPending():null,Pme=Qt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(no.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(no.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=oW(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(no.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!$1?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<i&&r.doc.length>i+1e3,l=s.context.work(()=>$1&&$1()||Date.now()>o,i+(a?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:no.setState.of(new OP(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>xn(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),cc=ce.define({combine(n){return n.length?n[0]:null},enables:n=>[no.state,Pme,ue.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]}),Cme=ce.define(),MR=ce.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}});function Zw(n){let e=n.facet(MR);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function _g(n,e){let t="",r=n.tabSize,i=n.facet(MR)[0];if(i=="	"){for(;e>=r;)t+="	",e-=r;i=" "}for(let s=0;s<e;s++)t+=i;return t}function VR(n,e){n instanceof $e&&(n=new $b(n));for(let r of n.state.facet(Cme)){let i=r(n,e);if(i!==void 0)return i}let t=Tr(n.state);return t.length>=e?Ame(n,t,e):null}class $b{constructor(e,t={}){this.state=e,this.options=t,this.unit=Zw(e)}lineAt(e,t=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:s}=this.options;return i!=null&&i>=r.from&&i<=r.to?s&&i==e?{text:"",from:e}:(t<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,t);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,t=1){let{text:r,from:i}=this.lineAt(e,t),s=this.countColumn(r,e-i),o=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return o>-1&&(s+=o-this.countColumn(r,r.search(/\S|$/))),s}countColumn(e,t=e.length){return _f(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:r,from:i}=this.lineAt(e,t),s=this.options.overrideIndentation;if(s){let o=s(i);if(o>-1)return o}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const Eme=new ft;function Ame(n,e,t){let r=e.resolveStack(t),i=e.resolveInner(t,-1).resolve(t,0).enterUnfinishedNodesBefore(t);if(i!=r.node){let s=[];for(let o=i;o&&!(o.from==r.node.from&&o.type==r.node.type);o=o.parent)s.push(o);for(let o=s.length-1;o>=0;o--)r={node:s[o],next:r}}return aW(r,n,t)}function aW(n,e,t){for(let r=n;r;r=r.next){let i=Qme(r.node);if(i)return i(LR.create(e,t,r))}return 0}function Rme(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function Qme(n){let e=n.type.prop(Eme);if(e)return e;let t=n.firstChild,r;if(t&&(r=t.type.prop(ft.closedBy))){let i=n.lastChild,s=i&&r.indexOf(i.name)>-1;return o=>jme(o,!0,1,void 0,s&&!Rme(o)?i.from:void 0)}return n.parent==null?$me:null}function $me(){return 0}class LR extends $b{constructor(e,t,r){super(e.state,e.options),this.base=e,this.pos=t,this.context=r}get node(){return this.context.node}static create(e,t,r){return new LR(e,t,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(t.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(Ime(r,e))break;t=this.state.doc.lineAt(r.from)}return this.lineIndent(t.from)}continue(){return aW(this.context.next,this.base,this.pos)}}function Ime(n,e){for(let t=e;t;t=t.parent)if(n==t)return!0;return!1}function Nme(n){let e=n.node,t=e.childAfter(e.from),r=e.lastChild;if(!t)return null;let i=n.options.simulateBreak,s=n.state.doc.lineAt(t.from),o=i==null||i<=s.from?s.to:Math.min(s.to,i);for(let a=t.to;;){let l=e.childAfter(a);if(!l||l==r)return null;if(!l.type.isSkipped){if(l.from>=o)return null;let c=/^ */.exec(s.text.slice(t.to-s.from))[0].length;return{from:t.from,to:t.to+c}}a=l.to}}function jme(n,e,t,r,i){let s=n.textAfter,o=s.match(/^\s*/)[0].length,a=i==n.pos+o,l=Nme(n);return l?a?n.column(l.from):n.column(l.to):n.baseIndent+(a?0:n.unit*t)}const Dme=200;function Mme(){return $e.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let e=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!e.length)return n;let t=n.newDoc,{head:r}=n.newSelection.main,i=t.lineAt(r);if(r>i.from+Dme)return n;let s=t.sliceString(i.from,r);if(!e.some(c=>c.test(s)))return n;let{state:o}=n,a=-1,l=[];for(let{head:c}of o.selection.ranges){let u=o.doc.lineAt(c);if(u.from==a)continue;a=u.from;let h=VR(o,u.from);if(h==null)continue;let d=/^\s*/.exec(u.text)[0],m=_g(o,h);d!=m&&l.push({from:u.from,to:u.from+d.length,insert:m})}return l.length?[n,{changes:l,sequential:!0}]:n})}const Vme=ce.define(),Lme=new ft;function zme(n,e,t){let r=Tr(n);if(r.length<t)return null;let i=r.resolveStack(t,1),s=null;for(let o=i;o;o=o.next){let a=o.node;if(a.to<=t||a.from>t)continue;if(s&&a.from<e)break;let l=a.type.prop(Lme);if(l&&(a.to<r.length-50||r.length==n.doc.length||!Ume(a))){let c=l(a,n);c&&c.from<=t&&c.from>=e&&c.to>t&&(s=c)}}return s}function Ume(n){let e=n.lastChild;return e&&e.to==n.to&&e.type.isError}function qw(n,e,t){for(let r of n.facet(Vme)){let i=r(n,e,t);if(i)return i}return zme(n,e,t)}function lW(n,e){let t=e.mapPos(n.from,1),r=e.mapPos(n.to,-1);return t>=r?void 0:{from:t,to:r}}const Ib=Re.define({map:lW}),EO=Re.define({map:lW});function cW(n){let e=[];for(let{head:t}of n.state.selection.ranges)e.some(r=>r.from<=t&&r.to>=t)||e.push(n.lineBlockAt(t));return e}const Qu=Lt.define({create(){return me.none},update(n,e){n=n.map(e.changes);for(let t of e.effects)if(t.is(Ib)&&!Zme(n,t.value.from,t.value.to)){let{preparePlaceholder:r}=e.state.facet(dW),i=r?me.replace({widget:new Yme(r(e.state,t.value))}):DD;n=n.update({add:[i.range(t.value.from,t.value.to)]})}else t.is(EO)&&(n=n.update({filter:(r,i)=>t.value.from!=r||t.value.to!=i,filterFrom:t.value.from,filterTo:t.value.to}));if(e.selection){let t=!1,{head:r}=e.selection.main;n.between(r,r,(i,s)=>{i<r&&s>r&&(t=!0)}),t&&(n=n.update({filterFrom:r,filterTo:r,filter:(i,s)=>s<=r||i>=r}))}return n},provide:n=>ue.decorations.from(n),toJSON(n,e){let t=[];return n.between(0,e.doc.length,(r,i)=>{t.push(r,i)}),t},fromJSON(n){if(!Array.isArray(n)||n.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<n.length;){let r=n[t++],i=n[t++];if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(DD.range(r,i))}return me.set(e,!0)}});function Bw(n,e,t){var r;let i=null;return(r=n.field(Qu,!1))===null||r===void 0||r.between(e,t,(s,o)=>{(!i||i.from>s)&&(i={from:s,to:o})}),i}function Zme(n,e,t){let r=!1;return n.between(e,e,(i,s)=>{i==e&&s==t&&(r=!0)}),r}function uW(n,e){return n.field(Qu,!1)?e:e.concat(Re.appendConfig.of(fW()))}const qme=n=>{for(let e of cW(n)){let t=qw(n.state,e.from,e.to);if(t)return n.dispatch({effects:uW(n.state,[Ib.of(t),hW(n,t)])}),!0}return!1},Bme=n=>{if(!n.state.field(Qu,!1))return!1;let e=[];for(let t of cW(n)){let r=Bw(n.state,t.from,t.to);r&&e.push(EO.of(r),hW(n,r,!1))}return e.length&&n.dispatch({effects:e}),e.length>0};function hW(n,e,t=!0){let r=n.state.doc.lineAt(e.from).number,i=n.state.doc.lineAt(e.to).number;return ue.announce.of(`${n.state.phrase(t?"Folded lines":"Unfolded lines")} ${r} ${n.state.phrase("to")} ${i}.`)}const Fme=n=>{let{state:e}=n,t=[];for(let r=0;r<e.doc.length;){let i=n.lineBlockAt(r),s=qw(e,i.from,i.to);s&&t.push(Ib.of(s)),r=(s?n.lineBlockAt(s.to):i).to+1}return t.length&&n.dispatch({effects:uW(n.state,t)}),!!t.length},Wme=n=>{let e=n.state.field(Qu,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,n.state.doc.length,(r,i)=>{t.push(EO.of({from:r,to:i}))}),n.dispatch({effects:t}),!0},Xme=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:qme},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:Bme},{key:"Ctrl-Alt-[",run:Fme},{key:"Ctrl-Alt-]",run:Wme}],Gme={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},dW=ce.define({combine(n){return Vo(n,Gme)}});function fW(n){return[Qu,Jme]}function pW(n,e){let{state:t}=n,r=t.facet(dW),i=o=>{let a=n.lineBlockAt(n.posAtDOM(o.target)),l=Bw(n.state,a.from,a.to);l&&n.dispatch({effects:EO.of(l)}),o.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(n,i,e);let s=document.createElement("span");return s.textContent=r.placeholderText,s.setAttribute("aria-label",t.phrase("folded code")),s.title=t.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=i,s}const DD=me.replace({widget:new class extends Lo{toDOM(n){return pW(n,null)}}});class Yme extends Lo{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return pW(e,this.value)}}const Hme={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class I1 extends Qa{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function Kme(n={}){let e=Object.assign(Object.assign({},Hme),n),t=new I1(e,!0),r=new I1(e,!1),i=Qt.fromClass(class{constructor(o){this.from=o.viewport.from,this.markers=this.buildMarkers(o)}update(o){(o.docChanged||o.viewportChanged||o.startState.facet(cc)!=o.state.facet(cc)||o.startState.field(Qu,!1)!=o.state.field(Qu,!1)||Tr(o.startState)!=Tr(o.state)||e.foldingChanged(o))&&(this.markers=this.buildMarkers(o.view))}buildMarkers(o){let a=new Aa;for(let l of o.viewportLineBlocks){let c=Bw(o.state,l.from,l.to)?r:qw(o.state,l.from,l.to)?t:null;c&&a.add(l.from,l.from,c)}return a.finish()}}),{domEventHandlers:s}=e;return[i,Wpe({class:"cm-foldGutter",markers(o){var a;return((a=o.plugin(i))===null||a===void 0?void 0:a.markers)||ht.empty},initialSpacer(){return new I1(e,!1)},domEventHandlers:Object.assign(Object.assign({},s),{click:(o,a,l)=>{if(s.click&&s.click(o,a,l))return!0;let c=Bw(o.state,a.from,a.to);if(c)return o.dispatch({effects:EO.of(c)}),!0;let u=qw(o.state,a.from,a.to);return u?(o.dispatch({effects:Ib.of(u)}),!0):!1}})}),fW()]}const Jme=ue.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});let mW=class gW{constructor(e,t){this.specs=e;let r;function i(a){let l=bn.newName();return(r||(r=Object.create(null)))["."+l]=a,l}const s=typeof t.all=="string"?t.all:t.all?i(t.all):void 0,o=t.scope;this.scope=o instanceof no?a=>a.prop(Lp)==o.data:o?a=>a==o:void 0,this.style=Tc(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=r?new bn(r):null,this.themeType=t.themeType}static define(e,t){return new gW(e,t||{})}};const vP=ce.define(),OW=ce.define({combine(n){return n.length?[n[0]]:null}});function N1(n){let e=n.facet(vP);return e.length?e:n.facet(OW)}function ege(n,e){let t=[nge],r;return n instanceof mW&&(n.module&&t.push(ue.styleModule.of(n.module)),r=n.themeType),e!=null&&e.fallback?t.push(OW.of(n)):r?t.push(vP.computeN([ue.darkTheme],i=>i.facet(ue.darkTheme)==(r=="dark")?[n]:[])):t.push(vP.of(n)),t}class tge{constructor(e){this.markCache=Object.create(null),this.tree=Tr(e.state),this.decorations=this.buildDeco(e,N1(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=Tr(e.state),r=N1(e.state),i=r!=N1(e.startState),{viewport:s}=e.view,o=e.changes.mapPos(this.decoratedTo,1);t.length<s.to&&!i&&t.type==this.tree.type&&o>=s.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=o):(t!=this.tree||e.viewportChanged||i)&&(this.tree=t,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=s.to)}buildDeco(e,t){if(!t||!this.tree.length)return me.none;let r=new Aa;for(let{from:i,to:s}of e.visibleRanges)xme(this.tree,t,(o,a,l)=>{r.add(o,a,this.markCache[l]||(this.markCache[l]=me.mark({class:l})))},i,s);return r.finish()}}const nge=za.high(Qt.fromClass(tge,{decorations:n=>n.decorations})),rge=mW.define([{tag:N.meta,color:"#404740"},{tag:N.link,textDecoration:"underline"},{tag:N.heading,textDecoration:"underline",fontWeight:"bold"},{tag:N.emphasis,fontStyle:"italic"},{tag:N.strong,fontWeight:"bold"},{tag:N.strikethrough,textDecoration:"line-through"},{tag:N.keyword,color:"#708"},{tag:[N.atom,N.bool,N.url,N.contentSeparator,N.labelName],color:"#219"},{tag:[N.literal,N.inserted],color:"#164"},{tag:[N.string,N.deleted],color:"#a11"},{tag:[N.regexp,N.escape,N.special(N.string)],color:"#e40"},{tag:N.definition(N.variableName),color:"#00f"},{tag:N.local(N.variableName),color:"#30a"},{tag:[N.typeName,N.namespace],color:"#085"},{tag:N.className,color:"#167"},{tag:[N.special(N.variableName),N.macroName],color:"#256"},{tag:N.definition(N.propertyName),color:"#00c"},{tag:N.comment,color:"#940"},{tag:N.invalid,color:"#f00"}]),ige=ue.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),yW=1e4,vW="()[]{}",wW=ce.define({combine(n){return Vo(n,{afterCursor:!0,brackets:vW,maxScanDistance:yW,renderMatch:age})}}),sge=me.mark({class:"cm-matchingBracket"}),oge=me.mark({class:"cm-nonmatchingBracket"});function age(n){let e=[],t=n.matched?sge:oge;return e.push(t.range(n.start.from,n.start.to)),n.end&&e.push(t.range(n.end.from,n.end.to)),e}const lge=Lt.define({create(){return me.none},update(n,e){if(!e.docChanged&&!e.selection)return n;let t=[],r=e.state.facet(wW);for(let i of e.state.selection.ranges){if(!i.empty)continue;let s=ro(e.state,i.head,-1,r)||i.head>0&&ro(e.state,i.head-1,1,r)||r.afterCursor&&(ro(e.state,i.head,1,r)||i.head<e.state.doc.length&&ro(e.state,i.head+1,-1,r));s&&(t=t.concat(r.renderMatch(s,e.state)))}return me.set(t,!0)},provide:n=>ue.decorations.from(n)}),cge=[lge,ige];function uge(n={}){return[wW.of(n),cge]}const hge=new ft;function wP(n,e,t){let r=n.prop(e<0?ft.openedBy:ft.closedBy);if(r)return r;if(n.name.length==1){let i=t.indexOf(n.name);if(i>-1&&i%2==(e<0?1:0))return[t[i+e]]}return null}function xP(n){let e=n.type.prop(hge);return e?e(n.node):n}function ro(n,e,t,r={}){let i=r.maxScanDistance||yW,s=r.brackets||vW,o=Tr(n),a=o.resolveInner(e,t);for(let l=a;l;l=l.parent){let c=wP(l.type,t,s);if(c&&l.from<l.to){let u=xP(l);if(u&&(t>0?e>=u.from&&e<u.to:e>u.from&&e<=u.to))return dge(n,e,t,l,u,c,s)}}return fge(n,e,t,o,a.type,i,s)}function dge(n,e,t,r,i,s,o){let a=r.parent,l={from:i.from,to:i.to},c=0,u=a==null?void 0:a.cursor();if(u&&(t<0?u.childBefore(r.from):u.childAfter(r.to)))do if(t<0?u.to<=r.from:u.from>=r.to){if(c==0&&s.indexOf(u.type.name)>-1&&u.from<u.to){let h=xP(u);return{start:l,end:h?{from:h.from,to:h.to}:void 0,matched:!0}}else if(wP(u.type,t,o))c++;else if(wP(u.type,-t,o)){if(c==0){let h=xP(u);return{start:l,end:h&&h.from<h.to?{from:h.from,to:h.to}:void 0,matched:!1}}c--}}while(t<0?u.prevSibling():u.nextSibling());return{start:l,matched:!1}}function fge(n,e,t,r,i,s,o){let a=t<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),l=o.indexOf(a);if(l<0||l%2==0!=t>0)return null;let c={from:t<0?e-1:e,to:t>0?e+1:e},u=n.doc.iterRange(e,t>0?n.doc.length:0),h=0;for(let d=0;!u.next().done&&d<=s;){let m=u.value;t<0&&(d+=m.length);let g=e+d*t;for(let y=t>0?0:m.length-1,v=t>0?m.length:-1;y!=v;y+=t){let b=o.indexOf(m[y]);if(!(b<0||r.resolveInner(g+y,1).type!=i))if(b%2==0==t>0)h++;else{if(h==1)return{start:c,end:{from:g+y,to:g+y+1},matched:b>>1==l>>1};h--}}t>0&&(d+=m.length)}return u.done?{start:c,matched:!1}:null}const pge=Object.create(null),MD=[To.none],VD=[],LD=Object.create(null),mge=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])mge[n]=gge(pge,e);function j1(n,e){VD.indexOf(n)>-1||(VD.push(n),console.warn(e))}function gge(n,e){let t=[];for(let a of e.split(" ")){let l=[];for(let c of a.split(".")){let u=n[c]||N[c];u?typeof u=="function"?l.length?l=l.map(u):j1(c,`Modifier ${c} used at start of tag`):l.length?j1(c,`Tag ${c} used as modifier`):l=Array.isArray(u)?u:[u]:j1(c,`Unknown highlighting tag ${c}`)}for(let c of l)t.push(c)}if(!t.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+t.map(a=>a.id),s=LD[i];if(s)return s.id;let o=LD[i]=To.define({id:MD.length,name:r,props:[Ii({[r]:t})]});return MD.push(o),o.id}Ke.RTL,Ke.LTR;const Oge=n=>{let{state:e}=n,t=e.doc.lineAt(e.selection.main.from),r=UR(n.state,t.from);return r.line?yge(n):r.block?wge(n):!1};function zR(n,e){return({state:t,dispatch:r})=>{if(t.readOnly)return!1;let i=n(e,t);return i?(r(t.update(i)),!0):!1}}const yge=zR(Sge,0),vge=zR(xW,0),wge=zR((n,e)=>xW(n,e,bge(e)),0);function UR(n,e){let t=n.languageDataAt("commentTokens",e);return t.length?t[0]:{}}const dp=50;function xge(n,{open:e,close:t},r,i){let s=n.sliceDoc(r-dp,r),o=n.sliceDoc(i,i+dp),a=/\s*$/.exec(s)[0].length,l=/^\s*/.exec(o)[0].length,c=s.length-a;if(s.slice(c-e.length,c)==e&&o.slice(l,l+t.length)==t)return{open:{pos:r-a,margin:a&&1},close:{pos:i+l,margin:l&&1}};let u,h;i-r<=2*dp?u=h=n.sliceDoc(r,i):(u=n.sliceDoc(r,r+dp),h=n.sliceDoc(i-dp,i));let d=/^\s*/.exec(u)[0].length,m=/\s*$/.exec(h)[0].length,g=h.length-m-t.length;return u.slice(d,d+e.length)==e&&h.slice(g,g+t.length)==t?{open:{pos:r+d+e.length,margin:/\s/.test(u.charAt(d+e.length))?1:0},close:{pos:i-m-t.length,margin:/\s/.test(h.charAt(g-1))?1:0}}:null}function bge(n){let e=[];for(let t of n.selection.ranges){let r=n.doc.lineAt(t.from),i=t.to<=r.to?r:n.doc.lineAt(t.to);i.from>r.from&&i.from==t.to&&(i=t.to==r.to+1?r:n.doc.lineAt(t.to-1));let s=e.length-1;s>=0&&e[s].to>r.from?e[s].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}function xW(n,e,t=e.selection.ranges){let r=t.map(s=>UR(e,s.from).block);if(!r.every(s=>s))return null;let i=t.map((s,o)=>xge(e,r[o],s.from,s.to));if(n!=2&&!i.every(s=>s))return{changes:e.changes(t.map((s,o)=>i[o]?[]:[{from:s.from,insert:r[o].open+" "},{from:s.to,insert:" "+r[o].close}]))};if(n!=1&&i.some(s=>s)){let s=[];for(let o=0,a;o<i.length;o++)if(a=i[o]){let l=r[o],{open:c,close:u}=a;s.push({from:c.pos-l.open.length,to:c.pos+c.margin},{from:u.pos-u.margin,to:u.pos+l.close.length})}return{changes:s}}return null}function Sge(n,e,t=e.selection.ranges){let r=[],i=-1;for(let{from:s,to:o}of t){let a=r.length,l=1e9,c=UR(e,s).line;if(c){for(let u=s;u<=o;){let h=e.doc.lineAt(u);if(h.from>i&&(s==o||o>h.from)){i=h.from;let d=/^\s*/.exec(h.text)[0].length,m=d==h.length,g=h.text.slice(d,d+c.length)==c?d:-1;d<h.text.length&&d<l&&(l=d),r.push({line:h,comment:g,token:c,indent:d,empty:m,single:!1})}u=h.to+1}if(l<1e9)for(let u=a;u<r.length;u++)r[u].indent<r[u].line.text.length&&(r[u].indent=l);r.length==a+1&&(r[a].single=!0)}}if(n!=2&&r.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:a,token:l,indent:c,empty:u,single:h}of r)(h||!u)&&s.push({from:a.from+c,insert:l+" "});let o=e.changes(s);return{changes:o,selection:e.selection.map(o,1)}}else if(n!=1&&r.some(s=>s.comment>=0)){let s=[];for(let{line:o,comment:a,token:l}of r)if(a>=0){let c=o.from+a,u=c+l.length;o.text[u-o.from]==" "&&u++,s.push({from:c,to:u})}return{changes:s}}return null}const bP=Is.define(),kge=Is.define(),_ge=ce.define(),bW=ce.define({combine(n){return Vo(n,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(r,i)=>e(r,i)||t(r,i)})}}),SW=Lt.define({create(){return io.empty},update(n,e){let t=e.state.facet(bW),r=e.annotation(bP);if(r){let l=ti.fromTransaction(e,r.selection),c=r.side,u=c==0?n.undone:n.done;return l?u=Fw(u,u.length,t.minDepth,l):u=TW(u,e.startState.selection),new io(c==0?r.rest:u,c==0?u:r.rest)}let i=e.annotation(kge);if((i=="full"||i=="before")&&(n=n.isolate()),e.annotation(dn.addToHistory)===!1)return e.changes.empty?n:n.addMapping(e.changes.desc);let s=ti.fromTransaction(e),o=e.annotation(dn.time),a=e.annotation(dn.userEvent);return s?n=n.addChanges(s,o,a,t,e):e.selection&&(n=n.addSelection(e.startState.selection,o,a,t.newGroupDelay)),(i=="full"||i=="after")&&(n=n.isolate()),n},toJSON(n){return{done:n.done.map(e=>e.toJSON()),undone:n.undone.map(e=>e.toJSON())}},fromJSON(n){return new io(n.done.map(ti.fromJSON),n.undone.map(ti.fromJSON))}});function Tge(n={}){return[SW,bW.of(n),ue.domEventHandlers({beforeinput(e,t){let r=e.inputType=="historyUndo"?kW:e.inputType=="historyRedo"?SP:null;return r?(e.preventDefault(),r(t)):!1}})]}function Nb(n,e){return function({state:t,dispatch:r}){if(!e&&t.readOnly)return!1;let i=t.field(SW,!1);if(!i)return!1;let s=i.pop(n,t,e);return s?(r(s),!0):!1}}const kW=Nb(0,!1),SP=Nb(1,!1),Pge=Nb(0,!0),Cge=Nb(1,!0);class ti{constructor(e,t,r,i,s){this.changes=e,this.effects=t,this.mapped=r,this.startSelection=i,this.selectionsAfter=s}setSelAfter(e){return new ti(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new ti(e.changes&&Pn.fromJSON(e.changes),[],e.mapped&&go.fromJSON(e.mapped),e.startSelection&&K.fromJSON(e.startSelection),e.selectionsAfter.map(K.fromJSON))}static fromTransaction(e,t){let r=qi;for(let i of e.startState.facet(_ge)){let s=i(e);s.length&&(r=r.concat(s))}return!r.length&&e.changes.empty?null:new ti(e.changes.invert(e.startState.doc),r,void 0,t||e.startState.selection,qi)}static selection(e){return new ti(void 0,qi,void 0,void 0,e)}}function Fw(n,e,t,r){let i=e+1>t+20?e-t-1:0,s=n.slice(i,e);return s.push(r),s}function Ege(n,e){let t=[],r=!1;return n.iterChangedRanges((i,s)=>t.push(i,s)),e.iterChangedRanges((i,s,o,a)=>{for(let l=0;l<t.length;){let c=t[l++],u=t[l++];a>=c&&o<=u&&(r=!0)}}),r}function Age(n,e){return n.ranges.length==e.ranges.length&&n.ranges.filter((t,r)=>t.empty!=e.ranges[r].empty).length===0}function _W(n,e){return n.length?e.length?n.concat(e):n:e}const qi=[],Rge=200;function TW(n,e){if(n.length){let t=n[n.length-1],r=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-Rge));return r.length&&r[r.length-1].eq(e)?n:(r.push(e),Fw(n,n.length-1,1e9,t.setSelAfter(r)))}else return[ti.selection([e])]}function Qge(n){let e=n[n.length-1],t=n.slice();return t[n.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function D1(n,e){if(!n.length)return n;let t=n.length,r=qi;for(;t;){let i=$ge(n[t-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let s=n.slice(0,t);return s[t-1]=i,s}else e=i.mapped,t--,r=i.selectionsAfter}return r.length?[ti.selection(r)]:qi}function $ge(n,e,t){let r=_W(n.selectionsAfter.length?n.selectionsAfter.map(a=>a.map(e)):qi,t);if(!n.changes)return ti.selection(r);let i=n.changes.map(e),s=e.mapDesc(n.changes,!0),o=n.mapped?n.mapped.composeDesc(s):s;return new ti(i,Re.mapEffects(n.effects,e),o,n.startSelection.map(s),r)}const Ige=/^(input\.type|delete)($|\.)/;class io{constructor(e,t,r=0,i=void 0){this.done=e,this.undone=t,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new io(this.done,this.undone):this}addChanges(e,t,r,i,s){let o=this.done,a=o[o.length-1];return a&&a.changes&&!a.changes.empty&&e.changes&&(!r||Ige.test(r))&&(!a.selectionsAfter.length&&t-this.prevTime<i.newGroupDelay&&i.joinToEvent(s,Ege(a.changes,e.changes))||r=="input.type.compose")?o=Fw(o,o.length-1,i.minDepth,new ti(e.changes.compose(a.changes),_W(Re.mapEffects(e.effects,a.changes),a.effects),a.mapped,a.startSelection,qi)):o=Fw(o,o.length,i.minDepth,e),new io(o,qi,t,r)}addSelection(e,t,r,i){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:qi;return s.length>0&&t-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&Age(s[s.length-1],e)?this:new io(TW(this.done,e),this.undone,t,r)}addMapping(e){return new io(D1(this.done,e),D1(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,r){let i=e==0?this.done:this.undone;if(i.length==0)return null;let s=i[i.length-1],o=s.selectionsAfter[0]||t.selection;if(r&&s.selectionsAfter.length)return t.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:bP.of({side:e,rest:Qge(i),selection:o}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let a=i.length==1?qi:i.slice(0,i.length-1);return s.mapped&&(a=D1(a,s.mapped)),t.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:bP.of({side:e,rest:a,selection:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}io.empty=new io(qi,qi);const Nge=[{key:"Mod-z",run:kW,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:SP,preventDefault:!0},{linux:"Ctrl-Shift-z",run:SP,preventDefault:!0},{key:"Mod-u",run:Pge,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:Cge,preventDefault:!0}];function Tf(n,e){return K.create(n.ranges.map(e),n.mainIndex)}function zo(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Ns({state:n,dispatch:e},t){let r=Tf(n.selection,t);return r.eq(n.selection,!0)?!1:(e(zo(n,r)),!0)}function jb(n,e){return K.cursor(e?n.to:n.from)}function PW(n,e){return Ns(n,t=>t.empty?n.moveByChar(t,e):jb(t,e))}function Pr(n){return n.textDirectionAt(n.state.selection.main.head)==Ke.LTR}const CW=n=>PW(n,!Pr(n)),EW=n=>PW(n,Pr(n));function AW(n,e){return Ns(n,t=>t.empty?n.moveByGroup(t,e):jb(t,e))}const jge=n=>AW(n,!Pr(n)),Dge=n=>AW(n,Pr(n));function Mge(n,e,t){if(e.type.prop(t))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function Db(n,e,t){let r=Tr(n).resolveInner(e.head),i=t?ft.closedBy:ft.openedBy;for(let l=e.head;;){let c=t?r.childAfter(l):r.childBefore(l);if(!c)break;Mge(n,c,i)?r=c:l=t?c.to:c.from}let s=r.type.prop(i),o,a;return s&&(o=t?ro(n,r.from,1):ro(n,r.to,-1))&&o.matched?a=t?o.end.to:o.end.from:a=t?r.to:r.from,K.cursor(a,t?-1:1)}const Vge=n=>Ns(n,e=>Db(n.state,e,!Pr(n))),Lge=n=>Ns(n,e=>Db(n.state,e,Pr(n)));function RW(n,e){return Ns(n,t=>{if(!t.empty)return jb(t,e);let r=n.moveVertically(t,e);return r.head!=t.head?r:n.moveToLineBoundary(t,e)})}const QW=n=>RW(n,!1),$W=n=>RW(n,!0);function IW(n){let e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,t=0,r=0,i;if(e){for(let s of n.state.facet(ue.scrollMargins)){let o=s(n);o!=null&&o.top&&(t=Math.max(o==null?void 0:o.top,t)),o!=null&&o.bottom&&(r=Math.max(o==null?void 0:o.bottom,r))}i=n.scrollDOM.clientHeight-t-r}else i=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:r,selfScroll:e,height:Math.max(n.defaultLineHeight,i-5)}}function NW(n,e){let t=IW(n),{state:r}=n,i=Tf(r.selection,o=>o.empty?n.moveVertically(o,e,t.height):jb(o,e));if(i.eq(r.selection))return!1;let s;if(t.selfScroll){let o=n.coordsAtPos(r.selection.main.head),a=n.scrollDOM.getBoundingClientRect(),l=a.top+t.marginTop,c=a.bottom-t.marginBottom;o&&o.top>l&&o.bottom<c&&(s=ue.scrollIntoView(i.main.head,{y:"start",yMargin:o.top-l}))}return n.dispatch(zo(r,i),{effects:s}),!0}const zD=n=>NW(n,!1),kP=n=>NW(n,!0);function Pc(n,e,t){let r=n.lineBlockAt(e.head),i=n.moveToLineBoundary(e,t);if(i.head==e.head&&i.head!=(t?r.to:r.from)&&(i=n.moveToLineBoundary(e,t,!1)),!t&&i.head==r.from&&r.length){let s=/^\s*/.exec(n.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;s&&e.head!=r.from+s&&(i=K.cursor(r.from+s))}return i}const zge=n=>Ns(n,e=>Pc(n,e,!0)),Uge=n=>Ns(n,e=>Pc(n,e,!1)),Zge=n=>Ns(n,e=>Pc(n,e,!Pr(n))),qge=n=>Ns(n,e=>Pc(n,e,Pr(n))),Bge=n=>Ns(n,e=>K.cursor(n.lineBlockAt(e.head).from,1)),Fge=n=>Ns(n,e=>K.cursor(n.lineBlockAt(e.head).to,-1));function Wge(n,e,t){let r=!1,i=Tf(n.selection,s=>{let o=ro(n,s.head,-1)||ro(n,s.head,1)||s.head>0&&ro(n,s.head-1,1)||s.head<n.doc.length&&ro(n,s.head+1,-1);if(!o||!o.end)return s;r=!0;let a=o.start.from==s.head?o.end.to:o.end.from;return K.cursor(a)});return r?(e(zo(n,i)),!0):!1}const Xge=({state:n,dispatch:e})=>Wge(n,e);function ns(n,e){let t=Tf(n.state.selection,r=>{let i=e(r);return K.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return t.eq(n.state.selection)?!1:(n.dispatch(zo(n.state,t)),!0)}function jW(n,e){return ns(n,t=>n.moveByChar(t,e))}const DW=n=>jW(n,!Pr(n)),MW=n=>jW(n,Pr(n));function VW(n,e){return ns(n,t=>n.moveByGroup(t,e))}const Gge=n=>VW(n,!Pr(n)),Yge=n=>VW(n,Pr(n)),Hge=n=>ns(n,e=>Db(n.state,e,!Pr(n))),Kge=n=>ns(n,e=>Db(n.state,e,Pr(n)));function LW(n,e){return ns(n,t=>n.moveVertically(t,e))}const zW=n=>LW(n,!1),UW=n=>LW(n,!0);function ZW(n,e){return ns(n,t=>n.moveVertically(t,e,IW(n).height))}const UD=n=>ZW(n,!1),ZD=n=>ZW(n,!0),Jge=n=>ns(n,e=>Pc(n,e,!0)),eOe=n=>ns(n,e=>Pc(n,e,!1)),tOe=n=>ns(n,e=>Pc(n,e,!Pr(n))),nOe=n=>ns(n,e=>Pc(n,e,Pr(n))),rOe=n=>ns(n,e=>K.cursor(n.lineBlockAt(e.head).from)),iOe=n=>ns(n,e=>K.cursor(n.lineBlockAt(e.head).to)),qD=({state:n,dispatch:e})=>(e(zo(n,{anchor:0})),!0),BD=({state:n,dispatch:e})=>(e(zo(n,{anchor:n.doc.length})),!0),FD=({state:n,dispatch:e})=>(e(zo(n,{anchor:n.selection.main.anchor,head:0})),!0),WD=({state:n,dispatch:e})=>(e(zo(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),sOe=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),oOe=({state:n,dispatch:e})=>{let t=Mb(n).map(({from:r,to:i})=>K.range(r,Math.min(i+1,n.doc.length)));return e(n.update({selection:K.create(t),userEvent:"select"})),!0},aOe=({state:n,dispatch:e})=>{let t=Tf(n.selection,r=>{let i=Tr(n),s=i.resolveStack(r.from,1);if(r.empty){let o=i.resolveStack(r.from,-1);o.node.from>=s.node.from&&o.node.to<=s.node.to&&(s=o)}for(let o=s;o;o=o.next){let{node:a}=o;if((a.from<r.from&&a.to>=r.to||a.to>r.to&&a.from<=r.from)&&o.next)return K.range(a.to,a.from)}return r});return t.eq(n.selection)?!1:(e(zo(n,t)),!0)},lOe=({state:n,dispatch:e})=>{let t=n.selection,r=null;return t.ranges.length>1?r=K.create([t.main]):t.main.empty||(r=K.create([K.cursor(t.main.head)])),r?(e(zo(n,r)),!0):!1};function AO(n,e){if(n.state.readOnly)return!1;let t="delete.selection",{state:r}=n,i=r.changeByRange(s=>{let{from:o,to:a}=s;if(o==a){let l=e(s);l<o?(t="delete.backward",l=Hy(n,l,!1)):l>o&&(t="delete.forward",l=Hy(n,l,!0)),o=Math.min(o,l),a=Math.max(a,l)}else o=Hy(n,o,!1),a=Hy(n,a,!0);return o==a?{range:s}:{changes:{from:o,to:a},range:K.cursor(o,o<s.head?-1:1)}});return i.changes.empty?!1:(n.dispatch(r.update(i,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?ue.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function Hy(n,e,t){if(n instanceof ue)for(let r of n.state.facet(ue.atomicRanges).map(i=>i(n)))r.between(e,e,(i,s)=>{i<e&&s>e&&(e=t?s:i)});return e}const qW=(n,e,t)=>AO(n,r=>{let i=r.from,{state:s}=n,o=s.doc.lineAt(i),a,l;if(t&&!e&&i>o.from&&i<o.from+200&&!/[^ \t]/.test(a=o.text.slice(0,i-o.from))){if(a[a.length-1]=="	")return i-1;let c=_f(a,s.tabSize),u=c%Zw(s)||Zw(s);for(let h=0;h<u&&a[a.length-1-h]==" ";h++)i--;l=i}else l=or(o.text,i-o.from,e,e)+o.from,l==i&&o.number!=(e?s.doc.lines:1)?l+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(o.text.slice(l-o.from,i-o.from))&&(l=or(o.text,l-o.from,!1,!1)+o.from);return l}),_P=n=>qW(n,!1,!0),BW=n=>qW(n,!0,!1),FW=(n,e)=>AO(n,t=>{let r=t.head,{state:i}=n,s=i.doc.lineAt(r),o=i.charCategorizer(r);for(let a=null;;){if(r==(e?s.to:s.from)){r==t.head&&s.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let l=or(s.text,r-s.from,e)+s.from,c=s.text.slice(Math.min(r,l)-s.from,Math.max(r,l)-s.from),u=o(c);if(a!=null&&u!=a)break;(c!=" "||r!=t.head)&&(a=u),r=l}return r}),WW=n=>FW(n,!1),cOe=n=>FW(n,!0),uOe=n=>AO(n,e=>{let t=n.lineBlockAt(e.head).to;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),hOe=n=>AO(n,e=>{let t=n.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),dOe=n=>AO(n,e=>{let t=n.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),fOe=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:ot.of(["",""])},range:K.cursor(r.from)}));return e(n.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},pOe=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>{if(!r.empty||r.from==0||r.from==n.doc.length)return{range:r};let i=r.from,s=n.doc.lineAt(i),o=i==s.from?i-1:or(s.text,i-s.from,!1)+s.from,a=i==s.to?i+1:or(s.text,i-s.from,!0)+s.from;return{changes:{from:o,to:a,insert:n.doc.slice(i,a).append(n.doc.slice(o,i))},range:K.cursor(a)}});return t.changes.empty?!1:(e(n.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Mb(n){let e=[],t=-1;for(let r of n.selection.ranges){let i=n.doc.lineAt(r.from),s=n.doc.lineAt(r.to);if(!r.empty&&r.to==s.from&&(s=n.doc.lineAt(r.to-1)),t>=i.number){let o=e[e.length-1];o.to=s.to,o.ranges.push(r)}else e.push({from:i.from,to:s.to,ranges:[r]});t=s.number+1}return e}function XW(n,e,t){if(n.readOnly)return!1;let r=[],i=[];for(let s of Mb(n)){if(t?s.to==n.doc.length:s.from==0)continue;let o=n.doc.lineAt(t?s.to+1:s.from-1),a=o.length+1;if(t){r.push({from:s.to,to:o.to},{from:s.from,insert:o.text+n.lineBreak});for(let l of s.ranges)i.push(K.range(Math.min(n.doc.length,l.anchor+a),Math.min(n.doc.length,l.head+a)))}else{r.push({from:o.from,to:s.from},{from:s.to,insert:n.lineBreak+o.text});for(let l of s.ranges)i.push(K.range(l.anchor-a,l.head-a))}}return r.length?(e(n.update({changes:r,scrollIntoView:!0,selection:K.create(i,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}const mOe=({state:n,dispatch:e})=>XW(n,e,!1),gOe=({state:n,dispatch:e})=>XW(n,e,!0);function GW(n,e,t){if(n.readOnly)return!1;let r=[];for(let i of Mb(n))t?r.push({from:i.from,insert:n.doc.slice(i.from,i.to)+n.lineBreak}):r.push({from:i.to,insert:n.lineBreak+n.doc.slice(i.from,i.to)});return e(n.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const OOe=({state:n,dispatch:e})=>GW(n,e,!1),yOe=({state:n,dispatch:e})=>GW(n,e,!0),vOe=n=>{if(n.state.readOnly)return!1;let{state:e}=n,t=e.changes(Mb(e).map(({from:i,to:s})=>(i>0?i--:s<e.doc.length&&s++,{from:i,to:s}))),r=Tf(e.selection,i=>{let s;if(n.lineWrapping){let o=n.lineBlockAt(i.head),a=n.coordsAtPos(i.head,i.assoc||1);a&&(s=o.bottom+n.documentTop-a.bottom+n.defaultLineHeight/2)}return n.moveVertically(i,!0,s)}).map(t);return n.dispatch({changes:t,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function wOe(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=Tr(n).resolveInner(e),r=t.childBefore(e),i=t.childAfter(e),s;return r&&i&&r.to<=e&&i.from>=e&&(s=r.type.prop(ft.closedBy))&&s.indexOf(i.name)>-1&&n.doc.lineAt(r.to).from==n.doc.lineAt(i.from).from&&!/\S/.test(n.sliceDoc(r.to,i.from))?{from:r.to,to:i.from}:null}const XD=YW(!1),xOe=YW(!0);function YW(n){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:s,to:o}=i,a=e.doc.lineAt(s),l=!n&&s==o&&wOe(e,s);n&&(s=o=(o<=a.to?a:e.doc.lineAt(o)).to);let c=new $b(e,{simulateBreak:s,simulateDoubleBreak:!!l}),u=VR(c,s);for(u==null&&(u=_f(/^\s*/.exec(e.doc.lineAt(s).text)[0],e.tabSize));o<a.to&&/\s/.test(a.text[o-a.from]);)o++;l?{from:s,to:o}=l:s>a.from&&s<a.from+100&&!/\S/.test(a.text.slice(0,s))&&(s=a.from);let h=["",_g(e,u)];return l&&h.push(_g(e,c.lineIndent(a.from,-1))),{changes:{from:s,to:o,insert:ot.of(h)},range:K.cursor(s+1+h[1].length)}});return t(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function ZR(n,e){let t=-1;return n.changeByRange(r=>{let i=[];for(let o=r.from;o<=r.to;){let a=n.doc.lineAt(o);a.number>t&&(r.empty||r.to>a.from)&&(e(a,i,r),t=a.number),o=a.to+1}let s=n.changes(i);return{changes:i,range:K.range(s.mapPos(r.anchor,1),s.mapPos(r.head,1))}})}const bOe=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=Object.create(null),r=new $b(n,{overrideIndentation:s=>{let o=t[s];return o??-1}}),i=ZR(n,(s,o,a)=>{let l=VR(r,s.from);if(l==null)return;/\S/.test(s.text)||(l=0);let c=/^\s*/.exec(s.text)[0],u=_g(n,l);(c!=u||a.from<s.from+c.length)&&(t[s.from]=l,o.push({from:s.from,to:s.from+c.length,insert:u}))});return i.changes.empty||e(n.update(i,{userEvent:"indent"})),!0},SOe=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(ZR(n,(t,r)=>{r.push({from:t.from,insert:n.facet(MR)})}),{userEvent:"input.indent"})),!0),kOe=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(ZR(n,(t,r)=>{let i=/^\s*/.exec(t.text)[0];if(!i)return;let s=_f(i,n.tabSize),o=0,a=_g(n,Math.max(0,s-Zw(n)));for(;o<i.length&&o<a.length&&i.charCodeAt(o)==a.charCodeAt(o);)o++;r.push({from:t.from+o,to:t.from+i.length,insert:a.slice(o)})}),{userEvent:"delete.dedent"})),!0),_Oe=n=>(n.setTabFocusMode(),!0),TOe=[{key:"Ctrl-b",run:CW,shift:DW,preventDefault:!0},{key:"Ctrl-f",run:EW,shift:MW},{key:"Ctrl-p",run:QW,shift:zW},{key:"Ctrl-n",run:$W,shift:UW},{key:"Ctrl-a",run:Bge,shift:rOe},{key:"Ctrl-e",run:Fge,shift:iOe},{key:"Ctrl-d",run:BW},{key:"Ctrl-h",run:_P},{key:"Ctrl-k",run:uOe},{key:"Ctrl-Alt-h",run:WW},{key:"Ctrl-o",run:fOe},{key:"Ctrl-t",run:pOe},{key:"Ctrl-v",run:kP}],POe=[{key:"ArrowLeft",run:CW,shift:DW,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:jge,shift:Gge,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:Zge,shift:tOe,preventDefault:!0},{key:"ArrowRight",run:EW,shift:MW,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:Dge,shift:Yge,preventDefault:!0},{mac:"Cmd-ArrowRight",run:qge,shift:nOe,preventDefault:!0},{key:"ArrowUp",run:QW,shift:zW,preventDefault:!0},{mac:"Cmd-ArrowUp",run:qD,shift:FD},{mac:"Ctrl-ArrowUp",run:zD,shift:UD},{key:"ArrowDown",run:$W,shift:UW,preventDefault:!0},{mac:"Cmd-ArrowDown",run:BD,shift:WD},{mac:"Ctrl-ArrowDown",run:kP,shift:ZD},{key:"PageUp",run:zD,shift:UD},{key:"PageDown",run:kP,shift:ZD},{key:"Home",run:Uge,shift:eOe,preventDefault:!0},{key:"Mod-Home",run:qD,shift:FD},{key:"End",run:zge,shift:Jge,preventDefault:!0},{key:"Mod-End",run:BD,shift:WD},{key:"Enter",run:XD,shift:XD},{key:"Mod-a",run:sOe},{key:"Backspace",run:_P,shift:_P},{key:"Delete",run:BW},{key:"Mod-Backspace",mac:"Alt-Backspace",run:WW},{key:"Mod-Delete",mac:"Alt-Delete",run:cOe},{mac:"Mod-Backspace",run:hOe},{mac:"Mod-Delete",run:dOe}].concat(TOe.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),COe=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:Vge,shift:Hge},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:Lge,shift:Kge},{key:"Alt-ArrowUp",run:mOe},{key:"Shift-Alt-ArrowUp",run:OOe},{key:"Alt-ArrowDown",run:gOe},{key:"Shift-Alt-ArrowDown",run:yOe},{key:"Escape",run:lOe},{key:"Mod-Enter",run:xOe},{key:"Alt-l",mac:"Ctrl-l",run:oOe},{key:"Mod-i",run:aOe,preventDefault:!0},{key:"Mod-[",run:kOe},{key:"Mod-]",run:SOe},{key:"Mod-Alt-\\",run:bOe},{key:"Shift-Mod-k",run:vOe},{key:"Shift-Mod-\\",run:Xge},{key:"Mod-/",run:Oge},{key:"Alt-A",run:vge},{key:"Ctrl-m",mac:"Shift-Alt-m",run:_Oe}].concat(POe);function bt(){var n=arguments[0];typeof n=="string"&&(n=document.createElement(n));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=t[r];typeof i=="string"?n.setAttribute(r,i):i!=null&&(n[r]=i)}e++}for(;e<arguments.length;e++)HW(n,arguments[e]);return n}function HW(n,e){if(typeof e=="string")n.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)n.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)HW(n,e[t]);else throw new RangeError("Unsupported child node: "+e)}const GD=typeof String.prototype.normalize=="function"?n=>n.normalize("NFKD"):n=>n;class qd{constructor(e,t,r=0,i=e.length,s,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=s?a=>s(GD(a)):GD,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Yr(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=wR(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=Ks(e);let i=this.normalize(t);if(i.length)for(let s=0,o=r;;s++){let a=i.charCodeAt(s),l=this.match(a,o,this.bufferPos+this.bufferStart);if(s==i.length-1){if(l)return this.value=l,this;break}o==r&&s<t.length&&t.charCodeAt(s)==a&&o++}}}match(e,t,r){let i=null;for(let s=0;s<this.matches.length;s+=2){let o=this.matches[s],a=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?i={from:this.matches[s+1],to:r}:(this.matches[s]++,a=!0)),a||(this.matches.splice(s,2),s-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:t,to:r}:this.matches.push(1,t)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(qd.prototype[Symbol.iterator]=function(){return this});const KW={from:-1,to:-1,match:/.*/.exec("")},qR="gm"+(/x/.unicode==null?"":"u");class JW{constructor(e,t,r,i=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=KW,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new eX(e,t,r,i,s);this.re=new RegExp(t,qR+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.iter=e.iter();let o=e.lineAt(i);this.curLineStart=o.from,this.matchPos=Ww(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let r=this.curLineStart+t.index,i=r+t[0].length;if(this.matchPos=Ww(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,t)))return this.value={from:r,to:i,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const M1=new WeakMap;class rd{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,r){let i=M1.get(e);if(!i||i.from>=r||i.to<=t){let a=new rd(t,e.sliceString(t,r));return M1.set(e,a),a}if(i.from==t&&i.to==r)return i;let{text:s,from:o}=i;return o>t&&(s=e.sliceString(t,o)+s,o=t),i.to<r&&(s+=e.sliceString(i.to,r)),M1.set(e,new rd(o,s)),new rd(t,s.slice(t-o,r-o))}}class eX{constructor(e,t,r,i,s){this.text=e,this.to=s,this.done=!1,this.value=KW,this.matchPos=Ww(e,i),this.re=new RegExp(t,qR+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.flat=rd.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let r=this.flat.from+t.index,i=r+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,t)))return this.value={from:r,to:i,match:t},this.matchPos=Ww(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=rd.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(JW.prototype[Symbol.iterator]=eX.prototype[Symbol.iterator]=function(){return this});function EOe(n){try{return new RegExp(n,qR),!0}catch{return!1}}function Ww(n,e){if(e>=n.length)return e;let t=n.lineAt(e),r;for(;e<t.to&&(r=t.text.charCodeAt(e-t.from))>=56320&&r<57344;)e++;return e}function TP(n){let e=String(n.state.doc.lineAt(n.state.selection.main.head).number),t=bt("input",{class:"cm-textfield",name:"line",value:e}),r=bt("form",{class:"cm-gotoLine",onkeydown:s=>{s.keyCode==27?(s.preventDefault(),n.dispatch({effects:xm.of(!1)}),n.focus()):s.keyCode==13&&(s.preventDefault(),i())},onsubmit:s=>{s.preventDefault(),i()}},bt("label",n.state.phrase("Go to line"),": ",t)," ",bt("button",{class:"cm-button",type:"submit"},n.state.phrase("go")),bt("button",{name:"close",onclick:()=>{n.dispatch({effects:xm.of(!1)}),n.focus()},"aria-label":n.state.phrase("close"),type:"button"},[""]));function i(){let s=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!s)return;let{state:o}=n,a=o.doc.lineAt(o.selection.main.head),[,l,c,u,h]=s,d=u?+u.slice(1):0,m=c?+c:a.number;if(c&&h){let v=m/100;l&&(v=v*(l=="-"?-1:1)+a.number/o.doc.lines),m=Math.round(o.doc.lines*v)}else c&&l&&(m=m*(l=="-"?-1:1)+a.number);let g=o.doc.line(Math.max(1,Math.min(o.doc.lines,m))),y=K.cursor(g.from+Math.max(0,Math.min(d,g.length)));n.dispatch({effects:[xm.of(!1),ue.scrollIntoView(y.from,{y:"center"})],selection:y}),n.focus()}return{dom:r}}const xm=Re.define(),YD=Lt.define({create(){return!0},update(n,e){for(let t of e.effects)t.is(xm)&&(n=t.value);return n},provide:n=>Sg.from(n,e=>e?TP:null)}),AOe=n=>{let e=bg(n,TP);if(!e){let t=[xm.of(!0)];n.state.field(YD,!1)==null&&t.push(Re.appendConfig.of([YD,ROe])),n.dispatch({effects:t}),e=bg(n,TP)}return e&&e.dom.querySelector("input").select(),!0},ROe=ue.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),QOe={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},$Oe=ce.define({combine(n){return Vo(n,QOe,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function IOe(n){return[VOe,MOe]}const NOe=me.mark({class:"cm-selectionMatch"}),jOe=me.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function HD(n,e,t,r){return(t==0||n(e.sliceDoc(t-1,t))!=Ut.Word)&&(r==e.doc.length||n(e.sliceDoc(r,r+1))!=Ut.Word)}function DOe(n,e,t,r){return n(e.sliceDoc(t,t+1))==Ut.Word&&n(e.sliceDoc(r-1,r))==Ut.Word}const MOe=Qt.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=n.state.facet($Oe),{state:t}=n,r=t.selection;if(r.ranges.length>1)return me.none;let i=r.main,s,o=null;if(i.empty){if(!e.highlightWordAroundCursor)return me.none;let l=t.wordAt(i.head);if(!l)return me.none;o=t.charCategorizer(i.head),s=t.sliceDoc(l.from,l.to)}else{let l=i.to-i.from;if(l<e.minSelectionLength||l>200)return me.none;if(e.wholeWords){if(s=t.sliceDoc(i.from,i.to),o=t.charCategorizer(i.head),!(HD(o,t,i.from,i.to)&&DOe(o,t,i.from,i.to)))return me.none}else if(s=t.sliceDoc(i.from,i.to),!s)return me.none}let a=[];for(let l of n.visibleRanges){let c=new qd(t.doc,s,l.from,l.to);for(;!c.next().done;){let{from:u,to:h}=c.value;if((!o||HD(o,t,u,h))&&(i.empty&&u<=i.from&&h>=i.to?a.push(jOe.range(u,h)):(u>=i.to||h<=i.from)&&a.push(NOe.range(u,h)),a.length>e.maxMatches))return me.none}}return me.set(a)}},{decorations:n=>n.decorations}),VOe=ue.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),LOe=({state:n,dispatch:e})=>{let{selection:t}=n,r=K.create(t.ranges.map(i=>n.wordAt(i.head)||K.cursor(i.head)),t.mainIndex);return r.eq(t)?!1:(e(n.update({selection:r})),!0)};function zOe(n,e){let{main:t,ranges:r}=n.selection,i=n.wordAt(t.head),s=i&&i.from==t.from&&i.to==t.to;for(let o=!1,a=new qd(n.doc,e,r[r.length-1].to);;)if(a.next(),a.done){if(o)return null;a=new qd(n.doc,e,0,Math.max(0,r[r.length-1].from-1)),o=!0}else{if(o&&r.some(l=>l.from==a.value.from))continue;if(s){let l=n.wordAt(a.value.from);if(!l||l.from!=a.value.from||l.to!=a.value.to)continue}return a.value}}const UOe=({state:n,dispatch:e})=>{let{ranges:t}=n.selection;if(t.some(s=>s.from===s.to))return LOe({state:n,dispatch:e});let r=n.sliceDoc(t[0].from,t[0].to);if(n.selection.ranges.some(s=>n.sliceDoc(s.from,s.to)!=r))return!1;let i=zOe(n,r);return i?(e(n.update({selection:n.selection.addRange(K.range(i.from,i.to),!1),effects:ue.scrollIntoView(i.to)})),!0):!1},Pf=ce.define({combine(n){return Vo(n,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new eye(e),scrollToMatch:e=>ue.scrollIntoView(e)})}});class tX{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||EOe(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new FOe(this):new qOe(this)}getCursor(e,t=0,r){let i=e.doc?e:$e.create({doc:e});return r==null&&(r=i.doc.length),this.regexp?fh(this,i,t,r):dh(this,i,t,r)}}class nX{constructor(e){this.spec=e}}function dh(n,e,t,r){return new qd(e.doc,n.unquoted,t,r,n.caseSensitive?void 0:i=>i.toLowerCase(),n.wholeWord?ZOe(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function ZOe(n,e){return(t,r,i,s)=>((s>t||s+i.length<r)&&(s=Math.max(0,t-2),i=n.sliceString(s,Math.min(n.length,r+2))),(e(Xw(i,t-s))!=Ut.Word||e(Gw(i,t-s))!=Ut.Word)&&(e(Gw(i,r-s))!=Ut.Word||e(Xw(i,r-s))!=Ut.Word))}class qOe extends nX{constructor(e){super(e)}nextMatch(e,t,r){let i=dh(this.spec,e,r,e.doc.length).nextOverlapping();if(i.done){let s=Math.min(e.doc.length,t+this.spec.unquoted.length);i=dh(this.spec,e,0,s).nextOverlapping()}return i.done||i.value.from==t&&i.value.to==r?null:i.value}prevMatchInRange(e,t,r){for(let i=r;;){let s=Math.max(t,i-1e4-this.spec.unquoted.length),o=dh(this.spec,e,s,i),a=null;for(;!o.nextOverlapping().done;)a=o.value;if(a)return a;if(s==t)return null;i-=1e4}}prevMatch(e,t,r){let i=this.prevMatchInRange(e,0,t);return i||(i=this.prevMatchInRange(e,Math.max(0,r-this.spec.unquoted.length),e.doc.length)),i&&(i.from!=t||i.to!=r)?i:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let r=dh(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=t)return null;i.push(r.value)}return i}highlight(e,t,r,i){let s=dh(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}function fh(n,e,t,r){return new JW(e.doc,n.search,{ignoreCase:!n.caseSensitive,test:n.wholeWord?BOe(e.charCategorizer(e.selection.main.head)):void 0},t,r)}function Xw(n,e){return n.slice(or(n,e,!1),e)}function Gw(n,e){return n.slice(e,or(n,e))}function BOe(n){return(e,t,r)=>!r[0].length||(n(Xw(r.input,r.index))!=Ut.Word||n(Gw(r.input,r.index))!=Ut.Word)&&(n(Gw(r.input,r.index+r[0].length))!=Ut.Word||n(Xw(r.input,r.index+r[0].length))!=Ut.Word)}class FOe extends nX{nextMatch(e,t,r){let i=fh(this.spec,e,r,e.doc.length).next();return i.done&&(i=fh(this.spec,e,0,t).next()),i.done?null:i.value}prevMatchInRange(e,t,r){for(let i=1;;i++){let s=Math.max(t,r-i*1e4),o=fh(this.spec,e,s,r),a=null;for(;!o.next().done;)a=o.value;if(a&&(s==t||a.from>s+10))return a;if(s==t)return null}}prevMatch(e,t,r){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(t,r)=>{if(r=="&")return e.match[0];if(r=="$")return"$";for(let i=r.length;i>0;i--){let s=+r.slice(0,i);if(s>0&&s<e.match.length)return e.match[s]+r.slice(i)}return t})}matchAll(e,t){let r=fh(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=t)return null;i.push(r.value)}return i}highlight(e,t,r,i){let s=fh(this.spec,e,Math.max(0,t-250),Math.min(r+250,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}const Tg=Re.define(),BR=Re.define(),Ul=Lt.define({create(n){return new V1(PP(n).create(),null)},update(n,e){for(let t of e.effects)t.is(Tg)?n=new V1(t.value.create(),n.panel):t.is(BR)&&(n=new V1(n.query,t.value?FR:null));return n},provide:n=>Sg.from(n,e=>e.panel)});class V1{constructor(e,t){this.query=e,this.panel=t}}const WOe=me.mark({class:"cm-searchMatch"}),XOe=me.mark({class:"cm-searchMatch cm-searchMatch-selected"}),GOe=Qt.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(Ul))}update(n){let e=n.state.field(Ul);(e!=n.startState.field(Ul)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:n,panel:e}){if(!e||!n.spec.valid)return me.none;let{view:t}=this,r=new Aa;for(let i=0,s=t.visibleRanges,o=s.length;i<o;i++){let{from:a,to:l}=s[i];for(;i<o-1&&l>s[i+1].from-2*250;)l=s[++i].to;n.highlight(t.state,a,l,(c,u)=>{let h=t.state.selection.ranges.some(d=>d.from==c&&d.to==u);r.add(c,u,h?XOe:WOe)})}return r.finish()}},{decorations:n=>n.decorations});function RO(n){return e=>{let t=e.state.field(Ul,!1);return t&&t.query.spec.valid?n(e,t):sX(e)}}const Yw=RO((n,{query:e})=>{let{to:t}=n.state.selection.main,r=e.nextMatch(n.state,t,t);if(!r)return!1;let i=K.single(r.from,r.to),s=n.state.facet(Pf);return n.dispatch({selection:i,effects:[WR(n,r),s.scrollToMatch(i.main,n)],userEvent:"select.search"}),iX(n),!0}),Hw=RO((n,{query:e})=>{let{state:t}=n,{from:r}=t.selection.main,i=e.prevMatch(t,r,r);if(!i)return!1;let s=K.single(i.from,i.to),o=n.state.facet(Pf);return n.dispatch({selection:s,effects:[WR(n,i),o.scrollToMatch(s.main,n)],userEvent:"select.search"}),iX(n),!0}),YOe=RO((n,{query:e})=>{let t=e.matchAll(n.state,1e3);return!t||!t.length?!1:(n.dispatch({selection:K.create(t.map(r=>K.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),HOe=({state:n,dispatch:e})=>{let t=n.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:r,to:i}=t.main,s=[],o=0;for(let a=new qd(n.doc,n.sliceDoc(r,i));!a.next().done;){if(s.length>1e3)return!1;a.value.from==r&&(o=s.length),s.push(K.range(a.value.from,a.value.to))}return e(n.update({selection:K.create(s,o),userEvent:"select.search.matches"})),!0},KD=RO((n,{query:e})=>{let{state:t}=n,{from:r,to:i}=t.selection.main;if(t.readOnly)return!1;let s=e.nextMatch(t,r,r);if(!s)return!1;let o=s,a=[],l,c,u=[];if(o.from==r&&o.to==i&&(c=t.toText(e.getReplacement(o)),a.push({from:o.from,to:o.to,insert:c}),o=e.nextMatch(t,o.from,o.to),u.push(ue.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(r).number)+"."))),o){let h=a.length==0||a[0].from>=s.to?0:s.to-s.from-c.length;l=K.single(o.from-h,o.to-h),u.push(WR(n,o)),u.push(t.facet(Pf).scrollToMatch(l.main,n))}return n.dispatch({changes:a,selection:l,effects:u,userEvent:"input.replace"}),!0}),KOe=RO((n,{query:e})=>{if(n.state.readOnly)return!1;let t=e.matchAll(n.state,1e9).map(i=>{let{from:s,to:o}=i;return{from:s,to:o,insert:e.getReplacement(i)}});if(!t.length)return!1;let r=n.state.phrase("replaced $ matches",t.length)+".";return n.dispatch({changes:t,effects:ue.announce.of(r),userEvent:"input.replace.all"}),!0});function FR(n){return n.state.facet(Pf).createPanel(n)}function PP(n,e){var t,r,i,s,o;let a=n.selection.main,l=a.empty||a.to>a.from+100?"":n.sliceDoc(a.from,a.to);if(e&&!l)return e;let c=n.facet(Pf);return new tX({search:((t=e==null?void 0:e.literal)!==null&&t!==void 0?t:c.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:(r=e==null?void 0:e.caseSensitive)!==null&&r!==void 0?r:c.caseSensitive,literal:(i=e==null?void 0:e.literal)!==null&&i!==void 0?i:c.literal,regexp:(s=e==null?void 0:e.regexp)!==null&&s!==void 0?s:c.regexp,wholeWord:(o=e==null?void 0:e.wholeWord)!==null&&o!==void 0?o:c.wholeWord})}function rX(n){let e=bg(n,FR);return e&&e.dom.querySelector("[main-field]")}function iX(n){let e=rX(n);e&&e==n.root.activeElement&&e.select()}const sX=n=>{let e=n.state.field(Ul,!1);if(e&&e.panel){let t=rX(n);if(t&&t!=n.root.activeElement){let r=PP(n.state,e.query.spec);r.valid&&n.dispatch({effects:Tg.of(r)}),t.focus(),t.select()}}else n.dispatch({effects:[BR.of(!0),e?Tg.of(PP(n.state,e.query.spec)):Re.appendConfig.of(nye)]});return!0},oX=n=>{let e=n.state.field(Ul,!1);if(!e||!e.panel)return!1;let t=bg(n,FR);return t&&t.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:BR.of(!1)}),!0},JOe=[{key:"Mod-f",run:sX,scope:"editor search-panel"},{key:"F3",run:Yw,shift:Hw,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Yw,shift:Hw,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:oX,scope:"editor search-panel"},{key:"Mod-Shift-l",run:HOe},{key:"Mod-Alt-g",run:AOe},{key:"Mod-d",run:UOe,preventDefault:!0}];class eye{constructor(e){this.view=e;let t=this.query=e.state.field(Ul).query.spec;this.commit=this.commit.bind(this),this.searchField=bt("input",{value:t.search,placeholder:ci(e,"Find"),"aria-label":ci(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=bt("input",{value:t.replace,placeholder:ci(e,"Replace"),"aria-label":ci(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=bt("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=bt("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=bt("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit});function r(i,s,o){return bt("button",{class:"cm-button",name:i,onclick:s,type:"button"},o)}this.dom=bt("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>Yw(e),[ci(e,"next")]),r("prev",()=>Hw(e),[ci(e,"previous")]),r("select",()=>YOe(e),[ci(e,"all")]),bt("label",null,[this.caseField,ci(e,"match case")]),bt("label",null,[this.reField,ci(e,"regexp")]),bt("label",null,[this.wordField,ci(e,"by word")]),...e.state.readOnly?[]:[bt("br"),this.replaceField,r("replace",()=>KD(e),[ci(e,"replace")]),r("replaceAll",()=>KOe(e),[ci(e,"replace all")])],bt("button",{name:"close",onclick:()=>oX(e),"aria-label":ci(e,"close"),type:"button"},[""])])}commit(){let e=new tX({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Tg.of(e)}))}keydown(e){rpe(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?Hw:Yw)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),KD(this.view))}update(e){for(let t of e.transactions)for(let r of t.effects)r.is(Tg)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Pf).top}}function ci(n,e){return n.state.phrase(e)}const Ky=30,Jy=/[\s\.,:;?!]/;function WR(n,{from:e,to:t}){let r=n.state.doc.lineAt(e),i=n.state.doc.lineAt(t).to,s=Math.max(r.from,e-Ky),o=Math.min(i,t+Ky),a=n.state.sliceDoc(s,o);if(s!=r.from){for(let l=0;l<Ky;l++)if(!Jy.test(a[l+1])&&Jy.test(a[l])){a=a.slice(l);break}}if(o!=i){for(let l=a.length-1;l>a.length-Ky;l--)if(!Jy.test(a[l-1])&&Jy.test(a[l])){a=a.slice(0,l);break}}return ue.announce.of(`${n.state.phrase("current match")}. ${a} ${n.state.phrase("on line")} ${r.number}.`)}const tye=ue.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),nye=[Ul,za.low(GOe),tye];class aX{constructor(e,t,r,i){this.state=e,this.pos=t,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let t=Tr(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),r=Math.max(t.from,this.pos-250),i=t.text.slice(r-t.from,this.pos-t.from),s=i.search(lX(e,!1));return s<0?null:{from:r+s,to:this.pos,text:i.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,t,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(t),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function JD(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function rye(n){let e=Object.create(null),t=Object.create(null);for(let{label:i}of n){e[i[0]]=!0;for(let s=1;s<i.length;s++)t[i[s]]=!0}let r=JD(e)+JD(t)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function iye(n){let e=n.map(i=>typeof i=="string"?{label:i}:i),[t,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:rye(e);return i=>{let s=i.matchBefore(r);return s||i.explicit?{from:s?s.from:i.pos,options:e,validFor:t}:null}}class eM{constructor(e,t,r,i){this.completion=e,this.source=t,this.match=r,this.score=i}}function lu(n){return n.selection.main.from}function lX(n,e){var t;let{source:r}=n,i=e&&r[0]!="^",s=r[r.length-1]!="$";return!i&&!s?n:new RegExp(`${i?"^":""}(?:${r})${s?"$":""}`,(t=n.flags)!==null&&t!==void 0?t:n.ignoreCase?"i":"")}const cX=Is.define();function sye(n,e,t,r){let{main:i}=n.selection,s=t-i.from,o=r-i.from;return Object.assign(Object.assign({},n.changeByRange(a=>{if(a!=i&&t!=r&&n.sliceDoc(a.from+s,a.from+o)!=n.sliceDoc(t,r))return{range:a};let l=n.toText(e);return{changes:{from:a.from+s,to:r==i.from?a.to:a.from+o,insert:l},range:K.cursor(a.from+s+l.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}const tM=new WeakMap;function oye(n){if(!Array.isArray(n))return n;let e=tM.get(n);return e||tM.set(n,e=iye(n)),e}const Kw=Re.define(),Pg=Re.define();class aye{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let r=Yr(e,t),i=Ks(r);this.chars.push(r);let s=e.slice(t,t+i),o=s.toUpperCase();this.folded.push(Yr(o==s?s.toLowerCase():o,0)),t+=i}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:t,folded:r,any:i,precise:s,byWord:o}=this;if(t.length==1){let x=Yr(e,0),S=Ks(x),$=S==e.length?0:-100;if(x!=t[0])if(x==r[0])$+=-200;else return null;return this.ret($,[0,S])}let a=e.indexOf(this.pattern);if(a==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=t.length,c=0;if(a<0){for(let x=0,S=Math.min(e.length,200);x<S&&c<l;){let $=Yr(e,x);($==t[c]||$==r[c])&&(i[c++]=x),x+=Ks($)}if(c<l)return null}let u=0,h=0,d=!1,m=0,g=-1,y=-1,v=/[a-z]/.test(e),b=!0;for(let x=0,S=Math.min(e.length,200),$=0;x<S&&h<l;){let P=Yr(e,x);a<0&&(u<l&&P==t[u]&&(s[u++]=x),m<l&&(P==t[m]||P==r[m]?(m==0&&(g=x),y=x+1,m++):m=0));let Q,O=P<255?P>=48&&P<=57||P>=97&&P<=122?2:P>=65&&P<=90?1:0:(Q=wR(P))!=Q.toLowerCase()?1:Q!=Q.toUpperCase()?2:0;(!x||O==1&&v||$==0&&O!=0)&&(t[h]==P||r[h]==P&&(d=!0)?o[h++]=x:o.length&&(b=!1)),$=O,x+=Ks(P)}return h==l&&o[0]==0&&b?this.result(-100+(d?-200:0),o,e):m==l&&g==0?this.ret(-200-e.length+(y==e.length?0:-100),[0,y]):a>-1?this.ret(-700-e.length,[a,a+this.pattern.length]):m==l?this.ret(-900-e.length,[g,y]):h==l?this.result(-100+(d?-200:0)+-700+(b?0:-1100),o,e):t.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,t,r){let i=[],s=0;for(let o of t){let a=o+(this.astral?Ks(Yr(r,o)):1);s&&i[s-1]==o?i[s-1]=a:(i[s++]=o,i[s++]=a)}return this.ret(e-r.length,i)}}class lye{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let t=e.slice(0,this.pattern.length),r=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,t.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const Zn=ce.define({combine(n){return Vo(n,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:cye,filterStrict:!1,compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>r=>nM(e(r),t(r)),optionClass:(e,t)=>r=>nM(e(r),t(r)),addToOptions:(e,t)=>e.concat(t),filterStrict:(e,t)=>e||t})}});function nM(n,e){return n?e?n+" "+e:n:e}function cye(n,e,t,r,i,s){let o=n.textDirection==Ke.RTL,a=o,l=!1,c="top",u,h,d=e.left-i.left,m=i.right-e.right,g=r.right-r.left,y=r.bottom-r.top;if(a&&d<Math.min(g,m)?a=!1:!a&&m<Math.min(g,d)&&(a=!0),g<=(a?d:m))u=Math.max(i.top,Math.min(t.top,i.bottom-y))-e.top,h=Math.min(400,a?d:m);else{l=!0,h=Math.min(400,(o?e.right:i.right-e.left)-30);let x=i.bottom-e.bottom;x>=y||x>e.top?u=t.bottom-e.top:(c="bottom",u=e.bottom-t.top)}let v=(e.bottom-e.top)/s.offsetHeight,b=(e.right-e.left)/s.offsetWidth;return{style:`${c}: ${u/v}px; max-width: ${h/b}px`,class:"cm-completionInfo-"+(l?o?"left-narrow":"right-narrow":a?"left":"right")}}function uye(n){let e=n.addToOptions.slice();return n.icons&&e.push({render(t){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),t.type&&r.classList.add(...t.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(t,r,i,s){let o=document.createElement("span");o.className="cm-completionLabel";let a=t.displayLabel||t.label,l=0;for(let c=0;c<s.length;){let u=s[c++],h=s[c++];u>l&&o.appendChild(document.createTextNode(a.slice(l,u)));let d=o.appendChild(document.createElement("span"));d.appendChild(document.createTextNode(a.slice(u,h))),d.className="cm-completionMatchedText",l=h}return l<a.length&&o.appendChild(document.createTextNode(a.slice(l))),o},position:50},{render(t){if(!t.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=t.detail,r},position:80}),e.sort((t,r)=>t.position-r.position).map(t=>t.render)}function L1(n,e,t){if(n<=t)return{from:0,to:n};if(e<0&&(e=0),e<=n>>1){let i=Math.floor(e/t);return{from:i*t,to:(i+1)*t}}let r=Math.floor((n-e)/t);return{from:n-(r+1)*t,to:n-r*t}}class hye{constructor(e,t,r){this.view=e,this.stateField=t,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let i=e.state.field(t),{options:s,selected:o}=i.open,a=e.state.facet(Zn);this.optionContent=uye(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=L1(s.length,o,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",l=>{let{options:c}=e.state.field(t).open;for(let u=l.target,h;u&&u!=this.dom;u=u.parentNode)if(u.nodeName=="LI"&&(h=/-(\d+)$/.exec(u.id))&&+h[1]<c.length){this.applyCompletion(e,c[+h[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let c=e.state.field(this.stateField,!1);c&&c.tooltip&&e.state.facet(Zn).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:Pg.of(null)})}),this.showOptions(s,i.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var t;let r=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=i){let{options:s,selected:o,disabled:a}=r.open;(!i.open||i.open.options!=s)&&(this.range=L1(s.length,o,e.state.facet(Zn).maxRenderedOptions),this.showOptions(s,r.id)),this.updateSel(),a!=((t=i.open)===null||t===void 0?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!a)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of t.split(" "))r&&this.dom.classList.add(r);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=L1(t.options.length,t.selected,this.view.state.facet(Zn).maxRenderedOptions),this.showOptions(t.options,e.id)),this.updateSelectedOption(t.selected)){this.destroyInfo();let{completion:r}=t.options[t.selected],{info:i}=r;if(!i)return;let s=typeof i=="string"?document.createTextNode(i):i(r);if(!s)return;"then"in s?s.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o,r)}).catch(o=>xn(this.view.state,o,"completion info")):this.addInfoPane(s,r)}}addInfoPane(e,t){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:s}=e;r.appendChild(i),this.infoDestroy=s||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),t=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected");return t&&fye(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),s=this.space;if(!s){let o=this.dom.ownerDocument.documentElement;s={left:0,top:0,right:o.clientWidth,bottom:o.clientHeight}}return i.top>Math.min(s.bottom,t.bottom)-10||i.bottom<Math.max(s.top,t.top)+10?null:this.view.state.facet(Zn).positionInfo(this.view,t,i,r,s,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,r){const i=document.createElement("ul");i.id=t,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions")),i.addEventListener("mousedown",o=>{o.target==i&&o.preventDefault()});let s=null;for(let o=r.from;o<r.to;o++){let{completion:a,match:l}=e[o],{section:c}=a;if(c){let d=typeof c=="string"?c:c.name;if(d!=s&&(o>r.from||r.from==0))if(s=d,typeof c!="string"&&c.header)i.appendChild(c.header(c));else{let m=i.appendChild(document.createElement("completion-section"));m.textContent=d}}const u=i.appendChild(document.createElement("li"));u.id=t+"-"+o,u.setAttribute("role","option");let h=this.optionClass(a);h&&(u.className=h);for(let d of this.optionContent){let m=d(a,this.view.state,this.view,l);m&&u.appendChild(m)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function dye(n,e){return t=>new hye(t,n,e)}function fye(n,e){let t=n.getBoundingClientRect(),r=e.getBoundingClientRect(),i=t.height/n.offsetHeight;r.top<t.top?n.scrollTop-=(t.top-r.top)/i:r.bottom>t.bottom&&(n.scrollTop+=(r.bottom-t.bottom)/i)}function rM(n){return(n.boost||0)*100+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}function pye(n,e){let t=[],r=null,i=c=>{t.push(c);let{section:u}=c.completion;if(u){r||(r=[]);let h=typeof u=="string"?u:u.name;r.some(d=>d.name==h)||r.push(typeof u=="string"?{name:h}:u)}},s=e.facet(Zn);for(let c of n)if(c.hasResult()){let u=c.result.getMatch;if(c.result.filter===!1)for(let h of c.result.options)i(new eM(h,c.source,u?u(h):[],1e9-t.length));else{let h=e.sliceDoc(c.from,c.to),d,m=s.filterStrict?new lye(h):new aye(h);for(let g of c.result.options)if(d=m.match(g.label)){let y=g.displayLabel?u?u(g,d.matched):[]:d.matched;i(new eM(g,c.source,y,d.score+(g.boost||0)))}}}if(r){let c=Object.create(null),u=0,h=(d,m)=>{var g,y;return((g=d.rank)!==null&&g!==void 0?g:1e9)-((y=m.rank)!==null&&y!==void 0?y:1e9)||(d.name<m.name?-1:1)};for(let d of r.sort(h))u-=1e5,c[d.name]=u;for(let d of t){let{section:m}=d.completion;m&&(d.score+=c[typeof m=="string"?m:m.name])}}let o=[],a=null,l=s.compareCompletions;for(let c of t.sort((u,h)=>h.score-u.score||l(u.completion,h.completion))){let u=c.completion;!a||a.label!=u.label||a.detail!=u.detail||a.type!=null&&u.type!=null&&a.type!=u.type||a.apply!=u.apply||a.boost!=u.boost?o.push(c):rM(c.completion)>rM(a)&&(o[o.length-1]=c),a=c.completion}return o}class Eh{constructor(e,t,r,i,s,o){this.options=e,this.attrs=t,this.tooltip=r,this.timestamp=i,this.selected=s,this.disabled=o}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new Eh(this.options,iM(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,r,i,s,o){if(i&&!o&&e.some(c=>c.isPending))return i.setDisabled();let a=pye(e,t);if(!a.length)return i&&e.some(c=>c.isPending)?i.setDisabled():null;let l=t.facet(Zn).selectOnOpen?0:-1;if(i&&i.selected!=l&&i.selected!=-1){let c=i.options[i.selected].completion;for(let u=0;u<a.length;u++)if(a[u].completion==c){l=u;break}}return new Eh(a,iM(r,l),{pos:e.reduce((c,u)=>u.hasResult()?Math.min(c,u.from):c,1e8),create:wye,above:s.aboveCursor},i?i.timestamp:Date.now(),l,!1)}map(e){return new Eh(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new Eh(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class Jw{constructor(e,t,r){this.active=e,this.id=t,this.open=r}static start(){return new Jw(yye,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,r=t.facet(Zn),s=(r.override||t.languageDataAt("autocomplete",lu(t)).map(oye)).map(l=>(this.active.find(u=>u.source==l)||new Bi(l,this.active.some(u=>u.state!=0)?1:0)).update(e,r));s.length==this.active.length&&s.every((l,c)=>l==this.active[c])&&(s=this.active);let o=this.open,a=e.effects.some(l=>l.is(XR));o&&e.docChanged&&(o=o.map(e.changes)),e.selection||s.some(l=>l.hasResult()&&e.changes.touchesRange(l.from,l.to))||!mye(s,this.active)||a?o=Eh.build(s,t,this.id,o,r,a):o&&o.disabled&&!s.some(l=>l.isPending)&&(o=null),!o&&s.every(l=>!l.isPending)&&s.some(l=>l.hasResult())&&(s=s.map(l=>l.hasResult()?new Bi(l.source,0):l));for(let l of e.effects)l.is(hX)&&(o=o&&o.setSelected(l.value,this.id));return s==this.active&&o==this.open?this:new Jw(s,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?gye:Oye}}function mye(n,e){if(n==e)return!0;for(let t=0,r=0;;){for(;t<n.length&&!n[t].hasResult();)t++;for(;r<e.length&&!e[r].hasResult();)r++;let i=t==n.length,s=r==e.length;if(i||s)return i==s;if(n[t++].result!=e[r++].result)return!1}}const gye={"aria-autocomplete":"list"},Oye={};function iM(n,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return e>-1&&(t["aria-activedescendant"]=n+"-"+e),t}const yye=[];function uX(n,e){if(n.isUserEvent("input.complete")){let r=n.annotation(cX);if(r&&e.activateOnCompletion(r))return 12}let t=n.isUserEvent("input.type");return t&&e.activateOnTyping?5:t?1:n.isUserEvent("delete.backward")?2:n.selection?8:n.docChanged?16:0}class Bi{constructor(e,t,r=!1){this.source=e,this.state=t,this.explicit=r}hasResult(){return!1}get isPending(){return this.state==1}update(e,t){let r=uX(e,t),i=this;(r&8||r&16&&this.touches(e))&&(i=new Bi(i.source,0)),r&4&&i.state==0&&(i=new Bi(this.source,1)),i=i.updateFor(e,r);for(let s of e.effects)if(s.is(Kw))i=new Bi(i.source,1,s.value);else if(s.is(Pg))i=new Bi(i.source,0);else if(s.is(XR))for(let o of s.value)o.source==i.source&&(i=o);return i}updateFor(e,t){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(lu(e.state))}}class id extends Bi{constructor(e,t,r,i,s,o){super(e,3,t),this.limit=r,this.result=i,this.from=s,this.to=o}hasResult(){return!0}updateFor(e,t){var r;if(!(t&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let s=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),a=lu(e.state);if(a>o||!i||t&2&&(lu(e.startState)==this.from||a<this.limit))return new Bi(this.source,t&4?1:0);let l=e.changes.mapPos(this.limit);return vye(i.validFor,e.state,s,o)?new id(this.source,this.explicit,l,i,s,o):i.update&&(i=i.update(i,s,o,new aX(e.state,a,!1)))?new id(this.source,this.explicit,l,i,i.from,(r=i.to)!==null&&r!==void 0?r:lu(e.state)):new Bi(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new id(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Bi(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function vye(n,e,t,r){if(!n)return!1;let i=e.sliceDoc(t,r);return typeof n=="function"?n(i,t,r,e):lX(n,!0).test(i)}const XR=Re.define({map(n,e){return n.map(t=>t.map(e))}}),hX=Re.define(),Kr=Lt.define({create(){return Jw.start()},update(n,e){return n.update(e)},provide:n=>[NR.from(n,e=>e.tooltip),ue.contentAttributes.from(n,e=>e.attrs)]});function GR(n,e){const t=e.completion.apply||e.completion.label;let r=n.state.field(Kr).active.find(i=>i.source==e.source);return r instanceof id?(typeof t=="string"?n.dispatch(Object.assign(Object.assign({},sye(n.state,t,r.from,r.to)),{annotations:cX.of(e.completion)})):t(n,e.completion,r.from,r.to),!0):!1}const wye=dye(Kr,GR);function e0(n,e="option"){return t=>{let r=t.state.field(Kr,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<t.state.facet(Zn).interactionDelay)return!1;let i=1,s;e=="page"&&(s=XF(t,r.open.tooltip))&&(i=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:o}=r.open.options,a=r.open.selected>-1?r.open.selected+i*(n?1:-1):n?0:o-1;return a<0?a=e=="page"?0:o-1:a>=o&&(a=e=="page"?o-1:0),t.dispatch({effects:hX.of(a)}),!0}}const xye=n=>{let e=n.state.field(Kr,!1);return n.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<n.state.facet(Zn).interactionDelay?!1:GR(n,e.open.options[e.open.selected])},sM=n=>n.state.field(Kr,!1)?(n.dispatch({effects:Kw.of(!0)}),!0):!1,bye=n=>{let e=n.state.field(Kr,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(n.dispatch({effects:Pg.of(null)}),!0)};class Sye{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const kye=50,_ye=1e3,Tye=Qt.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of n.state.field(Kr).active)e.isPending&&this.startQuery(e)}update(n){let e=n.state.field(Kr),t=n.state.facet(Zn);if(!n.selectionSet&&!n.docChanged&&n.startState.field(Kr)==e)return;let r=n.transactions.some(s=>{let o=uX(s,t);return o&8||(s.selection||s.docChanged)&&!(o&3)});for(let s=0;s<this.running.length;s++){let o=this.running[s];if(r||o.context.abortOnDocChange&&n.docChanged||o.updates.length+n.transactions.length>kye&&Date.now()-o.time>_ye){for(let a of o.context.abortListeners)try{a()}catch(l){xn(this.view.state,l)}o.context.abortListeners=null,this.running.splice(s--,1)}else o.updates.push(...n.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),n.transactions.some(s=>s.effects.some(o=>o.is(Kw)))&&(this.pendingStart=!0);let i=this.pendingStart?50:t.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(s=>s.isPending&&!this.running.some(o=>o.active.source==s.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let s of n.transactions)s.isUserEvent("input.type")?this.composing=2:this.composing==2&&s.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:n}=this.view,e=n.field(Kr);for(let t of e.active)t.isPending&&!this.running.some(r=>r.active.source==t.source)&&this.startQuery(t);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Zn).updateSyncTime))}startQuery(n){let{state:e}=this.view,t=lu(e),r=new aX(e,t,n.explicit,this.view),i=new Sye(n,r);this.running.push(i),Promise.resolve(n.source(r)).then(s=>{i.context.aborted||(i.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:Pg.of(null)}),xn(this.view.state,s)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Zn).updateSyncTime))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(Zn),r=this.view.state.field(Kr);for(let i=0;i<this.running.length;i++){let s=this.running[i];if(s.done===void 0)continue;if(this.running.splice(i--,1),s.done){let a=lu(s.updates.length?s.updates[0].startState:this.view.state),l=Math.min(a,s.done.from+(s.active.explicit?0:1)),c=new id(s.active.source,s.active.explicit,l,s.done,s.done.from,(n=s.done.to)!==null&&n!==void 0?n:a);for(let u of s.updates)c=c.update(u,t);if(c.hasResult()){e.push(c);continue}}let o=r.active.find(a=>a.source==s.active.source);if(o&&o.isPending)if(s.done==null){let a=new Bi(s.active.source,0);for(let l of s.updates)a=a.update(l,t);a.isPending||e.push(a)}else this.startQuery(o)}(e.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:XR.of(e)})}},{eventHandlers:{blur(n){let e=this.view.state.field(Kr,!1);if(e&&e.tooltip&&this.view.state.facet(Zn).closeOnBlur){let t=e.open&&XF(this.view,e.open.tooltip);(!t||!t.dom.contains(n.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:Pg.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Kw.of(!1)}),20),this.composing=0}}}),Pye=typeof navigator=="object"&&/Win/.test(navigator.platform),Cye=za.highest(ue.domEventHandlers({keydown(n,e){let t=e.state.field(Kr,!1);if(!t||!t.open||t.open.disabled||t.open.selected<0||n.key.length>1||n.ctrlKey&&!(Pye&&n.altKey)||n.metaKey)return!1;let r=t.open.options[t.open.selected],i=t.active.find(o=>o.source==r.source),s=r.completion.commitCharacters||i.result.commitCharacters;return s&&s.indexOf(n.key)>-1&&GR(e,r),!1}})),Eye=ue.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),Cg={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Yc=Re.define({map(n,e){let t=e.mapPos(n,-1,En.TrackAfter);return t??void 0}}),YR=new class extends ko{};YR.startSide=1;YR.endSide=-1;const dX=Lt.define({create(){return ht.empty},update(n,e){if(n=n.map(e.changes),e.selection){let t=e.state.doc.lineAt(e.selection.main.head);n=n.update({filter:r=>r>=t.from&&r<=t.to})}for(let t of e.effects)t.is(Yc)&&(n=n.update({add:[YR.range(t.value,t.value+1)]}));return n}});function Aye(){return[Qye,dX]}const z1="()[]{}<>";function fX(n){for(let e=0;e<z1.length;e+=2)if(z1.charCodeAt(e)==n)return z1.charAt(e+1);return wR(n<128?n:n+1)}function pX(n,e){return n.languageDataAt("closeBrackets",e)[0]||Cg}const Rye=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),Qye=ue.inputHandler.of((n,e,t,r)=>{if((Rye?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let i=n.state.selection.main;if(r.length>2||r.length==2&&Ks(Yr(r,0))==1||e!=i.from||t!=i.to)return!1;let s=Nye(n.state,r);return s?(n.dispatch(s),!0):!1}),$ye=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let r=pX(n,n.selection.main.head).brackets||Cg.brackets,i=null,s=n.changeByRange(o=>{if(o.empty){let a=jye(n.doc,o.head);for(let l of r)if(l==a&&Vb(n.doc,o.head)==fX(Yr(l,0)))return{changes:{from:o.head-l.length,to:o.head+l.length},range:K.cursor(o.head-l.length)}}return{range:i=o}});return i||e(n.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},Iye=[{key:"Backspace",run:$ye}];function Nye(n,e){let t=pX(n,n.selection.main.head),r=t.brackets||Cg.brackets;for(let i of r){let s=fX(Yr(i,0));if(e==i)return s==i?Vye(n,i,r.indexOf(i+i+i)>-1,t):Dye(n,i,s,t.before||Cg.before);if(e==s&&mX(n,n.selection.main.from))return Mye(n,i,s)}return null}function mX(n,e){let t=!1;return n.field(dX).between(0,n.doc.length,r=>{r==e&&(t=!0)}),t}function Vb(n,e){let t=n.sliceString(e,e+2);return t.slice(0,Ks(Yr(t,0)))}function jye(n,e){let t=n.sliceString(e-2,e);return Ks(Yr(t,0))==t.length?t:t.slice(1)}function Dye(n,e,t,r){let i=null,s=n.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:t,from:o.to}],effects:Yc.of(o.to+e.length),range:K.range(o.anchor+e.length,o.head+e.length)};let a=Vb(n.doc,o.head);return!a||/\s/.test(a)||r.indexOf(a)>-1?{changes:{insert:e+t,from:o.head},effects:Yc.of(o.head+e.length),range:K.cursor(o.head+e.length)}:{range:i=o}});return i?null:n.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function Mye(n,e,t){let r=null,i=n.changeByRange(s=>s.empty&&Vb(n.doc,s.head)==t?{changes:{from:s.head,to:s.head+t.length,insert:t},range:K.cursor(s.head+t.length)}:r={range:s});return r?null:n.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function Vye(n,e,t,r){let i=r.stringPrefixes||Cg.stringPrefixes,s=null,o=n.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:e,from:a.to}],effects:Yc.of(a.to+e.length),range:K.range(a.anchor+e.length,a.head+e.length)};let l=a.head,c=Vb(n.doc,l),u;if(c==e){if(oM(n,l))return{changes:{insert:e+e,from:l},effects:Yc.of(l+e.length),range:K.cursor(l+e.length)};if(mX(n,l)){let d=t&&n.sliceDoc(l,l+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+d.length,insert:d},range:K.cursor(l+d.length)}}}else{if(t&&n.sliceDoc(l-2*e.length,l)==e+e&&(u=aM(n,l-2*e.length,i))>-1&&oM(n,u))return{changes:{insert:e+e+e+e,from:l},effects:Yc.of(l+e.length),range:K.cursor(l+e.length)};if(n.charCategorizer(l)(c)!=Ut.Word&&aM(n,l,i)>-1&&!Lye(n,l,e,i))return{changes:{insert:e+e,from:l},effects:Yc.of(l+e.length),range:K.cursor(l+e.length)}}return{range:s=a}});return s?null:n.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function oM(n,e){let t=Tr(n).resolveInner(e+1);return t.parent&&t.from==e}function Lye(n,e,t,r){let i=Tr(n).resolveInner(e,-1),s=r.reduce((o,a)=>Math.max(o,a.length),0);for(let o=0;o<5;o++){let a=n.sliceDoc(i.from,Math.min(i.to,i.from+t.length+s)),l=a.indexOf(t);if(!l||l>-1&&r.indexOf(a.slice(0,l))>-1){let u=i.firstChild;for(;u&&u.from==i.from&&u.to-u.from>t.length+l;){if(n.sliceDoc(u.to-t.length,u.to)==t)return!1;u=u.firstChild}return!0}let c=i.to==e&&i.parent;if(!c)break;i=c}return!1}function aM(n,e,t){let r=n.charCategorizer(e);if(r(n.sliceDoc(e-1,e))!=Ut.Word)return e;for(let i of t){let s=e-i.length;if(n.sliceDoc(s,e)==i&&r(n.sliceDoc(s-1,s))!=Ut.Word)return s}return-1}function zye(n={}){return[Cye,Kr,Zn.of(n),Tye,Uye,Eye]}const gX=[{key:"Ctrl-Space",run:sM},{mac:"Alt-`",run:sM},{key:"Escape",run:bye},{key:"ArrowDown",run:e0(!0)},{key:"ArrowUp",run:e0(!1)},{key:"PageDown",run:e0(!0,"page")},{key:"PageUp",run:e0(!1,"page")},{key:"Enter",run:xye}],Uye=za.highest(PO.computeN([Zn],n=>n.facet(Zn).defaultKeymap?[gX]:[]));class lM{constructor(e,t,r){this.from=e,this.to=t,this.diagnostic=r}}class Zc{constructor(e,t,r){this.diagnostics=e,this.panel=t,this.selected=r}static init(e,t,r){let i=e,s=r.facet(Eg).markerFilter;s&&(i=s(i,r));let o=e.slice().sort((h,d)=>h.from-d.from||h.to-d.to),a=new Aa,l=[],c=0;for(let h=0;;){let d=h==o.length?null:o[h];if(!d&&!l.length)break;let m,g;for(l.length?(m=c,g=l.reduce((v,b)=>Math.min(v,b.to),d&&d.from>m?d.from:1e8)):(m=d.from,g=d.to,l.push(d),h++);h<o.length;){let v=o[h];if(v.from==m&&(v.to>v.from||v.to==m))l.push(v),h++,g=Math.min(v.to,g);else{g=Math.min(v.from,g);break}}let y=t0e(l);if(l.some(v=>v.from==v.to||v.from==v.to-1&&r.doc.lineAt(v.from).to==v.from))a.add(m,m,me.widget({widget:new Hye(y),diagnostics:l.slice()}));else{let v=l.reduce((b,x)=>x.markClass?b+" "+x.markClass:b,"");a.add(m,g,me.mark({class:"cm-lintRange cm-lintRange-"+y+v,diagnostics:l.slice(),inclusiveEnd:l.some(b=>b.to>g)}))}c=g;for(let v=0;v<l.length;v++)l[v].to<=c&&l.splice(v--,1)}let u=a.finish();return new Zc(u,t,Bd(u))}}function Bd(n,e=null,t=0){let r=null;return n.between(t,1e9,(i,s,{spec:o})=>{if(!(e&&o.diagnostics.indexOf(e)<0))if(!r)r=new lM(i,s,e||o.diagnostics[0]);else{if(o.diagnostics.indexOf(r.diagnostic)<0)return!1;r=new lM(r.from,s,r.diagnostic)}}),r}function Zye(n,e){let t=e.pos,r=e.end||t,i=n.state.facet(Eg).hideOn(n,t,r);if(i!=null)return i;let s=n.startState.doc.lineAt(e.pos);return!!(n.effects.some(o=>o.is(OX))||n.changes.touchesRange(s.from,Math.max(s.to,r)))}function qye(n,e){return n.field(xi,!1)?e:e.concat(Re.appendConfig.of(n0e))}const OX=Re.define(),HR=Re.define(),yX=Re.define(),xi=Lt.define({create(){return new Zc(me.none,null,null)},update(n,e){if(e.docChanged&&n.diagnostics.size){let t=n.diagnostics.map(e.changes),r=null,i=n.panel;if(n.selected){let s=e.changes.mapPos(n.selected.from,1);r=Bd(t,n.selected.diagnostic,s)||Bd(t,null,s)}!t.size&&i&&e.state.facet(Eg).autoPanel&&(i=null),n=new Zc(t,i,r)}for(let t of e.effects)if(t.is(OX)){let r=e.state.facet(Eg).autoPanel?t.value.length?Ag.open:null:n.panel;n=Zc.init(t.value,r,e.state)}else t.is(HR)?n=new Zc(n.diagnostics,t.value?Ag.open:null,n.selected):t.is(yX)&&(n=new Zc(n.diagnostics,n.panel,t.value));return n},provide:n=>[Sg.from(n,e=>e.panel),ue.decorations.from(n,e=>e.diagnostics)]}),Bye=me.mark({class:"cm-lintRange cm-lintRange-active"});function Fye(n,e,t){let{diagnostics:r}=n.state.field(xi),i,s=-1,o=-1;r.between(e-(t<0?1:0),e+(t>0?1:0),(l,c,{spec:u})=>{if(e>=l&&e<=c&&(l==c||(e>l||t>0)&&(e<c||t<0)))return i=u.diagnostics,s=l,o=c,!1});let a=n.state.facet(Eg).tooltipFilter;return i&&a&&(i=a(i,n.state)),i?{pos:s,end:o,above:n.state.doc.lineAt(s).to<o,create(){return{dom:Wye(n,i)}}}:null}function Wye(n,e){return bt("ul",{class:"cm-tooltip-lint"},e.map(t=>wX(n,t,!1)))}const Xye=n=>{let e=n.state.field(xi,!1);(!e||!e.panel)&&n.dispatch({effects:qye(n.state,[HR.of(!0)])});let t=bg(n,Ag.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},cM=n=>{let e=n.state.field(xi,!1);return!e||!e.panel?!1:(n.dispatch({effects:HR.of(!1)}),!0)},Gye=n=>{let e=n.state.field(xi,!1);if(!e)return!1;let t=n.state.selection.main,r=e.diagnostics.iter(t.to+1);return!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==t.from&&r.to==t.to)?!1:(n.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},Yye=[{key:"Mod-Shift-m",run:Xye,preventDefault:!0},{key:"F8",run:Gye}],Eg=ce.define({combine(n){return Object.assign({sources:n.map(e=>e.source).filter(e=>e!=null)},Vo(n.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,t)=>e?t?r=>e(r)||t(r):e:t}))}});function vX(n){let e=[];if(n)e:for(let{name:t}of n){for(let r=0;r<t.length;r++){let i=t[r];if(/[a-zA-Z]/.test(i)&&!e.some(s=>s.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function wX(n,e,t){var r;let i=t?vX(e.actions):[];return bt("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},bt("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(n):e.message),(r=e.actions)===null||r===void 0?void 0:r.map((s,o)=>{let a=!1,l=d=>{if(d.preventDefault(),a)return;a=!0;let m=Bd(n.state.field(xi).diagnostics,e);m&&s.apply(n,m.from,m.to)},{name:c}=s,u=i[o]?c.indexOf(i[o]):-1,h=u<0?c:[c.slice(0,u),bt("u",c.slice(u,u+1)),c.slice(u+1)];return bt("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":` Action: ${c}${u<0?"":` (access key "${i[o]})"`}.`},h)}),e.source&&bt("div",{class:"cm-diagnosticSource"},e.source))}class Hye extends Lo{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return bt("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class uM{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=wX(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Ag{constructor(e){this.view=e,this.items=[];let t=i=>{if(i.keyCode==27)cM(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],o=vX(s.actions);for(let a=0;a<o.length;a++)if(o[a].toUpperCase().charCodeAt(0)==i.keyCode){let l=Bd(this.view.state.field(xi).diagnostics,s);l&&s.actions[a].apply(e,l.from,l.to)}}else return;i.preventDefault()},r=i=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(i.target)&&this.moveSelection(s)};this.list=bt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:r}),this.dom=bt("div",{class:"cm-panel-lint"},this.list,bt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>cM(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(xi).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(xi),r=0,i=!1,s=null,o=new Set;for(e.between(0,this.view.state.doc.length,(a,l,{spec:c})=>{for(let u of c.diagnostics){if(o.has(u))continue;o.add(u);let h=-1,d;for(let m=r;m<this.items.length;m++)if(this.items[m].diagnostic==u){h=m;break}h<0?(d=new uM(this.view,u),this.items.splice(r,0,d),i=!0):(d=this.items[h],h>r&&(this.items.splice(r,h-r),i=!0)),t&&d.diagnostic==t.diagnostic?d.dom.hasAttribute("aria-selected")||(d.dom.setAttribute("aria-selected","true"),s=d):d.dom.hasAttribute("aria-selected")&&d.dom.removeAttribute("aria-selected"),r++}});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new uM(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:a,panel:l})=>{let c=l.height/this.list.offsetHeight;a.top<l.top?this.list.scrollTop-=(l.top-a.top)/c:a.bottom>l.bottom&&(this.list.scrollTop+=(a.bottom-l.bottom)/c)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function t(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)t();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(xi),r=Bd(t.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:yX.of(r)})}static open(e){return new Ag(e)}}function Kye(n,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(n)}</svg>')`}function t0(n){return Kye(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const Jye=ue.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:t0("#d11")},".cm-lintRange-warning":{backgroundImage:t0("orange")},".cm-lintRange-info":{backgroundImage:t0("#999")},".cm-lintRange-hint":{backgroundImage:t0("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function e0e(n){return n=="error"?4:n=="warning"?3:n=="info"?2:1}function t0e(n){let e="hint",t=1;for(let r of n){let i=e0e(r.severity);i>t&&(t=i,e=r.severity)}return e}const n0e=[xi,ue.decorations.compute([xi],n=>{let{selected:e,panel:t}=n.field(xi);return!e||!t||e.from==e.to?me.none:me.set([Bye.range(e.from,e.to)])}),Zpe(Fye,{hideOn:Zye}),Jye],r0e=[eme(),rme(),wpe(),Tge(),Kme(),cpe(),ppe(),$e.allowMultipleSelections.of(!0),Mme(),ege(rge,{fallback:!0}),uge(),Aye(),zye(),Qpe(),Npe(),Tpe(),IOe(),PO.of([...Iye,...COe,...JOe,...Nge,...Xme,...gX,...Yye])],xX=1024;let i0e=0,U1=class{constructor(e,t){this.from=e,this.to=t}},Zt=class{constructor(e={}){this.id=i0e++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=$a.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}};Zt.closedBy=new Zt({deserialize:n=>n.split(" ")});Zt.openedBy=new Zt({deserialize:n=>n.split(" ")});Zt.group=new Zt({deserialize:n=>n.split(" ")});Zt.isolate=new Zt({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});Zt.contextHash=new Zt({perNode:!0});Zt.lookAhead=new Zt({perNode:!0});Zt.mounted=new Zt({perNode:!0});let ex=class{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[Zt.mounted.id]}};const s0e=Object.create(null);let $a=class bX{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):s0e,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new bX(e.name||"",t,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Zt.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(Zt.group),s=-1;s<(i?i.length:0);s++){let o=t[s<0?r.name:i[s]];if(o)return o}}}};$a.none=new $a("",Object.create(null),0,8);class KR{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let r of this.types){let i=null;for(let s of e){let o=s(r);o&&(i||(i=Object.assign({},r.props)),i[o[0].id]=o[1])}t.push(i?new $a(r.name,i,r.id,r.flags):r)}return new KR(t)}}const n0=new WeakMap,hM=new WeakMap;var tr;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(tr||(tr={}));let bs=class CP{constructor(e,t,r,i,s){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=ex.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new RP(this.topNode,e)}cursorAt(e,t=0,r=0){let i=n0.get(this)||this.topNode,s=new RP(i);return s.moveTo(e,t),n0.set(this,s._tree),s}get topNode(){return new uc(this,0,0,null)}resolve(e,t=0){let r=Rg(n0.get(this)||this.topNode,e,t,!1);return n0.set(this,r),r}resolveInner(e,t=0){let r=Rg(hM.get(this)||this.topNode,e,t,!0);return hM.set(this,r),r}resolveStack(e,t=0){return c0e(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:s=this.length}=e,o=e.mode||0,a=(o&tr.IncludeAnonymous)>0;for(let l=this.cursor(o|tr.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=i&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:eQ($a.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new CP(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new CP($a.none,t,r,i)))}static build(e){return u0e(e)}};bs.empty=new bs($a.none,[],[],0);let o0e=class SX{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new SX(this.buffer,this.index)}},Fd=class kX{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return $a.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(_X(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,t,r){let i=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=i[a++],s[l++]=i[a++]-r;let c=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,c)}return new kX(s,o,this.set)}};function _X(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function Rg(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!r&&n instanceof uc&&n.index<0?null:n.parent;if(!o)return n;n=o}let s=r?0:tr.IgnoreOverlays;if(r)for(let o=n,a=o.parent;a;o=a,a=o.parent)o instanceof uc&&o.index<0&&((i=a.enter(e,t,s))===null||i===void 0?void 0:i.from)!=o.from&&(n=a);for(;;){let o=n.enter(e,t,s);if(!o)return n;n=o}}let TX=class{cursor(e=0){return new RP(this,e)}getChild(e,t=null,r=null){let i=dM(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return dM(this,e,t,r)}resolve(e,t=0){return Rg(this,e,t,!1)}resolveInner(e,t=0){return Rg(this,e,t,!0)}matchContext(e){return EP(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}},uc=class ev extends TX{constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=t>0?a.length:-1;e!=c;e+=t){let u=a[e],h=l[e]+o.from;if(_X(i,r,h,h+u.length)){if(u instanceof Fd){if(s&tr.ExcludeBuffers)continue;let d=u.findChild(0,u.buffer.length,t,r-h,i);if(d>-1)return new AP(new a0e(o,u,e,h),null,d)}else if(s&tr.IncludeAnonymous||!u.type.isAnonymous||JR(u)){let d;if(!(s&tr.IgnoreMounts)&&(d=ex.get(u))&&!d.overlay)return new ev(d.tree,h,e,o);let m=new ev(u,h,e,o);return s&tr.IncludeAnonymous||!m.type.isAnonymous?m:m.nextChild(t<0?u.children.length-1:0,t,r,i)}}}if(s&tr.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&tr.IgnoreOverlays)&&(i=ex.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:o,to:a}of i.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new ev(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function dM(n,e,t,r){let i=n.cursor(),s=[];if(!i.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=i.type.is(t),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function EP(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}let a0e=class{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}},AP=class zp extends TX{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return s<0?null:new zp(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&tr.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new zp(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new zp(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new zp(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),t.push(0)}return new bs(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function PX(n){if(!n.length)return null;let e=0,t=n[0];for(let s=1;s<n.length;s++){let o=n[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let r=t instanceof uc&&t.index<0?null:t.parent,i=n.slice();return r?i[e]=r:i.splice(e,1),new l0e(i,t)}let l0e=class{constructor(e,t){this.heads=e,this.node=t}get next(){return PX(this.heads)}};function c0e(n,e,t){let r=n.resolveInner(e,t),i=null;for(let s=r instanceof uc?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[r])).push(o.resolve(e,t)),s=o}else{let o=ex.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new uc(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(Rg(a,e,t,!1))}}return i?PX(i):r}let RP=class{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof uc)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof uc?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&tr.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&tr.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&tr.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let s=t+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&tr.IncludeAnonymous||a instanceof Fd||!a.type.isAnonymous||JR(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;t=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)t=new AP(this.buffer,t,this.stack[i]);return this.bufferNode=new AP(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return EP(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return EP(this._tree,e,i);let o=r[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}};function JR(n){return n.children.some(e=>e instanceof Fd||!e.type.isAnonymous||JR(e))}function u0e(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=xX,reused:s=[],minRepeatType:o=r.types.length}=n,a=Array.isArray(t)?new o0e(t,t.length):t,l=r.types,c=0,u=0;function h(P,Q,O,_,k,A){let{id:C,start:w,end:R,size:j}=a,V=u,M=c;for(;j<0;)if(a.next(),j==-1){let X=s[C];O.push(X),_.push(w-P);return}else if(j==-3){c=C;return}else if(j==-4){u=C;return}else throw new RangeError(`Unrecognized record size: ${j}`);let q=l[C],U,Z,ne=w-P;if(R-w<=i&&(Z=v(a.pos-Q,k))){let X=new Uint16Array(Z.size-Z.skip),F=a.pos-Z.size,G=X.length;for(;a.pos>F;)G=b(Z.start,X,G);U=new Fd(X,R-Z.start,r),ne=Z.start-P}else{let X=a.pos-j;a.next();let F=[],G=[],J=C>=o?C:-1,oe=0,Se=R;for(;a.pos>X;)J>=0&&a.id==J&&a.size>=0?(a.end<=Se-i&&(g(F,G,w,oe,a.end,Se,J,V,M),oe=F.length,Se=a.end),a.next()):A>2500?d(w,X,F,G):h(w,X,F,G,J,A+1);if(J>=0&&oe>0&&oe<F.length&&g(F,G,w,oe,w,Se,J,V,M),F.reverse(),G.reverse(),J>-1&&oe>0){let le=m(q,M);U=eQ(q,F,G,0,F.length,0,R-w,le,le)}else U=y(q,F,G,R-w,V-R,M)}O.push(U),_.push(ne)}function d(P,Q,O,_){let k=[],A=0,C=-1;for(;a.pos>Q;){let{id:w,start:R,end:j,size:V}=a;if(V>4)a.next();else{if(C>-1&&R<C)break;C<0&&(C=j-i),k.push(w,R,j),A++,a.next()}}if(A){let w=new Uint16Array(A*4),R=k[k.length-2];for(let j=k.length-3,V=0;j>=0;j-=3)w[V++]=k[j],w[V++]=k[j+1]-R,w[V++]=k[j+2]-R,w[V++]=V;O.push(new Fd(w,k[2]-R,r)),_.push(R-P)}}function m(P,Q){return(O,_,k)=>{let A=0,C=O.length-1,w,R;if(C>=0&&(w=O[C])instanceof bs){if(!C&&w.type==P&&w.length==k)return w;(R=w.prop(Zt.lookAhead))&&(A=_[C]+w.length+R)}return y(P,O,_,k,A,Q)}}function g(P,Q,O,_,k,A,C,w,R){let j=[],V=[];for(;P.length>_;)j.push(P.pop()),V.push(Q.pop()+O-k);P.push(y(r.types[C],j,V,A-k,w-A,R)),Q.push(k-O)}function y(P,Q,O,_,k,A,C){if(A){let w=[Zt.contextHash,A];C=C?[w].concat(C):[w]}if(k>25){let w=[Zt.lookAhead,k];C=C?[w].concat(C):[w]}return new bs(P,Q,O,_,C)}function v(P,Q){let O=a.fork(),_=0,k=0,A=0,C=O.end-i,w={size:0,start:0,skip:0};e:for(let R=O.pos-P;O.pos>R;){let j=O.size;if(O.id==Q&&j>=0){w.size=_,w.start=k,w.skip=A,A+=4,_+=4,O.next();continue}let V=O.pos-j;if(j<0||V<R||O.start<C)break;let M=O.id>=o?4:0,q=O.start;for(O.next();O.pos>V;){if(O.size<0)if(O.size==-3)M+=4;else break e;else O.id>=o&&(M+=4);O.next()}k=q,_+=j,A+=M}return(Q<0||_==P)&&(w.size=_,w.start=k,w.skip=A),w.size>4?w:void 0}function b(P,Q,O){let{id:_,start:k,end:A,size:C}=a;if(a.next(),C>=0&&_<o){let w=O;if(C>4){let R=a.pos-(C-4);for(;a.pos>R;)O=b(P,Q,O)}Q[--O]=w,Q[--O]=A-P,Q[--O]=k-P,Q[--O]=_}else C==-3?c=_:C==-4&&(u=_);return O}let x=[],S=[];for(;a.pos>0;)h(n.start||0,n.bufferStart||0,x,S,-1,0);let $=(e=n.length)!==null&&e!==void 0?e:x.length?S[0]+x[0].length:0;return new bs(l[n.topID],x.reverse(),S.reverse(),$)}const fM=new WeakMap;function tv(n,e){if(!n.isAnonymous||e instanceof Fd||e.type!=n)return 1;let t=fM.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof bs)){t=1;break}t+=tv(n,r)}fM.set(e,t)}return t}function eQ(n,e,t,r,i,s,o,a,l){let c=0;for(let g=r;g<i;g++)c+=tv(n,e[g]);let u=Math.ceil(c*1.5/8),h=[],d=[];function m(g,y,v,b,x){for(let S=v;S<b;){let $=S,P=y[S],Q=tv(n,g[S]);for(S++;S<b;S++){let O=tv(n,g[S]);if(Q+O>=u)break;Q+=O}if(S==$+1){if(Q>u){let O=g[$];m(O.children,O.positions,0,O.children.length,y[$]+x);continue}h.push(g[$])}else{let O=y[S-1]+g[S-1].length-P;h.push(eQ(n,g,y,$,S,P,O,null,l))}d.push(P+x-s)}}return m(e,t,r,i,0),(a||l)(h,d,o)}let h0e=class{startParse(e,t,r){return typeof e=="string"&&(e=new d0e(e)),r=r?r.length?r.map(i=>new U1(i.from,i.to)):[new U1(0,0)]:[new U1(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let s=i.advance();if(s)return s}}},d0e=class{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}};new Zt({perNode:!0});var pM={};class tx{constructor(e,t,r,i,s,o,a,l,c,u=0,h){this.p=e,this.stack=t,this.state=r,this.reducePos=i,this.pos=s,this.score=o,this.buffer=a,this.bufferBase=l,this.curContext=c,this.lookAhead=u,this.parent=h}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,r=0){let i=e.parser.context;return new tx(e,[],t,r,r,0,[],0,i?new mM(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let r=e>>19,i=e&65535,{parser:s}=this.p,o=this.reducePos<this.pos-25;o&&this.setLookAhead(this.pos);let a=s.dynamicPrecedence(i);if(a&&(this.score+=a),r==0){this.pushState(s.getGoto(this.state,i,!0),this.reducePos),i<s.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,o?8:4,!0),this.reduceContext(i,this.reducePos);return}let l=this.stack.length-(r-1)*3-(e&262144?6:0),c=l?this.stack[l-2]:this.p.ranges[0].from,u=this.reducePos-c;u>=2e3&&!(!((t=this.p.parser.nodeSet.types[i])===null||t===void 0)&&t.isAnonymous)&&(c==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=u):this.p.lastBigReductionSize<u&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=c,this.p.lastBigReductionSize=u));let h=l?this.stack[l-1]:0,d=this.bufferBase+this.buffer.length-h;if(i<s.minRepeatTerm||e&131072){let m=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,c,m,d+4,!0)}if(e&262144)this.state=this.stack[l];else{let m=this.stack[l-3];this.state=s.getGoto(m,i,!0)}for(;this.stack.length>l;)this.stack.pop();this.reduceContext(i,c)}storeNode(e,t,r,i=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,a=this.buffer.length;if(a==0&&o.parent&&(a=o.bufferBase-o.parent.bufferBase,o=o.parent),a>0&&o.buffer[a-4]==0&&o.buffer[a-1]>-1){if(t==r)return;if(o.buffer[a-2]>=t){o.buffer[a-2]=r;return}}}if(!s||this.pos==r)this.buffer.push(e,t,r,i);else{let o=this.buffer.length;if(o>0&&this.buffer[o-4]!=0){let a=!1;for(let l=o;l>0&&this.buffer[l-2]>r;l-=4)if(this.buffer[l-1]>=0){a=!0;break}if(a)for(;o>0&&this.buffer[o-2]>r;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,i>4&&(i-=4)}this.buffer[o]=e,this.buffer[o+1]=t,this.buffer[o+2]=r,this.buffer[o+3]=i}}shift(e,t,r,i){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=i,this.shiftContext(t,r),t<=this.p.parser.maxNode&&this.buffer.push(t,r,i,4);else{let s=e,{parser:o}=this.p;(i>this.pos||t<=o.maxNode)&&(this.pos=i,o.stateFlag(s,1)||(this.reducePos=i)),this.pushState(s,r),this.shiftContext(t,r),t<=o.maxNode&&this.buffer.push(t,r,i,4)}}apply(e,t,r,i){e&65536?this.reduce(e):this.shift(e,t,r,i)}useNode(e,t){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(t,i),this.buffer.push(r,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let r=e.buffer.slice(t),i=e.bufferBase+t;for(;e&&i==e.bufferBase;)e=e.parent;return new tx(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,r?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new f0e(this);;){let r=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(r==0)return!1;if(!(r&65536))return!0;t.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let i=[];for(let s=0,o;s<t.length;s+=2)(o=t[s+1])!=this.state&&this.p.parser.hasAction(o,e)&&i.push(t[s],o);if(this.stack.length<120)for(let s=0;i.length<8&&s<t.length;s+=2){let o=t[s+1];i.some((a,l)=>l&1&&a==o)||i.push(t[s],o)}t=i}let r=[];for(let i=0;i<t.length&&r.length<4;i+=2){let s=t[i+1];if(s==this.state)continue;let o=this.split();o.pushState(s,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(t[i],this.pos),o.reducePos=this.pos,o.score-=200,r.push(o)}return r}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if(!(t&65536))return!1;if(!e.validAction(this.state,t)){let r=t>>19,i=t&65535,s=this.stack.length-r*3;if(s<0||e.getGoto(this.stack[s],i,!1)<0){let o=this.findForcedReduction();if(o==null)return!1;t=o}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],r=(i,s)=>{if(!t.includes(i))return t.push(i),e.allActions(i,o=>{if(!(o&393216))if(o&65536){let a=(o>>19)-s;if(a>1){let l=o&65535,c=this.stack.length-a*3;if(c>=0&&e.getGoto(this.stack[c],l,!1)>=0)return a<<19|65536|l}}else{let a=r(o,s+1);if(a!=null)return a}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new mM(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class mM{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class f0e{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=i}}class nx{constructor(e,t,r){this.stack=e,this.pos=t,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new nx(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new nx(this.stack,this.pos,this.index)}}function Up(n,e=Uint16Array){if(typeof n!="string")return n;let t=null;for(let r=0,i=0;r<n.length;){let s=0;for(;;){let o=n.charCodeAt(r++),a=!1;if(o==126){s=65535;break}o>=92&&o--,o>=34&&o--;let l=o-32;if(l>=46&&(l-=46,a=!0),s+=l,a)break;s*=46}t?t[i++]=s:t=new e(s)}return t}class nv{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const gM=new nv;class p0e{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=gM,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let r=this.range,i=this.rangeIndex,s=this.pos+e;for(;s<r.from;){if(!i)return null;let o=this.ranges[--i];s-=r.from-o.to,r=o}for(;t<0?s>r.to:s>=r.to;){if(i==this.ranges.length-1)return null;let o=this.ranges[++i];s+=o.from-r.to,r=o}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,r,i;if(t>=0&&t<this.chunk.length)r=this.pos+e,i=this.chunk.charCodeAt(t);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(r=s,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let o=this.rangeIndex,a=this.range;for(;a.to<=r;)a=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-r)),i=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),i}acceptToken(e,t=0){let r=t?this.resolveOffset(t,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}acceptTokenTo(e,t){this.token.value=e,this.token.end=t}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=gM,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let r="";for(let i of this.ranges){if(i.from>=t)break;i.to>e&&(r+=this.input.read(Math.max(i.from,e),Math.min(i.to,t)))}return r}}class sd{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:r}=t.p;CX(this.data,e,t,this.id,r.data,r.tokenPrecTable)}}sd.prototype.contextual=sd.prototype.fallback=sd.prototype.extend=!1;class rx{constructor(e,t,r){this.precTable=t,this.elseToken=r,this.data=typeof e=="string"?Up(e):e}token(e,t){let r=e.pos,i=0;for(;;){let s=e.next<0,o=e.resolveOffset(1,1);if(CX(this.data,e,t,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(s||i++,o==null)break;e.reset(o,e.token)}i&&(e.reset(r,e.token),e.acceptToken(this.elseToken,i))}}rx.prototype.contextual=sd.prototype.fallback=sd.prototype.extend=!1;class ur{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function CX(n,e,t,r,i,s){let o=0,a=1<<r,{dialect:l}=t.p.parser;e:for(;a&n[o];){let c=n[o+1];for(let m=o+3;m<c;m+=2)if((n[m+1]&a)>0){let g=n[m];if(l.allows(g)&&(e.token.value==-1||e.token.value==g||m0e(g,e.token.value,i,s))){e.acceptToken(g);break}}let u=e.next,h=0,d=n[o+2];if(e.next<0&&d>h&&n[c+d*3-3]==65535){o=n[c+d*3-1];continue e}for(;h<d;){let m=h+d>>1,g=c+m+(m<<1),y=n[g],v=n[g+1]||65536;if(u<y)d=m;else if(u>=v)h=m+1;else{o=n[g+2],e.advance();continue e}}break}}function OM(n,e,t){for(let r=e,i;(i=n[r])!=65535;r++)if(i==t)return r-e;return-1}function m0e(n,e,t,r){let i=OM(t,r,e);return i<0||OM(t,r,n)<i}const ui=typeof process<"u"&&pM&&/\bparse\b/.test(pM.LOG);let Z1=null;function yM(n,e,t){let r=n.cursor(tr.IncludeAnonymous);for(r.moveTo(e);;)if(!(t<0?r.childBefore(e):r.childAfter(e)))for(;;){if((t<0?r.to<e:r.from>e)&&!r.type.isError)return t<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(n.length,Math.max(r.from+1,e+25));if(t<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return t<0?0:n.length}}let g0e=class{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?yM(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?yM(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let r=this.trees[t],i=this.index[t];if(i==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=r.children[i],o=this.start[t]+r.positions[i];if(o>e)return this.nextStart=o,null;if(s instanceof bs){if(o==e){if(o<this.safeFrom)return null;let a=o+s.length;if(a<=this.safeTo){let l=s.prop(Zt.lookAhead);if(!l||a+l<this.fragment.to)return s}}this.index[t]++,o+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(o),this.index.push(0))}else this.index[t]++,this.nextStart=o+s.length}}};class O0e{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new nv)}getActions(e){let t=0,r=null,{parser:i}=e.p,{tokenizers:s}=i,o=i.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,l=0;for(let c=0;c<s.length;c++){if(!(1<<c&o))continue;let u=s[c],h=this.tokens[c];if(!(r&&!u.fallback)&&((u.contextual||h.start!=e.pos||h.mask!=o||h.context!=a)&&(this.updateCachedToken(h,u,e),h.mask=o,h.context=a),h.lookAhead>h.end+25&&(l=Math.max(h.lookAhead,l)),h.value!=0)){let d=t;if(h.extended>-1&&(t=this.addActions(e,h.extended,h.end,t)),t=this.addActions(e,h.value,h.end,t),!u.extend&&(r=h,t>d))break}}for(;this.actions.length>t;)this.actions.pop();return l&&e.setLookAhead(l),!r&&e.pos==this.stream.end&&(r=new nv,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,t=this.addActions(e,r.value,r.end,t)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new nv,{pos:r,p:i}=e;return t.start=r,t.end=Math.min(r+1,i.stream.end),t.value=r==i.stream.end?i.parser.eofTerm:0,t}updateCachedToken(e,t,r){let i=this.stream.clipPos(r.pos);if(t.token(this.stream.reset(i,e),r),e.value>-1){let{parser:s}=r.p;for(let o=0;o<s.specialized.length;o++)if(s.specialized[o]==e.value){let a=s.specializers[o](this.stream.read(e.start,e.end),r);if(a>=0&&r.p.parser.dialect.allows(a>>1)){a&1?e.extended=a>>1:e.value=a>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,t,r,i){for(let s=0;s<i;s+=3)if(this.actions[s]==e)return i;return this.actions[i++]=e,this.actions[i++]=t,this.actions[i++]=r,i}addActions(e,t,r,i){let{state:s}=e,{parser:o}=e.p,{data:a}=o;for(let l=0;l<2;l++)for(let c=o.stateSlot(s,l?2:1);;c+=3){if(a[c]==65535)if(a[c+1]==1)c=sa(a,c+2);else{i==0&&a[c+1]==2&&(i=this.putAction(sa(a,c+2),t,r,i));break}a[c]==t&&(i=this.putAction(sa(a,c+1),t,r,i))}return i}}class y0e{constructor(e,t,r,i){this.parser=e,this.input=t,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new p0e(t,i),this.tokens=new O0e(e,this.stream),this.topTerm=e.top[1];let{from:s}=i[0];this.stacks=[tx.start(this,e.top[0],s)],this.fragments=r.length&&this.stream.end-s>e.bufferLength*4?new g0e(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,r=this.stacks=[],i,s;if(this.bigReductionCount>300&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let a=e[o];for(;;){if(this.tokens.mainToken=null,a.pos>t)r.push(a);else{if(this.advanceStack(a,r,e))continue;{i||(i=[],s=[]),i.push(a);let l=this.tokens.getMainToken(a);s.push(l.value,l.end)}}break}}if(!r.length){let o=i&&w0e(i);if(o)return ui&&console.log("Finish with "+this.stackID(o)),this.stackToTree(o);if(this.parser.strict)throw ui&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&i){let o=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,s,r);if(o)return ui&&console.log("Force-finish "+this.stackID(o)),this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(r.length>o)for(r.sort((a,l)=>l.score-a.score);r.length>o;)r.pop();r.some(a=>a.reducePos>t)&&this.recovering--}else if(r.length>1){e:for(let o=0;o<r.length-1;o++){let a=r[o];for(let l=o+1;l<r.length;l++){let c=r[l];if(a.sameState(c)||a.buffer.length>500&&c.buffer.length>500)if((a.score-c.score||a.buffer.length-c.buffer.length)>0)r.splice(l--,1);else{r.splice(o--,1);continue e}}}r.length>12&&r.splice(12,r.length-12)}this.minStackPos=r[0].pos;for(let o=1;o<r.length;o++)r[o].pos<this.minStackPos&&(this.minStackPos=r[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,r){let i=e.pos,{parser:s}=this,o=ui?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let c=e.curContext&&e.curContext.tracker.strict,u=c?e.curContext.hash:0;for(let h=this.fragments.nodeAt(i);h;){let d=this.parser.nodeSet.types[h.type.id]==h.type?s.getGoto(e.state,h.type.id):-1;if(d>-1&&h.length&&(!c||(h.prop(Zt.contextHash)||0)==u))return e.useNode(h,d),ui&&console.log(o+this.stackID(e)+` (via reuse of ${s.getName(h.type.id)})`),!0;if(!(h instanceof bs)||h.children.length==0||h.positions[0]>0)break;let m=h.children[0];if(m instanceof bs&&h.positions[0]==0)h=m;else break}}let a=s.stateSlot(e.state,4);if(a>0)return e.reduce(a),ui&&console.log(o+this.stackID(e)+` (via always-reduce ${s.getName(a&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let c=0;c<l.length;){let u=l[c++],h=l[c++],d=l[c++],m=c==l.length||!r,g=m?e:e.split(),y=this.tokens.mainToken;if(g.apply(u,h,y?y.start:g.pos,d),ui&&console.log(o+this.stackID(g)+` (via ${u&65536?`reduce of ${s.getName(u&65535)}`:"shift"} for ${s.getName(h)} @ ${i}${g==e?"":", split"})`),m)return!0;g.pos>i?t.push(g):r.push(g)}return!1}advanceFully(e,t){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return vM(e,t),!0}}runRecovery(e,t,r){let i=null,s=!1;for(let o=0;o<e.length;o++){let a=e[o],l=t[o<<1],c=t[(o<<1)+1],u=ui?this.stackID(a)+" -> ":"";if(a.deadEnd&&(s||(s=!0,a.restart(),ui&&console.log(u+this.stackID(a)+" (restarted)"),this.advanceFully(a,r))))continue;let h=a.split(),d=u;for(let m=0;h.forceReduce()&&m<10&&(ui&&console.log(d+this.stackID(h)+" (via force-reduce)"),!this.advanceFully(h,r));m++)ui&&(d=this.stackID(h)+" -> ");for(let m of a.recoverByInsert(l))ui&&console.log(u+this.stackID(m)+" (via recover-insert)"),this.advanceFully(m,r);this.stream.end>a.pos?(c==a.pos&&(c++,l=0),a.recoverByDelete(l,c),ui&&console.log(u+this.stackID(a)+` (via recover-delete ${this.parser.getName(l)})`),vM(a,r)):(!i||i.score<a.score)&&(i=a)}return i}stackToTree(e){return e.close(),bs.build({buffer:nx.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(Z1||(Z1=new WeakMap)).get(e);return t||Z1.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function vM(n,e){for(let t=0;t<e.length;t++){let r=e[t];if(r.pos==n.pos&&r.sameState(n)){e[t].score<n.score&&(e[t]=n);return}}e.push(n)}class v0e{constructor(e,t,r){this.source=e,this.flags=t,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}const q1=n=>n;class tQ{constructor(e){this.start=e.start,this.shift=e.shift||q1,this.reduce=e.reduce||q1,this.reuse=e.reuse||q1,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class Ia extends h0e{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let a=0;a<e.repeatNodeCount;a++)t.push("");let r=Object.keys(e.topRules).map(a=>e.topRules[a][1]),i=[];for(let a=0;a<t.length;a++)i.push([]);function s(a,l,c){i[a].push([l,l.deserialize(String(c))])}if(e.nodeProps)for(let a of e.nodeProps){let l=a[0];typeof l=="string"&&(l=Zt[l]);for(let c=1;c<a.length;){let u=a[c++];if(u>=0)s(u,l,a[c++]);else{let h=a[c+-u];for(let d=-u;d>0;d--)s(a[c++],l,h);c++}}}this.nodeSet=new KR(t.map((a,l)=>$a.define({name:l>=this.minRepeatTerm?void 0:a,id:l,props:i[l],top:r.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=xX;let o=Up(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map(wM),this.states=Up(e.states,Uint32Array),this.data=Up(e.stateData),this.goto=Up(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(a=>typeof a=="number"?new sd(o,a):a),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,r){let i=new y0e(this,e,t,r);for(let s of this.wrappers)i=s(i,e,t,r);return i}getGoto(e,t,r=!1){let i=this.goto;if(t>=i[0])return-1;for(let s=i[t+1];;){let o=i[s++],a=o&1,l=i[s++];if(a&&r)return l;for(let c=s+(o>>1);s<c;s++)if(i[s]==e)return l;if(a)return-1}}hasAction(e,t){let r=this.data;for(let i=0;i<2;i++)for(let s=this.stateSlot(e,i?2:1),o;;s+=3){if((o=r[s])==65535)if(r[s+1]==1)o=r[s=sa(r,s+2)];else{if(r[s+1]==2)return sa(r,s+2);break}if(o==t||o==0)return sa(r,s+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,r=>r==t?!0:null)}allActions(e,t){let r=this.stateSlot(e,4),i=r?t(r):void 0;for(let s=this.stateSlot(e,1);i==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=sa(this.data,s+2);else break;i=t(sa(this.data,s+1))}return i}nextStates(e){let t=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=sa(this.data,r+2);else break;if(!(this.data[r+2]&1)){let i=this.data[r+1];t.some((s,o)=>o&1&&s==i)||t.push(this.data[r],i)}}return t}configure(e){let t=Object.assign(Object.create(Ia.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=r}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(r=>{let i=e.tokenizers.find(s=>s.from==r);return i?i.to:r})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((r,i)=>{let s=e.specializers.find(a=>a.from==r.external);if(!s)return r;let o=Object.assign(Object.assign({},r),{external:s.to});return t.specializers[i]=wM(o),o})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),r=t.map(()=>!1);if(e)for(let s of e.split(" ")){let o=t.indexOf(s);o>=0&&(r[o]=!0)}let i=null;for(let s=0;s<t.length;s++)if(!r[s])for(let o=this.dialects[t[s]],a;(a=this.data[o++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[a]=1;return new v0e(e,r,i)}static deserialize(e){return new Ia(e)}}function sa(n,e){return n[e]|n[e+1]<<16}function w0e(n){let e=null;for(let t of n){let r=t.p.stoppedAt;(t.pos==t.p.stream.end||r!=null&&t.pos>r)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function wM(n){if(n.external){let e=n.extend?1:0;return(t,r)=>n.external(t,r)<<1|e}return n.get}const x0e=314,b0e=315,xM=1,S0e=2,k0e=3,_0e=4,T0e=316,P0e=318,C0e=319,E0e=5,A0e=6,R0e=0,QP=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],EX=125,Q0e=59,$P=47,$0e=42,I0e=43,N0e=45,j0e=60,D0e=44,M0e=63,V0e=46,L0e=91,z0e=new tQ({start:!1,shift(n,e){return e==E0e||e==A0e||e==P0e?n:e==C0e},strict:!1}),U0e=new ur((n,e)=>{let{next:t}=n;(t==EX||t==-1||e.context)&&n.acceptToken(T0e)},{contextual:!0,fallback:!0}),Z0e=new ur((n,e)=>{let{next:t}=n,r;QP.indexOf(t)>-1||t==$P&&((r=n.peek(1))==$P||r==$0e)||t!=EX&&t!=Q0e&&t!=-1&&!e.context&&n.acceptToken(x0e)},{contextual:!0}),q0e=new ur((n,e)=>{n.next==L0e&&!e.context&&n.acceptToken(b0e)},{contextual:!0}),B0e=new ur((n,e)=>{let{next:t}=n;if(t==I0e||t==N0e){if(n.advance(),t==n.next){n.advance();let r=!e.context&&e.canShift(xM);n.acceptToken(r?xM:S0e)}}else t==M0e&&n.peek(1)==V0e&&(n.advance(),n.advance(),(n.next<48||n.next>57)&&n.acceptToken(k0e))},{contextual:!0});function B1(n,e){return n>=65&&n<=90||n>=97&&n<=122||n==95||n>=192||!e&&n>=48&&n<=57}const F0e=new ur((n,e)=>{if(n.next!=j0e||!e.dialectEnabled(R0e)||(n.advance(),n.next==$P))return;let t=0;for(;QP.indexOf(n.next)>-1;)n.advance(),t++;if(B1(n.next,!0)){for(n.advance(),t++;B1(n.next,!1);)n.advance(),t++;for(;QP.indexOf(n.next)>-1;)n.advance(),t++;if(n.next==D0e)return;for(let r=0;;r++){if(r==7){if(!B1(n.next,!0))return;break}if(n.next!="extends".charCodeAt(r))break;n.advance(),t++}}n.acceptToken(_0e,-t)}),W0e=Ii({"get set async static":N.modifier,"for while do if else switch try catch finally return throw break continue default case":N.controlKeyword,"in of await yield void typeof delete instanceof":N.operatorKeyword,"let var const using function class extends":N.definitionKeyword,"import export from":N.moduleKeyword,"with debugger as new":N.keyword,TemplateString:N.special(N.string),super:N.atom,BooleanLiteral:N.bool,this:N.self,null:N.null,Star:N.modifier,VariableName:N.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":N.function(N.variableName),VariableDefinition:N.definition(N.variableName),Label:N.labelName,PropertyName:N.propertyName,PrivatePropertyName:N.special(N.propertyName),"CallExpression/MemberExpression/PropertyName":N.function(N.propertyName),"FunctionDeclaration/VariableDefinition":N.function(N.definition(N.variableName)),"ClassDeclaration/VariableDefinition":N.definition(N.className),"NewExpression/VariableName":N.className,PropertyDefinition:N.definition(N.propertyName),PrivatePropertyDefinition:N.definition(N.special(N.propertyName)),UpdateOp:N.updateOperator,"LineComment Hashbang":N.lineComment,BlockComment:N.blockComment,Number:N.number,String:N.string,Escape:N.escape,ArithOp:N.arithmeticOperator,LogicOp:N.logicOperator,BitOp:N.bitwiseOperator,CompareOp:N.compareOperator,RegExp:N.regexp,Equals:N.definitionOperator,Arrow:N.function(N.punctuation),": Spread":N.punctuation,"( )":N.paren,"[ ]":N.squareBracket,"{ }":N.brace,"InterpolationStart InterpolationEnd":N.special(N.brace),".":N.derefOperator,", ;":N.separator,"@":N.meta,TypeName:N.typeName,TypeDefinition:N.definition(N.typeName),"type enum interface implements namespace module declare":N.definitionKeyword,"abstract global Privacy readonly override":N.modifier,"is keyof unique infer asserts":N.operatorKeyword,JSXAttributeValue:N.attributeValue,JSXText:N.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":N.angleBracket,"JSXIdentifier JSXNameSpacedName":N.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":N.attributeName,"JSXBuiltin/JSXIdentifier":N.standard(N.tagName)}),X0e={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,const:52,extends:56,this:60,true:68,false:68,null:80,void:84,typeof:88,super:104,new:138,delete:150,yield:159,await:163,class:168,public:231,private:231,protected:231,readonly:233,instanceof:252,satisfies:255,in:256,import:290,keyof:347,unique:351,infer:357,asserts:393,is:395,abstract:415,implements:417,type:419,let:422,var:424,using:427,interface:433,enum:437,namespace:443,module:445,declare:449,global:453,for:472,of:481,while:484,with:488,do:492,if:496,else:498,switch:502,case:508,try:514,catch:518,finally:522,return:526,throw:530,break:534,continue:538,debugger:542},G0e={__proto__:null,async:125,get:127,set:129,declare:191,public:193,private:193,protected:193,static:195,abstract:197,override:199,readonly:205,accessor:207,new:399},Y0e={__proto__:null,"<":189},H0e=Ia.deserialize({version:14,states:"$EOQ%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#D_O.QQlO'#DeO.bQlO'#DpO%[QlO'#DxO0fQlO'#EQOOQ!0Lf'#EY'#EYO1PQ`O'#EVOOQO'#En'#EnOOQO'#Ij'#IjO1XQ`O'#GrO1dQ`O'#EmO1iQ`O'#EmO3hQ!0MxO'#JpO6[Q!0MxO'#JqO6uQ`O'#F[O6zQ,UO'#FsOOQ!0Lf'#Fe'#FeO7VO7dO'#FeO7eQMhO'#F{O9UQ`O'#FzOOQ!0Lf'#Jq'#JqOOQ!0Lb'#Jp'#JpO9ZQ`O'#GvOOQ['#K]'#K]O9fQ`O'#IWO9kQ!0LrO'#IXOOQ['#J^'#J^OOQ['#I]'#I]Q`QlOOQ`QlOOO9sQ!L^O'#DtO9zQlO'#D|O:RQlO'#EOO9aQ`O'#GrO:YQMhO'#CoO:hQ`O'#ElO:sQ`O'#EwO:xQMhO'#FdO;gQ`O'#GrOOQO'#K^'#K^O;lQ`O'#K^O;zQ`O'#GzO;zQ`O'#G{O;zQ`O'#G}O9aQ`O'#HQO<qQ`O'#HTO>YQ`O'#CeO>jQ`O'#HaO>rQ`O'#HgO>rQ`O'#HiO`QlO'#HkO>rQ`O'#HmO>rQ`O'#HpO>wQ`O'#HvO>|Q!0LsO'#H|O%[QlO'#IOO?XQ!0LsO'#IQO?dQ!0LsO'#ISO9kQ!0LrO'#IUO?oQ!0MxO'#CiO@qQpO'#DjQOQ`OOO%[QlO'#EOOAXQ`O'#ERO:YQMhO'#ElOAdQ`O'#ElOAoQ!bO'#FdOOQ['#Cg'#CgOOQ!0Lb'#Do'#DoOOQ!0Lb'#Jt'#JtO%[QlO'#JtOOQO'#Jw'#JwOOQO'#If'#IfOBoQpO'#EeOOQ!0Lb'#Ed'#EdOOQ!0Lb'#J{'#J{OCkQ!0MSO'#EeOCuQpO'#EUOOQO'#Jv'#JvODZQpO'#JwOEhQpO'#EUOCuQpO'#EePEuO&2DjO'#CbPOOO)CD{)CD{OOOO'#I^'#I^OFQO#tO,59UOOQ!0Lh,59U,59UOOOO'#I_'#I_OF`O&jO,59UOFnQ!L^O'#DaOOOO'#Ia'#IaOFuO#@ItO,59yOOQ!0Lf,59y,59yOGTQlO'#IbOGhQ`O'#JrOIgQ!fO'#JrO+}QlO'#JrOInQ`O,5:POJUQ`O'#EnOJcQ`O'#KROJnQ`O'#KQOJnQ`O'#KQOJvQ`O,5;[OJ{Q`O'#KPOOQ!0Ln,5:[,5:[OKSQlO,5:[OMQQ!0MxO,5:dOMqQ`O,5:lON[Q!0LrO'#KOONcQ`O'#J}O9ZQ`O'#J}ONwQ`O'#J}O! PQ`O,5;ZO! UQ`O'#J}O!#ZQ!fO'#JqOOQ!0Lh'#Ci'#CiO%[QlO'#EQO!#yQ!fO,5:qOOQS'#Jx'#JxOOQO-E<h-E<hO9aQ`O,5=^O!$aQ`O,5=^O!$fQlO,5;XO!&iQMhO'#EiO!(SQ`O,5;XO!(XQlO'#DwO!(cQpO,5;bO!(kQpO,5;bO%[QlO,5;bOOQ['#FS'#FSOOQ['#FU'#FUO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cOOQ['#FY'#FYO!(yQlO,5;sOOQ!0Lf,5;x,5;xOOQ!0Lf,5;y,5;yOOQ!0Lf,5;{,5;{O%[QlO'#InO!*|Q!0LrO,5<hO%[QlO,5;cO!&iQMhO,5;cO!+kQMhO,5;cO!-]QMhO'#E[O%[QlO,5;vOOQ!0Lf,5;z,5;zO!-dQ,UO'#FiO!.aQ,UO'#KVO!-{Q,UO'#KVO!.hQ,UO'#KVOOQO'#KV'#KVO!.|Q,UO,5<ROOOW,5<_,5<_O!/_QlO'#FuOOOW'#Im'#ImO7VO7dO,5<PO!/fQ,UO'#FwOOQ!0Lf,5<P,5<PO!0VQ$IUO'#CwOOQ!0Lh'#C{'#C{O!0jO#@ItO'#DPO!1WQMjO,5<dO!1_Q`O,5<gO!2zQ(CWO'#GWO!3XQ`O'#GXO!3^Q`O'#GXO!4|Q(CWO'#G]O!6RQpO'#GaOOQO'#Gm'#GmO!+rQMhO'#GlOOQO'#Go'#GoO!+rQMhO'#GnO!6tQ$IUO'#JjOOQ!0Lh'#Jj'#JjO!7OQ`O'#JiO!7^Q`O'#JhO!7fQ`O'#CuOOQ!0Lh'#Cy'#CyO!7qQ`O'#C{OOQ!0Lh'#DT'#DTOOQ!0Lh'#DV'#DVO1SQ`O'#DXO!+rQMhO'#GOO!+rQMhO'#GQO!7vQ`O'#GSO!7{Q`O'#GTO!3^Q`O'#GZO!+rQMhO'#G`O;zQ`O'#JiO!8QQ`O'#EoO!8oQ`O,5<fOOQ!0Lb'#Cr'#CrO!8wQ`O'#EpO!9qQpO'#EqOOQ!0Lb'#KP'#KPO!9xQ!0LrO'#K_O9kQ!0LrO,5=bO`QlO,5>rOOQ['#Jf'#JfOOQ[,5>s,5>sOOQ[-E<Z-E<ZO!;wQ!0MxO,5:`O!9lQpO,5:^O!>bQ!0MxO,5:hO%[QlO,5:hO!@xQ!0MxO,5:jOOQO,5@x,5@xO!AiQMhO,5=^O!AwQ!0LrO'#JgO9UQ`O'#JgO!BYQ!0LrO,59ZO!BeQpO,59ZO!BmQMhO,59ZO:YQMhO,59ZO!BxQ`O,5;XO!CQQ`O'#H`O!CfQ`O'#KbO%[QlO,5;|O!9lQpO,5<OO!CnQ`O,5=yO!CsQ`O,5=yO!CxQ`O,5=yO9kQ!0LrO,5=yO;zQ`O,5=iOOQO'#Cw'#CwO!DWQpO,5=fO!D`QMhO,5=gO!DkQ`O,5=iO!DpQ!bO,5=lO!DxQ`O'#K^O>wQ`O'#HVO9aQ`O'#HXO!D}Q`O'#HXO:YQMhO'#HZO!ESQ`O'#HZOOQ[,5=o,5=oO!EXQ`O'#H[O!EjQ`O'#CoO!EoQ`O,59PO!EyQ`O,59PO!HOQlO,59POOQ[,59P,59PO!H`Q!0LrO,59PO%[QlO,59PO!JkQlO'#HcOOQ['#Hd'#HdOOQ['#He'#HeO`QlO,5={O!KRQ`O,5={O`QlO,5>RO`QlO,5>TO!KWQ`O,5>VO`QlO,5>XO!K]Q`O,5>[O!KbQlO,5>bOOQ[,5>h,5>hO%[QlO,5>hO9kQ!0LrO,5>jOOQ[,5>l,5>lO# lQ`O,5>lOOQ[,5>n,5>nO# lQ`O,5>nOOQ[,5>p,5>pO#!YQpO'#D]O%[QlO'#JtO#!{QpO'#JtO##VQpO'#DkO##hQpO'#DkO#%yQlO'#DkO#&QQ`O'#JsO#&YQ`O,5:UO#&_Q`O'#ErO#&mQ`O'#KSO#&uQ`O,5;]O#&zQpO'#DkO#'XQpO'#ETOOQ!0Lf,5:m,5:mO%[QlO,5:mO#'`Q`O,5:mO>wQ`O,5;WO!BeQpO,5;WO!BmQMhO,5;WO:YQMhO,5;WO#'hQ`O,5@`O#'mQ07dO,5:qOOQO-E<d-E<dO#(sQ!0MSO,5;POCuQpO,5:pO#(}QpO,5:pOCuQpO,5;PO!BYQ!0LrO,5:pOOQ!0Lb'#Eh'#EhOOQO,5;P,5;PO%[QlO,5;PO#)[Q!0LrO,5;PO#)gQ!0LrO,5;PO!BeQpO,5:pOOQO,5;V,5;VO#)uQ!0LrO,5;PPOOO'#I['#I[P#*ZO&2DjO,58|POOO,58|,58|OOOO-E<[-E<[OOQ!0Lh1G.p1G.pOOOO-E<]-E<]OOOO,59{,59{O#*fQ!bO,59{OOOO-E<_-E<_OOQ!0Lf1G/e1G/eO#*kQ!fO,5>|O+}QlO,5>|OOQO,5?S,5?SO#*uQlO'#IbOOQO-E<`-E<`O#+SQ`O,5@^O#+[Q!fO,5@^O#+cQ`O,5@lOOQ!0Lf1G/k1G/kO%[QlO,5@mO#+kQ`O'#IhOOQO-E<f-E<fO#+cQ`O,5@lOOQ!0Lb1G0v1G0vOOQ!0Ln1G/v1G/vOOQ!0Ln1G0W1G0WO%[QlO,5@jO#,PQ!0LrO,5@jO#,bQ!0LrO,5@jO#,iQ`O,5@iO9ZQ`O,5@iO#,qQ`O,5@iO#-PQ`O'#IkO#,iQ`O,5@iOOQ!0Lb1G0u1G0uO!(cQpO,5:sO!(nQpO,5:sOOQS,5:u,5:uO#-qQdO,5:uO#-yQMhO1G2xO9aQ`O1G2xOOQ!0Lf1G0s1G0sO#.XQ!0MxO1G0sO#/^Q!0MvO,5;TOOQ!0Lh'#GV'#GVO#/zQ!0MzO'#JjO!$fQlO1G0sO#2VQ!fO'#JuO%[QlO'#JuO#2aQ`O,5:cOOQ!0Lh'#D]'#D]OOQ!0Lf1G0|1G0|O%[QlO1G0|OOQ!0Lf1G1e1G1eO#2fQ`O1G0|O#4zQ!0MxO1G0}O#5RQ!0MxO1G0}O#7iQ!0MxO1G0}O#7pQ!0MxO1G0}O#:WQ!0MxO1G0}O#<nQ!0MxO1G0}O#<uQ!0MxO1G0}O#<|Q!0MxO1G0}O#?dQ!0MxO1G0}O#?kQ!0MxO1G0}O#AxQ?MtO'#CiO#CsQ?MtO1G1_O#CzQ?MtO'#JqO#D_Q!0MxO,5?YOOQ!0Lb-E<l-E<lO#FlQ!0MxO1G0}O#GiQ!0MzO1G0}OOQ!0Lf1G0}1G0}O#HlQMjO'#JzO#HvQ`O,5:vO#H{Q!0MxO1G1bO#IoQ,UO,5<VO#IwQ,UO,5<WO#JPQ,UO'#FnO#JhQ`O'#FmOOQO'#KW'#KWOOQO'#Il'#IlO#JmQ,UO1G1mOOQ!0Lf1G1m1G1mOOOW1G1x1G1xO#KOQ?MtO'#JpO#KYQ`O,5<aO!(yQlO,5<aOOOW-E<k-E<kOOQ!0Lf1G1k1G1kO#K_QpO'#KVOOQ!0Lf,5<c,5<cO#KgQpO,5<cO#KlQMhO'#DROOOO'#I`'#I`O#KsO#@ItO,59kOOQ!0Lh,59k,59kO%[QlO1G2OO!7{Q`O'#IpO#LOQ`O,5<yOOQ!0Lh,5<v,5<vO!+rQMhO'#IsO#LlQMjO,5=WO!+rQMhO'#IuO#M_QMjO,5=YO!&iQMhO,5=[OOQO1G2R1G2RO#MiQ!dO'#CrO#M|Q(CWO'#EpO$ RQpO'#GaO$ iQ!dO,5<rO$ pQ`O'#KYO9ZQ`O'#KYO$!OQ`O,5<tO!+rQMhO,5<sO$!TQ`O'#GYO$!fQ`O,5<sO$!kQ!dO'#GVO$!xQ!dO'#KZO$#SQ`O'#KZO!&iQMhO'#KZO$#XQ`O,5<wO$#^QlO'#JtO$#hQpO'#GbO##hQpO'#GbO$#yQ`O'#GfO!3^Q`O'#GjO$$OQ!0LrO'#IrO$$ZQpO,5<{OOQ!0Lp,5<{,5<{O$$bQpO'#GbO$$oQpO'#GcO$%QQpO'#GcO$%VQMjO,5=WO$%gQMjO,5=YOOQ!0Lh,5=],5=]O!+rQMhO,5@TO!+rQMhO,5@TO$%wQ`O'#IwO$&VQ`O,5@SO$&_Q`O,59aOOQ!0Lh,59g,59gO$'UQ$IYO,59sOOQ!0Lh'#Jn'#JnO$'wQMjO,5<jO$(jQMjO,5<lO@iQ`O,5<nOOQ!0Lh,5<o,5<oO$(tQ`O,5<uO$(yQMjO,5<zO$)ZQ`O,5@TO$)iQ`O'#J}O!$fQlO1G2QO$)nQ`O1G2QO9ZQ`O'#KQO9ZQ`O'#ErO%[QlO'#ErO9ZQ`O'#IyO$)sQ!0LrO,5@yOOQ[1G2|1G2|OOQ[1G4^1G4^OOQ!0Lf1G/z1G/zOOQ!0Lf1G/x1G/xO$+uQ!0MxO1G0SOOQ[1G2x1G2xO!&iQMhO1G2xO%[QlO1G2xO#-|Q`O1G2xO$-yQMhO'#EiOOQ!0Lb,5@R,5@RO$.WQ!0LrO,5@ROOQ[1G.u1G.uO!BYQ!0LrO1G.uO!BeQpO1G.uO!BmQMhO1G.uO$.iQ`O1G0sO$.nQ`O'#CiO$.yQ`O'#KcO$/RQ`O,5=zO$/WQ`O'#KcO$/]Q`O'#KcO$/kQ`O'#JPO$/yQ`O,5@|O$0RQ!fO1G1hOOQ!0Lf1G1j1G1jO9aQ`O1G3eO@iQ`O1G3eO$0YQ`O1G3eO$0_Q`O1G3eOOQ[1G3e1G3eO!DkQ`O1G3TO!&iQMhO1G3QO$0dQ`O1G3QOOQ[1G3R1G3RO!&iQMhO1G3RO$0iQ`O1G3RO$0qQpO'#HPOOQ[1G3T1G3TO!5|QpO'#I{O!DpQ!bO1G3WOOQ[1G3W1G3WOOQ[,5=q,5=qO$0yQMhO,5=sO9aQ`O,5=sO$#yQ`O,5=uO9UQ`O,5=uO!BeQpO,5=uO!BmQMhO,5=uO:YQMhO,5=uO$1XQ`O'#KaO$1dQ`O,5=vOOQ[1G.k1G.kO$1iQ!0LrO1G.kO@iQ`O1G.kO$1tQ`O1G.kO9kQ!0LrO1G.kO$3|Q!fO,5AOO$4ZQ`O,5AOO9ZQ`O,5AOO$4fQlO,5=}O$4mQ`O,5=}OOQ[1G3g1G3gO`QlO1G3gOOQ[1G3m1G3mOOQ[1G3o1G3oO>rQ`O1G3qO$4rQlO1G3sO$8vQlO'#HrOOQ[1G3v1G3vO$9TQ`O'#HxO>wQ`O'#HzOOQ[1G3|1G3|O$9]QlO1G3|O9kQ!0LrO1G4SOOQ[1G4U1G4UOOQ!0Lb'#G^'#G^O9kQ!0LrO1G4WO9kQ!0LrO1G4YO$=dQ`O,5@`O!(yQlO,5;^O9ZQ`O,5;^O>wQ`O,5:VO!(yQlO,5:VO!BeQpO,5:VO$=iQ?MtO,5:VOOQO,5;^,5;^O$=sQpO'#IcO$>ZQ`O,5@_OOQ!0Lf1G/p1G/pO$>cQpO'#IiO$>mQ`O,5@nOOQ!0Lb1G0w1G0wO##hQpO,5:VOOQO'#Ie'#IeO$>uQpO,5:oOOQ!0Ln,5:o,5:oO#'cQ`O1G0XOOQ!0Lf1G0X1G0XO%[QlO1G0XOOQ!0Lf1G0r1G0rO>wQ`O1G0rO!BeQpO1G0rO!BmQMhO1G0rOOQ!0Lb1G5z1G5zO!BYQ!0LrO1G0[OOQO1G0k1G0kO%[QlO1G0kO$>|Q!0LrO1G0kO$?XQ!0LrO1G0kO!BeQpO1G0[OCuQpO1G0[O$?gQ!0LrO1G0kOOQO1G0[1G0[O$?{Q!0MxO1G0kPOOO-E<Y-E<YPOOO1G.h1G.hOOOO1G/g1G/gO$@VQ!bO,5<hO$@_Q!fO1G4hOOQO1G4n1G4nO%[QlO,5>|O$@iQ`O1G5xO$@qQ`O1G6WO$@yQ!fO1G6XO9ZQ`O,5?SO$ATQ!0MxO1G6UO%[QlO1G6UO$AeQ!0LrO1G6UO$AvQ`O1G6TO$AvQ`O1G6TO9ZQ`O1G6TO$BOQ`O,5?VO9ZQ`O,5?VOOQO,5?V,5?VO$BdQ`O,5?VO$)iQ`O,5?VOOQO-E<i-E<iOOQS1G0_1G0_OOQS1G0a1G0aO#-tQ`O1G0aOOQ[7+(d7+(dO!&iQMhO7+(dO%[QlO7+(dO$BrQ`O7+(dO$B}QMhO7+(dO$C]Q!0MzO,5=WO$EhQ!0MzO,5=YO$GsQ!0MzO,5=WO$JUQ!0MzO,5=YO$LgQ!0MzO,59sO$NlQ!0MzO,5<jO%!wQ!0MzO,5<lO%%SQ!0MzO,5<zOOQ!0Lf7+&_7+&_O%'eQ!0MxO7+&_O%(XQlO'#IdO%(fQ`O,5@aO%(nQ!fO,5@aOOQ!0Lf1G/}1G/}O%(xQ`O7+&hOOQ!0Lf7+&h7+&hO%(}Q?MtO,5:dO%[QlO7+&yO%)XQ?MtO,5:`O%)fQ?MtO,5:hO%)pQ?MtO,5:jO%)zQMhO'#IgO%*UQ`O,5@fOOQ!0Lh1G0b1G0bOOQO1G1q1G1qOOQO1G1r1G1rO%*^Q!jO,5<YO!(yQlO,5<XOOQO-E<j-E<jOOQ!0Lf7+'X7+'XOOOW7+'d7+'dOOOW1G1{1G1{O%*iQ`O1G1{OOQ!0Lf1G1}1G1}OOOO,59m,59mO%*nQ!dO,59mOOOO-E<^-E<^OOQ!0Lh1G/V1G/VO%*uQ!0MxO7+'jOOQ!0Lh,5?[,5?[O%+iQMhO1G2eP%+pQ`O'#IpPOQ!0Lh-E<n-E<nO%,^QMjO,5?_OOQ!0Lh-E<q-E<qO%-PQMjO,5?aOOQ!0Lh-E<s-E<sO%-ZQ!dO1G2vO%-bQ!dO'#CrO%-xQMhO'#KQO$#^QlO'#JtOOQ!0Lh1G2^1G2^O%.PQ`O'#IoO%.eQ`O,5@tO%.eQ`O,5@tO%.mQ`O,5@tO%.xQ`O,5@tOOQO1G2`1G2`O%/WQMjO1G2_O!+rQMhO1G2_O%/hQ(CWO'#IqO%/uQ`O,5@uO!&iQMhO,5@uO%/}Q!dO,5@uOOQ!0Lh1G2c1G2cO%2_Q!fO'#CiO%2iQ`O,5=OOOQ!0Lb,5<|,5<|O%2qQpO,5<|OOQ!0Lb,5<},5<}OCfQ`O,5<|O%2|QpO,5<|OOQ!0Lb,5=Q,5=QO$)iQ`O,5=UOOQO,5?^,5?^OOQO-E<p-E<pOOQ!0Lp1G2g1G2gO##hQpO,5<|O$#^QlO,5=OO%3[Q`O,5<}O%3gQpO,5<}O!+rQMhO'#IsO%4aQMjO1G2rO!+rQMhO'#IuO%5SQMjO1G2tO%5^QMjO1G5oO%5hQMjO1G5oOOQO,5?c,5?cOOQO-E<u-E<uOOQO1G.{1G.{O!9lQpO,59uO%[QlO,59uOOQ!0Lh,5<i,5<iO%5uQ`O1G2YO!+rQMhO1G2aO!+rQMhO1G5oO!+rQMhO1G5oO%5zQ!0MxO7+'lOOQ!0Lf7+'l7+'lO!$fQlO7+'lO%6nQ`O,5;^OOQ!0Lb,5?e,5?eOOQ!0Lb-E<w-E<wO%6sQ!dO'#K[O#'cQ`O7+(dO4UQ!fO7+(dO$BuQ`O7+(dO%6}Q!0MvO'#CiO%7nQ!0LrO,5=RO%8PQ!0MvO,5=RO%8dQ`O,5=ROOQ!0Lb1G5m1G5mOOQ[7+$a7+$aO!BYQ!0LrO7+$aO!BeQpO7+$aO!$fQlO7+&_O%8lQ`O'#JOO%9TQ`O,5@}OOQO1G3f1G3fO9aQ`O,5@}O%9TQ`O,5@}O%9]Q`O,5@}OOQO,5?k,5?kOOQO-E<}-E<}OOQ!0Lf7+'S7+'SO%9bQ`O7+)PO9kQ!0LrO7+)PO9aQ`O7+)PO@iQ`O7+)POOQ[7+(o7+(oO%9gQ!0MvO7+(lO!&iQMhO7+(lO!DfQ`O7+(mOOQ[7+(m7+(mO!&iQMhO7+(mO%9qQ`O'#K`O%9|Q`O,5=kOOQO,5?g,5?gOOQO-E<y-E<yOOQ[7+(r7+(rO%;`QpO'#HYOOQ[1G3_1G3_O!&iQMhO1G3_O%[QlO1G3_O%;gQ`O1G3_O%;rQMhO1G3_O9kQ!0LrO1G3aO$#yQ`O1G3aO9UQ`O1G3aO!BeQpO1G3aO!BmQMhO1G3aO%<QQ`O'#I}O%<fQ`O,5@{O%<nQpO,5@{OOQ!0Lb1G3b1G3bOOQ[7+$V7+$VO@iQ`O7+$VO9kQ!0LrO7+$VO%<yQ`O7+$VO%[QlO1G6jO%[QlO1G6kO%=OQ!0LrO1G6jO%=YQlO1G3iO%=aQ`O1G3iO%=fQlO1G3iOOQ[7+)R7+)RO9kQ!0LrO7+)]O`QlO7+)_OOQ['#Kf'#KfOOQ['#JQ'#JQO%=mQlO,5>^OOQ[,5>^,5>^O%[QlO'#HsO%=zQ`O'#HuOOQ[,5>d,5>dO9ZQ`O,5>dOOQ[,5>f,5>fOOQ[7+)h7+)hOOQ[7+)n7+)nOOQ[7+)r7+)rOOQ[7+)t7+)tO%>PQpO1G5zO%>kQ?MtO1G0xO%>uQ`O1G0xOOQO1G/q1G/qO%?QQ?MtO1G/qO>wQ`O1G/qO!(yQlO'#DkOOQO,5>},5>}OOQO-E<a-E<aOOQO,5?T,5?TOOQO-E<g-E<gO!BeQpO1G/qOOQO-E<c-E<cOOQ!0Ln1G0Z1G0ZOOQ!0Lf7+%s7+%sO#'cQ`O7+%sOOQ!0Lf7+&^7+&^O>wQ`O7+&^O!BeQpO7+&^OOQO7+%v7+%vO$?{Q!0MxO7+&VOOQO7+&V7+&VO%[QlO7+&VO%?[Q!0LrO7+&VO!BYQ!0LrO7+%vO!BeQpO7+%vO%?gQ!0LrO7+&VO%?uQ!0MxO7++pO%[QlO7++pO%@VQ`O7++oO%@VQ`O7++oOOQO1G4q1G4qO9ZQ`O1G4qO%@_Q`O1G4qOOQS7+%{7+%{O#'cQ`O<<LOO4UQ!fO<<LOO%@mQ`O<<LOOOQ[<<LO<<LOO!&iQMhO<<LOO%[QlO<<LOO%@uQ`O<<LOO%AQQ!0MzO,5?_O%C]Q!0MzO,5?aO%EhQ!0MzO1G2_O%GyQ!0MzO1G2rO%JUQ!0MzO1G2tO%LaQ!fO,5?OO%[QlO,5?OOOQO-E<b-E<bO%LkQ`O1G5{OOQ!0Lf<<JS<<JSO%LsQ?MtO1G0sO%NzQ?MtO1G0}O& RQ?MtO1G0}O&#SQ?MtO1G0}O&#ZQ?MtO1G0}O&%[Q?MtO1G0}O&']Q?MtO1G0}O&'dQ?MtO1G0}O&'kQ?MtO1G0}O&)lQ?MtO1G0}O&)sQ?MtO1G0}O&)zQ!0MxO<<JeO&+rQ?MtO1G0}O&,oQ?MvO1G0}O&-rQ?MvO'#JjO&/xQ?MtO1G1bO&0VQ?MtO1G0SO&0aQMjO,5?ROOQO-E<e-E<eO!(yQlO'#FpOOQO'#KX'#KXOOQO1G1t1G1tO&0kQ`O1G1sO&0pQ?MtO,5?YOOOW7+'g7+'gOOOO1G/X1G/XO&0zQ!dO1G4vOOQ!0Lh7+(P7+(PP!&iQMhO,5?[O!+rQMhO7+(bO&1RQ`O,5?ZO9ZQ`O,5?ZOOQO-E<m-E<mO&1aQ`O1G6`O&1aQ`O1G6`O&1iQ`O1G6`O&1tQMjO7+'yO&2UQ!dO,5?]O&2`Q`O,5?]O!&iQMhO,5?]OOQO-E<o-E<oO&2eQ!dO1G6aO&2oQ`O1G6aO&2wQ`O1G2jO!&iQMhO1G2jOOQ!0Lb1G2h1G2hOOQ!0Lb1G2i1G2iO%2qQpO1G2hO!BeQpO1G2hOCfQ`O1G2hOOQ!0Lb1G2p1G2pO&2|QpO1G2hO&3[Q`O1G2jO$)iQ`O1G2iOCfQ`O1G2iO$#^QlO1G2jO&3dQ`O1G2iO&4WQMjO,5?_OOQ!0Lh-E<r-E<rO&4yQMjO,5?aOOQ!0Lh-E<t-E<tO!+rQMhO7++ZOOQ!0Lh1G/a1G/aO&5TQ`O1G/aOOQ!0Lh7+'t7+'tO&5YQMjO7+'{O&5jQMjO7++ZO&5tQMjO7++ZO&6RQ!0MxO<<KWOOQ!0Lf<<KW<<KWO&6uQ`O1G0xO!&iQMhO'#IxO&6zQ`O,5@vO&8|Q!fO<<LOO!&iQMhO1G2mO&9TQ!0LrO1G2mOOQ[<<G{<<G{O!BYQ!0LrO<<G{O&9fQ!0MxO<<IyOOQ!0Lf<<Iy<<IyOOQO,5?j,5?jO&:YQ`O,5?jO&:_Q`O,5?jOOQO-E<|-E<|O&:mQ`O1G6iO&:mQ`O1G6iO9aQ`O1G6iO@iQ`O<<LkOOQ[<<Lk<<LkO&:uQ`O<<LkO9kQ!0LrO<<LkOOQ[<<LW<<LWO%9gQ!0MvO<<LWOOQ[<<LX<<LXO!DfQ`O<<LXO&:zQpO'#IzO&;VQ`O,5@zO!(yQlO,5@zOOQ[1G3V1G3VOOQO'#I|'#I|O9kQ!0LrO'#I|O&;_QpO,5=tOOQ[,5=t,5=tO&;fQpO'#EeO&;mQpO'#GdO&;rQ`O7+(yO&;wQ`O7+(yOOQ[7+(y7+(yO!&iQMhO7+(yO%[QlO7+(yO&<PQ`O7+(yOOQ[7+({7+({O9kQ!0LrO7+({O$#yQ`O7+({O9UQ`O7+({O!BeQpO7+({O&<[Q`O,5?iOOQO-E<{-E<{OOQO'#H]'#H]O&<gQ`O1G6gO9kQ!0LrO<<GqOOQ[<<Gq<<GqO@iQ`O<<GqO&<oQ`O7+,UO&<tQ`O7+,VO%[QlO7+,UO%[QlO7+,VOOQ[7+)T7+)TO&<yQ`O7+)TO&=OQlO7+)TO&=VQ`O7+)TOOQ[<<Lw<<LwOOQ[<<Ly<<LyOOQ[-E=O-E=OOOQ[1G3x1G3xO&=[Q`O,5>_OOQ[,5>a,5>aO&=aQ`O1G4OO9ZQ`O7+&dO!(yQlO7+&dOOQO7+%]7+%]O&=fQ?MtO1G6XO>wQ`O7+%]OOQ!0Lf<<I_<<I_OOQ!0Lf<<Ix<<IxO>wQ`O<<IxOOQO<<Iq<<IqO$?{Q!0MxO<<IqO%[QlO<<IqOOQO<<Ib<<IbO!BYQ!0LrO<<IbO&=pQ!0LrO<<IqO&={Q!0MxO<= [O&>]Q`O<= ZOOQO7+*]7+*]O9ZQ`O7+*]OOQ[ANAjANAjO&>eQ!fOANAjO!&iQMhOANAjO#'cQ`OANAjO4UQ!fOANAjO&>lQ`OANAjO%[QlOANAjO&>tQ!0MzO7+'yO&AVQ!0MzO,5?_O&CbQ!0MzO,5?aO&EmQ!0MzO7+'{O&HOQ!fO1G4jO&HYQ?MtO7+&_O&J^Q?MvO,5=WO&LeQ?MvO,5=YO&LuQ?MvO,5=WO&MVQ?MvO,5=YO&MgQ?MvO,59sO' mQ?MvO,5<jO'#pQ?MvO,5<lO'&UQ?MvO,5<zO''zQ?MtO7+'jO'(XQ?MtO7+'lO'(fQ`O,5<[OOQO7+'_7+'_OOQ!0Lh7+*b7+*bO'(kQMjO<<K|OOQO1G4u1G4uO'(rQ`O1G4uO'(}Q`O1G4uO')]Q`O7++zO')]Q`O7++zO!&iQMhO1G4wO')eQ!dO1G4wO')oQ`O7++{O')wQ`O7+(UO'*SQ!dO7+(UOOQ!0Lb7+(S7+(SOOQ!0Lb7+(T7+(TO!BeQpO7+(SOCfQ`O7+(SO'*^Q`O7+(UO!&iQMhO7+(UO$)iQ`O7+(TO'*cQ`O7+(UOCfQ`O7+(TO'*kQMjO<<NuOOQ!0Lh7+${7+${O!+rQMhO<<NuO'*uQ!dO,5?dOOQO-E<v-E<vO'+PQ!0MvO7+(XO!&iQMhO7+(XOOQ[AN=gAN=gO9aQ`O1G5UOOQO1G5U1G5UO'+aQ`O1G5UO'+fQ`O7+,TO'+fQ`O7+,TO9kQ!0LrOANBVO@iQ`OANBVOOQ[ANBVANBVOOQ[ANArANArOOQ[ANAsANAsO'+nQ`O,5?fOOQO-E<x-E<xO'+yQ?MtO1G6fOOQO,5?h,5?hOOQO-E<z-E<zOOQ[1G3`1G3`O',TQ`O,5=OOOQ[<<Le<<LeO!&iQMhO<<LeO&;rQ`O<<LeO',YQ`O<<LeO%[QlO<<LeOOQ[<<Lg<<LgO9kQ!0LrO<<LgO$#yQ`O<<LgO9UQ`O<<LgO',bQpO1G5TO',mQ`O7+,ROOQ[AN=]AN=]O9kQ!0LrOAN=]OOQ[<= p<= pOOQ[<= q<= qO',uQ`O<= pO',zQ`O<= qOOQ[<<Lo<<LoO'-PQ`O<<LoO'-UQlO<<LoOOQ[1G3y1G3yO>wQ`O7+)jO'-]Q`O<<JOO'-hQ?MtO<<JOOOQO<<Hw<<HwOOQ!0LfAN?dAN?dOOQOAN?]AN?]O$?{Q!0MxOAN?]OOQOAN>|AN>|O%[QlOAN?]OOQO<<Mw<<MwOOQ[G27UG27UO!&iQMhOG27UO#'cQ`OG27UO'-rQ!fOG27UO4UQ!fOG27UO'-yQ`OG27UO'.RQ?MtO<<JeO'.`Q?MvO1G2_O'0UQ?MvO,5?_O'2XQ?MvO,5?aO'4[Q?MvO1G2rO'6_Q?MvO1G2tO'8bQ?MtO<<KWO'8oQ?MtO<<IyOOQO1G1v1G1vO!+rQMhOANAhOOQO7+*a7+*aO'8|Q`O7+*aO'9XQ`O<= fO'9aQ!dO7+*cOOQ!0Lb<<Kp<<KpO$)iQ`O<<KpOCfQ`O<<KpO'9kQ`O<<KpO!&iQMhO<<KpOOQ!0Lb<<Kn<<KnO!BeQpO<<KnO'9vQ!dO<<KpOOQ!0Lb<<Ko<<KoO':QQ`O<<KpO!&iQMhO<<KpO$)iQ`O<<KoO':VQMjOANDaO':aQ!0MvO<<KsOOQO7+*p7+*pO9aQ`O7+*pO':qQ`O<= oOOQ[G27qG27qO9kQ!0LrOG27qO!(yQlO1G5QO':yQ`O7+,QO';RQ`O1G2jO&;rQ`OANBPOOQ[ANBPANBPO!&iQMhOANBPO';WQ`OANBPOOQ[ANBRANBRO9kQ!0LrOANBRO$#yQ`OANBROOQO'#H^'#H^OOQO7+*o7+*oOOQ[G22wG22wOOQ[ANE[ANE[OOQ[ANE]ANE]OOQ[ANBZANBZO';`Q`OANBZOOQ[<<MU<<MUO!(yQlOAN?jOOQOG24wG24wO$?{Q!0MxOG24wO#'cQ`OLD,pOOQ[LD,pLD,pO!&iQMhOLD,pO';eQ!fOLD,pO';lQ?MvO7+'yO'=bQ?MvO,5?_O'?eQ?MvO,5?aO'AhQ?MvO7+'{O'C^QMjOG27SOOQO<<M{<<M{OOQ!0LbANA[ANA[O$)iQ`OANA[OCfQ`OANA[O'CnQ!dOANA[OOQ!0LbANAYANAYO'CuQ`OANA[O!&iQMhOANA[O'DQQ!dOANA[OOQ!0LbANAZANAZOOQO<<N[<<N[OOQ[LD-]LD-]O'D[Q?MtO7+*lOOQO'#Ge'#GeOOQ[G27kG27kO&;rQ`OG27kO!&iQMhOG27kOOQ[G27mG27mO9kQ!0LrOG27mOOQ[G27uG27uO'DfQ?MtOG25UOOQOLD*cLD*cOOQ[!$(![!$(![O#'cQ`O!$(![O!&iQMhO!$(![O'DpQ!0MzOG27SOOQ!0LbG26vG26vO$)iQ`OG26vO'GRQ`OG26vOCfQ`OG26vO'G^Q!dOG26vO!&iQMhOG26vOOQ[LD-VLD-VO&;rQ`OLD-VOOQ[LD-XLD-XOOQ[!)9Ev!)9EvO#'cQ`O!)9EvOOQ!0LbLD,bLD,bO$)iQ`OLD,bOCfQ`OLD,bO'GeQ`OLD,bO'GpQ!dOLD,bOOQ[!$(!q!$(!qOOQ[!.K;b!.K;bO'GwQ?MvOG27SOOQ!0Lb!$( |!$( |O$)iQ`O!$( |OCfQ`O!$( |O'ImQ`O!$( |OOQ!0Lb!)9Eh!)9EhO$)iQ`O!)9EhOCfQ`O!)9EhOOQ!0Lb!.K;S!.K;SO$)iQ`O!.K;SOOQ!0Lb!4/0n!4/0nO!(yQlO'#DxO1PQ`O'#EVO'IxQ!fO'#JpO'JPQ!L^O'#DtO'JWQlO'#D|O'J_Q!fO'#CiO'LuQ!fO'#CiO!(yQlO'#EOO'MVQlO,5;XO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO'#InO( YQ`O,5<hO!(yQlO,5;cO( bQMhO,5;cO(!{QMhO,5;cO!(yQlO,5;vO!&iQMhO'#GlO( bQMhO'#GlO!&iQMhO'#GnO( bQMhO'#GnO1SQ`O'#DXO1SQ`O'#DXO!&iQMhO'#GOO( bQMhO'#GOO!&iQMhO'#GQO( bQMhO'#GQO!&iQMhO'#G`O( bQMhO'#G`O!(yQlO,5:hO(#SQpO'#D]O(#^QpO'#JtO!(yQlO,5@mO'MVQlO1G0sO(#hQ?MtO'#CiO!(yQlO1G2OO!&iQMhO'#IsO( bQMhO'#IsO!&iQMhO'#IuO( bQMhO'#IuO(#rQ!dO'#CrO!&iQMhO,5<sO( bQMhO,5<sO'MVQlO1G2QO!(yQlO7+&yO!&iQMhO1G2_O( bQMhO1G2_O!&iQMhO'#IsO( bQMhO'#IsO!&iQMhO'#IuO( bQMhO'#IuO!&iQMhO1G2aO( bQMhO1G2aO'MVQlO7+'lO'MVQlO7+&_O!&iQMhOANAhO( bQMhOANAhO($VQ`O'#EmO($[Q`O'#EmO($dQ`O'#F[O($iQ`O'#EwO($nQ`O'#KRO($yQ`O'#KPO(%UQ`O,5;XO(%ZQMjO,5<dO(%bQ`O'#GXO(%gQ`O'#GXO(%lQ`O,5<fO(%tQ`O,5;XO(%|Q?MtO1G1_O(&TQ`O,5<sO(&YQ`O,5<sO(&_Q`O,5<uO(&dQ`O,5<uO(&iQ`O1G2QO(&nQ`O1G0sO(&sQMjO<<K|O(&zQMjO<<K|O7eQMhO'#F{O9UQ`O'#FzOAdQ`O'#ElO!(yQlO,5;sO!3^Q`O'#GXO!3^Q`O'#GXO!3^Q`O'#GZO!3^Q`O'#GZO!+rQMhO7+(bO!+rQMhO7+(bO%-ZQ!dO1G2vO%-ZQ!dO1G2vO!&iQMhO,5=[O!&iQMhO,5=[",stateData:"((P~O'zOS'{OSTOS'|RQ~OPYOQYOSfOY!VOaqOdzOeyOj!POnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]XO!guO!jZO!mYO!nYO!oYO!qvO!swO!vxO!z]O$V|O$miO%g}O%i!QO%k!OO%l!OO%m!OO%p!RO%r!SO%u!TO%v!TO%x!UO&U!WO&[!XO&^!YO&`!ZO&b![O&e!]O&k!^O&q!_O&s!`O&u!aO&w!bO&y!cO(RSO(TTO(WUO(_VO(m[O~OWtO~P`OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(R!dO(TTO(WUO(_VO(m[O~Oa!wOq!nO!Q!oO!`!yO!a!vO!b!vO!z;wO#R!pO#S!pO#T!xO#U!pO#V!pO#Y!zO#Z!zO(S!lO(TTO(WUO(c!mO(m!sO~O'|!{O~OP]XR]X[]Xa]Xp]X!O]X!Q]X!Z]X!j]X!n]X#P]X#Q]X#^]X#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X'x]X(_]X(p]X(w]X(x]X~O!e%QX~P(qO_!}O(T#PO(U!}O(V#PO~O_#QO(V#PO(W#PO(X#QO~Ov#SO!S#TO(`#TO(a#VO~OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(R;{O(TTO(WUO(_VO(m[O~O!Y#ZO!Z#WO!W(fP!W(tP~P+}O![#cO~P`OPYOQYOSfOd!jOe!iOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(TTO(WUO(_VO(m[O~On#mO!Y#iO!z]O#g#lO#h#iO(R;|O!i(qP~P.iO!j#oO(R#nO~O!v#sO!z]O%g#tO~O#i#uO~O!e#vO#i#uO~OP$[OR#zO[$cOp$aO!O#yO!Q#{O!Z$_O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO#y$WO#z$XO(_VO(p$YO(w#|O(x#}O~Oa(dX'x(dX'u(dX!i(dX!W(dX!](dX%h(dX!e(dX~P1qO#Q$dO#^$eO$P$eOP(eXR(eX[(eXp(eX!O(eX!Q(eX!Z(eX!j(eX!n(eX#P(eX#l(eX#m(eX#n(eX#o(eX#p(eX#q(eX#r(eX#s(eX#t(eX#u(eX#w(eX#y(eX#z(eX(_(eX(p(eX(w(eX(x(eX!](eX%h(eX~Oa(eX'x(eX'u(eX!W(eX!i(eXt(eX!e(eX~P4UO#^$eO~O$[$hO$^$gO$e$mO~OSfO!]$nO$h$oO$j$qO~Oh%VOj%cOn%WOp%XOq$tOr$tOx%YOz%ZO|%[O!Q${O!]$|O!g%aO!j$xO#h%bO$V%_O$s%]O$u%^O$x%`O(R$sO(TTO(WUO(_$uO(w$}O(x%POg([P~O!j%dO~O!Q%gO!]%hO(R%fO~O!e%lO~Oa%mO'x%mO~O!O%qO~P%[O(S!lO~P%[O%m%uO~P%[Oh%VO!j%dO(R%fO(S!lO~Oe%|O!j%dO(R%fO~O#t$RO~O!O&RO!]&OO!j&QO%i&UO(R%fO(S!lO(TTO(WUO`)UP~O!v#sO~O%r&WO!Q)QX!])QX(R)QX~O(R&XO~Oj!PO!s&^O%i!QO%k!OO%l!OO%m!OO%p!RO%r!SO%u!TO%v!TO~Od&cOe&bO!v&`O%g&aO%z&_O~P<POd&fOeyOj!PO!]&eO!s&^O!vxO!z]O%g}O%k!OO%l!OO%m!OO%p!RO%r!SO%u!TO%v!TO%x!UO~Ob&iO#^&lO%i&gO(S!lO~P=UO!j&mO!s&qO~O!j#oO~O!]XO~Oa%mO'v&yO'x%mO~Oa%mO'v&|O'x%mO~Oa%mO'v'OO'x%mO~O'u]X!W]Xt]X!i]X&Y]X!]]X%h]X!e]X~P(qO!`']O!a'UO!b'UO(S!lO(TTO(WUO~Oq'SO!Q'RO!Y'VO(c'QO![(gP![(vP~P@]Ol'`O!]'^O(R%fO~Oe'eO!j%dO(R%fO~O!O&RO!j&QO~Oq!nO!Q!oO!z;wO#R!pO#S!pO#U!pO#V!pO(S!lO(TTO(WUO(c!mO(m!sO~O!`'kO!a'jO!b'jO#T!pO#Y'lO#Z'lO~PAwOa%mOh%VO!e#vO!j%dO'x%mO(p'nO~O!n'rO#^'pO~PCVOq!nO!Q!oO(TTO(WUO(c!mO(m!sO~O!]XOq(kX!Q(kX!`(kX!a(kX!b(kX!z(kX#R(kX#S(kX#T(kX#U(kX#V(kX#Y(kX#Z(kX(S(kX(T(kX(W(kX(c(kX(m(kX~O!a'jO!b'jO(S!lO~PCuO'}'vO(O'vO(P'xO~O_!}O(T'zO(U!}O(V'zO~O_#QO(V'zO(W'zO(X#QO~Ot'|O~P%[Ov#SO!S#TO(`#TO(a(PO~O!Y(RO!W'UX!W'[X!Z'UX!Z'[X~P+}O!Z(TO!W(fX~OP$[OR#zO[$cOp$aO!O#yO!Q#{O!Z(TO!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO#y$WO#z$XO(_VO(p$YO(w#|O(x#}O~O!W(fX~PGpO!W(YO~O!W(sX!Z(sX!e(sX!i(sX(p(sX~O#^(sX#i#bX![(sX~PIsO#^(ZO!W(uX!Z(uX~O!Z([O!W(tX~O!W(_O~O#^$eO~PIsO![(`O~P`OR#zO!O#yO!Q#{O!j#xO(_VOP!la[!lap!la!Z!la!n!la#P!la#l!la#m!la#n!la#o!la#p!la#q!la#r!la#s!la#t!la#u!la#w!la#y!la#z!la(p!la(w!la(x!la~Oa!la'x!la'u!la!W!la!i!lat!la!]!la%h!la!e!la~PKZO!i(aO~O!e#vO#^(bO(p'nO!Z(rXa(rX'x(rX~O!i(rX~PMvO!Q%gO!]%hO!z]O#g(gO#h(fO(R%fO~O!Z(hO!i(qX~O!i(jO~O!Q%gO!]%hO#h(fO(R%fO~OP(eXR(eX[(eXp(eX!O(eX!Q(eX!Z(eX!j(eX!n(eX#P(eX#l(eX#m(eX#n(eX#o(eX#p(eX#q(eX#r(eX#s(eX#t(eX#u(eX#w(eX#y(eX#z(eX(_(eX(p(eX(w(eX(x(eX~O!e#vO!i(eX~P! dOR(lO!O(kO!j#xO#Q$dO!z!ya!Q!ya~O!v!ya%g!ya!]!ya#g!ya#h!ya(R!ya~P!#eO!v(pO~OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]XO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(R!dO(TTO(WUO(_VO(m[O~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<eO!Q${O!]$|O!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(R(tO(TTO(WUO(_$uO(w$}O(x%PO~O#i(vO~O!Y(xO!i(iP~P%[O(c(zO(m[O~O!Q(|O!j#xO(c(zO(m[O~OP;vOQ;vOSfOd=rOe!iOnkOp;vOqkOrkOxkOz;vO|;vO!QWO!UkO!VkO!]!eO!g;yO!jZO!m;vO!n;vO!o;vO!q;zO!s;}O!v!hO$V!kO$m=pO(R)ZO(TTO(WUO(_VO(m[O~O!Z$_Oa$pa'x$pa'u$pa!i$pa!W$pa!]$pa%h$pa!e$pa~Oj)bO~P!&iOh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|%[O!Q${O!]$|O!g%aO!j$xO#h%bO$V%_O$s%]O$u%^O$x%`O(R(tO(TTO(WUO(_$uO(w$}O(x%PO~Og(nP~P!+rO!O)gO!e)fO!]$]X$Y$]X$[$]X$^$]X$e$]X~O!e)fO!](yX$Y(yX$[(yX$^(yX$e(yX~O!O)gO~P!-{O!O)gO!](yX$Y(yX$[(yX$^(yX$e(yX~O!])iO$Y)mO$[)hO$^)hO$e)nO~O!Y)qO~P!(yO$[$hO$^$gO$e)uO~Ol$yX!O$yX#Q$yX'w$yX(w$yX(x$yX~OgkXg$yXlkX!ZkX#^kX~P!/qOv)wO(`)xO(a)zO~Ol*TO!O)|O'w)}O(w$}O(x%PO~Og){O~P!0uOg*UO~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<eO!Q*WO!]*XO!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(TTO(WUO(_$uO(w$}O(x%PO~O!Y*[O(R*VO!i(|P~P!1dO#i*^O~O!j*_O~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<eO!Q${O!]$|O!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(R*aO(TTO(WUO(_$uO(w$}O(x%PO~O!Y*dO!W(}P~P!3cOp*pOq!nO!Q*fO!`*nO!a*hO!b*hO!j*_O#Y*oO%_*jO(S!lO(TTO(WUO(c!mO~O![*mO~P!5WO#Q$dOl(^X!O(^X'w(^X(w(^X(x(^X!Z(^X#^(^X~Og(^X#}(^X~P!6YOl*uO#^*tOg(]X!Z(]X~O!Z*vOg([X~Oj%cO(R&XOg([P~Oq*yO~O!j+OO~O(R(tO~On+TO!Q%gO!Y#iO!]%hO!z]O#g#lO#h#iO(R%fO!i(qP~O!e#vO#i+UO~O!Q%gO!Y+WO!Z([O!]%hO(R%fO!W(tP~Oq'YO!Q+YO!Y+XO(TTO(WUO(c(zO~O![(vP~P!9]O!Z+ZOa)RX'x)RX~OP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO#y$WO#z$XO(_VO(p$YO(w#|O(x#}O~Oa!ha!Z!ha'x!ha'u!ha!W!ha!i!hat!ha!]!ha%h!ha!e!ha~P!:TOR#zO!O#yO!Q#{O!j#xO(_VOP!pa[!pap!pa!Z!pa!n!pa#P!pa#l!pa#m!pa#n!pa#o!pa#p!pa#q!pa#r!pa#s!pa#t!pa#u!pa#w!pa#y!pa#z!pa(p!pa(w!pa(x!pa~Oa!pa'x!pa'u!pa!W!pa!i!pat!pa!]!pa%h!pa!e!pa~P!<kOR#zO!O#yO!Q#{O!j#xO(_VOP!ra[!rap!ra!Z!ra!n!ra#P!ra#l!ra#m!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#w!ra#y!ra#z!ra(p!ra(w!ra(x!ra~Oa!ra'x!ra'u!ra!W!ra!i!rat!ra!]!ra%h!ra!e!ra~P!?ROh%VOl+dO!]'^O%h+cO~O!e+fOa(ZX!](ZX'x(ZX!Z(ZX~Oa%mO!]XO'x%mO~Oh%VO!j%dO~Oh%VO!j%dO(R%fO~O!e#vO#i(vO~Ob+qO%i+rO(R+nO(TTO(WUO![)VP~O!Z+sO`)UX~O[+wO~O`+xO~O!]&OO(R%fO(S!lO`)UP~Oh%VO#^+}O~Oh%VOl,QO!]$|O~O!],SO~O!O,UO!]XO~O%m%uO~O!v,ZO~Oe,`O~Ob,aO(R#nO(TTO(WUO![)TP~Oe%|O~O%i!QO(R&XO~P=UO[,fO`,eO~OPYOQYOSfOdzOeyOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!guO!jZO!mYO!nYO!oYO!qvO!vxO!z]O$miO%g}O(TTO(WUO(_VO(m[O~O!]!eO!s!gO$V!kO(R!dO~P!FRO`,eOa%mO'x%mO~OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!v!hO$V!kO$miO(R!dO(TTO(WUO(_VO(m[O~Oa,kOj!OO!swO%k!OO%l!OO%m!OO~P!HkO!j&mO~O&[,qO~O!],sO~O&m,uO&o,vOP&jaQ&jaS&jaY&jaa&jad&jae&jaj&jan&jap&jaq&jar&jax&jaz&ja|&ja!Q&ja!U&ja!V&ja!]&ja!g&ja!j&ja!m&ja!n&ja!o&ja!q&ja!s&ja!v&ja!z&ja$V&ja$m&ja%g&ja%i&ja%k&ja%l&ja%m&ja%p&ja%r&ja%u&ja%v&ja%x&ja&U&ja&[&ja&^&ja&`&ja&b&ja&e&ja&k&ja&q&ja&s&ja&u&ja&w&ja&y&ja'u&ja(R&ja(T&ja(W&ja(_&ja(m&ja![&ja&c&jab&ja&h&ja~O(R,{O~Oh!cX!Z!PX![!PX!e!PX!e!cX!j!cX#^!PX~O!Z!cX![!cX~P# qO!e-QO#^-POh(hX!Z#fX![#fX!e(hX!j(hX~O!Z(hX![(hX~P#!dOh%VO!e-SO!j%dO!Z!_X![!_X~Oq!nO!Q!oO(TTO(WUO(c!mO~OP;vOQ;vOSfOd=rOe!iOnkOp;vOqkOrkOxkOz;vO|;vO!QWO!UkO!VkO!]!eO!g;yO!jZO!m;vO!n;vO!o;vO!q;zO!s;}O!v!hO$V!kO$m=pO(TTO(WUO(_VO(m[O~O(R<rO~P##yO!Z-WO![(gX~O![-YO~O!e-QO#^-PO!Z#fX![#fX~O!Z-ZO![(vX~O![-]O~O!a-^O!b-^O(S!lO~P##hO![-aO~P'_Ol-dO!]'^O~O!W-iO~Oq!ya!`!ya!a!ya!b!ya#R!ya#S!ya#T!ya#U!ya#V!ya#Y!ya#Z!ya(S!ya(T!ya(W!ya(c!ya(m!ya~P!#eO!n-nO#^-lO~PCVO!a-pO!b-pO(S!lO~PCuOa%mO#^-lO'x%mO~Oa%mO!e#vO#^-lO'x%mO~Oa%mO!e#vO!n-nO#^-lO'x%mO(p'nO~O'}'vO(O'vO(P-uO~Ot-vO~O!W'Ua!Z'Ua~P!:TO!Y-zO!W'UX!Z'UX~P%[O!Z(TO!W(fa~O!W(fa~PGpO!Z([O!W(ta~O!Q%gO!Y.OO!]%hO(R%fO!W'[X!Z'[X~O#^.QO!Z(ra!i(raa(ra'x(ra~O!e#vO~P#,PO!Z(hO!i(qa~O!Q%gO!]%hO#h.UO(R%fO~On.ZO!Q%gO!Y.WO!]%hO!z]O#g.YO#h.WO(R%fO!Z'_X!i'_X~OR._O!j#xO~Oh%VOl.bO!]'^O%h.aO~Oa#ai!Z#ai'x#ai'u#ai!W#ai!i#ait#ai!]#ai%h#ai!e#ai~P!:TOl=|O!O)|O'w)}O(w$}O(x%PO~O#i#]aa#]a#^#]a'x#]a!Z#]a!i#]a!]#]a!W#]a~P#.{O#i(^XP(^XR(^X[(^Xa(^Xp(^X!Q(^X!j(^X!n(^X#P(^X#l(^X#m(^X#n(^X#o(^X#p(^X#q(^X#r(^X#s(^X#t(^X#u(^X#w(^X#y(^X#z(^X'x(^X(_(^X(p(^X!i(^X!W(^X'u(^Xt(^X!](^X%h(^X!e(^X~P!6YO!Z.oO!i(iX~P!:TO!i.rO~O!W.tO~OP$[OR#zO!O#yO!Q#{O!j#xO!n$[O(_VO[#kia#kip#ki!Z#ki#P#ki#m#ki#n#ki#o#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki'x#ki(p#ki(w#ki(x#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#l#ki~P#2kO#l$OO~P#2kOP$[OR#zOp$aO!O#yO!Q#{O!j#xO!n$[O#l$OO#m$PO#n$PO#o$PO(_VO[#kia#ki!Z#ki#P#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki'x#ki(p#ki(w#ki(x#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#p#ki~P#5YO#p$QO~P#5YOP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO(_VOa#ki!Z#ki#w#ki#y#ki#z#ki'x#ki(p#ki(w#ki(x#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#u#ki~P#7wOP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO(_VO(x#}Oa#ki!Z#ki#y#ki#z#ki'x#ki(p#ki(w#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#w$UO~P#:_O#w#ki~P#:_O#u$SO~P#7wOP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO(_VO(w#|O(x#}Oa#ki!Z#ki#z#ki'x#ki(p#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#y#ki~P#=TO#y$WO~P#=TOP]XR]X[]Xp]X!O]X!Q]X!j]X!n]X#P]X#Q]X#^]X#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X(_]X(p]X(w]X(x]X!Z]X![]X~O#}]X~P#?rOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO#u<TO#w<VO#y<XO#z<YO(_VO(p$YO(w#|O(x#}O~O#}.vO~P#BPO#Q$dO#^<`O$P<`O#}(eX![(eX~P! dOa'ba!Z'ba'x'ba'u'ba!i'ba!W'bat'ba!]'ba%h'ba!e'ba~P!:TO[#kia#kip#ki!Z#ki#P#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki'x#ki(p#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~OP$[OR#zO!O#yO!Q#{O!j#xO!n$[O#l$OO#m$PO#n$PO#o$PO(_VO(w#ki(x#ki~P#EROl=|O!O)|O'w)}O(w$}O(x%POP#kiR#ki!Q#ki!j#ki!n#ki#l#ki#m#ki#n#ki#o#ki(_#ki~P#ERO!Z.zOg(nX~P!0uOg.|O~Oa$Oi!Z$Oi'x$Oi'u$Oi!W$Oi!i$Oit$Oi!]$Oi%h$Oi!e$Oi~P!:TO$[.}O$^.}O~O$[/OO$^/OO~O!e)fO#^/PO!]$bX$Y$bX$[$bX$^$bX$e$bX~O!Y/QO~O!])iO$Y/SO$[)hO$^)hO$e/TO~O!Z<ZO![(dX~P#BPO![/UO~O!e)fO$e(yX~O$e/WO~Ot/XO~P!&iOv)wO(`)xO(a/[O~O!Q/_O~O(w$}Ol%`a!O%`a'w%`a(x%`a!Z%`a#^%`a~Og%`a#}%`a~P#LTO(x%POl%ba!O%ba'w%ba(w%ba!Z%ba#^%ba~Og%ba#}%ba~P#LvO!ZfX!efX!ifX!i$yX(pfX~P!/qO!Y/hO!Z([O(R/gO!W(tP!W(}P~P!1dOp*pO!`*nO!a*hO!b*hO!j*_O#Y*oO%_*jO(S!lO(TTO(WUO~Oq<oO!Q/iO!Y+XO![*mO(c<nO![(vP~P#NaO!i/jO~P#.{O!Z/kO!e#vO(p'nO!i(|X~O!i/pO~O!Q%gO!Y*[O!]%hO(R%fO!i(|P~O#i/rO~O!W$yX!Z$yX!e%QX~P!/qO!Z/sO!W(}X~P#.{O!e/uO~O!W/wO~OnkO(R/xO~P.iOh%VOp/}O!e#vO!j%dO(p'nO~O!e+fO~Oa%mO!Z0RO'x%mO~O![0TO~P!5WO!a0UO!b0UO(S!lO~P##hOq!nO!Q0VO(TTO(WUO(c!mO~O#Y0XO~Og%`a!Z%`a#^%`a#}%`a~P!0uOg%ba!Z%ba#^%ba#}%ba~P!0uOj%cO(R&XOg'kX!Z'kX~O!Z*vOg([a~Og0bO~OR0cO!O0cO!Q0dO#Q$dOl{a'w{a(w{a(x{a!Z{a#^{a~Og{a#}{a~P$&dO!O)|O'w)}Ol$ra(w$ra(x$ra!Z$ra#^$ra~Og$ra#}$ra~P$'`O!O)|O'w)}Ol$ta(w$ta(x$ta!Z$ta#^$ta~Og$ta#}$ta~P$(RO#i0gO~Og%Sa!Z%Sa#^%Sa#}%Sa~P!0uOl0iO#^0hOg(]a!Z(]a~O!e#vO~O#i0lO~O!Z+ZOa)Ra'x)Ra~OR#zO!O#yO!Q#{O!j#xO(_VOP!pi[!pip!pi!Z!pi!n!pi#P!pi#l!pi#m!pi#n!pi#o!pi#p!pi#q!pi#r!pi#s!pi#t!pi#u!pi#w!pi#y!pi#z!pi(p!pi(w!pi(x!pi~Oa!pi'x!pi'u!pi!W!pi!i!pit!pi!]!pi%h!pi!e!pi~P$*OOh%VOp%XOq$tOr$tOx%YOz%ZO|<eO!Q${O!]$|O!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(TTO(WUO(_$uO(w$}O(x%PO~On0vO%[0wO(R0tO~P$,fO!e+fOa(Za!](Za'x(Za!Z(Za~O#i0|O~O[]X!ZfX![fX~O!Z0}O![)VX~O![1PO~O[1QO~Ob1SO(R+nO(TTO(WUO~O!]&OO(R%fO`'sX!Z'sX~O!Z+sO`)Ua~O!i1VO~P!:TO[1YO~O`1ZO~O#^1^O~Ol1aO!]$|O~O(c(zO![)SP~Oh%VOl1jO!]1gO%h1iO~O[1tO!Z1rO![)TX~O![1uO~O`1wOa%mO'x%mO~O(R#nO(TTO(WUO~O#Q$dO#^$eO$P$eOP(eXR(eX[(eXp(eX!O(eX!Q(eX!Z(eX!j(eX!n(eX#P(eX#l(eX#m(eX#n(eX#o(eX#p(eX#q(eX#r(eX#s(eX#u(eX#w(eX#y(eX#z(eX(_(eX(p(eX(w(eX(x(eX~O#t1zO&Y1{Oa(eX~P$2PO#^$eO#t1zO&Y1{O~Oa1}O~P%[Oa2PO~O&c2SOP&aiQ&aiS&aiY&aia&aid&aie&aij&ain&aip&aiq&air&aix&aiz&ai|&ai!Q&ai!U&ai!V&ai!]&ai!g&ai!j&ai!m&ai!n&ai!o&ai!q&ai!s&ai!v&ai!z&ai$V&ai$m&ai%g&ai%i&ai%k&ai%l&ai%m&ai%p&ai%r&ai%u&ai%v&ai%x&ai&U&ai&[&ai&^&ai&`&ai&b&ai&e&ai&k&ai&q&ai&s&ai&u&ai&w&ai&y&ai'u&ai(R&ai(T&ai(W&ai(_&ai(m&ai![&aib&ai&h&ai~Ob2YO![2WO&h2XO~P`O!]XO!j2[O~O&o,vOP&jiQ&jiS&jiY&jia&jid&jie&jij&jin&jip&jiq&jir&jix&jiz&ji|&ji!Q&ji!U&ji!V&ji!]&ji!g&ji!j&ji!m&ji!n&ji!o&ji!q&ji!s&ji!v&ji!z&ji$V&ji$m&ji%g&ji%i&ji%k&ji%l&ji%m&ji%p&ji%r&ji%u&ji%v&ji%x&ji&U&ji&[&ji&^&ji&`&ji&b&ji&e&ji&k&ji&q&ji&s&ji&u&ji&w&ji&y&ji'u&ji(R&ji(T&ji(W&ji(_&ji(m&ji![&ji&c&jib&ji&h&ji~O!W2bO~O!Z!_a![!_a~P#BPOq!nO!Q!oO!Y2hO(c!mO!Z'VX!['VX~P@]O!Z-WO![(ga~O!Z']X![']X~P!9]O!Z-ZO![(va~O![2oO~P'_Oa%mO#^2xO'x%mO~Oa%mO!e#vO#^2xO'x%mO~Oa%mO!e#vO!n2|O#^2xO'x%mO(p'nO~Oa%mO'x%mO~P!:TO!Z$_Ot$pa~O!W'Ui!Z'Ui~P!:TO!Z(TO!W(fi~O!Z([O!W(ti~O!W(ui!Z(ui~P!:TO!Z(ri!i(ria(ri'x(ri~P!:TO#^3OO!Z(ri!i(ria(ri'x(ri~O!Z(hO!i(qi~O!Q%gO!]%hO!z]O#g3TO#h3SO(R%fO~O!Q%gO!]%hO#h3SO(R%fO~Ol3[O!]'^O%h3ZO~Oh%VOl3[O!]'^O%h3ZO~O#i%`aP%`aR%`a[%`aa%`ap%`a!Q%`a!j%`a!n%`a#P%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#t%`a#u%`a#w%`a#y%`a#z%`a'x%`a(_%`a(p%`a!i%`a!W%`a'u%`at%`a!]%`a%h%`a!e%`a~P#LTO#i%baP%baR%ba[%baa%bap%ba!Q%ba!j%ba!n%ba#P%ba#l%ba#m%ba#n%ba#o%ba#p%ba#q%ba#r%ba#s%ba#t%ba#u%ba#w%ba#y%ba#z%ba'x%ba(_%ba(p%ba!i%ba!W%ba'u%bat%ba!]%ba%h%ba!e%ba~P#LvO#i%`aP%`aR%`a[%`aa%`ap%`a!Q%`a!Z%`a!j%`a!n%`a#P%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#t%`a#u%`a#w%`a#y%`a#z%`a'x%`a(_%`a(p%`a!i%`a!W%`a'u%`a#^%`at%`a!]%`a%h%`a!e%`a~P#.{O#i%baP%baR%ba[%baa%bap%ba!Q%ba!Z%ba!j%ba!n%ba#P%ba#l%ba#m%ba#n%ba#o%ba#p%ba#q%ba#r%ba#s%ba#t%ba#u%ba#w%ba#y%ba#z%ba'x%ba(_%ba(p%ba!i%ba!W%ba'u%ba#^%bat%ba!]%ba%h%ba!e%ba~P#.{O#i{aP{a[{aa{ap{a!j{a!n{a#P{a#l{a#m{a#n{a#o{a#p{a#q{a#r{a#s{a#t{a#u{a#w{a#y{a#z{a'x{a(_{a(p{a!i{a!W{a'u{at{a!]{a%h{a!e{a~P$&dO#i$raP$raR$ra[$raa$rap$ra!Q$ra!j$ra!n$ra#P$ra#l$ra#m$ra#n$ra#o$ra#p$ra#q$ra#r$ra#s$ra#t$ra#u$ra#w$ra#y$ra#z$ra'x$ra(_$ra(p$ra!i$ra!W$ra'u$rat$ra!]$ra%h$ra!e$ra~P$'`O#i$taP$taR$ta[$taa$tap$ta!Q$ta!j$ta!n$ta#P$ta#l$ta#m$ta#n$ta#o$ta#p$ta#q$ta#r$ta#s$ta#t$ta#u$ta#w$ta#y$ta#z$ta'x$ta(_$ta(p$ta!i$ta!W$ta'u$tat$ta!]$ta%h$ta!e$ta~P$(RO#i%SaP%SaR%Sa[%Saa%Sap%Sa!Q%Sa!Z%Sa!j%Sa!n%Sa#P%Sa#l%Sa#m%Sa#n%Sa#o%Sa#p%Sa#q%Sa#r%Sa#s%Sa#t%Sa#u%Sa#w%Sa#y%Sa#z%Sa'x%Sa(_%Sa(p%Sa!i%Sa!W%Sa'u%Sa#^%Sat%Sa!]%Sa%h%Sa!e%Sa~P#.{Oa#aq!Z#aq'x#aq'u#aq!W#aq!i#aqt#aq!]#aq%h#aq!e#aq~P!:TO!Y3dO!Z'WX!i'WX~P%[O!Z.oO!i(ia~O!Z.oO!i(ia~P!:TO!W3gO~O#}!la![!la~PKZO#}!ha!Z!ha![!ha~P#BPO#}!pa![!pa~P!<kO#}!ra![!ra~P!?ROg'ZX!Z'ZX~P!+rO!Z.zOg(na~OSfO!]3{O$c3|O~O![4QO~Ot4RO~P#.{Oa$lq!Z$lq'x$lq'u$lq!W$lq!i$lqt$lq!]$lq%h$lq!e$lq~P!:TO!W4TO~P!&iO!Q4UO~O!O)|O'w)}O(x%POl'ga(w'ga!Z'ga#^'ga~Og'ga#}'ga~P%+uO!O)|O'w)}Ol'ia(w'ia(x'ia!Z'ia#^'ia~Og'ia#}'ia~P%,hO(p$YO~P#.{O!WfX!W$yX!ZfX!Z$yX!e%QX#^fX~P!/qO(R<xO~P!1dO!Q%gO!Y4XO!]%hO(R%fO!Z'cX!i'cX~O!Z/kO!i(|a~O!Z/kO!e#vO!i(|a~O!Z/kO!e#vO(p'nO!i(|a~Og${i!Z${i#^${i#}${i~P!0uO!Y4aO!W'eX!Z'eX~P!3cO!Z/sO!W(}a~O!Z/sO!W(}a~P#.{OP]XR]X[]Xp]X!O]X!Q]X!W]X!Z]X!j]X!n]X#P]X#Q]X#^]X#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X(_]X(p]X(w]X(x]X~O!e%XX#t%XX~P%0XO!e#vO#t4fO~Oh%VO!e#vO!j%dO~Oh%VOp4kO!j%dO(p'nO~Op4pO!e#vO(p'nO~Oq!nO!Q4qO(TTO(WUO(c!mO~O(w$}Ol%`i!O%`i'w%`i(x%`i!Z%`i#^%`i~Og%`i#}%`i~P%3xO(x%POl%bi!O%bi'w%bi(w%bi!Z%bi#^%bi~Og%bi#}%bi~P%4kOg(]i!Z(]i~P!0uO#^4wOg(]i!Z(]i~P!0uO!i4zO~Oa$nq!Z$nq'x$nq'u$nq!W$nq!i$nqt$nq!]$nq%h$nq!e$nq~P!:TO!W5QO~O!Z5RO!])OX~P#.{Oa]Xa$yX!]]X!]$yX%]]X'x]X'x$yX!Z]X!Z$yX~P!/qO%]5UOa%Za!]%Za'x%Za!Z%Za~OlmX!OmX'wmX(wmX(xmX~P%7nOn5VO(R#nO~Ob5]O%i5^O(R+nO(TTO(WUO!Z'rX!['rX~O!Z0}O![)Va~O[5bO~O`5cO~Oa%mO'x%mO~P#.{O!Z5kO#^5mO![)SX~O![5nO~Op5tOq!nO!Q*fO!`!yO!a!vO!b!vO!z;wO#R!pO#S!pO#T!pO#U!pO#V!pO#Y5sO#Z!zO(S!lO(TTO(WUO(c!mO(m!sO~O![5rO~P%:ROl5yO!]1gO%h5xO~Oh%VOl5yO!]1gO%h5xO~Ob6QO(R#nO(TTO(WUO!Z'qX!['qX~O!Z1rO![)Ta~O(TTO(WUO(c6SO~O`6WO~O#t6ZO&Y6[O~PMvO!i6]O~P%[Oa6_O~Oa6_O~P%[Ob2YO![6dO&h2XO~P`O!e6fO~O!e6hOh(hi!Z(hi![(hi!e(hi!j(hip(hi(p(hi~O!Z#fi![#fi~P#BPO#^6iO!Z#fi![#fi~O!Z!_i![!_i~P#BPOa%mO#^6rO'x%mO~Oa%mO!e#vO#^6rO'x%mO~O!Z(rq!i(rqa(rq'x(rq~P!:TO!Z(hO!i(qq~O!Q%gO!]%hO#h6yO(R%fO~O!]'^O%h6|O~Ol7QO!]'^O%h6|O~O#i'gaP'gaR'ga['gaa'gap'ga!Q'ga!j'ga!n'ga#P'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#t'ga#u'ga#w'ga#y'ga#z'ga'x'ga(_'ga(p'ga!i'ga!W'ga'u'gat'ga!]'ga%h'ga!e'ga~P%+uO#i'iaP'iaR'ia['iaa'iap'ia!Q'ia!j'ia!n'ia#P'ia#l'ia#m'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#w'ia#y'ia#z'ia'x'ia(_'ia(p'ia!i'ia!W'ia'u'iat'ia!]'ia%h'ia!e'ia~P%,hO#i${iP${iR${i[${ia${ip${i!Q${i!Z${i!j${i!n${i#P${i#l${i#m${i#n${i#o${i#p${i#q${i#r${i#s${i#t${i#u${i#w${i#y${i#z${i'x${i(_${i(p${i!i${i!W${i'u${i#^${it${i!]${i%h${i!e${i~P#.{O#i%`iP%`iR%`i[%`ia%`ip%`i!Q%`i!j%`i!n%`i#P%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#t%`i#u%`i#w%`i#y%`i#z%`i'x%`i(_%`i(p%`i!i%`i!W%`i'u%`it%`i!]%`i%h%`i!e%`i~P%3xO#i%biP%biR%bi[%bia%bip%bi!Q%bi!j%bi!n%bi#P%bi#l%bi#m%bi#n%bi#o%bi#p%bi#q%bi#r%bi#s%bi#t%bi#u%bi#w%bi#y%bi#z%bi'x%bi(_%bi(p%bi!i%bi!W%bi'u%bit%bi!]%bi%h%bi!e%bi~P%4kO!Z'Wa!i'Wa~P!:TO!Z.oO!i(ii~O#}#ai!Z#ai![#ai~P#BPOP$[OR#zO!O#yO!Q#{O!j#xO!n$[O(_VO[#kip#ki#P#ki#m#ki#n#ki#o#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki#}#ki(p#ki(w#ki(x#ki!Z#ki![#ki~O#l#ki~P%MQO#l<PO~P%MQOP$[OR#zOp<]O!O#yO!Q#{O!j#xO!n$[O#l<PO#m<QO#n<QO#o<QO(_VO[#ki#P#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki#}#ki(p#ki(w#ki(x#ki!Z#ki![#ki~O#p#ki~P& YO#p<RO~P& YOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO(_VO#w#ki#y#ki#z#ki#}#ki(p#ki(w#ki(x#ki!Z#ki![#ki~O#u#ki~P&#bOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO#u<TO(_VO(x#}O#y#ki#z#ki#}#ki(p#ki(w#ki!Z#ki![#ki~O#w<VO~P&%cO#w#ki~P&%cO#u<TO~P&#bOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO#u<TO#w<VO(_VO(w#|O(x#}O#z#ki#}#ki(p#ki!Z#ki![#ki~O#y#ki~P&'rO#y<XO~P&'rOa#{y!Z#{y'x#{y'u#{y!W#{y!i#{yt#{y!]#{y%h#{y!e#{y~P!:TO[#kip#ki#P#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki#}#ki(p#ki!Z#ki![#ki~OP$[OR#zO!O#yO!Q#{O!j#xO!n$[O#l<PO#m<QO#n<QO#o<QO(_VO(w#ki(x#ki~P&*nOl=}O!O)|O'w)}O(w$}O(x%POP#kiR#ki!Q#ki!j#ki!n#ki#l#ki#m#ki#n#ki#o#ki(_#ki~P&*nO#Q$dOP(^XR(^X[(^Xl(^Xp(^X!O(^X!Q(^X!j(^X!n(^X#P(^X#l(^X#m(^X#n(^X#o(^X#p(^X#q(^X#r(^X#s(^X#t(^X#u(^X#w(^X#y(^X#z(^X#}(^X'w(^X(_(^X(p(^X(w(^X(x(^X!Z(^X![(^X~O#}$Oi!Z$Oi![$Oi~P#BPO#}!pi![!pi~P$*OOg'Za!Z'Za~P!0uO![7dO~O!Z'ba!['ba~P#BPO!W7eO~P#.{O!e#vO(p'nO!Z'ca!i'ca~O!Z/kO!i(|i~O!Z/kO!e#vO!i(|i~Og${q!Z${q#^${q#}${q~P!0uO!W'ea!Z'ea~P#.{O!e7lO~O!Z/sO!W(}i~P#.{O!Z/sO!W(}i~O!W7oO~Oh%VOp7tO!j%dO(p'nO~O!e#vO#t7vO~Op7yO!e#vO(p'nO~O!O)|O'w)}O(x%POl'ha(w'ha!Z'ha#^'ha~Og'ha#}'ha~P&3oO!O)|O'w)}Ol'ja(w'ja(x'ja!Z'ja#^'ja~Og'ja#}'ja~P&4bO!W7{O~Og$}q!Z$}q#^$}q#}$}q~P!0uOg(]q!Z(]q~P!0uO#^7|Og(]q!Z(]q~P!0uOa$ny!Z$ny'x$ny'u$ny!W$ny!i$nyt$ny!]$ny%h$ny!e$ny~P!:TO!e6hO~O!Z5RO!])Oa~O!]'^OP$SaR$Sa[$Sap$Sa!O$Sa!Q$Sa!Z$Sa!j$Sa!n$Sa#P$Sa#l$Sa#m$Sa#n$Sa#o$Sa#p$Sa#q$Sa#r$Sa#s$Sa#t$Sa#u$Sa#w$Sa#y$Sa#z$Sa(_$Sa(p$Sa(w$Sa(x$Sa~O%h6|O~P&7SO%]8QOa%Zi!]%Zi'x%Zi!Z%Zi~Oa#ay!Z#ay'x#ay'u#ay!W#ay!i#ayt#ay!]#ay%h#ay!e#ay~P!:TO[8SO~Ob8UO(R+nO(TTO(WUO~O!Z0}O![)Vi~O`8YO~O(c(zO!Z'nX!['nX~O!Z5kO![)Sa~O![8cO~P%:RO(m!sO~P$$oO#Y8dO~O!]1gO~O!]1gO%h8fO~Ol8iO!]1gO%h8fO~O[8nO!Z'qa!['qa~O!Z1rO![)Ti~O!i8rO~O!i8sO~O!i8vO~O!i8vO~P%[Oa8xO~O!e8yO~O!i8zO~O!Z(ui![(ui~P#BPOa%mO#^9SO'x%mO~O!Z(ry!i(rya(ry'x(ry~P!:TO!Z(hO!i(qy~O%h9VO~P&7SO!]'^O%h9VO~O#i${qP${qR${q[${qa${qp${q!Q${q!Z${q!j${q!n${q#P${q#l${q#m${q#n${q#o${q#p${q#q${q#r${q#s${q#t${q#u${q#w${q#y${q#z${q'x${q(_${q(p${q!i${q!W${q'u${q#^${qt${q!]${q%h${q!e${q~P#.{O#i'haP'haR'ha['haa'hap'ha!Q'ha!j'ha!n'ha#P'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#w'ha#y'ha#z'ha'x'ha(_'ha(p'ha!i'ha!W'ha'u'hat'ha!]'ha%h'ha!e'ha~P&3oO#i'jaP'jaR'ja['jaa'jap'ja!Q'ja!j'ja!n'ja#P'ja#l'ja#m'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#w'ja#y'ja#z'ja'x'ja(_'ja(p'ja!i'ja!W'ja'u'jat'ja!]'ja%h'ja!e'ja~P&4bO#i$}qP$}qR$}q[$}qa$}qp$}q!Q$}q!Z$}q!j$}q!n$}q#P$}q#l$}q#m$}q#n$}q#o$}q#p$}q#q$}q#r$}q#s$}q#t$}q#u$}q#w$}q#y$}q#z$}q'x$}q(_$}q(p$}q!i$}q!W$}q'u$}q#^$}qt$}q!]$}q%h$}q!e$}q~P#.{O!Z'Wi!i'Wi~P!:TO#}#aq!Z#aq![#aq~P#BPO(w$}OP%`aR%`a[%`ap%`a!Q%`a!j%`a!n%`a#P%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#t%`a#u%`a#w%`a#y%`a#z%`a#}%`a(_%`a(p%`a!Z%`a![%`a~Ol%`a!O%`a'w%`a(x%`a~P&HgO(x%POP%baR%ba[%bap%ba!Q%ba!j%ba!n%ba#P%ba#l%ba#m%ba#n%ba#o%ba#p%ba#q%ba#r%ba#s%ba#t%ba#u%ba#w%ba#y%ba#z%ba#}%ba(_%ba(p%ba!Z%ba![%ba~Ol%ba!O%ba'w%ba(w%ba~P&JnOl=}O!O)|O'w)}O(x%PO~P&HgOl=}O!O)|O'w)}O(w$}O~P&JnOR0cO!O0cO!Q0dO#Q$dOP{a[{al{ap{a!j{a!n{a#P{a#l{a#m{a#n{a#o{a#p{a#q{a#r{a#s{a#t{a#u{a#w{a#y{a#z{a#}{a'w{a(_{a(p{a(w{a(x{a!Z{a![{a~O!O)|O'w)}OP$raR$ra[$ral$rap$ra!Q$ra!j$ra!n$ra#P$ra#l$ra#m$ra#n$ra#o$ra#p$ra#q$ra#r$ra#s$ra#t$ra#u$ra#w$ra#y$ra#z$ra#}$ra(_$ra(p$ra(w$ra(x$ra!Z$ra![$ra~O!O)|O'w)}OP$taR$ta[$tal$tap$ta!Q$ta!j$ta!n$ta#P$ta#l$ta#m$ta#n$ta#o$ta#p$ta#q$ta#r$ta#s$ta#t$ta#u$ta#w$ta#y$ta#z$ta#}$ta(_$ta(p$ta(w$ta(x$ta!Z$ta![$ta~Ol=}O!O)|O'w)}O(w$}O(x%PO~OP%SaR%Sa[%Sap%Sa!Q%Sa!j%Sa!n%Sa#P%Sa#l%Sa#m%Sa#n%Sa#o%Sa#p%Sa#q%Sa#r%Sa#s%Sa#t%Sa#u%Sa#w%Sa#y%Sa#z%Sa#}%Sa(_%Sa(p%Sa!Z%Sa![%Sa~P'%sO#}$lq!Z$lq![$lq~P#BPO#}$nq!Z$nq![$nq~P#BPO![9dO~O#}9eO~P!0uO!e#vO!Z'ci!i'ci~O!e#vO(p'nO!Z'ci!i'ci~O!Z/kO!i(|q~O!W'ei!Z'ei~P#.{O!Z/sO!W(}q~Op9lO!e#vO(p'nO~O[9nO!W9mO~P#.{O!W9mO~O!e#vO#t9tO~Og(]y!Z(]y~P!0uO!Z'la!]'la~P#.{Oa%Zq!]%Zq'x%Zq!Z%Zq~P#.{O[9yO~O!Z0}O![)Vq~O#^9}O!Z'na!['na~O!Z5kO![)Si~P#BPO!Q:PO~O!]1gO%h:SO~O(TTO(WUO(c:XO~O!Z1rO![)Tq~O!i:[O~O!i:]O~O!i:^O~O!i:^O~P%[O#^:aO!Z#fy![#fy~O!Z#fy![#fy~P#BPO%h:fO~P&7SO!]'^O%h:fO~O#}#{y!Z#{y![#{y~P#BPOP${iR${i[${ip${i!Q${i!j${i!n${i#P${i#l${i#m${i#n${i#o${i#p${i#q${i#r${i#s${i#t${i#u${i#w${i#y${i#z${i#}${i(_${i(p${i!Z${i![${i~P'%sO!O)|O'w)}O(x%POP'gaR'ga['gal'gap'ga!Q'ga!j'ga!n'ga#P'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#t'ga#u'ga#w'ga#y'ga#z'ga#}'ga(_'ga(p'ga(w'ga!Z'ga!['ga~O!O)|O'w)}OP'iaR'ia['ial'iap'ia!Q'ia!j'ia!n'ia#P'ia#l'ia#m'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#w'ia#y'ia#z'ia#}'ia(_'ia(p'ia(w'ia(x'ia!Z'ia!['ia~O(w$}OP%`iR%`i[%`il%`ip%`i!O%`i!Q%`i!j%`i!n%`i#P%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#t%`i#u%`i#w%`i#y%`i#z%`i#}%`i'w%`i(_%`i(p%`i(x%`i!Z%`i![%`i~O(x%POP%biR%bi[%bil%bip%bi!O%bi!Q%bi!j%bi!n%bi#P%bi#l%bi#m%bi#n%bi#o%bi#p%bi#q%bi#r%bi#s%bi#t%bi#u%bi#w%bi#y%bi#z%bi#}%bi'w%bi(_%bi(p%bi(w%bi!Z%bi![%bi~O#}$ny!Z$ny![$ny~P#BPO#}#ay!Z#ay![#ay~P#BPO!e#vO!Z'cq!i'cq~O!Z/kO!i(|y~O!W'eq!Z'eq~P#.{Op:pO!e#vO(p'nO~O[:tO!W:sO~P#.{O!W:sO~Og(]!R!Z(]!R~P!0uOa%Zy!]%Zy'x%Zy!Z%Zy~P#.{O!Z0}O![)Vy~O!Z5kO![)Sq~O(R:zO~O!]1gO%h:}O~O!i;QO~O%h;VO~P&7SOP${qR${q[${qp${q!Q${q!j${q!n${q#P${q#l${q#m${q#n${q#o${q#p${q#q${q#r${q#s${q#t${q#u${q#w${q#y${q#z${q#}${q(_${q(p${q!Z${q![${q~P'%sO!O)|O'w)}O(x%POP'haR'ha['hal'hap'ha!Q'ha!j'ha!n'ha#P'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#w'ha#y'ha#z'ha#}'ha(_'ha(p'ha(w'ha!Z'ha!['ha~O!O)|O'w)}OP'jaR'ja['jal'jap'ja!Q'ja!j'ja!n'ja#P'ja#l'ja#m'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#w'ja#y'ja#z'ja#}'ja(_'ja(p'ja(w'ja(x'ja!Z'ja!['ja~OP$}qR$}q[$}qp$}q!Q$}q!j$}q!n$}q#P$}q#l$}q#m$}q#n$}q#o$}q#p$}q#q$}q#r$}q#s$}q#t$}q#u$}q#w$}q#y$}q#z$}q#}$}q(_$}q(p$}q!Z$}q![$}q~P'%sOg%d!Z!Z%d!Z#^%d!Z#}%d!Z~P!0uO!W;ZO~P#.{Op;[O!e#vO(p'nO~O[;^O!W;ZO~P#.{O!Z'nq!['nq~P#BPO!Z#f!Z![#f!Z~P#BPO#i%d!ZP%d!ZR%d!Z[%d!Za%d!Zp%d!Z!Q%d!Z!Z%d!Z!j%d!Z!n%d!Z#P%d!Z#l%d!Z#m%d!Z#n%d!Z#o%d!Z#p%d!Z#q%d!Z#r%d!Z#s%d!Z#t%d!Z#u%d!Z#w%d!Z#y%d!Z#z%d!Z'x%d!Z(_%d!Z(p%d!Z!i%d!Z!W%d!Z'u%d!Z#^%d!Zt%d!Z!]%d!Z%h%d!Z!e%d!Z~P#.{Op;fO!e#vO(p'nO~O!W;gO~P#.{Op;nO!e#vO(p'nO~O!W;oO~P#.{OP%d!ZR%d!Z[%d!Zp%d!Z!Q%d!Z!j%d!Z!n%d!Z#P%d!Z#l%d!Z#m%d!Z#n%d!Z#o%d!Z#p%d!Z#q%d!Z#r%d!Z#s%d!Z#t%d!Z#u%d!Z#w%d!Z#y%d!Z#z%d!Z#}%d!Z(_%d!Z(p%d!Z!Z%d!Z![%d!Z~P'%sOp;rO!e#vO(p'nO~Ot(dX~P1qO!O%qO~P!(yO(S!lO~P!(yO!WfX!ZfX#^fX~P%0XOP]XR]X[]Xp]X!O]X!Q]X!Z]X!ZfX!j]X!n]X#P]X#Q]X#^]X#^fX#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X(_]X(p]X(w]X(x]X~O!efX!i]X!ifX(pfX~P'JlOP;vOQ;vOSfOd=rOe!iOnkOp;vOqkOrkOxkOz;vO|;vO!QWO!UkO!VkO!]XO!g;yO!jZO!m;vO!n;vO!o;vO!q;zO!s;}O!v!hO$V!kO$m=pO(R)ZO(TTO(WUO(_VO(m[O~O!Z<ZO![$pa~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<fO!Q${O!]$|O!g=wO!j$xO#h<lO$V%_O$s<hO$u<jO$x%`O(R(tO(TTO(WUO(_$uO(w$}O(x%PO~Oj)bO~P( bOp!cX(p!cX~P# qOp(hX(p(hX~P#!dO![]X![fX~P'JlO!WfX!W$yX!ZfX!Z$yX#^fX~P!/qO#i<OO~O!e#vO#i<OO~O#^<`O~O#t<SO~O#^<pO!Z(uX![(uX~O#^<`O!Z(sX![(sX~O#i<qO~Og<sO~P!0uO#i<yO~O#i<zO~O!e#vO#i<{O~O!e#vO#i<qO~O#}<|O~P#BPO#i<}O~O#i=OO~O#i=TO~O#i=UO~O#i=VO~O#i=WO~O#}=XO~P!0uO#}=YO~P!0uO#Q#R#S#U#V#Y#g#h#s$m$s$u$x%[%]%g%h%i%p%r%u%v%x%z~'|T#m!V'z(S#nq#l#op!O'{$['{(R$^(c~",goto:"$8f)ZPPPPPP)[PP)_P)pP+Q/VPPPP6aPP6wPP<oP@cP@yP@yPPP@yPCRP@yP@yP@yPCVPC[PCyPHsPPPHwPPPPHwKzPPPLQLrPHwPHwPP! QHwPPPHwPHwP!#XHwP!&o!'t!'}P!(q!(u!(q!,SPPPPPPP!,s!'tPP!-T!.uP!2RHwHw!2W!5d!:Q!:Q!>PPPP!>XHwPPPPPPPPPP!AhP!BuPPHw!DWPHwPHwHwHwHwHwPHw!EjP!HtP!KzP!LO!LY!L^!L^P!HqP!Lb!LbP# hP# lHwPHw# r#$wCV@yP@yP@y@yP#&U@y@y#(h@y#+`@y#-l@y@y#.[#0p#0p#0u#1O#0p#1ZPP#0pP@y#1s@y#5r@y@y6aPPP#9wPPP#:b#:bP#:bP#:x#:bPP#;OP#:uP#:u#;c#:u#;}#<T#<W)_#<Z)_P#<b#<b#<bP)_P)_P)_P)_PP)_P#<h#<kP#<k)_P#<oP#<rP)_P)_P)_P)_P)_P)_)_PP#<x#=O#=Z#=a#=g#=m#=s#>R#>X#>c#>i#>s#>y#?Z#?a#@R#@e#@k#@q#AP#Af#CZ#Ci#Cp#E[#Ej#G[#Gj#Gp#Gv#G|#HW#H^#Hd#Hn#IQ#IWPPPPPPPPPPP#I^PPPPPPP#JR#MY#Nr#Ny$ RPPP$&mP$&v$)o$0Y$0]$0`$1_$1b$1i$1qP$1w$1zP$2h$2l$3d$4r$4w$5_PP$5d$5j$5n$5q$5u$5y$6u$7^$7u$7y$7|$8P$8V$8Y$8^$8bR!|RoqOXst!Z#d%l&p&r&s&u,n,s2S2VY!vQ'^-`1g5qQ%svQ%{yQ&S|Q&h!VS'U!e-WQ'd!iS'j!r!yU*h$|*X*lQ+l%|Q+y&UQ,_&bQ-^']Q-h'eQ-p'kQ0U*nQ1q,`R<m;z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9SS#q];w!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU*{%[<e<fQ+q&OQ,a&eQ,h&mQ0r+dQ0u+fQ1S+rQ1y,fQ3W.bQ5V0wQ5]0}Q6Q1rQ7O3[Q8U5^R9Y7Q'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s!S!nQ!r!v!y!z$|'U']'^'j'k'l*h*l*n*o-W-^-`-p0U0X1g5q5s%[$ti#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q&V|Q'S!eS'Y%h-ZQ+q&OQ,a&eQ0f+OQ1S+rQ1X+xQ1x,eQ1y,fQ5]0}Q5f1ZQ6Q1rQ6T1tQ6U1wQ8U5^Q8X5cQ8q6WQ9|8YQ:Y8nR<o*XrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR,c&i&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=r=s[#]WZ#W#Z'V(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ%vxQ%zyS&P|&UQ&]!TQ'a!hQ'c!iQ(o#sS+k%{%|Q+o&OQ,Y&`Q,^&bS-g'd'eQ.d(pQ0{+lQ1R+rQ1T+sQ1W+wQ1l,ZS1p,_,`Q2t-hQ5[0}Q5`1QQ5e1YQ6P1qQ8T5^Q8W5bQ9x8SR:w9y!U$zi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y!^%xy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pQ+e%vQ,O&YQ,R&ZQ,]&bQ.c(oQ1k,YU1o,^,_,`Q3].dQ5z1lS6O1p1qQ8m6P#f=t#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o=u<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YW%Ti%V*v=pS&Y!Q&gQ&Z!RQ&[!SQ+S%cR+|&W%]%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}T)x$u)yV*{%[<e<fW'Y!e%h*X-ZS({#y#zQ+`%qQ+v&RS.](k(lQ1b,SQ4x0cR8^5k'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s$i$^c#Y#e%p%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.w.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ'W!eR2i-W!W!nQ!e!r!v!y!z$|'U']'^'j'k'l*X*h*l*n*o-W-^-`-p0U0X1g5q5sR1d,UnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&w!^Q't!xS(q#u<OQ+i%yQ,W&]Q,X&_Q-e'bQ-r'mS.m(v<qS0k+U<{Q0y+jQ1f,VQ2Z,uQ2],vQ2e-RQ2r-fQ2u-jS5P0l=VQ5W0zS5Z0|=WQ6j2gQ6n2sQ6s2zQ8R5XQ8}6lQ9O6oQ9R6tR:`8z$d$]c#Y#e%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gS(m#p'gQ(}#zS+_%p.wS.^(l(nR3U._'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS#q];wQ&r!XQ&s!YQ&u![Q&v!]R2R,qQ'_!hQ+b%vQ-c'aS.`(o+eQ2p-bW3Y.c.d0q0sQ6m2qW6z3V3X3]5TU9U6{6}7PU:e9W9X9ZS;T:d:gQ;b;UR;j;cU!wQ'^-`T5o1g5q!Q_OXZ`st!V!Z#d#h%d%l&g&i&p&r&s&u(h,n,s.V2S2V]!pQ!r'^-`1g5qT#q];w%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS({#y#zS.](k(l!s=^$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU$fd)],hS(n#p'gU*s%R(u3vU0e*z.i7]Q5T0rQ6{3WQ9X7OR:g9Ym!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sQ'r!uS(d#g1|S-n'i'uQ/n*ZQ/{*gQ2|-qQ4]/oQ4i/}Q4j0OQ4o0WQ7h4WS7s4k4mS7w4p4rQ9g7iQ9k7oQ9p7tQ9u7yS:o9l9mS;Y:p:sS;e;Z;[S;m;f;gS;q;n;oR;t;rQ#wbQ'q!uS(c#g1|S(e#m+TQ+V%eQ+g%wQ+m%}U-m'i'r'uQ.R(dQ/m*ZQ/|*gQ0P*iQ0x+hQ1m,[S2y-n-qQ3R.ZS4[/n/oQ4e/yS4h/{0WQ4l0QQ5|1nQ6u2|Q7g4WQ7k4]U7r4i4o4rQ7u4nQ8k5}S9f7h7iQ9j7oQ9r7wQ9s7xQ:V8lQ:m9gS:n9k9mQ:v9uQ;P:WS;X:o:sS;d;Y;ZS;l;e;gS;p;m;oQ;s;qQ;u;tQ=a=[Q=l=eR=m=fV!wQ'^-`%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS#wz!j!r=Z$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=a=r%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SQ%ej!^%wy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pS%}z!jQ+h%xQ,[&bW1n,],^,_,`U5}1o1p1qS8l6O6PQ:W8m!r=[$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ=e=qR=f=r%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SY#bWZ#W#Z(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ,i&m!p=]$Z$n)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=`'VU'Z!e%h*XR2k-Z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9S!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ,h&mQ0r+dQ3W.bQ7O3[R9Y7Q!b$Tc#Y%p(Q(W(r(w)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!P<U)[)o-U.w2c2f3h3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!f$Vc#Y%p(Q(W(r(w)U)V)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!T<W)[)o-U.w2c2f3h3n3o3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!^$Zc#Y%p(Q(W(r(w)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;xQ4V/fz=s)[)o-U.w2c2f3h3w4P6k7W7a7b8`8|9[9b9c:y;R=gQ=x=zR=y={'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS$oh$pR3|/P'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$kf$qQ$ifS)h$l)lR)t$qT$jf$qT)j$l)l'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$oh$pQ$rhR)s$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9S!s=q$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s#glOPXZst!Z!`!o#S#d#o#{$n%l&i&l&m&p&r&s&u&y'R'`(|)q*f+Y+d,k,n,s-d.b/Q/i0V0d1j1z1{1}2P2S2V2X3[3{4q5y6Z6[6_7Q8i8x!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}Q+P%`Q/^)|o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!U$yi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yQ*`$zU*i$|*X*lQ+Q%aQ0Q*j#f=c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n=d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YQ=h=tQ=i=uQ=j=vR=k=w!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YnoOXst!Z#d%l&p&r&s&u,n,s2S2VS*c${*WQ,|&|Q,}'OR4`/s%[%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q,P&ZQ1`,RQ5i1_R8]5jV*k$|*X*lU*k$|*X*lT5p1g5qS/y*f/iQ4n0VT7x4q:PQ+g%wQ0P*iQ0x+hQ1m,[Q5|1nQ8k5}Q:V8lR;P:W!U%Oi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yx*P$v)c*Q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=oS0Y*q0Z#f<a#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<b<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!d<t(s)a*Y*b.e.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={`<u3u7X7[7`9]:h:k;kS=P.g3aT=Q7Z9`!U%Qi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y|*R$v)c*S*q+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=oS0[*r0]#f<c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!h<v(s)a*Y*b.f.g.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={d<w3u7Y7Z7`9]9^:h:i:k;kS=R.h3bT=S7[9arnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ&d!UR,k&mrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR&d!UQ,T&[R1[+|snOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ1h,YS5w1k1lU8e5u5v5zS:R8g8hS:{:Q:TQ;_:|R;i;`Q&k!VR,d&gR6T1tR:Y8nS&P|&UR1T+sQ&p!WR,n&qR,t&vT2T,s2VR,x&wQ,w&wR2^,xQ'w!{R-t'wSsOtQ#dXT%os#dQ#OTR'y#OQ#RUR'{#RQ)y$uR/Z)yQ#UVR(O#UQ#XWU(U#X(V-{Q(V#YR-{(WQ-X'WR2j-XQ.p(wS3e.p3fR3f.qQ-`'^R2n-`Y!rQ'^-`1g5qR'h!rQ.{)cR3z.{U#_W%g*WU(]#_(^-|Q(^#`R-|(XQ-['ZR2l-[t`OXst!V!Z#d%l&g&i&p&r&s&u,n,s2S2VS#hZ%dU#r`#h.VR.V(hQ(i#jQ.S(eW.[(i.S3P6wQ3P.TR6w3QQ)l$lR/R)lQ$phR)r$pQ$`cU)_$`-w<[Q-w;xR<[)oQ/l*ZW4Y/l4Z7j9hU4Z/m/n/oS7j4[4]R9h7k$e*O$v(s)a)c*Y*b*q*r*|*}+R.g.h.j.k.l/Y/b/d/f/q/v0^0_0p1]3^3_3`3u3y4S4^4_4c4s4u4{4|4}5h7R7S7T7U7Z7[7^7_7`7f7m7p7z7}8P9]9^9_9i9q9v9w:h:i:j:k:l:q:u;W;];h;k=b=n=o=z={Q/t*bU4b/t4d7nQ4d/vR7n4cS*l$|*XR0S*lx*Q$v)c*q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=o!d.e(s)a*Y*b.g.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/c*Q.e7Xa7X3u7Z7[7`9]:h:k;kQ0Z*qQ3a.gU4t0Z3a9`R9`7Z|*S$v)c*q*r+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=o!h.f(s)a*Y*b.g.h.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/e*S.f7Ye7Y3u7Z7[7`9]9^:h:i:k;kQ0]*rQ3b.hU4v0]3b9aR9a7[Q*w%UR0a*wQ5S0pR8O5SQ+[%jR0o+[Q5l1bS8_5l:OR:O8`Q,V&]R1e,VQ5q1gR8b5qQ1s,aS6R1s8oR8o6TQ1O+oW5_1O5a8V9zQ5a1RQ8V5`R9z8WQ+t&PR1U+tQ2V,sR6c2VYrOXst#dQ&t!ZQ+^%lQ,m&pQ,o&rQ,p&sQ,r&uQ2Q,nS2T,s2VR6b2SQ%npQ&x!_Q&{!aQ&}!bQ'P!cQ'o!uQ+]%kQ+i%yQ+{&VQ,c&kQ,z&zW-k'i'q'r'uQ-r'mQ0R*kQ0y+jS1v,d,gQ2_,yQ2`,|Q2a,}Q2u-jW2w-m-n-q-sQ5W0zQ5d1XQ5g1]Q5{1mQ6V1xQ6a2RU6p2v2y2|Q6s2zQ8R5XQ8Z5fQ8[5hQ8a5pQ8j5|Q8p6US9P6q6uQ9R6tQ9{8XQ:U8kQ:Z8qQ:b9QQ:x9|Q;O:VQ;S:cR;a;PQ%yyQ'b!iQ'm!uU+j%z%{%|Q-R'TU-f'c'd'eS-j'i'sQ/z*gS0z+k+lQ2g-TS2s-g-hQ2z-oS4g/{0OQ5X0{Q6l2mQ6o2tQ6t2{U7q4i4j4mQ9o7sR:r9pS$wi=pR*x%VU%Ui%V=pR0`*vQ$viS(s#v+fS)a$b$cQ)c$dQ*Y$xS*b${*WQ*q%OQ*r%QQ*|%]Q*}%^Q+R%bQ.g<aQ.h<cQ.j<gQ.k<iQ.l<kQ/Y)wQ/b*PQ/d*RQ/f*TQ/q*^S/v*d/hQ0^*tQ0_*ul0p+c,Q.a1a1i3Z5x6|8f9V:S:f:};VQ1]+}Q3^<tQ3_<vQ3`<yS3u<^<_Q3y.zS4S/_4UQ4^/rQ4_/sQ4c/uQ4s0YQ4u0[Q4{0gQ4|0hQ4}0iQ5h1^Q7R<}Q7S=PQ7T=RQ7U=TQ7Z<bQ7[<dQ7^<hQ7_<jQ7`<lQ7f4VQ7m4aQ7p4fQ7z4wQ7}5RQ8P5UQ9]<zQ9^<uQ9_<wQ9i7lQ9q7vQ9v7|Q9w8QQ:h=OQ:i=QQ:j=SQ:k=UQ:l9eQ:q9nQ:u9tQ;W=XQ;]:tQ;h;^Q;k=YQ=b=pQ=n=xQ=o=yQ=z=|R={=}Q*z%[Q.i<eR7]<fnpOXst!Z#d%l&p&r&s&u,n,s2S2VQ!fPS#fZ#oQ&z!`W'f!o*f0V4qQ'}#SQ)O#{Q)p$nS,g&i&lQ,l&mQ,y&yS-O'R/iQ-b'`Q.s(|Q/V)qQ0m+YQ0s+dQ2O,kQ2q-dQ3X.bQ4O/QQ4y0dQ5v1jQ6X1zQ6Y1{Q6^1}Q6`2PQ6e2XQ7P3[Q7c3{Q8h5yQ8t6ZQ8u6[Q8w6_Q9Z7QQ:T8iR:_8x#[cOPXZst!Z!`!o#d#o#{%l&i&l&m&p&r&s&u&y'R'`(|*f+Y+d,k,n,s-d.b/i0V0d1j1z1{1}2P2S2V2X3[4q5y6Z6[6_7Q8i8xQ#YWQ#eYQ%puQ%rvS%tw!gS(Q#W(TQ(W#ZQ(r#uQ(w#xQ)P$OQ)Q$PQ)R$QQ)S$RQ)T$SQ)U$TQ)V$UQ)W$VQ)X$WQ)Y$XQ)[$ZQ)^$_Q)`$aQ)e$eW)o$n)q/Q3{Q+a%sQ+u&QS-U'V2hQ-s'pS-x(R-zQ-}(ZQ.P(bQ.n(vQ.q(xQ.u;vQ.w;yQ.x;zQ.y;}Q/]){Q0j+UQ2c-PQ2f-SQ2v-lQ2}.QQ3c.oQ3h<OQ3i<PQ3j<QQ3k<RQ3l<SQ3m<TQ3n<UQ3o<VQ3p<WQ3q<XQ3r<YQ3s.vQ3t<]Q3w<`Q3x<mQ4P<ZQ5O0lQ5Y0|Q6k<pQ6q2xQ6v3OQ7V3dQ7W<qQ7a<sQ7b<{Q8`5mQ8|6iQ9Q6rQ9[<|Q9b=VQ9c=WQ:c9SQ:y9}Q;R:aQ;x#SR=g=sR#[WR'X!el!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sS'T!e-WU*g$|*X*lS-T'U']S0O*h*nQ0W*oQ2m-^Q4m0UR4r0XR(y#xQ!fQT-_'^-`]!qQ!r'^-`1g5qQ#p]R'g;wR)d$dY!uQ'^-`1g5qQ'i!rS's!v!yS'u!z5sS-o'j'kQ-q'lR2{-pT#kZ%dS#jZ%dS%jm,jU(e#h#i#lS.T(f(gQ.X(hQ0n+ZQ3Q.UU3R.V.W.YS6x3S3TR9T6yd#^W#W#Z%g(R([*W+W.O/hr#gZm#h#i#l%d(f(g(h+Z.U.V.W.Y3S3T6yS*Z$x*_Q/o*[Q1|,jQ2d-QQ4W/kQ6g2[Q7i4XQ8{6hT=_'V+XV#aW%g*WU#`W%g*WS(S#W([U(X#Z+W/hS-V'V+XT-y(R.OV'[!e%h*XQ$lfR)v$qT)k$l)lR3}/PT*]$x*_T*e${*WQ0q+cQ1_,QQ3V.aQ5j1aQ5u1iQ6}3ZQ8g5xQ9W6|Q:Q8fQ:d9VQ:|:SQ;U:fQ;`:}R;c;VnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&j!VR,c&gtmOXst!U!V!Z#d%l&g&p&r&s&u,n,s2S2VR,j&mT%km,jR1c,SR,b&eQ&T|R+z&UR+p&OT&n!W&qT&o!W&qT2U,s2V",nodeNames:" ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:378,context:z0e,nodeProps:[["isolate",-8,5,6,14,35,37,49,51,53,""],["group",-26,9,17,19,66,206,210,214,215,217,220,223,233,235,241,243,245,247,250,256,262,264,266,268,270,272,273,"Statement",-34,13,14,30,33,34,40,49,52,53,55,60,68,70,74,78,80,82,83,108,109,118,119,135,138,140,141,142,143,144,146,147,166,168,170,"Expression",-23,29,31,35,39,41,43,172,174,176,177,179,180,181,183,184,185,187,188,189,200,202,204,205,"Type",-3,86,101,107,"ClassItem"],["openedBy",23,"<",36,"InterpolationStart",54,"[",58,"{",71,"(",159,"JSXStartCloseTag"],["closedBy",-2,24,167,">",38,"InterpolationEnd",48,"]",59,"}",72,")",164,"JSXEndTag"]],propSources:[W0e],skippedNodes:[0,5,6,276],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$h&j(X!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(X!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$h&j(UpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(UpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$h&j(Up(X!b'z0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(V#S$h&j'{0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$h&j(Up(X!b'{0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$h&j!n),Q(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#u(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#u(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(T':f$h&j(X!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$h&j(X!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$h&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$c`$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$c``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$c`$h&j(X!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(X!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$c`(X!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$h&j(Up(X!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$h&j(Up(X!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$h&j(X!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$h&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(X!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$h&j(UpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(UpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Up(X!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$h&j(m%1l(Up(X!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$h&j(Up(X!b$[#t(R,2j(c$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$h&j(Up(X!b$[#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$h&j(Up(X!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$h&j$P(Ch(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(x+JY$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$h&j#y(Ch(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(W';W$h&j(UpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$h&j(UpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$h&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$c`$h&j(UpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(UpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$c`(UpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!j/.^$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!i!Lf$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$h&j(Up(X!b(S%&f#o(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$h&j(Up(X!b#l(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$h&j(Up(X!bp+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!Z+Jf$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$h&j(Up(X!b!O.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_!Y!L^$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$h&j(Up(X!b#m(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$h&j(Up(X!b!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$h&j(X!b!V7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$h&j!V7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$h&j!V7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!V7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!V7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$h&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$h&j(X!b!V7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(X!b!V7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(X!b!V7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(X!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$h&j(X!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$h&j(Up!V7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$h&j(Up!V7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Up!V7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Up!V7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(UpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$h&j(UpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$h&j(Up(X!b!V7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Up(X!b!V7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Up(X!b!V7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Up(X!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$h&j(Up(X!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$h&j(Up(X!b'|0/l!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$h&j(Up(X!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$h&j(X!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$h&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(X!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$h&j(UpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(UpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Up(X!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$h&j$P(Ch(Up(X!b!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Y#t$h&j(Up(X!b!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!e$b$h&j#})Lv(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#P-<U(Up(X!b$m7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$j&j(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#p(Ch(Up(X!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$P(Ch(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#q(Ch(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#^*!Y$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#i(Cl$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#q(Ch$e#|$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#q(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#p(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#p(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(p(Ct$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$h&j#z(Ch(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!z$Ip$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!Q0,v$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$h&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$h&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$h&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$h&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$h&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!W#)l$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#w(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$h&j(Up(X!b(_+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$h&j(Up(X!b(R,2j$^#t(c$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$h&j(Up(X!b$^#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!]#Hb(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(w+JY$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_![(CdtBr$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!o7`$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$h&j(Up(X!b'z0/l$[#t(R,2j(c$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$h&j(Up(X!b'{0/l$[#t(R,2j(c$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[Z0e,q0e,B0e,F0e,2,3,4,5,6,7,8,9,10,11,12,13,14,U0e,new rx("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOv~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!S~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(a~~",141,338),new rx("j~RQYZXz{^~^O(O~~aP!P!Qd~iO(P~~",25,321)],topRules:{Script:[0,7],SingleExpression:[1,274],SingleClassItem:[2,275]},dialects:{jsx:0,ts:15091},dynamicPrecedences:{78:1,80:1,92:1,168:1,198:1},specialized:[{term:325,get:n=>X0e[n]||-1},{term:341,get:n=>G0e[n]||-1},{term:93,get:n=>Y0e[n]||-1}],tokenPrec:15116}),K0e=1024;let J0e=0,F1=class{constructor(e,t){this.from=e,this.to=t}},Pt=class{constructor(e={}){this.id=J0e++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Po.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}};Pt.closedBy=new Pt({deserialize:n=>n.split(" ")});Pt.openedBy=new Pt({deserialize:n=>n.split(" ")});Pt.group=new Pt({deserialize:n=>n.split(" ")});Pt.isolate=new Pt({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});Pt.contextHash=new Pt({perNode:!0});Pt.lookAhead=new Pt({perNode:!0});Pt.mounted=new Pt({perNode:!0});let ix=class{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[Pt.mounted.id]}};const eve=Object.create(null);let Po=class AX{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):eve,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new AX(e.name||"",t,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Pt.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(Pt.group),s=-1;s<(i?i.length:0);s++){let o=t[s<0?r.name:i[s]];if(o)return o}}}};Po.none=new Po("",Object.create(null),0,8);const r0=new WeakMap,bM=new WeakMap;var Vn;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(Vn||(Vn={}));let bi=class IP{constructor(e,t,r,i,s){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=ix.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new jP(this.topNode,e)}cursorAt(e,t=0,r=0){let i=r0.get(this)||this.topNode,s=new jP(i);return s.moveTo(e,t),r0.set(this,s._tree),s}get topNode(){return new Co(this,0,0,null)}resolve(e,t=0){let r=Qg(r0.get(this)||this.topNode,e,t,!1);return r0.set(this,r),r}resolveInner(e,t=0){let r=Qg(bM.get(this)||this.topNode,e,t,!0);return bM.set(this,r),r}resolveStack(e,t=0){return ive(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:s=this.length}=e,o=e.mode||0,a=(o&Vn.IncludeAnonymous)>0;for(let l=this.cursor(o|Vn.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=i&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:rQ(Po.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new IP(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new IP(Po.none,t,r,i)))}static build(e){return sve(e)}};bi.empty=new bi(Po.none,[],[],0);let tve=class RX{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new RX(this.buffer,this.index)}},Wd=class QX{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return Po.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!($X(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,t,r){let i=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=i[a++],s[l++]=i[a++]-r;let c=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,c)}return new QX(s,o,this.set)}};function $X(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function Qg(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!r&&n instanceof Co&&n.index<0?null:n.parent;if(!o)return n;n=o}let s=r?0:Vn.IgnoreOverlays;if(r)for(let o=n,a=o.parent;a;o=a,a=o.parent)o instanceof Co&&o.index<0&&((i=a.enter(e,t,s))===null||i===void 0?void 0:i.from)!=o.from&&(n=a);for(;;){let o=n.enter(e,t,s);if(!o)return n;n=o}}let IX=class{cursor(e=0){return new jP(this,e)}getChild(e,t=null,r=null){let i=SM(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return SM(this,e,t,r)}resolve(e,t=0){return Qg(this,e,t,!1)}resolveInner(e,t=0){return Qg(this,e,t,!0)}matchContext(e){return NP(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}},Co=class rv extends IX{constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=t>0?a.length:-1;e!=c;e+=t){let u=a[e],h=l[e]+o.from;if($X(i,r,h,h+u.length)){if(u instanceof Wd){if(s&Vn.ExcludeBuffers)continue;let d=u.findChild(0,u.buffer.length,t,r-h,i);if(d>-1)return new $g(new nve(o,u,e,h),null,d)}else if(s&Vn.IncludeAnonymous||!u.type.isAnonymous||nQ(u)){let d;if(!(s&Vn.IgnoreMounts)&&(d=ix.get(u))&&!d.overlay)return new rv(d.tree,h,e,o);let m=new rv(u,h,e,o);return s&Vn.IncludeAnonymous||!m.type.isAnonymous?m:m.nextChild(t<0?u.children.length-1:0,t,r,i)}}}if(s&Vn.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&Vn.IgnoreOverlays)&&(i=ix.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:o,to:a}of i.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new rv(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function SM(n,e,t,r){let i=n.cursor(),s=[];if(!i.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=i.type.is(t),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function NP(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}let nve=class{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}},$g=class Zp extends IX{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return s<0?null:new Zp(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&Vn.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new Zp(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Zp(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Zp(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),t.push(0)}return new bi(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function NX(n){if(!n.length)return null;let e=0,t=n[0];for(let s=1;s<n.length;s++){let o=n[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let r=t instanceof Co&&t.index<0?null:t.parent,i=n.slice();return r?i[e]=r:i.splice(e,1),new rve(i,t)}let rve=class{constructor(e,t){this.heads=e,this.node=t}get next(){return NX(this.heads)}};function ive(n,e,t){let r=n.resolveInner(e,t),i=null;for(let s=r instanceof Co?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[r])).push(o.resolve(e,t)),s=o}else{let o=ix.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new Co(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(Qg(a,e,t,!1))}}return i?NX(i):r}let jP=class{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Co)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof Co?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&Vn.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Vn.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Vn.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let s=t+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&Vn.IncludeAnonymous||a instanceof Wd||!a.type.isAnonymous||nQ(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;t=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)t=new $g(this.buffer,t,this.stack[i]);return this.bufferNode=new $g(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return NP(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return NP(this._tree,e,i);let o=r[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}};function nQ(n){return n.children.some(e=>e instanceof Wd||!e.type.isAnonymous||nQ(e))}function sve(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=K0e,reused:s=[],minRepeatType:o=r.types.length}=n,a=Array.isArray(t)?new tve(t,t.length):t,l=r.types,c=0,u=0;function h(P,Q,O,_,k,A){let{id:C,start:w,end:R,size:j}=a,V=u,M=c;for(;j<0;)if(a.next(),j==-1){let X=s[C];O.push(X),_.push(w-P);return}else if(j==-3){c=C;return}else if(j==-4){u=C;return}else throw new RangeError(`Unrecognized record size: ${j}`);let q=l[C],U,Z,ne=w-P;if(R-w<=i&&(Z=v(a.pos-Q,k))){let X=new Uint16Array(Z.size-Z.skip),F=a.pos-Z.size,G=X.length;for(;a.pos>F;)G=b(Z.start,X,G);U=new Wd(X,R-Z.start,r),ne=Z.start-P}else{let X=a.pos-j;a.next();let F=[],G=[],J=C>=o?C:-1,oe=0,Se=R;for(;a.pos>X;)J>=0&&a.id==J&&a.size>=0?(a.end<=Se-i&&(g(F,G,w,oe,a.end,Se,J,V,M),oe=F.length,Se=a.end),a.next()):A>2500?d(w,X,F,G):h(w,X,F,G,J,A+1);if(J>=0&&oe>0&&oe<F.length&&g(F,G,w,oe,w,Se,J,V,M),F.reverse(),G.reverse(),J>-1&&oe>0){let le=m(q,M);U=rQ(q,F,G,0,F.length,0,R-w,le,le)}else U=y(q,F,G,R-w,V-R,M)}O.push(U),_.push(ne)}function d(P,Q,O,_){let k=[],A=0,C=-1;for(;a.pos>Q;){let{id:w,start:R,end:j,size:V}=a;if(V>4)a.next();else{if(C>-1&&R<C)break;C<0&&(C=j-i),k.push(w,R,j),A++,a.next()}}if(A){let w=new Uint16Array(A*4),R=k[k.length-2];for(let j=k.length-3,V=0;j>=0;j-=3)w[V++]=k[j],w[V++]=k[j+1]-R,w[V++]=k[j+2]-R,w[V++]=V;O.push(new Wd(w,k[2]-R,r)),_.push(R-P)}}function m(P,Q){return(O,_,k)=>{let A=0,C=O.length-1,w,R;if(C>=0&&(w=O[C])instanceof bi){if(!C&&w.type==P&&w.length==k)return w;(R=w.prop(Pt.lookAhead))&&(A=_[C]+w.length+R)}return y(P,O,_,k,A,Q)}}function g(P,Q,O,_,k,A,C,w,R){let j=[],V=[];for(;P.length>_;)j.push(P.pop()),V.push(Q.pop()+O-k);P.push(y(r.types[C],j,V,A-k,w-A,R)),Q.push(k-O)}function y(P,Q,O,_,k,A,C){if(A){let w=[Pt.contextHash,A];C=C?[w].concat(C):[w]}if(k>25){let w=[Pt.lookAhead,k];C=C?[w].concat(C):[w]}return new bi(P,Q,O,_,C)}function v(P,Q){let O=a.fork(),_=0,k=0,A=0,C=O.end-i,w={size:0,start:0,skip:0};e:for(let R=O.pos-P;O.pos>R;){let j=O.size;if(O.id==Q&&j>=0){w.size=_,w.start=k,w.skip=A,A+=4,_+=4,O.next();continue}let V=O.pos-j;if(j<0||V<R||O.start<C)break;let M=O.id>=o?4:0,q=O.start;for(O.next();O.pos>V;){if(O.size<0)if(O.size==-3)M+=4;else break e;else O.id>=o&&(M+=4);O.next()}k=q,_+=j,A+=M}return(Q<0||_==P)&&(w.size=_,w.start=k,w.skip=A),w.size>4?w:void 0}function b(P,Q,O){let{id:_,start:k,end:A,size:C}=a;if(a.next(),C>=0&&_<o){let w=O;if(C>4){let R=a.pos-(C-4);for(;a.pos>R;)O=b(P,Q,O)}Q[--O]=w,Q[--O]=A-P,Q[--O]=k-P,Q[--O]=_}else C==-3?c=_:C==-4&&(u=_);return O}let x=[],S=[];for(;a.pos>0;)h(n.start||0,n.bufferStart||0,x,S,-1,0);let $=(e=n.length)!==null&&e!==void 0?e:x.length?S[0]+x[0].length:0;return new bi(l[n.topID],x.reverse(),S.reverse(),$)}const kM=new WeakMap;function iv(n,e){if(!n.isAnonymous||e instanceof Wd||e.type!=n)return 1;let t=kM.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof bi)){t=1;break}t+=iv(n,r)}kM.set(e,t)}return t}function rQ(n,e,t,r,i,s,o,a,l){let c=0;for(let g=r;g<i;g++)c+=iv(n,e[g]);let u=Math.ceil(c*1.5/8),h=[],d=[];function m(g,y,v,b,x){for(let S=v;S<b;){let $=S,P=y[S],Q=iv(n,g[S]);for(S++;S<b;S++){let O=iv(n,g[S]);if(Q+O>=u)break;Q+=O}if(S==$+1){if(Q>u){let O=g[$];m(O.children,O.positions,0,O.children.length,y[$]+x);continue}h.push(g[$])}else{let O=y[S-1]+g[S-1].length-P;h.push(rQ(n,g,y,$,S,P,O,null,l))}d.push(P+x-s)}}return m(e,t,r,i,0),(a||l)(h,d,o)}let ove=class{constructor(){this.map=new WeakMap}setBuffer(e,t,r){let i=this.map.get(e);i||this.map.set(e,i=new Map),i.set(t,r)}getBuffer(e,t){let r=this.map.get(e);return r&&r.get(t)}set(e,t){e instanceof $g?this.setBuffer(e.context.buffer,e.index,t):e instanceof Co&&this.map.set(e.tree,t)}get(e){return e instanceof $g?this.getBuffer(e.context.buffer,e.index):e instanceof Co?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}},sv=class DP{constructor(e,t,r,i,s=!1,o=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],r=!1){let i=[new DP(0,e.length,e,0,!1,r)];for(let s of t)s.to>e.length&&i.push(s);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let u=a<t.length?t[a]:null,h=u?u.fromA:1e9;if(h-l>=r)for(;o&&o.from<h;){let d=o;if(l>=d.from||h<=d.to||c){let m=Math.max(d.from,l)-c,g=Math.min(d.to,h)-c;d=m>=g?null:new DP(m,g,d.tree,d.offset+c,a>0,!!u)}if(d&&i.push(d),o.to>h)break;o=s<e.length?e[s++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return i}},ave=class{startParse(e,t,r){return typeof e=="string"&&(e=new lve(e)),r=r?r.length?r.map(i=>new F1(i.from,i.to)):[new F1(0,0)]:[new F1(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let s=i.advance();if(s)return s}}},lve=class{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}};new Pt({perNode:!0});var W1;const Ah=new Pt;function jX(n){return ce.define({combine:n?e=>e.concat(n):void 0})}const iQ=new Pt;let fs=class{constructor(e,t,r=[],i=""){this.data=e,this.name=i,$e.prototype.hasOwnProperty("tree")||Object.defineProperty($e.prototype,"tree",{get(){return Xd(this)}}),this.parser=t,this.extension=[Gd.of(this),$e.languageData.of((s,o,a)=>{let l=_M(s,o,a),c=l.type.prop(Ah);if(!c)return[];let u=s.facet(c),h=l.type.prop(iQ);if(h){let d=l.resolve(o-l.from,a);for(let m of h)if(m.test(d,s)){let g=s.facet(m.facet);return m.type=="replace"?g:g.concat(u)}}return u})].concat(r)}isActiveAt(e,t,r=-1){return _M(e,t,r).type.prop(Ah)==this.data}findRegions(e){let t=e.facet(Gd);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let r=[],i=(s,o)=>{if(s.prop(Ah)==this.data){r.push({from:o,to:o+s.length});return}let a=s.prop(Pt.mounted);if(a){if(a.tree.prop(Ah)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+o,to:l.to+o});else r.push({from:o,to:o+s.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+o),r.length>l)return}}for(let l=0;l<s.children.length;l++){let c=s.children[l];c instanceof bi&&i(c,s.positions[l]+o)}};return i(Xd(e),0),r}get allowsNesting(){return!0}};fs.setState=Re.define();function _M(n,e,t){let r=n.facet(Gd),i=Xd(n).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,t,Vn.ExcludeBuffers))s.type.isTop&&(i=s);return i}let cve=class MP extends fs{constructor(e,t,r){super(e,t,[],r),this.parser=t}static define(e){let t=jX(e.languageData);return new MP(t,e.parser.configure({props:[Ah.add(r=>r.isTop?t:void 0)]}),e.name)}configure(e,t){return new MP(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}};function Xd(n){let e=n.field(fs.state,!1);return e?e.tree:bi.empty}let uve=class{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}},fp=null,hve=class VP{constructor(e,t,r=[],i,s,o,a,l){this.parser=e,this.state=t,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new VP(e,t,[],bi.empty,0,r,[],null)}startParse(){return this.parser.startParse(new uve(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=bi.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(sv.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(sv.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=fp;fp=this;try{return e()}finally{fp=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=TM(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:i,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,u,h,d)=>l.push({fromA:c,toA:u,fromB:h,toB:d})),r=sv.applyChanges(r,l),i=bi.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),h=e.mapPos(c.to,-1);u<h&&a.push({from:u,to:h})}}}return new VP(this.parser,t,r,i,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=TM(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends ave{createParse(t,r,i){let s=i[0].from,o=i[i.length-1].to;return{parsedPos:s,advance(){let l=fp;if(l){for(let c of i)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new bi(Po.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return fp}};function TM(n,e,t){return sv.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}let LP=class zP{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new zP(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=hve.create(e.facet(Gd).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new zP(r)}};fs.state=Lt.define({create:LP.init,update(n,e){for(let t of e.effects)if(t.is(fs.setState))return t.value;return e.startState.facet(Gd)!=e.state.facet(Gd)?LP.init(e.state):n.apply(e)}});let DX=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(DX=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const X1=typeof navigator<"u"&&(!((W1=navigator.scheduling)===null||W1===void 0)&&W1.isInputPending)?()=>navigator.scheduling.isInputPending():null,dve=Qt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(fs.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(fs.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=DX(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(fs.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!X1?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<i&&r.doc.length>i+1e3,l=s.context.work(()=>X1&&X1()||Date.now()>o,i+(a?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:fs.setState.of(new LP(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>xn(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Gd=ce.define({combine(n){return n.length?n[0]:null},enables:n=>[fs.state,dve,ue.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});let fve=class{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}};const pve=ce.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}}),mve=new Pt;function gve(n){let e=n.node,t=e.childAfter(e.from),r=e.lastChild;if(!t)return null;let i=n.options.simulateBreak,s=n.state.doc.lineAt(t.from),o=i==null||i<=s.from?s.to:Math.min(s.to,i);for(let a=t.to;;){let l=e.childAfter(a);if(!l||l==r)return null;if(!l.type.isSkipped){if(l.from>=o)return null;let c=/^ */.exec(s.text.slice(t.to-s.from))[0].length;return{from:t.from,to:t.to+c}}a=l.to}}function Ove({closing:n,align:e=!0,units:t=1}){return r=>yve(r,e,t,n)}function yve(n,e,t,r,i){let s=n.textAfter,o=s.match(/^\s*/)[0].length,a=r&&s.slice(o,o+r.length)==r||i==n.pos+o,l=e?gve(n):null;return l?a?n.column(l.from):n.column(l.to):n.baseIndent+(a?0:n.unit*t)}const vve=n=>n.baseIndent;function G1({except:n,units:e=1}={}){return t=>{let r=n&&n.test(t.textAfter);return t.baseIndent+(r?0:e*t.unit)}}const wve=new Pt;function xve(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}let bve=class MX{constructor(e,t){this.specs=e;let r;function i(a){let l=bn.newName();return(r||(r=Object.create(null)))["."+l]=a,l}const s=typeof t.all=="string"?t.all:t.all?i(t.all):void 0,o=t.scope;this.scope=o instanceof fs?a=>a.prop(Ah)==o.data:o?a=>a==o:void 0,this.style=Tc(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=r?new bn(r):null,this.themeType=t.themeType}static define(e,t){return new MX(e,t||{})}};N.meta,N.link,N.heading,N.emphasis,N.strong,N.strikethrough,N.keyword,N.atom,N.bool,N.url,N.contentSeparator,N.labelName,N.literal,N.inserted,N.string,N.deleted,N.regexp,N.escape,N.string,N.variableName,N.variableName,N.typeName,N.namespace,N.className,N.variableName,N.macroName,N.propertyName,N.comment,N.invalid;const Sve=Object.create(null),PM=[Po.none],CM=[],EM=Object.create(null),kve=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])kve[n]=_ve(Sve,e);function Y1(n,e){CM.indexOf(n)>-1||(CM.push(n),console.warn(e))}function _ve(n,e){let t=[];for(let a of e.split(" ")){let l=[];for(let c of a.split(".")){let u=n[c]||N[c];u?typeof u=="function"?l.length?l=l.map(u):Y1(c,`Modifier ${c} used at start of tag`):l.length?Y1(c,`Tag ${c} used as modifier`):l=Array.isArray(u)?u:[u]:Y1(c,`Unknown highlighting tag ${c}`)}for(let c of l)t.push(c)}if(!t.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+t.map(a=>a.id),s=EM[i];if(s)return s.id;let o=EM[i]=Po.define({id:PM.length,name:r,props:[Ii({[r]:t})]});return PM.push(o),o.id}Ke.RTL,Ke.LTR;function AM(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function Tve(n){let e=Object.create(null),t=Object.create(null);for(let{label:i}of n){e[i[0]]=!0;for(let s=1;s<i.length;s++)t[i[s]]=!0}let r=AM(e)+AM(t)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function Pve(n){let e=n.map(i=>typeof i=="string"?{label:i}:i),[t,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:Tve(e);return i=>{let s=i.matchBefore(r);return s||i.explicit?{from:s?s.from:i.pos,options:e,validFor:t}:null}}function Cve(n,e){return t=>{for(let r=Xd(t.state).resolveInner(t.pos,-1);r;r=r.parent){if(n.indexOf(r.name)>-1)return null;if(r.type.isTop)break}return e(t)}}const Eve=Is.define(),Ave=ue.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});let Rve=class{constructor(e,t,r,i){this.field=e,this.line=t,this.from=r,this.to=i}},Qve=class VX{constructor(e,t,r){this.field=e,this.from=t,this.to=r}map(e){let t=e.mapPos(this.from,-1,En.TrackDel),r=e.mapPos(this.to,1,En.TrackDel);return t==null||r==null?null:new VX(this.field,t,r)}},$ve=class LX{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let r=[],i=[t],s=e.doc.lineAt(t),o=/^\s*/.exec(s.text)[0];for(let l of this.lines){if(r.length){let c=o,u=/^\t*/.exec(l)[0].length;for(let h=0;h<u;h++)c+=e.facet(pve);i.push(t+c.length-u),l=c+l.slice(u)}r.push(l),t+=l.length+1}let a=this.fieldPositions.map(l=>new Qve(l.field,i[l.line]+l.from,i[l.line]+l.to));return{text:r,ranges:a}}static parse(e){let t=[],r=[],i=[],s;for(let o of e.split(/\r\n?|\n/)){for(;s=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(o);){let a=s[1]?+s[1]:null,l=s[2]||s[3]||"",c=-1,u=l.replace(/\\[{}]/g,h=>h[1]);for(let h=0;h<t.length;h++)(a!=null?t[h].seq==a:u&&t[h].name==u)&&(c=h);if(c<0){let h=0;for(;h<t.length&&(a==null||t[h].seq!=null&&t[h].seq<a);)h++;t.splice(h,0,{seq:a,name:u}),c=h;for(let d of i)d.field>=c&&d.field++}i.push(new Rve(c,r.length,s.index,s.index+u.length)),o=o.slice(0,s.index)+l+o.slice(s.index+s[0].length)}o=o.replace(/\\([{}])/g,(a,l,c)=>{for(let u of i)u.line==r.length&&u.from>c&&(u.from--,u.to--);return l}),r.push(o)}return new LX(r,i)}},Ive=me.widget({widget:new class extends Lo{toDOM(){let n=document.createElement("span");return n.className="cm-snippetFieldPosition",n}ignoreEvent(){return!1}}}),Nve=me.mark({class:"cm-snippetField"}),Lb=class zX{constructor(e,t){this.ranges=e,this.active=t,this.deco=me.set(e.map(r=>(r.from==r.to?Ive:Nve).range(r.from,r.to)))}map(e){let t=[];for(let r of this.ranges){let i=r.map(e);if(!i)return null;t.push(i)}return new zX(t,this.active)}selectionInsideField(e){return e.ranges.every(t=>this.ranges.some(r=>r.field==this.active&&r.from<=t.from&&r.to>=t.to))}};const QO=Re.define({map(n,e){return n&&n.map(e)}}),jve=Re.define(),Ig=Lt.define({create(){return null},update(n,e){for(let t of e.effects){if(t.is(QO))return t.value;if(t.is(jve)&&n)return new Lb(n.ranges,t.value)}return n&&e.docChanged&&(n=n.map(e.changes)),n&&e.selection&&!n.selectionInsideField(e.selection)&&(n=null),n},provide:n=>ue.decorations.from(n,e=>e?e.deco:me.none)});function sQ(n,e){return K.create(n.filter(t=>t.field==e).map(t=>K.range(t.from,t.to)))}function Dve(n){let e=$ve.parse(n);return(t,r,i,s)=>{let{text:o,ranges:a}=e.instantiate(t.state,i),{main:l}=t.state.selection,c={changes:{from:i,to:s==l.from?l.to:s,insert:ot.of(o)},scrollIntoView:!0,annotations:r?[Eve.of(r),dn.userEvent.of("input.complete")]:void 0};if(a.length&&(c.selection=sQ(a,0)),a.some(u=>u.field>0)){let u=new Lb(a,0),h=c.effects=[QO.of(u)];t.state.field(Ig,!1)===void 0&&h.push(Re.appendConfig.of([Ig,Uve,Zve,Ave]))}t.dispatch(t.state.update(c))}}function UX(n){return({state:e,dispatch:t})=>{let r=e.field(Ig,!1);if(!r||n<0&&r.active==0)return!1;let i=r.active+n,s=n>0&&!r.ranges.some(o=>o.field==i+n);return t(e.update({selection:sQ(r.ranges,i),effects:QO.of(s?null:new Lb(r.ranges,i)),scrollIntoView:!0})),!0}}const Mve=({state:n,dispatch:e})=>n.field(Ig,!1)?(e(n.update({effects:QO.of(null)})),!0):!1,Vve=UX(1),Lve=UX(-1),zve=[{key:"Tab",run:Vve,shift:Lve},{key:"Escape",run:Mve}],RM=ce.define({combine(n){return n.length?n[0]:zve}}),Uve=za.highest(PO.compute([RM],n=>n.facet(RM)));function qr(n,e){return Object.assign(Object.assign({},e),{apply:Dve(n)})}const Zve=ue.domEventHandlers({mousedown(n,e){let t=e.state.field(Ig,!1),r;if(!t||(r=e.posAtCoords({x:n.clientX,y:n.clientY}))==null)return!1;let i=t.ranges.find(s=>s.from<=r&&s.to>=r);return!i||i.field==t.active?!1:(e.dispatch({selection:sQ(t.ranges,i.field),effects:QO.of(t.ranges.some(s=>s.field>i.field)?new Lb(t.ranges,i.field):null),scrollIntoView:!0}),!0)}}),ZX=new class extends ko{};ZX.startSide=1;ZX.endSide=-1;const qX=[qr("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),qr("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),qr("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),qr("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),qr("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),qr(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),qr("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),qr(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),qr(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),qr('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),qr('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],qve=qX.concat([qr("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),qr("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),qr("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),QM=new ove,BX=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function pp(n){return(e,t)=>{let r=e.node.getChild("VariableDefinition");return r&&t(r,n),!0}}const Bve=["FunctionDeclaration"],Fve={FunctionDeclaration:pp("function"),ClassDeclaration:pp("class"),ClassExpression:()=>!0,EnumDeclaration:pp("constant"),TypeAliasDeclaration:pp("type"),NamespaceDeclaration:pp("namespace"),VariableDefinition(n,e){n.matchContext(Bve)||e(n,"variable")},TypeDefinition(n,e){e(n,"type")},__proto__:null};function FX(n,e){let t=QM.get(e);if(t)return t;let r=[],i=!0;function s(o,a){let l=n.sliceString(o.from,o.to);r.push({label:l,type:a})}return e.cursor(Vn.IncludeAnonymous).iterate(o=>{if(i)i=!1;else if(o.name){let a=Fve[o.name];if(a&&a(o,s)||BX.has(o.name))return!1}else if(o.to-o.from>8192){for(let a of FX(n,o.node))r.push(a);return!1}}),QM.set(e,r),r}const $M=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,WX=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function Wve(n){let e=Xd(n.state).resolveInner(n.pos,-1);if(WX.indexOf(e.name)>-1)return null;let t=e.name=="VariableName"||e.to-e.from<20&&$M.test(n.state.sliceDoc(e.from,e.to));if(!t&&!n.explicit)return null;let r=[];for(let i=e;i;i=i.parent)BX.has(i.name)&&(r=r.concat(FX(n.state.doc,i)));return{options:r,from:t?e.from:n.pos,validFor:$M}}const Oo=cve.define({name:"javascript",parser:H0e.configure({props:[mve.add({IfStatement:G1({except:/^\s*({|else\b)/}),TryStatement:G1({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:vve,SwitchBody:n=>{let e=n.textAfter,t=/^\s*\}/.test(e),r=/^\s*(case|default)\b/.test(e);return n.baseIndent+(t?0:r?1:2)*n.unit},Block:Ove({closing:"}"}),ArrowFunction:n=>n.baseIndent+n.unit,"TemplateString BlockComment":()=>null,"Statement Property":G1({except:/^{/}),JSXElement(n){let e=/^\s*<\//.test(n.textAfter);return n.lineIndent(n.node.from)+(e?0:n.unit)},JSXEscape(n){let e=/\s*\}/.test(n.textAfter);return n.lineIndent(n.node.from)+(e?0:n.unit)},"JSXOpenTag JSXSelfClosingTag"(n){return n.column(n.node.from)+n.unit}}),wve.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":xve,BlockComment(n){return{from:n.from+2,to:n.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),XX={test:n=>/^JSX/.test(n.name),facet:jX({commentTokens:{block:{open:"{/*",close:"*/}"}}})},GX=Oo.configure({dialect:"ts"},"typescript"),YX=Oo.configure({dialect:"jsx",props:[iQ.add(n=>n.isTop?[XX]:void 0)]}),HX=Oo.configure({dialect:"jsx ts",props:[iQ.add(n=>n.isTop?[XX]:void 0)]},"typescript");let KX=n=>({label:n,type:"keyword"});const JX="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(KX),Xve=JX.concat(["declare","implements","private","protected","public"].map(KX));function oQ(n={}){let e=n.jsx?n.typescript?HX:YX:n.typescript?GX:Oo,t=n.typescript?qve.concat(Xve):qX.concat(JX);return new fve(e,[Oo.data.of({autocomplete:Cve(WX,Pve(t))}),Oo.data.of({autocomplete:Wve}),n.jsx?Hve:[]])}function Gve(n){for(;;){if(n.name=="JSXOpenTag"||n.name=="JSXSelfClosingTag"||n.name=="JSXFragmentTag")return n;if(n.name=="JSXEscape"||!n.parent)return null;n=n.parent}}function IM(n,e,t=n.length){for(let r=e==null?void 0:e.firstChild;r;r=r.nextSibling)if(r.name=="JSXIdentifier"||r.name=="JSXBuiltin"||r.name=="JSXNamespacedName"||r.name=="JSXMemberExpression")return n.sliceString(r.from,Math.min(r.to,t));return""}const Yve=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),Hve=ue.inputHandler.of((n,e,t,r,i)=>{if((Yve?n.composing:n.compositionStarted)||n.state.readOnly||e!=t||r!=">"&&r!="/"||!Oo.isActiveAt(n.state,e,-1))return!1;let s=i(),{state:o}=s,a=o.changeByRange(l=>{var c;let{head:u}=l,h=Xd(o).resolveInner(u-1,-1),d;if(h.name=="JSXStartTag"&&(h=h.parent),!(o.doc.sliceString(u-1,u)!=r||h.name=="JSXAttributeValue"&&h.to>u)){if(r==">"&&h.name=="JSXFragmentTag")return{range:l,changes:{from:u,insert:"</>"}};if(r=="/"&&h.name=="JSXStartCloseTag"){let m=h.parent,g=m.parent;if(g&&m.from==u-2&&((d=IM(o.doc,g.firstChild,u))||((c=g.firstChild)===null||c===void 0?void 0:c.name)=="JSXFragmentTag")){let y=`${d}>`;return{range:K.cursor(u+y.length,-1),changes:{from:u,insert:y}}}}else if(r==">"){let m=Gve(h);if(m&&m.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(o.doc.sliceString(u,u+2))&&(d=IM(o.doc,m,u)))return{range:l,changes:{from:u,insert:`</${d}>`}}}}return{range:l}});return a.changes.empty?!1:(n.dispatch([s,o.update(a,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),Kve=1,e9=194,t9=195,Jve=196,NM=197,ewe=198,twe=199,nwe=200,rwe=2,n9=3,jM=201,iwe=24,swe=25,owe=49,awe=50,lwe=55,cwe=56,uwe=57,hwe=59,dwe=60,fwe=61,pwe=62,mwe=63,gwe=65,Owe=238,ywe=71,vwe=241,wwe=242,xwe=243,bwe=244,Swe=245,kwe=246,_we=247,Twe=248,r9=72,Pwe=249,Cwe=250,Ewe=251,Awe=252,Rwe=253,Qwe=254,$we=255,Iwe=256,Nwe=73,jwe=77,Dwe=263,Mwe=112,Vwe=130,Lwe=151,zwe=152,Uwe=155,$u=10,Ng=13,aQ=32,zb=9,lQ=35,Zwe=40,qwe=46,UP=123,DM=125,i9=39,s9=34,Bwe=92,Fwe=111,Wwe=120,Xwe=78,Gwe=117,Ywe=85,Hwe=new Set([swe,owe,awe,Dwe,gwe,Vwe,cwe,uwe,Owe,pwe,mwe,r9,Nwe,jwe,dwe,fwe,Lwe,zwe,Uwe,Mwe]);function H1(n){return n==$u||n==Ng}function K1(n){return n>=48&&n<=57||n>=65&&n<=70||n>=97&&n<=102}const Kwe=new ur((n,e)=>{let t;if(n.next<0)n.acceptToken(twe);else if(e.context.flags&ov)H1(n.next)&&n.acceptToken(ewe,1);else if(((t=n.peek(-1))<0||H1(t))&&e.canShift(NM)){let r=0;for(;n.next==aQ||n.next==zb;)n.advance(),r++;(n.next==$u||n.next==Ng||n.next==lQ)&&n.acceptToken(NM,-r)}else H1(n.next)&&n.acceptToken(Jve,1)},{contextual:!0}),Jwe=new ur((n,e)=>{let t=e.context;if(t.flags)return;let r=n.peek(-1);if(r==$u||r==Ng){let i=0,s=0;for(;;){if(n.next==aQ)i++;else if(n.next==zb)i+=8-i%8;else break;n.advance(),s++}i!=t.indent&&n.next!=$u&&n.next!=Ng&&n.next!=lQ&&(i<t.indent?n.acceptToken(t9,-s):n.acceptToken(e9))}}),ov=1,o9=2,Jo=4,ea=8,ta=16,na=32;function av(n,e,t){this.parent=n,this.indent=e,this.flags=t,this.hash=(n?n.hash+n.hash<<8:0)+e+(e<<4)+t+(t<<6)}const exe=new av(null,0,0);function txe(n){let e=0;for(let t=0;t<n.length;t++)e+=n.charCodeAt(t)==zb?8-e%8:1;return e}const MM=new Map([[vwe,0],[wwe,Jo],[xwe,ea],[bwe,ea|Jo],[Swe,ta],[kwe,ta|Jo],[_we,ta|ea],[Twe,ta|ea|Jo],[Pwe,na],[Cwe,na|Jo],[Ewe,na|ea],[Awe,na|ea|Jo],[Rwe,na|ta],[Qwe,na|ta|Jo],[$we,na|ta|ea],[Iwe,na|ta|ea|Jo]].map(([n,e])=>[n,e|o9])),nxe=new tQ({start:exe,reduce(n,e,t,r){return n.flags&ov&&Hwe.has(e)||(e==ywe||e==r9)&&n.flags&o9?n.parent:n},shift(n,e,t,r){return e==e9?new av(n,txe(r.read(r.pos,t.pos)),0):e==t9?n.parent:e==iwe||e==lwe||e==hwe||e==n9?new av(n,0,ov):MM.has(e)?new av(n,0,MM.get(e)|n.flags&ov):n},hash(n){return n.hash}}),rxe=new ur(n=>{for(let e=0;e<5;e++){if(n.next!="print".charCodeAt(e))return;n.advance()}if(!/\w/.test(String.fromCharCode(n.next)))for(let e=0;;e++){let t=n.peek(e);if(!(t==aQ||t==zb)){t!=Zwe&&t!=qwe&&t!=$u&&t!=Ng&&t!=lQ&&n.acceptToken(Kve);return}}}),ixe=new ur((n,e)=>{let{flags:t}=e.context,r=t&Jo?s9:i9,i=(t&ea)>0,s=!(t&ta),o=(t&na)>0,a=n.pos;for(;!(n.next<0);)if(o&&n.next==UP)if(n.peek(1)==UP)n.advance(2);else{if(n.pos==a){n.acceptToken(n9,1);return}break}else if(s&&n.next==Bwe){if(n.pos==a){n.advance();let l=n.next;l>=0&&(n.advance(),sxe(n,l)),n.acceptToken(rwe);return}break}else if(n.next==r&&(!i||n.peek(1)==r&&n.peek(2)==r)){if(n.pos==a){n.acceptToken(jM,i?3:1);return}break}else if(n.next==$u){if(i)n.advance();else if(n.pos==a){n.acceptToken(jM);return}break}else n.advance();n.pos>a&&n.acceptToken(nwe)});function sxe(n,e){if(e==Fwe)for(let t=0;t<2&&n.next>=48&&n.next<=55;t++)n.advance();else if(e==Wwe)for(let t=0;t<2&&K1(n.next);t++)n.advance();else if(e==Gwe)for(let t=0;t<4&&K1(n.next);t++)n.advance();else if(e==Ywe)for(let t=0;t<8&&K1(n.next);t++)n.advance();else if(e==Xwe&&n.next==UP){for(n.advance();n.next>=0&&n.next!=DM&&n.next!=i9&&n.next!=s9&&n.next!=$u;)n.advance();n.next==DM&&n.advance()}}const oxe=Ii({'async "*" "**" FormatConversion FormatSpec':N.modifier,"for while if elif else try except finally return raise break continue with pass assert await yield match case":N.controlKeyword,"in not and or is del":N.operatorKeyword,"from def class global nonlocal lambda":N.definitionKeyword,import:N.moduleKeyword,"with as print":N.keyword,Boolean:N.bool,None:N.null,VariableName:N.variableName,"CallExpression/VariableName":N.function(N.variableName),"FunctionDefinition/VariableName":N.function(N.definition(N.variableName)),"ClassDefinition/VariableName":N.definition(N.className),PropertyName:N.propertyName,"CallExpression/MemberExpression/PropertyName":N.function(N.propertyName),Comment:N.lineComment,Number:N.number,String:N.string,FormatString:N.special(N.string),Escape:N.escape,UpdateOp:N.updateOperator,"ArithOp!":N.arithmeticOperator,BitOp:N.bitwiseOperator,CompareOp:N.compareOperator,AssignOp:N.definitionOperator,Ellipsis:N.punctuation,At:N.meta,"( )":N.paren,"[ ]":N.squareBracket,"{ }":N.brace,".":N.derefOperator,", ;":N.separator}),axe={__proto__:null,await:44,or:54,and:56,in:60,not:62,is:64,if:70,else:72,lambda:76,yield:94,from:96,async:102,for:104,None:162,True:164,False:164,del:178,pass:182,break:186,continue:190,return:194,raise:202,import:206,as:208,global:212,nonlocal:214,assert:218,type:223,elif:236,while:240,try:246,except:248,finally:250,with:254,def:258,class:268,match:279,case:285},lxe=Ia.deserialize({version:14,states:"##jO`QeOOP$}OSOOO&WQtO'#HUOOQS'#Co'#CoOOQS'#Cp'#CpO'vQdO'#CnO*UQtO'#HTOOQS'#HU'#HUOOQS'#DU'#DUOOQS'#HT'#HTO*rQdO'#D_O+VQdO'#DfO+gQdO'#DjO+zOWO'#DuO,VOWO'#DvO.[QtO'#GuOOQS'#Gu'#GuO'vQdO'#GtO0ZQtO'#GtOOQS'#Eb'#EbO0rQdO'#EcOOQS'#Gs'#GsO0|QdO'#GrOOQV'#Gr'#GrO1XQdO'#FYOOQS'#G^'#G^O1^QdO'#FXOOQV'#IS'#ISOOQV'#Gq'#GqOOQV'#Fq'#FqQ`QeOOO'vQdO'#CqO1lQdO'#C}O1sQdO'#DRO2RQdO'#HYO2cQtO'#EVO'vQdO'#EWOOQS'#EY'#EYOOQS'#E['#E[OOQS'#E^'#E^O2wQdO'#E`O3_QdO'#EdO3rQdO'#EfO3zQtO'#EfO1XQdO'#EiO0rQdO'#ElO1XQdO'#EnO0rQdO'#EtO0rQdO'#EwO4VQdO'#EyO4^QdO'#FOO4iQdO'#EzO0rQdO'#FOO1XQdO'#FQO1XQdO'#FVO4nQdO'#F[P4uOdO'#GpPOOO)CBd)CBdOOQS'#Ce'#CeOOQS'#Cf'#CfOOQS'#Cg'#CgOOQS'#Ch'#ChOOQS'#Ci'#CiOOQS'#Cj'#CjOOQS'#Cl'#ClO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO5TQdO'#DoOOQS,5:Y,5:YO5hQdO'#HdOOQS,5:],5:]O5uQ!fO,5:]O5zQtO,59YO1lQdO,59bO1lQdO,59bO1lQdO,59bO8jQdO,59bO8oQdO,59bO8vQdO,59jO8}QdO'#HTO:TQdO'#HSOOQS'#HS'#HSOOQS'#D['#D[O:lQdO,59aO'vQdO,59aO:zQdO,59aOOQS,59y,59yO;PQdO,5:RO'vQdO,5:ROOQS,5:Q,5:QO;_QdO,5:QO;dQdO,5:XO'vQdO,5:XO'vQdO,5:VOOQS,5:U,5:UO;uQdO,5:UO;zQdO,5:WOOOW'#Fy'#FyO<POWO,5:aOOQS,5:a,5:aO<[QdO'#HwOOOW'#Dw'#DwOOOW'#Fz'#FzO<lOWO,5:bOOQS,5:b,5:bOOQS'#F}'#F}O<zQtO,5:iO?lQtO,5=`O@VQ#xO,5=`O@vQtO,5=`OOQS,5:},5:}OA_QeO'#GWOBqQdO,5;^OOQV,5=^,5=^OB|QtO'#IPOCkQdO,5;tOOQS-E:[-E:[OOQV,5;s,5;sO4dQdO'#FQOOQV-E9o-E9oOCsQtO,59]OEzQtO,59iOFeQdO'#HVOFpQdO'#HVO1XQdO'#HVOF{QdO'#DTOGTQdO,59mOGYQdO'#HZO'vQdO'#HZO0rQdO,5=tOOQS,5=t,5=tO0rQdO'#EROOQS'#ES'#ESOGwQdO'#GPOHXQdO,58|OHXQdO,58|O*xQdO,5:oOHgQtO'#H]OOQS,5:r,5:rOOQS,5:z,5:zOHzQdO,5;OOI]QdO'#IOO1XQdO'#H}OOQS,5;Q,5;QOOQS'#GT'#GTOIqQtO,5;QOJPQdO,5;QOJUQdO'#IQOOQS,5;T,5;TOJdQdO'#H|OOQS,5;W,5;WOJuQdO,5;YO4iQdO,5;`O4iQdO,5;cOJ}QtO'#ITO'vQdO'#ITOKXQdO,5;eO4VQdO,5;eO0rQdO,5;jO1XQdO,5;lOK^QeO'#EuOLjQgO,5;fO!!kQdO'#IUO4iQdO,5;jO!!vQdO,5;lO!#OQdO,5;qO!#ZQtO,5;vO'vQdO,5;vPOOO,5=[,5=[P!#bOSO,5=[P!#jOdO,5=[O!&bQtO1G.jO!&iQtO1G.jO!)YQtO1G.jO!)dQtO1G.jO!+}QtO1G.jO!,bQtO1G.jO!,uQdO'#HcO!-TQtO'#GuO0rQdO'#HcO!-_QdO'#HbOOQS,5:Z,5:ZO!-gQdO,5:ZO!-lQdO'#HeO!-wQdO'#HeO!.[QdO,5>OOOQS'#Ds'#DsOOQS1G/w1G/wOOQS1G.|1G.|O!/[QtO1G.|O!/cQtO1G.|O1lQdO1G.|O!0OQdO1G/UOOQS'#DZ'#DZO0rQdO,59tOOQS1G.{1G.{O!0VQdO1G/eO!0gQdO1G/eO!0oQdO1G/fO'vQdO'#H[O!0tQdO'#H[O!0yQtO1G.{O!1ZQdO,59iO!2aQdO,5=zO!2qQdO,5=zO!2yQdO1G/mO!3OQtO1G/mOOQS1G/l1G/lO!3`QdO,5=uO!4VQdO,5=uO0rQdO1G/qO!4tQdO1G/sO!4yQtO1G/sO!5ZQtO1G/qOOQS1G/p1G/pOOQS1G/r1G/rOOOW-E9w-E9wOOQS1G/{1G/{O!5kQdO'#HxO0rQdO'#HxO!5|QdO,5>cOOOW-E9x-E9xOOQS1G/|1G/|OOQS-E9{-E9{O!6[Q#xO1G2zO!6{QtO1G2zO'vQdO,5<jOOQS,5<j,5<jOOQS-E9|-E9|OOQS,5<r,5<rOOQS-E:U-E:UOOQV1G0x1G0xO1XQdO'#GRO!7dQtO,5>kOOQS1G1`1G1`O!8RQdO1G1`OOQS'#DV'#DVO0rQdO,5=qOOQS,5=q,5=qO!8WQdO'#FrO!8cQdO,59oO!8kQdO1G/XO!8uQtO,5=uOOQS1G3`1G3`OOQS,5:m,5:mO!9fQdO'#GtOOQS,5<k,5<kOOQS-E9}-E9}O!9wQdO1G.hOOQS1G0Z1G0ZO!:VQdO,5=wO!:gQdO,5=wO0rQdO1G0jO0rQdO1G0jO!:xQdO,5>jO!;ZQdO,5>jO1XQdO,5>jO!;lQdO,5>iOOQS-E:R-E:RO!;qQdO1G0lO!;|QdO1G0lO!<RQdO,5>lO!<aQdO,5>lO!<oQdO,5>hO!=VQdO,5>hO!=hQdO'#EpO0rQdO1G0tO!=sQdO1G0tO!=xQgO1G0zO!AvQgO1G0}O!EqQdO,5>oO!E{QdO,5>oO!FTQtO,5>oO0rQdO1G1PO!F_QdO1G1PO4iQdO1G1UO!!vQdO1G1WOOQV,5;a,5;aO!FdQfO,5;aO!FiQgO1G1QO!JjQdO'#GZO4iQdO1G1QO4iQdO1G1QO!JzQdO,5>pO!KXQdO,5>pO1XQdO,5>pOOQV1G1U1G1UO!KaQdO'#FSO!KrQ!fO1G1WO!KzQdO1G1WOOQV1G1]1G1]O4iQdO1G1]O!LPQdO1G1]O!LXQdO'#F^OOQV1G1b1G1bO!#ZQtO1G1bPOOO1G2v1G2vP!L^OSO1G2vOOQS,5=},5=}OOQS'#Dp'#DpO0rQdO,5=}O!LfQdO,5=|O!LyQdO,5=|OOQS1G/u1G/uO!MRQdO,5>PO!McQdO,5>PO!MkQdO,5>PO!NOQdO,5>PO!N`QdO,5>POOQS1G3j1G3jOOQS7+$h7+$hO!8kQdO7+$pO#!RQdO1G.|O#!YQdO1G.|OOQS1G/`1G/`OOQS,5<`,5<`O'vQdO,5<`OOQS7+%P7+%PO#!aQdO7+%POOQS-E9r-E9rOOQS7+%Q7+%QO#!qQdO,5=vO'vQdO,5=vOOQS7+$g7+$gO#!vQdO7+%PO##OQdO7+%QO##TQdO1G3fOOQS7+%X7+%XO##eQdO1G3fO##mQdO7+%XOOQS,5<_,5<_O'vQdO,5<_O##rQdO1G3aOOQS-E9q-E9qO#$iQdO7+%]OOQS7+%_7+%_O#$wQdO1G3aO#%fQdO7+%_O#%kQdO1G3gO#%{QdO1G3gO#&TQdO7+%]O#&YQdO,5>dO#&sQdO,5>dO#&sQdO,5>dOOQS'#Dx'#DxO#'UO&jO'#DzO#'aO`O'#HyOOOW1G3}1G3}O#'fQdO1G3}O#'nQdO1G3}O#'yQ#xO7+(fO#(jQtO1G2UP#)TQdO'#GOOOQS,5<m,5<mOOQS-E:P-E:POOQS7+&z7+&zOOQS1G3]1G3]OOQS,5<^,5<^OOQS-E9p-E9pOOQS7+$s7+$sO#)bQdO,5=`O#){QdO,5=`O#*^QtO,5<aO#*qQdO1G3cOOQS-E9s-E9sOOQS7+&U7+&UO#+RQdO7+&UO#+aQdO,5<nO#+uQdO1G4UOOQS-E:Q-E:QO#,WQdO1G4UOOQS1G4T1G4TOOQS7+&W7+&WO#,iQdO7+&WOOQS,5<p,5<pO#,tQdO1G4WOOQS-E:S-E:SOOQS,5<l,5<lO#-SQdO1G4SOOQS-E:O-E:OO1XQdO'#EqO#-jQdO'#EqO#-uQdO'#IRO#-}QdO,5;[OOQS7+&`7+&`O0rQdO7+&`O#.SQgO7+&fO!JmQdO'#GXO4iQdO7+&fO4iQdO7+&iO#2QQtO,5<tO'vQdO,5<tO#2[QdO1G4ZOOQS-E:W-E:WO#2fQdO1G4ZO4iQdO7+&kO0rQdO7+&kOOQV7+&p7+&pO!KrQ!fO7+&rO!KzQdO7+&rO`QeO1G0{OOQV-E:X-E:XO4iQdO7+&lO4iQdO7+&lOOQV,5<u,5<uO#2nQdO,5<uO!JmQdO,5<uOOQV7+&l7+&lO#2yQgO7+&lO#6tQdO,5<vO#7PQdO1G4[OOQS-E:Y-E:YO#7^QdO1G4[O#7fQdO'#IWO#7tQdO'#IWO1XQdO'#IWOOQS'#IW'#IWO#8PQdO'#IVOOQS,5;n,5;nO#8XQdO,5;nO0rQdO'#FUOOQV7+&r7+&rO4iQdO7+&rOOQV7+&w7+&wO4iQdO7+&wO#8^QfO,5;xOOQV7+&|7+&|POOO7+(b7+(bO#8cQdO1G3iOOQS,5<c,5<cO#8qQdO1G3hOOQS-E9u-E9uO#9UQdO,5<dO#9aQdO,5<dO#9tQdO1G3kOOQS-E9v-E9vO#:UQdO1G3kO#:^QdO1G3kO#:nQdO1G3kO#:UQdO1G3kOOQS<<H[<<H[O#:yQtO1G1zOOQS<<Hk<<HkP#;WQdO'#FtO8vQdO1G3bO#;eQdO1G3bO#;jQdO<<HkOOQS<<Hl<<HlO#;zQdO7+)QOOQS<<Hs<<HsO#<[QtO1G1yP#<{QdO'#FsO#=YQdO7+)RO#=jQdO7+)RO#=rQdO<<HwO#=wQdO7+({OOQS<<Hy<<HyO#>nQdO,5<bO'vQdO,5<bOOQS-E9t-E9tOOQS<<Hw<<HwOOQS,5<g,5<gO0rQdO,5<gO#>sQdO1G4OOOQS-E9y-E9yO#?^QdO1G4OO<[QdO'#H{OOOO'#D{'#D{OOOO'#F|'#F|O#?oO&jO,5:fOOOW,5>e,5>eOOOW7+)i7+)iO#?zQdO7+)iO#@SQdO1G2zO#@mQdO1G2zP'vQdO'#FuO0rQdO<<IpO1XQdO1G2YP1XQdO'#GSO#AOQdO7+)pO#AaQdO7+)pOOQS<<Ir<<IrP1XQdO'#GUP0rQdO'#GQOOQS,5;],5;]O#ArQdO,5>mO#BQQdO,5>mOOQS1G0v1G0vOOQS<<Iz<<IzOOQV-E:V-E:VO4iQdO<<JQOOQV,5<s,5<sO4iQdO,5<sOOQV<<JQ<<JQOOQV<<JT<<JTO#BYQtO1G2`P#BdQdO'#GYO#BkQdO7+)uO#BuQgO<<JVO4iQdO<<JVOOQV<<J^<<J^O4iQdO<<J^O!KrQ!fO<<J^O#FpQgO7+&gOOQV<<JW<<JWO#FzQgO<<JWOOQV1G2a1G2aO1XQdO1G2aO#JuQdO1G2aO4iQdO<<JWO1XQdO1G2bP0rQdO'#G[O#KQQdO7+)vO#K_QdO7+)vOOQS'#FT'#FTO0rQdO,5>rO#KgQdO,5>rO#KrQdO,5>rO#K}QdO,5>qO#L`QdO,5>qOOQS1G1Y1G1YOOQS,5;p,5;pOOQV<<Jc<<JcO#LhQdO1G1dOOQS7+)T7+)TP#LmQdO'#FwO#L}QdO1G2OO#MbQdO1G2OO#MrQdO1G2OP#M}QdO'#FxO#N[QdO7+)VO#NlQdO7+)VO#NlQdO7+)VO#NtQdO7+)VO$ UQdO7+(|O8vQdO7+(|OOQSAN>VAN>VO$ oQdO<<LmOOQSAN>cAN>cO0rQdO1G1|O$!PQtO1G1|P$!ZQdO'#FvOOQS1G2R1G2RP$!hQdO'#F{O$!uQdO7+)jO$#`QdO,5>gOOOO-E9z-E9zOOOW<<MT<<MTO$#nQdO7+(fOOQSAN?[AN?[OOQS7+'t7+'tO$$XQdO<<M[OOQS,5<q,5<qO$$jQdO1G4XOOQS-E:T-E:TOOQVAN?lAN?lOOQV1G2_1G2_O4iQdOAN?qO$$xQgOAN?qOOQVAN?xAN?xO4iQdOAN?xOOQV<<JR<<JRO4iQdOAN?rO4iQdO7+'{OOQV7+'{7+'{O1XQdO7+'{OOQVAN?rAN?rOOQS7+'|7+'|O$(sQdO<<MbOOQS1G4^1G4^O0rQdO1G4^OOQS,5<w,5<wO$)QQdO1G4]OOQS-E:Z-E:ZOOQU'#G_'#G_O$)cQfO7+'OO$)nQdO'#F_O$*uQdO7+'jO$+VQdO7+'jOOQS7+'j7+'jO$+bQdO<<LqO$+rQdO<<LqO$+rQdO<<LqO$+zQdO'#H^OOQS<<Lh<<LhO$,UQdO<<LhOOQS7+'h7+'hOOQS'#D|'#D|OOOO1G4R1G4RO$,oQdO1G4RO$,wQdO1G4RP!=hQdO'#GVOOQVG25]G25]O4iQdOG25]OOQVG25dG25dOOQVG25^G25^OOQV<<Kg<<KgO4iQdO<<KgOOQS7+)x7+)xP$-SQdO'#G]OOQU-E:]-E:]OOQV<<Jj<<JjO$-vQtO'#FaOOQS'#Fc'#FcO$.WQdO'#FbO$.xQdO'#FbOOQS'#Fb'#FbO$.}QdO'#IYO$)nQdO'#FiO$)nQdO'#FiO$/fQdO'#FjO$)nQdO'#FkO$/mQdO'#IZOOQS'#IZ'#IZO$0[QdO,5;yOOQS<<KU<<KUO$0dQdO<<KUO$0tQdOANB]O$1UQdOANB]O$1^QdO'#H_OOQS'#H_'#H_O1sQdO'#DcO$1wQdO,5=xOOQSANBSANBSOOOO7+)m7+)mO$2`QdO7+)mOOQVLD*wLD*wOOQVANARANARO5uQ!fO'#GaO$2hQtO,5<SO$)nQdO'#FmOOQS,5<W,5<WOOQS'#Fd'#FdO$3YQdO,5;|O$3_QdO,5;|OOQS'#Fg'#FgO$)nQdO'#G`O$4PQdO,5<QO$4kQdO,5>tO$4{QdO,5>tO1XQdO,5<PO$5^QdO,5<TO$5cQdO,5<TO$)nQdO'#I[O$5hQdO'#I[O$5mQdO,5<UOOQS,5<V,5<VO'vQdO'#FpOOQU1G1e1G1eO4iQdO1G1eOOQSAN@pAN@pO$5rQdOG27wO$6SQdO,59}OOQS1G3d1G3dOOOO<<MX<<MXOOQS,5<{,5<{OOQS-E:_-E:_O$6XQtO'#FaO$6`QdO'#I]O$6nQdO'#I]O$6vQdO,5<XOOQS1G1h1G1hO$6{QdO1G1hO$7QQdO,5<zOOQS-E:^-E:^O$7lQdO,5=OO$8TQdO1G4`OOQS-E:b-E:bOOQS1G1k1G1kOOQS1G1o1G1oO$8eQdO,5>vO$)nQdO,5>vOOQS1G1p1G1pO$8sQtO,5<[OOQU7+'P7+'PO$+zQdO1G/iO$)nQdO,5<YO$8zQdO,5>wO$9RQdO,5>wOOQS1G1s1G1sOOQS7+'S7+'SP$)nQdO'#GdO$9ZQdO1G4bO$9eQdO1G4bO$9mQdO1G4bOOQS7+%T7+%TO$9{QdO1G1tO$:ZQtO'#FaO$:bQdO,5<}OOQS,5<},5<}O$:pQdO1G4cOOQS-E:a-E:aO$)nQdO,5<|O$:wQdO,5<|O$:|QdO7+)|OOQS-E:`-E:`O$;WQdO7+)|O$)nQdO,5<ZP$)nQdO'#GcO$;`QdO1G2hO$)nQdO1G2hP$;nQdO'#GbO$;uQdO<<MhO$<PQdO1G1uO$<_QdO7+(SO8vQdO'#C}O8vQdO,59bO8vQdO,59bO8vQdO,59bO$<mQtO,5=`O8vQdO1G.|O0rQdO1G/XO0rQdO7+$pP$=QQdO'#GOO'vQdO'#GtO$=_QdO,59bO$=dQdO,59bO$=kQdO,59mO$=pQdO1G/UO1sQdO'#DRO8vQdO,59j",stateData:"$>Z~O%cOS%^OSSOS%]PQ~OPdOVaOfoOhYOopOs!POvqO!PrO!Q{O!T!SO!U!RO!XZO!][O!h`O!r`O!s`O!t`O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO#l!QO#o!TO#s!UO#u!VO#z!WO#}hO$P!XO%oRO%pRO%tSO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O~O%]!YO~OV!aO_!aOa!bOh!iO!X!kO!f!mO%j![O%k!]O%l!^O%m!_O%n!_O%o!`O%p!`O%q!aO%r!aO%s!aO~Ok%xXl%xXm%xXn%xXo%xXp%xXs%xXz%xX{%xX!x%xX#g%xX%[%xX%_%xX%z%xXg%xX!T%xX!U%xX%{%xX!W%xX![%xX!Q%xX#[%xXt%xX!m%xX~P%SOfoOhYO!XZO!][O!h`O!r`O!s`O!t`O%oRO%pRO%tSO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O~Oz%wX{%wX#g%wX%[%wX%_%wX%z%wX~Ok!pOl!qOm!oOn!oOo!rOp!sOs!tO!x%wX~P)pOV!zOg!|Oo0cOv0qO!PrO~P'vOV#OOo0cOv0qO!W#PO~P'vOV#SOa#TOo0cOv0qO![#UO~P'vOQ#XO%`#XO%a#ZO~OQ#^OR#[O%`#^O%a#`O~OV%iX_%iXa%iXh%iXk%iXl%iXm%iXn%iXo%iXp%iXs%iXz%iX!X%iX!f%iX%j%iX%k%iX%l%iX%m%iX%n%iX%o%iX%p%iX%q%iX%r%iX%s%iXg%iX!T%iX!U%iX~O&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O{%iX!x%iX#g%iX%[%iX%_%iX%z%iX%{%iX!W%iX![%iX!Q%iX#[%iXt%iX!m%iX~P,eOz#dO{%hX!x%hX#g%hX%[%hX%_%hX%z%hX~Oo0cOv0qO~P'vO#g#gO%[#iO%_#iO~O%uWO~O!T#nO#u!VO#z!WO#}hO~OopO~P'vOV#sOa#tO%uWO{wP~OV#xOo0cOv0qO!Q#yO~P'vO{#{O!x$QO%z#|O#g!yX%[!yX%_!yX~OV#xOo0cOv0qO#g#SX%[#SX%_#SX~P'vOo0cOv0qO#g#WX%[#WX%_#WX~P'vOh$WO%uWO~O!f$YO!r$YO%uWO~OV$eO~P'vO!U$gO#s$hO#u$iO~O{$jO~OV$qO~P'vOS$sO%[$rO%_$rO%c$tO~OV$}Oa$}Og%POo0cOv0qO~P'vOo0cOv0qO{%SO~P'vO&Y%UO~Oa!bOh!iO!X!kO!f!mOVba_bakbalbambanbaobapbasbazba{ba!xba#gba%[ba%_ba%jba%kba%lba%mba%nba%oba%pba%qba%rba%sba%zbagba!Tba!Uba%{ba!Wba![ba!Qba#[batba!mba~On%ZO~Oo%ZO~P'vOo0cO~P'vOk0eOl0fOm0dOn0dOo0mOp0nOs0rOg%wX!T%wX!U%wX%{%wX!W%wX![%wX!Q%wX#[%wX!m%wX~P)pO%{%]Og%vXz%vX!T%vX!U%vX!W%vX{%vX~Og%_Oz%`O!T%dO!U%cO~Og%_O~Oz%gO!T%dO!U%cO!W&SX~O!W%kO~Oz%lO{%nO!T%dO!U%cO![%}X~O![%rO~O![%sO~OQ#XO%`#XO%a%uO~OV%wOo0cOv0qO!PrO~P'vOQ#^OR#[O%`#^O%a%zO~OV!qa_!qaa!qah!qak!qal!qam!qan!qao!qap!qas!qaz!qa{!qa!X!qa!f!qa!x!qa#g!qa%[!qa%_!qa%j!qa%k!qa%l!qa%m!qa%n!qa%o!qa%p!qa%q!qa%r!qa%s!qa%z!qag!qa!T!qa!U!qa%{!qa!W!qa![!qa!Q!qa#[!qat!qa!m!qa~P#yOz%|O{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~P%SOV&OOopOvqO{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~P'vOz%|O{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~OPdOVaOopOvqO!PrO!Q{O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO#g$zX%[$zX%_$zX~P'vO#g#gO%[&TO%_&TO~O!f&UOh&sX%[&sXz&sX#[&sX#g&sX%_&sX#Z&sXg&sX~Oh!iO%[&WO~Okealeameaneaoeapeaseazea{ea!xea#gea%[ea%_ea%zeagea!Tea!Uea%{ea!Wea![ea!Qea#[eatea!mea~P%SOsqazqa{qa#gqa%[qa%_qa%zqa~Ok!pOl!qOm!oOn!oOo!rOp!sO!xqa~PEcO%z&YOz%yX{%yX~O%uWOz%yX{%yX~Oz&]O{wX~O{&_O~Oz%lO#g%}X%[%}X%_%}Xg%}X{%}X![%}X!m%}X%z%}X~OV0lOo0cOv0qO!PrO~P'vO%z#|O#gUa%[Ua%_Ua~Oz&hO#g&PX%[&PX%_&PXn&PX~P%SOz&kO!Q&jO#g#Wa%[#Wa%_#Wa~Oz&lO#[&nO#g&rX%[&rX%_&rXg&rX~O!f$YO!r$YO#Z&qO%uWO~O#Z&qO~Oz&sO#g&tX%[&tX%_&tX~Oz&uO#g&pX%[&pX%_&pX{&pX~O!X&wO%z&xO~Oz&|On&wX~P%SOn'PO~OPdOVaOopOvqO!PrO!Q{O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO%['UO~P'vOt'YO#p'WO#q'XOP#naV#naf#nah#nao#nas#nav#na!P#na!Q#na!T#na!U#na!X#na!]#na!h#na!r#na!s#na!t#na!{#na!}#na#P#na#R#na#T#na#X#na#Z#na#^#na#_#na#a#na#c#na#l#na#o#na#s#na#u#na#z#na#}#na$P#na%X#na%o#na%p#na%t#na%u#na&Z#na&[#na&]#na&^#na&_#na&`#na&a#na&b#na&c#na&d#na&e#na&f#na&g#na&h#na&i#na&j#na%Z#na%_#na~Oz'ZO#[']O{&xX~Oh'_O!X&wO~Oh!iO{$jO!X&wO~O{'eO~P%SO%['hO%_'hO~OS'iO%['hO%_'hO~OV!aO_!aOa!bOh!iO!X!kO!f!mO%l!^O%m!_O%n!_O%o!`O%p!`O%q!aO%r!aO%s!aOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~O%k!]O~P!#uO%kWi~P!#uOV!aO_!aOa!bOh!iO!X!kO!f!mO%o!`O%p!`O%q!aO%r!aO%s!aOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%kWi%lWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~O%m!_O%n!_O~P!&pO%mWi%nWi~P!&pOa!bOh!iO!X!kO!f!mOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%kWi%lWi%mWi%nWi%oWi%pWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~OV!aO_!aO%q!aO%r!aO%s!aO~P!)nOVWi_Wi%qWi%rWi%sWi~P!)nO!T%dO!U%cOg&VXz&VX~O%z'kO%{'kO~P,eOz'mOg&UX~Og'oO~Oz'pO{'rO!W&XX~Oo0cOv0qOz'pO{'sO!W&XX~P'vO!W'uO~Om!oOn!oOo!rOp!sOkjisjizji{ji!xji#gji%[ji%_ji%zji~Ol!qO~P!.aOlji~P!.aOk0eOl0fOm0dOn0dOo0mOp0nO~Ot'wO~P!/jOV'|Og'}Oo0cOv0qO~P'vOg'}Oz(OO~Og(QO~O!U(SO~Og(TOz(OO!T%dO!U%cO~P%SOk0eOl0fOm0dOn0dOo0mOp0nOgqa!Tqa!Uqa%{qa!Wqa![qa!Qqa#[qatqa!mqa~PEcOV'|Oo0cOv0qO!W&Sa~P'vOz(WO!W&Sa~O!W(XO~Oz(WO!T%dO!U%cO!W&Sa~P%SOV(]Oo0cOv0qO![%}a#g%}a%[%}a%_%}ag%}a{%}a!m%}a%z%}a~P'vOz(^O![%}a#g%}a%[%}a%_%}ag%}a{%}a!m%}a%z%}a~O![(aO~Oz(^O!T%dO!U%cO![%}a~P%SOz(dO!T%dO!U%cO![&Ta~P%SOz(gO{&lX![&lX!m&lX%z&lX~O{(kO![(mO!m(nO%z(jO~OV&OOopOvqO{%hi!x%hi#g%hi%[%hi%_%hi%z%hi~P'vOz(pO{%hi!x%hi#g%hi%[%hi%_%hi%z%hi~O!f&UOh&sa%[&saz&sa#[&sa#g&sa%_&sa#Z&sag&sa~O%[(uO~OV#sOa#tO%uWO~Oz&]O{wa~OopOvqO~P'vOz(^O#g%}a%[%}a%_%}ag%}a{%}a![%}a!m%}a%z%}a~P%SOz(zO#g%hX%[%hX%_%hX%z%hX~O%z#|O#gUi%[Ui%_Ui~O#g&Pa%[&Pa%_&Pan&Pa~P'vOz(}O#g&Pa%[&Pa%_&Pan&Pa~O%uWO#g&ra%[&ra%_&rag&ra~Oz)SO#g&ra%[&ra%_&rag&ra~Og)VO~OV)WOh$WO%uWO~O#Z)XO~O%uWO#g&ta%[&ta%_&ta~Oz)ZO#g&ta%[&ta%_&ta~Oo0cOv0qO#g&pa%[&pa%_&pa{&pa~P'vOz)^O#g&pa%[&pa%_&pa{&pa~OV)`Oa)`O%uWO~O%z)eO~Ot)hO#j)gOP#hiV#hif#hih#hio#his#hiv#hi!P#hi!Q#hi!T#hi!U#hi!X#hi!]#hi!h#hi!r#hi!s#hi!t#hi!{#hi!}#hi#P#hi#R#hi#T#hi#X#hi#Z#hi#^#hi#_#hi#a#hi#c#hi#l#hi#o#hi#s#hi#u#hi#z#hi#}#hi$P#hi%X#hi%o#hi%p#hi%t#hi%u#hi&Z#hi&[#hi&]#hi&^#hi&_#hi&`#hi&a#hi&b#hi&c#hi&d#hi&e#hi&f#hi&g#hi&h#hi&i#hi&j#hi%Z#hi%_#hi~Ot)iOP#kiV#kif#kih#kio#kis#kiv#ki!P#ki!Q#ki!T#ki!U#ki!X#ki!]#ki!h#ki!r#ki!s#ki!t#ki!{#ki!}#ki#P#ki#R#ki#T#ki#X#ki#Z#ki#^#ki#_#ki#a#ki#c#ki#l#ki#o#ki#s#ki#u#ki#z#ki#}#ki$P#ki%X#ki%o#ki%p#ki%t#ki%u#ki&Z#ki&[#ki&]#ki&^#ki&_#ki&`#ki&a#ki&b#ki&c#ki&d#ki&e#ki&f#ki&g#ki&h#ki&i#ki&j#ki%Z#ki%_#ki~OV)kOn&wa~P'vOz)lOn&wa~Oz)lOn&wa~P%SOn)pO~O%Y)tO~Ot)wO#p'WO#q)vOP#niV#nif#nih#nio#nis#niv#ni!P#ni!Q#ni!T#ni!U#ni!X#ni!]#ni!h#ni!r#ni!s#ni!t#ni!{#ni!}#ni#P#ni#R#ni#T#ni#X#ni#Z#ni#^#ni#_#ni#a#ni#c#ni#l#ni#o#ni#s#ni#u#ni#z#ni#}#ni$P#ni%X#ni%o#ni%p#ni%t#ni%u#ni&Z#ni&[#ni&]#ni&^#ni&_#ni&`#ni&a#ni&b#ni&c#ni&d#ni&e#ni&f#ni&g#ni&h#ni&i#ni&j#ni%Z#ni%_#ni~OV)zOo0cOv0qO{$jO~P'vOo0cOv0qO{&xa~P'vOz*OO{&xa~OV*SOa*TOg*WO%q*UO%uWO~O{$jO&{*YO~Oh'_O~Oh!iO{$jO~O%[*_O~O%[*aO%_*aO~OV$}Oa$}Oo0cOv0qOg&Ua~P'vOz*dOg&Ua~Oo0cOv0qO{*gO!W&Xa~P'vOz*hO!W&Xa~Oo0cOv0qOz*hO{*kO!W&Xa~P'vOo0cOv0qOz*hO!W&Xa~P'vOz*hO{*kO!W&Xa~Om0dOn0dOo0mOp0nOgjikjisjizji!Tji!Uji%{ji!Wji{ji![ji#gji%[ji%_ji!Qji#[jitji!mji%zji~Ol0fO~P!NkOlji~P!NkOV'|Og*pOo0cOv0qO~P'vOn*rO~Og*pOz*tO~Og*uO~OV'|Oo0cOv0qO!W&Si~P'vOz*vO!W&Si~O!W*wO~OV(]Oo0cOv0qO![%}i#g%}i%[%}i%_%}ig%}i{%}i!m%}i%z%}i~P'vOz*zO!T%dO!U%cO![&Ti~Oz*}O![%}i#g%}i%[%}i%_%}ig%}i{%}i!m%}i%z%}i~O![+OO~Oa+QOo0cOv0qO![&Ti~P'vOz*zO![&Ti~O![+SO~OV+UOo0cOv0qO{&la![&la!m&la%z&la~P'vOz+VO{&la![&la!m&la%z&la~O!]+YO&n+[O![!nX~O![+^O~O{(kO![+_O~O{(kO![+_O!m+`O~OV&OOopOvqO{%hq!x%hq#g%hq%[%hq%_%hq%z%hq~P'vOz$ri{$ri!x$ri#g$ri%[$ri%_$ri%z$ri~P%SOV&OOopOvqO~P'vOV&OOo0cOv0qO#g%ha%[%ha%_%ha%z%ha~P'vOz+aO#g%ha%[%ha%_%ha%z%ha~Oz$ia#g$ia%[$ia%_$ian$ia~P%SO#g&Pi%[&Pi%_&Pin&Pi~P'vOz+dO#g#Wq%[#Wq%_#Wq~O#[+eOz$va#g$va%[$va%_$vag$va~O%uWO#g&ri%[&ri%_&rig&ri~Oz+gO#g&ri%[&ri%_&rig&ri~OV+iOh$WO%uWO~O%uWO#g&ti%[&ti%_&ti~Oo0cOv0qO#g&pi%[&pi%_&pi{&pi~P'vO{#{Oz#eX!W#eX~Oz+mO!W&uX~O!W+oO~Ot+rO#j)gOP#hqV#hqf#hqh#hqo#hqs#hqv#hq!P#hq!Q#hq!T#hq!U#hq!X#hq!]#hq!h#hq!r#hq!s#hq!t#hq!{#hq!}#hq#P#hq#R#hq#T#hq#X#hq#Z#hq#^#hq#_#hq#a#hq#c#hq#l#hq#o#hq#s#hq#u#hq#z#hq#}#hq$P#hq%X#hq%o#hq%p#hq%t#hq%u#hq&Z#hq&[#hq&]#hq&^#hq&_#hq&`#hq&a#hq&b#hq&c#hq&d#hq&e#hq&f#hq&g#hq&h#hq&i#hq&j#hq%Z#hq%_#hq~On$|az$|a~P%SOV)kOn&wi~P'vOz+yOn&wi~Oz,TO{$jO#[,TO~O#q,VOP#nqV#nqf#nqh#nqo#nqs#nqv#nq!P#nq!Q#nq!T#nq!U#nq!X#nq!]#nq!h#nq!r#nq!s#nq!t#nq!{#nq!}#nq#P#nq#R#nq#T#nq#X#nq#Z#nq#^#nq#_#nq#a#nq#c#nq#l#nq#o#nq#s#nq#u#nq#z#nq#}#nq$P#nq%X#nq%o#nq%p#nq%t#nq%u#nq&Z#nq&[#nq&]#nq&^#nq&_#nq&`#nq&a#nq&b#nq&c#nq&d#nq&e#nq&f#nq&g#nq&h#nq&i#nq&j#nq%Z#nq%_#nq~O#[,WOz%Oa{%Oa~Oo0cOv0qO{&xi~P'vOz,YO{&xi~O{#{O%z,[Og&zXz&zX~O%uWOg&zXz&zX~Oz,`Og&yX~Og,bO~O%Y,eO~O!T%dO!U%cOg&Viz&Vi~OV$}Oa$}Oo0cOv0qOg&Ui~P'vO{,hOz$la!W$la~Oo0cOv0qO{,iOz$la!W$la~P'vOo0cOv0qO{*gO!W&Xi~P'vOz,lO!W&Xi~Oo0cOv0qOz,lO!W&Xi~P'vOz,lO{,oO!W&Xi~Og$hiz$hi!W$hi~P%SOV'|Oo0cOv0qO~P'vOn,qO~OV'|Og,rOo0cOv0qO~P'vOV'|Oo0cOv0qO!W&Sq~P'vOz$gi![$gi#g$gi%[$gi%_$gig$gi{$gi!m$gi%z$gi~P%SOV(]Oo0cOv0qO~P'vOa+QOo0cOv0qO![&Tq~P'vOz,sO![&Tq~O![,tO~OV(]Oo0cOv0qO![%}q#g%}q%[%}q%_%}qg%}q{%}q!m%}q%z%}q~P'vO{,uO~OV+UOo0cOv0qO{&li![&li!m&li%z&li~P'vOz,zO{&li![&li!m&li%z&li~O!]+YO&n+[O![!na~O{(kO![,}O~OV&OOo0cOv0qO#g%hi%[%hi%_%hi%z%hi~P'vOz-OO#g%hi%[%hi%_%hi%z%hi~O%uWO#g&rq%[&rq%_&rqg&rq~Oz-RO#g&rq%[&rq%_&rqg&rq~OV)`Oa)`O%uWO!W&ua~Oz-TO!W&ua~On$|iz$|i~P%SOV)kO~P'vOV)kOn&wq~P'vOt-XOP#myV#myf#myh#myo#mys#myv#my!P#my!Q#my!T#my!U#my!X#my!]#my!h#my!r#my!s#my!t#my!{#my!}#my#P#my#R#my#T#my#X#my#Z#my#^#my#_#my#a#my#c#my#l#my#o#my#s#my#u#my#z#my#}#my$P#my%X#my%o#my%p#my%t#my%u#my&Z#my&[#my&]#my&^#my&_#my&`#my&a#my&b#my&c#my&d#my&e#my&f#my&g#my&h#my&i#my&j#my%Z#my%_#my~O%Z-]O%_-]O~P`O#q-^OP#nyV#nyf#nyh#nyo#nys#nyv#ny!P#ny!Q#ny!T#ny!U#ny!X#ny!]#ny!h#ny!r#ny!s#ny!t#ny!{#ny!}#ny#P#ny#R#ny#T#ny#X#ny#Z#ny#^#ny#_#ny#a#ny#c#ny#l#ny#o#ny#s#ny#u#ny#z#ny#}#ny$P#ny%X#ny%o#ny%p#ny%t#ny%u#ny&Z#ny&[#ny&]#ny&^#ny&_#ny&`#ny&a#ny&b#ny&c#ny&d#ny&e#ny&f#ny&g#ny&h#ny&i#ny&j#ny%Z#ny%_#ny~Oz-aO{$jO#[-aO~Oo0cOv0qO{&xq~P'vOz-dO{&xq~O%z,[Og&zaz&za~O{#{Og&zaz&za~OV*SOa*TO%q*UO%uWOg&ya~Oz-hOg&ya~O$S-lO~OV$}Oa$}Oo0cOv0qO~P'vOo0cOv0qO{-mOz$li!W$li~P'vOo0cOv0qOz$li!W$li~P'vO{-mOz$li!W$li~Oo0cOv0qO{*gO~P'vOo0cOv0qO{*gO!W&Xq~P'vOz-pO!W&Xq~Oo0cOv0qOz-pO!W&Xq~P'vOs-sO!T%dO!U%cOg&Oq!W&Oq![&Oqz&Oq~P!/jOa+QOo0cOv0qO![&Ty~P'vOz$ji![$ji~P%SOa+QOo0cOv0qO~P'vOV+UOo0cOv0qO~P'vOV+UOo0cOv0qO{&lq![&lq!m&lq%z&lq~P'vO{(kO![-xO!m-yO%z-wO~OV&OOo0cOv0qO#g%hq%[%hq%_%hq%z%hq~P'vO%uWO#g&ry%[&ry%_&ryg&ry~OV)`Oa)`O%uWO!W&ui~Ot-}OP#m!RV#m!Rf#m!Rh#m!Ro#m!Rs#m!Rv#m!R!P#m!R!Q#m!R!T#m!R!U#m!R!X#m!R!]#m!R!h#m!R!r#m!R!s#m!R!t#m!R!{#m!R!}#m!R#P#m!R#R#m!R#T#m!R#X#m!R#Z#m!R#^#m!R#_#m!R#a#m!R#c#m!R#l#m!R#o#m!R#s#m!R#u#m!R#z#m!R#}#m!R$P#m!R%X#m!R%o#m!R%p#m!R%t#m!R%u#m!R&Z#m!R&[#m!R&]#m!R&^#m!R&_#m!R&`#m!R&a#m!R&b#m!R&c#m!R&d#m!R&e#m!R&f#m!R&g#m!R&h#m!R&i#m!R&j#m!R%Z#m!R%_#m!R~Oo0cOv0qO{&xy~P'vOV*SOa*TO%q*UO%uWOg&yi~O$S-lO%Z.VO%_.VO~OV.aOh._O!X.^O!].`O!h.YO!s.[O!t.[O%p.XO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O~Oo0cOv0qOz$lq!W$lq~P'vO{.fOz$lq!W$lq~Oo0cOv0qO{*gO!W&Xy~P'vOz.gO!W&Xy~Oo0cOv.kO~P'vOs-sO!T%dO!U%cOg&Oy!W&Oy![&Oyz&Oy~P!/jO{(kO![.nO~O{(kO![.nO!m.oO~OV*SOa*TO%q*UO%uWO~Oh.tO!f.rOz$TX#[$TX%j$TXg$TX~Os$TX{$TX!W$TX![$TX~P$-bO%o.vO%p.vOs$UXz$UX{$UX#[$UX%j$UX!W$UXg$UX![$UX~O!h.xO~Oz.|O#[/OO%j.yOs&|X{&|X!W&|Xg&|X~Oa/RO~P$)zOh.tOs&}Xz&}X{&}X#[&}X%j&}X!W&}Xg&}X![&}X~Os/VO{$jO~Oo0cOv0qOz$ly!W$ly~P'vOo0cOv0qO{*gO!W&X!R~P'vOz/ZO!W&X!R~Og&RXs&RX!T&RX!U&RX!W&RX![&RXz&RX~P!/jOs-sO!T%dO!U%cOg&Qa!W&Qa![&Qaz&Qa~O{(kO![/^O~O!f.rOh$[as$[az$[a{$[a#[$[a%j$[a!W$[ag$[a![$[a~O!h/eO~O%o.vO%p.vOs$Uaz$Ua{$Ua#[$Ua%j$Ua!W$Uag$Ua![$Ua~O%j.yOs$Yaz$Ya{$Ya#[$Ya!W$Yag$Ya![$Ya~Os&|a{&|a!W&|ag&|a~P$)nOz/jOs&|a{&|a!W&|ag&|a~O!W/mO~Og/mO~O{/oO~O![/pO~Oo0cOv0qO{*gO!W&X!Z~P'vO{/sO~O%z/tO~P$-bOz/uO#[/OO%j.yOg'PX~Oz/uOg'PX~Og/wO~O!h/xO~O#[/OOs%Saz%Sa{%Sa%j%Sa!W%Sag%Sa![%Sa~O#[/OO%j.yOs%Waz%Wa{%Wa!W%Wag%Wa~Os&|i{&|i!W&|ig&|i~P$)nOz/zO#[/OO%j.yO!['Oa~O{$da~P%SOg'Pa~P$)nOz0SOg'Pa~Oa0UO!['Oi~P$)zOz0WO!['Oi~Oz0WO#[/OO%j.yO!['Oi~O#[/OO%j.yOg$biz$bi~O%z0ZO~P$-bO#[/OO%j.yOg%Vaz%Va~Og'Pi~P$)nO{0^O~Oa0UO!['Oq~P$)zOz0`O!['Oq~O#[/OO%j.yOz%Ui![%Ui~Oa0UO~P$)zOa0UO!['Oy~P$)zO#[/OO%j.yOg$ciz$ci~O#[/OO%j.yOz%Uq![%Uq~Oz+aO#g%ha%[%ha%_%ha%z%ha~P%SOV&OOo0cOv0qO~P'vOn0hO~Oo0hO~P'vO{0iO~Ot0jO~P!/jO&]&Z&j&h&i&g&f&d&e&c&b&`&a&_&^&[%u~",goto:"!=o'QPPPPPP'RP'Z*s+]+v,b,}-kP.YP'Z.y.y'ZPPP'Z2cPPPPPP2c5VPP5VP7g7p=xPP={>m>pPP'Z'ZPP?PPP'Z'ZPP'Z'Z'Z'Z'Z?T?}'ZP@QP@WD_G{HPPHSH^Hb'ZPPPHeHq'RP'R'RP'RP'RP'RP'RP'R'R'RP'RPP'RPP'RP'RPHwITI]PIdIjPIdPIdIdPPPIdPKxPLRL]LcKxPIdLlPIdPLsLyPL}McNQNkL}L}Nq! OL}L}L}L}! d! j! m! r! u!!P!!V!!c!!u!!{!#V!#]!#y!$P!$V!$a!$g!$m!%P!%Z!%a!%g!%q!%w!%}!&T!&Z!&a!&k!&q!&{!'R!'[!'b!'q!'y!(T!([PPPPPPPPPPP!(b!(e!(k!(t!)O!)ZPPPPPPPPPPPP!-}!/c!3c!6sPP!6{!7[!7e!8^!8T!8g!8m!8p!8s!8v!9O!9oPPPPPPPPPPPPPPPPP!9r!9v!9|P!:b!:f!:r!:{!;X!;o!;r!;u!;{!<R!<X!<[P!<d!<m!=i!=l]eOn#g$j)t,P'}`OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0r}!cQ#c#p$R$d$p%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0g!P!dQ#c#p$R$d$p$u%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0g!R!eQ#c#p$R$d$p$u$v%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0g!T!fQ#c#p$R$d$p$u$v$w%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0g!V!gQ#c#p$R$d$p$u$v$w$x%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0g!X!hQ#c#p$R$d$p$u$v$w$x$y%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0g!]!hQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0g'}TOTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0r&cVOYZ[dnprxy}!P!Q!U!i!k!o!p!q!s!t#[#d#g#y#{#}$Q$h$j$}%S%Z%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/Z/s0c0d0e0f0h0i0j0k0n0r%mXOYZ[dnrxy}!P!Q!U!i!k#[#d#g#y#{#}$Q$h$j$}%S%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,s,u,w,y,z-O-d-f-m-p.f.g/Z0i0j0kQ#vqQ/[.kR0o0q't`OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rh#jhz{$W$Z&l&q)S)X+f+g-RW#rq&].k0qQ$]|Q$a!OQ$n!VQ$o!WW$|!i'm*d,gS&[#s#tQ'S$iQ(s&UQ)U&nU)Y&s)Z+jW)a&w+m-T-{Q*Q']W*R'_,`-h.TQ+l)`S,_*S*TQ-Q+eQ-_,TQ-c,WQ.R-al.W-l.^._.a.z.|/R/j/o/t/y0U0Z0^Q/S.`Q/a.tQ/l/OU0P/u0S0[X0V/z0W0_0`R&Z#r!_!wYZ!P!Q!k%S%`%g'p'r's(O(W)g*g*h*k*q*t*v,h,i,k,l,o-m-p.f.g/ZR%^!vQ!{YQ%x#[Q&d#}Q&g$QR,{+YT.j-s/s![!jQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0gQ&X#kQ'c$oR*^'dR'l$|Q%V!mR/_.r'|_OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rS#a_#b!P.[-l.^._.`.a.t.z.|/R/j/o/t/u/y/z0S0U0W0Z0[0^0_0`'|_OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rT#a_#bT#^^#_R(o%xa(l%x(n(o+`,{-y-z.oT+[(k+]R-z,{Q$PsQ+l)aQ,^*RR-e,_X#}s$O$P&fQ&y$aQ'a$nQ'd$oR)s'SQ)b&wV-S+m-T-{ZgOn$j)t,PXkOn)t,PQ$k!TQ&z$bQ&{$cQ'^$mQ'b$oQ)q'RQ)x'WQ){'XQ)|'YQ*Z'`S*]'c'dQ+s)gQ+u)hQ+v)iQ+z)oS+|)r*[Q,Q)vQ,R)wS,S)y)zQ,d*^Q-V+rQ-W+tQ-Y+{S-Z+},OQ-`,UQ-b,VQ-|-XQ.O-[Q.P-^Q.Q-_Q.p-}Q.q.RQ/W.dR/r/XWkOn)t,PR#mjQ'`$nS)r'S'aR,O)sQ,]*RR-f,^Q*['`Q+})rR-[,OZiOjn)t,PQ'f$pR*`'gT-j,e-ku.c-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^t.c-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^Q/S.`X0V/z0W0_0`!P.Z-l.^._.`.a.t.z.|/R/j/o/t/u/y/z0S0U0W0Z0[0^0_0`Q.w.YR/f.xg.z.].{/b/i/n/|0O0Q0]0a0bu.b-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^X.u.W.b/a0PR/c.tV0R/u0S0[R/X.dQnOS#on,PR,P)tQ&^#uR(x&^S%m#R#wS(_%m(bT(b%p&`Q%a!yQ%h!}W(P%a%h(U(YQ(U%eR(Y%jQ&i$RR)O&iQ(e%qQ*{(`T+R(e*{Q'n%OR*e'nS'q%R%SY*i'q*j,m-q.hU*j'r's'tU,m*k*l*mS-q,n,oR.h-rQ#Y]R%t#YQ#_^R%y#_Q(h%vS+W(h+XR+X(iQ+](kR,|+]Q#b_R%{#bQ#ebQ%}#cW&Q#e%}({+bQ({&cR+b0gQ$OsS&e$O&fR&f$PQ&v$_R)_&vQ&V#jR(t&VQ&m$VS)T&m+hR+h)UQ$Z{R&p$ZQ&t$]R)[&tQ+n)bR-U+nQ#hfR&S#hQ)f&zR+q)fQ&}$dS)m&})nR)n'OQ'V$kR)u'VQ'[$lS*P'[,ZR,Z*QQ,a*VR-i,aWjOn)t,PR#ljQ-k,eR.U-kd.{.]/b/i/n/|0O0Q0]0a0bR/h.{U.s.W/a0PR/`.sQ/{/nS0X/{0YR0Y/|S/v/b/cR0T/vQ.}.]R/k.}R!ZPXmOn)t,PWlOn)t,PR'T$jYfOn$j)t,PR&R#g[sOn#g$j)t,PR&d#}&bQOYZ[dnprxy}!P!Q!U!i!k!o!p!q!s!t#[#d#g#y#{#}$Q$h$j$}%S%Z%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/Z/s0c0d0e0f0h0i0j0k0n0rQ!nTQ#caQ#poU$Rt%c(SS$d!R$gQ$p!XQ$u!cQ$v!dQ$w!eQ$x!fQ$y!gQ$z!hQ%e!zQ%j#OQ%p#SQ%q#TQ&`#xQ'O$eQ'g$qQ(q&OU(|&h(}+cW)j&|)l+x+yQ*o'|Q*x(]Q+w)kQ,v+QQ/q/VR0g0lQ!yYQ!}ZQ$b!PQ$c!QQ%R!kQ't%S^'{%`%g(O(W*q*t*v^*f'p*h,k,l-p.g/ZQ*l'rQ*m'sQ+t)gQ,j*gQ,n*kQ-n,hQ-o,iQ-r,oQ.e-mR/Y.f[bOn#g$j)t,P!^!vYZ!P!Q!k%S%`%g'p'r's(O(W)g*g*h*k*q*t*v,h,i,k,l,o-m-p.f.g/ZQ#R[Q#fdS#wrxQ$UyW$_}$Q'P)pS$l!U$hW${!i'm*d,gS%v#[+Y`&P#d%|(p(r(z+a-O0kQ&a#yQ&b#{Q&c#}Q'j$}Q'z%^W([%l(^*y*}Q(`%nQ(i%wQ(v&ZS(y&_0iQ)P&jQ)Q&kU)]&u)^+kQ)d&xQ)y'WY)}'Z*O,X,Y-dQ*b'lS*n'w0jW+P(d*z,s,wW+T(g+V,y,zQ+p)eQ,U)zQ,c*YQ,x+UQ-P+dQ-e,]Q-v,uR.S-fhUOn#d#g$j%|&_'w(p(r)t,P%S!uYZ[drxy}!P!Q!U!i!k#[#y#{#}$Q$h$}%S%^%`%g%l%n%w&Z&j&k&u&x'P'W'Z'l'm'p'r's(O(W(^(d(g(z)^)e)g)p)z*O*Y*d*g*h*k*q*t*v*y*z*}+U+V+Y+a+d+k,X,Y,],g,h,i,k,l,o,s,u,w,y,z-O-d-f-m-p.f.g/Z0i0j0kQ#qpW%W!o!s0d0nQ%X!pQ%Y!qQ%[!tQ%f0cS'v%Z0hQ'x0eQ'y0fQ,p*rQ-u,qS.i-s/sR0p0rU#uq.k0qR(w&][cOn#g$j)t,PZ!xY#[#}$Q+YQ#W[Q#zrR$TxQ%b!yQ%i!}Q%o#RQ'j${Q(V%eQ(Z%jQ(c%pQ(f%qQ*|(`Q,f*bQ-t,pQ.m-uR/].lQ$StQ(R%cR*s(SQ.l-sR/}/sR#QZR#V[R%Q!iQ%O!iV*c'm*d,g!]!lQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v/q0gR%T!kT#]^#_Q%x#[R,{+YQ(m%xS+_(n(oQ,}+`Q-x,{S.n-y-zR/^.oT+Z(k+]Q$`}Q&g$QQ)o'PR+{)pQ$XzQ)W&qR+i)XQ$XzQ&o$WQ)W&qR+i)XQ#khW$Vz$W&q)XQ$[{Q&r$ZZ)R&l)S+f+g-RR$^|R)c&wXlOn)t,PQ$f!RR'Q$gQ$m!UR'R$hR*X'_Q*V'_V-g,`-h.TQ.d-lQ/P.^R/Q._U.]-l.^._Q/U.aQ/b.tQ/g.zU/i.|/j/yQ/n/RQ/|/oQ0O/tU0Q/u0S0[Q0]0UQ0a0ZR0b0^R/T.`R/d.t",nodeNames:" print Escape { Comment Script AssignStatement * BinaryExpression BitOp BitOp BitOp BitOp ArithOp ArithOp @ ArithOp ** UnaryExpression ArithOp BitOp AwaitExpression await ) ( ParenthesizedExpression BinaryExpression or and CompareOp in not is UnaryExpression ConditionalExpression if else LambdaExpression lambda ParamList VariableName AssignOp , : NamedExpression AssignOp YieldExpression yield from TupleExpression ComprehensionExpression async for LambdaExpression ] [ ArrayExpression ArrayComprehensionExpression } { DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression CallExpression ArgList AssignOp MemberExpression . PropertyName Number String FormatString FormatReplacement FormatSelfDoc FormatConversion FormatSpec FormatReplacement FormatSelfDoc ContinuedString Ellipsis None Boolean TypeDef AssignOp UpdateStatement UpdateOp ExpressionStatement DeleteStatement del PassStatement pass BreakStatement break ContinueStatement continue ReturnStatement return YieldStatement PrintStatement RaiseStatement raise ImportStatement import as ScopeStatement global nonlocal AssertStatement assert TypeDefinition type TypeParamList TypeParam StatementGroup ; IfStatement Body elif WhileStatement while ForStatement TryStatement try except finally WithStatement with FunctionDefinition def ParamList AssignOp TypeDef ClassDefinition class DecoratedStatement Decorator At MatchStatement match MatchBody MatchClause case CapturePattern LiteralPattern ArithOp ArithOp AsPattern OrPattern LogicOp AttributePattern SequencePattern MappingPattern StarPattern ClassPattern PatternArgList KeywordPattern KeywordPattern Guard",maxTerm:277,context:nxe,nodeProps:[["isolate",-5,4,71,72,73,77,""],["group",-15,6,85,87,88,90,92,94,96,98,99,100,102,105,108,110,"Statement Statement",-22,8,18,21,25,40,49,50,56,57,60,61,62,63,64,67,70,71,72,79,80,81,82,"Expression",-10,114,116,119,121,122,126,128,133,135,138,"Statement",-9,143,144,147,148,150,151,152,153,154,"Pattern"],["openedBy",23,"(",54,"[",58,"{"],["closedBy",24,")",55,"]",59,"}"]],propSources:[oxe],skippedNodes:[0,4],repeatNodeCount:34,tokenData:"!2|~R!`OX%TXY%oY[%T[]%o]p%Tpq%oqr'ars)Yst*xtu%Tuv,dvw-hwx.Uxy/tyz0[z{0r{|2S|}2p}!O3W!O!P4_!P!Q:Z!Q!R;k!R![>_![!]Do!]!^Es!^!_FZ!_!`Gk!`!aHX!a!b%T!b!cIf!c!dJU!d!eK^!e!hJU!h!i!#f!i!tJU!t!u!,|!u!wJU!w!x!.t!x!}JU!}#O!0S#O#P&o#P#Q!0j#Q#R!1Q#R#SJU#S#T%T#T#UJU#U#VK^#V#YJU#Y#Z!#f#Z#fJU#f#g!,|#g#iJU#i#j!.t#j#oJU#o#p!1n#p#q!1s#q#r!2a#r#s!2f#s$g%T$g;'SJU;'S;=`KW<%lOJU`%YT&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T`%lP;=`<%l%To%v]&n`%c_OX%TXY%oY[%T[]%o]p%Tpq%oq#O%T#O#P&o#P#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To&tX&n`OY%TYZ%oZ]%T]^%o^#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc'f[&n`O!_%T!_!`([!`#T%T#T#U(r#U#f%T#f#g(r#g#h(r#h#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc(cTmR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc(yT!mR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk)aV&n`&[ZOr%Trs)vs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk){V&n`Or%Trs*bs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk*iT&n`&^ZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To+PZS_&n`OY*xYZ%TZ]*x]^%T^#o*x#o#p+r#p#q*x#q#r+r#r;'S*x;'S;=`,^<%lO*x_+wTS_OY+rZ]+r^;'S+r;'S;=`,W<%lO+r_,ZP;=`<%l+ro,aP;=`<%l*xj,kV%rQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj-XT!xY&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj-oV%lQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk.]V&n`&ZZOw%Twx.rx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk.wV&n`Ow%Twx/^x#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk/eT&n`&]ZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk/{ThZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc0cTgR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk0yXVZ&n`Oz%Tz{1f{!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk1mVaR&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk2ZV%oZ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc2wTzR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To3_W%pZ&n`O!_%T!_!`-Q!`!a3w!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Td4OT&{S&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk4fX!fQ&n`O!O%T!O!P5R!P!Q%T!Q![6T![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk5WV&n`O!O%T!O!P5m!P#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk5tT!rZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti6[a!hX&n`O!Q%T!Q![6T![!g%T!g!h7a!h!l%T!l!m9s!m#R%T#R#S6T#S#X%T#X#Y7a#Y#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti7fZ&n`O{%T{|8X|}%T}!O8X!O!Q%T!Q![8s![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti8^V&n`O!Q%T!Q![8s![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti8z]!hX&n`O!Q%T!Q![8s![!l%T!l!m9s!m#R%T#R#S8s#S#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti9zT!hX&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk:bX%qR&n`O!P%T!P!Q:}!Q!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj;UV%sQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti;ro!hX&n`O!O%T!O!P=s!P!Q%T!Q![>_![!d%T!d!e?q!e!g%T!g!h7a!h!l%T!l!m9s!m!q%T!q!rA]!r!z%T!z!{Bq!{#R%T#R#S>_#S#U%T#U#V?q#V#X%T#X#Y7a#Y#^%T#^#_9s#_#c%T#c#dA]#d#l%T#l#mBq#m#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti=xV&n`O!Q%T!Q![6T![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti>fc!hX&n`O!O%T!O!P=s!P!Q%T!Q![>_![!g%T!g!h7a!h!l%T!l!m9s!m#R%T#R#S>_#S#X%T#X#Y7a#Y#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti?vY&n`O!Q%T!Q!R@f!R!S@f!S#R%T#R#S@f#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti@mY!hX&n`O!Q%T!Q!R@f!R!S@f!S#R%T#R#S@f#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiAbX&n`O!Q%T!Q!YA}!Y#R%T#R#SA}#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiBUX!hX&n`O!Q%T!Q!YA}!Y#R%T#R#SA}#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiBv]&n`O!Q%T!Q![Co![!c%T!c!iCo!i#R%T#R#SCo#S#T%T#T#ZCo#Z#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiCv]!hX&n`O!Q%T!Q![Co![!c%T!c!iCo!i#R%T#R#SCo#S#T%T#T#ZCo#Z#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%ToDvV{_&n`O!_%T!_!`E]!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TcEdT%{R&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkEzT#gZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkFbXmR&n`O!^%T!^!_F}!_!`([!`!a([!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TjGUV%mQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkGrV%zZ&n`O!_%T!_!`([!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkH`WmR&n`O!_%T!_!`([!`!aHx!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TjIPV%nQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkIoV_Q#}P&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%ToJ_]&n`&YS%uZO!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUoKZP;=`<%lJUoKge&n`&YS%uZOr%Trs)Ysw%Twx.Ux!Q%T!Q![JU![!c%T!c!tJU!t!uLx!u!}JU!}#R%T#R#SJU#S#T%T#T#fJU#f#gLx#g#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUoMRa&n`&YS%uZOr%TrsNWsw%Twx! vx!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUkN_V&n`&`ZOr%TrsNts#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkNyV&n`Or%Trs! `s#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk! gT&n`&bZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk! }V&n`&_ZOw%Twx!!dx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!!iV&n`Ow%Twx!#Ox#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!#VT&n`&aZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!#oe&n`&YS%uZOr%Trs!%Qsw%Twx!&px!Q%T!Q![JU![!c%T!c!tJU!t!u!(`!u!}JU!}#R%T#R#SJU#S#T%T#T#fJU#f#g!(`#g#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!%XV&n`&dZOr%Trs!%ns#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!%sV&n`Or%Trs!&Ys#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!&aT&n`&fZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!&wV&n`&cZOw%Twx!'^x#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!'cV&n`Ow%Twx!'xx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!(PT&n`&eZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!(ia&n`&YS%uZOr%Trs!)nsw%Twx!+^x!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!)uV&n`&hZOr%Trs!*[s#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!*aV&n`Or%Trs!*vs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!*}T&n`&jZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!+eV&n`&gZOw%Twx!+zx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!,PV&n`Ow%Twx!,fx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!,mT&n`&iZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!-Vi&n`&YS%uZOr%TrsNWsw%Twx! vx!Q%T!Q![JU![!c%T!c!dJU!d!eLx!e!hJU!h!i!(`!i!}JU!}#R%T#R#SJU#S#T%T#T#UJU#U#VLx#V#YJU#Y#Z!(`#Z#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUo!.}a&n`&YS%uZOr%Trs)Ysw%Twx.Ux!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!0ZT!XZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc!0qT!WR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj!1XV%kQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T~!1sO!]~k!1zV%jR&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T~!2fO![~i!2mT%tX&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T",tokenizers:[rxe,Jwe,Kwe,ixe,0,1,2,3,4],topRules:{Script:[0,5]},specialized:[{term:221,get:n=>axe[n]||-1}],tokenPrec:7675}),cxe=1024;let uxe=0,J1=class{constructor(e,t){this.from=e,this.to=t}},Ct=class{constructor(e={}){this.id=uxe++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Eo.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}};Ct.closedBy=new Ct({deserialize:n=>n.split(" ")});Ct.openedBy=new Ct({deserialize:n=>n.split(" ")});Ct.group=new Ct({deserialize:n=>n.split(" ")});Ct.isolate=new Ct({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});Ct.contextHash=new Ct({perNode:!0});Ct.lookAhead=new Ct({perNode:!0});Ct.mounted=new Ct({perNode:!0});let sx=class{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[Ct.mounted.id]}};const hxe=Object.create(null);let Eo=class a9{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):hxe,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new a9(e.name||"",t,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Ct.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(Ct.group),s=-1;s<(i?i.length:0);s++){let o=t[s<0?r.name:i[s]];if(o)return o}}}};Eo.none=new Eo("",Object.create(null),0,8);const i0=new WeakMap,VM=new WeakMap;var Ln;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(Ln||(Ln={}));let Si=class ZP{constructor(e,t,r,i,s){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=sx.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new BP(this.topNode,e)}cursorAt(e,t=0,r=0){let i=i0.get(this)||this.topNode,s=new BP(i);return s.moveTo(e,t),i0.set(this,s._tree),s}get topNode(){return new Ao(this,0,0,null)}resolve(e,t=0){let r=jg(i0.get(this)||this.topNode,e,t,!1);return i0.set(this,r),r}resolveInner(e,t=0){let r=jg(VM.get(this)||this.topNode,e,t,!0);return VM.set(this,r),r}resolveStack(e,t=0){return mxe(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:s=this.length}=e,o=e.mode||0,a=(o&Ln.IncludeAnonymous)>0;for(let l=this.cursor(o|Ln.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=i&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:uQ(Eo.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new ZP(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new ZP(Eo.none,t,r,i)))}static build(e){return gxe(e)}};Si.empty=new Si(Eo.none,[],[],0);let dxe=class l9{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new l9(this.buffer,this.index)}},Yd=class c9{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return Eo.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(u9(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,t,r){let i=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=i[a++],s[l++]=i[a++]-r;let c=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,c)}return new c9(s,o,this.set)}};function u9(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function jg(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!r&&n instanceof Ao&&n.index<0?null:n.parent;if(!o)return n;n=o}let s=r?0:Ln.IgnoreOverlays;if(r)for(let o=n,a=o.parent;a;o=a,a=o.parent)o instanceof Ao&&o.index<0&&((i=a.enter(e,t,s))===null||i===void 0?void 0:i.from)!=o.from&&(n=a);for(;;){let o=n.enter(e,t,s);if(!o)return n;n=o}}let h9=class{cursor(e=0){return new BP(this,e)}getChild(e,t=null,r=null){let i=LM(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return LM(this,e,t,r)}resolve(e,t=0){return jg(this,e,t,!1)}resolveInner(e,t=0){return jg(this,e,t,!0)}matchContext(e){return qP(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}},Ao=class lv extends h9{constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=t>0?a.length:-1;e!=c;e+=t){let u=a[e],h=l[e]+o.from;if(u9(i,r,h,h+u.length)){if(u instanceof Yd){if(s&Ln.ExcludeBuffers)continue;let d=u.findChild(0,u.buffer.length,t,r-h,i);if(d>-1)return new Dg(new fxe(o,u,e,h),null,d)}else if(s&Ln.IncludeAnonymous||!u.type.isAnonymous||cQ(u)){let d;if(!(s&Ln.IgnoreMounts)&&(d=sx.get(u))&&!d.overlay)return new lv(d.tree,h,e,o);let m=new lv(u,h,e,o);return s&Ln.IncludeAnonymous||!m.type.isAnonymous?m:m.nextChild(t<0?u.children.length-1:0,t,r,i)}}}if(s&Ln.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&Ln.IgnoreOverlays)&&(i=sx.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:o,to:a}of i.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new lv(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function LM(n,e,t,r){let i=n.cursor(),s=[];if(!i.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=i.type.is(t),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function qP(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}let fxe=class{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}},Dg=class qp extends h9{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return s<0?null:new qp(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&Ln.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new qp(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new qp(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new qp(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),t.push(0)}return new Si(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function d9(n){if(!n.length)return null;let e=0,t=n[0];for(let s=1;s<n.length;s++){let o=n[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let r=t instanceof Ao&&t.index<0?null:t.parent,i=n.slice();return r?i[e]=r:i.splice(e,1),new pxe(i,t)}let pxe=class{constructor(e,t){this.heads=e,this.node=t}get next(){return d9(this.heads)}};function mxe(n,e,t){let r=n.resolveInner(e,t),i=null;for(let s=r instanceof Ao?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[r])).push(o.resolve(e,t)),s=o}else{let o=sx.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new Ao(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(jg(a,e,t,!1))}}return i?d9(i):r}let BP=class{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Ao)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof Ao?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&Ln.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Ln.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Ln.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let s=t+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&Ln.IncludeAnonymous||a instanceof Yd||!a.type.isAnonymous||cQ(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;t=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)t=new Dg(this.buffer,t,this.stack[i]);return this.bufferNode=new Dg(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return qP(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return qP(this._tree,e,i);let o=r[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}};function cQ(n){return n.children.some(e=>e instanceof Yd||!e.type.isAnonymous||cQ(e))}function gxe(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=cxe,reused:s=[],minRepeatType:o=r.types.length}=n,a=Array.isArray(t)?new dxe(t,t.length):t,l=r.types,c=0,u=0;function h(P,Q,O,_,k,A){let{id:C,start:w,end:R,size:j}=a,V=u,M=c;for(;j<0;)if(a.next(),j==-1){let X=s[C];O.push(X),_.push(w-P);return}else if(j==-3){c=C;return}else if(j==-4){u=C;return}else throw new RangeError(`Unrecognized record size: ${j}`);let q=l[C],U,Z,ne=w-P;if(R-w<=i&&(Z=v(a.pos-Q,k))){let X=new Uint16Array(Z.size-Z.skip),F=a.pos-Z.size,G=X.length;for(;a.pos>F;)G=b(Z.start,X,G);U=new Yd(X,R-Z.start,r),ne=Z.start-P}else{let X=a.pos-j;a.next();let F=[],G=[],J=C>=o?C:-1,oe=0,Se=R;for(;a.pos>X;)J>=0&&a.id==J&&a.size>=0?(a.end<=Se-i&&(g(F,G,w,oe,a.end,Se,J,V,M),oe=F.length,Se=a.end),a.next()):A>2500?d(w,X,F,G):h(w,X,F,G,J,A+1);if(J>=0&&oe>0&&oe<F.length&&g(F,G,w,oe,w,Se,J,V,M),F.reverse(),G.reverse(),J>-1&&oe>0){let le=m(q,M);U=uQ(q,F,G,0,F.length,0,R-w,le,le)}else U=y(q,F,G,R-w,V-R,M)}O.push(U),_.push(ne)}function d(P,Q,O,_){let k=[],A=0,C=-1;for(;a.pos>Q;){let{id:w,start:R,end:j,size:V}=a;if(V>4)a.next();else{if(C>-1&&R<C)break;C<0&&(C=j-i),k.push(w,R,j),A++,a.next()}}if(A){let w=new Uint16Array(A*4),R=k[k.length-2];for(let j=k.length-3,V=0;j>=0;j-=3)w[V++]=k[j],w[V++]=k[j+1]-R,w[V++]=k[j+2]-R,w[V++]=V;O.push(new Yd(w,k[2]-R,r)),_.push(R-P)}}function m(P,Q){return(O,_,k)=>{let A=0,C=O.length-1,w,R;if(C>=0&&(w=O[C])instanceof Si){if(!C&&w.type==P&&w.length==k)return w;(R=w.prop(Ct.lookAhead))&&(A=_[C]+w.length+R)}return y(P,O,_,k,A,Q)}}function g(P,Q,O,_,k,A,C,w,R){let j=[],V=[];for(;P.length>_;)j.push(P.pop()),V.push(Q.pop()+O-k);P.push(y(r.types[C],j,V,A-k,w-A,R)),Q.push(k-O)}function y(P,Q,O,_,k,A,C){if(A){let w=[Ct.contextHash,A];C=C?[w].concat(C):[w]}if(k>25){let w=[Ct.lookAhead,k];C=C?[w].concat(C):[w]}return new Si(P,Q,O,_,C)}function v(P,Q){let O=a.fork(),_=0,k=0,A=0,C=O.end-i,w={size:0,start:0,skip:0};e:for(let R=O.pos-P;O.pos>R;){let j=O.size;if(O.id==Q&&j>=0){w.size=_,w.start=k,w.skip=A,A+=4,_+=4,O.next();continue}let V=O.pos-j;if(j<0||V<R||O.start<C)break;let M=O.id>=o?4:0,q=O.start;for(O.next();O.pos>V;){if(O.size<0)if(O.size==-3)M+=4;else break e;else O.id>=o&&(M+=4);O.next()}k=q,_+=j,A+=M}return(Q<0||_==P)&&(w.size=_,w.start=k,w.skip=A),w.size>4?w:void 0}function b(P,Q,O){let{id:_,start:k,end:A,size:C}=a;if(a.next(),C>=0&&_<o){let w=O;if(C>4){let R=a.pos-(C-4);for(;a.pos>R;)O=b(P,Q,O)}Q[--O]=w,Q[--O]=A-P,Q[--O]=k-P,Q[--O]=_}else C==-3?c=_:C==-4&&(u=_);return O}let x=[],S=[];for(;a.pos>0;)h(n.start||0,n.bufferStart||0,x,S,-1,0);let $=(e=n.length)!==null&&e!==void 0?e:x.length?S[0]+x[0].length:0;return new Si(l[n.topID],x.reverse(),S.reverse(),$)}const zM=new WeakMap;function cv(n,e){if(!n.isAnonymous||e instanceof Yd||e.type!=n)return 1;let t=zM.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof Si)){t=1;break}t+=cv(n,r)}zM.set(e,t)}return t}function uQ(n,e,t,r,i,s,o,a,l){let c=0;for(let g=r;g<i;g++)c+=cv(n,e[g]);let u=Math.ceil(c*1.5/8),h=[],d=[];function m(g,y,v,b,x){for(let S=v;S<b;){let $=S,P=y[S],Q=cv(n,g[S]);for(S++;S<b;S++){let O=cv(n,g[S]);if(Q+O>=u)break;Q+=O}if(S==$+1){if(Q>u){let O=g[$];m(O.children,O.positions,0,O.children.length,y[$]+x);continue}h.push(g[$])}else{let O=y[S-1]+g[S-1].length-P;h.push(uQ(n,g,y,$,S,P,O,null,l))}d.push(P+x-s)}}return m(e,t,r,i,0),(a||l)(h,d,o)}let Oxe=class{constructor(){this.map=new WeakMap}setBuffer(e,t,r){let i=this.map.get(e);i||this.map.set(e,i=new Map),i.set(t,r)}getBuffer(e,t){let r=this.map.get(e);return r&&r.get(t)}set(e,t){e instanceof Dg?this.setBuffer(e.context.buffer,e.index,t):e instanceof Ao&&this.map.set(e.tree,t)}get(e){return e instanceof Dg?this.getBuffer(e.context.buffer,e.index):e instanceof Ao?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}},uv=class FP{constructor(e,t,r,i,s=!1,o=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],r=!1){let i=[new FP(0,e.length,e,0,!1,r)];for(let s of t)s.to>e.length&&i.push(s);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let u=a<t.length?t[a]:null,h=u?u.fromA:1e9;if(h-l>=r)for(;o&&o.from<h;){let d=o;if(l>=d.from||h<=d.to||c){let m=Math.max(d.from,l)-c,g=Math.min(d.to,h)-c;d=m>=g?null:new FP(m,g,d.tree,d.offset+c,a>0,!!u)}if(d&&i.push(d),o.to>h)break;o=s<e.length?e[s++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return i}},yxe=class{startParse(e,t,r){return typeof e=="string"&&(e=new vxe(e)),r=r?r.length?r.map(i=>new J1(i.from,i.to)):[new J1(0,0)]:[new J1(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let s=i.advance();if(s)return s}}},vxe=class{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}};new Ct({perNode:!0});var ek;const Rh=new Ct;function wxe(n){return ce.define({combine:n?e=>e.concat(n):void 0})}const xxe=new Ct;let ps=class{constructor(e,t,r=[],i=""){this.data=e,this.name=i,$e.prototype.hasOwnProperty("tree")||Object.defineProperty($e.prototype,"tree",{get(){return Mg(this)}}),this.parser=t,this.extension=[Hd.of(this),$e.languageData.of((s,o,a)=>{let l=UM(s,o,a),c=l.type.prop(Rh);if(!c)return[];let u=s.facet(c),h=l.type.prop(xxe);if(h){let d=l.resolve(o-l.from,a);for(let m of h)if(m.test(d,s)){let g=s.facet(m.facet);return m.type=="replace"?g:g.concat(u)}}return u})].concat(r)}isActiveAt(e,t,r=-1){return UM(e,t,r).type.prop(Rh)==this.data}findRegions(e){let t=e.facet(Hd);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let r=[],i=(s,o)=>{if(s.prop(Rh)==this.data){r.push({from:o,to:o+s.length});return}let a=s.prop(Ct.mounted);if(a){if(a.tree.prop(Rh)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+o,to:l.to+o});else r.push({from:o,to:o+s.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+o),r.length>l)return}}for(let l=0;l<s.children.length;l++){let c=s.children[l];c instanceof Si&&i(c,s.positions[l]+o)}};return i(Mg(e),0),r}get allowsNesting(){return!0}};ps.setState=Re.define();function UM(n,e,t){let r=n.facet(Hd),i=Mg(n).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,t,Ln.ExcludeBuffers))s.type.isTop&&(i=s);return i}let bxe=class WP extends ps{constructor(e,t,r){super(e,t,[],r),this.parser=t}static define(e){let t=wxe(e.languageData);return new WP(t,e.parser.configure({props:[Rh.add(r=>r.isTop?t:void 0)]}),e.name)}configure(e,t){return new WP(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}};function Mg(n){let e=n.field(ps.state,!1);return e?e.tree:Si.empty}let Sxe=class{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}},mp=null,kxe=class XP{constructor(e,t,r=[],i,s,o,a,l){this.parser=e,this.state=t,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new XP(e,t,[],Si.empty,0,r,[],null)}startParse(){return this.parser.startParse(new Sxe(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=Si.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(uv.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(uv.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=mp;mp=this;try{return e()}finally{mp=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=ZM(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:i,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,u,h,d)=>l.push({fromA:c,toA:u,fromB:h,toB:d})),r=uv.applyChanges(r,l),i=Si.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),h=e.mapPos(c.to,-1);u<h&&a.push({from:u,to:h})}}}return new XP(this.parser,t,r,i,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=ZM(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends yxe{createParse(t,r,i){let s=i[0].from,o=i[i.length-1].to;return{parsedPos:s,advance(){let l=mp;if(l){for(let c of i)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new Si(Eo.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return mp}};function ZM(n,e,t){return uv.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}let GP=class YP{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new YP(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=kxe.create(e.facet(Hd).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new YP(r)}};ps.state=Lt.define({create:GP.init,update(n,e){for(let t of e.effects)if(t.is(ps.setState))return t.value;return e.startState.facet(Hd)!=e.state.facet(Hd)?GP.init(e.state):n.apply(e)}});let f9=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(f9=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const tk=typeof navigator<"u"&&(!((ek=navigator.scheduling)===null||ek===void 0)&&ek.isInputPending)?()=>navigator.scheduling.isInputPending():null,_xe=Qt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(ps.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(ps.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=f9(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(ps.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!tk?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<i&&r.doc.length>i+1e3,l=s.context.work(()=>tk&&tk()||Date.now()>o,i+(a?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:ps.setState.of(new GP(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>xn(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Hd=ce.define({combine(n){return n.length?n[0]:null},enables:n=>[ps.state,_xe,ue.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});let Txe=class{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}};const Pxe=ce.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}}),Cxe=new Ct;function Exe(n){let e=n.node,t=e.childAfter(e.from),r=e.lastChild;if(!t)return null;let i=n.options.simulateBreak,s=n.state.doc.lineAt(t.from),o=i==null||i<=s.from?s.to:Math.min(s.to,i);for(let a=t.to;;){let l=e.childAfter(a);if(!l||l==r)return null;if(!l.type.isSkipped){if(l.from>=o)return null;let c=/^ */.exec(s.text.slice(t.to-s.from))[0].length;return{from:t.from,to:t.to+c}}a=l.to}}function nk({closing:n,align:e=!0,units:t=1}){return r=>Axe(r,e,t,n)}function Axe(n,e,t,r,i){let s=n.textAfter,o=s.match(/^\s*/)[0].length,a=r&&s.slice(o,o+r.length)==r||i==n.pos+o,l=e?Exe(n):null;return l?a?n.column(l.from):n.column(l.to):n.baseIndent+(a?0:n.unit*t)}const Rxe=new Ct;function Qxe(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}let $xe=class p9{constructor(e,t){this.specs=e;let r;function i(a){let l=bn.newName();return(r||(r=Object.create(null)))["."+l]=a,l}const s=typeof t.all=="string"?t.all:t.all?i(t.all):void 0,o=t.scope;this.scope=o instanceof ps?a=>a.prop(Rh)==o.data:o?a=>a==o:void 0,this.style=Tc(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=r?new bn(r):null,this.themeType=t.themeType}static define(e,t){return new p9(e,t||{})}};N.meta,N.link,N.heading,N.emphasis,N.strong,N.strikethrough,N.keyword,N.atom,N.bool,N.url,N.contentSeparator,N.labelName,N.literal,N.inserted,N.string,N.deleted,N.regexp,N.escape,N.string,N.variableName,N.variableName,N.typeName,N.namespace,N.className,N.variableName,N.macroName,N.propertyName,N.comment,N.invalid;const Ixe=Object.create(null),qM=[Eo.none],BM=[],FM=Object.create(null),Nxe=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Nxe[n]=jxe(Ixe,e);function rk(n,e){BM.indexOf(n)>-1||(BM.push(n),console.warn(e))}function jxe(n,e){let t=[];for(let a of e.split(" ")){let l=[];for(let c of a.split(".")){let u=n[c]||N[c];u?typeof u=="function"?l.length?l=l.map(u):rk(c,`Modifier ${c} used at start of tag`):l.length?rk(c,`Tag ${c} used as modifier`):l=Array.isArray(u)?u:[u]:rk(c,`Unknown highlighting tag ${c}`)}for(let c of l)t.push(c)}if(!t.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+t.map(a=>a.id),s=FM[i];if(s)return s.id;let o=FM[i]=Eo.define({id:qM.length,name:r,props:[Ii({[r]:t})]});return qM.push(o),o.id}Ke.RTL,Ke.LTR;function WM(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function Dxe(n){let e=Object.create(null),t=Object.create(null);for(let{label:i}of n){e[i[0]]=!0;for(let s=1;s<i.length;s++)t[i[s]]=!0}let r=WM(e)+WM(t)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function Mxe(n){let e=n.map(i=>typeof i=="string"?{label:i}:i),[t,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:Dxe(e);return i=>{let s=i.matchBefore(r);return s||i.explicit?{from:s?s.from:i.pos,options:e,validFor:t}:null}}function Vxe(n,e){return t=>{for(let r=Mg(t.state).resolveInner(t.pos,-1);r;r=r.parent){if(n.indexOf(r.name)>-1)return null;if(r.type.isTop)break}return e(t)}}const Lxe=Is.define(),zxe=ue.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class Uxe{constructor(e,t,r,i){this.field=e,this.line=t,this.from=r,this.to=i}}class hQ{constructor(e,t,r){this.field=e,this.from=t,this.to=r}map(e){let t=e.mapPos(this.from,-1,En.TrackDel),r=e.mapPos(this.to,1,En.TrackDel);return t==null||r==null?null:new hQ(this.field,t,r)}}class dQ{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let r=[],i=[t],s=e.doc.lineAt(t),o=/^\s*/.exec(s.text)[0];for(let l of this.lines){if(r.length){let c=o,u=/^\t*/.exec(l)[0].length;for(let h=0;h<u;h++)c+=e.facet(Pxe);i.push(t+c.length-u),l=c+l.slice(u)}r.push(l),t+=l.length+1}let a=this.fieldPositions.map(l=>new hQ(l.field,i[l.line]+l.from,i[l.line]+l.to));return{text:r,ranges:a}}static parse(e){let t=[],r=[],i=[],s;for(let o of e.split(/\r\n?|\n/)){for(;s=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(o);){let a=s[1]?+s[1]:null,l=s[2]||s[3]||"",c=-1,u=l.replace(/\\[{}]/g,h=>h[1]);for(let h=0;h<t.length;h++)(a!=null?t[h].seq==a:u&&t[h].name==u)&&(c=h);if(c<0){let h=0;for(;h<t.length&&(a==null||t[h].seq!=null&&t[h].seq<a);)h++;t.splice(h,0,{seq:a,name:u}),c=h;for(let d of i)d.field>=c&&d.field++}i.push(new Uxe(c,r.length,s.index,s.index+u.length)),o=o.slice(0,s.index)+l+o.slice(s.index+s[0].length)}o=o.replace(/\\([{}])/g,(a,l,c)=>{for(let u of i)u.line==r.length&&u.from>c&&(u.from--,u.to--);return l}),r.push(o)}return new dQ(r,i)}}let Zxe=me.widget({widget:new class extends Lo{toDOM(){let n=document.createElement("span");return n.className="cm-snippetFieldPosition",n}ignoreEvent(){return!1}}}),qxe=me.mark({class:"cm-snippetField"});class Cf{constructor(e,t){this.ranges=e,this.active=t,this.deco=me.set(e.map(r=>(r.from==r.to?Zxe:qxe).range(r.from,r.to)))}map(e){let t=[];for(let r of this.ranges){let i=r.map(e);if(!i)return null;t.push(i)}return new Cf(t,this.active)}selectionInsideField(e){return e.ranges.every(t=>this.ranges.some(r=>r.field==this.active&&r.from<=t.from&&r.to>=t.to))}}const $O=Re.define({map(n,e){return n&&n.map(e)}}),Bxe=Re.define(),Vg=Lt.define({create(){return null},update(n,e){for(let t of e.effects){if(t.is($O))return t.value;if(t.is(Bxe)&&n)return new Cf(n.ranges,t.value)}return n&&e.docChanged&&(n=n.map(e.changes)),n&&e.selection&&!n.selectionInsideField(e.selection)&&(n=null),n},provide:n=>ue.decorations.from(n,e=>e?e.deco:me.none)});function fQ(n,e){return K.create(n.filter(t=>t.field==e).map(t=>K.range(t.from,t.to)))}function Fxe(n){let e=dQ.parse(n);return(t,r,i,s)=>{let{text:o,ranges:a}=e.instantiate(t.state,i),{main:l}=t.state.selection,c={changes:{from:i,to:s==l.from?l.to:s,insert:ot.of(o)},scrollIntoView:!0,annotations:r?[Lxe.of(r),dn.userEvent.of("input.complete")]:void 0};if(a.length&&(c.selection=fQ(a,0)),a.some(u=>u.field>0)){let u=new Cf(a,0),h=c.effects=[$O.of(u)];t.state.field(Vg,!1)===void 0&&h.push(Re.appendConfig.of([Vg,Hxe,Kxe,zxe]))}t.dispatch(t.state.update(c))}}function m9(n){return({state:e,dispatch:t})=>{let r=e.field(Vg,!1);if(!r||n<0&&r.active==0)return!1;let i=r.active+n,s=n>0&&!r.ranges.some(o=>o.field==i+n);return t(e.update({selection:fQ(r.ranges,i),effects:$O.of(s?null:new Cf(r.ranges,i)),scrollIntoView:!0})),!0}}const Wxe=({state:n,dispatch:e})=>n.field(Vg,!1)?(e(n.update({effects:$O.of(null)})),!0):!1,Xxe=m9(1),Gxe=m9(-1),Yxe=[{key:"Tab",run:Xxe,shift:Gxe},{key:"Escape",run:Wxe}],XM=ce.define({combine(n){return n.length?n[0]:Yxe}}),Hxe=za.highest(PO.compute([XM],n=>n.facet(XM)));function Xo(n,e){return Object.assign(Object.assign({},e),{apply:Fxe(n)})}const Kxe=ue.domEventHandlers({mousedown(n,e){let t=e.state.field(Vg,!1),r;if(!t||(r=e.posAtCoords({x:n.clientX,y:n.clientY}))==null)return!1;let i=t.ranges.find(s=>s.from<=r&&s.to>=r);return!i||i.field==t.active?!1:(e.dispatch({selection:fQ(t.ranges,i.field),effects:$O.of(t.ranges.some(s=>s.field>i.field)?new Cf(t.ranges,i.field):null),scrollIntoView:!0}),!0)}}),g9=new class extends ko{};g9.startSide=1;g9.endSide=-1;const GM=new Oxe,O9=new Set(["Script","Body","FunctionDefinition","ClassDefinition","LambdaExpression","ForStatement","MatchClause"]);function s0(n){return(e,t,r)=>{if(r)return!1;let i=e.node.getChild("VariableName");return i&&t(i,n),!0}}const Jxe={FunctionDefinition:s0("function"),ClassDefinition:s0("class"),ForStatement(n,e,t){if(t){for(let r=n.node.firstChild;r;r=r.nextSibling)if(r.name=="VariableName")e(r,"variable");else if(r.name=="in")break}},ImportStatement(n,e){var t,r;let{node:i}=n,s=((t=i.firstChild)===null||t===void 0?void 0:t.name)=="from";for(let o=i.getChild("import");o;o=o.nextSibling)o.name=="VariableName"&&((r=o.nextSibling)===null||r===void 0?void 0:r.name)!="as"&&e(o,s?"variable":"namespace")},AssignStatement(n,e){for(let t=n.node.firstChild;t;t=t.nextSibling)if(t.name=="VariableName")e(t,"variable");else if(t.name==":"||t.name=="AssignOp")break},ParamList(n,e){for(let t=null,r=n.node.firstChild;r;r=r.nextSibling)r.name=="VariableName"&&(!t||!/\*|AssignOp/.test(t.name))&&e(r,"variable"),t=r},CapturePattern:s0("variable"),AsPattern:s0("variable"),__proto__:null};function y9(n,e){let t=GM.get(e);if(t)return t;let r=[],i=!0;function s(o,a){let l=n.sliceString(o.from,o.to);r.push({label:l,type:a})}return e.cursor(Ln.IncludeAnonymous).iterate(o=>{if(o.name){let a=Jxe[o.name];if(a&&a(o,s,i)||!i&&O9.has(o.name))return!1;i=!1}else if(o.to-o.from>8192){for(let a of y9(n,o.node))r.push(a);return!1}}),GM.set(e,r),r}const YM=/^[\w\xa1-\uffff][\w\d\xa1-\uffff]*$/,v9=["String","FormatString","Comment","PropertyName"];function ebe(n){let e=Mg(n.state).resolveInner(n.pos,-1);if(v9.indexOf(e.name)>-1)return null;let t=e.name=="VariableName"||e.to-e.from<20&&YM.test(n.state.sliceDoc(e.from,e.to));if(!t&&!n.explicit)return null;let r=[];for(let i=e;i;i=i.parent)O9.has(i.name)&&(r=r.concat(y9(n.state.doc,i)));return{options:r,from:t?e.from:n.pos,validFor:YM}}const tbe=["__annotations__","__builtins__","__debug__","__doc__","__import__","__name__","__loader__","__package__","__spec__","False","None","True"].map(n=>({label:n,type:"constant"})).concat(["ArithmeticError","AssertionError","AttributeError","BaseException","BlockingIOError","BrokenPipeError","BufferError","BytesWarning","ChildProcessError","ConnectionAbortedError","ConnectionError","ConnectionRefusedError","ConnectionResetError","DeprecationWarning","EOFError","Ellipsis","EncodingWarning","EnvironmentError","Exception","FileExistsError","FileNotFoundError","FloatingPointError","FutureWarning","GeneratorExit","IOError","ImportError","ImportWarning","IndentationError","IndexError","InterruptedError","IsADirectoryError","KeyError","KeyboardInterrupt","LookupError","MemoryError","ModuleNotFoundError","NameError","NotADirectoryError","NotImplemented","NotImplementedError","OSError","OverflowError","PendingDeprecationWarning","PermissionError","ProcessLookupError","RecursionError","ReferenceError","ResourceWarning","RuntimeError","RuntimeWarning","StopAsyncIteration","StopIteration","SyntaxError","SyntaxWarning","SystemError","SystemExit","TabError","TimeoutError","TypeError","UnboundLocalError","UnicodeDecodeError","UnicodeEncodeError","UnicodeError","UnicodeTranslateError","UnicodeWarning","UserWarning","ValueError","Warning","ZeroDivisionError"].map(n=>({label:n,type:"type"}))).concat(["bool","bytearray","bytes","classmethod","complex","float","frozenset","int","list","map","memoryview","object","range","set","staticmethod","str","super","tuple","type"].map(n=>({label:n,type:"class"}))).concat(["abs","aiter","all","anext","any","ascii","bin","breakpoint","callable","chr","compile","delattr","dict","dir","divmod","enumerate","eval","exec","exit","filter","format","getattr","globals","hasattr","hash","help","hex","id","input","isinstance","issubclass","iter","len","license","locals","max","min","next","oct","open","ord","pow","print","property","quit","repr","reversed","round","setattr","slice","sorted","sum","vars","zip"].map(n=>({label:n,type:"function"}))),nbe=[Xo("def ${name}(${params}):\n	${}",{label:"def",detail:"function",type:"keyword"}),Xo("for ${name} in ${collection}:\n	${}",{label:"for",detail:"loop",type:"keyword"}),Xo("while ${}:\n	${}",{label:"while",detail:"loop",type:"keyword"}),Xo("try:\n	${}\nexcept ${error}:\n	${}",{label:"try",detail:"/ except block",type:"keyword"}),Xo(`if \${}:
	
`,{label:"if",detail:"block",type:"keyword"}),Xo("if ${}:\n	${}\nelse:\n	${}",{label:"if",detail:"/ else block",type:"keyword"}),Xo("class ${name}:\n	def __init__(self, ${params}):\n			${}",{label:"class",detail:"definition",type:"keyword"}),Xo("import ${module}",{label:"import",detail:"statement",type:"keyword"}),Xo("from ${module} import ${names}",{label:"from",detail:"import",type:"keyword"})],rbe=Vxe(v9,Mxe(tbe.concat(nbe)));function ik(n){let{node:e,pos:t}=n,r=n.lineIndent(t,-1),i=null;for(;;){let s=e.childBefore(t);if(s)if(s.name=="Comment")t=s.from;else if(s.name=="Body"||s.name=="MatchBody")n.baseIndentFor(s)+n.unit<=r&&(i=s),e=s;else if(s.name=="MatchClause")e=s;else if(s.type.is("Statement"))e=s;else break;else break}return i}function sk(n,e){let t=n.baseIndentFor(e),r=n.lineAt(n.pos,-1),i=r.from+r.text.length;return/^\s*($|#)/.test(r.text)&&n.node.to<i+100&&!/\S/.test(n.state.sliceDoc(i,n.node.to))&&n.lineIndent(n.pos,-1)<=t||/^\s*(else:|elif |except |finally:|case\s+[^=:]+:)/.test(n.textAfter)&&n.lineIndent(n.pos,-1)>t?null:t+n.unit}const ok=bxe.define({name:"python",parser:lxe.configure({props:[Cxe.add({Body:n=>{var e;let t=ik(n);return(e=sk(n,t||n.node))!==null&&e!==void 0?e:n.continue()},MatchBody:n=>{var e;let t=ik(n);return(e=sk(n,t||n.node))!==null&&e!==void 0?e:n.continue()},IfStatement:n=>/^\s*(else:|elif )/.test(n.textAfter)?n.baseIndent:n.continue(),"ForStatement WhileStatement":n=>/^\s*else:/.test(n.textAfter)?n.baseIndent:n.continue(),TryStatement:n=>/^\s*(except |finally:|else:)/.test(n.textAfter)?n.baseIndent:n.continue(),MatchStatement:n=>/^\s*case /.test(n.textAfter)?n.baseIndent+n.unit:n.continue(),"TupleExpression ComprehensionExpression ParamList ArgList ParenthesizedExpression":nk({closing:")"}),"DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression":nk({closing:"}"}),"ArrayExpression ArrayComprehensionExpression":nk({closing:"]"}),"String FormatString":()=>null,Script:n=>{var e;let t=ik(n);return(e=t&&sk(n,t))!==null&&e!==void 0?e:n.continue()}}),Rxe.add({"ArrayExpression DictionaryExpression SetExpression TupleExpression":Qxe,Body:(n,e)=>({from:n.from+1,to:n.to-(n.to==e.doc.length?0:1)})})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"'''",'"""'],stringPrefixes:["f","fr","rf","r","u","b","br","rb","F","FR","RF","R","U","B","BR","RB"]},commentTokens:{line:"#"},indentOnInput:/^\s*([\}\]\)]|else:|elif |except |finally:|case\s+[^:]*:?)$/}});function ibe(){return new Txe(ok,[ok.data.of({autocomplete:ebe}),ok.data.of({autocomplete:rbe})])}const sbe=1024;let obe=0,ma=class{constructor(e,t){this.from=e,this.to=t}},Wt=class{constructor(e={}){this.id=obe++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=hc.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}};Wt.closedBy=new Wt({deserialize:n=>n.split(" ")});Wt.openedBy=new Wt({deserialize:n=>n.split(" ")});Wt.group=new Wt({deserialize:n=>n.split(" ")});Wt.isolate=new Wt({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});Wt.contextHash=new Wt({perNode:!0});Wt.lookAhead=new Wt({perNode:!0});Wt.mounted=new Wt({perNode:!0});let Lg=class{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[Wt.mounted.id]}};const abe=Object.create(null);let hc=class w9{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):abe,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new w9(e.name||"",t,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Wt.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(Wt.group),s=-1;s<(i?i.length:0);s++){let o=t[s<0?r.name:i[s]];if(o)return o}}}};hc.none=new hc("",Object.create(null),0,8);const o0=new WeakMap,HM=new WeakMap;var rn;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(rn||(rn={}));let yo=class HP{constructor(e,t,r,i,s){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=Lg.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new ox(this.topNode,e)}cursorAt(e,t=0,r=0){let i=o0.get(this)||this.topNode,s=new ox(i);return s.moveTo(e,t),o0.set(this,s._tree),s}get topNode(){return new Ro(this,0,0,null)}resolve(e,t=0){let r=zg(o0.get(this)||this.topNode,e,t,!1);return o0.set(this,r),r}resolveInner(e,t=0){let r=zg(HM.get(this)||this.topNode,e,t,!0);return HM.set(this,r),r}resolveStack(e,t=0){return hbe(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:s=this.length}=e,o=e.mode||0,a=(o&rn.IncludeAnonymous)>0;for(let l=this.cursor(o|rn.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=i&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:mQ(hc.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new HP(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new HP(hc.none,t,r,i)))}static build(e){return dbe(e)}};yo.empty=new yo(hc.none,[],[],0);let lbe=class x9{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new x9(this.buffer,this.index)}},Kd=class b9{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return hc.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(S9(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,t,r){let i=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=i[a++],s[l++]=i[a++]-r;let c=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,c)}return new b9(s,o,this.set)}};function S9(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function zg(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!r&&n instanceof Ro&&n.index<0?null:n.parent;if(!o)return n;n=o}let s=r?0:rn.IgnoreOverlays;if(r)for(let o=n,a=o.parent;a;o=a,a=o.parent)o instanceof Ro&&o.index<0&&((i=a.enter(e,t,s))===null||i===void 0?void 0:i.from)!=o.from&&(n=a);for(;;){let o=n.enter(e,t,s);if(!o)return n;n=o}}let k9=class{cursor(e=0){return new ox(this,e)}getChild(e,t=null,r=null){let i=KM(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return KM(this,e,t,r)}resolve(e,t=0){return zg(this,e,t,!1)}resolveInner(e,t=0){return zg(this,e,t,!0)}matchContext(e){return KP(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}},Ro=class hv extends k9{constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=t>0?a.length:-1;e!=c;e+=t){let u=a[e],h=l[e]+o.from;if(S9(i,r,h,h+u.length)){if(u instanceof Kd){if(s&rn.ExcludeBuffers)continue;let d=u.findChild(0,u.buffer.length,t,r-h,i);if(d>-1)return new JP(new cbe(o,u,e,h),null,d)}else if(s&rn.IncludeAnonymous||!u.type.isAnonymous||pQ(u)){let d;if(!(s&rn.IgnoreMounts)&&(d=Lg.get(u))&&!d.overlay)return new hv(d.tree,h,e,o);let m=new hv(u,h,e,o);return s&rn.IncludeAnonymous||!m.type.isAnonymous?m:m.nextChild(t<0?u.children.length-1:0,t,r,i)}}}if(s&rn.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&rn.IgnoreOverlays)&&(i=Lg.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:o,to:a}of i.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new hv(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function KM(n,e,t,r){let i=n.cursor(),s=[];if(!i.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=i.type.is(t),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function KP(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}let cbe=class{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}},JP=class Bp extends k9{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return s<0?null:new Bp(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&rn.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new Bp(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Bp(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Bp(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),t.push(0)}return new yo(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function _9(n){if(!n.length)return null;let e=0,t=n[0];for(let s=1;s<n.length;s++){let o=n[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let r=t instanceof Ro&&t.index<0?null:t.parent,i=n.slice();return r?i[e]=r:i.splice(e,1),new ube(i,t)}let ube=class{constructor(e,t){this.heads=e,this.node=t}get next(){return _9(this.heads)}};function hbe(n,e,t){let r=n.resolveInner(e,t),i=null;for(let s=r instanceof Ro?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[r])).push(o.resolve(e,t)),s=o}else{let o=Lg.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new Ro(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(zg(a,e,t,!1))}}return i?_9(i):r}let ox=class{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Ro)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof Ro?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&rn.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&rn.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&rn.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let s=t+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&rn.IncludeAnonymous||a instanceof Kd||!a.type.isAnonymous||pQ(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;t=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)t=new JP(this.buffer,t,this.stack[i]);return this.bufferNode=new JP(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return KP(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return KP(this._tree,e,i);let o=r[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}};function pQ(n){return n.children.some(e=>e instanceof Kd||!e.type.isAnonymous||pQ(e))}function dbe(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=sbe,reused:s=[],minRepeatType:o=r.types.length}=n,a=Array.isArray(t)?new lbe(t,t.length):t,l=r.types,c=0,u=0;function h(P,Q,O,_,k,A){let{id:C,start:w,end:R,size:j}=a,V=u,M=c;for(;j<0;)if(a.next(),j==-1){let X=s[C];O.push(X),_.push(w-P);return}else if(j==-3){c=C;return}else if(j==-4){u=C;return}else throw new RangeError(`Unrecognized record size: ${j}`);let q=l[C],U,Z,ne=w-P;if(R-w<=i&&(Z=v(a.pos-Q,k))){let X=new Uint16Array(Z.size-Z.skip),F=a.pos-Z.size,G=X.length;for(;a.pos>F;)G=b(Z.start,X,G);U=new Kd(X,R-Z.start,r),ne=Z.start-P}else{let X=a.pos-j;a.next();let F=[],G=[],J=C>=o?C:-1,oe=0,Se=R;for(;a.pos>X;)J>=0&&a.id==J&&a.size>=0?(a.end<=Se-i&&(g(F,G,w,oe,a.end,Se,J,V,M),oe=F.length,Se=a.end),a.next()):A>2500?d(w,X,F,G):h(w,X,F,G,J,A+1);if(J>=0&&oe>0&&oe<F.length&&g(F,G,w,oe,w,Se,J,V,M),F.reverse(),G.reverse(),J>-1&&oe>0){let le=m(q,M);U=mQ(q,F,G,0,F.length,0,R-w,le,le)}else U=y(q,F,G,R-w,V-R,M)}O.push(U),_.push(ne)}function d(P,Q,O,_){let k=[],A=0,C=-1;for(;a.pos>Q;){let{id:w,start:R,end:j,size:V}=a;if(V>4)a.next();else{if(C>-1&&R<C)break;C<0&&(C=j-i),k.push(w,R,j),A++,a.next()}}if(A){let w=new Uint16Array(A*4),R=k[k.length-2];for(let j=k.length-3,V=0;j>=0;j-=3)w[V++]=k[j],w[V++]=k[j+1]-R,w[V++]=k[j+2]-R,w[V++]=V;O.push(new Kd(w,k[2]-R,r)),_.push(R-P)}}function m(P,Q){return(O,_,k)=>{let A=0,C=O.length-1,w,R;if(C>=0&&(w=O[C])instanceof yo){if(!C&&w.type==P&&w.length==k)return w;(R=w.prop(Wt.lookAhead))&&(A=_[C]+w.length+R)}return y(P,O,_,k,A,Q)}}function g(P,Q,O,_,k,A,C,w,R){let j=[],V=[];for(;P.length>_;)j.push(P.pop()),V.push(Q.pop()+O-k);P.push(y(r.types[C],j,V,A-k,w-A,R)),Q.push(k-O)}function y(P,Q,O,_,k,A,C){if(A){let w=[Wt.contextHash,A];C=C?[w].concat(C):[w]}if(k>25){let w=[Wt.lookAhead,k];C=C?[w].concat(C):[w]}return new yo(P,Q,O,_,C)}function v(P,Q){let O=a.fork(),_=0,k=0,A=0,C=O.end-i,w={size:0,start:0,skip:0};e:for(let R=O.pos-P;O.pos>R;){let j=O.size;if(O.id==Q&&j>=0){w.size=_,w.start=k,w.skip=A,A+=4,_+=4,O.next();continue}let V=O.pos-j;if(j<0||V<R||O.start<C)break;let M=O.id>=o?4:0,q=O.start;for(O.next();O.pos>V;){if(O.size<0)if(O.size==-3)M+=4;else break e;else O.id>=o&&(M+=4);O.next()}k=q,_+=j,A+=M}return(Q<0||_==P)&&(w.size=_,w.start=k,w.skip=A),w.size>4?w:void 0}function b(P,Q,O){let{id:_,start:k,end:A,size:C}=a;if(a.next(),C>=0&&_<o){let w=O;if(C>4){let R=a.pos-(C-4);for(;a.pos>R;)O=b(P,Q,O)}Q[--O]=w,Q[--O]=A-P,Q[--O]=k-P,Q[--O]=_}else C==-3?c=_:C==-4&&(u=_);return O}let x=[],S=[];for(;a.pos>0;)h(n.start||0,n.bufferStart||0,x,S,-1,0);let $=(e=n.length)!==null&&e!==void 0?e:x.length?S[0]+x[0].length:0;return new yo(l[n.topID],x.reverse(),S.reverse(),$)}const JM=new WeakMap;function dv(n,e){if(!n.isAnonymous||e instanceof Kd||e.type!=n)return 1;let t=JM.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof yo)){t=1;break}t+=dv(n,r)}JM.set(e,t)}return t}function mQ(n,e,t,r,i,s,o,a,l){let c=0;for(let g=r;g<i;g++)c+=dv(n,e[g]);let u=Math.ceil(c*1.5/8),h=[],d=[];function m(g,y,v,b,x){for(let S=v;S<b;){let $=S,P=y[S],Q=dv(n,g[S]);for(S++;S<b;S++){let O=dv(n,g[S]);if(Q+O>=u)break;Q+=O}if(S==$+1){if(Q>u){let O=g[$];m(O.children,O.positions,0,O.children.length,y[$]+x);continue}h.push(g[$])}else{let O=y[S-1]+g[S-1].length-P;h.push(mQ(n,g,y,$,S,P,O,null,l))}d.push(P+x-s)}}return m(e,t,r,i,0),(a||l)(h,d,o)}let eV=class eC{constructor(e,t,r,i,s=!1,o=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],r=!1){let i=[new eC(0,e.length,e,0,!1,r)];for(let s of t)s.to>e.length&&i.push(s);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let u=a<t.length?t[a]:null,h=u?u.fromA:1e9;if(h-l>=r)for(;o&&o.from<h;){let d=o;if(l>=d.from||h<=d.to||c){let m=Math.max(d.from,l)-c,g=Math.min(d.to,h)-c;d=m>=g?null:new eC(m,g,d.tree,d.offset+c,a>0,!!u)}if(d&&i.push(d),o.to>h)break;o=s<e.length?e[s++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return i}};function fbe(n){return(e,t,r,i)=>new mbe(e,n,t,r,i)}class tV{constructor(e,t,r,i,s){this.parser=e,this.parse=t,this.overlay=r,this.target=i,this.from=s}}function nV(n){if(!n.length||n.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(n))}class pbe{constructor(e,t,r,i,s,o,a){this.parser=e,this.predicate=t,this.mounts=r,this.index=i,this.start=s,this.target=o,this.prev=a,this.depth=0,this.ranges=[]}}const tC=new Wt({perNode:!0});class mbe{constructor(e,t,r,i,s){this.nest=t,this.input=r,this.fragments=i,this.ranges=s,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let r=this.baseParse.advance();if(!r)return null;if(this.baseParse=null,this.baseTree=r,this.startInner(),this.stoppedAt!=null)for(let i of this.inner)i.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let r=this.baseTree;return this.stoppedAt!=null&&(r=new yo(r.type,r.children,r.positions,r.length,r.propValues.concat([[tC,this.stoppedAt]]))),r}let e=this.inner[this.innerDone],t=e.parse.advance();if(t){this.innerDone++;let r=Object.assign(Object.create(null),e.target.props);r[Wt.mounted.id]=new Lg(t,e.overlay,e.parser),e.target.props=r}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].from<e&&(e=Math.min(e,this.inner[t].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].parse.stopAt(e)}startInner(){let e=new ybe(this.fragments),t=null,r=null,i=new ox(new Ro(this.baseTree,this.ranges[0].from,0,null),rn.IncludeAnonymous|rn.IgnoreMounts);e:for(let s,o;;){let a=!0,l;if(this.stoppedAt!=null&&i.from>=this.stoppedAt)a=!1;else if(e.hasNode(i)){if(t){let c=t.mounts.find(u=>u.frag.from<=i.from&&u.frag.to>=i.to&&u.mount.overlay);if(c)for(let u of c.mount.overlay){let h=u.from+c.pos,d=u.to+c.pos;h>=i.from&&d<=i.to&&!t.ranges.some(m=>m.from<d&&m.to>h)&&t.ranges.push({from:h,to:d})}}a=!1}else if(r&&(o=gbe(r.ranges,i.from,i.to)))a=o!=2;else if(!i.type.isAnonymous&&(s=this.nest(i,this.input))&&(i.from<i.to||!s.overlay)){i.tree||Obe(i);let c=e.findMounts(i.from,s.parser);if(typeof s.overlay=="function")t=new pbe(s.parser,s.overlay,c,this.inner.length,i.from,i.tree,t);else{let u=sV(this.ranges,s.overlay||(i.from<i.to?[new ma(i.from,i.to)]:[]));u.length&&nV(u),(u.length||!s.overlay)&&this.inner.push(new tV(s.parser,u.length?s.parser.startParse(this.input,oV(c,u),u):s.parser.startParse(""),s.overlay?s.overlay.map(h=>new ma(h.from-i.from,h.to-i.from)):null,i.tree,u.length?u[0].from:i.from)),s.overlay?u.length&&(r={ranges:u,depth:0,prev:r}):a=!1}}else if(t&&(l=t.predicate(i))&&(l===!0&&(l=new ma(i.from,i.to)),l.from<l.to)){let c=t.ranges.length-1;c>=0&&t.ranges[c].to==l.from?t.ranges[c]={from:t.ranges[c].from,to:l.to}:t.ranges.push(l)}if(a&&i.firstChild())t&&t.depth++,r&&r.depth++;else for(;!i.nextSibling();){if(!i.parent())break e;if(t&&!--t.depth){let c=sV(this.ranges,t.ranges);c.length&&(nV(c),this.inner.splice(t.index,0,new tV(t.parser,t.parser.startParse(this.input,oV(t.mounts,c),c),t.ranges.map(u=>new ma(u.from-t.start,u.to-t.start)),t.target,c[0].from))),t=t.prev}r&&!--r.depth&&(r=r.prev)}}}}function gbe(n,e,t){for(let r of n){if(r.from>=t)break;if(r.to>e)return r.from<=e&&r.to>=t?2:1}return 0}function rV(n,e,t,r,i,s){if(e<t){let o=n.buffer[e+1];r.push(n.slice(e,t,o)),i.push(o-s)}}function Obe(n){let{node:e}=n,t=[],r=e.context.buffer;do t.push(n.index),n.parent();while(!n.tree);let i=n.tree,s=i.children.indexOf(r),o=i.children[s],a=o.buffer,l=[s];function c(u,h,d,m,g,y){let v=t[y],b=[],x=[];rV(o,u,v,b,x,m);let S=a[v+1],$=a[v+2];l.push(b.length);let P=y?c(v+4,a[v+3],o.set.types[a[v]],S,$-S,y-1):e.toTree();return b.push(P),x.push(S-m),rV(o,a[v+3],h,b,x,m),new yo(d,b,x,g)}i.children[s]=c(0,a.length,hc.none,0,o.length,t.length-1);for(let u of l){let h=n.tree.children[u],d=n.tree.positions[u];n.yield(new Ro(h,d+n.from,u,n._tree))}}class iV{constructor(e,t){this.offset=t,this.done=!1,this.cursor=e.cursor(rn.IncludeAnonymous|rn.IgnoreMounts)}moveTo(e){let{cursor:t}=this,r=e-this.offset;for(;!this.done&&t.from<r;)t.to>=e&&t.enter(r,1,rn.IgnoreOverlays|rn.ExcludeBuffers)||t.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let t=this.cursor.tree;;){if(t==e.tree)return!0;if(t.children.length&&t.positions[0]==0&&t.children[0]instanceof yo)t=t.children[0];else break}return!1}}class ybe{constructor(e){var t;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let r=this.curFrag=e[0];this.curTo=(t=r.tree.prop(tC))!==null&&t!==void 0?t:r.to,this.inner=new iV(r.tree,-r.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let t=this.curFrag=this.fragments[this.fragI];this.curTo=(e=t.tree.prop(tC))!==null&&e!==void 0?e:t.to,this.inner=new iV(t.tree,-t.offset)}}findMounts(e,t){var r;let i=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let s=this.inner.cursor.node;s;s=s.parent){let o=(r=s.tree)===null||r===void 0?void 0:r.prop(Wt.mounted);if(o&&o.parser==t)for(let a=this.fragI;a<this.fragments.length;a++){let l=this.fragments[a];if(l.from>=s.to)break;l.tree==this.curFrag.tree&&i.push({frag:l,pos:s.from-l.offset,mount:o})}}}return i}}function sV(n,e){let t=null,r=e;for(let i=1,s=0;i<n.length;i++){let o=n[i-1].to,a=n[i].from;for(;s<r.length;s++){let l=r[s];if(l.from>=a)break;l.to<=o||(t||(r=t=e.slice()),l.from<o?(t[s]=new ma(l.from,o),l.to>a&&t.splice(s+1,0,new ma(a,l.to))):l.to>a?t[s--]=new ma(a,l.to):t.splice(s--,1))}}return r}function vbe(n,e,t,r){let i=0,s=0,o=!1,a=!1,l=-1e9,c=[];for(;;){let u=i==n.length?1e9:o?n[i].to:n[i].from,h=s==e.length?1e9:a?e[s].to:e[s].from;if(o!=a){let d=Math.max(l,t),m=Math.min(u,h,r);d<m&&c.push(new ma(d,m))}if(l=Math.min(u,h),l==1e9)break;u==l&&(o?(o=!1,i++):o=!0),h==l&&(a?(a=!1,s++):a=!0)}return c}function oV(n,e){let t=[];for(let{pos:r,mount:i,frag:s}of n){let o=r+(i.overlay?i.overlay[0].from:0),a=o+i.tree.length,l=Math.max(s.from,o),c=Math.min(s.to,a);if(i.overlay){let u=i.overlay.map(d=>new ma(d.from+r,d.to+r)),h=vbe(e,u,l,c);for(let d=0,m=l;;d++){let g=d==h.length,y=g?c:h[d].from;if(y>m&&t.push(new eV(m,y,i.tree,-o,s.from>=m||s.openStart,s.to<=y||s.openEnd)),g)break;m=h[d].to}}else t.push(new eV(l,c,i.tree,-o,s.from>=o||s.openStart,s.to<=a||s.openEnd))}return t}const wbe=54,xbe=1,bbe=55,Sbe=2,kbe=56,_be=3,aV=4,Tbe=5,ax=6,T9=7,P9=8,C9=9,E9=10,Pbe=11,Cbe=12,Ebe=13,ak=57,Abe=14,lV=58,A9=20,Rbe=22,R9=23,Qbe=24,nC=26,Q9=27,$be=28,Ibe=31,Nbe=34,jbe=36,Dbe=37,Mbe=0,Vbe=1,Lbe={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},zbe={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},cV={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function Ube(n){return n==45||n==46||n==58||n>=65&&n<=90||n==95||n>=97&&n<=122||n>=161}function $9(n){return n==9||n==10||n==13||n==32}let uV=null,hV=null,dV=0;function rC(n,e){let t=n.pos+e;if(dV==t&&hV==n)return uV;let r=n.peek(e);for(;$9(r);)r=n.peek(++e);let i="";for(;Ube(r);)i+=String.fromCharCode(r),r=n.peek(++e);return hV=n,dV=t,uV=i?i.toLowerCase():r==Zbe||r==qbe?void 0:null}const I9=60,lx=62,gQ=47,Zbe=63,qbe=33,Bbe=45;function fV(n,e){this.name=n,this.parent=e}const Fbe=[ax,E9,T9,P9,C9],Wbe=new tQ({start:null,shift(n,e,t,r){return Fbe.indexOf(e)>-1?new fV(rC(r,1)||"",n):n},reduce(n,e){return e==A9&&n?n.parent:n},reuse(n,e,t,r){let i=e.type.id;return i==ax||i==jbe?new fV(rC(r,1)||"",n):n},strict:!1}),Xbe=new ur((n,e)=>{if(n.next!=I9){n.next<0&&e.context&&n.acceptToken(ak);return}n.advance();let t=n.next==gQ;t&&n.advance();let r=rC(n,0);if(r===void 0)return;if(!r)return n.acceptToken(t?Abe:ax);let i=e.context?e.context.name:null;if(t){if(r==i)return n.acceptToken(Pbe);if(i&&zbe[i])return n.acceptToken(ak,-2);if(e.dialectEnabled(Mbe))return n.acceptToken(Cbe);for(let s=e.context;s;s=s.parent)if(s.name==r)return;n.acceptToken(Ebe)}else{if(r=="script")return n.acceptToken(T9);if(r=="style")return n.acceptToken(P9);if(r=="textarea")return n.acceptToken(C9);if(Lbe.hasOwnProperty(r))return n.acceptToken(E9);i&&cV[i]&&cV[i][r]?n.acceptToken(ak,-1):n.acceptToken(ax)}},{contextual:!0}),Gbe=new ur(n=>{for(let e=0,t=0;;t++){if(n.next<0){t&&n.acceptToken(lV);break}if(n.next==Bbe)e++;else if(n.next==lx&&e>=2){t>=3&&n.acceptToken(lV,-2);break}else e=0;n.advance()}});function Ybe(n){for(;n;n=n.parent)if(n.name=="svg"||n.name=="math")return!0;return!1}const Hbe=new ur((n,e)=>{if(n.next==gQ&&n.peek(1)==lx){let t=e.dialectEnabled(Vbe)||Ybe(e.context);n.acceptToken(t?Tbe:aV,2)}else n.next==lx&&n.acceptToken(aV,1)});function OQ(n,e,t){let r=2+n.length;return new ur(i=>{for(let s=0,o=0,a=0;;a++){if(i.next<0){a&&i.acceptToken(e);break}if(s==0&&i.next==I9||s==1&&i.next==gQ||s>=2&&s<r&&i.next==n.charCodeAt(s-2))s++,o++;else if((s==2||s==r)&&$9(i.next))o++;else if(s==r&&i.next==lx){a>o?i.acceptToken(e,-o):i.acceptToken(t,-(o-2));break}else if((i.next==10||i.next==13)&&a){i.acceptToken(e,1);break}else s=o=0;i.advance()}})}const Kbe=OQ("script",wbe,xbe),Jbe=OQ("style",bbe,Sbe),eSe=OQ("textarea",kbe,_be),tSe=Ii({"Text RawText":N.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":N.angleBracket,TagName:N.tagName,"MismatchedCloseTag/TagName":[N.tagName,N.invalid],AttributeName:N.attributeName,"AttributeValue UnquotedAttributeValue":N.attributeValue,Is:N.definitionOperator,"EntityReference CharacterReference":N.character,Comment:N.blockComment,ProcessingInst:N.processingInstruction,DoctypeDecl:N.documentMeta}),nSe=Ia.deserialize({version:14,states:",xOVO!rOOO!WQ#tO'#CqO!]Q#tO'#CzO!bQ#tO'#C}O!gQ#tO'#DQO!lQ#tO'#DSO!qOaO'#CpO!|ObO'#CpO#XOdO'#CpO$eO!rO'#CpOOO`'#Cp'#CpO$lO$fO'#DTO$tQ#tO'#DVO$yQ#tO'#DWOOO`'#Dk'#DkOOO`'#DY'#DYQVO!rOOO%OQ&rO,59]O%ZQ&rO,59fO%fQ&rO,59iO%qQ&rO,59lO%|Q&rO,59nOOOa'#D^'#D^O&XOaO'#CxO&dOaO,59[OOOb'#D_'#D_O&lObO'#C{O&wObO,59[OOOd'#D`'#D`O'POdO'#DOO'[OdO,59[OOO`'#Da'#DaO'dO!rO,59[O'kQ#tO'#DROOO`,59[,59[OOOp'#Db'#DbO'pO$fO,59oOOO`,59o,59oO'xQ#|O,59qO'}Q#|O,59rOOO`-E7W-E7WO(SQ&rO'#CsOOQW'#DZ'#DZO(bQ&rO1G.wOOOa1G.w1G.wOOO`1G/Y1G/YO(mQ&rO1G/QOOOb1G/Q1G/QO(xQ&rO1G/TOOOd1G/T1G/TO)TQ&rO1G/WOOO`1G/W1G/WO)`Q&rO1G/YOOOa-E7[-E7[O)kQ#tO'#CyOOO`1G.v1G.vOOOb-E7]-E7]O)pQ#tO'#C|OOOd-E7^-E7^O)uQ#tO'#DPOOO`-E7_-E7_O)zQ#|O,59mOOOp-E7`-E7`OOO`1G/Z1G/ZOOO`1G/]1G/]OOO`1G/^1G/^O*PQ,UO,59_OOQW-E7X-E7XOOOa7+$c7+$cOOO`7+$t7+$tOOOb7+$l7+$lOOOd7+$o7+$oOOO`7+$r7+$rO*[Q#|O,59eO*aQ#|O,59hO*fQ#|O,59kOOO`1G/X1G/XO*kO7[O'#CvO*|OMhO'#CvOOQW1G.y1G.yOOO`1G/P1G/POOO`1G/S1G/SOOO`1G/V1G/VOOOO'#D['#D[O+_O7[O,59bOOQW,59b,59bOOOO'#D]'#D]O+pOMhO,59bOOOO-E7Y-E7YOOQW1G.|1G.|OOOO-E7Z-E7Z",stateData:",]~O!^OS~OUSOVPOWQOXROYTO[]O][O^^O`^Oa^Ob^Oc^Ox^O{_O!dZO~OfaO~OfbO~OfcO~OfdO~OfeO~O!WfOPlP!ZlP~O!XiOQoP!ZoP~O!YlORrP!ZrP~OUSOVPOWQOXROYTOZqO[]O][O^^O`^Oa^Ob^Oc^Ox^O!dZO~O!ZrO~P#dO![sO!euO~OfvO~OfwO~OS|OT}OhyO~OS!POT}OhyO~OS!ROT}OhyO~OS!TOT}OhyO~OS}OT}OhyO~O!WfOPlX!ZlX~OP!WO!Z!XO~O!XiOQoX!ZoX~OQ!ZO!Z!XO~O!YlORrX!ZrX~OR!]O!Z!XO~O!Z!XO~P#dOf!_O~O![sO!e!aO~OS!bO~OS!cO~Oi!dOSgXTgXhgX~OS!fOT!gOhyO~OS!hOT!gOhyO~OS!iOT!gOhyO~OS!jOT!gOhyO~OS!gOT!gOhyO~Of!kO~Of!lO~Of!mO~OS!nO~Ok!qO!`!oO!b!pO~OS!rO~OS!sO~OS!tO~Oa!uOb!uOc!uO!`!wO!a!uO~Oa!xOb!xOc!xO!b!wO!c!xO~Oa!uOb!uOc!uO!`!{O!a!uO~Oa!xOb!xOc!xO!b!{O!c!xO~OT~bac!dx{!d~",goto:"%p!`PPPPPPPPPPPPPPPPPPPP!a!gP!mPP!yP!|#P#S#Y#]#`#f#i#l#r#x!aP!a!aP$O$U$l$r$x%O%U%[%bPPPPPPPP%hX^OX`pXUOX`pezabcde{!O!Q!S!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ!ObQ!QcQ!SdQ!UeZ!e{!O!Q!S!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:" StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:67,context:Wbe,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,21,30,33,36,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,29,32,35,37,"OpenTag"],["group",-9,14,17,18,19,20,39,40,41,42,"Entity",16,"Entity TextContent",-3,28,31,34,"TextContent Entity"],["isolate",-11,21,29,30,32,33,35,36,37,38,41,42,"ltr",-3,26,27,39,""]],propSources:[tSe],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|c`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bX`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UV`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pT`POv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!cpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({W`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!a`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!a`!cpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYkWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]``P!a`!cp!^^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebhSkWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXhSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vchS`P!a`!cpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!`h`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WihSkWc!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zbkWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOa!R!R7tP;=`<%l7S!Z8OYkWa!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{ihSkWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbhSkWa!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QchSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXhSa!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TakWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOb!R!RAwP;=`<%lAY!ZBRYkWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbhSkWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbhSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXhSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!bx`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYlhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_khS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_X`P!a`!cp!eQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZhSfQ`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!a`!cpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!a`!cp!dPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!a`!cpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!a`!cpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!a`!cpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!a`!cpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!a`!cpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!a`!cpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!a`!cpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!cpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO{PP!-nP;=`<%l!-Sq!-xS!cp{POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!a`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!a`{POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!a`!cp{POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!a`!cpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!a`!cpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!a`!cpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!a`!cpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!a`!cpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!a`!cpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!cpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOxPP!7TP;=`<%l!6Vq!7]V!cpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!cpxPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!a`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!a`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!a`xPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!a`!cpxPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXiS`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[Kbe,Jbe,eSe,Hbe,Xbe,Gbe,0,1,2,3,4,5],topRules:{Document:[0,15]},dialects:{noMatch:0,selfClosing:509},tokenPrec:511});function N9(n,e){let t=Object.create(null);for(let r of n.getChildren(R9)){let i=r.getChild(Qbe),s=r.getChild(nC)||r.getChild(Q9);i&&(t[e.read(i.from,i.to)]=s?s.type.id==nC?e.read(s.from+1,s.to-1):e.read(s.from,s.to):"")}return t}function pV(n,e){let t=n.getChild(Rbe);return t?e.read(t.from,t.to):" "}function lk(n,e,t){let r;for(let i of t)if(!i.attrs||i.attrs(r||(r=N9(n.node.parent.firstChild,e))))return{parser:i.parser};return null}function j9(n=[],e=[]){let t=[],r=[],i=[],s=[];for(let a of n)(a.tag=="script"?t:a.tag=="style"?r:a.tag=="textarea"?i:s).push(a);let o=e.length?Object.create(null):null;for(let a of e)(o[a.name]||(o[a.name]=[])).push(a);return fbe((a,l)=>{let c=a.type.id;if(c==$be)return lk(a,l,t);if(c==Ibe)return lk(a,l,r);if(c==Nbe)return lk(a,l,i);if(c==A9&&s.length){let u=a.node,h=u.firstChild,d=h&&pV(h,l),m;if(d){for(let g of s)if(g.tag==d&&(!g.attrs||g.attrs(m||(m=N9(h,l))))){let y=u.lastChild,v=y.type.id==Dbe?y.from:u.to;if(v>h.to)return{parser:g.parser,overlay:[{from:h.to,to:v}]}}}}if(o&&c==R9){let u=a.node,h;if(h=u.firstChild){let d=o[l.read(h.from,h.to)];if(d)for(let m of d){if(m.tagName&&m.tagName!=pV(u.parent,l))continue;let g=u.lastChild;if(g.type.id==nC){let y=g.from+1,v=g.lastChild,b=g.to-(v&&v.isError?0:1);if(b>y)return{parser:m.parser,overlay:[{from:y,to:b}]}}else if(g.type.id==Q9)return{parser:m.parser,overlay:[{from:g.from,to:g.to}]}}}}return null})}const rSe=100,mV=1,iSe=101,sSe=102,gV=2,D9=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],oSe=58,aSe=40,M9=95,lSe=91,fv=45,cSe=46,uSe=35,hSe=37,dSe=38,fSe=92,pSe=10;function Ug(n){return n>=65&&n<=90||n>=97&&n<=122||n>=161}function V9(n){return n>=48&&n<=57}const mSe=new ur((n,e)=>{for(let t=!1,r=0,i=0;;i++){let{next:s}=n;if(Ug(s)||s==fv||s==M9||t&&V9(s))!t&&(s!=fv||i>0)&&(t=!0),r===i&&s==fv&&r++,n.advance();else if(s==fSe&&n.peek(1)!=pSe)n.advance(),n.next>-1&&n.advance(),t=!0;else{t&&n.acceptToken(s==aSe?iSe:r==2&&e.canShift(gV)?gV:sSe);break}}}),gSe=new ur(n=>{if(D9.includes(n.peek(-1))){let{next:e}=n;(Ug(e)||e==M9||e==uSe||e==cSe||e==lSe||e==oSe&&Ug(n.peek(1))||e==fv||e==dSe)&&n.acceptToken(rSe)}}),OSe=new ur(n=>{if(!D9.includes(n.peek(-1))){let{next:e}=n;if(e==hSe&&(n.advance(),n.acceptToken(mV)),Ug(e)){do n.advance();while(Ug(n.next)||V9(n.next));n.acceptToken(mV)}}}),ySe=Ii({"AtKeyword import charset namespace keyframes media supports":N.definitionKeyword,"from to selector":N.keyword,NamespaceName:N.namespace,KeyframeName:N.labelName,KeyframeRangeName:N.operatorKeyword,TagName:N.tagName,ClassName:N.className,PseudoClassName:N.constant(N.className),IdName:N.labelName,"FeatureName PropertyName":N.propertyName,AttributeName:N.attributeName,NumberLiteral:N.number,KeywordQuery:N.keyword,UnaryQueryOp:N.operatorKeyword,"CallTag ValueName":N.atom,VariableName:N.variableName,Callee:N.operatorKeyword,Unit:N.unit,"UniversalSelector NestingSelector":N.definitionOperator,MatchOp:N.compareOperator,"ChildOp SiblingOp, LogicOp":N.logicOperator,BinOp:N.arithmeticOperator,Important:N.modifier,Comment:N.blockComment,ColorLiteral:N.color,"ParenthesizedContent StringLiteral":N.string,":":N.punctuation,"PseudoOp #":N.derefOperator,"; ,":N.separator,"( )":N.paren,"[ ]":N.squareBracket,"{ }":N.brace}),vSe={__proto__:null,lang:34,"nth-child":34,"nth-last-child":34,"nth-of-type":34,"nth-last-of-type":34,dir:34,"host-context":34,url:62,"url-prefix":62,domain:62,regexp:62,selector:140},wSe={__proto__:null,"@import":120,"@media":144,"@charset":148,"@namespace":152,"@keyframes":158,"@supports":170},xSe={__proto__:null,not:134,only:134},bSe=Ia.deserialize({version:14,states:":jQYQ[OOO#_Q[OOP#fOWOOOOQP'#Cd'#CdOOQP'#Cc'#CcO#kQ[O'#CfO$_QXO'#CaO$fQ[O'#CiO$qQ[O'#DUO$vQ[O'#DXOOQP'#En'#EnO${QdO'#DhO%jQ[O'#DuO${QdO'#DwO%{Q[O'#DyO&WQ[O'#D|O&`Q[O'#ESO&nQ[O'#EUOOQS'#Em'#EmOOQS'#EX'#EXQYQ[OOO&uQXO'#CdO'jQWO'#DdO'oQWO'#EsO'zQ[O'#EsQOQWOOP(UO#tO'#C_POOO)C@])C@]OOQP'#Ch'#ChOOQP,59Q,59QO#kQ[O,59QO(aQ[O'#E]O({QWO,58{O)TQ[O,59TO$qQ[O,59pO$vQ[O,59sO(aQ[O,59vO(aQ[O,59xO(aQ[O,59yO)`Q[O'#DcOOQS,58{,58{OOQP'#Cl'#ClOOQO'#DS'#DSOOQP,59T,59TO)gQWO,59TO)lQWO,59TOOQP'#DW'#DWOOQP,59p,59pOOQO'#DY'#DYO)qQ`O,59sOOQS'#Cq'#CqO${QdO'#CrO)yQvO'#CtO+ZQtO,5:SOOQO'#Cy'#CyO)lQWO'#CxO+oQWO'#CzO+tQ[O'#DPOOQS'#Ep'#EpOOQO'#Dk'#DkO+|Q[O'#DrO,[QWO'#EtO&`Q[O'#DpO,jQWO'#DsOOQO'#Eu'#EuO)OQWO,5:aO,oQpO,5:cOOQS'#D{'#D{O,wQWO,5:eO,|Q[O,5:eOOQO'#EO'#EOO-UQWO,5:hO-ZQWO,5:nO-cQWO,5:pOOQS-E8V-E8VO-kQdO,5:OO-{Q[O'#E_O.YQWO,5;_O.YQWO,5;_POOO'#EW'#EWP.eO#tO,58yPOOO,58y,58yOOQP1G.l1G.lO/[QXO,5:wOOQO-E8Z-E8ZOOQS1G.g1G.gOOQP1G.o1G.oO)gQWO1G.oO)lQWO1G.oOOQP1G/[1G/[O/iQ`O1G/_O0SQXO1G/bO0jQXO1G/dO1QQXO1G/eO1hQWO,59}O1mQ[O'#DTO1tQdO'#CpOOQP1G/_1G/_O${QdO1G/_O1{QpO,59^OOQS,59`,59`O${QdO,59bO2TQWO1G/nOOQS,59d,59dO2YQ!bO,59fOOQS'#DQ'#DQOOQS'#EZ'#EZO2eQ[O,59kOOQS,59k,59kO2mQWO'#DkO2xQWO,5:WO2}QWO,5:^O&`Q[O,5:YO&`Q[O'#E`O3VQWO,5;`O3bQWO,5:[O(aQ[O,5:_OOQS1G/{1G/{OOQS1G/}1G/}OOQS1G0P1G0PO3sQWO1G0PO3xQdO'#EPOOQS1G0S1G0SOOQS1G0Y1G0YOOQS1G0[1G0[O4TQtO1G/jOOQO1G/j1G/jOOQO,5:y,5:yO4kQ[O,5:yOOQO-E8]-E8]O4xQWO1G0yPOOO-E8U-E8UPOOO1G.e1G.eOOQP7+$Z7+$ZOOQP7+$y7+$yO${QdO7+$yOOQS1G/i1G/iO5TQXO'#ErO5[QWO,59oO5aQtO'#EYO6XQdO'#EoO6cQWO,59[O6hQpO7+$yOOQS1G.x1G.xOOQS1G.|1G.|OOQS7+%Y7+%YOOQS1G/Q1G/QO6pQWO1G/QOOQS-E8X-E8XOOQS1G/V1G/VO${QdO1G/rOOQO1G/x1G/xOOQO1G/t1G/tO6uQWO,5:zOOQO-E8^-E8^O7TQXO1G/yOOQS7+%k7+%kO7[QYO'#CtOOQO'#ER'#ERO7gQ`O'#EQOOQO'#EQ'#EQO7rQWO'#EaO7zQdO,5:kOOQS,5:k,5:kO8VQtO'#E^O${QdO'#E^O9WQdO7+%UOOQO7+%U7+%UOOQO1G0e1G0eO9kQpO<<HeO9sQWO,5;^OOQP1G/Z1G/ZOOQS-E8W-E8WO${QdO'#E[O9{QWO,5;ZOOQT1G.v1G.vOOQP<<He<<HeOOQS7+$l7+$lO:TQdO7+%^OOQO7+%e7+%eOOQO,5:l,5:lO3{QdO'#EbO7rQWO,5:{OOQS,5:{,5:{OOQS-E8_-E8_OOQS1G0V1G0VO:[QtO,5:xOOQS-E8[-E8[OOQO<<Hp<<HpOOQPAN>PAN>PO;]QdO,5:vOOQO-E8Y-E8YOOQO<<Hx<<HxOOQO,5:|,5:|OOQO-E8`-E8`OOQS1G0g1G0g",stateData:";o~O#[OS#]QQ~OUYOXYOZTO^VO_VOrXOyWO!]aO!^ZO!j[O!l]O!n^O!q_O!w`O#YRO~OQfOUYOXYOZTO^VO_VOrXOyWO!]aO!^ZO!j[O!l]O!n^O!q_O!w`O#YeO~O#V#gP~P!ZO#]jO~O#YlO~OZnO^qO_qOrsOuoOyrO!PtO!SvO#WuO~O!UwO~P#pOa}O#XzO#YyO~O#Y!OO~O#Y!QO~OQ![Oc!TOg![Oi![Oo!YOr!ZO#X!WO#Y!SO#e!UO~Oc!^O!e!`O!h!aO#Y!]O!U#hP~Oi!fOo!YO#Y!eO~Oi!hO#Y!hO~Oc!^O!e!`O!h!aO#Y!]O~O!Z#hP~P%jOZWX^WX^!XX_WXrWXuWXyWX!PWX!SWX!UWX#WWX~O^!mO~O!Z!nO#V#gX!T#gX~O#V#gX!T#gX~P!ZO#^!qO#_!qO#`!sO~OUYOXYOZTO^VO_VOrXOyWO#YRO~OuoO!UwO~Oa!zO#XzO#YyO~O!T#gP~P!ZOc#RO~Oc#SO~Oq#TO}#UO~OP#WOchXkhX!ZhX!ehX!hhX#YhXbhXQhXghXihXohXrhXuhX!YhX#VhX#XhX#ehXqhX!ThX~Oc!^Ok#XO!e!`O!h!aO#Y!]O!Z#hP~Oc#[O~Oq#`O#Y#]O~Oc!^O!e!`O!h!aO#Y#aO~Ou#eO!c#dO!U#hX!Z#hX~Oc#hO~Ok#XO!Z#jO~O!Z#kO~Oi#lOo!YO~O!U#mO~O!UwO!c#dO~O!UwO!Z#pO~O!Y#rO!Z!Wa#V!Wa!T!Wa~P${O!Z#RX#V#RX!T#RX~P!ZO!Z!nO#V#ga!T#ga~O#^!qO#_!qO#`#xO~OZnO^qO_qOrsOyrO!PtO!SvO#WuO~Ou#Pa!U#Pab#Pa~P.pOq#zO}#{O~OZnO^qO_qOrsOyrO~Ou!Oi!P!Oi!S!Oi!U!Oi#W!Oib!Oi~P/qOu!Qi!P!Qi!S!Qi!U!Qi#W!Qib!Qi~P/qOu!Ri!P!Ri!S!Ri!U!Ri#W!Rib!Ri~P/qO!T#|O~Ob#fP~P(aOb#cP~P${Ob$TOk#XO~O!Z$VO~Ob$WOi$XOp$XO~Oq$ZO#Y#]O~O^!aXb!_X!c!_X~O^$[O~Ob$]O!c#dO~Ou#eO!U#ha!Z#ha~O!c#dOu!da!U!da!Z!dab!da~O!Z$bO~O!T$iO#Y$dO#e$cO~Ok#XOu$kO!Y$mO!Z!Wi#V!Wi!T!Wi~P${O!Z#Ra#V#Ra!T#Ra~P!ZO!Z!nO#V#gi!T#gi~Ob#fX~P#pOb$qO~Ok#XOQ!|Xb!|Xc!|Xg!|Xi!|Xo!|Xr!|Xu!|X#X!|X#Y!|X#e!|X~Ou$sOb#cX~P${Ob$uO~Ok#XOq$vO~Ob$wO~O!c#dOu#Sa!U#Sa!Z#Sa~Ob$yO~P.pOP#WOuhX!UhX~O#e$cOu!tX!U!tX~Ou${O!UwO~O!T%PO#Y$dO#e$cO~Ok#XOQ#QXc#QXg#QXi#QXo#QXr#QXu#QX!Y#QX!Z#QX#V#QX#X#QX#Y#QX#e#QX!T#QX~Ou$kO!Y%SO!Z!Wq#V!Wq!T!Wq~P${Ok#XOq%TO~OuoOb#fa~Ou$sOb#ca~Ob%WO~P${Ok#XOQ#Qac#Qag#Qai#Qao#Qar#Qau#Qa!Y#Qa!Z#Qa#V#Qa#X#Qa#Y#Qa#e#Qa!T#Qa~Ob#Oau#Oa~P${O#[p#]#ek!S#e~",goto:"-g#jPPP#kP#nP#w$WP#wP$g#wPP$mPPP$s$|$|P%`P$|P$|%z&^PPPP$|&vP&z'Q#wP'W#w'^P#wP#w#wPPP'd'y(WPP#nPP(_(_(i(_P(_P(_(_P#nP#nP#nP(l#nP(o(r(u(|#nP#nP)R)X)h)v)|*S*^*d*n*t*zPPPPPPPPPP+Q+Z+v+yP,o,r,x-RRkQ_bOPdhw!n#tkYOPdhotuvw!n#R#h#tkSOPdhotuvw!n#R#h#tQmTR!tnQ{VR!xqQ!x}Q#Z!XR#y!zq![Z]!T!m#S#U#X#q#{$Q$[$k$l$s$x%Up![Z]!T!m#S#U#X#q#{$Q$[$k$l$s$x%UU$f#m$h${R$z$eq!XZ]!T!m#S#U#X#q#{$Q$[$k$l$s$x%Up![Z]!T!m#S#U#X#q#{$Q$[$k$l$s$x%UQ!f^R#l!gT#^!Z#_Q|VR!yqQ!x|R#y!yQ!PWR!{rQ!RXR!|sQxUQ!wpQ#i!cQ#o!jQ#p!kQ$}$gR%Z$|SgPwQ!phQ#s!nR$n#tZfPhw!n#ta!b[`a!V!^!`#d#eR#b!^R!g^R!i_R#n!iS$g#m$hR%X${V$e#m$h${Q!rjR#w!rQdOShPwU!ldh#tR#t!nQ$Q#SU$r$Q$x%UQ$x$[R%U$sQ#_!ZR$Y#_Q$t$QR%V$tQpUS!vp$pR$p#}Q$l#qR%R$lQ!ogS#u!o#vR#v!pQ#f!_R$`#fQ$h#mR%O$hQ$|$gR%Y$|_cOPdhw!n#t^UOPdhw!n#tQ!uoQ!}tQ#OuQ#PvQ#}#RR$a#hR$R#SQ!VZQ!d]Q#V!TQ#q!m[$P#S$Q$[$s$x%UQ$S#UQ$U#XS$j#q$lQ$o#{R%Q$kR$O#RQiPR#QwQ!c[Q!kaR#Y!VU!_[a!VQ!j`Q#c!^Q#g!`Q$^#dR$_#e",nodeNames:" Unit VariableName Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector . ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee CallLiteral CallTag ParenthesizedContent ] [ LineNames LineName , PseudoClassName ArgList IdSelector # IdName AttributeSelector AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp } { Block Declaration PropertyName Important ; ImportStatement AtKeyword import KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports AtRule Styles",maxTerm:117,nodeProps:[["isolate",-2,3,25,""],["openedBy",18,"(",33,"[",51,"{"],["closedBy",19,")",34,"]",52,"}"]],propSources:[ySe],skippedNodes:[0,3,88],repeatNodeCount:11,tokenData:"J^~R!^OX$}X^%u^p$}pq%uqr)Xrs.Rst/utu6duv$}vw7^wx7oxy9^yz9oz{9t{|:_|}?Q}!O?c!O!P@Q!P!Q@i!Q![Ab![!]B]!]!^CX!^!_$}!_!`Cj!`!aC{!a!b$}!b!cDw!c!}$}!}#OFa#O#P$}#P#QFr#Q#R6d#R#T$}#T#UGT#U#c$}#c#dHf#d#o$}#o#pH{#p#q6d#q#rI^#r#sIo#s#y$}#y#z%u#z$f$}$f$g%u$g#BY$}#BY#BZ%u#BZ$IS$}$IS$I_%u$I_$I|$}$I|$JO%u$JO$JT$}$JT$JU%u$JU$KV$}$KV$KW%u$KW&FU$}&FU&FV%u&FV;'S$};'S;=`JW<%lO$}`%QSOy%^z;'S%^;'S;=`%o<%lO%^`%cSp`Oy%^z;'S%^;'S;=`%o<%lO%^`%rP;=`<%l%^~%zh#[~OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^~'mh#[~p`OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^l)[UOy%^z#]%^#]#^)n#^;'S%^;'S;=`%o<%lO%^l)sUp`Oy%^z#a%^#a#b*V#b;'S%^;'S;=`%o<%lO%^l*[Up`Oy%^z#d%^#d#e*n#e;'S%^;'S;=`%o<%lO%^l*sUp`Oy%^z#c%^#c#d+V#d;'S%^;'S;=`%o<%lO%^l+[Up`Oy%^z#f%^#f#g+n#g;'S%^;'S;=`%o<%lO%^l+sUp`Oy%^z#h%^#h#i,V#i;'S%^;'S;=`%o<%lO%^l,[Up`Oy%^z#T%^#T#U,n#U;'S%^;'S;=`%o<%lO%^l,sUp`Oy%^z#b%^#b#c-V#c;'S%^;'S;=`%o<%lO%^l-[Up`Oy%^z#h%^#h#i-n#i;'S%^;'S;=`%o<%lO%^l-uS!Y[p`Oy%^z;'S%^;'S;=`%o<%lO%^~.UWOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o<%lO.R~.sOi~~.vRO;'S.R;'S;=`/P;=`O.R~/SXOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o;=`<%l.R<%lO.R~/rP;=`<%l.Rn/zYyQOy%^z!Q%^!Q![0j![!c%^!c!i0j!i#T%^#T#Z0j#Z;'S%^;'S;=`%o<%lO%^l0oYp`Oy%^z!Q%^!Q![1_![!c%^!c!i1_!i#T%^#T#Z1_#Z;'S%^;'S;=`%o<%lO%^l1dYp`Oy%^z!Q%^!Q![2S![!c%^!c!i2S!i#T%^#T#Z2S#Z;'S%^;'S;=`%o<%lO%^l2ZYg[p`Oy%^z!Q%^!Q![2y![!c%^!c!i2y!i#T%^#T#Z2y#Z;'S%^;'S;=`%o<%lO%^l3QYg[p`Oy%^z!Q%^!Q![3p![!c%^!c!i3p!i#T%^#T#Z3p#Z;'S%^;'S;=`%o<%lO%^l3uYp`Oy%^z!Q%^!Q![4e![!c%^!c!i4e!i#T%^#T#Z4e#Z;'S%^;'S;=`%o<%lO%^l4lYg[p`Oy%^z!Q%^!Q![5[![!c%^!c!i5[!i#T%^#T#Z5[#Z;'S%^;'S;=`%o<%lO%^l5aYp`Oy%^z!Q%^!Q![6P![!c%^!c!i6P!i#T%^#T#Z6P#Z;'S%^;'S;=`%o<%lO%^l6WSg[p`Oy%^z;'S%^;'S;=`%o<%lO%^d6gUOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^d7QS}Sp`Oy%^z;'S%^;'S;=`%o<%lO%^b7cSXQOy%^z;'S%^;'S;=`%o<%lO%^~7rWOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W<%lO7o~8_RO;'S7o;'S;=`8h;=`O7o~8kXOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W;=`<%l7o<%lO7o~9ZP;=`<%l7on9cSc^Oy%^z;'S%^;'S;=`%o<%lO%^~9tOb~n9{UUQkWOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^n:fWkW!SQOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^l;TUp`Oy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^l;nYp`#e[Oy%^z!Q%^!Q![;g![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^l<cYp`Oy%^z{%^{|=R|}%^}!O=R!O!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=WUp`Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=qUp`#e[Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l>[[p`#e[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^n?VSu^Oy%^z;'S%^;'S;=`%o<%lO%^l?hWkWOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^n@VUZQOy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^~@nTkWOy%^z{@}{;'S%^;'S;=`%o<%lO%^~AUSp`#]~Oy%^z;'S%^;'S;=`%o<%lO%^lAg[#e[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^bBbU^QOy%^z![%^![!]Bt!];'S%^;'S;=`%o<%lO%^bB{S_Qp`Oy%^z;'S%^;'S;=`%o<%lO%^nC^S!Z^Oy%^z;'S%^;'S;=`%o<%lO%^dCoS}SOy%^z;'S%^;'S;=`%o<%lO%^bDQU!PQOy%^z!`%^!`!aDd!a;'S%^;'S;=`%o<%lO%^bDkS!PQp`Oy%^z;'S%^;'S;=`%o<%lO%^bDzWOy%^z!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^bEk[!]Qp`Oy%^z}%^}!OEd!O!Q%^!Q![Ed![!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^nFfSr^Oy%^z;'S%^;'S;=`%o<%lO%^nFwSq^Oy%^z;'S%^;'S;=`%o<%lO%^bGWUOy%^z#b%^#b#cGj#c;'S%^;'S;=`%o<%lO%^bGoUp`Oy%^z#W%^#W#XHR#X;'S%^;'S;=`%o<%lO%^bHYS!cQp`Oy%^z;'S%^;'S;=`%o<%lO%^bHiUOy%^z#f%^#f#gHR#g;'S%^;'S;=`%o<%lO%^fIQS!UUOy%^z;'S%^;'S;=`%o<%lO%^nIcS!T^Oy%^z;'S%^;'S;=`%o<%lO%^fItU!SQOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^`JZP;=`<%l$}",tokenizers:[gSe,OSe,mSe,1,2,3,4,new rx("m~RRYZ[z{a~~g~aO#_~~dP!P!Qg~lO#`~~",28,106)],topRules:{StyleSheet:[0,4],Styles:[1,87]},specialized:[{term:101,get:n=>vSe[n]||-1},{term:59,get:n=>wSe[n]||-1},{term:102,get:n=>xSe[n]||-1}],tokenPrec:1219}),SSe=1024;let kSe=0,ck=class{constructor(e,t){this.from=e,this.to=t}},Et=class{constructor(e={}){this.id=kSe++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Qo.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}};Et.closedBy=new Et({deserialize:n=>n.split(" ")});Et.openedBy=new Et({deserialize:n=>n.split(" ")});Et.group=new Et({deserialize:n=>n.split(" ")});Et.isolate=new Et({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});Et.contextHash=new Et({perNode:!0});Et.lookAhead=new Et({perNode:!0});Et.mounted=new Et({perNode:!0});let cx=class{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[Et.mounted.id]}};const _Se=Object.create(null);let Qo=class L9{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):_Se,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new L9(e.name||"",t,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Et.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(Et.group),s=-1;s<(i?i.length:0);s++){let o=t[s<0?r.name:i[s]];if(o)return o}}}};Qo.none=new Qo("",Object.create(null),0,8);const a0=new WeakMap,OV=new WeakMap;var zn;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(zn||(zn={}));let ki=class iC{constructor(e,t,r,i,s){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=cx.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new oC(this.topNode,e)}cursorAt(e,t=0,r=0){let i=a0.get(this)||this.topNode,s=new oC(i);return s.moveTo(e,t),a0.set(this,s._tree),s}get topNode(){return new $o(this,0,0,null)}resolve(e,t=0){let r=Zg(a0.get(this)||this.topNode,e,t,!1);return a0.set(this,r),r}resolveInner(e,t=0){let r=Zg(OV.get(this)||this.topNode,e,t,!0);return OV.set(this,r),r}resolveStack(e,t=0){return ESe(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:s=this.length}=e,o=e.mode||0,a=(o&zn.IncludeAnonymous)>0;for(let l=this.cursor(o|zn.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=i&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:vQ(Qo.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new iC(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new iC(Qo.none,t,r,i)))}static build(e){return ASe(e)}};ki.empty=new ki(Qo.none,[],[],0);let TSe=class z9{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new z9(this.buffer,this.index)}},Jd=class U9{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return Qo.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(Z9(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,t,r){let i=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=i[a++],s[l++]=i[a++]-r;let c=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,c)}return new U9(s,o,this.set)}};function Z9(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function Zg(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!r&&n instanceof $o&&n.index<0?null:n.parent;if(!o)return n;n=o}let s=r?0:zn.IgnoreOverlays;if(r)for(let o=n,a=o.parent;a;o=a,a=o.parent)o instanceof $o&&o.index<0&&((i=a.enter(e,t,s))===null||i===void 0?void 0:i.from)!=o.from&&(n=a);for(;;){let o=n.enter(e,t,s);if(!o)return n;n=o}}let q9=class{cursor(e=0){return new oC(this,e)}getChild(e,t=null,r=null){let i=yV(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return yV(this,e,t,r)}resolve(e,t=0){return Zg(this,e,t,!1)}resolveInner(e,t=0){return Zg(this,e,t,!0)}matchContext(e){return sC(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}},$o=class pv extends q9{constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=t>0?a.length:-1;e!=c;e+=t){let u=a[e],h=l[e]+o.from;if(Z9(i,r,h,h+u.length)){if(u instanceof Jd){if(s&zn.ExcludeBuffers)continue;let d=u.findChild(0,u.buffer.length,t,r-h,i);if(d>-1)return new qg(new PSe(o,u,e,h),null,d)}else if(s&zn.IncludeAnonymous||!u.type.isAnonymous||yQ(u)){let d;if(!(s&zn.IgnoreMounts)&&(d=cx.get(u))&&!d.overlay)return new pv(d.tree,h,e,o);let m=new pv(u,h,e,o);return s&zn.IncludeAnonymous||!m.type.isAnonymous?m:m.nextChild(t<0?u.children.length-1:0,t,r,i)}}}if(s&zn.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&zn.IgnoreOverlays)&&(i=cx.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:o,to:a}of i.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new pv(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function yV(n,e,t,r){let i=n.cursor(),s=[];if(!i.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=i.type.is(t),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function sC(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}let PSe=class{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}},qg=class Fp extends q9{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return s<0?null:new Fp(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&zn.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new Fp(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Fp(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Fp(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),t.push(0)}return new ki(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function B9(n){if(!n.length)return null;let e=0,t=n[0];for(let s=1;s<n.length;s++){let o=n[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let r=t instanceof $o&&t.index<0?null:t.parent,i=n.slice();return r?i[e]=r:i.splice(e,1),new CSe(i,t)}let CSe=class{constructor(e,t){this.heads=e,this.node=t}get next(){return B9(this.heads)}};function ESe(n,e,t){let r=n.resolveInner(e,t),i=null;for(let s=r instanceof $o?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[r])).push(o.resolve(e,t)),s=o}else{let o=cx.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new $o(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(Zg(a,e,t,!1))}}return i?B9(i):r}let oC=class{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof $o)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof $o?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&zn.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&zn.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&zn.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let s=t+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&zn.IncludeAnonymous||a instanceof Jd||!a.type.isAnonymous||yQ(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;t=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)t=new qg(this.buffer,t,this.stack[i]);return this.bufferNode=new qg(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return sC(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return sC(this._tree,e,i);let o=r[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}};function yQ(n){return n.children.some(e=>e instanceof Jd||!e.type.isAnonymous||yQ(e))}function ASe(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=SSe,reused:s=[],minRepeatType:o=r.types.length}=n,a=Array.isArray(t)?new TSe(t,t.length):t,l=r.types,c=0,u=0;function h(P,Q,O,_,k,A){let{id:C,start:w,end:R,size:j}=a,V=u,M=c;for(;j<0;)if(a.next(),j==-1){let X=s[C];O.push(X),_.push(w-P);return}else if(j==-3){c=C;return}else if(j==-4){u=C;return}else throw new RangeError(`Unrecognized record size: ${j}`);let q=l[C],U,Z,ne=w-P;if(R-w<=i&&(Z=v(a.pos-Q,k))){let X=new Uint16Array(Z.size-Z.skip),F=a.pos-Z.size,G=X.length;for(;a.pos>F;)G=b(Z.start,X,G);U=new Jd(X,R-Z.start,r),ne=Z.start-P}else{let X=a.pos-j;a.next();let F=[],G=[],J=C>=o?C:-1,oe=0,Se=R;for(;a.pos>X;)J>=0&&a.id==J&&a.size>=0?(a.end<=Se-i&&(g(F,G,w,oe,a.end,Se,J,V,M),oe=F.length,Se=a.end),a.next()):A>2500?d(w,X,F,G):h(w,X,F,G,J,A+1);if(J>=0&&oe>0&&oe<F.length&&g(F,G,w,oe,w,Se,J,V,M),F.reverse(),G.reverse(),J>-1&&oe>0){let le=m(q,M);U=vQ(q,F,G,0,F.length,0,R-w,le,le)}else U=y(q,F,G,R-w,V-R,M)}O.push(U),_.push(ne)}function d(P,Q,O,_){let k=[],A=0,C=-1;for(;a.pos>Q;){let{id:w,start:R,end:j,size:V}=a;if(V>4)a.next();else{if(C>-1&&R<C)break;C<0&&(C=j-i),k.push(w,R,j),A++,a.next()}}if(A){let w=new Uint16Array(A*4),R=k[k.length-2];for(let j=k.length-3,V=0;j>=0;j-=3)w[V++]=k[j],w[V++]=k[j+1]-R,w[V++]=k[j+2]-R,w[V++]=V;O.push(new Jd(w,k[2]-R,r)),_.push(R-P)}}function m(P,Q){return(O,_,k)=>{let A=0,C=O.length-1,w,R;if(C>=0&&(w=O[C])instanceof ki){if(!C&&w.type==P&&w.length==k)return w;(R=w.prop(Et.lookAhead))&&(A=_[C]+w.length+R)}return y(P,O,_,k,A,Q)}}function g(P,Q,O,_,k,A,C,w,R){let j=[],V=[];for(;P.length>_;)j.push(P.pop()),V.push(Q.pop()+O-k);P.push(y(r.types[C],j,V,A-k,w-A,R)),Q.push(k-O)}function y(P,Q,O,_,k,A,C){if(A){let w=[Et.contextHash,A];C=C?[w].concat(C):[w]}if(k>25){let w=[Et.lookAhead,k];C=C?[w].concat(C):[w]}return new ki(P,Q,O,_,C)}function v(P,Q){let O=a.fork(),_=0,k=0,A=0,C=O.end-i,w={size:0,start:0,skip:0};e:for(let R=O.pos-P;O.pos>R;){let j=O.size;if(O.id==Q&&j>=0){w.size=_,w.start=k,w.skip=A,A+=4,_+=4,O.next();continue}let V=O.pos-j;if(j<0||V<R||O.start<C)break;let M=O.id>=o?4:0,q=O.start;for(O.next();O.pos>V;){if(O.size<0)if(O.size==-3)M+=4;else break e;else O.id>=o&&(M+=4);O.next()}k=q,_+=j,A+=M}return(Q<0||_==P)&&(w.size=_,w.start=k,w.skip=A),w.size>4?w:void 0}function b(P,Q,O){let{id:_,start:k,end:A,size:C}=a;if(a.next(),C>=0&&_<o){let w=O;if(C>4){let R=a.pos-(C-4);for(;a.pos>R;)O=b(P,Q,O)}Q[--O]=w,Q[--O]=A-P,Q[--O]=k-P,Q[--O]=_}else C==-3?c=_:C==-4&&(u=_);return O}let x=[],S=[];for(;a.pos>0;)h(n.start||0,n.bufferStart||0,x,S,-1,0);let $=(e=n.length)!==null&&e!==void 0?e:x.length?S[0]+x[0].length:0;return new ki(l[n.topID],x.reverse(),S.reverse(),$)}const vV=new WeakMap;function mv(n,e){if(!n.isAnonymous||e instanceof Jd||e.type!=n)return 1;let t=vV.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof ki)){t=1;break}t+=mv(n,r)}vV.set(e,t)}return t}function vQ(n,e,t,r,i,s,o,a,l){let c=0;for(let g=r;g<i;g++)c+=mv(n,e[g]);let u=Math.ceil(c*1.5/8),h=[],d=[];function m(g,y,v,b,x){for(let S=v;S<b;){let $=S,P=y[S],Q=mv(n,g[S]);for(S++;S<b;S++){let O=mv(n,g[S]);if(Q+O>=u)break;Q+=O}if(S==$+1){if(Q>u){let O=g[$];m(O.children,O.positions,0,O.children.length,y[$]+x);continue}h.push(g[$])}else{let O=y[S-1]+g[S-1].length-P;h.push(vQ(n,g,y,$,S,P,O,null,l))}d.push(P+x-s)}}return m(e,t,r,i,0),(a||l)(h,d,o)}class RSe{constructor(){this.map=new WeakMap}setBuffer(e,t,r){let i=this.map.get(e);i||this.map.set(e,i=new Map),i.set(t,r)}getBuffer(e,t){let r=this.map.get(e);return r&&r.get(t)}set(e,t){e instanceof qg?this.setBuffer(e.context.buffer,e.index,t):e instanceof $o&&this.map.set(e.tree,t)}get(e){return e instanceof qg?this.getBuffer(e.context.buffer,e.index):e instanceof $o?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}let gv=class aC{constructor(e,t,r,i,s=!1,o=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],r=!1){let i=[new aC(0,e.length,e,0,!1,r)];for(let s of t)s.to>e.length&&i.push(s);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let u=a<t.length?t[a]:null,h=u?u.fromA:1e9;if(h-l>=r)for(;o&&o.from<h;){let d=o;if(l>=d.from||h<=d.to||c){let m=Math.max(d.from,l)-c,g=Math.min(d.to,h)-c;d=m>=g?null:new aC(m,g,d.tree,d.offset+c,a>0,!!u)}if(d&&i.push(d),o.to>h)break;o=s<e.length?e[s++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return i}},QSe=class{startParse(e,t,r){return typeof e=="string"&&(e=new $Se(e)),r=r?r.length?r.map(i=>new ck(i.from,i.to)):[new ck(0,0)]:[new ck(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let s=i.advance();if(s)return s}}},$Se=class{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}};new Et({perNode:!0});var uk;const Qh=new Et;function ISe(n){return ce.define({combine:n?e=>e.concat(n):void 0})}const NSe=new Et;let ms=class{constructor(e,t,r=[],i=""){this.data=e,this.name=i,$e.prototype.hasOwnProperty("tree")||Object.defineProperty($e.prototype,"tree",{get(){return ux(this)}}),this.parser=t,this.extension=[ef.of(this),$e.languageData.of((s,o,a)=>{let l=wV(s,o,a),c=l.type.prop(Qh);if(!c)return[];let u=s.facet(c),h=l.type.prop(NSe);if(h){let d=l.resolve(o-l.from,a);for(let m of h)if(m.test(d,s)){let g=s.facet(m.facet);return m.type=="replace"?g:g.concat(u)}}return u})].concat(r)}isActiveAt(e,t,r=-1){return wV(e,t,r).type.prop(Qh)==this.data}findRegions(e){let t=e.facet(ef);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let r=[],i=(s,o)=>{if(s.prop(Qh)==this.data){r.push({from:o,to:o+s.length});return}let a=s.prop(Et.mounted);if(a){if(a.tree.prop(Qh)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+o,to:l.to+o});else r.push({from:o,to:o+s.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+o),r.length>l)return}}for(let l=0;l<s.children.length;l++){let c=s.children[l];c instanceof ki&&i(c,s.positions[l]+o)}};return i(ux(e),0),r}get allowsNesting(){return!0}};ms.setState=Re.define();function wV(n,e,t){let r=n.facet(ef),i=ux(n).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,t,zn.ExcludeBuffers))s.type.isTop&&(i=s);return i}let jSe=class lC extends ms{constructor(e,t,r){super(e,t,[],r),this.parser=t}static define(e){let t=ISe(e.languageData);return new lC(t,e.parser.configure({props:[Qh.add(r=>r.isTop?t:void 0)]}),e.name)}configure(e,t){return new lC(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}};function ux(n){let e=n.field(ms.state,!1);return e?e.tree:ki.empty}let DSe=class{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}},gp=null,MSe=class cC{constructor(e,t,r=[],i,s,o,a,l){this.parser=e,this.state=t,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new cC(e,t,[],ki.empty,0,r,[],null)}startParse(){return this.parser.startParse(new DSe(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=ki.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(gv.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(gv.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=gp;gp=this;try{return e()}finally{gp=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=xV(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:i,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,u,h,d)=>l.push({fromA:c,toA:u,fromB:h,toB:d})),r=gv.applyChanges(r,l),i=ki.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),h=e.mapPos(c.to,-1);u<h&&a.push({from:u,to:h})}}}return new cC(this.parser,t,r,i,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=xV(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends QSe{createParse(t,r,i){let s=i[0].from,o=i[i.length-1].to;return{parsedPos:s,advance(){let l=gp;if(l){for(let c of i)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new ki(Qo.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return gp}};function xV(n,e,t){return gv.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}let uC=class hC{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new hC(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=MSe.create(e.facet(ef).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new hC(r)}};ms.state=Lt.define({create:uC.init,update(n,e){for(let t of e.effects)if(t.is(ms.setState))return t.value;return e.startState.facet(ef)!=e.state.facet(ef)?uC.init(e.state):n.apply(e)}});let F9=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(F9=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const hk=typeof navigator<"u"&&(!((uk=navigator.scheduling)===null||uk===void 0)&&uk.isInputPending)?()=>navigator.scheduling.isInputPending():null,VSe=Qt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(ms.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(ms.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=F9(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(ms.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!hk?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<i&&r.doc.length>i+1e3,l=s.context.work(()=>hk&&hk()||Date.now()>o,i+(a?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:ms.setState.of(new uC(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>xn(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),ef=ce.define({combine(n){return n.length?n[0]:null},enables:n=>[ms.state,VSe,ue.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});let LSe=class{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}};const zSe=new Et;function USe({except:n,units:e=1}={}){return t=>{let r=n&&n.test(t.textAfter);return t.baseIndent+(r?0:e*t.unit)}}const ZSe=new Et;function qSe(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}let BSe=class W9{constructor(e,t){this.specs=e;let r;function i(a){let l=bn.newName();return(r||(r=Object.create(null)))["."+l]=a,l}const s=typeof t.all=="string"?t.all:t.all?i(t.all):void 0,o=t.scope;this.scope=o instanceof ms?a=>a.prop(Qh)==o.data:o?a=>a==o:void 0,this.style=Tc(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=r?new bn(r):null,this.themeType=t.themeType}static define(e,t){return new W9(e,t||{})}};N.meta,N.link,N.heading,N.emphasis,N.strong,N.strikethrough,N.keyword,N.atom,N.bool,N.url,N.contentSeparator,N.labelName,N.literal,N.inserted,N.string,N.deleted,N.regexp,N.escape,N.string,N.variableName,N.variableName,N.typeName,N.namespace,N.className,N.variableName,N.macroName,N.propertyName,N.comment,N.invalid;const FSe=Object.create(null),bV=[Qo.none],SV=[],kV=Object.create(null),WSe=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])WSe[n]=XSe(FSe,e);function dk(n,e){SV.indexOf(n)>-1||(SV.push(n),console.warn(e))}function XSe(n,e){let t=[];for(let a of e.split(" ")){let l=[];for(let c of a.split(".")){let u=n[c]||N[c];u?typeof u=="function"?l.length?l=l.map(u):dk(c,`Modifier ${c} used at start of tag`):l.length?dk(c,`Tag ${c} used as modifier`):l=Array.isArray(u)?u:[u]:dk(c,`Unknown highlighting tag ${c}`)}for(let c of l)t.push(c)}if(!t.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+t.map(a=>a.id),s=kV[i];if(s)return s.id;let o=kV[i]=Qo.define({id:bV.length,name:r,props:[Ii({[r]:t})]});return bV.push(o),o.id}Ke.RTL,Ke.LTR;let fk=null;function pk(){if(!fk&&typeof document=="object"&&document.body){let{style:n}=document.body,e=[],t=new Set;for(let r in n)r!="cssText"&&r!="cssFloat"&&typeof n[r]=="string"&&(/[A-Z]/.test(r)&&(r=r.replace(/[A-Z]/g,i=>"-"+i.toLowerCase())),t.has(r)||(e.push(r),t.add(r)));fk=e.sort().map(r=>({type:"property",label:r,apply:r+": "}))}return fk||[]}const _V=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(n=>({type:"class",label:n})),TV=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(n=>({type:"keyword",label:n})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(n=>({type:"constant",label:n}))),GSe=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(n=>({type:"type",label:n})),YSe=["@charset","@color-profile","@container","@counter-style","@font-face","@font-feature-values","@font-palette-values","@import","@keyframes","@layer","@media","@namespace","@page","@position-try","@property","@scope","@starting-style","@supports","@view-transition"].map(n=>({type:"keyword",label:n})),Go=/^(\w[\w-]*|-\w[\w-]*|)$/,HSe=/^-(-[\w-]*)?$/;function KSe(n,e){var t;if((n.name=="("||n.type.isError)&&(n=n.parent||n),n.name!="ArgList")return!1;let r=(t=n.parent)===null||t===void 0?void 0:t.firstChild;return(r==null?void 0:r.name)!="Callee"?!1:e.sliceString(r.from,r.to)=="var"}const PV=new RSe,JSe=["Declaration"];function e1e(n){for(let e=n;;){if(e.type.isTop)return e;if(!(e=e.parent))return n}}function X9(n,e,t){if(e.to-e.from>4096){let r=PV.get(e);if(r)return r;let i=[],s=new Set,o=e.cursor(zn.IncludeAnonymous);if(o.firstChild())do for(let a of X9(n,o.node,t))s.has(a.label)||(s.add(a.label),i.push(a));while(o.nextSibling());return PV.set(e,i),i}else{let r=[],i=new Set;return e.cursor().iterate(s=>{var o;if(t(s)&&s.matchContext(JSe)&&((o=s.node.nextSibling)===null||o===void 0?void 0:o.name)==":"){let a=n.sliceString(s.from,s.to);i.has(a)||(i.add(a),r.push({label:a,type:"variable"}))}}),r}}const t1e=n=>e=>{let{state:t,pos:r}=e,i=ux(t).resolveInner(r,-1),s=i.type.isError&&i.from==i.to-1&&t.doc.sliceString(i.from,i.to)=="-";if(i.name=="PropertyName"||(s||i.name=="TagName")&&/^(Block|Styles)$/.test(i.resolve(i.to).name))return{from:i.from,options:pk(),validFor:Go};if(i.name=="ValueName")return{from:i.from,options:TV,validFor:Go};if(i.name=="PseudoClassName")return{from:i.from,options:_V,validFor:Go};if(n(i)||(e.explicit||s)&&KSe(i,t.doc))return{from:n(i)||s?i.from:r,options:X9(t.doc,e1e(i),n),validFor:HSe};if(i.name=="TagName"){for(let{parent:l}=i;l;l=l.parent)if(l.name=="Block")return{from:i.from,options:pk(),validFor:Go};return{from:i.from,options:GSe,validFor:Go}}if(i.name=="AtKeyword")return{from:i.from,options:YSe,validFor:Go};if(!e.explicit)return null;let o=i.resolve(r),a=o.childBefore(r);return a&&a.name==":"&&o.name=="PseudoClassSelector"?{from:r,options:_V,validFor:Go}:a&&a.name==":"&&o.name=="Declaration"||o.name=="ArgList"?{from:r,options:TV,validFor:Go}:o.name=="Block"||o.name=="Styles"?{from:r,options:pk(),validFor:Go}:null},n1e=t1e(n=>n.name=="VariableName"),hx=jSe.define({name:"css",parser:bSe.configure({props:[zSe.add({Declaration:USe()}),ZSe.add({"Block KeyframeList":qSe})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function G9(){return new LSe(hx,hx.data.of({autocomplete:n1e}))}const r1e=1024;let i1e=0,mk=class{constructor(e,t){this.from=e,this.to=t}},_t=class{constructor(e={}){this.id=i1e++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Io.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}};_t.closedBy=new _t({deserialize:n=>n.split(" ")});_t.openedBy=new _t({deserialize:n=>n.split(" ")});_t.group=new _t({deserialize:n=>n.split(" ")});_t.isolate=new _t({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});_t.contextHash=new _t({perNode:!0});_t.lookAhead=new _t({perNode:!0});_t.mounted=new _t({perNode:!0});let dx=class{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[_t.mounted.id]}};const s1e=Object.create(null);let Io=class Y9{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):s1e,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new Y9(e.name||"",t,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(_t.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(_t.group),s=-1;s<(i?i.length:0);s++){let o=t[s<0?r.name:i[s]];if(o)return o}}}};Io.none=new Io("",Object.create(null),0,8);const l0=new WeakMap,CV=new WeakMap;var nr;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(nr||(nr={}));let _i=class dC{constructor(e,t,r,i,s){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=dx.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new mC(this.topNode,e)}cursorAt(e,t=0,r=0){let i=l0.get(this)||this.topNode,s=new mC(i);return s.moveTo(e,t),l0.set(this,s._tree),s}get topNode(){return new dc(this,0,0,null)}resolve(e,t=0){let r=Bg(l0.get(this)||this.topNode,e,t,!1);return l0.set(this,r),r}resolveInner(e,t=0){let r=Bg(CV.get(this)||this.topNode,e,t,!0);return CV.set(this,r),r}resolveStack(e,t=0){return c1e(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:s=this.length}=e,o=e.mode||0,a=(o&nr.IncludeAnonymous)>0;for(let l=this.cursor(o|nr.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=i&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:xQ(Io.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new dC(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new dC(Io.none,t,r,i)))}static build(e){return u1e(e)}};_i.empty=new _i(Io.none,[],[],0);let o1e=class H9{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new H9(this.buffer,this.index)}},tf=class K9{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return Io.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(J9(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,t,r){let i=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=i[a++],s[l++]=i[a++]-r;let c=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,c)}return new K9(s,o,this.set)}};function J9(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function Bg(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!r&&n instanceof dc&&n.index<0?null:n.parent;if(!o)return n;n=o}let s=r?0:nr.IgnoreOverlays;if(r)for(let o=n,a=o.parent;a;o=a,a=o.parent)o instanceof dc&&o.index<0&&((i=a.enter(e,t,s))===null||i===void 0?void 0:i.from)!=o.from&&(n=a);for(;;){let o=n.enter(e,t,s);if(!o)return n;n=o}}let e6=class{cursor(e=0){return new mC(this,e)}getChild(e,t=null,r=null){let i=EV(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return EV(this,e,t,r)}resolve(e,t=0){return Bg(this,e,t,!1)}resolveInner(e,t=0){return Bg(this,e,t,!0)}matchContext(e){return fC(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}},dc=class Ov extends e6{constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=t>0?a.length:-1;e!=c;e+=t){let u=a[e],h=l[e]+o.from;if(J9(i,r,h,h+u.length)){if(u instanceof tf){if(s&nr.ExcludeBuffers)continue;let d=u.findChild(0,u.buffer.length,t,r-h,i);if(d>-1)return new pC(new a1e(o,u,e,h),null,d)}else if(s&nr.IncludeAnonymous||!u.type.isAnonymous||wQ(u)){let d;if(!(s&nr.IgnoreMounts)&&(d=dx.get(u))&&!d.overlay)return new Ov(d.tree,h,e,o);let m=new Ov(u,h,e,o);return s&nr.IncludeAnonymous||!m.type.isAnonymous?m:m.nextChild(t<0?u.children.length-1:0,t,r,i)}}}if(s&nr.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&nr.IgnoreOverlays)&&(i=dx.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:o,to:a}of i.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new Ov(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function EV(n,e,t,r){let i=n.cursor(),s=[];if(!i.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=i.type.is(t),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function fC(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}let a1e=class{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}},pC=class Wp extends e6{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return s<0?null:new Wp(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&nr.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new Wp(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Wp(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Wp(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),t.push(0)}return new _i(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function t6(n){if(!n.length)return null;let e=0,t=n[0];for(let s=1;s<n.length;s++){let o=n[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let r=t instanceof dc&&t.index<0?null:t.parent,i=n.slice();return r?i[e]=r:i.splice(e,1),new l1e(i,t)}let l1e=class{constructor(e,t){this.heads=e,this.node=t}get next(){return t6(this.heads)}};function c1e(n,e,t){let r=n.resolveInner(e,t),i=null;for(let s=r instanceof dc?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[r])).push(o.resolve(e,t)),s=o}else{let o=dx.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new dc(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(Bg(a,e,t,!1))}}return i?t6(i):r}let mC=class{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof dc)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof dc?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&nr.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&nr.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&nr.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let s=t+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&nr.IncludeAnonymous||a instanceof tf||!a.type.isAnonymous||wQ(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;t=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)t=new pC(this.buffer,t,this.stack[i]);return this.bufferNode=new pC(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return fC(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return fC(this._tree,e,i);let o=r[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}};function wQ(n){return n.children.some(e=>e instanceof tf||!e.type.isAnonymous||wQ(e))}function u1e(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=r1e,reused:s=[],minRepeatType:o=r.types.length}=n,a=Array.isArray(t)?new o1e(t,t.length):t,l=r.types,c=0,u=0;function h(P,Q,O,_,k,A){let{id:C,start:w,end:R,size:j}=a,V=u,M=c;for(;j<0;)if(a.next(),j==-1){let X=s[C];O.push(X),_.push(w-P);return}else if(j==-3){c=C;return}else if(j==-4){u=C;return}else throw new RangeError(`Unrecognized record size: ${j}`);let q=l[C],U,Z,ne=w-P;if(R-w<=i&&(Z=v(a.pos-Q,k))){let X=new Uint16Array(Z.size-Z.skip),F=a.pos-Z.size,G=X.length;for(;a.pos>F;)G=b(Z.start,X,G);U=new tf(X,R-Z.start,r),ne=Z.start-P}else{let X=a.pos-j;a.next();let F=[],G=[],J=C>=o?C:-1,oe=0,Se=R;for(;a.pos>X;)J>=0&&a.id==J&&a.size>=0?(a.end<=Se-i&&(g(F,G,w,oe,a.end,Se,J,V,M),oe=F.length,Se=a.end),a.next()):A>2500?d(w,X,F,G):h(w,X,F,G,J,A+1);if(J>=0&&oe>0&&oe<F.length&&g(F,G,w,oe,w,Se,J,V,M),F.reverse(),G.reverse(),J>-1&&oe>0){let le=m(q,M);U=xQ(q,F,G,0,F.length,0,R-w,le,le)}else U=y(q,F,G,R-w,V-R,M)}O.push(U),_.push(ne)}function d(P,Q,O,_){let k=[],A=0,C=-1;for(;a.pos>Q;){let{id:w,start:R,end:j,size:V}=a;if(V>4)a.next();else{if(C>-1&&R<C)break;C<0&&(C=j-i),k.push(w,R,j),A++,a.next()}}if(A){let w=new Uint16Array(A*4),R=k[k.length-2];for(let j=k.length-3,V=0;j>=0;j-=3)w[V++]=k[j],w[V++]=k[j+1]-R,w[V++]=k[j+2]-R,w[V++]=V;O.push(new tf(w,k[2]-R,r)),_.push(R-P)}}function m(P,Q){return(O,_,k)=>{let A=0,C=O.length-1,w,R;if(C>=0&&(w=O[C])instanceof _i){if(!C&&w.type==P&&w.length==k)return w;(R=w.prop(_t.lookAhead))&&(A=_[C]+w.length+R)}return y(P,O,_,k,A,Q)}}function g(P,Q,O,_,k,A,C,w,R){let j=[],V=[];for(;P.length>_;)j.push(P.pop()),V.push(Q.pop()+O-k);P.push(y(r.types[C],j,V,A-k,w-A,R)),Q.push(k-O)}function y(P,Q,O,_,k,A,C){if(A){let w=[_t.contextHash,A];C=C?[w].concat(C):[w]}if(k>25){let w=[_t.lookAhead,k];C=C?[w].concat(C):[w]}return new _i(P,Q,O,_,C)}function v(P,Q){let O=a.fork(),_=0,k=0,A=0,C=O.end-i,w={size:0,start:0,skip:0};e:for(let R=O.pos-P;O.pos>R;){let j=O.size;if(O.id==Q&&j>=0){w.size=_,w.start=k,w.skip=A,A+=4,_+=4,O.next();continue}let V=O.pos-j;if(j<0||V<R||O.start<C)break;let M=O.id>=o?4:0,q=O.start;for(O.next();O.pos>V;){if(O.size<0)if(O.size==-3)M+=4;else break e;else O.id>=o&&(M+=4);O.next()}k=q,_+=j,A+=M}return(Q<0||_==P)&&(w.size=_,w.start=k,w.skip=A),w.size>4?w:void 0}function b(P,Q,O){let{id:_,start:k,end:A,size:C}=a;if(a.next(),C>=0&&_<o){let w=O;if(C>4){let R=a.pos-(C-4);for(;a.pos>R;)O=b(P,Q,O)}Q[--O]=w,Q[--O]=A-P,Q[--O]=k-P,Q[--O]=_}else C==-3?c=_:C==-4&&(u=_);return O}let x=[],S=[];for(;a.pos>0;)h(n.start||0,n.bufferStart||0,x,S,-1,0);let $=(e=n.length)!==null&&e!==void 0?e:x.length?S[0]+x[0].length:0;return new _i(l[n.topID],x.reverse(),S.reverse(),$)}const AV=new WeakMap;function yv(n,e){if(!n.isAnonymous||e instanceof tf||e.type!=n)return 1;let t=AV.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof _i)){t=1;break}t+=yv(n,r)}AV.set(e,t)}return t}function xQ(n,e,t,r,i,s,o,a,l){let c=0;for(let g=r;g<i;g++)c+=yv(n,e[g]);let u=Math.ceil(c*1.5/8),h=[],d=[];function m(g,y,v,b,x){for(let S=v;S<b;){let $=S,P=y[S],Q=yv(n,g[S]);for(S++;S<b;S++){let O=yv(n,g[S]);if(Q+O>=u)break;Q+=O}if(S==$+1){if(Q>u){let O=g[$];m(O.children,O.positions,0,O.children.length,y[$]+x);continue}h.push(g[$])}else{let O=y[S-1]+g[S-1].length-P;h.push(xQ(n,g,y,$,S,P,O,null,l))}d.push(P+x-s)}}return m(e,t,r,i,0),(a||l)(h,d,o)}let vv=class gC{constructor(e,t,r,i,s=!1,o=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],r=!1){let i=[new gC(0,e.length,e,0,!1,r)];for(let s of t)s.to>e.length&&i.push(s);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let u=a<t.length?t[a]:null,h=u?u.fromA:1e9;if(h-l>=r)for(;o&&o.from<h;){let d=o;if(l>=d.from||h<=d.to||c){let m=Math.max(d.from,l)-c,g=Math.min(d.to,h)-c;d=m>=g?null:new gC(m,g,d.tree,d.offset+c,a>0,!!u)}if(d&&i.push(d),o.to>h)break;o=s<e.length?e[s++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return i}},h1e=class{startParse(e,t,r){return typeof e=="string"&&(e=new d1e(e)),r=r?r.length?r.map(i=>new mk(i.from,i.to)):[new mk(0,0)]:[new mk(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let s=i.advance();if(s)return s}}},d1e=class{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}};new _t({perNode:!0});var gk;const $h=new _t;function f1e(n){return ce.define({combine:n?e=>e.concat(n):void 0})}const p1e=new _t;let gs=class{constructor(e,t,r=[],i=""){this.data=e,this.name=i,$e.prototype.hasOwnProperty("tree")||Object.defineProperty($e.prototype,"tree",{get(){return Fg(this)}}),this.parser=t,this.extension=[nf.of(this),$e.languageData.of((s,o,a)=>{let l=RV(s,o,a),c=l.type.prop($h);if(!c)return[];let u=s.facet(c),h=l.type.prop(p1e);if(h){let d=l.resolve(o-l.from,a);for(let m of h)if(m.test(d,s)){let g=s.facet(m.facet);return m.type=="replace"?g:g.concat(u)}}return u})].concat(r)}isActiveAt(e,t,r=-1){return RV(e,t,r).type.prop($h)==this.data}findRegions(e){let t=e.facet(nf);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let r=[],i=(s,o)=>{if(s.prop($h)==this.data){r.push({from:o,to:o+s.length});return}let a=s.prop(_t.mounted);if(a){if(a.tree.prop($h)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+o,to:l.to+o});else r.push({from:o,to:o+s.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+o),r.length>l)return}}for(let l=0;l<s.children.length;l++){let c=s.children[l];c instanceof _i&&i(c,s.positions[l]+o)}};return i(Fg(e),0),r}get allowsNesting(){return!0}};gs.setState=Re.define();function RV(n,e,t){let r=n.facet(nf),i=Fg(n).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,t,nr.ExcludeBuffers))s.type.isTop&&(i=s);return i}let m1e=class OC extends gs{constructor(e,t,r){super(e,t,[],r),this.parser=t}static define(e){let t=f1e(e.languageData);return new OC(t,e.parser.configure({props:[$h.add(r=>r.isTop?t:void 0)]}),e.name)}configure(e,t){return new OC(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}};function Fg(n){let e=n.field(gs.state,!1);return e?e.tree:_i.empty}let g1e=class{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}},Op=null,O1e=class yC{constructor(e,t,r=[],i,s,o,a,l){this.parser=e,this.state=t,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new yC(e,t,[],_i.empty,0,r,[],null)}startParse(){return this.parser.startParse(new g1e(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=_i.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(vv.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(vv.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=Op;Op=this;try{return e()}finally{Op=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=QV(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:i,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,u,h,d)=>l.push({fromA:c,toA:u,fromB:h,toB:d})),r=vv.applyChanges(r,l),i=_i.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),h=e.mapPos(c.to,-1);u<h&&a.push({from:u,to:h})}}}return new yC(this.parser,t,r,i,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=QV(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends h1e{createParse(t,r,i){let s=i[0].from,o=i[i.length-1].to;return{parsedPos:s,advance(){let l=Op;if(l){for(let c of i)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new _i(Io.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return Op}};function QV(n,e,t){return vv.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}let vC=class wC{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new wC(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=O1e.create(e.facet(nf).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new wC(r)}};gs.state=Lt.define({create:vC.init,update(n,e){for(let t of e.effects)if(t.is(gs.setState))return t.value;return e.startState.facet(nf)!=e.state.facet(nf)?vC.init(e.state):n.apply(e)}});let n6=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(n6=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const Ok=typeof navigator<"u"&&(!((gk=navigator.scheduling)===null||gk===void 0)&&gk.isInputPending)?()=>navigator.scheduling.isInputPending():null,y1e=Qt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(gs.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(gs.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=n6(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(gs.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!Ok?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<i&&r.doc.length>i+1e3,l=s.context.work(()=>Ok&&Ok()||Date.now()>o,i+(a?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:gs.setState.of(new vC(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>xn(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),nf=ce.define({combine(n){return n.length?n[0]:null},enables:n=>[gs.state,y1e,ue.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});let v1e=class{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}};const w1e=new _t,x1e=new _t;let b1e=class r6{constructor(e,t){this.specs=e;let r;function i(a){let l=bn.newName();return(r||(r=Object.create(null)))["."+l]=a,l}const s=typeof t.all=="string"?t.all:t.all?i(t.all):void 0,o=t.scope;this.scope=o instanceof gs?a=>a.prop($h)==o.data:o?a=>a==o:void 0,this.style=Tc(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=r?new bn(r):null,this.themeType=t.themeType}static define(e,t){return new r6(e,t||{})}};N.meta,N.link,N.heading,N.emphasis,N.strong,N.strikethrough,N.keyword,N.atom,N.bool,N.url,N.contentSeparator,N.labelName,N.literal,N.inserted,N.string,N.deleted,N.regexp,N.escape,N.string,N.variableName,N.variableName,N.typeName,N.namespace,N.className,N.variableName,N.macroName,N.propertyName,N.comment,N.invalid;const S1e=new _t,k1e=Object.create(null),$V=[Io.none],IV=[],NV=Object.create(null),_1e=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])_1e[n]=T1e(k1e,e);function yk(n,e){IV.indexOf(n)>-1||(IV.push(n),console.warn(e))}function T1e(n,e){let t=[];for(let a of e.split(" ")){let l=[];for(let c of a.split(".")){let u=n[c]||N[c];u?typeof u=="function"?l.length?l=l.map(u):yk(c,`Modifier ${c} used at start of tag`):l.length?yk(c,`Tag ${c} used as modifier`):l=Array.isArray(u)?u:[u]:yk(c,`Unknown highlighting tag ${c}`)}for(let c of l)t.push(c)}if(!t.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+t.map(a=>a.id),s=NV[i];if(s)return s.id;let o=NV[i]=Io.define({id:$V.length,name:r,props:[Ii({[r]:t})]});return $V.push(o),o.id}Ke.RTL,Ke.LTR;const yp=["_blank","_self","_top","_parent"],vk=["ascii","utf-8","utf-16","latin1","latin1"],wk=["get","post","put","delete"],xk=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],hi=["true","false"],Te={},P1e={a:{attrs:{href:null,ping:null,type:null,media:null,target:yp,hreflang:null}},abbr:Te,address:Te,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:Te,aside:Te,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:Te,base:{attrs:{href:null,target:yp}},bdi:Te,bdo:Te,blockquote:{attrs:{cite:null}},body:Te,br:Te,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:xk,formmethod:wk,formnovalidate:["novalidate"],formtarget:yp,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:Te,center:Te,cite:Te,code:Te,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:Te,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:Te,div:Te,dl:Te,dt:Te,em:Te,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:Te,figure:Te,footer:Te,form:{attrs:{action:null,name:null,"accept-charset":vk,autocomplete:["on","off"],enctype:xk,method:wk,novalidate:["novalidate"],target:yp}},h1:Te,h2:Te,h3:Te,h4:Te,h5:Te,h6:Te,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:Te,hgroup:Te,hr:Te,html:{attrs:{manifest:null}},i:Te,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:xk,formmethod:wk,formnovalidate:["novalidate"],formtarget:yp,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:Te,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:Te,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:Te,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:vk,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:Te,noscript:Te,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:Te,param:{attrs:{name:null,value:null}},pre:Te,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:Te,rt:Te,ruby:Te,samp:Te,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:vk}},section:Te,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:Te,source:{attrs:{src:null,type:null,media:null}},span:Te,strong:Te,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:Te,summary:Te,sup:Te,table:Te,tbody:Te,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:Te,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:Te,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:Te,time:{attrs:{datetime:null}},title:Te,tr:Te,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:Te,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:Te},i6={accesskey:null,class:null,contenteditable:hi,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:hi,autocorrect:hi,autocapitalize:hi,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":hi,"aria-autocomplete":["inline","list","both","none"],"aria-busy":hi,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":hi,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":hi,"aria-hidden":hi,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":hi,"aria-multiselectable":hi,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":hi,"aria-relevant":null,"aria-required":hi,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},s6="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map(n=>"on"+n);for(let n of s6)i6[n]=null;class fx{constructor(e,t){this.tags=Object.assign(Object.assign({},P1e),e),this.globalAttrs=Object.assign(Object.assign({},i6),t),this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}}fx.default=new fx;function rf(n,e,t=n.length){if(!e)return"";let r=e.firstChild,i=r&&r.getChild("TagName");return i?n.sliceString(i.from,Math.min(i.to,t)):""}function sf(n,e=!1){for(;n;n=n.parent)if(n.name=="Element")if(e)e=!1;else return n;return null}function o6(n,e,t){let r=t.tags[rf(n,sf(e))];return(r==null?void 0:r.children)||t.allTags}function bQ(n,e){let t=[];for(let r=sf(e);r&&!r.type.isTop;r=sf(r.parent)){let i=rf(n,r);if(i&&r.lastChild.name=="CloseTag")break;i&&t.indexOf(i)<0&&(e.name=="EndTag"||e.from>=r.firstChild.to)&&t.push(i)}return t}const a6=/^[:\-\.\w\u00b7-\uffff]*$/;function jV(n,e,t,r,i){let s=/\s*>/.test(n.sliceDoc(i,i+5))?"":">",o=sf(t,!0);return{from:r,to:i,options:o6(n.doc,o,e).map(a=>({label:a,type:"type"})).concat(bQ(n.doc,t).map((a,l)=>({label:"/"+a,apply:"/"+a+s,type:"type",boost:99-l}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function DV(n,e,t,r){let i=/\s*>/.test(n.sliceDoc(r,r+5))?"":">";return{from:t,to:r,options:bQ(n.doc,e).map((s,o)=>({label:s,apply:s+i,type:"type",boost:99-o})),validFor:a6}}function C1e(n,e,t,r){let i=[],s=0;for(let o of o6(n.doc,t,e))i.push({label:"<"+o,type:"type"});for(let o of bQ(n.doc,t))i.push({label:"</"+o+">",type:"type",boost:99-s++});return{from:r,to:r,options:i,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function E1e(n,e,t,r,i){let s=sf(t),o=s?e.tags[rf(n.doc,s)]:null,a=o&&o.attrs?Object.keys(o.attrs):[],l=o&&o.globalAttrs===!1?a:a.length?a.concat(e.globalAttrNames):e.globalAttrNames;return{from:r,to:i,options:l.map(c=>({label:c,type:"property"})),validFor:a6}}function A1e(n,e,t,r,i){var s;let o=(s=t.parent)===null||s===void 0?void 0:s.getChild("AttributeName"),a=[],l;if(o){let c=n.sliceDoc(o.from,o.to),u=e.globalAttrs[c];if(!u){let h=sf(t),d=h?e.tags[rf(n.doc,h)]:null;u=(d==null?void 0:d.attrs)&&d.attrs[c]}if(u){let h=n.sliceDoc(r,i).toLowerCase(),d='"',m='"';/^['"]/.test(h)?(l=h[0]=='"'?/^[^"]*$/:/^[^']*$/,d="",m=n.sliceDoc(i,i+1)==h[0]?"":h[0],h=h.slice(1),r++):l=/^[^\s<>='"]*$/;for(let g of u)a.push({label:g,apply:d+g+m,type:"constant"})}}return{from:r,to:i,options:a,validFor:l}}function R1e(n,e){let{state:t,pos:r}=e,i=Fg(t).resolveInner(r,-1),s=i.resolve(r);for(let o=r,a;s==i&&(a=i.childBefore(o));){let l=a.lastChild;if(!l||!l.type.isError||l.from<l.to)break;s=i=a,o=l.from}return i.name=="TagName"?i.parent&&/CloseTag$/.test(i.parent.name)?DV(t,i,i.from,r):jV(t,n,i,i.from,r):i.name=="StartTag"?jV(t,n,i,r,r):i.name=="StartCloseTag"||i.name=="IncompleteCloseTag"?DV(t,i,r,r):i.name=="OpenTag"||i.name=="SelfClosingTag"||i.name=="AttributeName"?E1e(t,n,i,i.name=="AttributeName"?i.from:r,r):i.name=="Is"||i.name=="AttributeValue"||i.name=="UnquotedAttributeValue"?A1e(t,n,i,i.name=="Is"?r:i.from,r):e.explicit&&(s.name=="Element"||s.name=="Text"||s.name=="Document")?C1e(t,n,i,r):null}function Q1e(n){let{extraTags:e,extraGlobalAttributes:t}=n,r=t||e?new fx(e,t):fx.default;return i=>R1e(r,i)}const $1e=Oo.parser.configure({top:"SingleExpression"}),l6=[{tag:"script",attrs:n=>n.type=="text/typescript"||n.lang=="ts",parser:GX.parser},{tag:"script",attrs:n=>n.type=="text/babel"||n.type=="text/jsx",parser:YX.parser},{tag:"script",attrs:n=>n.type=="text/typescript-jsx",parser:HX.parser},{tag:"script",attrs(n){return/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(n.type)},parser:$1e},{tag:"script",attrs(n){return!n.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(n.type)},parser:Oo.parser},{tag:"style",attrs(n){return(!n.lang||n.lang=="css")&&(!n.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(n.type))},parser:hx.parser}],c6=[{name:"style",parser:hx.parser.configure({top:"Styles"})}].concat(s6.map(n=>({name:n,parser:Oo.parser}))),u6=m1e.define({name:"html",parser:nSe.configure({props:[w1e.add({Element(n){let e=/^(\s*)(<\/)?/.exec(n.textAfter);return n.node.to<=n.pos+e[0].length?n.continue():n.lineIndent(n.node.from)+(e[2]?0:n.unit)},"OpenTag CloseTag SelfClosingTag"(n){return n.column(n.node.from)+n.unit},Document(n){if(n.pos+/\s*/.exec(n.textAfter)[0].length<n.node.to)return n.continue();let e=null,t;for(let r=n.node;;){let i=r.lastChild;if(!i||i.name!="Element"||i.to!=r.to)break;e=r=i}return e&&!((t=e.lastChild)&&(t.name=="CloseTag"||t.name=="SelfClosingTag"))?n.lineIndent(e.from)+n.unit:null}}),x1e.add({Element(n){let e=n.firstChild,t=n.lastChild;return!e||e.name!="OpenTag"?null:{from:e.to,to:t.name=="CloseTag"?t.from:n.to}}}),S1e.add({"OpenTag CloseTag":n=>n.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-._"}}),wv=u6.configure({wrap:j9(l6,c6)});function I1e(n={}){let e="",t;n.matchClosingTags===!1&&(e="noMatch"),n.selfClosingTags===!0&&(e=(e?e+" ":"")+"selfClosing"),(n.nestedLanguages&&n.nestedLanguages.length||n.nestedAttributes&&n.nestedAttributes.length)&&(t=j9((n.nestedLanguages||[]).concat(l6),(n.nestedAttributes||[]).concat(c6)));let r=t?u6.configure({wrap:t,dialect:e}):e?wv.configure({dialect:e}):wv;return new v1e(r,[wv.data.of({autocomplete:Q1e(n)}),n.autoCloseTags!==!1?N1e:[],oQ().support,G9().support])}const MV=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),N1e=ue.inputHandler.of((n,e,t,r,i)=>{if(n.composing||n.state.readOnly||e!=t||r!=">"&&r!="/"||!wv.isActiveAt(n.state,e,-1))return!1;let s=i(),{state:o}=s,a=o.changeByRange(l=>{var c,u,h;let d=o.doc.sliceString(l.from-1,l.to)==r,{head:m}=l,g=Fg(o).resolveInner(m,-1),y;if(d&&r==">"&&g.name=="EndTag"){let v=g.parent;if(((u=(c=v.parent)===null||c===void 0?void 0:c.lastChild)===null||u===void 0?void 0:u.name)!="CloseTag"&&(y=rf(o.doc,v.parent,m))&&!MV.has(y)){let b=m+(o.doc.sliceString(m,m+1)===">"?1:0),x=`</${y}>`;return{range:l,changes:{from:m,to:b,insert:x}}}}else if(d&&r=="/"&&g.name=="IncompleteCloseTag"){let v=g.parent;if(g.from==m-2&&((h=v.lastChild)===null||h===void 0?void 0:h.name)!="CloseTag"&&(y=rf(o.doc,v,m))&&!MV.has(y)){let b=m+(o.doc.sliceString(m,m+1)===">"?1:0),x=`${y}>`;return{range:K.cursor(m+x.length,-1),changes:{from:m,to:b,insert:x}}}}return{range:l}});return a.changes.empty?!1:(n.dispatch([s,o.update(a,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),j1e=Ii({String:N.string,Number:N.number,"True False":N.bool,PropertyName:N.propertyName,Null:N.null,", :":N.separator,"[ ]":N.squareBracket,"{ }":N.brace}),D1e=Ia.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#ClOOQO'#Cr'#CrQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CtOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59W,59WO!iQPO,59WOVQPO,59QOqQPO'#CmO!nQPO,59`OOQO1G.k1G.kOVQPO'#CnO!vQPO,59aOOQO1G.r1G.rOOQO1G.l1G.lOOQO,59X,59XOOQO-E6k-E6kOOQO,59Y,59YOOQO-E6l-E6l",stateData:"#O~OeOS~OQSORSOSSOTSOWQO_ROgPO~OVXOgUO~O^[O~PVO[^O~O]_OVhX~OVaO~O]bO^iX~O^dO~O]_OVha~O]bO^ia~O",goto:"!kjPPPPPPkPPkqwPPPPk{!RPPP!XP!e!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:" JsonText True False Null Number String } { Object Property PropertyName : , ] [ Array",maxTerm:25,nodeProps:[["isolate",-2,6,11,""],["openedBy",7,"{",14,"["],["closedBy",8,"}",15,"]"]],propSources:[j1e],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oe~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Og~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zO]~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yO[~~'OO_~~'TO^~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),M1e=1024;let V1e=0,bk=class{constructor(e,t){this.from=e,this.to=t}},At=class{constructor(e={}){this.id=V1e++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=No.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}};At.closedBy=new At({deserialize:n=>n.split(" ")});At.openedBy=new At({deserialize:n=>n.split(" ")});At.group=new At({deserialize:n=>n.split(" ")});At.isolate=new At({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});At.contextHash=new At({perNode:!0});At.lookAhead=new At({perNode:!0});At.mounted=new At({perNode:!0});let px=class{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[At.mounted.id]}};const L1e=Object.create(null);let No=class h6{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):L1e,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new h6(e.name||"",t,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(At.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(At.group),s=-1;s<(i?i.length:0);s++){let o=t[s<0?r.name:i[s]];if(o)return o}}}};No.none=new No("",Object.create(null),0,8);const c0=new WeakMap,VV=new WeakMap;var rr;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(rr||(rr={}));let Ti=class xC{constructor(e,t,r,i,s){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=px.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new kC(this.topNode,e)}cursorAt(e,t=0,r=0){let i=c0.get(this)||this.topNode,s=new kC(i);return s.moveTo(e,t),c0.set(this,s._tree),s}get topNode(){return new fc(this,0,0,null)}resolve(e,t=0){let r=Wg(c0.get(this)||this.topNode,e,t,!1);return c0.set(this,r),r}resolveInner(e,t=0){let r=Wg(VV.get(this)||this.topNode,e,t,!0);return VV.set(this,r),r}resolveStack(e,t=0){return q1e(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:s=this.length}=e,o=e.mode||0,a=(o&rr.IncludeAnonymous)>0;for(let l=this.cursor(o|rr.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=i&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:kQ(No.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new xC(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new xC(No.none,t,r,i)))}static build(e){return B1e(e)}};Ti.empty=new Ti(No.none,[],[],0);let z1e=class d6{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new d6(this.buffer,this.index)}},of=class f6{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return No.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(p6(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,t,r){let i=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=i[a++],s[l++]=i[a++]-r;let c=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,c)}return new f6(s,o,this.set)}};function p6(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function Wg(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!r&&n instanceof fc&&n.index<0?null:n.parent;if(!o)return n;n=o}let s=r?0:rr.IgnoreOverlays;if(r)for(let o=n,a=o.parent;a;o=a,a=o.parent)o instanceof fc&&o.index<0&&((i=a.enter(e,t,s))===null||i===void 0?void 0:i.from)!=o.from&&(n=a);for(;;){let o=n.enter(e,t,s);if(!o)return n;n=o}}let m6=class{cursor(e=0){return new kC(this,e)}getChild(e,t=null,r=null){let i=LV(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return LV(this,e,t,r)}resolve(e,t=0){return Wg(this,e,t,!1)}resolveInner(e,t=0){return Wg(this,e,t,!0)}matchContext(e){return bC(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}},fc=class xv extends m6{constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=t>0?a.length:-1;e!=c;e+=t){let u=a[e],h=l[e]+o.from;if(p6(i,r,h,h+u.length)){if(u instanceof of){if(s&rr.ExcludeBuffers)continue;let d=u.findChild(0,u.buffer.length,t,r-h,i);if(d>-1)return new SC(new U1e(o,u,e,h),null,d)}else if(s&rr.IncludeAnonymous||!u.type.isAnonymous||SQ(u)){let d;if(!(s&rr.IgnoreMounts)&&(d=px.get(u))&&!d.overlay)return new xv(d.tree,h,e,o);let m=new xv(u,h,e,o);return s&rr.IncludeAnonymous||!m.type.isAnonymous?m:m.nextChild(t<0?u.children.length-1:0,t,r,i)}}}if(s&rr.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&rr.IgnoreOverlays)&&(i=px.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:o,to:a}of i.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new xv(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function LV(n,e,t,r){let i=n.cursor(),s=[];if(!i.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=i.type.is(t),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function bC(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}let U1e=class{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}},SC=class Xp extends m6{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return s<0?null:new Xp(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&rr.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new Xp(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Xp(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Xp(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),t.push(0)}return new Ti(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function g6(n){if(!n.length)return null;let e=0,t=n[0];for(let s=1;s<n.length;s++){let o=n[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let r=t instanceof fc&&t.index<0?null:t.parent,i=n.slice();return r?i[e]=r:i.splice(e,1),new Z1e(i,t)}let Z1e=class{constructor(e,t){this.heads=e,this.node=t}get next(){return g6(this.heads)}};function q1e(n,e,t){let r=n.resolveInner(e,t),i=null;for(let s=r instanceof fc?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[r])).push(o.resolve(e,t)),s=o}else{let o=px.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new fc(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(Wg(a,e,t,!1))}}return i?g6(i):r}let kC=class{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof fc)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof fc?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&rr.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&rr.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&rr.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let s=t+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&rr.IncludeAnonymous||a instanceof of||!a.type.isAnonymous||SQ(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;t=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)t=new SC(this.buffer,t,this.stack[i]);return this.bufferNode=new SC(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return bC(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return bC(this._tree,e,i);let o=r[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}};function SQ(n){return n.children.some(e=>e instanceof of||!e.type.isAnonymous||SQ(e))}function B1e(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=M1e,reused:s=[],minRepeatType:o=r.types.length}=n,a=Array.isArray(t)?new z1e(t,t.length):t,l=r.types,c=0,u=0;function h(P,Q,O,_,k,A){let{id:C,start:w,end:R,size:j}=a,V=u,M=c;for(;j<0;)if(a.next(),j==-1){let X=s[C];O.push(X),_.push(w-P);return}else if(j==-3){c=C;return}else if(j==-4){u=C;return}else throw new RangeError(`Unrecognized record size: ${j}`);let q=l[C],U,Z,ne=w-P;if(R-w<=i&&(Z=v(a.pos-Q,k))){let X=new Uint16Array(Z.size-Z.skip),F=a.pos-Z.size,G=X.length;for(;a.pos>F;)G=b(Z.start,X,G);U=new of(X,R-Z.start,r),ne=Z.start-P}else{let X=a.pos-j;a.next();let F=[],G=[],J=C>=o?C:-1,oe=0,Se=R;for(;a.pos>X;)J>=0&&a.id==J&&a.size>=0?(a.end<=Se-i&&(g(F,G,w,oe,a.end,Se,J,V,M),oe=F.length,Se=a.end),a.next()):A>2500?d(w,X,F,G):h(w,X,F,G,J,A+1);if(J>=0&&oe>0&&oe<F.length&&g(F,G,w,oe,w,Se,J,V,M),F.reverse(),G.reverse(),J>-1&&oe>0){let le=m(q,M);U=kQ(q,F,G,0,F.length,0,R-w,le,le)}else U=y(q,F,G,R-w,V-R,M)}O.push(U),_.push(ne)}function d(P,Q,O,_){let k=[],A=0,C=-1;for(;a.pos>Q;){let{id:w,start:R,end:j,size:V}=a;if(V>4)a.next();else{if(C>-1&&R<C)break;C<0&&(C=j-i),k.push(w,R,j),A++,a.next()}}if(A){let w=new Uint16Array(A*4),R=k[k.length-2];for(let j=k.length-3,V=0;j>=0;j-=3)w[V++]=k[j],w[V++]=k[j+1]-R,w[V++]=k[j+2]-R,w[V++]=V;O.push(new of(w,k[2]-R,r)),_.push(R-P)}}function m(P,Q){return(O,_,k)=>{let A=0,C=O.length-1,w,R;if(C>=0&&(w=O[C])instanceof Ti){if(!C&&w.type==P&&w.length==k)return w;(R=w.prop(At.lookAhead))&&(A=_[C]+w.length+R)}return y(P,O,_,k,A,Q)}}function g(P,Q,O,_,k,A,C,w,R){let j=[],V=[];for(;P.length>_;)j.push(P.pop()),V.push(Q.pop()+O-k);P.push(y(r.types[C],j,V,A-k,w-A,R)),Q.push(k-O)}function y(P,Q,O,_,k,A,C){if(A){let w=[At.contextHash,A];C=C?[w].concat(C):[w]}if(k>25){let w=[At.lookAhead,k];C=C?[w].concat(C):[w]}return new Ti(P,Q,O,_,C)}function v(P,Q){let O=a.fork(),_=0,k=0,A=0,C=O.end-i,w={size:0,start:0,skip:0};e:for(let R=O.pos-P;O.pos>R;){let j=O.size;if(O.id==Q&&j>=0){w.size=_,w.start=k,w.skip=A,A+=4,_+=4,O.next();continue}let V=O.pos-j;if(j<0||V<R||O.start<C)break;let M=O.id>=o?4:0,q=O.start;for(O.next();O.pos>V;){if(O.size<0)if(O.size==-3)M+=4;else break e;else O.id>=o&&(M+=4);O.next()}k=q,_+=j,A+=M}return(Q<0||_==P)&&(w.size=_,w.start=k,w.skip=A),w.size>4?w:void 0}function b(P,Q,O){let{id:_,start:k,end:A,size:C}=a;if(a.next(),C>=0&&_<o){let w=O;if(C>4){let R=a.pos-(C-4);for(;a.pos>R;)O=b(P,Q,O)}Q[--O]=w,Q[--O]=A-P,Q[--O]=k-P,Q[--O]=_}else C==-3?c=_:C==-4&&(u=_);return O}let x=[],S=[];for(;a.pos>0;)h(n.start||0,n.bufferStart||0,x,S,-1,0);let $=(e=n.length)!==null&&e!==void 0?e:x.length?S[0]+x[0].length:0;return new Ti(l[n.topID],x.reverse(),S.reverse(),$)}const zV=new WeakMap;function bv(n,e){if(!n.isAnonymous||e instanceof of||e.type!=n)return 1;let t=zV.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof Ti)){t=1;break}t+=bv(n,r)}zV.set(e,t)}return t}function kQ(n,e,t,r,i,s,o,a,l){let c=0;for(let g=r;g<i;g++)c+=bv(n,e[g]);let u=Math.ceil(c*1.5/8),h=[],d=[];function m(g,y,v,b,x){for(let S=v;S<b;){let $=S,P=y[S],Q=bv(n,g[S]);for(S++;S<b;S++){let O=bv(n,g[S]);if(Q+O>=u)break;Q+=O}if(S==$+1){if(Q>u){let O=g[$];m(O.children,O.positions,0,O.children.length,y[$]+x);continue}h.push(g[$])}else{let O=y[S-1]+g[S-1].length-P;h.push(kQ(n,g,y,$,S,P,O,null,l))}d.push(P+x-s)}}return m(e,t,r,i,0),(a||l)(h,d,o)}let Sv=class _C{constructor(e,t,r,i,s=!1,o=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],r=!1){let i=[new _C(0,e.length,e,0,!1,r)];for(let s of t)s.to>e.length&&i.push(s);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let u=a<t.length?t[a]:null,h=u?u.fromA:1e9;if(h-l>=r)for(;o&&o.from<h;){let d=o;if(l>=d.from||h<=d.to||c){let m=Math.max(d.from,l)-c,g=Math.min(d.to,h)-c;d=m>=g?null:new _C(m,g,d.tree,d.offset+c,a>0,!!u)}if(d&&i.push(d),o.to>h)break;o=s<e.length?e[s++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return i}},F1e=class{startParse(e,t,r){return typeof e=="string"&&(e=new W1e(e)),r=r?r.length?r.map(i=>new bk(i.from,i.to)):[new bk(0,0)]:[new bk(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let s=i.advance();if(s)return s}}},W1e=class{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}};new At({perNode:!0});var Sk;const Ih=new At;function X1e(n){return ce.define({combine:n?e=>e.concat(n):void 0})}const G1e=new At;let Os=class{constructor(e,t,r=[],i=""){this.data=e,this.name=i,$e.prototype.hasOwnProperty("tree")||Object.defineProperty($e.prototype,"tree",{get(){return PC(this)}}),this.parser=t,this.extension=[af.of(this),$e.languageData.of((s,o,a)=>{let l=UV(s,o,a),c=l.type.prop(Ih);if(!c)return[];let u=s.facet(c),h=l.type.prop(G1e);if(h){let d=l.resolve(o-l.from,a);for(let m of h)if(m.test(d,s)){let g=s.facet(m.facet);return m.type=="replace"?g:g.concat(u)}}return u})].concat(r)}isActiveAt(e,t,r=-1){return UV(e,t,r).type.prop(Ih)==this.data}findRegions(e){let t=e.facet(af);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let r=[],i=(s,o)=>{if(s.prop(Ih)==this.data){r.push({from:o,to:o+s.length});return}let a=s.prop(At.mounted);if(a){if(a.tree.prop(Ih)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+o,to:l.to+o});else r.push({from:o,to:o+s.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+o),r.length>l)return}}for(let l=0;l<s.children.length;l++){let c=s.children[l];c instanceof Ti&&i(c,s.positions[l]+o)}};return i(PC(e),0),r}get allowsNesting(){return!0}};Os.setState=Re.define();function UV(n,e,t){let r=n.facet(af),i=PC(n).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,t,rr.ExcludeBuffers))s.type.isTop&&(i=s);return i}let Y1e=class TC extends Os{constructor(e,t,r){super(e,t,[],r),this.parser=t}static define(e){let t=X1e(e.languageData);return new TC(t,e.parser.configure({props:[Ih.add(r=>r.isTop?t:void 0)]}),e.name)}configure(e,t){return new TC(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}};function PC(n){let e=n.field(Os.state,!1);return e?e.tree:Ti.empty}let H1e=class{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}},vp=null,K1e=class CC{constructor(e,t,r=[],i,s,o,a,l){this.parser=e,this.state=t,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new CC(e,t,[],Ti.empty,0,r,[],null)}startParse(){return this.parser.startParse(new H1e(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=Ti.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(Sv.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Sv.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=vp;vp=this;try{return e()}finally{vp=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=ZV(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:i,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,u,h,d)=>l.push({fromA:c,toA:u,fromB:h,toB:d})),r=Sv.applyChanges(r,l),i=Ti.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),h=e.mapPos(c.to,-1);u<h&&a.push({from:u,to:h})}}}return new CC(this.parser,t,r,i,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=ZV(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends F1e{createParse(t,r,i){let s=i[0].from,o=i[i.length-1].to;return{parsedPos:s,advance(){let l=vp;if(l){for(let c of i)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new Ti(No.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return vp}};function ZV(n,e,t){return Sv.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}let EC=class AC{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new AC(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=K1e.create(e.facet(af).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new AC(r)}};Os.state=Lt.define({create:EC.init,update(n,e){for(let t of e.effects)if(t.is(Os.setState))return t.value;return e.startState.facet(af)!=e.state.facet(af)?EC.init(e.state):n.apply(e)}});let O6=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(O6=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const kk=typeof navigator<"u"&&(!((Sk=navigator.scheduling)===null||Sk===void 0)&&Sk.isInputPending)?()=>navigator.scheduling.isInputPending():null,J1e=Qt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Os.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Os.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=O6(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(Os.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!kk?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<i&&r.doc.length>i+1e3,l=s.context.work(()=>kk&&kk()||Date.now()>o,i+(a?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Os.setState.of(new EC(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>xn(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),af=ce.define({combine(n){return n.length?n[0]:null},enables:n=>[Os.state,J1e,ue.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});let eke=class{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}};const tke=new At;function qV({except:n,units:e=1}={}){return t=>{let r=n&&n.test(t.textAfter);return t.baseIndent+(r?0:e*t.unit)}}const nke=new At;function rke(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}let ike=class y6{constructor(e,t){this.specs=e;let r;function i(a){let l=bn.newName();return(r||(r=Object.create(null)))["."+l]=a,l}const s=typeof t.all=="string"?t.all:t.all?i(t.all):void 0,o=t.scope;this.scope=o instanceof Os?a=>a.prop(Ih)==o.data:o?a=>a==o:void 0,this.style=Tc(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=r?new bn(r):null,this.themeType=t.themeType}static define(e,t){return new y6(e,t||{})}};N.meta,N.link,N.heading,N.emphasis,N.strong,N.strikethrough,N.keyword,N.atom,N.bool,N.url,N.contentSeparator,N.labelName,N.literal,N.inserted,N.string,N.deleted,N.regexp,N.escape,N.string,N.variableName,N.variableName,N.typeName,N.namespace,N.className,N.variableName,N.macroName,N.propertyName,N.comment,N.invalid;const ske=Object.create(null),BV=[No.none],FV=[],WV=Object.create(null),oke=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])oke[n]=ake(ske,e);function _k(n,e){FV.indexOf(n)>-1||(FV.push(n),console.warn(e))}function ake(n,e){let t=[];for(let a of e.split(" ")){let l=[];for(let c of a.split(".")){let u=n[c]||N[c];u?typeof u=="function"?l.length?l=l.map(u):_k(c,`Modifier ${c} used at start of tag`):l.length?_k(c,`Tag ${c} used as modifier`):l=Array.isArray(u)?u:[u]:_k(c,`Unknown highlighting tag ${c}`)}for(let c of l)t.push(c)}if(!t.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+t.map(a=>a.id),s=WV[i];if(s)return s.id;let o=WV[i]=No.define({id:BV.length,name:r,props:[Ii({[r]:t})]});return BV.push(o),o.id}Ke.RTL,Ke.LTR;const lke=Y1e.define({name:"json",parser:D1e.configure({props:[tke.add({Object:qV({except:/^\s*\}/}),Array:qV({except:/^\s*\]/})}),nke.add({"Object Array":rke})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function cke(){return new eke(lke)}const uke=1024;let hke=0,Tk=class{constructor(e,t){this.from=e,this.to=t}};class Rt{constructor(e={}){this.id=hke++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Ji.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}}Rt.closedBy=new Rt({deserialize:n=>n.split(" ")});Rt.openedBy=new Rt({deserialize:n=>n.split(" ")});Rt.group=new Rt({deserialize:n=>n.split(" ")});Rt.isolate=new Rt({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});Rt.contextHash=new Rt({perNode:!0});Rt.lookAhead=new Rt({perNode:!0});Rt.mounted=new Rt({perNode:!0});class mx{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[Rt.mounted.id]}}const dke=Object.create(null);class Ji{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):dke,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new Ji(e.name||"",t,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Rt.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(Rt.group),s=-1;s<(i?i.length:0);s++){let o=t[s<0?r.name:i[s]];if(o)return o}}}}Ji.none=new Ji("",Object.create(null),0,8);const u0=new WeakMap,XV=new WeakMap;var ir;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(ir||(ir={}));class br{constructor(e,t,r,i,s){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=mx.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new QC(this.topNode,e)}cursorAt(e,t=0,r=0){let i=u0.get(this)||this.topNode,s=new QC(i);return s.moveTo(e,t),u0.set(this,s._tree),s}get topNode(){return new Gi(this,0,0,null)}resolve(e,t=0){let r=Xg(u0.get(this)||this.topNode,e,t,!1);return u0.set(this,r),r}resolveInner(e,t=0){let r=Xg(XV.get(this)||this.topNode,e,t,!0);return XV.set(this,r),r}resolveStack(e,t=0){return mke(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:s=this.length}=e,o=e.mode||0,a=(o&ir.IncludeAnonymous)>0;for(let l=this.cursor(o|ir.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=i&&(!a&&l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:PQ(Ji.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new br(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new br(Ji.none,t,r,i)))}static build(e){return gke(e)}}br.empty=new br(Ji.none,[],[],0);class _Q{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new _Q(this.buffer,this.index)}}class pc{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return Ji.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(v6(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,t,r){let i=this.buffer,s=new Uint16Array(t-e),o=0;for(let a=e,l=0;a<t;){s[l++]=i[a++],s[l++]=i[a++]-r;let c=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,c)}return new pc(s,o,this.set)}}function v6(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function Xg(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!r&&n instanceof Gi&&n.index<0?null:n.parent;if(!o)return n;n=o}let s=r?0:ir.IgnoreOverlays;if(r)for(let o=n,a=o.parent;a;o=a,a=o.parent)o instanceof Gi&&o.index<0&&((i=a.enter(e,t,s))===null||i===void 0?void 0:i.from)!=o.from&&(n=a);for(;;){let o=n.enter(e,t,s);if(!o)return n;n=o}}class w6{cursor(e=0){return new QC(this,e)}getChild(e,t=null,r=null){let i=GV(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return GV(this,e,t,r)}resolve(e,t=0){return Xg(this,e,t,!1)}resolveInner(e,t=0){return Xg(this,e,t,!0)}matchContext(e){return RC(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}}class Gi extends w6{constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=t>0?a.length:-1;e!=c;e+=t){let u=a[e],h=l[e]+o.from;if(v6(i,r,h,h+u.length)){if(u instanceof pc){if(s&ir.ExcludeBuffers)continue;let d=u.findChild(0,u.buffer.length,t,r-h,i);if(d>-1)return new Cl(new fke(o,u,e,h),null,d)}else if(s&ir.IncludeAnonymous||!u.type.isAnonymous||TQ(u)){let d;if(!(s&ir.IgnoreMounts)&&(d=mx.get(u))&&!d.overlay)return new Gi(d.tree,h,e,o);let m=new Gi(u,h,e,o);return s&ir.IncludeAnonymous||!m.type.isAnonymous?m:m.nextChild(t<0?u.children.length-1:0,t,r,i)}}}if(s&ir.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&ir.IgnoreOverlays)&&(i=mx.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:o,to:a}of i.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new Gi(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function GV(n,e,t,r){let i=n.cursor(),s=[];if(!i.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=i.type.is(t),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function RC(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}class fke{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}}class Cl extends w6{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return s<0?null:new Cl(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&ir.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new Cl(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Cl(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Cl(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),t.push(0)}return new br(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function x6(n){if(!n.length)return null;let e=0,t=n[0];for(let s=1;s<n.length;s++){let o=n[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let r=t instanceof Gi&&t.index<0?null:t.parent,i=n.slice();return r?i[e]=r:i.splice(e,1),new pke(i,t)}class pke{constructor(e,t){this.heads=e,this.node=t}get next(){return x6(this.heads)}}function mke(n,e,t){let r=n.resolveInner(e,t),i=null;for(let s=r instanceof Gi?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[r])).push(o.resolve(e,t)),s=o}else{let o=mx.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new Gi(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(Xg(a,e,t,!1))}}return i?x6(i):r}class QC{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Gi)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof Gi?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&ir.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&ir.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&ir.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let s=t+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&ir.IncludeAnonymous||a instanceof pc||!a.type.isAnonymous||TQ(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;t=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)t=new Cl(this.buffer,t,this.stack[i]);return this.bufferNode=new Cl(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return RC(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return RC(this._tree,e,i);let o=r[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}}function TQ(n){return n.children.some(e=>e instanceof pc||!e.type.isAnonymous||TQ(e))}function gke(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=uke,reused:s=[],minRepeatType:o=r.types.length}=n,a=Array.isArray(t)?new _Q(t,t.length):t,l=r.types,c=0,u=0;function h(P,Q,O,_,k,A){let{id:C,start:w,end:R,size:j}=a,V=u,M=c;for(;j<0;)if(a.next(),j==-1){let X=s[C];O.push(X),_.push(w-P);return}else if(j==-3){c=C;return}else if(j==-4){u=C;return}else throw new RangeError(`Unrecognized record size: ${j}`);let q=l[C],U,Z,ne=w-P;if(R-w<=i&&(Z=v(a.pos-Q,k))){let X=new Uint16Array(Z.size-Z.skip),F=a.pos-Z.size,G=X.length;for(;a.pos>F;)G=b(Z.start,X,G);U=new pc(X,R-Z.start,r),ne=Z.start-P}else{let X=a.pos-j;a.next();let F=[],G=[],J=C>=o?C:-1,oe=0,Se=R;for(;a.pos>X;)J>=0&&a.id==J&&a.size>=0?(a.end<=Se-i&&(g(F,G,w,oe,a.end,Se,J,V,M),oe=F.length,Se=a.end),a.next()):A>2500?d(w,X,F,G):h(w,X,F,G,J,A+1);if(J>=0&&oe>0&&oe<F.length&&g(F,G,w,oe,w,Se,J,V,M),F.reverse(),G.reverse(),J>-1&&oe>0){let le=m(q,M);U=PQ(q,F,G,0,F.length,0,R-w,le,le)}else U=y(q,F,G,R-w,V-R,M)}O.push(U),_.push(ne)}function d(P,Q,O,_){let k=[],A=0,C=-1;for(;a.pos>Q;){let{id:w,start:R,end:j,size:V}=a;if(V>4)a.next();else{if(C>-1&&R<C)break;C<0&&(C=j-i),k.push(w,R,j),A++,a.next()}}if(A){let w=new Uint16Array(A*4),R=k[k.length-2];for(let j=k.length-3,V=0;j>=0;j-=3)w[V++]=k[j],w[V++]=k[j+1]-R,w[V++]=k[j+2]-R,w[V++]=V;O.push(new pc(w,k[2]-R,r)),_.push(R-P)}}function m(P,Q){return(O,_,k)=>{let A=0,C=O.length-1,w,R;if(C>=0&&(w=O[C])instanceof br){if(!C&&w.type==P&&w.length==k)return w;(R=w.prop(Rt.lookAhead))&&(A=_[C]+w.length+R)}return y(P,O,_,k,A,Q)}}function g(P,Q,O,_,k,A,C,w,R){let j=[],V=[];for(;P.length>_;)j.push(P.pop()),V.push(Q.pop()+O-k);P.push(y(r.types[C],j,V,A-k,w-A,R)),Q.push(k-O)}function y(P,Q,O,_,k,A,C){if(A){let w=[Rt.contextHash,A];C=C?[w].concat(C):[w]}if(k>25){let w=[Rt.lookAhead,k];C=C?[w].concat(C):[w]}return new br(P,Q,O,_,C)}function v(P,Q){let O=a.fork(),_=0,k=0,A=0,C=O.end-i,w={size:0,start:0,skip:0};e:for(let R=O.pos-P;O.pos>R;){let j=O.size;if(O.id==Q&&j>=0){w.size=_,w.start=k,w.skip=A,A+=4,_+=4,O.next();continue}let V=O.pos-j;if(j<0||V<R||O.start<C)break;let M=O.id>=o?4:0,q=O.start;for(O.next();O.pos>V;){if(O.size<0)if(O.size==-3)M+=4;else break e;else O.id>=o&&(M+=4);O.next()}k=q,_+=j,A+=M}return(Q<0||_==P)&&(w.size=_,w.start=k,w.skip=A),w.size>4?w:void 0}function b(P,Q,O){let{id:_,start:k,end:A,size:C}=a;if(a.next(),C>=0&&_<o){let w=O;if(C>4){let R=a.pos-(C-4);for(;a.pos>R;)O=b(P,Q,O)}Q[--O]=w,Q[--O]=A-P,Q[--O]=k-P,Q[--O]=_}else C==-3?c=_:C==-4&&(u=_);return O}let x=[],S=[];for(;a.pos>0;)h(n.start||0,n.bufferStart||0,x,S,-1,0);let $=(e=n.length)!==null&&e!==void 0?e:x.length?S[0]+x[0].length:0;return new br(l[n.topID],x.reverse(),S.reverse(),$)}const YV=new WeakMap;function kv(n,e){if(!n.isAnonymous||e instanceof pc||e.type!=n)return 1;let t=YV.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof br)){t=1;break}t+=kv(n,r)}YV.set(e,t)}return t}function PQ(n,e,t,r,i,s,o,a,l){let c=0;for(let g=r;g<i;g++)c+=kv(n,e[g]);let u=Math.ceil(c*1.5/8),h=[],d=[];function m(g,y,v,b,x){for(let S=v;S<b;){let $=S,P=y[S],Q=kv(n,g[S]);for(S++;S<b;S++){let O=kv(n,g[S]);if(Q+O>=u)break;Q+=O}if(S==$+1){if(Q>u){let O=g[$];m(O.children,O.positions,0,O.children.length,y[$]+x);continue}h.push(g[$])}else{let O=y[S-1]+g[S-1].length-P;h.push(PQ(n,g,y,$,S,P,O,null,l))}d.push(P+x-s)}}return m(e,t,r,i,0),(a||l)(h,d,o)}class cu{constructor(e,t,r,i,s=!1,o=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],r=!1){let i=[new cu(0,e.length,e,0,!1,r)];for(let s of t)s.to>e.length&&i.push(s);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let u=a<t.length?t[a]:null,h=u?u.fromA:1e9;if(h-l>=r)for(;o&&o.from<h;){let d=o;if(l>=d.from||h<=d.to||c){let m=Math.max(d.from,l)-c,g=Math.min(d.to,h)-c;d=m>=g?null:new cu(m,g,d.tree,d.offset+c,a>0,!!u)}if(d&&i.push(d),o.to>h)break;o=s<e.length?e[s++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return i}}class Oke{startParse(e,t,r){return typeof e=="string"&&(e=new yke(e)),r=r?r.length?r.map(i=>new Tk(i.from,i.to)):[new Tk(0,0)]:[new Tk(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let s=i.advance();if(s)return s}}}class yke{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new Rt({perNode:!0});var Pk;const Nh=new Rt;function vke(n){return ce.define({combine:n?e=>e.concat(n):void 0})}const wke=new Rt;class ys{constructor(e,t,r=[],i=""){this.data=e,this.name=i,$e.prototype.hasOwnProperty("tree")||Object.defineProperty($e.prototype,"tree",{get(){return Gg(this)}}),this.parser=t,this.extension=[cf.of(this),$e.languageData.of((s,o,a)=>{let l=HV(s,o,a),c=l.type.prop(Nh);if(!c)return[];let u=s.facet(c),h=l.type.prop(wke);if(h){let d=l.resolve(o-l.from,a);for(let m of h)if(m.test(d,s)){let g=s.facet(m.facet);return m.type=="replace"?g:g.concat(u)}}return u})].concat(r)}isActiveAt(e,t,r=-1){return HV(e,t,r).type.prop(Nh)==this.data}findRegions(e){let t=e.facet(cf);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let r=[],i=(s,o)=>{if(s.prop(Nh)==this.data){r.push({from:o,to:o+s.length});return}let a=s.prop(Rt.mounted);if(a){if(a.tree.prop(Nh)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+o,to:l.to+o});else r.push({from:o,to:o+s.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+o),r.length>l)return}}for(let l=0;l<s.children.length;l++){let c=s.children[l];c instanceof br&&i(c,s.positions[l]+o)}};return i(Gg(e),0),r}get allowsNesting(){return!0}}ys.setState=Re.define();function HV(n,e,t){let r=n.facet(cf),i=Gg(n).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,t,ir.ExcludeBuffers))s.type.isTop&&(i=s);return i}class gx extends ys{constructor(e,t,r){super(e,t,[],r),this.parser=t}static define(e){let t=vke(e.languageData);return new gx(t,e.parser.configure({props:[Nh.add(r=>r.isTop?t:void 0)]}),e.name)}configure(e,t){return new gx(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Gg(n){let e=n.field(ys.state,!1);return e?e.tree:br.empty}class xke{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}}let wp=null;class Ox{constructor(e,t,r=[],i,s,o,a,l){this.parser=e,this.state=t,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new Ox(e,t,[],br.empty,0,r,[],null)}startParse(){return this.parser.startParse(new xke(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=br.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(cu.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(cu.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=wp;wp=this;try{return e()}finally{wp=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=KV(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:i,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,u,h,d)=>l.push({fromA:c,toA:u,fromB:h,toB:d})),r=cu.applyChanges(r,l),i=br.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),h=e.mapPos(c.to,-1);u<h&&a.push({from:u,to:h})}}}return new Ox(this.parser,t,r,i,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=KV(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends Oke{createParse(t,r,i){let s=i[0].from,o=i[i.length-1].to;return{parsedPos:s,advance(){let l=wp;if(l){for(let c of i)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new br(Ji.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return wp}}function KV(n,e,t){return cu.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}class lf{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new lf(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=Ox.create(e.facet(cf).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new lf(r)}}ys.state=Lt.define({create:lf.init,update(n,e){for(let t of e.effects)if(t.is(ys.setState))return t.value;return e.startState.facet(cf)!=e.state.facet(cf)?lf.init(e.state):n.apply(e)}});let b6=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(b6=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const Ck=typeof navigator<"u"&&(!((Pk=navigator.scheduling)===null||Pk===void 0)&&Pk.isInputPending)?()=>navigator.scheduling.isInputPending():null,bke=Qt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(ys.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(ys.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=b6(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(ys.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!Ck?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<i&&r.doc.length>i+1e3,l=s.context.work(()=>Ck&&Ck()||Date.now()>o,i+(a?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:ys.setState.of(new lf(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>xn(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),cf=ce.define({combine(n){return n.length?n[0]:null},enables:n=>[ys.state,bke,ue.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});class Ske{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const kke=new Rt;function _ke({except:n,units:e=1}={}){return t=>{let r=n&&n.test(t.textAfter);return t.baseIndent+(r?0:e*t.unit)}}const Tke=new Rt;class CQ{constructor(e,t){this.specs=e;let r;function i(a){let l=bn.newName();return(r||(r=Object.create(null)))["."+l]=a,l}const s=typeof t.all=="string"?t.all:t.all?i(t.all):void 0,o=t.scope;this.scope=o instanceof ys?a=>a.prop(Nh)==o.data:o?a=>a==o:void 0,this.style=Tc(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=r?new bn(r):null,this.themeType=t.themeType}static define(e,t){return new CQ(e,t||{})}}N.meta,N.link,N.heading,N.emphasis,N.strong,N.strikethrough,N.keyword,N.atom,N.bool,N.url,N.contentSeparator,N.labelName,N.literal,N.inserted,N.string,N.deleted,N.regexp,N.escape,N.string,N.variableName,N.variableName,N.typeName,N.namespace,N.className,N.variableName,N.macroName,N.propertyName,N.comment,N.invalid;const Pke=Object.create(null),JV=[Ji.none],eL=[],tL=Object.create(null),Cke=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Cke[n]=Eke(Pke,e);function Ek(n,e){eL.indexOf(n)>-1||(eL.push(n),console.warn(e))}function Eke(n,e){let t=[];for(let a of e.split(" ")){let l=[];for(let c of a.split(".")){let u=n[c]||N[c];u?typeof u=="function"?l.length?l=l.map(u):Ek(c,`Modifier ${c} used at start of tag`):l.length?Ek(c,`Tag ${c} used as modifier`):l=Array.isArray(u)?u:[u]:Ek(c,`Unknown highlighting tag ${c}`)}for(let c of l)t.push(c)}if(!t.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+t.map(a=>a.id),s=tL[i];if(s)return s.id;let o=tL[i]=Ji.define({id:JV.length,name:r,props:[Ii({[r]:t})]});return JV.push(o),o.id}Ke.RTL,Ke.LTR;function nL(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function Ake(n){let e=Object.create(null),t=Object.create(null);for(let{label:i}of n){e[i[0]]=!0;for(let s=1;s<i.length;s++)t[i[s]]=!0}let r=nL(e)+nL(t)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function Rke(n){let e=n.map(i=>typeof i=="string"?{label:i}:i),[t,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:Ake(e);return i=>{let s=i.matchBefore(r);return s||i.explicit?{from:s?s.from:i.pos,options:e,validFor:t}:null}}function Qke(n,e){return t=>{for(let r=Gg(t.state).resolveInner(t.pos,-1);r;r=r.parent){if(n.indexOf(r.name)>-1)return null;if(r.type.isTop)break}return e(t)}}const S6=new class extends ko{};S6.startSide=1;S6.endSide=-1;const $ke=36,rL=1,Ike=2,oh=3,Ak=4,Nke=5,jke=6,Dke=7,Mke=8,Vke=9,Lke=10,zke=11,Uke=12,Zke=13,qke=14,Bke=15,Fke=16,Wke=17,iL=18,Xke=19,k6=20,_6=21,sL=22,Gke=23,Yke=24;function $C(n){return n>=65&&n<=90||n>=97&&n<=122||n>=48&&n<=57}function Hke(n){return n>=48&&n<=57||n>=97&&n<=102||n>=65&&n<=70}function zc(n,e,t){for(let r=!1;;){if(n.next<0)return;if(n.next==e&&!r){n.advance();return}r=t&&!r&&n.next==92,n.advance()}}function Kke(n,e){e:for(;;){if(n.next<0)return;if(n.next==36){n.advance();for(let t=0;t<e.length;t++){if(n.next!=e.charCodeAt(t))continue e;n.advance()}if(n.next==36){n.advance();return}}else n.advance()}}function Jke(n,e){let t="[{<(".indexOf(String.fromCharCode(e)),r=t<0?e:"]}>)".charCodeAt(t);for(;;){if(n.next<0)return;if(n.next==r&&n.peek(1)==39){n.advance(2);return}n.advance()}}function IC(n,e){for(;!(n.next!=95&&!$C(n.next));)e!=null&&(e+=String.fromCharCode(n.next)),n.advance();return e}function e_e(n){if(n.next==39||n.next==34||n.next==96){let e=n.next;n.advance(),zc(n,e,!1)}else IC(n)}function oL(n,e){for(;n.next==48||n.next==49;)n.advance();e&&n.next==e&&n.advance()}function aL(n,e){for(;;){if(n.next==46){if(e)break;e=!0}else if(n.next<48||n.next>57)break;n.advance()}if(n.next==69||n.next==101)for(n.advance(),(n.next==43||n.next==45)&&n.advance();n.next>=48&&n.next<=57;)n.advance()}function lL(n){for(;!(n.next<0||n.next==10);)n.advance()}function Dc(n,e){for(let t=0;t<e.length;t++)if(e.charCodeAt(t)==n)return!0;return!1}const Rk=` 	\r
`;function T6(n,e,t){let r=Object.create(null);r.true=r.false=Nke,r.null=r.unknown=jke;for(let i of n.split(" "))i&&(r[i]=k6);for(let i of e.split(" "))i&&(r[i]=_6);for(let i of(t||"").split(" "))i&&(r[i]=Yke);return r}const t_e="array binary bit boolean char character clob date decimal double float int integer interval large national nchar nclob numeric object precision real smallint time timestamp varchar varying ",n_e="absolute action add after all allocate alter and any are as asc assertion at authorization before begin between both breadth by call cascade cascaded case cast catalog check close collate collation column commit condition connect connection constraint constraints constructor continue corresponding count create cross cube current current_date current_default_transform_group current_transform_group_for_type current_path current_role current_time current_timestamp current_user cursor cycle data day deallocate declare default deferrable deferred delete depth deref desc describe descriptor deterministic diagnostics disconnect distinct do domain drop dynamic each else elseif end end-exec equals escape except exception exec execute exists exit external fetch first for foreign found from free full function general get global go goto grant group grouping handle having hold hour identity if immediate in indicator initially inner inout input insert intersect into is isolation join key language last lateral leading leave left level like limit local localtime localtimestamp locator loop map match method minute modifies module month names natural nesting new next no none not of old on only open option or order ordinality out outer output overlaps pad parameter partial path prepare preserve primary prior privileges procedure public read reads recursive redo ref references referencing relative release repeat resignal restrict result return returns revoke right role rollback rollup routine row rows savepoint schema scroll search second section select session session_user set sets signal similar size some space specific specifictype sql sqlexception sqlstate sqlwarning start state static system_user table temporary then timezone_hour timezone_minute to trailing transaction translation treat trigger under undo union unique unnest until update usage user using value values view when whenever where while with without work write year zone ",NC={backslashEscapes:!1,hashComments:!1,spaceAfterDashes:!1,slashComments:!1,doubleQuotedStrings:!1,doubleDollarQuotedStrings:!1,unquotedBitLiterals:!1,treatBitsAsBytes:!1,charSetCasts:!1,plsqlQuotingMechanism:!1,operatorChars:"*+-%<>!=&|~^/",specialVar:"?",identifierQuotes:'"',caseInsensitiveIdentifiers:!1,words:T6(n_e,t_e)};function r_e(n,e,t,r){let i={};for(let s in NC)i[s]=(n.hasOwnProperty(s)?n:NC)[s];return e&&(i.words=T6(e,t||"",r)),i}function P6(n){return new ur(e=>{var t;let{next:r}=e;if(e.advance(),Dc(r,Rk)){for(;Dc(e.next,Rk);)e.advance();e.acceptToken($ke)}else if(r==36&&n.doubleDollarQuotedStrings){let i=IC(e,"");e.next==36&&(e.advance(),Kke(e,i),e.acceptToken(oh))}else if(r==39||r==34&&n.doubleQuotedStrings)zc(e,r,n.backslashEscapes),e.acceptToken(oh);else if(r==35&&n.hashComments||r==47&&e.next==47&&n.slashComments)lL(e),e.acceptToken(rL);else if(r==45&&e.next==45&&(!n.spaceAfterDashes||e.peek(1)==32))lL(e),e.acceptToken(rL);else if(r==47&&e.next==42){e.advance();for(let i=1;;){let s=e.next;if(e.next<0)break;if(e.advance(),s==42&&e.next==47){if(i--,e.advance(),!i)break}else s==47&&e.next==42&&(i++,e.advance())}e.acceptToken(Ike)}else if((r==101||r==69)&&e.next==39)e.advance(),zc(e,39,!0),e.acceptToken(oh);else if((r==110||r==78)&&e.next==39&&n.charSetCasts)e.advance(),zc(e,39,n.backslashEscapes),e.acceptToken(oh);else if(r==95&&n.charSetCasts)for(let i=0;;i++){if(e.next==39&&i>1){e.advance(),zc(e,39,n.backslashEscapes),e.acceptToken(oh);break}if(!$C(e.next))break;e.advance()}else if(n.plsqlQuotingMechanism&&(r==113||r==81)&&e.next==39&&e.peek(1)>0&&!Dc(e.peek(1),Rk)){let i=e.peek(1);e.advance(2),Jke(e,i),e.acceptToken(oh)}else if(r==40)e.acceptToken(Dke);else if(r==41)e.acceptToken(Mke);else if(r==123)e.acceptToken(Vke);else if(r==125)e.acceptToken(Lke);else if(r==91)e.acceptToken(zke);else if(r==93)e.acceptToken(Uke);else if(r==59)e.acceptToken(Zke);else if(n.unquotedBitLiterals&&r==48&&e.next==98)e.advance(),oL(e),e.acceptToken(sL);else if((r==98||r==66)&&(e.next==39||e.next==34)){const i=e.next;e.advance(),n.treatBitsAsBytes?(zc(e,i,n.backslashEscapes),e.acceptToken(Gke)):(oL(e,i),e.acceptToken(sL))}else if(r==48&&(e.next==120||e.next==88)||(r==120||r==88)&&e.next==39){let i=e.next==39;for(e.advance();Hke(e.next);)e.advance();i&&e.next==39&&e.advance(),e.acceptToken(Ak)}else if(r==46&&e.next>=48&&e.next<=57)aL(e,!0),e.acceptToken(Ak);else if(r==46)e.acceptToken(qke);else if(r>=48&&r<=57)aL(e,!1),e.acceptToken(Ak);else if(Dc(r,n.operatorChars)){for(;Dc(e.next,n.operatorChars);)e.advance();e.acceptToken(Bke)}else if(Dc(r,n.specialVar))e.next==r&&e.advance(),e_e(e),e.acceptToken(Wke);else if(Dc(r,n.identifierQuotes))zc(e,r,!1),e.acceptToken(Xke);else if(r==58||r==44)e.acceptToken(Fke);else if($C(r)){let i=IC(e,String.fromCharCode(r));e.acceptToken(e.next==46||e.peek(-i.length-1)==46?iL:(t=n.words[i.toLowerCase()])!==null&&t!==void 0?t:iL)}})}const C6=P6(NC),i_e=Ia.deserialize({version:14,states:"%vQ]QQOOO#wQRO'#DSO$OQQO'#CwO%eQQO'#CxO%lQQO'#CyO%sQQO'#CzOOQQ'#DS'#DSOOQQ'#C}'#C}O'UQRO'#C{OOQQ'#Cv'#CvOOQQ'#C|'#C|Q]QQOOQOQQOOO'`QQO'#DOO(xQRO,59cO)PQQO,59cO)UQQO'#DSOOQQ,59d,59dO)cQQO,59dOOQQ,59e,59eO)jQQO,59eOOQQ,59f,59fO)qQQO,59fOOQQ-E6{-E6{OOQQ,59b,59bOOQQ-E6z-E6zOOQQ,59j,59jOOQQ-E6|-E6|O+VQRO1G.}O+^QQO,59cOOQQ1G/O1G/OOOQQ1G/P1G/POOQQ1G/Q1G/QP+kQQO'#C}O+rQQO1G.}O)PQQO,59cO,PQQO'#Cw",stateData:",[~OtOSPOSQOS~ORUOSUOTUOUUOVROXSOZTO]XO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O^]ORvXSvXTvXUvXVvXXvXZvX]vX_vX`vXavXbvXcvXdvXevXfvXgvXhvX~OsvX~P!jOa_Ob_Oc_O~ORUOSUOTUOUUOVROXSOZTO^tO_UO`UOa`Ob`Oc`OdUOeUOfUOgUOhUO~OWaO~P$ZOYcO~P$ZO[eO~P$ZORUOSUOTUOUUOVROXSOZTO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O]hOsoX~P%zOajObjOcjO~O^]ORkaSkaTkaUkaVkaXkaZka]ka_ka`kaakabkackadkaekafkagkahka~Oska~P'kO^]O~OWvXYvX[vX~P!jOWnO~P$ZOYoO~P$ZO[pO~P$ZO^]ORkiSkiTkiUkiVkiXkiZki]ki_ki`kiakibkickidkiekifkigkihki~Oski~P)xOWkaYka[ka~P'kO]hO~P$ZOWkiYki[ki~P)xOasObsOcsO~O",goto:"#hwPPPPPPPPPPPPPPPPPPPPPPPPPPx||||!Y!^!d!xPPP#[TYOZeUORSTWZbdfqT[OZQZORiZSWOZQbRQdSQfTZgWbdfqQ^PWk^lmrQl_Qm`RrseVORSTWZbdfq",nodeNames:" LineComment BlockComment String Number Bool Null ( ) { } [ ] ; . Operator Punctuation SpecialVar Identifier QuotedIdentifier Keyword Type Bits Bytes Builtin Script Statement CompositeIdentifier Parens Braces Brackets Statement",maxTerm:38,nodeProps:[["isolate",-4,1,2,3,19,""]],skippedNodes:[0,1,2],repeatNodeCount:3,tokenData:"RORO",tokenizers:[0,C6],topRules:{Script:[0,25]},tokenPrec:0});function jC(n){let e=n.cursor().moveTo(n.from,-1);for(;/Comment/.test(e.name);)e.moveTo(e.from,-1);return e.node}function Yg(n,e){let t=n.sliceString(e.from,e.to),r=/^([`'"])(.*)\1$/.exec(t);return r?r[2]:t}function yx(n){return n&&(n.name=="Identifier"||n.name=="QuotedIdentifier")}function s_e(n,e){if(e.name=="CompositeIdentifier"){let t=[];for(let r=e.firstChild;r;r=r.nextSibling)yx(r)&&t.push(Yg(n,r));return t}return[Yg(n,e)]}function cL(n,e){for(let t=[];;){if(!e||e.name!=".")return t;let r=jC(e);if(!yx(r))return t;t.unshift(Yg(n,r)),e=jC(r)}}function o_e(n,e){let t=Gg(n).resolveInner(e,-1),r=l_e(n.doc,t);return t.name=="Identifier"||t.name=="QuotedIdentifier"||t.name=="Keyword"?{from:t.from,quoted:t.name=="QuotedIdentifier"?n.doc.sliceString(t.from,t.from+1):null,parents:cL(n.doc,jC(t)),aliases:r}:t.name=="."?{from:e,quoted:null,parents:cL(n.doc,t),aliases:r}:{from:e,quoted:null,parents:[],empty:!0,aliases:r}}const a_e=new Set("where group having order union intersect except all distinct limit offset fetch for".split(" "));function l_e(n,e){let t;for(let i=e;!t;i=i.parent){if(!i)return null;i.name=="Statement"&&(t=i)}let r=null;for(let i=t.firstChild,s=!1,o=null;i;i=i.nextSibling){let a=i.name=="Keyword"?n.sliceString(i.from,i.to).toLowerCase():null,l=null;if(!s)s=a=="from";else if(a=="as"&&o&&yx(i.nextSibling))l=Yg(n,i.nextSibling);else{if(a&&a_e.has(a))break;o&&yx(i)&&(l=Yg(n,i))}l&&(r||(r=Object.create(null)),r[l]=s_e(n,o)),o=/Identifier$/.test(i.name)?i:null}return r}function c_e(n,e){return n?e.map(t=>Object.assign(Object.assign({},t),{label:t.label[0]==n?t.label:n+t.label+n,apply:void 0})):e}const u_e=/^\w*$/,h_e=/^[`'"]?\w*[`'"]?$/;function uL(n){return n.self&&typeof n.self.label=="string"}class EQ{constructor(e,t){this.idQuote=e,this.idCaseInsensitive=t,this.list=[],this.children=void 0}child(e){let t=this.children||(this.children=Object.create(null)),r=t[e];return r||(e&&!this.list.some(i=>i.label==e)&&this.list.push(hL(e,"type",this.idQuote,this.idCaseInsensitive)),t[e]=new EQ(this.idQuote,this.idCaseInsensitive))}maybeChild(e){return this.children?this.children[e]:null}addCompletion(e){let t=this.list.findIndex(r=>r.label==e.label);t>-1?this.list[t]=e:this.list.push(e)}addCompletions(e){for(let t of e)this.addCompletion(typeof t=="string"?hL(t,"property",this.idQuote,this.idCaseInsensitive):t)}addNamespace(e){Array.isArray(e)?this.addCompletions(e):uL(e)?this.addNamespace(e.children):this.addNamespaceObject(e)}addNamespaceObject(e){for(let t of Object.keys(e)){let r=e[t],i=null,s=t.replace(/\\?\./g,a=>a=="."?"\0":a).split("\0"),o=this;uL(r)&&(i=r.self,r=r.children);for(let a=0;a<s.length;a++)i&&a==s.length-1&&o.addCompletion(i),o=o.child(s[a].replace(/\\\./g,"."));o.addNamespace(r)}}}function hL(n,e,t,r){return new RegExp("^[a-z_][a-z_\\d]*$",r?"i":"").test(n)?{label:n,type:e}:{label:n,type:e,apply:t+n+t}}function d_e(n,e,t,r,i,s){var o;let a=((o=s==null?void 0:s.spec.identifierQuotes)===null||o===void 0?void 0:o[0])||'"',l=new EQ(a,!!(s!=null&&s.spec.caseInsensitiveIdentifiers)),c=i?l.child(i):null;return l.addNamespace(n),e&&(c||l).addCompletions(e),t&&l.addCompletions(t),c&&l.addCompletions(c.list),r&&l.addCompletions((c||l).child(r).list),u=>{let{parents:h,from:d,quoted:m,empty:g,aliases:y}=o_e(u.state,u.pos);if(g&&!u.explicit)return null;y&&h.length==1&&(h=y[h[0]]||h);let v=l;for(let S of h){for(;!v.children||!v.children[S];)if(v==l&&c)v=c;else if(v==c&&r)v=v.child(r);else return null;let $=v.maybeChild(S);if(!$)return null;v=$}let b=m&&u.state.sliceDoc(u.pos,u.pos+1)==m,x=v.list;return v==l&&y&&(x=x.concat(Object.keys(y).map(S=>({label:S,type:"constant"})))),{from:d,to:b?u.pos+1:void 0,options:c_e(m,x),validFor:m?h_e:u_e}}}function f_e(n){return n==_6?"type":n==k6?"keyword":"variable"}function p_e(n,e,t){let r=Object.keys(n).map(i=>t(e?i.toUpperCase():i,f_e(n[i])));return Qke(["QuotedIdentifier","SpecialVar","String","LineComment","BlockComment","."],Rke(r))}let m_e=i_e.configure({props:[kke.add({Statement:_ke()}),Tke.add({Statement(n,e){return{from:Math.min(n.from+100,e.doc.lineAt(n.from).to),to:n.to}},BlockComment(n){return{from:n.from+2,to:n.to-2}}}),Ii({Keyword:N.keyword,Type:N.typeName,Builtin:N.standard(N.name),Bits:N.number,Bytes:N.string,Bool:N.bool,Null:N.null,Number:N.number,String:N.string,Identifier:N.name,QuotedIdentifier:N.special(N.string),SpecialVar:N.special(N.name),LineComment:N.lineComment,BlockComment:N.blockComment,Operator:N.operator,"Semi Punctuation":N.punctuation,"( )":N.paren,"{ }":N.brace,"[ ]":N.squareBracket})]});class AQ{constructor(e,t,r){this.dialect=e,this.language=t,this.spec=r}get extension(){return this.language.extension}static define(e){let t=r_e(e,e.keywords,e.types,e.builtin),r=gx.define({name:"sql",parser:m_e.configure({tokenizers:[{from:C6,to:P6(t)}]}),languageData:{commentTokens:{line:"--",block:{open:"/*",close:"*/"}},closeBrackets:{brackets:["(","[","{","'",'"',"`"]}}});return new AQ(t,r,e)}}function g_e(n,e){return{label:n,type:e,boost:-1}}function O_e(n,e=!1,t){return p_e(n.dialect.words,e,t||g_e)}function y_e(n){return n.schema?d_e(n.schema,n.tables,n.schemas,n.defaultTable,n.defaultSchema,n.dialect||RQ):()=>null}function v_e(n){return n.schema?(n.dialect||RQ).language.data.of({autocomplete:y_e(n)}):[]}function w_e(n={}){let e=n.dialect||RQ;return new Ske(e.language,[v_e(n),e.language.data.of({autocomplete:O_e(e,n.upperCaseKeywords,n.keywordCompletion)})])}const RQ=AQ.define({}),x_e={javascript:oQ(),python:ibe(),html:I1e(),css:G9(),json:cke(),sql:w_e()},Ub=({value:n,language:e,onChange:t,readOnly:r=!1})=>{const i=E.useRef(null),s=E.useRef();return E.useEffect(()=>{if(!i.current)return;const o=n||"",a=$e.create({doc:o,extensions:[r0e,x_e[e]||oQ(),$e.readOnly.of(r),ue.lineWrapping,ue.updateListener.of(c=>{c.docChanged&&t(c.state.doc.toString())})]}),l=new ue({state:a,parent:i.current});return s.current=l,()=>{l.destroy()}},[e,r]),E.useEffect(()=>{s.current&&n!==s.current.state.doc.toString()&&s.current.dispatch({changes:{from:0,to:s.current.state.doc.length,insert:n}})},[n]),p.jsx("div",{ref:i,className:"h-full w-full"})};function E6({value:n=[],onChange:e,placeholder:t="Add tags...",className:r,maxTags:i=10}){const[s,o]=E.useState(""),a=h=>{o(h.target.value)},l=h=>{(h.key==="Enter"||h.key===",")&&s.trim()&&(h.preventDefault(),c(s.trim()))},c=h=>{if(h=h.replace(/,/g,"").trim(),!h||n.includes(h)||n.length>=i)return;const d=[...n,h];e(d),o("")},u=h=>{const d=n.filter(m=>m!==h);e(d)};return p.jsxs("div",{className:Le("flex flex-wrap gap-2 p-1 border rounded-md",r),children:[n.map(h=>p.jsxs(Ui,{variant:"secondary",className:"flex items-center gap-1",children:[h,p.jsx(eA,{className:"h-3 w-3 cursor-pointer hover:text-destructive",onClick:()=>u(h)})]},h)),p.jsx(Un,{type:"text",value:s,onChange:a,onKeyDown:l,placeholder:n.length===0?t:"",className:"flex-1 border-0 p-0 text-sm focus-visible:ring-0 min-w-[120px] h-7"})]})}const b_e=["top","right","bottom","left"],mc=Math.min,mi=Math.max,vx=Math.round,h0=Math.floor,vo=n=>({x:n,y:n}),S_e={left:"right",right:"left",bottom:"top",top:"bottom"},k_e={start:"end",end:"start"};function DC(n,e,t){return mi(n,mc(e,t))}function Na(n,e){return typeof n=="function"?n(e):n}function ja(n){return n.split("-")[0]}function Ef(n){return n.split("-")[1]}function QQ(n){return n==="x"?"y":"x"}function $Q(n){return n==="y"?"height":"width"}function gc(n){return["top","bottom"].includes(ja(n))?"y":"x"}function IQ(n){return QQ(gc(n))}function __e(n,e,t){t===void 0&&(t=!1);const r=Ef(n),i=IQ(n),s=$Q(i);let o=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=wx(o)),[o,wx(o)]}function T_e(n){const e=wx(n);return[MC(n),e,MC(e)]}function MC(n){return n.replace(/start|end/g,e=>k_e[e])}function P_e(n,e,t){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(n){case"top":case"bottom":return t?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function C_e(n,e,t,r){const i=Ef(n);let s=P_e(ja(n),t==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(MC)))),s}function wx(n){return n.replace(/left|right|bottom|top/g,e=>S_e[e])}function E_e(n){return{top:0,right:0,bottom:0,left:0,...n}}function A6(n){return typeof n!="number"?E_e(n):{top:n,right:n,bottom:n,left:n}}function xx(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function dL(n,e,t){let{reference:r,floating:i}=n;const s=gc(e),o=IQ(e),a=$Q(o),l=ja(e),c=s==="y",u=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,d=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:u,y:r.y-i.height};break;case"bottom":m={x:u,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-i.width,y:h};break;default:m={x:r.x,y:r.y}}switch(Ef(e)){case"start":m[o]-=d*(t&&c?-1:1);break;case"end":m[o]+=d*(t&&c?-1:1);break}return m}const A_e=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:n,floating:e,strategy:i}),{x:u,y:h}=dL(c,r,l),d=r,m={},g=0;for(let y=0;y<a.length;y++){const{name:v,fn:b}=a[y],{x,y:S,data:$,reset:P}=await b({x:u,y:h,initialPlacement:r,placement:d,strategy:i,middlewareData:m,rects:c,platform:o,elements:{reference:n,floating:e}});u=x??u,h=S??h,m={...m,[v]:{...m[v],...$}},P&&g<=50&&(g++,typeof P=="object"&&(P.placement&&(d=P.placement),P.rects&&(c=P.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:i}):P.rects),{x:u,y:h}=dL(c,d,l)),y=-1)}return{x:u,y:h,placement:d,strategy:i,middlewareData:m}};async function Hg(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:d=!1,padding:m=0}=Na(e,n),g=A6(m),v=a[d?h==="floating"?"reference":"floating":h],b=xx(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(v)))==null||t?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),x=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),$=await(s.isElement==null?void 0:s.isElement(S))?await(s.getScale==null?void 0:s.getScale(S))||{x:1,y:1}:{x:1,y:1},P=xx(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:S,strategy:l}):x);return{top:(b.top-P.top+g.top)/$.y,bottom:(P.bottom-b.bottom+g.bottom)/$.y,left:(b.left-P.left+g.left)/$.x,right:(P.right-b.right+g.right)/$.x}}const R_e=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Na(n,e)||{};if(c==null)return{};const h=A6(u),d={x:t,y:r},m=IQ(i),g=$Q(m),y=await o.getDimensions(c),v=m==="y",b=v?"top":"left",x=v?"bottom":"right",S=v?"clientHeight":"clientWidth",$=s.reference[g]+s.reference[m]-d[m]-s.floating[g],P=d[m]-s.reference[m],Q=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let O=Q?Q[S]:0;(!O||!await(o.isElement==null?void 0:o.isElement(Q)))&&(O=a.floating[S]||s.floating[g]);const _=$/2-P/2,k=O/2-y[g]/2-1,A=mc(h[b],k),C=mc(h[x],k),w=A,R=O-y[g]-C,j=O/2-y[g]/2+_,V=DC(w,j,R),M=!l.arrow&&Ef(i)!=null&&j!==V&&s.reference[g]/2-(j<w?A:C)-y[g]/2<0,q=M?j<w?j-w:j-R:0;return{[m]:d[m]+q,data:{[m]:V,centerOffset:j-V-q,...M&&{alignmentOffset:q}},reset:M}}}),Q_e=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:d,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:y=!0,...v}=Na(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const b=ja(i),x=gc(a),S=ja(a)===a,$=await(l.isRTL==null?void 0:l.isRTL(c.floating)),P=d||(S||!y?[wx(a)]:T_e(a)),Q=g!=="none";!d&&Q&&P.push(...C_e(a,y,g,$));const O=[a,...P],_=await Hg(e,v),k=[];let A=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&k.push(_[b]),h){const j=__e(i,o,$);k.push(_[j[0]],_[j[1]])}if(A=[...A,{placement:i,overflows:k}],!k.every(j=>j<=0)){var C,w;const j=(((C=s.flip)==null?void 0:C.index)||0)+1,V=O[j];if(V)return{data:{index:j,overflows:A},reset:{placement:V}};let M=(w=A.filter(q=>q.overflows[0]<=0).sort((q,U)=>q.overflows[1]-U.overflows[1])[0])==null?void 0:w.placement;if(!M)switch(m){case"bestFit":{var R;const q=(R=A.filter(U=>{if(Q){const Z=gc(U.placement);return Z===x||Z==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(Z=>Z>0).reduce((Z,ne)=>Z+ne,0)]).sort((U,Z)=>U[1]-Z[1])[0])==null?void 0:R[0];q&&(M=q);break}case"initialPlacement":M=a;break}if(i!==M)return{reset:{placement:M}}}return{}}}};function fL(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function pL(n){return b_e.some(e=>n[e]>=0)}const $_e=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=Na(n,e);switch(r){case"referenceHidden":{const s=await Hg(e,{...i,elementContext:"reference"}),o=fL(s,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:pL(o)}}}case"escaped":{const s=await Hg(e,{...i,altBoundary:!0}),o=fL(s,t.floating);return{data:{escapedOffsets:o,escaped:pL(o)}}}default:return{}}}}};async function I_e(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=ja(t),a=Ef(t),l=gc(t)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,h=Na(e,n);let{mainAxis:d,crossAxis:m,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof g=="number"&&(m=a==="end"?g*-1:g),l?{x:m*u,y:d*c}:{x:d*c,y:m*u}}const N_e=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await I_e(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},j_e=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:v=>{let{x:b,y:x}=v;return{x:b,y:x}}},...l}=Na(n,e),c={x:t,y:r},u=await Hg(e,l),h=gc(ja(i)),d=QQ(h);let m=c[d],g=c[h];if(s){const v=d==="y"?"top":"left",b=d==="y"?"bottom":"right",x=m+u[v],S=m-u[b];m=DC(x,m,S)}if(o){const v=h==="y"?"top":"left",b=h==="y"?"bottom":"right",x=g+u[v],S=g-u[b];g=DC(x,g,S)}const y=a.fn({...e,[d]:m,[h]:g});return{...y,data:{x:y.x-t,y:y.y-r,enabled:{[d]:s,[h]:o}}}}}},D_e=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Na(n,e),u={x:t,y:r},h=gc(i),d=QQ(h);let m=u[d],g=u[h];const y=Na(a,e),v=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const S=d==="y"?"height":"width",$=s.reference[d]-s.floating[S]+v.mainAxis,P=s.reference[d]+s.reference[S]-v.mainAxis;m<$?m=$:m>P&&(m=P)}if(c){var b,x;const S=d==="y"?"width":"height",$=["top","left"].includes(ja(i)),P=s.reference[h]-s.floating[S]+($&&((b=o.offset)==null?void 0:b[h])||0)+($?0:v.crossAxis),Q=s.reference[h]+s.reference[S]+($?0:((x=o.offset)==null?void 0:x[h])||0)-($?v.crossAxis:0);g<P?g=P:g>Q&&(g=Q)}return{[d]:m,[h]:g}}}},M_e=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Na(n,e),u=await Hg(e,c),h=ja(i),d=Ef(i),m=gc(i)==="y",{width:g,height:y}=s.floating;let v,b;h==="top"||h==="bottom"?(v=h,b=d===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(b=h,v=d==="end"?"top":"bottom");const x=y-u.top-u.bottom,S=g-u.left-u.right,$=mc(y-u[v],x),P=mc(g-u[b],S),Q=!e.middlewareData.shift;let O=$,_=P;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(_=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(O=x),Q&&!d){const A=mi(u.left,0),C=mi(u.right,0),w=mi(u.top,0),R=mi(u.bottom,0);m?_=g-2*(A!==0||C!==0?A+C:mi(u.left,u.right)):O=y-2*(w!==0||R!==0?w+R:mi(u.top,u.bottom))}await l({...e,availableWidth:_,availableHeight:O});const k=await o.getDimensions(a.floating);return g!==k.width||y!==k.height?{reset:{rects:!0}}:{}}}};function Zb(){return typeof window<"u"}function Af(n){return R6(n)?(n.nodeName||"").toLowerCase():"#document"}function Ei(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Uo(n){var e;return(e=(R6(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function R6(n){return Zb()?n instanceof Node||n instanceof Ei(n).Node:!1}function As(n){return Zb()?n instanceof Element||n instanceof Ei(n).Element:!1}function jo(n){return Zb()?n instanceof HTMLElement||n instanceof Ei(n).HTMLElement:!1}function mL(n){return!Zb()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Ei(n).ShadowRoot}function IO(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=Rs(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function V_e(n){return["table","td","th"].includes(Af(n))}function qb(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function NQ(n){const e=jQ(),t=As(n)?Rs(n):n;return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function L_e(n){let e=Oc(n);for(;jo(e)&&!uf(e);){if(NQ(e))return e;if(qb(e))return null;e=Oc(e)}return null}function jQ(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function uf(n){return["html","body","#document"].includes(Af(n))}function Rs(n){return Ei(n).getComputedStyle(n)}function Bb(n){return As(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Oc(n){if(Af(n)==="html")return n;const e=n.assignedSlot||n.parentNode||mL(n)&&n.host||Uo(n);return mL(e)?e.host:e}function Q6(n){const e=Oc(n);return uf(e)?n.ownerDocument?n.ownerDocument.body:n.body:jo(e)&&IO(e)?e:Q6(e)}function Kg(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=Q6(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),o=Ei(i);if(s){const a=VC(o);return e.concat(o,o.visualViewport||[],IO(i)?i:[],a&&t?Kg(a):[])}return e.concat(i,Kg(i,[],t))}function VC(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function $6(n){const e=Rs(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=jo(n),s=i?n.offsetWidth:t,o=i?n.offsetHeight:r,a=vx(t)!==s||vx(r)!==o;return a&&(t=s,r=o),{width:t,height:r,$:a}}function DQ(n){return As(n)?n:n.contextElement}function od(n){const e=DQ(n);if(!jo(e))return vo(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=$6(e);let o=(s?vx(t.width):t.width)/r,a=(s?vx(t.height):t.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const z_e=vo(0);function I6(n){const e=Ei(n);return!jQ()||!e.visualViewport?z_e:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function U_e(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Ei(n)?!1:e}function Iu(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=DQ(n);let o=vo(1);e&&(r?As(r)&&(o=od(r)):o=od(n));const a=U_e(s,t,r)?I6(s):vo(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,h=i.height/o.y;if(s){const d=Ei(s),m=r&&As(r)?Ei(r):r;let g=d,y=VC(g);for(;y&&r&&m!==g;){const v=od(y),b=y.getBoundingClientRect(),x=Rs(y),S=b.left+(y.clientLeft+parseFloat(x.paddingLeft))*v.x,$=b.top+(y.clientTop+parseFloat(x.paddingTop))*v.y;l*=v.x,c*=v.y,u*=v.x,h*=v.y,l+=S,c+=$,g=Ei(y),y=VC(g)}}return xx({width:u,height:h,x:l,y:c})}function MQ(n,e){const t=Bb(n).scrollLeft;return e?e.left+t:Iu(Uo(n)).left+t}function N6(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=r.left+e.scrollLeft-(t?0:MQ(n,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function Z_e(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i==="fixed",o=Uo(r),a=e?qb(e.floating):!1;if(r===o||a&&s)return t;let l={scrollLeft:0,scrollTop:0},c=vo(1);const u=vo(0),h=jo(r);if((h||!h&&!s)&&((Af(r)!=="body"||IO(o))&&(l=Bb(r)),jo(r))){const m=Iu(r);c=od(r),u.x=m.x+r.clientLeft,u.y=m.y+r.clientTop}const d=o&&!h&&!s?N6(o,l,!0):vo(0);return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+u.x+d.x,y:t.y*c.y-l.scrollTop*c.y+u.y+d.y}}function q_e(n){return Array.from(n.getClientRects())}function B_e(n){const e=Uo(n),t=Bb(n),r=n.ownerDocument.body,i=mi(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=mi(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+MQ(n);const a=-t.scrollTop;return Rs(r).direction==="rtl"&&(o+=mi(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function F_e(n,e){const t=Ei(n),r=Uo(n),i=t.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=jQ();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function W_e(n,e){const t=Iu(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=jo(n)?od(n):vo(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function gL(n,e,t){let r;if(e==="viewport")r=F_e(n,t);else if(e==="document")r=B_e(Uo(n));else if(As(e))r=W_e(e,t);else{const i=I6(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return xx(r)}function j6(n,e){const t=Oc(n);return t===e||!As(t)||uf(t)?!1:Rs(t).position==="fixed"||j6(t,e)}function X_e(n,e){const t=e.get(n);if(t)return t;let r=Kg(n,[],!1).filter(a=>As(a)&&Af(a)!=="body"),i=null;const s=Rs(n).position==="fixed";let o=s?Oc(n):n;for(;As(o)&&!uf(o);){const a=Rs(o),l=NQ(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||IO(o)&&!l&&j6(n,o))?r=r.filter(u=>u!==o):i=a,o=Oc(o)}return e.set(n,r),r}function G_e(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const o=[...t==="clippingAncestors"?qb(e)?[]:X_e(e,this._c):[].concat(t),r],a=o[0],l=o.reduce((c,u)=>{const h=gL(e,u,i);return c.top=mi(h.top,c.top),c.right=mc(h.right,c.right),c.bottom=mc(h.bottom,c.bottom),c.left=mi(h.left,c.left),c},gL(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Y_e(n){const{width:e,height:t}=$6(n);return{width:e,height:t}}function H_e(n,e,t){const r=jo(e),i=Uo(e),s=t==="fixed",o=Iu(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=vo(0);if(r||!r&&!s)if((Af(e)!=="body"||IO(i))&&(a=Bb(e)),r){const d=Iu(e,!0,s,e);l.x=d.x+e.clientLeft,l.y=d.y+e.clientTop}else i&&(l.x=MQ(i));const c=i&&!r&&!s?N6(i,a):vo(0),u=o.left+a.scrollLeft-l.x-c.x,h=o.top+a.scrollTop-l.y-c.y;return{x:u,y:h,width:o.width,height:o.height}}function Qk(n){return Rs(n).position==="static"}function OL(n,e){if(!jo(n)||Rs(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Uo(n)===t&&(t=t.ownerDocument.body),t}function D6(n,e){const t=Ei(n);if(qb(n))return t;if(!jo(n)){let i=Oc(n);for(;i&&!uf(i);){if(As(i)&&!Qk(i))return i;i=Oc(i)}return t}let r=OL(n,e);for(;r&&V_e(r)&&Qk(r);)r=OL(r,e);return r&&uf(r)&&Qk(r)&&!NQ(r)?t:r||L_e(n)||t}const K_e=async function(n){const e=this.getOffsetParent||D6,t=this.getDimensions,r=await t(n.floating);return{reference:H_e(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function J_e(n){return Rs(n).direction==="rtl"}const eTe={convertOffsetParentRelativeRectToViewportRelativeRect:Z_e,getDocumentElement:Uo,getClippingRect:G_e,getOffsetParent:D6,getElementRects:K_e,getClientRects:q_e,getDimensions:Y_e,getScale:od,isElement:As,isRTL:J_e};function tTe(n,e){let t=null,r;const i=Uo(n);function s(){var a;clearTimeout(r),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:u,width:h,height:d}=n.getBoundingClientRect();if(a||e(),!h||!d)return;const m=h0(u),g=h0(i.clientWidth-(c+h)),y=h0(i.clientHeight-(u+d)),v=h0(c),x={rootMargin:-m+"px "+-g+"px "+-y+"px "+-v+"px",threshold:mi(0,mc(1,l))||1};let S=!0;function $(P){const Q=P[0].intersectionRatio;if(Q!==l){if(!S)return o();Q?o(!1,Q):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S=!1}try{t=new IntersectionObserver($,{...x,root:i.ownerDocument})}catch{t=new IntersectionObserver($,x)}t.observe(n)}return o(!0),s}function nTe(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=DQ(n),u=i||s?[...c?Kg(c):[],...Kg(e)]:[];u.forEach(b=>{i&&b.addEventListener("scroll",t,{passive:!0}),s&&b.addEventListener("resize",t)});const h=c&&a?tTe(c,t):null;let d=-1,m=null;o&&(m=new ResizeObserver(b=>{let[x]=b;x&&x.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var S;(S=m)==null||S.observe(e)})),t()}),c&&!l&&m.observe(c),m.observe(e));let g,y=l?Iu(n):null;l&&v();function v(){const b=Iu(n);y&&(b.x!==y.x||b.y!==y.y||b.width!==y.width||b.height!==y.height)&&t(),y=b,g=requestAnimationFrame(v)}return t(),()=>{var b;u.forEach(x=>{i&&x.removeEventListener("scroll",t),s&&x.removeEventListener("resize",t)}),h==null||h(),(b=m)==null||b.disconnect(),m=null,l&&cancelAnimationFrame(g)}}const rTe=N_e,iTe=j_e,sTe=Q_e,oTe=M_e,aTe=$_e,yL=R_e,lTe=D_e,cTe=(n,e,t)=>{const r=new Map,i={platform:eTe,...t},s={...i.platform,_c:r};return A_e(n,e,{...i,platform:s})};var _v=typeof document<"u"?E.useLayoutEffect:E.useEffect;function bx(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!bx(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!bx(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function M6(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function vL(n,e){const t=M6(n);return Math.round(e*t)/t}function $k(n){const e=E.useRef(n);return _v(()=>{e.current=n}),e}function uTe(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=n,[u,h]=E.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[d,m]=E.useState(r);bx(d,r)||m(r);const[g,y]=E.useState(null),[v,b]=E.useState(null),x=E.useCallback(U=>{U!==Q.current&&(Q.current=U,y(U))},[]),S=E.useCallback(U=>{U!==O.current&&(O.current=U,b(U))},[]),$=s||g,P=o||v,Q=E.useRef(null),O=E.useRef(null),_=E.useRef(u),k=l!=null,A=$k(l),C=$k(i),w=$k(c),R=E.useCallback(()=>{if(!Q.current||!O.current)return;const U={placement:e,strategy:t,middleware:d};C.current&&(U.platform=C.current),cTe(Q.current,O.current,U).then(Z=>{const ne={...Z,isPositioned:w.current!==!1};j.current&&!bx(_.current,ne)&&(_.current=ne,Mu.flushSync(()=>{h(ne)}))})},[d,e,t,C,w]);_v(()=>{c===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,h(U=>({...U,isPositioned:!1})))},[c]);const j=E.useRef(!1);_v(()=>(j.current=!0,()=>{j.current=!1}),[]),_v(()=>{if($&&(Q.current=$),P&&(O.current=P),$&&P){if(A.current)return A.current($,P,R);R()}},[$,P,R,A,k]);const V=E.useMemo(()=>({reference:Q,floating:O,setReference:x,setFloating:S}),[x,S]),M=E.useMemo(()=>({reference:$,floating:P}),[$,P]),q=E.useMemo(()=>{const U={position:t,left:0,top:0};if(!M.floating)return U;const Z=vL(M.floating,u.x),ne=vL(M.floating,u.y);return a?{...U,transform:"translate("+Z+"px, "+ne+"px)",...M6(M.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:Z,top:ne}},[t,a,M.floating,u.x,u.y]);return E.useMemo(()=>({...u,update:R,refs:V,elements:M,floatingStyles:q}),[u,R,V,M,q])}const hTe=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?yL({element:r.current,padding:i}).fn(t):{}:r?yL({element:r,padding:i}).fn(t):{}}}},dTe=(n,e)=>({...rTe(n),options:[n,e]}),fTe=(n,e)=>({...iTe(n),options:[n,e]}),pTe=(n,e)=>({...lTe(n),options:[n,e]}),mTe=(n,e)=>({...sTe(n),options:[n,e]}),gTe=(n,e)=>({...oTe(n),options:[n,e]}),OTe=(n,e)=>({...aTe(n),options:[n,e]}),yTe=(n,e)=>({...hTe(n),options:[n,e]});var vTe="Arrow",V6=E.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...s}=n;return p.jsx(Qe.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});V6.displayName=vTe;var wTe=V6;function xTe(n,e=[]){let t=[];function r(s,o){const a=E.createContext(o),l=t.length;t=[...t,o];function c(h){const{scope:d,children:m,...g}=h,y=(d==null?void 0:d[n][l])||a,v=E.useMemo(()=>g,Object.values(g));return p.jsx(y.Provider,{value:v,children:m})}function u(h,d){const m=(d==null?void 0:d[n][l])||a,g=E.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,u]}const i=()=>{const s=t.map(o=>E.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return E.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return i.scopeName=n,[r,bTe(i,...e)]}function bTe(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function VQ(n){const[e,t]=E.useState(void 0);return $n(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=n.offsetWidth,a=n.offsetHeight;t({width:o,height:a})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var LQ="Popper",[L6,z6]=xTe(LQ),[STe,U6]=L6(LQ),Z6=n=>{const{__scopePopper:e,children:t}=n,[r,i]=E.useState(null);return p.jsx(STe,{scope:e,anchor:r,onAnchorChange:i,children:t})};Z6.displayName=LQ;var q6="PopperAnchor",B6=E.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,s=U6(q6,t),o=E.useRef(null),a=nt(e,o);return E.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:p.jsx(Qe.div,{...i,ref:a})});B6.displayName=q6;var zQ="PopperContent",[kTe,_Te]=L6(zQ),F6=E.forwardRef((n,e)=>{var le,_e,mt,Ze,Be,Ye;const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:d=!1,updatePositionStrategy:m="optimized",onPlaced:g,...y}=n,v=U6(zQ,t),[b,x]=E.useState(null),S=nt(e,pn=>x(pn)),[$,P]=E.useState(null),Q=VQ($),O=(Q==null?void 0:Q.width)??0,_=(Q==null?void 0:Q.height)??0,k=r+(s!=="center"?"-"+s:""),A=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},C=Array.isArray(c)?c:[c],w=C.length>0,R={padding:A,boundary:C.filter(PTe),altBoundary:w},{refs:j,floatingStyles:V,placement:M,isPositioned:q,middlewareData:U}=uTe({strategy:"fixed",placement:k,whileElementsMounted:(...pn)=>nTe(...pn,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[dTe({mainAxis:i+_,alignmentAxis:o}),l&&fTe({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?pTe():void 0,...R}),l&&mTe({...R}),gTe({...R,apply:({elements:pn,rects:Bn,availableWidth:js,availableHeight:Zo})=>{const{width:Ua,height:L}=Bn.reference,W=pn.floating.style;W.setProperty("--radix-popper-available-width",`${js}px`),W.setProperty("--radix-popper-available-height",`${Zo}px`),W.setProperty("--radix-popper-anchor-width",`${Ua}px`),W.setProperty("--radix-popper-anchor-height",`${L}px`)}}),$&&yTe({element:$,padding:a}),CTe({arrowWidth:O,arrowHeight:_}),d&&OTe({strategy:"referenceHidden",...R})]}),[Z,ne]=G6(M),X=sn(g);$n(()=>{q&&(X==null||X())},[q,X]);const F=(le=U.arrow)==null?void 0:le.x,G=(_e=U.arrow)==null?void 0:_e.y,J=((mt=U.arrow)==null?void 0:mt.centerOffset)!==0,[oe,Se]=E.useState();return $n(()=>{b&&Se(window.getComputedStyle(b).zIndex)},[b]),p.jsx("div",{ref:j.setFloating,"data-radix-popper-content-wrapper":"",style:{...V,transform:q?V.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:oe,"--radix-popper-transform-origin":[(Ze=U.transformOrigin)==null?void 0:Ze.x,(Be=U.transformOrigin)==null?void 0:Be.y].join(" "),...((Ye=U.hide)==null?void 0:Ye.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:p.jsx(kTe,{scope:t,placedSide:Z,onArrowChange:P,arrowX:F,arrowY:G,shouldHideArrow:J,children:p.jsx(Qe.div,{"data-side":Z,"data-align":ne,...y,ref:S,style:{...y.style,animation:q?void 0:"none"}})})})});F6.displayName=zQ;var W6="PopperArrow",TTe={top:"bottom",right:"left",bottom:"top",left:"right"},X6=E.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,s=_Te(W6,r),o=TTe[s.placedSide];return p.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:p.jsx(wTe,{...i,ref:t,style:{...i.style,display:"block"}})})});X6.displayName=W6;function PTe(n){return n!==null}var CTe=n=>({name:"transformOrigin",options:n,fn(e){var v,b,x;const{placement:t,rects:r,middlewareData:i}=e,o=((v=i.arrow)==null?void 0:v.centerOffset)!==0,a=o?0:n.arrowWidth,l=o?0:n.arrowHeight,[c,u]=G6(t),h={start:"0%",center:"50%",end:"100%"}[u],d=(((b=i.arrow)==null?void 0:b.x)??0)+a/2,m=(((x=i.arrow)==null?void 0:x.y)??0)+l/2;let g="",y="";return c==="bottom"?(g=o?h:`${d}px`,y=`${-l}px`):c==="top"?(g=o?h:`${d}px`,y=`${r.floating.height+l}px`):c==="right"?(g=`${-l}px`,y=o?h:`${m}px`):c==="left"&&(g=`${r.floating.width+l}px`,y=o?h:`${m}px`),{data:{x:g,y}}}});function G6(n){const[e,t="center"]=n.split("-");return[e,t]}var ETe=Z6,ATe=B6,RTe=F6,QTe=X6;function UQ(n){const e=E.useRef({value:n,previous:n});return E.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var $Te=[" ","Enter","ArrowUp","ArrowDown"],ITe=[" ","Enter"],NO="Select",[Fb,Wb,NTe]=zx(NO),[Rf,kAe]=xc(NO,[NTe,z6]),Xb=z6(),[jTe,Cc]=Rf(NO),[DTe,MTe]=Rf(NO),Y6=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:h,disabled:d,required:m,form:g}=n,y=Xb(e),[v,b]=E.useState(null),[x,S]=E.useState(null),[$,P]=E.useState(!1),Q=bO(c),[O=!1,_]=Wl({prop:r,defaultProp:i,onChange:s}),[k,A]=Wl({prop:o,defaultProp:a,onChange:l}),C=E.useRef(null),w=v?g||!!v.closest("form"):!0,[R,j]=E.useState(new Set),V=Array.from(R).map(M=>M.props.value).join(";");return p.jsx(ETe,{...y,children:p.jsxs(jTe,{required:m,scope:e,trigger:v,onTriggerChange:b,valueNode:x,onValueNodeChange:S,valueNodeHasChildren:$,onValueNodeHasChildrenChange:P,contentId:zl(),value:k,onValueChange:A,open:O,onOpenChange:_,dir:Q,triggerPointerDownPosRef:C,disabled:d,children:[p.jsx(Fb.Provider,{scope:e,children:p.jsx(DTe,{scope:n.__scopeSelect,onNativeOptionAdd:E.useCallback(M=>{j(q=>new Set(q).add(M))},[]),onNativeOptionRemove:E.useCallback(M=>{j(q=>{const U=new Set(q);return U.delete(M),U})},[]),children:t})}),w?p.jsxs(x7,{"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:h,value:k,onChange:M=>A(M.target.value),disabled:d,form:g,children:[k===void 0?p.jsx("option",{value:""}):null,Array.from(R)]},V):null]})})};Y6.displayName=NO;var H6="SelectTrigger",K6=E.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...i}=n,s=Xb(t),o=Cc(H6,t),a=o.disabled||r,l=nt(e,o.onTriggerChange),c=Wb(t),u=E.useRef("touch"),[h,d,m]=b7(y=>{const v=c().filter(S=>!S.disabled),b=v.find(S=>S.value===o.value),x=S7(v,y,b);x!==void 0&&o.onValueChange(x.value)}),g=y=>{a||(o.onOpenChange(!0),m()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return p.jsx(ATe,{asChild:!0,...s,children:p.jsx(Qe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":w7(o.value)?"":void 0,...i,ref:l,onClick:Pe(i.onClick,y=>{y.currentTarget.focus(),u.current!=="mouse"&&g(y)}),onPointerDown:Pe(i.onPointerDown,y=>{u.current=y.pointerType;const v=y.target;v.hasPointerCapture(y.pointerId)&&v.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(g(y),y.preventDefault())}),onKeyDown:Pe(i.onKeyDown,y=>{const v=h.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&d(y.key),!(v&&y.key===" ")&&$Te.includes(y.key)&&(g(),y.preventDefault())})})})});K6.displayName=H6;var J6="SelectValue",e7=E.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,children:s,placeholder:o="",...a}=n,l=Cc(J6,t),{onValueNodeHasChildrenChange:c}=l,u=s!==void 0,h=nt(e,l.onValueNodeChange);return $n(()=>{c(u)},[c,u]),p.jsx(Qe.span,{...a,ref:h,style:{pointerEvents:"none"},children:w7(l.value)?p.jsx(p.Fragment,{children:o}):s})});e7.displayName=J6;var VTe="SelectIcon",t7=E.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...i}=n;return p.jsx(Qe.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});t7.displayName=VTe;var LTe="SelectPortal",n7=n=>p.jsx(Zx,{asChild:!0,...n});n7.displayName=LTe;var Nu="SelectContent",r7=E.forwardRef((n,e)=>{const t=Cc(Nu,n.__scopeSelect),[r,i]=E.useState();if($n(()=>{i(new DocumentFragment)},[]),!t.open){const s=r;return s?Mu.createPortal(p.jsx(i7,{scope:n.__scopeSelect,children:p.jsx(Fb.Slot,{scope:n.__scopeSelect,children:p.jsx("div",{children:n.children})})}),s):null}return p.jsx(s7,{...n,ref:e})});r7.displayName=Nu;var ss=10,[i7,Ec]=Rf(Nu),zTe="SelectContentImpl",s7=E.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:d,collisionPadding:m,sticky:g,hideWhenDetached:y,avoidCollisions:v,...b}=n,x=Cc(Nu,t),[S,$]=E.useState(null),[P,Q]=E.useState(null),O=nt(e,le=>$(le)),[_,k]=E.useState(null),[A,C]=E.useState(null),w=Wb(t),[R,j]=E.useState(!1),V=E.useRef(!1);E.useEffect(()=>{if(S)return J3(S)},[S]),B3();const M=E.useCallback(le=>{const[_e,...mt]=w().map(Ye=>Ye.ref.current),[Ze]=mt.slice(-1),Be=document.activeElement;for(const Ye of le)if(Ye===Be||(Ye==null||Ye.scrollIntoView({block:"nearest"}),Ye===_e&&P&&(P.scrollTop=0),Ye===Ze&&P&&(P.scrollTop=P.scrollHeight),Ye==null||Ye.focus(),document.activeElement!==Be))return},[w,P]),q=E.useCallback(()=>M([_,S]),[M,_,S]);E.useEffect(()=>{R&&q()},[R,q]);const{onOpenChange:U,triggerPointerDownPosRef:Z}=x;E.useEffect(()=>{if(S){let le={x:0,y:0};const _e=Ze=>{var Be,Ye;le={x:Math.abs(Math.round(Ze.pageX)-(((Be=Z.current)==null?void 0:Be.x)??0)),y:Math.abs(Math.round(Ze.pageY)-(((Ye=Z.current)==null?void 0:Ye.y)??0))}},mt=Ze=>{le.x<=10&&le.y<=10?Ze.preventDefault():S.contains(Ze.target)||U(!1),document.removeEventListener("pointermove",_e),Z.current=null};return Z.current!==null&&(document.addEventListener("pointermove",_e),document.addEventListener("pointerup",mt,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",_e),document.removeEventListener("pointerup",mt,{capture:!0})}}},[S,U,Z]),E.useEffect(()=>{const le=()=>U(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[U]);const[ne,X]=b7(le=>{const _e=w().filter(Be=>!Be.disabled),mt=_e.find(Be=>Be.ref.current===document.activeElement),Ze=S7(_e,le,mt);Ze&&setTimeout(()=>Ze.ref.current.focus())}),F=E.useCallback((le,_e,mt)=>{const Ze=!V.current&&!mt;(x.value!==void 0&&x.value===_e||Ze)&&(k(le),Ze&&(V.current=!0))},[x.value]),G=E.useCallback(()=>S==null?void 0:S.focus(),[S]),J=E.useCallback((le,_e,mt)=>{const Ze=!V.current&&!mt;(x.value!==void 0&&x.value===_e||Ze)&&C(le)},[x.value]),oe=r==="popper"?LC:o7,Se=oe===LC?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:d,collisionPadding:m,sticky:g,hideWhenDetached:y,avoidCollisions:v}:{};return p.jsx(i7,{scope:t,content:S,viewport:P,onViewportChange:Q,itemRefCallback:F,selectedItem:_,onItemLeave:G,itemTextRefCallback:J,focusSelectedItem:q,selectedItemText:A,position:r,isPositioned:R,searchRef:ne,children:p.jsx(mR,{as:Fl,allowPinchZoom:!0,children:p.jsx(pR,{asChild:!0,trapped:x.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:Pe(i,le=>{var _e;(_e=x.trigger)==null||_e.focus({preventScroll:!0}),le.preventDefault()}),children:p.jsx(Ux,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:p.jsx(oe,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:le=>le.preventDefault(),...b,...Se,onPlaced:()=>j(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Pe(b.onKeyDown,le=>{const _e=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!_e&&le.key.length===1&&X(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let Ze=w().filter(Be=>!Be.disabled).map(Be=>Be.ref.current);if(["ArrowUp","End"].includes(le.key)&&(Ze=Ze.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){const Be=le.target,Ye=Ze.indexOf(Be);Ze=Ze.slice(Ye+1)}setTimeout(()=>M(Ze)),le.preventDefault()}})})})})})})});s7.displayName=zTe;var UTe="SelectItemAlignedPosition",o7=E.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...i}=n,s=Cc(Nu,t),o=Ec(Nu,t),[a,l]=E.useState(null),[c,u]=E.useState(null),h=nt(e,O=>u(O)),d=Wb(t),m=E.useRef(!1),g=E.useRef(!0),{viewport:y,selectedItem:v,selectedItemText:b,focusSelectedItem:x}=o,S=E.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&y&&v&&b){const O=s.trigger.getBoundingClientRect(),_=c.getBoundingClientRect(),k=s.valueNode.getBoundingClientRect(),A=b.getBoundingClientRect();if(s.dir!=="rtl"){const Be=A.left-_.left,Ye=k.left-Be,pn=O.left-Ye,Bn=O.width+pn,js=Math.max(Bn,_.width),Zo=window.innerWidth-ss,Ua=Km(Ye,[ss,Math.max(ss,Zo-js)]);a.style.minWidth=Bn+"px",a.style.left=Ua+"px"}else{const Be=_.right-A.right,Ye=window.innerWidth-k.right-Be,pn=window.innerWidth-O.right-Ye,Bn=O.width+pn,js=Math.max(Bn,_.width),Zo=window.innerWidth-ss,Ua=Km(Ye,[ss,Math.max(ss,Zo-js)]);a.style.minWidth=Bn+"px",a.style.right=Ua+"px"}const C=d(),w=window.innerHeight-ss*2,R=y.scrollHeight,j=window.getComputedStyle(c),V=parseInt(j.borderTopWidth,10),M=parseInt(j.paddingTop,10),q=parseInt(j.borderBottomWidth,10),U=parseInt(j.paddingBottom,10),Z=V+M+R+U+q,ne=Math.min(v.offsetHeight*5,Z),X=window.getComputedStyle(y),F=parseInt(X.paddingTop,10),G=parseInt(X.paddingBottom,10),J=O.top+O.height/2-ss,oe=w-J,Se=v.offsetHeight/2,le=v.offsetTop+Se,_e=V+M+le,mt=Z-_e;if(_e<=J){const Be=C.length>0&&v===C[C.length-1].ref.current;a.style.bottom="0px";const Ye=c.clientHeight-y.offsetTop-y.offsetHeight,pn=Math.max(oe,Se+(Be?G:0)+Ye+q),Bn=_e+pn;a.style.height=Bn+"px"}else{const Be=C.length>0&&v===C[0].ref.current;a.style.top="0px";const pn=Math.max(J,V+y.offsetTop+(Be?F:0)+Se)+mt;a.style.height=pn+"px",y.scrollTop=_e-J+y.offsetTop}a.style.margin=`${ss}px 0`,a.style.minHeight=ne+"px",a.style.maxHeight=w+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[d,s.trigger,s.valueNode,a,c,y,v,b,s.dir,r]);$n(()=>S(),[S]);const[$,P]=E.useState();$n(()=>{c&&P(window.getComputedStyle(c).zIndex)},[c]);const Q=E.useCallback(O=>{O&&g.current===!0&&(S(),x==null||x(),g.current=!1)},[S,x]);return p.jsx(qTe,{scope:t,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:Q,children:p.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:$},children:p.jsx(Qe.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});o7.displayName=UTe;var ZTe="SelectPopperPosition",LC=E.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:i=ss,...s}=n,o=Xb(t);return p.jsx(RTe,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});LC.displayName=ZTe;var[qTe,ZQ]=Rf(Nu,{}),zC="SelectViewport",a7=E.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...i}=n,s=Ec(zC,t),o=ZQ(zC,t),a=nt(e,s.onViewportChange),l=E.useRef(0);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),p.jsx(Fb.Slot,{scope:t,children:p.jsx(Qe.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Pe(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:d}=o;if(d!=null&&d.current&&h){const m=Math.abs(l.current-u.scrollTop);if(m>0){const g=window.innerHeight-ss*2,y=parseFloat(h.style.minHeight),v=parseFloat(h.style.height),b=Math.max(y,v);if(b<g){const x=b+m,S=Math.min(g,x),$=x-S;h.style.height=S+"px",h.style.bottom==="0px"&&(u.scrollTop=$>0?$:0,h.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});a7.displayName=zC;var l7="SelectGroup",[BTe,FTe]=Rf(l7),WTe=E.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=zl();return p.jsx(BTe,{scope:t,id:i,children:p.jsx(Qe.div,{role:"group","aria-labelledby":i,...r,ref:e})})});WTe.displayName=l7;var c7="SelectLabel",u7=E.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=FTe(c7,t);return p.jsx(Qe.div,{id:i.id,...r,ref:e})});u7.displayName=c7;var Sx="SelectItem",[XTe,h7]=Rf(Sx),d7=E.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:i=!1,textValue:s,...o}=n,a=Cc(Sx,t),l=Ec(Sx,t),c=a.value===r,[u,h]=E.useState(s??""),[d,m]=E.useState(!1),g=nt(e,x=>{var S;return(S=l.itemRefCallback)==null?void 0:S.call(l,x,r,i)}),y=zl(),v=E.useRef("touch"),b=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return p.jsx(XTe,{scope:t,value:r,disabled:i,textId:y,isSelected:c,onItemTextChange:E.useCallback(x=>{h(S=>S||((x==null?void 0:x.textContent)??"").trim())},[]),children:p.jsx(Fb.ItemSlot,{scope:t,value:r,disabled:i,textValue:u,children:p.jsx(Qe.div,{role:"option","aria-labelledby":y,"data-highlighted":d?"":void 0,"aria-selected":c&&d,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:g,onFocus:Pe(o.onFocus,()=>m(!0)),onBlur:Pe(o.onBlur,()=>m(!1)),onClick:Pe(o.onClick,()=>{v.current!=="mouse"&&b()}),onPointerUp:Pe(o.onPointerUp,()=>{v.current==="mouse"&&b()}),onPointerDown:Pe(o.onPointerDown,x=>{v.current=x.pointerType}),onPointerMove:Pe(o.onPointerMove,x=>{var S;v.current=x.pointerType,i?(S=l.onItemLeave)==null||S.call(l):v.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Pe(o.onPointerLeave,x=>{var S;x.currentTarget===document.activeElement&&((S=l.onItemLeave)==null||S.call(l))}),onKeyDown:Pe(o.onKeyDown,x=>{var $;(($=l.searchRef)==null?void 0:$.current)!==""&&x.key===" "||(ITe.includes(x.key)&&b(),x.key===" "&&x.preventDefault())})})})})});d7.displayName=Sx;var Gp="SelectItemText",f7=E.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,...s}=n,o=Cc(Gp,t),a=Ec(Gp,t),l=h7(Gp,t),c=MTe(Gp,t),[u,h]=E.useState(null),d=nt(e,b=>h(b),l.onItemTextChange,b=>{var x;return(x=a.itemTextRefCallback)==null?void 0:x.call(a,b,l.value,l.disabled)}),m=u==null?void 0:u.textContent,g=E.useMemo(()=>p.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:y,onNativeOptionRemove:v}=c;return $n(()=>(y(g),()=>v(g)),[y,v,g]),p.jsxs(p.Fragment,{children:[p.jsx(Qe.span,{id:l.textId,...s,ref:d}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Mu.createPortal(s.children,o.valueNode):null]})});f7.displayName=Gp;var p7="SelectItemIndicator",m7=E.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return h7(p7,t).isSelected?p.jsx(Qe.span,{"aria-hidden":!0,...r,ref:e}):null});m7.displayName=p7;var UC="SelectScrollUpButton",g7=E.forwardRef((n,e)=>{const t=Ec(UC,n.__scopeSelect),r=ZQ(UC,n.__scopeSelect),[i,s]=E.useState(!1),o=nt(e,r.onScrollButtonChange);return $n(()=>{if(t.viewport&&t.isPositioned){let a=function(){const c=l.scrollTop>0;s(c)};const l=t.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[t.viewport,t.isPositioned]),i?p.jsx(y7,{...n,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=t;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});g7.displayName=UC;var ZC="SelectScrollDownButton",O7=E.forwardRef((n,e)=>{const t=Ec(ZC,n.__scopeSelect),r=ZQ(ZC,n.__scopeSelect),[i,s]=E.useState(!1),o=nt(e,r.onScrollButtonChange);return $n(()=>{if(t.viewport&&t.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;s(u)};const l=t.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[t.viewport,t.isPositioned]),i?p.jsx(y7,{...n,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=t;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});O7.displayName=ZC;var y7=E.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...i}=n,s=Ec("SelectScrollButton",t),o=E.useRef(null),a=Wb(t),l=E.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return E.useEffect(()=>()=>l(),[l]),$n(()=>{var u;const c=a().find(h=>h.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),p.jsx(Qe.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Pe(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Pe(i.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Pe(i.onPointerLeave,()=>{l()})})}),GTe="SelectSeparator",v7=E.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return p.jsx(Qe.div,{"aria-hidden":!0,...r,ref:e})});v7.displayName=GTe;var qC="SelectArrow",YTe=E.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=Xb(t),s=Cc(qC,t),o=Ec(qC,t);return s.open&&o.position==="popper"?p.jsx(QTe,{...i,...r,ref:e}):null});YTe.displayName=qC;function w7(n){return n===""||n===void 0}var x7=E.forwardRef((n,e)=>{const{value:t,...r}=n,i=E.useRef(null),s=nt(e,i),o=UQ(t);return E.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==t&&u){const h=new Event("change",{bubbles:!0});u.call(a,t),a.dispatchEvent(h)}},[o,t]),p.jsx(qx,{asChild:!0,children:p.jsx("select",{...r,ref:s,defaultValue:t})})});x7.displayName="BubbleSelect";function b7(n){const e=sn(n),t=E.useRef(""),r=E.useRef(0),i=E.useCallback(o=>{const a=t.current+o;e(a),function l(c){t.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),s=E.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return E.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,i,s]}function S7(n,e,t){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=t?n.indexOf(t):-1;let o=HTe(n,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==t));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==t?l:void 0}function HTe(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var KTe=Y6,k7=K6,JTe=e7,ePe=t7,tPe=n7,_7=r7,nPe=a7,T7=u7,P7=d7,rPe=f7,iPe=m7,C7=g7,E7=O7,A7=v7;const sPe=KTe,oPe=JTe,R7=E.forwardRef(({className:n,children:e,...t},r)=>p.jsxs(k7,{ref:r,className:Le("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...t,children:[e,p.jsx(ePe,{asChild:!0,children:p.jsx(mn,{className:"h-4 w-4 opacity-50"})})]}));R7.displayName=k7.displayName;const Q7=E.forwardRef(({className:n,...e},t)=>p.jsx(C7,{ref:t,className:Le("flex cursor-default items-center justify-center py-1",n),...e,children:p.jsx(Sn,{className:"h-4 w-4"})}));Q7.displayName=C7.displayName;const $7=E.forwardRef(({className:n,...e},t)=>p.jsx(E7,{ref:t,className:Le("flex cursor-default items-center justify-center py-1",n),...e,children:p.jsx(mn,{className:"h-4 w-4"})}));$7.displayName=E7.displayName;const I7=E.forwardRef(({className:n,children:e,position:t="popper",...r},i)=>p.jsx(tPe,{children:p.jsxs(_7,{ref:i,className:Le("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...r,children:[p.jsx(Q7,{}),p.jsx(nPe,{className:Le("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),p.jsx($7,{})]})}));I7.displayName=_7.displayName;const aPe=E.forwardRef(({className:n,...e},t)=>p.jsx(T7,{ref:t,className:Le("py-1.5 pl-8 pr-2 text-sm font-semibold",n),...e}));aPe.displayName=T7.displayName;const BC=E.forwardRef(({className:n,children:e,...t},r)=>p.jsxs(P7,{ref:r,className:Le("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(iPe,{children:p.jsx(JE,{className:"h-4 w-4"})})}),p.jsx(rPe,{children:e})]}));BC.displayName=P7.displayName;const lPe=E.forwardRef(({className:n,...e},t)=>p.jsx(A7,{ref:t,className:Le("-mx-1 my-1 h-px bg-muted",n),...e}));lPe.displayName=A7.displayName;const qQ={title:at.string().min(1,"Title is required"),description:at.string().optional(),tags:at.array(at.string()).default([]),projectId:at.string().optional()},cPe=at.object({...qQ,content:at.string().min(1,"Content is required"),language:at.string().default("javascript")}),uPe=at.object({...qQ,content:at.string().min(1,"Content is required")}),hPe=at.object({...qQ,items:at.array(at.object({text:at.string(),checked:at.boolean()})).default([{text:"",checked:!1}])});function oa({type:n,trigger:e,onCreated:t}){const[r,i]=E.useState(!1),{user:s}=ai(),{toast:o}=oi(),[a,l]=E.useState([{text:"",checked:!1}]),c=es(),[u,h]=E.useState([]),[d,m]=E.useState(!1),[g,y]=E.useState("");E.useEffect(()=>{(async()=>{if(s)try{const Q=Yn(un(De,"projects"),nn("userId","==",s.uid)),_=(await Hn(Q)).docs.map(k=>({id:k.id,name:k.data().name}));h(_)}catch(Q){console.error("Error fetching projects:",Q)}})()},[s]);const v=Sb({resolver:kb(n==="snippet"?cPe:n==="note"?uPe:hPe),defaultValues:{title:"",description:"",content:"",language:"javascript",tags:[],projectId:"uncategorized"}}),b=async()=>{if(!(!s||!g.trim()))try{const P=Date.now(),Q=await Ow(un(De,"projects"),{name:g.trim(),userId:s.uid,createdAt:P,updatedAt:P}),O={id:Q.id,name:g.trim()};h([...u,O]),v.setValue("projectId",Q.id),y(""),m(!1)}catch(P){console.error("Error creating project:",P),o({variant:"destructive",title:"Error",description:P.message||"Failed to create project. Please try again."})}},x=async P=>{try{if(!s){o({variant:"destructive",title:"Error",description:"You must be logged in to create items"});return}const Q=n==="snippet"?"snippets":n==="note"?"notes":"checklists",O=n==="checklist"?JSON.stringify(a.filter(A=>A.text.trim())):P.content,k={id:(await Ow(un(De,Q),{...P,content:O,userId:s.uid,createdAt:Hm(),updatedAt:Hm()})).id,...P,content:O,userId:s.uid,createdAt:new Date().getTime(),updatedAt:new Date().getTime()};c.setQueryData(["items",s.uid,Q],A=>A?[k,...A]:[k]),c.setQueryData(["folder-items",s.uid,Q],A=>A?[k,...A]:[k]),c.invalidateQueries({queryKey:["items"]}),c.invalidateQueries({queryKey:["folder-items"]}),o({title:"Success",description:`${n} created successfully`}),i(!1),v.reset(),t==null||t()}catch(Q){console.error("Creation error:",Q),o({variant:"destructive",title:"Error",description:Q.message||"Failed to create item. Please try again."})}},S=()=>{l([...a,{text:"",checked:!1}])},$=(P,Q)=>{const O=[...a];O[P].text=Q,l(O)};return p.jsxs(mm,{open:r,onOpenChange:i,children:[p.jsx(wB,{asChild:!0,children:e}),p.jsxs(Yh,{className:"max-w-full h-[90vh] flex flex-col p-0",children:[p.jsxs(Hh,{className:"px-6 py-4 border-b",children:[p.jsxs(Kh,{children:["Create New ",n.charAt(0).toUpperCase()+n.slice(1)]}),p.jsxs(Jh,{children:["Add a new ",n," to your collection. All fields marked with * are required."]})]}),p.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:p.jsx(fg,{...v,children:p.jsxs("form",{onSubmit:v.handleSubmit(x),className:"space-y-4 max-w-2xl mx-auto",children:[p.jsx(Kn,{control:v.control,name:"title",render:({field:P})=>p.jsxs(Dn,{children:[p.jsx(yn,{children:"Title *"}),p.jsx(Tn,{children:p.jsx(Un,{...P,placeholder:`Enter ${n} title`})}),p.jsx(Mn,{})]})}),p.jsx(Kn,{control:v.control,name:"description",render:({field:P})=>p.jsxs(Dn,{children:[p.jsx(yn,{children:"Description"}),p.jsx(Tn,{children:p.jsx(Un,{...P,placeholder:"Add a description (optional)"})}),p.jsx(Mn,{})]})}),n==="snippet"&&p.jsx(Kn,{control:v.control,name:"language",render:({field:P})=>p.jsxs(Dn,{children:[p.jsx(yn,{children:"Language *"}),p.jsx(Tn,{children:p.jsx(Un,{...P,placeholder:"javascript"})}),p.jsx(Mn,{})]})}),p.jsx(Kn,{control:v.control,name:"tags",render:({field:P})=>p.jsxs(Dn,{children:[p.jsx(yn,{children:"Tags"}),p.jsx(Tn,{children:p.jsx(E6,{value:P.value,onChange:P.onChange,placeholder:"Add tags (press Enter or comma to add)"})}),p.jsx(Mn,{})]})}),p.jsx(Kn,{control:v.control,name:"projectId",render:({field:P})=>p.jsxs(Dn,{children:[p.jsx(yn,{children:"Project"}),d?p.jsxs("div",{className:"flex gap-2",children:[p.jsx(Tn,{children:p.jsx(Un,{value:g,onChange:Q=>y(Q.target.value),placeholder:"Enter new project name"})}),p.jsx(se,{type:"button",variant:"outline",onClick:b,disabled:!g.trim(),children:"Create"}),p.jsx(se,{type:"button",variant:"ghost",onClick:()=>m(!1),children:"Cancel"})]}):p.jsxs("div",{className:"flex gap-2",children:[p.jsx(Tn,{children:p.jsxs(sPe,{value:P.value,onValueChange:P.onChange,children:[p.jsx(R7,{className:"w-full",children:p.jsx(oPe,{placeholder:"Select a project or leave empty"})}),p.jsxs(I7,{children:[p.jsx(BC,{value:"uncategorized",children:"Uncategorized"}),u.map(Q=>p.jsx(BC,{value:Q.id,children:Q.name},Q.id))]})]})}),p.jsx(se,{type:"button",variant:"outline",onClick:()=>m(!0),children:"New Project"})]}),p.jsx(Mn,{})]})}),n!=="checklist"?p.jsx(Kn,{control:v.control,name:"content",render:({field:P})=>p.jsxs(Dn,{children:[p.jsx(yn,{children:"Content *"}),p.jsx(Tn,{children:n==="snippet"?p.jsx("div",{className:"h-[400px] rounded-md border",children:p.jsx(Ub,{value:P.value,language:v.getValues("language"),onChange:P.onChange})}):p.jsx(pg,{...P,placeholder:"Enter your note content",className:"min-h-[200px]"})}),p.jsx(Mn,{})]})}):p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(yn,{children:"Checklist Items *"}),p.jsx(se,{type:"button",variant:"outline",size:"sm",onClick:S,children:"Add Item"})]}),a.map((P,Q)=>p.jsx("div",{className:"flex items-center gap-2",children:p.jsx(Un,{value:P.text,onChange:O=>$(Q,O.target.value),placeholder:"Enter checklist item"})},Q))]})]})})}),p.jsx("div",{className:"bg-background py-4 px-6 border-t",children:p.jsx(se,{type:"submit",className:"w-full",onClick:v.handleSubmit(x),children:"Create"})})]})]})}function Ik({type:n,userId:e}){const{data:t,isLoading:r,error:i}=yu({queryKey:["folder-items",e,n],queryFn:async()=>{if(!e)return[];try{console.log(`Fetching ${n} for user:`,e);try{const o=Yn(un(De,n),nn("userId","==",e),_q("updatedAt","desc")),a=await Hn(o);console.log(`${n} query snapshot:`,a.size,"documents");const l=a.docs.map(c=>({id:c.id,...c.data()}));return console.log(`${n} processed results:`,l),l}catch(o){if(o.message&&o.message.includes("index")){console.warn(`Index error for ${n}, falling back to simpler query:`,o.message);const a=Yn(un(De,n),nn("userId","==",e),Tq(10)),c=(await Hn(a)).docs.map(u=>({id:u.id,...u.data()}));return console.log(`${n} fallback results:`,c),c}else throw o}}catch(o){throw console.error(`Error fetching ${n}:`,o),o}},enabled:!!e,staleTime:6e4,retry:2});if(i&&console.error(`Error in FolderContent (${n}):`,i),r)return p.jsxs("div",{className:"pl-6 py-1",children:[p.jsx("div",{className:"h-4 w-3/4 bg-muted animate-pulse rounded my-1"}),p.jsx("div",{className:"h-4 w-1/2 bg-muted animate-pulse rounded my-1"})]});const s=Array.isArray(t)?t:[];return console.log(`FolderContent ${n} items:`,s,"userId:",e),s.length===0?p.jsx("div",{className:"pl-6 py-1 text-xs text-muted-foreground",children:"No items found"}):p.jsxs("div",{className:"pl-6 py-1",children:[s.slice(0,5).map(o=>p.jsx(Jt,{href:`/${n}/${o.id}`,children:p.jsx(se,{variant:"ghost",className:"w-full justify-start h-auto py-1 px-2 text-xs",children:o.title||"Untitled"})},o.id)),s.length>5&&p.jsxs("div",{className:"text-xs text-muted-foreground pl-2 pt-1",children:["+",s.length-5," more items"]})]})}function Yo({projectId:n,type:e,userId:t}){const{data:r,isLoading:i,error:s}=yu({queryKey:["project-items",t,n,e],queryFn:async()=>{if(!t||!n)return[];try{console.log(`Fetching ${e} for project ${n} and user ${t}`);try{const a=Yn(un(De,e),nn("userId","==",t),nn("projectId","==",n),_q("updatedAt","desc")),l=await Hn(a);return console.log(`${e} query snapshot for project:`,l.size,"documents"),l.docs.map(u=>({id:u.id,...u.data()}))}catch(a){if(a.message&&a.message.includes("index")){console.warn(`Index error for ${e} in project, falling back to simpler query:`,a.message);const l=Yn(un(De,e),nn("userId","==",t),nn("projectId","==",n),Tq(10));return(await Hn(l)).docs.map(h=>({id:h.id,...h.data()}))}else throw a}}catch(a){throw console.error(`Error fetching ${e} for project:`,a),a}},enabled:!!t&&!!n,staleTime:6e4,retry:2});if(s&&console.error(`Error in ProjectContent (${e}):`,s),i)return p.jsxs("div",{className:"pl-6 py-1",children:[p.jsx("div",{className:"h-4 w-3/4 bg-muted animate-pulse rounded my-1"}),p.jsx("div",{className:"h-4 w-1/2 bg-muted animate-pulse rounded my-1"})]});const o=Array.isArray(r)?r:[];return o.length===0?p.jsx("div",{className:"pl-6 py-1 text-xs text-muted-foreground",children:"No items found"}):p.jsxs("div",{className:"pl-6 py-1",children:[o.slice(0,5).map(a=>p.jsx(Jt,{href:`/${e}/${a.id}`,children:p.jsx(se,{variant:"ghost",className:"w-full justify-start h-auto py-1 px-2 text-xs",children:a.title||"Untitled"})},a.id)),o.length>5&&p.jsxs("div",{className:"text-xs text-muted-foreground pl-2 pt-1",children:["+",o.length-5," more items"]})]})}function dPe(){const[n]=Ma(),{user:e}=ai(),t=es(),[r,i]=E.useState(!1),[s,o]=E.useState(""),[a,l]=E.useState(!0),[c,u]=E.useState({snippets:!0,notes:!0,checklists:!0}),[h,d]=E.useState(!0),[m,g]=E.useState(!0),[y,v]=E.useState({}),[b,x]=E.useState(!1),[S,$]=E.useState(""),[P,Q]=E.useState(!0),[O,_]=E.useState({snippets:!0,notes:!0,checklists:!0}),[k,A]=E.useState({projects:[],tags:[],snippets:[],notes:[],checklists:[]}),C=async()=>{if(!e||!s.trim()){A({projects:[],tags:[],snippets:[],notes:[],checklists:[]});return}const M=s.toLowerCase();try{const q=(w==null?void 0:w.filter(_e=>_e.name.toLowerCase().includes(M)))||[],U=(j==null?void 0:j.filter(_e=>_e.toLowerCase().includes(M)))||[],Z=Yn(un(De,"snippets"),nn("userId","==",e.uid)),X=(await Hn(Z)).docs.map(_e=>({id:_e.id,..._e.data()})).filter(_e=>{var mt,Ze,Be;return((mt=_e.title)==null?void 0:mt.toLowerCase().includes(M))||((Ze=_e.content)==null?void 0:Ze.toLowerCase().includes(M))||((Be=_e.language)==null?void 0:Be.toLowerCase().includes(M))}),F=Yn(un(De,"notes"),nn("userId","==",e.uid)),J=(await Hn(F)).docs.map(_e=>({id:_e.id,..._e.data()})).filter(_e=>{var mt,Ze;return((mt=_e.title)==null?void 0:mt.toLowerCase().includes(M))||((Ze=_e.content)==null?void 0:Ze.toLowerCase().includes(M))}),oe=Yn(un(De,"checklists"),nn("userId","==",e.uid)),le=(await Hn(oe)).docs.map(_e=>({id:_e.id,..._e.data()})).filter(_e=>{var mt,Ze;return((mt=_e.title)==null?void 0:mt.toLowerCase().includes(M))||((Ze=_e.items)==null?void 0:Ze.some(Be=>{var Ye;return(Ye=Be.text)==null?void 0:Ye.toLowerCase().includes(M)}))});A({projects:q,tags:U,snippets:X,notes:J,checklists:le}),q.length>0&&g(!0),U.length>0&&d(!0),(X.length>0||J.length>0||le.length>0)&&(l(!0),X.length>0&&u(_e=>({..._e,snippets:!0})),J.length>0&&u(_e=>({..._e,notes:!0})),le.length>0&&u(_e=>({..._e,checklists:!0})))}catch(q){console.error("Error searching items:",q)}};E.useEffect(()=>{const M=setTimeout(()=>{C()},300);return()=>clearTimeout(M)},[s,e]);const{data:w,isLoading:R}=yu({queryKey:["projects",e==null?void 0:e.uid],queryFn:async()=>{if(!e)return[];try{const M=Yn(un(De,"projects"),nn("userId","==",e.uid));return(await Hn(M)).docs.map(Z=>({id:Z.id,name:Z.data().name}))}catch(M){return console.error("Error fetching projects:",M),[]}},enabled:!!e}),{data:j,isLoading:V}=yu({queryKey:["tags",e==null?void 0:e.uid],queryFn:async()=>{if(!e)return[];const M=new Set,q=Yn(un(De,"snippets"),nn("userId","==",e.uid));(await Hn(q)).docs.forEach(G=>{const J=G.data();J.tags&&Array.isArray(J.tags)&&J.tags.forEach(oe=>M.add(oe))});const Z=Yn(un(De,"notes"),nn("userId","==",e.uid));(await Hn(Z)).docs.forEach(G=>{const J=G.data();J.tags&&Array.isArray(J.tags)&&J.tags.forEach(oe=>M.add(oe))});const X=Yn(un(De,"checklists"),nn("userId","==",e.uid));return(await Hn(X)).docs.forEach(G=>{const J=G.data();J.tags&&Array.isArray(J.tags)&&J.tags.forEach(oe=>M.add(oe))}),Array.from(M).sort()},enabled:!!e});return e?p.jsx("div",{className:`border-r ${r?"w-16":"w-64"} transition-all duration-200`,children:p.jsxs("div",{className:"flex h-full flex-col",children:[p.jsxs("div",{className:"p-4",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[!r&&p.jsx("h2",{className:"text-lg font-semibold",children:"Code Snippets"}),p.jsx(se,{variant:"ghost",size:"icon",onClick:()=>i(!r),children:r?p.jsx(zJ,{}):p.jsx(Vu,{})})]}),!r&&p.jsxs("div",{className:"mt-4 space-y-4",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(Un,{placeholder:"Search snippets, notes, tags...",className:"h-9",value:s,onChange:M=>o(M.target.value)}),p.jsx(se,{size:"icon",variant:"ghost",onClick:C,children:p.jsx(WJ,{className:"h-4 w-4"})})]}),p.jsx("div",{className:"space-y-1",children:b?p.jsxs("div",{className:"flex gap-2",children:[p.jsx(Un,{value:S,onChange:M=>$(M.target.value),placeholder:"Project name",className:"h-9"}),p.jsx(se,{size:"sm",onClick:async()=>{if(!(!e||!S.trim()))try{const M=Date.now(),U={id:(await Ow(un(De,"projects"),{name:S.trim(),userId:e.uid,createdAt:M,updatedAt:M})).id,name:S.trim(),userId:e.uid,createdAt:M,updatedAt:M};t.setQueryData(["projects",e.uid],Z=>Z?[...Z,U]:[U]),t.invalidateQueries({queryKey:["projects"]}),$(""),x(!1)}catch(M){console.error("Error creating project:",M)}},disabled:!S.trim(),children:"Create"}),p.jsx(se,{size:"sm",variant:"ghost",onClick:()=>x(!1),children:"Cancel"})]}):p.jsxs(se,{variant:"outline",className:"w-full justify-start",onClick:()=>x(!0),children:[p.jsx(om,{className:"mr-2 h-4 w-4"}),"Create New Project"]})})]})]}),p.jsx(f3,{className:"flex-1 px-4",children:p.jsx("div",{className:"space-y-4",children:r?p.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[p.jsx(Jt,{href:"/",children:p.jsx(se,{variant:n==="/"?"secondary":"ghost",size:"icon",title:"Home",children:p.jsx(w2,{className:"h-4 w-4"})})}),p.jsx(Jt,{href:"/projects",children:p.jsx(se,{variant:n==="/projects"?"secondary":"ghost",size:"icon",title:"Projects",children:p.jsx(wy,{className:"h-4 w-4"})})})]}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"space-y-1",children:[p.jsx(Jt,{href:"/",children:p.jsxs(se,{variant:n==="/"?"secondary":"ghost",className:"w-full justify-start",children:[p.jsx(w2,{className:"mr-2 h-4 w-4"}),"Home"]})}),p.jsx(Jt,{href:"/projects",children:p.jsxs(se,{variant:n==="/projects"?"secondary":"ghost",className:"w-full justify-start",children:[p.jsx(wy,{className:"mr-2 h-4 w-4"}),"Projects"]})})]}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("h3",{className:"text-sm font-medium",children:"Projects"}),p.jsx(se,{size:"icon",variant:"ghost",onClick:()=>g(!m),children:m?p.jsx(Sn,{className:"h-4 w-4"}):p.jsx(mn,{className:"h-4 w-4"})})]}),m&&p.jsx("div",{className:"mt-2 space-y-1",children:R?p.jsx("div",{className:"pl-2 py-1 text-xs text-muted-foreground",children:"Loading projects..."}):s.trim()?k.projects.length>0?p.jsx("div",{className:"space-y-1",children:k.projects.map(M=>p.jsxs("div",{children:[p.jsxs(se,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto",onClick:()=>v(q=>({...q,[M.id]:!q[M.id]})),children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(wy,{className:"mr-2 h-4 w-4"}),p.jsx("span",{className:"text-sm",children:M.name})]}),y[M.id]?p.jsx(Sn,{className:"h-3 w-3"}):p.jsx(mn,{className:"h-3 w-3"})]}),y[M.id]&&p.jsxs("div",{className:"pl-2 space-y-1",children:[p.jsx(oa,{type:"snippet",trigger:p.jsxs(se,{variant:"ghost",className:"w-full justify-start py-1 px-2 h-auto text-xs",children:[p.jsx(Ku,{className:"mr-2 h-3 w-3"}),"New Snippet"]})}),p.jsx(oa,{type:"note",trigger:p.jsxs(se,{variant:"ghost",className:"w-full justify-start py-1 px-2 h-auto text-xs",children:[p.jsx(Ju,{className:"mr-2 h-3 w-3"}),"New Note"]})}),p.jsx(oa,{type:"checklist",trigger:p.jsxs(se,{variant:"ghost",className:"w-full justify-start py-1 px-2 h-auto text-xs",children:[p.jsx(eh,{className:"mr-2 h-3 w-3"}),"New Checklist"]})}),p.jsxs("div",{className:"space-y-1",children:[p.jsxs("div",{children:[p.jsxs(se,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto text-xs",onClick:()=>{const q={...y};q[`${M.id}-snippets`]=!q[`${M.id}-snippets`],v(q)},children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(Ku,{className:"mr-2 h-3 w-3"}),p.jsx("span",{className:"text-xs",children:"Snippets"})]}),y[`${M.id}-snippets`]?p.jsx(Sn,{className:"h-2 w-2"}):p.jsx(mn,{className:"h-2 w-2"})]}),y[`${M.id}-snippets`]&&p.jsx(Yo,{type:"snippets",projectId:M.id,userId:e==null?void 0:e.uid})]}),p.jsxs("div",{children:[p.jsxs(se,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto text-xs",onClick:()=>{const q={...y};q[`${M.id}-notes`]=!q[`${M.id}-notes`],v(q)},children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(Ju,{className:"mr-2 h-3 w-3"}),p.jsx("span",{className:"text-xs",children:"Notes"})]}),y[`${M.id}-notes`]?p.jsx(Sn,{className:"h-2 w-2"}):p.jsx(mn,{className:"h-2 w-2"})]}),y[`${M.id}-notes`]&&p.jsx(Yo,{type:"notes",projectId:M.id,userId:e==null?void 0:e.uid})]}),p.jsxs("div",{children:[p.jsxs(se,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto text-xs",onClick:()=>{const q={...y};q[`${M.id}-checklists`]=!q[`${M.id}-checklists`],v(q)},children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(eh,{className:"mr-2 h-3 w-3"}),p.jsx("span",{className:"text-xs",children:"Checklists"})]}),y[`${M.id}-checklists`]?p.jsx(Sn,{className:"h-2 w-2"}):p.jsx(mn,{className:"h-2 w-2"})]}),y[`${M.id}-checklists`]&&p.jsx(Yo,{type:"checklists",projectId:M.id,userId:e==null?void 0:e.uid})]})]})]})]},M.id))}):p.jsx("div",{className:"pl-2 py-1 text-xs text-muted-foreground",children:"No matching projects found"}):w&&w.length>0?p.jsx("div",{className:"space-y-1",children:w.map(M=>p.jsxs("div",{children:[p.jsxs(se,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto",onClick:()=>v(q=>({...q,[M.id]:!q[M.id]})),children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(wy,{className:"mr-2 h-4 w-4"}),p.jsx("span",{className:"text-sm",children:M.name})]}),y[M.id]?p.jsx(Sn,{className:"h-3 w-3"}):p.jsx(mn,{className:"h-3 w-3"})]}),y[M.id]&&p.jsxs("div",{className:"pl-2 space-y-1",children:[p.jsx(oa,{type:"snippet",trigger:p.jsxs(se,{variant:"ghost",className:"w-full justify-start py-1 px-2 h-auto text-xs",children:[p.jsx(Ku,{className:"mr-2 h-3 w-3"}),"New Snippet"]})}),p.jsx(oa,{type:"note",trigger:p.jsxs(se,{variant:"ghost",className:"w-full justify-start py-1 px-2 h-auto text-xs",children:[p.jsx(Ju,{className:"mr-2 h-3 w-3"}),"New Note"]})}),p.jsx(oa,{type:"checklist",trigger:p.jsxs(se,{variant:"ghost",className:"w-full justify-start py-1 px-2 h-auto text-xs",children:[p.jsx(eh,{className:"mr-2 h-3 w-3"}),"New Checklist"]})}),p.jsxs("div",{className:"space-y-1",children:[p.jsxs("div",{children:[p.jsxs(se,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto text-xs",onClick:()=>{const q={...y};q[`${M.id}-snippets`]=!q[`${M.id}-snippets`],v(q)},children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(Ku,{className:"mr-2 h-3 w-3"}),p.jsx("span",{className:"text-xs",children:"Snippets"})]}),y[`${M.id}-snippets`]?p.jsx(Sn,{className:"h-2 w-2"}):p.jsx(mn,{className:"h-2 w-2"})]}),y[`${M.id}-snippets`]&&p.jsx(Yo,{type:"snippets",projectId:M.id,userId:e==null?void 0:e.uid})]}),p.jsxs("div",{children:[p.jsxs(se,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto text-xs",onClick:()=>{const q={...y};q[`${M.id}-notes`]=!q[`${M.id}-notes`],v(q)},children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(Ju,{className:"mr-2 h-3 w-3"}),p.jsx("span",{className:"text-xs",children:"Notes"})]}),y[`${M.id}-notes`]?p.jsx(Sn,{className:"h-2 w-2"}):p.jsx(mn,{className:"h-2 w-2"})]}),y[`${M.id}-notes`]&&p.jsx(Yo,{type:"notes",projectId:M.id,userId:e==null?void 0:e.uid})]}),p.jsxs("div",{children:[p.jsxs(se,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto text-xs",onClick:()=>{const q={...y};q[`${M.id}-checklists`]=!q[`${M.id}-checklists`],v(q)},children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(eh,{className:"mr-2 h-3 w-3"}),p.jsx("span",{className:"text-xs",children:"Checklists"})]}),y[`${M.id}-checklists`]?p.jsx(Sn,{className:"h-2 w-2"}):p.jsx(mn,{className:"h-2 w-2"})]}),y[`${M.id}-checklists`]&&p.jsx(Yo,{type:"checklists",projectId:M.id,userId:e==null?void 0:e.uid})]})]})]})]},M.id))}):p.jsx("div",{className:"pl-2 py-1 text-xs text-muted-foreground",children:"No projects found. Create one to get started."})})]}),p.jsx(D0,{}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("h3",{className:"text-sm font-medium",children:"All Folders"}),p.jsx(se,{size:"icon",variant:"ghost",onClick:()=>l(!a),children:a?p.jsx(Sn,{className:"h-4 w-4"}):p.jsx(mn,{className:"h-4 w-4"})})]}),a&&p.jsxs("div",{className:"mt-2 space-y-1",children:[p.jsxs("div",{children:[p.jsxs(se,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto",onClick:()=>u(M=>({...M,snippets:!M.snippets})),children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(Ku,{className:"mr-2 h-4 w-4"}),p.jsx("span",{className:"text-sm",children:"All Snippets"}),s.trim()&&k.snippets.length>0&&p.jsx(Ui,{variant:"outline",className:"ml-2",children:k.snippets.length})]}),c.snippets?p.jsx(Sn,{className:"h-3 w-3"}):p.jsx(mn,{className:"h-3 w-3"})]}),c.snippets&&(s.trim()?k.snippets.length>0?p.jsxs("div",{className:"pl-6 py-1",children:[k.snippets.slice(0,5).map(M=>p.jsx(Jt,{href:`/snippets/${M.id}`,children:p.jsx(se,{variant:"ghost",className:"w-full justify-start h-auto py-1 px-2 text-xs",children:M.title||"Untitled"})},M.id)),k.snippets.length>5&&p.jsxs("div",{className:"text-xs text-muted-foreground pl-2 pt-1",children:["+",k.snippets.length-5," more items"]})]}):p.jsx("div",{className:"pl-6 py-1 text-xs text-muted-foreground",children:"No matching snippets found"}):p.jsx(Ik,{type:"snippets",userId:e==null?void 0:e.uid}))]}),p.jsxs("div",{children:[p.jsxs(se,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto",onClick:()=>u(M=>({...M,notes:!M.notes})),children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(Ju,{className:"mr-2 h-4 w-4"}),p.jsx("span",{className:"text-sm",children:"All Notes"}),s.trim()&&k.notes.length>0&&p.jsx(Ui,{variant:"outline",className:"ml-2",children:k.notes.length})]}),c.notes?p.jsx(Sn,{className:"h-3 w-3"}):p.jsx(mn,{className:"h-3 w-3"})]}),c.notes&&(s.trim()?k.notes.length>0?p.jsxs("div",{className:"pl-6 py-1",children:[k.notes.slice(0,5).map(M=>p.jsx(Jt,{href:`/notes/${M.id}`,children:p.jsx(se,{variant:"ghost",className:"w-full justify-start h-auto py-1 px-2 text-xs",children:M.title||"Untitled"})},M.id)),k.notes.length>5&&p.jsxs("div",{className:"text-xs text-muted-foreground pl-2 pt-1",children:["+",k.notes.length-5," more items"]})]}):p.jsx("div",{className:"pl-6 py-1 text-xs text-muted-foreground",children:"No matching notes found"}):p.jsx(Ik,{type:"notes",userId:e==null?void 0:e.uid}))]}),p.jsxs("div",{children:[p.jsxs(se,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto",onClick:()=>u(M=>({...M,checklists:!M.checklists})),children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(eh,{className:"mr-2 h-4 w-4"}),p.jsx("span",{className:"text-sm",children:"All Checklists"}),s.trim()&&k.checklists.length>0&&p.jsx(Ui,{variant:"outline",className:"ml-2",children:k.checklists.length})]}),c.checklists?p.jsx(Sn,{className:"h-3 w-3"}):p.jsx(mn,{className:"h-3 w-3"})]}),c.checklists&&(s.trim()?k.checklists.length>0?p.jsxs("div",{className:"pl-6 py-1",children:[k.checklists.slice(0,5).map(M=>p.jsx(Jt,{href:`/checklists/${M.id}`,children:p.jsx(se,{variant:"ghost",className:"w-full justify-start h-auto py-1 px-2 text-xs",children:M.title||"Untitled"})},M.id)),k.checklists.length>5&&p.jsxs("div",{className:"text-xs text-muted-foreground pl-2 pt-1",children:["+",k.checklists.length-5," more items"]})]}):p.jsx("div",{className:"pl-6 py-1 text-xs text-muted-foreground",children:"No matching checklists found"}):p.jsx(Ik,{type:"checklists",userId:e==null?void 0:e.uid}))]})]})]}),p.jsx(D0,{}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("h3",{className:"text-sm font-medium",children:"Uncategorized"}),p.jsx(se,{size:"icon",variant:"ghost",onClick:()=>Q(!P),children:P?p.jsx(Sn,{className:"h-4 w-4"}):p.jsx(mn,{className:"h-4 w-4"})})]}),P&&p.jsxs("div",{className:"mt-2 space-y-1",children:[p.jsxs("div",{children:[p.jsxs(se,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto",onClick:()=>_(M=>({...M,snippets:!M.snippets})),children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(Ku,{className:"mr-2 h-4 w-4"}),p.jsx("span",{className:"text-sm",children:"Snippets"})]}),O.snippets?p.jsx(Sn,{className:"h-3 w-3"}):p.jsx(mn,{className:"h-3 w-3"})]}),O.snippets&&p.jsx(Yo,{type:"snippets",projectId:"",userId:e==null?void 0:e.uid})]}),p.jsxs("div",{children:[p.jsxs(se,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto",onClick:()=>_(M=>({...M,notes:!M.notes})),children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(Ju,{className:"mr-2 h-4 w-4"}),p.jsx("span",{className:"text-sm",children:"Notes"})]}),O.notes?p.jsx(Sn,{className:"h-3 w-3"}):p.jsx(mn,{className:"h-3 w-3"})]}),O.notes&&p.jsx(Yo,{type:"notes",projectId:"",userId:e==null?void 0:e.uid})]}),p.jsxs("div",{children:[p.jsxs(se,{variant:"ghost",className:"w-full justify-between py-1 px-2 h-auto",onClick:()=>_(M=>({...M,checklists:!M.checklists})),children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(eh,{className:"mr-2 h-4 w-4"}),p.jsx("span",{className:"text-sm",children:"Checklists"})]}),O.checklists?p.jsx(Sn,{className:"h-3 w-3"}):p.jsx(mn,{className:"h-3 w-3"})]}),O.checklists&&p.jsx(Yo,{type:"checklists",projectId:"",userId:e==null?void 0:e.uid})]})]})]}),p.jsx(D0,{}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("h3",{className:"text-sm font-medium",children:"Tags"}),p.jsx(se,{size:"icon",variant:"ghost",onClick:()=>d(!h),children:h?p.jsx(Sn,{className:"h-4 w-4"}):p.jsx(mn,{className:"h-4 w-4"})})]}),h&&p.jsx("div",{className:"mt-2 space-y-1",children:V?p.jsx("div",{className:"pl-2 py-1 text-xs text-muted-foreground",children:"Loading tags..."}):s.trim()?k.tags.length>0?p.jsx("div",{className:"flex flex-wrap gap-2 pl-2 py-1",children:k.tags.map(M=>p.jsx(Jt,{href:`/tags/${encodeURIComponent(M)}`,children:p.jsx(Ui,{variant:"secondary",className:"cursor-pointer hover:bg-secondary/70",children:M})},M))}):p.jsx("div",{className:"pl-2 py-1 text-xs text-muted-foreground",children:"No matching tags found"}):j&&j.length>0?p.jsx("div",{className:"flex flex-wrap gap-2 pl-2 py-1",children:j.map(M=>p.jsx(Jt,{href:`/tags/${encodeURIComponent(M)}`,children:p.jsx(Ui,{variant:"secondary",className:"cursor-pointer hover:bg-secondary/70",children:M})},M))}):p.jsx("div",{className:"pl-2 py-1 text-xs text-muted-foreground",children:"No tags found"})})]})]})})}),p.jsx("div",{className:"mt-auto p-4",children:p.jsxs("nav",{className:"space-y-2",children:[p.jsx(Jt,{href:"/profile",children:p.jsxs(se,{variant:"ghost",className:`${r?"justify-center":"w-full justify-start"} ${n==="/profile"?"bg-accent":""}`,title:"Profile",children:[p.jsx(ZJ,{className:r?"h-4 w-4":"mr-2 h-4 w-4"}),!r&&"Profile"]})}),p.jsx(Jt,{href:"/settings",children:p.jsxs(se,{variant:"ghost",className:`${r?"justify-center":"w-full justify-start"} ${n==="/settings"?"bg-accent":""}`,title:"Settings",children:[p.jsx(XJ,{className:r?"h-4 w-4":"mr-2 h-4 w-4"}),!r&&"Settings"]})})]})})]})}):null}const si=({children:n})=>p.jsxs("div",{className:"flex h-screen bg-background",children:[p.jsx(dPe,{}),p.jsx("main",{className:"flex-1 overflow-auto p-6",children:n})]}),Mr=E.forwardRef(({className:n,...e},t)=>p.jsx("div",{ref:t,className:Le("rounded-lg border bg-card text-card-foreground shadow-sm",n),...e}));Mr.displayName="Card";const Ai=E.forwardRef(({className:n,...e},t)=>p.jsx("div",{ref:t,className:Le("flex flex-col space-y-1.5 p-6",n),...e}));Ai.displayName="CardHeader";const uu=E.forwardRef(({className:n,...e},t)=>p.jsx("h3",{ref:t,className:Le("text-2xl font-semibold leading-none tracking-tight",n),...e}));uu.displayName="CardTitle";const N7=E.forwardRef(({className:n,...e},t)=>p.jsx("p",{ref:t,className:Le("text-sm text-muted-foreground",n),...e}));N7.displayName="CardDescription";const Vr=E.forwardRef(({className:n,...e},t)=>p.jsx("div",{ref:t,className:Le("p-6 pt-0",n),...e}));Vr.displayName="CardContent";const Ac=E.forwardRef(({className:n,...e},t)=>p.jsx("div",{ref:t,className:Le("flex items-center p-6 pt-0",n),...e}));Ac.displayName="CardFooter";const BQ={title:at.string().min(1,"Title is required"),description:at.string().optional(),tags:at.array(at.string()).default([])},fPe=at.object({...BQ,content:at.string().min(1,"Content is required"),language:at.string().default("javascript")}),pPe=at.object({...BQ,content:at.string().min(1,"Content is required")}),mPe=at.object({...BQ,items:at.array(at.object({text:at.string(),checked:at.boolean()})).default([{text:"",checked:!1}])});function Qf({type:n,itemId:e,defaultValues:t,trigger:r,onEdited:i}){const[s,o]=E.useState(!1),{user:a}=ai(),{toast:l}=oi(),c=es(),[u,h]=E.useState(n==="checklist"?JSON.parse(t.content||"[]"):[{text:"",checked:!1}]),d=Sb({resolver:kb(n==="snippet"?fPe:n==="note"?pPe:mPe),defaultValues:{...t,content:n==="checklist"?"":t.content}}),m=async v=>{try{if(!a){l({variant:"destructive",title:"Error",description:"You must be logged in to edit items"});return}const b=n==="snippet"?"snippets":n==="note"?"notes":"checklists",x=n==="checklist"?JSON.stringify(u.filter($=>$.text.trim())):v.content;await tc(wt(De,b,e),{...v,content:x,updatedAt:Hm()});const S={id:e,...v,content:x,userId:a.uid,updatedAt:new Date().getTime()};c.setQueryData(["items",a.uid,b],$=>$?$.map(P=>P.id===e?S:P):[S]),c.setQueryData(["folder-items",a.uid,b],$=>$?$.map(P=>P.id===e?S:P):[S]),c.invalidateQueries({queryKey:["items"]}),c.invalidateQueries({queryKey:["folder-items"]}),l({title:"Success",description:`${n} updated successfully`}),o(!1),i==null||i()}catch(b){console.error("Update error:",b),l({variant:"destructive",title:"Error",description:b.message||"Failed to update item. Please try again."})}},g=()=>{h([...u,{text:"",checked:!1}])},y=(v,b)=>{const x=[...u];x[v].text=b,h(x)};return p.jsxs(mm,{open:s,onOpenChange:o,children:[p.jsx(wB,{asChild:!0,children:r}),p.jsxs(Yh,{className:"max-w-full h-[90vh] flex flex-col p-0",children:[p.jsxs(Hh,{className:"px-6 py-4 border-b",children:[p.jsxs(Kh,{children:["Edit ",n.charAt(0).toUpperCase()+n.slice(1)]}),p.jsxs(Jh,{children:["Make changes to your ",n,". All fields marked with * are required."]})]}),p.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:p.jsx(fg,{...d,children:p.jsxs("form",{onSubmit:d.handleSubmit(m),className:"space-y-4 max-w-2xl mx-auto",children:[p.jsx(Kn,{control:d.control,name:"title",render:({field:v})=>p.jsxs(Dn,{children:[p.jsx(yn,{children:"Title *"}),p.jsx(Tn,{children:p.jsx(Un,{...v,placeholder:`Enter ${n} title`})}),p.jsx(Mn,{})]})}),p.jsx(Kn,{control:d.control,name:"description",render:({field:v})=>p.jsxs(Dn,{children:[p.jsx(yn,{children:"Description"}),p.jsx(Tn,{children:p.jsx(Un,{...v,placeholder:"Add a description (optional)"})}),p.jsx(Mn,{})]})}),n==="snippet"&&p.jsx(Kn,{control:d.control,name:"language",render:({field:v})=>p.jsxs(Dn,{children:[p.jsx(yn,{children:"Language *"}),p.jsx(Tn,{children:p.jsx(Un,{...v,placeholder:"javascript"})}),p.jsx(Mn,{})]})}),p.jsx(Kn,{control:d.control,name:"tags",render:({field:v})=>p.jsxs(Dn,{children:[p.jsx(yn,{children:"Tags"}),p.jsx(Tn,{children:p.jsx(E6,{value:v.value,onChange:v.onChange,placeholder:"Add tags (press Enter or comma to add)"})}),p.jsx(Mn,{})]})}),n!=="checklist"?p.jsx(Kn,{control:d.control,name:"content",render:({field:v})=>p.jsxs(Dn,{children:[p.jsx(yn,{children:"Content *"}),p.jsx(Tn,{children:n==="snippet"?p.jsx("div",{className:"h-[400px] rounded-md border",children:p.jsx(Ub,{value:v.value,language:d.getValues("language"),onChange:v.onChange})}):p.jsx(pg,{...v,placeholder:"Enter your note content",className:"min-h-[200px]"})}),p.jsx(Mn,{})]})}):p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(yn,{children:"Checklist Items *"}),p.jsx(se,{type:"button",variant:"outline",size:"sm",onClick:g,children:"Add Item"})]}),u.map((v,b)=>p.jsx("div",{className:"flex items-center gap-2",children:p.jsx(Un,{value:v.text,onChange:x=>y(b,x.target.value),placeholder:"Enter checklist item"})},b))]})]})})}),p.jsx("div",{className:"bg-background py-4 px-6 border-t",children:p.jsx(se,{type:"submit",className:"w-full",onClick:d.handleSubmit(m),children:"Save Changes"})})]})]})}const j7=({snippet:n,showActions:e=!0})=>{const t=es(),{toast:r}=oi(),i=async()=>{try{await qu(wt(De,"snippets",n.id)),t.invalidateQueries({queryKey:["items"]}),r({title:"Success",description:"Snippet deleted successfully"})}catch(s){r({variant:"destructive",title:"Error",description:s.message||"Failed to delete snippet"})}};return p.jsx(Jt,{href:`/snippets/${n.id}`,children:p.jsx("div",{className:"cursor-pointer",children:p.jsxs(Mr,{className:"w-full enhanced-card card-hover-effect snippet-card",children:[p.jsxs(Ai,{className:"space-y-1 card-header-accent",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("h3",{className:"text-xl font-semibold",children:n.title}),p.jsx("div",{className:"flex space-x-2",onClick:s=>s.stopPropagation(),children:e&&p.jsxs(p.Fragment,{children:[p.jsx(Qf,{type:"snippet",itemId:n.id,defaultValues:n,trigger:p.jsx(se,{variant:"ghost",size:"icon",title:"Edit snippet",className:"hover:bg-accent/10 transition-colors",children:p.jsx(mf,{className:"h-4 w-4"})}),onEdited:()=>t.invalidateQueries({queryKey:["items"]})}),p.jsx(se,{variant:"ghost",size:"icon",onClick:i,title:"Delete snippet",className:"hover:bg-destructive/10 hover:text-destructive transition-colors",children:p.jsx(gf,{className:"h-4 w-4"})})]})})]}),n.description&&p.jsx("p",{className:"text-sm text-muted-foreground",children:n.description}),p.jsx("div",{className:"flex flex-wrap gap-2",children:n.tags.map(s=>p.jsx(Jt,{href:`/tags/${encodeURIComponent(s)}`,onClick:o=>o.stopPropagation(),children:p.jsx(Ui,{variant:"secondary",className:"cursor-pointer hover:bg-secondary/70 enhanced-tag",children:s})},s))})]}),p.jsx(Vr,{className:"fade-in-content",children:p.jsx("div",{className:"h-[250px] rounded-md border overflow-auto enhanced-code-editor",children:p.jsx(Ub,{value:n.content,language:n.language,onChange:()=>{},readOnly:!0})})}),p.jsx(Ac,{className:"text-sm text-muted-foreground card-footer-border",children:p.jsxs("div",{className:"timestamp-badge",children:[p.jsx("span",{children:"Last updated:"}),p.jsx("span",{children:n.updatedAt?new Date(typeof n.updatedAt=="object"&&n.updatedAt.seconds?n.updatedAt.seconds*1e3:n.updatedAt).toLocaleDateString():"Unknown"})]})})]})})})},D7=({note:n,showActions:e=!0})=>{const t=es(),{toast:r}=oi(),i=n.tags||[],s=async()=>{try{await qu(wt(De,"notes",n.id)),t.invalidateQueries({queryKey:["items"]}),r({title:"Success",description:"Note deleted successfully"})}catch(o){r({variant:"destructive",title:"Error",description:o.message||"Failed to delete note"})}};return p.jsx(Jt,{href:`/notes/${n.id}`,children:p.jsx("div",{className:"cursor-pointer",children:p.jsxs(Mr,{className:"h-full flex flex-col enhanced-card card-hover-effect note-card",children:[p.jsxs(Ai,{className:"space-y-1 card-header-accent",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("h3",{className:"text-xl font-semibold",children:n.title}),p.jsx("div",{className:"flex space-x-2",onClick:o=>o.stopPropagation(),children:e&&p.jsxs(p.Fragment,{children:[p.jsx(Qf,{type:"note",itemId:n.id,defaultValues:{...n,tags:i},trigger:p.jsx(se,{variant:"ghost",size:"icon",title:"Edit note",className:"hover:bg-accent/10 transition-colors",children:p.jsx(mf,{className:"h-4 w-4"})}),onEdited:()=>t.invalidateQueries({queryKey:["items"]})}),p.jsx(se,{variant:"ghost",size:"icon",onClick:s,title:"Delete note",className:"hover:bg-destructive/10 hover:text-destructive transition-colors",children:p.jsx(gf,{className:"h-4 w-4"})})]})})]}),n.description&&p.jsx("p",{className:"text-sm text-muted-foreground",children:n.description}),p.jsx("div",{className:"flex flex-wrap gap-2",children:i.map(o=>p.jsx(Jt,{href:`/tags/${encodeURIComponent(o)}`,onClick:a=>a.stopPropagation(),children:p.jsx(Ui,{variant:"secondary",className:"cursor-pointer hover:bg-secondary/70 enhanced-tag",children:o})},o))})]}),p.jsx(Vr,{className:"flex-1 fade-in-content",children:p.jsx("div",{className:"whitespace-pre-wrap content-fade-bottom",children:n.content})}),p.jsx(Ac,{className:"text-sm text-muted-foreground card-footer-border",children:p.jsxs("div",{className:"timestamp-badge",children:[p.jsx("span",{children:"Last updated:"}),p.jsx("span",{children:n.updatedAt?new Date(typeof n.updatedAt=="object"&&n.updatedAt.seconds?n.updatedAt.seconds*1e3:n.updatedAt).toLocaleDateString():"Unknown"})]})})]})})})};var FQ="Checkbox",[gPe,_Ae]=xc(FQ),[OPe,yPe]=gPe(FQ),M7=E.forwardRef((n,e)=>{const{__scopeCheckbox:t,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:l="on",onCheckedChange:c,form:u,...h}=n,[d,m]=E.useState(null),g=nt(e,$=>m($)),y=E.useRef(!1),v=d?u||!!d.closest("form"):!0,[b=!1,x]=Wl({prop:i,defaultProp:s,onChange:c}),S=E.useRef(b);return E.useEffect(()=>{const $=d==null?void 0:d.form;if($){const P=()=>x(S.current);return $.addEventListener("reset",P),()=>$.removeEventListener("reset",P)}},[d,x]),p.jsxs(OPe,{scope:t,state:b,disabled:a,children:[p.jsx(Qe.button,{type:"button",role:"checkbox","aria-checked":Zl(b)?"mixed":b,"aria-required":o,"data-state":z7(b),"data-disabled":a?"":void 0,disabled:a,value:l,...h,ref:g,onKeyDown:Pe(n.onKeyDown,$=>{$.key==="Enter"&&$.preventDefault()}),onClick:Pe(n.onClick,$=>{x(P=>Zl(P)?!0:!P),v&&(y.current=$.isPropagationStopped(),y.current||$.stopPropagation())})}),v&&p.jsx(vPe,{control:d,bubbles:!y.current,name:r,value:l,checked:b,required:o,disabled:a,form:u,style:{transform:"translateX(-100%)"},defaultChecked:Zl(s)?!1:s})]})});M7.displayName=FQ;var V7="CheckboxIndicator",L7=E.forwardRef((n,e)=>{const{__scopeCheckbox:t,forceMount:r,...i}=n,s=yPe(V7,t);return p.jsx(Qs,{present:r||Zl(s.state)||s.state===!0,children:p.jsx(Qe.span,{"data-state":z7(s.state),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...n.style}})})});L7.displayName=V7;var vPe=n=>{const{control:e,checked:t,bubbles:r=!0,defaultChecked:i,...s}=n,o=E.useRef(null),a=UQ(t),l=VQ(e);E.useEffect(()=>{const u=o.current,h=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(h,"checked").set;if(a!==t&&m){const g=new Event("click",{bubbles:r});u.indeterminate=Zl(t),m.call(u,Zl(t)?!1:t),u.dispatchEvent(g)}},[a,t,r]);const c=E.useRef(Zl(t)?!1:t);return p.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??c.current,...s,tabIndex:-1,ref:o,style:{...n.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Zl(n){return n==="indeterminate"}function z7(n){return Zl(n)?"indeterminate":n?"checked":"unchecked"}var U7=M7,wPe=L7;const WQ=E.forwardRef(({className:n,...e},t)=>p.jsx(U7,{ref:t,className:Le("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",n),...e,children:p.jsx(wPe,{className:Le("flex items-center justify-center text-current"),children:p.jsx(JE,{className:"h-4 w-4"})})}));WQ.displayName=U7.displayName;const Z7=({checklist:n,showActions:e=!0})=>{var a;const t=es(),{toast:r}=oi(),i=n.content?JSON.parse(n.content):[],s=async()=>{try{await qu(wt(De,"checklists",n.id)),t.invalidateQueries({queryKey:["items"]}),r({title:"Success",description:"Checklist deleted successfully"})}catch(l){r({variant:"destructive",title:"Error",description:l.message||"Failed to delete checklist"})}},o=async l=>{try{const c=[...i];c[l].checked=!c[l].checked,await tc(wt(De,"checklists",n.id),{content:JSON.stringify(c)}),t.invalidateQueries({queryKey:["items"]})}catch(c){r({variant:"destructive",title:"Error",description:c.message||"Failed to update item"})}};return p.jsx(Jt,{href:`/checklists/${n.id}`,children:p.jsx("div",{className:"cursor-pointer",children:p.jsxs(Mr,{className:"h-full flex flex-col enhanced-card card-hover-effect checklist-card",children:[p.jsxs(Ai,{className:"space-y-1 card-header-accent",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("h3",{className:"text-xl font-semibold",children:n.title}),p.jsx("div",{className:"flex space-x-2",onClick:l=>l.stopPropagation(),children:e&&p.jsxs(p.Fragment,{children:[p.jsx(Qf,{type:"checklist",itemId:n.id,defaultValues:n,trigger:p.jsx(se,{variant:"ghost",size:"icon",title:"Edit checklist",className:"hover:bg-accent/10 transition-colors",children:p.jsx(mf,{className:"h-4 w-4"})}),onEdited:()=>t.invalidateQueries({queryKey:["items"]})}),p.jsx(se,{variant:"ghost",size:"icon",onClick:s,title:"Delete checklist",className:"hover:bg-destructive/10 hover:text-destructive transition-colors",children:p.jsx(gf,{className:"h-4 w-4"})})]})})]}),n.description&&p.jsx("p",{className:"text-sm text-muted-foreground",children:n.description}),p.jsx("div",{className:"flex flex-wrap gap-2",children:(a=n.tags)==null?void 0:a.map(l=>p.jsx(Jt,{href:`/tags/${encodeURIComponent(l)}`,onClick:c=>c.stopPropagation(),children:p.jsx(Ui,{variant:"secondary",className:"cursor-pointer hover:bg-secondary/70 enhanced-tag",children:l})},l))})]}),p.jsx(Vr,{className:"flex-1 fade-in-content",children:p.jsx("ul",{className:"space-y-2",children:i.map((l,c)=>p.jsxs("li",{className:"flex items-center space-x-2",onClick:u=>u.stopPropagation(),children:[p.jsx(WQ,{id:`item-${c}`,checked:l.checked,onCheckedChange:()=>o(c),className:"checkbox-animation"}),p.jsx("label",{htmlFor:`item-${c}`,className:`text-sm ${l.checked?"line-through text-muted-foreground":""} transition-all duration-200`,children:l.text})]},c))})}),p.jsx(Ac,{className:"text-sm text-muted-foreground card-footer-border",children:p.jsxs("div",{className:"timestamp-badge",children:[p.jsx("span",{children:"Last updated:"}),p.jsx("span",{children:n.updatedAt?new Date(typeof n.updatedAt=="object"&&n.updatedAt.seconds?n.updatedAt.seconds*1e3:n.updatedAt).toLocaleDateString():"Unknown"})]})})]})})})};function xPe(n,e=[]){let t=[];function r(s,o){const a=E.createContext(o),l=t.length;t=[...t,o];function c(h){const{scope:d,children:m,...g}=h,y=(d==null?void 0:d[n][l])||a,v=E.useMemo(()=>g,Object.values(g));return p.jsx(y.Provider,{value:v,children:m})}function u(h,d){const m=(d==null?void 0:d[n][l])||a,g=E.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,u]}const i=()=>{const s=t.map(o=>E.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return E.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return i.scopeName=n,[r,bPe(i,...e)]}function bPe(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}var Nk="rovingFocusGroup.onEntryFocus",SPe={bubbles:!1,cancelable:!0},Gb="RovingFocusGroup",[FC,q7,kPe]=zx(Gb),[_Pe,B7]=xPe(Gb,[kPe]),[TPe,PPe]=_Pe(Gb),F7=E.forwardRef((n,e)=>p.jsx(FC.Provider,{scope:n.__scopeRovingFocusGroup,children:p.jsx(FC.Slot,{scope:n.__scopeRovingFocusGroup,children:p.jsx(CPe,{...n,ref:e})})}));F7.displayName=Gb;var CPe=E.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...h}=n,d=E.useRef(null),m=nt(e,d),g=bO(s),[y=null,v]=Wl({prop:o,defaultProp:a,onChange:l}),[b,x]=E.useState(!1),S=sn(c),$=q7(t),P=E.useRef(!1),[Q,O]=E.useState(0);return E.useEffect(()=>{const _=d.current;if(_)return _.addEventListener(Nk,S),()=>_.removeEventListener(Nk,S)},[S]),p.jsx(TPe,{scope:t,orientation:r,dir:g,loop:i,currentTabStopId:y,onItemFocus:E.useCallback(_=>v(_),[v]),onItemShiftTab:E.useCallback(()=>x(!0),[]),onFocusableItemAdd:E.useCallback(()=>O(_=>_+1),[]),onFocusableItemRemove:E.useCallback(()=>O(_=>_-1),[]),children:p.jsx(Qe.div,{tabIndex:b||Q===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...n.style},onMouseDown:Pe(n.onMouseDown,()=>{P.current=!0}),onFocus:Pe(n.onFocus,_=>{const k=!P.current;if(_.target===_.currentTarget&&k&&!b){const A=new CustomEvent(Nk,SPe);if(_.currentTarget.dispatchEvent(A),!A.defaultPrevented){const C=$().filter(M=>M.focusable),w=C.find(M=>M.active),R=C.find(M=>M.id===y),V=[w,R,...C].filter(Boolean).map(M=>M.ref.current);G7(V,u)}}P.current=!1}),onBlur:Pe(n.onBlur,()=>x(!1))})})}),W7="RovingFocusGroupItem",X7=E.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:i=!1,tabStopId:s,...o}=n,a=zl(),l=s||a,c=PPe(W7,t),u=c.currentTabStopId===l,h=q7(t),{onFocusableItemAdd:d,onFocusableItemRemove:m}=c;return E.useEffect(()=>{if(r)return d(),()=>m()},[r,d,m]),p.jsx(FC.ItemSlot,{scope:t,id:l,focusable:r,active:i,children:p.jsx(Qe.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:Pe(n.onMouseDown,g=>{r?c.onItemFocus(l):g.preventDefault()}),onFocus:Pe(n.onFocus,()=>c.onItemFocus(l)),onKeyDown:Pe(n.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){c.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const y=RPe(g,c.orientation,c.dir);if(y!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let b=h().filter(x=>x.focusable).map(x=>x.ref.current);if(y==="last")b.reverse();else if(y==="prev"||y==="next"){y==="prev"&&b.reverse();const x=b.indexOf(g.currentTarget);b=c.loop?QPe(b,x+1):b.slice(x+1)}setTimeout(()=>G7(b))}})})})});X7.displayName=W7;var EPe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function APe(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function RPe(n,e,t){const r=APe(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return EPe[r]}function G7(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function QPe(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var $Pe=F7,IPe=X7,XQ="Tabs",[NPe,TAe]=xc(XQ,[B7]),Y7=B7(),[jPe,GQ]=NPe(XQ),H7=E.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=n,u=bO(a),[h,d]=Wl({prop:r,onChange:i,defaultProp:s});return p.jsx(jPe,{scope:t,baseId:zl(),value:h,onValueChange:d,orientation:o,dir:u,activationMode:l,children:p.jsx(Qe.div,{dir:u,"data-orientation":o,...c,ref:e})})});H7.displayName=XQ;var K7="TabsList",J7=E.forwardRef((n,e)=>{const{__scopeTabs:t,loop:r=!0,...i}=n,s=GQ(K7,t),o=Y7(t);return p.jsx($Pe,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:p.jsx(Qe.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});J7.displayName=K7;var e8="TabsTrigger",t8=E.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,disabled:i=!1,...s}=n,o=GQ(e8,t),a=Y7(t),l=i8(o.baseId,r),c=s8(o.baseId,r),u=r===o.value;return p.jsx(IPe,{asChild:!0,...a,focusable:!i,active:u,children:p.jsx(Qe.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:e,onMouseDown:Pe(n.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:Pe(n.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:Pe(n.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!i&&h&&o.onValueChange(r)})})})});t8.displayName=e8;var n8="TabsContent",r8=E.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,forceMount:i,children:s,...o}=n,a=GQ(n8,t),l=i8(a.baseId,r),c=s8(a.baseId,r),u=r===a.value,h=E.useRef(u);return E.useEffect(()=>{const d=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(d)},[]),p.jsx(Qs,{present:i||u,children:({present:d})=>p.jsx(Qe.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!d,id:c,tabIndex:0,...o,ref:e,style:{...n.style,animationDuration:h.current?"0s":void 0},children:d&&s})})});r8.displayName=n8;function i8(n,e){return`${n}-trigger-${e}`}function s8(n,e){return`${n}-content-${e}`}var DPe=H7,o8=J7,a8=t8,l8=r8;const YQ=DPe,Yb=E.forwardRef(({className:n,...e},t)=>p.jsx(o8,{ref:t,className:Le("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",n),...e}));Yb.displayName=o8.displayName;const so=E.forwardRef(({className:n,...e},t)=>p.jsx(a8,{ref:t,className:Le("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",n),...e}));so.displayName=a8.displayName;const oo=E.forwardRef(({className:n,...e},t)=>p.jsx(l8,{ref:t,className:Le("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...e}));oo.displayName=l8.displayName;function MPe(){const{user:n}=ai(),[e,t]=E.useState("snippets"),{data:r,isLoading:i}=yu({queryKey:["items",n==null?void 0:n.uid,e],queryFn:async()=>{if(!n)return[];const o=Yn(un(De,e),nn("userId","==",n.uid));return(await Hn(o)).docs.map(l=>({id:l.id,...l.data()}))},enabled:!!n,refetchOnMount:!0,staleTime:5e3}),s=()=>i?p.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(o=>p.jsx("div",{className:"h-[300px] rounded-lg bg-card animate-pulse"},o))}):r!=null&&r.length?p.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:r.map(o=>e==="snippets"?p.jsx(j7,{snippet:o,showActions:!1},o.id):e==="notes"?p.jsx(D7,{note:o,showActions:!1},o.id):p.jsx(Z7,{checklist:o,showActions:!1},o.id))}):p.jsx("div",{className:"text-center py-12",children:p.jsxs("p",{className:"text-muted-foreground",children:["No ",e," found. Create your first one using the buttons on the left."]})});return p.jsx(si,{children:p.jsx("div",{className:"space-y-4 relative",children:p.jsxs(YQ,{defaultValue:"snippets",onValueChange:t,children:[p.jsxs(Yb,{children:[p.jsx(so,{value:"snippets",children:"Snippets"}),p.jsx(so,{value:"notes",children:"Notes"}),p.jsx(so,{value:"checklists",children:"Checklists"})]}),p.jsxs(oo,{value:"snippets",className:"mt-6",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsx("h2",{className:"text-xl font-semibold",children:"Your Snippets"}),p.jsx(oa,{type:"snippet",trigger:p.jsxs(se,{className:"flex items-center gap-1",children:[p.jsx(om,{className:"h-4 w-4"})," New Snippet"]})})]}),s()]}),p.jsxs(oo,{value:"notes",className:"mt-6",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsx("h2",{className:"text-xl font-semibold",children:"Your Notes"}),p.jsx(oa,{type:"note",trigger:p.jsxs(se,{className:"flex items-center gap-1",children:[p.jsx(om,{className:"h-4 w-4"})," New Note"]})})]}),s()]}),p.jsxs(oo,{value:"checklists",className:"mt-6",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsx("h2",{className:"text-xl font-semibold",children:"Your Checklists"}),p.jsx(oa,{type:"checklist",trigger:p.jsxs(se,{className:"flex items-center gap-1",children:[p.jsx(om,{className:"h-4 w-4"})," New Checklist"]})})]}),s()]})]})})})}const VPe=at.object({email:at.string().email(),password:at.string().min(6)});function LPe(){const[n,e]=E.useState("login"),[,t]=Ma(),{toast:r}=oi(),i=Sb({resolver:kb(VPe),defaultValues:{email:"",password:""}}),s=async o=>{try{n==="login"?(await ice(o.email,o.password),t("/")):n==="register"?(await sce(o.email,o.password),t("/")):n==="reset"&&(await ace(o.email),r({title:"Password reset email sent",description:"Check your email for further instructions"}),e("login"))}catch(a){const l=a.message.replace("Firebase:","Authentication");console.log(l),r({variant:"destructive",title:"Error",description:l})}};return p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:p.jsxs(Mr,{className:"w-full max-w-md",children:[p.jsx(Ai,{children:p.jsx(uu,{children:n==="login"?"Sign In":n==="register"?"Create Account":"Reset Password"})}),p.jsxs(Vr,{children:[p.jsx(fg,{...i,children:p.jsxs("form",{onSubmit:i.handleSubmit(s),className:"space-y-4",children:[p.jsx(Kn,{control:i.control,name:"email",render:({field:o})=>p.jsxs(Dn,{children:[p.jsx(yn,{children:"Email"}),p.jsx(Tn,{children:p.jsx(Un,{placeholder:"Email",...o})}),p.jsx(Mn,{})]})}),n!=="reset"&&p.jsx(Kn,{control:i.control,name:"password",render:({field:o})=>p.jsxs(Dn,{children:[p.jsx(yn,{children:"Password"}),p.jsx(Tn,{children:p.jsx(Un,{type:"password",placeholder:"Password",...o})}),p.jsx(Mn,{})]})}),p.jsx(se,{type:"submit",className:"w-full",children:n==="login"?"Sign In":n==="register"?"Create Account":"Reset Password"})]})}),p.jsx("div",{className:"mt-4 text-center text-sm",children:n==="login"?p.jsxs(p.Fragment,{children:[p.jsx(se,{variant:"link",onClick:()=>e("register"),children:"Need an account? Sign up"}),p.jsx(se,{variant:"link",onClick:()=>e("reset"),children:"Forgot password?"})]}):p.jsx(se,{variant:"link",onClick:()=>e("login"),children:"Already have an account? Sign in"})})]})]})})}var c8=["PageUp","PageDown"],u8=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],h8={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},$f="Slider",[WC,zPe,UPe]=zx($f),[d8,PAe]=xc($f,[UPe]),[ZPe,Hb]=d8($f),f8=E.forwardRef((n,e)=>{const{name:t,min:r=0,max:i=100,step:s=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:u,onValueChange:h=()=>{},onValueCommit:d=()=>{},inverted:m=!1,form:g,...y}=n,v=E.useRef(new Set),b=E.useRef(0),S=o==="horizontal"?qPe:BPe,[$=[],P]=Wl({prop:u,defaultProp:c,onChange:C=>{var R;(R=[...v.current][b.current])==null||R.focus(),h(C)}}),Q=E.useRef($);function O(C){const w=YPe($,C);A(C,w)}function _(C){A(C,b.current)}function k(){const C=Q.current[b.current];$[b.current]!==C&&d($)}function A(C,w,{commit:R}={commit:!1}){const j=eCe(s),V=tCe(Math.round((C-r)/s)*s+r,j),M=Km(V,[r,i]);P((q=[])=>{const U=XPe(q,M,w);if(JPe(U,l*s)){b.current=U.indexOf(M);const Z=String(U)!==String(q);return Z&&R&&d(U),Z?U:q}else return q})}return p.jsx(ZPe,{scope:n.__scopeSlider,name:t,disabled:a,min:r,max:i,valueIndexToChangeRef:b,thumbs:v.current,values:$,orientation:o,form:g,children:p.jsx(WC.Provider,{scope:n.__scopeSlider,children:p.jsx(WC.Slot,{scope:n.__scopeSlider,children:p.jsx(S,{"aria-disabled":a,"data-disabled":a?"":void 0,...y,ref:e,onPointerDown:Pe(y.onPointerDown,()=>{a||(Q.current=$)}),min:r,max:i,inverted:m,onSlideStart:a?void 0:O,onSlideMove:a?void 0:_,onSlideEnd:a?void 0:k,onHomeKeyDown:()=>!a&&A(r,0,{commit:!0}),onEndKeyDown:()=>!a&&A(i,$.length-1,{commit:!0}),onStepKeyDown:({event:C,direction:w})=>{if(!a){const V=c8.includes(C.key)||C.shiftKey&&u8.includes(C.key)?10:1,M=b.current,q=$[M],U=s*V*w;A(q+U,M,{commit:!0})}}})})})})});f8.displayName=$f;var[p8,m8]=d8($f,{startEdge:"left",endEdge:"right",size:"width",direction:1}),qPe=E.forwardRef((n,e)=>{const{min:t,max:r,dir:i,inverted:s,onSlideStart:o,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...u}=n,[h,d]=E.useState(null),m=nt(e,S=>d(S)),g=E.useRef(),y=bO(i),v=y==="ltr",b=v&&!s||!v&&s;function x(S){const $=g.current||h.getBoundingClientRect(),P=[0,$.width],O=HQ(P,b?[t,r]:[r,t]);return g.current=$,O(S-$.left)}return p.jsx(p8,{scope:n.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:p.jsx(g8,{dir:y,"data-orientation":"horizontal",...u,ref:m,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:S=>{const $=x(S.clientX);o==null||o($)},onSlideMove:S=>{const $=x(S.clientX);a==null||a($)},onSlideEnd:()=>{g.current=void 0,l==null||l()},onStepKeyDown:S=>{const P=h8[b?"from-left":"from-right"].includes(S.key);c==null||c({event:S,direction:P?-1:1})}})})}),BPe=E.forwardRef((n,e)=>{const{min:t,max:r,inverted:i,onSlideStart:s,onSlideMove:o,onSlideEnd:a,onStepKeyDown:l,...c}=n,u=E.useRef(null),h=nt(e,u),d=E.useRef(),m=!i;function g(y){const v=d.current||u.current.getBoundingClientRect(),b=[0,v.height],S=HQ(b,m?[r,t]:[t,r]);return d.current=v,S(y-v.top)}return p.jsx(p8,{scope:n.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:p.jsx(g8,{"data-orientation":"vertical",...c,ref:h,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:y=>{const v=g(y.clientY);s==null||s(v)},onSlideMove:y=>{const v=g(y.clientY);o==null||o(v)},onSlideEnd:()=>{d.current=void 0,a==null||a()},onStepKeyDown:y=>{const b=h8[m?"from-bottom":"from-top"].includes(y.key);l==null||l({event:y,direction:b?-1:1})}})})}),g8=E.forwardRef((n,e)=>{const{__scopeSlider:t,onSlideStart:r,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:l,...c}=n,u=Hb($f,t);return p.jsx(Qe.span,{...c,ref:e,onKeyDown:Pe(n.onKeyDown,h=>{h.key==="Home"?(o(h),h.preventDefault()):h.key==="End"?(a(h),h.preventDefault()):c8.concat(u8).includes(h.key)&&(l(h),h.preventDefault())}),onPointerDown:Pe(n.onPointerDown,h=>{const d=h.target;d.setPointerCapture(h.pointerId),h.preventDefault(),u.thumbs.has(d)?d.focus():r(h)}),onPointerMove:Pe(n.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&i(h)}),onPointerUp:Pe(n.onPointerUp,h=>{const d=h.target;d.hasPointerCapture(h.pointerId)&&(d.releasePointerCapture(h.pointerId),s(h))})})}),O8="SliderTrack",y8=E.forwardRef((n,e)=>{const{__scopeSlider:t,...r}=n,i=Hb(O8,t);return p.jsx(Qe.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});y8.displayName=O8;var XC="SliderRange",v8=E.forwardRef((n,e)=>{const{__scopeSlider:t,...r}=n,i=Hb(XC,t),s=m8(XC,t),o=E.useRef(null),a=nt(e,o),l=i.values.length,c=i.values.map(d=>x8(d,i.min,i.max)),u=l>1?Math.min(...c):0,h=100-Math.max(...c);return p.jsx(Qe.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:a,style:{...n.style,[s.startEdge]:u+"%",[s.endEdge]:h+"%"}})});v8.displayName=XC;var GC="SliderThumb",w8=E.forwardRef((n,e)=>{const t=zPe(n.__scopeSlider),[r,i]=E.useState(null),s=nt(e,a=>i(a)),o=E.useMemo(()=>r?t().findIndex(a=>a.ref.current===r):-1,[t,r]);return p.jsx(FPe,{...n,ref:s,index:o})}),FPe=E.forwardRef((n,e)=>{const{__scopeSlider:t,index:r,name:i,...s}=n,o=Hb(GC,t),a=m8(GC,t),[l,c]=E.useState(null),u=nt(e,x=>c(x)),h=l?o.form||!!l.closest("form"):!0,d=VQ(l),m=o.values[r],g=m===void 0?0:x8(m,o.min,o.max),y=GPe(r,o.values.length),v=d==null?void 0:d[a.size],b=v?HPe(v,g,a.direction):0;return E.useEffect(()=>{if(l)return o.thumbs.add(l),()=>{o.thumbs.delete(l)}},[l,o.thumbs]),p.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${g}% + ${b}px)`},children:[p.jsx(WC.ItemSlot,{scope:n.__scopeSlider,children:p.jsx(Qe.span,{role:"slider","aria-label":n["aria-label"]||y,"aria-valuemin":o.min,"aria-valuenow":m,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...s,ref:u,style:m===void 0?{display:"none"}:n.style,onFocus:Pe(n.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),h&&p.jsx(WPe,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:m},r)]})});w8.displayName=GC;var WPe=n=>{const{value:e,...t}=n,r=E.useRef(null),i=UQ(e);return E.useEffect(()=>{const s=r.current,o=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(o,"value").set;if(i!==e&&l){const c=new Event("input",{bubbles:!0});l.call(s,e),s.dispatchEvent(c)}},[i,e]),p.jsx("input",{style:{display:"none"},...t,ref:r,defaultValue:e})};function XPe(n=[],e,t){const r=[...n];return r[t]=e,r.sort((i,s)=>i-s)}function x8(n,e,t){const s=100/(t-e)*(n-e);return Km(s,[0,100])}function GPe(n,e){return e>2?`Value ${n+1} of ${e}`:e===2?["Minimum","Maximum"][n]:void 0}function YPe(n,e){if(n.length===1)return 0;const t=n.map(i=>Math.abs(i-e)),r=Math.min(...t);return t.indexOf(r)}function HPe(n,e,t){const r=n/2,s=HQ([0,50],[0,r]);return(r-s(e)*t)*t}function KPe(n){return n.slice(0,-1).map((e,t)=>n[t+1]-e)}function JPe(n,e){if(e>0){const t=KPe(n);return Math.min(...t)>=e}return!0}function HQ(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(n[1]-n[0]);return e[0]+r*(t-n[0])}}function eCe(n){return(String(n).split(".")[1]||"").length}function tCe(n,e){const t=Math.pow(10,e);return Math.round(n*t)/t}var b8=f8,nCe=y8,rCe=v8,iCe=w8;const S8=E.forwardRef(({className:n,...e},t)=>p.jsxs(b8,{ref:t,className:Le("relative flex w-full touch-none select-none items-center",n),...e,children:[p.jsx(nCe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:p.jsx(rCe,{className:"absolute h-full bg-primary"})}),p.jsx(iCe,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));S8.displayName=b8.displayName;function sCe(){const{theme:n,setTheme:e}=rR(),[t,r]=E.useState("colors");return p.jsx("div",{className:"space-y-4",children:p.jsxs(YQ,{defaultValue:"colors",className:"w-full",onValueChange:i=>r(i),children:[p.jsxs(Yb,{className:"grid w-full grid-cols-2",children:[p.jsx(so,{value:"colors",children:"Color Themes"}),p.jsx(so,{value:"gradients",children:"Gradient Themes"})]}),p.jsx(oo,{value:"colors",className:"mt-4",children:p.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:Yq.map(i=>p.jsx(wL,{themeOption:i,isSelected:n===i.id,onClick:()=>e(i.id)},i.id))})}),p.jsx(oo,{value:"gradients",className:"mt-4",children:p.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:Hq.map(i=>p.jsx(wL,{themeOption:i,isSelected:n===i.id,onClick:()=>e(i.id)},i.id))})})]})})}function wL({themeOption:n,isSelected:e,onClick:t}){const{theme:r}=n;return p.jsxs(Mr,{className:`overflow-hidden cursor-pointer transition-all hover:scale-105 ${e?"ring-2 ring-primary":""}`,onClick:t,children:[p.jsxs("div",{className:"h-24 w-full relative",style:{background:(n.type==="gradient",r.preview.background)},children:[e&&p.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20",children:p.jsx(JE,{className:"h-8 w-8 text-white"})}),p.jsxs("div",{className:"absolute bottom-2 left-2 right-2 flex space-x-2",children:[p.jsx("div",{className:"h-6 w-6 rounded-full",style:{backgroundColor:r.preview.primary}}),p.jsx("div",{className:"h-6 w-6 rounded-full",style:{backgroundColor:r.preview.secondary}}),p.jsx("div",{className:"h-6 w-6 rounded-full",style:{backgroundColor:r.preview.accent}})]})]}),p.jsxs(Vr,{className:"p-3",children:[p.jsx("div",{className:"font-medium",children:n.name}),p.jsx("div",{className:"text-xs text-muted-foreground",children:n.description})]})]})}function oCe(){rR();const{fontSize:n,setFontSize:e}=Jq(),[,t]=Ma();ai();const{toast:r}=oi(),i=s=>{try{e(s[0])}catch{r({variant:"destructive",title:"Error",description:"Failed to update font size. Please try again."})}};return p.jsx(si,{children:p.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[p.jsxs("div",{className:"flex items-center mb-6",children:[p.jsxs(se,{variant:"ghost",onClick:()=>t("/"),className:"mr-4",children:[p.jsx(Vu,{className:"h-4 w-4 mr-2"}),"Back"]}),p.jsx("h1",{className:"text-2xl font-bold",children:"Settings"})]}),p.jsxs(Mr,{children:[p.jsx(Ai,{children:p.jsx(uu,{children:"Appearance"})}),p.jsxs(Vr,{className:"space-y-6",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsx(Md,{children:"Theme"}),p.jsx(sCe,{})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Md,{children:"Font Size"}),p.jsx(S8,{value:[n],max:20,min:12,step:1,className:"w-full",onValueChange:i})]})]})]})]})})}function aCe(){return p.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:p.jsx(Mr,{className:"w-full max-w-md mx-4",children:p.jsxs(Vr,{className:"pt-6",children:[p.jsxs("div",{className:"flex mb-4 gap-2",children:[p.jsx(UJ,{className:"h-8 w-8 text-red-500"}),p.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),p.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function lCe(){const{id:n}=cO(),[,e]=Ma(),{user:t}=ai(),[r,i]=E.useState(null),[s,o]=E.useState(!0),a=es(),{toast:l}=oi();E.useEffect(()=>{(async()=>{if(!(!n||!t))try{o(!0);const d=await xo(wt(De,"snippets",n));if(d.exists()){const m={id:d.id,...d.data()};m.userId===t.uid?i(m):(l({variant:"destructive",title:"Access denied",description:"You do not have permission to view this snippet."}),e("/"))}else l({variant:"destructive",title:"Not found",description:"The requested snippet could not be found."}),e("/")}catch(d){l({variant:"destructive",title:"Error",description:d.message||"Failed to load snippet"})}finally{o(!1)}})()},[n,t,e,l]);const c=async()=>{if(r)try{if(navigator.clipboard)await navigator.clipboard.writeText(r.content),l({title:"Copied!",description:"Snippet copied to clipboard"});else{const h=document.createElement("textarea");h.value=r.content,h.style.position="fixed",h.style.left="-999999px",h.style.top="-999999px",document.body.appendChild(h),h.focus(),h.select();const d=document.execCommand("copy");if(document.body.removeChild(h),d)l({title:"Copied!",description:"Snippet copied to clipboard"});else throw new Error("Fallback copy method failed")}}catch(h){console.error("Copy to clipboard failed:",h),l({variant:"destructive",title:"Error",description:h.message||"Failed to copy to clipboard. This may be due to permission restrictions in your browser."})}},u=async()=>{if(r)try{await qu(wt(De,"snippets",r.id)),a.invalidateQueries({queryKey:["items"]}),a.invalidateQueries({queryKey:["folder-items"]}),l({title:"Success",description:"Snippet deleted successfully"}),e("/")}catch(h){l({variant:"destructive",title:"Error",description:h.message||"Failed to delete snippet"})}};return s?p.jsx(si,{children:p.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[p.jsx("div",{className:"h-8 w-24 bg-muted animate-pulse rounded mb-4"}),p.jsx("div",{className:"h-12 w-3/4 bg-muted animate-pulse rounded mb-6"}),p.jsx("div",{className:"h-[400px] bg-muted animate-pulse rounded"})]})}):r?p.jsx(si,{children:p.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[p.jsxs("div",{className:"flex items-center mb-6",children:[p.jsxs(se,{variant:"ghost",onClick:()=>e("/"),className:"mr-4",children:[p.jsx(Vu,{className:"h-4 w-4 mr-2"}),"Back"]}),p.jsx("h1",{className:"text-2xl font-bold",children:"Snippet Details"})]}),p.jsxs(Mr,{className:"w-full",children:[p.jsxs(Ai,{className:"space-y-1",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("h3",{className:"text-xl font-semibold",children:r.title}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsx(se,{variant:"ghost",size:"icon",onClick:c,title:"Copy snippet to clipboard",children:p.jsx(qJ,{className:"h-4 w-4"})}),p.jsx(Qf,{type:"snippet",itemId:r.id,defaultValues:r,trigger:p.jsx(se,{variant:"ghost",size:"icon",title:"Edit snippet",children:p.jsx(mf,{className:"h-4 w-4"})}),onEdited:()=>{a.invalidateQueries({queryKey:["items"]}),a.invalidateQueries({queryKey:["folder-items"]}),xo(wt(De,"snippets",r.id)).then(h=>{h.exists()&&i({id:h.id,...h.data()})})}}),p.jsx(se,{variant:"ghost",size:"icon",onClick:u,title:"Delete snippet",children:p.jsx(gf,{className:"h-4 w-4"})})]})]}),r.description&&p.jsx("p",{className:"text-sm text-muted-foreground",children:r.description}),p.jsx("div",{className:"flex flex-wrap gap-2",children:r.tags.map(h=>p.jsx(Jt,{href:`/tags/${encodeURIComponent(h)}`,children:p.jsx(Ui,{variant:"secondary",className:"cursor-pointer hover:bg-secondary/70",children:h})},h))})]}),p.jsx(Vr,{children:p.jsx("div",{className:"rounded-md border overflow-auto",children:p.jsx(Ub,{value:r.content,language:r.language,readOnly:!0})})}),p.jsxs(Ac,{className:"text-sm text-muted-foreground",children:["Last updated: ",new Date(r.updatedAt).toLocaleDateString()]})]})]})}):p.jsx(si,{children:p.jsxs("div",{className:"max-w-4xl mx-auto p-4 text-center",children:[p.jsx("p",{children:"Snippet not found"}),p.jsx(se,{onClick:()=>e("/"),className:"mt-4",children:"Go back home"})]})})}function cCe(){const{id:n}=cO(),[,e]=Ma(),{user:t}=ai(),[r,i]=E.useState(null),[s,o]=E.useState(!0),a=es(),{toast:l}=oi();E.useEffect(()=>{(async()=>{if(!(!n||!t))try{o(!0);const d=await xo(wt(De,"notes",n));if(d.exists()){const m={id:d.id,...d.data()};m.userId===t.uid?(m.tags=m.tags||[],i(m)):(l({variant:"destructive",title:"Access denied",description:"You do not have permission to view this note."}),e("/"))}else l({variant:"destructive",title:"Not found",description:"The requested note could not be found."}),e("/")}catch(d){l({variant:"destructive",title:"Error",description:d.message||"Failed to load note"})}finally{o(!1)}})()},[n,t,e,l]);const c=async()=>{if(r)try{await qu(wt(De,"notes",r.id)),a.invalidateQueries({queryKey:["items"]}),a.invalidateQueries({queryKey:["folder-items"]}),l({title:"Success",description:"Note deleted successfully"}),e("/")}catch(h){l({variant:"destructive",title:"Error",description:h.message||"Failed to delete note"})}};if(s)return p.jsx(si,{children:p.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[p.jsx("div",{className:"h-8 w-24 bg-muted animate-pulse rounded mb-4"}),p.jsx("div",{className:"h-12 w-3/4 bg-muted animate-pulse rounded mb-6"}),p.jsx("div",{className:"h-[400px] bg-muted animate-pulse rounded"})]})});if(!r)return p.jsx(si,{children:p.jsxs("div",{className:"max-w-4xl mx-auto p-4 text-center",children:[p.jsx("p",{children:"Note not found"}),p.jsx(se,{onClick:()=>e("/"),className:"mt-4",children:"Go back home"})]})});const u=r.tags||[];return p.jsx(si,{children:p.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[p.jsxs("div",{className:"flex items-center mb-6",children:[p.jsxs(se,{variant:"ghost",onClick:()=>e("/"),className:"mr-4",children:[p.jsx(Vu,{className:"h-4 w-4 mr-2"}),"Back"]}),p.jsx("h1",{className:"text-2xl font-bold",children:"Note Details"})]}),p.jsxs(Mr,{className:"w-full",children:[p.jsxs(Ai,{className:"space-y-1",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("h3",{className:"text-xl font-semibold",children:r.title}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsx(Qf,{type:"note",itemId:r.id,defaultValues:{...r,tags:u},trigger:p.jsx(se,{variant:"ghost",size:"icon",title:"Edit note",children:p.jsx(mf,{className:"h-4 w-4"})}),onEdited:()=>{a.invalidateQueries({queryKey:["items"]}),a.invalidateQueries({queryKey:["folder-items"]}),xo(wt(De,"notes",r.id)).then(h=>{if(h.exists()){const d={id:h.id,...h.data()};d.tags=d.tags||[],i(d)}})}}),p.jsx(se,{variant:"ghost",size:"icon",onClick:c,title:"Delete note",children:p.jsx(gf,{className:"h-4 w-4"})})]})]}),r.description&&p.jsx("p",{className:"text-sm text-muted-foreground",children:r.description}),p.jsx("div",{className:"flex flex-wrap gap-2",children:u.map(h=>p.jsx(Jt,{href:`/tags/${encodeURIComponent(h)}`,children:p.jsx(Ui,{variant:"secondary",className:"cursor-pointer hover:bg-secondary/70",children:h})},h))})]}),p.jsx(Vr,{children:p.jsx("div",{className:"whitespace-pre-wrap rounded-md p-4 border",children:r.content})}),p.jsxs(Ac,{className:"text-sm text-muted-foreground",children:["Last updated: ",new Date(r.updatedAt).toLocaleDateString()]})]})]})})}function uCe(){const{id:n}=cO(),[,e]=Ma(),{user:t}=ai(),[r,i]=E.useState(null),[s,o]=E.useState([]),[a,l]=E.useState(!0),c=es(),{toast:u}=oi();E.useEffect(()=>{(async()=>{if(!(!n||!t))try{l(!0);const g=await xo(wt(De,"checklists",n));if(g.exists()){const y={id:g.id,...g.data()};y.userId===t.uid?(i(y),y.content&&o(JSON.parse(y.content))):(u({variant:"destructive",title:"Access denied",description:"You do not have permission to view this checklist."}),e("/"))}else u({variant:"destructive",title:"Not found",description:"The requested checklist could not be found."}),e("/")}catch(g){u({variant:"destructive",title:"Error",description:g.message||"Failed to load checklist"})}finally{l(!1)}})()},[n,t,e,u]);const h=async()=>{if(r)try{await qu(wt(De,"checklists",r.id)),c.invalidateQueries({queryKey:["items"]}),c.invalidateQueries({queryKey:["folder-items"]}),u({title:"Success",description:"Checklist deleted successfully"}),e("/")}catch(m){u({variant:"destructive",title:"Error",description:m.message||"Failed to delete checklist"})}},d=async m=>{if(r)try{const g=[...s];g[m].checked=!g[m].checked,o(g),await tc(wt(De,"checklists",r.id),{content:JSON.stringify(g),updatedAt:new Date().getTime()});const y={...r,content:JSON.stringify(g),updatedAt:new Date().getTime()};c.setQueryData(["items",t==null?void 0:t.uid,"checklists"],v=>v?v.map(b=>b.id===r.id?y:b):[y]),c.setQueryData(["folder-items",t==null?void 0:t.uid,"checklists"],v=>v?v.map(b=>b.id===r.id?y:b):[y]),c.invalidateQueries({queryKey:["items"]}),c.invalidateQueries({queryKey:["folder-items"]})}catch(g){u({variant:"destructive",title:"Error",description:g.message||"Failed to update item"})}};return a?p.jsx(si,{children:p.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[p.jsx("div",{className:"h-8 w-24 bg-muted animate-pulse rounded mb-4"}),p.jsx("div",{className:"h-12 w-3/4 bg-muted animate-pulse rounded mb-6"}),p.jsx("div",{className:"h-[400px] bg-muted animate-pulse rounded"})]})}):r?p.jsx(si,{children:p.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[p.jsxs("div",{className:"flex items-center mb-6",children:[p.jsxs(se,{variant:"ghost",onClick:()=>e("/"),className:"mr-4",children:[p.jsx(Vu,{className:"h-4 w-4 mr-2"}),"Back"]}),p.jsx("h1",{className:"text-2xl font-bold",children:"Checklist Details"})]}),p.jsxs(Mr,{className:"w-full",children:[p.jsxs(Ai,{className:"space-y-1",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("h3",{className:"text-xl font-semibold",children:r.title}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsx(Qf,{type:"checklist",itemId:r.id,defaultValues:r,trigger:p.jsx(se,{variant:"ghost",size:"icon",title:"Edit checklist",children:p.jsx(mf,{className:"h-4 w-4"})}),onEdited:()=>{c.invalidateQueries({queryKey:["items"]}),c.invalidateQueries({queryKey:["folder-items"]}),xo(wt(De,"checklists",r.id)).then(m=>{if(m.exists()){const g={id:m.id,...m.data()};i(g),g.content&&o(JSON.parse(g.content))}})}}),p.jsx(se,{variant:"ghost",size:"icon",onClick:h,title:"Delete checklist",children:p.jsx(gf,{className:"h-4 w-4"})})]})]}),r.description&&p.jsx("p",{className:"text-sm text-muted-foreground",children:r.description}),p.jsx("div",{className:"flex flex-wrap gap-2",children:r.tags.map(m=>p.jsx(Jt,{href:`/tags/${encodeURIComponent(m)}`,children:p.jsx(Ui,{variant:"secondary",className:"cursor-pointer hover:bg-secondary/70",children:m})},m))})]}),p.jsx(Vr,{children:p.jsx("div",{className:"rounded-md border p-4",children:s.length===0?p.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No items in this checklist"}):p.jsx("div",{className:"space-y-2",children:s.map((m,g)=>p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(WQ,{id:`item-${g}`,checked:m.checked,onCheckedChange:()=>d(g)}),p.jsx("label",{htmlFor:`item-${g}`,className:`text-sm ${m.checked?"line-through text-muted-foreground":""}`,children:m.text})]},g))})})}),p.jsxs(Ac,{className:"text-sm text-muted-foreground",children:["Last updated: ",new Date(r.updatedAt).toLocaleDateString()]})]})]})}):p.jsx(si,{children:p.jsxs("div",{className:"max-w-4xl mx-auto p-4 text-center",children:[p.jsx("p",{children:"Checklist not found"}),p.jsx(se,{onClick:()=>e("/"),className:"mt-4",children:"Go back home"})]})})}function hCe(){const{tag:n}=cO(),[,e]=Ma(),{user:t}=ai(),{toast:r}=oi(),[i,s]=E.useState(!0),[o,a]=E.useState([]),[l,c]=E.useState([]),[u,h]=E.useState([]),[d,m]=E.useState("all");E.useEffect(()=>{(async()=>{if(!(!t||!n))try{s(!0);const v=decodeURIComponent(n),b=Yn(un(De,"snippets"),nn("userId","==",t.uid),nn("tags","array-contains",v)),S=(await Hn(b)).docs.map(A=>({id:A.id,...A.data()}));a(S);const $=Yn(un(De,"notes"),nn("userId","==",t.uid),nn("tags","array-contains",v)),Q=(await Hn($)).docs.map(A=>({id:A.id,...A.data()}));c(Q);const O=Yn(un(De,"checklists"),nn("userId","==",t.uid),nn("tags","array-contains",v)),k=(await Hn(O)).docs.map(A=>({id:A.id,...A.data()}));h(k)}catch(v){console.error("Error fetching items by tag:",v),r({variant:"destructive",title:"Error",description:v.message||"Failed to load items"})}finally{s(!1)}})()},[t,n,r]);const g=()=>{if(i)return p.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(v=>p.jsx("div",{className:"h-[300px] rounded-lg bg-card animate-pulse"},v))});const y=[];return(d==="all"||d==="snippets")&&y.push(...o),(d==="all"||d==="notes")&&y.push(...l),(d==="all"||d==="checklists")&&y.push(...u),y.length===0?p.jsx("div",{className:"text-center py-12",children:p.jsxs("p",{className:"text-muted-foreground",children:['No items found with tag "',decodeURIComponent(n||""),'".']})}):p.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:y.map(v=>v.language?p.jsx(j7,{snippet:v},v.id):v.content&&typeof v.content=="string"&&!v.content.startsWith("[{")?p.jsx(D7,{note:v},v.id):p.jsx(Z7,{checklist:v},v.id))})};return p.jsx(si,{children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center mb-6",children:[p.jsxs(se,{variant:"ghost",onClick:()=>e("/"),className:"mr-4",children:[p.jsx(Vu,{className:"h-4 w-4 mr-2"}),"Back"]}),p.jsxs("h1",{className:"text-2xl font-bold",children:["Tag: ",decodeURIComponent(n||"")]})]}),p.jsxs(YQ,{defaultValue:"all",onValueChange:m,children:[p.jsxs(Yb,{children:[p.jsx(so,{value:"all",children:"All Items"}),p.jsxs(so,{value:"snippets",children:["Snippets (",o.length,")"]}),p.jsxs(so,{value:"notes",children:["Notes (",l.length,")"]}),p.jsxs(so,{value:"checklists",children:["Checklists (",u.length,")"]})]}),p.jsx(oo,{value:"all",className:"mt-6",children:g()}),p.jsx(oo,{value:"snippets",className:"mt-6",children:g()}),p.jsx(oo,{value:"notes",className:"mt-6",children:g()}),p.jsx(oo,{value:"checklists",className:"mt-6",children:g()})]})]})})}const dCe=at.object({name:at.string().min(1,"Project name is required"),description:at.string().optional()});function fCe(){const{user:n}=ai(),{toast:e}=oi(),t=es(),[r,i]=E.useState(!1),[s,o]=E.useState(!1),[a,l]=E.useState(!1),[c,u]=E.useState(null),h=Sb({resolver:kb(dCe),defaultValues:{name:"",description:""}}),{data:d,isLoading:m}=yu({queryKey:["projects",n==null?void 0:n.uid],queryFn:async()=>{if(!n)return[];const O=Yn(un(De,"projects"),nn("userId","==",n.uid));return(await Hn(O)).docs.map(k=>({id:k.id,...k.data()}))},enabled:!!n}),g=zS({mutationFn:async O=>{if(!n)throw new Error("You must be logged in to create a project");const _=Date.now(),k={...O,userId:n.uid,createdAt:_,updatedAt:_};return{id:(await Ow(un(De,"projects"),k)).id,...k}},onSuccess:O=>{t.invalidateQueries({queryKey:["projects"]}),e({title:"Success",description:"Project created successfully"}),i(!1),h.reset()},onError:O=>{e({variant:"destructive",title:"Error",description:O.message||"Failed to create project"})}}),y=zS({mutationFn:async O=>{if(!n)throw new Error("You must be logged in to update a project");const{id:_,...k}=O,A=wt(De,"projects",_);return await tc(A,{...k,updatedAt:Date.now()}),{id:_,...k}},onSuccess:()=>{t.invalidateQueries({queryKey:["projects"]}),e({title:"Success",description:"Project updated successfully"}),o(!1),u(null),h.reset()},onError:O=>{e({variant:"destructive",title:"Error",description:O.message||"Failed to update project"})}}),v=zS({mutationFn:async O=>{if(!n)throw new Error("You must be logged in to delete a project");const _=wt(De,"projects",O);return await qu(_),O},onSuccess:()=>{t.invalidateQueries({queryKey:["projects"]}),e({title:"Success",description:"Project deleted successfully"}),l(!1),u(null)},onError:O=>{e({variant:"destructive",title:"Error",description:O.message||"Failed to delete project"})}}),b=O=>{g.mutate(O)},x=O=>{c&&y.mutate({...O,id:c.id})},S=()=>{c&&v.mutate(c.id)},$=O=>{u(O),h.reset({name:O.name,description:O.description||""}),o(!0)},P=O=>{u(O),l(!0)},Q=()=>m?p.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(O=>p.jsx("div",{className:"h-[200px] rounded-lg bg-card animate-pulse"},O))}):d!=null&&d.length?p.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:d.map(O=>p.jsxs(Mr,{children:[p.jsxs(Ai,{children:[p.jsx(uu,{children:O.name}),O.description&&p.jsx(N7,{children:O.description})]}),p.jsx(Vr,{children:p.jsxs("p",{className:"text-sm text-muted-foreground",children:["Created: ",O.createdAt?new Date(typeof O.createdAt=="object"&&O.createdAt.seconds?O.createdAt.seconds*1e3:O.createdAt).toLocaleDateString():"N/A"]})}),p.jsxs(Ac,{className:"flex justify-end space-x-2",children:[p.jsxs(se,{variant:"outline",size:"sm",onClick:()=>$(O),children:[p.jsx(GJ,{className:"h-4 w-4 mr-2"}),"Edit"]}),p.jsxs(se,{variant:"destructive",size:"sm",onClick:()=>P(O),children:[p.jsx(YJ,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]},O.id))}):p.jsx("div",{className:"text-center py-12",children:p.jsx("p",{className:"text-muted-foreground",children:"No projects found. Create your first project using the button below."})});return p.jsx(si,{children:p.jsxs("div",{className:"space-y-4 relative",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h1",{className:"text-2xl font-bold",children:"Projects"}),p.jsxs(se,{onClick:()=>{h.reset(),i(!0)},children:[p.jsx(om,{className:"h-4 w-4 mr-2"}),"New Project"]})]}),Q(),p.jsx(mm,{open:r,onOpenChange:i,children:p.jsxs(Yh,{children:[p.jsxs(Hh,{children:[p.jsx(Kh,{children:"Create New Project"}),p.jsx(Jh,{children:"Add a new project to organize your snippets, notes, and checklists."})]}),p.jsx(fg,{...h,children:p.jsxs("form",{onSubmit:h.handleSubmit(b),className:"space-y-4",children:[p.jsx(Kn,{control:h.control,name:"name",render:({field:O})=>p.jsxs(Dn,{children:[p.jsx(yn,{children:"Name *"}),p.jsx(Tn,{children:p.jsx(Un,{placeholder:"Project name",...O})}),p.jsx(Mn,{})]})}),p.jsx(Kn,{control:h.control,name:"description",render:({field:O})=>p.jsxs(Dn,{children:[p.jsx(yn,{children:"Description"}),p.jsx(Tn,{children:p.jsx(pg,{placeholder:"Project description",...O})}),p.jsx(Mn,{})]})}),p.jsx(z0,{children:p.jsx(se,{type:"submit",disabled:g.isPending,children:g.isPending?"Creating...":"Create Project"})})]})})]})}),p.jsx(mm,{open:s,onOpenChange:o,children:p.jsxs(Yh,{children:[p.jsxs(Hh,{children:[p.jsx(Kh,{children:"Edit Project"}),p.jsx(Jh,{children:"Update your project details."})]}),p.jsx(fg,{...h,children:p.jsxs("form",{onSubmit:h.handleSubmit(x),className:"space-y-4",children:[p.jsx(Kn,{control:h.control,name:"name",render:({field:O})=>p.jsxs(Dn,{children:[p.jsx(yn,{children:"Name *"}),p.jsx(Tn,{children:p.jsx(Un,{placeholder:"Project name",...O})}),p.jsx(Mn,{})]})}),p.jsx(Kn,{control:h.control,name:"description",render:({field:O})=>p.jsxs(Dn,{children:[p.jsx(yn,{children:"Description"}),p.jsx(Tn,{children:p.jsx(pg,{placeholder:"Project description",...O})}),p.jsx(Mn,{})]})}),p.jsx(z0,{children:p.jsx(se,{type:"submit",disabled:y.isPending,children:y.isPending?"Updating...":"Update Project"})})]})})]})}),p.jsx(mm,{open:a,onOpenChange:l,children:p.jsxs(Yh,{children:[p.jsxs(Hh,{children:[p.jsx(Kh,{children:"Delete Project"}),p.jsx(Jh,{children:"Are you sure you want to delete this project? This action cannot be undone."})]}),p.jsxs(z0,{children:[p.jsx(se,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),p.jsx(se,{variant:"destructive",onClick:S,disabled:v.isPending,children:v.isPending?"Deleting...":"Delete Project"})]})]})})]})})}var KQ="Avatar",[pCe,CAe]=xc(KQ),[mCe,k8]=pCe(KQ),_8=E.forwardRef((n,e)=>{const{__scopeAvatar:t,...r}=n,[i,s]=E.useState("idle");return p.jsx(mCe,{scope:t,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:p.jsx(Qe.span,{...r,ref:e})})});_8.displayName=KQ;var T8="AvatarImage",P8=E.forwardRef((n,e)=>{const{__scopeAvatar:t,src:r,onLoadingStatusChange:i=()=>{},...s}=n,o=k8(T8,t),a=gCe(r,s.referrerPolicy),l=sn(c=>{i(c),o.onImageLoadingStatusChange(c)});return $n(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?p.jsx(Qe.img,{...s,ref:e,src:r}):null});P8.displayName=T8;var C8="AvatarFallback",E8=E.forwardRef((n,e)=>{const{__scopeAvatar:t,delayMs:r,...i}=n,s=k8(C8,t),[o,a]=E.useState(r===void 0);return E.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&s.imageLoadingStatus!=="loaded"?p.jsx(Qe.span,{...i,ref:e}):null});E8.displayName=C8;function gCe(n,e){const[t,r]=E.useState("idle");return $n(()=>{if(!n){r("error");return}let i=!0;const s=new window.Image,o=a=>()=>{i&&r(a)};return r("loading"),s.onload=o("loaded"),s.onerror=o("error"),s.src=n,e&&(s.referrerPolicy=e),()=>{i=!1}},[n,e]),t}var A8=_8,R8=P8,Q8=E8;const $8=E.forwardRef(({className:n,...e},t)=>p.jsx(A8,{ref:t,className:Le("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",n),...e}));$8.displayName=A8.displayName;const I8=E.forwardRef(({className:n,...e},t)=>p.jsx(R8,{ref:t,className:Le("aspect-square h-full w-full",n),...e}));I8.displayName=R8.displayName;const N8=E.forwardRef(({className:n,...e},t)=>p.jsx(Q8,{ref:t,className:Le("flex h-full w-full items-center justify-center rounded-full bg-muted",n),...e}));N8.displayName=Q8.displayName;function OCe(){const[,n]=Ma(),{user:e}=ai(),{toast:t}=oi(),[r,i]=E.useState(""),[s,o]=E.useState(""),[a,l]=E.useState(null),[c,u]=E.useState(!1),[h,d]=E.useState(!1),m=E.useRef(null);E.useEffect(()=>{(async()=>{if(e)try{const S=await xo(wt(De,"users",e.uid));if(S.exists()){const $=S.data();o($.email||""),i($.displayName||""),l($.profileUrl||null)}}catch(S){console.error("Error fetching user profile:",S),t({variant:"destructive",title:"Error",description:"Failed to load profile information."})}})()},[e,t]);const g=async x=>{if(!e||!x.target.files||x.target.files.length===0)return;const S=x.target.files[0],$=Gq(),P=Jle($,`profile-pics/${e.uid}`);try{u(!0),await Hle(P,S);const Q=await Kle(P);await tc(wt(De,"users",e.uid),{profileUrl:Q}),l(Q),t({title:"Success",description:"Profile picture updated successfully."})}catch(Q){console.error("Error uploading profile picture:",Q),t({variant:"destructive",title:"Error",description:"Failed to upload profile picture."})}finally{u(!1)}},y=async()=>{if(e)try{await tc(wt(De,"users",e.uid),{displayName:r}),d(!1),t({title:"Success",description:"Display name updated successfully."})}catch(x){console.error("Error updating display name:",x),t({variant:"destructive",title:"Error",description:"Failed to update display name."})}},v=async()=>{if(!(!e||!s))try{await fetch(`/api/reset-password?email=${encodeURIComponent(s)}`,{method:"POST"}),t({title:"Password Reset Email Sent",description:"Check your email for instructions to reset your password."})}catch(x){console.error("Error sending password reset:",x),t({variant:"destructive",title:"Error",description:"Failed to send password reset email."})}},b=async()=>{try{await oce(),t({title:"Signed Out",description:"You have been successfully signed out."}),n("/auth")}catch(x){console.error("Error signing out:",x),t({variant:"destructive",title:"Error",description:"Failed to sign out."})}};return p.jsx(si,{children:p.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[p.jsxs("div",{className:"flex items-center mb-6",children:[p.jsxs(se,{variant:"ghost",onClick:()=>n("/"),className:"mr-4",children:[p.jsx(Vu,{className:"h-4 w-4 mr-2"}),"Back"]}),p.jsx("h1",{className:"text-2xl font-bold",children:"Profile"})]}),p.jsxs(Mr,{className:"overflow-hidden",children:[p.jsx(Ai,{className:"pb-0",children:p.jsx(uu,{children:"Profile Picture"})}),p.jsx(Vr,{className:"pt-6",children:p.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[p.jsxs("div",{className:"relative group",children:[p.jsxs($8,{className:"h-24 w-24 border-2 border-primary/20",children:[a?p.jsx(I8,{src:a,alt:"Profile"}):p.jsx(N8,{className:"bg-primary/10 text-primary text-xl",children:r?r.charAt(0).toUpperCase():p.jsx(KJ,{})}),p.jsx("div",{className:"absolute inset-0 bg-black/30 rounded-full opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center cursor-pointer",onClick:()=>{var x;return(x=m.current)==null?void 0:x.click()},children:p.jsx(LJ,{className:"h-8 w-8 text-white"})})]}),p.jsx("input",{type:"file",ref:m,className:"hidden",accept:"image/*",onChange:g})]}),p.jsxs(se,{variant:"outline",size:"sm",onClick:()=>{var x;return(x=m.current)==null?void 0:x.click()},disabled:c,className:"flex items-center gap-2",children:[p.jsx(HJ,{className:"h-4 w-4"}),c?"Uploading...":"Upload New Picture"]})]})})]}),p.jsxs(Mr,{children:[p.jsx(Ai,{children:p.jsx(uu,{children:"Account Information"})}),p.jsxs(Vr,{className:"space-y-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Md,{htmlFor:"display-name",children:"Display Name"}),p.jsx("div",{className:"flex items-center gap-2",children:h?p.jsxs(p.Fragment,{children:[p.jsx(Un,{id:"display-name",value:r,onChange:x=>i(x.target.value),className:"flex-1"}),p.jsx(se,{onClick:y,size:"sm",children:"Save"}),p.jsx(se,{variant:"outline",size:"sm",onClick:()=>d(!1),children:"Cancel"})]}):p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"flex-1 py-2 px-3 border rounded-md bg-muted/30",children:r||"No display name set"}),p.jsx(se,{variant:"ghost",size:"icon",onClick:()=>d(!0),children:p.jsx(FJ,{className:"h-4 w-4"})})]})})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Md,{htmlFor:"email",children:"Email"}),p.jsx("div",{className:"py-2 px-3 border rounded-md bg-muted/30",children:s})]}),p.jsxs("div",{className:"pt-2",children:[p.jsx(se,{variant:"outline",onClick:v,className:"w-full sm:w-auto",children:"Reset Password"}),p.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"A password reset link will be sent to your email address."})]})]})]}),p.jsxs(Mr,{className:"border-destructive/20",children:[p.jsx(Ai,{children:p.jsx(uu,{children:"Sign Out"})}),p.jsxs(Vr,{children:[p.jsxs(se,{variant:"destructive",onClick:b,className:"w-full sm:w-auto flex items-center gap-2",children:[p.jsx(BJ,{className:"h-4 w-4"}),"Sign Out"]}),p.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"You will be redirected to the login page after signing out."})]})]})]})})}function Ya({component:n}){const{user:e,isLoading:t}=ai(),[,r]=Ma();return E.useEffect(()=>{!t&&!e&&r("/auth")},[e,t,r]),t?p.jsx("div",{children:"Loading..."}):e?p.jsx(n,{}):null}function yCe(){return p.jsxs(zK,{children:[p.jsx(Ms,{path:"/auth",component:LPe}),p.jsx(Ms,{path:"/",component:()=>p.jsx(Ya,{component:MPe})}),p.jsx(Ms,{path:"/settings",component:()=>p.jsx(Ya,{component:oCe})}),p.jsx(Ms,{path:"/projects",component:()=>p.jsx(Ya,{component:fCe})}),p.jsx(Ms,{path:"/profile",component:()=>p.jsx(Ya,{component:OCe})}),p.jsx(Ms,{path:"/snippets/:id",component:()=>p.jsx(Ya,{component:lCe})}),p.jsx(Ms,{path:"/notes/:id",component:()=>p.jsx(Ya,{component:cCe})}),p.jsx(Ms,{path:"/checklists/:id",component:()=>p.jsx(Ya,{component:uCe})}),p.jsx(Ms,{path:"/tags/:tag",component:()=>p.jsx(Ya,{component:hCe})}),p.jsx(Ms,{component:aCe})]})}function vCe(){return rR(),Jq(),p.jsxs(p.Fragment,{children:[p.jsx(yCe,{}),p.jsx(Nee,{})]})}B5(document.getElementById("root")).render(p.jsx(JH,{client:sz,children:p.jsx(vCe,{})}));
